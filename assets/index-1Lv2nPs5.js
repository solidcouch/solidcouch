var EW=Object.defineProperty;var JM=e=>{throw TypeError(e)};var CW=(e,t,n)=>t in e?EW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yS=(e,t,n)=>CW(e,typeof t!="symbol"?t+"":t,n),vS=(e,t,n)=>t.has(e)||JM("Cannot "+n);var Qe=(e,t,n)=>(vS(e,t,"read from private field"),n?n.call(e):t.get(e)),Yt=(e,t,n)=>t.has(e)?JM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),kt=(e,t,n,r)=>(vS(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cn=(e,t,n)=>(vS(e,t,"access private method"),n);var Iv=(e,t,n,r)=>({set _(i){kt(e,t,i,n)},get _(){return Qe(e,t,r)}});function TW(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var _S={exports:{}},qp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM;function AW(){if(YM)return qp;YM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return qp.Fragment=t,qp.jsx=n,qp.jsxs=n,qp}var XM;function RW(){return XM||(XM=1,_S.exports=AW()),_S.exports}var H=RW(),Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vf=typeof window>"u"||"Deno"in globalThis;function mo(){}function PW(e,t){return typeof e=="function"?e(t):e}function LA(e){return typeof e=="number"&&e>=0&&e!==1/0}function HU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $d(e,t){return typeof e=="function"?e(t):e}function No(e,t){return typeof e=="function"?e(t):e}function eD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==aP(o,t.options))return!1}else if(!bm(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function tD(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(_f(t.options.mutationKey)!==_f(a))return!1}else if(!bm(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function aP(e,t){return((t==null?void 0:t.queryKeyHashFn)||_f)(e)}function _f(e){return JSON.stringify(e,(t,n)=>IA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!bm(e[n],t[n])):!1}function oP(e,t){if(e===t)return e;const n=nD(e)&&nD(t);if(n||IA(e)&&IA(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,l++):(s[d]=oP(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&l++)}return i===o&&l===i?e:s}return t}function k0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function IA(e){if(!rD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rD(e){return Object.prototype.toString.call(e)==="[object Object]"}function OW(e){return new Promise(t=>{setTimeout(t,e)})}function MA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?oP(e,t):t}function LW(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function IW(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var VU=Symbol();function KU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===VU?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var of,Ll,Jd,LU,MW=(LU=class extends Rf{constructor(){super();Yt(this,of);Yt(this,Ll);Yt(this,Jd);kt(this,Jd,t=>{if(!vf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,Ll)||this.setEventListener(Qe(this,Jd))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,Ll))==null||t.call(this),kt(this,Ll,void 0))}setEventListener(t){var n;kt(this,Jd,t),(n=Qe(this,Ll))==null||n.call(this),kt(this,Ll,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Qe(this,of)!==t&&(kt(this,of,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Qe(this,of)=="boolean"?Qe(this,of):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},of=new WeakMap,Ll=new WeakMap,Jd=new WeakMap,LU),sP=new MW,Yd,Il,Xd,IU,DW=(IU=class extends Rf{constructor(){super();Yt(this,Yd,!0);Yt(this,Il);Yt(this,Xd);kt(this,Xd,t=>{if(!vf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,Il)||this.setEventListener(Qe(this,Xd))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,Il))==null||t.call(this),kt(this,Il,void 0))}setEventListener(t){var n;kt(this,Xd,t),(n=Qe(this,Il))==null||n.call(this),kt(this,Il,t(this.setOnline.bind(this)))}setOnline(t){Qe(this,Yd)!==t&&(kt(this,Yd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Qe(this,Yd)}},Yd=new WeakMap,Il=new WeakMap,Xd=new WeakMap,IU),N0=new DW;function DA(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function kW(e){return Math.min(1e3*2**e,3e4)}function GU(e){return(e??"online")==="online"?N0.isOnline():!0}var WU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wS(e){return e instanceof WU}function QU(e){let t=!1,n=0,r=!1,i;const a=DA(),o=_=>{var x;r||(m(new WU(_)),(x=e.abort)==null||x.call(e))},s=()=>{t=!0},l=()=>{t=!1},c=()=>sP.isFocused()&&(e.networkMode==="always"||N0.isOnline())&&e.canRun(),d=()=>GU(e.networkMode)&&e.canRun(),h=_=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,_),i==null||i(),a.resolve(_))},m=_=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,_),i==null||i(),a.reject(_))},y=()=>new Promise(_=>{var x;i=b=>{(r||c())&&_(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var _;i=void 0,r||(_=e.onContinue)==null||_.call(e)}),v=()=>{if(r)return;let _;const x=n===0?e.initialPromise:void 0;try{_=x??e.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(h).catch(b=>{var D;if(r)return;const S=e.retry??(vf?0:3),A=e.retryDelay??kW,P=typeof A=="function"?A(n,b):A,O=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,b);if(t||!O){m(b);return}n++,(D=e.onFail)==null||D.call(e,n,b),OW(P).then(()=>c()?void 0:y()).then(()=>{t?m(b):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():y().then(v),a)}}function NW(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Br=NW(),sf,MU,ZU=(MU=class{constructor(){Yt(this,sf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LA(this.gcTime)&&kt(this,sf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vf?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,sf)&&(clearTimeout(Qe(this,sf)),kt(this,sf,void 0))}},sf=new WeakMap,MU),eh,th,go,Vi,Wm,uf,Do,pu,DU,FW=(DU=class extends ZU{constructor(t){super();Yt(this,Do);Yt(this,eh);Yt(this,th);Yt(this,go);Yt(this,Vi);Yt(this,Wm);Yt(this,uf);kt(this,uf,!1),kt(this,Wm,t.defaultOptions),this.setOptions(t.options),this.observers=[],kt(this,go,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kt(this,eh,jW(this.options)),this.state=t.state??Qe(this,eh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Qe(this,Vi))==null?void 0:t.promise}setOptions(t){this.options={...Qe(this,Wm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,go).remove(this)}setData(t,n){const r=MA(this.state.data,t,this.options);return cn(this,Do,pu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){cn(this,Do,pu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Qe(this,Vi))==null?void 0:r.promise;return(i=Qe(this,Vi))==null||i.cancel(t),n?n.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,eh))}isActive(){return this.observers.some(t=>No(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!HU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Vi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Vi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Qe(this,go).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Qe(this,Vi)&&(Qe(this,uf)?Qe(this,Vi).cancel({revert:!0}):Qe(this,Vi).cancelRetry()),this.scheduleGc()),Qe(this,go).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,Do,pu).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Vi))return Qe(this,Vi).continueRetry(),Qe(this,Vi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(kt(this,uf,!0),r.signal)})},a=()=>{const h=KU(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),kt(this,uf,!1),this.options.persister?this.options.persister(h,m,this):h(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),kt(this,th,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&cn(this,Do,pu).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const s=h=>{var m,y,v,_;wS(h)&&h.silent||cn(this,Do,pu).call(this,{type:"error",error:h}),wS(h)||((y=(m=Qe(this,go).config).onError)==null||y.call(m,h,this),(_=(v=Qe(this,go).config).onSettled)==null||_.call(v,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return kt(this,Vi,QU({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,y,v,_;if(h===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){s(x);return}(y=(m=Qe(this,go).config).onSuccess)==null||y.call(m,h,this),(_=(v=Qe(this,go).config).onSettled)==null||_.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(h,m)=>{cn(this,Do,pu).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{cn(this,Do,pu).call(this,{type:"pause"})},onContinue:()=>{cn(this,Do,pu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Qe(this,Vi).start()}},eh=new WeakMap,th=new WeakMap,go=new WeakMap,Vi=new WeakMap,Wm=new WeakMap,uf=new WeakMap,Do=new WeakSet,pu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...JU(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return wS(i)&&i.revert&&Qe(this,th)?{...Qe(this,th),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,go).notify({query:this,type:"updated",action:t})})},DU);function JU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jW(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ds,kU,$W=(kU=class extends Rf{constructor(t={}){super();Yt(this,ds);this.config=t,kt(this,ds,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??aP(i,n);let o=this.get(a);return o||(o=new FW({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Qe(this,ds).has(t.queryHash)||(Qe(this,ds).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Qe(this,ds).get(t.queryHash);n&&(t.destroy(),n===t&&Qe(this,ds).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Qe(this,ds).get(t)}getAll(){return[...Qe(this,ds).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>eD(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>eD(t,r)):n}notify(t){Br.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ds=new WeakMap,kU),hs,ua,lf,ps,bl,NU,UW=(NU=class extends ZU{constructor(t){super();Yt(this,ps);Yt(this,hs);Yt(this,ua);Yt(this,lf);this.mutationId=t.mutationId,kt(this,ua,t.mutationCache),kt(this,hs,[]),this.state=t.state||YU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Qe(this,hs).includes(t)||(Qe(this,hs).push(t),this.clearGcTimeout(),Qe(this,ua).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kt(this,hs,Qe(this,hs).filter(n=>n!==t)),this.scheduleGc(),Qe(this,ua).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Qe(this,hs).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,ua).remove(this))}continue(){var t;return((t=Qe(this,lf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,s,l,c,d,h,m,y,v,_,x,b,S,A,P,O,D,F;kt(this,lf,QU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,X)=>{cn(this,ps,bl).call(this,{type:"failed",failureCount:Q,error:X})},onPause:()=>{cn(this,ps,bl).call(this,{type:"pause"})},onContinue:()=>{cn(this,ps,bl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,ua).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,lf).canStart();try{if(!n){cn(this,ps,bl).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=Qe(this,ua).config).onMutate)==null?void 0:a.call(i,t,this));const X=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,t));X!==this.state.context&&cn(this,ps,bl).call(this,{type:"pending",context:X,variables:t,isPaused:r})}const Q=await Qe(this,lf).start();return await((c=(l=Qe(this,ua).config).onSuccess)==null?void 0:c.call(l,Q,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,Q,t,this.state.context)),await((y=(m=Qe(this,ua).config).onSettled)==null?void 0:y.call(m,Q,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,Q,null,t,this.state.context)),cn(this,ps,bl).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((b=(x=Qe(this,ua).config).onError)==null?void 0:b.call(x,Q,t,this.state.context,this)),await((A=(S=this.options).onError)==null?void 0:A.call(S,Q,t,this.state.context)),await((O=(P=Qe(this,ua).config).onSettled)==null?void 0:O.call(P,void 0,Q,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,Q,t,this.state.context)),Q}finally{cn(this,ps,bl).call(this,{type:"error",error:Q})}}finally{Qe(this,ua).runNext(this)}}},hs=new WeakMap,ua=new WeakMap,lf=new WeakMap,ps=new WeakSet,bl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Br.batch(()=>{Qe(this,hs).forEach(r=>{r.onMutationUpdate(t)}),Qe(this,ua).notify({mutation:this,type:"updated",action:t})})},NU);function YU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qa,Qm,FU,BW=(FU=class extends Rf{constructor(t={}){super();Yt(this,qa);Yt(this,Qm);this.config=t,kt(this,qa,new Map),kt(this,Qm,Date.now())}build(t,n,r){const i=new UW({mutationCache:this,mutationId:++Iv(this,Qm)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Mv(t),r=Qe(this,qa).get(n)??[];r.push(t),Qe(this,qa).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Mv(t);if(Qe(this,qa).has(n)){const i=(r=Qe(this,qa).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?Qe(this,qa).delete(n):Qe(this,qa).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Qe(this,qa).get(Mv(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Qe(this,qa).get(Mv(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Qe(this,qa).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>tD(n,r))}findAll(t={}){return this.getAll().filter(n=>tD(t,n))}notify(t){Br.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Br.batch(()=>Promise.all(t.map(n=>n.continue().catch(mo))))}},qa=new WeakMap,Qm=new WeakMap,FU);function Mv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function iD(e){return{onFetch:(t,n)=>{var d,h,m,y,v;const r=t.options,i=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const x=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},b=KU(t.options,t.fetchOptions),S=async(A,P,O)=>{if(_)return Promise.reject();if(P==null&&A.pages.length)return Promise.resolve(A);const D={queryKey:t.queryKey,pageParam:P,direction:O?"backward":"forward",meta:t.options.meta};x(D);const F=await b(D),{maxPages:Q}=t.options,X=O?IW:LW;return{pages:X(A.pages,F,Q),pageParams:X(A.pageParams,P,Q)}};if(i&&a.length){const A=i==="backward",P=A?qW:aD,O={pages:a,pageParams:o},D=P(r,O);s=await S(O,D,A)}else{const A=e??a.length;do{const P=l===0?o[0]??r.initialPageParam:aD(r,s);if(l>0&&P==null)break;s=await S(s,P),l++}while(l<A)}return s};t.options.persister?t.fetchFn=()=>{var _,x;return(x=(_=t.options).persister)==null?void 0:x.call(_,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function aD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function qW(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ur,Ml,Dl,nh,rh,kl,ih,ah,jU,zW=(jU=class{constructor(e={}){Yt(this,Ur);Yt(this,Ml);Yt(this,Dl);Yt(this,nh);Yt(this,rh);Yt(this,kl);Yt(this,ih);Yt(this,ah);kt(this,Ur,e.queryCache||new $W),kt(this,Ml,e.mutationCache||new BW),kt(this,Dl,e.defaultOptions||{}),kt(this,nh,new Map),kt(this,rh,new Map),kt(this,kl,0)}mount(){Iv(this,kl)._++,Qe(this,kl)===1&&(kt(this,ih,sP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,Ur).onFocus())})),kt(this,ah,N0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,Ur).onOnline())})))}unmount(){var e,t;Iv(this,kl)._--,Qe(this,kl)===0&&((e=Qe(this,ih))==null||e.call(this),kt(this,ih,void 0),(t=Qe(this,ah))==null||t.call(this),kt(this,ah,void 0))}isFetching(e){return Qe(this,Ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Qe(this,Ml).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,Ur).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Qe(this,Ur).build(this,n);return e.revalidateIfStale&&r.isStaleByTime($d(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Qe(this,Ur).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Qe(this,Ur).get(r.queryHash),a=i==null?void 0:i.state.data,o=PW(t,a);if(o!==void 0)return Qe(this,Ur).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Br.batch(()=>Qe(this,Ur).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,Ur).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Qe(this,Ur);Br.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Qe(this,Ur),r={type:"active",...e};return Br.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Br.batch(()=>Qe(this,Ur).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(mo).catch(mo)}invalidateQueries(e={},t={}){return Br.batch(()=>{if(Qe(this,Ur).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Br.batch(()=>Qe(this,Ur).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(mo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(mo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Qe(this,Ur).build(this,t);return n.isStaleByTime($d(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mo).catch(mo)}fetchInfiniteQuery(e){return e.behavior=iD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mo).catch(mo)}ensureInfiniteQueryData(e){return e.behavior=iD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return N0.isOnline()?Qe(this,Ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,Ur)}getMutationCache(){return Qe(this,Ml)}getDefaultOptions(){return Qe(this,Dl)}setDefaultOptions(e){kt(this,Dl,e)}setQueryDefaults(e,t){Qe(this,nh).set(_f(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Qe(this,nh).values()];let n={};return t.forEach(r=>{bm(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Qe(this,rh).set(_f(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Qe(this,rh).values()];let n={};return t.forEach(r=>{bm(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Qe(this,Dl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=aP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===VU&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Qe(this,Dl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Qe(this,Ur).clear(),Qe(this,Ml).clear()}},Ur=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,nh=new WeakMap,rh=new WeakMap,kl=new WeakMap,ih=new WeakMap,ah=new WeakMap,jU),Ea,jn,Zm,la,cf,oh,Nl,gs,Jm,sh,uh,ff,df,Fl,lh,tr,Jg,kA,NA,FA,jA,$A,UA,BA,XU,$U,uP=($U=class extends Rf{constructor(t,n){super();Yt(this,tr);Yt(this,Ea);Yt(this,jn);Yt(this,Zm);Yt(this,la);Yt(this,cf);Yt(this,oh);Yt(this,Nl);Yt(this,gs);Yt(this,Jm);Yt(this,sh);Yt(this,uh);Yt(this,ff);Yt(this,df);Yt(this,Fl);Yt(this,lh,new Set);this.options=n,kt(this,Ea,t),kt(this,gs,null),kt(this,Nl,DA()),this.options.experimental_prefetchInRender||Qe(this,Nl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,jn).addObserver(this),oD(Qe(this,jn),this.options)?cn(this,tr,Jg).call(this):this.updateResult(),cn(this,tr,jA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qA(Qe(this,jn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qA(Qe(this,jn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,cn(this,tr,$A).call(this),cn(this,tr,UA).call(this),Qe(this,jn).removeObserver(this)}setOptions(t,n){const r=this.options,i=Qe(this,jn);if(this.options=Qe(this,Ea).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof No(this.options.enabled,Qe(this,jn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");cn(this,tr,BA).call(this),Qe(this,jn).setOptions(this.options),r._defaulted&&!k0(this.options,r)&&Qe(this,Ea).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,jn),observer:this});const a=this.hasListeners();a&&sD(Qe(this,jn),i,this.options,r)&&cn(this,tr,Jg).call(this),this.updateResult(n),a&&(Qe(this,jn)!==i||No(this.options.enabled,Qe(this,jn))!==No(r.enabled,Qe(this,jn))||$d(this.options.staleTime,Qe(this,jn))!==$d(r.staleTime,Qe(this,jn)))&&cn(this,tr,kA).call(this);const o=cn(this,tr,NA).call(this);a&&(Qe(this,jn)!==i||No(this.options.enabled,Qe(this,jn))!==No(r.enabled,Qe(this,jn))||o!==Qe(this,Fl))&&cn(this,tr,FA).call(this,o)}getOptimisticResult(t){const n=Qe(this,Ea).getQueryCache().build(Qe(this,Ea),t),r=this.createResult(n,t);return VW(this,r)&&(kt(this,la,r),kt(this,oh,this.options),kt(this,cf,Qe(this,jn).state)),r}getCurrentResult(){return Qe(this,la)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){Qe(this,lh).add(t)}getCurrentQuery(){return Qe(this,jn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Qe(this,Ea).defaultQueryOptions(t),r=Qe(this,Ea).getQueryCache().build(Qe(this,Ea),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return cn(this,tr,Jg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,la)))}createResult(t,n){var F;const r=Qe(this,jn),i=this.options,a=Qe(this,la),o=Qe(this,cf),s=Qe(this,oh),c=t!==r?t.state:Qe(this,Zm),{state:d}=t;let h={...d},m=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),X=!Q&&oD(t,n),U=Q&&sD(t,r,n,i);(X||U)&&(h={...h,...JU(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:x}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===Qe(this,Jm))y=Qe(this,sh);else try{kt(this,Jm,n.select),y=n.select(h.data),y=MA(a==null?void 0:a.data,y,n),kt(this,sh,y),kt(this,gs,null)}catch(Q){kt(this,gs,Q)}else y=h.data;if(n.placeholderData!==void 0&&y===void 0&&x==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((F=Qe(this,uh))==null?void 0:F.state.data,Qe(this,uh)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),kt(this,gs,null)}catch(X){kt(this,gs,X)}Q!==void 0&&(x="success",y=MA(a==null?void 0:a.data,Q,n),m=!0)}Qe(this,gs)&&(v=Qe(this,gs),y=Qe(this,sh),_=Date.now(),x="error");const b=h.fetchStatus==="fetching",S=x==="pending",A=x==="error",P=S&&b,O=y!==void 0;return{status:x,fetchStatus:h.fetchStatus,isPending:S,isSuccess:x==="success",isError:A,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!S,isLoadingError:A&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&O,isStale:lP(t,n),refetch:this.refetch,promise:Qe(this,Nl)}}updateResult(t){const n=Qe(this,la),r=this.createResult(Qe(this,jn),this.options);if(kt(this,cf,Qe(this,jn).state),kt(this,oh,this.options),Qe(this,cf).data!==void 0&&kt(this,uh,Qe(this,jn)),k0(r,n))return;if(this.options.experimental_prefetchInRender){const o=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},s=()=>{const c=kt(this,Nl,r.promise=DA());o(c)},l=Qe(this,Nl);switch(l.status){case"pending":o(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&s();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&s();break}}kt(this,la,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!Qe(this,lh).size)return!0;const l=new Set(s??Qe(this,lh));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,la)).some(c=>{const d=c;return Qe(this,la)[d]!==n[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),cn(this,tr,XU).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&cn(this,tr,jA).call(this)}},Ea=new WeakMap,jn=new WeakMap,Zm=new WeakMap,la=new WeakMap,cf=new WeakMap,oh=new WeakMap,Nl=new WeakMap,gs=new WeakMap,Jm=new WeakMap,sh=new WeakMap,uh=new WeakMap,ff=new WeakMap,df=new WeakMap,Fl=new WeakMap,lh=new WeakMap,tr=new WeakSet,Jg=function(t){cn(this,tr,BA).call(this);let n=Qe(this,jn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(mo)),n},kA=function(){cn(this,tr,$A).call(this);const t=$d(this.options.staleTime,Qe(this,jn));if(vf||Qe(this,la).isStale||!LA(t))return;const r=HU(Qe(this,la).dataUpdatedAt,t)+1;kt(this,ff,setTimeout(()=>{Qe(this,la).isStale||this.updateResult()},r))},NA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,jn)):this.options.refetchInterval)??!1},FA=function(t){cn(this,tr,UA).call(this),kt(this,Fl,t),!(vf||No(this.options.enabled,Qe(this,jn))===!1||!LA(Qe(this,Fl))||Qe(this,Fl)===0)&&kt(this,df,setInterval(()=>{(this.options.refetchIntervalInBackground||sP.isFocused())&&cn(this,tr,Jg).call(this)},Qe(this,Fl)))},jA=function(){cn(this,tr,kA).call(this),cn(this,tr,FA).call(this,cn(this,tr,NA).call(this))},$A=function(){Qe(this,ff)&&(clearTimeout(Qe(this,ff)),kt(this,ff,void 0))},UA=function(){Qe(this,df)&&(clearInterval(Qe(this,df)),kt(this,df,void 0))},BA=function(){const t=Qe(this,Ea).getQueryCache().build(Qe(this,Ea),this.options);if(t===Qe(this,jn))return;const n=Qe(this,jn);kt(this,jn,t),kt(this,Zm,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},XU=function(t){Br.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Qe(this,la))}),Qe(this,Ea).getQueryCache().notify({query:Qe(this,jn),type:"observerResultsUpdated"})})},$U);function HW(e,t){return No(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oD(e,t){return HW(e,t)||e.state.data!==void 0&&qA(e,t,t.refetchOnMount)}function qA(e,t,n){if(No(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&lP(e,t)}return!1}function sD(e,t,n,r){return(e!==t||No(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&lP(e,n)}function lP(e,t){return No(t.enabled,e)!==!1&&e.isStaleByTime($d(t.staleTime,e))}function VW(e,t){return!k0(e.getCurrentResult(),t)}function uD(e,t){return e.filter(n=>!t.includes(n))}function KW(e,t,n){const r=e.slice(0);return r[t]=n,r}var hf,ko,ch,za,pf,Ym,Xm,eo,eB,zA,HA,VA,UU,GW=(UU=class extends Rf{constructor(t,n,r){super();Yt(this,eo);Yt(this,hf);Yt(this,ko);Yt(this,ch);Yt(this,za);Yt(this,pf);Yt(this,Ym);Yt(this,Xm);kt(this,hf,t),kt(this,ch,[]),kt(this,za,[]),kt(this,ko,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,za).forEach(t=>{t.subscribe(n=>{cn(this,eo,HA).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,za).forEach(t=>{t.destroy()})}setQueries(t,n,r){kt(this,ch,t),Br.batch(()=>{const i=Qe(this,za),a=cn(this,eo,zA).call(this,Qe(this,ch));a.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const o=a.map(c=>c.observer),s=o.map(c=>c.getCurrentResult()),l=o.some((c,d)=>c!==i[d]);i.length===o.length&&!l||(kt(this,za,o),kt(this,ko,s),this.hasListeners()&&(uD(i,o).forEach(c=>{c.destroy()}),uD(o,i).forEach(c=>{c.subscribe(d=>{cn(this,eo,HA).call(this,c,d)})}),cn(this,eo,VA).call(this)))})}getCurrentResult(){return Qe(this,ko)}getQueries(){return Qe(this,za).map(t=>t.getCurrentQuery())}getObservers(){return Qe(this,za)}getOptimisticResult(t,n){const r=cn(this,eo,zA).call(this,t),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>cn(this,eo,eB).call(this,a??i,n),()=>r.map((a,o)=>{const s=i[o];return a.defaultedQueryOptions.notifyOnChangeProps?s:a.observer.trackResult(s,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},hf=new WeakMap,ko=new WeakMap,ch=new WeakMap,za=new WeakMap,pf=new WeakMap,Ym=new WeakMap,Xm=new WeakMap,eo=new WeakSet,eB=function(t,n){return n?((!Qe(this,pf)||Qe(this,ko)!==Qe(this,Xm)||n!==Qe(this,Ym))&&(kt(this,Ym,n),kt(this,Xm,Qe(this,ko)),kt(this,pf,oP(Qe(this,pf),n(t)))),Qe(this,pf)):t},zA=function(t){const n=Qe(this,za),r=new Map(n.map(h=>[h.options.queryHash,h])),i=t.map(h=>Qe(this,hf).defaultQueryOptions(h)),a=i.flatMap(h=>{const m=r.get(h.queryHash);return m!=null?[{defaultedQueryOptions:h,observer:m}]:[]}),o=new Set(a.map(h=>h.defaultedQueryOptions.queryHash)),s=i.filter(h=>!o.has(h.queryHash)),l=h=>{const m=Qe(this,hf).defaultQueryOptions(h);return Qe(this,za).find(v=>v.options.queryHash===m.queryHash)??new uP(Qe(this,hf),m)},c=s.map(h=>({defaultedQueryOptions:h,observer:l(h)})),d=(h,m)=>i.indexOf(h.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(c).sort(d)},HA=function(t,n){const r=Qe(this,za).indexOf(t);r!==-1&&(kt(this,ko,KW(Qe(this,ko),r,n)),cn(this,eo,VA).call(this))},VA=function(){Br.batch(()=>{this.listeners.forEach(t=>{t(Qe(this,ko))})})},UU),jl,$l,Ca,yu,xu,f0,KA,BU,WW=(BU=class extends Rf{constructor(n,r){super();Yt(this,xu);Yt(this,jl);Yt(this,$l);Yt(this,Ca);Yt(this,yu);kt(this,jl,n),this.setOptions(r),this.bindMethods(),cn(this,xu,f0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,jl).defaultMutationOptions(n),k0(this.options,r)||Qe(this,jl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,Ca),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&_f(r.mutationKey)!==_f(this.options.mutationKey)?this.reset():((i=Qe(this,Ca))==null?void 0:i.state.status)==="pending"&&Qe(this,Ca).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,Ca))==null||n.removeObserver(this)}onMutationUpdate(n){cn(this,xu,f0).call(this),cn(this,xu,KA).call(this,n)}getCurrentResult(){return Qe(this,$l)}reset(){var n;(n=Qe(this,Ca))==null||n.removeObserver(this),kt(this,Ca,void 0),cn(this,xu,f0).call(this),cn(this,xu,KA).call(this)}mutate(n,r){var i;return kt(this,yu,r),(i=Qe(this,Ca))==null||i.removeObserver(this),kt(this,Ca,Qe(this,jl).getMutationCache().build(Qe(this,jl),this.options)),Qe(this,Ca).addObserver(this),Qe(this,Ca).execute(n)}},jl=new WeakMap,$l=new WeakMap,Ca=new WeakMap,yu=new WeakMap,xu=new WeakSet,f0=function(){var r;const n=((r=Qe(this,Ca))==null?void 0:r.state)??YU();kt(this,$l,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},KA=function(n){Br.batch(()=>{var r,i,a,o,s,l,c,d;if(Qe(this,yu)&&this.hasListeners()){const h=Qe(this,$l).variables,m=Qe(this,$l).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,yu)).onSuccess)==null||i.call(r,n.data,h,m),(o=(a=Qe(this,yu)).onSettled)==null||o.call(a,n.data,null,h,m)):(n==null?void 0:n.type)==="error"&&((l=(s=Qe(this,yu)).onError)==null||l.call(s,n.error,h,m),(d=(c=Qe(this,yu)).onSettled)==null||d.call(c,void 0,n.error,h,m))}this.listeners.forEach(h=>{h(Qe(this,$l))})})},BU),bS={exports:{}},bn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD;function QW(){if(lD)return bn;lD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=h&&k[h]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function x(k,ie,me){this.props=k,this.context=ie,this.refs=_,this.updater=me||y}x.prototype.isReactComponent={},x.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},x.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function b(){}b.prototype=x.prototype;function S(k,ie,me){this.props=k,this.context=ie,this.refs=_,this.updater=me||y}var A=S.prototype=new b;A.constructor=S,v(A,x.prototype),A.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(k,ie,me,K,ee,ge){return me=ge.ref,{$$typeof:e,type:k,key:ie,ref:me!==void 0?me:null,props:ge}}function Q(k,ie){return F(k.type,ie,void 0,void 0,void 0,k.props)}function X(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function U(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(me){return ie[me]})}var Y=/\/+/g;function ce(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):ie.toString(36)}function te(){}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function pe(k,ie,me,K,ee){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(ge){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case e:case t:Ae=!0;break;case d:return Ae=k._init,pe(Ae(k._payload),ie,me,K,ee)}}if(Ae)return ee=ee(k),Ae=K===""?"."+ce(k,0):K,P(ee)?(me="",Ae!=null&&(me=Ae.replace(Y,"$&/")+"/"),pe(ee,ie,me,"",function(Ne){return Ne})):ee!=null&&(X(ee)&&(ee=Q(ee,me+(ee.key==null||k&&k.key===ee.key?"":(""+ee.key).replace(Y,"$&/")+"/")+Ae)),ie.push(ee)),1;Ae=0;var Ze=K===""?".":K+":";if(P(k))for(var Pe=0;Pe<k.length;Pe++)K=k[Pe],ge=Ze+ce(K,Pe),Ae+=pe(K,ie,me,ge,ee);else if(Pe=m(k),typeof Pe=="function")for(k=Pe.call(k),Pe=0;!(K=k.next()).done;)K=K.value,ge=Ze+ce(K,Pe++),Ae+=pe(K,ie,me,ge,ee);else if(ge==="object"){if(typeof k.then=="function")return pe(se(k),ie,me,K,ee);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function _e(k,ie,me){if(k==null)return k;var K=[],ee=0;return pe(k,K,"","",function(ge){return ie.call(me,ge,ee++)}),K}function de(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(me){(k._status===0||k._status===-1)&&(k._status=1,k._result=me)},function(me){(k._status===0||k._status===-1)&&(k._status=2,k._result=me)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Re(){}return bn.Children={map:_e,forEach:function(k,ie,me){_e(k,function(){ie.apply(this,arguments)},me)},count:function(k){var ie=0;return _e(k,function(){ie++}),ie},toArray:function(k){return _e(k,function(ie){return ie})||[]},only:function(k){if(!X(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},bn.Component=x,bn.Fragment=n,bn.Profiler=i,bn.PureComponent=S,bn.StrictMode=r,bn.Suspense=l,bn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,bn.act=function(){throw Error("act(...) is not supported in production builds of React.")},bn.cache=function(k){return function(){return k.apply(null,arguments)}},bn.cloneElement=function(k,ie,me){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=v({},k.props),ee=k.key,ge=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(ge=void 0),ie.key!==void 0&&(ee=""+ie.key),ie)!D.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(K[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)K.children=me;else if(1<Ae){for(var Ze=Array(Ae),Pe=0;Pe<Ae;Pe++)Ze[Pe]=arguments[Pe+2];K.children=Ze}return F(k.type,ee,void 0,void 0,ge,K)},bn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},bn.createElement=function(k,ie,me){var K,ee={},ge=null;if(ie!=null)for(K in ie.key!==void 0&&(ge=""+ie.key),ie)D.call(ie,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=ie[K]);var Ae=arguments.length-2;if(Ae===1)ee.children=me;else if(1<Ae){for(var Ze=Array(Ae),Pe=0;Pe<Ae;Pe++)Ze[Pe]=arguments[Pe+2];ee.children=Ze}if(k&&k.defaultProps)for(K in Ae=k.defaultProps,Ae)ee[K]===void 0&&(ee[K]=Ae[K]);return F(k,ge,void 0,void 0,null,ee)},bn.createRef=function(){return{current:null}},bn.forwardRef=function(k){return{$$typeof:s,render:k}},bn.isValidElement=X,bn.lazy=function(k){return{$$typeof:d,_payload:{_status:-1,_result:k},_init:de}},bn.memo=function(k,ie){return{$$typeof:c,type:k,compare:ie===void 0?null:ie}},bn.startTransition=function(k){var ie=O.T,me={};O.T=me;try{var K=k(),ee=O.S;ee!==null&&ee(me,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Re,ue)}catch(ge){ue(ge)}finally{O.T=ie}},bn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},bn.use=function(k){return O.H.use(k)},bn.useActionState=function(k,ie,me){return O.H.useActionState(k,ie,me)},bn.useCallback=function(k,ie){return O.H.useCallback(k,ie)},bn.useContext=function(k){return O.H.useContext(k)},bn.useDebugValue=function(){},bn.useDeferredValue=function(k,ie){return O.H.useDeferredValue(k,ie)},bn.useEffect=function(k,ie){return O.H.useEffect(k,ie)},bn.useId=function(){return O.H.useId()},bn.useImperativeHandle=function(k,ie,me){return O.H.useImperativeHandle(k,ie,me)},bn.useInsertionEffect=function(k,ie){return O.H.useInsertionEffect(k,ie)},bn.useLayoutEffect=function(k,ie){return O.H.useLayoutEffect(k,ie)},bn.useMemo=function(k,ie){return O.H.useMemo(k,ie)},bn.useOptimistic=function(k,ie){return O.H.useOptimistic(k,ie)},bn.useReducer=function(k,ie,me){return O.H.useReducer(k,ie,me)},bn.useRef=function(k){return O.H.useRef(k)},bn.useState=function(k){return O.H.useState(k)},bn.useSyncExternalStore=function(k,ie,me){return O.H.useSyncExternalStore(k,ie,me)},bn.useTransition=function(){return O.H.useTransition()},bn.version="19.0.0",bn}var cD;function Ch(){return cD||(cD=1,bS.exports=QW()),bS.exports}var V=Ch();const It=Lr(V),fh=TW({__proto__:null,default:It},[V]);var tB=V.createContext(void 0),Si=e=>{const t=V.useContext(tB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ZW=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),H.jsx(tB.Provider,{value:e,children:t})),nB=V.createContext(!1),rB=()=>V.useContext(nB);nB.Provider;function JW(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var YW=V.createContext(JW()),iB=()=>V.useContext(YW);function aB(e,t){return typeof e=="function"?e(...t):!!e}function oB(){}var sB=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},uB=e=>{V.useEffect(()=>{e.clearReset()},[e])},lB=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&aB(n,[e.error,r]),cB=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},fB=(e,t)=>e.isLoading&&e.isFetching&&!t,GA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,F0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Sm({queries:e,...t},n){const r=Si(),i=rB(),a=iB(),o=V.useMemo(()=>e.map(v=>{const _=r.defaultQueryOptions(v);return _._optimisticResults=i?"isRestoring":"optimistic",_}),[e,r,i]);o.forEach(v=>{cB(v),sB(v,a)}),uB(a);const[s]=V.useState(()=>new GW(r,o,t)),[l,c,d]=s.getOptimisticResult(o,t.combine);V.useSyncExternalStore(V.useCallback(v=>i?()=>{}:s.subscribe(Br.batchCalls(v)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),V.useEffect(()=>{s.setQueries(o,t,{listeners:!1})},[o,t,s]);const m=l.some((v,_)=>GA(o[_],v))?l.flatMap((v,_)=>{const x=o[_];if(x){const b=new uP(r,x);if(GA(x,v))return F0(x,b,a);fB(v,i)&&F0(x,b,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=l.find((v,_)=>{const x=o[_];return x&&lB({result:v,errorResetBoundary:a,throwOnError:x.throwOnError,query:r.getQueryCache().get(x.queryHash)})});if(y!=null&&y.error)throw y.error;return c(d())}function XW(e,t,n){var d,h,m,y,v;const r=Si(),i=rB(),a=iB(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",cB(o),sB(o,a),uB(a);const s=!r.getQueryState(e.queryKey),[l]=V.useState(()=>new t(r,o)),c=l.getOptimisticResult(o);if(V.useSyncExternalStore(V.useCallback(_=>{const x=i?()=>{}:l.subscribe(Br.batchCalls(_));return l.updateResult(),x},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),V.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),GA(o,c))throw F0(o,l,a);if(lB({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,c),o.experimental_prefetchInRender&&!vf&&fB(c,i)){const _=s?F0(o,l,a):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;_==null||_.catch(oB).finally(()=>{l.hasListeners()||l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function ey(e,t){return XW(e,uP)}function Pa(e,t){const n=Si(),[r]=V.useState(()=>new WW(n,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const i=V.useSyncExternalStore(V.useCallback(o=>r.subscribe(Br.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=V.useCallback((o,s)=>{r.mutate(o,s).catch(oB)},[r]);if(i.error&&aB(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var SS={exports:{}},zp={},xS={exports:{}},ES={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD;function eQ(){return fD||(fD=1,function(e){function t(_e,de){var ue=_e.length;_e.push(de);e:for(;0<ue;){var Re=ue-1>>>1,k=_e[Re];if(0<i(k,de))_e[Re]=de,_e[ue]=k,ue=Re;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var de=_e[0],ue=_e.pop();if(ue!==de){_e[0]=ue;e:for(var Re=0,k=_e.length,ie=k>>>1;Re<ie;){var me=2*(Re+1)-1,K=_e[me],ee=me+1,ge=_e[ee];if(0>i(K,ue))ee<k&&0>i(ge,K)?(_e[Re]=ge,_e[ee]=ue,Re=ee):(_e[Re]=K,_e[me]=ue,Re=me);else if(ee<k&&0>i(ge,ue))_e[Re]=ge,_e[ee]=ue,Re=ee;else break e}}return de}function i(_e,de){var ue=_e.sortIndex-de.sortIndex;return ue!==0?ue:_e.id-de.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,m=3,y=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(_e){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=_e)r(c),de.sortIndex=de.expirationTime,t(l,de);else break;de=n(c)}}function P(_e){if(_=!1,A(_e),!v)if(n(l)!==null)v=!0,se();else{var de=n(c);de!==null&&pe(P,de.startTime-_e)}}var O=!1,D=-1,F=5,Q=-1;function X(){return!(e.unstable_now()-Q<F)}function U(){if(O){var _e=e.unstable_now();Q=_e;var de=!0;try{e:{v=!1,_&&(_=!1,b(D),D=-1),y=!0;var ue=m;try{t:{for(A(_e),h=n(l);h!==null&&!(h.expirationTime>_e&&X());){var Re=h.callback;if(typeof Re=="function"){h.callback=null,m=h.priorityLevel;var k=Re(h.expirationTime<=_e);if(_e=e.unstable_now(),typeof k=="function"){h.callback=k,A(_e),de=!0;break t}h===n(l)&&r(l),A(_e)}else r(l);h=n(l)}if(h!==null)de=!0;else{var ie=n(c);ie!==null&&pe(P,ie.startTime-_e),de=!1}}break e}finally{h=null,m=ue,y=!1}de=void 0}}finally{de?Y():O=!1}}}var Y;if(typeof S=="function")Y=function(){S(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=U,Y=function(){te.postMessage(null)}}else Y=function(){x(U,0)};function se(){O||(O=!0,Y())}function pe(_e,de){D=x(function(){_e(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_e){_e.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,se())},e.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<_e?Math.floor(1e3/_e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_e){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var ue=m;m=de;try{return _e()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_e,de){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ue=m;m=_e;try{return de()}finally{m=ue}},e.unstable_scheduleCallback=function(_e,de,ue){var Re=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Re+ue:Re):ue=Re,_e){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ue+k,_e={id:d++,callback:de,priorityLevel:_e,startTime:ue,expirationTime:k,sortIndex:-1},ue>Re?(_e.sortIndex=ue,t(c,_e),n(l)===null&&_e===n(c)&&(_?(b(D),D=-1):_=!0,pe(P,ue-Re))):(_e.sortIndex=k,t(l,_e),v||y||(v=!0,se())),_e},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(_e){var de=m;return function(){var ue=m;m=de;try{return _e.apply(this,arguments)}finally{m=ue}}}}(ES)),ES}var dD;function tQ(){return dD||(dD=1,xS.exports=eQ()),xS.exports}var CS={exports:{}},zi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function nQ(){if(hD)return zi;hD=1;var e=Ch();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zi.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(l,c,null,d)},zi.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},zi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},zi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},zi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:m,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},zi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},zi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},zi.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},zi.requestFormReset=function(l){r.d.r(l)},zi.unstable_batchedUpdates=function(l,c){return l(c)},zi.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},zi.useFormStatus=function(){return o.H.useHostTransitionStatus()},zi.version="19.0.0",zi}var pD;function cP(){if(pD)return CS.exports;pD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),CS.exports=nQ(),CS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD;function rQ(){if(gD)return zp;gD=1;var e=tQ(),t=Ch(),n=cP();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=O&&u[O]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case s:return"Portal";case d:return"Profiler";case c:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case b:return f=u.displayName||null,f!==null?f:Q(u.type)||"Memo";case S:f=u._payload,u=u._init;try{return Q(u(f))}catch{}}return null}var X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,Y,ce;function te(u){if(Y===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Y=f&&f[1]||"",ce=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+u+ce}var se=!1;function pe(u,f){if(!u||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(f){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(vt){var pt=vt}Reflect.construct(u,[],At)}else{try{At.call()}catch(vt){pt=vt}u.call(At.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(At=u())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=E.DetermineComponentFrameRoot(),fe=j[0],Te=j[1];if(fe&&Te){var Ve=fe.split(`
`),at=Te.split(`
`);for(M=E=0;E<Ve.length&&!Ve[E].includes("DetermineComponentFrameRoot");)E++;for(;M<at.length&&!at[M].includes("DetermineComponentFrameRoot");)M++;if(E===Ve.length||M===at.length)for(E=Ve.length-1,M=at.length-1;1<=E&&0<=M&&Ve[E]!==at[M];)M--;for(;1<=E&&0<=M;E--,M--)if(Ve[E]!==at[M]){if(E!==1||M!==1)do if(E--,M--,0>M||Ve[E]!==at[M]){var _t=`
`+Ve[E].replace(" at new "," at ");return u.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",u.displayName)),_t}while(1<=E&&0<=M);break}}}finally{se=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?te(g):""}function _e(u){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return u=pe(u.type,!1),u;case 11:return u=pe(u.type.render,!1),u;case 1:return u=pe(u.type,!0),u;default:return""}}function de(u){try{var f="";do f+=_e(u),u=u.return;while(u);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ue(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function Re(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function k(u){if(ue(u)!==u)throw Error(r(188))}function ie(u){var f=u.alternate;if(!f){if(f=ue(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,E=f;;){var M=g.return;if(M===null)break;var j=M.alternate;if(j===null){if(E=M.return,E!==null){g=E;continue}break}if(M.child===j.child){for(j=M.child;j;){if(j===g)return k(M),u;if(j===E)return k(M),f;j=j.sibling}throw Error(r(188))}if(g.return!==E.return)g=M,E=j;else{for(var fe=!1,Te=M.child;Te;){if(Te===g){fe=!0,g=M,E=j;break}if(Te===E){fe=!0,E=M,g=j;break}Te=Te.sibling}if(!fe){for(Te=j.child;Te;){if(Te===g){fe=!0,g=j,E=M;break}if(Te===E){fe=!0,E=j,g=M;break}Te=Te.sibling}if(!fe)throw Error(r(189))}}if(g.alternate!==E)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function me(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=me(u),f!==null)return f;u=u.sibling}return null}var K=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ae=[],Ze=-1;function Pe(u){return{current:u}}function Ne(u){0>Ze||(u.current=Ae[Ze],Ae[Ze]=null,Ze--)}function Ye(u,f){Ze++,Ae[Ze]=u.current,u.current=f}var oe=Pe(null),z=Pe(null),$=Pe(null),ae=Pe(null);function Z(u,f){switch(Ye($,f),Ye(z,u),Ye(oe,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?TM(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=TM(u),f=AM(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Ne(oe),Ye(oe,f)}function he(){Ne(oe),Ne(z),Ne($)}function ye(u){u.memoizedState!==null&&Ye(ae,u);var f=oe.current,g=AM(f,u.type);f!==g&&(Ye(z,u),Ye(oe,g))}function He(u){z.current===u&&(Ne(oe),Ne(z)),ae.current===u&&(Ne(ae),Fp._currentValue=ge)}var Ee=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,nt=e.unstable_shouldYield,gt=e.unstable_requestPaint,qt=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,ne=e.unstable_UserBlockingPriority,q=e.unstable_NormalPriority,W=e.unstable_LowPriority,G=e.unstable_IdlePriority,je=e.log,Je=e.unstable_setDisableYieldValue,ke=null,Rt=null;function Lt(u){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Nt(u){if(typeof je=="function"&&Je(u),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(ke,u)}catch{}}var Pt=Math.clz32?Math.clz32:dn,zt=Math.log,Tr=Math.LN2;function dn(u){return u>>>=0,u===0?32:31-(zt(u)/Tr|0)|0}var hn=128,gr=4194304;function un(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ln(u,f){var g=u.pendingLanes;if(g===0)return 0;var E=0,M=u.suspendedLanes,j=u.pingedLanes,fe=u.warmLanes;u=u.finishedLanes!==0;var Te=g&134217727;return Te!==0?(g=Te&~M,g!==0?E=un(g):(j&=Te,j!==0?E=un(j):u||(fe=Te&~fe,fe!==0&&(E=un(fe))))):(Te=g&~M,Te!==0?E=un(Te):j!==0?E=un(j):u||(fe=g&~fe,fe!==0&&(E=un(fe)))),E===0?0:f!==0&&f!==E&&!(f&M)&&(M=E&-E,fe=f&-f,M>=fe||M===32&&(fe&4194176)!==0)?f:E}function In(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function ur(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var u=hn;return hn<<=1,!(hn&4194176)&&(hn=128),u}function qe(){var u=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),u}function bt(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function Et(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Mt(u,f,g,E,M,j){var fe=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Te=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(g=fe&~g;0<g;){var _t=31-Pt(g),At=1<<_t;Te[_t]=0,Ve[_t]=-1;var pt=at[_t];if(pt!==null)for(at[_t]=null,_t=0;_t<pt.length;_t++){var vt=pt[_t];vt!==null&&(vt.lane&=-536870913)}g&=~At}E!==0&&Hn(u,E,0),j!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=j&~(fe&~f))}function Hn(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var E=31-Pt(f);u.entangledLanes|=f,u.entanglements[E]=u.entanglements[E]|1073741824|g&4194218}function Jn(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var E=31-Pt(g),M=1<<E;M&f|u[E]&f&&(u[E]|=f),g&=~M}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ce(){var u=ee.p;return u!==0?u:(u=window.event,u===void 0?32:VM(u.type))}function et(u,f){var g=ee.p;try{return ee.p=u,f()}finally{ee.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Ct="__reactProps$"+ft,Dt="__reactContainer$"+ft,Gt="__reactEvents$"+ft,Xt="__reactListeners$"+ft,Ht="__reactHandles$"+ft,jt="__reactResources$"+ft,tn="__reactMarker$"+ft;function Pn(u){delete u[it],delete u[Ct],delete u[Gt],delete u[Xt],delete u[Ht]}function Wt(u){var f=u[it];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Dt]||g[it]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=OM(u);u!==null;){if(g=u[it])return g;u=OM(u)}return f}u=g,g=u.parentNode}return null}function Zt(u){if(u=u[it]||u[Dt]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function En(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function Cn(u){var f=u[jt];return f||(f=u[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function qn(u){u[tn]=!0}var Ar=new Set,Vr={};function Kr(u,f){Ir(u,f),Ir(u+"Capture",f)}function Ir(u,f){for(Vr[u]=f,u=0;u<f.length;u++)Ar.add(f[u])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wi={},T={};function C(u){return Ee.call(T,u)?!0:Ee.call(Wi,u)?!1:Yr.test(u)?T[u]=!0:(Wi[u]=!0,!1)}function R(u,f,g){if(C(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var E=f.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function N(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function J(u,f,g,E){if(E===null)u.removeAttribute(g);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+E)}}function le(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ie(u){var f=we(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),E=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var M=g.get,j=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return M.call(this)},set:function(fe){E=""+fe,j.call(this,fe)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(fe){E=""+fe},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function xe(u){u._valueTracker||(u._valueTracker=Ie(u))}function Oe(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),E="";return u&&(E=we(u)?u.checked?"true":"false":u.value),u=E,u!==g?(f.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Xe(u,f,g,E,M,j,fe,Te){u.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?u.type=fe:u.removeAttribute("type"),f!=null?fe==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+le(f)):u.value!==""+le(f)&&(u.value=""+le(f)):fe!=="submit"&&fe!=="reset"||u.removeAttribute("value"),f!=null?dt(u,fe,le(f)):g!=null?dt(u,fe,le(g)):E!=null&&u.removeAttribute("value"),M==null&&j!=null&&(u.defaultChecked=!!j),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&typeof Te!="boolean"?u.name=""+le(Te):u.removeAttribute("name")}function ot(u,f,g,E,M,j,fe,Te){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),f!=null||g!=null){if(!(j!=="submit"&&j!=="reset"||f!=null))return;g=g!=null?""+le(g):"",f=f!=null?""+le(f):g,Te||f===u.value||(u.value=f),u.defaultValue=f}E=E??M,E=typeof E!="function"&&typeof E!="symbol"&&!!E,u.checked=Te?u.checked:!!E,u.defaultChecked=!!E,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(u.name=fe)}function dt(u,f,g){f==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,f,g,E){if(u=u.options,f){f={};for(var M=0;M<g.length;M++)f["$"+g[M]]=!0;for(g=0;g<u.length;g++)M=f.hasOwnProperty("$"+u[g].value),u[g].selected!==M&&(u[g].selected=M),M&&E&&(u[g].defaultSelected=!0)}else{for(g=""+le(g),f=null,M=0;M<u.length;M++){if(u[M].value===g){u[M].selected=!0,E&&(u[M].defaultSelected=!0);return}f!==null||u[M].disabled||(f=u[M])}f!==null&&(f.selected=!0)}}function be(u,f,g){if(f!=null&&(f=""+le(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+le(g):""}function De(u,f,g,E){if(f==null){if(E!=null){if(g!=null)throw Error(r(92));if(K(E)){if(1<E.length)throw Error(r(93));E=E[0]}g=E}g==null&&(g=""),f=g}g=le(f),u.defaultValue=g,E=u.textContent,E===g&&E!==""&&E!==null&&(u.value=E)}function Ue(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,f,g){var E=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?E?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":E?u.setProperty(f,g):typeof g!="number"||g===0||Ke.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function mt(u,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,g!=null){for(var E in g)!g.hasOwnProperty(E)||f!=null&&f.hasOwnProperty(E)||(E.indexOf("--")===0?u.setProperty(E,""):E==="float"?u.cssFloat="":u[E]="");for(var M in f)E=f[M],f.hasOwnProperty(M)&&g[M]!==E&&lt(u,M,E)}else for(var j in f)f.hasOwnProperty(j)&&lt(u,j,f[j])}function $t(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return gn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Vt=null;function zn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Nn=null,Un=null;function Qt(u){var f=Zt(u);if(f&&(u=f.stateNode)){var g=u[Ct]||null;e:switch(u=f.stateNode,f.type){case"input":if(Xe(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ze(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var E=g[f];if(E!==u&&E.form===u.form){var M=E[Ct]||null;if(!M)throw Error(r(90));Xe(E,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<g.length;f++)E=g[f],E.form===u.form&&Oe(E)}break e;case"textarea":be(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ut(u,!!g.multiple,f,!1)}}}var Gn=!1;function pn(u,f,g){if(Gn)return u(f,g);Gn=!0;try{var E=u(f);return E}finally{if(Gn=!1,(Nn!==null||Un!==null)&&(dv(),Nn&&(f=Nn,u=Un,Un=Nn=null,Qt(f),u)))for(f=0;f<u.length;f++)Qt(u[f])}}function Yn(u,f){var g=u.stateNode;if(g===null)return null;var E=g[Ct]||null;if(E===null)return null;g=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var mr=!1;if($n)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){mr=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{mr=!1}var lr=null,xi=null,Qi=null;function ya(){if(Qi)return Qi;var u,f=xi,g=f.length,E,M="value"in lr?lr.value:lr.textContent,j=M.length;for(u=0;u<g&&f[u]===M[u];u++);var fe=g-u;for(E=1;E<=fe&&f[g-E]===M[j-E];E++);return Qi=M.slice(u,1<E?1-E:void 0)}function rr(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Ui(){return!0}function Eo(){return!1}function ir(u){function f(g,E,M,j,fe){this._reactName=g,this._targetInst=M,this.type=E,this.nativeEvent=j,this.target=fe,this.currentTarget=null;for(var Te in u)u.hasOwnProperty(Te)&&(g=u[Te],this[Te]=g?g(j):j[Te]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ui:Eo,this.isPropagationStopped=Eo,this}return U(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),f}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=ir(Nr),Zi=U({},Nr,{view:0,detail:0}),Bu=ir(Zi),no,vn,La,cr=U({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==La&&(La&&u.type==="mousemove"?(no=u.screenX-La.screenX,vn=u.screenY-La.screenY):vn=no=0,La=u),no)},movementY:function(u){return"movementY"in u?u.movementY:vn}}),Bi=ir(cr),va=U({},cr,{dataTransfer:0}),fr=ir(va),Ji=U({},Zi,{relatedTarget:0}),ro=ir(Ji),Rr=U({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),ac=ir(Rr),Co=U({},Nr,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ia=ir(Co),Xh=U({},Nr,{data:0}),Yi=ir(Xh),Ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ts={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ey(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=ts[u])?!!f[u]:!1}function jf(){return Ey}var ep=U({},Zi,{key:function(u){if(u.key){var f=Ff[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=rr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?xy[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(u){return u.type==="keypress"?rr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?rr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Lb=ir(ep),Cy=U({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=ir(Cy),Ib=U({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),Mb=ir(Ib),np=U({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=ir(np),Ty=U({},cr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Ay=ir(Ty),$f=U({},Nr,{newState:0,oldState:0}),Ms=ir($f),kb=[9,13,27,32],Ds=$n&&"CompositionEvent"in window,hi=null;$n&&"documentMode"in document&&(hi=document.documentMode);var Ry=$n&&"TextEvent"in window&&!hi,rp=$n&&(!Ds||hi&&8<hi&&11>=hi),Py=" ",Uf=!1;function Bf(u,f){switch(u){case"keyup":return kb.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var qu=!1;function Ly(u,f){switch(u){case"compositionend":return Oy(f);case"keypress":return f.which!==32?null:(Uf=!0,Py);case"textInput":return u=f.data,u===Py&&Uf?null:u;default:return null}}function Nb(u,f){if(qu)return u==="compositionend"||!Ds&&Bf(u,f)?(u=ya(),Qi=xi=lr=null,qu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return rp&&f.locale!=="ko"?null:f.data;default:return null}}var Ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ks(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Ma[u.type]:f==="textarea"}function Iy(u,f,g,E){Nn?Un?Un.push(E):Un=[E]:Nn=E,f=yv(f,"onChange"),0<f.length&&(g=new to("onChange","change",null,g,E),u.push({event:g,listeners:f}))}var Xi=null,oc=null;function zu(u){bM(u,0)}function qf(u){var f=En(u);if(Oe(f))return u}function Hu(u,f){if(u==="change")return f}var ip=!1;if($n){var Vu;if($n){var ap="oninput"in document;if(!ap){var To=document.createElement("div");To.setAttribute("oninput","return;"),ap=typeof To.oninput=="function"}Vu=ap}else Vu=!1;ip=Vu&&(!document.documentMode||9<document.documentMode)}function sc(){Xi&&(Xi.detachEvent("onpropertychange",My),oc=Xi=null)}function My(u){if(u.propertyName==="value"&&qf(oc)){var f=[];Iy(f,oc,u,zn(u)),pn(zu,f)}}function op(u,f,g){u==="focusin"?(sc(),Xi=f,oc=g,Xi.attachEvent("onpropertychange",My)):u==="focusout"&&sc()}function Fb(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return qf(oc)}function Ao(u,f){if(u==="click")return qf(f)}function jb(u,f){if(u==="input"||u==="change")return qf(f)}function Ku(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ea=typeof Object.is=="function"?Object.is:Ku;function ta(u,f){if(ea(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),E=Object.keys(f);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var M=g[E];if(!Ee.call(f,M)||!ea(u[M],f[M]))return!1}return!0}function uc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sp(u,f){var g=uc(u);u=0;for(var E;g;){if(g.nodeType===3){if(E=u+g.textContent.length,u<=f&&E>=f)return{node:g,offset:f-u};u=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=uc(g)}}function zf(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?zf(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function lc(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Me(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=Me(u.document)}return f}function cc(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Hf(u,f){var g=lc(f);f=u.focusedElem;var E=u.selectionRange;if(g!==f&&f&&f.ownerDocument&&zf(f.ownerDocument.documentElement,f)){if(E!==null&&cc(f)){if(u=E.start,g=E.end,g===void 0&&(g=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(g,f.value.length);else if(g=(u=f.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var M=f.textContent.length,j=Math.min(E.start,M);E=E.end===void 0?j:Math.min(E.end,M),!g.extend&&j>E&&(M=E,E=j,j=M),M=sp(f,j);var fe=sp(f,E);M&&fe&&(g.rangeCount!==1||g.anchorNode!==M.node||g.anchorOffset!==M.offset||g.focusNode!==fe.node||g.focusOffset!==fe.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),g.removeAllRanges(),j>E?(g.addRange(u),g.extend(fe.node,fe.offset)):(u.setEnd(fe.node,fe.offset),g.addRange(u)))}}for(u=[],g=f;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)g=u[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Gu=$n&&"documentMode"in document&&11>=document.documentMode,Ro=null,fc=null,Wu=null,up=!1;function dc(u,f,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;up||Ro==null||Ro!==Me(E)||(E=Ro,"selectionStart"in E&&cc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Wu&&ta(Wu,E)||(Wu=E,E=yv(fc,"onSelect"),0<E.length&&(f=new to("onSelect","select",null,f,g),u.push({event:f,listeners:E}),f.target=Ro)))}function Ns(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var Fs={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},lp={},cp={};$n&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function js(u){if(lp[u])return lp[u];if(!Fs[u])return u;var f=Fs[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in cp)return lp[u]=f[g];return u}var Da=js("animationend"),hc=js("animationiteration"),Dy=js("animationstart"),Vf=js("transitionrun"),$b=js("transitionstart"),ky=js("transitioncancel"),Ny=js("transitionend"),Qu=new Map,Fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pi(u,f){Qu.set(u,f),Kr(f,[u])}var na=[],$s=0,fp=0;function _a(){for(var u=$s,f=fp=$s=0;f<u;){var g=na[f];na[f++]=null;var E=na[f];na[f++]=null;var M=na[f];na[f++]=null;var j=na[f];if(na[f++]=null,E!==null&&M!==null){var fe=E.pending;fe===null?M.next=M:(M.next=fe.next,fe.next=M),E.pending=M}j!==0&&jy(g,M,j)}}function pc(u,f,g,E){na[$s++]=u,na[$s++]=f,na[$s++]=g,na[$s++]=E,fp|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function Kf(u,f,g,E){return pc(u,f,g,E),Us(u)}function wa(u,f){return pc(u,null,null,f),Us(u)}function jy(u,f,g){u.lanes|=g;var E=u.alternate;E!==null&&(E.lanes|=g);for(var M=!1,j=u.return;j!==null;)j.childLanes|=g,E=j.alternate,E!==null&&(E.childLanes|=g),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(M=!0)),u=j,j=j.return;M&&f!==null&&u.tag===3&&(j=u.stateNode,M=31-Pt(g),j=j.hiddenUpdates,u=j[M],u===null?j[M]=[f]:u.push(f),f.lane=g|536870912)}function Us(u){if(50<Op)throw Op=0,B1=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var io={},dp=new WeakMap;function ra(u,f){if(typeof u=="object"&&u!==null){var g=dp.get(u);return g!==void 0?g:(f={value:u,source:f,stack:de(f)},dp.set(u,f),f)}return{value:u,source:f,stack:de(f)}}var Zu=[],Bs=0,gc=null,mc=0,ia=[],aa=0,qs=null,ao=1,oo="";function zs(u,f){Zu[Bs++]=mc,Zu[Bs++]=gc,gc=u,mc=f}function p(u,f,g){ia[aa++]=ao,ia[aa++]=oo,ia[aa++]=qs,qs=u;var E=ao;u=oo;var M=32-Pt(E)-1;E&=~(1<<M),g+=1;var j=32-Pt(f)+M;if(30<j){var fe=M-M%5;j=(E&(1<<fe)-1).toString(32),E>>=fe,M-=fe,ao=1<<32-Pt(f)+M|g<<M|E,oo=j+u}else ao=1<<j|g<<M|E,oo=u}function w(u){u.return!==null&&(zs(u,1),p(u,1,0))}function I(u){for(;u===gc;)gc=Zu[--Bs],Zu[Bs]=null,mc=Zu[--Bs],Zu[Bs]=null;for(;u===qs;)qs=ia[--aa],ia[aa]=null,oo=ia[--aa],ia[aa]=null,ao=ia[--aa],ia[aa]=null}var B=null,re=null,ve=!1,Ge=null,st=!1,yt=Error(r(519));function St(u){var f=Error(r(418,""));throw Pr(ra(f,u)),yt}function Ut(u){var f=u.stateNode,g=u.type,E=u.memoizedProps;switch(f[it]=u,f[Ct]=E,g){case"dialog":Fn("cancel",f),Fn("close",f);break;case"iframe":case"object":case"embed":Fn("load",f);break;case"video":case"audio":for(g=0;g<Ip.length;g++)Fn(Ip[g],f);break;case"source":Fn("error",f);break;case"img":case"image":case"link":Fn("error",f),Fn("load",f);break;case"details":Fn("toggle",f);break;case"input":Fn("invalid",f),ot(f,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),xe(f);break;case"select":Fn("invalid",f);break;case"textarea":Fn("invalid",f),De(f,E.value,E.defaultValue,E.children),xe(f)}g=E.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||E.suppressHydrationWarning===!0||CM(f.textContent,g)?(E.popover!=null&&(Fn("beforetoggle",f),Fn("toggle",f)),E.onScroll!=null&&Fn("scroll",f),E.onScrollEnd!=null&&Fn("scrollend",f),E.onClick!=null&&(f.onclick=vv),f=!0):f=!1,f||St(u)}function rn(u){for(B=u.return;B;)switch(B.tag){case 3:case 27:st=!0;return;case 5:case 13:st=!1;return;default:B=B.return}}function mn(u){if(u!==B)return!1;if(!ve)return rn(u),ve=!0,!1;var f=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||iS(u.type,u.memoizedProps)),g=!g),g&&(f=!0),f&&re&&St(u),rn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(f===0){re=Oo(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;u=u.nextSibling}re=null}}else re=B?Oo(u.stateNode.nextSibling):null;return!0}function Gr(){re=B=null,ve=!1}function Pr(u){Ge===null?Ge=[u]:Ge.push(u)}var gi=Error(r(460)),Ei=Error(r(474)),ns={then:function(){}};function $y(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Gf(){}function Uy(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(Gf,Gf),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===gi?Error(r(483)):u;default:if(typeof f.status=="string")f.then(Gf,Gf);else{if(u=br,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(E){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=E}},function(E){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=E}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===gi?Error(r(483)):u}throw Ju=f,gi}}var Ju=null;function By(){if(Ju===null)throw Error(r(459));var u=Ju;return Ju=null,u}var Hs=null,wr=0;function Vs(u){var f=wr;return wr+=1,Hs===null&&(Hs=[]),Uy(Hs,u,f)}function yc(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Wf(u,f){throw f.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function qy(u){var f=u._init;return f(u._payload)}function Qf(u){function f(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)f(ct,rt),rt=rt.sibling;return null}function E(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function M(ct,rt){return ct=ll(ct,rt),ct.index=0,ct.sibling=null,ct}function j(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function fe(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Te(ct,rt,ht,xt){return rt===null||rt.tag!==6?(rt=M1(ht,ct.mode,xt),rt.return=ct,rt):(rt=M(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,xt){var Kt=ht.type;return Kt===l?_t(ct,rt,ht.props.children,xt,ht.key):rt!==null&&(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===S&&qy(Kt)===rt.type)?(rt=M(rt,ht.props),yc(rt,ht),rt.return=ct,rt):(rt=sv(ht.type,ht.key,ht.props,null,ct.mode,xt),yc(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,xt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=D1(ht,ct.mode,xt),rt.return=ct,rt):(rt=M(rt,ht.children||[]),rt.return=ct,rt)}function _t(ct,rt,ht,xt,Kt){return rt===null||rt.tag!==7?(rt=Tc(ht,ct.mode,xt,Kt),rt.return=ct,rt):(rt=M(rt,ht),rt.return=ct,rt)}function At(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=M1(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return ht=sv(rt.type,rt.key,rt.props,null,ct.mode,ht),yc(ht,rt),ht.return=ct,ht;case s:return rt=D1(rt,ct.mode,ht),rt.return=ct,rt;case S:var xt=rt._init;return rt=xt(rt._payload),At(ct,rt,ht)}if(K(rt)||D(rt))return rt=Tc(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return At(ct,Vs(rt),ht);if(rt.$$typeof===y)return At(ct,iv(ct,rt),ht);Wf(ct,rt)}return null}function pt(ct,rt,ht,xt){var Kt=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Kt!==null?null:Te(ct,rt,""+ht,xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:return ht.key===Kt?Ve(ct,rt,ht,xt):null;case s:return ht.key===Kt?at(ct,rt,ht,xt):null;case S:return Kt=ht._init,ht=Kt(ht._payload),pt(ct,rt,ht,xt)}if(K(ht)||D(ht))return Kt!==null?null:_t(ct,rt,ht,xt,null);if(typeof ht.then=="function")return pt(ct,rt,Vs(ht),xt);if(ht.$$typeof===y)return pt(ct,rt,iv(ct,ht),xt);Wf(ct,ht)}return null}function vt(ct,rt,ht,xt,Kt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return ct=ct.get(ht)||null,Te(rt,ct,""+xt,Kt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:return ct=ct.get(xt.key===null?ht:xt.key)||null,Ve(rt,ct,xt,Kt);case s:return ct=ct.get(xt.key===null?ht:xt.key)||null,at(rt,ct,xt,Kt);case S:var On=xt._init;return xt=On(xt._payload),vt(ct,rt,ht,xt,Kt)}if(K(xt)||D(xt))return ct=ct.get(ht)||null,_t(rt,ct,xt,Kt,null);if(typeof xt.then=="function")return vt(ct,rt,ht,Vs(xt),Kt);if(xt.$$typeof===y)return vt(ct,rt,ht,iv(rt,xt),Kt);Wf(rt,xt)}return null}function Jt(ct,rt,ht,xt){for(var Kt=null,On=null,en=rt,on=rt=0,vi=null;en!==null&&on<ht.length;on++){en.index>on?(vi=en,en=null):vi=en.sibling;var Vn=pt(ct,en,ht[on],xt);if(Vn===null){en===null&&(en=vi);break}u&&en&&Vn.alternate===null&&f(ct,en),rt=j(Vn,rt,on),On===null?Kt=Vn:On.sibling=Vn,On=Vn,en=vi}if(on===ht.length)return g(ct,en),ve&&zs(ct,on),Kt;if(en===null){for(;on<ht.length;on++)en=At(ct,ht[on],xt),en!==null&&(rt=j(en,rt,on),On===null?Kt=en:On.sibling=en,On=en);return ve&&zs(ct,on),Kt}for(en=E(en);on<ht.length;on++)vi=vt(en,ct,on,ht[on],xt),vi!==null&&(u&&vi.alternate!==null&&en.delete(vi.key===null?on:vi.key),rt=j(vi,rt,on),On===null?Kt=vi:On.sibling=vi,On=vi);return u&&en.forEach(function(ml){return f(ct,ml)}),ve&&zs(ct,on),Kt}function yn(ct,rt,ht,xt){if(ht==null)throw Error(r(151));for(var Kt=null,On=null,en=rt,on=rt=0,vi=null,Vn=ht.next();en!==null&&!Vn.done;on++,Vn=ht.next()){en.index>on?(vi=en,en=null):vi=en.sibling;var ml=pt(ct,en,Vn.value,xt);if(ml===null){en===null&&(en=vi);break}u&&en&&ml.alternate===null&&f(ct,en),rt=j(ml,rt,on),On===null?Kt=ml:On.sibling=ml,On=ml,en=vi}if(Vn.done)return g(ct,en),ve&&zs(ct,on),Kt;if(en===null){for(;!Vn.done;on++,Vn=ht.next())Vn=At(ct,Vn.value,xt),Vn!==null&&(rt=j(Vn,rt,on),On===null?Kt=Vn:On.sibling=Vn,On=Vn);return ve&&zs(ct,on),Kt}for(en=E(en);!Vn.done;on++,Vn=ht.next())Vn=vt(en,ct,on,Vn.value,xt),Vn!==null&&(u&&Vn.alternate!==null&&en.delete(Vn.key===null?on:Vn.key),rt=j(Vn,rt,on),On===null?Kt=Vn:On.sibling=Vn,On=Vn);return u&&en.forEach(function(xW){return f(ct,xW)}),ve&&zs(ct,on),Kt}function $r(ct,rt,ht,xt){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:e:{for(var Kt=ht.key;rt!==null;){if(rt.key===Kt){if(Kt=ht.type,Kt===l){if(rt.tag===7){g(ct,rt.sibling),xt=M(rt,ht.props.children),xt.return=ct,ct=xt;break e}}else if(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===S&&qy(Kt)===rt.type){g(ct,rt.sibling),xt=M(rt,ht.props),yc(xt,ht),xt.return=ct,ct=xt;break e}g(ct,rt);break}else f(ct,rt);rt=rt.sibling}ht.type===l?(xt=Tc(ht.props.children,ct.mode,xt,ht.key),xt.return=ct,ct=xt):(xt=sv(ht.type,ht.key,ht.props,null,ct.mode,xt),yc(xt,ht),xt.return=ct,ct=xt)}return fe(ct);case s:e:{for(Kt=ht.key;rt!==null;){if(rt.key===Kt)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),xt=M(rt,ht.children||[]),xt.return=ct,ct=xt;break e}else{g(ct,rt);break}else f(ct,rt);rt=rt.sibling}xt=D1(ht,ct.mode,xt),xt.return=ct,ct=xt}return fe(ct);case S:return Kt=ht._init,ht=Kt(ht._payload),$r(ct,rt,ht,xt)}if(K(ht))return Jt(ct,rt,ht,xt);if(D(ht)){if(Kt=D(ht),typeof Kt!="function")throw Error(r(150));return ht=Kt.call(ht),yn(ct,rt,ht,xt)}if(typeof ht.then=="function")return $r(ct,rt,Vs(ht),xt);if(ht.$$typeof===y)return $r(ct,rt,iv(ct,ht),xt);Wf(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),xt=M(rt,ht),xt.return=ct,ct=xt):(g(ct,rt),xt=M1(ht,ct.mode,xt),xt.return=ct,ct=xt),fe(ct)):g(ct,rt)}return function(ct,rt,ht,xt){try{wr=0;var Kt=$r(ct,rt,ht,xt);return Hs=null,Kt}catch(en){if(en===gi)throw en;var On=co(29,en,null,ct.mode);return On.lanes=xt,On.return=ct,On}finally{}}}var rs=Qf(!0),zy=Qf(!1),Zf=Pe(null),Hy=Pe(0);function CL(u,f){u=nu,Ye(Hy,u),Ye(Zf,f),nu=u|f.baseLanes}function Ub(){Ye(Hy,nu),Ye(Zf,Zf.current)}function Bb(){nu=Hy.current,Ne(Zf),Ne(Hy)}var so=Pe(null),is=null;function Yu(u){var f=u.alternate;Ye(si,si.current&1),Ye(so,u),is===null&&(f===null||Zf.current!==null||f.memoizedState!==null)&&(is=u)}function TL(u){if(u.tag===22){if(Ye(si,si.current),Ye(so,u),is===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(is=u)}}else Xu()}function Xu(){Ye(si,si.current),Ye(so,so.current)}function Ks(u){Ne(so),is===u&&(is=null),Ne(si)}var si=Pe(0);function Vy(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var cG=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,E){u.push(E)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},fG=e.unstable_scheduleCallback,dG=e.unstable_NormalPriority,ui={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qb(){return{controller:new cG,data:new Map,refCount:0}}function hp(u){u.refCount--,u.refCount===0&&fG(dG,function(){u.controller.abort()})}var pp=null,zb=0,Jf=0,Yf=null;function hG(u,f){if(pp===null){var g=pp=[];zb=0,Jf=Q1(),Yf={status:"pending",value:void 0,then:function(E){g.push(E)}}}return zb++,f.then(AL,AL),f}function AL(){if(--zb===0&&pp!==null){Yf!==null&&(Yf.status="fulfilled");var u=pp;pp=null,Jf=0,Yf=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function pG(u,f){var g=[],E={status:"pending",value:null,reason:null,then:function(M){g.push(M)}};return u.then(function(){E.status="fulfilled",E.value=f;for(var M=0;M<g.length;M++)(0,g[M])(f)},function(M){for(E.status="rejected",E.reason=M,M=0;M<g.length;M++)(0,g[M])(void 0)}),E}var RL=X.S;X.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&hG(u,f),RL!==null&&RL(u,f)};var vc=Pe(null);function Hb(){var u=vc.current;return u!==null?u:br.pooledCache}function Ky(u,f){f===null?Ye(vc,vc.current):Ye(vc,f.pool)}function PL(){var u=Hb();return u===null?null:{parent:ui._currentValue,pool:u}}var el=0,Tn=null,dr=null,Xr=null,Gy=!1,Xf=!1,_c=!1,Wy=0,gp=0,ed=null,gG=0;function Wr(){throw Error(r(321))}function Vb(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!ea(u[g],f[g]))return!1;return!0}function Kb(u,f,g,E,M,j){return el=j,Tn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=u===null||u.memoizedState===null?wc:tl,_c=!1,j=g(E,M),_c=!1,Xf&&(j=LL(f,g,E,M)),OL(u),j}function OL(u){X.H=as;var f=dr!==null&&dr.next!==null;if(el=0,Xr=dr=Tn=null,Gy=!1,gp=0,ed=null,f)throw Error(r(300));u===null||mi||(u=u.dependencies,u!==null&&rv(u)&&(mi=!0))}function LL(u,f,g,E){Tn=u;var M=0;do{if(Xf&&(ed=null),gp=0,Xf=!1,25<=M)throw Error(r(301));if(M+=1,Xr=dr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}X.H=bc,j=f(g,E)}while(Xf);return j}function mG(){var u=X.H,f=u.useState()[0];return f=typeof f.then=="function"?mp(f):f,u=u.useState()[0],(dr!==null?dr.memoizedState:null)!==u&&(Tn.flags|=1024),f}function Gb(){var u=Wy!==0;return Wy=0,u}function Wb(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function Qb(u){if(Gy){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Gy=!1}el=0,Xr=dr=Tn=null,Xf=!1,gp=Wy=0,ed=null}function ba(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?Tn.memoizedState=Xr=u:Xr=Xr.next=u,Xr}function ei(){if(dr===null){var u=Tn.alternate;u=u!==null?u.memoizedState:null}else u=dr.next;var f=Xr===null?Tn.memoizedState:Xr.next;if(f!==null)Xr=f,dr=u;else{if(u===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));dr=u,u={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Xr===null?Tn.memoizedState=Xr=u:Xr=Xr.next=u}return Xr}var Qy;Qy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function mp(u){var f=gp;return gp+=1,ed===null&&(ed=[]),u=Uy(ed,u,f),f=Tn,(Xr===null?f.memoizedState:Xr.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?wc:tl),u}function Zy(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return mp(u);if(u.$$typeof===y)return qi(u)}throw Error(r(438,String(u)))}function Zb(u){var f=null,g=Tn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var E=Tn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(f={data:E.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Qy(),Tn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),E=0;E<u;E++)g[E]=P;return f.index++,g}function Gs(u,f){return typeof f=="function"?f(u):f}function Jy(u){var f=ei();return Jb(f,dr,u)}function Jb(u,f,g){var E=u.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=g;var M=u.baseQueue,j=E.pending;if(j!==null){if(M!==null){var fe=M.next;M.next=j.next,j.next=fe}f.baseQueue=M=j,E.pending=null}if(j=u.baseState,M===null)u.memoizedState=j;else{f=M.next;var Te=fe=null,Ve=null,at=f,_t=!1;do{var At=at.lane&-536870913;if(At!==at.lane?(Bn&At)===At:(el&At)===At){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),At===Jf&&(_t=!0);else if((el&pt)===pt){at=at.next,pt===Jf&&(_t=!0);continue}else At={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Te=Ve=At,fe=j):Ve=Ve.next=At,Tn.lanes|=pt,cl|=pt;At=at.action,_c&&g(j,At),j=at.hasEagerState?at.eagerState:g(j,At)}else pt={lane:At,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Te=Ve=pt,fe=j):Ve=Ve.next=pt,Tn.lanes|=At,cl|=At;at=at.next}while(at!==null&&at!==f);if(Ve===null?fe=j:Ve.next=Te,!ea(j,u.memoizedState)&&(mi=!0,_t&&(g=Yf,g!==null)))throw g;u.memoizedState=j,u.baseState=fe,u.baseQueue=Ve,E.lastRenderedState=j}return M===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function Yb(u){var f=ei(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var E=g.dispatch,M=g.pending,j=f.memoizedState;if(M!==null){g.pending=null;var fe=M=M.next;do j=u(j,fe.action),fe=fe.next;while(fe!==M);ea(j,f.memoizedState)||(mi=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),g.lastRenderedState=j}return[j,E]}function IL(u,f,g){var E=Tn,M=ei(),j=ve;if(j){if(g===void 0)throw Error(r(407));g=g()}else g=f();var fe=!ea((dr||M).memoizedState,g);if(fe&&(M.memoizedState=g,mi=!0),M=M.queue,t1(kL.bind(null,E,M,u),[u]),M.getSnapshot!==f||fe||Xr!==null&&Xr.memoizedState.tag&1){if(E.flags|=2048,td(9,DL.bind(null,E,M,g,f),{destroy:void 0},null),br===null)throw Error(r(349));j||el&60||ML(E,f,g)}return g}function ML(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Tn.updateQueue,f===null?(f=Qy(),Tn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function DL(u,f,g,E){f.value=g,f.getSnapshot=E,NL(f)&&FL(u)}function kL(u,f,g){return g(function(){NL(f)&&FL(u)})}function NL(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!ea(u,g)}catch{return!0}}function FL(u){var f=wa(u,2);f!==null&&oa(f,u,2)}function Xb(u){var f=ba();if(typeof u=="function"){var g=u;if(u=g(),_c){Nt(!0);try{g()}finally{Nt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:u},f}function jL(u,f,g,E){return u.baseState=g,Jb(u,dr,typeof E=="function"?E:Gs)}function yG(u,f,g,E,M){if(ev(u))throw Error(r(485));if(u=f.action,u!==null){var j={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){j.listeners.push(fe)}};X.T!==null?g(!0):j.isTransition=!1,E(j),g=f.pending,g===null?(j.next=f.pending=j,$L(f,j)):(j.next=g.next,f.pending=g.next=j)}}function $L(u,f){var g=f.action,E=f.payload,M=u.state;if(f.isTransition){var j=X.T,fe={};X.T=fe;try{var Te=g(M,E),Ve=X.S;Ve!==null&&Ve(fe,Te),UL(u,f,Te)}catch(at){e1(u,f,at)}finally{X.T=j}}else try{j=g(M,E),UL(u,f,j)}catch(at){e1(u,f,at)}}function UL(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){BL(u,f,E)},function(E){return e1(u,f,E)}):BL(u,f,g)}function BL(u,f,g){f.status="fulfilled",f.value=g,qL(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,$L(u,g)))}function e1(u,f,g){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do f.status="rejected",f.reason=g,qL(f),f=f.next;while(f!==E)}u.action=null}function qL(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function zL(u,f){return f}function HL(u,f){if(ve){var g=br.formState;if(g!==null){e:{var E=Tn;if(ve){if(re){t:{for(var M=re,j=st;M.nodeType!==8;){if(!j){M=null;break t}if(M=Oo(M.nextSibling),M===null){M=null;break t}}j=M.data,M=j==="F!"||j==="F"?M:null}if(M){re=Oo(M.nextSibling),E=M.data==="F!";break e}}St(E)}E=!1}E&&(f=g[0])}}return g=ba(),g.memoizedState=g.baseState=f,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zL,lastRenderedState:f},g.queue=E,g=uI.bind(null,Tn,E),E.dispatch=g,E=Xb(!1),j=o1.bind(null,Tn,!1,E.queue),E=ba(),M={state:f,dispatch:null,action:u,pending:null},E.queue=M,g=yG.bind(null,Tn,M,j,g),M.dispatch=g,E.memoizedState=u,[f,g,!1]}function VL(u){var f=ei();return KL(f,dr,u)}function KL(u,f,g){f=Jb(u,f,zL)[0],u=Jy(Gs)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?mp(f):f;var E=ei(),M=E.queue,j=M.dispatch;return g!==E.memoizedState&&(Tn.flags|=2048,td(9,vG.bind(null,M,g),{destroy:void 0},null)),[f,j,u]}function vG(u,f){u.action=f}function GL(u){var f=ei(),g=dr;if(g!==null)return KL(f,g,u);ei(),f=f.memoizedState,g=ei();var E=g.queue.dispatch;return g.memoizedState=u,[f,E,!1]}function td(u,f,g,E){return u={tag:u,create:f,inst:g,deps:E,next:null},f=Tn.updateQueue,f===null&&(f=Qy(),Tn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(E=g.next,g.next=u,u.next=E,f.lastEffect=u),u}function WL(){return ei().memoizedState}function Yy(u,f,g,E){var M=ba();Tn.flags|=u,M.memoizedState=td(1|f,g,{destroy:void 0},E===void 0?null:E)}function Xy(u,f,g,E){var M=ei();E=E===void 0?null:E;var j=M.memoizedState.inst;dr!==null&&E!==null&&Vb(E,dr.memoizedState.deps)?M.memoizedState=td(f,g,j,E):(Tn.flags|=u,M.memoizedState=td(1|f,g,j,E))}function QL(u,f){Yy(8390656,8,u,f)}function t1(u,f){Xy(2048,8,u,f)}function ZL(u,f){return Xy(4,2,u,f)}function JL(u,f){return Xy(4,4,u,f)}function YL(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function XL(u,f,g){g=g!=null?g.concat([u]):null,Xy(4,4,YL.bind(null,f,u),g)}function n1(){}function eI(u,f){var g=ei();f=f===void 0?null:f;var E=g.memoizedState;return f!==null&&Vb(f,E[1])?E[0]:(g.memoizedState=[u,f],u)}function tI(u,f){var g=ei();f=f===void 0?null:f;var E=g.memoizedState;if(f!==null&&Vb(f,E[1]))return E[0];if(E=u(),_c){Nt(!0);try{u()}finally{Nt(!1)}}return g.memoizedState=[E,f],E}function r1(u,f,g){return g===void 0||el&1073741824?u.memoizedState=f:(u.memoizedState=g,u=rM(),Tn.lanes|=u,cl|=u,g)}function nI(u,f,g,E){return ea(g,f)?g:Zf.current!==null?(u=r1(u,g,E),ea(u,f)||(mi=!0),u):el&42?(u=rM(),Tn.lanes|=u,cl|=u,f):(mi=!0,u.memoizedState=g)}function rI(u,f,g,E,M){var j=ee.p;ee.p=j!==0&&8>j?j:8;var fe=X.T,Te={};X.T=Te,o1(u,!1,f,g);try{var Ve=M(),at=X.S;if(at!==null&&at(Te,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var _t=pG(Ve,E);yp(u,f,_t,ja(u))}else yp(u,f,E,ja(u))}catch(At){yp(u,f,{then:function(){},status:"rejected",reason:At},ja())}finally{ee.p=j,X.T=fe}}function _G(){}function i1(u,f,g,E){if(u.tag!==5)throw Error(r(476));var M=iI(u).queue;rI(u,M,f,ge,g===null?_G:function(){return aI(u),g(E)})}function iI(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:ge},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function aI(u){var f=iI(u).next.queue;yp(u,f,{},ja())}function a1(){return qi(Fp)}function oI(){return ei().memoizedState}function sI(){return ei().memoizedState}function wG(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=ja();u=il(g);var E=al(f,u,g);E!==null&&(oa(E,f,g),wp(E,f,g)),f={cache:qb()},u.payload=f;return}f=f.return}}function bG(u,f,g){var E=ja();g={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ev(u)?lI(f,g):(g=Kf(u,f,g,E),g!==null&&(oa(g,u,E),cI(g,f,E)))}function uI(u,f,g){var E=ja();yp(u,f,g,E)}function yp(u,f,g,E){var M={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ev(u))lI(f,M);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var fe=f.lastRenderedState,Te=j(fe,g);if(M.hasEagerState=!0,M.eagerState=Te,ea(Te,fe))return pc(u,f,M,0),br===null&&_a(),!1}catch{}finally{}if(g=Kf(u,f,M,E),g!==null)return oa(g,u,E),cI(g,f,E),!0}return!1}function o1(u,f,g,E){if(E={lane:2,revertLane:Q1(),action:E,hasEagerState:!1,eagerState:null,next:null},ev(u)){if(f)throw Error(r(479))}else f=Kf(u,g,E,2),f!==null&&oa(f,u,2)}function ev(u){var f=u.alternate;return u===Tn||f!==null&&f===Tn}function lI(u,f){Xf=Gy=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function cI(u,f,g){if(g&4194176){var E=f.lanes;E&=u.pendingLanes,g|=E,f.lanes=g,Jn(u,g)}}var as={readContext:qi,use:Zy,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useLayoutEffect:Wr,useInsertionEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useSyncExternalStore:Wr,useId:Wr};as.useCacheRefresh=Wr,as.useMemoCache=Wr,as.useHostTransitionStatus=Wr,as.useFormState=Wr,as.useActionState=Wr,as.useOptimistic=Wr;var wc={readContext:qi,use:Zy,useCallback:function(u,f){return ba().memoizedState=[u,f===void 0?null:f],u},useContext:qi,useEffect:QL,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,Yy(4194308,4,YL.bind(null,f,u),g)},useLayoutEffect:function(u,f){return Yy(4194308,4,u,f)},useInsertionEffect:function(u,f){Yy(4,2,u,f)},useMemo:function(u,f){var g=ba();f=f===void 0?null:f;var E=u();if(_c){Nt(!0);try{u()}finally{Nt(!1)}}return g.memoizedState=[E,f],E},useReducer:function(u,f,g){var E=ba();if(g!==void 0){var M=g(f);if(_c){Nt(!0);try{g(f)}finally{Nt(!1)}}}else M=f;return E.memoizedState=E.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},E.queue=u,u=u.dispatch=bG.bind(null,Tn,u),[E.memoizedState,u]},useRef:function(u){var f=ba();return u={current:u},f.memoizedState=u},useState:function(u){u=Xb(u);var f=u.queue,g=uI.bind(null,Tn,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:n1,useDeferredValue:function(u,f){var g=ba();return r1(g,u,f)},useTransition:function(){var u=Xb(!1);return u=rI.bind(null,Tn,u.queue,!0,!1),ba().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var E=Tn,M=ba();if(ve){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),br===null)throw Error(r(349));Bn&60||ML(E,f,g)}M.memoizedState=g;var j={value:g,getSnapshot:f};return M.queue=j,QL(kL.bind(null,E,j,u),[u]),E.flags|=2048,td(9,DL.bind(null,E,j,g,f),{destroy:void 0},null),g},useId:function(){var u=ba(),f=br.identifierPrefix;if(ve){var g=oo,E=ao;g=(E&~(1<<32-Pt(E)-1)).toString(32)+g,f=":"+f+"R"+g,g=Wy++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=gG++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return ba().memoizedState=wG.bind(null,Tn)}};wc.useMemoCache=Zb,wc.useHostTransitionStatus=a1,wc.useFormState=HL,wc.useActionState=HL,wc.useOptimistic=function(u){var f=ba();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=o1.bind(null,Tn,!0,g),g.dispatch=f,[u,f]};var tl={readContext:qi,use:Zy,useCallback:eI,useContext:qi,useEffect:t1,useImperativeHandle:XL,useInsertionEffect:ZL,useLayoutEffect:JL,useMemo:tI,useReducer:Jy,useRef:WL,useState:function(){return Jy(Gs)},useDebugValue:n1,useDeferredValue:function(u,f){var g=ei();return nI(g,dr.memoizedState,u,f)},useTransition:function(){var u=Jy(Gs)[0],f=ei().memoizedState;return[typeof u=="boolean"?u:mp(u),f]},useSyncExternalStore:IL,useId:oI};tl.useCacheRefresh=sI,tl.useMemoCache=Zb,tl.useHostTransitionStatus=a1,tl.useFormState=VL,tl.useActionState=VL,tl.useOptimistic=function(u,f){var g=ei();return jL(g,dr,u,f)};var bc={readContext:qi,use:Zy,useCallback:eI,useContext:qi,useEffect:t1,useImperativeHandle:XL,useInsertionEffect:ZL,useLayoutEffect:JL,useMemo:tI,useReducer:Yb,useRef:WL,useState:function(){return Yb(Gs)},useDebugValue:n1,useDeferredValue:function(u,f){var g=ei();return dr===null?r1(g,u,f):nI(g,dr.memoizedState,u,f)},useTransition:function(){var u=Yb(Gs)[0],f=ei().memoizedState;return[typeof u=="boolean"?u:mp(u),f]},useSyncExternalStore:IL,useId:oI};bc.useCacheRefresh=sI,bc.useMemoCache=Zb,bc.useHostTransitionStatus=a1,bc.useFormState=GL,bc.useActionState=GL,bc.useOptimistic=function(u,f){var g=ei();return dr!==null?jL(g,dr,u,f):(g.baseState=u,[u,g.queue.dispatch])};function s1(u,f,g,E){f=u.memoizedState,g=g(E,f),g=g==null?f:U({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var u1={isMounted:function(u){return(u=u._reactInternals)?ue(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var E=ja(),M=il(E);M.payload=f,g!=null&&(M.callback=g),f=al(u,M,E),f!==null&&(oa(f,u,E),wp(f,u,E))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var E=ja(),M=il(E);M.tag=1,M.payload=f,g!=null&&(M.callback=g),f=al(u,M,E),f!==null&&(oa(f,u,E),wp(f,u,E))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=ja(),E=il(g);E.tag=2,f!=null&&(E.callback=f),f=al(u,E,g),f!==null&&(oa(f,u,g),wp(f,u,g))}};function fI(u,f,g,E,M,j,fe){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,j,fe):f.prototype&&f.prototype.isPureReactComponent?!ta(g,E)||!ta(M,j):!0}function dI(u,f,g,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,E),f.state!==u&&u1.enqueueReplaceState(f,f.state,null)}function Sc(u,f){var g=f;if("ref"in f){g={};for(var E in f)E!=="ref"&&(g[E]=f[E])}if(u=u.defaultProps){g===f&&(g=U({},g));for(var M in u)g[M]===void 0&&(g[M]=u[M])}return g}var tv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function hI(u){tv(u)}function pI(u){console.error(u)}function gI(u){tv(u)}function nv(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(E){setTimeout(function(){throw E})}}function mI(u,f,g){try{var E=u.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function l1(u,f,g){return g=il(g),g.tag=3,g.payload={element:null},g.callback=function(){nv(u,f)},g}function yI(u){return u=il(u),u.tag=3,u}function vI(u,f,g,E){var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var j=E.value;u.payload=function(){return M(j)},u.callback=function(){mI(f,g,E)}}var fe=g.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(u.callback=function(){mI(f,g,E),typeof M!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var Te=E.stack;this.componentDidCatch(E.value,{componentStack:Te!==null?Te:""})})}function SG(u,f,g,E,M){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(f=g.alternate,f!==null&&_p(f,g,M,!0),g=so.current,g!==null){switch(g.tag){case 13:return is===null?H1():g.alternate===null&&jr===0&&(jr=3),g.flags&=-257,g.flags|=65536,g.lanes=M,E===ns?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([E]):f.add(E),K1(u,E,M)),!1;case 22:return g.flags|=65536,E===ns?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([E]):g.add(E)),K1(u,E,M)),!1}throw Error(r(435,g.tag))}return K1(u,E,M),H1(),!1}if(ve)return f=so.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=M,E!==yt&&(u=Error(r(422),{cause:E}),Pr(ra(u,g)))):(E!==yt&&(f=Error(r(423),{cause:E}),Pr(ra(f,g))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,E=ra(E,g),M=l1(u.stateNode,E,M),E1(u,M),jr!==4&&(jr=2)),!1;var j=Error(r(520),{cause:E});if(j=ra(j,g),Rp===null?Rp=[j]:Rp.push(j),jr!==4&&(jr=2),f===null)return!0;E=ra(E,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=M&-M,g.lanes|=u,u=l1(g.stateNode,E,u),E1(g,u),!1;case 1:if(f=g.type,j=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(fl===null||!fl.has(j))))return g.flags|=65536,M&=-M,g.lanes|=M,M=yI(M),vI(M,u,g,E),E1(g,M),!1}g=g.return}while(g!==null);return!1}var _I=Error(r(461)),mi=!1;function Ci(u,f,g,E){f.child=u===null?zy(f,null,g,E):rs(f,u.child,g,E)}function wI(u,f,g,E,M){g=g.render;var j=f.ref;if("ref"in E){var fe={};for(var Te in E)Te!=="ref"&&(fe[Te]=E[Te])}else fe=E;return Ec(f),E=Kb(u,f,g,fe,j,M),Te=Gb(),u!==null&&!mi?(Wb(u,f,M),Ws(u,f,M)):(ve&&Te&&w(f),f.flags|=1,Ci(u,f,E,M),f.child)}function bI(u,f,g,E,M){if(u===null){var j=g.type;return typeof j=="function"&&!I1(j)&&j.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=j,SI(u,f,j,E,M)):(u=sv(g.type,null,E,f,f.mode,M),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,!v1(u,M)){var fe=j.memoizedProps;if(g=g.compare,g=g!==null?g:ta,g(fe,E)&&u.ref===f.ref)return Ws(u,f,M)}return f.flags|=1,u=ll(j,E),u.ref=f.ref,u.return=f,f.child=u}function SI(u,f,g,E,M){if(u!==null){var j=u.memoizedProps;if(ta(j,E)&&u.ref===f.ref)if(mi=!1,f.pendingProps=E=j,v1(u,M))u.flags&131072&&(mi=!0);else return f.lanes=u.lanes,Ws(u,f,M)}return c1(u,f,g,E,M)}function xI(u,f,g){var E=f.pendingProps,M=E.children,j=(f.stateNode._pendingVisibility&2)!==0,fe=u!==null?u.memoizedState:null;if(vp(u,f),E.mode==="hidden"||j){if(f.flags&128){if(E=fe!==null?fe.baseLanes|g:g,u!==null){for(M=f.child=u.child,j=0;M!==null;)j=j|M.lanes|M.childLanes,M=M.sibling;f.childLanes=j&~E}else f.childLanes=0,f.child=null;return EI(u,f,E,g)}if(g&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Ky(f,fe!==null?fe.cachePool:null),fe!==null?CL(f,fe):Ub(),TL(f);else return f.lanes=f.childLanes=536870912,EI(u,f,fe!==null?fe.baseLanes|g:g,g)}else fe!==null?(Ky(f,fe.cachePool),CL(f,fe),Xu(),f.memoizedState=null):(u!==null&&Ky(f,null),Ub(),Xu());return Ci(u,f,M,g),f.child}function EI(u,f,g,E){var M=Hb();return M=M===null?null:{parent:ui._currentValue,pool:M},f.memoizedState={baseLanes:g,cachePool:M},u!==null&&Ky(f,null),Ub(),TL(f),u!==null&&_p(u,f,E,!0),null}function vp(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(f.flags|=2097664)}}function c1(u,f,g,E,M){return Ec(f),g=Kb(u,f,g,E,void 0,M),E=Gb(),u!==null&&!mi?(Wb(u,f,M),Ws(u,f,M)):(ve&&E&&w(f),f.flags|=1,Ci(u,f,g,M),f.child)}function CI(u,f,g,E,M,j){return Ec(f),f.updateQueue=null,g=LL(f,E,g,M),OL(u),E=Gb(),u!==null&&!mi?(Wb(u,f,j),Ws(u,f,j)):(ve&&E&&w(f),f.flags|=1,Ci(u,f,g,j),f.child)}function TI(u,f,g,E,M){if(Ec(f),f.stateNode===null){var j=io,fe=g.contextType;typeof fe=="object"&&fe!==null&&(j=qi(fe)),j=new g(E,j),f.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=u1,f.stateNode=j,j._reactInternals=f,j=f.stateNode,j.props=E,j.state=f.memoizedState,j.refs={},S1(f),fe=g.contextType,j.context=typeof fe=="object"&&fe!==null?qi(fe):io,j.state=f.memoizedState,fe=g.getDerivedStateFromProps,typeof fe=="function"&&(s1(f,g,fe,E),j.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(fe=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),fe!==j.state&&u1.enqueueReplaceState(j,j.state,null),Sp(f,E,j,M),bp(),j.state=f.memoizedState),typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!0}else if(u===null){j=f.stateNode;var Te=f.memoizedProps,Ve=Sc(g,Te);j.props=Ve;var at=j.context,_t=g.contextType;fe=io,typeof _t=="object"&&_t!==null&&(fe=qi(_t));var At=g.getDerivedStateFromProps;_t=typeof At=="function"||typeof j.getSnapshotBeforeUpdate=="function",Te=f.pendingProps!==Te,_t||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Te||at!==fe)&&dI(f,j,E,fe),rl=!1;var pt=f.memoizedState;j.state=pt,Sp(f,E,j,M),bp(),at=f.memoizedState,Te||pt!==at||rl?(typeof At=="function"&&(s1(f,g,At,E),at=f.memoizedState),(Ve=rl||fI(f,g,Ve,E,pt,at,fe))?(_t||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=at),j.props=E,j.state=at,j.context=fe,E=Ve):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{j=f.stateNode,x1(u,f),fe=f.memoizedProps,_t=Sc(g,fe),j.props=_t,At=f.pendingProps,pt=j.context,at=g.contextType,Ve=io,typeof at=="object"&&at!==null&&(Ve=qi(at)),Te=g.getDerivedStateFromProps,(at=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(fe!==At||pt!==Ve)&&dI(f,j,E,Ve),rl=!1,pt=f.memoizedState,j.state=pt,Sp(f,E,j,M),bp();var vt=f.memoizedState;fe!==At||pt!==vt||rl||u!==null&&u.dependencies!==null&&rv(u.dependencies)?(typeof Te=="function"&&(s1(f,g,Te,E),vt=f.memoizedState),(_t=rl||fI(f,g,_t,E,pt,vt,Ve)||u!==null&&u.dependencies!==null&&rv(u.dependencies))?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(E,vt,Ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(E,vt,Ve)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=vt),j.props=E,j.state=vt,j.context=Ve,E=_t):(typeof j.componentDidUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),E=!1)}return j=E,vp(u,f),E=(f.flags&128)!==0,j||E?(j=f.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:j.render(),f.flags|=1,u!==null&&E?(f.child=rs(f,u.child,null,M),f.child=rs(f,null,g,M)):Ci(u,f,g,M),f.memoizedState=j.state,u=f.child):u=Ws(u,f,M),u}function AI(u,f,g,E){return Gr(),f.flags|=256,Ci(u,f,g,E),f.child}var f1={dehydrated:null,treeContext:null,retryLane:0};function d1(u){return{baseLanes:u,cachePool:PL()}}function h1(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=fo),u}function RI(u,f,g){var E=f.pendingProps,M=!1,j=(f.flags&128)!==0,fe;if((fe=j)||(fe=u!==null&&u.memoizedState===null?!1:(si.current&2)!==0),fe&&(M=!0,f.flags&=-129),fe=(f.flags&32)!==0,f.flags&=-33,u===null){if(ve){if(M?Yu(f):Xu(),ve){var Te=re,Ve;if(Ve=Te){e:{for(Ve=Te,Te=st;Ve.nodeType!==8;){if(!Te){Te=null;break e}if(Ve=Oo(Ve.nextSibling),Ve===null){Te=null;break e}}Te=Ve}Te!==null?(f.memoizedState={dehydrated:Te,treeContext:qs!==null?{id:ao,overflow:oo}:null,retryLane:536870912},Ve=co(18,null,null,0),Ve.stateNode=Te,Ve.return=f,f.child=Ve,B=f,re=null,Ve=!0):Ve=!1}Ve||St(f)}if(Te=f.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null))return Te.data==="$!"?f.lanes=16:f.lanes=536870912,null;Ks(f)}return Te=E.children,E=E.fallback,M?(Xu(),M=f.mode,Te=g1({mode:"hidden",children:Te},M),E=Tc(E,M,g,null),Te.return=f,E.return=f,Te.sibling=E,f.child=Te,M=f.child,M.memoizedState=d1(g),M.childLanes=h1(u,fe,g),f.memoizedState=f1,E):(Yu(f),p1(f,Te))}if(Ve=u.memoizedState,Ve!==null&&(Te=Ve.dehydrated,Te!==null)){if(j)f.flags&256?(Yu(f),f.flags&=-257,f=m1(u,f,g)):f.memoizedState!==null?(Xu(),f.child=u.child,f.flags|=128,f=null):(Xu(),M=E.fallback,Te=f.mode,E=g1({mode:"visible",children:E.children},Te),M=Tc(M,Te,g,null),M.flags|=2,E.return=f,M.return=f,E.sibling=M,f.child=E,rs(f,u.child,null,g),E=f.child,E.memoizedState=d1(g),E.childLanes=h1(u,fe,g),f.memoizedState=f1,f=M);else if(Yu(f),Te.data==="$!"){if(fe=Te.nextSibling&&Te.nextSibling.dataset,fe)var at=fe.dgst;fe=at,E=Error(r(419)),E.stack="",E.digest=fe,Pr({value:E,source:null,stack:null}),f=m1(u,f,g)}else if(mi||_p(u,f,g,!1),fe=(g&u.childLanes)!==0,mi||fe){if(fe=br,fe!==null){if(E=g&-g,E&42)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=E&(fe.suspendedLanes|g)?0:E,E!==0&&E!==Ve.retryLane)throw Ve.retryLane=E,wa(u,E),oa(fe,u,E),_I}Te.data==="$?"||H1(),f=m1(u,f,g)}else Te.data==="$?"?(f.flags|=128,f.child=u.child,f=FG.bind(null,u),Te._reactRetry=f,f=null):(u=Ve.treeContext,re=Oo(Te.nextSibling),B=f,ve=!0,Ge=null,st=!1,u!==null&&(ia[aa++]=ao,ia[aa++]=oo,ia[aa++]=qs,ao=u.id,oo=u.overflow,qs=f),f=p1(f,E.children),f.flags|=4096);return f}return M?(Xu(),M=E.fallback,Te=f.mode,Ve=u.child,at=Ve.sibling,E=ll(Ve,{mode:"hidden",children:E.children}),E.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?M=ll(at,M):(M=Tc(M,Te,g,null),M.flags|=2),M.return=f,E.return=f,E.sibling=M,f.child=E,E=M,M=f.child,Te=u.child.memoizedState,Te===null?Te=d1(g):(Ve=Te.cachePool,Ve!==null?(at=ui._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=PL(),Te={baseLanes:Te.baseLanes|g,cachePool:Ve}),M.memoizedState=Te,M.childLanes=h1(u,fe,g),f.memoizedState=f1,E):(Yu(f),g=u.child,u=g.sibling,g=ll(g,{mode:"visible",children:E.children}),g.return=f,g.sibling=null,u!==null&&(fe=f.deletions,fe===null?(f.deletions=[u],f.flags|=16):fe.push(u)),f.child=g,f.memoizedState=null,g)}function p1(u,f){return f=g1({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function g1(u,f){return eM(u,f,0,null)}function m1(u,f,g){return rs(f,u.child,null,g),u=p1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function PI(u,f,g){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),w1(u.return,f,g)}function y1(u,f,g,E,M){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:M}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=E,j.tail=g,j.tailMode=M)}function OI(u,f,g){var E=f.pendingProps,M=E.revealOrder,j=E.tail;if(Ci(u,f,E.children,g),E=si.current,E&2)E=E&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&PI(u,g,f);else if(u.tag===19)PI(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(Ye(si,E),M){case"forwards":for(g=f.child,M=null;g!==null;)u=g.alternate,u!==null&&Vy(u)===null&&(M=g),g=g.sibling;g=M,g===null?(M=f.child,f.child=null):(M=g.sibling,g.sibling=null),y1(f,!1,M,g,j);break;case"backwards":for(g=null,M=f.child,f.child=null;M!==null;){if(u=M.alternate,u!==null&&Vy(u)===null){f.child=M;break}u=M.sibling,M.sibling=g,g=M,M=u}y1(f,!0,g,null,j);break;case"together":y1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ws(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),cl|=f.lanes,!(g&f.childLanes))if(u!==null){if(_p(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=ll(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=ll(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function v1(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&rv(u)))}function xG(u,f,g){switch(f.tag){case 3:Z(f,f.stateNode.containerInfo),nl(f,ui,u.memoizedState.cache),Gr();break;case 27:case 5:ye(f);break;case 4:Z(f,f.stateNode.containerInfo);break;case 10:nl(f,f.type,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(Yu(f),f.flags|=128,null):g&f.child.childLanes?RI(u,f,g):(Yu(f),u=Ws(u,f,g),u!==null?u.sibling:null);Yu(f);break;case 19:var M=(u.flags&128)!==0;if(E=(g&f.childLanes)!==0,E||(_p(u,f,g,!1),E=(g&f.childLanes)!==0),M){if(E)return OI(u,f,g);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ye(si,si.current),E)break;return null;case 22:case 23:return f.lanes=0,xI(u,f,g);case 24:nl(f,ui,u.memoizedState.cache)}return Ws(u,f,g)}function LI(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)mi=!0;else{if(!v1(u,g)&&!(f.flags&128))return mi=!1,xG(u,f,g);mi=!!(u.flags&131072)}else mi=!1,ve&&f.flags&1048576&&p(f,mc,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var E=f.elementType,M=E._init;if(E=M(E._payload),f.type=E,typeof E=="function")I1(E)?(u=Sc(E,u),f.tag=1,f=TI(null,f,E,u,g)):(f.tag=0,f=c1(null,f,E,u,g));else{if(E!=null){if(M=E.$$typeof,M===v){f.tag=11,f=wI(null,f,E,u,g);break e}else if(M===b){f.tag=14,f=bI(null,f,E,u,g);break e}}throw f=Q(E)||E,Error(r(306,f,""))}}return f;case 0:return c1(u,f,f.type,f.pendingProps,g);case 1:return E=f.type,M=Sc(E,f.pendingProps),TI(u,f,E,M,g);case 3:e:{if(Z(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var j=f.pendingProps;M=f.memoizedState,E=M.element,x1(u,f),Sp(f,j,null,g);var fe=f.memoizedState;if(j=fe.cache,nl(f,ui,j),j!==M.cache&&b1(f,[ui],g,!0),bp(),j=fe.element,M.isDehydrated)if(M={element:j,isDehydrated:!1,cache:fe.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=AI(u,f,j,g);break e}else if(j!==E){E=ra(Error(r(424)),f),Pr(E),f=AI(u,f,j,g);break e}else for(re=Oo(f.stateNode.containerInfo.firstChild),B=f,ve=!0,Ge=null,st=!0,g=zy(f,null,j,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Gr(),j===E){f=Ws(u,f,g);break e}Ci(u,f,j,g)}f=f.child}return f;case 26:return vp(u,f),u===null?(g=DM(f.type,null,f.pendingProps,null))?f.memoizedState=g:ve||(g=f.type,u=f.pendingProps,E=_v($.current).createElement(g),E[it]=f,E[Ct]=u,Ti(E,g,u),qn(E),f.stateNode=E):f.memoizedState=DM(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ye(f),u===null&&ve&&(E=f.stateNode=LM(f.type,f.pendingProps,$.current),B=f,st=!0,re=Oo(E.firstChild)),E=f.pendingProps.children,u!==null||ve?Ci(u,f,E,g):f.child=rs(f,null,E,g),vp(u,f),f.child;case 5:return u===null&&ve&&((M=E=re)&&(E=XG(E,f.type,f.pendingProps,st),E!==null?(f.stateNode=E,B=f,re=Oo(E.firstChild),st=!1,M=!0):M=!1),M||St(f)),ye(f),M=f.type,j=f.pendingProps,fe=u!==null?u.memoizedProps:null,E=j.children,iS(M,j)?E=null:fe!==null&&iS(M,fe)&&(f.flags|=32),f.memoizedState!==null&&(M=Kb(u,f,mG,null,null,g),Fp._currentValue=M),vp(u,f),Ci(u,f,E,g),f.child;case 6:return u===null&&ve&&((u=g=re)&&(g=eW(g,f.pendingProps,st),g!==null?(f.stateNode=g,B=f,re=null,u=!0):u=!1),u||St(f)),null;case 13:return RI(u,f,g);case 4:return Z(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=rs(f,null,E,g):Ci(u,f,E,g),f.child;case 11:return wI(u,f,f.type,f.pendingProps,g);case 7:return Ci(u,f,f.pendingProps,g),f.child;case 8:return Ci(u,f,f.pendingProps.children,g),f.child;case 12:return Ci(u,f,f.pendingProps.children,g),f.child;case 10:return E=f.pendingProps,nl(f,f.type,E.value),Ci(u,f,E.children,g),f.child;case 9:return M=f.type._context,E=f.pendingProps.children,Ec(f),M=qi(M),E=E(M),f.flags|=1,Ci(u,f,E,g),f.child;case 14:return bI(u,f,f.type,f.pendingProps,g);case 15:return SI(u,f,f.type,f.pendingProps,g);case 19:return OI(u,f,g);case 22:return xI(u,f,g);case 24:return Ec(f),E=qi(ui),u===null?(M=Hb(),M===null&&(M=br,j=qb(),M.pooledCache=j,j.refCount++,j!==null&&(M.pooledCacheLanes|=g),M=j),f.memoizedState={parent:E,cache:M},S1(f),nl(f,ui,M)):(u.lanes&g&&(x1(u,f),Sp(f,null,null,g),bp()),M=u.memoizedState,j=f.memoizedState,M.parent!==E?(M={parent:E,cache:E},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),nl(f,ui,E)):(E=j.cache,nl(f,ui,E),E!==M.cache&&b1(f,[ui],g,!0))),Ci(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var _1=Pe(null),xc=null,Qs=null;function nl(u,f,g){Ye(_1,f._currentValue),f._currentValue=g}function Zs(u){u._currentValue=_1.current,Ne(_1)}function w1(u,f,g){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===g)break;u=u.return}}function b1(u,f,g,E){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var j=M.dependencies;if(j!==null){var fe=M.child;j=j.firstContext;e:for(;j!==null;){var Te=j;j=M;for(var Ve=0;Ve<f.length;Ve++)if(Te.context===f[Ve]){j.lanes|=g,Te=j.alternate,Te!==null&&(Te.lanes|=g),w1(j.return,g,u),E||(fe=null);break e}j=Te.next}}else if(M.tag===18){if(fe=M.return,fe===null)throw Error(r(341));fe.lanes|=g,j=fe.alternate,j!==null&&(j.lanes|=g),w1(fe,g,u),fe=null}else fe=M.child;if(fe!==null)fe.return=M;else for(fe=M;fe!==null;){if(fe===u){fe=null;break}if(M=fe.sibling,M!==null){M.return=fe.return,fe=M;break}fe=fe.return}M=fe}}function _p(u,f,g,E){u=null;for(var M=f,j=!1;M!==null;){if(!j){if(M.flags&524288)j=!0;else if(M.flags&262144)break}if(M.tag===10){var fe=M.alternate;if(fe===null)throw Error(r(387));if(fe=fe.memoizedProps,fe!==null){var Te=M.type;ea(M.pendingProps.value,fe.value)||(u!==null?u.push(Te):u=[Te])}}else if(M===ae.current){if(fe=M.alternate,fe===null)throw Error(r(387));fe.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Fp):u=[Fp])}M=M.return}u!==null&&b1(f,u,g,E),f.flags|=262144}function rv(u){for(u=u.firstContext;u!==null;){if(!ea(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Ec(u){xc=u,Qs=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function qi(u){return II(xc,u)}function iv(u,f){return xc===null&&Ec(u),II(u,f)}function II(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Qs===null){if(u===null)throw Error(r(308));Qs=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Qs=Qs.next=f;return g}var rl=!1;function S1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function x1(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function il(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function al(u,f,g){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,Dr&2){var M=E.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),E.pending=f,f=Us(u),jy(u,null,g),f}return pc(u,E,f,g),Us(u)}function wp(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var E=f.lanes;E&=u.pendingLanes,g|=E,f.lanes=g,Jn(u,g)}}function E1(u,f){var g=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var M=null,j=null;if(g=g.firstBaseUpdate,g!==null){do{var fe={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};j===null?M=j=fe:j=j.next=fe,g=g.next}while(g!==null);j===null?M=j=f:j=j.next=f}else M=j=f;g={baseState:E.baseState,firstBaseUpdate:M,lastBaseUpdate:j,shared:E.shared,callbacks:E.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var C1=!1;function bp(){if(C1){var u=Yf;if(u!==null)throw u}}function Sp(u,f,g,E){C1=!1;var M=u.updateQueue;rl=!1;var j=M.firstBaseUpdate,fe=M.lastBaseUpdate,Te=M.shared.pending;if(Te!==null){M.shared.pending=null;var Ve=Te,at=Ve.next;Ve.next=null,fe===null?j=at:fe.next=at,fe=Ve;var _t=u.alternate;_t!==null&&(_t=_t.updateQueue,Te=_t.lastBaseUpdate,Te!==fe&&(Te===null?_t.firstBaseUpdate=at:Te.next=at,_t.lastBaseUpdate=Ve))}if(j!==null){var At=M.baseState;fe=0,_t=at=Ve=null,Te=j;do{var pt=Te.lane&-536870913,vt=pt!==Te.lane;if(vt?(Bn&pt)===pt:(E&pt)===pt){pt!==0&&pt===Jf&&(C1=!0),_t!==null&&(_t=_t.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var Jt=u,yn=Te;pt=f;var $r=g;switch(yn.tag){case 1:if(Jt=yn.payload,typeof Jt=="function"){At=Jt.call($r,At,pt);break e}At=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=yn.payload,pt=typeof Jt=="function"?Jt.call($r,At,pt):Jt,pt==null)break e;At=U({},At,pt);break e;case 2:rl=!0}}pt=Te.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=M.callbacks,vt===null?M.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},_t===null?(at=_t=vt,Ve=At):_t=_t.next=vt,fe|=pt;if(Te=Te.next,Te===null){if(Te=M.shared.pending,Te===null)break;vt=Te,Te=vt.next,vt.next=null,M.lastBaseUpdate=vt,M.shared.pending=null}}while(!0);_t===null&&(Ve=At),M.baseState=Ve,M.firstBaseUpdate=at,M.lastBaseUpdate=_t,j===null&&(M.shared.lanes=0),cl|=fe,u.lanes=fe,u.memoizedState=At}}function MI(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function DI(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)MI(g[u],f)}function xp(u,f){try{var g=f.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var M=E.next;g=M;do{if((g.tag&u)===u){E=void 0;var j=g.create,fe=g.inst;E=j(),fe.destroy=E}g=g.next}while(g!==M)}}catch(Te){vr(f,f.return,Te)}}function ol(u,f,g){try{var E=f.updateQueue,M=E!==null?E.lastEffect:null;if(M!==null){var j=M.next;E=j;do{if((E.tag&u)===u){var fe=E.inst,Te=fe.destroy;if(Te!==void 0){fe.destroy=void 0,M=f;var Ve=g;try{Te()}catch(at){vr(M,Ve,at)}}}E=E.next}while(E!==j)}}catch(at){vr(f,f.return,at)}}function kI(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{DI(f,g)}catch(E){vr(u,u.return,E)}}}function NI(u,f,g){g.props=Sc(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(E){vr(u,f,E)}}function Cc(u,f){try{var g=u.ref;if(g!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var M=E;break;default:M=E}typeof g=="function"?u.refCleanup=g(M):g.current=M}}catch(j){vr(u,f,j)}}function ka(u,f){var g=u.ref,E=u.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(M){vr(u,f,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(M){vr(u,f,M)}else g.current=null}function FI(u){var f=u.type,g=u.memoizedProps,E=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&E.focus();break e;case"img":g.src?E.src=g.src:g.srcSet&&(E.srcset=g.srcSet)}}catch(M){vr(u,u.return,M)}}function jI(u,f,g){try{var E=u.stateNode;WG(E,u.type,g,f),E[Ct]=f}catch(M){vr(u,u.return,M)}}function $I(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function T1(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||$I(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function A1(u,f,g){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=vv));else if(E!==4&&E!==27&&(u=u.child,u!==null))for(A1(u,f,g),u=u.sibling;u!==null;)A1(u,f,g),u=u.sibling}function av(u,f,g){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(E!==4&&E!==27&&(u=u.child,u!==null))for(av(u,f,g),u=u.sibling;u!==null;)av(u,f,g),u=u.sibling}var Js=!1,Fr=!1,R1=!1,UI=typeof WeakSet=="function"?WeakSet:Set,yi=null,BI=!1;function EG(u,f){if(u=u.containerInfo,nS=Cv,u=lc(u),cc(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var M=E.anchorOffset,j=E.focusNode;E=E.focusOffset;try{g.nodeType,j.nodeType}catch{g=null;break e}var fe=0,Te=-1,Ve=-1,at=0,_t=0,At=u,pt=null;t:for(;;){for(var vt;At!==g||M!==0&&At.nodeType!==3||(Te=fe+M),At!==j||E!==0&&At.nodeType!==3||(Ve=fe+E),At.nodeType===3&&(fe+=At.nodeValue.length),(vt=At.firstChild)!==null;)pt=At,At=vt;for(;;){if(At===u)break t;if(pt===g&&++at===M&&(Te=fe),pt===j&&++_t===E&&(Ve=fe),(vt=At.nextSibling)!==null)break;At=pt,pt=At.parentNode}At=vt}g=Te===-1||Ve===-1?null:{start:Te,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for(rS={focusedElem:u,selectionRange:g},Cv=!1,yi=f;yi!==null;)if(f=yi,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,yi=u;else for(;yi!==null;){switch(f=yi,j=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,g=f,M=j.memoizedProps,j=j.memoizedState,E=g.stateNode;try{var Jt=Sc(g.type,M,g.elementType===g.type);u=E.getSnapshotBeforeUpdate(Jt,j),E.__reactInternalSnapshotBeforeUpdate=u}catch(yn){vr(g,g.return,yn)}}break;case 3:if(u&1024){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)sS(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":sS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,yi=u;break}yi=f.return}return Jt=BI,BI=!1,Jt}function qI(u,f,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(u,g),E&4&&xp(5,g);break;case 1:if(Xs(u,g),E&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(Te){vr(g,g.return,Te)}else{var M=Sc(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(M,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Te){vr(g,g.return,Te)}}E&64&&kI(g),E&512&&Cc(g,g.return);break;case 3:if(Xs(u,g),E&64&&(E=g.updateQueue,E!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{DI(E,u)}catch(Te){vr(g,g.return,Te)}}break;case 26:Xs(u,g),E&512&&Cc(g,g.return);break;case 27:case 5:Xs(u,g),f===null&&E&4&&FI(g),E&512&&Cc(g,g.return);break;case 12:Xs(u,g);break;case 13:Xs(u,g),E&4&&VI(u,g);break;case 22:if(M=g.memoizedState!==null||Js,!M){f=f!==null&&f.memoizedState!==null||Fr;var j=Js,fe=Fr;Js=M,(Fr=f)&&!fe?sl(u,g,(g.subtreeFlags&8772)!==0):Xs(u,g),Js=j,Fr=fe}E&512&&(g.memoizedProps.mode==="manual"?Cc(g,g.return):ka(g,g.return));break;default:Xs(u,g)}}function zI(u){var f=u.alternate;f!==null&&(u.alternate=null,zI(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Pn(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ti=null,Na=!1;function Ys(u,f,g){for(g=g.child;g!==null;)HI(u,f,g),g=g.sibling}function HI(u,f,g){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ke,g)}catch{}switch(g.tag){case 26:Fr||ka(g,f),Ys(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Fr||ka(g,f);var E=ti,M=Na;for(ti=g.stateNode,Ys(u,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);Pn(g),ti=E,Na=M;break;case 5:Fr||ka(g,f);case 6:M=ti;var j=Na;if(ti=null,Ys(u,f,g),ti=M,Na=j,ti!==null)if(Na)try{u=ti,E=g.stateNode,u.nodeType===8?u.parentNode.removeChild(E):u.removeChild(E)}catch(fe){vr(g,f,fe)}else try{ti.removeChild(g.stateNode)}catch(fe){vr(g,f,fe)}break;case 18:ti!==null&&(Na?(f=ti,g=g.stateNode,f.nodeType===8?oS(f.parentNode,g):f.nodeType===1&&oS(f,g),Bp(f)):oS(ti,g.stateNode));break;case 4:E=ti,M=Na,ti=g.stateNode.containerInfo,Na=!0,Ys(u,f,g),ti=E,Na=M;break;case 0:case 11:case 14:case 15:Fr||ol(2,g,f),Fr||ol(4,g,f),Ys(u,f,g);break;case 1:Fr||(ka(g,f),E=g.stateNode,typeof E.componentWillUnmount=="function"&&NI(g,f,E)),Ys(u,f,g);break;case 21:Ys(u,f,g);break;case 22:Fr||ka(g,f),Fr=(E=Fr)||g.memoizedState!==null,Ys(u,f,g),Fr=E;break;default:Ys(u,f,g)}}function VI(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Bp(u)}catch(g){vr(f,f.return,g)}}function CG(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new UI),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new UI),f;default:throw Error(r(435,u.tag))}}function P1(u,f){var g=CG(u);f.forEach(function(E){var M=jG.bind(null,u,E);g.has(E)||(g.add(E),E.then(M,M))})}function uo(u,f){var g=f.deletions;if(g!==null)for(var E=0;E<g.length;E++){var M=g[E],j=u,fe=f,Te=fe;e:for(;Te!==null;){switch(Te.tag){case 27:case 5:ti=Te.stateNode,Na=!1;break e;case 3:ti=Te.stateNode.containerInfo,Na=!0;break e;case 4:ti=Te.stateNode.containerInfo,Na=!0;break e}Te=Te.return}if(ti===null)throw Error(r(160));HI(j,fe,M),ti=null,Na=!1,j=M.alternate,j!==null&&(j.return=null),M.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)KI(f,u),f=f.sibling}var Po=null;function KI(u,f){var g=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:uo(f,u),lo(u),E&4&&(ol(3,u,u.return),xp(3,u),ol(5,u,u.return));break;case 1:uo(f,u),lo(u),E&512&&(Fr||g===null||ka(g,g.return)),E&64&&Js&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:var M=Po;if(uo(f,u),lo(u),E&512&&(Fr||g===null||ka(g,g.return)),E&4){var j=g!==null?g.memoizedState:null;if(E=u.memoizedState,g===null)if(E===null)if(u.stateNode===null){e:{E=u.type,g=u.memoizedProps,M=M.ownerDocument||M;t:switch(E){case"title":j=M.getElementsByTagName("title")[0],(!j||j[tn]||j[it]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=M.createElement(E),M.head.insertBefore(j,M.querySelector("head > title"))),Ti(j,E,g),j[it]=u,qn(j),E=j;break e;case"link":var fe=FM("link","href",M).get(E+(g.href||""));if(fe){for(var Te=0;Te<fe.length;Te++)if(j=fe[Te],j.getAttribute("href")===(g.href==null?null:g.href)&&j.getAttribute("rel")===(g.rel==null?null:g.rel)&&j.getAttribute("title")===(g.title==null?null:g.title)&&j.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){fe.splice(Te,1);break t}}j=M.createElement(E),Ti(j,E,g),M.head.appendChild(j);break;case"meta":if(fe=FM("meta","content",M).get(E+(g.content||""))){for(Te=0;Te<fe.length;Te++)if(j=fe[Te],j.getAttribute("content")===(g.content==null?null:""+g.content)&&j.getAttribute("name")===(g.name==null?null:g.name)&&j.getAttribute("property")===(g.property==null?null:g.property)&&j.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&j.getAttribute("charset")===(g.charSet==null?null:g.charSet)){fe.splice(Te,1);break t}}j=M.createElement(E),Ti(j,E,g),M.head.appendChild(j);break;default:throw Error(r(468,E))}j[it]=u,qn(j),E=j}u.stateNode=E}else jM(M,u.type,u.stateNode);else u.stateNode=NM(M,E,u.memoizedProps);else j!==E?(j===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):j.count--,E===null?jM(M,u.type,u.stateNode):NM(M,E,u.memoizedProps)):E===null&&u.stateNode!==null&&jI(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(E&4&&u.alternate===null){M=u.stateNode,j=u.memoizedProps;try{for(var Ve=M.firstChild;Ve;){var at=Ve.nextSibling,_t=Ve.nodeName;Ve[tn]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||M.removeChild(Ve),Ve=at}for(var At=u.type,pt=M.attributes;pt.length;)M.removeAttributeNode(pt[0]);Ti(M,At,j),M[it]=u,M[Ct]=j}catch(Jt){vr(u,u.return,Jt)}}case 5:if(uo(f,u),lo(u),E&512&&(Fr||g===null||ka(g,g.return)),u.flags&32){M=u.stateNode;try{Ue(M,"")}catch(Jt){vr(u,u.return,Jt)}}E&4&&u.stateNode!=null&&(M=u.memoizedProps,jI(u,M,g!==null?g.memoizedProps:M)),E&1024&&(R1=!0);break;case 6:if(uo(f,u),lo(u),E&4){if(u.stateNode===null)throw Error(r(162));E=u.memoizedProps,g=u.stateNode;try{g.nodeValue=E}catch(Jt){vr(u,u.return,Jt)}}break;case 3:if(Sv=null,M=Po,Po=wv(f.containerInfo),uo(f,u),Po=M,lo(u),E&4&&g!==null&&g.memoizedState.isDehydrated)try{Bp(f.containerInfo)}catch(Jt){vr(u,u.return,Jt)}R1&&(R1=!1,GI(u));break;case 4:E=Po,Po=wv(u.stateNode.containerInfo),uo(f,u),lo(u),Po=E;break;case 12:uo(f,u),lo(u);break;case 13:uo(f,u),lo(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(j1=qt()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,P1(u,E)));break;case 22:if(E&512&&(Fr||g===null||ka(g,g.return)),Ve=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,_t=Js,At=Fr,Js=_t||Ve,Fr=At||at,uo(f,u),Fr=At,Js=_t,lo(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,E&8192&&(f._visibility=Ve?f._visibility&-2:f._visibility|1,Ve&&(f=Js||Fr,g===null||at||f||nd(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){at=g=f;try{if(M=at.stateNode,Ve)j=M.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{fe=at.stateNode,Te=at.memoizedProps.style;var vt=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;fe.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Jt){vr(at,at.return,Jt)}}}else if(f.tag===6){if(g===null){at=f;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Jt){vr(at,at.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}E&4&&(E=u.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,P1(u,g))));break;case 19:uo(f,u),lo(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,P1(u,E)));break;case 21:break;default:uo(f,u),lo(u)}}function lo(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if($I(g)){var E=g;break e}g=g.return}throw Error(r(160))}switch(E.tag){case 27:var M=E.stateNode,j=T1(u);av(u,j,M);break;case 5:var fe=E.stateNode;E.flags&32&&(Ue(fe,""),E.flags&=-33);var Te=T1(u);av(u,Te,fe);break;case 3:case 4:var Ve=E.stateNode.containerInfo,at=T1(u);A1(u,at,Ve);break;default:throw Error(r(161))}}}catch(_t){vr(u,u.return,_t)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function GI(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;GI(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Xs(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)qI(u,f.alternate,f),f=f.sibling}function nd(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return),nd(f);break;case 1:ka(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&NI(f,f.return,g),nd(f);break;case 26:case 27:case 5:ka(f,f.return),nd(f);break;case 22:ka(f,f.return),f.memoizedState===null&&nd(f);break;default:nd(f)}u=u.sibling}}function sl(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var E=f.alternate,M=u,j=f,fe=j.flags;switch(j.tag){case 0:case 11:case 15:sl(M,j,g),xp(4,j);break;case 1:if(sl(M,j,g),E=j,M=E.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(at){vr(E,E.return,at)}if(E=j,M=E.updateQueue,M!==null){var Te=E.stateNode;try{var Ve=M.shared.hiddenCallbacks;if(Ve!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ve.length;M++)MI(Ve[M],Te)}catch(at){vr(E,E.return,at)}}g&&fe&64&&kI(j),Cc(j,j.return);break;case 26:case 27:case 5:sl(M,j,g),g&&E===null&&fe&4&&FI(j),Cc(j,j.return);break;case 12:sl(M,j,g);break;case 13:sl(M,j,g),g&&fe&4&&VI(M,j);break;case 22:j.memoizedState===null&&sl(M,j,g),Cc(j,j.return);break;default:sl(M,j,g)}f=f.sibling}}function O1(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&hp(g))}function L1(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&hp(u))}function ul(u,f,g,E){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)WI(u,f,g,E),f=f.sibling}function WI(u,f,g,E){var M=f.flags;switch(f.tag){case 0:case 11:case 15:ul(u,f,g,E),M&2048&&xp(9,f);break;case 3:ul(u,f,g,E),M&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&hp(u)));break;case 12:if(M&2048){ul(u,f,g,E),u=f.stateNode;try{var j=f.memoizedProps,fe=j.id,Te=j.onPostCommit;typeof Te=="function"&&Te(fe,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){vr(f,f.return,Ve)}}else ul(u,f,g,E);break;case 23:break;case 22:j=f.stateNode,f.memoizedState!==null?j._visibility&4?ul(u,f,g,E):Ep(u,f):j._visibility&4?ul(u,f,g,E):(j._visibility|=4,rd(u,f,g,E,(f.subtreeFlags&10256)!==0)),M&2048&&O1(f.alternate,f);break;case 24:ul(u,f,g,E),M&2048&&L1(f.alternate,f);break;default:ul(u,f,g,E)}}function rd(u,f,g,E,M){for(M=M&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var j=u,fe=f,Te=g,Ve=E,at=fe.flags;switch(fe.tag){case 0:case 11:case 15:rd(j,fe,Te,Ve,M),xp(8,fe);break;case 23:break;case 22:var _t=fe.stateNode;fe.memoizedState!==null?_t._visibility&4?rd(j,fe,Te,Ve,M):Ep(j,fe):(_t._visibility|=4,rd(j,fe,Te,Ve,M)),M&&at&2048&&O1(fe.alternate,fe);break;case 24:rd(j,fe,Te,Ve,M),M&&at&2048&&L1(fe.alternate,fe);break;default:rd(j,fe,Te,Ve,M)}f=f.sibling}}function Ep(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,E=f,M=E.flags;switch(E.tag){case 22:Ep(g,E),M&2048&&O1(E.alternate,E);break;case 24:Ep(g,E),M&2048&&L1(E.alternate,E);break;default:Ep(g,E)}f=f.sibling}}var Cp=8192;function id(u){if(u.subtreeFlags&Cp)for(u=u.child;u!==null;)QI(u),u=u.sibling}function QI(u){switch(u.tag){case 26:id(u),u.flags&Cp&&u.memoizedState!==null&&hW(Po,u.memoizedState,u.memoizedProps);break;case 5:id(u);break;case 3:case 4:var f=Po;Po=wv(u.stateNode.containerInfo),id(u),Po=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Cp,Cp=16777216,id(u),Cp=f):id(u));break;default:id(u)}}function ZI(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Tp(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var E=f[g];yi=E,YI(E,u)}ZI(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)JI(u),u=u.sibling}function JI(u){switch(u.tag){case 0:case 11:case 15:Tp(u),u.flags&2048&&ol(9,u,u.return);break;case 3:Tp(u);break;case 12:Tp(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,ov(u)):Tp(u);break;default:Tp(u)}}function ov(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var E=f[g];yi=E,YI(E,u)}ZI(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:ol(8,f,f.return),ov(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,ov(f));break;default:ov(f)}u=u.sibling}}function YI(u,f){for(;yi!==null;){var g=yi;switch(g.tag){case 0:case 11:case 15:ol(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:hp(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,yi=E;else e:for(g=u;yi!==null;){E=yi;var M=E.sibling,j=E.return;if(zI(E),E===g){yi=null;break e}if(M!==null){M.return=j,yi=M;break e}yi=j}}}function TG(u,f,g,E){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function co(u,f,g,E){return new TG(u,f,g,E)}function I1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ll(u,f){var g=u.alternate;return g===null?(g=co(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function XI(u,f){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function sv(u,f,g,E,M,j){var fe=0;if(E=u,typeof u=="function")I1(u)&&(fe=1);else if(typeof u=="string")fe=fW(u,g,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Tc(g.children,M,j,f);case c:fe=8,M|=24;break;case d:return u=co(12,g,f,M|2),u.elementType=d,u.lanes=j,u;case _:return u=co(13,g,f,M),u.elementType=_,u.lanes=j,u;case x:return u=co(19,g,f,M),u.elementType=x,u.lanes=j,u;case A:return eM(g,M,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case h:case y:fe=10;break e;case m:fe=9;break e;case v:fe=11;break e;case b:fe=14;break e;case S:fe=16,E=null;break e}fe=29,g=Error(r(130,u===null?"null":typeof u,"")),E=null}return f=co(fe,g,f,M),f.elementType=u,f.type=E,f.lanes=j,f}function Tc(u,f,g,E){return u=co(7,u,E,f),u.lanes=g,u}function eM(u,f,g,E){u=co(22,u,E,f),u.elementType=A,u.lanes=g;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=M._current;if(j===null)throw Error(r(456));if(!(M._pendingVisibility&2)){var fe=wa(j,2);fe!==null&&(M._pendingVisibility|=2,oa(fe,j,2))}},attach:function(){var j=M._current;if(j===null)throw Error(r(456));if(M._pendingVisibility&2){var fe=wa(j,2);fe!==null&&(M._pendingVisibility&=-3,oa(fe,j,2))}}};return u.stateNode=M,u}function M1(u,f,g){return u=co(6,u,null,f),u.lanes=g,u}function D1(u,f,g){return f=co(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function eu(u){u.flags|=4}function tM(u,f){if(f.type!=="stylesheet"||f.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!$M(f)){if(f=so.current,f!==null&&((Bn&4194176)===Bn?is!==null:(Bn&62914560)!==Bn&&!(Bn&536870912)||f!==is))throw Ju=ns,Ei;u.flags|=8192}}function uv(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?qe():536870912,u.lanes|=f,od|=f)}function Ap(u,f){if(!ve)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Mr(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,E=0;if(f)for(var M=u.child;M!==null;)g|=M.lanes|M.childLanes,E|=M.subtreeFlags&31457280,E|=M.flags&31457280,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)g|=M.lanes|M.childLanes,E|=M.subtreeFlags,E|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=E,u.childLanes=g,f}function AG(u,f,g){var E=f.pendingProps;switch(I(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(f),null;case 1:return Mr(f),null;case 3:return g=f.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),Zs(ui),he(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(mn(f)?eu(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ge!==null&&(q1(Ge),Ge=null))),Mr(f),null;case 26:return g=f.memoizedState,u===null?(eu(f),g!==null?(Mr(f),tM(f,g)):(Mr(f),f.flags&=-16777217)):g?g!==u.memoizedState?(eu(f),Mr(f),tM(f,g)):(Mr(f),f.flags&=-16777217):(u.memoizedProps!==E&&eu(f),Mr(f),f.flags&=-16777217),null;case 27:He(f),g=$.current;var M=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==E&&eu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Mr(f),null}u=oe.current,mn(f)?Ut(f):(u=LM(M,E,g),f.stateNode=u,eu(f))}return Mr(f),null;case 5:if(He(f),g=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==E&&eu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Mr(f),null}if(u=oe.current,mn(f))Ut(f);else{switch(M=_v($.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof E.is=="string"?M.createElement("select",{is:E.is}):M.createElement("select"),E.multiple?u.multiple=!0:E.size&&(u.size=E.size);break;default:u=typeof E.is=="string"?M.createElement(g,{is:E.is}):M.createElement(g)}}u[it]=f,u[Ct]=E;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=u;e:switch(Ti(u,g,E),g){case"button":case"input":case"select":case"textarea":u=!!E.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&eu(f)}}return Mr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==E&&eu(f);else{if(typeof E!="string"&&f.stateNode===null)throw Error(r(166));if(u=$.current,mn(f)){if(u=f.stateNode,g=f.memoizedProps,E=null,M=B,M!==null)switch(M.tag){case 27:case 5:E=M.memoizedProps}u[it]=f,u=!!(u.nodeValue===g||E!==null&&E.suppressHydrationWarning===!0||CM(u.nodeValue,g)),u||St(f)}else u=_v(u).createTextNode(E),u[it]=f,f.stateNode=u}return Mr(f),null;case 13:if(E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=mn(f),E!==null&&E.dehydrated!==null){if(u===null){if(!M)throw Error(r(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[it]=f}else Gr(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Mr(f),M=!1}else Ge!==null&&(q1(Ge),Ge=null),M=!0;if(!M)return f.flags&256?(Ks(f),f):(Ks(f),null)}if(Ks(f),f.flags&128)return f.lanes=g,f;if(g=E!==null,u=u!==null&&u.memoizedState!==null,g){E=f.child,M=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(M=E.alternate.memoizedState.cachePool.pool);var j=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(j=E.memoizedState.cachePool.pool),j!==M&&(E.flags|=2048)}return g!==u&&g&&(f.child.flags|=8192),uv(f,f.updateQueue),Mr(f),null;case 4:return he(),u===null&&X1(f.stateNode.containerInfo),Mr(f),null;case 10:return Zs(f.type),Mr(f),null;case 19:if(Ne(si),M=f.memoizedState,M===null)return Mr(f),null;if(E=(f.flags&128)!==0,j=M.rendering,j===null)if(E)Ap(M,!1);else{if(jr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=Vy(u),j!==null){for(f.flags|=128,Ap(M,!1),u=j.updateQueue,f.updateQueue=u,uv(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)XI(g,u),g=g.sibling;return Ye(si,si.current&1|2),f.child}u=u.sibling}M.tail!==null&&qt()>lv&&(f.flags|=128,E=!0,Ap(M,!1),f.lanes=4194304)}else{if(!E)if(u=Vy(j),u!==null){if(f.flags|=128,E=!0,u=u.updateQueue,f.updateQueue=u,uv(f,u),Ap(M,!0),M.tail===null&&M.tailMode==="hidden"&&!j.alternate&&!ve)return Mr(f),null}else 2*qt()-M.renderingStartTime>lv&&g!==536870912&&(f.flags|=128,E=!0,Ap(M,!1),f.lanes=4194304);M.isBackwards?(j.sibling=f.child,f.child=j):(u=M.last,u!==null?u.sibling=j:f.child=j,M.last=j)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=qt(),f.sibling=null,u=si.current,Ye(si,E?u&1|2:u&1),f):(Mr(f),null);case 22:case 23:return Ks(f),Bb(),E=f.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(f.flags|=8192):E&&(f.flags|=8192),E?g&536870912&&!(f.flags&128)&&(Mr(f),f.subtreeFlags&6&&(f.flags|=8192)):Mr(f),g=f.updateQueue,g!==null&&uv(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==g&&(f.flags|=2048),u!==null&&Ne(vc),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Zs(ui),Mr(f),null;case 25:return null}throw Error(r(156,f.tag))}function RG(u,f){switch(I(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Zs(ui),he(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 13:if(Ks(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Gr()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ne(si),null;case 4:return he(),null;case 10:return Zs(f.type),null;case 22:case 23:return Ks(f),Bb(),u!==null&&Ne(vc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Zs(ui),null;case 25:return null;default:return null}}function nM(u,f){switch(I(f),f.tag){case 3:Zs(ui),he();break;case 26:case 27:case 5:He(f);break;case 4:he();break;case 13:Ks(f);break;case 19:Ne(si);break;case 10:Zs(f.type);break;case 22:case 23:Ks(f),Bb(),u!==null&&Ne(vc);break;case 24:Zs(ui)}}var PG={getCacheForType:function(u){var f=qi(ui),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g}},OG=typeof WeakMap=="function"?WeakMap:Map,Dr=0,br=null,Mn=null,Bn=0,Sr=0,Fa=null,tu=!1,ad=!1,k1=!1,nu=0,jr=0,cl=0,Ac=0,N1=0,fo=0,od=0,Rp=null,os=null,F1=!1,j1=0,lv=1/0,cv=null,fl=null,fv=!1,Rc=null,Pp=0,$1=0,U1=null,Op=0,B1=null;function ja(){if(Dr&2&&Bn!==0)return Bn&-Bn;if(X.T!==null){var u=Jf;return u!==0?u:Q1()}return Ce()}function rM(){fo===0&&(fo=!(Bn&536870912)||ve?Le():536870912);var u=so.current;return u!==null&&(u.flags|=32),fo}function oa(u,f,g){(u===br&&Sr===2||u.cancelPendingCommit!==null)&&(sd(u,0),ru(u,Bn,fo,!1)),Et(u,g),(!(Dr&2)||u!==br)&&(u===br&&(!(Dr&2)&&(Ac|=g),jr===4&&ru(u,Bn,fo,!1)),ss(u))}function iM(u,f,g){if(Dr&6)throw Error(r(327));var E=!g&&(f&60)===0&&(f&u.expiredLanes)===0||In(u,f),M=E?MG(u,f):V1(u,f,!0),j=E;do{if(M===0){ad&&!E&&ru(u,f,0,!1);break}else if(M===6)ru(u,f,0,!tu);else{if(g=u.current.alternate,j&&!LG(g)){M=V1(u,f,!1),j=!1;continue}if(M===2){if(j=f,u.errorRecoveryDisabledLanes&j)var fe=0;else fe=u.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){f=fe;e:{var Te=u;M=Rp;var Ve=Te.current.memoizedState.isDehydrated;if(Ve&&(sd(Te,fe).flags|=256),fe=V1(Te,fe,!1),fe!==2){if(k1&&!Ve){Te.errorRecoveryDisabledLanes|=j,Ac|=j,M=4;break e}j=os,os=M,j!==null&&q1(j)}M=fe}if(j=!1,M!==2)continue}}if(M===1){sd(u,0),ru(u,f,0,!0);break}e:{switch(E=u,M){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){ru(E,f,fo,!tu);break e}break;case 2:os=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=g,E.finishedLanes=f,(f&62914560)===f&&(j=j1+300-qt(),10<j)){if(ru(E,f,fo,!tu),ln(E,0)!==0)break e;E.timeoutHandle=RM(aM.bind(null,E,g,os,cv,F1,f,fo,Ac,od,tu,2,-0,0),j);break e}aM(E,g,os,cv,F1,f,fo,Ac,od,tu,0,-0,0)}}break}while(!0);ss(u)}function q1(u){os===null?os=u:os.push.apply(os,u)}function aM(u,f,g,E,M,j,fe,Te,Ve,at,_t,At,pt){var vt=f.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Np={stylesheets:null,count:0,unsuspend:dW},QI(f),f=pW(),f!==null)){u.cancelPendingCommit=f(dM.bind(null,u,g,E,M,fe,Te,Ve,1,At,pt)),ru(u,j,fe,!at);return}dM(u,g,E,M,fe,Te,Ve,_t,At,pt)}function LG(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var M=g[E],j=M.getSnapshot;M=M.value;try{if(!ea(j(),M))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ru(u,f,g,E){f&=~N1,f&=~Ac,u.suspendedLanes|=f,u.pingedLanes&=~f,E&&(u.warmLanes|=f),E=u.expirationTimes;for(var M=f;0<M;){var j=31-Pt(M),fe=1<<j;E[j]=-1,M&=~fe}g!==0&&Hn(u,g,f)}function dv(){return Dr&6?!0:(Lp(0),!1)}function z1(){if(Mn!==null){if(Sr===0)var u=Mn.return;else u=Mn,Qs=xc=null,Qb(u),Hs=null,wr=0,u=Mn;for(;u!==null;)nM(u.alternate,u),u=u.return;Mn=null}}function sd(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,ZG(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),z1(),br=u,Mn=g=ll(u.current,null),Bn=f,Sr=0,Fa=null,tu=!1,ad=In(u,f),k1=!1,od=fo=N1=Ac=cl=jr=0,os=Rp=null,F1=!1,f&8&&(f|=f&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=f;0<E;){var M=31-Pt(E),j=1<<M;f|=u[M],E&=~j}return nu=f,_a(),g}function oM(u,f){Tn=null,X.H=as,f===gi?(f=By(),Sr=3):f===Ei?(f=By(),Sr=4):Sr=f===_I?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Fa=f,Mn===null&&(jr=1,nv(u,ra(f,u.current)))}function sM(){var u=X.H;return X.H=as,u===null?as:u}function uM(){var u=X.A;return X.A=PG,u}function H1(){jr=4,tu||(Bn&4194176)!==Bn&&so.current!==null||(ad=!0),!(cl&134217727)&&!(Ac&134217727)||br===null||ru(br,Bn,fo,!1)}function V1(u,f,g){var E=Dr;Dr|=2;var M=sM(),j=uM();(br!==u||Bn!==f)&&(cv=null,sd(u,f)),f=!1;var fe=jr;e:do try{if(Sr!==0&&Mn!==null){var Te=Mn,Ve=Fa;switch(Sr){case 8:z1(),fe=6;break e;case 3:case 2:case 6:so.current===null&&(f=!0);var at=Sr;if(Sr=0,Fa=null,ud(u,Te,Ve,at),g&&ad){fe=0;break e}break;default:at=Sr,Sr=0,Fa=null,ud(u,Te,Ve,at)}}IG(),fe=jr;break}catch(_t){oM(u,_t)}while(!0);return f&&u.shellSuspendCounter++,Qs=xc=null,Dr=E,X.H=M,X.A=j,Mn===null&&(br=null,Bn=0,_a()),fe}function IG(){for(;Mn!==null;)lM(Mn)}function MG(u,f){var g=Dr;Dr|=2;var E=sM(),M=uM();br!==u||Bn!==f?(cv=null,lv=qt()+500,sd(u,f)):ad=In(u,f);e:do try{if(Sr!==0&&Mn!==null){f=Mn;var j=Fa;t:switch(Sr){case 1:Sr=0,Fa=null,ud(u,f,j,1);break;case 2:if($y(j)){Sr=0,Fa=null,cM(f);break}f=function(){Sr===2&&br===u&&(Sr=7),ss(u)},j.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:$y(j)?(Sr=0,Fa=null,cM(f)):(Sr=0,Fa=null,ud(u,f,j,7));break;case 5:var fe=null;switch(Mn.tag){case 26:fe=Mn.memoizedState;case 5:case 27:var Te=Mn;if(!fe||$M(fe)){Sr=0,Fa=null;var Ve=Te.sibling;if(Ve!==null)Mn=Ve;else{var at=Te.return;at!==null?(Mn=at,hv(at)):Mn=null}break t}}Sr=0,Fa=null,ud(u,f,j,5);break;case 6:Sr=0,Fa=null,ud(u,f,j,6);break;case 8:z1(),jr=6;break e;default:throw Error(r(462))}}DG();break}catch(_t){oM(u,_t)}while(!0);return Qs=xc=null,X.H=E,X.A=M,Dr=g,Mn!==null?0:(br=null,Bn=0,_a(),jr)}function DG(){for(;Mn!==null&&!nt();)lM(Mn)}function lM(u){var f=LI(u.alternate,u,nu);u.memoizedProps=u.pendingProps,f===null?hv(u):Mn=f}function cM(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=CI(g,f,f.pendingProps,f.type,void 0,Bn);break;case 11:f=CI(g,f,f.pendingProps,f.type.render,f.ref,Bn);break;case 5:Qb(f);default:nM(g,f),f=Mn=XI(f,nu),f=LI(g,f,nu)}u.memoizedProps=u.pendingProps,f===null?hv(u):Mn=f}function ud(u,f,g,E){Qs=xc=null,Qb(f),Hs=null,wr=0;var M=f.return;try{if(SG(u,M,f,g,Bn)){jr=1,nv(u,ra(g,u.current)),Mn=null;return}}catch(j){if(M!==null)throw Mn=M,j;jr=1,nv(u,ra(g,u.current)),Mn=null;return}f.flags&32768?(ve||E===1?u=!0:ad||Bn&536870912?u=!1:(tu=u=!0,(E===2||E===3||E===6)&&(E=so.current,E!==null&&E.tag===13&&(E.flags|=16384))),fM(f,u)):hv(f)}function hv(u){var f=u;do{if(f.flags&32768){fM(f,tu);return}u=f.return;var g=AG(f.alternate,f,nu);if(g!==null){Mn=g;return}if(f=f.sibling,f!==null){Mn=f;return}Mn=f=u}while(f!==null);jr===0&&(jr=5)}function fM(u,f){do{var g=RG(u.alternate,u);if(g!==null){g.flags&=32767,Mn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){Mn=u;return}Mn=u=g}while(u!==null);jr=6,Mn=null}function dM(u,f,g,E,M,j,fe,Te,Ve,at){var _t=X.T,At=ee.p;try{ee.p=2,X.T=null,kG(u,f,g,E,At,M,j,fe,Te,Ve,at)}finally{X.T=_t,ee.p=At}}function kG(u,f,g,E,M,j,fe,Te){do ld();while(Rc!==null);if(Dr&6)throw Error(r(327));var Ve=u.finishedWork;if(E=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=fp,Mt(u,E,at,j,fe,Te),u===br&&(Mn=br=null,Bn=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||fv||(fv=!0,$1=at,U1=g,$G(q,function(){return ld(),null})),g=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||g?(g=X.T,X.T=null,j=ee.p,ee.p=2,fe=Dr,Dr|=4,EG(u,Ve),KI(Ve,u),Hf(rS,u.containerInfo),Cv=!!nS,rS=nS=null,u.current=Ve,qI(u,Ve.alternate,Ve),gt(),Dr=fe,ee.p=j,X.T=g):u.current=Ve,fv?(fv=!1,Rc=u,Pp=E):hM(u,at),at=u.pendingLanes,at===0&&(fl=null),Lt(Ve.stateNode),ss(u),f!==null)for(M=u.onRecoverableError,Ve=0;Ve<f.length;Ve++)at=f[Ve],M(at.value,{componentStack:at.stack});return Pp&3&&ld(),at=u.pendingLanes,E&4194218&&at&42?u===B1?Op++:(Op=0,B1=u):Op=0,Lp(0),null}function hM(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,hp(f)))}function ld(){if(Rc!==null){var u=Rc,f=$1;$1=0;var g=We(Pp),E=X.T,M=ee.p;try{if(ee.p=32>g?32:g,X.T=null,Rc===null)var j=!1;else{g=U1,U1=null;var fe=Rc,Te=Pp;if(Rc=null,Pp=0,Dr&6)throw Error(r(331));var Ve=Dr;if(Dr|=4,JI(fe.current),WI(fe,fe.current,Te,g),Dr=Ve,Lp(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ke,fe)}catch{}j=!0}return j}finally{ee.p=M,X.T=E,hM(u,f)}}return!1}function pM(u,f,g){f=ra(g,f),f=l1(u.stateNode,f,2),u=al(u,f,2),u!==null&&(Et(u,2),ss(u))}function vr(u,f,g){if(u.tag===3)pM(u,u,g);else for(;f!==null;){if(f.tag===3){pM(f,u,g);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(fl===null||!fl.has(E))){u=ra(g,u),g=yI(2),E=al(f,g,2),E!==null&&(vI(g,E,f,u),Et(E,2),ss(E));break}}f=f.return}}function K1(u,f,g){var E=u.pingCache;if(E===null){E=u.pingCache=new OG;var M=new Set;E.set(f,M)}else M=E.get(f),M===void 0&&(M=new Set,E.set(f,M));M.has(g)||(k1=!0,M.add(g),u=NG.bind(null,u,f,g),f.then(u,u))}function NG(u,f,g){var E=u.pingCache;E!==null&&E.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,br===u&&(Bn&g)===g&&(jr===4||jr===3&&(Bn&62914560)===Bn&&300>qt()-j1?!(Dr&2)&&sd(u,0):N1|=g,od===Bn&&(od=0)),ss(u)}function gM(u,f){f===0&&(f=qe()),u=wa(u,f),u!==null&&(Et(u,f),ss(u))}function FG(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),gM(u,g)}function jG(u,f){var g=0;switch(u.tag){case 13:var E=u.stateNode,M=u.memoizedState;M!==null&&(g=M.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(f),gM(u,g)}function $G(u,f){return Fe(u,f)}var pv=null,cd=null,G1=!1,gv=!1,W1=!1,Pc=0;function ss(u){u!==cd&&u.next===null&&(cd===null?pv=cd=u:cd=cd.next=u),gv=!0,G1||(G1=!0,BG(UG))}function Lp(u,f){if(!W1&&gv){W1=!0;do for(var g=!1,E=pv;E!==null;){if(u!==0){var M=E.pendingLanes;if(M===0)var j=0;else{var fe=E.suspendedLanes,Te=E.pingedLanes;j=(1<<31-Pt(42|u)+1)-1,j&=M&~(fe&~Te),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(g=!0,vM(E,j))}else j=Bn,j=ln(E,E===br?j:0),!(j&3)||In(E,j)||(g=!0,vM(E,j));E=E.next}while(g);W1=!1}}function UG(){gv=G1=!1;var u=0;Pc!==0&&(QG()&&(u=Pc),Pc=0);for(var f=qt(),g=null,E=pv;E!==null;){var M=E.next,j=mM(E,f);j===0?(E.next=null,g===null?pv=M:g.next=M,M===null&&(cd=g)):(g=E,(u!==0||j&3)&&(gv=!0)),E=M}Lp(u)}function mM(u,f){for(var g=u.suspendedLanes,E=u.pingedLanes,M=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var fe=31-Pt(j),Te=1<<fe,Ve=M[fe];Ve===-1?(!(Te&g)||Te&E)&&(M[fe]=ur(Te,f)):Ve<=f&&(u.expiredLanes|=Te),j&=~Te}if(f=br,g=Bn,g=ln(u,u===f?g:0),E=u.callbackNode,g===0||u===f&&Sr===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&tt(E),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||In(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(E!==null&&tt(E),We(g)){case 2:case 8:g=ne;break;case 32:g=q;break;case 268435456:g=G;break;default:g=q}return E=yM.bind(null,u),g=Fe(g,E),u.callbackPriority=f,u.callbackNode=g,f}return E!==null&&E!==null&&tt(E),u.callbackPriority=2,u.callbackNode=null,2}function yM(u,f){var g=u.callbackNode;if(ld()&&u.callbackNode!==g)return null;var E=Bn;return E=ln(u,u===br?E:0),E===0?null:(iM(u,E,f),mM(u,qt()),u.callbackNode!=null&&u.callbackNode===g?yM.bind(null,u):null)}function vM(u,f){if(ld())return null;iM(u,f,!0)}function BG(u){JG(function(){Dr&6?Fe(Be,u):u()})}function Q1(){return Pc===0&&(Pc=Le()),Pc}function _M(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function wM(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function qG(u,f,g,E,M){if(f==="submit"&&g&&g.stateNode===M){var j=_M((M[Ct]||null).action),fe=E.submitter;fe&&(f=(f=fe[Ct]||null)?_M(f.formAction):fe.getAttribute("formAction"),f!==null&&(j=f,fe=null));var Te=new to("action","action",null,E,M);u.push({event:Te,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Pc!==0){var Ve=fe?wM(M,fe):new FormData(M);i1(g,{pending:!0,data:Ve,method:M.method,action:j},null,Ve)}}else typeof j=="function"&&(Te.preventDefault(),Ve=fe?wM(M,fe):new FormData(M),i1(g,{pending:!0,data:Ve,method:M.method,action:j},j,Ve))},currentTarget:M}]})}}for(var Z1=0;Z1<Fy.length;Z1++){var J1=Fy[Z1],zG=J1.toLowerCase(),HG=J1[0].toUpperCase()+J1.slice(1);pi(zG,"on"+HG)}pi(Da,"onAnimationEnd"),pi(hc,"onAnimationIteration"),pi(Dy,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(Vf,"onTransitionRun"),pi($b,"onTransitionStart"),pi(ky,"onTransitionCancel"),pi(Ny,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ip));function bM(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var E=u[g],M=E.event;E=E.listeners;e:{var j=void 0;if(f)for(var fe=E.length-1;0<=fe;fe--){var Te=E[fe],Ve=Te.instance,at=Te.currentTarget;if(Te=Te.listener,Ve!==j&&M.isPropagationStopped())break e;j=Te,M.currentTarget=at;try{j(M)}catch(_t){tv(_t)}M.currentTarget=null,j=Ve}else for(fe=0;fe<E.length;fe++){if(Te=E[fe],Ve=Te.instance,at=Te.currentTarget,Te=Te.listener,Ve!==j&&M.isPropagationStopped())break e;j=Te,M.currentTarget=at;try{j(M)}catch(_t){tv(_t)}M.currentTarget=null,j=Ve}}}}function Fn(u,f){var g=f[Gt];g===void 0&&(g=f[Gt]=new Set);var E=u+"__bubble";g.has(E)||(SM(f,u,2,!1),g.add(E))}function Y1(u,f,g){var E=0;f&&(E|=4),SM(g,u,E,f)}var mv="_reactListening"+Math.random().toString(36).slice(2);function X1(u){if(!u[mv]){u[mv]=!0,Ar.forEach(function(g){g!=="selectionchange"&&(VG.has(g)||Y1(g,!1,u),Y1(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[mv]||(f[mv]=!0,Y1("selectionchange",!1,f))}}function SM(u,f,g,E){switch(VM(f)){case 2:var M=yW;break;case 8:M=vW;break;default:M=dS}g=M.bind(null,f,g,u),M=void 0,!mr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),E?M!==void 0?u.addEventListener(f,g,{capture:!0,passive:M}):u.addEventListener(f,g,!0):M!==void 0?u.addEventListener(f,g,{passive:M}):u.addEventListener(f,g,!1)}function eS(u,f,g,E,M){var j=E;if(!(f&1)&&!(f&2)&&E!==null)e:for(;;){if(E===null)return;var fe=E.tag;if(fe===3||fe===4){var Te=E.stateNode.containerInfo;if(Te===M||Te.nodeType===8&&Te.parentNode===M)break;if(fe===4)for(fe=E.return;fe!==null;){var Ve=fe.tag;if((Ve===3||Ve===4)&&(Ve=fe.stateNode.containerInfo,Ve===M||Ve.nodeType===8&&Ve.parentNode===M))return;fe=fe.return}for(;Te!==null;){if(fe=Wt(Te),fe===null)return;if(Ve=fe.tag,Ve===5||Ve===6||Ve===26||Ve===27){E=j=fe;continue e}Te=Te.parentNode}}E=E.return}pn(function(){var at=j,_t=zn(g),At=[];e:{var pt=Qu.get(u);if(pt!==void 0){var vt=to,Jt=u;switch(u){case"keypress":if(rr(g)===0)break e;case"keydown":case"keyup":vt=Lb;break;case"focusin":Jt="focus",vt=ro;break;case"focusout":Jt="blur",vt=ro;break;case"beforeblur":case"afterblur":vt=ro;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Mb;break;case Da:case hc:case Dy:vt=ac;break;case Ny:vt=Db;break;case"scroll":case"scrollend":vt=Bu;break;case"wheel":vt=Ay;break;case"copy":case"cut":case"paste":vt=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=tp;break;case"toggle":case"beforetoggle":vt=Ms}var yn=(f&4)!==0,$r=!yn&&(u==="scroll"||u==="scrollend"),ct=yn?pt!==null?pt+"Capture":null:pt;yn=[];for(var rt=at,ht;rt!==null;){var xt=rt;if(ht=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||ht===null||ct===null||(xt=Yn(rt,ct),xt!=null&&yn.push(Mp(rt,xt,ht))),$r)break;rt=rt.return}0<yn.length&&(pt=new vt(pt,Jt,null,g,_t),At.push({event:pt,listeners:yn}))}}if(!(f&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==Vt&&(Jt=g.relatedTarget||g.fromElement)&&(Wt(Jt)||Jt[Dt]))break e;if((vt||pt)&&(pt=_t.window===_t?_t:(pt=_t.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Jt=g.relatedTarget||g.toElement,vt=at,Jt=Jt?Wt(Jt):null,Jt!==null&&($r=ue(Jt),yn=Jt.tag,Jt!==$r||yn!==5&&yn!==27&&yn!==6)&&(Jt=null)):(vt=null,Jt=at),vt!==Jt)){if(yn=Bi,xt="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(yn=tp,xt="onPointerLeave",ct="onPointerEnter",rt="pointer"),$r=vt==null?pt:En(vt),ht=Jt==null?pt:En(Jt),pt=new yn(xt,rt+"leave",vt,g,_t),pt.target=$r,pt.relatedTarget=ht,xt=null,Wt(_t)===at&&(yn=new yn(ct,rt+"enter",Jt,g,_t),yn.target=ht,yn.relatedTarget=$r,xt=yn),$r=xt,vt&&Jt)t:{for(yn=vt,ct=Jt,rt=0,ht=yn;ht;ht=fd(ht))rt++;for(ht=0,xt=ct;xt;xt=fd(xt))ht++;for(;0<rt-ht;)yn=fd(yn),rt--;for(;0<ht-rt;)ct=fd(ct),ht--;for(;rt--;){if(yn===ct||ct!==null&&yn===ct.alternate)break t;yn=fd(yn),ct=fd(ct)}yn=null}else yn=null;vt!==null&&xM(At,pt,vt,yn,!1),Jt!==null&&$r!==null&&xM(At,$r,Jt,yn,!0)}}e:{if(pt=at?En(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Kt=Hu;else if(ks(pt))if(ip)Kt=jb;else{Kt=Fb;var On=op}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&$t(at.elementType)&&(Kt=Hu):Kt=Ao;if(Kt&&(Kt=Kt(u,at))){Iy(At,Kt,g,_t);break e}On&&On(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(On=at?En(at):window,u){case"focusin":(ks(On)||On.contentEditable==="true")&&(Ro=On,fc=at,Wu=null);break;case"focusout":Wu=fc=Ro=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,dc(At,g,_t);break;case"selectionchange":if(Gu)break;case"keydown":case"keyup":dc(At,g,_t)}var en;if(Ds)e:{switch(u){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else qu?Bf(u,g)&&(on="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(on="onCompositionStart");on&&(rp&&g.locale!=="ko"&&(qu||on!=="onCompositionStart"?on==="onCompositionEnd"&&qu&&(en=ya()):(lr=_t,xi="value"in lr?lr.value:lr.textContent,qu=!0)),On=yv(at,on),0<On.length&&(on=new Yi(on,u,null,g,_t),At.push({event:on,listeners:On}),en?on.data=en:(en=Oy(g),en!==null&&(on.data=en)))),(en=Ry?Ly(u,g):Nb(u,g))&&(on=yv(at,"onBeforeInput"),0<on.length&&(On=new Yi("onBeforeInput","beforeinput",null,g,_t),At.push({event:On,listeners:on}),On.data=en)),qG(At,u,at,g,_t)}bM(At,f)})}function Mp(u,f,g){return{instance:u,listener:f,currentTarget:g}}function yv(u,f){for(var g=f+"Capture",E=[];u!==null;){var M=u,j=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||j===null||(M=Yn(u,g),M!=null&&E.unshift(Mp(u,M,j)),M=Yn(u,f),M!=null&&E.push(Mp(u,M,j))),u=u.return}return E}function fd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function xM(u,f,g,E,M){for(var j=f._reactName,fe=[];g!==null&&g!==E;){var Te=g,Ve=Te.alternate,at=Te.stateNode;if(Te=Te.tag,Ve!==null&&Ve===E)break;Te!==5&&Te!==26&&Te!==27||at===null||(Ve=at,M?(at=Yn(g,j),at!=null&&fe.unshift(Mp(g,at,Ve))):M||(at=Yn(g,j),at!=null&&fe.push(Mp(g,at,Ve)))),g=g.return}fe.length!==0&&u.push({event:f,listeners:fe})}var KG=/\r\n?/g,GG=/\u0000|\uFFFD/g;function EM(u){return(typeof u=="string"?u:""+u).replace(KG,`
`).replace(GG,"")}function CM(u,f){return f=EM(f),EM(u)===f}function vv(){}function hr(u,f,g,E,M,j){switch(g){case"children":typeof E=="string"?f==="body"||f==="textarea"&&E===""||Ue(u,E):(typeof E=="number"||typeof E=="bigint")&&f!=="body"&&Ue(u,""+E);break;case"className":N(u,"class",E);break;case"tabIndex":N(u,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,E);break;case"style":mt(u,E,j);break;case"data":if(f!=="object"){N(u,"data",E);break}case"src":case"href":if(E===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(g);break}E=Ft(""+E),u.setAttribute(g,E);break;case"action":case"formAction":if(typeof E=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(g==="formAction"?(f!=="input"&&hr(u,f,"name",M.name,M,null),hr(u,f,"formEncType",M.formEncType,M,null),hr(u,f,"formMethod",M.formMethod,M,null),hr(u,f,"formTarget",M.formTarget,M,null)):(hr(u,f,"encType",M.encType,M,null),hr(u,f,"method",M.method,M,null),hr(u,f,"target",M.target,M,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(g);break}E=Ft(""+E),u.setAttribute(g,E);break;case"onClick":E!=null&&(u.onclick=vv);break;case"onScroll":E!=null&&Fn("scroll",u);break;case"onScrollEnd":E!=null&&Fn("scrollend",u);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(g=E.__html,g!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":u.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){u.removeAttribute("xlink:href");break}g=Ft(""+E),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(g,""+E):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":E===!0?u.setAttribute(g,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(g,E):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?u.setAttribute(g,E):u.removeAttribute(g);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?u.removeAttribute(g):u.setAttribute(g,E);break;case"popover":Fn("beforetoggle",u),Fn("toggle",u),R(u,"popover",E);break;case"xlinkActuate":J(u,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":J(u,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":J(u,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":J(u,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":J(u,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":J(u,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":J(u,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":J(u,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":J(u,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":R(u,"is",E);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tt.get(g)||g,R(u,g,E))}}function tS(u,f,g,E,M,j){switch(g){case"style":mt(u,E,j);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(g=E.__html,g!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof E=="string"?Ue(u,E):(typeof E=="number"||typeof E=="bigint")&&Ue(u,""+E);break;case"onScroll":E!=null&&Fn("scroll",u);break;case"onScrollEnd":E!=null&&Fn("scrollend",u);break;case"onClick":E!=null&&(u.onclick=vv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(M=g.endsWith("Capture"),f=g.slice(2,M?g.length-7:void 0),j=u[Ct]||null,j=j!=null?j[g]:null,typeof j=="function"&&u.removeEventListener(f,j,M),typeof E=="function")){typeof j!="function"&&j!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,E,M);break e}g in u?u[g]=E:E===!0?u.setAttribute(g,""):R(u,g,E)}}}function Ti(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fn("error",u),Fn("load",u);var E=!1,M=!1,j;for(j in g)if(g.hasOwnProperty(j)){var fe=g[j];if(fe!=null)switch(j){case"src":E=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:hr(u,f,j,fe,g,null)}}M&&hr(u,f,"srcSet",g.srcSet,g,null),E&&hr(u,f,"src",g.src,g,null);return;case"input":Fn("invalid",u);var Te=j=fe=M=null,Ve=null,at=null;for(E in g)if(g.hasOwnProperty(E)){var _t=g[E];if(_t!=null)switch(E){case"name":M=_t;break;case"type":fe=_t;break;case"checked":Ve=_t;break;case"defaultChecked":at=_t;break;case"value":j=_t;break;case"defaultValue":Te=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,f));break;default:hr(u,f,E,_t,g,null)}}ot(u,j,Te,Ve,at,fe,M,!1),xe(u);return;case"select":Fn("invalid",u),E=fe=j=null;for(M in g)if(g.hasOwnProperty(M)&&(Te=g[M],Te!=null))switch(M){case"value":j=Te;break;case"defaultValue":fe=Te;break;case"multiple":E=Te;default:hr(u,f,M,Te,g,null)}f=j,g=fe,u.multiple=!!E,f!=null?ut(u,!!E,f,!1):g!=null&&ut(u,!!E,g,!0);return;case"textarea":Fn("invalid",u),j=M=E=null;for(fe in g)if(g.hasOwnProperty(fe)&&(Te=g[fe],Te!=null))switch(fe){case"value":E=Te;break;case"defaultValue":M=Te;break;case"children":j=Te;break;case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(91));break;default:hr(u,f,fe,Te,g,null)}De(u,E,M,j),xe(u);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(E=g[Ve],E!=null))switch(Ve){case"selected":u.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:hr(u,f,Ve,E,g,null)}return;case"dialog":Fn("cancel",u),Fn("close",u);break;case"iframe":case"object":Fn("load",u);break;case"video":case"audio":for(E=0;E<Ip.length;E++)Fn(Ip[E],u);break;case"image":Fn("error",u),Fn("load",u);break;case"details":Fn("toggle",u);break;case"embed":case"source":case"link":Fn("error",u),Fn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(E=g[at],E!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:hr(u,f,at,E,g,null)}return;default:if($t(f)){for(_t in g)g.hasOwnProperty(_t)&&(E=g[_t],E!==void 0&&tS(u,f,_t,E,g,void 0));return}}for(Te in g)g.hasOwnProperty(Te)&&(E=g[Te],E!=null&&hr(u,f,Te,E,g,null))}function WG(u,f,g,E){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,j=null,fe=null,Te=null,Ve=null,at=null,_t=null;for(vt in g){var At=g[vt];if(g.hasOwnProperty(vt)&&At!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=At;default:E.hasOwnProperty(vt)||hr(u,f,vt,null,E,At)}}for(var pt in E){var vt=E[pt];if(At=g[pt],E.hasOwnProperty(pt)&&(vt!=null||At!=null))switch(pt){case"type":j=vt;break;case"name":M=vt;break;case"checked":at=vt;break;case"defaultChecked":_t=vt;break;case"value":fe=vt;break;case"defaultValue":Te=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,f));break;default:vt!==At&&hr(u,f,pt,vt,E,At)}}Xe(u,fe,Te,Ve,at,_t,j,M);return;case"select":vt=fe=Te=pt=null;for(j in g)if(Ve=g[j],g.hasOwnProperty(j)&&Ve!=null)switch(j){case"value":break;case"multiple":vt=Ve;default:E.hasOwnProperty(j)||hr(u,f,j,null,E,Ve)}for(M in E)if(j=E[M],Ve=g[M],E.hasOwnProperty(M)&&(j!=null||Ve!=null))switch(M){case"value":pt=j;break;case"defaultValue":Te=j;break;case"multiple":fe=j;default:j!==Ve&&hr(u,f,M,j,E,Ve)}f=Te,g=fe,E=vt,pt!=null?ut(u,!!g,pt,!1):!!E!=!!g&&(f!=null?ut(u,!!g,f,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Te in g)if(M=g[Te],g.hasOwnProperty(Te)&&M!=null&&!E.hasOwnProperty(Te))switch(Te){case"value":break;case"children":break;default:hr(u,f,Te,null,E,M)}for(fe in E)if(M=E[fe],j=g[fe],E.hasOwnProperty(fe)&&(M!=null||j!=null))switch(fe){case"value":pt=M;break;case"defaultValue":vt=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==j&&hr(u,f,fe,M,E,j)}be(u,pt,vt);return;case"option":for(var Jt in g)if(pt=g[Jt],g.hasOwnProperty(Jt)&&pt!=null&&!E.hasOwnProperty(Jt))switch(Jt){case"selected":u.selected=!1;break;default:hr(u,f,Jt,null,E,pt)}for(Ve in E)if(pt=E[Ve],vt=g[Ve],E.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:hr(u,f,Ve,pt,E,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in g)pt=g[yn],g.hasOwnProperty(yn)&&pt!=null&&!E.hasOwnProperty(yn)&&hr(u,f,yn,null,E,pt);for(at in E)if(pt=E[at],vt=g[at],E.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,f));break;default:hr(u,f,at,pt,E,vt)}return;default:if($t(f)){for(var $r in g)pt=g[$r],g.hasOwnProperty($r)&&pt!==void 0&&!E.hasOwnProperty($r)&&tS(u,f,$r,void 0,E,pt);for(_t in E)pt=E[_t],vt=g[_t],!E.hasOwnProperty(_t)||pt===vt||pt===void 0&&vt===void 0||tS(u,f,_t,pt,E,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!E.hasOwnProperty(ct)&&hr(u,f,ct,null,E,pt);for(At in E)pt=E[At],vt=g[At],!E.hasOwnProperty(At)||pt===vt||pt==null&&vt==null||hr(u,f,At,pt,E,vt)}var nS=null,rS=null;function _v(u){return u.nodeType===9?u:u.ownerDocument}function TM(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AM(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function iS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var aS=null;function QG(){var u=window.event;return u&&u.type==="popstate"?u===aS?!1:(aS=u,!0):(aS=null,!1)}var RM=typeof setTimeout=="function"?setTimeout:void 0,ZG=typeof clearTimeout=="function"?clearTimeout:void 0,PM=typeof Promise=="function"?Promise:void 0,JG=typeof queueMicrotask=="function"?queueMicrotask:typeof PM<"u"?function(u){return PM.resolve(null).then(u).catch(YG)}:RM;function YG(u){setTimeout(function(){throw u})}function oS(u,f){var g=f,E=0;do{var M=g.nextSibling;if(u.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(E===0){u.removeChild(M),Bp(f);return}E--}else g!=="$"&&g!=="$?"&&g!=="$!"||E++;g=M}while(g);Bp(f)}function sS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":sS(g),Pn(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function XG(u,f,g,E){for(;u.nodeType===1;){var M=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!E&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(E){if(!u[tn])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==M.rel||u.getAttribute("href")!==(M.href==null?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var j=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=Oo(u.nextSibling),u===null)break}return null}function eW(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=Oo(u.nextSibling),u===null))return null;return u}function Oo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function OM(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}function LM(u,f,g){switch(f=_v(g),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var ho=new Map,IM=new Set;function wv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var iu=ee.d;ee.d={f:tW,r:nW,D:rW,C:iW,L:aW,m:oW,X:uW,S:sW,M:lW};function tW(){var u=iu.f(),f=dv();return u||f}function nW(u){var f=Zt(u);f!==null&&f.tag===5&&f.type==="form"?aI(f):iu.r(u)}var dd=typeof document>"u"?null:document;function MM(u,f,g){var E=dd;if(E&&typeof f=="string"&&f){var M=ze(f);M='link[rel="'+u+'"][href="'+M+'"]',typeof g=="string"&&(M+='[crossorigin="'+g+'"]'),IM.has(M)||(IM.add(M),u={rel:u,crossOrigin:g,href:f},E.querySelector(M)===null&&(f=E.createElement("link"),Ti(f,"link",u),qn(f),E.head.appendChild(f)))}}function rW(u){iu.D(u),MM("dns-prefetch",u,null)}function iW(u,f){iu.C(u,f),MM("preconnect",u,f)}function aW(u,f,g){iu.L(u,f,g);var E=dd;if(E&&u&&f){var M='link[rel="preload"][as="'+ze(f)+'"]';f==="image"&&g&&g.imageSrcSet?(M+='[imagesrcset="'+ze(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(M+='[imagesizes="'+ze(g.imageSizes)+'"]')):M+='[href="'+ze(u)+'"]';var j=M;switch(f){case"style":j=hd(u);break;case"script":j=pd(u)}ho.has(j)||(u=U({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),ho.set(j,u),E.querySelector(M)!==null||f==="style"&&E.querySelector(Dp(j))||f==="script"&&E.querySelector(kp(j))||(f=E.createElement("link"),Ti(f,"link",u),qn(f),E.head.appendChild(f)))}}function oW(u,f){iu.m(u,f);var g=dd;if(g&&u){var E=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+ze(E)+'"][href="'+ze(u)+'"]',j=M;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=pd(u)}if(!ho.has(j)&&(u=U({rel:"modulepreload",href:u},f),ho.set(j,u),g.querySelector(M)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(kp(j)))return}E=g.createElement("link"),Ti(E,"link",u),qn(E),g.head.appendChild(E)}}}function sW(u,f,g){iu.S(u,f,g);var E=dd;if(E&&u){var M=Cn(E).hoistableStyles,j=hd(u);f=f||"default";var fe=M.get(j);if(!fe){var Te={loading:0,preload:null};if(fe=E.querySelector(Dp(j)))Te.loading=5;else{u=U({rel:"stylesheet",href:u,"data-precedence":f},g),(g=ho.get(j))&&uS(u,g);var Ve=fe=E.createElement("link");qn(Ve),Ti(Ve,"link",u),Ve._p=new Promise(function(at,_t){Ve.onload=at,Ve.onerror=_t}),Ve.addEventListener("load",function(){Te.loading|=1}),Ve.addEventListener("error",function(){Te.loading|=2}),Te.loading|=4,bv(fe,f,E)}fe={type:"stylesheet",instance:fe,count:1,state:Te},M.set(j,fe)}}}function uW(u,f){iu.X(u,f);var g=dd;if(g&&u){var E=Cn(g).hoistableScripts,M=pd(u),j=E.get(M);j||(j=g.querySelector(kp(M)),j||(u=U({src:u,async:!0},f),(f=ho.get(M))&&lS(u,f),j=g.createElement("script"),qn(j),Ti(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function lW(u,f){iu.M(u,f);var g=dd;if(g&&u){var E=Cn(g).hoistableScripts,M=pd(u),j=E.get(M);j||(j=g.querySelector(kp(M)),j||(u=U({src:u,async:!0,type:"module"},f),(f=ho.get(M))&&lS(u,f),j=g.createElement("script"),qn(j),Ti(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function DM(u,f,g,E){var M=(M=$.current)?wv(M):null;if(!M)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=hd(g.href),g=Cn(M).hoistableStyles,E=g.get(f),E||(E={type:"style",instance:null,count:0,state:null},g.set(f,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=hd(g.href);var j=Cn(M).hoistableStyles,fe=j.get(u);if(fe||(M=M.ownerDocument||M,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,fe),(j=M.querySelector(Dp(u)))&&!j._p&&(fe.instance=j,fe.state.loading=5),ho.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ho.set(u,g),j||cW(M,u,g,fe.state))),f&&E===null)throw Error(r(528,""));return fe}if(f&&E!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=pd(g),g=Cn(M).hoistableScripts,E=g.get(f),E||(E={type:"script",instance:null,count:0,state:null},g.set(f,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function hd(u){return'href="'+ze(u)+'"'}function Dp(u){return'link[rel="stylesheet"]['+u+"]"}function kM(u){return U({},u,{"data-precedence":u.precedence,precedence:null})}function cW(u,f,g,E){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?E.loading=1:(f=u.createElement("link"),E.preload=f,f.addEventListener("load",function(){return E.loading|=1}),f.addEventListener("error",function(){return E.loading|=2}),Ti(f,"link",g),qn(f),u.head.appendChild(f))}function pd(u){return'[src="'+ze(u)+'"]'}function kp(u){return"script[async]"+u}function NM(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var E=u.querySelector('style[data-href~="'+ze(g.href)+'"]');if(E)return f.instance=E,qn(E),E;var M=U({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return E=(u.ownerDocument||u).createElement("style"),qn(E),Ti(E,"style",M),bv(E,g.precedence,u),f.instance=E;case"stylesheet":M=hd(g.href);var j=u.querySelector(Dp(M));if(j)return f.state.loading|=4,f.instance=j,qn(j),j;E=kM(g),(M=ho.get(M))&&uS(E,M),j=(u.ownerDocument||u).createElement("link"),qn(j);var fe=j;return fe._p=new Promise(function(Te,Ve){fe.onload=Te,fe.onerror=Ve}),Ti(j,"link",E),f.state.loading|=4,bv(j,g.precedence,u),f.instance=j;case"script":return j=pd(g.src),(M=u.querySelector(kp(j)))?(f.instance=M,qn(M),M):(E=g,(M=ho.get(j))&&(E=U({},g),lS(E,M)),u=u.ownerDocument||u,M=u.createElement("script"),qn(M),Ti(M,"link",E),u.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(E=f.instance,f.state.loading|=4,bv(E,g.precedence,u));return f.instance}function bv(u,f,g){for(var E=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=E.length?E[E.length-1]:null,j=M,fe=0;fe<E.length;fe++){var Te=E[fe];if(Te.dataset.precedence===f)j=Te;else if(j!==M)break}j?j.parentNode.insertBefore(u,j.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function uS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function lS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Sv=null;function FM(u,f,g){if(Sv===null){var E=new Map,M=Sv=new Map;M.set(g,E)}else M=Sv,E=M.get(g),E||(E=new Map,M.set(g,E));if(E.has(u))return E;for(E.set(u,null),g=g.getElementsByTagName(u),M=0;M<g.length;M++){var j=g[M];if(!(j[tn]||j[it]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=j.getAttribute(f)||"";fe=u+fe;var Te=E.get(fe);Te?Te.push(j):E.set(fe,[j])}}return E}function jM(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function fW(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function $M(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Np=null;function dW(){}function hW(u,f,g){if(Np===null)throw Error(r(475));var E=Np;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var M=hd(g.href),j=u.querySelector(Dp(M));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(E.count++,E=xv.bind(E),u.then(E,E)),f.state.loading|=4,f.instance=j,qn(j);return}j=u.ownerDocument||u,g=kM(g),(M=ho.get(M))&&uS(g,M),j=j.createElement("link"),qn(j);var fe=j;fe._p=new Promise(function(Te,Ve){fe.onload=Te,fe.onerror=Ve}),Ti(j,"link",g),f.instance=j}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(f,u),(u=f.state.preload)&&!(f.state.loading&3)&&(E.count++,f=xv.bind(E),u.addEventListener("load",f),u.addEventListener("error",f))}}function pW(){if(Np===null)throw Error(r(475));var u=Np;return u.stylesheets&&u.count===0&&cS(u,u.stylesheets),0<u.count?function(f){var g=setTimeout(function(){if(u.stylesheets&&cS(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(g)}}:null}function xv(){if(this.count--,this.count===0){if(this.stylesheets)cS(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Ev=null;function cS(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Ev=new Map,f.forEach(gW,u),Ev=null,xv.call(u))}function gW(u,f){if(!(f.state.loading&4)){var g=Ev.get(u);if(g)var E=g.get(null);else{g=new Map,Ev.set(u,g);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<M.length;j++){var fe=M[j];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(g.set(fe.dataset.precedence,fe),E=fe)}E&&g.set(null,E)}M=f.instance,fe=M.getAttribute("data-precedence"),j=g.get(fe)||E,j===E&&g.set(null,M),g.set(fe,M),this.count++,E=xv.bind(this),M.addEventListener("load",E),M.addEventListener("error",E),j?j.parentNode.insertBefore(M,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),f.state.loading|=4}}var Fp={$$typeof:y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function mW(u,f,g,E,M,j,fe,Te){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=E,this.onUncaughtError=M,this.onCaughtError=j,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function UM(u,f,g,E,M,j,fe,Te,Ve,at,_t,At){return u=new mW(u,f,g,fe,Te,Ve,at,At),f=1,j===!0&&(f|=24),j=co(3,null,null,f),u.current=j,j.stateNode=u,f=qb(),f.refCount++,u.pooledCache=f,f.refCount++,j.memoizedState={element:E,isDehydrated:g,cache:f},S1(j),u}function BM(u){return u?(u=io,u):io}function qM(u,f,g,E,M,j){M=BM(M),E.context===null?E.context=M:E.pendingContext=M,E=il(f),E.payload={element:g},j=j===void 0?null:j,j!==null&&(E.callback=j),g=al(u,E,f),g!==null&&(oa(g,u,f),wp(g,u,f))}function zM(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function fS(u,f){zM(u,f),(u=u.alternate)&&zM(u,f)}function HM(u){if(u.tag===13){var f=wa(u,67108864);f!==null&&oa(f,u,67108864),fS(u,67108864)}}var Cv=!0;function yW(u,f,g,E){var M=X.T;X.T=null;var j=ee.p;try{ee.p=2,dS(u,f,g,E)}finally{ee.p=j,X.T=M}}function vW(u,f,g,E){var M=X.T;X.T=null;var j=ee.p;try{ee.p=8,dS(u,f,g,E)}finally{ee.p=j,X.T=M}}function dS(u,f,g,E){if(Cv){var M=hS(E);if(M===null)eS(u,f,E,Tv,g),KM(u,E);else if(wW(M,u,f,g,E))E.stopPropagation();else if(KM(u,E),f&4&&-1<_W.indexOf(u)){for(;M!==null;){var j=Zt(M);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var fe=un(j.pendingLanes);if(fe!==0){var Te=j;for(Te.pendingLanes|=2,Te.entangledLanes|=2;fe;){var Ve=1<<31-Pt(fe);Te.entanglements[1]|=Ve,fe&=~Ve}ss(j),!(Dr&6)&&(lv=qt()+500,Lp(0))}}break;case 13:Te=wa(j,2),Te!==null&&oa(Te,j,2),dv(),fS(j,2)}if(j=hS(E),j===null&&eS(u,f,E,Tv,g),j===M)break;M=j}M!==null&&E.stopPropagation()}else eS(u,f,E,null,g)}}function hS(u){return u=zn(u),pS(u)}var Tv=null;function pS(u){if(Tv=null,u=Wt(u),u!==null){var f=ue(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=Re(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Tv=u,null}function VM(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case ne:return 8;case q:case W:return 32;case G:return 268435456;default:return 32}default:return 32}}var gS=!1,dl=null,hl=null,pl=null,jp=new Map,$p=new Map,gl=[],_W="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KM(u,f){switch(u){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":jp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":$p.delete(f.pointerId)}}function Up(u,f,g,E,M,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:g,eventSystemFlags:E,nativeEvent:j,targetContainers:[M]},f!==null&&(f=Zt(f),f!==null&&HM(f)),u):(u.eventSystemFlags|=E,f=u.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),u)}function wW(u,f,g,E,M){switch(f){case"focusin":return dl=Up(dl,u,f,g,E,M),!0;case"dragenter":return hl=Up(hl,u,f,g,E,M),!0;case"mouseover":return pl=Up(pl,u,f,g,E,M),!0;case"pointerover":var j=M.pointerId;return jp.set(j,Up(jp.get(j)||null,u,f,g,E,M)),!0;case"gotpointercapture":return j=M.pointerId,$p.set(j,Up($p.get(j)||null,u,f,g,E,M)),!0}return!1}function GM(u){var f=Wt(u.target);if(f!==null){var g=ue(f);if(g!==null){if(f=g.tag,f===13){if(f=Re(g),f!==null){u.blockedOn=f,et(u.priority,function(){if(g.tag===13){var E=ja(),M=wa(g,E);M!==null&&oa(M,g,E),fS(g,E)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Av(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=hS(u.nativeEvent);if(g===null){g=u.nativeEvent;var E=new g.constructor(g.type,g);Vt=E,g.target.dispatchEvent(E),Vt=null}else return f=Zt(g),f!==null&&HM(f),u.blockedOn=g,!1;f.shift()}return!0}function WM(u,f,g){Av(u)&&g.delete(f)}function bW(){gS=!1,dl!==null&&Av(dl)&&(dl=null),hl!==null&&Av(hl)&&(hl=null),pl!==null&&Av(pl)&&(pl=null),jp.forEach(WM),$p.forEach(WM)}function Rv(u,f){u.blockedOn===f&&(u.blockedOn=null,gS||(gS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bW)))}var Pv=null;function QM(u){Pv!==u&&(Pv=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pv===u&&(Pv=null);for(var f=0;f<u.length;f+=3){var g=u[f],E=u[f+1],M=u[f+2];if(typeof E!="function"){if(pS(E||g)===null)continue;break}var j=Zt(g);j!==null&&(u.splice(f,3),f-=3,i1(j,{pending:!0,data:M,method:g.method,action:E},E,M))}}))}function Bp(u){function f(Ve){return Rv(Ve,u)}dl!==null&&Rv(dl,u),hl!==null&&Rv(hl,u),pl!==null&&Rv(pl,u),jp.forEach(f),$p.forEach(f);for(var g=0;g<gl.length;g++){var E=gl[g];E.blockedOn===u&&(E.blockedOn=null)}for(;0<gl.length&&(g=gl[0],g.blockedOn===null);)GM(g),g.blockedOn===null&&gl.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(E=0;E<g.length;E+=3){var M=g[E],j=g[E+1],fe=M[Ct]||null;if(typeof j=="function")fe||QM(g);else if(fe){var Te=null;if(j&&j.hasAttribute("formAction")){if(M=j,fe=j[Ct]||null)Te=fe.formAction;else if(pS(M)!==null)continue}else Te=fe.action;typeof Te=="function"?g[E+1]=Te:(g.splice(E,3),E-=3),QM(g)}}}function mS(u){this._internalRoot=u}Ov.prototype.render=mS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,E=ja();qM(g,E,u,f,null,null)},Ov.prototype.unmount=mS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&ld(),qM(u.current,2,null,u,null,null),dv(),f[Dt]=null}};function Ov(u){this._internalRoot=u}Ov.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ce();u={blockedOn:null,target:u,priority:f};for(var g=0;g<gl.length&&f!==0&&f<gl[g].priority;g++);gl.splice(g,0,u),g===0&&GM(u)}};var ZM=t.version;if(ZM!=="19.0.0")throw Error(r(527,ZM,"19.0.0"));ee.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ie(f),u=u!==null?me(u):null,u=u===null?null:u.stateNode,u};var SW={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:Wt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lv.isDisabled&&Lv.supportsFiber)try{ke=Lv.inject(SW),Rt=Lv}catch{}}return zp.createRoot=function(u,f){if(!i(u))throw Error(r(299));var g=!1,E="",M=hI,j=pI,fe=gI,Te=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(fe=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Te=f.unstable_transitionCallbacks)),f=UM(u,1,!1,null,null,g,E,M,j,fe,Te,null),u[Dt]=f.current,X1(u.nodeType===8?u.parentNode:u),new mS(f)},zp.hydrateRoot=function(u,f,g){if(!i(u))throw Error(r(299));var E=!1,M="",j=hI,fe=pI,Te=gI,Ve=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(j=g.onUncaughtError),g.onCaughtError!==void 0&&(fe=g.onCaughtError),g.onRecoverableError!==void 0&&(Te=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ve=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),f=UM(u,1,!0,f,g??null,E,M,j,fe,Te,Ve,at),f.context=BM(null),g=f.current,E=ja(),M=il(E),M.callback=null,al(g,M,E),f.current.lanes=E,Et(f,E),ss(f),u[Dt]=f.current,X1(u),new Ov(f)},zp.version="19.0.0",zp}var mD;function iQ(){if(mD)return SS.exports;mD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),SS.exports=rQ(),SS.exports}var aQ=iQ(),TS={exports:{}},AS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD;function oQ(){if(yD)return AS;yD=1;var e=Ch();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return AS.useSyncExternalStoreWithSelector=function(l,c,d,h,m){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function x(O){if(!b){if(b=!0,S=O,O=h(O),m!==void 0&&v.hasValue){var D=v.value;if(m(D,O))return A=D}return A=O}if(D=A,n(S,O))return D;var F=h(O);return m!==void 0&&m(D,F)?(S=O,D):(S=O,A=F)}var b=!1,S,A,P=d===void 0?null:d;return[function(){return x(c())},P===null?void 0:function(){return x(P())}]},[c,d,h,m]);var _=r(l,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=_},[_]),s(_),_},AS}var vD;function sQ(){return vD||(vD=1,TS.exports=oQ()),TS.exports}var uQ=sQ();function lQ(e){e()}function cQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lQ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var _D={notify(){},get:()=>[]};function fQ(e,t){let n,r=_D,i=0,a=!1;function o(_){d();const x=r.subscribe(_);let b=!1;return()=>{b||(b=!0,x(),h())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=cQ())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=_D)}function m(){a||(a=!0,d())}function y(){a&&(a=!1,h())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return v}var dQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hQ=dQ(),pQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gQ=pQ(),mQ=()=>hQ||gQ?V.useLayoutEffect:V.useEffect,yQ=mQ(),RS=Symbol.for("react-redux-context"),PS=typeof globalThis<"u"?globalThis:{};function vQ(){if(!V.createContext)return{};const e=PS[RS]??(PS[RS]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var zl=vQ();function _Q(e){const{children:t,context:n,serverState:r,store:i}=e,a=V.useMemo(()=>{const l=fQ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=V.useMemo(()=>i.getState(),[i]);yQ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||zl;return V.createElement(s.Provider,{value:a},t)}var wQ=_Q;function fP(e=zl){return function(){return V.useContext(e)}}var dB=fP();function hB(e=zl){const t=e===zl?dB:fP(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var bQ=hB();function SQ(e=zl){const t=e===zl?bQ:hB(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var xQ=SQ(),EQ=(e,t)=>e===t;function CQ(e=zl){const t=e===zl?dB:fP(e),n=(r,i={})=>{const{equalityFn:a=EQ}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:s,subscription:l,getServerState:c}=o;V.useRef(!0);const d=V.useCallback({[r.name](m){return r(m)}}[r.name],[r]),h=uQ.useSyncExternalStoreWithSelector(l.addNestedSub,s.getState,c||s.getState,d,a);return V.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var TQ=CQ();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}var ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ri||(ri={}));const wD="popstate";function AQ(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return xm("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ts(i)}return PQ(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RQ(){return Math.random().toString(36).substr(2,8)}function bD(e,t){return{usr:e.state,key:e.key,idx:t}}function xm(e,t,n,r){return n===void 0&&(n=null),Qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ou(t):t,{state:n,key:t&&t.key||r||RQ()})}function Ts(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ou(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function PQ(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ri.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Qn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){s=ri.Pop;let x=d(),b=x==null?null:x-c;c=x,l&&l({action:s,location:_.location,delta:b})}function m(x,b){s=ri.Push;let S=xm(_.location,x,b);c=d()+1;let A=bD(S,c),P=_.createHref(S);try{o.pushState(A,"",P)}catch{i.location.assign(P)}a&&l&&l({action:s,location:_.location,delta:1})}function y(x,b){s=ri.Replace;let S=xm(_.location,x,b);c=d();let A=bD(S,c),P=_.createHref(S);o.replaceState(A,"",P),a&&l&&l({action:s,location:_.location,delta:0})}function v(x){let b=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:Ts(x);return wn(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let _={get action(){return s},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wD,h),l=x,()=>{i.removeEventListener(wD,h),l=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(x){return o.go(x)}};return _}var Di;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Di||(Di={}));function OQ(e){return e.index===!0}function pB(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,i)=>{let a=[...t,i],o=typeof r.id=="string"?r.id:a.join("-");return wn(r.index!==!0||!r.children,"Cannot specify children on an index route"),wn(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),OQ(r)?Qn({},r,{id:o}):Qn({},r,{id:o,children:r.children?pB(r.children,a,n):void 0})})}function Yg(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ou(t):t,i=yB(r.pathname||"/",n);if(i==null)return null;let a=gB(e);LQ(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=UQ(a[s],zQ(i));return o}function gB(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=_u([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gB(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:jQ(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of mB(a.path))i(a,o,l)}),t}function mB(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=mB(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function LQ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$Q(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IQ=/^:\w+$/,MQ=3,DQ=2,kQ=1,NQ=10,FQ=-2,SD=e=>e==="*";function jQ(e,t){let n=e.split("/"),r=n.length;return n.some(SD)&&(r+=FQ),t&&(r+=DQ),n.filter(i=>!SD(i)).reduce((i,a)=>i+(IQ.test(a)?MQ:a===""?kQ:NQ),r)}function $Q(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function UQ(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=BQ({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=s.route;a.push({params:r,pathname:_u([i,d.pathname]),pathnameBase:GQ(_u([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=_u([i,d.pathnameBase]))}return a}function BQ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qQ(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let m=s[h]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return c[d]=HQ(s[h]||"",d),c},{}),pathname:a,pathnameBase:o,pattern:e}}function qQ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Em(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function zQ(e){try{return decodeURI(e)}catch(t){return Em(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HQ(e,t){try{return decodeURIComponent(e)}catch(n){return Em(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function yB(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Em(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VQ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ou(e):e;return{pathname:n?n.startsWith("/")?n:KQ(n,t):t,search:WQ(r),hash:QQ(i)}}function KQ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OS(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ew(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ou(e):(i=Qn({},e),wn(!i.pathname||!i.pathname.includes("?"),OS("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),OS("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),OS("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let h=t.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}s=h>=0?t[h]:"/"}let l=VQ(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const _u=e=>e.join("/").replace(/\/\/+/g,"/"),GQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class xD extends Error{}class ZQ{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],wn(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let i=()=>r(new xD("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((a,o)=>{let[s,l]=o;return Object.assign(a,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){return this.controller.signal.aborted&&r instanceof xD?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{t.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return wn(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:YQ(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function JQ(e){return e instanceof Promise&&e._tracked===!0}function YQ(e){if(!JQ(e))return e;if(e._error)throw e._error;return e._data}class hP{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function vB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _B=["post","put","patch","delete"],XQ=new Set(_B),eZ=["get",..._B],tZ=new Set(eZ),nZ=new Set([301,302,303,307,308]),rZ=new Set([307,308]),LS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},iZ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ED={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aZ=!wB;function oZ(e){wn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=pB(e.routes),n=null,r=new Set,i=null,a=null,o=null,s=e.hydrationData!=null,l=Yg(t,e.history.location,e.basename),c=null;if(l==null){let Se=Sl(404,{pathname:e.history.location.pathname}),{matches:Be,route:ne}=OD(t);l=Be,c={[ne.id]:Se}}let d=!l.some(Se=>Se.route.loader)||e.hydrationData!=null,h,m={historyAction:e.history.action,location:e.history.location,matches:l,initialized:d,navigation:LS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map,blockers:new Map},y=ri.Pop,v=!1,_,x=!1,b=!1,S=[],A=[],P=new Map,O=0,D=-1,F=new Map,Q=new Set,X=new Map,U=new Map,Y=null,ce=new Map,te=!1;function se(){return n=e.history.listen(Se=>{let{action:Be,location:ne,delta:q}=Se;if(te){te=!1;return}Em(Y!=null&&q===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Fe({currentLocation:m.location,nextLocation:ne,historyAction:Be});if(W&&q!=null){te=!0,e.history.go(q*-1),Ee(W,{state:"blocked",location:ne,proceed(){Ee(W,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),e.history.go(q)},reset(){He(W),de({blockers:new Map(h.state.blockers)})}});return}return ie(Be,ne)}),m.initialized||ie(ri.Pop,m.location),h}function pe(){n&&n(),r.clear(),_&&_.abort(),m.fetchers.forEach((Se,Be)=>z(Be)),m.blockers.forEach((Se,Be)=>He(Be))}function _e(Se){return r.add(Se),()=>r.delete(Se)}function de(Se){m=Qn({},m,Se),r.forEach(Be=>Be(m))}function ue(Se,Be){var ne,q;let W=m.actionData!=null&&m.navigation.formMethod!=null&&mu(m.navigation.formMethod)&&m.navigation.state==="loading"&&((ne=Se.state)==null?void 0:ne._isRedirect)!==!0,G;Be.actionData?Object.keys(Be.actionData).length>0?G=Be.actionData:G=null:W?G=m.actionData:G=null;let je=Be.loaderData?PD(m.loaderData,Be.loaderData,Be.matches||[],Be.errors):m.loaderData;for(let[ke]of ce)He(ke);let Je=v===!0||m.navigation.formMethod!=null&&mu(m.navigation.formMethod)&&((q=Se.state)==null?void 0:q._isRedirect)!==!0;de(Qn({},Be,{actionData:G,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:LS,revalidation:"idle",restoreScrollPosition:qt(Se,Be.matches||m.matches),preventScrollReset:Je,blockers:new Map(m.blockers)})),x||y===ri.Pop||(y===ri.Push?e.history.push(Se,Se.state):y===ri.Replace&&e.history.replace(Se,Se.state)),y=ri.Pop,v=!1,x=!1,b=!1,S=[],A=[]}async function Re(Se,Be){if(typeof Se=="number"){e.history.go(Se);return}let{path:ne,submission:q,error:W}=CD(Se,Be),G=m.location,je=xm(m.location,ne,Be&&Be.state);je=Qn({},je,e.history.encodeLocation(je));let Je=Be&&Be.replace!=null?Be.replace:void 0,ke=ri.Push;Je===!0?ke=ri.Replace:Je===!1||q!=null&&mu(q.formMethod)&&q.formAction===m.location.pathname+m.location.search&&(ke=ri.Replace);let Rt=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,Lt=Fe({currentLocation:G,nextLocation:je,historyAction:ke});if(Lt){Ee(Lt,{state:"blocked",location:je,proceed(){Ee(Lt,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Re(Se,Be)},reset(){He(Lt),de({blockers:new Map(m.blockers)})}});return}return await ie(ke,je,{submission:q,pendingError:W,preventScrollReset:Rt,replace:Be&&Be.replace})}function k(){if(Ye(),de({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ie(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ie(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ie(Se,Be,ne){_&&_.abort(),_=null,y=Se,x=(ne&&ne.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),v=(ne&&ne.preventScrollReset)===!0;let q=ne&&ne.overrideNavigation,W=Yg(t,Be,e.basename);if(!W){let Nt=Sl(404,{pathname:Be.pathname}),{matches:Pt,route:zt}=OD(t);tt(),ue(Be,{matches:Pt,loaderData:{},errors:{[zt.id]:Nt}});return}if(fZ(m.location,Be)&&!(ne&&ne.submission&&mu(ne.submission.formMethod))){ue(Be,{matches:W});return}_=new AbortController;let G=Vp(e.history,Be,_.signal,ne&&ne.submission),je,Je;if(ne&&ne.pendingError)Je={[Nd(W).route.id]:ne.pendingError};else if(ne&&ne.submission&&mu(ne.submission.formMethod)){let Nt=await me(G,Be,ne.submission,W,{replace:ne.replace});if(Nt.shortCircuited)return;je=Nt.pendingActionData,Je=Nt.pendingActionError,q=Qn({state:"loading",location:Be},ne.submission),G=new Request(G.url,{signal:G.signal})}let{shortCircuited:ke,loaderData:Rt,errors:Lt}=await K(G,Be,W,q,ne&&ne.submission,ne&&ne.replace,je,Je);ke||(_=null,ue(Be,Qn({matches:W},je?{actionData:je}:{},{loaderData:Rt,errors:Lt})))}async function me(Se,Be,ne,q,W){Ye();let G=Qn({state:"submitting",location:Be},ne);de({navigation:G});let je,Je=DD(q,Be);if(!Je.route.action)je={type:Di.error,error:Sl(405,{method:Se.method,pathname:Be.pathname,routeId:Je.route.id})};else if(je=await Hp("action",Se,Je,q,h.basename),Se.signal.aborted)return{shortCircuited:!0};if(Ud(je)){let ke;return W.replace!=null?ke=W.replace:ke=je.location===m.location.pathname+m.location.search,await Pe(m,je,{submission:ne,replace:ke}),{shortCircuited:!0}}if(dm(je)){let ke=Nd(q,Je.route.id);return W.replace!==!0&&(y=ri.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(nf(je))throw Sl(400,{type:"defer-action"});return{pendingActionData:{[Je.route.id]:je.data}}}async function K(Se,Be,ne,q,W,G,je,Je){let ke=q;ke||(ke=Qn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},W));let Rt=W||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[Lt,Nt]=TD(e.history,m,ne,Rt,Be,b,S,A,je,Je,X);if(tt(ln=>!(ne&&ne.some(In=>In.route.id===ln))||Lt&&Lt.some(In=>In.route.id===ln)),Lt.length===0&&Nt.length===0)return ue(Be,Qn({matches:ne,loaderData:{},errors:Je||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!x){Nt.forEach(In=>{let ur=m.fetchers.get(In.key),Le={state:"loading",data:ur&&ur.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(In.key,Le)});let ln=je||m.actionData;de(Qn({navigation:ke},ln?Object.keys(ln).length===0?{actionData:null}:{actionData:ln}:{},Nt.length>0?{fetchers:new Map(m.fetchers)}:{}))}D=++O,Nt.forEach(ln=>P.set(ln.key,_));let{results:Pt,loaderResults:zt,fetcherResults:Tr}=await Ne(m.matches,ne,Lt,Nt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Nt.forEach(ln=>P.delete(ln.key));let dn=LD(Pt);if(dn)return await Pe(m,dn,{replace:G}),{shortCircuited:!0};let{loaderData:hn,errors:gr}=RD(m,ne,Lt,zt,Je,Nt,Tr,U);U.forEach((ln,In)=>{ln.subscribe(ur=>{(ur||ln.done)&&U.delete(In)})}),Z();let un=he(D);return Qn({loaderData:hn,errors:gr},un||Nt.length>0?{fetchers:new Map(m.fetchers)}:{})}function ee(Se){return m.fetchers.get(Se)||iZ}function ge(Se,Be,ne,q){if(aZ)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(Se)&&$(Se);let W=Yg(t,ne,e.basename);if(!W){oe(Se,Be,Sl(404,{pathname:ne}));return}let{path:G,submission:je}=CD(ne,q,!0),Je=DD(W,G);if(v=(q&&q.preventScrollReset)===!0,je&&mu(je.formMethod)){Ae(Se,Be,G,Je,W,je);return}X.set(Se,{routeId:Be,path:G,match:Je,matches:W}),Ze(Se,Be,G,Je,W,je)}async function Ae(Se,Be,ne,q,W,G){if(Ye(),X.delete(Se),!q.route.action){let Mt=Sl(405,{method:G.formMethod,pathname:ne,routeId:Be});oe(Se,Be,Mt);return}let je=m.fetchers.get(Se),Je=Qn({state:"submitting"},G,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Je),de({fetchers:new Map(m.fetchers)});let ke=new AbortController,Rt=Vp(e.history,ne,ke.signal,G);P.set(Se,ke);let Lt=await Hp("action",Rt,q,W,h.basename);if(Rt.signal.aborted){P.get(Se)===ke&&P.delete(Se);return}if(Ud(Lt)){P.delete(Se),Q.add(Se);let Mt=Qn({state:"loading"},G,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,Mt),de({fetchers:new Map(m.fetchers)}),Pe(m,Lt,{isFetchActionRedirect:!0})}if(dm(Lt)){oe(Se,Be,Lt.error);return}if(nf(Lt))throw Sl(400,{type:"defer-action"});let Nt=m.navigation.location||m.location,Pt=Vp(e.history,Nt,ke.signal),zt=m.navigation.state!=="idle"?Yg(t,m.navigation.location,e.basename):m.matches;wn(zt,"Didn't find any matches after fetcher action");let Tr=++O;F.set(Se,Tr);let dn=Qn({state:"loading",data:Lt.data},G,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,dn);let[hn,gr]=TD(e.history,m,zt,G,Nt,b,S,A,{[q.route.id]:Lt.data},void 0,X);gr.filter(Mt=>Mt.key!==Se).forEach(Mt=>{let Hn=Mt.key,Jn=m.fetchers.get(Hn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Hn,We),P.set(Hn,ke)}),de({fetchers:new Map(m.fetchers)});let{results:un,loaderResults:ln,fetcherResults:In}=await Ne(m.matches,zt,hn,gr,Pt);if(ke.signal.aborted)return;F.delete(Se),P.delete(Se),gr.forEach(Mt=>P.delete(Mt.key));let ur=LD(un);if(ur)return Pe(m,ur);let{loaderData:Le,errors:qe}=RD(m,m.matches,hn,ln,void 0,gr,In,U),bt={state:"idle",data:Lt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,bt);let Et=he(Tr);m.navigation.state==="loading"&&Tr>D?(wn(y,"Expected pending action"),_&&_.abort(),ue(m.navigation.location,{matches:zt,loaderData:Le,errors:qe,fetchers:new Map(m.fetchers)})):(de(Qn({errors:qe,loaderData:PD(m.loaderData,Le,zt,qe)},Et?{fetchers:new Map(m.fetchers)}:{})),b=!1)}async function Ze(Se,Be,ne,q,W,G){let je=m.fetchers.get(Se),Je=Qn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Je),de({fetchers:new Map(m.fetchers)});let ke=new AbortController,Rt=Vp(e.history,ne,ke.signal);P.set(Se,ke);let Lt=await Hp("loader",Rt,q,W,h.basename);if(nf(Lt)&&(Lt=await EB(Lt,Rt.signal,!0)||Lt),P.get(Se)===ke&&P.delete(Se),Rt.signal.aborted)return;if(Ud(Lt)){await Pe(m,Lt);return}if(dm(Lt)){let Pt=Nd(m.matches,Be);m.fetchers.delete(Se),de({fetchers:new Map(m.fetchers),errors:{[Pt.route.id]:Lt.error}});return}wn(!nf(Lt),"Unhandled fetcher deferred data");let Nt={state:"idle",data:Lt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,Nt),de({fetchers:new Map(m.fetchers)})}async function Pe(Se,Be,ne){var q;let{submission:W,replace:G,isFetchActionRedirect:je}=ne===void 0?{}:ne;Be.revalidate&&(b=!0);let Je=xm(Se.location,Be.location,Qn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(wn(Je,"Expected a location on the redirect navigation"),wB&&typeof((q=window)==null?void 0:q.location)<"u"){let zt=e.history.createURL(Be.location).origin;if(window.location.origin!==zt){G?window.location.replace(Be.location):window.location.assign(Be.location);return}}_=null;let ke=G===!0?ri.Replace:ri.Push,{formMethod:Rt,formAction:Lt,formEncType:Nt,formData:Pt}=Se.navigation;!W&&Rt&&Lt&&Pt&&Nt&&(W={formMethod:Rt,formAction:Lt,formEncType:Nt,formData:Pt}),rZ.has(Be.status)&&W&&mu(W.formMethod)?await ie(ke,Je,{submission:Qn({},W,{formAction:Be.location}),preventScrollReset:v}):await ie(ke,Je,{overrideNavigation:{state:"loading",location:Je,formMethod:W?W.formMethod:void 0,formAction:W?W.formAction:void 0,formEncType:W?W.formEncType:void 0,formData:W?W.formData:void 0},preventScrollReset:v})}async function Ne(Se,Be,ne,q,W){let G=await Promise.all([...ne.map(ke=>Hp("loader",W,ke,Be,h.basename)),...q.map(ke=>Hp("loader",Vp(e.history,ke.path,W.signal),ke.match,ke.matches,h.basename))]),je=G.slice(0,ne.length),Je=G.slice(ne.length);return await Promise.all([ID(Se,ne,je,W.signal,!1,m.loaderData),ID(Se,q.map(ke=>ke.match),Je,W.signal,!0)]),{results:G,loaderResults:je,fetcherResults:Je}}function Ye(){b=!0,S.push(...tt()),X.forEach((Se,Be)=>{P.has(Be)&&(A.push(Be),$(Be))})}function oe(Se,Be,ne){let q=Nd(m.matches,Be);z(Se),de({errors:{[q.route.id]:ne},fetchers:new Map(m.fetchers)})}function z(Se){P.has(Se)&&$(Se),X.delete(Se),F.delete(Se),Q.delete(Se),m.fetchers.delete(Se)}function $(Se){let Be=P.get(Se);wn(Be,"Expected fetch controller: "+Se),Be.abort(),P.delete(Se)}function ae(Se){for(let Be of Se){let q={state:"idle",data:ee(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Be,q)}}function Z(){let Se=[];for(let Be of Q){let ne=m.fetchers.get(Be);wn(ne,"Expected fetcher: "+Be),ne.state==="loading"&&(Q.delete(Be),Se.push(Be))}ae(Se)}function he(Se){let Be=[];for(let[ne,q]of F)if(q<Se){let W=m.fetchers.get(ne);wn(W,"Expected fetcher: "+ne),W.state==="loading"&&($(ne),F.delete(ne),Be.push(ne))}return ae(Be),Be.length>0}function ye(Se,Be){let ne=m.blockers.get(Se)||ED;return ce.get(Se)!==Be&&(ce.set(Se,Be),Y==null?Y=Se:Se!==Y&&Em(!1,"A router only supports one blocker at a time")),ne}function He(Se){m.blockers.delete(Se),ce.delete(Se),Y===Se&&(Y=null)}function Ee(Se,Be){let ne=m.blockers.get(Se)||ED;wn(ne.state==="unblocked"&&Be.state==="blocked"||ne.state==="blocked"&&Be.state==="blocked"||ne.state==="blocked"&&Be.state==="proceeding"||ne.state==="blocked"&&Be.state==="unblocked"||ne.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+ne.state+" -> "+Be.state),m.blockers.set(Se,Be),de({blockers:new Map(m.blockers)})}function Fe(Se){let{currentLocation:Be,nextLocation:ne,historyAction:q}=Se;if(Y==null)return;let W=ce.get(Y);wn(W,"Could not find a function for the active blocker");let G=m.blockers.get(Y);if(!(G&&G.state==="proceeding")&&W({currentLocation:Be,nextLocation:ne,historyAction:q}))return Y}function tt(Se){let Be=[];return U.forEach((ne,q)=>{(!Se||Se(q))&&(ne.cancel(),Be.push(q),U.delete(q))}),Be}function nt(Se,Be,ne){if(i=Se,o=Be,a=ne||(q=>q.key),!s&&m.navigation===LS){s=!0;let q=qt(m.location,m.matches);q!=null&&de({restoreScrollPosition:q})}return()=>{i=null,o=null,a=null}}function gt(Se,Be){if(i&&a&&o){let ne=Be.map(W=>MD(W,m.loaderData)),q=a(Se,ne)||Se.key;i[q]=o()}}function qt(Se,Be){if(i&&a&&o){let ne=Be.map(G=>MD(G,m.loaderData)),q=a(Se,ne)||Se.key,W=i[q];if(typeof W=="number")return W}return null}return h={get basename(){return e.basename},get state(){return m},get routes(){return t},initialize:se,subscribe:_e,enableScrollRestoration:nt,navigate:Re,fetch:ge,revalidate:k,createHref:Se=>e.history.createHref(Se),encodeLocation:Se=>e.history.encodeLocation(Se),getFetcher:ee,deleteFetcher:z,dispose:pe,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:P,_internalActiveDeferreds:U},h}function sZ(e){return e!=null&&"formData"in e}function CD(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Ts(e);if(!t||!sZ(t))return{path:r};if(t.formMethod&&!hZ(t.formMethod))return{path:r,error:Sl(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:xB(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},mu(i.formMethod)))return{path:r,submission:i};let a=Ou(r),o=SB(t.formData);return n&&a.search&&CB(a.search)&&o.append("index",""),a.search="?"+o,{path:Ts(a),submission:i}}function uZ(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function TD(e,t,n,r,i,a,o,s,l,c,d){let h=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,m=e.createURL(t.location),y=e.createURL(i),v=a||m.toString()===y.toString()||m.search!==y.search,_=c?Object.keys(c)[0]:void 0,b=uZ(n,_).filter((A,P)=>{if(A.route.loader==null)return!1;if(lZ(t.loaderData,t.matches[P],A)||o.some(F=>F===A.route.id))return!0;let O=t.matches[P],D=A;return AD(A,Qn({currentUrl:m,currentParams:O.params,nextUrl:y,nextParams:D.params},r,{actionResult:h,defaultShouldRevalidate:v||bB(O,D)}))}),S=[];return d&&d.forEach((A,P)=>{if(n.some(O=>O.route.id===A.routeId))s.includes(P)?S.push(Qn({key:P},A)):AD(A.match,Qn({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:v}))&&S.push(Qn({key:P},A));else return}),[b,S]}function lZ(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function bB(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function AD(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Hp(e,t,n,r,i,a,o,s){i===void 0&&(i="/"),a===void 0&&(a=!1),o===void 0&&(o=!1);let l,c,d,h=new Promise((y,v)=>d=v),m=()=>d();t.signal.addEventListener("abort",m);try{let y=n.route[e];wn(y,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),c=await Promise.race([y({request:t,params:n.params,context:s}),h]),wn(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=Di.error,c=y}finally{t.signal.removeEventListener("abort",m)}if(dZ(c)){let y=c.status;if(nZ.has(y)){let x=c.headers.get("Location");if(wn(x,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(x)){if(!a){let S=new URL(t.url),A=x.startsWith("//")?new URL(S.protocol+x):new URL(x);A.origin===S.origin&&(x=A.pathname+A.search+A.hash)}}else{let S=r.slice(0,r.indexOf(n)+1),A=Ew(S).map(O=>O.pathnameBase),P=dP(x,A,new URL(t.url).pathname);if(wn(Ts(P),"Unable to resolve redirect location: "+x),i){let O=P.pathname;P.pathname=O==="/"?i:_u([i,O])}x=Ts(P)}if(a)throw c.headers.set("Location",x),c;return{type:Di.redirect,status:y,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||Di.data,response:c};let v,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await c.json():v=await c.text(),l===Di.error?{type:l,error:new hP(y,c.statusText,v),headers:c.headers}:{type:Di.data,data:v,statusCode:c.status,headers:c.headers}}return l===Di.error?{type:l,error:c}:c instanceof ZQ?{type:Di.deferred,deferredData:c}:{type:Di.data,data:c}}function Vp(e,t,n,r){let i=e.createURL(xB(t)).toString(),a={signal:n};if(r&&mu(r.formMethod)){let{formMethod:o,formEncType:s,formData:l}=r;a.method=o.toUpperCase(),a.body=s==="application/x-www-form-urlencoded"?SB(l):l}return new Request(i,a)}function SB(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function cZ(e,t,n,r,i){let a={},o=null,s,l=!1,c={};return n.forEach((d,h)=>{let m=t[h].route.id;if(wn(!Ud(d),"Cannot handle redirect results in processLoaderData"),dm(d)){let y=Nd(e,m),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),a[m]=void 0,l||(l=!0,s=vB(d.error)?d.error.status:500),d.headers&&(c[m]=d.headers)}else nf(d)?(i.set(m,d.deferredData),a[m]=d.deferredData.data):a[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(c[m]=d.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function RD(e,t,n,r,i,a,o,s){let{loaderData:l,errors:c}=cZ(t,n,r,i,s);for(let d=0;d<a.length;d++){let{key:h,match:m}=a[d];wn(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let y=o[d];if(dm(y)){let v=Nd(e.matches,m.route.id);c&&c[v.route.id]||(c=Qn({},c,{[v.route.id]:y.error})),e.fetchers.delete(h)}else if(Ud(y))wn(!1,"Unhandled fetcher revalidation redirect");else if(nf(y))wn(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,v)}}return{loaderData:l,errors:c}}function PD(e,t,n,r){let i=Qn({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Nd(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function OD(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Sl(e,t){let{pathname:n,routeId:r,method:i,type:a}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(s="defer() is not supported in actions")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new hP(e||500,o,new Error(s),!0)}function LD(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ud(n))return n}}function xB(e){let t=typeof e=="string"?Ou(e):e;return Ts(Qn({},t,{hash:""}))}function fZ(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function nf(e){return e.type===Di.deferred}function dm(e){return e.type===Di.error}function Ud(e){return(e&&e.type)===Di.redirect}function dZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function hZ(e){return tZ.has(e)}function mu(e){return XQ.has(e)}async function ID(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o],c=e.find(h=>h.route.id===l.route.id),d=c!=null&&!bB(c,l)&&(a&&a[l.route.id])!==void 0;nf(s)&&(i||d)&&await EB(s,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function EB(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Di.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Di.error,error:i}}return{type:Di.data,data:e.deferredData.data}}}function CB(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function MD(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function DD(e,t){let n=typeof t=="string"?Ou(t).search:t.search;if(e[e.length-1].route.index&&CB(n||""))return e[e.length-1];let r=Ew(e);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(this,arguments)}function pZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const gZ=typeof Object.is=="function"?Object.is:pZ,{useState:mZ,useEffect:yZ,useLayoutEffect:vZ,useDebugValue:_Z}=fh;function wZ(e,t,n){const r=t(),[{inst:i},a]=mZ({inst:{value:r,getSnapshot:t}});return vZ(()=>{i.value=r,i.getSnapshot=t,IS(i)&&a({inst:i})},[e,r,t]),yZ(()=>(IS(i)&&a({inst:i}),e(()=>{IS(i)&&a({inst:i})})),[e]),_Z(r),r}function IS(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!gZ(n,r)}catch{return!0}}function bZ(e,t,n){return t()}const SZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xZ=!SZ,EZ=xZ?bZ:wZ,CZ="useSyncExternalStore"in fh?(e=>e.useSyncExternalStore)(fh):EZ,pP=V.createContext(null),ty=V.createContext(null),ny=V.createContext(null),Cw=V.createContext(null),Jl=V.createContext({outlet:null,matches:[]}),TB=V.createContext(null);function TZ(e,t){let{relative:n}=t===void 0?{}:t;Th()||wn(!1);let{basename:r,navigator:i}=V.useContext(ny),{hash:a,pathname:o,search:s}=mP(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:_u([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Th(){return V.useContext(Cw)!=null}function Ah(){return Th()||wn(!1),V.useContext(Cw).location}function Rh(){Th()||wn(!1);let{basename:e,navigator:t}=V.useContext(ny),{matches:n}=V.useContext(Jl),{pathname:r}=Ah(),i=JSON.stringify(Ew(n).map(s=>s.pathnameBase)),a=V.useRef(!1);return V.useEffect(()=>{a.current=!0}),V.useCallback(function(s,l){if(l===void 0&&(l={}),!a.current)return;if(typeof s=="number"){t.go(s);return}let c=dP(s,JSON.parse(i),r,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:_u([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,i,r])}const AZ=V.createContext(null);function RZ(e){let t=V.useContext(Jl).outlet;return t&&V.createElement(AZ.Provider,{value:e},t)}function gP(){let{matches:e}=V.useContext(Jl),t=e[e.length-1];return t?t.params:{}}function mP(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=V.useContext(Jl),{pathname:i}=Ah(),a=JSON.stringify(Ew(r).map(o=>o.pathnameBase));return V.useMemo(()=>dP(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function PZ(e,t){Th()||wn(!1);let{navigator:n}=V.useContext(ny),r=V.useContext(ty),{matches:i}=V.useContext(Jl),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=Ah(),c;if(t){var d;let _=typeof t=="string"?Ou(t):t;s==="/"||(d=_.pathname)!=null&&d.startsWith(s)||wn(!1),c=_}else c=l;let h=c.pathname||"/",m=s==="/"?h:h.slice(s.length)||"/",y=Yg(e,{pathname:m}),v=MZ(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:_u([s,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?s:_u([s,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return t&&v?V.createElement(Cw.Provider,{value:{location:j0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ri.Pop}},v):v}function OZ(){let e=FZ(),t=vB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,null)}class LZ extends V.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(Jl.Provider,{value:this.props.routeContext},V.createElement(TB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IZ(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(pP);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Jl.Provider,{value:t},r)}function MZ(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||wn(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,s)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||V.createElement(OZ,null):null,d=t.concat(r.slice(0,s+1)),h=()=>V.createElement(IZ,{match:o,routeContext:{outlet:a,matches:d}},l?c:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||s===0)?V.createElement(LZ,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var kD;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(kD||(kD={}));var $0;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})($0||($0={}));function DZ(e){let t=V.useContext(ty);return t||wn(!1),t}function kZ(e){let t=V.useContext(Jl);return t||wn(!1),t}function NZ(e){let t=kZ(),n=t.matches[t.matches.length-1];return n.route.id||wn(!1),n.route.id}function FZ(){var e;let t=V.useContext(TB),n=DZ($0.UseRouteError),r=NZ($0.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function jZ(e){let{fallbackElement:t,router:n}=e,r=CZ(n.subscribe,()=>n.state,()=>n.state),i=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,s,l)=>n.navigate(o,{state:s,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,s,l)=>n.navigate(o,{replace:!0,state:s,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return V.createElement(V.Fragment,null,V.createElement(pP.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},V.createElement(ty.Provider,{value:r},V.createElement(UZ,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?V.createElement(BZ,null):t))),null)}function yP(e){let{to:t,replace:n,state:r,relative:i}=e;Th()||wn(!1);let a=V.useContext(ty),o=Rh();return V.useEffect(()=>{a&&a.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Tw(e){return RZ(e.context)}function $Z(e){wn(!1)}function UZ(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ri.Pop,navigator:a,static:o=!1}=e;Th()&&wn(!1);let s=t.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=Ou(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:y="default"}=r,v=V.useMemo(()=>{let _=yB(c,s);return _==null?null:{pathname:_,search:d,hash:h,state:m,key:y}},[s,c,d,h,m,y]);return v==null?null:V.createElement(ny.Provider,{value:l},V.createElement(Cw.Provider,{children:n,value:{location:v,navigationType:i}}))}function BZ(e){let{children:t,location:n}=e,r=V.useContext(pP),i=r&&!t?r.router.routes:WA(t);return PZ(i,n)}var ND;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(ND||(ND={}));new Promise(()=>{});function WA(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;if(r.type===V.Fragment){n.push.apply(n,WA(r.props.children,t));return}r.type!==$Z&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a=[...t,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=WA(r.props.children,a)),n.push(o)}),n}function AB(e){return e.map(t=>{let n=j0({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=AB(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(this,arguments)}function RB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function qZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zZ(e,t){return e.button===0&&(!t||t==="_self")&&!qZ(e)}function QA(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function HZ(e,t){let n=QA(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const VZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],KZ=["aria-current","caseSensitive","className","end","style","to","children"];function GZ(e,t){return oZ({basename:void 0,history:AQ({window:void 0}),hydrationData:WZ(),routes:AB(e)}).initialize()}function WZ(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Cm({},t,{errors:QZ(t.errors)})),t}function QZ(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new hP(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const ZZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jo=V.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d}=t,h=RB(t,VZ),m=typeof c=="string"?c:Ts(c),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),v=m,_=!1;if(ZZ&&y){let A=new URL(window.location.href),P=m.startsWith("//")?new URL(A.protocol+m):new URL(m);P.origin===A.origin?v=P.pathname+P.search+P.hash:_=!0}let x=TZ(v,{relative:i}),b=YZ(v,{replace:o,state:s,target:l,preventScrollReset:d,relative:i});function S(A){r&&r(A),A.defaultPrevented||b(A)}return V.createElement("a",Cm({},h,{href:y?m:x,onClick:_||a?r:S,ref:n,target:l}))}),JZ=V.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,children:c}=t,d=RB(t,KZ),h=mP(l,{relative:d.relative}),m=Ah(),y=V.useContext(ty),{navigator:v}=V.useContext(ny),_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,x=m.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(x=x.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase());let S=x===_||!o&&x.startsWith(_)&&x.charAt(_.length)==="/",A=b!=null&&(b===_||!o&&b.startsWith(_)&&b.charAt(_.length)==="/"),P=S?r:void 0,O;typeof a=="function"?O=a({isActive:S,isPending:A}):O=[a,S?"active":null,A?"pending":null].filter(Boolean).join(" ");let D=typeof s=="function"?s({isActive:S,isPending:A}):s;return V.createElement(jo,Cm({},d,{"aria-current":P,className:O,ref:n,style:D,to:l}),typeof c=="function"?c({isActive:S,isPending:A}):c)});var FD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(FD||(FD={}));var jD;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jD||(jD={}));function YZ(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=t===void 0?{}:t,s=Rh(),l=Ah(),c=mP(e,{relative:o});return V.useCallback(d=>{if(zZ(d,n)){d.preventDefault();let h=r!==void 0?r:Ts(l)===Ts(c);s(e,{replace:h,state:i,preventScrollReset:a,relative:o})}},[l,s,c,r,i,n,e,a,o])}function XZ(e){let t=V.useRef(QA(e)),n=V.useRef(!1),r=Ah(),i=V.useMemo(()=>HZ(r.search,n.current?null:t.current),[r.search]),a=Rh(),o=V.useCallback((s,l)=>{const c=QA(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}function d0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d0=function(n){return typeof n}:d0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d0(e)}function eJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nJ(e,t,n){return tJ(e.prototype,t),e}function rJ(e,t){return t&&(d0(t)==="object"||typeof t=="function")?t:h0(e)}function ZA(e){return ZA=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ZA(e)}function h0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JA(e,t)}function JA(e,t){return JA=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},JA(e,t)}function p0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PB=function(e){iJ(t,e);function t(){var n,r;eJ(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=rJ(this,(n=ZA(t)).call.apply(n,[this].concat(a))),p0(h0(r),"state",{bootstrapped:!1}),p0(h0(r),"_unsubscribe",void 0),p0(h0(r),"handlePersistorState",function(){var s=r.props.persistor,l=s.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return nJ(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(V.PureComponent);p0(PB,"defaultProps",{children:null,loading:null});const aJ="modulepreload",oJ=function(e){return"/"+e},$D={},UD=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=oJ(l),l in $D)return;$D[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":aJ,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},sJ=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Yl=xQ,bi=TQ,OB="https://solidweb.me/solidcouch/community#us",LB="solidcouch",uJ="https://service.notifications.tired.bike",lJ="https://id.notifications.tired.bike/profile/card#me",IB="simple",MB="",DB="",kB="SolidCouch",BD="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",qD="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var Xg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var cJ=Xg.exports,zD;function fJ(){return zD||(zD=1,function(e,t){(function(n,r){r(t)})(cJ,function(n){var r="1.9.4";function i(p){var w,I,B,re;for(I=1,B=arguments.length;I<B;I++){re=arguments[I];for(w in re)p[w]=re[w]}return p}var a=Object.create||function(){function p(){}return function(w){return p.prototype=w,new p}}();function o(p,w){var I=Array.prototype.slice;if(p.bind)return p.bind.apply(p,I.call(arguments,1));var B=I.call(arguments,2);return function(){return p.apply(w,B.length?B.concat(I.call(arguments)):arguments)}}var s=0;function l(p){return"_leaflet_id"in p||(p._leaflet_id=++s),p._leaflet_id}function c(p,w,I){var B,re,ve,Ge;return Ge=function(){B=!1,re&&(ve.apply(I,re),re=!1)},ve=function(){B?re=arguments:(p.apply(I,arguments),setTimeout(Ge,w),B=!0)},ve}function d(p,w,I){var B=w[1],re=w[0],ve=B-re;return p===B&&I?p:((p-re)%ve+ve)%ve+re}function h(){return!1}function m(p,w){if(w===!1)return p;var I=Math.pow(10,w===void 0?6:w);return Math.round(p*I)/I}function y(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function v(p){return y(p).split(/\s+/)}function _(p,w){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?a(p.options):{});for(var I in w)p.options[I]=w[I];return p.options}function x(p,w,I){var B=[];for(var re in p)B.push(encodeURIComponent(I?re.toUpperCase():re)+"="+encodeURIComponent(p[re]));return(!w||w.indexOf("?")===-1?"?":"&")+B.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function S(p,w){return p.replace(b,function(I,B){var re=w[B];if(re===void 0)throw new Error("No value provided for variable "+I);return typeof re=="function"&&(re=re(w)),re})}var A=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function P(p,w){for(var I=0;I<p.length;I++)if(p[I]===w)return I;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var F=0;function Q(p){var w=+new Date,I=Math.max(0,16-(w-F));return F=w+I,window.setTimeout(p,I)}var X=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,U=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function Y(p,w,I){if(I&&X===Q)p.call(w);else return X.call(window,o(p,w))}function ce(p){p&&U.call(window,p)}var te={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:c,wrapNum:d,falseFn:h,formatNum:m,trim:y,splitWords:v,setOptions:_,getParamString:x,template:S,isArray:A,indexOf:P,emptyImageUrl:O,requestFn:X,cancelFn:U,requestAnimFrame:Y,cancelAnimFrame:ce};function se(){}se.extend=function(p){var w=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=w.__super__=this.prototype,B=a(I);B.constructor=w,w.prototype=B;for(var re in this)Object.prototype.hasOwnProperty.call(this,re)&&re!=="prototype"&&re!=="__super__"&&(w[re]=this[re]);return p.statics&&i(w,p.statics),p.includes&&(pe(p.includes),i.apply(null,[B].concat(p.includes))),i(B,p),delete B.statics,delete B.includes,B.options&&(B.options=I.options?a(I.options):{},i(B.options,p.options)),B._initHooks=[],B.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=B._initHooks.length;ve<Ge;ve++)B._initHooks[ve].call(this)}},w},se.include=function(p){var w=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=w,this.mergeOptions(p.options)),this},se.mergeOptions=function(p){return i(this.prototype.options,p),this},se.addInitHook=function(p){var w=Array.prototype.slice.call(arguments,1),I=typeof p=="function"?p:function(){this[p].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function pe(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=A(p)?p:[p];for(var w=0;w<p.length;w++)p[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(p,w,I){if(typeof p=="object")for(var B in p)this._on(B,p[B],w);else{p=v(p);for(var re=0,ve=p.length;re<ve;re++)this._on(p[re],w,I)}return this},off:function(p,w,I){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var B in p)this._off(B,p[B],w);else{p=v(p);for(var re=arguments.length===1,ve=0,Ge=p.length;ve<Ge;ve++)re?this._off(p[ve]):this._off(p[ve],w,I)}return this},_on:function(p,w,I,B){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(p,w,I)===!1){I===this&&(I=void 0);var re={fn:w,ctx:I};B&&(re.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(re)}},_off:function(p,w,I){var B,re,ve;if(this._events&&(B=this._events[p],!!B)){if(arguments.length===1){if(this._firingCount)for(re=0,ve=B.length;re<ve;re++)B[re].fn=h;delete this._events[p];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var Ge=this._listens(p,w,I);if(Ge!==!1){var st=B[Ge];this._firingCount&&(st.fn=h,this._events[p]=B=B.slice()),B.splice(Ge,1)}}},fire:function(p,w,I){if(!this.listens(p,I))return this;var B=i({},w,{type:p,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var re=this._events[p];if(re){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=re.length;ve<Ge;ve++){var st=re[ve],yt=st.fn;st.once&&this.off(p,yt,st.ctx),yt.call(st.ctx||this,B)}this._firingCount--}}return I&&this._propagateEvent(B),this},listens:function(p,w,I,B){typeof p!="string"&&console.warn('"string" type argument expected');var re=w;typeof w!="function"&&(B=!!w,re=void 0,I=void 0);var ve=this._events&&this._events[p];if(ve&&ve.length&&this._listens(p,re,I)!==!1)return!0;if(B){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(p,w,I,B))return!0}return!1},_listens:function(p,w,I){if(!this._events)return!1;var B=this._events[p]||[];if(!w)return!!B.length;I===this&&(I=void 0);for(var re=0,ve=B.length;re<ve;re++)if(B[re].fn===w&&B[re].ctx===I)return re;return!1},once:function(p,w,I){if(typeof p=="object")for(var B in p)this._on(B,p[B],w,!0);else{p=v(p);for(var re=0,ve=p.length;re<ve;re++)this._on(p[re],w,I,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[l(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[l(p)],this},_propagateEvent:function(p){for(var w in this._eventParents)this._eventParents[w].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var de=se.extend(_e);function ue(p,w,I){this.x=I?Math.round(p):p,this.y=I?Math.round(w):w}var Re=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(p){return this.clone()._add(k(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(k(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new ue(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new ue(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(p){p=k(p);var w=p.x-this.x,I=p.y-this.y;return Math.sqrt(w*w+I*I)},equals:function(p){return p=k(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=k(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function k(p,w,I){return p instanceof ue?p:A(p)?new ue(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new ue(p.x,p.y):new ue(p,w,I)}function ie(p,w){if(p)for(var I=w?[p,w]:p,B=0,re=I.length;B<re;B++)this.extend(I[B])}ie.prototype={extend:function(p){var w,I;if(!p)return this;if(p instanceof ue||typeof p[0]=="number"||"x"in p)w=I=k(p);else if(p=me(p),w=p.min,I=p.max,!w||!I)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=I.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(p){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var w,I;return typeof p[0]=="number"||p instanceof ue?p=k(p):p=me(p),p instanceof ie?(w=p.min,I=p.max):w=I=p,w.x>=this.min.x&&I.x<=this.max.x&&w.y>=this.min.y&&I.y<=this.max.y},intersects:function(p){p=me(p);var w=this.min,I=this.max,B=p.min,re=p.max,ve=re.x>=w.x&&B.x<=I.x,Ge=re.y>=w.y&&B.y<=I.y;return ve&&Ge},overlaps:function(p){p=me(p);var w=this.min,I=this.max,B=p.min,re=p.max,ve=re.x>w.x&&B.x<I.x,Ge=re.y>w.y&&B.y<I.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var w=this.min,I=this.max,B=Math.abs(w.x-I.x)*p,re=Math.abs(w.y-I.y)*p;return me(k(w.x-B,w.y-re),k(I.x+B,I.y+re))},equals:function(p){return p?(p=me(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function me(p,w){return!p||p instanceof ie?p:new ie(p,w)}function K(p,w){if(p)for(var I=w?[p,w]:p,B=0,re=I.length;B<re;B++)this.extend(I[B])}K.prototype={extend:function(p){var w=this._southWest,I=this._northEast,B,re;if(p instanceof ge)B=p,re=p;else if(p instanceof K){if(B=p._southWest,re=p._northEast,!B||!re)return this}else return p?this.extend(Ae(p)||ee(p)):this;return!w&&!I?(this._southWest=new ge(B.lat,B.lng),this._northEast=new ge(re.lat,re.lng)):(w.lat=Math.min(B.lat,w.lat),w.lng=Math.min(B.lng,w.lng),I.lat=Math.max(re.lat,I.lat),I.lng=Math.max(re.lng,I.lng)),this},pad:function(p){var w=this._southWest,I=this._northEast,B=Math.abs(w.lat-I.lat)*p,re=Math.abs(w.lng-I.lng)*p;return new K(new ge(w.lat-B,w.lng-re),new ge(I.lat+B,I.lng+re))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof ge||"lat"in p?p=Ae(p):p=ee(p);var w=this._southWest,I=this._northEast,B,re;return p instanceof K?(B=p.getSouthWest(),re=p.getNorthEast()):B=re=p,B.lat>=w.lat&&re.lat<=I.lat&&B.lng>=w.lng&&re.lng<=I.lng},intersects:function(p){p=ee(p);var w=this._southWest,I=this._northEast,B=p.getSouthWest(),re=p.getNorthEast(),ve=re.lat>=w.lat&&B.lat<=I.lat,Ge=re.lng>=w.lng&&B.lng<=I.lng;return ve&&Ge},overlaps:function(p){p=ee(p);var w=this._southWest,I=this._northEast,B=p.getSouthWest(),re=p.getNorthEast(),ve=re.lat>w.lat&&B.lat<I.lat,Ge=re.lng>w.lng&&B.lng<I.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,w){return p?(p=ee(p),this._southWest.equals(p.getSouthWest(),w)&&this._northEast.equals(p.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(p,w){return p instanceof K?p:new K(p,w)}function ge(p,w,I){if(isNaN(p)||isNaN(w))throw new Error("Invalid LatLng object: ("+p+", "+w+")");this.lat=+p,this.lng=+w,I!==void 0&&(this.alt=+I)}ge.prototype={equals:function(p,w){if(!p)return!1;p=Ae(p);var I=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return I<=(w===void 0?1e-9:w)},toString:function(p){return"LatLng("+m(this.lat,p)+", "+m(this.lng,p)+")"},distanceTo:function(p){return Pe.distance(this,Ae(p))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(p){var w=180*p/40075017,I=w/Math.cos(Math.PI/180*this.lat);return ee([this.lat-w,this.lng-I],[this.lat+w,this.lng+I])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function Ae(p,w,I){return p instanceof ge?p:A(p)&&typeof p[0]!="object"?p.length===3?new ge(p[0],p[1],p[2]):p.length===2?new ge(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new ge(p.lat,"lng"in p?p.lng:p.lon,p.alt):w===void 0?null:new ge(p,w,I)}var Ze={latLngToPoint:function(p,w){var I=this.projection.project(p),B=this.scale(w);return this.transformation._transform(I,B)},pointToLatLng:function(p,w){var I=this.scale(w),B=this.transformation.untransform(p,I);return this.projection.unproject(B)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var w=this.projection.bounds,I=this.scale(p),B=this.transformation.transform(w.min,I),re=this.transformation.transform(w.max,I);return new ie(B,re)},infinite:!1,wrapLatLng:function(p){var w=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,I=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,B=p.alt;return new ge(I,w,B)},wrapLatLngBounds:function(p){var w=p.getCenter(),I=this.wrapLatLng(w),B=w.lat-I.lat,re=w.lng-I.lng;if(B===0&&re===0)return p;var ve=p.getSouthWest(),Ge=p.getNorthEast(),st=new ge(ve.lat-B,ve.lng-re),yt=new ge(Ge.lat-B,Ge.lng-re);return new K(st,yt)}},Pe=i({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(p,w){var I=Math.PI/180,B=p.lat*I,re=w.lat*I,ve=Math.sin((w.lat-p.lat)*I/2),Ge=Math.sin((w.lng-p.lng)*I/2),st=ve*ve+Math.cos(B)*Math.cos(re)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(st),Math.sqrt(1-st));return this.R*yt}}),Ne=6378137,Ye={R:Ne,MAX_LATITUDE:85.0511287798,project:function(p){var w=Math.PI/180,I=this.MAX_LATITUDE,B=Math.max(Math.min(I,p.lat),-I),re=Math.sin(B*w);return new ue(this.R*p.lng*w,this.R*Math.log((1+re)/(1-re))/2)},unproject:function(p){var w=180/Math.PI;return new ge((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*w,p.x*w/this.R)},bounds:function(){var p=Ne*Math.PI;return new ie([-p,-p],[p,p])}()};function oe(p,w,I,B){if(A(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=w,this._c=I,this._d=B}oe.prototype={transform:function(p,w){return this._transform(p.clone(),w)},_transform:function(p,w){return w=w||1,p.x=w*(this._a*p.x+this._b),p.y=w*(this._c*p.y+this._d),p},untransform:function(p,w){return w=w||1,new ue((p.x/w-this._b)/this._a,(p.y/w-this._d)/this._c)}};function z(p,w,I,B){return new oe(p,w,I,B)}var $=i({},Pe,{code:"EPSG:3857",projection:Ye,transformation:function(){var p=.5/(Math.PI*Ye.R);return z(p,.5,-p,.5)}()}),ae=i({},$,{code:"EPSG:900913"});function Z(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function he(p,w){var I="",B,re,ve,Ge,st,yt;for(B=0,ve=p.length;B<ve;B++){for(st=p[B],re=0,Ge=st.length;re<Ge;re++)yt=st[re],I+=(re?"L":"M")+yt.x+" "+yt.y;I+=w?Ce.svg?"z":"x":""}return I||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Ee=He&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),qt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&qt<537&&!("AudioNode"in window),Be=!!window.opera,ne=!Fe&&We("chrome"),q=We("gecko")&&!tt&&!Be&&!He,W=!ne&&We("safari"),G=We("phantom"),je="OTransition"in ye,Je=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,Rt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,Lt="MozPerspective"in ye,Nt=!window.L_DISABLE_3D&&(ke||Rt||Lt)&&!je&&!G,Pt=typeof orientation<"u"||We("mobile"),zt=Pt&&tt,Tr=Pt&&Rt,dn=!window.PointerEvent&&window.MSPointerEvent,hn=!!(window.PointerEvent||dn),gr="ontouchstart"in window||!!window.TouchEvent,un=!window.L_NO_TOUCH&&(gr||hn),ln=Pt&&Be,In=Pt&&q,ur=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Le=function(){var p=!1;try{var w=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",h,w),window.removeEventListener("testPassiveEventSupport",h,w)}catch{}return p}(),qe=function(){return!!document.createElement("canvas").getContext}(),bt=!!(document.createElementNS&&Z("svg").createSVGRect),Et=!!bt&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mt=!bt&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var w=p.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Hn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var Ce={ie:He,ielt9:Ee,edge:Fe,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:ne,gecko:q,safari:W,phantom:G,opera12:je,win:Je,ie3d:ke,webkit3d:Rt,gecko3d:Lt,any3d:Nt,mobile:Pt,mobileWebkit:zt,mobileWebkit3d:Tr,msPointer:dn,pointer:hn,touch:un,touchNative:gr,mobileOpera:ln,mobileGecko:In,retina:ur,passiveEvents:Le,canvas:qe,svg:bt,vml:Mt,inlineSvg:Et,mac:Hn,linux:Jn},et=Ce.msPointer?"MSPointerDown":"pointerdown",ft=Ce.msPointer?"MSPointerMove":"pointermove",it=Ce.msPointer?"MSPointerUp":"pointerup",Ct=Ce.msPointer?"MSPointerCancel":"pointercancel",Dt={touchstart:et,touchmove:ft,touchend:it,touchcancel:Ct},Gt={touchstart:qn,touchmove:Cn,touchend:Cn,touchcancel:Cn},Xt={},Ht=!1;function jt(p,w,I){return w==="touchstart"&&En(),Gt[w]?(I=Gt[w].bind(this,I),p.addEventListener(Dt[w],I,!1),I):(console.warn("wrong event specified:",w),h)}function tn(p,w,I){if(!Dt[w]){console.warn("wrong event specified:",w);return}p.removeEventListener(Dt[w],I,!1)}function Pn(p){Xt[p.pointerId]=p}function Wt(p){Xt[p.pointerId]&&(Xt[p.pointerId]=p)}function Zt(p){delete Xt[p.pointerId]}function En(){Ht||(document.addEventListener(et,Pn,!0),document.addEventListener(ft,Wt,!0),document.addEventListener(it,Zt,!0),document.addEventListener(Ct,Zt,!0),Ht=!0)}function Cn(p,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var I in Xt)w.touches.push(Xt[I]);w.changedTouches=[w],p(w)}}function qn(p,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&rr(w),Cn(p,w)}function Ar(p){var w={},I,B;for(B in p)I=p[B],w[B]=I&&I.bind?I.bind(p):I;return p=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var Vr=200;function Kr(p,w){p.addEventListener("dblclick",w);var I=0,B;function re(ve){if(ve.detail!==1){B=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=Eo(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var st=Date.now();st-I<=Vr?(B++,B===2&&w(Ar(ve))):B=1,I=st}}}return p.addEventListener("click",re),{dblclick:w,simDblclick:re}}function Ir(p,w){p.removeEventListener("dblclick",w.dblclick),p.removeEventListener("click",w.simDblclick)}var $n=ot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yr=ot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wi=Yr==="webkitTransition"||Yr==="OTransition"?Yr+"End":"transitionend";function T(p){return typeof p=="string"?document.getElementById(p):p}function C(p,w){var I=p.style[w]||p.currentStyle&&p.currentStyle[w];if((!I||I==="auto")&&document.defaultView){var B=document.defaultView.getComputedStyle(p,null);I=B?B[w]:null}return I==="auto"?null:I}function R(p,w,I){var B=document.createElement(p);return B.className=w||"",I&&I.appendChild(B),B}function N(p){var w=p.parentNode;w&&w.removeChild(p)}function J(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function le(p){var w=p.parentNode;w&&w.lastChild!==p&&w.appendChild(p)}function we(p){var w=p.parentNode;w&&w.firstChild!==p&&w.insertBefore(p,w.firstChild)}function Ie(p,w){if(p.classList!==void 0)return p.classList.contains(w);var I=$e(p);return I.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(I)}function xe(p,w){if(p.classList!==void 0)for(var I=v(w),B=0,re=I.length;B<re;B++)p.classList.add(I[B]);else if(!Ie(p,w)){var ve=$e(p);Me(p,(ve?ve+" ":"")+w)}}function Oe(p,w){p.classList!==void 0?p.classList.remove(w):Me(p,y((" "+$e(p)+" ").replace(" "+w+" "," ")))}function Me(p,w){p.className.baseVal===void 0?p.className=w:p.className.baseVal=w}function $e(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function ze(p,w){"opacity"in p.style?p.style.opacity=w:"filter"in p.style&&Xe(p,w)}function Xe(p,w){var I=!1,B="DXImageTransform.Microsoft.Alpha";try{I=p.filters.item(B)}catch{if(w===1)return}w=Math.round(w*100),I?(I.Enabled=w!==100,I.Opacity=w):p.style.filter+=" progid:"+B+"(opacity="+w+")"}function ot(p){for(var w=document.documentElement.style,I=0;I<p.length;I++)if(p[I]in w)return p[I];return!1}function dt(p,w,I){var B=w||new ue(0,0);p.style[$n]=(Ce.ie3d?"translate("+B.x+"px,"+B.y+"px)":"translate3d("+B.x+"px,"+B.y+"px,0)")+(I?" scale("+I+")":"")}function ut(p,w){p._leaflet_pos=w,Ce.any3d?dt(p,w):(p.style.left=w.x+"px",p.style.top=w.y+"px")}function be(p){return p._leaflet_pos||new ue(0,0)}var De,Ue,Ke;if("onselectstart"in document)De=function(){Qt(window,"selectstart",rr)},Ue=function(){pn(window,"selectstart",rr)};else{var lt=ot(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var p=document.documentElement.style;Ke=p[lt],p[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Qt(window,"dragstart",rr)}function $t(){pn(window,"dragstart",rr)}var Tt,gn;function Ft(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Vt(),Tt=p,gn=p.style.outlineStyle,p.style.outlineStyle="none",Qt(window,"keydown",Vt))}function Vt(){Tt&&(Tt.style.outlineStyle=gn,Tt=void 0,gn=void 0,pn(window,"keydown",Vt))}function zn(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Nn(p){var w=p.getBoundingClientRect();return{x:w.width/p.offsetWidth||1,y:w.height/p.offsetHeight||1,boundingClientRect:w}}var Un={__proto__:null,TRANSFORM:$n,TRANSITION:Yr,TRANSITION_END:Wi,get:T,getStyle:C,create:R,remove:N,empty:J,toFront:le,toBack:we,hasClass:Ie,addClass:xe,removeClass:Oe,setClass:Me,getClass:$e,setOpacity:ze,testProp:ot,setTransform:dt,setPosition:ut,getPosition:be,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:$t,preventOutline:Ft,restoreOutline:Vt,getSizedParentNode:zn,getScale:Nn};function Qt(p,w,I,B){if(w&&typeof w=="object")for(var re in w)yr(p,re,w[re],I);else{w=v(w);for(var ve=0,Ge=w.length;ve<Ge;ve++)yr(p,w[ve],I,B)}return this}var Gn="_leaflet_events";function pn(p,w,I,B){if(arguments.length===1)Yn(p),delete p[Gn];else if(w&&typeof w=="object")for(var re in w)lr(p,re,w[re],I);else if(w=v(w),arguments.length===2)Yn(p,function(st){return P(w,st)!==-1});else for(var ve=0,Ge=w.length;ve<Ge;ve++)lr(p,w[ve],I,B);return this}function Yn(p,w){for(var I in p[Gn]){var B=I.split(/\d/)[0];(!w||w(B))&&lr(p,B,null,null,I)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yr(p,w,I,B){var re=w+l(I)+(B?"_"+l(B):"");if(p[Gn]&&p[Gn][re])return this;var ve=function(st){return I.call(B||p,st||window.event)},Ge=ve;!Ce.touchNative&&Ce.pointer&&w.indexOf("touch")===0?ve=jt(p,w,ve):Ce.touch&&w==="dblclick"?ve=Kr(p,ve):"addEventListener"in p?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?p.addEventListener(mr[w]||w,ve,Ce.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ve=function(st){st=st||window.event,Zi(p,st)&&Ge(st)},p.addEventListener(mr[w],ve,!1)):p.addEventListener(w,Ge,!1):p.attachEvent("on"+w,ve),p[Gn]=p[Gn]||{},p[Gn][re]=ve}function lr(p,w,I,B,re){re=re||w+l(I)+(B?"_"+l(B):"");var ve=p[Gn]&&p[Gn][re];if(!ve)return this;!Ce.touchNative&&Ce.pointer&&w.indexOf("touch")===0?tn(p,w,ve):Ce.touch&&w==="dblclick"?Ir(p,ve):"removeEventListener"in p?p.removeEventListener(mr[w]||w,ve,!1):p.detachEvent("on"+w,ve),p[Gn][re]=null}function xi(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Qi(p){return yr(p,"wheel",xi),this}function ya(p){return Qt(p,"mousedown touchstart dblclick contextmenu",xi),p._leaflet_disable_click=!0,this}function rr(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Ui(p){return rr(p),xi(p),this}function Eo(p){if(p.composedPath)return p.composedPath();for(var w=[],I=p.target;I;)w.push(I),I=I.parentNode;return w}function ir(p,w){if(!w)return new ue(p.clientX,p.clientY);var I=Nn(w),B=I.boundingClientRect;return new ue((p.clientX-B.left)/I.x-w.clientLeft,(p.clientY-B.top)/I.y-w.clientTop)}var Nr=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function to(p){return Ce.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Nr:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function Zi(p,w){var I=w.relatedTarget;if(!I)return!0;try{for(;I&&I!==p;)I=I.parentNode}catch{return!1}return I!==p}var Bu={__proto__:null,on:Qt,off:pn,stopPropagation:xi,disableScrollPropagation:Qi,disableClickPropagation:ya,preventDefault:rr,stop:Ui,getPropagationPath:Eo,getMousePosition:ir,getWheelDelta:to,isExternalTarget:Zi,addListener:Qt,removeListener:pn},no=de.extend({run:function(p,w,I,B){this.stop(),this._el=p,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(B||.5,.2),this._startPos=be(p),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(p){var w=+new Date-this._startTime,I=this._duration*1e3;w<I?this._runFrame(this._easeOut(w/I),p):(this._runFrame(1),this._complete())},_runFrame:function(p,w){var I=this._startPos.add(this._offset.multiplyBy(p));w&&I._round(),ut(this._el,I),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),vn=de.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,w){w=_(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(Ae(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yr&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,w,I){if(w=w===void 0?this._zoom:this._limitZoom(w),p=this._limitCenter(Ae(p),w,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=i({animate:I.animate},I.zoom),I.pan=i({animate:I.animate,duration:I.duration},I.pan));var B=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,w,I.zoom):this._tryAnimatedPan(p,I.pan);if(B)return clearTimeout(this._sizeTimer),this}return this._resetView(p,w,I.pan&&I.pan.noMoveStart),this},setZoom:function(p,w){return this._loaded?this.setView(this.getCenter(),p,{zoom:w}):(this._zoom=p,this)},zoomIn:function(p,w){return p=p||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,w)},zoomOut:function(p,w){return p=p||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,w)},setZoomAround:function(p,w,I){var B=this.getZoomScale(w),re=this.getSize().divideBy(2),ve=p instanceof ue?p:this.latLngToContainerPoint(p),Ge=ve.subtract(re).multiplyBy(1-1/B),st=this.containerPointToLatLng(re.add(Ge));return this.setView(st,w,{zoom:I})},_getBoundsCenterZoom:function(p,w){w=w||{},p=p.getBounds?p.getBounds():ee(p);var I=k(w.paddingTopLeft||w.padding||[0,0]),B=k(w.paddingBottomRight||w.padding||[0,0]),re=this.getBoundsZoom(p,!1,I.add(B));if(re=typeof w.maxZoom=="number"?Math.min(w.maxZoom,re):re,re===1/0)return{center:p.getCenter(),zoom:re};var ve=B.subtract(I).divideBy(2),Ge=this.project(p.getSouthWest(),re),st=this.project(p.getNorthEast(),re),yt=this.unproject(Ge.add(st).divideBy(2).add(ve),re);return{center:yt,zoom:re}},fitBounds:function(p,w){if(p=ee(p),!p.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(p,w);return this.setView(I.center,I.zoom,w)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,w){return this.setView(p,this._zoom,{pan:w})},panBy:function(p,w){if(p=k(p).round(),w=w||{},!p.x&&!p.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new no,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,I,w.duration||.25,w.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,w,I){if(I=I||{},I.animate===!1||!Ce.any3d)return this.setView(p,w,I);this._stop();var B=this.project(this.getCenter()),re=this.project(p),ve=this.getSize(),Ge=this._zoom;p=Ae(p),w=w===void 0?Ge:w;var st=Math.max(ve.x,ve.y),yt=st*this.getZoomScale(Ge,w),St=re.distanceTo(B)||1,Ut=1.42,rn=Ut*Ut;function mn(wr){var Vs=wr?-1:1,yc=wr?yt:st,Wf=yt*yt-st*st+Vs*rn*rn*St*St,qy=2*yc*rn*St,Qf=Wf/qy,rs=Math.sqrt(Qf*Qf+1)-Qf,zy=rs<1e-9?-18:Math.log(rs);return zy}function Gr(wr){return(Math.exp(wr)-Math.exp(-wr))/2}function Pr(wr){return(Math.exp(wr)+Math.exp(-wr))/2}function gi(wr){return Gr(wr)/Pr(wr)}var Ei=mn(0);function ns(wr){return st*(Pr(Ei)/Pr(Ei+Ut*wr))}function $y(wr){return st*(Pr(Ei)*gi(Ei+Ut*wr)-Gr(Ei))/rn}function Gf(wr){return 1-Math.pow(1-wr,1.5)}var Uy=Date.now(),Ju=(mn(1)-Ei)/Ut,By=I.duration?1e3*I.duration:1e3*Ju*.8;function Hs(){var wr=(Date.now()-Uy)/By,Vs=Gf(wr)*Ju;wr<=1?(this._flyToFrame=Y(Hs,this),this._move(this.unproject(B.add(re.subtract(B).multiplyBy($y(Vs)/St)),Ge),this.getScaleZoom(st/ns(Vs),Ge),{flyTo:!0})):this._move(p,w)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),Hs.call(this),this},flyToBounds:function(p,w){var I=this._getBoundsCenterZoom(p,w);return this.flyTo(I.center,I.zoom,w)},setMaxBounds:function(p){return p=ee(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var w=this.options.minZoom;return this.options.minZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var w=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,w){this._enforcingBounds=!0;var I=this.getCenter(),B=this._limitCenter(I,this._zoom,ee(p));return I.equals(B)||this.panTo(B,w),this._enforcingBounds=!1,this},panInside:function(p,w){w=w||{};var I=k(w.paddingTopLeft||w.padding||[0,0]),B=k(w.paddingBottomRight||w.padding||[0,0]),re=this.project(this.getCenter()),ve=this.project(p),Ge=this.getPixelBounds(),st=me([Ge.min.add(I),Ge.max.subtract(B)]),yt=st.getSize();if(!st.contains(ve)){this._enforcingBounds=!0;var St=ve.subtract(st.getCenter()),Ut=st.extend(ve).getSize().subtract(yt);re.x+=St.x<0?-Ut.x:Ut.x,re.y+=St.y<0?-Ut.y:Ut.y,this.panTo(this.unproject(re),w),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),B=w.divideBy(2).round(),re=I.divideBy(2).round(),ve=B.subtract(re);return!ve.x&&!ve.y?this:(p.animate&&p.pan?this.panBy(ve):(p.pan&&this._rawPanBy(ve),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),I=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,I,p):navigator.geolocation.getCurrentPosition(w,I,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var w=p.code,I=p.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var w=p.coords.latitude,I=p.coords.longitude,B=new ge(w,I),re=B.toBounds(p.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(re);this.setView(B,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var st={latlng:B,bounds:re,timestamp:p.timestamp};for(var yt in p.coords)typeof p.coords[yt]=="number"&&(st[yt]=p.coords[yt]);this.fire("locationfound",st)}},addHandler:function(p,w){if(!w)return this;var I=this[p]=new w(this);return this._handlers.push(I),this.options[p]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)N(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,w){var I="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),B=R("div",I,w||this._mapPane);return p&&(this._panes[p]=B),B},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),w=this.unproject(p.getBottomLeft()),I=this.unproject(p.getTopRight());return new K(w,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,w,I){p=ee(p),I=k(I||[0,0]);var B=this.getZoom()||0,re=this.getMinZoom(),ve=this.getMaxZoom(),Ge=p.getNorthWest(),st=p.getSouthEast(),yt=this.getSize().subtract(I),St=me(this.project(st,B),this.project(Ge,B)).getSize(),Ut=Ce.any3d?this.options.zoomSnap:1,rn=yt.x/St.x,mn=yt.y/St.y,Gr=w?Math.max(rn,mn):Math.min(rn,mn);return B=this.getScaleZoom(Gr,B),Ut&&(B=Math.round(B/(Ut/100))*(Ut/100),B=w?Math.ceil(B/Ut)*Ut:Math.floor(B/Ut)*Ut),Math.max(re,Math.min(ve,B))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ue(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,w){var I=this._getTopLeftPoint(p,w);return new ie(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,w){var I=this.options.crs;return w=w===void 0?this._zoom:w,I.scale(p)/I.scale(w)},getScaleZoom:function(p,w){var I=this.options.crs;w=w===void 0?this._zoom:w;var B=I.zoom(p*I.scale(w));return isNaN(B)?1/0:B},project:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(Ae(p),w)},unproject:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(k(p),w)},layerPointToLatLng:function(p){var w=k(p).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(p){var w=this.project(Ae(p))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(Ae(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(ee(p))},distance:function(p,w){return this.options.crs.distance(Ae(p),Ae(w))},containerPointToLayerPoint:function(p){return k(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return k(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var w=this.containerPointToLayerPoint(k(p));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(p)))},mouseEventToContainerPoint:function(p){return ir(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var w=this._container=T(p);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(w,"scroll",this._onScroll,this),this._containerId=l(w)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,xe(p,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=C(p,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new ue(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(p.markerPane,"leaflet-zoom-hide"),xe(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,w,I){ut(this._mapPane,new ue(0,0));var B=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var re=this._zoom!==w;this._moveStart(re,I)._move(p,w)._moveEnd(re),this.fire("viewreset"),B&&this.fire("load")},_moveStart:function(p,w){return p&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(p,w,I,B){w===void 0&&(w=this._zoom);var re=this._zoom!==w;return this._zoom=w,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),B?I&&I.pinch&&this.fire("zoom",I):((re||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){ut(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[l(this._container)]=this;var w=p?pn:Qt;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,w){for(var I=[],B,re=w==="mouseout"||w==="mouseover",ve=p.target||p.srcElement,Ge=!1;ve;){if(B=this._targets[l(ve)],B&&(w==="click"||w==="preclick")&&this._draggableMoved(B)){Ge=!0;break}if(B&&B.listens(w,!0)&&(re&&!Zi(ve,p)||(I.push(B),re))||ve===this._container)break;ve=ve.parentNode}return!I.length&&!Ge&&!re&&this.listens(w,!0)&&(I=[this]),I},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var w=p.target||p.srcElement;if(!(!this._loaded||w._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(w))){var I=p.type;I==="mousedown"&&Ft(w),this._fireDOMEvent(p,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,w,I){if(p.type==="click"){var B=i({},p);B.type="preclick",this._fireDOMEvent(B,B.type,I)}var re=this._findEventTargets(p,w);if(I){for(var ve=[],Ge=0;Ge<I.length;Ge++)I[Ge].listens(w,!0)&&ve.push(I[Ge]);re=ve.concat(re)}if(re.length){w==="contextmenu"&&rr(p);var st=re[0],yt={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var St=st.getLatLng&&(!st._radius||st._radius<=10);yt.containerPoint=St?this.latLngToContainerPoint(st.getLatLng()):this.mouseEventToContainerPoint(p),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=St?st.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<re.length;Ge++)if(re[Ge].fire(w,yt,!0),yt.originalEvent._stopped||re[Ge].options.bubblingMouseEvents===!1&&P(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,w=this._handlers.length;p<w;p++)this._handlers[p].disable()},whenReady:function(p,w){return this._loaded?p.call(w||this,{target:this}):this.on("load",p,w),this},_getMapPanePos:function(){return be(this._mapPane)||new ue(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,w){var I=p&&w!==void 0?this._getNewPixelOrigin(p,w):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,w){var I=this.getSize()._divideBy(2);return this.project(p,w)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,w,I){var B=this._getNewPixelOrigin(I,w);return this.project(p,w)._subtract(B)},_latLngBoundsToNewLayerBounds:function(p,w,I){var B=this._getNewPixelOrigin(I,w);return me([this.project(p.getSouthWest(),w)._subtract(B),this.project(p.getNorthWest(),w)._subtract(B),this.project(p.getSouthEast(),w)._subtract(B),this.project(p.getNorthEast(),w)._subtract(B)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,w,I){if(!I)return p;var B=this.project(p,w),re=this.getSize().divideBy(2),ve=new ie(B.subtract(re),B.add(re)),Ge=this._getBoundsOffset(ve,I,w);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?p:this.unproject(B.add(Ge),w)},_limitOffset:function(p,w){if(!w)return p;var I=this.getPixelBounds(),B=new ie(I.min.add(p),I.max.add(p));return p.add(this._getBoundsOffset(B,w))},_getBoundsOffset:function(p,w,I){var B=me(this.project(w.getNorthEast(),I),this.project(w.getSouthWest(),I)),re=B.min.subtract(p.min),ve=B.max.subtract(p.max),Ge=this._rebound(re.x,-ve.x),st=this._rebound(re.y,-ve.y);return new ue(Ge,st)},_rebound:function(p,w){return p+w>0?Math.round(p-w)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(w))},_limitZoom:function(p){var w=this.getMinZoom(),I=this.getMaxZoom(),B=Ce.any3d?this.options.zoomSnap:1;return B&&(p=Math.round(p/B)*B),Math.max(w,Math.min(I,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,w){var I=this._getCenterOffset(p)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,w),!0)},_createAnimProxy:function(){var p=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(w){var I=$n,B=this._proxy.style[I];dt(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),B===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),w=this.getZoom();dt(this._proxy,this.project(p,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,w,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var B=this.getZoomScale(w),re=this._getCenterOffset(p)._divideBy(1-1/B);return I.animate!==!0&&!this.getSize().contains(re)?!1:(Y(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(p,w,!0)},this),!0)},_animateZoom:function(p,w,I,B){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=w,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:w,noUpdate:B}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function La(p,w){return new vn(p,w)}var cr=se.extend({options:{position:"topright"},initialize:function(p){_(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var w=this._map;return w&&w.removeControl(this),this.options.position=p,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var w=this._container=this.onAdd(p),I=this.getPosition(),B=p._controlCorners[I];return xe(w,"leaflet-control"),I.indexOf("bottom")!==-1?B.insertBefore(w,B.firstChild):B.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Bi=function(p){return new cr(p)};vn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},w="leaflet-",I=this._controlContainer=R("div",w+"control-container",this._container);function B(re,ve){var Ge=w+re+" "+w+ve;p[re+ve]=R("div",Ge,I)}B("top","left"),B("top","right"),B("bottom","left"),B("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)N(this._controlCorners[p]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var va=cr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,w,I,B){return I<B?-1:B<I?1:0}},initialize:function(p,w,I){_(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var B in p)this._addLayer(p[B],B);for(B in w)this._addLayer(w[B],B,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return cr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,w){return this._addLayer(p,w),this._map?this._update():this},addOverlay:function(p,w){return this._addLayer(p,w,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var w=this._getLayer(l(p));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",w=this._container=R("div",p),I=this.options.collapsed;w.setAttribute("aria-haspopup",!0),ya(w),Qi(w);var B=this._section=R("section",p+"-list");I&&(this._map.on("click",this.collapse,this),Qt(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var re=this._layersLink=R("a",p+"-toggle",w);re.href="#",re.title="Layers",re.setAttribute("role","button"),Qt(re,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){rr(ve),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=R("div",p+"-base",B),this._separator=R("div",p+"-separator",B),this._overlaysList=R("div",p+"-overlays",B),w.appendChild(B)},_getLayer:function(p){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&l(this._layers[w].layer)===p)return this._layers[w]},_addLayer:function(p,w,I){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:w,overlay:I}),this.options.sortLayers&&this._layers.sort(o(function(B,re){return this.options.sortFunction(B.layer,re.layer,B.name,re.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;J(this._baseLayersList),J(this._overlaysList),this._layerControlInputs=[];var p,w,I,B,re=0;for(I=0;I<this._layers.length;I++)B=this._layers[I],this._addItem(B),w=w||B.overlay,p=p||!B.overlay,re+=B.overlay?0:1;return this.options.hideSingleBase&&(p=p&&re>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=w&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var w=this._getLayer(l(p.target)),I=w.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;I&&this._map.fire(I,w)},_createRadioElement:function(p,w){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(w?' checked="checked"':"")+"/>",B=document.createElement("div");return B.innerHTML=I,B.firstChild},_addItem:function(p){var w=document.createElement("label"),I=this._map.hasLayer(p.layer),B;p.overlay?(B=document.createElement("input"),B.type="checkbox",B.className="leaflet-control-layers-selector",B.defaultChecked=I):B=this._createRadioElement("leaflet-base-layers_"+l(this),I),this._layerControlInputs.push(B),B.layerId=l(p.layer),Qt(B,"click",this._onInputClick,this);var re=document.createElement("span");re.innerHTML=" "+p.name;var ve=document.createElement("span");w.appendChild(ve),ve.appendChild(B),ve.appendChild(re);var Ge=p.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,w,I,B=[],re=[];this._handlingClick=!0;for(var ve=p.length-1;ve>=0;ve--)w=p[ve],I=this._getLayer(w.layerId).layer,w.checked?B.push(I):w.checked||re.push(I);for(ve=0;ve<re.length;ve++)this._map.hasLayer(re[ve])&&this._map.removeLayer(re[ve]);for(ve=0;ve<B.length;ve++)this._map.hasLayer(B[ve])||this._map.addLayer(B[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,w,I,B=this._map.getZoom(),re=p.length-1;re>=0;re--)w=p[re],I=this._getLayer(w.layerId).layer,w.disabled=I.options.minZoom!==void 0&&B<I.options.minZoom||I.options.maxZoom!==void 0&&B>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Qt(p,"click",rr),this.expand();var w=this;setTimeout(function(){pn(p,"click",rr),w._preventClick=!1})}}),fr=function(p,w,I){return new va(p,w,I)},Ji=cr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var w="leaflet-control-zoom",I=R("div",w+" leaflet-bar"),B=this.options;return this._zoomInButton=this._createButton(B.zoomInText,B.zoomInTitle,w+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(B.zoomOutText,B.zoomOutTitle,w+"-out",I,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,w,I,B,re){var ve=R("a",I,B);return ve.innerHTML=p,ve.href="#",ve.title=w,ve.setAttribute("role","button"),ve.setAttribute("aria-label",w),ya(ve),Qt(ve,"click",Ui),Qt(ve,"click",re,this),Qt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var p=this._map,w="leaflet-disabled";Oe(this._zoomInButton,w),Oe(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(xe(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(xe(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});vn.mergeOptions({zoomControl:!0}),vn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ji,this.addControl(this.zoomControl))});var ro=function(p){return new Ji(p)},Rr=cr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var w="leaflet-control-scale",I=R("div",w),B=this.options;return this._addScales(B,w+"-line",I),p.on(B.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),I},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,w,I){p.metric&&(this._mScale=R("div",w,I)),p.imperial&&(this._iScale=R("div",w,I))},_update:function(){var p=this._map,w=p.getSize().y/2,I=p.distance(p.containerPointToLatLng([0,w]),p.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(I)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var w=this._getRoundNum(p),I=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,I,w/p)},_updateImperial:function(p){var w=p*3.2808399,I,B,re;w>5280?(I=w/5280,B=this._getRoundNum(I),this._updateScale(this._iScale,B+" mi",B/I)):(re=this._getRoundNum(w),this._updateScale(this._iScale,re+" ft",re/w))},_updateScale:function(p,w,I){p.style.width=Math.round(this.options.maxWidth*I)+"px",p.innerHTML=w},_getRoundNum:function(p){var w=Math.pow(10,(Math.floor(p)+"").length-1),I=p/w;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,w*I}}),ac=function(p){return new Rr(p)},Co='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ia=cr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Co+" ":"")+"Leaflet</a>"},initialize:function(p){_(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=R("div","leaflet-control-attribution"),ya(this._container);for(var w in p._layers)p._layers[w].getAttribution&&this.addAttribution(p._layers[w].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var w in this._attributions)this._attributions[w]&&p.push(w);var I=[];this.options.prefix&&I.push(this.options.prefix),p.length&&I.push(p.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});vn.mergeOptions({attributionControl:!0}),vn.addInitHook(function(){this.options.attributionControl&&new Ia().addTo(this)});var Xh=function(p){return new Ia(p)};cr.Layers=va,cr.Zoom=Ji,cr.Scale=Rr,cr.Attribution=Ia,Bi.layers=fr,Bi.zoom=ro,Bi.scale=ac,Bi.attribution=Xh;var Yi=se.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yi.addTo=function(p,w){return p.addHandler(w,this),this};var Ff={Events:_e},xy=Ce.touch?"touchstart mousedown":"mousedown",ts=de.extend({options:{clickTolerance:3},initialize:function(p,w,I,B){_(this,B),this._element=p,this._dragStartTarget=w||p,this._preventOutline=I},enable:function(){this._enabled||(Qt(this._dragStartTarget,xy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ts._dragging===this&&this.finishDrag(!0),pn(this._dragStartTarget,xy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){ts._dragging===this&&this.finishDrag();return}if(!(ts._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(ts._dragging=this,this._preventOutline&&Ft(this._element),mt(),De(),!this._moving)){this.fire("down");var w=p.touches?p.touches[0]:p,I=zn(this._element);this._startPoint=new ue(w.clientX,w.clientY),this._startPos=be(this._element),this._parentScale=Nn(I);var B=p.type==="mousedown";Qt(document,B?"mousemove":"touchmove",this._onMove,this),Qt(document,B?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var w=p.touches&&p.touches.length===1?p.touches[0]:p,I=new ue(w.clientX,w.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,rr(p),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),ut(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pn(document,"mousemove touchmove",this._onMove,this),pn(document,"mouseup touchend touchcancel",this._onUp,this),$t(),Ue();var w=this._moved&&this._moving;this._moving=!1,ts._dragging=!1,w&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Ey(p,w,I){var B,re=[1,4,2,8],ve,Ge,st,yt,St,Ut,rn,mn;for(ve=0,Ut=p.length;ve<Ut;ve++)p[ve]._code=Ms(p[ve],w);for(st=0;st<4;st++){for(rn=re[st],B=[],ve=0,Ut=p.length,Ge=Ut-1;ve<Ut;Ge=ve++)yt=p[ve],St=p[Ge],yt._code&rn?St._code&rn||(mn=$f(St,yt,rn,w,I),mn._code=Ms(mn,w),B.push(mn)):(St._code&rn&&(mn=$f(St,yt,rn,w,I),mn._code=Ms(mn,w),B.push(mn)),B.push(yt));p=B}return p}function jf(p,w){var I,B,re,ve,Ge,st,yt,St,Ut;if(!p||p.length===0)throw new Error("latlngs not passed");hi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var rn=Ae([0,0]),mn=ee(p),Gr=mn.getNorthWest().distanceTo(mn.getSouthWest())*mn.getNorthEast().distanceTo(mn.getNorthWest());Gr<1700&&(rn=ep(p));var Pr=p.length,gi=[];for(I=0;I<Pr;I++){var Ei=Ae(p[I]);gi.push(w.project(Ae([Ei.lat-rn.lat,Ei.lng-rn.lng])))}for(st=yt=St=0,I=0,B=Pr-1;I<Pr;B=I++)re=gi[I],ve=gi[B],Ge=re.y*ve.x-ve.y*re.x,yt+=(re.x+ve.x)*Ge,St+=(re.y+ve.y)*Ge,st+=Ge*3;st===0?Ut=gi[0]:Ut=[yt/st,St/st];var ns=w.unproject(k(Ut));return Ae([ns.lat+rn.lat,ns.lng+rn.lng])}function ep(p){for(var w=0,I=0,B=0,re=0;re<p.length;re++){var ve=Ae(p[re]);w+=ve.lat,I+=ve.lng,B++}return Ae([w/B,I/B])}var Lb={__proto__:null,clipPolygon:Ey,polygonCenter:jf,centroid:ep};function Cy(p,w){if(!w||!p.length)return p.slice();var I=w*w;return p=Db(p,I),p=Mb(p,I),p}function tp(p,w,I){return Math.sqrt(Ds(p,w,I,!0))}function Ib(p,w,I){return Ds(p,w,I)}function Mb(p,w){var I=p.length,B=typeof Uint8Array<"u"?Uint8Array:Array,re=new B(I);re[0]=re[I-1]=1,np(p,re,w,0,I-1);var ve,Ge=[];for(ve=0;ve<I;ve++)re[ve]&&Ge.push(p[ve]);return Ge}function np(p,w,I,B,re){var ve=0,Ge,st,yt;for(st=B+1;st<=re-1;st++)yt=Ds(p[st],p[B],p[re],!0),yt>ve&&(Ge=st,ve=yt);ve>I&&(w[Ge]=1,np(p,w,I,B,Ge),np(p,w,I,Ge,re))}function Db(p,w){for(var I=[p[0]],B=1,re=0,ve=p.length;B<ve;B++)kb(p[B],p[re])>w&&(I.push(p[B]),re=B);return re<ve-1&&I.push(p[ve-1]),I}var Ty;function Ay(p,w,I,B,re){var ve=B?Ty:Ms(p,I),Ge=Ms(w,I),st,yt,St;for(Ty=Ge;;){if(!(ve|Ge))return[p,w];if(ve&Ge)return!1;st=ve||Ge,yt=$f(p,w,st,I,re),St=Ms(yt,I),st===ve?(p=yt,ve=St):(w=yt,Ge=St)}}function $f(p,w,I,B,re){var ve=w.x-p.x,Ge=w.y-p.y,st=B.min,yt=B.max,St,Ut;return I&8?(St=p.x+ve*(yt.y-p.y)/Ge,Ut=yt.y):I&4?(St=p.x+ve*(st.y-p.y)/Ge,Ut=st.y):I&2?(St=yt.x,Ut=p.y+Ge*(yt.x-p.x)/ve):I&1&&(St=st.x,Ut=p.y+Ge*(st.x-p.x)/ve),new ue(St,Ut,re)}function Ms(p,w){var I=0;return p.x<w.min.x?I|=1:p.x>w.max.x&&(I|=2),p.y<w.min.y?I|=4:p.y>w.max.y&&(I|=8),I}function kb(p,w){var I=w.x-p.x,B=w.y-p.y;return I*I+B*B}function Ds(p,w,I,B){var re=w.x,ve=w.y,Ge=I.x-re,st=I.y-ve,yt=Ge*Ge+st*st,St;return yt>0&&(St=((p.x-re)*Ge+(p.y-ve)*st)/yt,St>1?(re=I.x,ve=I.y):St>0&&(re+=Ge*St,ve+=st*St)),Ge=p.x-re,st=p.y-ve,B?Ge*Ge+st*st:new ue(re,ve)}function hi(p){return!A(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Ry(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hi(p)}function rp(p,w){var I,B,re,ve,Ge,st,yt,St;if(!p||p.length===0)throw new Error("latlngs not passed");hi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Ut=Ae([0,0]),rn=ee(p),mn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());mn<1700&&(Ut=ep(p));var Gr=p.length,Pr=[];for(I=0;I<Gr;I++){var gi=Ae(p[I]);Pr.push(w.project(Ae([gi.lat-Ut.lat,gi.lng-Ut.lng])))}for(I=0,B=0;I<Gr-1;I++)B+=Pr[I].distanceTo(Pr[I+1])/2;if(B===0)St=Pr[0];else for(I=0,ve=0;I<Gr-1;I++)if(Ge=Pr[I],st=Pr[I+1],re=Ge.distanceTo(st),ve+=re,ve>B){yt=(ve-B)/re,St=[st.x-yt*(st.x-Ge.x),st.y-yt*(st.y-Ge.y)];break}var Ei=w.unproject(k(St));return Ae([Ei.lat+Ut.lat,Ei.lng+Ut.lng])}var Py={__proto__:null,simplify:Cy,pointToSegmentDistance:tp,closestPointOnSegment:Ib,clipSegment:Ay,_getEdgeIntersection:$f,_getBitCode:Ms,_sqClosestPointOnSegment:Ds,isFlat:hi,_flat:Ry,polylineCenter:rp},Uf={project:function(p){return new ue(p.lng,p.lat)},unproject:function(p){return new ge(p.y,p.x)},bounds:new ie([-180,-90],[180,90])},Bf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var w=Math.PI/180,I=this.R,B=p.lat*w,re=this.R_MINOR/I,ve=Math.sqrt(1-re*re),Ge=ve*Math.sin(B),st=Math.tan(Math.PI/4-B/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return B=-I*Math.log(Math.max(st,1e-10)),new ue(p.lng*w*I,B)},unproject:function(p){for(var w=180/Math.PI,I=this.R,B=this.R_MINOR/I,re=Math.sqrt(1-B*B),ve=Math.exp(-p.y/I),Ge=Math.PI/2-2*Math.atan(ve),st=0,yt=.1,St;st<15&&Math.abs(yt)>1e-7;st++)St=re*Math.sin(Ge),St=Math.pow((1-St)/(1+St),re/2),yt=Math.PI/2-2*Math.atan(ve*St)-Ge,Ge+=yt;return new ge(Ge*w,p.x*w/I)}},Oy={__proto__:null,LonLat:Uf,Mercator:Bf,SphericalMercator:Ye},qu=i({},Pe,{code:"EPSG:3395",projection:Bf,transformation:function(){var p=.5/(Math.PI*Bf.R);return z(p,.5,-p,.5)}()}),Ly=i({},Pe,{code:"EPSG:4326",projection:Uf,transformation:z(1/180,1,-1/180,.5)}),Nb=i({},Ze,{projection:Uf,transformation:z(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,w){var I=w.lng-p.lng,B=w.lat-p.lat;return Math.sqrt(I*I+B*B)},infinite:!0});Ze.Earth=Pe,Ze.EPSG3395=qu,Ze.EPSG3857=$,Ze.EPSG900913=ae,Ze.EPSG4326=Ly,Ze.Simple=Nb;var Ma=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[l(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[l(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var w=p.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var I=this.getEvents();w.on(I,this),this.once("remove",function(){w.off(I,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});vn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var w=l(p);return this._layers[w]?this:(this._layers[w]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var w=l(p);return this._layers[w]?(this._loaded&&p.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return l(p)in this._layers},eachLayer:function(p,w){for(var I in this._layers)p.call(w,this._layers[I]);return this},_addLayers:function(p){p=p?A(p)?p:[p]:[];for(var w=0,I=p.length;w<I;w++)this.addLayer(p[w])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[l(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var w=l(p);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,w=-1/0,I=this._getZoomSpan();for(var B in this._zoomBoundLayers){var re=this._zoomBoundLayers[B].options;p=re.minZoom===void 0?p:Math.min(p,re.minZoom),w=re.maxZoom===void 0?w:Math.max(w,re.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=p===1/0?void 0:p,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ks=Ma.extend({initialize:function(p,w){_(this,w),this._layers={};var I,B;if(p)for(I=0,B=p.length;I<B;I++)this.addLayer(p[I])},addLayer:function(p){var w=this.getLayerId(p);return this._layers[w]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var w=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(p){var w=typeof p=="number"?p:this.getLayerId(p);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var w=Array.prototype.slice.call(arguments,1),I,B;for(I in this._layers)B=this._layers[I],B[p]&&B[p].apply(B,w);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,w){for(var I in this._layers)p.call(w,this._layers[I]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return l(p)}}),Iy=function(p,w){return new ks(p,w)},Xi=ks.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),ks.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),ks.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new K;for(var w in this._layers){var I=this._layers[w];p.extend(I.getBounds?I.getBounds():I.getLatLng())}return p}}),oc=function(p,w){return new Xi(p,w)},zu=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){_(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,w){var I=this._getIconUrl(p);if(!I){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var B=this._createImg(I,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(B,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(B.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),B},_setIconStyles:function(p,w){var I=this.options,B=I[w+"Size"];typeof B=="number"&&(B=[B,B]);var re=k(B),ve=k(w==="shadow"&&I.shadowAnchor||I.iconAnchor||re&&re.divideBy(2,!0));p.className="leaflet-marker-"+w+" "+(I.className||""),ve&&(p.style.marginLeft=-ve.x+"px",p.style.marginTop=-ve.y+"px"),re&&(p.style.width=re.x+"px",p.style.height=re.y+"px")},_createImg:function(p,w){return w=w||document.createElement("img"),w.src=p,w},_getIconUrl:function(p){return Ce.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function qf(p){return new zu(p)}var Hu=zu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Hu.imagePath!="string"&&(Hu.imagePath=this._detectIconPath()),(this.options.imagePath||Hu.imagePath)+zu.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var w=function(I,B,re){var ve=B.exec(I);return ve&&ve[re]};return p=w(p,/^url\((['"])?(.+)\1\)$/,2),p&&w(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=R("div","leaflet-default-icon-path",document.body),w=C(p,"background-image")||C(p,"backgroundImage");if(document.body.removeChild(p),w=this._stripUrl(w),w)return w;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),ip=Yi.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new ts(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var w=this._marker,I=w._map,B=this._marker.options.autoPanSpeed,re=this._marker.options.autoPanPadding,ve=be(w._icon),Ge=I.getPixelBounds(),st=I.getPixelOrigin(),yt=me(Ge.min._subtract(st).add(re),Ge.max._subtract(st).subtract(re));if(!yt.contains(ve)){var St=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(B);I.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),ut(w._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=Y(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,p)))},_onDrag:function(p){var w=this._marker,I=w._shadow,B=be(w._icon),re=w._map.layerPointToLatLng(B);I&&ut(I,B),w._latlng=re,p.latlng=re,p.oldLatLng=this._oldLatLng,w.fire("move",p).fire("drag",p)},_onDragEnd:function(p){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Vu=Ma.extend({options:{icon:new Hu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,w){_(this,w),this._latlng=Ae(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var w=this._latlng;return this._latlng=Ae(p),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=p.icon.createIcon(this._icon),B=!1;I!==this._icon&&(this._icon&&this._removeIcon(),B=!0,p.title&&(I.title=p.title),I.tagName==="IMG"&&(I.alt=p.alt||"")),xe(I,w),p.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(I,"focus",this._panOnFocus,this);var re=p.icon.createShadow(this._shadow),ve=!1;re!==this._shadow&&(this._removeShadow(),ve=!0),re&&(xe(re,w),re.alt=""),this._shadow=re,p.opacity<1&&this._updateOpacity(),B&&this.getPane().appendChild(this._icon),this._initInteraction(),re&&ve&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&ut(this._icon,p),this._shadow&&ut(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ip)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ip(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&ze(this._icon,p),this._shadow&&ze(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var w=this.options.icon.options,I=w.iconSize?k(w.iconSize):k(0,0),B=w.iconAnchor?k(w.iconAnchor):k(0,0);p.panInside(this._latlng,{paddingTopLeft:B,paddingBottomRight:I.subtract(B)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ap(p,w){return new Vu(p,w)}var To=Ma.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return _(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sc=To.extend({options:{fill:!0,radius:10},initialize:function(p,w){_(this,w),this._latlng=Ae(p),this._radius=this.options.radius},setLatLng:function(p){var w=this._latlng;return this._latlng=Ae(p),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var w=p&&p.radius||this._radius;return To.prototype.setStyle.call(this,p),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,w=this._radiusY||p,I=this._clickTolerance(),B=[p+I,w+I];this._pxBounds=new ie(this._point.subtract(B),this._point.add(B))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function My(p,w){return new sc(p,w)}var op=sc.extend({initialize:function(p,w,I){if(typeof w=="number"&&(w=i({},I,{radius:w})),_(this,w),this._latlng=Ae(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:To.prototype.setStyle,_project:function(){var p=this._latlng.lng,w=this._latlng.lat,I=this._map,B=I.options.crs;if(B.distance===Pe.distance){var re=Math.PI/180,ve=this._mRadius/Pe.R/re,Ge=I.project([w+ve,p]),st=I.project([w-ve,p]),yt=Ge.add(st).divideBy(2),St=I.unproject(yt).lat,Ut=Math.acos((Math.cos(ve*re)-Math.sin(w*re)*Math.sin(St*re))/(Math.cos(w*re)*Math.cos(St*re)))/re;(isNaN(Ut)||Ut===0)&&(Ut=ve/Math.cos(Math.PI/180*w)),this._point=yt.subtract(I.getPixelOrigin()),this._radius=isNaN(Ut)?0:yt.x-I.project([St,p-Ut]).x,this._radiusY=yt.y-Ge.y}else{var rn=B.unproject(B.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(rn).x}this._updateBounds()}});function Fb(p,w,I){return new op(p,w,I)}var Ao=To.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,w){_(this,w),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var w=1/0,I=null,B=Ds,re,ve,Ge=0,st=this._parts.length;Ge<st;Ge++)for(var yt=this._parts[Ge],St=1,Ut=yt.length;St<Ut;St++){re=yt[St-1],ve=yt[St];var rn=B(p,re,ve,!0);rn<w&&(w=rn,I=B(p,re,ve))}return I&&(I.distance=Math.sqrt(w)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,w){return w=w||this._defaultShape(),p=Ae(p),w.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new K,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var w=[],I=hi(p),B=0,re=p.length;B<re;B++)I?(w[B]=Ae(p[B]),this._bounds.extend(w[B])):w[B]=this._convertLatLngs(p[B]);return w},_project:function(){var p=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),w=new ue(p,p);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(p,w,I){var B=p[0]instanceof ge,re=p.length,ve,Ge;if(B){for(Ge=[],ve=0;ve<re;ve++)Ge[ve]=this._map.latLngToLayerPoint(p[ve]),I.extend(Ge[ve]);w.push(Ge)}else for(ve=0;ve<re;ve++)this._projectLatlngs(p[ve],w,I)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,I,B,re,ve,Ge,st,yt;for(I=0,re=0,ve=this._rings.length;I<ve;I++)for(yt=this._rings[I],B=0,Ge=yt.length;B<Ge-1;B++)st=Ay(yt[B],yt[B+1],p,B,!0),st&&(w[re]=w[re]||[],w[re].push(st[0]),(st[1]!==yt[B+1]||B===Ge-2)&&(w[re].push(st[1]),re++))}},_simplifyPoints:function(){for(var p=this._parts,w=this.options.smoothFactor,I=0,B=p.length;I<B;I++)p[I]=Cy(p[I],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,w){var I,B,re,ve,Ge,st,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(I=0,ve=this._parts.length;I<ve;I++)for(st=this._parts[I],B=0,Ge=st.length,re=Ge-1;B<Ge;re=B++)if(!(!w&&B===0)&&tp(p,st[re],st[B])<=yt)return!0;return!1}});function jb(p,w){return new Ao(p,w)}Ao._flat=Ry;var Ku=Ao.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var w=Ao.prototype._convertLatLngs.call(this,p),I=w.length;return I>=2&&w[0]instanceof ge&&w[0].equals(w[I-1])&&w.pop(),w},_setLatLngs:function(p){Ao.prototype._setLatLngs.call(this,p),hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,w=this.options.weight,I=new ue(w,w);if(p=new ie(p.min.subtract(I),p.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var B=0,re=this._rings.length,ve;B<re;B++)ve=Ey(this._rings[B],p,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var w=!1,I,B,re,ve,Ge,st,yt,St;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(I=this._parts[ve],Ge=0,St=I.length,st=St-1;Ge<St;st=Ge++)B=I[Ge],re=I[st],B.y>p.y!=re.y>p.y&&p.x<(re.x-B.x)*(p.y-B.y)/(re.y-B.y)+B.x&&(w=!w);return w||Ao.prototype._containsPoint.call(this,p,!0)}});function ea(p,w){return new Ku(p,w)}var ta=Xi.extend({initialize:function(p,w){_(this,w),this._layers={},p&&this.addData(p)},addData:function(p){var w=A(p)?p:p.features,I,B,re;if(w){for(I=0,B=w.length;I<B;I++)re=w[I],(re.geometries||re.geometry||re.features||re.coordinates)&&this.addData(re);return this}var ve=this.options;if(ve.filter&&!ve.filter(p))return this;var Ge=uc(p,ve);return Ge?(Ge.feature=Ro(p),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(p,Ge),this.addLayer(Ge)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(w){this._setLayerStyle(w,p)},this)},_setLayerStyle:function(p,w){p.setStyle&&(typeof w=="function"&&(w=w(p.feature)),p.setStyle(w))}});function uc(p,w){var I=p.type==="Feature"?p.geometry:p,B=I?I.coordinates:null,re=[],ve=w&&w.pointToLayer,Ge=w&&w.coordsToLatLng||zf,st,yt,St,Ut;if(!B&&!I)return null;switch(I.type){case"Point":return st=Ge(B),sp(ve,p,st,w);case"MultiPoint":for(St=0,Ut=B.length;St<Ut;St++)st=Ge(B[St]),re.push(sp(ve,p,st,w));return new Xi(re);case"LineString":case"MultiLineString":return yt=lc(B,I.type==="LineString"?0:1,Ge),new Ao(yt,w);case"Polygon":case"MultiPolygon":return yt=lc(B,I.type==="Polygon"?1:2,Ge),new Ku(yt,w);case"GeometryCollection":for(St=0,Ut=I.geometries.length;St<Ut;St++){var rn=uc({geometry:I.geometries[St],type:"Feature",properties:p.properties},w);rn&&re.push(rn)}return new Xi(re);case"FeatureCollection":for(St=0,Ut=I.features.length;St<Ut;St++){var mn=uc(I.features[St],w);mn&&re.push(mn)}return new Xi(re);default:throw new Error("Invalid GeoJSON object.")}}function sp(p,w,I,B){return p?p(w,I):new Vu(I,B&&B.markersInheritOptions&&B)}function zf(p){return new ge(p[1],p[0],p[2])}function lc(p,w,I){for(var B=[],re=0,ve=p.length,Ge;re<ve;re++)Ge=w?lc(p[re],w-1,I):(I||zf)(p[re]),B.push(Ge);return B}function cc(p,w){return p=Ae(p),p.alt!==void 0?[m(p.lng,w),m(p.lat,w),m(p.alt,w)]:[m(p.lng,w),m(p.lat,w)]}function Hf(p,w,I,B){for(var re=[],ve=0,Ge=p.length;ve<Ge;ve++)re.push(w?Hf(p[ve],hi(p[ve])?0:w-1,I,B):cc(p[ve],B));return!w&&I&&re.length>0&&re.push(re[0].slice()),re}function Gu(p,w){return p.feature?i({},p.feature,{geometry:w}):Ro(w)}function Ro(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var fc={toGeoJSON:function(p){return Gu(this,{type:"Point",coordinates:cc(this.getLatLng(),p)})}};Vu.include(fc),op.include(fc),sc.include(fc),Ao.include({toGeoJSON:function(p){var w=!hi(this._latlngs),I=Hf(this._latlngs,w?1:0,!1,p);return Gu(this,{type:(w?"Multi":"")+"LineString",coordinates:I})}}),Ku.include({toGeoJSON:function(p){var w=!hi(this._latlngs),I=w&&!hi(this._latlngs[0]),B=Hf(this._latlngs,I?2:w?1:0,!0,p);return w||(B=[B]),Gu(this,{type:(I?"Multi":"")+"Polygon",coordinates:B})}}),ks.include({toMultiPoint:function(p){var w=[];return this.eachLayer(function(I){w.push(I.toGeoJSON(p).geometry.coordinates)}),Gu(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(p){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(p);var I=w==="GeometryCollection",B=[];return this.eachLayer(function(re){if(re.toGeoJSON){var ve=re.toGeoJSON(p);if(I)B.push(ve.geometry);else{var Ge=Ro(ve);Ge.type==="FeatureCollection"?B.push.apply(B,Ge.features):B.push(Ge)}}}),I?Gu(this,{geometries:B,type:"GeometryCollection"}):{type:"FeatureCollection",features:B}}});function Wu(p,w){return new ta(p,w)}var up=Wu,dc=Ma.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,w,I){this._url=p,this._bounds=ee(w),_(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=ee(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",w=this._image=p?this._url:R("img");if(xe(w,"leaflet-image-layer"),this._zoomAnimated&&xe(w,"leaflet-zoom-animated"),this.options.className&&xe(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(p){var w=this._map.getZoomScale(p.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;dt(this._image,I,w)},_reset:function(){var p=this._image,w=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=w.getSize();ut(p,w.min),p.style.width=I.x+"px",p.style.height=I.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Ns=function(p,w,I){return new dc(p,w,I)},Fs=dc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",w=this._image=p?this._url:R("video");if(xe(w,"leaflet-image-layer"),this._zoomAnimated&&xe(w,"leaflet-zoom-animated"),this.options.className&&xe(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onloadeddata=o(this.fire,this,"load"),p){for(var I=w.getElementsByTagName("source"),B=[],re=0;re<I.length;re++)B.push(I[re].src);this._url=I.length>0?B:[w.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=R("source");Ge.src=this._url[ve],w.appendChild(Ge)}}});function lp(p,w,I){return new Fs(p,w,I)}var cp=dc.extend({_initImage:function(){var p=this._image=this._url;xe(p,"leaflet-image-layer"),this._zoomAnimated&&xe(p,"leaflet-zoom-animated"),this.options.className&&xe(p,this.options.className),p.onselectstart=h,p.onmousemove=h}});function js(p,w,I){return new cp(p,w,I)}var Da=Ma.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,w){p&&(p instanceof ge||A(p))?(this._latlng=Ae(p),_(this,w)):(_(this,p),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(o(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=Ae(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(p){var w=this._source;if(!w._map)return!1;if(w instanceof Xi){w=null;var I=this._source._layers;for(var B in I)if(I[B]._map){w=I[B];break}if(!w)return!1;this._source=w}if(!p)if(w.getCenter)p=w.getCenter();else if(w.getLatLng)p=w.getLatLng();else if(w.getBounds)p=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")p.innerHTML=w;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),w=k(this.options.offset),I=this._getAnchor();this._zoomAnimated?ut(this._container,p.add(I)):w=w.add(p).add(I);var B=this._containerBottom=-w.y,re=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=B+"px",this._container.style.left=re+"px"}},_getAnchor:function(){return[0,0]}});vn.include({_initOverlay:function(p,w,I,B){var re=w;return re instanceof p||(re=new p(B).setContent(w)),I&&re.setLatLng(I),re}}),Ma.include({_initOverlay:function(p,w,I,B){var re=I;return re instanceof p?(_(re,B),re._source=this):(re=w&&!B?w:new p(B,this),re.setContent(I)),re}});var hc=Da.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Da.prototype.openOn.call(this,p)},onAdd:function(p){Da.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof To||this._source.on("preclick",xi))},onRemove:function(p){Da.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof To||this._source.off("preclick",xi))},getEvents:function(){var p=Da.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",w=this._container=R("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=R("div",p+"-content-wrapper",w);if(this._contentNode=R("div",p+"-content",I),ya(w),Qi(this._contentNode),Qt(w,"contextmenu",xi),this._tipContainer=R("div",p+"-tip-container",w),this._tip=R("div",p+"-tip",this._tipContainer),this.options.closeButton){var B=this._closeButton=R("a",p+"-close-button",w);B.setAttribute("role","button"),B.setAttribute("aria-label","Close popup"),B.href="#close",B.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(B,"click",function(re){rr(re),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,w=p.style;w.width="",w.whiteSpace="nowrap";var I=p.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),w.width=I+1+"px",w.whiteSpace="",w.height="";var B=p.offsetHeight,re=this.options.maxHeight,ve="leaflet-popup-scrolled";re&&B>re?(w.height=re+"px",xe(p,ve)):Oe(p,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),I=this._getAnchor();ut(this._container,w.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,w=parseInt(C(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+w,B=this._containerWidth,re=new ue(this._containerLeft,-I-this._containerBottom);re._add(be(this._container));var ve=p.layerPointToContainerPoint(re),Ge=k(this.options.autoPanPadding),st=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),St=p.getSize(),Ut=0,rn=0;ve.x+B+yt.x>St.x&&(Ut=ve.x+B-St.x+yt.x),ve.x-Ut-st.x<0&&(Ut=ve.x-st.x),ve.y+I+yt.y>St.y&&(rn=ve.y+I-St.y+yt.y),ve.y-rn-st.y<0&&(rn=ve.y-st.y),(Ut||rn)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([Ut,rn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Dy=function(p,w){return new hc(p,w)};vn.mergeOptions({closePopupOnClick:!0}),vn.include({openPopup:function(p,w,I){return this._initOverlay(hc,p,w,I).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),Ma.include({bindPopup:function(p,w){return this._popup=this._initOverlay(hc,this._popup,p,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof Xi||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Ui(p);var w=p.layer||p.target;if(this._popup._source===w&&!(w instanceof To)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=w,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Vf=Da.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Da.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Da.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Da.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",w=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var w,I,B=this._map,re=this._container,ve=B.latLngToContainerPoint(B.getCenter()),Ge=B.layerPointToContainerPoint(p),st=this.options.direction,yt=re.offsetWidth,St=re.offsetHeight,Ut=k(this.options.offset),rn=this._getAnchor();st==="top"?(w=yt/2,I=St):st==="bottom"?(w=yt/2,I=0):st==="center"?(w=yt/2,I=St/2):st==="right"?(w=0,I=St/2):st==="left"?(w=yt,I=St/2):Ge.x<ve.x?(st="right",w=0,I=St/2):(st="left",w=yt+(Ut.x+rn.x)*2,I=St/2),p=p.subtract(k(w,I,!0)).add(Ut).add(rn),Oe(re,"leaflet-tooltip-right"),Oe(re,"leaflet-tooltip-left"),Oe(re,"leaflet-tooltip-top"),Oe(re,"leaflet-tooltip-bottom"),xe(re,"leaflet-tooltip-"+st),ut(re,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&ze(this._container,p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(w)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$b=function(p,w){return new Vf(p,w)};vn.include({openTooltip:function(p,w,I){return this._initOverlay(Vf,p,w,I).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),Ma.include({bindTooltip:function(p,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vf,this._tooltip,p,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var w=p?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[w](I),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof Xi||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&(Qt(w,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Qt(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var w=p.latlng,I,B;this._tooltip.options.sticky&&p.originalEvent&&(I=this._map.mouseEventToContainerPoint(p.originalEvent),B=this._map.containerPointToLayerPoint(I),w=this._map.layerPointToLatLng(B)),this._tooltip.setLatLng(w)}});var ky=zu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var w=p&&p.tagName==="DIV"?p:document.createElement("div"),I=this.options;if(I.html instanceof Element?(J(w),w.appendChild(I.html)):w.innerHTML=I.html!==!1?I.html:"",I.bgPos){var B=k(I.bgPos);w.style.backgroundPosition=-B.x+"px "+-B.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function Ny(p){return new ky(p)}zu.Default=Hu;var Qu=Ma.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){_(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),N(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof ue?p:new ue(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var w=this.getPane().children,I=-p(-1/0,1/0),B=0,re=w.length,ve;B<re;B++)ve=w[B].style.zIndex,w[B]!==this._container&&ve&&(I=p(I,+ve));isFinite(I)&&(this.options.zIndex=I+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){ze(this._container,this.options.opacity);var p=+new Date,w=!1,I=!1;for(var B in this._tiles){var re=this._tiles[B];if(!(!re.current||!re.loaded)){var ve=Math.min(1,(p-re.loaded)/200);ze(re.el,ve),ve<1?w=!0:(re.active?I=!0:this._onOpaqueTile(re),re.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),w&&(ce(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,w=this.options.maxZoom;if(p!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===p?(this._levels[I].el.style.zIndex=w-Math.abs(p-I),this._onUpdateLevel(I)):(N(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var B=this._levels[p],re=this._map;return B||(B=this._levels[p]={},B.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),B.el.style.zIndex=w,B.origin=re.project(re.unproject(re.getPixelOrigin()),p).round(),B.zoom=p,this._setZoomTransform(B,re.getCenter(),re.getZoom()),h(B.el.offsetWidth),this._onCreateLevel(B)),this._level=B,B}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var p,w,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)w=this._tiles[p],w.retain=w.current;for(p in this._tiles)if(w=this._tiles[p],w.current&&!w.active){var B=w.coords;this._retainParent(B.x,B.y,B.z,B.z-5)||this._retainChildren(B.x,B.y,B.z,B.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var w in this._tiles)this._tiles[w].coords.z===p&&this._removeTile(w)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)N(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,w,I,B){var re=Math.floor(p/2),ve=Math.floor(w/2),Ge=I-1,st=new ue(+re,+ve);st.z=+Ge;var yt=this._tileCoordsToKey(st),St=this._tiles[yt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),Ge>B?this._retainParent(re,ve,Ge,B):!1)},_retainChildren:function(p,w,I,B){for(var re=2*p;re<2*p+2;re++)for(var ve=2*w;ve<2*w+2;ve++){var Ge=new ue(re,ve);Ge.z=I+1;var st=this._tileCoordsToKey(Ge),yt=this._tiles[st];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);I+1<B&&this._retainChildren(re,ve,I+1,B)}},_resetView:function(p){var w=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var w=this.options;return w.minNativeZoom!==void 0&&p<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<p?w.maxNativeZoom:p},_setView:function(p,w,I,B){var re=Math.round(w);this.options.maxZoom!==void 0&&re>this.options.maxZoom||this.options.minZoom!==void 0&&re<this.options.minZoom?re=void 0:re=this._clampZoom(re);var ve=this.options.updateWhenZooming&&re!==this._tileZoom;(!B||ve)&&(this._tileZoom=re,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),re!==void 0&&this._update(p),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(p,w)},_setZoomTransforms:function(p,w){for(var I in this._levels)this._setZoomTransform(this._levels[I],p,w)},_setZoomTransform:function(p,w,I){var B=this._map.getZoomScale(I,p.zoom),re=p.origin.multiplyBy(B).subtract(this._map._getNewPixelOrigin(w,I)).round();Ce.any3d?dt(p.el,re,B):ut(p.el,re)},_resetGrid:function(){var p=this._map,w=p.options.crs,I=this._tileSize=this.getTileSize(),B=this._tileZoom,re=this._map.getPixelWorldBounds(this._tileZoom);re&&(this._globalTileRange=this._pxBoundsToTileRange(re)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,w.wrapLng[0]],B).x/I.x),Math.ceil(p.project([0,w.wrapLng[1]],B).x/I.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([w.wrapLat[0],0],B).y/I.x),Math.ceil(p.project([w.wrapLat[1],0],B).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var w=this._map,I=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),B=w.getZoomScale(I,this._tileZoom),re=w.project(p,this._tileZoom).floor(),ve=w.getSize().divideBy(B*2);return new ie(re.subtract(ve),re.add(ve))},_update:function(p){var w=this._map;if(w){var I=this._clampZoom(w.getZoom());if(p===void 0&&(p=w.getCenter()),this._tileZoom!==void 0){var B=this._getTiledPixelBounds(p),re=this._pxBoundsToTileRange(B),ve=re.getCenter(),Ge=[],st=this.options.keepBuffer,yt=new ie(re.getBottomLeft().subtract([st,-st]),re.getTopRight().add([st,-st]));if(!(isFinite(re.min.x)&&isFinite(re.min.y)&&isFinite(re.max.x)&&isFinite(re.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Ut=this._tiles[St].coords;(Ut.z!==this._tileZoom||!yt.contains(new ue(Ut.x,Ut.y)))&&(this._tiles[St].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(p,I);return}for(var rn=re.min.y;rn<=re.max.y;rn++)for(var mn=re.min.x;mn<=re.max.x;mn++){var Gr=new ue(mn,rn);if(Gr.z=this._tileZoom,!!this._isValidTile(Gr)){var Pr=this._tiles[this._tileCoordsToKey(Gr)];Pr?Pr.current=!0:Ge.push(Gr)}}if(Ge.sort(function(Ei,ns){return Ei.distanceTo(ve)-ns.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gi=document.createDocumentFragment();for(mn=0;mn<Ge.length;mn++)this._addTile(Ge[mn],gi);this._level.el.appendChild(gi)}}}},_isValidTile:function(p){var w=this._map.options.crs;if(!w.infinite){var I=this._globalTileRange;if(!w.wrapLng&&(p.x<I.min.x||p.x>I.max.x)||!w.wrapLat&&(p.y<I.min.y||p.y>I.max.y))return!1}if(!this.options.bounds)return!0;var B=this._tileCoordsToBounds(p);return ee(this.options.bounds).overlaps(B)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var w=this._map,I=this.getTileSize(),B=p.scaleBy(I),re=B.add(I),ve=w.unproject(B,p.z),Ge=w.unproject(re,p.z);return[ve,Ge]},_tileCoordsToBounds:function(p){var w=this._tileCoordsToNwSe(p),I=new K(w[0],w[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var w=p.split(":"),I=new ue(+w[0],+w[1]);return I.z=+w[2],I},_removeTile:function(p){var w=this._tiles[p];w&&(N(w.el),delete this._tiles[p],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){xe(p,"leaflet-tile");var w=this.getTileSize();p.style.width=w.x+"px",p.style.height=w.y+"px",p.onselectstart=h,p.onmousemove=h,Ce.ielt9&&this.options.opacity<1&&ze(p,this.options.opacity)},_addTile:function(p,w){var I=this._getTilePos(p),B=this._tileCoordsToKey(p),re=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(re),this.createTile.length<2&&Y(o(this._tileReady,this,p,null,re)),ut(re,I),this._tiles[B]={el:re,coords:p,current:!0},w.appendChild(re),this.fire("tileloadstart",{tile:re,coords:p})},_tileReady:function(p,w,I){w&&this.fire("tileerror",{error:w,tile:I,coords:p});var B=this._tileCoordsToKey(p);I=this._tiles[B],I&&(I.loaded=+new Date,this._map._fadeAnimated?(ze(I.el,0),ce(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),w||(xe(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var w=new ue(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return w.z=p.z,w},_pxBoundsToTileRange:function(p){var w=this.getTileSize();return new ie(p.min.unscaleBy(w).floor(),p.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function Fy(p){return new Qu(p)}var pi=Qu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,w){this._url=p,w=_(this,w),w.detectRetina&&Ce.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,w){return this._url===p&&w===void 0&&(w=!0),this._url=p,w||this.redraw(),this},createTile:function(p,w){var I=document.createElement("img");return Qt(I,"load",o(this._tileOnLoad,this,w,I)),Qt(I,"error",o(this._tileOnError,this,w,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(p),I},getTileUrl:function(p){var w={r:Ce.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-p.y;this.options.tms&&(w.y=I),w["-y"]=I}return S(this._url,i(w,this.options))},_tileOnLoad:function(p,w){Ce.ielt9?setTimeout(o(p,this,null,w),0):p(null,w)},_tileOnError:function(p,w,I){var B=this.options.errorTileUrl;B&&w.getAttribute("src")!==B&&(w.src=B),p(I,w)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,w=this.options.maxZoom,I=this.options.zoomReverse,B=this.options.zoomOffset;return I&&(p=w-p),p+B},_getSubdomain:function(p){var w=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var p,w;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(w=this._tiles[p].el,w.onload=h,w.onerror=h,!w.complete)){w.src=O;var I=this._tiles[p].coords;N(w),delete this._tiles[p],this.fire("tileabort",{tile:w,coords:I})}},_removeTile:function(p){var w=this._tiles[p];if(w)return w.el.setAttribute("src",O),Qu.prototype._removeTile.call(this,p)},_tileReady:function(p,w,I){if(!(!this._map||I&&I.getAttribute("src")===O))return Qu.prototype._tileReady.call(this,p,w,I)}});function na(p,w){return new pi(p,w)}var $s=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,w){this._url=p;var I=i({},this.defaultWmsParams);for(var B in w)B in this.options||(I[B]=w[B]);w=_(this,w);var re=w.detectRetina&&Ce.retina?2:1,ve=this.getTileSize();I.width=ve.x*re,I.height=ve.y*re,this.wmsParams=I},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,pi.prototype.onAdd.call(this,p)},getTileUrl:function(p){var w=this._tileCoordsToNwSe(p),I=this._crs,B=me(I.project(w[0]),I.project(w[1])),re=B.min,ve=B.max,Ge=(this._wmsVersion>=1.3&&this._crs===Ly?[re.y,re.x,ve.y,ve.x]:[re.x,re.y,ve.x,ve.y]).join(","),st=pi.prototype.getTileUrl.call(this,p);return st+x(this.wmsParams,st,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(p,w){return i(this.wmsParams,p),w||this.redraw(),this}});function fp(p,w){return new $s(p,w)}pi.WMS=$s,na.wms=fp;var _a=Ma.extend({options:{padding:.1},initialize:function(p){_(this,p),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,w){var I=this._map.getZoomScale(w,this._zoom),B=this._map.getSize().multiplyBy(.5+this.options.padding),re=this._map.project(this._center,w),ve=B.multiplyBy(-I).add(re).subtract(this._map._getNewPixelOrigin(p,w));Ce.any3d?dt(this._container,ve,I):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,w=this._map.getSize(),I=this._map.containerPointToLayerPoint(w.multiplyBy(-p)).round();this._bounds=new ie(I,I.add(w.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pc=_a.extend({options:{tolerance:0},getEvents:function(){var p=_a.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_a.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Qt(p,"mousemove",this._onMouseMove,this),Qt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,N(this._container),pn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var w in this._layers)p=this._layers[w],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_a.prototype._update.call(this);var p=this._bounds,w=this._container,I=p.getSize(),B=Ce.retina?2:1;ut(w,p.min),w.width=B*I.x,w.height=B*I.y,w.style.width=I.x+"px",w.style.height=I.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){_a.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[l(p)]=p;var w=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var w=p._order,I=w.next,B=w.prev;I?I.prev=B:this._drawLast=B,B?B.next=I:this._drawFirst=I,delete p._order,delete this._layers[l(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var w=p.options.dashArray.split(/[, ]+/),I=[],B,re;for(re=0;re<w.length;re++){if(B=Number(w[re]),isNaN(B))return;I.push(B)}p.options._dashArray=I}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var w=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(p._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(p._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var w=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,w=this._redrawBounds;if(this._ctx.save(),w){var I=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var B=this._drawFirst;B;B=B.next)p=B.layer,(!w||p._pxBounds&&p._pxBounds.intersects(w))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,w){if(this._drawing){var I,B,re,ve,Ge=p._parts,st=Ge.length,yt=this._ctx;if(st){for(yt.beginPath(),I=0;I<st;I++){for(B=0,re=Ge[I].length;B<re;B++)ve=Ge[I][B],yt[B?"lineTo":"moveTo"](ve.x,ve.y);w&&yt.closePath()}this._fillStroke(yt,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var w=p._point,I=this._ctx,B=Math.max(Math.round(p._radius),1),re=(Math.max(Math.round(p._radiusY),1)||B)/B;re!==1&&(I.save(),I.scale(1,re)),I.beginPath(),I.arc(w.x,w.y/re,B,0,Math.PI*2,!1),re!==1&&I.restore(),this._fillStroke(I,p)}},_fillStroke:function(p,w){var I=w.options;I.fill&&(p.globalAlpha=I.fillOpacity,p.fillStyle=I.fillColor||I.color,p.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(p.setLineDash&&p.setLineDash(w.options&&w.options._dashArray||[]),p.globalAlpha=I.opacity,p.lineWidth=I.weight,p.strokeStyle=I.color,p.lineCap=I.lineCap,p.lineJoin=I.lineJoin,p.stroke())},_onClick:function(p){for(var w=this._map.mouseEventToLayerPoint(p),I,B,re=this._drawFirst;re;re=re.next)I=re.layer,I.options.interactive&&I._containsPoint(w)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(I))&&(B=I);this._fireEvent(B?[B]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,w)}},_handleMouseOut:function(p){var w=this._hoveredLayer;w&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([w],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,w){if(!this._mouseHoverThrottled){for(var I,B,re=this._drawFirst;re;re=re.next)I=re.layer,I.options.interactive&&I._containsPoint(w)&&(B=I);B!==this._hoveredLayer&&(this._handleMouseOut(p),B&&(xe(this._container,"leaflet-interactive"),this._fireEvent([B],p,"mouseover"),this._hoveredLayer=B)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,w,I){this._map._fireDOMEvent(w,I||w.type,p)},_bringToFront:function(p){var w=p._order;if(w){var I=w.next,B=w.prev;if(I)I.prev=B;else return;B?B.next=I:I&&(this._drawFirst=I),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(p)}},_bringToBack:function(p){var w=p._order;if(w){var I=w.next,B=w.prev;if(B)B.next=I;else return;I?I.prev=B:B&&(this._drawLast=B),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(p)}}});function Kf(p){return Ce.canvas?new pc(p):null}var wa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),jy={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_a.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var w=p._container=wa("shape");xe(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",p._path=wa("path"),w.appendChild(p._path),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){var w=p._container;this._container.appendChild(w),p.options.interactive&&p.addInteractiveTarget(w)},_removePath:function(p){var w=p._container;N(w),p.removeInteractiveTarget(w),delete this._layers[l(p)]},_updateStyle:function(p){var w=p._stroke,I=p._fill,B=p.options,re=p._container;re.stroked=!!B.stroke,re.filled=!!B.fill,B.stroke?(w||(w=p._stroke=wa("stroke")),re.appendChild(w),w.weight=B.weight+"px",w.color=B.color,w.opacity=B.opacity,B.dashArray?w.dashStyle=A(B.dashArray)?B.dashArray.join(" "):B.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=B.lineCap.replace("butt","flat"),w.joinstyle=B.lineJoin):w&&(re.removeChild(w),p._stroke=null),B.fill?(I||(I=p._fill=wa("fill")),re.appendChild(I),I.color=B.fillColor||B.color,I.opacity=B.fillOpacity):I&&(re.removeChild(I),p._fill=null)},_updateCircle:function(p){var w=p._point.round(),I=Math.round(p._radius),B=Math.round(p._radiusY||I);this._setPath(p,p._empty()?"M0 0":"AL "+w.x+","+w.y+" "+I+","+B+" 0,"+65535*360)},_setPath:function(p,w){p._path.v=w},_bringToFront:function(p){le(p._container)},_bringToBack:function(p){we(p._container)}},Us=Ce.vml?wa:Z,io=_a.extend({_initContainer:function(){this._container=Us("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Us("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),pn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_a.prototype._update.call(this);var p=this._bounds,w=p.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,I.setAttribute("width",w.x),I.setAttribute("height",w.y)),ut(I,p.min),I.setAttribute("viewBox",[p.min.x,p.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(p){var w=p._path=Us("path");p.options.className&&xe(w,p.options.className),p.options.interactive&&xe(w,"leaflet-interactive"),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){N(p._path),p.removeInteractiveTarget(p._path),delete this._layers[l(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var w=p._path,I=p.options;w&&(I.stroke?(w.setAttribute("stroke",I.color),w.setAttribute("stroke-opacity",I.opacity),w.setAttribute("stroke-width",I.weight),w.setAttribute("stroke-linecap",I.lineCap),w.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?w.setAttribute("stroke-dasharray",I.dashArray):w.removeAttribute("stroke-dasharray"),I.dashOffset?w.setAttribute("stroke-dashoffset",I.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),I.fill?(w.setAttribute("fill",I.fillColor||I.color),w.setAttribute("fill-opacity",I.fillOpacity),w.setAttribute("fill-rule",I.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(p,w){this._setPath(p,he(p._parts,w))},_updateCircle:function(p){var w=p._point,I=Math.max(Math.round(p._radius),1),B=Math.max(Math.round(p._radiusY),1)||I,re="a"+I+","+B+" 0 1,0 ",ve=p._empty()?"M0 0":"M"+(w.x-I)+","+w.y+re+I*2+",0 "+re+-I*2+",0 ";this._setPath(p,ve)},_setPath:function(p,w){p._path.setAttribute("d",w)},_bringToFront:function(p){le(p._path)},_bringToBack:function(p){we(p._path)}});Ce.vml&&io.include(jy);function dp(p){return Ce.svg||Ce.vml?new io(p):null}vn.include({getRenderer:function(p){var w=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var w=this._paneRenderers[p];return w===void 0&&(w=this._createRenderer({pane:p}),this._paneRenderers[p]=w),w},_createRenderer:function(p){return this.options.preferCanvas&&Kf(p)||dp(p)}});var ra=Ku.extend({initialize:function(p,w){Ku.prototype.initialize.call(this,this._boundsToLatLngs(p),w)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=ee(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function Zu(p,w){return new ra(p,w)}io.create=Us,io.pointsToPath=he,ta.geometryToLayer=uc,ta.coordsToLatLng=zf,ta.coordsToLatLngs=lc,ta.latLngToCoords=cc,ta.latLngsToCoords=Hf,ta.getFeature=Gu,ta.asFeature=Ro,vn.mergeOptions({boxZoom:!0});var Bs=Yi.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(p),Qt(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var w=new ie(this._point,this._startPoint),I=w.getSize();ut(this._box,w.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(N(this._box),Oe(this._container,"leaflet-crosshair")),Ue(),$t(),pn(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vn.addInitHook("addHandler","boxZoom",Bs),vn.mergeOptions({doubleClickZoom:!0});var gc=Yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var w=this._map,I=w.getZoom(),B=w.options.zoomDelta,re=p.originalEvent.shiftKey?I-B:I+B;w.options.doubleClickZoom==="center"?w.setZoom(re):w.setZoomAround(p.containerPoint,re)}});vn.addInitHook("addHandler","doubleClickZoom",gc),vn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mc=Yi.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new ts(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=ee(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var w=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(w),this._prunePositions(w)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,w){return p-(p-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;p.x<w.min.x&&(p.x=this._viscousLimit(p.x,w.min.x)),p.y<w.min.y&&(p.y=this._viscousLimit(p.y,w.min.y)),p.x>w.max.x&&(p.x=this._viscousLimit(p.x,w.max.x)),p.y>w.max.y&&(p.y=this._viscousLimit(p.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,w=Math.round(p/2),I=this._initialWorldOffset,B=this._draggable._newPos.x,re=(B-w+I)%p+w-I,ve=(B+w+I)%p-w-I,Ge=Math.abs(re+I)<Math.abs(ve+I)?re:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(p){var w=this._map,I=w.options,B=!I.inertia||p.noInertia||this._times.length<2;if(w.fire("dragend",p),B)w.fire("moveend");else{this._prunePositions(+new Date);var re=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=I.easeLinearity,st=re.multiplyBy(Ge/ve),yt=st.distanceTo([0,0]),St=Math.min(I.inertiaMaxSpeed,yt),Ut=st.multiplyBy(St/yt),rn=St/(I.inertiaDeceleration*Ge),mn=Ut.multiplyBy(-rn/2).round();!mn.x&&!mn.y?w.fire("moveend"):(mn=w._limitOffset(mn,w.options.maxBounds),Y(function(){w.panBy(mn,{duration:rn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});vn.addInitHook("addHandler","dragging",mc),vn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ia=Yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Qt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,w=document.documentElement,I=p.scrollTop||w.scrollTop,B=p.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(B,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var w=this._panKeys={},I=this.keyCodes,B,re;for(B=0,re=I.left.length;B<re;B++)w[I.left[B]]=[-1*p,0];for(B=0,re=I.right.length;B<re;B++)w[I.right[B]]=[p,0];for(B=0,re=I.down.length;B<re;B++)w[I.down[B]]=[0,p];for(B=0,re=I.up.length;B<re;B++)w[I.up[B]]=[0,-1*p]},_setZoomDelta:function(p){var w=this._zoomKeys={},I=this.keyCodes,B,re;for(B=0,re=I.zoomIn.length;B<re;B++)w[I.zoomIn[B]]=p;for(B=0,re=I.zoomOut.length;B<re;B++)w[I.zoomOut[B]]=-p},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var w=p.keyCode,I=this._map,B;if(w in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(B=this._panKeys[w],p.shiftKey&&(B=k(B).multiplyBy(3)),I.options.maxBounds&&(B=I._limitOffset(k(B),I.options.maxBounds)),I.options.worldCopyJump){var re=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(B)));I.panTo(re)}else I.panBy(B)}else if(w in this._zoomKeys)I.setZoom(I.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;Ui(p)}}});vn.addInitHook("addHandler","keyboard",ia),vn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var aa=Yi.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var w=to(p),I=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var B=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),B),Ui(p)},_performZoom:function(){var p=this._map,w=p.getZoom(),I=this._map.options.zoomSnap||0;p._stop();var B=this._delta/(this._map.options.wheelPxPerZoomLevel*4),re=4*Math.log(2/(1+Math.exp(-Math.abs(B))))/Math.LN2,ve=I?Math.ceil(re/I)*I:re,Ge=p._limitZoom(w+(this._delta>0?ve:-ve))-w;this._delta=0,this._startTime=null,Ge&&(p.options.scrollWheelZoom==="center"?p.setZoom(w+Ge):p.setZoomAround(this._lastMousePos,w+Ge))}});vn.addInitHook("addHandler","scrollWheelZoom",aa);var qs=600;vn.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var ao=Yi.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var w=p.touches[0];this._startPos=this._newPos=new ue(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",rr),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),qs),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){pn(document,"touchend",rr),pn(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),pn(document,"touchend touchcancel contextmenu",this._cancel,this),pn(document,"touchmove",this._onMove,this)},_onMove:function(p){var w=p.touches[0];this._newPos=new ue(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,w){var I=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});I._simulated=!0,w.target.dispatchEvent(I)}});vn.addInitHook("addHandler","tapHold",ao),vn.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var oo=Yi.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),pn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var w=this._map;if(!(!p.touches||p.touches.length!==2||w._animatingZoom||this._zooming)){var I=w.mouseEventToContainerPoint(p.touches[0]),B=w.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(I.add(B)._divideBy(2))),this._startDist=I.distanceTo(B),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),rr(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var w=this._map,I=w.mouseEventToContainerPoint(p.touches[0]),B=w.mouseEventToContainerPoint(p.touches[1]),re=I.distanceTo(B)/this._startDist;if(this._zoom=w.getScaleZoom(re,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&re<1||this._zoom>w.getMaxZoom()&&re>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,re===1)return}else{var ve=I._add(B)._divideBy(2)._subtract(this._centerPoint);if(re===1&&ve.x===0&&ve.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var Ge=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(Ge,this,!0),rr(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),pn(document,"touchmove",this._onTouchMove,this),pn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vn.addInitHook("addHandler","touchZoom",oo),vn.BoxZoom=Bs,vn.DoubleClickZoom=gc,vn.Drag=mc,vn.Keyboard=ia,vn.ScrollWheelZoom=aa,vn.TapHold=ao,vn.TouchZoom=oo,n.Bounds=ie,n.Browser=Ce,n.CRS=Ze,n.Canvas=pc,n.Circle=op,n.CircleMarker=sc,n.Class=se,n.Control=cr,n.DivIcon=ky,n.DivOverlay=Da,n.DomEvent=Bu,n.DomUtil=Un,n.Draggable=ts,n.Evented=de,n.FeatureGroup=Xi,n.GeoJSON=ta,n.GridLayer=Qu,n.Handler=Yi,n.Icon=zu,n.ImageOverlay=dc,n.LatLng=ge,n.LatLngBounds=K,n.Layer=Ma,n.LayerGroup=ks,n.LineUtil=Py,n.Map=vn,n.Marker=Vu,n.Mixin=Ff,n.Path=To,n.Point=ue,n.PolyUtil=Lb,n.Polygon=Ku,n.Polyline=Ao,n.Popup=hc,n.PosAnimation=no,n.Projection=Oy,n.Rectangle=ra,n.Renderer=_a,n.SVG=io,n.SVGOverlay=cp,n.TileLayer=pi,n.Tooltip=Vf,n.Transformation=oe,n.Util=te,n.VideoOverlay=Fs,n.bind=o,n.bounds=me,n.canvas=Kf,n.circle=Fb,n.circleMarker=My,n.control=Bi,n.divIcon=Ny,n.extend=i,n.featureGroup=oc,n.geoJSON=Wu,n.geoJson=up,n.gridLayer=Fy,n.icon=qf,n.imageOverlay=Ns,n.latLng=Ae,n.latLngBounds=ee,n.layerGroup=Iy,n.map=La,n.marker=ap,n.point=k,n.polygon=ea,n.polyline=jb,n.popup=Dy,n.rectangle=Zu,n.setOptions=_,n.stamp=l,n.svg=dp,n.svgOverlay=js,n.tileLayer=na,n.tooltip=$b,n.transformation=z,n.version=r,n.videoOverlay=lp;var zs=window.L;n.noConflict=function(){return window.L=zs,this},window.L=n})}(Xg,Xg.exports)),Xg.exports}var Rn=fJ();const vP=Lr(Rn),dJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",hJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",pJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Rn.Icon.Default.prototype._getIconUrl;Rn.Icon.Default.mergeOptions({iconUrl:hJ,iconRetinaUrl:dJ,shadowUrl:pJ});const NB="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",gJ=Rn.icon({...Rn.Icon.Default.prototype.options,iconUrl:BD,iconRetinaUrl:BD}),mJ=e=>Rn.icon({...Rn.Icon.Default.prototype.options,iconUrl:qD,iconRetinaUrl:qD,className:e}),U0=["en","cs"],Ph="en",FB=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],yJ=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:LB,communityId:OB,darkModeLogoStyle:DB,defaultCommunityName:kB,defaultLocale:Ph,emailNotificationsIdentity:lJ,emailNotificationsService:uJ,emailNotificationsType:IB,geoindexService:MB,locales:U0,oidcIssuers:FB,tileServer:NB},Symbol.toStringTag,{value:"Module"}));function Mi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",HD=vJ,MS=()=>Math.random().toString(36).substring(7).split("").join("."),_J={INIT:`@@redux/INIT${MS()}`,REPLACE:`@@redux/REPLACE${MS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${MS()}`},B0=_J;function _P(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function wP(e,t,n){if(typeof e!="function")throw new Error(Mi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mi(1));return n(wP)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((x,b)=>{o.set(b,x)}))}function d(){if(l)throw new Error(Mi(3));return i}function h(x){if(typeof x!="function")throw new Error(Mi(4));if(l)throw new Error(Mi(5));let b=!0;c();const S=s++;return o.set(S,x),function(){if(b){if(l)throw new Error(Mi(6));b=!1,c(),o.delete(S),a=null}}}function m(x){if(!_P(x))throw new Error(Mi(7));if(typeof x.type>"u")throw new Error(Mi(8));if(typeof x.type!="string")throw new Error(Mi(17));if(l)throw new Error(Mi(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=o).forEach(S=>{S()}),x}function y(x){if(typeof x!="function")throw new Error(Mi(10));r=x,m({type:B0.REPLACE})}function v(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Mi(11));function S(){const P=b;P.next&&P.next(d())}return S(),{unsubscribe:x(S)}},[HD](){return this}}}return m({type:B0.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:y,[HD]:v}}function wJ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:B0.INIT})>"u")throw new Error(Mi(12));if(typeof n(void 0,{type:B0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mi(13))})}function jB(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{wJ(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],y=o[h],v=m(y,s);if(typeof v>"u")throw s&&s.type,new Error(Mi(14));c[h]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?c:o}}function q0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function bJ(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Mi(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=q0(...s)(i.dispatch),{...i,dispatch:a}}}function SJ(e){return _P(e)&&"type"in e&&typeof e.type=="string"}var $B=Symbol.for("immer-nothing"),VD=Symbol.for("immer-draftable"),Za=Symbol.for("immer-state");function $o(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dh=Object.getPrototypeOf;function wf(e){return!!e&&!!e[Za]}function Eu(e){var t;return e?UB(e)||Array.isArray(e)||!!e[VD]||!!((t=e.constructor)!=null&&t[VD])||Rw(e)||Pw(e):!1}var xJ=Object.prototype.constructor.toString();function UB(e){if(!e||typeof e!="object")return!1;const t=dh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===xJ}function z0(e,t){Aw(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Aw(e){const t=e[Za];return t?t.type_:Array.isArray(e)?1:Rw(e)?2:Pw(e)?3:0}function YA(e,t){return Aw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function BB(e,t,n){const r=Aw(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function EJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rw(e){return e instanceof Map}function Pw(e){return e instanceof Set}function Yc(e){return e.copy_||e.base_}function XA(e,t){if(Rw(e))return new Map(e);if(Pw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=UB(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Za];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(dh(e),r)}else{const r=dh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function bP(e,t=!1){return Ow(e)||wf(e)||!Eu(e)||(Aw(e)>1&&(e.set=e.add=e.clear=e.delete=CJ),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>bP(r,!0))),e}function CJ(){$o(2)}function Ow(e){return Object.isFrozen(e)}var TJ={};function bf(e){const t=TJ[e];return t||$o(0,e),t}var Tm;function qB(){return Tm}function AJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function KD(e,t){t&&(bf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function eR(e){tR(e),e.drafts_.forEach(RJ),e.drafts_=null}function tR(e){e===Tm&&(Tm=e.parent_)}function GD(e){return Tm=AJ(Tm,e)}function RJ(e){const t=e[Za];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Za].modified_&&(eR(t),$o(4)),Eu(e)&&(e=H0(t,e),t.parent_||V0(t,e)),t.patches_&&bf("Patches").generateReplacementPatches_(n[Za].base_,e,t.patches_,t.inversePatches_)):e=H0(t,n,[]),eR(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$B?e:void 0}function H0(e,t,n){if(Ow(t))return t;const r=t[Za];if(!r)return z0(t,(i,a)=>QD(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return V0(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),z0(a,(s,l)=>QD(e,r,i,s,l,n,o)),V0(e,i,!1),n&&e.patches_&&bf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function QD(e,t,n,r,i,a,o){if(wf(i)){const s=a&&t&&t.type_!==3&&!YA(t.assigned_,r)?a.concat(r):void 0,l=H0(e,i,s);if(BB(n,r,l),wf(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Eu(i)&&!Ow(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;H0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&V0(e,i)}}function V0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bP(t,n)}function PJ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qB(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=SP;n&&(i=[r],a=Am);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var SP={get(e,t){if(t===Za)return e;const n=Yc(e);if(!YA(n,t))return OJ(e,n,t);const r=n[t];return e.finalized_||!Eu(r)?r:r===DS(e.base_,t)?(kS(e),e.copy_[t]=rR(r,e)):r},has(e,t){return t in Yc(e)},ownKeys(e){return Reflect.ownKeys(Yc(e))},set(e,t,n){const r=zB(Yc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=DS(Yc(e),t),a=i==null?void 0:i[Za];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(EJ(n,i)&&(n!==void 0||YA(e.base_,t)))return!0;kS(e),nR(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return DS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kS(e),nR(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$o(11)},getPrototypeOf(e){return dh(e.base_)},setPrototypeOf(){$o(12)}},Am={};z0(SP,(e,t)=>{Am[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Am.deleteProperty=function(e,t){return Am.set.call(this,e,t,void 0)};Am.set=function(e,t,n){return SP.set.call(this,e[0],t,n,e[0])};function DS(e,t){const n=e[Za];return(n?Yc(n):e)[t]}function OJ(e,t,n){var i;const r=zB(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function zB(e,t){if(!(t in e))return;let n=dh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=dh(n)}}function nR(e){e.modified_||(e.modified_=!0,e.parent_&&nR(e.parent_))}function kS(e){e.copy_||(e.copy_=XA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const s=this;return function(c=o,...d){return s.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&$o(6),i!==void 0&&typeof i!="function"&&$o(7);let a;if(Eu(n)){const o=GD(this),s=rR(n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?eR(o):tR(o)}return KD(o,i),WD(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===$B&&(a=void 0),this.autoFreeze_&&bP(a,!0),i){const o=[],s=[];bf("Patches").generateReplacementPatches_(n,a,o,s),i(o,s)}return a}else $o(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(s,...l)=>this.produceWithPatches(s,c=>n(c,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Eu(t)||$o(8),wf(t)&&(t=IJ(t));const n=GD(this),r=rR(t,void 0);return r[Za].isManual_=!0,tR(n),r}finishDraft(t,n){const r=t&&t[Za];(!r||!r.isManual_)&&$o(9);const{scope_:i}=r;return KD(i,n),WD(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=bf("Patches").applyPatches_;return wf(t)?i(t,n):this.produce(t,a=>i(a,n))}};function rR(e,t){const n=Rw(e)?bf("MapSet").proxyMap_(e,t):Pw(e)?bf("MapSet").proxySet_(e,t):PJ(e,t);return(t?t.scope_:qB()).drafts_.push(n),n}function IJ(e){return wf(e)||$o(10,e),HB(e)}function HB(e){if(!Eu(e)||Ow(e))return e;const t=e[Za];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=XA(e,t.scope_.immer_.useStrictShallowCopy_)}else n=XA(e,!0);return z0(n,(r,i)=>{BB(n,r,HB(i))}),t&&(t.finalized_=!1),n}var Ja=new LJ,VB=Ja.produce;Ja.produceWithPatches.bind(Ja);Ja.setAutoFreeze.bind(Ja);Ja.setUseStrictShallowCopy.bind(Ja);Ja.applyPatches.bind(Ja);Ja.createDraft.bind(Ja);Ja.finishDraft.bind(Ja);function KB(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var MJ=KB(),DJ=KB,kJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?q0:q0.apply(null,arguments)},NJ=e=>e&&typeof e.match=="function";function ZD(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(wu(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>SJ(r)&&r.type===e,n}var GB=class em extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,em.prototype)}static get[Symbol.species](){return em}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new em(...t[0].concat(this)):new em(...t.concat(this))}};function JD(e){return Eu(e)?VB(e,()=>{}):e}function YD(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function FJ(e){return typeof e=="boolean"}var jJ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new GB;return n&&(FJ(n)?o.push(MJ):o.push(DJ(n.extraArgument))),o},$J="RTK_autoBatch",XD=e=>t=>{setTimeout(t,e)},UJ=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XD(10):e.type==="callback"?e.queueNotification:XD(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return s.add(d),()=>{m(),s.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[$J]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},BJ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new GB(e);return r&&i.push(UJ(typeof r=="object"?r:void 0)),i};function qJ(e){const t=jJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e;let s;if(typeof n=="function")s=n;else if(_P(n))s=jB(n);else throw new Error(wu(1));let l;typeof r=="function"?l=r(t):l=t();let c=q0;i&&(c=kJ({trace:!1,...typeof i=="object"&&i}));const d=bJ(...l),h=BJ(d);let m=typeof o=="function"?o(h):h();const y=c(...m);return wP(s,a,y)}function WB(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(wu(28));if(s in t)throw new Error(wu(29));return t[s]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function zJ(e){return typeof e=="function"}function HJ(e,t){let[n,r,i]=WB(t),a;if(zJ(e))a=()=>JD(e());else{const s=JD(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(wf(d)){const y=h(d,l);return y===void 0?d:y}else{if(Eu(d))return VB(d,m=>h(m,l));{const m=h(d,l);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},s)}return o.getInitialState=a,o}var VJ=(e,t)=>NJ(e)?e.match(t):e(t);function KJ(...e){return t=>e.some(n=>VJ(n,t))}var GJ=Symbol.for("rtk-slice-createasyncthunk");function WJ(e,t){return`${e}/${t}`}function QJ({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[GJ];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(wu(11));const s=(typeof i.reducers=="function"?i.reducers(JJ()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,P){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(wu(12));if(O in c.sliceCaseReducersByType)throw new Error(wu(13));return c.sliceCaseReducersByType[O]=P,d},addMatcher(A,P){return c.sliceMatchers.push({matcher:A,reducer:P}),d},exposeAction(A,P){return c.actionCreators[A]=P,d},exposeCaseReducer(A,P){return c.sliceCaseReducersByName[A]=P,d}};l.forEach(A=>{const P=s[A],O={reducerName:A,type:WJ(a,A),createNotation:typeof i.reducers=="function"};XJ(P)?tY(O,P,d,t):YJ(O,P,d)});function h(){const[A={},P=[],O=void 0]=typeof i.extraReducers=="function"?WB(i.extraReducers):[i.extraReducers],D={...A,...c.sliceCaseReducersByType};return HJ(i.initialState,F=>{for(let Q in D)F.addCase(Q,D[Q]);for(let Q of c.sliceMatchers)F.addMatcher(Q.matcher,Q.reducer);for(let Q of P)F.addMatcher(Q.matcher,Q.reducer);O&&F.addDefaultCase(O)})}const m=A=>A,y=new Map;let v;function _(A,P){return v||(v=h()),v(A,P)}function x(){return v||(v=h()),v.getInitialState()}function b(A,P=!1){function O(F){let Q=F[A];return typeof Q>"u"&&P&&(Q=x()),Q}function D(F=m){const Q=YD(y,P,()=>new WeakMap);return YD(Q,F,()=>{const X={};for(const[U,Y]of Object.entries(i.selectors??{}))X[U]=ZJ(Y,F,x,P);return X})}return{reducerPath:A,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const S={name:a,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(A,{reducerPath:P,...O}={}){const D=P??o;return A.inject({reducerPath:D,reducer:_},O),{...S,...b(D,!0)}}};return S}}function ZJ(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Lw=QJ();function JJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function YJ({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!eY(r))throw new Error(wu(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ZD(e,o):ZD(e))}function XJ(e){return e._reducerDefinitionType==="asyncThunk"}function eY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function tY({type:e,reducerName:t},n,r,i){if(!i)throw new Error(wu(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,h=i(e,a,d);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(t,{fulfilled:o||Dv,pending:s||Dv,rejected:l||Dv,settled:c||Dv})}function Dv(){}function wu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const QB=()=>{var n;const e=((n=globalThis.navigator.languages)==null?void 0:n[0])??globalThis.navigator.language;return U0.find(r=>r===e)??U0.find(r=>e.startsWith(r))??Ph},nY={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",locale:QB()},rY=Lw({name:"ui",initialState:nY,reducers:{toggleTheme:e=>{e.theme=e.theme==="dark"?"light":"dark"},changeLocale:(e,t)=>{e.locale=t.payload??QB()}}}),{actions:xP,reducer:iY}=rY,EP=e=>e.ui.theme,Pf=e=>e.ui.locale;var NS={},FS={},ek;function aY(){return ek||(ek=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorMessages=e.ErrorType=void 0;var t;(function(n){n.MalformedUnicode="MALFORMED_UNICODE",n.MalformedHexadecimal="MALFORMED_HEXADECIMAL",n.CodePointLimit="CODE_POINT_LIMIT",n.OctalDeprecation="OCTAL_DEPRECATION",n.EndOfString="END_OF_STRING"})(t=e.ErrorType||(e.ErrorType={})),e.errorMessages=new Map([[t.MalformedUnicode,"malformed Unicode character escape sequence"],[t.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[t.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[t.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[t.EndOfString,"malformed escape sequence at end of string"]])}(FS)),FS}var tk;function oY(){return tk||(tk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unraw=e.errorMessages=e.ErrorType=void 0;const t=aY();Object.defineProperty(e,"ErrorType",{enumerable:!0,get:function(){return t.ErrorType}}),Object.defineProperty(e,"errorMessages",{enumerable:!0,get:function(){return t.errorMessages}});function n(y){return!y.match(/[^a-f0-9]/i)?parseInt(y,16):NaN}function r(y,v,_){const x=n(y);if(Number.isNaN(x)||_!==void 0&&_!==y.length)throw new SyntaxError(t.errorMessages.get(v));return x}function i(y){const v=r(y,t.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(v)}function a(y,v){const _=r(y,t.ErrorType.MalformedUnicode,4);if(v!==void 0){const x=r(v,t.ErrorType.MalformedUnicode,4);return String.fromCharCode(_,x)}return String.fromCharCode(_)}function o(y){return y.charAt(0)==="{"&&y.charAt(y.length-1)==="}"}function s(y){if(!o(y))throw new SyntaxError(t.errorMessages.get(t.ErrorType.MalformedUnicode));const v=y.slice(1,-1),_=r(v,t.ErrorType.MalformedUnicode);try{return String.fromCodePoint(_)}catch(x){throw x instanceof RangeError?new SyntaxError(t.errorMessages.get(t.ErrorType.CodePointLimit)):x}}function l(y,v=!1){if(v)throw new SyntaxError(t.errorMessages.get(t.ErrorType.OctalDeprecation));const _=parseInt(y,8);return String.fromCharCode(_)}const c=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function d(y){return c.get(y)||y}const h=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function m(y,v=!1){return y.replace(h,function(_,x,b,S,A,P,O,D,F){if(x!==void 0)return"\\";if(b!==void 0)return i(b);if(S!==void 0)return s(S);if(A!==void 0)return a(A,P);if(O!==void 0)return a(O);if(D==="0")return"\0";if(D!==void 0)return l(D,!v);if(F!==void 0)return d(F);throw new SyntaxError(t.errorMessages.get(t.ErrorType.EndOfString))})}e.unraw=m,e.default=m}(NS)),NS}var sY=oY();const Ul=e=>typeof e=="string",uY=e=>typeof e=="function",nk=new Map,ZB="en";function CP(e){return[...Array.isArray(e)?e:[e],ZB]}function TP(e,t,n){const r=CP(e);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return K0(()=>G0("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(Ul(t)?new Date(t):t)}function lY(e,t,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return TP(e,t,r)}function iR(e,t,n){const r=CP(e);return K0(()=>G0("number",r,n),()=>new Intl.NumberFormat(r,n)).format(t)}function rk(e,t,n,{offset:r=0,...i}){const a=CP(e),o=t?K0(()=>G0("plural-ordinal",a),()=>new Intl.PluralRules(a,{type:"ordinal"})):K0(()=>G0("plural-cardinal",a),()=>new Intl.PluralRules(a,{type:"cardinal"}));return i[n]??i[o.select(n-r)]??i.other}function K0(e,t){const n=e();let r=nk.get(n);return r||(r=t(),nk.set(n,r)),r}function G0(e,t,n){const r=t.join("-");return`${e}-${r}-${JSON.stringify(n)}`}const JB=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,YB="%__lingui_octothorpe__%",cY=(e,t,n={})=>{const r=t||e,i=o=>typeof o=="object"?o:n[o],a=(o,s)=>{const l=Object.keys(n).length?i("number"):void 0,c=iR(r,o,l);return s.replace(new RegExp(YB,"g"),c)};return{plural:(o,s)=>{const{offset:l=0}=s,c=rk(r,!1,o,s);return a(o-l,c)},selectordinal:(o,s)=>{const{offset:l=0}=s,c=rk(r,!0,o,s);return a(o-l,c)},select:fY,number:(o,s)=>iR(r,o,i(s)||{style:s}),date:(o,s)=>TP(r,o,i(s)||s),time:(o,s)=>lY(r,o,i(s)||s)}},fY=(e,t)=>t[e]??t.other;function dY(e,t,n){return(r={},i)=>{const a=cY(t,n,i),o=(l,c=!1)=>Array.isArray(l)?l.reduce((d,h)=>{if(h==="#"&&c)return d+YB;if(Ul(h))return d+h;const[m,y,v]=h;let _={};y==="plural"||y==="selectordinal"||y==="select"?Object.entries(v).forEach(([b,S])=>{_[b]=o(S,y==="plural"||y==="selectordinal")}):_=v;let x;if(y){const b=a[y];x=b(r[m],_)}else x=r[m];return x==null?d:d+x},""):l,s=o(e);return Ul(s)&&JB.test(s)?sY.unraw(s):Ul(s)?s:s?String(s):""}}var hY=Object.defineProperty,pY=(e,t,n)=>t in e?hY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gY=(e,t,n)=>(pY(e,t+"",n),n);let mY=class{constructor(){gY(this,"_events",{})}on(t,n){var r;return(r=this._events)[t]??(r[t]=[]),this._events[t].push(n),()=>this.removeListener(t,n)}removeListener(t,n){const r=this._getListeners(t);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(t,...n){const r=this._getListeners(t);r&&r.map(i=>i.apply(this,n))}_getListeners(t){const n=this._events[t];return Array.isArray(n)?n:!1}};var yY=Object.defineProperty,vY=(e,t,n)=>t in e?yY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oc=(e,t,n)=>(vY(e,typeof t!="symbol"?t+"":t,n),n);class _Y extends mY{constructor(t){super(),Oc(this,"_locale",""),Oc(this,"_locales"),Oc(this,"_localeData",{}),Oc(this,"_messages",{}),Oc(this,"_missing"),Oc(this,"_messageCompiler"),Oc(this,"t",this._.bind(this)),t.missing!=null&&(this._missing=t.missing),t.messages!=null&&this.load(t.messages),t.localeData!=null&&this.loadLocaleData(t.localeData),(typeof t.locale=="string"||t.locales)&&this.activate(t.locale??ZB,t.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(t,n){const r=this._localeData[t];r?Object.assign(r,n):this._localeData[t]=n}setMessagesCompiler(t){return this._messageCompiler=t,this}loadLocaleData(t,n){typeof t=="string"?this._loadLocaleData(t,n):Object.keys(t).forEach(r=>this._loadLocaleData(r,t[r])),this.emit("change")}_load(t,n){const r=this._messages[t];r?Object.assign(r,n):this._messages[t]=n}load(t,n){typeof t=="string"&&typeof n=="object"?this._load(t,n):Object.entries(t).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:t,locales:n,messages:r}){this._locale=t,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(t,n){this._locale=t,this._locales=n,this.emit("change")}_(t,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r==null?void 0:r.message;t||(t=""),Ul(t)||(n=t.values||n,i=t.message,t=t.id);const a=this.messages[t],o=a===void 0,s=this._missing;if(s&&o)return uY(s)?s(this._locale,t):s;o&&this.emit("missing",{id:t,locale:this._locale});let l=a||i||t;return Ul(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),Ul(l)&&JB.test(l)?JSON.parse(`"${l}"`):Ul(l)?l:dY(l,this._locale,this._locales)(n,r==null?void 0:r.formats)}date(t,n){return TP(this._locales||this._locale,t,n)}number(t,n){return iR(this._locales||this._locale,t,n)}}function wY(e={}){return new _Y(e)}const aR=wY(),bY=/<([a-zA-Z0-9]+)>([\s\S]*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,SY={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function XB(e,t={}){const n=xY(0,"$lingui$"),r=e.split(bY);if(r.length===1)return e;const i=[],a=r.shift();a&&i.push(a);for(const[o,s,l]of eq(r)){let c=typeof o<"u"?t[o]:void 0;(!c||SY[c.type]&&s)&&(console.error(c?`${c.type} is a void element tag therefore it must have no children`:`Can't use element at index '${o}' as it is not declared in the original translation`),c=It.createElement(It.Fragment)),Array.isArray(c)&&(c=It.createElement(It.Fragment,{},c)),i.push(It.cloneElement(c,{key:n()},s?XB(s,t):c.props.children)),l&&i.push(l)}return i.length===1?i[0]:i}function eq(e){if(!e.length)return[];const[t,n,r,i]=e.slice(0,4);return[[t||r,n||"",i]].concat(eq(e.slice(4,e.length)))}const xY=(e=0,t="")=>()=>`${t}_${e++}`;function EY(e){const{render:t,component:n,id:r,message:i,formats:a,lingui:{i18n:o,defaultComponent:s}}=e,l={...e.values},c={...e.components};Object.keys(l).forEach(_=>{const x=Object.keys(c).length;typeof l[_]=="string"||typeof l[_]=="number"||(c[x]=It.createElement(It.Fragment,null,l[_]),l[_]=`<${x}/>`)});const d=o&&typeof o._=="function"?o._(r,l,{message:i,formats:a}):r,h=d?XB(d,c):null;if(t===null||n===null)return h;const m=s||CY,y={id:r,message:i,translation:h,children:h};if(t&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&typeof t!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(n&&typeof n!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),It.createElement(m,y,h);if(typeof t=="function")return t(y);const v=n||m;return It.createElement(v,y,h)}const CY=({children:e})=>It.createElement(It.Fragment,null,e),tq=It.createContext(null),nq=e=>It.useContext(tq);function Jr(){return nq()}const TY=({i18n:e,defaultComponent:t,children:n})=>{const r=It.useRef(e.locale),i=It.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[a,o]=It.useState(i());return It.useEffect(()=>{const s=()=>{r.current=e.locale,o(i())},l=e.on("change",s);return r.current!==e.locale&&s(),l},[e,i]),r.current?It.createElement(tq.Provider,{value:a},n):null};function wt(e){const t=nq();return It.createElement(EY,{...e,lingui:t})}const AY=({children:e})=>{const t=bi(Pf),n=Yl();return V.useEffect(()=>{t?RY(t):n(xP.changeLocale())},[n,t]),H.jsx(TY,{i18n:aR,children:e})};async function RY(e){const{messages:t}=await sJ(Object.assign({"../locales/cs.ts":()=>UD(()=>import("./cs-C9KJcEcF.js"),[]),"../locales/en.ts":()=>UD(()=>import("./en-CAwwq_Wb.js"),[])}),`../locales/${e}.ts`,3);aR.load(e,t),aR.activate(e)}const PY={},OY=Lw({name:"auth",initialState:PY,reducers:{signin:(e,t)=>{e.isLoggedIn=t.payload.isLoggedIn,e.webId=t.payload.webId},setUser:(e,t)=>{e.profile=t.payload},signout:e=>{e.isLoggedIn=!1}}}),{actions:AP,reducer:LY}=OY,Oh=e=>e.auth,IY={},MY=Lw({name:"config",initialState:IY,reducers:{setConfig:(e,t)=>{Object.assign(e,t.payload)},resetConfig:()=>({})}}),{actions:oR,reducer:DY}=MY,rq=e=>e.config,kY={},NY=Lw({name:"login",initialState:kY,reducers:{setLastSelectedIssuer:(e,t)=>{e.lastSelectedIssuer=t.payload}}}),{actions:W0,reducer:FY}=NY,iq=e=>e.login.lastSelectedIssuer;var RP="persist:",PP="persist/FLUSH",Iw="persist/REHYDRATE",OP="persist/PAUSE",LP="persist/PERSIST",IP="persist/PURGE",MP="persist/REGISTER",jY=-1;function g0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g0=function(n){return typeof n}:g0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},g0(e)}function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ik(n,!0).forEach(function(r){UY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BY(e,t,n,r){r.debug;var i=$Y({},n);return e&&g0(e)==="object"&&Object.keys(e).forEach(function(a){a!=="_persist"&&t[a]===n[a]&&(i[a]=e[a])}),i}function qY(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,a="".concat(e.keyPrefix!==void 0?e.keyPrefix:RP).concat(e.key),o=e.storage,s;e.serialize===!1?s=function(O){return O}:typeof e.serialize=="function"?s=e.serialize:s=zY;var l=e.writeFailHandler||null,c={},d={},h=[],m=null,y=null,v=function(O){Object.keys(O).forEach(function(D){b(D)&&c[D]!==O[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(c).forEach(function(D){O[D]===void 0&&b(D)&&h.indexOf(D)===-1&&c[D]!==void 0&&h.push(D)}),m===null&&(m=setInterval(_,i)),c=O};function _(){if(h.length===0){m&&clearInterval(m),m=null;return}var P=h.shift(),O=r.reduce(function(D,F){return F.in(D,P,c)},c[P]);if(O!==void 0)try{d[P]=s(O)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete d[P];h.length===0&&x()}function x(){Object.keys(d).forEach(function(P){c[P]===void 0&&delete d[P]}),y=o.setItem(a,s(d)).catch(S)}function b(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function S(P){l&&l(P)}var A=function(){for(;h.length!==0;)_();return y||Promise.resolve()};return{update:v,flush:A}}function zY(e){return JSON.stringify(e)}function HY(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:RP).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(o){return o}:typeof e.deserialize=="function"?i=e.deserialize:i=VY,r.getItem(n).then(function(a){if(a)try{var o={},s=i(a);return Object.keys(s).forEach(function(l){o[l]=t.reduceRight(function(c,d){return d.out(c,l,s)},i(s[l]))}),o}catch(l){throw l}else return})}function VY(e){return JSON.parse(e)}function KY(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:RP).concat(e.key);return t.removeItem(n,GY)}function GY(e){}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(n,!0).forEach(function(r){WY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e,t){if(e==null)return{};var n=ZY(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZY(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var JY=5e3;function YY(e,t){var n=e.version!==void 0?e.version:jY;e.debug;var r=e.stateReconciler===void 0?BY:e.stateReconciler,i=e.getStoredState||HY,a=e.timeout!==void 0?e.timeout:JY,o=null,s=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var m=d||{},y=m._persist,v=QY(m,["_persist"]),_=v;if(h.type===LP){var x=!1,b=function(Q,X){x||(h.rehydrate(e.key,Q,X),x=!0)};if(a&&setTimeout(function(){!x&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},a),l=!1,o||(o=qY(e)),y)return au({},t(_,h),{_persist:y});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then(function(F){var Q=e.migrate||function(X,U){return Promise.resolve(X)};Q(F,n).then(function(X){b(X)},function(X){b(void 0,X)})},function(F){b(void 0,F)}),au({},t(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===IP)return s=!0,h.result(KY(e)),au({},t(_,h),{_persist:y});if(h.type===PP)return h.result(o&&o.flush()),au({},t(_,h),{_persist:y});if(h.type===OP)l=!0;else if(h.type===Iw){if(s)return au({},_,{_persist:au({},y,{rehydrated:!0})});if(h.key===e.key){var S=t(_,h),A=h.payload,P=r!==!1&&A!==void 0?r(A,d,S,e):S,O=au({},P,{_persist:au({},y,{rehydrated:!0})});return c(O)}}}if(!y)return t(d,h);var D=t(_,h);return D===_?d:c(au({},D,{_persist:y}))}}function ok(e){return tX(e)||eX(e)||XY()}function XY(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function eX(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function tX(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sk(n,!0).forEach(function(r){nX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aq={registry:[],bootstrapped:!1},rX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aq,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case MP:return sR({},t,{registry:[].concat(ok(t.registry),[n.key])});case Iw:var r=t.registry.indexOf(n.key),i=ok(t.registry);return i.splice(r,1),sR({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function iX(e,t,n){var r=wP(rX,aq,void 0),i=function(l){r.dispatch({type:MP,key:l})},a=function(l,c,d){var h={type:Iw,payload:c,err:d,key:l};e.dispatch(h),r.dispatch(h)},o=sR({},r,{purge:function(){var l=[];return e.dispatch({type:IP,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:PP,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){e.dispatch({type:OP})},persist:function(){e.dispatch({type:LP,register:i,rehydrate:a})}});return o.persist(),o}var Kp={},kv={},Nv={},uk;function aX(){if(uk)return Nv;uk=1,Nv.__esModule=!0,Nv.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(a)}function t(){}var n={getItem:t,setItem:t,removeItem:t};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var o=self[a],s="redux-persist ".concat(a," test");o.setItem(s,"test"),o.getItem(s),o.removeItem(s)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:n}return Nv}var lk;function oX(){if(lk)return kv;lk=1,kv.__esModule=!0,kv.default=n;var e=t(aX());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,e.default)(r);return{getItem:function(o){return new Promise(function(s,l){s(i.getItem(o))})},setItem:function(o,s){return new Promise(function(l,c){l(i.setItem(o,s))})},removeItem:function(o){return new Promise(function(s,l){s(i.removeItem(o))})}}}return kv}var ck;function sX(){if(ck)return Kp;ck=1,Kp.__esModule=!0,Kp.default=void 0;var e=t(oX());function t(r){return r&&r.__esModule?r:{default:r}}var n=(0,e.default)("local");return Kp.default=n,Kp}var uX=sX();const lX=Lr(uX),Fv=jB({auth:LY,login:FY,config:DY,ui:iY}),cX=(e,t)=>{if(KJ(AP.signout)(t)){let n=Fv(void 0,t);const r=e&&rq(e);r&&(n=Fv(n,oR.setConfig(r)));const i=e&&iq(e);return i&&(n=Fv(n,W0.setLastSelectedIssuer(i))),n}return Fv(e,t)},fX={key:"root",storage:lX,whitelist:["login","config","ui"]},dX=YY(fX,cX),oq=qJ({reducer:dX,middleware:e=>e({serializableCheck:{ignoredActions:[PP,Iw,OP,LP,IP,MP]}})}),hX=iX(oq),Lh=crypto,DP=e=>e instanceof CryptoKey,ws=new TextEncoder,hh=new TextDecoder;function sq(...e){const t=e.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const pX=e=>{let t=e;typeof t=="string"&&(t=ws.encode(t));const n=32768,r=[];for(let i=0;i<t.length;i+=n)r.push(String.fromCharCode.apply(null,t.subarray(i,i+n)));return btoa(r.join(""))},m0=e=>pX(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),gX=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},gf=e=>{let t=e;t instanceof Uint8Array&&(t=hh.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return gX(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Fi extends Error{constructor(t,n){var r;super(t,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Fi.code="ERR_JOSE_GENERIC";class Mo extends Fi{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Mo.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class uR extends Fi{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}uR.code="ERR_JWT_EXPIRED";class uq extends Fi{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}uq.code="ERR_JOSE_ALG_NOT_ALLOWED";class Ta extends Fi{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Ta.code="ERR_JOSE_NOT_SUPPORTED";class mX extends Fi{constructor(t="decryption operation failed",n){super(t,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}mX.code="ERR_JWE_DECRYPTION_FAILED";class yX extends Fi{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}yX.code="ERR_JWE_INVALID";class kr extends Fi{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}kr.code="ERR_JWS_INVALID";class Mw extends Fi{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}Mw.code="ERR_JWT_INVALID";class vX extends Fi{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}vX.code="ERR_JWK_INVALID";class kP extends Fi{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}kP.code="ERR_JWKS_INVALID";class NP extends Fi{constructor(t="no applicable key found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}NP.code="ERR_JWKS_NO_MATCHING_KEY";class lq extends Fi{constructor(t="multiple matching keys found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}lq.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class cq extends Fi{constructor(t="request timed out",n){super(t,n),this.code="ERR_JWKS_TIMEOUT"}}cq.code="ERR_JWKS_TIMEOUT";class fq extends Fi{constructor(t="signature verification failed",n){super(t,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}fq.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function ou(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function jv(e,t){return e.name===t}function jS(e){return parseInt(e.name.slice(4),10)}function _X(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function wX(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function bX(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!jv(e.algorithm,"HMAC"))throw ou("HMAC");const r=parseInt(t.slice(2),10);if(jS(e.algorithm.hash)!==r)throw ou(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!jv(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ou("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(jS(e.algorithm.hash)!==r)throw ou(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!jv(e.algorithm,"RSA-PSS"))throw ou("RSA-PSS");const r=parseInt(t.slice(2),10);if(jS(e.algorithm.hash)!==r)throw ou(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw ou("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!jv(e.algorithm,"ECDSA"))throw ou("ECDSA");const r=_X(t);if(e.algorithm.namedCurve!==r)throw ou(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}wX(e,n)}function dq(e,t,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();e+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const lR=(e,...t)=>dq("Key must be ",e,...t);function hq(e,t,...n){return dq(`Key for the ${e} algorithm must be `,t,...n)}const pq=e=>DP(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",Rm=["CryptoKey"],gq=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function SX(e){return typeof e=="object"&&e!==null}function Cu(e){if(!SX(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const mq=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Ih(e){return Cu(e)&&typeof e.kty=="string"}function xX(e){return e.kty!=="oct"&&typeof e.d=="string"}function EX(e){return e.kty!=="oct"&&typeof e.d>"u"}function CX(e){return Ih(e)&&e.kty==="oct"&&typeof e.k=="string"}function TX(e){let t,n;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Ta('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const yq=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=TX(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,Lh.subtle.importKey("jwk",i,...r)},vq=e=>gf(e);let gd,md;const _q=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",Q0=async(e,t,n,r,i=!1)=>{let a=e.get(t);if(a!=null&&a[r])return a[r];const o=await yq({...n,alg:r});return i&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},AX=(e,t)=>{if(_q(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?vq(n.k):(md||(md=new WeakMap),Q0(md,e,n,t))}return Ih(e)?e.k?gf(e.k):(md||(md=new WeakMap),Q0(md,e,e,t,!0)):e},RX=(e,t)=>{if(_q(e)){let n=e.export({format:"jwk"});return n.k?vq(n.k):(gd||(gd=new WeakMap),Q0(gd,e,n,t))}return Ih(e)?e.k?gf(e.k):(gd||(gd=new WeakMap),Q0(gd,e,e,t,!0)):e},fk={normalizePublicKey:AX,normalizePrivateKey:RX};async function wq(e,t){if(!Cu(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return gf(e.k);case"RSA":if(e.oth!==void 0)throw new Ta('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return yq({...e,alg:t});default:throw new Ta('Unsupported "kty" (Key Type) Parameter value')}}const Dd=e=>e==null?void 0:e[Symbol.toStringTag],cR=(e,t,n)=>{var r,i;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((i=(r=t.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},PX=(e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&Ih(t)){if(CX(t)&&cR(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!pq(t))throw new TypeError(hq(e,t,...Rm,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${Dd(t)} instances for symmetric algorithms must be of type "secret"`)}},OX=(e,t,n,r)=>{if(r&&Ih(t))switch(n){case"sign":if(xX(t)&&cR(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(EX(t)&&cR(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!pq(t))throw new TypeError(hq(e,t,...Rm,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${Dd(t)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${Dd(t)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${Dd(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${Dd(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${Dd(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function bq(e,t,n,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?PX(t,n,r,e):OX(t,n,r,e)}bq.bind(void 0,!1);const fR=bq.bind(void 0,!0);function Sq(e,t,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...t.entries()]):a=t;for(const o of r.crit){if(!a.has(o))throw new Ta(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const LX=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},IX=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:m0(e)};if(!DP(e))throw new TypeError(lR(e,...Rm,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...a}=await Lh.subtle.exportKey("jwk",e);return a};async function MX(e){return IX(e)}function xq(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Ta(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function Eq(e,t,n){if(n==="sign"&&(t=await fk.normalizePrivateKey(t,e)),n==="verify"&&(t=await fk.normalizePublicKey(t,e)),DP(t))return bX(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(lR(t,...Rm));return Lh.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(lR(t,...Rm,"Uint8Array","JSON Web Key"))}const DX=async(e,t,n,r)=>{const i=await Eq(e,t,"verify");mq(e,i);const a=xq(e,i.algorithm);try{return await Lh.subtle.verify(a,i,n,r)}catch{return!1}};async function kX(e,t,n){if(!Cu(e))throw new kr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new kr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new kr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new kr("JWS Payload missing");if(typeof e.signature!="string")throw new kr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Cu(e.header))throw new kr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const _=gf(e.protected);r=JSON.parse(hh.decode(_))}catch{throw new kr("JWS Protected Header is invalid")}if(!gq(r,e.header))throw new kr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header},a=Sq(kr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new kr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new kr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=LX("algorithms",n.algorithms);if(l&&!l.has(s))throw new uq('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof e.payload!="string")throw new kr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new kr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof t=="function"?(t=await t(r,e),c=!0,fR(s,t,"verify"),Ih(t)&&(t=await wq(t,s))):fR(s,t,"verify");const d=sq(ws.encode(e.protected??""),ws.encode("."),typeof e.payload=="string"?ws.encode(e.payload):e.payload);let h;try{h=gf(e.signature)}catch{throw new kr("Failed to base64url decode the signature")}if(!await DX(s,t,h,d))throw new fq;let y;if(o)try{y=gf(e.payload)}catch{throw new kr("Failed to base64url decode the payload")}else typeof e.payload=="string"?y=ws.encode(e.payload):y=e.payload;const v={payload:y};return e.protected!==void 0&&(v.protectedHeader=r),e.header!==void 0&&(v.unprotectedHeader=e.header),c?{...v,key:t}:v}async function NX(e,t,n){if(e instanceof Uint8Array&&(e=hh.decode(e)),typeof e!="string")throw new kr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=e.split(".");if(o!==3)throw new kr("Invalid Compact JWS");const s=await kX({payload:i,protected:r,signature:a},t,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const xl=e=>Math.floor(e.getTime()/1e3),Cq=60,Tq=Cq*60,FP=Tq*24,FX=FP*7,jX=FP*365.25,$X=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,hm=e=>{const t=$X.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),r=t[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*Cq);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*Tq);break;case"day":case"days":case"d":i=Math.round(n*FP);break;case"week":case"weeks":case"w":i=Math.round(n*FX);break;default:i=Math.round(n*jX);break}return t[1]==="-"||t[4]==="ago"?-i:i},dk=e=>e.toLowerCase().replace(/^application\//,""),UX=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,BX=(e,t,n={})=>{let r;try{r=JSON.parse(hh.decode(t))}catch{}if(!Cu(r))throw new Mw("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof e.typ!="string"||dk(e.typ)!==dk(i)))throw new Mo('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:l,maxTokenAge:c}=n,d=[...a];c!==void 0&&d.push("iat"),l!==void 0&&d.push("aud"),s!==void 0&&d.push("sub"),o!==void 0&&d.push("iss");for(const v of new Set(d.reverse()))if(!(v in r))throw new Mo(`missing required "${v}" claim`,r,v,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new Mo('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new Mo('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!UX(r.aud,typeof l=="string"?[l]:l))throw new Mo('unexpected "aud" claim value',r,"aud","check_failed");let h;switch(typeof n.clockTolerance){case"string":h=hm(n.clockTolerance);break;case"number":h=n.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=xl(m||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new Mo('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Mo('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+h)throw new Mo('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Mo('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-h)throw new uR('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){const v=y-r.iat,_=typeof c=="number"?c:hm(c);if(v-h>_)throw new uR('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(v<0-h)throw new Mo('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function qX(e,t,n){var o;const r=await NX(e,t,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new Mw("JWTs MUST NOT use unencoded payload");const a={payload:BX(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof t=="function"?{...a,key:r.key}:a}const zX=async(e,t,n)=>{const r=await Eq(e,t,"sign");mq(e,r);const i=await Lh.subtle.sign(xq(e,r.algorithm),r,n);return new Uint8Array(i)};class HX{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new kr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!gq(this._protectedHeader,this._unprotectedHeader))throw new kr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=Sq(kr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new kr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new kr('JWS "alg" (Algorithm) Header Parameter missing or invalid');fR(o,t,"sign");let s=this._payload;a&&(s=ws.encode(m0(s)));let l;this._protectedHeader?l=ws.encode(m0(JSON.stringify(this._protectedHeader))):l=ws.encode("");const c=sq(l,ws.encode("."),s),d=await zX(o,t,c),h={signature:m0(d),payload:""};return a&&(h.payload=hh.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=hh.decode(l)),h}}class VX{constructor(t){this._flattened=new HX(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,n){const r=await this._flattened.sign(t,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function Lc(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class KX{constructor(t={}){if(!Cu(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:Lc("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:Lc("setNotBefore",xl(t))}:this._payload={...this._payload,nbf:xl(new Date)+hm(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:Lc("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:Lc("setExpirationTime",xl(t))}:this._payload={...this._payload,exp:xl(new Date)+hm(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:xl(new Date)}:t instanceof Date?this._payload={...this._payload,iat:Lc("setIssuedAt",xl(t))}:typeof t=="string"?this._payload={...this._payload,iat:Lc("setIssuedAt",xl(new Date)+hm(t))}:this._payload={...this._payload,iat:Lc("setIssuedAt",t)},this}}class GX extends KX{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,n){var i;const r=new VX(ws.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Mw("JWTs MUST NOT use unencoded payload");return r.sign(t,n)}}function WX(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Ta('Unsupported "alg" value for a JSON Web Key Set')}}function QX(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(ZX)}function ZX(e){return Cu(e)}function Aq(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class JX{constructor(t){if(this._cached=new WeakMap,!QX(t))throw new kP("JSON Web Key Set malformed");this._jwks=Aq(t)}async getKey(t,n){const{alg:r,kid:i}={...t,...n==null?void 0:n.header},a=WX(r),o=this._jwks.keys.filter(c=>{let d=a===c.kty;if(d&&typeof i=="string"&&(d=i===c.kid),d&&typeof c.alg=="string"&&(d=r===c.alg),d&&typeof c.use=="string"&&(d=c.use==="sig"),d&&Array.isArray(c.key_ops)&&(d=c.key_ops.includes("verify")),d&&r==="EdDSA"&&(d=c.crv==="Ed25519"||c.crv==="Ed448"),d)switch(r){case"ES256":d=c.crv==="P-256";break;case"ES256K":d=c.crv==="secp256k1";break;case"ES384":d=c.crv==="P-384";break;case"ES512":d=c.crv==="P-521";break}return d}),{0:s,length:l}=o;if(l===0)throw new NP;if(l!==1){const c=new lq,{_cached:d}=this;throw c[Symbol.asyncIterator]=async function*(){for(const h of o)try{yield await hk(d,h,r)}catch{}},c}return hk(this._cached,s,r)}}async function hk(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(r[n]===void 0){const i=await wq({...t,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new kP("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function pk(e){const t=new JX(e),n=async(r,i)=>t.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>Aq(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const YX=async(e,t,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},t));const o=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw a?new cq:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new Fi("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new Fi("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function XX(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let dR;var c0,qU;(typeof navigator>"u"||!((qU=(c0=navigator.userAgent)==null?void 0:c0.startsWith)!=null&&qU.call(c0,"Mozilla/5.0 ")))&&(dR="jose/v5.9.6");const $S=Symbol();function eee(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!Cu(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,Cu))}class tee{constructor(t,n){if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[$S])!==void 0&&(this._cache=n==null?void 0:n[$S],eee(n==null?void 0:n[$S],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=pk(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(t,n)}catch(r){if(r instanceof NP&&this.coolingDown()===!1)return await this.reload(),this._local(t,n);throw r}}async reload(){this._pendingFetch&&XX()&&(this._pendingFetch=void 0);const t=new Headers(this._options.headers);dR&&!t.has("User-Agent")&&(t.set("User-Agent",dR),this._options.headers=Object.fromEntries(t.entries())),this._pendingFetch||(this._pendingFetch=YX(this._url,this._timeoutDuration,this._options).then(n=>{this._local=pk(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function nee(e,t){const n=new tee(e,t),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function US(e){const t=(e==null?void 0:e.modulusLength)??2048;if(typeof t!="number"||t<2048)throw new Ta("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function ree(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:US(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:US(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:US(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new Ta("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new Ta("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Lh.subtle.generateKey(n,!1,r)}async function iee(e,t){return ree(e,t)}const Pi=[];for(let e=0;e<256;++e)Pi.push((e+256).toString(16).slice(1));function aee(e,t=0){return(Pi[e[t+0]]+Pi[e[t+1]]+Pi[e[t+2]]+Pi[e[t+3]]+"-"+Pi[e[t+4]]+Pi[e[t+5]]+"-"+Pi[e[t+6]]+Pi[e[t+7]]+"-"+Pi[e[t+8]]+Pi[e[t+9]]+"-"+Pi[e[t+10]]+Pi[e[t+11]]+Pi[e[t+12]]+Pi[e[t+13]]+Pi[e[t+14]]+Pi[e[t+15]]).toLowerCase()}let BS;const oee=new Uint8Array(16);function see(){if(!BS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");BS=crypto.getRandomValues.bind(crypto)}return BS(oee)}const uee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gk={randomUUID:uee};function Rq(e,t,n){if(gk.randomUUID&&!t&&!e)return gk.randomUUID();e=e||{};const r=e.random||(e.rng||see)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aee(r)}const Pq="solidClientAuthn:",Z0=["ES256","RS256"],ai={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},mk=5,lee="openid",cee="offline_access",fee="webid",Oq=[lee,cee,fee].join(" ");class dee{constructor(t){this.handleables=t,this.handleables=t}async getProperHandler(t){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...t)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...t){return await this.getProperHandler(t)!==null}async handle(...t){const n=await this.getProperHandler(t);if(n)return n.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function Lq(e,t,n,r){let i,a;try{const{payload:o}=await qX(e,nee(new URL(t)),{issuer:n,audience:r});i=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${o}].`)}}function Iq(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=t.hash==="";return n&&r}catch{return!1}}function Mq(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function hee(e,t){return typeof e=="boolean"?!!e:!!t}class pee{constructor(t,n){this.storageUtility=t,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=t,this.redirector=n}async canHandle(t){return this.parametersGuard(t)}async handleRedirect({oidcLoginOptions:t,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(t))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:r,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:(!!t.dpop).toString(),keepAlive:hee(t.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:t.handleRedirect})}}class gee{constructor(t){this.sessionInfoManager=t,this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}}class mee{constructor(t){this.redirector=t,this.redirector=t}async canHandle(t,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(t,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class yee{constructor(t,n){this.handlers=[new gee(t),new mee(n)]}async canHandle(){return!0}async handle(t,n){for(const r of this.handlers)await r.canHandle(t,n)&&await r.handle(t,n)}}function Dq(){return{isLoggedIn:!1,sessionId:Rq(),fetch:(...e)=>fetch(...e)}}async function kq(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class vee{constructor(t){this.storageUtility=t,this.storageUtility=t}update(t,n){throw new Error("Not Implemented")}get(t){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(t){return kq(t,this.storageUtility)}async register(t){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function _ee({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return t!==void 0&&i.searchParams.append("id_token_hint",t),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function wee({endSessionEndpoint:e,idTokenHint:t}){if(e!==void 0)return function({state:r,postLogoutUrl:i}){return _ee({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:i})}}function bee(e){return typeof e=="string"&&["DPoP","Bearer"].includes(e)}function Nq(e){try{return new URL(e),!0}catch{return!1}}function See(e,t){var n;return(n=t.find(r=>e.includes(r)))!==null&&n!==void 0?n:null}function xee(e){return e.clientId!==void 0&&!Nq(e.clientId)}function Eee(e,t){return t.scopesSupported.includes("webid")&&e.clientId!==void 0&&Nq(e.clientId)}function Cee(e){return typeof e=="string"&&["dynamic","static","solid-oidc"].includes(e)}async function Tee(e,t,n,r){let i;if(Eee(e,t))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else if(xee(e))i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"};else return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(e.sessionId,a),i}const yk=(e,t)=>fetch(e,t);let Aee=class{constructor(t,n,r,i,a){this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=yk,this.logout=async(o,s)=>{await this.logoutHandler.handle(o,(s==null?void 0:s.logoutType)==="idp"?{...s,toLogoutUrl:this.boundLogout}:s),this.fetch=yk,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function Fq(e,t,n){try{const[r,i,a,o,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${r}`)}}async function Ree(e,t,n,r,i,a,o,s){n!==void 0&&await e.setForUser(t,{webId:n},{secure:o}),r!==void 0&&await e.setForUser(t,{clientId:r},{secure:o}),await e.setForUser(t,{isLoggedIn:i},{secure:o})}class Pee{constructor(t,n){this.secureStorage=t,this.insecureStorage=n,this.secureStorage=t,this.insecureStorage=n}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${t}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n))}async get(t,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(t);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${t}] is not stored`);return r}async set(t,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(t,n)}async delete(t,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${t}] is not stored`);return a||void 0}async setForUser(t,n,r){let i;try{i=await this.getUserData(t,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(t,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);delete i[n],await this.setUserData(t,i,r==null?void 0:r.secure)}async deleteAllUserData(t,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}}class Oee{constructor(){this.map={}}async get(t){return this.map[t]||void 0}async set(t,n){this.map[t]=n}async delete(t){delete this.map[t]}}class hR extends Error{constructor(t){super(t)}}class tm extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class jq extends Error{constructor(t,n,r){super(t),this.error=n,this.errorDescription=r}}function Lee(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function jP(e,t,n){return new GX({htu:Lee(e),htm:t.toUpperCase(),jti:Rq()}).setProtectedHeader({alg:Z0[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function Iee(){const{privateKey:e,publicKey:t}=await iee(Z0[0]),n={privateKey:e,publicKey:await MX(t)};return[n.publicKey.alg]=Z0,n}const $q=600;function Mee(e){return[401,403].includes(e)}async function Dee(e,t,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${t}`),a.set("DPoP",await jP(e,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function kee(e,t,n,r){if(n!==void 0)return Dee(e,t,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${t}`),{...r,headers:i}}async function vk(e,t,n,r){return fetch(t,await kee(t.toString(),e,r,n))}async function Nee(e,t,n){var r;const i=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return n==null||n.emit(ai.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:$q),typeof i.refreshToken=="string"&&(n==null||n.emit(ai.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const qS=e=>e!==void 0?e-mk>0?e-mk:e:$q;async function Fee(e,t){var n;let r=e,i;const a=t==null?void 0:t.refreshOptions;if(a!==void 0){const o=async()=>{var s,l,c,d;try{const{accessToken:h,refreshToken:m,expiresIn:y}=await Nee(a,t.dpopKey,t.eventEmitter);r=h,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(o,qS(y)*1e3),(s=t.eventEmitter)===null||s===void 0||s.emit(ai.TIMEOUT_SET,i)}catch(h){h instanceof jq&&((l=t==null?void 0:t.eventEmitter)===null||l===void 0||l.emit(ai.ERROR,h.error,h.errorDescription),(c=t==null?void 0:t.eventEmitter)===null||c===void 0||c.emit(ai.SESSION_EXPIRED)),h instanceof tm&&h.missingFields.includes("access_token")&&((d=t==null?void 0:t.eventEmitter)===null||d===void 0||d.emit(ai.SESSION_EXPIRED))}};i=setTimeout(o,qS(t.expiresIn)*1e3),(n=t.eventEmitter)===null||n===void 0||n.emit(ai.TIMEOUT_SET,i)}else if(t!==void 0&&t.eventEmitter!==void 0){const o=setTimeout(()=>{t.eventEmitter.emit(ai.SESSION_EXPIRED)},qS(t.expiresIn)*1e3);t.eventEmitter.emit(ai.TIMEOUT_SET,o)}return async(o,s)=>{let l=await vk(r,o,s,t==null?void 0:t.dpopKey);const c=!l.ok&&!Mee(l.status);return l.ok||c||l.url!==o&&(t==null?void 0:t.dpopKey)!==void 0&&(l=await vk(r,l.url,s,t.dpopKey)),l}}const Oi=[];for(let e=0;e<256;++e)Oi.push((e+256).toString(16).slice(1));function jee(e,t=0){return(Oi[e[t+0]]+Oi[e[t+1]]+Oi[e[t+2]]+Oi[e[t+3]]+"-"+Oi[e[t+4]]+Oi[e[t+5]]+"-"+Oi[e[t+6]]+Oi[e[t+7]]+"-"+Oi[e[t+8]]+Oi[e[t+9]]+"-"+Oi[e[t+10]]+Oi[e[t+11]]+Oi[e[t+12]]+Oi[e[t+13]]+Oi[e[t+14]]+Oi[e[t+15]]).toLowerCase()}let zS;const $ee=new Uint8Array(16);function Uee(){if(!zS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zS=crypto.getRandomValues.bind(crypto)}return zS($ee)}const Bee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_k={randomUUID:Bee};function qee(e,t,n){if(_k.randomUUID&&!t&&!e)return _k.randomUUID();e=e||{};const r=e.random||(e.rng||Uee)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jee(r)}var $v={exports:{}},wk;function Mh(){if(wk)return $v.exports;wk=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(O,D,F){return Function.prototype.apply.call(O,D,F)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(O){return O!==O};function a(){a.init.call(this)}$v.exports=a,$v.exports.once=b,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");o=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function l(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(O){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var Q=O==="error",X=this._events;if(X!==void 0)Q=Q&&X.error===void 0;else if(!Q)return!1;if(Q){var U;if(D.length>0&&(U=D[0]),U instanceof Error)throw U;var Y=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw Y.context=U,Y}var ce=X[O];if(ce===void 0)return!1;if(typeof ce=="function")t(ce,this,D);else for(var te=ce.length,se=v(ce,te),F=0;F<te;++F)t(se[F],this,D);return!0};function c(P,O,D,F){var Q,X,U;if(s(D),X=P._events,X===void 0?(X=P._events=Object.create(null),P._eventsCount=0):(X.newListener!==void 0&&(P.emit("newListener",O,D.listener?D.listener:D),X=P._events),U=X[O]),U===void 0)U=X[O]=D,++P._eventsCount;else if(typeof U=="function"?U=X[O]=F?[D,U]:[U,D]:F?U.unshift(D):U.push(D),Q=l(P),Q>0&&U.length>Q&&!U.warned){U.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=P,Y.type=O,Y.count=U.length,r(Y)}return P}a.prototype.addListener=function(O,D){return c(this,O,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(O,D){return c(this,O,D,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(P,O,D){var F={fired:!1,wrapFn:void 0,target:P,type:O,listener:D},Q=d.bind(F);return Q.listener=D,F.wrapFn=Q,Q}a.prototype.once=function(O,D){return s(D),this.on(O,h(this,O,D)),this},a.prototype.prependOnceListener=function(O,D){return s(D),this.prependListener(O,h(this,O,D)),this},a.prototype.removeListener=function(O,D){var F,Q,X,U,Y;if(s(D),Q=this._events,Q===void 0)return this;if(F=Q[O],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[O],Q.removeListener&&this.emit("removeListener",O,F.listener||D));else if(typeof F!="function"){for(X=-1,U=F.length-1;U>=0;U--)if(F[U]===D||F[U].listener===D){Y=F[U].listener,X=U;break}if(X<0)return this;X===0?F.shift():_(F,X),F.length===1&&(Q[O]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",O,Y||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(O){var D,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var X=Object.keys(F),U;for(Q=0;Q<X.length;++Q)U=X[Q],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[O],typeof D=="function")this.removeListener(O,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(O,D[Q]);return this};function m(P,O,D){var F=P._events;if(F===void 0)return[];var Q=F[O];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?x(Q):v(Q,Q.length)}a.prototype.listeners=function(O){return m(this,O,!0)},a.prototype.rawListeners=function(O){return m(this,O,!1)},a.listenerCount=function(P,O){return typeof P.listenerCount=="function"?P.listenerCount(O):y.call(P,O)},a.prototype.listenerCount=y;function y(P){var O=this._events;if(O!==void 0){var D=O[P];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(P,O){for(var D=new Array(O),F=0;F<O;++F)D[F]=P[F];return D}function _(P,O){for(;O+1<P.length;O++)P[O]=P[O+1];P.pop()}function x(P){for(var O=new Array(P.length),D=0;D<O.length;++D)O[D]=P[D].listener||P[D];return O}function b(P,O){return new Promise(function(D,F){function Q(U){P.removeListener(O,X),F(U)}function X(){typeof P.removeListener=="function"&&P.removeListener("error",Q),D([].slice.call(arguments))}A(P,O,X,{once:!0}),O!=="error"&&S(P,Q,{once:!0})})}function S(P,O,D){typeof P.on=="function"&&A(P,"error",O,D)}function A(P,O,D,F){if(typeof P.on=="function")F.once?P.once(O,D):P.on(O,D);else if(typeof P.addEventListener=="function")P.addEventListener(O,function Q(X){F.once&&P.removeEventListener(O,Q),D(X)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return $v.exports}var zee=Mh();const Hee=Lr(zee);var y0={exports:{}},Vee=y0.exports,bk;function Kee(){return bk||(bk=1,function(e,t){(function(r,i){e.exports=i()})(Vee,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(c){return a[c]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,m){return h&&c(d.prototype,h),m&&c(d,m),d}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=function(){function c(){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,s=o},c.debug=function(){if(l>=4){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.debug.apply(s,Array.from(m))}},c.info=function(){if(l>=3){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.info.apply(s,Array.from(m))}},c.warn=function(){if(l>=2){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.warn.apply(s,Array.from(m))}},c.error=function(){if(l>=1){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.error.apply(s,Array.from(m))}},a(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(h){if(!(0<=h&&h<=4))throw new Error("Invalid log level");l=h}},{key:"logger",get:function(){return s},set:function(h){if(!h.debug&&h.info&&(h.debug=h.info),!(h.debug&&h.info&&h.warn&&h.error))throw new Error("Invalid logger");s=h}}]),c}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,m){return h&&c(d.prototype,h),m&&c(d,m),d}}(),o={setInterval:function(c){function d(h,m){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c,d){return setInterval(c,d)}),clearInterval:function(c){function d(h){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c){return clearInterval(c)})},s=!1,l=null;r.Global=function(){function c(){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){s=!0},c.setXMLHttpRequest=function(h){l=h},a(c,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function d(h,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,y){return m&&d(h.prototype,m),y&&d(h,y),h}}(),o=i(0),s=i(7);function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";r.MetadataService=function(){function d(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,d),!h)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=h,this._jsonService=new m(["application/jwk-set+json"])}return d.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},d.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){o.Log.debug("MetadataService.getMetadata: json received");var v=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},v,y),m._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},d.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},d.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},d.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},d.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},d.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},d.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},d.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},d.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},d.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(v){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),v[m]===void 0){if(y===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return v[m]})},d.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(v){if(o.Log.debug("MetadataService.getSigningKeys: key set received",v),!v.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=v.keys,m._settings.signingKeys})})},a(d,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),o=i(1);r.UrlUtility=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(c,d,h){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(d),c+="=",c+=encodeURIComponent(h)},s.parseUrlFragment=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof c!="string"&&(c=h.location.href);var m=c.lastIndexOf(d);m>=0&&(c=c.substr(m+1)),d==="?"&&(m=c.indexOf("#"))>=0&&(c=c.substr(0,m));for(var y,v={},_=/([^&=]+)=([^&]*)/g,x=0;y=_.exec(c);)if(v[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),x++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var b in v)return v;return{}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),o=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(S,A){for(var P=0;P<A.length;P++){var O=A[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,A,P){return A&&b(S.prototype,A),P&&b(S,P),S}}(),s=i(0),l=i(23),c=i(6),d=i(24),h=i(2);function m(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",v="id_token",_="openid",x="client_secret_post";r.OidcClientSettings=function(){function b(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=S.authority,P=S.metadataUrl,O=S.metadata,D=S.signingKeys,F=S.metadataSeed,Q=S.client_id,X=S.client_secret,U=S.response_type,Y=U===void 0?v:U,ce=S.scope,te=ce===void 0?_:ce,se=S.redirect_uri,pe=S.post_logout_redirect_uri,_e=S.client_authentication,de=_e===void 0?x:_e,ue=S.prompt,Re=S.display,k=S.max_age,ie=S.ui_locales,me=S.acr_values,K=S.resource,ee=S.response_mode,ge=S.filterProtocolClaims,Ae=ge===void 0||ge,Ze=S.loadUserInfo,Pe=Ze===void 0||Ze,Ne=S.staleStateAge,Ye=Ne===void 0?900:Ne,oe=S.clockSkew,z=oe===void 0?300:oe,$=S.clockService,ae=$===void 0?new l.ClockService:$,Z=S.userInfoJwtIssuer,he=Z===void 0?"OP":Z,ye=S.mergeClaims,He=ye!==void 0&&ye,Ee=S.stateStore,Fe=Ee===void 0?new c.WebStorageStateStore:Ee,tt=S.ResponseValidatorCtor,nt=tt===void 0?d.ResponseValidator:tt,gt=S.MetadataServiceCtor,qt=gt===void 0?h.MetadataService:gt,Se=S.extraQueryParams,Be=Se===void 0?{}:Se,ne=S.extraTokenParams,q=ne===void 0?{}:ne;m(this,b),this._authority=A,this._metadataUrl=P,this._metadata=O,this._metadataSeed=F,this._signingKeys=D,this._client_id=Q,this._client_secret=X,this._response_type=Y,this._scope=te,this._redirect_uri=se,this._post_logout_redirect_uri=pe,this._client_authentication=de,this._prompt=ue,this._display=Re,this._max_age=k,this._ui_locales=ie,this._acr_values=me,this._resource=K,this._response_mode=ee,this._filterProtocolClaims=!!Ae,this._loadUserInfo=!!Pe,this._staleStateAge=Ye,this._clockSkew=z,this._clockService=ae,this._userInfoJwtIssuer=he,this._mergeClaims=!!He,this._stateStore=Fe,this._validator=new nt(this),this._metadataService=new qt(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(q===void 0?"undefined":a(q))==="object"?q:{}}return b.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(b,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),b}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.prefix,h=d===void 0?"oidc.":d,m=c.store,y=m===void 0?o.Global.localStorage:m;s(this,l),this._store=y,this._prefix=h}return l.prototype.set=function(d,h){return a.Log.debug("WebStorageStateStore.set",d),d=this._prefix+d,this._store.setItem(d,h),Promise.resolve()},l.prototype.get=function(d){a.Log.debug("WebStorageStateStore.get",d),d=this._prefix+d;var h=this._store.getItem(d);return Promise.resolve(h)},l.prototype.remove=function(d){a.Log.debug("WebStorageStateStore.remove",d),d=this._prefix+d;var h=this._store.getItem(d);return this._store.removeItem(d),Promise.resolve(h)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var d=[],h=0;h<this._store.length;h++){var m=this._store.key(h);m.indexOf(this._prefix)===0&&d.push(m.substr(this._prefix.length))}return Promise.resolve(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),h&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=d,this._jwtHandler=h}return l.prototype.getJson=function(d,h){var m=this;if(!d)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",d),new Promise(function(y,v){var _=new m._XMLHttpRequest;_.open("GET",d);var x=m._contentTypes,b=m._jwtHandler;_.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",_.status),_.status===200){var S=_.getResponseHeader("Content-Type");if(S){var A=x.find(function(P){if(S.startsWith(P))return!0});if(A=="application/jwt")return void b(_).then(y,v);if(A)try{return void y(JSON.parse(_.responseText))}catch(P){return a.Log.error("JsonService.getJson: Error parsing JSON response",P.message),void v(P)}}v(Error("Invalid response Content-Type: "+S+", from URL: "+d))}else v(Error(_.statusText+" ("+_.status+")"))},_.onerror=function(){a.Log.error("JsonService.getJson: network error"),v(Error("Network Error"))},h&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),_.setRequestHeader("Authorization","Bearer "+h)),_.send()})},l.prototype.postForm=function(d,h,m){var y=this;if(!d)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",d),new Promise(function(v,_){var x=new y._XMLHttpRequest;x.open("POST",d);var b=y._contentTypes;x.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",x.status),x.status!==200){if(x.status===400&&(D=x.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{var O=JSON.parse(x.responseText);if(O&&O.error)return a.Log.error("JsonService.postForm: Error from server: ",O.error),void _(new Error(O.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error(x.statusText+" ("+x.status+")"))}else{var D;if((D=x.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{return void v(JSON.parse(x.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error("Invalid response Content-Type: "+D+", from URL: "+d))}},x.onerror=function(){a.Log.error("JsonService.postForm: network error"),_(Error("Network Error"))};var S="";for(var A in h){var P=h[A];P&&(S.length>0&&(S+="&"),S+=encodeURIComponent(A),S+="=",S+=encodeURIComponent(P))}x.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&x.setRequestHeader("Authorization","Basic "+btoa(m)),x.send(S)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),o=i(3),s=i(13);r.SigninRequest=function(){function l(c){var d=c.url,h=c.client_id,m=c.redirect_uri,y=c.response_type,v=c.scope,_=c.authority,x=c.data,b=c.prompt,S=c.display,A=c.max_age,P=c.ui_locales,O=c.id_token_hint,D=c.login_hint,F=c.acr_values,Q=c.resource,X=c.response_mode,U=c.request,Y=c.request_uri,ce=c.extraQueryParams,te=c.request_type,se=c.client_secret,pe=c.extraTokenParams,_e=c.skipUserInfo;if(function(K,ee){if(!(K instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!h)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!v)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!_)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var de=l.isOidc(y),ue=l.isCode(y);X||(X=l.isCode(y)?"query":null),this.state=new s.SigninState({nonce:de,data:x,client_id:h,authority:_,redirect_uri:m,code_verifier:ue,request_type:te,response_mode:X,client_secret:se,scope:v,extraTokenParams:pe,skipUserInfo:_e}),d=o.UrlUtility.addQueryParam(d,"client_id",h),d=o.UrlUtility.addQueryParam(d,"redirect_uri",m),d=o.UrlUtility.addQueryParam(d,"response_type",y),d=o.UrlUtility.addQueryParam(d,"scope",v),d=o.UrlUtility.addQueryParam(d,"state",this.state.id),de&&(d=o.UrlUtility.addQueryParam(d,"nonce",this.state.nonce)),ue&&(d=o.UrlUtility.addQueryParam(d,"code_challenge",this.state.code_challenge),d=o.UrlUtility.addQueryParam(d,"code_challenge_method","S256"));var Re={prompt:b,display:S,max_age:A,ui_locales:P,id_token_hint:O,login_hint:D,acr_values:F,resource:Q,request:U,request_uri:Y,response_mode:X};for(var k in Re)Re[k]&&(d=o.UrlUtility.addQueryParam(d,k,Re[k]));for(var ie in ce)d=o.UrlUtility.addQueryParam(d,ie,ce[ie]);this.url=d}return l.isOidc=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="id_token"})[0]},l.isOAuth=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="token"})[0]},l.isCode=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function c(d,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,m){return h&&c(d.prototype,h),m&&c(d,m),d}}(),o=i(0),s=function(d){return d&&d.__esModule?d:{default:d}}(i(14));function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.State=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.id,m=d.data,y=d.created,v=d.request_type;l(this,c),this._id=h||(0,s.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=v}return c.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(h){return o.Log.debug("State.fromStorageString"),new c(JSON.parse(h))},c.clearStaleState=function(h,m){var y=Date.now()/1e3-m;return h.getAllKeys().then(function(v){o.Log.debug("State.clearStaleState: got keys",v);for(var _=[],x=function(P){var O=v[P];S=h.get(O).then(function(D){var F=!1;if(D)try{var Q=c.fromStorageString(D);o.Log.debug("State.clearStaleState: got item from key: ",O,Q.created),Q.created<=y&&(F=!0)}catch(X){o.Log.error("State.clearStaleState: Error parsing state for key",O,X.message),F=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",O),F=!0;if(F)return o.Log.debug("State.clearStaleState: removed item for key: ",O),h.remove(O)}),_.push(S)},b=0;b<v.length;b++){var S;x(b)}return o.Log.debug("State.clearStaleState: waiting on promise count:",_.length),Promise.all(_)})},a(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function x(b,S){for(var A=0;A<S.length;A++){var P=S[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,S,A){return S&&x(b.prototype,S),A&&x(b,A),b}}(),o=i(0),s=i(5),l=i(12),c=i(8),d=i(34),h=i(35),m=i(36),y=i(13),v=i(9);function _(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function x(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,x),b instanceof s.OidcClientSettings?this._settings=b:this._settings=new s.OidcClientSettings(b)}return x.prototype.createSigninRequest=function(){var S=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=A.response_type,O=A.scope,D=A.redirect_uri,F=A.data,Q=A.state,X=A.prompt,U=A.display,Y=A.max_age,ce=A.ui_locales,te=A.id_token_hint,se=A.login_hint,pe=A.acr_values,_e=A.resource,de=A.request,ue=A.request_uri,Re=A.response_mode,k=A.extraQueryParams,ie=A.extraTokenParams,me=A.request_type,K=A.skipUserInfo,ee=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var ge=this._settings.client_id;P=P||this._settings.response_type,O=O||this._settings.scope,D=D||this._settings.redirect_uri,X=X||this._settings.prompt,U=U||this._settings.display,Y=Y||this._settings.max_age,ce=ce||this._settings.ui_locales,pe=pe||this._settings.acr_values,_e=_e||this._settings.resource,Re=Re||this._settings.response_mode,k=k||this._settings.extraQueryParams,ie=ie||this._settings.extraTokenParams;var Ae=this._settings.authority;return c.SigninRequest.isCode(P)&&P!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Ze){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Ze);var Pe=new c.SigninRequest({url:Ze,client_id:ge,redirect_uri:D,response_type:P,scope:O,data:F||Q,authority:Ae,prompt:X,display:U,max_age:Y,ui_locales:ce,id_token_hint:te,login_hint:se,acr_values:pe,resource:_e,request:de,request_uri:ue,extraQueryParams:k,extraTokenParams:ie,request_type:me,response_mode:Re,client_secret:S._settings.client_secret,skipUserInfo:K}),Ne=Pe.state;return(ee=ee||S._stateStore).set(Ne.id,Ne.toStorageString()).then(function(){return Pe})})},x.prototype.readSigninResponseState=function(S,A){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var O=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),D=O?"?":"#",F=new d.SigninResponse(S,D);if(!F.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var Q=P?A.remove.bind(A):A.get.bind(A);return Q(F.state).then(function(X){if(!X)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(X),response:F}})},x.prototype.processSigninResponse=function(S,A){var P=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(S,A,!0).then(function(O){var D=O.state,F=O.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),P._validator.validateSigninResponse(D,F)})},x.prototype.createSignoutRequest=function(){var S=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=A.id_token_hint,O=A.data,D=A.state,F=A.post_logout_redirect_uri,Q=A.extraQueryParams,X=A.request_type,U=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Y){if(!Y)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Y);var ce=new h.SignoutRequest({url:Y,id_token_hint:P,post_logout_redirect_uri:F,data:O||D,extraQueryParams:Q,request_type:X}),te=ce.state;return te&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(U=U||S._stateStore).set(te.id,te.toStorageString())),ce})},x.prototype.readSignoutResponseState=function(S,A){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var O=new m.SignoutResponse(S);if(!O.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),O.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",O.error),Promise.reject(new l.ErrorResponse(O))):Promise.resolve({state:void 0,response:O});var D=O.state;A=A||this._stateStore;var F=P?A.remove.bind(A):A.get.bind(A);return F(D).then(function(Q){if(!Q)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.State.fromStorageString(Q),response:O}})},x.prototype.processSignoutResponse=function(S,A){var P=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(S,A,!0).then(function(O){var D=O.state,F=O.response;return D?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),P._validator.validateSignoutResponse(D,F)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},x.prototype.clearStaleState=function(S){return o.Log.debug("OidcClient.clearStaleState"),S=S||this._stateStore,v.State.clearStaleState(S,this.settings.staleStateAge)},a(x,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),x}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),o=i(2),s=i(0);function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,c),!d)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new h,this._metadataService=new m(this._settings)}return c.prototype.exchangeCode=function(){var h=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||v!="client_secret_basic"?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),h._jsonService.postForm(_,m,y).then(function(x){return s.Log.debug("TokenClient.exchangeCode: response received"),x})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var h=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),h._jsonService.postForm(_,m,y).then(function(x){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),x})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function s(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}r.ErrorResponse=function(l){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.error,m=d.error_description,y=d.error_uri,v=d.state,_=d.session_state;if(o(this,c),!h)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var x=s(this,l.call(this,m||h));return x.name="ErrorResponse",x.error=h,x.error_description=m,x.error_uri=y,x.state=v,x.session_state=_,x}return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}(c,l),c}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),o=i(0),s=i(9),l=i(4),c=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function h(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=v.nonce,x=v.authority,b=v.client_id,S=v.redirect_uri,A=v.code_verifier,P=v.response_mode,O=v.client_secret,D=v.scope,F=v.extraTokenParams,Q=v.skipUserInfo;d(this,y);var X=h(this,m.call(this,arguments[0]));if(_===!0?X._nonce=(0,c.default)():_&&(X._nonce=_),A===!0?X._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():A&&(X._code_verifier=A),X.code_verifier){var U=l.JoseUtil.hashString(X.code_verifier,"SHA256");X._code_challenge=l.JoseUtil.hexToBase64Url(U)}return X._redirect_uri=S,X._authority=x,X._client_id=b,X._response_mode=P,X._client_secret=O,X._scope=D,X._extraTokenParams=F,X._skipUserInfo=Q,X}return function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}(y,m),y.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(_){return o.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(_))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.User=function(){function s(l){var c=l.id_token,d=l.session_state,h=l.access_token,m=l.refresh_token,y=l.token_type,v=l.scope,_=l.profile,x=l.expires_at,b=l.state;(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=c,this.session_state=d,this.access_token=h,this.refresh_token=m,this.token_type=y,this.scope=v,this.profile=_,this.expires_at=x,this.state=b}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(c){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(c))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var d=parseInt(c);if(typeof d=="number"&&d>0){var h=parseInt(Date.now()/1e3);this.expires_at=h+d}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),o=i(46);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.accessTokenExpiringNotificationTime,h=d===void 0?60:d,m=c.accessTokenExpiringTimer,y=m===void 0?new o.Timer("Access token expiring"):m,v=c.accessTokenExpiredTimer,_=v===void 0?new o.Timer("Access token expired"):v;s(this,l),this._accessTokenExpiringNotificationTime=h,this._accessTokenExpiring=y,this._accessTokenExpired=_}return l.prototype.load=function(d){if(d.access_token&&d.expires_in!==void 0){var h=d.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",h),h>0){var m=h-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=h+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(d){this._accessTokenExpiring.addHandler(d)},l.prototype.removeAccessTokenExpiring=function(d){this._accessTokenExpiring.removeHandler(d)},l.prototype.addAccessTokenExpired=function(d){this._accessTokenExpired.addHandler(d)},l.prototype.removeAccessTokenExpired=function(d){this._accessTokenExpired.removeHandler(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(d){return d===l});c>=0&&this._callbacks.splice(c,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function d(h,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,y){return m&&d(h.prototype,m),y&&d(h,y),h}}(),o=i(0),s=i(19),l=i(1);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function d(h){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,d),!h)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=h,this._CheckSessionIFrameCtor=y,this._timer=v,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(_){_?m._start(_):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(x){var b={session_state:x.session_state};x.sub&&x.sid&&(b.profile={sub:x.sub,sid:x.sid}),m._start(b)}).catch(function(x){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",x.message)})}).catch(function(_){o.Log.error("SessionMonitor ctor: error from getUser:",_.message)}))}return d.prototype._start=function(m){var y=this,v=m.session_state;v&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",v,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",v,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(v):this._metadataService.getCheckSessionIframe().then(function(_){if(_){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var x=y._client_id,b=y._checkSessionInterval,S=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),x,_,b,S),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(v)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(_){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",_.message)}))},d.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(v){var _={session_state:v.session_state};v.sub&&v.sid&&(_.profile={sub:v.sub,sid:v.sid}),m._start(_)}).catch(function(v){o.Log.error("SessionMonitor: error from querySessionStatus:",v.message)})},1e3)},d.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var v=!0;y?y.sub===m._sub?(v=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),v&&(m._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(d,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(l,c,d,h){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=l,this._client_id=c,this._url=d,this._interval=h||2e3,this._stopOnError=m;var y=d.indexOf("/",d.indexOf("//")+2);this._frame_origin=d.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=d}return s.prototype.load=function(){var c=this;return new Promise(function(d){c._frame.onload=function(){d()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},s.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},s.prototype.start=function(c){var d=this;if(this._session_state!==c){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var h=function(){d._frame.contentWindow.postMessage(d._client_id+" "+d._session_state,d._frame_origin)};h(),this._timer=window.setInterval(h,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),o=i(2),s=i(1);function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var c="access_token",d="refresh_token";r.TokenRevocationClient=function(){function h(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,h),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new v(this._settings)}return h.prototype.revoke=function(y,v){var _=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(x!==c&&x!=d)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(b){if(b){a.Log.debug("TokenRevocationClient.revoke: Revoking "+x);var S=_._settings.client_id,A=_._settings.client_secret;return _._revoke(b,S,A,y,x)}if(v)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},h.prototype._revoke=function(y,v,_,x,b){var S=this;return new Promise(function(A,P){var O=new S._XMLHttpRequestCtor;O.open("POST",y),O.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",O.status),O.status===200?A():P(Error(O.statusText+" ("+O.status+")"))},O.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),P("Network Error")};var D="client_id="+encodeURIComponent(v);_&&(D+="&client_secret="+encodeURIComponent(_)),D+="&token_type_hint="+encodeURIComponent(b),D+="&token="+encodeURIComponent(x),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.send(D)})},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.CordovaPopupWindow=function(){function s(l){var c=this;(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(d){return c.hasOwnProperty(d)})},s.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var d=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(d)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},s.prototype._exitCallback=function(c){this._error(c)},s.prototype._success=function(c){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=i(10),s=i(5),l=i(6),c=i(37),d=i(38),h=i(16),m=i(2),y=i(48),v=i(49),_=i(19),x=i(20),b=i(18),S=i(1),A=i(15),P=i(50);r.default={Version:P.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:d.UserManager,AccessTokenEvents:h.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:v.CordovaIFrameNavigator,CheckSessionIFrame:_.CheckSessionIFrame,TokenRevocationClient:x.TokenRevocationClient,SessionMonitor:b.SessionMonitor,Global:S.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=i(0),s=i(2),l=i(25),c=i(11),d=i(12),h=i(4);function m(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function v(_){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(m(this,v),!_)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=_,this._metadataService=new x(this._settings),this._userInfoService=new b(this._settings),this._joseUtil=S,this._tokenClient=new A(this._settings)}return v.prototype.validateSigninResponse=function(x,b){var S=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(x,b).then(function(A){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),S._validateTokens(x,A).then(function(P){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),S._processClaims(x,P).then(function(O){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),O})})})},v.prototype.validateSignoutResponse=function(x,b){return x.id!==b.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),b.state=x.data,b.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",b.error),Promise.reject(new d.ErrorResponse(b))):Promise.resolve(b))},v.prototype._processSigninParams=function(x,b){if(x.id!==b.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!x.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!x.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==x.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=x.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==x.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=x.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),b.state=x.data,b.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",b.error),Promise.reject(new d.ErrorResponse(b))):x.nonce&&!b.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!x.nonce&&b.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):x.code_verifier&&!b.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!x.code_verifier&&b.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(b.scope||(b.scope=x.scope),Promise.resolve(b))},v.prototype._processClaims=function(x,b){var S=this;if(b.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),b.profile=this._filterProtocolClaims(b.profile),x.skipUserInfo!==!0&&this._settings.loadUserInfo&&b.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(b.access_token).then(function(A){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==b.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(b.profile=S._mergeClaims(b.profile,A),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",b.profile),b)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(b)},v.prototype._mergeClaims=function(x,b){var S=Object.assign({},x);for(var A in b){var P=b[A];Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var D=P[O];S[A]?Array.isArray(S[A])?S[A].indexOf(D)<0&&S[A].push(D):S[A]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?S[A]=this._mergeClaims(S[A],D):S[A]=[S[A],D]):S[A]=D}}return S},v.prototype._filterProtocolClaims=function(x){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",x);var b=Object.assign({},x);return this._settings._filterProtocolClaims?(y.forEach(function(S){delete b[S]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",b)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),b},v.prototype._validateTokens=function(x,b){return b.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(x,b)):b.id_token?b.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(x,b)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(x,b)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(b))},v.prototype._processCode=function(x,b){var S=this,A={client_id:x.client_id,client_secret:x.client_secret,code:b.code,redirect_uri:x.redirect_uri,code_verifier:x.code_verifier};return x.extraTokenParams&&a(x.extraTokenParams)==="object"&&Object.assign(A,x.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(P){for(var O in P)b[O]=P[O];return b.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),S._validateIdTokenAttributes(x,b)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),b)})},v.prototype._validateIdTokenAttributes=function(x,b){var S=this;return this._metadataService.getIssuer().then(function(A){var P=x.client_id,O=S._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",O),S._settings.getEpochTime().then(function(D){return S._joseUtil.validateJwtAttributes(b.id_token,A,P,O,D).then(function(F){return x.nonce&&x.nonce!==F.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(b.profile=F,b):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},v.prototype._validateIdTokenAndAccessToken=function(x,b){var S=this;return this._validateIdToken(x,b).then(function(A){return S._validateAccessToken(A)})},v.prototype._getSigningKeyForJwt=function(x){var b=this;return this._metadataService.getSigningKeys().then(function(S){var A=x.header.kid;if(!S)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var P=void 0;if(A)P=S.filter(function(O){return O.kid===A})[0];else{if((S=b._filterByAlg(S,x.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=S[0]}return Promise.resolve(P)})},v.prototype._getSigningKeyForJwtWithSingleRetry=function(x){var b=this;return this._getSigningKeyForJwt(x).then(function(S){return S?Promise.resolve(S):(b._metadataService.resetSigningKeys(),b._getSigningKeyForJwt(x))})},v.prototype._validateIdToken=function(x,b){var S=this;if(!x.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(b.id_token);return A&&A.header&&A.payload?x.nonce!==A.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(P){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),S._getSigningKeyForJwtWithSingleRetry(A).then(function(O){if(!O)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=x.client_id,F=S._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),S._joseUtil.validateJwt(b.id_token,O,P,D,F).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(b.profile=A.payload,b):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},v.prototype._filterByAlg=function(x,b){var S=null;if(b.startsWith("RS"))S="RSA";else if(b.startsWith("PS"))S="PS";else{if(!b.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",b),[];S="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",S),x=x.filter(function(A){return A.kty===S}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",S,x.length),x},v.prototype._validateAccessToken=function(x){if(!x.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!x.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!x.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var b=this._joseUtil.parseJwt(x.id_token);if(!b||!b.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",b),Promise.reject(new Error("Failed to parse id_token"));var S=b.header.alg;if(!S||S.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",S),Promise.reject(new Error("Unsupported alg: "+S));var A=S.substr(2,3);if(!A)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",S,A),Promise.reject(new Error("Unsupported alg: "+S));if((A=parseInt(A))!==256&&A!==384&&A!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",S,A),Promise.reject(new Error("Unsupported alg: "+S));var P="sha"+A,O=this._joseUtil.hashString(x.access_token,P);if(!O)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",P),Promise.reject(new Error("Failed to validate at_hash"));var D=O.substr(0,O.length/2),F=this._joseUtil.hexToBase64Url(D);return F!==x.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,x.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(x))},v}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),o=i(2),s=i(0),l=i(4);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function d(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,d),!h)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=v}return d.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(v){return s.Log.debug("UserInfoService.getClaims: received userinfo url",v),y._jsonService.getJson(v,m).then(function(_){return s.Log.debug("UserInfoService.getClaims: claims received",_),_})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},d.prototype._getClaimsFromJwt=function(m){var y=this;try{var v=this._joseUtil.parseJwt(m.responseText);if(!v||!v.header||!v.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",v),Promise.reject(new Error("Failed to parse id_token"));var _=v.header.kid,x=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":x=this._metadataService.getIssuer();break;case"ANY":x=Promise.resolve(v.payload.iss);break;default:x=Promise.resolve(this._settings.userInfoJwtIssuer)}return x.then(function(b){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+b),y._metadataService.getSigningKeys().then(function(S){if(!S)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(_)A=S.filter(function(D){return D.kid===_})[0];else{if((S=y._filterByAlg(S,v.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=S[0]}if(!A)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var P=y._settings.client_id,O=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",O),y._joseUtil.validateJwt(m.responseText,A,b,P,O,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),v.payload})})})}catch(b){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",b.message),void reject(b)}},d.prototype._filterByAlg=function(m,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];v="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",v),m=m.filter(function(_){return _.kty===v}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",v,m.length),m},d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,l,c,d,h,m,y,v,_,x,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},S={userAgent:!1},A={},P=P||(o=Math,l=(s={}).lib={},c=l.Base=function(){function T(){}return{extend:function(R){T.prototype=this;var N=new T;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=l.WordArray=c.extend({init:function(C,R){C=this.words=C||[],this.sigBytes=R??4*C.length},toString:function(C){return(C||m).stringify(this)},concat:function(C){var R=this.words,N=C.words,J=this.sigBytes,le=C.sigBytes;if(this.clamp(),J%4)for(var we=0;we<le;we++){var Ie=N[we>>>2]>>>24-we%4*8&255;R[J+we>>>2]|=Ie<<24-(J+we)%4*8}else for(we=0;we<le;we+=4)R[J+we>>>2]=N[we>>>2];return this.sigBytes+=le,this},clamp:function(){var C=this.words,R=this.sigBytes;C[R>>>2]&=4294967295<<32-R%4*8,C.length=o.ceil(R/4)},clone:function(){var C=c.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var R=[],N=0;N<C;N+=4)R.push(4294967296*o.random()|0);return new d.init(R,C)}}),h=s.enc={},m=h.Hex={stringify:function(C){for(var R=C.words,N=C.sigBytes,J=[],le=0;le<N;le++){var we=R[le>>>2]>>>24-le%4*8&255;J.push((we>>>4).toString(16)),J.push((15&we).toString(16))}return J.join("")},parse:function(C){for(var R=C.length,N=[],J=0;J<R;J+=2)N[J>>>3]|=parseInt(C.substr(J,2),16)<<24-J%8*4;return new d.init(N,R/2)}},y=h.Latin1={stringify:function(C){for(var R=C.words,N=C.sigBytes,J=[],le=0;le<N;le++){var we=R[le>>>2]>>>24-le%4*8&255;J.push(String.fromCharCode(we))}return J.join("")},parse:function(C){for(var R=C.length,N=[],J=0;J<R;J++)N[J>>>2]|=(255&C.charCodeAt(J))<<24-J%4*8;return new d.init(N,R)}},v=h.Utf8={stringify:function(C){try{return decodeURIComponent(escape(y.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return y.parse(unescape(encodeURIComponent(C)))}},_=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=v.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var R=this._data,N=R.words,J=R.sigBytes,le=this.blockSize,we=J/(4*le),Ie=(we=C?o.ceil(we):o.max((0|we)-this._minBufferSize,0))*le,xe=o.min(4*Ie,J);if(Ie){for(var Oe=0;Oe<Ie;Oe+=le)this._doProcessBlock(N,Oe);var Me=N.splice(0,Ie);R.sigBytes-=xe}return new d.init(Me,xe)},clone:function(){var C=c.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),l.Hasher=_.extend({cfg:c.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(R,N){return new C.init(N).finalize(R)}},_createHmacHelper:function(C){return function(R,N){return new x.HMAC.init(C,N).finalize(R)}}}),x=s.algo={},s);(function(T){var C,R=(C=P).lib,N=R.Base,J=R.WordArray;(C=C.x64={}).Word=N.extend({init:function(we,Ie){this.high=we,this.low=Ie}}),C.WordArray=N.extend({init:function(we,Ie){we=this.words=we||[],this.sigBytes=Ie??8*we.length},toX32:function(){for(var we=this.words,Ie=we.length,xe=[],Oe=0;Oe<Ie;Oe++){var Me=we[Oe];xe.push(Me.high),xe.push(Me.low)}return J.create(xe,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Ie=we.words=this.words.slice(0),xe=Ie.length,Oe=0;Oe<xe;Oe++)Ie[Oe]=Ie[Oe].clone();return we}})})(),function(){var T=P,C=T.lib.WordArray;T.enc.Base64={stringify:function(N){var J=N.words,le=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Ie=0;Ie<le;Ie+=3)for(var xe=(J[Ie>>>2]>>>24-Ie%4*8&255)<<16|(J[Ie+1>>>2]>>>24-(Ie+1)%4*8&255)<<8|J[Ie+2>>>2]>>>24-(Ie+2)%4*8&255,Oe=0;4>Oe&&Ie+.75*Oe<le;Oe++)N.push(we.charAt(xe>>>6*(3-Oe)&63));if(J=we.charAt(64))for(;N.length%4;)N.push(J);return N.join("")},parse:function(N){var J=N.length,le=this._map;(we=le.charAt(64))&&(we=N.indexOf(we))!=-1&&(J=we);for(var we=[],Ie=0,xe=0;xe<J;xe++)if(xe%4){var Oe=le.indexOf(N.charAt(xe-1))<<xe%4*2,Me=le.indexOf(N.charAt(xe))>>>6-xe%4*2;we[Ie>>>2]|=(Oe|Me)<<24-Ie%4*8,Ie++}return C.create(we,Ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(T){for(var C=P,R=(J=C.lib).WordArray,N=J.Hasher,J=C.algo,le=[],we=[],Ie=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Oe=0;64>Oe;){var Me;e:{Me=xe;for(var $e=T.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Oe&&(le[Oe]=Ie(T.pow(xe,.5))),we[Oe]=Ie(T.pow(xe,1/3)),Oe++),xe++}var Xe=[];J=J.SHA256=N.extend({_doReset:function(){this._hash=new R.init(le.slice(0))},_doProcessBlock:function(dt,ut){for(var be=this._hash.words,De=be[0],Ue=be[1],Ke=be[2],lt=be[3],mt=be[4],$t=be[5],Tt=be[6],gn=be[7],Ft=0;64>Ft;Ft++){if(16>Ft)Xe[Ft]=0|dt[ut+Ft];else{var Vt=Xe[Ft-15],zn=Xe[Ft-2];Xe[Ft]=((Vt<<25|Vt>>>7)^(Vt<<14|Vt>>>18)^Vt>>>3)+Xe[Ft-7]+((zn<<15|zn>>>17)^(zn<<13|zn>>>19)^zn>>>10)+Xe[Ft-16]}Vt=gn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&$t^~mt&Tt)+we[Ft]+Xe[Ft],zn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ke^Ue&Ke),gn=Tt,Tt=$t,$t=mt,mt=lt+Vt|0,lt=Ke,Ke=Ue,Ue=De,De=Vt+zn|0}be[0]=be[0]+De|0,be[1]=be[1]+Ue|0,be[2]=be[2]+Ke|0,be[3]=be[3]+lt|0,be[4]=be[4]+mt|0,be[5]=be[5]+$t|0,be[6]=be[6]+Tt|0,be[7]=be[7]+gn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,be=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=T.floor(be/4294967296),ut[15+(De+64>>>9<<4)]=be,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),C.SHA256=N._createHelper(J),C.HmacSHA256=N._createHmacHelper(J)}(Math),function(){function T(){return N.create.apply(N,arguments)}for(var C=P,R=C.lib.Hasher,N=(le=C.x64).Word,J=le.WordArray,le=C.algo,we=[T(1116352408,3609767458),T(1899447441,602891725),T(3049323471,3964484399),T(3921009573,2173295548),T(961987163,4081628472),T(1508970993,3053834265),T(2453635748,2937671579),T(2870763221,3664609560),T(3624381080,2734883394),T(310598401,1164996542),T(607225278,1323610764),T(1426881987,3590304994),T(1925078388,4068182383),T(2162078206,991336113),T(2614888103,633803317),T(3248222580,3479774868),T(3835390401,2666613458),T(4022224774,944711139),T(264347078,2341262773),T(604807628,2007800933),T(770255983,1495990901),T(1249150122,1856431235),T(1555081692,3175218132),T(1996064986,2198950837),T(2554220882,3999719339),T(2821834349,766784016),T(2952996808,2566594879),T(3210313671,3203337956),T(3336571891,1034457026),T(3584528711,2466948901),T(113926993,3758326383),T(338241895,168717936),T(666307205,1188179964),T(773529912,1546045734),T(1294757372,1522805485),T(1396182291,2643833823),T(1695183700,2343527390),T(1986661051,1014477480),T(2177026350,1206759142),T(2456956037,344077627),T(2730485921,1290863460),T(2820302411,3158454273),T(3259730800,3505952657),T(3345764771,106217008),T(3516065817,3606008344),T(3600352804,1432725776),T(4094571909,1467031594),T(275423344,851169720),T(430227734,3100823752),T(506948616,1363258195),T(659060556,3750685593),T(883997877,3785050280),T(958139571,3318307427),T(1322822218,3812723403),T(1537002063,2003034995),T(1747873779,3602036899),T(1955562222,1575990012),T(2024104815,1125592928),T(2227730452,2716904306),T(2361852424,442776044),T(2428436474,593698344),T(2756734187,3733110249),T(3204031479,2999351573),T(3329325298,3815920427),T(3391569614,3928383900),T(3515267271,566280711),T(3940187606,3454069534),T(4118630271,4000239992),T(116418474,1914138554),T(174292421,2731055270),T(289380356,3203993006),T(460393269,320620315),T(685471733,587496836),T(852142971,1086792851),T(1017036298,365543100),T(1126000580,2618297676),T(1288033470,3409855158),T(1501505948,4234509866),T(1607167915,987167468),T(1816402316,1246189591)],Ie=[],xe=0;80>xe;xe++)Ie[xe]=T();le=le.SHA512=R.extend({_doReset:function(){this._hash=new J.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Ue=this._hash.words)[0],Xe=Ue[1],ot=Ue[2],dt=Ue[3],ut=Ue[4],be=Ue[5],De=Ue[6],Ue=Ue[7],Ke=ze.high,lt=ze.low,mt=Xe.high,$t=Xe.low,Tt=ot.high,gn=ot.low,Ft=dt.high,Vt=dt.low,zn=ut.high,Nn=ut.low,Un=be.high,Qt=be.low,Gn=De.high,pn=De.low,Yn=Ue.high,mr=Ue.low,yr=Ke,lr=lt,xi=mt,Qi=$t,ya=Tt,rr=gn,Ui=Ft,Eo=Vt,ir=zn,Nr=Nn,to=Un,Zi=Qt,Bu=Gn,no=pn,vn=Yn,La=mr,cr=0;80>cr;cr++){var Bi=Ie[cr];if(16>cr)var va=Bi.high=0|Me[$e+2*cr],fr=Bi.low=0|Me[$e+2*cr+1];else{va=((fr=(va=Ie[cr-15]).high)>>>1|(Ji=va.low)<<31)^(fr>>>8|Ji<<24)^fr>>>7;var Ji=(Ji>>>1|fr<<31)^(Ji>>>8|fr<<24)^(Ji>>>7|fr<<25),ro=((fr=(ro=Ie[cr-2]).high)>>>19|(Rr=ro.low)<<13)^(fr<<3|Rr>>>29)^fr>>>6,Rr=(Rr>>>19|fr<<13)^(Rr<<3|fr>>>29)^(Rr>>>6|fr<<26),ac=(fr=Ie[cr-7]).high,Co=(Ia=Ie[cr-16]).high,Ia=Ia.low;va=(va=(va=va+ac+((fr=Ji+fr.low)>>>0<Ji>>>0?1:0))+ro+((fr=fr+Rr)>>>0<Rr>>>0?1:0))+Co+((fr=fr+Ia)>>>0<Ia>>>0?1:0),Bi.high=va,Bi.low=fr}ac=ir&to^~ir&Bu,Ia=Nr&Zi^~Nr&no,Bi=yr&xi^yr&ya^xi&ya;var Xh=lr&Qi^lr&rr^Qi&rr,Yi=(Ji=(yr>>>28|lr<<4)^(yr<<30|lr>>>2)^(yr<<25|lr>>>7),ro=(lr>>>28|yr<<4)^(lr<<30|yr>>>2)^(lr<<25|yr>>>7),(Rr=we[cr]).high),Ff=Rr.low;Co=vn+((ir>>>14|Nr<<18)^(ir>>>18|Nr<<14)^(ir<<23|Nr>>>9))+((Rr=La+((Nr>>>14|ir<<18)^(Nr>>>18|ir<<14)^(Nr<<23|ir>>>9)))>>>0<La>>>0?1:0),vn=Bu,La=no,Bu=to,no=Zi,to=ir,Zi=Nr,ir=Ui+(Co=(Co=(Co=Co+ac+((Rr=Rr+Ia)>>>0<Ia>>>0?1:0))+Yi+((Rr=Rr+Ff)>>>0<Ff>>>0?1:0))+va+((Rr=Rr+fr)>>>0<fr>>>0?1:0))+((Nr=Eo+Rr|0)>>>0<Eo>>>0?1:0)|0,Ui=ya,Eo=rr,ya=xi,rr=Qi,xi=yr,Qi=lr,yr=Co+(Bi=Ji+Bi+((fr=ro+Xh)>>>0<ro>>>0?1:0))+((lr=Rr+fr|0)>>>0<Rr>>>0?1:0)|0}lt=ze.low=lt+lr,ze.high=Ke+yr+(lt>>>0<lr>>>0?1:0),$t=Xe.low=$t+Qi,Xe.high=mt+xi+($t>>>0<Qi>>>0?1:0),gn=ot.low=gn+rr,ot.high=Tt+ya+(gn>>>0<rr>>>0?1:0),Vt=dt.low=Vt+Eo,dt.high=Ft+Ui+(Vt>>>0<Eo>>>0?1:0),Nn=ut.low=Nn+Nr,ut.high=zn+ir+(Nn>>>0<Nr>>>0?1:0),Qt=be.low=Qt+Zi,be.high=Un+to+(Qt>>>0<Zi>>>0?1:0),pn=De.low=pn+no,De.high=Gn+Bu+(pn>>>0<no>>>0?1:0),mr=Ue.low=mr+La,Ue.high=Yn+vn+(mr>>>0<La>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Xe=8*Me.sigBytes;return $e[Xe>>>5]|=128<<24-Xe%32,$e[30+(Xe+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Xe+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=R.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),C.SHA512=R._createHelper(le),C.HmacSHA512=R._createHmacHelper(le)}(),function(){var T=P,C=(J=T.x64).Word,R=J.WordArray,N=(J=T.algo).SHA512,J=J.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});T.SHA384=N._createHelper(J),T.HmacSHA384=N._createHmacHelper(J)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var O,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(T){var C,R,N="";for(C=0;C+3<=T.length;C+=3)R=parseInt(T.substring(C,C+3),16),N+=D.charAt(R>>6)+D.charAt(63&R);for(C+1==T.length?(R=parseInt(T.substring(C,C+1),16),N+=D.charAt(R<<2)):C+2==T.length&&(R=parseInt(T.substring(C,C+2),16),N+=D.charAt(R>>2)+D.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(T){var C,R,N,J="",le=0;for(C=0;C<T.length&&T.charAt(C)!="=";++C)(N=D.indexOf(T.charAt(C)))<0||(le==0?(J+=pe(N>>2),R=3&N,le=1):le==1?(J+=pe(R<<2|N>>4),R=15&N,le=2):le==2?(J+=pe(R),J+=pe(N>>2),R=3&N,le=3):(J+=pe(R<<2|N>>4),J+=pe(15&N),le=0));return le==1&&(J+=pe(R<<2)),J}function X(T){var C,R=Q(T),N=new Array;for(C=0;2*C<R.length;++C)N[C]=parseInt(R.substring(2*C,2*C+2),16);return N}function U(T,C,R){T!=null&&(typeof T=="number"?this.fromNumber(T,C,R):C==null&&typeof T!="string"?this.fromString(T,256):this.fromString(T,C))}function Y(){return new U(null)}S.appName=="Microsoft Internet Explorer"?(U.prototype.am=function(C,R,N,J,le,we){for(var Ie=32767&R,xe=R>>15;--we>=0;){var Oe=32767&this[C],Me=this[C++]>>15,$e=xe*Oe+Me*Ie;le=((Oe=Ie*Oe+((32767&$e)<<15)+N[J]+(1073741823&le))>>>30)+($e>>>15)+xe*Me+(le>>>30),N[J++]=1073741823&Oe}return le},O=30):S.appName!="Netscape"?(U.prototype.am=function(C,R,N,J,le,we){for(;--we>=0;){var Ie=R*this[C++]+N[J]+le;le=Math.floor(Ie/67108864),N[J++]=67108863&Ie}return le},O=26):(U.prototype.am=function(C,R,N,J,le,we){for(var Ie=16383&R,xe=R>>14;--we>=0;){var Oe=16383&this[C],Me=this[C++]>>14,$e=xe*Oe+Me*Ie;le=((Oe=Ie*Oe+((16383&$e)<<14)+N[J]+le)>>28)+($e>>14)+xe*Me,N[J++]=268435455&Oe}return le},O=28),U.prototype.DB=O,U.prototype.DM=(1<<O)-1,U.prototype.DV=1<<O,U.prototype.FV=Math.pow(2,52),U.prototype.F1=52-O,U.prototype.F2=2*O-52;var ce,te,se=new Array;for(ce=48,te=0;te<=9;++te)se[ce++]=te;for(ce=97,te=10;te<36;++te)se[ce++]=te;for(ce=65,te=10;te<36;++te)se[ce++]=te;function pe(T){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(T)}function _e(T,C){var R=se[T.charCodeAt(C)];return R??-1}function de(T){var C=Y();return C.fromInt(T),C}function ue(T){var C,R=1;return(C=T>>>16)!=0&&(T=C,R+=16),(C=T>>8)!=0&&(T=C,R+=8),(C=T>>4)!=0&&(T=C,R+=4),(C=T>>2)!=0&&(T=C,R+=2),(C=T>>1)!=0&&(T=C,R+=1),R}function Re(T){this.m=T}function k(T){this.m=T,this.mp=T.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<T.DB-15)-1,this.mt2=2*T.t}function ie(T,C){return T&C}function me(T,C){return T|C}function K(T,C){return T^C}function ee(T,C){return T&~C}function ge(T){if(T==0)return-1;var C=0;return!(65535&T)&&(T>>=16,C+=16),!(255&T)&&(T>>=8,C+=8),!(15&T)&&(T>>=4,C+=4),!(3&T)&&(T>>=2,C+=2),!(1&T)&&++C,C}function Ae(T){for(var C=0;T!=0;)T&=T-1,++C;return C}function Ze(){}function Pe(T){return T}function Ne(T){this.r2=Y(),this.q3=Y(),U.ONE.dlShiftTo(2*T.t,this.r2),this.mu=this.r2.divide(T),this.m=T}Re.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},Re.prototype.revert=function(C){return C},Re.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},Re.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N),this.reduce(N)},Re.prototype.sqrTo=function(C,R){C.squareTo(R),this.reduce(R)},k.prototype.convert=function(C){var R=Y();return C.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),C.s<0&&R.compareTo(U.ZERO)>0&&this.m.subTo(R,R),R},k.prototype.revert=function(C){var R=Y();return C.copyTo(R),this.reduce(R),R},k.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&C[R],J=N*this.mpl+((N*this.mph+(C[R]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[N=R+this.m.t]+=this.m.am(0,J,C,R,0,this.m.t);C[N]>=C.DV;)C[N]-=C.DV,C[++N]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},k.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N),this.reduce(N)},k.prototype.sqrTo=function(C,R){C.squareTo(R),this.reduce(R)},U.prototype.copyTo=function(C){for(var R=this.t-1;R>=0;--R)C[R]=this[R];C.t=this.t,C.s=this.s},U.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},U.prototype.fromString=function(C,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(C,R);N=2}this.t=0,this.s=0;for(var J=C.length,le=!1,we=0;--J>=0;){var Ie=N==8?255&C[J]:_e(C,J);Ie<0?C.charAt(J)=="-"&&(le=!0):(le=!1,we==0?this[this.t++]=Ie:we+N>this.DB?(this[this.t-1]|=(Ie&(1<<this.DB-we)-1)<<we,this[this.t++]=Ie>>this.DB-we):this[this.t-1]|=Ie<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&C[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),le&&U.ZERO.subTo(this,this)},U.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},U.prototype.dlShiftTo=function(C,R){var N;for(N=this.t-1;N>=0;--N)R[N+C]=this[N];for(N=C-1;N>=0;--N)R[N]=0;R.t=this.t+C,R.s=this.s},U.prototype.drShiftTo=function(C,R){for(var N=C;N<this.t;++N)R[N-C]=this[N];R.t=Math.max(this.t-C,0),R.s=this.s},U.prototype.lShiftTo=function(C,R){var N,J=C%this.DB,le=this.DB-J,we=(1<<le)-1,Ie=Math.floor(C/this.DB),xe=this.s<<J&this.DM;for(N=this.t-1;N>=0;--N)R[N+Ie+1]=this[N]>>le|xe,xe=(this[N]&we)<<J;for(N=Ie-1;N>=0;--N)R[N]=0;R[Ie]=xe,R.t=this.t+Ie+1,R.s=this.s,R.clamp()},U.prototype.rShiftTo=function(C,R){R.s=this.s;var N=Math.floor(C/this.DB);if(N>=this.t)R.t=0;else{var J=C%this.DB,le=this.DB-J,we=(1<<J)-1;R[0]=this[N]>>J;for(var Ie=N+1;Ie<this.t;++Ie)R[Ie-N-1]|=(this[Ie]&we)<<le,R[Ie-N]=this[Ie]>>J;J>0&&(R[this.t-N-1]|=(this.s&we)<<le),R.t=this.t-N,R.clamp()}},U.prototype.subTo=function(C,R){for(var N=0,J=0,le=Math.min(C.t,this.t);N<le;)J+=this[N]-C[N],R[N++]=J&this.DM,J>>=this.DB;if(C.t<this.t){for(J-=C.s;N<this.t;)J+=this[N],R[N++]=J&this.DM,J>>=this.DB;J+=this.s}else{for(J+=this.s;N<C.t;)J-=C[N],R[N++]=J&this.DM,J>>=this.DB;J-=C.s}R.s=J<0?-1:0,J<-1?R[N++]=this.DV+J:J>0&&(R[N++]=J),R.t=N,R.clamp()},U.prototype.multiplyTo=function(C,R){var N=this.abs(),J=C.abs(),le=N.t;for(R.t=le+J.t;--le>=0;)R[le]=0;for(le=0;le<J.t;++le)R[le+N.t]=N.am(0,J[le],R,le,0,N.t);R.s=0,R.clamp(),this.s!=C.s&&U.ZERO.subTo(R,R)},U.prototype.squareTo=function(C){for(var R=this.abs(),N=C.t=2*R.t;--N>=0;)C[N]=0;for(N=0;N<R.t-1;++N){var J=R.am(N,R[N],C,2*N,0,1);(C[N+R.t]+=R.am(N+1,2*R[N],C,2*N+1,J,R.t-N-1))>=R.DV&&(C[N+R.t]-=R.DV,C[N+R.t+1]=1)}C.t>0&&(C[C.t-1]+=R.am(N,R[N],C,2*N,0,1)),C.s=0,C.clamp()},U.prototype.divRemTo=function(C,R,N){var J=C.abs();if(!(J.t<=0)){var le=this.abs();if(le.t<J.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=Y());var we=Y(),Ie=this.s,xe=C.s,Oe=this.DB-ue(J[J.t-1]);Oe>0?(J.lShiftTo(Oe,we),le.lShiftTo(Oe,N)):(J.copyTo(we),le.copyTo(N));var Me=we.t,$e=we[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?we[Me-2]>>this.F2:0),Xe=this.FV/ze,ot=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,be=ut-Me,De=R??Y();for(we.dlShiftTo(be,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),U.ONE.dlShiftTo(Me,De),De.subTo(we,we);we.t<Me;)we[we.t++]=0;for(;--be>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Xe+(N[ut-1]+dt)*ot);if((N[ut]+=we.am(0,Ue,N,be,0,Me))<Ue)for(we.dlShiftTo(be,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(Me,R),Ie!=xe&&U.ZERO.subTo(R,R)),N.t=Me,N.clamp(),Oe>0&&N.rShiftTo(Oe,N),Ie<0&&U.ZERO.subTo(N,N)}}},U.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var R=3&C;return(R=(R=(R=(R=R*(2-(15&C)*R)&15)*(2-(255&C)*R)&255)*(2-((65535&C)*R&65535))&65535)*(2-C*R%this.DV)%this.DV)>0?this.DV-R:-R},U.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},U.prototype.exp=function(C,R){if(C>4294967295||C<1)return U.ONE;var N=Y(),J=Y(),le=R.convert(this),we=ue(C)-1;for(le.copyTo(N);--we>=0;)if(R.sqrTo(N,J),(C&1<<we)>0)R.mulTo(J,le,N);else{var Ie=N;N=J,J=Ie}return R.revert(N)},U.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var R;if(C==16)R=4;else if(C==8)R=3;else if(C==2)R=1;else if(C==32)R=5;else{if(C!=4)return this.toRadix(C);R=2}var N,J=(1<<R)-1,le=!1,we="",Ie=this.t,xe=this.DB-Ie*this.DB%R;if(Ie-- >0)for(xe<this.DB&&(N=this[Ie]>>xe)>0&&(le=!0,we=pe(N));Ie>=0;)xe<R?(N=(this[Ie]&(1<<xe)-1)<<R-xe,N|=this[--Ie]>>(xe+=this.DB-R)):(N=this[Ie]>>(xe-=R)&J,xe<=0&&(xe+=this.DB,--Ie)),N>0&&(le=!0),le&&(we+=pe(N));return le?we:"0"},U.prototype.negate=function(){var C=Y();return U.ZERO.subTo(this,C),C},U.prototype.abs=function(){return this.s<0?this.negate():this},U.prototype.compareTo=function(C){var R=this.s-C.s;if(R!=0)return R;var N=this.t;if((R=N-C.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-C[N])!=0)return R;return 0},U.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ue(this[this.t-1]^this.s&this.DM)},U.prototype.mod=function(C){var R=Y();return this.abs().divRemTo(C,null,R),this.s<0&&R.compareTo(U.ZERO)>0&&C.subTo(R,R),R},U.prototype.modPowInt=function(C,R){var N;return N=C<256||R.isEven()?new Re(R):new k(R),this.exp(C,N)},U.ZERO=de(0),U.ONE=de(1),Ze.prototype.convert=Pe,Ze.prototype.revert=Pe,Ze.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N)},Ze.prototype.sqrTo=function(C,R){C.squareTo(R)},Ne.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var R=Y();return C.copyTo(R),this.reduce(R),R},Ne.prototype.revert=function(C){return C},Ne.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},Ne.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N),this.reduce(N)},Ne.prototype.sqrTo=function(C,R){C.squareTo(R),this.reduce(R)};var Ye=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],oe=(1<<26)/Ye[Ye.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){this.i=0,this.j=0,this.S=new Array}U.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},U.prototype.toRadix=function(C){if(C==null&&(C=10),this.signum()==0||C<2||C>36)return"0";var R=this.chunkSize(C),N=Math.pow(C,R),J=de(N),le=Y(),we=Y(),Ie="";for(this.divRemTo(J,le,we);le.signum()>0;)Ie=(N+we.intValue()).toString(C).substr(1)+Ie,le.divRemTo(J,le,we);return we.intValue().toString(C)+Ie},U.prototype.fromRadix=function(C,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),J=Math.pow(R,N),le=!1,we=0,Ie=0,xe=0;xe<C.length;++xe){var Oe=_e(C,xe);Oe<0?C.charAt(xe)=="-"&&this.signum()==0&&(le=!0):(Ie=R*Ie+Oe,++we>=N&&(this.dMultiply(J),this.dAddOffset(Ie,0),we=0,Ie=0))}we>0&&(this.dMultiply(Math.pow(R,we)),this.dAddOffset(Ie,0)),le&&U.ZERO.subTo(this,this)},U.prototype.fromNumber=function(C,R,N){if(typeof R=="number")if(C<2)this.fromInt(1);else for(this.fromNumber(C,N),this.testBit(C-1)||this.bitwiseTo(U.ONE.shiftLeft(C-1),me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(U.ONE.shiftLeft(C-1),this);else{var J=new Array,le=7&C;J.length=1+(C>>3),R.nextBytes(J),le>0?J[0]&=(1<<le)-1:J[0]=0,this.fromString(J,256)}},U.prototype.bitwiseTo=function(C,R,N){var J,le,we=Math.min(C.t,this.t);for(J=0;J<we;++J)N[J]=R(this[J],C[J]);if(C.t<this.t){for(le=C.s&this.DM,J=we;J<this.t;++J)N[J]=R(this[J],le);N.t=this.t}else{for(le=this.s&this.DM,J=we;J<C.t;++J)N[J]=R(le,C[J]);N.t=C.t}N.s=R(this.s,C.s),N.clamp()},U.prototype.changeBit=function(C,R){var N=U.ONE.shiftLeft(C);return this.bitwiseTo(N,R,N),N},U.prototype.addTo=function(C,R){for(var N=0,J=0,le=Math.min(C.t,this.t);N<le;)J+=this[N]+C[N],R[N++]=J&this.DM,J>>=this.DB;if(C.t<this.t){for(J+=C.s;N<this.t;)J+=this[N],R[N++]=J&this.DM,J>>=this.DB;J+=this.s}else{for(J+=this.s;N<C.t;)J+=C[N],R[N++]=J&this.DM,J>>=this.DB;J+=C.s}R.s=J<0?-1:0,J>0?R[N++]=J:J<-1&&(R[N++]=this.DV+J),R.t=N,R.clamp()},U.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},U.prototype.dAddOffset=function(C,R){if(C!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=C;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},U.prototype.multiplyLowerTo=function(C,R,N){var J,le=Math.min(this.t+C.t,R);for(N.s=0,N.t=le;le>0;)N[--le]=0;for(J=N.t-this.t;le<J;++le)N[le+this.t]=this.am(0,C[le],N,le,0,this.t);for(J=Math.min(C.t,R);le<J;++le)this.am(0,C[le],N,le,0,R-le);N.clamp()},U.prototype.multiplyUpperTo=function(C,R,N){--R;var J=N.t=this.t+C.t-R;for(N.s=0;--J>=0;)N[J]=0;for(J=Math.max(R-this.t,0);J<C.t;++J)N[this.t+J-R]=this.am(R-J,C[J],N,0,0,this.t+J-R);N.clamp(),N.drShiftTo(1,N)},U.prototype.modInt=function(C){if(C<=0)return 0;var R=this.DV%C,N=this.s<0?C-1:0;if(this.t>0)if(R==0)N=this[0]%C;else for(var J=this.t-1;J>=0;--J)N=(R*N+this[J])%C;return N},U.prototype.millerRabin=function(C){var R=this.subtract(U.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var J=R.shiftRight(N);(C=C+1>>1)>Ye.length&&(C=Ye.length);for(var le=Y(),we=0;we<C;++we){le.fromInt(Ye[Math.floor(Math.random()*Ye.length)]);var Ie=le.modPow(J,this);if(Ie.compareTo(U.ONE)!=0&&Ie.compareTo(R)!=0){for(var xe=1;xe++<N&&Ie.compareTo(R)!=0;)if((Ie=Ie.modPowInt(2,this)).compareTo(U.ONE)==0)return!1;if(Ie.compareTo(R)!=0)return!1}}return!0},U.prototype.clone=function(){var C=Y();return this.copyTo(C),C},U.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},U.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},U.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},U.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},U.prototype.toByteArray=function(){var C=this.t,R=new Array;R[0]=this.s;var N,J=this.DB-C*this.DB%8,le=0;if(C-- >0)for(J<this.DB&&(N=this[C]>>J)!=(this.s&this.DM)>>J&&(R[le++]=N|this.s<<this.DB-J);C>=0;)J<8?(N=(this[C]&(1<<J)-1)<<8-J,N|=this[--C]>>(J+=this.DB-8)):(N=this[C]>>(J-=8)&255,J<=0&&(J+=this.DB,--C)),128&N&&(N|=-256),le==0&&(128&this.s)!=(128&N)&&++le,(le>0||N!=this.s)&&(R[le++]=N);return R},U.prototype.equals=function(C){return this.compareTo(C)==0},U.prototype.min=function(C){return this.compareTo(C)<0?this:C},U.prototype.max=function(C){return this.compareTo(C)>0?this:C},U.prototype.and=function(C){var R=Y();return this.bitwiseTo(C,ie,R),R},U.prototype.or=function(C){var R=Y();return this.bitwiseTo(C,me,R),R},U.prototype.xor=function(C){var R=Y();return this.bitwiseTo(C,K,R),R},U.prototype.andNot=function(C){var R=Y();return this.bitwiseTo(C,ee,R),R},U.prototype.not=function(){for(var C=Y(),R=0;R<this.t;++R)C[R]=this.DM&~this[R];return C.t=this.t,C.s=~this.s,C},U.prototype.shiftLeft=function(C){var R=Y();return C<0?this.rShiftTo(-C,R):this.lShiftTo(C,R),R},U.prototype.shiftRight=function(C){var R=Y();return C<0?this.lShiftTo(-C,R):this.rShiftTo(C,R),R},U.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(this[C]!=0)return C*this.DB+ge(this[C]);return this.s<0?this.t*this.DB:-1},U.prototype.bitCount=function(){for(var C=0,R=this.s&this.DM,N=0;N<this.t;++N)C+=Ae(this[N]^R);return C},U.prototype.testBit=function(C){var R=Math.floor(C/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<C%this.DB)!=0},U.prototype.setBit=function(C){return this.changeBit(C,me)},U.prototype.clearBit=function(C){return this.changeBit(C,ee)},U.prototype.flipBit=function(C){return this.changeBit(C,K)},U.prototype.add=function(C){var R=Y();return this.addTo(C,R),R},U.prototype.subtract=function(C){var R=Y();return this.subTo(C,R),R},U.prototype.multiply=function(C){var R=Y();return this.multiplyTo(C,R),R},U.prototype.divide=function(C){var R=Y();return this.divRemTo(C,R,null),R},U.prototype.remainder=function(C){var R=Y();return this.divRemTo(C,null,R),R},U.prototype.divideAndRemainder=function(C){var R=Y(),N=Y();return this.divRemTo(C,R,N),new Array(R,N)},U.prototype.modPow=function(C,R){var N,J,le=C.bitLength(),we=de(1);if(le<=0)return we;N=le<18?1:le<48?3:le<144?4:le<768?5:6,J=le<8?new Re(R):R.isEven()?new Ne(R):new k(R);var Ie=new Array,xe=3,Oe=N-1,Me=(1<<N)-1;if(Ie[1]=J.convert(this),N>1){var $e=Y();for(J.sqrTo(Ie[1],$e);xe<=Me;)Ie[xe]=Y(),J.mulTo($e,Ie[xe-2],Ie[xe]),xe+=2}var ze,Xe,ot=C.t-1,dt=!0,ut=Y();for(le=ue(C[ot])-1;ot>=0;){for(le>=Oe?ze=C[ot]>>le-Oe&Me:(ze=(C[ot]&(1<<le+1)-1)<<Oe-le,ot>0&&(ze|=C[ot-1]>>this.DB+le-Oe)),xe=N;!(1&ze);)ze>>=1,--xe;if((le-=xe)<0&&(le+=this.DB,--ot),dt)Ie[ze].copyTo(we),dt=!1;else{for(;xe>1;)J.sqrTo(we,ut),J.sqrTo(ut,we),xe-=2;xe>0?J.sqrTo(we,ut):(Xe=we,we=ut,ut=Xe),J.mulTo(ut,Ie[ze],we)}for(;ot>=0&&!(C[ot]&1<<le);)J.sqrTo(we,ut),Xe=we,we=ut,ut=Xe,--le<0&&(le=this.DB-1,--ot)}return J.revert(we)},U.prototype.modInverse=function(C){var R=C.isEven();if(this.isEven()&&R||C.signum()==0)return U.ZERO;for(var N=C.clone(),J=this.clone(),le=de(1),we=de(0),Ie=de(0),xe=de(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(le.isEven()&&we.isEven()||(le.addTo(this,le),we.subTo(C,we)),le.rShiftTo(1,le)):we.isEven()||we.subTo(C,we),we.rShiftTo(1,we);for(;J.isEven();)J.rShiftTo(1,J),R?(Ie.isEven()&&xe.isEven()||(Ie.addTo(this,Ie),xe.subTo(C,xe)),Ie.rShiftTo(1,Ie)):xe.isEven()||xe.subTo(C,xe),xe.rShiftTo(1,xe);N.compareTo(J)>=0?(N.subTo(J,N),R&&le.subTo(Ie,le),we.subTo(xe,we)):(J.subTo(N,J),R&&Ie.subTo(le,Ie),xe.subTo(we,xe))}return J.compareTo(U.ONE)!=0?U.ZERO:xe.compareTo(C)>=0?xe.subtract(C):xe.signum()<0?(xe.addTo(C,xe),xe.signum()<0?xe.add(C):xe):xe},U.prototype.pow=function(C){return this.exp(C,new Ze)},U.prototype.gcd=function(C){var R=this.s<0?this.negate():this.clone(),N=C.s<0?C.negate():C.clone();if(R.compareTo(N)<0){var J=R;R=N,N=J}var le=R.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return R;for(le<we&&(we=le),we>0&&(R.rShiftTo(we,R),N.rShiftTo(we,N));R.signum()>0;)(le=R.getLowestSetBit())>0&&R.rShiftTo(le,R),(le=N.getLowestSetBit())>0&&N.rShiftTo(le,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},U.prototype.isProbablePrime=function(C){var R,N=this.abs();if(N.t==1&&N[0]<=Ye[Ye.length-1]){for(R=0;R<Ye.length;++R)if(N[0]==Ye[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Ye.length;){for(var J=Ye[R],le=R+1;le<Ye.length&&J<oe;)J*=Ye[le++];for(J=N.modInt(J);R<le;)if(J%Ye[R++]==0)return!1}return N.millerRabin(C)},U.prototype.square=function(){var C=Y();return this.squareTo(C),C},z.prototype.init=function(C){var R,N,J;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+C[R%C.length]&255,J=this.S[R],this.S[R]=this.S[N],this.S[N]=J;this.i=0,this.j=0},z.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]};var $,ae,Z;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(C){ae[Z++]^=255&C,ae[Z++]^=C>>8&255,ae[Z++]^=C>>16&255,ae[Z++]^=C>>24&255,Z>=256&&(Z-=256)})(new Date().getTime())}if(ae==null){var ye;if(ae=new Array,Z=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var He=A.crypto||A.msCrypto;if(He.getRandomValues){var Ee=new Uint8Array(32);for(He.getRandomValues(Ee),ye=0;ye<32;++ye)ae[Z++]=Ee[ye]}else if(S.appName=="Netscape"&&S.appVersion<"5"){var Fe=A.crypto.random(32);for(ye=0;ye<Fe.length;++ye)ae[Z++]=255&Fe.charCodeAt(ye)}}for(;Z<256;)ye=Math.floor(65536*Math.random()),ae[Z++]=ye>>>8,ae[Z++]=255&ye;Z=0,he()}function tt(){if($==null){for(he(),($=function(){return new z}()).init(ae),Z=0;Z<ae.length;++Z)ae[Z]=0;Z=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(T,C){return new U(T,C)}function qt(T,C,R){for(var N="",J=0;N.length<C;)N+=R(String.fromCharCode.apply(String,T.concat([(4278190080&J)>>24,(16711680&J)>>16,(65280&J)>>8,255&J]))),J+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(T,C){this.x=C,this.q=T}function ne(T,C,R,N){this.curve=T,this.x=C,this.y=R,this.z=N??U.ONE,this.zinv=null}function q(T,C,R){this.q=T,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(R),this.infinity=new ne(this,null,null)}nt.prototype.nextBytes=function(C){var R;for(R=0;R<C.length;++R)C[R]=tt()},Se.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(C,R){if(this.isPublic=!0,this.isPrivate=!1,typeof C!="string")this.n=C,this.e=R;else{if(!(C!=null&&R!=null&&C.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(C,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(C){var R=function(we,Ie){if(Ie<we.length+11)throw"Message too long for RSA";for(var xe=new Array,Oe=we.length-1;Oe>=0&&Ie>0;){var Me=we.charCodeAt(Oe--);Me<128?xe[--Ie]=Me:Me>127&&Me<2048?(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6|192):(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6&63|128,xe[--Ie]=Me>>12|224)}xe[--Ie]=0;for(var $e=new nt,ze=new Array;Ie>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Ie]=ze[0]}return xe[--Ie]=2,xe[--Ie]=0,new U(xe)}(C,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var J=N.toString(16);return 1&J.length?"0"+J:J},Se.prototype.encryptOAEP=function(C,R,N){var J=function(xe,Oe,Me,$e){var ze=G.crypto.MessageDigest,Xe=G.crypto.Util,ot=null;if(Me||(Me="sha1"),typeof Me=="string"&&(ot=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(ot),Me=function(Tt){return ln(Xe.hashHex(In(Tt),ot))}),xe.length+2*$e+2>Oe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Oe-xe.length-2*$e-2;dt+=1)ut+="\0";var be=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Ue=qt(De,be.length,Me),Ke=[];for(dt=0;dt<be.length;dt+=1)Ke[dt]=be.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=qt(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new U(mt.concat(Ke))}(C,this.n.bitLength()+7>>3,R,N);if(J==null)return null;var le=this.doPublic(J);if(le==null)return null;var we=le.toString(16);return 1&we.length?"0"+we:we},Se.prototype.type="RSA",Be.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(C){return new Be(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(C){return new Be(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(C){return new Be(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(C){return new Be(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},ne.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ne.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ne.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO))},ne.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(U.ZERO)&&!this.y.toBigInteger().equals(U.ZERO)},ne.prototype.negate=function(){return new ne(this.curve,this.x,this.y.negate(),this.z)},ne.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var R=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),N=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(U.ZERO.equals(N))return U.ZERO.equals(R)?this.twice():this.curve.getInfinity();var J=new U("3"),le=this.x.toBigInteger(),we=this.y.toBigInteger(),Ie=(C.x.toBigInteger(),C.y.toBigInteger(),N.square()),xe=Ie.multiply(N),Oe=le.multiply(Ie),Me=R.square().multiply(this.z),$e=Me.subtract(Oe.shiftLeft(1)).multiply(C.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Oe.multiply(J).multiply(R).subtract(we.multiply(xe)).subtract(Me.multiply(R)).multiply(C.z).add(R.multiply(xe)).mod(this.curve.q),Xe=xe.multiply(this.z).multiply(C.z).mod(this.curve.q);return new ne(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Xe)},ne.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=new U("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),J=N.multiply(this.z),le=J.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Ie=R.square().multiply(C);U.ZERO.equals(we)||(Ie=Ie.add(this.z.square().multiply(we)));var xe=(Ie=Ie.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(le)).shiftLeft(1).multiply(J).mod(this.curve.q),Oe=Ie.multiply(C).multiply(R).subtract(le.shiftLeft(1)).shiftLeft(2).multiply(le).subtract(Ie.square().multiply(Ie)).mod(this.curve.q),Me=J.square().multiply(J).shiftLeft(3).mod(this.curve.q);return new ne(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Oe),Me)},ne.prototype.multiply=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var R,N=C,J=N.multiply(new U("3")),le=this.negate(),we=this,Ie=this.curve.q.subtract(C),xe=Ie.multiply(new U("3")),Oe=new ne(this.curve,this.x,this.y),Me=Oe.negate();for(R=J.bitLength()-2;R>0;--R){we=we.twice();var $e=J.testBit(R);$e!=N.testBit(R)&&(we=we.add($e?this:le))}for(R=xe.bitLength()-2;R>0;--R){Oe=Oe.twice();var ze=xe.testBit(R);ze!=Ie.testBit(R)&&(Oe=Oe.add(ze?Oe:Me))}return we},ne.prototype.multiplyTwo=function(C,R,N){var J;J=C.bitLength()>N.bitLength()?C.bitLength()-1:N.bitLength()-1;for(var le=this.curve.getInfinity(),we=this.add(R);J>=0;)le=le.twice(),C.testBit(J)?le=N.testBit(J)?le.add(we):le.add(this):N.testBit(J)&&(le=le.add(R)),--J;return le},q.prototype.getQ=function(){return this.q},q.prototype.getA=function(){return this.a},q.prototype.getB=function(){return this.b},q.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},q.prototype.getInfinity=function(){return this.infinity},q.prototype.fromBigInteger=function(C){return new Be(this.q,C)},q.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(C.length-2)/2,N=C.substr(2,R),J=C.substr(R+2,R);return new ne(this,this.fromBigInteger(new U(N,16)),this.fromBigInteger(new U(J,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ne.prototype.getEncoded=function(T){var C=function(we,Ie){var xe=we.toByteArrayUnsigned();if(Ie<xe.length)xe=xe.slice(xe.length-Ie);else for(;Ie>xe.length;)xe.unshift(0);return xe},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),J=C(R,32);return T?N.isEven()?J.unshift(2):J.unshift(3):(J.unshift(4),J=J.concat(C(N,32))),J},ne.decodeFrom=function(T,C){C[0];var R=C.length-1,N=C.slice(1,1+R/2),J=C.slice(1+R/2,1+R);N.unshift(0),J.unshift(0);var le=new U(N),we=new U(J);return new ne(T,T.fromBigInteger(le),T.fromBigInteger(we))},ne.decodeFromHex=function(T,C){C.substr(0,2);var R=C.length-2,N=C.substr(2,R/2),J=C.substr(2+R/2,R/2),le=new U(N,16),we=new U(J,16);return new ne(T,T.fromBigInteger(le),T.fromBigInteger(we))},ne.prototype.add2D=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.x.equals(T.x))return this.y.equals(T.y)?this.twice():this.curve.getInfinity();var C=T.x.subtract(this.x),R=T.y.subtract(this.y).divide(C),N=R.square().subtract(this.x).subtract(T.x),J=R.multiply(this.x.subtract(N)).subtract(this.y);return new ne(this.curve,N,J)},ne.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=this.curve.fromBigInteger(U.valueOf(2)),C=this.curve.fromBigInteger(U.valueOf(3)),R=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(T)),N=R.square().subtract(this.x.multiply(T)),J=R.multiply(this.x.subtract(N)).subtract(this.y);return new ne(this.curve,N,J)},ne.prototype.multiply2D=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var C,R=T,N=R.multiply(new U("3")),J=this.negate(),le=this;for(C=N.bitLength()-2;C>0;--C){le=le.twice();var we=N.testBit(C);we!=R.testBit(C)&&(le=le.add2D(we?this:J))}return le},ne.prototype.isOnCurve=function(){var T=this.getX().toBigInteger(),C=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),J=this.curve.getQ(),le=C.multiply(C).mod(J),we=T.multiply(T).multiply(T).add(R.multiply(T)).add(N).mod(J);return le.equals(we)},ne.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ne.prototype.validate=function(){var T=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(C.compareTo(U.ONE)<0||C.compareTo(T.subtract(U.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(U.ONE)<0||R.compareTo(T.subtract(U.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(T).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var W=function(){var T=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Ie,xe){return Ie?R[Ie]:String.fromCharCode(parseInt(xe,16))}var J=new String(""),le=Object.hasOwnProperty;return function(we,Ie){var xe,Oe,Me=we.match(T),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Xe=[xe],ot=1-ze,dt=Me.length;ot<dt;++ot){var ut;switch(($e=Me[ot]).charCodeAt(0)){default:(ut=Xe[0])[Oe||ut.length]=+$e,Oe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(C,N)),ut=Xe[0],!Oe){if(!(ut instanceof Array)){Oe=$e||J;break}Oe=ut.length}ut[Oe]=$e,Oe=void 0;break;case 91:ut=Xe[0],Xe.unshift(ut[Oe||ut.length]=[]),Oe=void 0;break;case 93:Xe.shift();break;case 102:(ut=Xe[0])[Oe||ut.length]=!1,Oe=void 0;break;case 110:(ut=Xe[0])[Oe||ut.length]=null,Oe=void 0;break;case 116:(ut=Xe[0])[Oe||ut.length]=!0,Oe=void 0;break;case 123:ut=Xe[0],Xe.unshift(ut[Oe||ut.length]={}),Oe=void 0;break;case 125:Xe.shift()}}if(ze){if(Xe.length!==1)throw new Error;xe=xe[0]}else if(Xe.length)throw new Error;return Ie&&(xe=function be(De,Ue){var Ke=De[Ue];if(Ke&&(Ke===void 0?"undefined":b(Ke))==="object"){var lt=null;for(var mt in Ke)if(le.call(Ke,mt)&&Ke!==De){var $t=be(Ke,mt);$t!==void 0?Ke[mt]=$t:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ke[lt[Tt]]}return Ie.call(De,Ue,Ke)}({"":xe},"")),xe}}();G!==void 0&&G||(r.KJUR=G={}),G.asn1!==void 0&&G.asn1||(G.asn1={}),G.asn1.ASN1Util=new function(){this.integerToByteHex=function(T){var C=T.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(T){var C=T.toString(16);if(C.substr(0,1)!="-")C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var R=C.substr(1).length;R%2==1?R+=1:C.match(/^[0-7]/)||(R+=2);for(var N="",J=0;J<R;J++)N+="f";C=new U(N,16).xor(T).add(U.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(T,C){return bt(T,C)},this.newObject=function(T){var C=G.asn1,R=C.ASN1Object,N=C.DERBoolean,J=C.DERInteger,le=C.DERBitString,we=C.DEROctetString,Ie=C.DERNull,xe=C.DERObjectIdentifier,Oe=C.DEREnumerated,Me=C.DERUTF8String,$e=C.DERNumericString,ze=C.DERPrintableString,Xe=C.DERTeletexString,ot=C.DERIA5String,dt=C.DERUTCTime,ut=C.DERGeneralizedTime,be=C.DERVisibleString,De=C.DERBMPString,Ue=C.DERSequence,Ke=C.DERSet,lt=C.DERTaggedObject,mt=C.ASN1Util.newObject;if(T instanceof C.ASN1Object)return T;var $t=Object.keys(T);if($t.length!=1)throw new Error("key of param shall be only one.");var Tt=$t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(T[Tt]);if(Tt=="int")return new J(T[Tt]);if(Tt=="bitstr")return new le(T[Tt]);if(Tt=="octstr")return new we(T[Tt]);if(Tt=="null")return new Ie(T[Tt]);if(Tt=="oid")return new xe(T[Tt]);if(Tt=="enum")return new Oe(T[Tt]);if(Tt=="utf8str")return new Me(T[Tt]);if(Tt=="numstr")return new $e(T[Tt]);if(Tt=="prnstr")return new ze(T[Tt]);if(Tt=="telstr")return new Xe(T[Tt]);if(Tt=="ia5str")return new ot(T[Tt]);if(Tt=="utctime")return new dt(T[Tt]);if(Tt=="gentime")return new ut(T[Tt]);if(Tt=="visstr")return new be(T[Tt]);if(Tt=="bmpstr")return new De(T[Tt]);if(Tt=="asn1")return new R(T[Tt]);if(Tt=="seq"){for(var gn=T[Tt],Ft=[],Vt=0;Vt<gn.length;Vt++){var zn=mt(gn[Vt]);Ft.push(zn)}return new Ue({array:Ft})}if(Tt=="set"){for(gn=T[Tt],Ft=[],Vt=0;Vt<gn.length;Vt++)zn=mt(gn[Vt]),Ft.push(zn);return new Ke({array:Ft})}if(Tt=="tag"){var Nn=T[Tt];if(Object.prototype.toString.call(Nn)==="[object Array]"&&Nn.length==3){var Un=mt(Nn[2]);return new lt({tag:Nn[0],explicit:Nn[1],obj:Un})}return new lt(Nn)}},this.jsonToASN1HEX=function(T){return this.newObject(T).getEncodedHex()}},G.asn1.ASN1Util.oidHexToInt=function(T){for(var C="",R=parseInt(T.substr(0,2),16),N=(C=Math.floor(R/40)+"."+R%40,""),J=2;J<T.length;J+=2){var le=("00000000"+parseInt(T.substr(J,2),16).toString(2)).slice(-8);N+=le.substr(1,7),le.substr(0,1)=="0"&&(C=C+"."+new U(N,2).toString(10),N="")}return C},G.asn1.ASN1Util.oidIntToHex=function(T){var C=function(xe){var Oe=xe.toString(16);return Oe.length==1&&(Oe="0"+Oe),Oe},R=function(xe){var Oe="",Me=new U(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Xe=0;Xe<$e;Xe++)ze+="0";for(Me=ze+Me,Xe=0;Xe<Me.length-1;Xe+=7){var ot=Me.substr(Xe,7);Xe!=Me.length-7&&(ot="1"+ot),Oe+=C(parseInt(ot,2))}return Oe};if(!T.match(/^[0-9.]+$/))throw"malformed oid string: "+T;var N="",J=T.split("."),le=40*parseInt(J[0])+parseInt(J[1]);N+=C(le),J.splice(0,2);for(var we=0;we<J.length;we++)N+=R(J[we]);return N},G.asn1.ASN1Object=function(T){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,R=C.toString(16);if(R.length%2==1&&(R="0"+R),C<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},T!=null&&T.tlv!=null&&(this.hTLV=T.tlv,this.isModified=!1)},G.asn1.DERAbstractString=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=gr(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"?this.setString(T):T.str!==void 0?this.setString(T.str):T.hex!==void 0&&this.setStringHex(T.hex))},Ht(G.asn1.DERAbstractString,G.asn1.ASN1Object),G.asn1.DERAbstractTime=function(T){G.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var R=C.getTime()+6e4*C.getTimezoneOffset();return new Date(R)},this.formatDate=function(C,R,N){var J=this.zeroPadding,le=this.localDateToUTC(C),we=String(le.getFullYear());R=="utc"&&(we=we.substr(2,2));var Ie=we+J(String(le.getMonth()+1),2)+J(String(le.getDate()),2)+J(String(le.getHours()),2)+J(String(le.getMinutes()),2)+J(String(le.getSeconds()),2);if(N===!0){var xe=le.getMilliseconds();if(xe!=0){var Oe=J(String(xe),3);Ie=Ie+"."+(Oe=Oe.replace(/[0]+$/,""))}}return Ie+"Z"},this.zeroPadding=function(C,R){return C.length>=R?C:new Array(R-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Pt(C)},this.setByDateValue=function(C,R,N,J,le,we){var Ie=new Date(Date.UTC(C,R-1,N,J,le,we,0));this.setByDate(Ie)},this.getFreshValueHex=function(){return this.hV}},Ht(G.asn1.DERAbstractTime,G.asn1.ASN1Object),G.asn1.DERAbstractStructured=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,T!==void 0&&T.array!==void 0&&(this.asn1Array=T.array)},Ht(G.asn1.DERAbstractStructured,G.asn1.ASN1Object),G.asn1.DERBoolean=function(T){G.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=T==0?"010100":"0101ff"},Ht(G.asn1.DERBoolean,G.asn1.ASN1Object),G.asn1.DERInteger=function(T){G.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var R=new U(String(C),10);this.setByBigInteger(R)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.bigint!==void 0?this.setByBigInteger(T.bigint):T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DERInteger,G.asn1.ASN1Object),G.asn1.DERBitString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex="00"+C.getEncodedHex()}G.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var J="0"+R;this.hTLV=null,this.isModified=!0,this.hV=J+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var J=0;J<=N;J++)R+="0";var le="";for(J=0;J<R.length-1;J+=8){var we=R.substr(J,8),Ie=parseInt(we,2).toString(16);Ie.length==1&&(Ie="0"+Ie),le+=Ie}this.hTLV=null,this.isModified=!0,this.hV="0"+N+le},this.setByBooleanArray=function(R){for(var N="",J=0;J<R.length;J++)R[J]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),J=0;J<R;J++)N[J]=!1;return N},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"&&T.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(T):T.hex!==void 0?this.setHexValueIncludingUnusedBits(T.hex):T.bin!==void 0?this.setByBinaryString(T.bin):T.array!==void 0&&this.setByBooleanArray(T.array))},Ht(G.asn1.DERBitString,G.asn1.ASN1Object),G.asn1.DEROctetString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex=C.getEncodedHex()}G.asn1.DEROctetString.superclass.constructor.call(this,T),this.hT="04"},Ht(G.asn1.DEROctetString,G.asn1.DERAbstractString),G.asn1.DERNull=function(){G.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ht(G.asn1.DERNull,G.asn1.ASN1Object),G.asn1.DERObjectIdentifier=function(T){G.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var R=function(J){var le=function(ze){var Xe=ze.toString(16);return Xe.length==1&&(Xe="0"+Xe),Xe},we=function(ze){var Xe="",ot=parseInt(ze,10).toString(2),dt=7-ot.length%7;dt==7&&(dt=0);for(var ut="",be=0;be<dt;be++)ut+="0";for(ot=ut+ot,be=0;be<ot.length-1;be+=7){var De=ot.substr(be,7);be!=ot.length-7&&(De="1"+De),Xe+=le(parseInt(De,2))}return Xe};try{if(!J.match(/^[0-9.]+$/))return null;var Ie="",xe=J.split("."),Oe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Ie+=le(Oe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Ie+=we(xe[Me]);return Ie}catch{return null}}(C);if(R==null)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(C){var R=G.asn1.x509.OID.name2oid(C);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(R)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){typeof C=="string"?this.setValueNameOrOid(C):C.oid!==void 0?this.setValueNameOrOid(C.oid):C.name!==void 0?this.setValueNameOrOid(C.name):C.hex!==void 0&&this.setValueHex(C.hex)},T!==void 0&&this.setByParam(T)},Ht(G.asn1.DERObjectIdentifier,G.asn1.ASN1Object),G.asn1.DEREnumerated=function(T){G.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var R=new U(String(C),10);this.setByBigInteger(R)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DEREnumerated,G.asn1.ASN1Object),G.asn1.DERUTF8String=function(T){G.asn1.DERUTF8String.superclass.constructor.call(this,T),this.hT="0c"},Ht(G.asn1.DERUTF8String,G.asn1.DERAbstractString),G.asn1.DERNumericString=function(T){G.asn1.DERNumericString.superclass.constructor.call(this,T),this.hT="12"},Ht(G.asn1.DERNumericString,G.asn1.DERAbstractString),G.asn1.DERPrintableString=function(T){G.asn1.DERPrintableString.superclass.constructor.call(this,T),this.hT="13"},Ht(G.asn1.DERPrintableString,G.asn1.DERAbstractString),G.asn1.DERTeletexString=function(T){G.asn1.DERTeletexString.superclass.constructor.call(this,T),this.hT="14"},Ht(G.asn1.DERTeletexString,G.asn1.DERAbstractString),G.asn1.DERIA5String=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="16"},Ht(G.asn1.DERIA5String,G.asn1.DERAbstractString),G.asn1.DERVisibleString=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="1a"},Ht(G.asn1.DERVisibleString,G.asn1.DERAbstractString),G.asn1.DERBMPString=function(T){G.asn1.DERBMPString.superclass.constructor.call(this,T),this.hT="1e"},Ht(G.asn1.DERBMPString,G.asn1.DERAbstractString),G.asn1.DERUTCTime=function(T){G.asn1.DERUTCTime.superclass.constructor.call(this,T),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Pt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Pt(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{12}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date))},Ht(G.asn1.DERUTCTime,G.asn1.DERAbstractTime),G.asn1.DERGeneralizedTime=function(T){G.asn1.DERGeneralizedTime.superclass.constructor.call(this,T),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Pt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Pt(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{14}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date),T.millis===!0&&(this.withMillis=!0))},Ht(G.asn1.DERGeneralizedTime,G.asn1.DERAbstractTime),G.asn1.DERSequence=function(T){G.asn1.DERSequence.superclass.constructor.call(this,T),this.hT="30",this.getFreshValueHex=function(){for(var C="",R=0;R<this.asn1Array.length;R++)C+=this.asn1Array[R].getEncodedHex();return this.hV=C,this.hV}},Ht(G.asn1.DERSequence,G.asn1.DERAbstractStructured),G.asn1.DERSet=function(T){G.asn1.DERSet.superclass.constructor.call(this,T),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];C.push(N.getEncodedHex())}return this.sortFlag==1&&C.sort(),this.hV=C.join(""),this.hV},T!==void 0&&T.sortflag!==void 0&&T.sortflag==0&&(this.sortFlag=!1)},Ht(G.asn1.DERSet,G.asn1.DERAbstractStructured),G.asn1.DERTaggedObject=function(T){G.asn1.DERTaggedObject.superclass.constructor.call(this);var C=G.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,J){this.hT=N,this.isExplicit=R,this.asn1Object=J,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=J.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof C.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):b(R.obj)=="object"&&(this.asn1Object=C.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},T!=null&&this.setByParam(T)},Ht(G.asn1.DERTaggedObject,G.asn1.ASN1Object);var G,je,Je,ke=new function(){};function Rt(T){for(var C=new Array,R=0;R<T.length;R++)C[R]=T.charCodeAt(R);return C}function Lt(T){for(var C="",R=0;R<T.length;R++)C+=String.fromCharCode(T[R]);return C}function Nt(T){for(var C="",R=0;R<T.length;R++){var N=T[R].toString(16);N.length==1&&(N="0"+N),C+=N}return C}function Pt(T){return Nt(Rt(T))}function zt(T){return T=(T=(T=T.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Tr(T){return T.length%4==2?T+="==":T.length%4==3&&(T+="="),T=(T=T.replace(/-/g,"+")).replace(/_/g,"/")}function dn(T){return T.length%2==1&&(T="0"+T),zt(F(T))}function hn(T){return Q(Tr(T))}function gr(T){return Jn(Ct(T))}function un(T){return decodeURIComponent(We(T))}function ln(T){for(var C="",R=0;R<T.length-1;R+=2)C+=String.fromCharCode(parseInt(T.substr(R,2),16));return C}function In(T){for(var C="",R=0;R<T.length;R++)C+=("0"+T.charCodeAt(R).toString(16)).slice(-2);return C}function ur(T){return F(T)}function Le(T){var C=ur(T).replace(/(.{64})/g,`$1\r
`);return C=C.replace(/\r\n$/,"")}function qe(T){return Q(T.replace(/[^0-9A-Za-z\/+=]*/g,""))}function bt(T,C){return"-----BEGIN "+C+`-----\r
`+Le(T)+`\r
-----END `+C+`-----\r
`}function Et(T,C){if(T.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+C;return qe(T=C!==void 0?(T=T.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(T=T.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Mt(T){var C,R,N,J,le,we,Ie,xe,Oe,Me,$e;if($e=T.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],C=parseInt(xe),xe.length===2&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),R=parseInt($e[2])-1,N=parseInt($e[3]),J=parseInt($e[4]),le=parseInt($e[5]),we=parseInt($e[6]),Ie=0,(Oe=$e[7])!==""&&(Me=(Oe.substr(1)+"00").substr(0,3),Ie=parseInt(Me)),Date.UTC(C,R,N,J,le,we,Ie);throw"unsupported zulu format: "+T}function Hn(T){return~~(Mt(T)/1e3)}function Jn(T){return T.replace(/%/g,"")}function We(T){return T.replace(/(..)/g,"%$1")}function Ce(T){var C="malformed IPv6 address";if(!T.match(/^[0-9A-Fa-f:]+$/))throw C;var R=(T=T.toLowerCase()).split(":").length-1;if(R<2)throw C;var N=":".repeat(7-R+2),J=(T=T.replace("::",N)).split(":");if(J.length!=8)throw C;for(var le=0;le<8;le++)J[le]=("0000"+J[le]).slice(-4);return J.join("")}function et(T){if(!T.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(T=T.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)C[R]=C[R].replace(/^0+/,""),C[R]==""&&(C[R]="0");var N=(T=":"+C.join(":")+":").match(/:(0:){2,}/g);if(N===null)return T.slice(1,-1);var J="";for(R=0;R<N.length;R++)N[R].length>J.length&&(J=N[R]);return(T=T.replace(J,"::")).slice(1,-1)}function ft(T){var C="malformed hex value";if(!T.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(T.length!=8)return T.length==32?et(T):T;try{return parseInt(T.substr(0,2),16)+"."+parseInt(T.substr(2,2),16)+"."+parseInt(T.substr(4,2),16)+"."+parseInt(T.substr(6,2),16)}catch{throw C}}function it(T){return T.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),J=parseInt(R.substr(2),16);if(N==0&J<128)return String.fromCharCode(J);if(N<8){var le=128|63&J;return un((192|(7&N)<<3|(192&J)>>6).toString(16)+le.toString(16))}le=128|(15&N)<<2|(192&J)>>6;var we=128|63&J;return un((224|(240&N)>>4).toString(16)+le.toString(16)+we.toString(16))}).join("")}function Ct(T){for(var C=encodeURIComponent(T),R="",N=0;N<C.length;N++)C[N]=="%"?(R+=C.substr(N,3),N+=2):R=R+"%"+Pt(C[N]);return R}function Dt(T){return!(T.length%2!=0||!T.match(/^[0-9a-f]+$/)&&!T.match(/^[0-9A-F]+$/))}function Gt(T){return T.length%2==1?"0"+T:T.substr(0,1)>"7"?"00"+T:T}ke.getLblen=function(T,C){if(T.substr(C+2,1)!="8")return 1;var R=parseInt(T.substr(C+3,1));return R==0?-1:0<R&&R<10?R+1:-2},ke.getL=function(T,C){var R=ke.getLblen(T,C);return R<1?"":T.substr(C+2,2*R)},ke.getVblen=function(T,C){var R;return(R=ke.getL(T,C))==""?-1:(R.substr(0,1)==="8"?new U(R.substr(2),16):new U(R,16)).intValue()},ke.getVidx=function(T,C){var R=ke.getLblen(T,C);return R<0?R:C+2*(R+1)},ke.getV=function(T,C){var R=ke.getVidx(T,C),N=ke.getVblen(T,C);return T.substr(R,2*N)},ke.getTLV=function(T,C){return T.substr(C,2)+ke.getL(T,C)+ke.getV(T,C)},ke.getTLVblen=function(T,C){return 2+2*ke.getLblen(T,C)+2*ke.getVblen(T,C)},ke.getNextSiblingIdx=function(T,C){return ke.getVidx(T,C)+2*ke.getVblen(T,C)},ke.getChildIdx=function(T,C){var R,N,J,le=ke,we=[];R=le.getVidx(T,C),N=2*le.getVblen(T,C),T.substr(C,2)=="03"&&(R+=2,N-=2),J=0;for(var Ie=R;J<=N;){var xe=le.getTLVblen(T,Ie);if((J+=xe)<=N&&we.push(Ie),Ie+=xe,J>=N)break}return we},ke.getNthChildIdx=function(T,C,R){return ke.getChildIdx(T,C)[R]},ke.getIdxbyList=function(T,C,R,N){var J,le,we=ke;return R.length==0?N!==void 0&&T.substr(C,2)!==N?-1:C:(J=R.shift())>=(le=we.getChildIdx(T,C)).length?-1:we.getIdxbyList(T,le[J],R,N)},ke.getIdxbyListEx=function(T,C,R,N){var J,le,we=ke;if(R.length==0)return N!==void 0&&T.substr(C,2)!==N?-1:C;J=R.shift(),le=we.getChildIdx(T,C);for(var Ie=0,xe=0;xe<le.length;xe++){var Oe=T.substr(le[xe],2);if(typeof J=="number"&&!we.isContextTag(Oe)&&Ie==J||typeof J=="string"&&we.isContextTag(Oe,J))return we.getIdxbyListEx(T,le[xe],R,N);we.isContextTag(Oe)||Ie++}return-1},ke.getTLVbyList=function(T,C,R,N){var J=ke,le=J.getIdxbyList(T,C,R,N);return le==-1||le>=T.length?null:J.getTLV(T,le)},ke.getTLVbyListEx=function(T,C,R,N){var J=ke,le=J.getIdxbyListEx(T,C,R,N);return le==-1?null:J.getTLV(T,le)},ke.getVbyList=function(T,C,R,N,J){var le,we,Ie=ke;return(le=Ie.getIdxbyList(T,C,R,N))==-1||le>=T.length?null:(we=Ie.getV(T,le),J===!0&&(we=we.substr(2)),we)},ke.getVbyListEx=function(T,C,R,N,J){var le,we,Ie=ke;return(le=Ie.getIdxbyListEx(T,C,R,N))==-1?null:(we=Ie.getV(T,le),T.substr(le,2)=="03"&&J!==!1&&(we=we.substr(2)),we)},ke.getInt=function(T,C,R){R==null&&(R=-1);try{var N=T.substr(C,2);if(N!="02"&&N!="03")return R;var J=ke.getV(T,C);return N=="02"?parseInt(J,16):function(we){try{var Ie=we.substr(0,2);if(Ie=="00")return parseInt(we.substr(2),16);var xe=parseInt(Ie,16),Oe=we.substr(2),Me=parseInt(Oe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(J)}catch{return R}},ke.getOID=function(T,C,R){R==null&&(R=null);try{return T.substr(C,2)!="06"?R:function(J){if(!Dt(J))return null;try{var le=[],we=J.substr(0,2),Ie=parseInt(we,16);le[0]=new String(Math.floor(Ie/40)),le[1]=new String(Ie%40);for(var xe=J.substr(2),Oe=[],Me=0;Me<xe.length/2;Me++)Oe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Oe.length;Me++)128&Oe[Me]?ze+=Xt((127&Oe[Me]).toString(2),7):(ze+=Xt((127&Oe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Xe=le.join(".");return $e.length>0&&(Xe=Xe+"."+$e.join(".")),Xe}catch{return null}}(ke.getV(T,C))}catch{return R}},ke.getOIDName=function(T,C,R){R==null&&(R=null);try{var N=ke.getOID(T,C,R);if(N==R)return R;var J=G.asn1.x509.OID.oid2name(N);return J==""?N:J}catch{return R}},ke.getString=function(T,C,R){R==null&&(R=null);try{return ln(ke.getV(T,C))}catch{return R}},ke.hextooidstr=function(T){var C=function(ze,Xe){return ze.length>=Xe?ze:new Array(Xe-ze.length+1).join("0")+ze},R=[],N=T.substr(0,2),J=parseInt(N,16);R[0]=new String(Math.floor(J/40)),R[1]=new String(J%40);for(var le=T.substr(2),we=[],Ie=0;Ie<le.length/2;Ie++)we.push(parseInt(le.substr(2*Ie,2),16));var xe=[],Oe="";for(Ie=0;Ie<we.length;Ie++)128&we[Ie]?Oe+=C((127&we[Ie]).toString(2),7):(Oe+=C((127&we[Ie]).toString(2),7),xe.push(new String(parseInt(Oe,2))),Oe="");var Me=R.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(T,C,R,N){var J=ke,le=J.getV,we=J.dump,Ie=J.getChildIdx,xe=T;T instanceof G.asn1.ASN1Object&&(xe=T.getEncodedHex());var Oe=function(Tt,gn){return Tt.length<=2*gn?Tt:Tt.substr(0,gn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-gn,gn)};C===void 0&&(C={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var Me,$e=C.ommit_long_octet;if((Me=xe.substr(R,2))=="01")return(ze=le(xe,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Oe(ze=le(xe,R),$e)+`
`;if(Me=="03"){var ze=le(xe,R);if(J.isASN1HEX(ze.substr(2))){var Xe=N+`BITSTRING, encapsulates
`;return Xe+=we(ze.substr(2),C,0,N+"  ")}return N+"BITSTRING "+Oe(ze,$e)+`
`}if(Me=="04")return ze=le(xe,R),J.isASN1HEX(ze)?(Xe=N+`OCTETSTRING, encapsulates
`,Xe+=we(ze,C,0,N+"  ")):N+"OCTETSTRING "+Oe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var ot=le(xe,R),dt=G.asn1.ASN1Util.oidHexToInt(ot),ut=G.asn1.x509.OID.oid2name(dt),be=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(le(xe,R))+`
`;if(Me=="0c")return N+"UTF8String '"+un(le(xe,R))+`'
`;if(Me=="13")return N+"PrintableString '"+un(le(xe,R))+`'
`;if(Me=="14")return N+"TeletexString '"+un(le(xe,R))+`'
`;if(Me=="16")return N+"IA5String '"+un(le(xe,R))+`'
`;if(Me=="17")return N+"UTCTime "+un(le(xe,R))+`
`;if(Me=="18")return N+"GeneralizedTime "+un(le(xe,R))+`
`;if(Me=="1a")return N+"VisualString '"+un(le(xe,R))+`'
`;if(Me=="1e")return N+"BMPString '"+it(le(xe,R))+`'
`;if(Me=="30"){if(xe.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Xe=N+`SEQUENCE
`;var De=C;if(((lt=Ie(xe,R)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=J.oidname(le(xe,lt[0]));var Ue=JSON.parse(JSON.stringify(C));Ue.x509ExtName=ut,De=Ue}for(var Ke=0;Ke<lt.length;Ke++)Xe+=we(xe,De,lt[Ke],N+"  ");return Xe}if(Me=="31"){Xe=N+`SET
`;var lt=Ie(xe,R);for(Ke=0;Ke<lt.length;Ke++)Xe+=we(xe,C,lt[Ke],N+"  ");return Xe}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Xe=N+"["+mt+`]
`,lt=Ie(xe,R),Ke=0;Ke<lt.length;Ke++)Xe+=we(xe,C,lt[Ke],N+"  ");return Xe}if(ze=le(xe,R),ke.isASN1HEX(ze)){var Xe=N+"["+mt+`]
`;return Xe+=we(ze,C,0,N+"  ")}return(ze.substr(0,8)=="68747470"||C.x509ExtName==="subjectAltName"&&mt==2)&&(ze=un(ze)),Xe=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+le(xe,R)+`
`},ke.isContextTag=function(T,C){var R,N;T=T.toLowerCase();try{R=parseInt(T,16)}catch{return-1}if(C===void 0)return(192&R)==128;try{return C.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(C.substr(1,C.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},ke.isASN1HEX=function(T){var C=ke;if(T.length%2==1)return!1;var R=C.getVblen(T,0),N=T.substr(0,2),J=C.getL(T,0);return T.length-N.length-J.length==2*R},ke.checkStrictDER=function(T,C,R,N,J){var le=ke;if(R===void 0){if(typeof T!="string")throw new Error("not hex string");if(T=T.toLowerCase(),!G.lang.String.isHex(T))throw new Error("not hex string");R=T.length,J=(N=T.length/2)<128?1:Math.ceil(N.toString(16))+1}if(le.getL(T,C).length>2*J)throw new Error("L of TLV too long: idx="+C);var we=le.getVblen(T,C);if(we>N)throw new Error("value of L too long than hex: idx="+C);var Ie=le.getTLV(T,C),xe=Ie.length-2-le.getL(T,C).length;if(xe!==2*we)throw new Error("V string length and L's value not the same:"+xe+"/"+2*we);if(C===0&&T.length!=Ie.length)throw new Error("total length and TLV length unmatch:"+T.length+"!="+Ie.length);var Oe=T.substr(C,2);if(Oe==="02"){var Me=le.getVidx(T,C);if(T.substr(Me,2)=="00"&&T.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Oe,16)){for(var $e=le.getVblen(T,C),ze=0,Xe=le.getChildIdx(T,C),ot=0;ot<Xe.length;ot++)ze+=le.getTLV(T,Xe[ot]).length,le.checkStrictDER(T,Xe[ot],R,N,J);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(T){var C=G.asn1;G.lang.String.isHex(T)&&(T=C.ASN1Util.oidHexToInt(T));var R=C.x509.OID.oid2name(T);return R===""&&(R=T),R},G!==void 0&&G||(r.KJUR=G={}),G.lang!==void 0&&G.lang||(G.lang={}),G.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(C){return zt(a.from(C,"utf8").toString("base64"))},r.b64utoutf8=Je=function(C){return a.from(Tr(C),"base64").toString("utf8")}):(r.utf8tob64u=je=function(C){return dn(Jn(Ct(C)))},r.b64utoutf8=Je=function(C){return decodeURIComponent(We(hn(C)))}),G.lang.String.isInteger=function(T){return!!T.match(/^[0-9]+$/)||!!T.match(/^-[0-9]+$/)},G.lang.String.isHex=function(T){return Dt(T)},G.lang.String.isBase64=function(T){return!(!(T=T.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||T.length%4!=0)},G.lang.String.isBase64URL=function(T){return!T.match(/[+/=]/)&&(T=Tr(T),G.lang.String.isBase64(T))},G.lang.String.isIntegerArray=function(T){return!!(T=T.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},G.lang.String.isPrintable=function(T){return T.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},G.lang.String.isIA5=function(T){return T.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},G.lang.String.isMail=function(T){return T.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Xt=function(C,R,N){return N==null&&(N="0"),C.length>=R?C:new Array(R-C.length+1).join(N)+C};function Ht(T,C){var R=function(){};R.prototype=C.prototype,T.prototype=new R,T.prototype.constructor=T,T.superclass=C.prototype,C.prototype.constructor==Object.prototype.constructor&&(C.prototype.constructor=C)}G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:P.algo.MD5,sha1:P.algo.SHA1,sha224:P.algo.SHA224,sha256:P.algo.SHA256,sha384:P.algo.SHA384,sha512:P.algo.SHA512,ripemd160:P.algo.RIPEMD160},this.getDigestInfoHex=function(T,C){if(this.DIGESTINFOHEAD[C]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+T},this.getPaddedDigestInfoHex=function(T,C,R){var N=this.getDigestInfoHex(T,C),J=R/4;if(N.length+22>J)throw"key is too short for SigAlg: keylen="+R+","+C;for(var le="0001",we="00"+N,Ie="",xe=J-le.length-we.length,Oe=0;Oe<xe;Oe+=2)Ie+="ff";return le+Ie+we},this.hashString=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestString(T)},this.hashHex=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestHex(T)},this.sha1=function(T){return this.hashString(T,"sha1")},this.sha256=function(T){return this.hashString(T,"sha256")},this.sha256Hex=function(T){return this.hashHex(T,"sha256")},this.sha512=function(T){return this.hashString(T,"sha512")},this.sha512Hex=function(T){return this.hashHex(T,"sha512")},this.isKey=function(T){return T instanceof Se||T instanceof G.crypto.DSA||T instanceof G.crypto.ECDSA}},G.crypto.Util.md5=function(T){return new G.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(T)},G.crypto.Util.ripemd160=function(T){return new G.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(T)},G.crypto.Util.SECURERANDOMGEN=new nt,G.crypto.Util.getRandomHexOfNbytes=function(T){var C=new Array(T);return G.crypto.Util.SECURERANDOMGEN.nextBytes(C),Nt(C)},G.crypto.Util.getRandomBigIntegerOfNbytes=function(T){return new U(G.crypto.Util.getRandomHexOfNbytes(T),16)},G.crypto.Util.getRandomHexOfNbits=function(T){var C=T%8,R=new Array((T-C)/8+1);return G.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<C&255^255)&R[0],Nt(R)},G.crypto.Util.getRandomBigIntegerOfNbits=function(T){return new U(G.crypto.Util.getRandomHexOfNbits(T),16)},G.crypto.Util.getRandomBigIntegerZeroToMax=function(T){for(var C=T.bitLength();;){var R=G.crypto.Util.getRandomBigIntegerOfNbits(C);if(T.compareTo(R)!=-1)return R}},G.crypto.Util.getRandomBigIntegerMinToMax=function(T,C){var R=T.compareTo(C);if(R==1)throw"biMin is greater than biMax";if(R==0)return T;var N=C.subtract(T);return G.crypto.Util.getRandomBigIntegerZeroToMax(N).add(T)},G.crypto.MessageDigest=function(T){this.setAlgAndProvider=function(C,R){if((C=G.crypto.MessageDigest.getCanonicalAlgName(C))!==null&&R===void 0&&(R=G.crypto.Util.DEFAULTPROVIDER[C]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)!=-1&&R=="cryptojs"){try{this.md=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var J=P.enc.Hex.parse(N);this.md.update(J)},this.digest=function(){return this.md.finalize().toString(P.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(C)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var J=sjcl.codec.hex.toBits(N);this.md.update(J)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},T!==void 0&&T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},G.crypto.MessageDigest.getCanonicalAlgName=function(T){return typeof T=="string"&&(T=(T=T.toLowerCase()).replace(/-/,"")),T},G.crypto.MessageDigest.getHashLength=function(T){var C=G.crypto.MessageDigest,R=C.getCanonicalAlgName(T);if(C.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+T;return C.HASHLENGTH[R]},G.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},G.crypto.Mac=function(T){this.setAlgAndProvider=function(C,R){if((C=C.toLowerCase())==null&&(C="hmacsha1"),(C=C.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+C;R===void 0&&(R=G.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+R;var N=C.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var J=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=P.algo.HMAC.create(J,this.pass)}catch(le){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+le}this.updateString=function(le){this.mac.update(le)},this.updateHex=function(le){var we=P.enc.Hex.parse(le);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(P.enc.Hex)},this.doFinalString=function(le){return this.updateString(le),this.doFinal()},this.doFinalHex=function(le){return this.updateHex(le),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if(typeof C=="string"){var R=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(R=In(C)),void(this.pass=P.enc.Hex.parse(R))}if((C===void 0?"undefined":b(C))!="object")throw"KJUR.crypto.Mac unsupported password type: "+C;if(R=null,C.hex!==void 0){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;R=C.hex}if(C.utf8!==void 0&&(R=gr(C.utf8)),C.rstr!==void 0&&(R=In(C.rstr)),C.b64!==void 0&&(R=Q(C.b64)),C.b64u!==void 0&&(R=hn(C.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=P.enc.Hex.parse(R)},T!==void 0&&(T.pass!==void 0&&this.setPassword(T.pass),T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},G.crypto.Signature=function(T){var C=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var J="",le=N/4-R.length,we=0;we<le;we++)J+="0";return J+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new G.crypto.MessageDigest({alg:this.mdAlgName})}catch(J){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+J)}this.init=function(J,le){var we=null;try{we=le===void 0?jt.getKey(J):jt.getKey(J,le)}catch(Ie){throw"init failed:"+Ie}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(J){this.md.updateString(J)},this.updateHex=function(J){this.md.updateHex(J)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.prvKey=new G.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof G.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof G.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(J){return this.updateString(J),this.sign()},this.signHex=function(J){return this.updateHex(J),this.sign()},this.verify=function(J){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.pubKey=new G.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,J,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,J);if(G.crypto.ECDSA!==void 0&&this.pubKey instanceof G.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,J);if(G.crypto.DSA!==void 0&&this.pubKey instanceof G.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,J);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=T,T!==void 0&&(T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0?this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=T.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),T.psssaltlen!==void 0&&(this.pssSaltLen=T.psssaltlen),T.prvkeypem!==void 0)){if(T.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{C=jt.getKey(T.prvkeypem),this.init(C)}catch(R){throw"fatal error to load pem private key: "+R}}},G.crypto.Cipher=function(T){},G.crypto.Cipher.encrypt=function(T,C,R){if(C instanceof Se&&C.isPublic){var N=G.crypto.Cipher.getAlgByKeyAndName(C,R);if(N==="RSA")return C.encrypt(T);if(N==="RSAOAEP")return C.encryptOAEP(T,"sha1");var J=N.match(/^RSAOAEP(\d+)$/);if(J!==null)return C.encryptOAEP(T,"sha"+J[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},G.crypto.Cipher.decrypt=function(T,C,R){if(C instanceof Se&&C.isPrivate){var N=G.crypto.Cipher.getAlgByKeyAndName(C,R);if(N==="RSA")return C.decrypt(T);if(N==="RSAOAEP")return C.decryptOAEP(T,"sha1");var J=N.match(/^RSAOAEP(\d+)$/);if(J!==null)return C.decryptOAEP(T,"sha"+J[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},G.crypto.Cipher.getAlgByKeyAndName=function(T,C){if(T instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C)!=-1)return C;if(C==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},G.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECDSA=function(T){var C=Error,R=U,N=ne,J=G.crypto.ECDSA,le=G.crypto.ECParameterDB,we=J.getName,Ie=ke,xe=Ie.getVbyListEx,Oe=Ie.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),Me).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=le.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Xe={};return Xe.x=$e.substr(2,ze),Xe.y=$e.substr(2+ze),Xe},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Xe=this.ecparams.G.multiply(ze),ot=Xe.getX().toBigInteger(),dt=Xe.getY().toBigInteger(),ut=this.ecparams.keylen/4,be=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+ot.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(be),this.setPublicKeyHex(De),{ecprvhex:be,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Xe=new R(ze,16),ot=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(R.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Xe.multiply(be))).mod(ot);return J.biRSSigToASN1Sig(be,De)},this.sign=function($e,ze){var Xe=ze,ot=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(U.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Xe.multiply(be))).mod(ot);return this.serializeSig(be,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Xe){try{var ot,dt,ut=J.parseSigHex(ze);ot=ut.r,dt=ut.s;var be=N.decodeFromHex(this.ecparams.curve,Xe),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,ot,dt,be)}catch{return!1}},this.verify=function($e,ze,Xe){var ot,dt,ut;if(Bitcoin.Util.isArray(ze)){var be=this.parseSig(ze);ot=be.r,dt=be.s}else{if((ze===void 0?"undefined":b(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";ot=ze.r,dt=ze.s}if(Xe instanceof ne)ut=Xe;else{if(!Bitcoin.Util.isArray(Xe))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Xe)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,ot,dt,ut)},this.verifyRaw=function($e,ze,Xe,ot){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(R.ONE)<0||ze.compareTo(dt)>=0||Xe.compareTo(R.ONE)<0||Xe.compareTo(dt)>=0)return!1;var be=Xe.modInverse(dt),De=$e.multiply(be).mod(dt),Ue=ze.multiply(be).mod(dt);return ut.multiply(De).add(ot.multiply(Ue)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Xe=$e.toByteArraySigned(),ot=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Xe.length),(dt=dt.concat(Xe)).push(2),dt.push(ot.length),(dt=dt.concat(ot)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Xe=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ot=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:R.fromByteArrayUnsigned(Xe),s:R.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Xe=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Xe),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Xe),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Oe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Xe,ot;try{ze=xe($e,0,["[0]",0],"06"),Xe=xe($e,0,[1],"04");try{ot=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var ze,Xe,ot;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Xe=xe($e,0,[2,0,1],"04");try{ot=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var ze,Xe;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Xe=xe($e,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=we(ze),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Xe)},this.readCertPubKeyHex=function($e,ze){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var Xe,ot;try{Xe=xe($e,0,[0,5,0,1],"06"),ot=xe($e,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=we(Xe),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},T!==void 0&&T.curve!==void 0&&(this.curveName=T.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),T!==void 0&&(T.prv!==void 0&&this.setPrivateKeyHex(T.prv),T.pub!==void 0&&this.setPublicKeyHex(T.pub))},G.crypto.ECDSA.parseSigHex=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T);return{r:new U(C.r,16),s:new U(C.s,16)}},G.crypto.ECDSA.parseSigHexInHexRS=function(T){var C=ke,R=C.getChildIdx,N=C.getV;if(C.checkStrictDER(T,0),T.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var J=R(T,0);if(J.length!=2)throw new Error("signature shall have two elements");var le=J[0],we=J[1];if(T.substr(le,2)!="02")throw new Error("1st item not ASN.1 integer");if(T.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(T,le),s:N(T,we)}},G.crypto.ECDSA.asn1SigToConcatSig=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T),R=C.r,N=C.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},G.crypto.ECDSA.concatSigToASN1Sig=function(T){if(T.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=T.substr(0,T.length/2),R=T.substr(T.length/2);return G.crypto.ECDSA.hexRSSigToASN1Sig(C,R)},G.crypto.ECDSA.hexRSSigToASN1Sig=function(T,C){var R=new U(T,16),N=new U(C,16);return G.crypto.ECDSA.biRSSigToASN1Sig(R,N)},G.crypto.ECDSA.biRSSigToASN1Sig=function(T,C){var R=G.asn1,N=new R.DERInteger({bigint:T}),J=new R.DERInteger({bigint:C});return new R.DERSequence({array:[N,J]}).getEncodedHex()},G.crypto.ECDSA.getName=function(T){return T==="2b8104001f"?"secp192k1":T==="2a8648ce3d030107"?"secp256r1":T==="2b8104000a"?"secp256k1":T==="2b81040021"?"secp224r1":T==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(T)!==-1?"secp256r1":"|secp256k1|".indexOf(T)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(T)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(T)!==-1?"secp384r1":null},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECParameterDB=new function(){var T={},C={};function R(N){return new U(N,16)}this.getByName=function(N){var J=N;if(C[J]!==void 0&&(J=C[N]),T[J]!==void 0)return T[J];throw"unregistered EC curve name: "+J},this.regist=function(N,J,le,we,Ie,xe,Oe,Me,$e,ze,Xe,ot){T[N]={};var dt=R(le),ut=R(we),be=R(Ie),De=R(xe),Ue=R(Oe),Ke=new q(dt,ut,be),lt=Ke.decodePointHex("04"+Me+$e);T[N].name=N,T[N].keylen=J,T[N].curve=Ke,T[N].G=lt,T[N].n=De,T[N].h=Ue,T[N].oid=Xe,T[N].info=ot;for(var mt=0;mt<ze.length;mt++)C[ze[mt]]=N}},G.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),G.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),G.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),G.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),G.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),G.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),G.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),G.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var jt=function(){var T=function(Oe,Me,$e){return C(P.AES,Oe,Me,$e)},C=function(Oe,Me,$e,ze){var Xe=P.enc.Hex.parse(Me),ot=P.enc.Hex.parse($e),dt=P.enc.Hex.parse(ze),ut={};ut.key=ot,ut.iv=dt,ut.ciphertext=Xe;var be=Oe.decrypt(ut,ot,{iv:dt});return P.enc.Hex.stringify(be)},R=function(Oe,Me,$e){return N(P.AES,Oe,Me,$e)},N=function(Oe,Me,$e,ze){var Xe=P.enc.Hex.parse(Me),ot=P.enc.Hex.parse($e),dt=P.enc.Hex.parse(ze),ut=Oe.encrypt(Xe,ot,{iv:dt}),be=P.enc.Hex.parse(ut.toString());return P.enc.Base64.stringify(be)},J={"AES-256-CBC":{proc:T,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:T,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:T,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Oe,Me,$e){return C(P.TripleDES,Oe,Me,$e)},eproc:function(Oe,Me,$e){return N(P.TripleDES,Oe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Oe,Me,$e){return C(P.DES,Oe,Me,$e)},eproc:function(Oe,Me,$e){return N(P.DES,Oe,Me,$e)},keylen:8,ivlen:8}},le=function(Oe){var Me={},$e=Oe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Oe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Xe=-1,ot=0;Oe.indexOf(`\r
\r
`)!=-1&&(Xe=Oe.indexOf(`\r
\r
`),ot=2),Oe.indexOf(`

`)!=-1&&(Xe=Oe.indexOf(`

`),ot=1);var dt=Oe.indexOf("-----END");if(Xe!=-1&&dt!=-1){var ut=Oe.substring(Xe+2*ot,dt-ot);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},we=function(Oe,Me,$e){for(var ze=$e.substring(0,16),Xe=P.enc.Hex.parse(ze),ot=P.enc.Utf8.parse(Me),dt=J[Oe].keylen+J[Oe].ivlen,ut="",be=null;;){var De=P.algo.MD5.create();if(be!=null&&De.update(be),De.update(ot),De.update(Xe),be=De.finalize(),(ut+=P.enc.Hex.stringify(be)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*J[Oe].keylen),Ue.ivhex=ut.substr(2*J[Oe].keylen,2*J[Oe].ivlen),Ue},Ie=function(Oe,Me,$e,ze){var Xe=P.enc.Base64.parse(Oe),ot=P.enc.Hex.stringify(Xe);return(0,J[Me].proc)(ot,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Oe){return le(Oe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Oe,Me,$e){return we(Oe,Me,$e)},decryptKeyB64:function(Oe,Me,$e,ze){return Ie(Oe,Me,$e,ze)},getDecryptedKeyHex:function(Oe,Me){var $e=le(Oe),ze=$e.cipher,Xe=$e.ivsalt,ot=$e.data,dt=we(ze,Me,Xe).keyhex;return Ie(ot,ze,dt,Xe)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Oe,Me,$e,ze,Xe){var ot="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),J[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Xe!==void 0&&Xe!=null||(Xe=function(be){var De=P.lib.WordArray.random(be);return P.enc.Hex.stringify(De)}(J[ze].ivlen).toUpperCase());var dt=function(be,De,Ue,Ke){return(0,J[De].eproc)(be,Ue,Ke)}(Me,ze,we(ze,$e,Xe).keyhex,Xe);return ot="-----BEGIN "+Oe+` PRIVATE KEY-----\r
`,ot+=`Proc-Type: 4,ENCRYPTED\r
`,ot+="DEK-Info: "+ze+","+Xe+`\r
`,ot+=`\r
`,ot+=dt.replace(/(.{64})/g,`$1\r
`),ot+=`\r
-----END `+Oe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={},ot=$e(Oe,0);if(ot.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ot.length);Xe.ciphertext=ze(Oe,ot[1]);var dt=$e(Oe,ot[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Oe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Oe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var be=$e(Oe,ut[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(ze(Oe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Xe.encryptionSchemeAlg="TripleDES",Xe.encryptionSchemeIV=ze(Oe,be[1]);var De=$e(Oe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Oe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Oe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Xe.pbkdf2Salt=ze(Oe,Ue[0]);var Ke=ze(Oe,Ue[1]);try{Xe.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Xe},getPBKDF2KeyHexFromParam:function(Oe,Me){var $e=P.enc.Hex.parse(Oe.pbkdf2Salt),ze=Oe.pbkdf2Iter,Xe=P.PBKDF2(Me,$e,{keySize:6,iterations:ze});return P.enc.Hex.stringify(Xe)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Oe,Me){var $e=Et(Oe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Xe=jt.getPBKDF2KeyHexFromParam(ze,Me),ot={};ot.ciphertext=P.enc.Hex.parse(ze.ciphertext);var dt=P.enc.Hex.parse(Xe),ut=P.enc.Hex.parse(ze.encryptionSchemeIV),be=P.TripleDES.decrypt(ot,dt,{iv:ut});return P.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Oe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Oe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={algparam:null};if(Oe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ot=$e(Oe,0);if(ot.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Oe.substr(ot[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Oe,ot[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Oe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Xe.algoid=ze(Oe,dt[0]),Oe.substr(dt[1],2)=="06"&&(Xe.algparam=ze(Oe,dt[1])),Oe.substr(ot[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Xe.keyidx=Me.getVidx(Oe,ot[2]),Xe},getKeyFromPlainPrivatePKCS8PEM:function(Oe){var Me=Et(Oe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Oe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Oe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new G.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new G.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Oe),Me},_getKeyFromPublicPKCS8Hex:function(Oe){var Me,$e=ke.getVbyList(Oe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new G.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new G.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Oe),Me},parsePublicRawRSAKeyHex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={};if(Oe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ot=$e(Oe,0);if(ot.length!=2)throw new Error("malformed RSA key(code:002)");if(Oe.substr(ot[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Xe.n=ze(Oe,ot[0]),Oe.substr(ot[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Xe.e=ze(Oe,ot[1]),Xe},parsePublicPKCS8Hex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={algparam:null},ot=$e(Oe,0);if(ot.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ot.length);var dt=ot[0];if(Oe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Oe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Oe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Xe.algoid=ze(Oe,ut[0]),Oe.substr(ut[1],2)=="06"?Xe.algparam=ze(Oe,ut[1]):Oe.substr(ut[1],2)=="30"&&(Xe.algparam={},Xe.algparam.p=Me.getVbyList(Oe,ut[1],[0],"02"),Xe.algparam.q=Me.getVbyList(Oe,ut[1],[1],"02"),Xe.algparam.g=Me.getVbyList(Oe,ut[1],[2],"02")),Oe.substr(ot[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Xe.key=ze(Oe,ot[1]).substr(2),Xe}}}();jt.getKey=function(T,C,R){var N=(ut=ke).getChildIdx,J=(ut.getV,ut.getVbyList),le=G.crypto,we=le.ECDSA,Ie=le.DSA,xe=Se,Oe=Et,Me=jt;if(xe!==void 0&&T instanceof xe||we!==void 0&&T instanceof we||Ie!==void 0&&T instanceof Ie)return T;if(T.curve!==void 0&&T.xy!==void 0&&T.d===void 0)return new we({pub:T.xy,curve:T.curve});if(T.curve!==void 0&&T.d!==void 0)return new we({prv:T.d,curve:T.curve});if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new xe).setPublic(T.n,T.e),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.co!==void 0&&T.qi===void 0)return(Vt=new xe).setPrivateEx(T.n,T.e,T.d,T.p,T.q,T.dp,T.dq,T.co),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p===void 0)return(Vt=new xe).setPrivate(T.n,T.e,T.d),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x===void 0)return(Vt=new Ie).setPublic(T.p,T.q,T.g,T.y),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x!==void 0)return(Vt=new Ie).setPrivate(T.p,T.q,T.g,T.y,T.x),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new xe).setPublic(hn(T.n),hn(T.e)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.qi!==void 0)return(Vt=new xe).setPrivateEx(hn(T.n),hn(T.e),hn(T.d),hn(T.p),hn(T.q),hn(T.dp),hn(T.dq),hn(T.qi)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0)return(Vt=new xe).setPrivate(hn(T.n),hn(T.e),hn(T.d)),Vt;if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d===void 0){var $e=(Ft=new we({curve:T.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(T.x)).slice(-$e)+("0000000000"+hn(T.y)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft}if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d!==void 0){$e=(Ft=new we({curve:T.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(T.x)).slice(-$e)+("0000000000"+hn(T.y)).slice(-$e);var Xe=("0000000000"+hn(T.d)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft.setPrivateKeyHex(Xe),Ft}if(R==="pkcs5prv"){var ot,dt=T,ut=ke;if((ot=N(dt,0)).length===9)(Vt=new xe).readPKCS5PrvKeyHex(dt);else if(ot.length===6)(Vt=new Ie).readPKCS5PrvKeyHex(dt);else{if(!(ot.length>2&&dt.substr(ot[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Vt=new we).readPKCS5PrvKeyHex(dt)}return Vt}if(R==="pkcs8prv")return Vt=Me.getKeyFromPlainPrivatePKCS8Hex(T);if(R==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(T);if(R==="x509pub")return Zt.getPublicKeyFromCertHex(T);if(T.indexOf("-END CERTIFICATE-",0)!=-1||T.indexOf("-END X509 CERTIFICATE-",0)!=-1||T.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Zt.getPublicKeyFromCertPEM(T);if(T.indexOf("-END PUBLIC KEY-")!=-1){var be=Et(T,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(be)}if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var De=Oe(T,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var Ue=J(Un=Oe(T,"DSA PRIVATE KEY"),0,[1],"02"),Ke=J(Un,0,[2],"02"),lt=J(Un,0,[3],"02"),mt=J(Un,0,[4],"02"),$t=J(Un,0,[5],"02");return(Vt=new Ie).setPrivate(new U(Ue,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1)return De=Oe(T,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(T.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(T);if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Tt=Me.getDecryptedKeyHex(T,C),gn=new Se;return gn.readPKCS5PrvKeyHex(Tt),gn}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Ft,Vt=J(Un=Me.getDecryptedKeyHex(T,C),0,[1],"04"),zn=J(Un,0,[2,0],"06"),Nn=J(Un,0,[3,0],"03").substr(2);if(G.crypto.OID.oidhex2name[zn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+zn);return(Ft=new we({curve:G.crypto.OID.oidhex2name[zn]})).setPublicKeyHex(Nn),Ft.setPrivateKeyHex(Vt),Ft.isPublic=!1,Ft}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Un;return Ue=J(Un=Me.getDecryptedKeyHex(T,C),0,[1],"02"),Ke=J(Un,0,[2],"02"),lt=J(Un,0,[3],"02"),mt=J(Un,0,[4],"02"),$t=J(Un,0,[5],"02"),(Vt=new Ie).setPrivate(new U(Ue,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(T.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(T,C);throw new Error("not supported argument")},jt.generateKeypair=function(T,C){if(T=="RSA"){var R=C;(we=new Se).generate(R,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new Se,J=we.n.toString(16),le=we.e.toString(16);return N.setPublic(J,le),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}if(T=="EC"){var we,Ie,xe=C,Oe=new G.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(we=new G.crypto.ECDSA({curve:xe})).setPublicKeyHex(Oe.ecpubhex),we.setPrivateKeyHex(Oe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new G.crypto.ECDSA({curve:xe})).setPublicKeyHex(Oe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}throw new Error("unknown algorithm: "+T)},jt.getPEM=function(T,C,R,N,J,le){var we=G,Ie=we.asn1,xe=Ie.DERObjectIdentifier,Oe=Ie.DERInteger,Me=Ie.ASN1Util.newObject,$e=Ie.x509.SubjectPublicKeyInfo,ze=we.crypto,Xe=ze.DSA,ot=ze.ECDSA,dt=Se;function ut(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.n}},{int:Ft.e},{int:{bigint:Ft.d}},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.dmp1}},{int:{bigint:Ft.dmq1}},{int:{bigint:Ft.coeff}}]})}function be(Ft){return Me({seq:[{int:1},{octstr:{hex:Ft.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ft.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ft.pubKeyHex}}]}]})}function De(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.g}},{int:{bigint:Ft.y}},{int:{bigint:Ft.x}}]})}if((dt!==void 0&&T instanceof dt||Xe!==void 0&&T instanceof Xe||ot!==void 0&&T instanceof ot)&&T.isPublic==1&&(C===void 0||C=="PKCS8PUB"))return bt(mt=new $e(T).getEncodedHex(),"PUBLIC KEY");if(C=="PKCS1PRV"&&dt!==void 0&&T instanceof dt&&(R===void 0||R==null)&&T.isPrivate==1)return bt(mt=ut(T).getEncodedHex(),"RSA PRIVATE KEY");if(C=="PKCS1PRV"&&ot!==void 0&&T instanceof ot&&(R===void 0||R==null)&&T.isPrivate==1){var Ue=new xe({name:T.curveName}).getEncodedHex(),Ke=be(T).getEncodedHex(),lt="";return lt+=bt(Ue,"EC PARAMETERS"),lt+=bt(Ke,"EC PRIVATE KEY")}if(C=="PKCS1PRV"&&Xe!==void 0&&T instanceof Xe&&(R===void 0||R==null)&&T.isPrivate==1)return bt(mt=De(T).getEncodedHex(),"DSA PRIVATE KEY");if(C=="PKCS5PRV"&&dt!==void 0&&T instanceof dt&&R!==void 0&&R!=null&&T.isPrivate==1){var mt=ut(T).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,le)}if(C=="PKCS5PRV"&&ot!==void 0&&T instanceof ot&&R!==void 0&&R!=null&&T.isPrivate==1)return mt=be(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,le);if(C=="PKCS5PRV"&&Xe!==void 0&&T instanceof Xe&&R!==void 0&&R!=null&&T.isPrivate==1)return mt=De(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,le);var $t=function(Vt,zn){var Nn=Tt(Vt,zn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Nn.pbkdf2Salt}},{int:Nn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Nn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Nn.ciphertext}}]}).getEncodedHex()},Tt=function(Vt,zn){var Nn=P.lib.WordArray.random(8),Un=P.lib.WordArray.random(8),Qt=P.PBKDF2(zn,Nn,{keySize:6,iterations:100}),Gn=P.enc.Hex.parse(Vt),pn=P.TripleDES.encrypt(Gn,Qt,{iv:Un})+"",Yn={};return Yn.ciphertext=pn,Yn.pbkdf2Salt=P.enc.Hex.stringify(Nn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=P.enc.Hex.stringify(Un),Yn};if(C=="PKCS8PRV"&&dt!=null&&T instanceof dt&&T.isPrivate==1){var gn=ut(T).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY")}if(C=="PKCS8PRV"&&ot!==void 0&&T instanceof ot&&T.isPrivate==1)return gn=new Me({seq:[{int:1},{octstr:{hex:T.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+T.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:T.curveName}}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY");if(C=="PKCS8PRV"&&Xe!==void 0&&T instanceof Xe&&T.isPrivate==1)return gn=new Oe({bigint:T.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:T.p}},{int:{bigint:T.q}},{int:{bigint:T.g}}]}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},jt.getKeyFromCSRPEM=function(T){var C=Et(T,"CERTIFICATE REQUEST");return jt.getKeyFromCSRHex(C)},jt.getKeyFromCSRHex=function(T){var C=jt.parseCSRHex(T);return jt.getKey(C.p8pubkeyhex,null,"pkcs8pub")},jt.parseCSRHex=function(T){var C=ke,R=C.getChildIdx,N=C.getTLV,J={},le=T;if(le.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=R(le,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(le.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Ie=R(le,we[0]);if(Ie.length<3)throw new Error("malformed CSR(code:004)");return J.p8pubkeyhex=N(le,Ie[2]),J},jt.getKeyID=function(T){var C=jt,R=ke;typeof T=="string"&&T.indexOf("BEGIN ")!=-1&&(T=C.getKey(T));var N=Et(C.getPEM(T)),J=R.getIdxbyList(N,0,[1]),le=R.getV(N,J).substring(2);return G.crypto.Util.hashHex(le,"sha1")},jt.getJWKFromKey=function(T){var C={};if(T instanceof Se&&T.isPrivate)return C.kty="RSA",C.n=dn(T.n.toString(16)),C.e=dn(T.e.toString(16)),C.d=dn(T.d.toString(16)),C.p=dn(T.p.toString(16)),C.q=dn(T.q.toString(16)),C.dp=dn(T.dmp1.toString(16)),C.dq=dn(T.dmq1.toString(16)),C.qi=dn(T.coeff.toString(16)),C;if(T instanceof Se&&T.isPublic)return C.kty="RSA",C.n=dn(T.n.toString(16)),C.e=dn(T.e.toString(16)),C;if(T instanceof G.crypto.ECDSA&&T.isPrivate){if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=T.getPublicKeyXYHex();return C.kty="EC",C.crv=N,C.x=dn(R.x),C.y=dn(R.y),C.d=dn(T.prvKeyHex),C}if(T instanceof G.crypto.ECDSA&&T.isPublic){var N;if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=T.getPublicKeyXYHex(),C.kty="EC",C.crv=N,C.x=dn(R.x),C.y=dn(R.y),C}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(T){return ke.getChildIdx(T,0)},Se.getHexValueArrayOfChildrenFromHex=function(T){var C,R=ke.getV,N=R(T,(C=Se.getPosArrayOfChildrenFromHex(T))[0]),J=R(T,C[1]),le=R(T,C[2]),we=R(T,C[3]),Ie=R(T,C[4]),xe=R(T,C[5]),Oe=R(T,C[6]),Me=R(T,C[7]),$e=R(T,C[8]);return(C=new Array).push(N,J,le,we,Ie,xe,Oe,Me,$e),C},Se.prototype.readPrivateKeyFromPEMString=function(T){var C=Et(T),R=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(T){var C=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},Se.prototype.readPKCS8PrvKeyHex=function(T){var C,R,N,J,le,we,Ie,xe,Oe=ke,Me=Oe.getVbyListEx;if(Oe.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");try{C=Me(T,0,[2,0,1],"02"),R=Me(T,0,[2,0,2],"02"),N=Me(T,0,[2,0,3],"02"),J=Me(T,0,[2,0,4],"02"),le=Me(T,0,[2,0,5],"02"),we=Me(T,0,[2,0,6],"02"),Ie=Me(T,0,[2,0,7],"02"),xe=Me(T,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,R,N,J,le,we,Ie,xe)},Se.prototype.readPKCS5PubKeyHex=function(T){var C=ke,R=C.getV;if(C.isASN1HEX(T)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=C.getChildIdx(T,0);if(N.length!==2||T.substr(N[0],2)!=="02"||T.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var J=R(T,N[0]),le=R(T,N[1]);this.setPublic(J,le)},Se.prototype.readPKCS8PubKeyHex=function(T){var C=ke;if(C.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");if(C.getTLVbyListEx(T,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=C.getTLVbyListEx(T,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(T,C){var R,N;(R=new Zt).readCertHex(T),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function tn(T,C){for(var R="",N=C/4-T.length,J=0;J<N;J++)R+="0";return R+T}function Pn(T,C,R){for(var N="",J=0;N.length<C;)N+=ln(R(In(T+String.fromCharCode.apply(String,[(4278190080&J)>>24,(16711680&J)>>16,(65280&J)>>8,255&J])))),J+=1;return N}function Wt(T){for(var C in G.crypto.Util.DIGESTINFOHEAD){var R=G.crypto.Util.DIGESTINFOHEAD[C],N=R.length;if(T.substring(0,N)==R)return[C,T.substring(N)]}return[]}function Zt(T){var C,R=ke,N=R.getChildIdx,J=R.getV,le=R.getTLV,we=R.getVbyList,Ie=R.getVbyListEx,xe=R.getTLVbyList,Oe=R.getTLVbyListEx,Me=R.getIdxbyList,$e=R.getIdxbyListEx,ze=R.getVidx,Xe=R.getInt,ot=R.oidname,dt=R.hextooidstr,ut=Et;try{C=G.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=xe(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var De=xe(be,0,[0]),Ue=Xe(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Ie(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Oe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var De in C)if(be===C[De])return De;return ot(Ie(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return Me(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return jt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new G.crypto.Signature({alg:De});return lt.init(be),lt.updateHex(Ke),lt.verify(Ue)},this.parseExt=function(be){var De,Ue,Ke;if(be===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Ue=N(Ke,De)}else{Ke=Et(be);var lt=Me(Ke,0,[0,3,0,0],"06");if(J(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Ue=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var $t={critical:!1},Tt=0;N(Ke,Ue[mt]).length===3&&($t.critical=!0,Tt=1),$t.oid=R.hextooidstr(we(Ke,Ue[mt],[0],"06"));var gn=Me(Ke,Ue[mt],[1+Tt]);$t.vidx=ze(Ke,gn),this.aExtInfo.push($t)}},this.getExtInfo=function(be){var De=this.aExtInfo,Ue=be;if(be.match(/^[0-9.]+$/)||(Ue=G.asn1.x509.OID.name2oid(be)),Ue!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Ue)return De[Ke]}},this.getExtBasicConstraints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),be==="3000")return Ke;if(be==="30030101ff")return Ke.cA=!0,Ke;if(be.substr(0,12)==="30060101ff02"){var lt=J(be,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(be).split(","),Ke},this.getExtKeyUsageBin=function(be){if(be===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";be=le(this.hex,De.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var Ue="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(Ue=Ue.slice(-8)),be.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(be){for(var De=this.getExtKeyUsageBin(be),Ue=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Ue.push(Zt.KEYUSAGE_NAME[Ke]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=J(be,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=be.substr(lt[mt],2);if($t==="80"&&(Ke.kid={hex:J(be,lt[mt])}),$t==="a1"){var Tt=le(be,lt[mt]),gn=this.getGeneralNames(Tt);Ke.issuer=gn[0].dn}$t==="82"&&(Ke.sn={hex:J(be,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++)Ke.array.push(ot(J(be,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var De=new Array,Ue=le(this.hex,be.vidx);if(Ue==="")return De;for(var Ke=N(Ue,0),lt=0;lt<Ke.length;lt++)De.push(ot(J(Ue,Ke[lt])));return De},this.getExtSubjectAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getExtIssuerAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getGeneralNames=function(be){for(var De=N(be,0),Ue=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(le(be,De[Ke]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(be){var De=be.substr(0,2),Ue=J(be,0),Ke=ln(Ue);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var be,De,Ue,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=le(this.hex,Ke.vidx),$t=N(mt,0),Tt=0;Tt<$t.length;Tt++)Ue=mt.substr($t[Tt],2),be=J(mt,$t[Tt]),Ue==="81"&&(De=un(be),lt.push(["MAIL",De])),Ue==="82"&&(De=un(be),lt.push(["DNS",De])),Ue==="84"&&(De=Zt.hex2dn(be,0),lt.push(["DN",De])),Ue==="86"&&(De=un(be),lt.push(["URI",De])),Ue==="87"&&(De=ft(be),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]);Ke.array.push(this.getDistributionPoint($t))}return Ke},this.getDistributionPoint=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=le(be,Ue[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=le(be,Ue[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var De=new Array,Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++)try{var lt=un(we(this.hex,Ue[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++){var lt=we(this.hex,Ue[Ke],[0],"06"),mt=we(this.hex,Ue[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(un(mt)),lt==="2b06010505073002"&&De.caissuer.push(un(mt))}return De},this.getExtAuthorityInfoAccess=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=Ie(be,lt[mt],[0],"06"),Tt=un(we(be,lt[mt],[1],"86"));if($t=="2b06010505073001")Ke.array.push({ocsp:Tt});else{if($t!="2b06010505073002")throw new Error("unknown method: "+$t);Ke.array.push({caissuer:Tt})}}return Ke},this.getExtCertificatePolicies=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]),Tt=this.getPolicyInformation($t);Ke.array.push(Tt)}return Ke},this.getPolicyInformation=function(be){var De={},Ue=we(be,0,[0],"06");De.policyoid=ot(Ue);var Ke=$e(be,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(be,Ke),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]),Tt=this.getPolicyQualifierInfo($t);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(be){var De={},Ue=we(be,0,[0],"06");if(Ue==="2b06010505070201"){var Ke=Ie(be,0,[1],"16");De.cps=ln(Ke)}else if(Ue==="2b06010505070202"){var lt=xe(be,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=le(be,Ue[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(be){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],De.str=ln(J(be,0)),De},this.getExtCRLNumber=function(be,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),be.substr(0,2)=="02")return Ue.num={hex:J(be,0)},Ue;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),be.substr(0,2)=="0a")return Ue.code=parseInt(J(be,0),16),Ue;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ke=J(be,0);return Ue.hex=Ke,Ue},this.getExtOcspNoCheck=function(be,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(be,0);if(lt.length>1){var mt=le(be,lt[1]),$t=this.getGeneralName(mt);$t.uri!=null&&(Ke.uri=$t.uri)}if(lt.length>2){var Tt=le(be,lt[2]);Tt=="0101ff"&&(Ke.reqauth=!0),Tt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(be){for(var De=null,Ue=[],Ke=0;Ke<be.length;Ke++)for(var lt=be[Ke],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ke=0;Ke<Ue.length;Ke++){var $t=Ue[Ke],Tt=$t.ds,gn=$t.value,Ft=$t.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(Ft!="CN")return"mixed";if(G.lang.String.isMail(gn))continue;return"mixed"}if(Ft=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(be){var De=this.getX500NameArray(be);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getRDN(le(be,Ue[Ke])));return De},this.getRDN=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getAttrTypeAndValue(le(be,Ue[Ke])));return De},this.getAttrTypeAndValue=function(be){var De={type:null,value:null,ds:null},Ue=N(be,0),Ke=we(be,Ue[0],[],"06"),lt=we(be,Ue[1],[]),mt=G.asn1.ASN1Util.oidHexToInt(Ke);return De.type=G.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[be.substr(Ue[1],2)],De.ds!="bmp"?De.value=un(lt):De.value=it(lt),De},this.readCertPEM=function(be){this.readCertHex(ut(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=bt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(be=Oe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=le(be,Ue[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(be){var De=N(be,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+be);var Ue=dt(we(be,0,[0],"06")),Ke=!1;De==3&&xe(be,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(be,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var $t={extname:Ue,extn:lt};return Ke&&($t.critical=!0),$t},this.findExt=function(be,De){for(var Ue=0;Ue<be.length;Ue++)if(be[Ue].extname==De)return be[Ue];return null},this.updateExtCDPFullURI=function(be,De){var Ue=this.findExt(be,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,$t=0;$t<mt.length;$t++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(be){return"/"+be.map(function(De){return function(Ke){return Ke.map(function(lt){return function($t){return $t.type+"="+$t.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,De,Ue,Ke=function(Qt){return JSON.stringify(Qt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];if(Gn+="    policy oid: "+mr.policyoid+`
`,mr.array!==void 0)for(var yr=0;yr<mr.array.length;yr++){var lr=mr.array[yr];lr.cps!==void 0&&(Gn+="    cps: "+lr.cps+`
`)}}return Gn},mt=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];try{mr.dpname.full[0].uri!==void 0&&(Gn+="    "+mr.dpname.full[0].uri+`
`)}catch{}try{mr.dname.full[0].dn.hex!==void 0&&(Gn+="    "+Zt.hex2dn(mr.dpname.full[0].dn.hex)+`
`)}catch{}}return Gn},$t=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];mr.caissuer!==void 0&&(Gn+="    caissuer: "+mr.caissuer+`
`),mr.ocsp!==void 0&&(Gn+="    ocsp: "+mr.ocsp+`
`)}return Gn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(be+="    n="+Gt(De.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Gt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Ue.length;Tt++){var gn=Ue[Tt],Ft=G.asn1.x509.OID.oid2name(gn.oid);Ft===""&&(Ft=gn.oid);var Vt="";if(gn.critical===!0&&(Vt="CRITICAL"),be+="  "+Ft+" "+Vt+`:
`,Ft==="basicConstraints"){var zn=this.getExtBasicConstraints();zn.cA===void 0?be+=`    {}
`:(be+="    cA=true",zn.pathLen!==void 0&&(be+=", pathLen="+zn.pathLen),be+=`
`)}else if(Ft==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(Ft==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ft==="authorityKeyIdentifier"){var Nn=this.getExtAuthorityKeyIdentifier();Nn.kid!==void 0&&(be+="    kid="+Nn.kid.hex+`
`)}else Ft==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ft==="subjectAltName"?be+="    "+Ke(this.getExtSubjectAltName())+`
`:Ft==="cRLDistributionPoints"?be+=mt(this.getExtCRLDistributionPoints()):Ft==="authorityInfoAccess"?be+=$t(this.getExtAuthorityInfoAccess()):Ft==="certificatePolicies"&&(be+=lt(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof T=="string"&&(T.indexOf("-----BEGIN")!=-1?this.readCertPEM(T):G.lang.String.isHex(T)&&this.readCertHex(T))}Se.prototype.sign=function(T,C){var R=function(J){return G.crypto.Util.hashString(J,C)}(T);return this.signWithMessageHash(R,C)},Se.prototype.signWithMessageHash=function(T,C){var R=gt(G.crypto.Util.getPaddedDigestInfoHex(T,C,this.n.bitLength()),16);return tn(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(T,C,R){var N=function(le){return G.crypto.Util.hashHex(le,C)}(In(T));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,C,R)},Se.prototype.signWithMessageHashPSS=function(T,C,R){var N,J=ln(T),le=J.length,we=this.n.bitLength()-1,Ie=Math.ceil(we/8),xe=function(be){return G.crypto.Util.hashHex(be,C)};if(R===-1||R===void 0)R=le;else if(R===-2)R=Ie-le-2;else if(R<-2)throw new Error("invalid salt length");if(Ie<le+R+2)throw new Error("data too long");var Oe="";R>0&&(Oe=new Array(R),new nt().nextBytes(Oe),Oe=String.fromCharCode.apply(String,Oe));var Me=ln(xe(In("\0\0\0\0\0\0\0\0"+J+Oe))),$e=[];for(N=0;N<Ie-R-le-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Oe,Xe=Pn(Me,ze.length,xe),ot=[];for(N=0;N<ze.length;N+=1)ot[N]=ze.charCodeAt(N)^Xe.charCodeAt(N);var dt=65280>>8*Ie-we&255;for(ot[0]&=~dt,N=0;N<le;N++)ot.push(Me.charCodeAt(N));return ot.push(188),tn(this.doPrivate(new U(ot)).toString(16),this.n.bitLength())},Se.prototype.verify=function(T,C){if((C=C.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(C,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var J=this.doPublic(R).toString(16);if(J.length+3!=N/4)return!1;var le=Wt(J.replace(/^1f+00/,""));if(le.length==0)return!1;var we=le[0];return le[1]==function(xe){return G.crypto.Util.hashString(xe,we)}(T)},Se.prototype.verifyWithMessageHash=function(T,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(C,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Wt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==T)},Se.prototype.verifyPSS=function(T,C,R,N){var J=function(we){return G.crypto.Util.hashHex(we,R)}(In(T));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(J,C,R,N)},Se.prototype.verifyWithMessageHashPSS=function(T,C,R,N){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var J,le=new U(C,16),we=function(Ue){return G.crypto.Util.hashHex(Ue,R)},Ie=ln(T),xe=Ie.length,Oe=this.n.bitLength()-1,Me=Math.ceil(Oe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(le).toByteArray();for(J=0;J<$e.length;J+=1)$e[J]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Xe=$e.substr(ze.length,xe),ot=65280>>8*Me-Oe&255;if(ze.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var dt=Pn(Xe,ze.length,we),ut=[];for(J=0;J<ze.length;J+=1)ut[J]=ze.charCodeAt(J)^dt.charCodeAt(J);ut[0]&=~ot;var be=Me-xe-N-2;for(J=0;J<be;J+=1)if(ut[J]!==0)throw new Error("leftmost octets not zero");if(ut[be]!==1)throw new Error("0x01 marker not found");return Xe===ln(we(In("\0\0\0\0\0\0\0\0"+Ie+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Zt.hex2dn=function(T,C){C===void 0&&(C=0);var R=new Zt;return ke.getTLV(T,C),R.getX500Name(T).str},Zt.hex2rdn=function(T,C){if(C===void 0&&(C=0),T.substr(C,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=ke.getChildIdx(T,C),J=0;J<N.length;J++)R.push(Zt.hex2attrTypeValue(T,N[J]));return(R=R.map(function(le){return le.replace("+","\\+")})).join("+")},Zt.hex2attrTypeValue=function(T,C){var R=ke,N=R.getV;if(C===void 0&&(C=0),T.substr(C,2)!=="30")throw new Error("malformed attribute type and value");var J=R.getChildIdx(T,C);J.length!==2||T.substr(J[0],2);var le=N(T,J[0]),we=G.asn1.ASN1Util.oidHexToInt(le);return G.asn1.x509.OID.oid2atype(we)+"="+ln(N(T,J[1]))},Zt.getPublicKeyFromCertHex=function(T){var C=new Zt;return C.readCertHex(T),C.getPublicKey()},Zt.getPublicKeyFromCertPEM=function(T){var C=new Zt;return C.readCertPEM(T),C.getPublicKey()},Zt.getPublicKeyInfoPropOfCertPEM=function(T){var C,R,N=ke.getVbyList,J={};return J.algparam=null,(C=new Zt).readCertPEM(T),R=C.getPublicKeyHex(),J.keyhex=N(R,0,[1],"03").substr(2),J.algoid=N(R,0,[0,0],"06"),J.algoid==="2a8648ce3d0201"&&(J.algparam=N(R,0,[0,1],"06")),J},Zt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],G!==void 0&&G||(r.KJUR=G={}),G.jws!==void 0&&G.jws||(G.jws={}),G.jws.JWS=function(){var T=G.jws.JWS.isSafeJSONString;this.parseJWS=function(C,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var J=N[1],le=N[2],we=N[3],Ie=J+"."+le;if(this.parsedJWS={},this.parsedJWS.headB64U=J,this.parsedJWS.payloadB64U=le,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Ie,!R){var xe=hn(we),Oe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Oe}var Me=Je(J),$e=Je(le);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!T(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},G.jws.JWS.sign=function(T,C,R,N,J){var le,we,Ie,xe=G,Oe=xe.jws.JWS,Me=Oe.readSafeJSONString,$e=Oe.isSafeJSONString,ze=xe.crypto,Xe=(ze.ECDSA,ze.Mac),ot=ze.Signature,dt=JSON;if(typeof C!="string"&&(C===void 0?"undefined":b(C))!="object")throw"spHeader must be JSON string or object: "+C;if((C===void 0?"undefined":b(C))=="object"&&(we=C,le=dt.stringify(we)),typeof C=="string"){if(!$e(le=C))throw"JWS Head is not safe JSON string: "+le;we=Me(le)}if(Ie=R,(R===void 0?"undefined":b(R))=="object"&&(Ie=dt.stringify(R)),T!=""&&T!=null||we.alg===void 0||(T=we.alg),T!=""&&T!=null&&we.alg===void 0&&(we.alg=T,le=dt.stringify(we)),T!==we.alg)throw"alg and sHeader.alg doesn't match: "+T+"!="+we.alg;var ut=null;if(Oe.jwsalg2sigalg[T]===void 0)throw"unsupported alg name: "+T;ut=Oe.jwsalg2sigalg[T];var be=je(le)+"."+je(Ie),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Xe({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(be),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new ot({alg:ut})).init(N,J),lt.updateString(be);var Ke=lt.sign();De=G.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new ot({alg:ut})).init(N,J),lt.updateString(be),De=lt.sign())}return be+"."+dn(De)},G.jws.JWS.verify=function(T,C,R){var N,J=G,le=J.jws.JWS,we=le.readSafeJSONString,Ie=J.crypto,xe=Ie.ECDSA,Oe=Ie.Mac,Me=Ie.Signature;b(Se)!==void 0&&(N=Se);var $e=T.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Xe=hn($e[2]),ot=we(Je($e[0])),dt=null,ut=null;if(ot.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=ot.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&C===null)throw"key shall be specified to verify.";if(typeof C=="string"&&C.indexOf("-----BEGIN ")!=-1&&(C=jt.getKey(C)),!(ut!="RS"&&ut!="PS"||C instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(C instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(le.jwsalg2sigalg[ot.alg]===void 0)throw"unsupported alg name: "+dt;if((be=le.jwsalg2sigalg[dt])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(C===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Oe({alg:be,pass:C});return De.updateString(ze),Xe==De.doFinal()}if(be.indexOf("withECDSA")!=-1){var Ue,Ke=null;try{Ke=xe.concatSigToASN1Sig(Xe)}catch{return!1}return(Ue=new Me({alg:be})).init(C),Ue.updateString(ze),Ue.verify(Ke)}return(Ue=new Me({alg:be})).init(C),Ue.updateString(ze),Ue.verify(Xe)},G.jws.JWS.parse=function(T){var C,R,N,J=T.split("."),le={};if(J.length!=2&&J.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return C=J[0],R=J[1],J.length==3&&(N=J[2]),le.headerObj=G.jws.JWS.readSafeJSONString(Je(C)),le.payloadObj=G.jws.JWS.readSafeJSONString(Je(R)),le.headerPP=JSON.stringify(le.headerObj,null,"  "),le.payloadObj==null?le.payloadPP=Je(R):le.payloadPP=JSON.stringify(le.payloadObj,null,"  "),N!==void 0&&(le.sigHex=hn(N)),le},G.jws.JWS.verifyJWT=function(T,C,R){var N=G.jws,J=N.JWS,le=J.readSafeJSONString,we=J.inArray,Ie=J.includedArray,xe=T.split("."),Oe=xe[0],Me=xe[1],$e=(hn(xe[2]),le(Je(Oe))),ze=le(Je(Me));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!we($e.alg,R.alg)||ze.iss!==void 0&&b(R.iss)==="object"&&!we(ze.iss,R.iss)||ze.sub!==void 0&&b(R.sub)==="object"&&!we(ze.sub,R.sub))return!1;if(ze.aud!==void 0&&b(R.aud)==="object"){if(typeof ze.aud=="string"){if(!we(ze.aud,R.aud))return!1}else if(b(ze.aud)=="object"&&!Ie(ze.aud,R.aud))return!1}var Xe=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Xe=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+R.gracePeriod<Xe)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Xe<ze.nbf-R.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Xe<ze.iat-R.gracePeriod)&&(ze.jti===void 0||R.jti===void 0||ze.jti===R.jti)&&!!J.verify(T,C,R.alg)},G.jws.JWS.includedArray=function(T,C){var R=G.jws.JWS.inArray;if(T===null||(T===void 0?"undefined":b(T))!=="object"||typeof T.length!="number")return!1;for(var N=0;N<T.length;N++)if(!R(T[N],C))return!1;return!0},G.jws.JWS.inArray=function(T,C){if(C===null||(C===void 0?"undefined":b(C))!=="object"||typeof C.length!="number")return!1;for(var R=0;R<C.length;R++)if(C[R]==T)return!0;return!1},G.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},G.jws.JWS.isSafeJSONString=function(T,C,R){var N=null;try{return((N=W(T))===void 0?"undefined":b(N))!="object"||N.constructor===Array?0:(C&&(C[R]=N),1)}catch{return 0}},G.jws.JWS.readSafeJSONString=function(T){var C=null;try{return((C=W(T))===void 0?"undefined":b(C))!="object"||C.constructor===Array?null:C}catch{return null}},G.jws.JWS.getEncodedSignatureValueFromJWS=function(T){var C=T.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(C==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},G.jws.JWS.getJWKthumbprint=function(T){if(T.kty!=="RSA"&&T.kty!=="EC"&&T.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var C="{";if(T.kty==="RSA"){if(typeof T.n!="string"||typeof T.e!="string")throw"wrong n and e value for RSA key";C+='"e":"'+T.e+'",',C+='"kty":"'+T.kty+'",',C+='"n":"'+T.n+'"}'}else if(T.kty==="EC"){if(typeof T.crv!="string"||typeof T.x!="string"||typeof T.y!="string")throw"wrong crv, x and y value for EC key";C+='"crv":"'+T.crv+'",',C+='"kty":"'+T.kty+'",',C+='"x":"'+T.x+'",',C+='"y":"'+T.y+'"}'}else if(T.kty==="oct"){if(typeof T.k!="string")throw"wrong k value for oct(symmetric) key";C+='"kty":"'+T.kty+'",',C+='"k":"'+T.k+'"}'}var R=In(C);return dn(G.crypto.Util.hashHex(R,"sha256"))},G.jws.IntDate={},G.jws.IntDate.get=function(T){var C=G.jws.IntDate,R=C.getNow,N=C.getZulu;if(T=="now")return R();if(T=="now + 1hour")return R()+3600;if(T=="now + 1day")return R()+86400;if(T=="now + 1month")return R()+2592e3;if(T=="now + 1year")return R()+31536e3;if(T.match(/Z$/))return N(T);if(T.match(/^[0-9]+$/))return parseInt(T);throw"unsupported format: "+T},G.jws.IntDate.getZulu=function(T){return Hn(T)},G.jws.IntDate.getNow=function(){return~~(new Date/1e3)},G.jws.IntDate.intDate2UTCString=function(T){return new Date(1e3*T).toUTCString()},G.jws.IntDate.intDate2Zulu=function(T){var C=new Date(1e3*T);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=he,r.BigInteger=U,r.RSAKey=Se;var En=G.crypto.EDSA;r.EDSA=En;var Cn=G.crypto.DSA;r.DSA=Cn;var qn=G.crypto.Signature;r.Signature=qn;var Ar=G.crypto.MessageDigest;r.MessageDigest=Ar;var Vr=G.crypto.Mac;r.Mac=Vr;var Kr=G.crypto.Cipher;r.Cipher=Kr,r.KEYUTIL=jt,r.ASN1HEX=ke,r.X509=Zt,r.CryptoJS=P,r.b64tohex=Q,r.b64toBA=X,r.stoBA=Rt,r.BAtos=Lt,r.BAtohex=Nt,r.stohex=Pt,r.stob64=function(C){return F(Pt(C))},r.stob64u=function(C){return zt(F(Pt(C)))},r.b64utos=function(C){return Lt(X(Tr(C)))},r.b64tob64u=zt,r.b64utob64=Tr,r.hex2b64=F,r.hextob64u=dn,r.b64utohex=hn,r.utf8tob64u=je,r.b64utoutf8=Je,r.utf8tob64=function(C){return F(Jn(Ct(C)))},r.b64toutf8=function(C){return decodeURIComponent(We(Q(C)))},r.utf8tohex=gr,r.hextoutf8=un,r.hextorstr=ln,r.rstrtohex=In,r.hextob64=ur,r.hextob64nl=Le,r.b64nltohex=qe,r.hextopem=bt,r.pemtohex=Et,r.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(C.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(C.length/2),N=new DataView(R),J=0;J<C.length/2;J++)N.setUint8(J,parseInt(C.substr(2*J,2),16));return R},r.ArrayBuffertohex=function(C){for(var R="",N=new DataView(C),J=0;J<C.byteLength;J++)R+=("00"+N.getUint8(J).toString(16)).slice(-2);return R},r.zulutomsec=Mt,r.zulutosec=Hn,r.zulutodate=function(C){return new Date(Mt(C))},r.datetozulu=function(C,R,N){var J,le=C.getUTCFullYear();if(R){if(le<1950||2049<le)throw"not proper year for UTCTime: "+le;J=(""+le).slice(-2)}else J=("000"+le).slice(-4);if(J+=("0"+(C.getUTCMonth()+1)).slice(-2),J+=("0"+C.getUTCDate()).slice(-2),J+=("0"+C.getUTCHours()).slice(-2),J+=("0"+C.getUTCMinutes()).slice(-2),J+=("0"+C.getUTCSeconds()).slice(-2),N){var we=C.getUTCMilliseconds();we!==0&&(J+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return J+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ce,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(C){var R="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&C.indexOf(":")!==-1)return Ce(C);throw R}var N=C.split(".");if(N.length!==4)throw R;var J="";try{for(var le=0;le<4;le++)J+=("0"+parseInt(N[le]).toString(16)).slice(-2);return J}catch{throw R}},r.encodeURIComponentAll=Ct,r.newline_toUnix=function(C){return C=C.replace(/\r\n/gm,`
`)},r.newline_toDos=function(C){return C=(C=C.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Gt,r.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(R,N,J){var le=parseInt(R);if(le<0||255<le)throw"integer not in range 0-255";return("00"+le.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(C,R){var N=C.length;C.length>R.length&&(N=R.length);for(var J=0;J<N;J++)if(C.charCodeAt(J)!=R.charCodeAt(J))return J;return C.length!=R.length?N:-1},r.KJUR=G;var Ir=G.crypto;r.crypto=Ir;var $n=G.asn1;r.asn1=$n;var Yr=G.jws;r.jws=Yr;var Wi=G.lang;r.lang=Wi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=i(30),s=i(31),l=i(32);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(oe,z){if(c()<z)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(oe=new Uint8Array(z)).__proto__=h.prototype:(oe===null&&(oe=new h(z)),oe.length=z),oe}function h(oe,z,$){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(oe,z,$);if(typeof oe=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,oe)}return m(this,oe,z,$)}function m(oe,z,$,ae){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function(he,ye,He,Ee){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Ee||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Ee===void 0?new Uint8Array(ye):Ee===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Ee),h.TYPED_ARRAY_SUPPORT?(he=ye).__proto__=h.prototype:he=_(he,ye),he}(oe,z,$,ae):typeof z=="string"?function(he,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!h.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Ee=0|b(ye,He),Fe=(he=d(he,Ee)).write(ye,He);return Fe!==Ee&&(he=he.slice(0,Fe)),he}(oe,z,$):function(he,ye){if(h.isBuffer(ye)){var He=0|x(ye.length);return(he=d(he,He)).length===0||ye.copy(he,0,0,He),he}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Fe){return Fe!=Fe}(ye.length)?d(he,0):_(he,ye);if(ye.type==="Buffer"&&l(ye.data))return _(he,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(oe,z)}function y(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be a number');if(oe<0)throw new RangeError('"size" argument must not be negative')}function v(oe,z){if(y(z),oe=d(oe,z<0?0:0|x(z)),!h.TYPED_ARRAY_SUPPORT)for(var $=0;$<z;++$)oe[$]=0;return oe}function _(oe,z){var $=z.length<0?0:0|x(z.length);oe=d(oe,$);for(var ae=0;ae<$;ae+=1)oe[ae]=255&z[ae];return oe}function x(oe){if(oe>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|oe}function b(oe,z){if(h.isBuffer(oe))return oe.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(oe)||oe instanceof ArrayBuffer))return oe.byteLength;typeof oe!="string"&&(oe=""+oe);var $=oe.length;if($===0)return 0;for(var ae=!1;;)switch(z){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Pe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Ne(oe).length;default:if(ae)return Pe(oe).length;z=(""+z).toLowerCase(),ae=!0}}function S(oe,z,$){var ae=!1;if((z===void 0||z<0)&&(z=0),z>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(z>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return de(this,z,$);case"utf8":case"utf-8":return te(this,z,$);case"ascii":return pe(this,z,$);case"latin1":case"binary":return _e(this,z,$);case"base64":return ce(this,z,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,z,$);default:if(ae)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),ae=!0}}function A(oe,z,$){var ae=oe[z];oe[z]=oe[$],oe[$]=ae}function P(oe,z,$,ae,Z){if(oe.length===0)return-1;if(typeof $=="string"?(ae=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=Z?0:oe.length-1),$<0&&($=oe.length+$),$>=oe.length){if(Z)return-1;$=oe.length-1}else if($<0){if(!Z)return-1;$=0}if(typeof z=="string"&&(z=h.from(z,ae)),h.isBuffer(z))return z.length===0?-1:O(oe,z,$,ae,Z);if(typeof z=="number")return z&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(oe,z,$):Uint8Array.prototype.lastIndexOf.call(oe,z,$):O(oe,[z],$,ae,Z);throw new TypeError("val must be string, number or Buffer")}function O(oe,z,$,ae,Z){var he,ye=1,He=oe.length,Ee=z.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(oe.length<2||z.length<2)return-1;ye=2,He/=2,Ee/=2,$/=2}function Fe(qt,Se){return ye===1?qt[Se]:qt.readUInt16BE(Se*ye)}if(Z){var tt=-1;for(he=$;he<He;he++)if(Fe(oe,he)===Fe(z,tt===-1?0:he-tt)){if(tt===-1&&(tt=he),he-tt+1===Ee)return tt*ye}else tt!==-1&&(he-=he-tt),tt=-1}else for($+Ee>He&&($=He-Ee),he=$;he>=0;he--){for(var nt=!0,gt=0;gt<Ee;gt++)if(Fe(oe,he+gt)!==Fe(z,gt)){nt=!1;break}if(nt)return he}return-1}function D(oe,z,$,ae){$=Number($)||0;var Z=oe.length-$;ae?(ae=Number(ae))>Z&&(ae=Z):ae=Z;var he=z.length;if(he%2!=0)throw new TypeError("Invalid hex string");ae>he/2&&(ae=he/2);for(var ye=0;ye<ae;++ye){var He=parseInt(z.substr(2*ye,2),16);if(isNaN(He))return ye;oe[$+ye]=He}return ye}function F(oe,z,$,ae){return Ye(Pe(z,oe.length-$),oe,$,ae)}function Q(oe,z,$,ae){return Ye(function(he){for(var ye=[],He=0;He<he.length;++He)ye.push(255&he.charCodeAt(He));return ye}(z),oe,$,ae)}function X(oe,z,$,ae){return Q(oe,z,$,ae)}function U(oe,z,$,ae){return Ye(Ne(z),oe,$,ae)}function Y(oe,z,$,ae){return Ye(function(he,ye){for(var He,Ee,Fe,tt=[],nt=0;nt<he.length&&!((ye-=2)<0);++nt)Ee=(He=he.charCodeAt(nt))>>8,Fe=He%256,tt.push(Fe),tt.push(Ee);return tt}(z,oe.length-$),oe,$,ae)}function ce(oe,z,$){return z===0&&$===oe.length?o.fromByteArray(oe):o.fromByteArray(oe.slice(z,$))}function te(oe,z,$){$=Math.min(oe.length,$);for(var ae=[],Z=z;Z<$;){var he,ye,He,Ee,Fe=oe[Z],tt=null,nt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(Z+nt<=$)switch(nt){case 1:Fe<128&&(tt=Fe);break;case 2:(192&(he=oe[Z+1]))==128&&(Ee=(31&Fe)<<6|63&he)>127&&(tt=Ee);break;case 3:he=oe[Z+1],ye=oe[Z+2],(192&he)==128&&(192&ye)==128&&(Ee=(15&Fe)<<12|(63&he)<<6|63&ye)>2047&&(Ee<55296||Ee>57343)&&(tt=Ee);break;case 4:he=oe[Z+1],ye=oe[Z+2],He=oe[Z+3],(192&he)==128&&(192&ye)==128&&(192&He)==128&&(Ee=(15&Fe)<<18|(63&he)<<12|(63&ye)<<6|63&He)>65535&&Ee<1114112&&(tt=Ee)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,ae.push(tt>>>10&1023|55296),tt=56320|1023&tt),ae.push(tt),Z+=nt}return function(qt){var Se=qt.length;if(Se<=se)return String.fromCharCode.apply(String,qt);for(var Be="",ne=0;ne<Se;)Be+=String.fromCharCode.apply(String,qt.slice(ne,ne+=se));return Be}(ae)}r.Buffer=h,r.SlowBuffer=function(z){return+z!=z&&(z=0),h.alloc(+z)},r.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),h.poolSize=8192,h._augment=function(oe){return oe.__proto__=h.prototype,oe},h.from=function(oe,z,$){return m(null,oe,z,$)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(oe,z,$){return function(Z,he,ye,He){return y(he),he<=0?d(Z,he):ye!==void 0?typeof He=="string"?d(Z,he).fill(ye,He):d(Z,he).fill(ye):d(Z,he)}(null,oe,z,$)},h.allocUnsafe=function(oe){return v(null,oe)},h.allocUnsafeSlow=function(oe){return v(null,oe)},h.isBuffer=function(z){return!(z==null||!z._isBuffer)},h.compare=function(z,$){if(!h.isBuffer(z)||!h.isBuffer($))throw new TypeError("Arguments must be Buffers");if(z===$)return 0;for(var ae=z.length,Z=$.length,he=0,ye=Math.min(ae,Z);he<ye;++he)if(z[he]!==$[he]){ae=z[he],Z=$[he];break}return ae<Z?-1:Z<ae?1:0},h.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(z,$){if(!l(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return h.alloc(0);var ae;if($===void 0)for($=0,ae=0;ae<z.length;++ae)$+=z[ae].length;var Z=h.allocUnsafe($),he=0;for(ae=0;ae<z.length;++ae){var ye=z[ae];if(!h.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(Z,he),he+=ye.length}return Z},h.byteLength=b,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<z;$+=2)A(this,$,$+1);return this},h.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<z;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},h.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<z;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},h.prototype.toString=function(){var z=0|this.length;return z===0?"":arguments.length===0?te(this,0,z):S.apply(this,arguments)},h.prototype.equals=function(z){if(!h.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||h.compare(this,z)===0},h.prototype.inspect=function(){var z="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(z+=" ... ")),"<Buffer "+z+">"},h.prototype.compare=function(z,$,ae,Z,he){if(!h.isBuffer(z))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),ae===void 0&&(ae=z?z.length:0),Z===void 0&&(Z=0),he===void 0&&(he=this.length),$<0||ae>z.length||Z<0||he>this.length)throw new RangeError("out of range index");if(Z>=he&&$>=ae)return 0;if(Z>=he)return-1;if($>=ae)return 1;if(this===z)return 0;for(var ye=(he>>>=0)-(Z>>>=0),He=(ae>>>=0)-($>>>=0),Ee=Math.min(ye,He),Fe=this.slice(Z,he),tt=z.slice($,ae),nt=0;nt<Ee;++nt)if(Fe[nt]!==tt[nt]){ye=Fe[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},h.prototype.includes=function(z,$,ae){return this.indexOf(z,$,ae)!==-1},h.prototype.indexOf=function(z,$,ae){return P(this,z,$,ae,!0)},h.prototype.lastIndexOf=function(z,$,ae){return P(this,z,$,ae,!1)},h.prototype.write=function(z,$,ae,Z){if($===void 0)Z="utf8",ae=this.length,$=0;else if(ae===void 0&&typeof $=="string")Z=$,ae=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(ae)?(ae|=0,Z===void 0&&(Z="utf8")):(Z=ae,ae=void 0)}var he=this.length-$;if((ae===void 0||ae>he)&&(ae=he),z.length>0&&(ae<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ye=!1;;)switch(Z){case"hex":return D(this,z,$,ae);case"utf8":case"utf-8":return F(this,z,$,ae);case"ascii":return Q(this,z,$,ae);case"latin1":case"binary":return X(this,z,$,ae);case"base64":return U(this,z,$,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,z,$,ae);default:if(ye)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ye=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function pe(oe,z,$){var ae="";$=Math.min(oe.length,$);for(var Z=z;Z<$;++Z)ae+=String.fromCharCode(127&oe[Z]);return ae}function _e(oe,z,$){var ae="";$=Math.min(oe.length,$);for(var Z=z;Z<$;++Z)ae+=String.fromCharCode(oe[Z]);return ae}function de(oe,z,$){var ae=oe.length;(!z||z<0)&&(z=0),(!$||$<0||$>ae)&&($=ae);for(var Z="",he=z;he<$;++he)Z+=Ze(oe[he]);return Z}function ue(oe,z,$){for(var ae=oe.slice(z,$),Z="",he=0;he<ae.length;he+=2)Z+=String.fromCharCode(ae[he]+256*ae[he+1]);return Z}function Re(oe,z,$){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+z>$)throw new RangeError("Trying to access beyond buffer length")}function k(oe,z,$,ae,Z,he){if(!h.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>Z||z<he)throw new RangeError('"value" argument is out of bounds');if($+ae>oe.length)throw new RangeError("Index out of range")}function ie(oe,z,$,ae){z<0&&(z=65535+z+1);for(var Z=0,he=Math.min(oe.length-$,2);Z<he;++Z)oe[$+Z]=(z&255<<8*(ae?Z:1-Z))>>>8*(ae?Z:1-Z)}function me(oe,z,$,ae){z<0&&(z=4294967295+z+1);for(var Z=0,he=Math.min(oe.length-$,4);Z<he;++Z)oe[$+Z]=z>>>8*(ae?Z:3-Z)&255}function K(oe,z,$,ae,Z,he){if($+ae>oe.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function ee(oe,z,$,ae,Z){return Z||K(oe,0,$,4),s.write(oe,z,$,ae,23,4),$+4}function ge(oe,z,$,ae,Z){return Z||K(oe,0,$,8),s.write(oe,z,$,ae,52,8),$+8}h.prototype.slice=function(z,$){var ae,Z=this.length;if((z=~~z)<0?(z+=Z)<0&&(z=0):z>Z&&(z=Z),($=$===void 0?Z:~~$)<0?($+=Z)<0&&($=0):$>Z&&($=Z),$<z&&($=z),h.TYPED_ARRAY_SUPPORT)(ae=this.subarray(z,$)).__proto__=h.prototype;else{var he=$-z;ae=new h(he,void 0);for(var ye=0;ye<he;++ye)ae[ye]=this[ye+z]}return ae},h.prototype.readUIntLE=function(z,$,ae){z|=0,$|=0,ae||Re(z,$,this.length);for(var Z=this[z],he=1,ye=0;++ye<$&&(he*=256);)Z+=this[z+ye]*he;return Z},h.prototype.readUIntBE=function(z,$,ae){z|=0,$|=0,ae||Re(z,$,this.length);for(var Z=this[z+--$],he=1;$>0&&(he*=256);)Z+=this[z+--$]*he;return Z},h.prototype.readUInt8=function(z,$){return $||Re(z,1,this.length),this[z]},h.prototype.readUInt16LE=function(z,$){return $||Re(z,2,this.length),this[z]|this[z+1]<<8},h.prototype.readUInt16BE=function(z,$){return $||Re(z,2,this.length),this[z]<<8|this[z+1]},h.prototype.readUInt32LE=function(z,$){return $||Re(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},h.prototype.readUInt32BE=function(z,$){return $||Re(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},h.prototype.readIntLE=function(z,$,ae){z|=0,$|=0,ae||Re(z,$,this.length);for(var Z=this[z],he=1,ye=0;++ye<$&&(he*=256);)Z+=this[z+ye]*he;return Z>=(he*=128)&&(Z-=Math.pow(2,8*$)),Z},h.prototype.readIntBE=function(z,$,ae){z|=0,$|=0,ae||Re(z,$,this.length);for(var Z=$,he=1,ye=this[z+--Z];Z>0&&(he*=256);)ye+=this[z+--Z]*he;return ye>=(he*=128)&&(ye-=Math.pow(2,8*$)),ye},h.prototype.readInt8=function(z,$){return $||Re(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},h.prototype.readInt16LE=function(z,$){$||Re(z,2,this.length);var ae=this[z]|this[z+1]<<8;return 32768&ae?4294901760|ae:ae},h.prototype.readInt16BE=function(z,$){$||Re(z,2,this.length);var ae=this[z+1]|this[z]<<8;return 32768&ae?4294901760|ae:ae},h.prototype.readInt32LE=function(z,$){return $||Re(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},h.prototype.readInt32BE=function(z,$){return $||Re(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},h.prototype.readFloatLE=function(z,$){return $||Re(z,4,this.length),s.read(this,z,!0,23,4)},h.prototype.readFloatBE=function(z,$){return $||Re(z,4,this.length),s.read(this,z,!1,23,4)},h.prototype.readDoubleLE=function(z,$){return $||Re(z,8,this.length),s.read(this,z,!0,52,8)},h.prototype.readDoubleBE=function(z,$){return $||Re(z,8,this.length),s.read(this,z,!1,52,8)},h.prototype.writeUIntLE=function(z,$,ae,Z){z=+z,$|=0,ae|=0,Z||k(this,z,$,ae,Math.pow(2,8*ae)-1,0);var he=1,ye=0;for(this[$]=255&z;++ye<ae&&(he*=256);)this[$+ye]=z/he&255;return $+ae},h.prototype.writeUIntBE=function(z,$,ae,Z){z=+z,$|=0,ae|=0,Z||k(this,z,$,ae,Math.pow(2,8*ae)-1,0);var he=ae-1,ye=1;for(this[$+he]=255&z;--he>=0&&(ye*=256);)this[$+he]=z/ye&255;return $+ae},h.prototype.writeUInt8=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,1,255,0),h.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[$]=255&z,$+1},h.prototype.writeUInt16LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ie(this,z,$,!0),$+2},h.prototype.writeUInt16BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ie(this,z,$,!1),$+2},h.prototype.writeUInt32LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[$+3]=z>>>24,this[$+2]=z>>>16,this[$+1]=z>>>8,this[$]=255&z):me(this,z,$,!0),$+4},h.prototype.writeUInt32BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},h.prototype.writeIntLE=function(z,$,ae,Z){if(z=+z,$|=0,!Z){var he=Math.pow(2,8*ae-1);k(this,z,$,ae,he-1,-he)}var ye=0,He=1,Ee=0;for(this[$]=255&z;++ye<ae&&(He*=256);)z<0&&Ee===0&&this[$+ye-1]!==0&&(Ee=1),this[$+ye]=(z/He>>0)-Ee&255;return $+ae},h.prototype.writeIntBE=function(z,$,ae,Z){if(z=+z,$|=0,!Z){var he=Math.pow(2,8*ae-1);k(this,z,$,ae,he-1,-he)}var ye=ae-1,He=1,Ee=0;for(this[$+ye]=255&z;--ye>=0&&(He*=256);)z<0&&Ee===0&&this[$+ye+1]!==0&&(Ee=1),this[$+ye]=(z/He>>0)-Ee&255;return $+ae},h.prototype.writeInt8=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,1,127,-128),h.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[$]=255&z,$+1},h.prototype.writeInt16LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ie(this,z,$,!0),$+2},h.prototype.writeInt16BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ie(this,z,$,!1),$+2},h.prototype.writeInt32LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8,this[$+2]=z>>>16,this[$+3]=z>>>24):me(this,z,$,!0),$+4},h.prototype.writeInt32BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),h.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},h.prototype.writeFloatLE=function(z,$,ae){return ee(this,z,$,!0,ae)},h.prototype.writeFloatBE=function(z,$,ae){return ee(this,z,$,!1,ae)},h.prototype.writeDoubleLE=function(z,$,ae){return ge(this,z,$,!0,ae)},h.prototype.writeDoubleBE=function(z,$,ae){return ge(this,z,$,!1,ae)},h.prototype.copy=function(z,$,ae,Z){if(ae||(ae=0),Z||Z===0||(Z=this.length),$>=z.length&&($=z.length),$||($=0),Z>0&&Z<ae&&(Z=ae),Z===ae||z.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),z.length-$<Z-ae&&(Z=z.length-$+ae);var he,ye=Z-ae;if(this===z&&ae<$&&$<Z)for(he=ye-1;he>=0;--he)z[he+$]=this[he+ae];else if(ye<1e3||!h.TYPED_ARRAY_SUPPORT)for(he=0;he<ye;++he)z[he+$]=this[he+ae];else Uint8Array.prototype.set.call(z,this.subarray(ae,ae+ye),$);return ye},h.prototype.fill=function(z,$,ae,Z){if(typeof z=="string"){if(typeof $=="string"?(Z=$,$=0,ae=this.length):typeof ae=="string"&&(Z=ae,ae=this.length),z.length===1){var he=z.charCodeAt(0);he<256&&(z=he)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!h.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof z=="number"&&(z&=255);if($<0||this.length<$||this.length<ae)throw new RangeError("Out of range index");if(ae<=$)return this;var ye;if($>>>=0,ae=ae===void 0?this.length:ae>>>0,z||(z=0),typeof z=="number")for(ye=$;ye<ae;++ye)this[ye]=z;else{var He=h.isBuffer(z)?z:Pe(new h(z,Z).toString()),Ee=He.length;for(ye=0;ye<ae-$;++ye)this[ye+$]=He[ye%Ee]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g;function Ze(oe){return oe<16?"0"+oe.toString(16):oe.toString(16)}function Pe(oe,z){var $;z=z||1/0;for(var ae=oe.length,Z=null,he=[],ye=0;ye<ae;++ye){if(($=oe.charCodeAt(ye))>55295&&$<57344){if(!Z){if($>56319){(z-=3)>-1&&he.push(239,191,189);continue}if(ye+1===ae){(z-=3)>-1&&he.push(239,191,189);continue}Z=$;continue}if($<56320){(z-=3)>-1&&he.push(239,191,189),Z=$;continue}$=65536+(Z-55296<<10|$-56320)}else Z&&(z-=3)>-1&&he.push(239,191,189);if(Z=null,$<128){if((z-=1)<0)break;he.push($)}else if($<2048){if((z-=2)<0)break;he.push($>>6|192,63&$|128)}else if($<65536){if((z-=3)<0)break;he.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;he.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return he}function Ne(oe){return o.toByteArray(function($){if(($=function(Z){return Z.trim?Z.trim():Z.replace(/^\s+|\s+$/g,"")}($).replace(Ae,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(oe))}function Ye(oe,z,$,ae){for(var Z=0;Z<ae&&!(Z+$>=z.length||Z>=oe.length);++Z)z[Z+$]=oe[Z];return Z}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(v){var _=h(v),x=_[0],b=_[1];return 3*(x+b)/4-b},r.toByteArray=function(v){var _,x,b=h(v),S=b[0],A=b[1],P=new s(function(Q,X,U){return 3*(X+U)/4-U}(0,S,A)),O=0,D=A>0?S-4:S;for(x=0;x<D;x+=4)_=o[v.charCodeAt(x)]<<18|o[v.charCodeAt(x+1)]<<12|o[v.charCodeAt(x+2)]<<6|o[v.charCodeAt(x+3)],P[O++]=_>>16&255,P[O++]=_>>8&255,P[O++]=255&_;return A===2&&(_=o[v.charCodeAt(x)]<<2|o[v.charCodeAt(x+1)]>>4,P[O++]=255&_),A===1&&(_=o[v.charCodeAt(x)]<<10|o[v.charCodeAt(x+1)]<<4|o[v.charCodeAt(x+2)]>>2,P[O++]=_>>8&255,P[O++]=255&_),P},r.fromByteArray=function(v){for(var _,x=v.length,b=x%3,S=[],A=16383,P=0,O=x-b;P<O;P+=A)S.push(m(v,P,P+A>O?O:P+A));return b===1?(_=v[x-1],S.push(a[_>>2]+a[_<<4&63]+"==")):b===2&&(_=(v[x-2]<<8)+v[x-1],S.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),S.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)a[c]=l[c],o[l.charCodeAt(c)]=c;function h(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");return _===-1&&(_=v),[_,_===v?0:4-_%4]}function m(y,v,_){for(var x,b,S=[],A=v;A<_;A+=3)x=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),S.push(a[(b=x)>>18&63]+a[b>>12&63]+a[b>>6&63]+a[63&b]);return S.join("")}o[45]=62,o[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,o,s,l){var c,d,h=8*l-s-1,m=(1<<h)-1,y=m>>1,v=-7,_=o?l-1:0,x=o?-1:1,b=i[a+_];for(_+=x,c=b&(1<<-v)-1,b>>=-v,v+=h;v>0;c=256*c+i[a+_],_+=x,v-=8);for(d=c&(1<<-v)-1,c>>=-v,v+=s;v>0;d=256*d+i[a+_],_+=x,v-=8);if(c===0)c=1-y;else{if(c===m)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,s),c-=y}return(b?-1:1)*d*Math.pow(2,c-s)},r.write=function(i,a,o,s,l,c){var d,h,m,y=8*c-l-1,v=(1<<y)-1,_=v>>1,x=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:c-1,S=s?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=v):(d=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-d))<1&&(d--,m*=2),(a+=d+_>=1?x/m:x*Math.pow(2,1-_))*m>=2&&(d++,m/=2),d+_>=v?(h=0,d=v):d+_>=1?(h=(a*m-1)*Math.pow(2,l),d+=_):(h=a*Math.pow(2,_-1)*Math.pow(2,l),d=0));l>=8;i[o+b]=255&h,b+=S,h/=256,l-=8);for(d=d<<l|h,y+=l;y>0;i[o+b]=255&d,b+=S,d/=256,y-=8);i[o+b-S]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,c=s.KeyUtil,d=s.X509,h=s.crypto,m=s.hextob64u,y=s.b64tohex,v=s.AllowedSigningAlgs;return function(){function _(){(function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")})(this,_)}return _.parseJwt=function(b){a.Log.debug("JoseUtil.parseJwt");try{var S=l.JWS.parse(b);return{header:S.headerObj,payload:S.payloadObj}}catch(A){a.Log.error(A)}},_.validateJwt=function(b,S,A,P,O,D,F){a.Log.debug("JoseUtil.validateJwt");try{if(S.kty==="RSA")if(S.e&&S.n)S=c.getKey(S);else{if(!S.x5c||!S.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",S),Promise.reject(new Error("RSA key missing key material"));var Q=y(S.x5c[0]);S=d.getPublicKeyFromCertHex(Q)}else{if(S.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",S&&S.kty),Promise.reject(new Error(S.kty));if(!(S.crv&&S.x&&S.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",S),Promise.reject(new Error("EC key missing key material"));S=c.getKey(S)}return _._validateJwt(b,S,A,P,O,D,F)}catch(X){return a.Log.error(X&&X.message||X),Promise.reject("JWT validation failed")}},_.validateJwtAttributes=function(b,S,A,P,O,D){P||(P=0),O||(O=parseInt(Date.now()/1e3));var F=_.parseJwt(b).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==S)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===A||Array.isArray(F.aud)&&F.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!D){var Q=O+P,X=O-P;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&Q<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<X)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},_._validateJwt=function(b,S,A,P,O,D,F){return _.validateJwtAttributes(b,A,P,O,D,F).then(function(Q){try{return l.JWS.verify(b,S,v)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(X){return a.Log.error(X&&X.message||X),Promise.reject(new Error("signature validation failed"))}})},_.hashString=function(b,S){try{return h.Util.hashString(b,S)}catch(A){a.Log.error(A)}},_.hexToBase64Url=function(b){try{return m(b)}catch(S){a.Log.error(S)}},_}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(3);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var h=o.UrlUtility.parseUrlFragment(c,d);this.error=h.error,this.error_description=h.error_description,this.error_uri=h.error_uri,this.code=h.code,this.state=h.state,this.id_token=h.id_token,this.session_state=h.session_state,this.access_token=h.access_token,this.token_type=h.token_type,this.scope=h.scope,this.profile=void 0,this.expires_in=h.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var h=parseInt(d);if(typeof h=="number"&&h>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+h}}},{key:"expired",get:function(){var d=this.expires_in;if(d!==void 0)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),o=i(3),s=i(9);r.SignoutRequest=function l(c){var d=c.url,h=c.id_token_hint,m=c.post_logout_redirect_uri,y=c.data,v=c.extraQueryParams,_=c.request_type;if(function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var x in h&&(d=o.UrlUtility.addQueryParam(d,"id_token_hint",h)),m&&(d=o.UrlUtility.addQueryParam(d,"post_logout_redirect_uri",m),y&&(this.state=new s.State({data:y,request_type:_}),d=o.UrlUtility.addQueryParam(d,"state",this.state.id))),v)d=o.UrlUtility.addQueryParam(d,x,v[x]);this.url=d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function o(s){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o);var l=a.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.InMemoryWebStorage=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(c){return o.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},s.prototype.setItem=function(c,d){o.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=d},s.prototype.removeItem=function(c){o.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},s.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(P,O){for(var D=0;D<O.length;D++){var F=O[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,O,D){return O&&A(P.prototype,O),D&&A(P,D),P}}(),o=i(0),s=i(10),l=i(39),c=i(15),d=i(45),h=i(47),m=i(18),y=i(8),v=i(20),_=i(11),x=i(4);function b(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function S(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?A:P}r.UserManager=function(A){function P(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.TokenRevocationClient,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.TokenClient,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:x.JoseUtil;b(this,P),O instanceof l.UserManagerSettings||(O=new l.UserManagerSettings(O));var Y=S(this,A.call(this,O));return Y._events=new d.UserManagerEvents(O),Y._silentRenewService=new D(Y),Y.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Y.startSilentRenew()),Y.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Y._sessionMonitor=new F(Y)),Y._tokenRevocationClient=new Q(Y._settings),Y._tokenClient=new X(Y._settings),Y._joseUtil=U,Y}return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}(P,A),P.prototype.getUser=function(){var D=this;return this._loadUser().then(function(F){return F?(o.Log.info("UserManager.getUser: user loaded"),D._events.load(F,!1),F):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},P.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},P.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var F={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,F).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},P.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),F})},P.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var F=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),Q})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},P.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){o.Log.error(F.message)})},P.prototype.signinSilent=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(F.refresh_token=Q.refresh_token,D._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),F.current_sub=Q.profile.sub),D._signinSilentIframe(F))})},P.prototype._useRefreshToken=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(X){if(X){var U=Promise.resolve();return Q.id_token&&(U=D._validateIdTokenFromTokenRefreshToken(X.profile,Q.id_token)),U.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),X.id_token=Q.id_token||X.id_token,X.access_token=Q.access_token,X.refresh_token=Q.refresh_token||X.refresh_token,X.expires_in=Q.expires_in,D.storeUser(X).then(function(){return D._events.load(X),X})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},P.prototype._validateIdTokenFromTokenRefreshToken=function(D,F){var Q=this;return this._metadataService.getIssuer().then(function(X){return Q.settings.getEpochTime().then(function(U){return Q._joseUtil.validateJwtAttributes(F,X,Q._settings.client_id,Q._settings.clockSkew,U).then(function(Y){return Y?Y.sub!==D.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Y.auth_time&&Y.auth_time!==D.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Y.azp&&Y.azp!==D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Y.azp&&D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},P.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:F,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),Q})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),F})},P.prototype.signinCallback=function(D){var F=this;return this.readSigninResponseState(D).then(function(Q){var X=Q.state;return Q.response,X.request_type==="si:r"?F.signinRedirectCallback(D):X.request_type==="si:p"?F.signinPopupCallback(D):X.request_type==="si:s"?F.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},P.prototype.signoutCallback=function(D,F){var Q=this;return this.readSignoutResponseState(D).then(function(X){var U=X.state,Y=X.response;return U?U.request_type==="so:r"?Q.signoutRedirectCallback(D):U.request_type==="so:p"?Q.signoutPopupCallback(D,F):Promise.reject(new Error("invalid response_type in state")):Y})},P.prototype.querySessionStatus=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var Q=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(F.redirect_uri=Q,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(X){return D.processSigninResponse(X.url).then(function(U){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),U.session_state&&U.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",U.profile.sub),{session_state:U.session_state,sub:U.profile.sub,sid:U.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(U){if(U.session_state&&D.settings.monitorAnonymousSession&&(U.message=="login_required"||U.message=="consent_required"||U.message=="interaction_required"||U.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:U.session_state};throw U})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype._signin=function(D,F){var Q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,F,X).then(function(U){return Q._signinEnd(U.url,D)})},P.prototype._signinStart=function(D,F){var Q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(X).then(function(U){return o.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(Y){return o.Log.debug("UserManager._signinStart: got signin request"),X.url=Y.url,X.id=Y.state.id,U.navigate(X)}).catch(function(Y){throw U.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),U.close()),Y})})},P.prototype._signinEnd=function(D){var F=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(X){o.Log.debug("UserManager._signinEnd: got signin response");var U=new c.User(X);if(Q.current_sub){if(Q.current_sub!==U.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",U.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(U).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),F._events.load(U),U})})},P.prototype._signinCallback=function(D,F){o.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(D,void 0,Q)},P.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var F=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(D.post_logout_redirect_uri=F);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},P.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(F){return o.Log.info("UserManager.signoutRedirectCallback: successful"),F})},P.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var F=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=F,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},P.prototype.signoutPopupCallback=function(D,F){return F===void 0&&typeof D=="boolean"&&(F=D,D=null),this._popupNavigator.callback(D,F,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},P.prototype._signout=function(D,F){var Q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,F,X).then(function(U){return Q._signoutEnd(U.url)})},P.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,Q=arguments[1],X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(X).then(function(U){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(Y){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(Y):Promise.resolve()).then(function(){var ce=D.id_token_hint||Y&&Y.id_token;return ce&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=ce),F.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(D).then(function(te){return o.Log.debug("UserManager._signoutStart: got signout request"),X.url=te.url,te.state&&(X.id=te.state.id),U.navigate(X)})})})}).catch(function(Y){throw U.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),U.close()),Y})})},P.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(F){return o.Log.debug("UserManager._signoutEnd: got signout response"),F})},P.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(F){return D._revokeInternal(F,!0).then(function(Q){if(Q)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,D.storeUser(F).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(F)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},P.prototype._revokeInternal=function(D,F){var Q=this;if(D){var X=D.access_token,U=D.refresh_token;return this._revokeAccessTokenInternal(X,F).then(function(Y){return Q._revokeRefreshTokenInternal(U,F).then(function(ce){return Y||ce||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Y||ce})})}return Promise.resolve(!1)},P.prototype._revokeAccessTokenInternal=function(D,F){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,F).then(function(){return!0})},P.prototype._revokeRefreshTokenInternal=function(D,F){return D?this._tokenRevocationClient.revoke(D,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},P.prototype.startSilentRenew=function(){this._silentRenewService.start()},P.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},P.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(o.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(D)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},P.prototype.storeUser=function(D){if(D){o.Log.debug("UserManager.storeUser: storing user");var F=D.toStorageString();return this._userStore.set(this._userStoreKey,F)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(P,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),P}(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function _(x,b){for(var S=0;S<b.length;S++){var A=b[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,b,S){return b&&_(x.prototype,b),S&&_(x,S),x}}(),o=(i(0),i(5)),s=i(40),l=i(41),c=i(43),d=i(6),h=i(1),m=i(8);function y(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function v(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||typeof x!="object"&&typeof x!="function"?_:x}r.UserManagerSettings=function(_){function x(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=b.popup_redirect_uri,A=b.popup_post_logout_redirect_uri,P=b.popupWindowFeatures,O=b.popupWindowTarget,D=b.silent_redirect_uri,F=b.silentRequestTimeout,Q=b.automaticSilentRenew,X=Q!==void 0&&Q,U=b.validateSubOnSilentRenew,Y=U!==void 0&&U,ce=b.includeIdTokenInSilentRenew,te=ce===void 0||ce,se=b.monitorSession,pe=se===void 0||se,_e=b.monitorAnonymousSession,de=_e!==void 0&&_e,ue=b.checkSessionInterval,Re=ue===void 0?2e3:ue,k=b.stopCheckSessionOnError,ie=k===void 0||k,me=b.query_status_response_type,K=b.revokeAccessTokenOnSignout,ee=K!==void 0&&K,ge=b.accessTokenExpiringNotificationTime,Ae=ge===void 0?60:ge,Ze=b.redirectNavigator,Pe=Ze===void 0?new s.RedirectNavigator:Ze,Ne=b.popupNavigator,Ye=Ne===void 0?new l.PopupNavigator:Ne,oe=b.iframeNavigator,z=oe===void 0?new c.IFrameNavigator:oe,$=b.userStore,ae=$===void 0?new d.WebStorageStateStore({store:h.Global.sessionStorage}):$;y(this,x);var Z=v(this,_.call(this,arguments[0]));return Z._popup_redirect_uri=S,Z._popup_post_logout_redirect_uri=A,Z._popupWindowFeatures=P,Z._popupWindowTarget=O,Z._silent_redirect_uri=D,Z._silentRequestTimeout=F,Z._automaticSilentRenew=X,Z._validateSubOnSilentRenew=Y,Z._includeIdTokenInSilentRenew=te,Z._accessTokenExpiringNotificationTime=Ae,Z._monitorSession=pe,Z._monitorAnonymousSession=de,Z._checkSessionInterval=Re,Z._stopCheckSessionOnError=ie,me?Z._query_status_response_type=me:arguments[0]&&arguments[0].response_type?Z._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":Z._query_status_response_type="id_token",Z._revokeAccessTokenOnSignout=ee,Z._redirectNavigator=Pe,Z._popupNavigator=Ye,Z._iframeNavigator=z,Z._userStore=ae,Z}return function(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}(x,_),a(x,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),x}(o.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.RedirectNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),o=i(42);r.PopupNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.PopupWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c,d,h){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(c,d,h),Promise.resolve()}catch(m){return Promise.reject(m)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(0),s=i(3);r.PopupWindow=function(){function l(c){var d=this;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,v){d._resolve=y,d._reject=v});var h=c.popupWindowTarget||"_blank",m=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",h,m),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(d){return this._popup?d&&d.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=d.id,this._id&&(window["popupCallback_"+d.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=d.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(d){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(d)},l.prototype._error=function(d){o.Log.error("PopupWindow.error: ",d),this._cleanup(),this._reject(new Error(d))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(d){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!d&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(d,h){this._cleanup(h),d?(o.Log.debug("PopupWindow.callback success"),this._success({url:d})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(d,h,m){if(window.opener){if(d=d||window.location.href){var y=s.UrlUtility.parseUrlFragment(d,m);if(y.state){var v="popupCallback_"+y.state,_=window.opener[v];_?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),_(d,h)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),o=i(44);r.IFrameNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.IFrameWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(c),Promise.resolve()}catch(d){return Promise.reject(d)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.IFrameWindow=function(){function s(l){var c=this;(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(c){if(c&&c.url){var d=c.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",d),this._timer=window.setTimeout(this._timeout.bind(this),d),this._frame.src=c.url}else this._error("No url provided");return this.promise},s.prototype._success=function(c){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(c){if(o.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var d=c.data;d?this._success({url:d}):this._error("Invalid response from frame")}},s.notifyParent=function(c){o.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),o=i(16),s=i(17);r.UserManagerEvents=function(l){function c(d){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c);var h=function(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}(this,l.call(this,d));return h._userLoaded=new s.Event("User loaded"),h._userUnloaded=new s.Event("User unloaded"),h._silentRenewError=new s.Event("Silent renew error"),h._userSignedIn=new s.Event("User signed in"),h._userSignedOut=new s.Event("User signed out"),h._userSessionChanged=new s.Event("User session changed"),h}return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}(c,l),c.prototype.load=function(h){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,h),m&&this._userLoaded.raise(h)},c.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(h){this._userLoaded.addHandler(h)},c.prototype.removeUserLoaded=function(h){this._userLoaded.removeHandler(h)},c.prototype.addUserUnloaded=function(h){this._userUnloaded.addHandler(h)},c.prototype.removeUserUnloaded=function(h){this._userUnloaded.removeHandler(h)},c.prototype.addSilentRenewError=function(h){this._silentRenewError.addHandler(h)},c.prototype.removeSilentRenewError=function(h){this._silentRenewError.removeHandler(h)},c.prototype._raiseSilentRenewError=function(h){a.Log.debug("UserManagerEvents._raiseSilentRenewError",h.message),this._silentRenewError.raise(h)},c.prototype.addUserSignedIn=function(h){this._userSignedIn.addHandler(h)},c.prototype.removeUserSignedIn=function(h){this._userSignedIn.removeHandler(h)},c.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(h){this._userSignedOut.addHandler(h)},c.prototype.removeUserSignedOut=function(h){this._userSignedOut.removeHandler(h)},c.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(h){this._userSessionChanged.addHandler(h)},c.prototype.removeUserSessionChanged=function(h){this._userSessionChanged.removeHandler(h)},c.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(o.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function h(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&h(m.prototype,y),v&&h(m,v),m}}(),o=i(0),s=i(1),l=i(17);function c(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?h:m}r.Timer=function(h){function m(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,m);var x=d(this,h.call(this,y));return x._timer=v,x._nowFunc=_||function(){return Date.now()/1e3},x}return function(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}(m,h),m.prototype.init=function(v){v<=0&&(v=1),v=parseInt(v);var _=this.now+v;if(this.expiration===_&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",v),this._expiration=_;var x=5;v<x&&(x=v),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*x)}},m.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var v=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",v),this._expiration<=this.now&&(this.cancel(),h.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(y0)),y0.exports}var pR=Kee();function Gee(e,t){var n,r,i,a;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=e.error_description)!==null&&r!==void 0?r:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(i=e.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(a=e.error_description)!==null&&a!==void 0?a:""}`)}function Wee(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function Qee(e,t){var n;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=See(t.idTokenSigningAlgValuesSupported,Z0),i={client_name:e.clientName,application_type:"web",redirect_uris:[(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(o.ok){const s=await o.json();return Wee(s,e),{clientId:s.client_id,clientSecret:s.client_secret,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&Gee(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function Zee(e){return e.error!==void 0&&typeof e.error=="string"}function Sk(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function Jee(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function Yee(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function Xee(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function ete(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function tte(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function nte(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function rte(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function Uq(e,t){if(Zee(e))throw new jq(`Token endpoint returned error [${e.error}]${Sk(e)?`: ${e.error_description}`:""}${Jee(e)?` (see ${e.error_uri})`:""}`,e.error,Sk(e)?e.error_description:void 0);if(!Yee(e))throw new tm(["access_token"]);if(!Xee(e))throw new tm(["id_token"]);if(!tte(e))throw new tm(["token_type"]);if(!nte(e))throw new tm(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function ite(e,t,n,r){rte(e,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await Iee(),i.DPoP=await jP(e.tokenEndpoint,"POST",a)),t.clientSecret&&(i.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},c=await(await fetch(e.tokenEndpoint,s)).json(),d=Uq(c,r),{webId:h,clientId:m}=await Lq(d.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:d.access_token,idToken:d.id_token,refreshToken:ete(d)?d.refresh_token:void 0,webId:h,clientId:m,dpopKey:a,expiresIn:d.expires_in}}const ate=e=>{try{return new URL(e),!0}catch{return!1}};async function ote(e,t,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:e,scope:Oq};let a={};r!==void 0&&(a={DPoP:await jP(t.tokenEndpoint,"POST",r)});let o={};n.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:ate(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=Uq(l,r!==void 0),{webId:d}=await Lq(c.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:d,dpopKey:r,expiresIn:c.expires_in}}function ste(e){const t=Mq(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function ute(){await new pR.OidcClient({response_mode:"query"}).clearStaleState(new pR.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let r=0;r<=t.length;r+=1){const i=t.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>t.removeItem(r))}class lte extends Pee{constructor(t,n){super(t,n)}}class cte extends Aee{constructor(){super(...arguments),this.login=async(t,n)=>{var r,i;await this.sessionInfoManager.clear(t.sessionId);const a=(r=t.redirectUrl)!==null&&r!==void 0?r:ste(window.location.href);if(!Iq(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...t,redirectUrl:a,clientName:(i=t.clientName)!==null&&i!==void 0?i:t.clientId,eventEmitter:n})},this.validateCurrentSession=async t=>{const n=await this.sessionInfoManager.get(t);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(t,n)=>{try{const r=await this.redirectHandler.handle(t,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(t),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(t),n.emit(ai.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(t){const n=Mq(t).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function xk(e){return typeof e.oidcIssuer=="string"}function Ek(e){return typeof e.redirectUrl=="string"}class fte{constructor(t,n,r,i){this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(t){return xk(t)&&Ek(t)}async handle(t){if(!xk(t))throw new hR(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!Ek(t))throw new hR(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const n=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer),r=await Tee(t,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:t.tokenType.toLowerCase()==="dpop",...t,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class dte extends pee{async handle(t){var n;const r={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl,response_type:"code",scope:Oq,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=t.prompt)!==null&&n!==void 0?n:"consent"},i=new pR.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:t,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const hte=".well-known/openid-configuration",Ck={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function pte(e){const t={};return Object.keys(e).forEach(n=>{Ck[n]&&(t[Ck[n].toKey]=e[n])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}class $P{constructor(t){this.storageUtility=t,this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let n;const r=new URL(hte,t.endsWith("/")?t:`${t}/`).href,i=await fetch(r);try{n=pte(await i.json())}catch(a){throw new hR(`[${t.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set($P.getLocalStorageKey(t),JSON.stringify(n)),n}}async function gte(e,t){await kq(e,t),await ute()}class mte extends vee{async get(t){const[n,r,i,a,o,s,l,c]=await Promise.all([this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(t,"webId",{secure:!0}),this.storageUtility.getForUser(t,"clientId",{secure:!1}),this.storageUtility.getForUser(t,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(t,"refreshToken",{secure:!0}),this.storageUtility.getForUser(t,"issuer",{secure:!1}),this.storageUtility.getForUser(t,"tokenType",{secure:!1})]);if(typeof o=="string"&&!Iq(o)){await Promise.all([this.storageUtility.deleteAllUserData(t,{secure:!1}),this.storageUtility.deleteAllUserData(t,{secure:!0})]);return}if(c!==void 0&&!bee(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:t,webId:r,isLoggedIn:n==="true",redirectUrl:o,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:c??"DPoP"}}async clear(t){return gte(t,this.storageUtility)}}class yte{async canHandle(t){try{return new URL(t),!0}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t){return Dq()}}class vte{constructor(t,n,r,i,a){this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(t){try{const n=new URL(t);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(!await this.canHandle(t))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:l,dpop:c}=await Fq(a,this.storageUtility,this.issuerConfigFetcher),d=r.searchParams.get("iss");if(typeof d=="string"&&d!==o.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const h=await this.clientRegistrar.getClient({sessionId:a},o),m=Date.now(),y=await ite(o,h,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let v;y.refreshToken!==void 0&&(v={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const _=await Fee(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:v,eventEmitter:n,expiresIn:y.expiresIn});await Ree(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const x=await this.sessionInfoManager.get(a);if(!x)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(x,{fetch:_,getLogoutUrl:wee({idTokenHint:y.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class _te extends dee{constructor(t){super(t)}}class wte{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,n){this.storage.setItem(t,n)}async delete(t){this.storage.removeItem(t)}}class bte{redirect(t,n){n&&n.handleRedirect?n.handleRedirect(t):n&&n.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}}class Ste{constructor(t){this.storageUtility=t,this.storageUtility=t}async getClient(t,n){const[r,i,a,o]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientType",{secure:!1})]);if(r&&Cee(o))return{clientId:r,clientSecret:i,clientName:a,clientType:o};try{const s=await Qee(t,n),l={clientId:s.clientId,clientType:"dynamic"};return s.clientSecret&&(l.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(t.sessionId,l,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class xte{async canHandle(t){try{return new URL(t).searchParams.has("error")}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(n!==void 0){const r=new URL(t),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ai.ERROR,i,a)}return Dq()}}class Ete{constructor(t,n,r){this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(t,n,r,i){const a=await Fq(t,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);if(n===void 0)throw new Error(`Session [${t}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${t}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await ote(n,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(i==null||i.emit(ai.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function Tk(e){const t=new Oee,n=e.secureStorage||t,r=e.insecureStorage||new wte,i=new lte(n,r),a=new $P(i),o=new Ste(i),s=new mte(i),l=new Ete(i,a,o),c=new bte,d=new fte(i,new dte(i,c),a,o),h=new _te([new xte,new vte(i,s,a,o,l),new yte]);return new cte(d,h,new yee(s,c),s,a)}const HS=`${Pq}currentSession`,gR=`${Pq}currentUrl`;async function Cte(e,t,n){var r;const i=await t.validateCurrentSession(e);return i!==null?(window.localStorage.setItem(gR,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function Tte(e){return!!(e!=null&&e.isLoggedIn)}class Ate{constructor(t={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(HS),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ai.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,o=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const s=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(Tte(s)){this.setSessionInfo(s);const l=window.localStorage.getItem(gR);l===null?this.events.emit(ai.LOGIN):(window.localStorage.removeItem(gR),this.events.emit(ai.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(HS);if(l!==null&&await Cte(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,s},this.events=new Hee,t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=Tk({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=Tk({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId,clientAppId:t.sessionInfo.clientAppId}:this.info={sessionId:n??qee(),isLoggedIn:!1},this.events.on(ai.LOGIN,()=>window.localStorage.setItem(HS,this.info.sessionId)),this.events.on(ai.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ai.ERROR,()=>this.internalLogout(!1))}setSessionInfo(t){this.info.isLoggedIn=t.isLoggedIn,this.info.webId=t.webId,this.info.sessionId=t.sessionId,this.info.clientAppId=t.clientAppId,this.info.expirationDate=t.expirationDate,this.events.on(ai.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let VS;function ry(){return typeof VS>"u"&&(VS=new Ate),VS}const nr=(...e)=>ry().fetch(...e),Rte=(...e)=>ry().login(...e),Pte=(...e)=>ry().logout(...e),Ote=(...e)=>ry().handleIncomingRedirect(...e);var KS,Ak;function Lte(){if(Ak)return KS;Ak=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(v){return v.replace(t,"")}function c(v){return n.test(v)}function d(v,_){for(;c(v[_]);)_++;return _}function h(v){return a.test(v)||!o.test(v)}function m(v,_){return Object.keys(v).length===Object.keys(_).length&&Object.keys(v).every(x=>x in _&&v[x]===_[x])}class y{constructor(_){this.refs=[],_&&this.parse(_)}rel(_){for(var x=[],b=_.toLowerCase(),S=0;S<this.refs.length;S++)typeof this.refs[S].rel=="string"&&this.refs[S].rel.toLowerCase()===b&&x.push(this.refs[S]);return x}get(_,x){_=_.toLowerCase(),x=x.toLowerCase();for(var b=[],S=0;S<this.refs.length;S++)typeof this.refs[S][_]=="string"&&this.refs[S][_].toLowerCase()===x&&b.push(this.refs[S]);return b}set(_){return this.refs.push(_),this}setUnique(_){return this.refs.some(x=>m(x,_))||this.refs.push(_),this}has(_,x){_=_.toLowerCase(),x=x.toLowerCase();for(var b=0;b<this.refs.length;b++)if(typeof this.refs[b][_]=="string"&&this.refs[b][_].toLowerCase()===x)return!0;return!1}parse(_,A){A=A||0,_=A?_.slice(A):_,_=l(_).replace(r,"");for(var b=s.IDLE,S=_.length,A=0,P=null;A<S;)if(b===s.IDLE){if(c(_[A])){A++;continue}else if(_[A]==="<"){P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P));var O=_.indexOf(">",A);if(O===-1)throw new Error("Expected end of URI delimiter at offset "+A);P={uri:_.slice(A+1,O)},A=O,b=s.URI}else throw new Error('Unexpected character "'+_[A]+'" at offset '+A);A++}else if(b===s.URI)if(c(_[A])){A++;continue}else if(_[A]===";")b=s.ATTR,A++;else if(_[A]===",")b=s.IDLE,A++;else throw new Error('Unexpected character "'+_[A]+'" at offset '+A);else if(b===s.ATTR){if(_[A]===";"||c(_[A])){A++;continue}var O=_.indexOf("=",A);O===-1&&(O=_.indexOf(";",A)),O===-1&&(O=_.length);var D=l(_.slice(A,O)).toLowerCase(),F="";if(A=O+1,A=d(_,A),_[A]==='"')for(A++;A<S;){if(_[A]==='"'){A++;break}_[A]==="\\"&&A++,F+=_[A],A++}else{for(var O=A+1;!i.test(_[O])&&O<S;)O++;F=_.slice(A,O),A=O}switch(P[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?P[D]=y.parseExtendedValue(F):(F=D==="type"?F.toLowerCase():F,P[D]!=null?Array.isArray(P[D])?P[D].push(F):P[D]=[P[D],F]:P[D]=F)),_[A]){case",":b=s.IDLE;break;case";":b=s.ATTR;break}A++}else throw new Error('Unknown parser state "'+b+'"');return P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P)),P=null,this}toString(){for(var _=[],x="",b=null,S=0;S<this.refs.length;S++)b=this.refs[S],x=Object.keys(this.refs[S]).reduce(function(A,P){return P==="uri"?A:A+"; "+y.formatAttribute(P,b[P])},"<"+b.uri+">"),_.push(x);return _.join(", ")}}return y.isCompatibleEncoding=function(v){return e.test(v)},y.parse=function(v,_){return new y().parse(v,_)},y.isSingleOccurenceAttr=function(v){return v==="rel"||v==="type"||v==="media"||v==="title"||v==="title*"},y.isTokenAttr=function(v){return v==="rel"||v==="type"||v==="anchor"},y.escapeQuotes=function(v){return v.replace(/"/g,'\\"')},y.expandRelations=function(v){var _=v.rel.split(" ");return _.map(function(x){var b=Object.assign({},v);return b.rel=x,b})},y.parseExtendedValue=function(v){var _=/([^']+)?(?:'([^']*)')?(.+)/.exec(v);return{language:_[2].toLowerCase(),encoding:y.isCompatibleEncoding(_[1])?null:_[1].toLowerCase(),value:y.isCompatibleEncoding(_[1])?decodeURIComponent(_[3]):_[3]}},y.formatExtendedAttribute=function(v,_){var x=(_.encoding||"utf-8").toUpperCase(),b=_.language||"en",S="";return Buffer.isBuffer(_.value)&&y.isCompatibleEncoding(x)?S=_.value.toString(x):Buffer.isBuffer(_.value)?S=_.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):S=encodeURIComponent(_.value),v+"="+x+"'"+b+"'"+S},y.formatAttribute=function(v,_){return Array.isArray(_)?_.map(x=>y.formatAttribute(v,x)).join("; "):v[v.length-1]==="*"||typeof _!="string"?y.formatExtendedAttribute(v,_):(y.isTokenAttr(v)?_=h(_)?'"'+y.escapeQuotes(_)+'"':y.escapeQuotes(_):h(_)&&(_=encodeURIComponent(_),_=_.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),_='"'+_+'"'),v+"="+_)},KS=y,KS}var Ite=Lte();const Bq=Lr(Ite),Gp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Wp="http://www.w3.org/2001/XMLSchema#",GS="http://www.w3.org/2000/10/swap/",Ki={xsd:{decimal:`${Wp}decimal`,boolean:`${Wp}boolean`,double:`${Wp}double`,integer:`${Wp}integer`,string:`${Wp}string`},rdf:{type:`${Gp}type`,nil:`${Gp}nil`,first:`${Gp}first`,rest:`${Gp}rest`,langString:`${Gp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${GS}reify#forSome`,forAll:`${GS}reify#forAll`},log:{implies:`${GS}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var WS,Rk;function Mte(){if(Rk)return WS;Rk=1;let e;return WS=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Zg):t=>(e||(e=Promise.resolve())).then(t).catch(n=>setTimeout(()=>{throw n},0)),WS}var Dte=Mte();const qq=Lr(Dte),{xsd:Uv}=Ki,kte=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Pk={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Nte=/[\x00-\x20<>\\"\{\}\|\^\`]/,Fte={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},jte=/$0^/;let UP=class{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in Fte)&&this[n]instanceof RegExp&&(this[n]=jte)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this._comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",m="",y="",v=null,_=0,x=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){x=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||Nte.test(m))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,m=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",m=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",m=v[0],y=typeof v[1]=="string"?Uv.double:typeof v[2]=="string"?Uv.decimal:Uv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():x=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",m=v[0],y=Uv.boolean):x=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",m="a"):x=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,m="="):(_=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:x=!0}if(x&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const b=_||v[0].length,S=a(h,m,y,c,b);this.previousToken=S,this._previousMarker=h,r=r.substr(b,r.length)}function a(s,l,c,d,h){const m=r?i-r.length:i,y=m+h,v={type:s,value:l,prefix:c,line:d,start:m,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(kte,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in Pk?Pk[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")qq(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}};function $te(e){return!!e&&e.termType==="NamedNode"}function Ute(e){return!!e&&e.termType==="BlankNode"}function Bte(e){return!!e&&e.termType==="Literal"}function qte(e){return!!e&&e.termType==="Variable"}function ph(e){return!!e&&e.termType==="DefaultGraph"}function zte(e){return ph(e.graph)}function Hte(e,t){return zq({"":e.value||e},t)("")}function zq(e,t){const n=Object.create(null);for(const i in e)r(i,e[i]);t=t||Hl;function r(i,a){if(typeof a=="string"){const o=Object.create(null);n[i]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const Hq=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:zte,isBlankNode:Ute,isDefaultGraph:ph,isLiteral:Bte,isNamedNode:$te,isVariable:qte,prefix:Hte,prefixes:zq},Symbol.toStringTag,{value:"Module"})),{rdf:Vte,xsd:ef}=Ki;let iy,Kte=0;const Hl={namedNode:Gte,blankNode:Wte,variable:Zte,literal:Qte,defaultGraph:Jte,quad:Ok,triple:Ok};let Os=class Vq{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Vq?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Qr=class extends Os{get termType(){return"NamedNode"}},Bd=class Kq extends Os{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new Qr(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?ef.string:Vte.langString}equals(t){return t instanceof Kq?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},BP=class extends Os{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},qP=class extends Os{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},zP=class extends Os{constructor(){return super(""),iy||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};iy=new zP;function rf(e,t,n){if(t=t||Hl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Hl)return new Bd(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(rf(e[0],t,!0),rf(e[1],t,!0),rf(e[2],t,!0),e[3]&&rf(e[3],t,!0))}function ca(e,t){if(typeof e=="string")return e;if(e instanceof Os&&e.termType!=="Quad")return e.id;if(!e)return iy.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==ef.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[ca(e.subject,!0),ca(e.predicate,!0),ca(e.object,!0)];return ph(e.graph)||n.push(ca(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Fo=class extends Os{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||iy}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function Gte(e){return new Qr(e)}function Wte(e){return new BP(e||`n3-${Kte++}`)}function Qte(e,t){if(typeof t=="string")return new Bd(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=ef.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?ef.integer:ef.double:(n=ef.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===ef.string?new Bd(`"${e}"`):new Bd(`"${e}"^^${n}`)}function Zte(e){return new qP(e)}function Jte(){return iy}function Ok(e,t,n,r){return new Fo(e,t,n,r)}let Lk=0,Dh=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&Gq(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new UP({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){Lk=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=QS}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Lk++}_`,this._prefixCallback=r||QS,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(o,s)=>{o?a=o:s&&i.push(s)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),a)throw a;return i}this._callback=n,this._lexer.tokenize(t,(i,a)=>{i!==null?(this._callback(i),this._callback=QS):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function QS(){}function Gq(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Ki.rdf.first),e.RDF_REST=n(Ki.rdf.rest),e.RDF_NIL=n(Ki.rdf.nil),e.N3_FORALL=n(Ki.r.forAll),e.N3_FORSOME=n(Ki.r.forSome),e.ABBREVIATIONS={a:n(Ki.rdf.type),"=":n(Ki.owl.sameAs),">":n(Ki.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}Gq(Dh.prototype,Hl);const Qp=Hl.defaultGraph(),{rdf:Yte,xsd:yd}=Ki,Ik=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Mk=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Xte={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let Zp=class extends Os{equals(t){return t===this}},Dw=class{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Qp,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${kk(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return Qp.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Qp.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){return t.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),Ik.test(n)&&(n=n.replace(Mk,Dk));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(Ik.test(n)&&(n=n.replace(Mk,Dk)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===yd.string)return`"${n}"`}else switch(t.datatype.value){case yd.string:return`"${n}"`;case yd.boolean:if(n==="true"||n==="false")return n;break;case yd.integer:if(/^[+-]?\d+$/.test(n))return n;break;case yd.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case yd.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Yte.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${ph(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,Qp,i):this._writeQuad(t,n,r,i||Qp,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=kk(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new Zp("[]");case 1:if(i=r[0],!(i.object instanceof Zp))return new Zp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new Zp(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new Zp(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function Dk(e){let t=Xte[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function kk(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var ZS={exports:{}},JS={exports:{}},YS={},Jp={},Nk;function ene(){if(Nk)return Jp;Nk=1,Jp.byteLength=s,Jp.toByteArray=c,Jp.fromByteArray=m;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");_===-1&&(_=v);var x=_===v?0:4-_%4;return[_,x]}function s(y){var v=o(y),_=v[0],x=v[1];return(_+x)*3/4-x}function l(y,v,_){return(v+_)*3/4-_}function c(y){var v,_=o(y),x=_[0],b=_[1],S=new n(l(y,x,b)),A=0,P=b>0?x-4:x,O;for(O=0;O<P;O+=4)v=t[y.charCodeAt(O)]<<18|t[y.charCodeAt(O+1)]<<12|t[y.charCodeAt(O+2)]<<6|t[y.charCodeAt(O+3)],S[A++]=v>>16&255,S[A++]=v>>8&255,S[A++]=v&255;return b===2&&(v=t[y.charCodeAt(O)]<<2|t[y.charCodeAt(O+1)]>>4,S[A++]=v&255),b===1&&(v=t[y.charCodeAt(O)]<<10|t[y.charCodeAt(O+1)]<<4|t[y.charCodeAt(O+2)]>>2,S[A++]=v>>8&255,S[A++]=v&255),S}function d(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function h(y,v,_){for(var x,b=[],S=v;S<_;S+=3)x=(y[S]<<16&16711680)+(y[S+1]<<8&65280)+(y[S+2]&255),b.push(d(x));return b.join("")}function m(y){for(var v,_=y.length,x=_%3,b=[],S=16383,A=0,P=_-x;A<P;A+=S)b.push(h(y,A,A+S>P?P:A+S));return x===1?(v=y[_-1],b.push(e[v>>2]+e[v<<4&63]+"==")):x===2&&(v=(y[_-2]<<8)+y[_-1],b.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),b.join("")}return Jp}var Bv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Fk;function tne(){return Fk||(Fk=1,Bv.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,c=l>>1,d=-7,h=n?i-1:0,m=n?-1:1,y=e[t+h];for(h+=m,a=y&(1<<-d)-1,y>>=-d,d+=s;d>0;a=a*256+e[t+h],h+=m,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=r;d>0;o=o*256+e[t+h],h+=m,d-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(y?-1:1)*o*Math.pow(2,a-r)},Bv.write=function(e,t,n,r,i,a){var o,s,l,c=a*8-i-1,d=(1<<c)-1,h=d>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,v=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=m/l:t+=m*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=d?(s=0,o=d):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o=o+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+y]=s&255,y+=v,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+y]=o&255,y+=v,o/=256,c-=8);e[n+y-v]|=_*128}),Bv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var jk;function Lu(){return jk||(jk=1,function(e){const t=ene(),n=tne(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const ne=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(ne,q),ne.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(ne){if(ne>i)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const q=new Uint8Array(ne);return Object.setPrototypeOf(q,s.prototype),q}function s(ne,q,W){if(typeof ne=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ne)}return l(ne,q,W)}s.poolSize=8192;function l(ne,q,W){if(typeof ne=="string")return m(ne,q);if(ArrayBuffer.isView(ne))return v(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(nt(ne,ArrayBuffer)||ne&&nt(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(ne,SharedArrayBuffer)||ne&&nt(ne.buffer,SharedArrayBuffer)))return _(ne,q,W);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=ne.valueOf&&ne.valueOf();if(G!=null&&G!==ne)return s.from(G,q,W);const je=x(ne);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return s.from(ne[Symbol.toPrimitive]("string"),q,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}s.from=function(ne,q,W){return l(ne,q,W)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function d(ne,q,W){return c(ne),ne<=0?o(ne):q!==void 0?typeof W=="string"?o(ne).fill(q,W):o(ne).fill(q):o(ne)}s.alloc=function(ne,q,W){return d(ne,q,W)};function h(ne){return c(ne),o(ne<0?0:b(ne)|0)}s.allocUnsafe=function(ne){return h(ne)},s.allocUnsafeSlow=function(ne){return h(ne)};function m(ne,q){if((typeof q!="string"||q==="")&&(q="utf8"),!s.isEncoding(q))throw new TypeError("Unknown encoding: "+q);const W=A(ne,q)|0;let G=o(W);const je=G.write(ne,q);return je!==W&&(G=G.slice(0,je)),G}function y(ne){const q=ne.length<0?0:b(ne.length)|0,W=o(q);for(let G=0;G<q;G+=1)W[G]=ne[G]&255;return W}function v(ne){if(nt(ne,Uint8Array)){const q=new Uint8Array(ne);return _(q.buffer,q.byteOffset,q.byteLength)}return y(ne)}function _(ne,q,W){if(q<0||ne.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<q+(W||0))throw new RangeError('"length" is outside of buffer bounds');let G;return q===void 0&&W===void 0?G=new Uint8Array(ne):W===void 0?G=new Uint8Array(ne,q):G=new Uint8Array(ne,q,W),Object.setPrototypeOf(G,s.prototype),G}function x(ne){if(s.isBuffer(ne)){const q=b(ne.length)|0,W=o(q);return W.length===0||ne.copy(W,0,0,q),W}if(ne.length!==void 0)return typeof ne.length!="number"||gt(ne.length)?o(0):y(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return y(ne.data)}function b(ne){if(ne>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ne|0}function S(ne){return+ne!=ne&&(ne=0),s.alloc(+ne)}s.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==s.prototype},s.compare=function(q,W){if(nt(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),nt(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),!s.isBuffer(q)||!s.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===W)return 0;let G=q.length,je=W.length;for(let Je=0,ke=Math.min(G,je);Je<ke;++Je)if(q[Je]!==W[Je]){G=q[Je],je=W[Je];break}return G<je?-1:je<G?1:0},s.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(q,W){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return s.alloc(0);let G;if(W===void 0)for(W=0,G=0;G<q.length;++G)W+=q[G].length;const je=s.allocUnsafe(W);let Je=0;for(G=0;G<q.length;++G){let ke=q[G];if(nt(ke,Uint8Array))Je+ke.length>je.length?(s.isBuffer(ke)||(ke=s.from(ke)),ke.copy(je,Je)):Uint8Array.prototype.set.call(je,ke,Je);else if(s.isBuffer(ke))ke.copy(je,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=ke.length}return je};function A(ne,q){if(s.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||nt(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const W=ne.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&W===0)return 0;let je=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return ye(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return Fe(ne).length;default:if(je)return G?-1:ye(ne).length;q=(""+q).toLowerCase(),je=!0}}s.byteLength=A;function P(ne,q,W){let G=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,q>>>=0,W<=q))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return Re(this,q,W);case"utf8":case"utf-8":return se(this,q,W);case"ascii":return de(this,q,W);case"latin1":case"binary":return ue(this,q,W);case"base64":return te(this,q,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,q,W);default:if(G)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),G=!0}}s.prototype._isBuffer=!0;function O(ne,q,W){const G=ne[q];ne[q]=ne[W],ne[W]=G}s.prototype.swap16=function(){const q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<q;W+=2)O(this,W,W+1);return this},s.prototype.swap32=function(){const q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<q;W+=4)O(this,W,W+3),O(this,W+1,W+2);return this},s.prototype.swap64=function(){const q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<q;W+=8)O(this,W,W+7),O(this,W+1,W+6),O(this,W+2,W+5),O(this,W+3,W+4);return this},s.prototype.toString=function(){const q=this.length;return q===0?"":arguments.length===0?se(this,0,q):P.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(q){if(!s.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:s.compare(this,q)===0},s.prototype.inspect=function(){let q="";const W=e.INSPECT_MAX_BYTES;return q=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(q+=" ... "),"<Buffer "+q+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(q,W,G,je,Je){if(nt(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(W===void 0&&(W=0),G===void 0&&(G=q?q.length:0),je===void 0&&(je=0),Je===void 0&&(Je=this.length),W<0||G>q.length||je<0||Je>this.length)throw new RangeError("out of range index");if(je>=Je&&W>=G)return 0;if(je>=Je)return-1;if(W>=G)return 1;if(W>>>=0,G>>>=0,je>>>=0,Je>>>=0,this===q)return 0;let ke=Je-je,Rt=G-W;const Lt=Math.min(ke,Rt),Nt=this.slice(je,Je),Pt=q.slice(W,G);for(let zt=0;zt<Lt;++zt)if(Nt[zt]!==Pt[zt]){ke=Nt[zt],Rt=Pt[zt];break}return ke<Rt?-1:Rt<ke?1:0};function D(ne,q,W,G,je){if(ne.length===0)return-1;if(typeof W=="string"?(G=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,gt(W)&&(W=je?0:ne.length-1),W<0&&(W=ne.length+W),W>=ne.length){if(je)return-1;W=ne.length-1}else if(W<0)if(je)W=0;else return-1;if(typeof q=="string"&&(q=s.from(q,G)),s.isBuffer(q))return q.length===0?-1:F(ne,q,W,G,je);if(typeof q=="number")return q=q&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(ne,q,W):Uint8Array.prototype.lastIndexOf.call(ne,q,W):F(ne,[q],W,G,je);throw new TypeError("val must be string, number or Buffer")}function F(ne,q,W,G,je){let Je=1,ke=ne.length,Rt=q.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(ne.length<2||q.length<2)return-1;Je=2,ke/=2,Rt/=2,W/=2}function Lt(Pt,zt){return Je===1?Pt[zt]:Pt.readUInt16BE(zt*Je)}let Nt;if(je){let Pt=-1;for(Nt=W;Nt<ke;Nt++)if(Lt(ne,Nt)===Lt(q,Pt===-1?0:Nt-Pt)){if(Pt===-1&&(Pt=Nt),Nt-Pt+1===Rt)return Pt*Je}else Pt!==-1&&(Nt-=Nt-Pt),Pt=-1}else for(W+Rt>ke&&(W=ke-Rt),Nt=W;Nt>=0;Nt--){let Pt=!0;for(let zt=0;zt<Rt;zt++)if(Lt(ne,Nt+zt)!==Lt(q,zt)){Pt=!1;break}if(Pt)return Nt}return-1}s.prototype.includes=function(q,W,G){return this.indexOf(q,W,G)!==-1},s.prototype.indexOf=function(q,W,G){return D(this,q,W,G,!0)},s.prototype.lastIndexOf=function(q,W,G){return D(this,q,W,G,!1)};function Q(ne,q,W,G){W=Number(W)||0;const je=ne.length-W;G?(G=Number(G),G>je&&(G=je)):G=je;const Je=q.length;G>Je/2&&(G=Je/2);let ke;for(ke=0;ke<G;++ke){const Rt=parseInt(q.substr(ke*2,2),16);if(gt(Rt))return ke;ne[W+ke]=Rt}return ke}function X(ne,q,W,G){return tt(ye(q,ne.length-W),ne,W,G)}function U(ne,q,W,G){return tt(He(q),ne,W,G)}function Y(ne,q,W,G){return tt(Fe(q),ne,W,G)}function ce(ne,q,W,G){return tt(Ee(q,ne.length-W),ne,W,G)}s.prototype.write=function(q,W,G,je){if(W===void 0)je="utf8",G=this.length,W=0;else if(G===void 0&&typeof W=="string")je=W,G=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(G)?(G=G>>>0,je===void 0&&(je="utf8")):(je=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Je=this.length-W;if((G===void 0||G>Je)&&(G=Je),q.length>0&&(G<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Q(this,q,W,G);case"utf8":case"utf-8":return X(this,q,W,G);case"ascii":case"latin1":case"binary":return U(this,q,W,G);case"base64":return Y(this,q,W,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,q,W,G);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(ne,q,W){return q===0&&W===ne.length?t.fromByteArray(ne):t.fromByteArray(ne.slice(q,W))}function se(ne,q,W){W=Math.min(ne.length,W);const G=[];let je=q;for(;je<W;){const Je=ne[je];let ke=null,Rt=Je>239?4:Je>223?3:Je>191?2:1;if(je+Rt<=W){let Lt,Nt,Pt,zt;switch(Rt){case 1:Je<128&&(ke=Je);break;case 2:Lt=ne[je+1],(Lt&192)===128&&(zt=(Je&31)<<6|Lt&63,zt>127&&(ke=zt));break;case 3:Lt=ne[je+1],Nt=ne[je+2],(Lt&192)===128&&(Nt&192)===128&&(zt=(Je&15)<<12|(Lt&63)<<6|Nt&63,zt>2047&&(zt<55296||zt>57343)&&(ke=zt));break;case 4:Lt=ne[je+1],Nt=ne[je+2],Pt=ne[je+3],(Lt&192)===128&&(Nt&192)===128&&(Pt&192)===128&&(zt=(Je&15)<<18|(Lt&63)<<12|(Nt&63)<<6|Pt&63,zt>65535&&zt<1114112&&(ke=zt))}}ke===null?(ke=65533,Rt=1):ke>65535&&(ke-=65536,G.push(ke>>>10&1023|55296),ke=56320|ke&1023),G.push(ke),je+=Rt}return _e(G)}const pe=4096;function _e(ne){const q=ne.length;if(q<=pe)return String.fromCharCode.apply(String,ne);let W="",G=0;for(;G<q;)W+=String.fromCharCode.apply(String,ne.slice(G,G+=pe));return W}function de(ne,q,W){let G="";W=Math.min(ne.length,W);for(let je=q;je<W;++je)G+=String.fromCharCode(ne[je]&127);return G}function ue(ne,q,W){let G="";W=Math.min(ne.length,W);for(let je=q;je<W;++je)G+=String.fromCharCode(ne[je]);return G}function Re(ne,q,W){const G=ne.length;(!q||q<0)&&(q=0),(!W||W<0||W>G)&&(W=G);let je="";for(let Je=q;Je<W;++Je)je+=qt[ne[Je]];return je}function k(ne,q,W){const G=ne.slice(q,W);let je="";for(let Je=0;Je<G.length-1;Je+=2)je+=String.fromCharCode(G[Je]+G[Je+1]*256);return je}s.prototype.slice=function(q,W){const G=this.length;q=~~q,W=W===void 0?G:~~W,q<0?(q+=G,q<0&&(q=0)):q>G&&(q=G),W<0?(W+=G,W<0&&(W=0)):W>G&&(W=G),W<q&&(W=q);const je=this.subarray(q,W);return Object.setPrototypeOf(je,s.prototype),je};function ie(ne,q,W){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+q>W)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(q,W,G){q=q>>>0,W=W>>>0,G||ie(q,W,this.length);let je=this[q],Je=1,ke=0;for(;++ke<W&&(Je*=256);)je+=this[q+ke]*Je;return je},s.prototype.readUintBE=s.prototype.readUIntBE=function(q,W,G){q=q>>>0,W=W>>>0,G||ie(q,W,this.length);let je=this[q+--W],Je=1;for(;W>0&&(Je*=256);)je+=this[q+--W]*Je;return je},s.prototype.readUint8=s.prototype.readUInt8=function(q,W){return q=q>>>0,W||ie(q,1,this.length),this[q]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(q,W){return q=q>>>0,W||ie(q,2,this.length),this[q]|this[q+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(q,W){return q=q>>>0,W||ie(q,2,this.length),this[q]<<8|this[q+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(q,W){return q=q>>>0,W||ie(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(q,W){return q=q>>>0,W||ie(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},s.prototype.readBigUInt64LE=Se(function(q){q=q>>>0,$(q,"offset");const W=this[q],G=this[q+7];(W===void 0||G===void 0)&&ae(q,this.length-8);const je=W+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24,Je=this[++q]+this[++q]*2**8+this[++q]*2**16+G*2**24;return BigInt(je)+(BigInt(Je)<<BigInt(32))}),s.prototype.readBigUInt64BE=Se(function(q){q=q>>>0,$(q,"offset");const W=this[q],G=this[q+7];(W===void 0||G===void 0)&&ae(q,this.length-8);const je=W*2**24+this[++q]*2**16+this[++q]*2**8+this[++q],Je=this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+G;return(BigInt(je)<<BigInt(32))+BigInt(Je)}),s.prototype.readIntLE=function(q,W,G){q=q>>>0,W=W>>>0,G||ie(q,W,this.length);let je=this[q],Je=1,ke=0;for(;++ke<W&&(Je*=256);)je+=this[q+ke]*Je;return Je*=128,je>=Je&&(je-=Math.pow(2,8*W)),je},s.prototype.readIntBE=function(q,W,G){q=q>>>0,W=W>>>0,G||ie(q,W,this.length);let je=W,Je=1,ke=this[q+--je];for(;je>0&&(Je*=256);)ke+=this[q+--je]*Je;return Je*=128,ke>=Je&&(ke-=Math.pow(2,8*W)),ke},s.prototype.readInt8=function(q,W){return q=q>>>0,W||ie(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},s.prototype.readInt16LE=function(q,W){q=q>>>0,W||ie(q,2,this.length);const G=this[q]|this[q+1]<<8;return G&32768?G|4294901760:G},s.prototype.readInt16BE=function(q,W){q=q>>>0,W||ie(q,2,this.length);const G=this[q+1]|this[q]<<8;return G&32768?G|4294901760:G},s.prototype.readInt32LE=function(q,W){return q=q>>>0,W||ie(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},s.prototype.readInt32BE=function(q,W){return q=q>>>0,W||ie(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},s.prototype.readBigInt64LE=Se(function(q){q=q>>>0,$(q,"offset");const W=this[q],G=this[q+7];(W===void 0||G===void 0)&&ae(q,this.length-8);const je=this[q+4]+this[q+5]*2**8+this[q+6]*2**16+(G<<24);return(BigInt(je)<<BigInt(32))+BigInt(W+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24)}),s.prototype.readBigInt64BE=Se(function(q){q=q>>>0,$(q,"offset");const W=this[q],G=this[q+7];(W===void 0||G===void 0)&&ae(q,this.length-8);const je=(W<<24)+this[++q]*2**16+this[++q]*2**8+this[++q];return(BigInt(je)<<BigInt(32))+BigInt(this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+G)}),s.prototype.readFloatLE=function(q,W){return q=q>>>0,W||ie(q,4,this.length),n.read(this,q,!0,23,4)},s.prototype.readFloatBE=function(q,W){return q=q>>>0,W||ie(q,4,this.length),n.read(this,q,!1,23,4)},s.prototype.readDoubleLE=function(q,W){return q=q>>>0,W||ie(q,8,this.length),n.read(this,q,!0,52,8)},s.prototype.readDoubleBE=function(q,W){return q=q>>>0,W||ie(q,8,this.length),n.read(this,q,!1,52,8)};function me(ne,q,W,G,je,Je){if(!s.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>je||q<Je)throw new RangeError('"value" argument is out of bounds');if(W+G>ne.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(q,W,G,je){if(q=+q,W=W>>>0,G=G>>>0,!je){const Rt=Math.pow(2,8*G)-1;me(this,q,W,G,Rt,0)}let Je=1,ke=0;for(this[W]=q&255;++ke<G&&(Je*=256);)this[W+ke]=q/Je&255;return W+G},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(q,W,G,je){if(q=+q,W=W>>>0,G=G>>>0,!je){const Rt=Math.pow(2,8*G)-1;me(this,q,W,G,Rt,0)}let Je=G-1,ke=1;for(this[W+Je]=q&255;--Je>=0&&(ke*=256);)this[W+Je]=q/ke&255;return W+G},s.prototype.writeUint8=s.prototype.writeUInt8=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,1,255,0),this[W]=q&255,W+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,2,65535,0),this[W]=q&255,this[W+1]=q>>>8,W+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,2,65535,0),this[W]=q>>>8,this[W+1]=q&255,W+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,4,4294967295,0),this[W+3]=q>>>24,this[W+2]=q>>>16,this[W+1]=q>>>8,this[W]=q&255,W+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,4,4294967295,0),this[W]=q>>>24,this[W+1]=q>>>16,this[W+2]=q>>>8,this[W+3]=q&255,W+4};function K(ne,q,W,G,je){z(q,G,je,ne,W,7);let Je=Number(q&BigInt(4294967295));ne[W++]=Je,Je=Je>>8,ne[W++]=Je,Je=Je>>8,ne[W++]=Je,Je=Je>>8,ne[W++]=Je;let ke=Number(q>>BigInt(32)&BigInt(4294967295));return ne[W++]=ke,ke=ke>>8,ne[W++]=ke,ke=ke>>8,ne[W++]=ke,ke=ke>>8,ne[W++]=ke,W}function ee(ne,q,W,G,je){z(q,G,je,ne,W,7);let Je=Number(q&BigInt(4294967295));ne[W+7]=Je,Je=Je>>8,ne[W+6]=Je,Je=Je>>8,ne[W+5]=Je,Je=Je>>8,ne[W+4]=Je;let ke=Number(q>>BigInt(32)&BigInt(4294967295));return ne[W+3]=ke,ke=ke>>8,ne[W+2]=ke,ke=ke>>8,ne[W+1]=ke,ke=ke>>8,ne[W]=ke,W+8}s.prototype.writeBigUInt64LE=Se(function(q,W=0){return K(this,q,W,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Se(function(q,W=0){return ee(this,q,W,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(q,W,G,je){if(q=+q,W=W>>>0,!je){const Lt=Math.pow(2,8*G-1);me(this,q,W,G,Lt-1,-Lt)}let Je=0,ke=1,Rt=0;for(this[W]=q&255;++Je<G&&(ke*=256);)q<0&&Rt===0&&this[W+Je-1]!==0&&(Rt=1),this[W+Je]=(q/ke>>0)-Rt&255;return W+G},s.prototype.writeIntBE=function(q,W,G,je){if(q=+q,W=W>>>0,!je){const Lt=Math.pow(2,8*G-1);me(this,q,W,G,Lt-1,-Lt)}let Je=G-1,ke=1,Rt=0;for(this[W+Je]=q&255;--Je>=0&&(ke*=256);)q<0&&Rt===0&&this[W+Je+1]!==0&&(Rt=1),this[W+Je]=(q/ke>>0)-Rt&255;return W+G},s.prototype.writeInt8=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,1,127,-128),q<0&&(q=255+q+1),this[W]=q&255,W+1},s.prototype.writeInt16LE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,2,32767,-32768),this[W]=q&255,this[W+1]=q>>>8,W+2},s.prototype.writeInt16BE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,2,32767,-32768),this[W]=q>>>8,this[W+1]=q&255,W+2},s.prototype.writeInt32LE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,4,2147483647,-2147483648),this[W]=q&255,this[W+1]=q>>>8,this[W+2]=q>>>16,this[W+3]=q>>>24,W+4},s.prototype.writeInt32BE=function(q,W,G){return q=+q,W=W>>>0,G||me(this,q,W,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[W]=q>>>24,this[W+1]=q>>>16,this[W+2]=q>>>8,this[W+3]=q&255,W+4},s.prototype.writeBigInt64LE=Se(function(q,W=0){return K(this,q,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Se(function(q,W=0){return ee(this,q,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(ne,q,W,G,je,Je){if(W+G>ne.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Ae(ne,q,W,G,je){return q=+q,W=W>>>0,je||ge(ne,q,W,4),n.write(ne,q,W,G,23,4),W+4}s.prototype.writeFloatLE=function(q,W,G){return Ae(this,q,W,!0,G)},s.prototype.writeFloatBE=function(q,W,G){return Ae(this,q,W,!1,G)};function Ze(ne,q,W,G,je){return q=+q,W=W>>>0,je||ge(ne,q,W,8),n.write(ne,q,W,G,52,8),W+8}s.prototype.writeDoubleLE=function(q,W,G){return Ze(this,q,W,!0,G)},s.prototype.writeDoubleBE=function(q,W,G){return Ze(this,q,W,!1,G)},s.prototype.copy=function(q,W,G,je){if(!s.isBuffer(q))throw new TypeError("argument should be a Buffer");if(G||(G=0),!je&&je!==0&&(je=this.length),W>=q.length&&(W=q.length),W||(W=0),je>0&&je<G&&(je=G),je===G||q.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),q.length-W<je-G&&(je=q.length-W+G);const Je=je-G;return this===q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,G,je):Uint8Array.prototype.set.call(q,this.subarray(G,je),W),Je},s.prototype.fill=function(q,W,G,je){if(typeof q=="string"){if(typeof W=="string"?(je=W,W=0,G=this.length):typeof G=="string"&&(je=G,G=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!s.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(q.length===1){const ke=q.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(q=ke)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(W<0||this.length<W||this.length<G)throw new RangeError("Out of range index");if(G<=W)return this;W=W>>>0,G=G===void 0?this.length:G>>>0,q||(q=0);let Je;if(typeof q=="number")for(Je=W;Je<G;++Je)this[Je]=q;else{const ke=s.isBuffer(q)?q:s.from(q,je),Rt=ke.length;if(Rt===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Je=0;Je<G-W;++Je)this[Je+W]=ke[Je%Rt]}return this};const Pe={};function Ne(ne,q,W){Pe[ne]=class extends W{constructor(){super(),Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(ne,q){return`The "${ne}" argument must be of type number. Received type ${typeof q}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(ne,q,W){let G=`The value of "${ne}" is out of range.`,je=W;return Number.isInteger(W)&&Math.abs(W)>2**32?je=Ye(String(W)):typeof W=="bigint"&&(je=String(W),(W>BigInt(2)**BigInt(32)||W<-(BigInt(2)**BigInt(32)))&&(je=Ye(je)),je+="n"),G+=` It must be ${q}. Received ${je}`,G},RangeError);function Ye(ne){let q="",W=ne.length;const G=ne[0]==="-"?1:0;for(;W>=G+4;W-=3)q=`_${ne.slice(W-3,W)}${q}`;return`${ne.slice(0,W)}${q}`}function oe(ne,q,W){$(q,"offset"),(ne[q]===void 0||ne[q+W]===void 0)&&ae(q,ne.length-(W+1))}function z(ne,q,W,G,je,Je){if(ne>W||ne<q){const ke=typeof q=="bigint"?"n":"";let Rt;throw q===0||q===BigInt(0)?Rt=`>= 0${ke} and < 2${ke} ** ${(Je+1)*8}${ke}`:Rt=`>= -(2${ke} ** ${(Je+1)*8-1}${ke}) and < 2 ** ${(Je+1)*8-1}${ke}`,new Pe.ERR_OUT_OF_RANGE("value",Rt,ne)}oe(G,je,Je)}function $(ne,q){if(typeof ne!="number")throw new Pe.ERR_INVALID_ARG_TYPE(q,"number",ne)}function ae(ne,q,W){throw Math.floor(ne)!==ne?($(ne,W),new Pe.ERR_OUT_OF_RANGE("offset","an integer",ne)):q<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${q}`,ne)}const Z=/[^+/0-9A-Za-z-_]/g;function he(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(Z,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function ye(ne,q){q=q||1/0;let W;const G=ne.length;let je=null;const Je=[];for(let ke=0;ke<G;++ke){if(W=ne.charCodeAt(ke),W>55295&&W<57344){if(!je){if(W>56319){(q-=3)>-1&&Je.push(239,191,189);continue}else if(ke+1===G){(q-=3)>-1&&Je.push(239,191,189);continue}je=W;continue}if(W<56320){(q-=3)>-1&&Je.push(239,191,189),je=W;continue}W=(je-55296<<10|W-56320)+65536}else je&&(q-=3)>-1&&Je.push(239,191,189);if(je=null,W<128){if((q-=1)<0)break;Je.push(W)}else if(W<2048){if((q-=2)<0)break;Je.push(W>>6|192,W&63|128)}else if(W<65536){if((q-=3)<0)break;Je.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((q-=4)<0)break;Je.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return Je}function He(ne){const q=[];for(let W=0;W<ne.length;++W)q.push(ne.charCodeAt(W)&255);return q}function Ee(ne,q){let W,G,je;const Je=[];for(let ke=0;ke<ne.length&&!((q-=2)<0);++ke)W=ne.charCodeAt(ke),G=W>>8,je=W%256,Je.push(je),Je.push(G);return Je}function Fe(ne){return t.toByteArray(he(ne))}function tt(ne,q,W,G){let je;for(je=0;je<G&&!(je+W>=q.length||je>=ne.length);++je)q[je+W]=ne[je];return je}function nt(ne,q){return ne instanceof q||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===q.name}function gt(ne){return ne!==ne}const qt=function(){const ne="0123456789abcdef",q=new Array(256);for(let W=0;W<16;++W){const G=W*16;for(let je=0;je<16;++je)q[G+je]=ne[W]+ne[je]}return q}();function Se(ne){return typeof BigInt>"u"?Be:ne}function Be(){throw new Error("BigInt not supported")}}(YS)),YS}var XS,$k;function qr(){return $k||($k=1,XS={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean,Uint8Array}),XS}var ex={exports:{}},Yp={exports:{}},Uk;function Pm(){if(Uk)return Yp.exports;Uk=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Yp.exports=e,Yp.exports.AbortSignal=t,Yp.exports.default=e,Yp.exports}var Bk;function pa(){return Bk||(Bk=1,function(e){const t=Lu(),{kResistStopPropagation:n,SymbolDispose:r}=qr(),i=globalThis.AbortSignal||Pm().AbortSignal,a=globalThis.AbortController||Pm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||t.Blob,l=typeof s<"u"?function(y){return y instanceof s}:function(y){return!1},c=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},d=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class h extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let v="";for(let _=0;_<y.length;_++)v+=`    ${y[_].stack}
`;super(v),this.name="AggregateError",this.errors=y}}e.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(...v){y||(y=!0,m.apply(this,v))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((_,x)=>{m=_,y=x}),resolve:m,reject:y}},promisify(m){return new Promise((y,v)=>{m((_,...x)=>_?v(_):y(...x))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[v,_]){const x=y.shift();return _==="f"?x.toFixed(6):_==="j"?JSON.stringify(x):_==="s"&&typeof x=="object"?`${x.constructor!==Object?x.constructor.name:""} {}`.trim():x.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof o},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:l,deprecate(m,y){return m},addAbortListener:Mh().addAbortListener||function(y,v){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);c(y,"signal"),d(v,"listener");let _;return y.aborted?queueMicrotask(()=>v()):(y.addEventListener("abort",v,{__proto__:null,once:!0,[n]:!0}),_=()=>{y.removeEventListener("abort",v)}),{__proto__:null,[r](){var x;(x=_)===null||x===void 0||x()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const v=new a,_=()=>v.abort();return y.forEach(x=>{c(x,"signals"),x.addEventListener("abort",_,{once:!0})}),v.signal.addEventListener("abort",()=>{y.forEach(x=>x.removeEventListener("abort",_))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(ex)),ex.exports}var qv={},tx,qk;function Oa(){if(qk)return tx;qk=1;const{format:e,inspect:t,AggregateError:n}=pa(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(x,b){if(!x)throw new l.ERR_INTERNAL_ASSERTION(b)}function d(x){let b="",S=x.length;const A=x[0]==="-"?1:0;for(;S>=A+4;S-=3)b=`_${x.slice(S-3,S)}${b}`;return`${x.slice(0,S)}${b}`}function h(x,b,S){if(typeof b=="function")return c(b.length<=S.length,`Code: ${x}; The provided arguments length (${S.length}) does not match the required ones (${b.length}).`),b(...S);const A=(b.match(/%[dfijoOs]/g)||[]).length;return c(A===S.length,`Code: ${x}; The provided arguments length (${S.length}) does not match the required ones (${A}).`),S.length===0?b:e(b,...S)}function m(x,b,S){S||(S=Error);class A extends S{constructor(...O){super(h(x,b,O))}toString(){return`${this.name} [${x}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:S.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${x}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=x,A.prototype[i]=!0,l[x]=A}function y(x){const b=s+x.name;return Object.defineProperty(x,"name",{value:b}),x}function v(x,b){if(x&&b&&x!==b){if(Array.isArray(b.errors))return b.errors.push(x),b;const S=new r([b,x],b.message);return S.code=b.code,S}return x||b}class _ extends Error{constructor(b="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",S);super(b,S),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(x,b,S)=>{c(typeof x=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let A="The ";x.endsWith(" argument")?A+=`${x} `:A+=`"${x}" ${x.includes(".")?"property":"argument"} `,A+="must be ";const P=[],O=[],D=[];for(const Q of b)c(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?P.push(Q.toLowerCase()):o.test(Q)?O.push(Q):(c(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(O.length>0){const Q=P.indexOf("object");Q!==-1&&(P.splice(P,Q,1),O.push("Object"))}if(P.length>0){switch(P.length){case 1:A+=`of type ${P[0]}`;break;case 2:A+=`one of type ${P[0]} or ${P[1]}`;break;default:{const Q=P.pop();A+=`one of type ${P.join(", ")}, or ${Q}`}}(O.length>0||D.length>0)&&(A+=" or ")}if(O.length>0){switch(O.length){case 1:A+=`an instance of ${O[0]}`;break;case 2:A+=`an instance of ${O[0]} or ${O[1]}`;break;default:{const Q=O.pop();A+=`an instance of ${O.join(", ")}, or ${Q}`}}D.length>0&&(A+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(A+="an "),A+=`${D[0]}`;break;case 2:A+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();A+=`one of ${D.join(", ")}, or ${Q}`}}if(S==null)A+=`. Received ${S}`;else if(typeof S=="function"&&S.name)A+=`. Received function ${S.name}`;else if(typeof S=="object"){var F;if((F=S.constructor)!==null&&F!==void 0&&F.name)A+=`. Received an instance of ${S.constructor.name}`;else{const Q=t(S,{depth:-1});A+=`. Received ${Q}`}}else{let Q=t(S,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),A+=`. Received type ${typeof S} (${Q})`}return A},TypeError),m("ERR_INVALID_ARG_VALUE",(x,b,S="is invalid")=>{let A=t(b);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${x.includes(".")?"property":"argument"} '${x}' ${S}. Received ${A}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(x,b,S)=>{var A;const P=S!=null&&(A=S.constructor)!==null&&A!==void 0&&A.name?`instance of ${S.constructor.name}`:`type ${typeof S}`;return`Expected ${x} to be returned from the "${b}" function but got ${P}.`},TypeError),m("ERR_MISSING_ARGS",(...x)=>{c(x.length>0,"At least one arg needs to be specified");let b;const S=x.length;switch(x=(Array.isArray(x)?x:[x]).map(A=>`"${A}"`).join(" or "),S){case 1:b+=`The ${x[0]} argument`;break;case 2:b+=`The ${x[0]} and ${x[1]} arguments`;break;default:{const A=x.pop();b+=`The ${x.join(", ")}, and ${A} arguments`}break}return`${b} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(x,b,S)=>{c(b,'Missing "range" argument');let A;return Number.isInteger(S)&&Math.abs(S)>2**32?A=d(String(S)):typeof S=="bigint"?(A=String(S),(S>2n**32n||S<-(2n**32n))&&(A=d(A)),A+="n"):A=t(S),`The value of "${x}" is out of range. It must be ${b}. Received ${A}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),tx={AbortError:_,aggregateTwoErrors:y(v),hideStackFrames:y,codes:l},tx}var nx,zk;function ay(){if(zk)return nx;zk=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:d,String:h,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=qr(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:x,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:A}}=Oa(),{normalizeEncoding:P}=pa(),{isAsyncFunction:O,isArrayBufferView:D}=pa().types,F={};function Q(Ee){return Ee===(Ee|0)}function X(Ee){return Ee===Ee>>>0}const U=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function ce(Ee,Fe,tt){if(typeof Ee>"u"&&(Ee=tt),typeof Ee=="string"){if(d(U,Ee)===null)throw new b(Fe,Ee,Y);Ee=l(Ee,8)}return pe(Ee,Fe),Ee}const te=v((Ee,Fe,tt=s,nt=o)=>{if(typeof Ee!="number")throw new x(Fe,"number",Ee);if(!i(Ee))throw new S(Fe,"an integer",Ee);if(Ee<tt||Ee>nt)throw new S(Fe,`>= ${tt} && <= ${nt}`,Ee)}),se=v((Ee,Fe,tt=-2147483648,nt=2147483647)=>{if(typeof Ee!="number")throw new x(Fe,"number",Ee);if(!i(Ee))throw new S(Fe,"an integer",Ee);if(Ee<tt||Ee>nt)throw new S(Fe,`>= ${tt} && <= ${nt}`,Ee)}),pe=v((Ee,Fe,tt=!1)=>{if(typeof Ee!="number")throw new x(Fe,"number",Ee);if(!i(Ee))throw new S(Fe,"an integer",Ee);const nt=tt?1:0,gt=4294967295;if(Ee<nt||Ee>gt)throw new S(Fe,`>= ${nt} && <= ${gt}`,Ee)});function _e(Ee,Fe){if(typeof Ee!="string")throw new x(Fe,"string",Ee)}function de(Ee,Fe,tt=void 0,nt){if(typeof Ee!="number")throw new x(Fe,"number",Ee);if(tt!=null&&Ee<tt||nt!=null&&Ee>nt||(tt!=null||nt!=null)&&a(Ee))throw new S(Fe,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Ee)}const ue=v((Ee,Fe,tt)=>{if(!t(tt,Ee)){const gt="must be one of: "+n(r(tt,qt=>typeof qt=="string"?`'${qt}'`:h(qt)),", ");throw new b(Fe,Ee,gt)}});function Re(Ee,Fe){if(typeof Ee!="boolean")throw new x(Fe,"boolean",Ee)}function k(Ee,Fe,tt){return Ee==null||!c(Ee,Fe)?tt:Ee[Fe]}const ie=v((Ee,Fe,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Ee===null||!nt&&e(Ee)||typeof Ee!="object"&&(!gt||typeof Ee!="function"))throw new x(Fe,"Object",Ee)}),me=v((Ee,Fe)=>{if(Ee!=null&&typeof Ee!="object"&&typeof Ee!="function")throw new x(Fe,"a dictionary",Ee)}),K=v((Ee,Fe,tt=0)=>{if(!e(Ee))throw new x(Fe,"Array",Ee);if(Ee.length<tt){const nt=`must be longer than ${tt}`;throw new b(Fe,Ee,nt)}});function ee(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++)_e(Ee[tt],`${Fe}[${tt}]`)}function ge(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++)Re(Ee[tt],`${Fe}[${tt}]`)}function Ae(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++){const nt=Ee[tt],gt=`${Fe}[${tt}]`;if(nt==null)throw new x(gt,"AbortSignal",nt);oe(nt,gt)}}function Ze(Ee,Fe="signal"){if(_e(Ee,Fe),F[Ee]===void 0)throw F[m(Ee)]!==void 0?new A(Ee+" (signals must use all capital letters)"):new A(Ee)}const Pe=v((Ee,Fe="buffer")=>{if(!D(Ee))throw new x(Fe,["Buffer","TypedArray","DataView"],Ee)});function Ne(Ee,Fe){const tt=P(Fe),nt=Ee.length;if(tt==="hex"&&nt%2!==0)throw new b("encoding",Fe,`is invalid for data of length ${nt}`)}function Ye(Ee,Fe="Port",tt=!0){if(typeof Ee!="number"&&typeof Ee!="string"||typeof Ee=="string"&&y(Ee).length===0||+Ee!==+Ee>>>0||Ee>65535||Ee===0&&!tt)throw new _(Fe,Ee,tt);return Ee|0}const oe=v((Ee,Fe)=>{if(Ee!==void 0&&(Ee===null||typeof Ee!="object"||!("aborted"in Ee)))throw new x(Fe,"AbortSignal",Ee)}),z=v((Ee,Fe)=>{if(typeof Ee!="function")throw new x(Fe,"Function",Ee)}),$=v((Ee,Fe)=>{if(typeof Ee!="function"||O(Ee))throw new x(Fe,"Function",Ee)}),ae=v((Ee,Fe)=>{if(Ee!==void 0)throw new x(Fe,"undefined",Ee)});function Z(Ee,Fe,tt){if(!t(tt,Ee))throw new x(Fe,`('${n(tt,"|")}')`,Ee)}const he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Ee,Fe){if(typeof Ee>"u"||!d(he,Ee))throw new b(Fe,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Ee){if(typeof Ee=="string")return ye(Ee,"hints"),Ee;if(e(Ee)){const Fe=Ee.length;let tt="";if(Fe===0)return tt;for(let nt=0;nt<Fe;nt++){const gt=Ee[nt];ye(gt,"hints"),tt+=gt,nt!==Fe-1&&(tt+=", ")}return tt}throw new b("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return nx={isInt32:Q,isUint32:X,parseFileMode:ce,validateArray:K,validateStringArray:ee,validateBooleanArray:ge,validateAbortSignalArray:Ae,validateBoolean:Re,validateBuffer:Pe,validateDictionary:me,validateEncoding:Ne,validateFunction:z,validateInt32:se,validateInteger:te,validateNumber:de,validateObject:ie,validateOneOf:ue,validatePlainFunction:$,validatePort:Ye,validateSignalName:Ze,validateString:_e,validateUint32:pe,validateUndefined:ae,validateUnion:Z,validateAbortSignal:oe,validateLinkHeaderValue:He},nx}var zv={exports:{}},rx={exports:{}},Hk;function Of(){if(Hk)return rx.exports;Hk=1;var e=rx.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(_){if(t===setTimeout)return setTimeout(_,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function o(_){if(n===clearTimeout)return clearTimeout(_);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(_);try{return n(_)}catch{try{return n.call(null,_)}catch{return n.call(this,_)}}}var s=[],l=!1,c,d=-1;function h(){!l||!c||(l=!1,c.length?s=c.concat(s):d=-1,s.length&&m())}function m(){if(!l){var _=a(h);l=!0;for(var x=s.length;x;){for(c=s,s=[];++d<x;)c&&c[d].run();d=-1,x=s.length}c=null,l=!1,o(_)}}e.nextTick=function(_){var x=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)x[b-1]=arguments[b];s.push(new y(_,x)),s.length===1&&!l&&a(m)};function y(_,x){this.fun=_,this.array=x}y.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}return e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},rx.exports}var ix,Vk;function Iu(){if(Vk)return ix;Vk=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=qr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function d(k,ie=!1){var me;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ie||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((me=k._readableState)===null||me===void 0?void 0:me.readable)!==!1)&&(!k._writableState||k._readableState))}function h(k){var ie;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ie=k._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function m(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function v(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function _(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function x(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function b(k){return v(k)||_(k)||x(k)}function S(k,ie){return k==null?!1:ie===!0?typeof k[e]=="function":ie===!1?typeof k[t]=="function":typeof k[e]=="function"||typeof k[t]=="function"}function A(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,K=ie||me;return!!(k.destroyed||k[r]||K!=null&&K.destroyed)}function P(k){if(!h(k))return null;if(k.writableEnded===!0)return!0;const ie=k._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function O(k,ie){if(!h(k))return null;if(k.writableFinished===!0)return!0;const me=k._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.finished)!="boolean"?null:!!(me.finished||ie===!1&&me.ended===!0&&me.length===0)}function D(k){if(!d(k))return null;if(k.readableEnded===!0)return!0;const ie=k._readableState;return!ie||ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function F(k,ie){if(!d(k))return null;const me=k._readableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.endEmitted)!="boolean"?null:!!(me.endEmitted||ie===!1&&me.ended===!0&&me.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:A(k)?!1:d(k)&&k.readable&&!F(k)}function X(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.writable)!="boolean"?null:A(k)?!1:h(k)&&k.writable&&!P(k)}function U(k,ie){return y(k)?A(k)?!0:!((ie==null?void 0:ie.readable)!==!1&&Q(k)||(ie==null?void 0:ie.writable)!==!1&&X(k)):null}function Y(k){var ie,me;return y(k)?k.writableErrored?k.writableErrored:(ie=(me=k._writableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function ce(k){var ie,me;return y(k)?k.readableErrored?k.readableErrored:(ie=(me=k._readableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function te(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ie=k._writableState,me=k._readableState;return typeof(ie==null?void 0:ie.closed)=="boolean"||typeof(me==null?void 0:me.closed)=="boolean"?(ie==null?void 0:ie.closed)||(me==null?void 0:me.closed):typeof k._closed=="boolean"&&se(k)?k._closed:null}function se(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function pe(k){return typeof k._sent100=="boolean"&&se(k)}function _e(k){var ie;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ie=k.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function de(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,K=ie||me;return!K&&pe(k)||!!(K&&K.autoDestroy&&K.emitClose&&K.closed===!1)}function ue(k){var ie;return!!(k&&((ie=k[s])!==null&&ie!==void 0?ie:k.readableDidRead||k.readableAborted))}function Re(k){var ie,me,K,ee,ge,Ae,Ze,Pe,Ne,Ye;return!!(k&&((ie=(me=(K=(ee=(ge=(Ae=k[i])!==null&&Ae!==void 0?Ae:k.readableErrored)!==null&&ge!==void 0?ge:k.writableErrored)!==null&&ee!==void 0?ee:(Ze=k._readableState)===null||Ze===void 0?void 0:Ze.errorEmitted)!==null&&K!==void 0?K:(Pe=k._writableState)===null||Pe===void 0?void 0:Pe.errorEmitted)!==null&&me!==void 0?me:(Ne=k._readableState)===null||Ne===void 0?void 0:Ne.errored)!==null&&ie!==void 0?ie:!((Ye=k._writableState)===null||Ye===void 0)&&Ye.errored))}return ix={isDestroyed:A,kIsDestroyed:r,isDisturbed:ue,kIsDisturbed:s,isErrored:Re,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:o,isClosed:te,isDuplexNodeStream:m,isFinished:U,isIterable:S,isReadableNodeStream:d,isReadableStream:v,isReadableEnded:D,isReadableFinished:F,isReadableErrored:ce,isNodeStream:y,isWebStream:b,isWritable:X,isWritableNodeStream:h,isWritableStream:_,isWritableEnded:P,isWritableFinished:O,isWritableErrored:Y,isServerRequest:_e,isServerResponse:pe,willEmitClose:de,isTransformStream:x},ix}var Kk;function Xl(){if(Kk)return zv.exports;Kk=1;const e=Of(),{AbortError:t,codes:n}=Oa(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=pa(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:d}=ay(),{Promise:h,PromisePrototypeThen:m,SymbolDispose:y}=qr(),{isClosed:v,isReadable:_,isReadableNodeStream:x,isReadableStream:b,isReadableFinished:S,isReadableErrored:A,isWritable:P,isWritableNodeStream:O,isWritableStream:D,isWritableFinished:F,isWritableErrored:Q,isNodeStream:X,willEmitClose:U,kIsClosedPromise:Y}=Iu();let ce;function te(ue){return ue.setHeader&&typeof ue.abort=="function"}const se=()=>{};function pe(ue,Re,k){var ie,me;if(arguments.length===2?(k=Re,Re=a):Re==null?Re=a:c(Re,"options"),l(k,"callback"),s(Re.signal,"options.signal"),k=o(k),b(ue)||D(ue))return _e(ue,Re,k);if(!X(ue))throw new r("stream",["ReadableStream","WritableStream","Stream"],ue);const K=(ie=Re.readable)!==null&&ie!==void 0?ie:x(ue),ee=(me=Re.writable)!==null&&me!==void 0?me:O(ue),ge=ue._writableState,Ae=ue._readableState,Ze=()=>{ue.writable||Ye()};let Pe=U(ue)&&x(ue)===K&&O(ue)===ee,Ne=F(ue,!1);const Ye=()=>{Ne=!0,ue.destroyed&&(Pe=!1),!(Pe&&(!ue.readable||K))&&(!K||oe)&&k.call(ue)};let oe=S(ue,!1);const z=()=>{oe=!0,ue.destroyed&&(Pe=!1),!(Pe&&(!ue.writable||ee))&&(!ee||Ne)&&k.call(ue)},$=Ee=>{k.call(ue,Ee)};let ae=v(ue);const Z=()=>{ae=!0;const Ee=Q(ue)||A(ue);if(Ee&&typeof Ee!="boolean")return k.call(ue,Ee);if(K&&!oe&&x(ue,!0)&&!S(ue,!1))return k.call(ue,new i);if(ee&&!Ne&&!F(ue,!1))return k.call(ue,new i);k.call(ue)},he=()=>{ae=!0;const Ee=Q(ue)||A(ue);if(Ee&&typeof Ee!="boolean")return k.call(ue,Ee);k.call(ue)},ye=()=>{ue.req.on("finish",Ye)};te(ue)?(ue.on("complete",Ye),Pe||ue.on("abort",Z),ue.req?ye():ue.on("request",ye)):ee&&!ge&&(ue.on("end",Ze),ue.on("close",Ze)),!Pe&&typeof ue.aborted=="boolean"&&ue.on("aborted",Z),ue.on("end",z),ue.on("finish",Ye),Re.error!==!1&&ue.on("error",$),ue.on("close",Z),ae?e.nextTick(Z):ge!=null&&ge.errorEmitted||Ae!=null&&Ae.errorEmitted?Pe||e.nextTick(he):(!K&&(!Pe||_(ue))&&(Ne||P(ue)===!1)||!ee&&(!Pe||P(ue))&&(oe||_(ue)===!1)||Ae&&ue.req&&ue.aborted)&&e.nextTick(he);const He=()=>{k=se,ue.removeListener("aborted",Z),ue.removeListener("complete",Ye),ue.removeListener("abort",Z),ue.removeListener("request",ye),ue.req&&ue.req.removeListener("finish",Ye),ue.removeListener("end",Ze),ue.removeListener("close",Ze),ue.removeListener("finish",Ye),ue.removeListener("end",z),ue.removeListener("error",$),ue.removeListener("close",Z)};if(Re.signal&&!ae){const Ee=()=>{const Fe=k;He(),Fe.call(ue,new t(void 0,{cause:Re.signal.reason}))};if(Re.signal.aborted)e.nextTick(Ee);else{ce=ce||pa().addAbortListener;const Fe=ce(Re.signal,Ee),tt=k;k=o((...nt)=>{Fe[y](),tt.apply(ue,nt)})}}return He}function _e(ue,Re,k){let ie=!1,me=se;if(Re.signal)if(me=()=>{ie=!0,k.call(ue,new t(void 0,{cause:Re.signal.reason}))},Re.signal.aborted)e.nextTick(me);else{ce=ce||pa().addAbortListener;const ee=ce(Re.signal,me),ge=k;k=o((...Ae)=>{ee[y](),ge.apply(ue,Ae)})}const K=(...ee)=>{ie||e.nextTick(()=>k.apply(ue,ee))};return m(ue[Y].promise,K,K),se}function de(ue,Re){var k;let ie=!1;return Re===null&&(Re=a),(k=Re)!==null&&k!==void 0&&k.cleanup&&(d(Re.cleanup,"cleanup"),ie=Re.cleanup),new h((me,K)=>{const ee=pe(ue,Re,ge=>{ie&&ee(),ge?K(ge):me()})})}return zv.exports=pe,zv.exports.finished=de,zv.exports}var ax,Gk;function kh(){if(Gk)return ax;Gk=1;const e=Of(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Oa(),{Symbol:i}=qr(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=Iu(),c=i("kDestroy"),d=i("kConstruct");function h(U,Y,ce){U&&(U.stack,Y&&!Y.errored&&(Y.errored=U),ce&&!ce.errored&&(ce.errored=U))}function m(U,Y){const ce=this._readableState,te=this._writableState,se=te||ce;return te!=null&&te.destroyed||ce!=null&&ce.destroyed?(typeof Y=="function"&&Y(),this):(h(U,te,ce),te&&(te.destroyed=!0),ce&&(ce.destroyed=!0),se.constructed?y(this,U,Y):this.once(c,function(pe){y(this,t(pe,U),Y)}),this)}function y(U,Y,ce){let te=!1;function se(pe){if(te)return;te=!0;const _e=U._readableState,de=U._writableState;h(pe,de,_e),de&&(de.closed=!0),_e&&(_e.closed=!0),typeof ce=="function"&&ce(pe),pe?e.nextTick(v,U,pe):e.nextTick(_,U)}try{U._destroy(Y||null,se)}catch(pe){se(pe)}}function v(U,Y){x(U,Y),_(U)}function _(U){const Y=U._readableState,ce=U._writableState;ce&&(ce.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(ce!=null&&ce.emitClose||Y!=null&&Y.emitClose)&&U.emit("close")}function x(U,Y){const ce=U._readableState,te=U._writableState;te!=null&&te.errorEmitted||ce!=null&&ce.errorEmitted||(te&&(te.errorEmitted=!0),ce&&(ce.errorEmitted=!0),U.emit("error",Y))}function b(){const U=this._readableState,Y=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function S(U,Y,ce){const te=U._readableState,se=U._writableState;if(se!=null&&se.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||se!=null&&se.autoDestroy?U.destroy(Y):Y&&(Y.stack,se&&!se.errored&&(se.errored=Y),te&&!te.errored&&(te.errored=Y),ce?e.nextTick(x,U,Y):x(U,Y))}function A(U,Y){if(typeof U._construct!="function")return;const ce=U._readableState,te=U._writableState;ce&&(ce.constructed=!1),te&&(te.constructed=!1),U.once(d,Y),!(U.listenerCount(d)>1)&&e.nextTick(P,U)}function P(U){let Y=!1;function ce(te){if(Y){S(U,te??new n);return}Y=!0;const se=U._readableState,pe=U._writableState,_e=pe||se;se&&(se.constructed=!0),pe&&(pe.constructed=!0),_e.destroyed?U.emit(c,te):te?S(U,te,!0):e.nextTick(O,U)}try{U._construct(te=>{e.nextTick(ce,te)})}catch(te){e.nextTick(ce,te)}}function O(U){U.emit(d)}function D(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function F(U){U.emit("close")}function Q(U,Y){U.emit("error",Y),e.nextTick(F,U)}function X(U,Y){!U||o(U)||(!Y&&!s(U)&&(Y=new r),l(U)?(U.socket=null,U.destroy(Y)):D(U)?U.abort():D(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(Y):typeof U.close=="function"?U.close():Y?e.nextTick(Q,U,Y):e.nextTick(F,U),U.destroyed||(U[a]=!0))}return ax={construct:A,destroyer:X,destroy:m,undestroy:b,errorOrDestroy:S},ax}var ox,Wk;function HP(){if(Wk)return ox;Wk=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=qr(),{EventEmitter:n}=Mh();function r(a){n.call(this,a)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(a,o){const s=this;function l(_){a.writable&&a.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}a.on("drain",c),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",h),s.on("close",m));let d=!1;function h(){d||(d=!0,a.end())}function m(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function y(_){v(),n.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",y),i(a,"error",y);function v(){s.removeListener("data",l),a.removeListener("drain",c),s.removeListener("end",h),s.removeListener("close",m),s.removeListener("error",y),a.removeListener("error",y),s.removeListener("end",v),s.removeListener("close",v),a.removeListener("close",v)}return s.on("end",v),s.on("close",v),a.on("close",v),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return ox={Stream:r,prependListener:i},ox}var sx={exports:{}},Qk;function kw(){return Qk||(Qk=1,function(e){const{SymbolDispose:t}=qr(),{AbortError:n,codes:r}=Oa(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=Iu(),s=Xl(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const d=(h,m)=>{if(typeof h!="object"||!("aborted"in h))throw new l(m,"AbortSignal",h)};e.exports.addAbortSignal=function(m,y){if(d(m,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return e.exports.addAbortSignalNoValidate(m,y)},e.exports.addAbortSignalNoValidate=function(h,m){if(typeof h!="object"||!("aborted"in h))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:h.reason}))}:()=>{m[o](new n(void 0,{cause:h.reason}))};if(h.aborted)y();else{c=c||pa().addAbortListener;const v=c(h,y);s(m,v[t])}return m}}(sx)),sx.exports}var ux,Zk;function nne(){if(Zk)return ux;Zk=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=qr(),{Buffer:i}=Lu(),{inspect:a}=pa();return ux=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,d=0;for(;c;)n(l,c.data,d),d+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const d=c.slice(0,s);return this.head.data=c.slice(s),d}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,d=0;do{const h=c.data;if(s>h.length)l+=h,s-=h.length;else{s===h.length?(l+=h,++d,c.next?this.head=c.next:this.head=this.tail=null):(l+=e(h,0,s),this.head=c,c.data=e(h,s));break}++d}while((c=c.next)!==null);return this.length-=d,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let d=this.head,h=0;do{const m=d.data;if(s>m.length)n(l,m,c-s),s-=m.length;else{s===m.length?(n(l,m,c-s),++h,d.next?this.head=d.next:this.head=this.tail=null):(n(l,new r(m.buffer,m.byteOffset,s),c-s),this.head=d,d.data=m.slice(s));break}++h}while((d=d.next)!==null);return this.length-=h,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},ux}var lx,Jk;function Nw(){if(Jk)return lx;Jk=1;const{MathFloor:e,NumberIsInteger:t}=qr(),{validateInteger:n}=ay(),{ERR_INVALID_ARG_VALUE:r}=Oa().codes;let i=16*1024,a=16;function o(d,h,m){return d.highWaterMark!=null?d.highWaterMark:h?d[m]:null}function s(d){return d?a:i}function l(d,h){n(h,"value",0),d?a=h:i=h}function c(d,h,m,y){const v=o(h,y,m);if(v!=null){if(!t(v)||v<0){const _=y?`options.${m}`:"options.highWaterMark";throw new r(_,v)}return e(v)}return s(d.objectMode)}return lx={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},lx}var cx={},Hv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Yk;function rne(){return Yk||(Yk=1,function(e,t){var n=Lu(),r=n.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(Hv,Hv.exports)),Hv.exports}var Xk;function ine(){if(Xk)return cx;Xk=1;var e=rne().Buffer,t=e.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(b){if(!b)return"utf8";for(var S;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(S)return;b=(""+b).toLowerCase(),S=!0}}function r(b){var S=n(b);if(typeof S!="string"&&(e.isEncoding===t||!t(b)))throw new Error("Unknown encoding: "+b);return S||b}cx.StringDecoder=i;function i(b){this.encoding=r(b);var S;switch(this.encoding){case"utf16le":this.text=h,this.end=m,S=4;break;case"utf8":this.fillLast=l,S=4;break;case"base64":this.text=y,this.end=v,S=3;break;default:this.write=_,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(S)}i.prototype.write=function(b){if(b.length===0)return"";var S,A;if(this.lastNeed){if(S=this.fillLast(b),S===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<b.length?S?S+this.text(b,A):this.text(b,A):S||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function a(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,S,A){var P=S.length-1;if(P<A)return 0;var O=a(S[P]);return O>=0?(O>0&&(b.lastNeed=O-1),O):--P<A||O===-2?0:(O=a(S[P]),O>=0?(O>0&&(b.lastNeed=O-2),O):--P<A||O===-2?0:(O=a(S[P]),O>=0?(O>0&&(O===2?O=0:b.lastNeed=O-3),O):0))}function s(b,S,A){if((S[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return b.lastNeed=2,""}}function l(b){var S=this.lastTotal-this.lastNeed,A=s(this,b);if(A!==void 0)return A;if(this.lastNeed<=b.length)return b.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,S,0,b.length),this.lastNeed-=b.length}function c(b,S){var A=o(this,b,S);if(!this.lastNeed)return b.toString("utf8",S);this.lastTotal=A;var P=b.length-(A-this.lastNeed);return b.copy(this.lastChar,0,P),b.toString("utf8",S,P)}function d(b){var S=b&&b.length?this.write(b):"";return this.lastNeed?S+"":S}function h(b,S){if((b.length-S)%2===0){var A=b.toString("utf16le",S);if(A){var P=A.charCodeAt(A.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",S,b.length-1)}function m(b){var S=b&&b.length?this.write(b):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,A)}return S}function y(b,S){var A=(b.length-S)%3;return A===0?b.toString("base64",S):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",S,b.length-A))}function v(b){var S=b&&b.length?this.write(b):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function _(b){return b.toString(this.encoding)}function x(b){return b&&b.length?this.write(b):""}return cx}var fx,eN;function Wq(){if(eN)return fx;eN=1;const e=Of(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=qr(),{Buffer:i}=Lu(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Oa().codes;function s(l,c,d){let h;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...d,read(){this.push(c),this.push(null)}});let m;if(c&&c[n])m=!0,h=c[n]();else if(c&&c[r])m=!1,h=c[r]();else throw new a("iterable",["Iterable"],c);const y=new l({objectMode:!0,highWaterMark:1,...d});let v=!1;y._read=function(){v||(v=!0,x())},y._destroy=function(b,S){t(_(b),()=>e.nextTick(S,b),A=>e.nextTick(S,A||b))};async function _(b){const S=b!=null,A=typeof h.throw=="function";if(S&&A){const{value:P,done:O}=await h.throw(b);if(await P,O)return}if(typeof h.return=="function"){const{value:P}=await h.return();await P}}async function x(){for(;;){try{const{value:b,done:S}=m?await h.next():h.next();if(S)y.push(null);else{const A=b&&typeof b.then=="function"?await b:b;if(A===null)throw v=!1,new o;if(y.push(A))continue;v=!1}}catch(b){y.destroy(b)}break}}return y}return fx=s,fx}var dx,tN;function Fw(){if(tN)return dx;tN=1;const e=Of(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:h,Symbol:m}=qr();dx=nt,nt.ReadableState=tt;const{EventEmitter:y}=Mh(),{Stream:v,prependListener:_}=HP(),{Buffer:x}=Lu(),{addAbortSignal:b}=kw(),S=Xl();let A=pa().debuglog("stream",Le=>{A=Le});const P=nne(),O=kh(),{getHighWaterMark:D,getDefaultHighWaterMark:F}=Nw(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:X,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:ce,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te},AbortError:se}=Oa(),{validateObject:pe}=ay(),_e=m("kPaused"),{StringDecoder:de}=ine(),ue=Wq();s(nt.prototype,v.prototype),s(nt,v);const Re=()=>{},{errorOrDestroy:k}=O,ie=1,me=2,K=4,ee=8,ge=16,Ae=32,Ze=64,Pe=128,Ne=256,Ye=512,oe=1024,z=2048,$=4096,ae=8192,Z=16384,he=32768,ye=65536,He=1<<17,Ee=1<<18;function Fe(Le){return{enumerable:!1,get(){return(this.state&Le)!==0},set(qe){qe?this.state|=Le:this.state&=~Le}}}a(tt.prototype,{objectMode:Fe(ie),ended:Fe(me),endEmitted:Fe(K),reading:Fe(ee),constructed:Fe(ge),sync:Fe(Ae),needReadable:Fe(Ze),emittedReadable:Fe(Pe),readableListening:Fe(Ne),resumeScheduled:Fe(Ye),errorEmitted:Fe(oe),emitClose:Fe(z),autoDestroy:Fe($),destroyed:Fe(ae),closed:Fe(Z),closeEmitted:Fe(he),multiAwaitDrain:Fe(ye),readingMore:Fe(He),dataEmitted:Fe(Ee)});function tt(Le,qe,bt){typeof bt!="boolean"&&(bt=qe instanceof Tu()),this.state=z|$|ge|Ae,Le&&Le.objectMode&&(this.state|=ie),bt&&Le&&Le.readableObjectMode&&(this.state|=ie),this.highWaterMark=Le?D(this,Le,"readableHighWaterMark",bt):F(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[_e]=null,Le&&Le.emitClose===!1&&(this.state&=~z),Le&&Le.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Le&&Le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Le&&Le.encoding&&(this.decoder=new de(Le.encoding),this.encoding=Le.encoding)}function nt(Le){if(!(this instanceof nt))return new nt(Le);const qe=this instanceof Tu();this._readableState=new tt(Le,this,qe),Le&&(typeof Le.read=="function"&&(this._read=Le.read),typeof Le.destroy=="function"&&(this._destroy=Le.destroy),typeof Le.construct=="function"&&(this._construct=Le.construct),Le.signal&&!qe&&b(Le.signal,this)),v.call(this,Le),O.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=O.destroy,nt.prototype._undestroy=O.undestroy,nt.prototype._destroy=function(Le,qe){qe(Le)},nt.prototype[y.captureRejectionSymbol]=function(Le){this.destroy(Le)},nt.prototype[d]=function(){let Le;return this.destroyed||(Le=this.readableEnded?null:new se,this.destroy(Le)),new l((qe,bt)=>S(this,Et=>Et&&Et!==Le?bt(Et):qe(null)))},nt.prototype.push=function(Le,qe){return gt(this,Le,qe,!1)},nt.prototype.unshift=function(Le,qe){return gt(this,Le,qe,!0)};function gt(Le,qe,bt,Et){A("readableAddChunk",qe);const Mt=Le._readableState;let Hn;if(Mt.state&ie||(typeof qe=="string"?(bt=bt||Mt.defaultEncoding,Mt.encoding!==bt&&(Et&&Mt.encoding?qe=x.from(qe,bt).toString(Mt.encoding):(qe=x.from(qe,bt),bt=""))):qe instanceof x?bt="":v._isUint8Array(qe)?(qe=v._uint8ArrayToBuffer(qe),bt=""):qe!=null&&(Hn=new X("chunk",["string","Buffer","Uint8Array"],qe))),Hn)k(Le,Hn);else if(qe===null)Mt.state&=~ee,q(Le,Mt);else if(Mt.state&ie||qe&&qe.length>0)if(Et)if(Mt.state&K)k(Le,new te);else{if(Mt.destroyed||Mt.errored)return!1;qt(Le,Mt,qe,!0)}else if(Mt.ended)k(Le,new ce);else{if(Mt.destroyed||Mt.errored)return!1;Mt.state&=~ee,Mt.decoder&&!bt?(qe=Mt.decoder.write(qe),Mt.objectMode||qe.length!==0?qt(Le,Mt,qe,!1):je(Le,Mt)):qt(Le,Mt,qe,!1)}else Et||(Mt.state&=~ee,je(Le,Mt));return!Mt.ended&&(Mt.length<Mt.highWaterMark||Mt.length===0)}function qt(Le,qe,bt,Et){qe.flowing&&qe.length===0&&!qe.sync&&Le.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Le.emit("data",bt)):(qe.length+=qe.objectMode?1:bt.length,Et?qe.buffer.unshift(bt):qe.buffer.push(bt),qe.state&Ze&&W(Le)),je(Le,qe)}nt.prototype.isPaused=function(){const Le=this._readableState;return Le[_e]===!0||Le.flowing===!1},nt.prototype.setEncoding=function(Le){const qe=new de(Le);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const bt=this._readableState.buffer;let Et="";for(const Mt of bt)Et+=qe.write(Mt);return bt.clear(),Et!==""&&bt.push(Et),this._readableState.length=Et.length,this};const Se=1073741824;function Be(Le){if(Le>Se)throw new Y("size","<= 1GiB",Le);return Le--,Le|=Le>>>1,Le|=Le>>>2,Le|=Le>>>4,Le|=Le>>>8,Le|=Le>>>16,Le++,Le}function ne(Le,qe){return Le<=0||qe.length===0&&qe.ended?0:qe.state&ie?1:r(Le)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Le<=qe.length?Le:qe.ended?qe.length:0}nt.prototype.read=function(Le){A("read",Le),Le===void 0?Le=NaN:n(Le)||(Le=i(Le,10));const qe=this._readableState,bt=Le;if(Le>qe.highWaterMark&&(qe.highWaterMark=Be(Le)),Le!==0&&(qe.state&=~Pe),Le===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?gr(this):W(this),null;if(Le=ne(Le,qe),Le===0&&qe.ended)return qe.length===0&&gr(this),null;let Et=(qe.state&Ze)!==0;if(A("need readable",Et),(qe.length===0||qe.length-Le<qe.highWaterMark)&&(Et=!0,A("length less than watermark",Et)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)Et=!1,A("reading, ended or constructing",Et);else if(Et){A("do read"),qe.state|=ee|Ae,qe.length===0&&(qe.state|=Ze);try{this._read(qe.highWaterMark)}catch(Hn){k(this,Hn)}qe.state&=~Ae,qe.reading||(Le=ne(bt,qe))}let Mt;return Le>0?Mt=hn(Le,qe):Mt=null,Mt===null?(qe.needReadable=qe.length<=qe.highWaterMark,Le=0):(qe.length-=Le,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),bt!==Le&&qe.ended&&gr(this)),Mt!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",Mt)),Mt};function q(Le,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const bt=qe.decoder.end();bt&&bt.length&&(qe.buffer.push(bt),qe.length+=qe.objectMode?1:bt.length)}qe.ended=!0,qe.sync?W(Le):(qe.needReadable=!1,qe.emittedReadable=!0,G(Le))}}function W(Le){const qe=Le._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,e.nextTick(G,Le))}function G(Le){const qe=Le._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Le.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,zt(Le)}function je(Le,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,e.nextTick(Je,Le,qe))}function Je(Le,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const bt=qe.length;if(A("maybeReadMore read 0"),Le.read(0),bt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Le){throw new U("_read()")},nt.prototype.pipe=function(Le,qe){const bt=this,Et=this._readableState;Et.pipes.length===1&&(Et.multiAwaitDrain||(Et.multiAwaitDrain=!0,Et.awaitDrainWriters=new c(Et.awaitDrainWriters?[Et.awaitDrainWriters]:[]))),Et.pipes.push(Le),A("pipe count=%d opts=%j",Et.pipes.length,qe);const Hn=(!qe||qe.end!==!1)&&Le!==e.stdout&&Le!==e.stderr?We:Ht;Et.endEmitted?e.nextTick(Hn):bt.once("end",Hn),Le.on("unpipe",Jn);function Jn(jt,tn){A("onunpipe"),jt===bt&&tn&&tn.hasUnpiped===!1&&(tn.hasUnpiped=!0,ft())}function We(){A("onend"),Le.end()}let Ce,et=!1;function ft(){A("cleanup"),Le.removeListener("close",Gt),Le.removeListener("finish",Xt),Ce&&Le.removeListener("drain",Ce),Le.removeListener("error",Dt),Le.removeListener("unpipe",Jn),bt.removeListener("end",We),bt.removeListener("end",Ht),bt.removeListener("data",Ct),et=!0,Ce&&Et.awaitDrainWriters&&(!Le._writableState||Le._writableState.needDrain)&&Ce()}function it(){et||(Et.pipes.length===1&&Et.pipes[0]===Le?(A("false write response, pause",0),Et.awaitDrainWriters=Le,Et.multiAwaitDrain=!1):Et.pipes.length>1&&Et.pipes.includes(Le)&&(A("false write response, pause",Et.awaitDrainWriters.size),Et.awaitDrainWriters.add(Le)),bt.pause()),Ce||(Ce=ke(bt,Le),Le.on("drain",Ce))}bt.on("data",Ct);function Ct(jt){A("ondata");const tn=Le.write(jt);A("dest.write",tn),tn===!1&&it()}function Dt(jt){if(A("onerror",jt),Ht(),Le.removeListener("error",Dt),Le.listenerCount("error")===0){const tn=Le._writableState||Le._readableState;tn&&!tn.errorEmitted?k(Le,jt):Le.emit("error",jt)}}_(Le,"error",Dt);function Gt(){Le.removeListener("finish",Xt),Ht()}Le.once("close",Gt);function Xt(){A("onfinish"),Le.removeListener("close",Gt),Ht()}Le.once("finish",Xt);function Ht(){A("unpipe"),bt.unpipe(Le)}return Le.emit("pipe",bt),Le.writableNeedDrain===!0?it():Et.flowing||(A("pipe resume"),bt.resume()),Le};function ke(Le,qe){return function(){const Et=Le._readableState;Et.awaitDrainWriters===qe?(A("pipeOnDrain",1),Et.awaitDrainWriters=null):Et.multiAwaitDrain&&(A("pipeOnDrain",Et.awaitDrainWriters.size),Et.awaitDrainWriters.delete(qe)),(!Et.awaitDrainWriters||Et.awaitDrainWriters.size===0)&&Le.listenerCount("data")&&Le.resume()}}nt.prototype.unpipe=function(Le){const qe=this._readableState,bt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Le){const Mt=qe.pipes;qe.pipes=[],this.pause();for(let Hn=0;Hn<Mt.length;Hn++)Mt[Hn].emit("unpipe",this,{hasUnpiped:!1});return this}const Et=t(qe.pipes,Le);return Et===-1?this:(qe.pipes.splice(Et,1),qe.pipes.length===0&&this.pause(),Le.emit("unpipe",this,bt),this)},nt.prototype.on=function(Le,qe){const bt=v.prototype.on.call(this,Le,qe),Et=this._readableState;return Le==="data"?(Et.readableListening=this.listenerCount("readable")>0,Et.flowing!==!1&&this.resume()):Le==="readable"&&!Et.endEmitted&&!Et.readableListening&&(Et.readableListening=Et.needReadable=!0,Et.flowing=!1,Et.emittedReadable=!1,A("on readable",Et.length,Et.reading),Et.length?W(this):Et.reading||e.nextTick(Lt,this)),bt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Le,qe){const bt=v.prototype.removeListener.call(this,Le,qe);return Le==="readable"&&e.nextTick(Rt,this),bt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Le){const qe=v.prototype.removeAllListeners.apply(this,arguments);return(Le==="readable"||Le===void 0)&&e.nextTick(Rt,this),qe};function Rt(Le){const qe=Le._readableState;qe.readableListening=Le.listenerCount("readable")>0,qe.resumeScheduled&&qe[_e]===!1?qe.flowing=!0:Le.listenerCount("data")>0?Le.resume():qe.readableListening||(qe.flowing=null)}function Lt(Le){A("readable nexttick read 0"),Le.read(0)}nt.prototype.resume=function(){const Le=this._readableState;return Le.flowing||(A("resume"),Le.flowing=!Le.readableListening,Nt(this,Le)),Le[_e]=!1,this};function Nt(Le,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,e.nextTick(Pt,Le,qe))}function Pt(Le,qe){A("resume",qe.reading),qe.reading||Le.read(0),qe.resumeScheduled=!1,Le.emit("resume"),zt(Le),qe.flowing&&!qe.reading&&Le.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_e]=!0,this};function zt(Le){const qe=Le._readableState;for(A("flow",qe.flowing);qe.flowing&&Le.read()!==null;);}nt.prototype.wrap=function(Le){let qe=!1;Le.on("data",Et=>{!this.push(Et)&&Le.pause&&(qe=!0,Le.pause())}),Le.on("end",()=>{this.push(null)}),Le.on("error",Et=>{k(this,Et)}),Le.on("close",()=>{this.destroy()}),Le.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Le.resume&&(qe=!1,Le.resume())};const bt=o(Le);for(let Et=1;Et<bt.length;Et++){const Mt=bt[Et];this[Mt]===void 0&&typeof Le[Mt]=="function"&&(this[Mt]=Le[Mt].bind(Le))}return this},nt.prototype[h]=function(){return Tr(this)},nt.prototype.iterator=function(Le){return Le!==void 0&&pe(Le,"options"),Tr(this,Le)};function Tr(Le,qe){typeof Le.read!="function"&&(Le=nt.wrap(Le,{objectMode:!0}));const bt=dn(Le,qe);return bt.stream=Le,bt}async function*dn(Le,qe){let bt=Re;function Et(Jn){this===Le?(bt(),bt=Re):bt=Jn}Le.on("readable",Et);let Mt;const Hn=S(Le,{writable:!1},Jn=>{Mt=Jn?Q(Mt,Jn):null,bt(),bt=Re});try{for(;;){const Jn=Le.destroyed?null:Le.read();if(Jn!==null)yield Jn;else{if(Mt)throw Mt;if(Mt===null)return;await new l(Et)}}}catch(Jn){throw Mt=Q(Mt,Jn),Mt}finally{(Mt||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(Mt===void 0||Le._readableState.autoDestroy)?O.destroyer(Le,null):(Le.off("readable",Et),Hn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Le=this._readableState;return!!Le&&Le.readable!==!1&&!Le.destroyed&&!Le.errorEmitted&&!Le.endEmitted},set(Le){this._readableState&&(this._readableState.readable=!!Le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Le){this._readableState&&(this._readableState.flowing=Le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Le){this._readableState&&(this._readableState.destroyed=Le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_e]!==!1},set(Le){this[_e]=!!Le}}}),nt._fromList=hn;function hn(Le,qe){if(qe.length===0)return null;let bt;return qe.objectMode?bt=qe.buffer.shift():!Le||Le>=qe.length?(qe.decoder?bt=qe.buffer.join(""):qe.buffer.length===1?bt=qe.buffer.first():bt=qe.buffer.concat(qe.length),qe.buffer.clear()):bt=qe.buffer.consume(Le,qe.decoder),bt}function gr(Le){const qe=Le._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,e.nextTick(un,qe,Le))}function un(Le,qe){if(A("endReadableNT",Le.endEmitted,Le.length),!Le.errored&&!Le.closeEmitted&&!Le.endEmitted&&Le.length===0){if(Le.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)e.nextTick(ln,qe);else if(Le.autoDestroy){const bt=qe._writableState;(!bt||bt.autoDestroy&&(bt.finished||bt.writable===!1))&&qe.destroy()}}}function ln(Le){Le.writable&&!Le.writableEnded&&!Le.destroyed&&Le.end()}nt.from=function(Le,qe){return ue(nt,Le,qe)};let In;function ur(){return In===void 0&&(In={}),In}return nt.fromWeb=function(Le,qe){return ur().newStreamReadableFromReadableStream(Le,qe)},nt.toWeb=function(Le,qe){return ur().newReadableStreamFromStreamReadable(Le,qe)},nt.wrap=function(Le,qe){var bt,Et;return new nt({objectMode:(bt=(Et=Le.readableObjectMode)!==null&&Et!==void 0?Et:Le.objectMode)!==null&&bt!==void 0?bt:!0,...qe,destroy(Mt,Hn){O.destroyer(Le,Mt),Hn(Mt)}}).wrap(Le)},dx}var hx,nN;function VP(){if(nN)return hx;nN=1;const e=Of(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=qr();hx=pe,pe.WritableState=te;const{EventEmitter:d}=Mh(),h=HP().Stream,{Buffer:m}=Lu(),y=kh(),{addAbortSignal:v}=kw(),{getHighWaterMark:_,getDefaultHighWaterMark:x}=Nw(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:X}=Oa().codes,{errorOrDestroy:U}=y;o(pe.prototype,h.prototype),o(pe,h);function Y(){}const ce=l("kOnFinished");function te($,ae,Z){typeof Z!="boolean"&&(Z=ae instanceof Tu()),this.objectMode=!!($&&$.objectMode),Z&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?_(this,$,"writableHighWaterMark",Z):x(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!($&&$.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,se(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ce]=[]}function se($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}te.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe($){const ae=this instanceof Tu();if(!ae&&!r(pe,this))return new pe($);this._writableState=new te($,this,ae),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&v($.signal,this)),h.call(this,$),y.construct(this,()=>{const Z=this._writableState;Z.writing||ee(this,Z),Pe(this,Z)})}i(pe,c,{__proto__:null,value:function($){return r(this,$)?!0:this!==pe?!1:$&&$._writableState instanceof te}}),pe.prototype.pipe=function(){U(this,new P)};function _e($,ae,Z,he){const ye=$._writableState;if(typeof Z=="function")he=Z,Z=ye.defaultEncoding;else{if(!Z)Z=ye.defaultEncoding;else if(Z!=="buffer"&&!m.isEncoding(Z))throw new X(Z);typeof he!="function"&&(he=Y)}if(ae===null)throw new F;if(!ye.objectMode)if(typeof ae=="string")ye.decodeStrings!==!1&&(ae=m.from(ae,Z),Z="buffer");else if(ae instanceof m)Z="buffer";else if(h._isUint8Array(ae))ae=h._uint8ArrayToBuffer(ae),Z="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],ae);let He;return ye.ending?He=new Q:ye.destroyed&&(He=new O("write")),He?(e.nextTick(he,He),U($,He,!0),He):(ye.pendingcb++,de($,ye,ae,Z,he))}pe.prototype.write=function($,ae,Z){return _e(this,$,ae,Z)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||ee(this,$))},pe.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=s(ae)),!m.isEncoding(ae))throw new X(ae);return this._writableState.defaultEncoding=ae,this};function de($,ae,Z,he,ye){const He=ae.objectMode?1:Z.length;ae.length+=He;const Ee=ae.length<ae.highWaterMark;return Ee||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:Z,encoding:he,callback:ye}),ae.allBuffers&&he!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&ye!==Y&&(ae.allNoop=!1)):(ae.writelen=He,ae.writecb=ye,ae.writing=!0,ae.sync=!0,$._write(Z,he,ae.onwrite),ae.sync=!1),Ee&&!ae.errored&&!ae.destroyed}function ue($,ae,Z,he,ye,He,Ee){ae.writelen=he,ae.writecb=Ee,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new O("write")):Z?$._writev(ye,ae.onwrite):$._write(ye,He,ae.onwrite),ae.sync=!1}function Re($,ae,Z,he){--ae.pendingcb,he(Z),K(ae),U($,Z)}function k($,ae){const Z=$._writableState,he=Z.sync,ye=Z.writecb;if(typeof ye!="function"){U($,new A);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,ae?(ae.stack,Z.errored||(Z.errored=ae),$._readableState&&!$._readableState.errored&&($._readableState.errored=ae),he?e.nextTick(Re,$,Z,ae,ye):Re($,Z,ae,ye)):(Z.buffered.length>Z.bufferedIndex&&ee($,Z),he?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===ye?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:ye,stream:$,state:Z},e.nextTick(ie,Z.afterWriteTickInfo)):me($,Z,1,ye))}function ie({stream:$,state:ae,count:Z,cb:he}){return ae.afterWriteTickInfo=null,me($,ae,Z,he)}function me($,ae,Z,he){for(!ae.ending&&!$.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"));Z-- >0;)ae.pendingcb--,he();ae.destroyed&&K(ae),Pe($,ae)}function K($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var ae;const{chunk:He,callback:Ee}=$.buffered[ye],Fe=$.objectMode?1:He.length;$.length-=Fe,Ee((ae=$.errored)!==null&&ae!==void 0?ae:new O("write"))}const Z=$[ce].splice(0);for(let ye=0;ye<Z.length;ye++){var he;Z[ye]((he=$.errored)!==null&&he!==void 0?he:new O("end"))}se($)}function ee($,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:Z,bufferedIndex:he,objectMode:ye}=ae,He=Z.length-he;if(!He)return;let Ee=he;if(ae.bufferProcessing=!0,He>1&&$._writev){ae.pendingcb-=He-1;const Fe=ae.allNoop?Y:nt=>{for(let gt=Ee;gt<Z.length;++gt)Z[gt].callback(nt)},tt=ae.allNoop&&Ee===0?Z:t(Z,Ee);tt.allBuffers=ae.allBuffers,ue($,ae,!0,ae.length,tt,"",Fe),se(ae)}else{do{const{chunk:Fe,encoding:tt,callback:nt}=Z[Ee];Z[Ee++]=null;const gt=ye?1:Fe.length;ue($,ae,!1,gt,Fe,tt,nt)}while(Ee<Z.length&&!ae.writing);Ee===Z.length?se(ae):Ee>256?(Z.splice(0,Ee),ae.bufferedIndex=0):ae.bufferedIndex=Ee}ae.bufferProcessing=!1}pe.prototype._write=function($,ae,Z){if(this._writev)this._writev([{chunk:$,encoding:ae}],Z);else throw new S("_write()")},pe.prototype._writev=null,pe.prototype.end=function($,ae,Z){const he=this._writableState;typeof $=="function"?(Z=$,$=null,ae=null):typeof ae=="function"&&(Z=ae,ae=null);let ye;if($!=null){const He=_e(this,$,ae);He instanceof n&&(ye=He)}return he.corked&&(he.corked=1,this.uncork()),ye||(!he.errored&&!he.ending?(he.ending=!0,Pe(this,he,!0),he.ended=!0):he.finished?ye=new D("end"):he.destroyed&&(ye=new O("end"))),typeof Z=="function"&&(ye||he.finished?e.nextTick(Z,ye):he[ce].push(Z)),this};function ge($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Ae($,ae){let Z=!1;function he(ye){if(Z){U($,ye??A());return}if(Z=!0,ae.pendingcb--,ye){const He=ae[ce].splice(0);for(let Ee=0;Ee<He.length;Ee++)He[Ee](ye);U($,ye,ae.sync)}else ge(ae)&&(ae.prefinished=!0,$.emit("prefinish"),ae.pendingcb++,e.nextTick(Ne,$,ae))}ae.sync=!0,ae.pendingcb++;try{$._final(he)}catch(ye){he(ye)}ae.sync=!1}function Ze($,ae){!ae.prefinished&&!ae.finalCalled&&(typeof $._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,Ae($,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function Pe($,ae,Z){ge(ae)&&(Ze($,ae),ae.pendingcb===0&&(Z?(ae.pendingcb++,e.nextTick((he,ye)=>{ge(ye)?Ne(he,ye):ye.pendingcb--},$,ae)):ge(ae)&&(ae.pendingcb++,Ne($,ae))))}function Ne($,ae){ae.pendingcb--,ae.finished=!0;const Z=ae[ce].splice(0);for(let he=0;he<Z.length;he++)Z[he]();if($.emit("finish"),ae.autoDestroy){const he=$._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&$.destroy()}}a(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Ye=y.destroy;pe.prototype.destroy=function($,ae){const Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[ce].length)&&e.nextTick(K,Z),Ye.call(this,$,ae),this},pe.prototype._undestroy=y.undestroy,pe.prototype._destroy=function($,ae){ae($)},pe.prototype[d.captureRejectionSymbol]=function($){this.destroy($)};let oe;function z(){return oe===void 0&&(oe={}),oe}return pe.fromWeb=function($,ae){return z().newStreamWritableFromWritableStream($,ae)},pe.toWeb=function($){return z().newWritableStreamFromStreamWritable($)},hx}var px,rN;function ane(){if(rN)return px;rN=1;const e=Of(),t=Lu(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:d}=Iu(),h=Xl(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=Oa(),{destroyer:_}=kh(),x=Tu(),b=Fw(),S=VP(),{createDeferredPromise:A}=pa(),P=Wq(),O=globalThis.Blob||t.Blob,D=typeof O<"u"?function(te){return te instanceof O}:function(te){return!1},F=globalThis.AbortController||Pm().AbortController,{FunctionPrototypeCall:Q}=qr();class X extends x{constructor(te){super(te),(te==null?void 0:te.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(te==null?void 0:te.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}px=function ce(te,se){if(l(te))return te;if(o(te))return Y({readable:te});if(s(te))return Y({writable:te});if(a(te))return Y({writable:!1,readable:!1});if(c(te))return Y({readable:b.fromWeb(te)});if(d(te))return Y({writable:S.fromWeb(te)});if(typeof te=="function"){const{value:_e,write:de,final:ue,destroy:Re}=U(te);if(i(_e))return P(X,_e,{objectMode:!0,write:de,final:ue,destroy:Re});const k=_e==null?void 0:_e.then;if(typeof k=="function"){let ie;const me=Q(k,_e,K=>{if(K!=null)throw new v("nully","body",K)},K=>{_(ie,K)});return ie=new X({objectMode:!0,readable:!1,write:de,final(K){ue(async()=>{try{await me,e.nextTick(K,null)}catch(ee){e.nextTick(K,ee)}})},destroy:Re})}throw new v("Iterable, AsyncIterable or AsyncFunction",se,_e)}if(D(te))return ce(te.arrayBuffer());if(i(te))return P(X,te,{objectMode:!0,writable:!1});if(c(te==null?void 0:te.readable)&&d(te==null?void 0:te.writable))return X.fromWeb(te);if(typeof(te==null?void 0:te.writable)=="object"||typeof(te==null?void 0:te.readable)=="object"){const _e=te!=null&&te.readable?o(te==null?void 0:te.readable)?te==null?void 0:te.readable:ce(te.readable):void 0,de=te!=null&&te.writable?s(te==null?void 0:te.writable)?te==null?void 0:te.writable:ce(te.writable):void 0;return Y({readable:_e,writable:de})}const pe=te==null?void 0:te.then;if(typeof pe=="function"){let _e;return Q(pe,te,de=>{de!=null&&_e.push(de),_e.push(null)},de=>{_(_e,de)}),_e=new X({objectMode:!0,writable:!1,read(){}})}throw new y(se,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],te)};function U(ce){let{promise:te,resolve:se}=A();const pe=new F,_e=pe.signal;return{value:ce(async function*(){for(;;){const ue=te;te=null;const{chunk:Re,done:k,cb:ie}=await ue;if(e.nextTick(ie),k)return;if(_e.aborted)throw new m(void 0,{cause:_e.reason});({promise:te,resolve:se}=A()),yield Re}}(),{signal:_e}),write(ue,Re,k){const ie=se;se=null,ie({chunk:ue,done:!1,cb:k})},final(ue){const Re=se;se=null,Re({done:!0,cb:ue})},destroy(ue,Re){pe.abort(),Re(ue)}}}function Y(ce){const te=ce.readable&&typeof ce.readable.read!="function"?b.wrap(ce.readable):ce.readable,se=ce.writable;let pe=!!n(te),_e=!!r(se),de,ue,Re,k,ie;function me(K){const ee=k;k=null,ee?ee(K):K&&ie.destroy(K)}return ie=new X({readableObjectMode:!!(te!=null&&te.readableObjectMode),writableObjectMode:!!(se!=null&&se.writableObjectMode),readable:pe,writable:_e}),_e&&(h(se,K=>{_e=!1,K&&_(te,K),me(K)}),ie._write=function(K,ee,ge){se.write(K,ee)?ge():de=ge},ie._final=function(K){se.end(),ue=K},se.on("drain",function(){if(de){const K=de;de=null,K()}}),se.on("finish",function(){if(ue){const K=ue;ue=null,K()}})),pe&&(h(te,K=>{pe=!1,K&&_(te,K),me(K)}),te.on("readable",function(){if(Re){const K=Re;Re=null,K()}}),te.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){const K=te.read();if(K===null){Re=ie._read;return}if(!ie.push(K))return}}),ie._destroy=function(K,ee){!K&&k!==null&&(K=new m),Re=null,de=null,ue=null,k===null?ee(K):(k=ee,_(se,K),_(te,K))},ie}return px}var gx,iN;function Tu(){if(iN)return gx;iN=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=qr();gx=o;const i=Fw(),a=VP();r(o.prototype,i.prototype),r(o,i);{const d=n(a.prototype);for(let h=0;h<d.length;h++){const m=d[h];o.prototype[m]||(o.prototype[m]=a.prototype[m])}}function o(d){if(!(this instanceof o))return new o(d);i.call(this,d),a.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(d,h){return l().newStreamDuplexFromReadableWritablePair(d,h)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=ane()),c(d,"body")},gx}var mx,aN;function Qq(){if(aN)return mx;aN=1;const{ObjectSetPrototypeOf:e,Symbol:t}=qr();mx=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Oa().codes,r=Tu(),{getHighWaterMark:i}=Nw();e(o.prototype,r.prototype),e(o,r);const a=t("kCallback");function o(c){if(!(this instanceof o))return new o(c);const d=c?i(this,c,"readableHighWaterMark",!0):null;d===0&&(c={...c,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((d,h)=>{if(d){c?c(d):this.destroy(d);return}h!=null&&this.push(h),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(c,d,h){throw new n("_transform()")},o.prototype._write=function(c,d,h){const m=this._readableState,y=this._writableState,v=m.length;this._transform(c,d,(_,x)=>{if(_){h(_);return}x!=null&&this.push(x),y.ended||v===m.length||m.length<m.highWaterMark?h():this[a]=h})},o.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},mx}var yx,oN;function Zq(){if(oN)return yx;oN=1;const{ObjectSetPrototypeOf:e}=qr();yx=n;const t=Qq();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},yx}var vx,sN;function KP(){if(sN)return vx;sN=1;const e=Of(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=qr(),a=Xl(),{once:o}=pa(),s=kh(),l=Tu(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:_}=Oa(),{validateFunction:x,validateAbortSignal:b}=ay(),{isIterable:S,isReadable:A,isReadableNodeStream:P,isNodeStream:O,isTransformStream:D,isWebStream:F,isReadableStream:Q,isReadableFinished:X}=Iu(),U=globalThis.AbortController||Pm().AbortController;let Y,ce,te;function se(K,ee,ge){let Ae=!1;K.on("close",()=>{Ae=!0});const Ze=a(K,{readable:ee,writable:ge},Pe=>{Ae=!Pe});return{destroy:Pe=>{Ae||(Ae=!0,s.destroyer(K,Pe||new y("pipe")))},cleanup:Ze}}function pe(K){return x(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function _e(K){if(S(K))return K;if(P(K))return de(K);throw new d("val",["Readable","Iterable","AsyncIterable"],K)}async function*de(K){ce||(ce=Fw()),yield*ce.prototype[r].call(K)}async function ue(K,ee,ge,{end:Ae}){let Ze,Pe=null;const Ne=z=>{if(z&&(Ze=z),Pe){const $=Pe;Pe=null,$()}},Ye=()=>new n((z,$)=>{Ze?$(Ze):Pe=()=>{Ze?$(Ze):z()}});ee.on("drain",Ne);const oe=a(ee,{readable:!1},Ne);try{ee.writableNeedDrain&&await Ye();for await(const z of K)ee.write(z)||await Ye();Ae&&(ee.end(),await Ye()),ge()}catch(z){ge(Ze!==z?c(Ze,z):z)}finally{oe(),ee.off("drain",Ne)}}async function Re(K,ee,ge,{end:Ae}){D(ee)&&(ee=ee.writable);const Ze=ee.getWriter();try{for await(const Pe of K)await Ze.ready,Ze.write(Pe).catch(()=>{});await Ze.ready,Ae&&await Ze.close(),ge()}catch(Pe){try{await Ze.abort(Pe),ge(Pe)}catch(Ne){ge(Ne)}}}function k(...K){return ie(K,o(pe(K)))}function ie(K,ee,ge){if(K.length===1&&t(K[0])&&(K=K[0]),K.length<2)throw new m("streams");const Ae=new U,Ze=Ae.signal,Pe=ge==null?void 0:ge.signal,Ne=[];b(Pe,"options.signal");function Ye(){ye(new _)}te=te||pa().addAbortListener;let oe;Pe&&(oe=te(Pe,Ye));let z,$;const ae=[];let Z=0;function he(nt){ye(nt,--Z===0)}function ye(nt,gt){var qt;if(nt&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z=nt),!(!z&&!gt)){for(;ae.length;)ae.shift()(z);(qt=oe)===null||qt===void 0||qt[i](),Ae.abort(),gt&&(z||Ne.forEach(Se=>Se()),e.nextTick(ee,z,$))}}let He;for(let nt=0;nt<K.length;nt++){const gt=K[nt],qt=nt<K.length-1,Se=nt>0,Be=qt||(ge==null?void 0:ge.end)!==!1,ne=nt===K.length-1;if(O(gt)){let q=function(W){W&&W.name!=="AbortError"&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(W)};var tt=q;if(Be){const{destroy:W,cleanup:G}=se(gt,qt,Se);ae.push(W),A(gt)&&ne&&Ne.push(G)}gt.on("error",q),A(gt)&&ne&&Ne.push(()=>{gt.removeListener("error",q)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Ze}),!S(He))throw new h("Iterable, AsyncIterable or Stream","source",He)}else S(gt)||P(gt)||D(gt)?He=gt:He=l.from(gt);else if(typeof gt=="function"){if(D(He)){var Ee;He=_e((Ee=He)===null||Ee===void 0?void 0:Ee.readable)}else He=_e(He);if(He=gt(He,{signal:Ze}),qt){if(!S(He,!0))throw new h("AsyncIterable",`transform[${nt-1}]`,He)}else{var Fe;Y||(Y=Zq());const q=new Y({objectMode:!0}),W=(Fe=He)===null||Fe===void 0?void 0:Fe.then;if(typeof W=="function")Z++,W.call(He,Je=>{$=Je,Je!=null&&q.write(Je),Be&&q.end(),e.nextTick(he)},Je=>{q.destroy(Je),e.nextTick(he,Je)});else if(S(He,!0))Z++,ue(He,q,he,{end:Be});else if(Q(He)||D(He)){const Je=He.readable||He;Z++,ue(Je,q,he,{end:Be})}else throw new h("AsyncIterable or Promise","destination",He);He=q;const{destroy:G,cleanup:je}=se(He,!1,!0);ae.push(G),ne&&Ne.push(je)}}else if(O(gt)){if(P(He)){Z+=2;const q=me(He,gt,he,{end:Be});A(gt)&&ne&&Ne.push(q)}else if(D(He)||Q(He)){const q=He.readable||He;Z++,ue(q,gt,he,{end:Be})}else if(S(He))Z++,ue(He,gt,he,{end:Be});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(F(gt)){if(P(He))Z++,Re(_e(He),gt,he,{end:Be});else if(Q(He)||S(He))Z++,Re(He,gt,he,{end:Be});else if(D(He))Z++,Re(He.readable,gt,he,{end:Be});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=l.from(gt)}return(Ze!=null&&Ze.aborted||Pe!=null&&Pe.aborted)&&e.nextTick(Ye),He}function me(K,ee,ge,{end:Ae}){let Ze=!1;if(ee.on("close",()=>{Ze||ge(new v)}),K.pipe(ee,{end:!1}),Ae){let Ne=function(){Ze=!0,ee.end()};var Pe=Ne;X(K)?e.nextTick(Ne):K.once("end",Ne)}else ge();return a(K,{readable:!0,writable:!1},Ne=>{const Ye=K._readableState;Ne&&Ne.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ye&&Ye.ended&&!Ye.errored&&!Ye.errorEmitted?K.once("end",ge).once("error",ge):ge(Ne)}),a(ee,{readable:!1,writable:!0},ge)}return vx={pipelineImpl:ie,pipeline:k},vx}var _x,uN;function Jq(){if(uN)return _x;uN=1;const{pipeline:e}=KP(),t=Tu(),{destroyer:n}=kh(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:c}=Iu(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:m}}=Oa(),y=Xl();return _x=function(..._){if(_.length===0)throw new m("streams");if(_.length===1)return t.from(_[0]);const x=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const Y=_.length-1;_[Y]=t.from(_[Y])}for(let Y=0;Y<_.length;++Y)if(!(!r(_[Y])&&!o(_[Y]))){if(Y<_.length-1&&!(i(_[Y])||c(_[Y])||s(_[Y])))throw new h(`streams[${Y}]`,x[Y],"must be readable");if(Y>0&&!(a(_[Y])||l(_[Y])||s(_[Y])))throw new h(`streams[${Y}]`,x[Y],"must be writable")}let b,S,A,P,O;function D(Y){const ce=P;P=null,ce?ce(Y):Y?O.destroy(Y):!U&&!X&&O.destroy()}const F=_[0],Q=e(_,D),X=!!(a(F)||l(F)||s(F)),U=!!(i(Q)||c(Q)||s(Q));if(O=new t({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:X,readable:U}),X){if(r(F))O._write=function(ce,te,se){F.write(ce,te)?se():b=se},O._final=function(ce){F.end(),S=ce},F.on("drain",function(){if(b){const ce=b;b=null,ce()}});else if(o(F)){const te=(s(F)?F.writable:F).getWriter();O._write=async function(se,pe,_e){try{await te.ready,te.write(se).catch(()=>{}),_e()}catch(de){_e(de)}},O._final=async function(se){try{await te.ready,te.close().catch(()=>{}),S=se}catch(pe){se(pe)}}}const Y=s(Q)?Q.readable:Q;y(Y,()=>{if(S){const ce=S;S=null,ce()}})}if(U){if(r(Q))Q.on("readable",function(){if(A){const Y=A;A=null,Y()}}),Q.on("end",function(){O.push(null)}),O._read=function(){for(;;){const Y=Q.read();if(Y===null){A=O._read;return}if(!O.push(Y))return}};else if(o(Q)){const ce=(s(Q)?Q.readable:Q).getReader();O._read=async function(){for(;;)try{const{value:te,done:se}=await ce.read();if(!O.push(te))return;if(se){O.push(null);return}}catch{return}}}}return O._destroy=function(Y,ce){!Y&&P!==null&&(Y=new d),A=null,b=null,S=null,P===null?ce(Y):(P=ce,r(Q)&&n(Q,Y))},O},_x}var lN;function one(){if(lN)return qv;lN=1;const e=globalThis.AbortController||Pm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Oa(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=ay(),c=qr().Symbol("kWeak"),d=qr().Symbol("kResistStopPropagation"),{finished:h}=Xl(),m=Jq(),{addAbortSignalNoValidate:y}=kw(),{isWritable:v,isNodeStream:_}=Iu(),{deprecate:x}=pa(),{ArrayPrototypePush:b,Boolean:S,MathFloor:A,Number:P,NumberIsNaN:O,Promise:D,PromiseReject:F,PromiseResolve:Q,PromisePrototypeThen:X,Symbol:U}=qr(),Y=U("kEmpty"),ce=U("kEof");function te(Pe,Ne){if(Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),_(Pe)&&!v(Pe))throw new t("stream",Pe,"must be writable");const Ye=m(this,Pe);return Ne!=null&&Ne.signal&&y(Ne.signal,Ye),Ye}function se(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal");let Ye=1;(Ne==null?void 0:Ne.concurrency)!=null&&(Ye=A(Ne.concurrency));let oe=Ye-1;return(Ne==null?void 0:Ne.highWaterMark)!=null&&(oe=A(Ne.highWaterMark)),s(Ye,"options.concurrency",1),s(oe,"options.highWaterMark",0),oe+=Ye,(async function*(){const $=pa().AbortSignalAny([Ne==null?void 0:Ne.signal].filter(S)),ae=this,Z=[],he={signal:$};let ye,He,Ee=!1,Fe=0;function tt(){Ee=!0,nt()}function nt(){Fe-=1,gt()}function gt(){He&&!Ee&&Fe<Ye&&Z.length<oe&&(He(),He=null)}async function qt(){try{for await(let Se of ae){if(Ee)return;if($.aborted)throw new a;try{if(Se=Pe(Se,he),Se===Y)continue;Se=Q(Se)}catch(Be){Se=F(Be)}Fe+=1,X(Se,nt,tt),Z.push(Se),ye&&(ye(),ye=null),!Ee&&(Z.length>=oe||Fe>=Ye)&&await new D(Be=>{He=Be})}Z.push(ce)}catch(Se){const Be=F(Se);X(Be,nt,tt),Z.push(Be)}finally{Ee=!0,ye&&(ye(),ye=null)}}qt();try{for(;;){for(;Z.length>0;){const Se=await Z[0];if(Se===ce)return;if($.aborted)throw new a;Se!==Y&&(yield Se),Z.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Ee=!0,He&&(He(),He=null)}}).call(this)}function pe(Pe=void 0){return Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&o(Pe.signal,"options.signal"),(async function*(){let Ye=0;for await(const z of this){var oe;if(Pe!=null&&(oe=Pe.signal)!==null&&oe!==void 0&&oe.aborted)throw new a({cause:Pe.signal.reason});yield[Ye++,z]}}).call(this)}async function _e(Pe,Ne=void 0){for await(const Ye of k.call(this,Pe,Ne))return!0;return!1}async function de(Pe,Ne=void 0){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);return!await _e.call(this,async(...Ye)=>!await Pe(...Ye),Ne)}async function ue(Pe,Ne){for await(const Ye of k.call(this,Pe,Ne))return Ye}async function Re(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Ye(oe,z){return await Pe(oe,z),Y}for await(const oe of se.call(this,Ye,Ne));}function k(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Ye(oe,z){return await Pe(oe,z)?oe:Y}return se.call(this,Ye,Ne)}class ie extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function me(Pe,Ne,Ye){var oe;if(typeof Pe!="function")throw new n("reducer",["Function","AsyncFunction"],Pe);Ye!=null&&l(Ye,"options"),(Ye==null?void 0:Ye.signal)!=null&&o(Ye.signal,"options.signal");let z=arguments.length>1;if(Ye!=null&&(oe=Ye.signal)!==null&&oe!==void 0&&oe.aborted){const ye=new a(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(ye)),ye}const $=new e,ae=$.signal;if(Ye!=null&&Ye.signal){const ye={once:!0,[c]:this,[d]:!0};Ye.signal.addEventListener("abort",()=>$.abort(),ye)}let Z=!1;try{for await(const ye of this){var he;if(Z=!0,Ye!=null&&(he=Ye.signal)!==null&&he!==void 0&&he.aborted)throw new a;z?Ne=await Pe(Ne,ye,{signal:ae}):(Ne=ye,z=!0)}if(!Z&&!z)throw new ie}finally{$.abort()}return Ne}async function K(Pe){Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&o(Pe.signal,"options.signal");const Ne=[];for await(const oe of this){var Ye;if(Pe!=null&&(Ye=Pe.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new a(void 0,{cause:Pe.signal.reason});b(Ne,oe)}return Ne}function ee(Pe,Ne){const Ye=se.call(this,Pe,Ne);return(async function*(){for await(const z of Ye)yield*z}).call(this)}function ge(Pe){if(Pe=P(Pe),O(Pe))return 0;if(Pe<0)throw new i("number",">= 0",Pe);return Pe}function Ae(Pe,Ne=void 0){return Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),Pe=ge(Pe),(async function*(){var oe;if(Ne!=null&&(oe=Ne.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var z;if(Ne!=null&&(z=Ne.signal)!==null&&z!==void 0&&z.aborted)throw new a;Pe--<=0&&(yield $)}}).call(this)}function Ze(Pe,Ne=void 0){return Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),Pe=ge(Pe),(async function*(){var oe;if(Ne!=null&&(oe=Ne.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var z;if(Ne!=null&&(z=Ne.signal)!==null&&z!==void 0&&z.aborted)throw new a;if(Pe-- >0&&(yield $),Pe<=0)return}}).call(this)}return qv.streamReturningOperators={asIndexedPairs:x(pe,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:k,flatMap:ee,map:se,take:Ze,compose:te},qv.promiseReturningOperators={every:de,forEach:Re,reduce:me,toArray:K,some:_e,find:ue},qv}var wx,cN;function Yq(){if(cN)return wx;cN=1;const{ArrayPrototypePop:e,Promise:t}=qr(),{isIterable:n,isNodeStream:r,isWebStream:i}=Iu(),{pipelineImpl:a}=KP(),{finished:o}=Xl();Xq();function s(...l){return new t((c,d)=>{let h,m;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const v=e(l);h=v.signal,m=v.end}a(l,(v,_)=>{v?d(v):c(_)},{signal:h,end:m})})}return wx={finished:o,pipeline:s},wx}var fN;function Xq(){if(fN)return JS.exports;fN=1;const{Buffer:e}=Lu(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=qr(),{promisify:{custom:i}}=pa(),{streamReturningOperators:a,promiseReturningOperators:o}=one(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Oa(),l=Jq(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:d}=Nw(),{pipeline:h}=KP(),{destroyer:m}=kh(),y=Xl(),v=Yq(),_=Iu(),x=JS.exports=HP().Stream;x.isDestroyed=_.isDestroyed,x.isDisturbed=_.isDisturbed,x.isErrored=_.isErrored,x.isReadable=_.isReadable,x.isWritable=_.isWritable,x.Readable=Fw();for(const A of n(a)){let O=function(...D){if(new.target)throw s();return x.Readable.from(r(P,this,D))};var S=O;const P=a[A];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(x.Readable.prototype,A,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(o)){let O=function(...F){if(new.target)throw s();return r(P,this,F)};var S=O;const P=o[A];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(x.Readable.prototype,A,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}x.Writable=VP(),x.Duplex=Tu(),x.Transform=Qq(),x.PassThrough=Zq(),x.pipeline=h;const{addAbortSignal:b}=kw();return x.addAbortSignal=b,x.finished=y,x.destroy=m,x.compose=l,x.setDefaultHighWaterMark=c,x.getDefaultHighWaterMark=d,t(x,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),t(h,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),t(y,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),x.Stream=x,x._isUint8Array=function(P){return P instanceof Uint8Array},x._uint8ArrayToBuffer=function(P){return e.from(P.buffer,P.byteOffset,P.byteLength)},JS.exports}var dN;function e9(){return dN||(dN=1,function(e){const t=Xq(),n=Yq(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(ZS)),ZS.exports}var Nh=e9();let As=class{constructor(t,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Hl,t&&this.addQuads(t)}_termFromId(t,n){if(t[0]==="."){const r=this._entities,i=t.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return rf(t,n)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(ph(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ca(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${ph(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:ca(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const m=this._entities,y=this._termFromId(l,this._factory),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(m[_],this._factory),r&&((c=d,d={})[r]=c[r]);for(const x in d)if(h=d[x]){v[o]=this._termFromId(m[x],this._factory);const b=i?i in h?[i]:[]:Object.keys(h);for(let S=0;S<b.length;S++)v[s]=this._termFromId(m[b[S]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){if(!sne(t))return this._graphs;const n={};return n[t]=this._graphs[t],n}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=ca(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(a.subjects,t,n,r);return this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,o}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=ca(i);const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Nh.Readable({objectMode:!0});return a._read=()=>{for(const o of this.readQuads(t,n,r,i))a.push(o);a.push(null)},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){i=i&&ca(i);const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new une(this,t,n,r,i)}countQuads(t,n,r,i){i=i&&ca(i);const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o),!1),n,r,i,a)}every(t,n,r,i,a){let o=!1;const s=!this.some(l=>(o=!0,!t(l)),n,r,i,a);return o&&s}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){i=i&&ca(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){i=i&&ca(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){i=i&&ca(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,a)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Ki.rdf.rest,Ki.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const m=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let x,b=null,S=null,A=null;for(let P=0;P<_.length&&!c;P++)x=_[P],x.graph.equals(m)?d?c=i(y,"has non-list arcs out"):x.predicate.value===Ki.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):o.push(b=x):x.predicate.value===Ki.rdf.rest?S?c=i(y,"has multiple rdf:rest arcs"):o.push(S=x):v.length?c=i(y,"can't be subject and object"):(d=x,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)x=v[P],d?c=i(y,"can't have coreferences"):x.predicate.value===Ki.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=x:(d=x,h="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=A&&A.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function sne(e){return typeof e=="string"||e instanceof String}let une=class t9 extends Nh.Readable{constructor(t,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new As({factory:t._factory});for(const s of t.readQuads(a,i,r,n))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const t of this)this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new t9(this.filtered,t,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class n9 extends Nh.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Dh(t);let r,i;n.parse({on:(a,o)=>{switch(a){case"data":r=o;break;case"end":i=o;break}}},(a,o)=>{a&&this.emit("error",a)||o&&this.push(o)},(a,o)=>{this.emit("prefix",a,o)}),this._transform=(a,o,s)=>{r(a),s()},this._flush=a=>{i(),a()}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),this}}class r9 extends Nh.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new Dw({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},t);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),t.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const lne={Lexer:UP,Parser:Dh,Writer:Dw,Store:As,StreamParser:n9,StreamWriter:r9,Util:Hq,DataFactory:Hl,Term:Os,NamedNode:Qr,Literal:Bd,BlankNode:BP,Variable:qP,DefaultGraph:zP,Quad:Fo,Triple:Fo,termFromId:rf,termToId:ca},cne=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:BP,DataFactory:Hl,DefaultGraph:zP,Lexer:UP,Literal:Bd,NamedNode:Qr,Parser:Dh,Quad:Fo,Store:As,StreamParser:n9,StreamWriter:r9,Term:Os,Triple:Fo,Util:Hq,Variable:qP,Writer:Dw,default:lne,termFromId:rf,termToId:ca},Symbol.toStringTag,{value:"Module"}));var fne="http://www.w3.org/ns/auth/acl#Access",dne="http://www.w3.org/ns/auth/acl#Append",hne="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",pne="http://www.w3.org/ns/auth/acl#Authorization",gne="http://www.w3.org/ns/auth/acl#Control",mne="http://www.w3.org/ns/auth/acl#Origin",yne="http://www.w3.org/ns/auth/acl#Read",vne="http://www.w3.org/ns/auth/acl#Write",_ne="http://www.w3.org/ns/auth/acl#accessControl",wne="http://www.w3.org/ns/auth/acl#accessTo",bne="http://www.w3.org/ns/auth/acl#accessToClass",Sne="http://www.w3.org/ns/auth/acl#agent",xne="http://www.w3.org/ns/auth/acl#agentClass",Ene="http://www.w3.org/ns/auth/acl#agentGroup",Cne="http://www.w3.org/ns/auth/acl#default",Tne="http://www.w3.org/ns/auth/acl#defaultForNew",Ane="http://www.w3.org/ns/auth/acl#delegates",Rne="http://www.w3.org/ns/auth/acl#mode",Pne="http://www.w3.org/ns/auth/acl#origin",One="http://www.w3.org/ns/auth/acl#owner",Lne=Object.freeze({Access:fne,Append:dne,AuthenticatedAgent:hne,Authorization:pne,Control:gne,Origin:mne,Read:yne,Write:vne,accessControl:_ne,accessTo:wne,accessToClass:bne,agent:Sne,agentClass:xne,agentGroup:Ene,default__workaround:Cne,defaultForNew:Tne,delegates:Ane,mode:Rne,origin:Pne,owner:One}),Ine="http://www.w3.org/ns/activitystreams#actor",Mne="http://www.w3.org/ns/activitystreams#attributedTo",Dne="http://www.w3.org/ns/activitystreams#attachment",kne="http://www.w3.org/ns/activitystreams#attachments",Nne="http://www.w3.org/ns/activitystreams#author",Fne="http://www.w3.org/ns/activitystreams#bcc",jne="http://www.w3.org/ns/activitystreams#bto",$ne="http://www.w3.org/ns/activitystreams#cc",Une="http://www.w3.org/ns/activitystreams#context",Bne="http://www.w3.org/ns/activitystreams#generator",qne="http://www.w3.org/ns/activitystreams#icon",zne="http://www.w3.org/ns/activitystreams#image",Hne="http://www.w3.org/ns/activitystreams#inReplyTo",Vne="http://www.w3.org/ns/activitystreams#items",Kne="http://www.w3.org/ns/activitystreams#location",Gne="http://www.w3.org/ns/activitystreams#object",Wne="http://www.w3.org/ns/activitystreams#oneOf",Qne="http://www.w3.org/ns/activitystreams#anyOf",Zne="http://www.w3.org/ns/activitystreams#preview",Jne="http://www.w3.org/ns/activitystreams#provider",Yne="http://www.w3.org/ns/activitystreams#replies",Xne="http://www.w3.org/ns/activitystreams#result",ere="http://www.w3.org/ns/activitystreams#audience",tre="http://www.w3.org/ns/activitystreams#tag",nre="http://www.w3.org/ns/activitystreams#tags",rre="http://www.w3.org/ns/activitystreams#target",ire="http://www.w3.org/ns/activitystreams#origin",are="http://www.w3.org/ns/activitystreams#instrument",ore="http://www.w3.org/ns/activitystreams#to",sre="http://www.w3.org/ns/activitystreams#url",ure="http://www.w3.org/ns/activitystreams#relationship",lre="http://www.w3.org/ns/activitystreams#describes",cre="http://www.w3.org/ns/activitystreams#formerType",fre="http://www.w3.org/ns/activitystreams#accuracy",dre="http://www.w3.org/ns/activitystreams#altitude",hre="http://www.w3.org/ns/activitystreams#content",pre="http://www.w3.org/ns/activitystreams#name",gre="http://www.w3.org/ns/activitystreams#downstreamDuplicates",mre="http://www.w3.org/ns/activitystreams#duration",yre="http://www.w3.org/ns/activitystreams#endTime",vre="http://www.w3.org/ns/activitystreams#height",_re="http://www.w3.org/ns/activitystreams#href",wre="http://www.w3.org/ns/activitystreams#hreflang",bre="http://www.w3.org/ns/activitystreams#id",Sre="http://www.w3.org/ns/activitystreams#latitude",xre="http://www.w3.org/ns/activitystreams#longitude",Ere="http://www.w3.org/ns/activitystreams#mediaType",Cre="http://www.w3.org/ns/activitystreams#objectType",Tre="http://www.w3.org/ns/activitystreams#published",Are="http://www.w3.org/ns/activitystreams#radius",Rre="http://www.w3.org/ns/activitystreams#rating",Pre="http://www.w3.org/ns/activitystreams#rel",Ore="http://www.w3.org/ns/activitystreams#startIndex",Lre="http://www.w3.org/ns/activitystreams#startTime",Ire="http://www.w3.org/ns/activitystreams#summary",Mre="http://www.w3.org/ns/activitystreams#totalItems",Dre="http://www.w3.org/ns/activitystreams#units",kre="http://www.w3.org/ns/activitystreams#updated",Nre="http://www.w3.org/ns/activitystreams#upstreamDuplicates",Fre="http://www.w3.org/ns/activitystreams#verb",jre="http://www.w3.org/ns/activitystreams#width",$re="http://www.w3.org/ns/activitystreams#deleted",Ure="http://www.w3.org/ns/activitystreams#Accept",Bre="http://www.w3.org/ns/activitystreams#Activity",qre="http://www.w3.org/ns/activitystreams#Block",zre="http://www.w3.org/ns/activitystreams#IntransitiveActivity",Hre="http://www.w3.org/ns/activitystreams#Add",Vre="http://www.w3.org/ns/activitystreams#Announce",Kre="http://www.w3.org/ns/activitystreams#Application",Gre="http://www.w3.org/ns/activitystreams#Arrive",Wre="http://www.w3.org/ns/activitystreams#Article",Qre="http://www.w3.org/ns/activitystreams#Audio",Zre="http://www.w3.org/ns/activitystreams#Collection",Jre="http://www.w3.org/ns/activitystreams#CollectionPage",Yre="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",Xre="http://www.w3.org/ns/activitystreams#Relationship",eie="http://www.w3.org/ns/activitystreams#Create",tie="http://www.w3.org/ns/activitystreams#Delete",nie="http://www.w3.org/ns/activitystreams#Dislike",rie="http://www.w3.org/ns/activitystreams#Document",iie="http://www.w3.org/ns/activitystreams#Event",aie="http://www.w3.org/ns/activitystreams#Flag",oie="http://www.w3.org/ns/activitystreams#Follow",sie="http://www.w3.org/ns/activitystreams#Group",uie="http://www.w3.org/ns/activitystreams#Ignore",lie="http://www.w3.org/ns/activitystreams#Image",cie="http://www.w3.org/ns/activitystreams#Invite",fie="http://www.w3.org/ns/activitystreams#Join",die="http://www.w3.org/ns/activitystreams#Leave",hie="http://www.w3.org/ns/activitystreams#Like",pie="http://www.w3.org/ns/activitystreams#View",gie="http://www.w3.org/ns/activitystreams#Listen",mie="http://www.w3.org/ns/activitystreams#Read",yie="http://www.w3.org/ns/activitystreams#Move",vie="http://www.w3.org/ns/activitystreams#Travel",_ie="http://www.w3.org/ns/activitystreams#Link",wie="http://www.w3.org/ns/activitystreams#Mention",bie="http://www.w3.org/ns/activitystreams#Note",Sie="http://www.w3.org/ns/activitystreams#Object",xie="http://www.w3.org/ns/activitystreams#Offer",Eie="http://www.w3.org/ns/activitystreams#OrderedCollection",Cie="http://www.w3.org/ns/activitystreams#OrderedItems",Tie="http://www.w3.org/ns/activitystreams#Page",Aie="http://www.w3.org/ns/activitystreams#Person",Rie="http://www.w3.org/ns/activitystreams#Organization",Pie="http://www.w3.org/ns/activitystreams#Profile",Oie="http://www.w3.org/ns/activitystreams#Place",Lie="http://www.w3.org/ns/activitystreams#Question",Iie="http://www.w3.org/ns/activitystreams#Reject",Mie="http://www.w3.org/ns/activitystreams#Remove",Die="http://www.w3.org/ns/activitystreams#Service",kie="http://www.w3.org/ns/activitystreams#TentativeAccept",Nie="http://www.w3.org/ns/activitystreams#TentativeReject",Fie="http://www.w3.org/ns/activitystreams#Tombstone",jie="http://www.w3.org/ns/activitystreams#Undo",$ie="http://www.w3.org/ns/activitystreams#Update",Uie="http://www.w3.org/ns/activitystreams#Video",Bie=Object.freeze({actor:Ine,attributedTo:Mne,attachment:Dne,attachments:kne,author:Nne,bcc:Fne,bto:jne,cc:$ne,context:Une,generator:Bne,icon:qne,image:zne,inReplyTo:Hne,items:Vne,location:Kne,object:Gne,oneOf:Wne,anyOf:Qne,preview:Zne,provider:Jne,replies:Yne,result:Xne,audience:ere,tag:tre,tags:nre,target:rre,origin:ire,instrument:are,to:ore,url:sre,relationship:ure,describes:lre,formerType:cre,accuracy:fre,altitude:dre,content:hre,name:pre,downstreamDuplicates:gre,duration:mre,endTime:yre,height:vre,href:_re,hreflang:wre,id:bre,latitude:Sre,longitude:xre,mediaType:Ere,objectType:Cre,published:Tre,radius:Are,rating:Rre,rel:Pre,startIndex:Ore,startTime:Lre,summary:Ire,totalItems:Mre,units:Dre,updated:kre,upstreamDuplicates:Nre,verb:Fre,width:jre,deleted:$re,Accept:Ure,Activity:Bre,Block:qre,IntransitiveActivity:zre,Add:Hre,Announce:Vre,Application:Kre,Arrive:Gre,Article:Wre,Audio:Qre,Collection:Zre,CollectionPage:Jre,OrderedCollectionPage:Yre,Relationship:Xre,Create:eie,Delete:tie,Dislike:nie,Document:rie,Event:iie,Flag:aie,Follow:oie,Group:sie,Ignore:uie,Image:lie,Invite:cie,Join:fie,Leave:die,Like:hie,View:pie,Listen:gie,Read:mie,Move:yie,Travel:vie,Link:_ie,Mention:wie,Note:bie,Object__workaround:Sie,Offer:xie,OrderedCollection:Eie,OrderedItems:Cie,Page:Tie,Person:Aie,Organization:Rie,Profile:Pie,Place:Oie,Question:Lie,Reject:Iie,Remove:Mie,Service:Die,TentativeAccept:kie,TentativeReject:Nie,Tombstone:Fie,Undo:jie,Update:$ie,Video:Uie}),qie="http://purl.org/dc/terms/AgentClass",zie="http://purl.org/dc/terms/BibliographicResource",Hie="http://purl.org/dc/terms/Box",Vie="http://purl.org/dc/terms/FileFormat",Kie="http://purl.org/dc/terms/Frequency",Gie="http://purl.org/dc/terms/ISO3166",Wie="http://purl.org/dc/terms/Jurisdiction",Qie="http://purl.org/dc/terms/LicenseDocument",Zie="http://purl.org/dc/terms/LinguisticSystem",Jie="http://purl.org/dc/terms/Location",Yie="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",Xie="http://purl.org/dc/terms/MediaType",eae="http://purl.org/dc/terms/MediaTypeOrExtent",tae="http://purl.org/dc/terms/MethodOfAccrual",nae="http://purl.org/dc/terms/MethodOfInstruction",rae="http://purl.org/dc/terms/Period",iae="http://purl.org/dc/terms/PeriodOfTime",aae="http://purl.org/dc/terms/PhysicalMedium",oae="http://purl.org/dc/terms/PhysicalResource",sae="http://purl.org/dc/terms/Point",uae="http://purl.org/dc/terms/Policy",lae="http://purl.org/dc/terms/ProvenanceStatement",cae="http://purl.org/dc/terms/RFC1766",fae="http://purl.org/dc/terms/RFC3066",dae="http://purl.org/dc/terms/RFC4646",hae="http://purl.org/dc/terms/RFC5646",pae="http://purl.org/dc/terms/RightsStatement",gae="http://purl.org/dc/terms/SizeOrDuration",mae="http://purl.org/dc/terms/Standard",yae="http://purl.org/dc/terms/URI",vae="http://purl.org/dc/terms/W3CDTF",_ae="http://purl.org/dc/terms/abstract",wae="http://purl.org/dc/terms/accessRights",bae="http://purl.org/dc/terms/accrualMethod",Sae="http://purl.org/dc/terms/accrualPeriodicity",xae="http://purl.org/dc/terms/accrualPolicy",Eae="http://purl.org/dc/terms/alternative",Cae="http://purl.org/dc/terms/audience",Tae="http://purl.org/dc/terms/available",Aae="http://purl.org/dc/terms/bibliographicCitation",Rae="http://purl.org/dc/terms/conformsTo",Pae="http://purl.org/dc/terms/contributor",Oae="http://purl.org/dc/terms/coverage",Lae="http://purl.org/dc/terms/created",Iae="http://purl.org/dc/terms/creator",Mae="http://purl.org/dc/terms/date",Dae="http://purl.org/dc/terms/dateAccepted",kae="http://purl.org/dc/terms/dateCopyrighted",Nae="http://purl.org/dc/terms/dateSubmitted",Fae="http://purl.org/dc/terms/description",jae="http://purl.org/dc/terms/educationLevel",$ae="http://purl.org/dc/terms/extent",Uae="http://purl.org/dc/terms/format",Bae="http://purl.org/dc/terms/hasFormat",qae="http://purl.org/dc/terms/hasPart",zae="http://purl.org/dc/terms/hasVersion",Hae="http://purl.org/dc/terms/identifier",Vae="http://purl.org/dc/terms/instructionalMethod",Kae="http://purl.org/dc/terms/isFormatOf",Gae="http://purl.org/dc/terms/isPartOf",Wae="http://purl.org/dc/terms/isReferencedBy",Qae="http://purl.org/dc/terms/isReplacedBy",Zae="http://purl.org/dc/terms/isRequiredBy",Jae="http://purl.org/dc/terms/isVersionOf",Yae="http://purl.org/dc/terms/issued",Xae="http://purl.org/dc/terms/language",eoe="http://purl.org/dc/terms/license",toe="http://purl.org/dc/terms/mediator",noe="http://purl.org/dc/terms/medium",roe="http://purl.org/dc/terms/modified",ioe="http://purl.org/dc/terms/provenance",aoe="http://purl.org/dc/terms/publisher",ooe="http://purl.org/dc/terms/references",soe="http://purl.org/dc/terms/relation",uoe="http://purl.org/dc/terms/replaces",loe="http://purl.org/dc/terms/requires",coe="http://purl.org/dc/terms/rights",foe="http://purl.org/dc/terms/rightsHolder",doe="http://purl.org/dc/terms/source",hoe="http://purl.org/dc/terms/spatial",poe="http://purl.org/dc/terms/subject",goe="http://purl.org/dc/terms/tableOfContents",moe="http://purl.org/dc/terms/temporal",yoe="http://purl.org/dc/terms/title",voe="http://purl.org/dc/terms/type",_oe="http://purl.org/dc/terms/valid",woe=Object.freeze({AgentClass:qie,BibliographicResource:zie,Box:Hie,FileFormat:Vie,Frequency:Kie,ISO3166:Gie,Jurisdiction:Wie,LicenseDocument:Qie,LinguisticSystem:Zie,Location:Jie,LocationPeriodOrJurisdiction:Yie,MediaType:Xie,MediaTypeOrExtent:eae,MethodOfAccrual:tae,MethodOfInstruction:nae,Period:rae,PeriodOfTime:iae,PhysicalMedium:aae,PhysicalResource:oae,Point:sae,Policy:uae,ProvenanceStatement:lae,RFC1766:cae,RFC3066:fae,RFC4646:dae,RFC5646:hae,RightsStatement:pae,SizeOrDuration:gae,Standard:mae,URI:yae,W3CDTF:vae,abstract:_ae,accessRights:wae,accrualMethod:bae,accrualPeriodicity:Sae,accrualPolicy:xae,alternative:Eae,audience:Cae,available:Tae,bibliographicCitation:Aae,conformsTo:Rae,contributor:Pae,coverage:Oae,created:Lae,creator:Iae,date:Mae,dateAccepted:Dae,dateCopyrighted:kae,dateSubmitted:Nae,description:Fae,educationLevel:jae,extent:$ae,format:Uae,hasFormat:Bae,hasPart:qae,hasVersion:zae,identifier:Hae,instructionalMethod:Vae,isFormatOf:Kae,isPartOf:Gae,isReferencedBy:Wae,isReplacedBy:Qae,isRequiredBy:Zae,isVersionOf:Jae,issued:Yae,language:Xae,license:eoe,mediator:toe,medium:noe,modified:roe,provenance:ioe,publisher:aoe,references:ooe,relation:soe,replaces:uoe,requires:loe,rights:coe,rightsHolder:foe,source:doe,spatial:hoe,subject:poe,tableOfContents:goe,temporal:moe,title:yoe,type:voe,valid:_oe}),boe="http://xmlns.com/foaf/0.1/Person",Soe="http://xmlns.com/foaf/0.1/Document",xoe="http://xmlns.com/foaf/0.1/Organization",Eoe="http://xmlns.com/foaf/0.1/Group",Coe="http://xmlns.com/foaf/0.1/Agent",Toe="http://xmlns.com/foaf/0.1/Project",Aoe="http://xmlns.com/foaf/0.1/Image",Roe="http://xmlns.com/foaf/0.1/PersonalProfileDocument",Poe="http://xmlns.com/foaf/0.1/OnlineAccount",Ooe="http://xmlns.com/foaf/0.1/OnlineGamingAccount",Loe="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Ioe="http://xmlns.com/foaf/0.1/OnlineChatAccount",Moe="http://xmlns.com/foaf/0.1/mbox",Doe="http://xmlns.com/foaf/0.1/mbox_sha1sum",koe="http://xmlns.com/foaf/0.1/gender",Noe="http://xmlns.com/foaf/0.1/geekcode",Foe="http://xmlns.com/foaf/0.1/dnaChecksum",joe="http://xmlns.com/foaf/0.1/sha1",$oe="http://xmlns.com/foaf/0.1/based_near",Uoe="http://xmlns.com/foaf/0.1/title",Boe="http://xmlns.com/foaf/0.1/nick",qoe="http://xmlns.com/foaf/0.1/jabberID",zoe="http://xmlns.com/foaf/0.1/aimChatID",Hoe="http://xmlns.com/foaf/0.1/icqChatID",Voe="http://xmlns.com/foaf/0.1/yahooChatID",Koe="http://xmlns.com/foaf/0.1/msnChatID",Goe="http://xmlns.com/foaf/0.1/name",Woe="http://xmlns.com/foaf/0.1/firstName",Qoe="http://xmlns.com/foaf/0.1/givenname",Zoe="http://xmlns.com/foaf/0.1/surname",Joe="http://xmlns.com/foaf/0.1/family_name",Yoe="http://xmlns.com/foaf/0.1/phone",Xoe="http://xmlns.com/foaf/0.1/homepage",ese="http://xmlns.com/foaf/0.1/weblog",tse="http://xmlns.com/foaf/0.1/tipjar",nse="http://xmlns.com/foaf/0.1/plan",rse="http://xmlns.com/foaf/0.1/made",ise="http://xmlns.com/foaf/0.1/maker",ase="http://xmlns.com/foaf/0.1/img",ose="http://xmlns.com/foaf/0.1/depiction",sse="http://xmlns.com/foaf/0.1/depicts",use="http://xmlns.com/foaf/0.1/thumbnail",lse="http://xmlns.com/foaf/0.1/myersBriggs",cse="http://xmlns.com/foaf/0.1/workplaceHomepage",fse="http://xmlns.com/foaf/0.1/workInfoHomepage",dse="http://xmlns.com/foaf/0.1/schoolHomepage",hse="http://xmlns.com/foaf/0.1/knows",pse="http://xmlns.com/foaf/0.1/interest",gse="http://xmlns.com/foaf/0.1/topic_interest",mse="http://xmlns.com/foaf/0.1/publications",yse="http://xmlns.com/foaf/0.1/currentProject",vse="http://xmlns.com/foaf/0.1/pastProject",_se="http://xmlns.com/foaf/0.1/fundedBy",wse="http://xmlns.com/foaf/0.1/logo",bse="http://xmlns.com/foaf/0.1/topic",Sse="http://xmlns.com/foaf/0.1/primaryTopic",xse="http://xmlns.com/foaf/0.1/page",Ese="http://xmlns.com/foaf/0.1/theme",Cse="http://xmlns.com/foaf/0.1/holdsAccount",Tse="http://xmlns.com/foaf/0.1/accountServiceHomepage",Ase="http://xmlns.com/foaf/0.1/accountName",Rse="http://xmlns.com/foaf/0.1/member",Pse="http://xmlns.com/foaf/0.1/membershipClass",Ose=Object.freeze({Person:boe,Document:Soe,Organization:xoe,Group:Eoe,Agent:Coe,Project:Toe,Image:Aoe,PersonalProfileDocument:Roe,OnlineAccount:Poe,OnlineGamingAccount:Ooe,OnlineEcommerceAccount:Loe,OnlineChatAccount:Ioe,mbox:Moe,mbox_sha1sum:Doe,gender:koe,geekcode:Noe,dnaChecksum:Foe,sha1:joe,based_near:$oe,title:Uoe,nick:Boe,jabberID:qoe,aimChatID:zoe,icqChatID:Hoe,yahooChatID:Voe,msnChatID:Koe,name:Goe,firstName:Woe,givenname:Qoe,surname:Zoe,family_name:Joe,phone:Yoe,homepage:Xoe,weblog:ese,tipjar:tse,plan:nse,made:rse,maker:ise,img:ase,depiction:ose,depicts:sse,thumbnail:use,myersBriggs:lse,workplaceHomepage:cse,workInfoHomepage:fse,schoolHomepage:dse,knows:hse,interest:pse,topic_interest:gse,publications:mse,currentProject:yse,pastProject:vse,fundedBy:_se,logo:wse,topic:bse,primaryTopic:Sse,page:xse,theme:Ese,holdsAccount:Cse,accountServiceHomepage:Tse,accountName:Ase,member:Rse,membershipClass:Pse}),Lse="http://www.w3.org/ns/ldp#Resource",Ise="http://www.w3.org/ns/ldp#RDFSource",Mse="http://www.w3.org/ns/ldp#NonRDFSource",Dse="http://www.w3.org/ns/ldp#Container",kse="http://www.w3.org/ns/ldp#BasicContainer",Nse="http://www.w3.org/ns/ldp#DirectContainer",Fse="http://www.w3.org/ns/ldp#IndirectContainer",jse="http://www.w3.org/ns/ldp#hasMemberRelation",$se="http://www.w3.org/ns/ldp#isMemberOfRelation",Use="http://www.w3.org/ns/ldp#membershipResource",Bse="http://www.w3.org/ns/ldp#insertedContentRelation",qse="http://www.w3.org/ns/ldp#member",zse="http://www.w3.org/ns/ldp#contains",Hse="http://www.w3.org/ns/ldp#constrainedBy",Vse="http://www.w3.org/ns/ldp#pageSortCriteria",Kse="http://www.w3.org/ns/ldp#PageSortCriterion",Gse="http://www.w3.org/ns/ldp#pageSortPredicate",Wse="http://www.w3.org/ns/ldp#pageSortOrder",Qse="http://www.w3.org/ns/ldp#pageSortCollation",Zse="http://www.w3.org/ns/ldp#Page",Jse="http://www.w3.org/ns/ldp#pageSequence",Yse="http://www.w3.org/ns/ldp#inbox",Xse=Object.freeze({Resource:Lse,RDFSource:Ise,NonRDFSource:Mse,Container:Dse,BasicContainer:kse,DirectContainer:Nse,IndirectContainer:Fse,hasMemberRelation:jse,isMemberOfRelation:$se,membershipResource:Use,insertedContentRelation:Bse,member:qse,contains:zse,constrainedBy:Hse,pageSortCriteria:Vse,PageSortCriterion:Kse,pageSortPredicate:Gse,pageSortOrder:Wse,pageSortCollation:Qse,Page:Zse,pageSequence:Jse,inbox:Yse}),eue="http://www.w3.org/ns/pim/meeting#Meeting",tue="http://www.w3.org/ns/pim/meeting#VideoCallPage",nue="http://www.w3.org/ns/pim/meeting#actionItems",rue="http://www.w3.org/ns/pim/meeting#agenda",iue="http://www.w3.org/ns/pim/meeting#attendeeGroup",aue="http://www.w3.org/ns/pim/meeting#chat",oue="http://www.w3.org/ns/pim/meeting#nextMeeting",sue="http://www.w3.org/ns/pim/meeting#previousMeeting",uue="http://www.w3.org/ns/pim/meeting#sharedNotes",lue="http://www.w3.org/ns/pim/meeting#toolList",cue="http://www.w3.org/ns/pim/meeting#trip",fue="http://www.w3.org/ns/pim/meeting#videoCallPage",due=Object.freeze({Meeting:eue,VideoCallPage:tue,actionItems:nue,agenda:rue,attendeeGroup:iue,chat:aue,nextMeeting:oue,previousMeeting:sue,sharedNotes:uue,toolList:lue,trip:cue,videoCallPage:fue}),hue="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",pue="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",gue="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",mue="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",yue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",vue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",_ue="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",wue="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",bue="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Sue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",xue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Eue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",Cue="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",Tue="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",Aue="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",Rue="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",Pue="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Oue="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",Lue="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Iue="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",Mue="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Due=Object.freeze({HTML:hue,langString:pue,PlainLiteral:gue,type:mue,Property:yue,Statement:vue,subject:_ue,predicate:wue,object:bue,Bag:Sue,Seq:xue,Alt:Eue,value:Cue,List:Tue,first:Aue,rest:Rue,XMLLiteral:Pue,JSON__workaround:Oue,CompoundLiteral:Lue,language:Iue,direction:Mue}),kue="http://www.w3.org/2000/01/rdf-schema#Resource",Nue="http://www.w3.org/2000/01/rdf-schema#Class",Fue="http://www.w3.org/2000/01/rdf-schema#subClassOf",jue="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",$ue="http://www.w3.org/2000/01/rdf-schema#comment",Uue="http://www.w3.org/2000/01/rdf-schema#label",Bue="http://www.w3.org/2000/01/rdf-schema#domain",que="http://www.w3.org/2000/01/rdf-schema#range",zue="http://www.w3.org/2000/01/rdf-schema#seeAlso",Hue="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",Vue="http://www.w3.org/2000/01/rdf-schema#Literal",Kue="http://www.w3.org/2000/01/rdf-schema#Container",Gue="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",Wue="http://www.w3.org/2000/01/rdf-schema#member",Que="http://www.w3.org/2000/01/rdf-schema#Datatype",Zue=Object.freeze({Resource:kue,Class:Nue,subClassOf:Fue,subPropertyOf:jue,comment:$ue,label:Uue,domain:Bue,range:que,seeAlso:zue,isDefinedBy:Hue,Literal:Vue,Container:Kue,ContainerMembershipProperty:Gue,member:Wue,Datatype:Que}),Jue="http://rdfs.org/sioc/ns#Community",Yue="http://rdfs.org/sioc/ns#Container",Xue="http://rdfs.org/sioc/ns#Forum",ele="http://rdfs.org/sioc/ns#Item",tle="http://rdfs.org/sioc/ns#Post",nle="http://rdfs.org/sioc/ns#Role",rle="http://rdfs.org/sioc/ns#Space",ile="http://rdfs.org/sioc/ns#Site",ale="http://rdfs.org/sioc/ns#Thread",ole="http://rdfs.org/sioc/ns#UserAccount",sle="http://rdfs.org/sioc/ns#Usergroup",ule="http://rdfs.org/sioc/ns#about",lle="http://rdfs.org/sioc/ns#account_of",cle="http://rdfs.org/sioc/ns#addressed_to",fle="http://rdfs.org/sioc/ns#administrator_of",dle="http://rdfs.org/sioc/ns#attachment",hle="http://rdfs.org/sioc/ns#avatar",ple="http://rdfs.org/sioc/ns#container_of",gle="http://rdfs.org/sioc/ns#content",mle="http://rdfs.org/sioc/ns#creator_of",yle="http://rdfs.org/sioc/ns#delivered_at",vle="http://rdfs.org/sioc/ns#discussion_of",_le="http://rdfs.org/sioc/ns#email",wle="http://rdfs.org/sioc/ns#email_sha1",ble="http://rdfs.org/sioc/ns#embeds_knowledge",Sle="http://rdfs.org/sioc/ns#feed",xle="http://rdfs.org/sioc/ns#follows",Ele="http://rdfs.org/sioc/ns#function_of",Cle="http://rdfs.org/sioc/ns#generator",Tle="http://rdfs.org/sioc/ns#has_administrator",Ale="http://rdfs.org/sioc/ns#has_container",Rle="http://rdfs.org/sioc/ns#has_creator",Ple="http://rdfs.org/sioc/ns#has_discussion",Ole="http://rdfs.org/sioc/ns#has_function",Lle="http://rdfs.org/sioc/ns#has_host",Ile="http://rdfs.org/sioc/ns#has_member",Mle="http://rdfs.org/sioc/ns#has_moderator",Dle="http://rdfs.org/sioc/ns#has_modifier",kle="http://rdfs.org/sioc/ns#has_owner",Nle="http://rdfs.org/sioc/ns#has_parent",Fle="http://rdfs.org/sioc/ns#has_reply",jle="http://rdfs.org/sioc/ns#has_scope",$le="http://rdfs.org/sioc/ns#has_space",Ule="http://rdfs.org/sioc/ns#has_subscriber",Ble="http://rdfs.org/sioc/ns#has_usergroup",qle="http://rdfs.org/sioc/ns#host_of",zle="http://rdfs.org/sioc/ns#id",Hle="http://rdfs.org/sioc/ns#ip_address",Vle="http://rdfs.org/sioc/ns#last_activity_date",Kle="http://rdfs.org/sioc/ns#last_item_date",Gle="http://rdfs.org/sioc/ns#last_reply_date",Wle="http://rdfs.org/sioc/ns#latest_version",Qle="http://rdfs.org/sioc/ns#likes",Zle="http://rdfs.org/sioc/ns#link",Jle="http://rdfs.org/sioc/ns#links_to",Yle="http://rdfs.org/sioc/ns#member_of",Xle="http://rdfs.org/sioc/ns#mentions",ece="http://rdfs.org/sioc/ns#moderator_of",tce="http://rdfs.org/sioc/ns#modifier_of",nce="http://rdfs.org/sioc/ns#name",rce="http://rdfs.org/sioc/ns#next_by_date",ice="http://rdfs.org/sioc/ns#next_version",ace="http://rdfs.org/sioc/ns#note",oce="http://rdfs.org/sioc/ns#num_authors",sce="http://rdfs.org/sioc/ns#num_items",uce="http://rdfs.org/sioc/ns#num_replies",lce="http://rdfs.org/sioc/ns#num_threads",cce="http://rdfs.org/sioc/ns#num_views",fce="http://rdfs.org/sioc/ns#owner_of",dce="http://rdfs.org/sioc/ns#parent_of",hce="http://rdfs.org/sioc/ns#previous_by_date",pce="http://rdfs.org/sioc/ns#previous_version",gce="http://rdfs.org/sioc/ns#read_at",mce="http://rdfs.org/sioc/ns#related_to",yce="http://rdfs.org/sioc/ns#reply_of",vce="http://rdfs.org/sioc/ns#respond_to",_ce="http://rdfs.org/sioc/ns#scope_of",wce="http://rdfs.org/sioc/ns#shared_by",bce="http://rdfs.org/sioc/ns#space_of",Sce="http://rdfs.org/sioc/ns#subscriber_of",xce="http://rdfs.org/sioc/ns#topic",Ece="http://rdfs.org/sioc/ns#usergroup_of",Cce=Object.freeze({Community:Jue,Container:Yue,Forum:Xue,Item:ele,Post:tle,Role:nle,Space:rle,Site:ile,Thread:ale,UserAccount:ole,Usergroup:sle,about:ule,account_of:lle,addressed_to:cle,administrator_of:fle,attachment:dle,avatar:hle,container_of:ple,content:gle,creator_of:mle,delivered_at:yle,discussion_of:vle,email:_le,email_sha1:wle,embeds_knowledge:ble,feed:Sle,follows:xle,function_of:Ele,generator:Cle,has_administrator:Tle,has_container:Ale,has_creator:Rle,has_discussion:Ple,has_function:Ole,has_host:Lle,has_member:Ile,has_moderator:Mle,has_modifier:Dle,has_owner:kle,has_parent:Nle,has_reply:Fle,has_scope:jle,has_space:$le,has_subscriber:Ule,has_usergroup:Ble,host_of:qle,id:zle,ip_address:Hle,last_activity_date:Vle,last_item_date:Kle,last_reply_date:Gle,latest_version:Wle,likes:Qle,link:Zle,links_to:Jle,member_of:Yle,mentions:Xle,moderator_of:ece,modifier_of:tce,name:nce,next_by_date:rce,next_version:ice,note:ace,num_authors:oce,num_items:sce,num_replies:uce,num_threads:lce,num_views:cce,owner_of:fce,parent_of:dce,previous_by_date:hce,previous_version:pce,read_at:gce,related_to:mce,reply_of:yce,respond_to:vce,scope_of:_ce,shared_by:wce,space_of:bce,subscriber_of:Sce,topic:xce,usergroup_of:Ece}),Tce="http://www.w3.org/ns/solid/terms#Account",Ace="http://www.w3.org/ns/solid/terms#Inbox",Rce="http://www.w3.org/ns/solid/terms#InsertDeletePatch",Pce="http://www.w3.org/ns/solid/terms#ListedDocument",Oce="http://www.w3.org/ns/solid/terms#Notification",Lce="http://www.w3.org/ns/solid/terms#Patch",Ice="http://www.w3.org/ns/solid/terms#Timeline",Mce="http://www.w3.org/ns/solid/terms#TypeIndex",Dce="http://www.w3.org/ns/solid/terms#TypeRegistration",kce="http://www.w3.org/ns/solid/terms#UnlistedDocument",Nce="http://www.w3.org/ns/solid/terms#account",Fce="http://www.w3.org/ns/solid/terms#deletes",jce="http://www.w3.org/ns/solid/terms#forClass",$ce="http://www.w3.org/ns/solid/terms#inbox",Uce="http://www.w3.org/ns/solid/terms#inserts",Bce="http://www.w3.org/ns/solid/terms#instance",qce="http://www.w3.org/ns/solid/terms#instanceContainer",zce="http://www.w3.org/ns/solid/terms#loginEndpoint",Hce="http://www.w3.org/ns/solid/terms#logoutEndpoint",Vce="http://www.w3.org/ns/solid/terms#notification",Kce="http://www.w3.org/ns/solid/terms#oidcIssuer",Gce="http://www.w3.org/ns/solid/terms#owner",Wce="http://www.w3.org/ns/solid/terms#patches",Qce="http://www.w3.org/ns/solid/terms#privateTypeIndex",Zce="http://www.w3.org/ns/solid/terms#publicTypeIndex",Jce="http://www.w3.org/ns/solid/terms#read",Yce="http://www.w3.org/ns/solid/terms#storageQuota",Xce="http://www.w3.org/ns/solid/terms#storageUsage",efe="http://www.w3.org/ns/solid/terms#typeIndex",tfe="http://www.w3.org/ns/solid/terms#timeline",nfe="http://www.w3.org/ns/solid/terms#where",rfe=Object.freeze({Account:Tce,Inbox:Ace,InsertDeletePatch:Rce,ListedDocument:Pce,Notification:Oce,Patch:Lce,Timeline:Ice,TypeIndex:Mce,TypeRegistration:Dce,UnlistedDocument:kce,account:Nce,deletes:Fce,forClass:jce,inbox:$ce,inserts:Uce,instance:Bce,instanceContainer:qce,loginEndpoint:zce,logoutEndpoint:Hce,notification:Vce,oidcIssuer:Kce,owner:Gce,patches:Wce,privateTypeIndex:Qce,publicTypeIndex:Zce,read:Jce,storageQuota:Yce,storageUsage:Xce,typeIndex:efe,timeline:tfe,where:nfe}),ife="http://www.w3.org/ns/pim/space#ControlledStorage",afe="http://www.w3.org/ns/pim/space#PersonalStorage",ofe="http://www.w3.org/ns/pim/space#PublicStorage",sfe="http://www.w3.org/ns/pim/space#Storage",ufe="http://www.w3.org/ns/pim/space#Workspace",lfe="http://www.w3.org/ns/pim/space#masterWorkspace",cfe="http://www.w3.org/ns/pim/space#preferencesFile",ffe="http://www.w3.org/ns/pim/space#storage",dfe="http://www.w3.org/ns/pim/space#uriPrefix",hfe="http://www.w3.org/ns/pim/space#workspace",pfe=Object.freeze({ControlledStorage:ife,PersonalStorage:afe,PublicStorage:ofe,Storage:sfe,Workspace:ufe,masterWorkspace:lfe,preferencesFile:cfe,storage:ffe,uriPrefix:dfe,workspace:hfe}),gfe="http://www.w3.org/2006/vcard/ns#Acquaintance",mfe="http://www.w3.org/2006/vcard/ns#Agent",yfe="http://www.w3.org/2006/vcard/ns#BBS",vfe="http://www.w3.org/2006/vcard/ns#Car",_fe="http://www.w3.org/2006/vcard/ns#Cell",wfe="http://www.w3.org/2006/vcard/ns#Child",bfe="http://www.w3.org/2006/vcard/ns#Colleague",Sfe="http://www.w3.org/2006/vcard/ns#Contact",xfe="http://www.w3.org/2006/vcard/ns#Coresident",Efe="http://www.w3.org/2006/vcard/ns#Coworker",Cfe="http://www.w3.org/2006/vcard/ns#Crush",Tfe="http://www.w3.org/2006/vcard/ns#Date",Afe="http://www.w3.org/2006/vcard/ns#Dom",Rfe="http://www.w3.org/2006/vcard/ns#Emergency",Pfe="http://www.w3.org/2006/vcard/ns#Fax",Ofe="http://www.w3.org/2006/vcard/ns#Female",Lfe="http://www.w3.org/2006/vcard/ns#Friend",Ife="http://www.w3.org/2006/vcard/ns#Home",Mfe="http://www.w3.org/2006/vcard/ns#ISDN",Dfe="http://www.w3.org/2006/vcard/ns#Internet",kfe="http://www.w3.org/2006/vcard/ns#Intl",Nfe="http://www.w3.org/2006/vcard/ns#Kin",Ffe="http://www.w3.org/2006/vcard/ns#Label",jfe="http://www.w3.org/2006/vcard/ns#Male",$fe="http://www.w3.org/2006/vcard/ns#Me",Ufe="http://www.w3.org/2006/vcard/ns#Met",Bfe="http://www.w3.org/2006/vcard/ns#Modem",qfe="http://www.w3.org/2006/vcard/ns#Msg",zfe="http://www.w3.org/2006/vcard/ns#Muse",Hfe="http://www.w3.org/2006/vcard/ns#Neighbor",Vfe="http://www.w3.org/2006/vcard/ns#None",Kfe="http://www.w3.org/2006/vcard/ns#Other",Gfe="http://www.w3.org/2006/vcard/ns#PCS",Wfe="http://www.w3.org/2006/vcard/ns#Pager",Qfe="http://www.w3.org/2006/vcard/ns#Parcel",Zfe="http://www.w3.org/2006/vcard/ns#Parent",Jfe="http://www.w3.org/2006/vcard/ns#Postal",Yfe="http://www.w3.org/2006/vcard/ns#Pref",Xfe="http://www.w3.org/2006/vcard/ns#Sibling",ede="http://www.w3.org/2006/vcard/ns#Spouse",tde="http://www.w3.org/2006/vcard/ns#Sweetheart",nde="http://www.w3.org/2006/vcard/ns#Tel",rde="http://www.w3.org/2006/vcard/ns#Text",ide="http://www.w3.org/2006/vcard/ns#TextPhone",ade="http://www.w3.org/2006/vcard/ns#Unknown",ode="http://www.w3.org/2006/vcard/ns#Video",sde="http://www.w3.org/2006/vcard/ns#Voice",ude="http://www.w3.org/2006/vcard/ns#Work",lde="http://www.w3.org/2006/vcard/ns#X400",cde="http://www.w3.org/2006/vcard/ns#adr",fde="http://www.w3.org/2006/vcard/ns#agent",dde="http://www.w3.org/2006/vcard/ns#anniversary",hde="http://www.w3.org/2006/vcard/ns#bday",pde="http://www.w3.org/2006/vcard/ns#category",gde="http://www.w3.org/2006/vcard/ns#class",mde="http://www.w3.org/2006/vcard/ns#email",yde="http://www.w3.org/2006/vcard/ns#geo",vde="http://www.w3.org/2006/vcard/ns#hasAdditionalName",_de="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",wde="http://www.w3.org/2006/vcard/ns#hasCalendarLink",bde="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Sde="http://www.w3.org/2006/vcard/ns#hasCategory",xde="http://www.w3.org/2006/vcard/ns#hasCountryName",Ede="http://www.w3.org/2006/vcard/ns#hasFN",Cde="http://www.w3.org/2006/vcard/ns#hasFamilyName",Tde="http://www.w3.org/2006/vcard/ns#hasGender",Ade="http://www.w3.org/2006/vcard/ns#hasGivenName",Rde="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",Pde="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",Ode="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Lde="http://www.w3.org/2006/vcard/ns#hasLanguage",Ide="http://www.w3.org/2006/vcard/ns#hasLocality",Mde="http://www.w3.org/2006/vcard/ns#hasNickname",Dde="http://www.w3.org/2006/vcard/ns#hasNote",kde="http://www.w3.org/2006/vcard/ns#hasOrganizationName",Nde="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Fde="http://www.w3.org/2006/vcard/ns#hasPostalCode",jde="http://www.w3.org/2006/vcard/ns#hasRegion",$de="http://www.w3.org/2006/vcard/ns#hasRelated",Ude="http://www.w3.org/2006/vcard/ns#hasRole",Bde="http://www.w3.org/2006/vcard/ns#hasSource",qde="http://www.w3.org/2006/vcard/ns#hasStreetAddress",zde="http://www.w3.org/2006/vcard/ns#hasTitle",Hde="http://www.w3.org/2006/vcard/ns#hasUID",Vde="http://www.w3.org/2006/vcard/ns#hasValue",Kde="http://www.w3.org/2006/vcard/ns#label",Gde="http://www.w3.org/2006/vcard/ns#language",Wde="http://www.w3.org/2006/vcard/ns#latitude",Qde="http://www.w3.org/2006/vcard/ns#longitude",Zde="http://www.w3.org/2006/vcard/ns#mailer",Jde="http://www.w3.org/2006/vcard/ns#note",Yde="http://www.w3.org/2006/vcard/ns#org",Xde="http://www.w3.org/2006/vcard/ns#prodid",ehe="http://www.w3.org/2006/vcard/ns#rev",the="http://www.w3.org/2006/vcard/ns#role",nhe="http://www.w3.org/2006/vcard/ns#title",rhe="http://www.w3.org/2006/vcard/ns#tz",ihe="http://www.w3.org/2006/vcard/ns#value",ahe="http://www.w3.org/2006/vcard/ns#Address",ohe="http://www.w3.org/2006/vcard/ns#Email",she="http://www.w3.org/2006/vcard/ns#Group",uhe="http://www.w3.org/2006/vcard/ns#Individual",lhe="http://www.w3.org/2006/vcard/ns#Name",che="http://www.w3.org/2006/vcard/ns#VCard",fhe="http://www.w3.org/2006/vcard/ns#fn",dhe="http://www.w3.org/2006/vcard/ns#hasAddress",hhe="http://www.w3.org/2006/vcard/ns#hasEmail",phe="http://www.w3.org/2006/vcard/ns#hasGeo",ghe="http://www.w3.org/2006/vcard/ns#hasKey",mhe="http://www.w3.org/2006/vcard/ns#hasLogo",yhe="http://www.w3.org/2006/vcard/ns#hasName",vhe="http://www.w3.org/2006/vcard/ns#hasPhoto",_he="http://www.w3.org/2006/vcard/ns#hasSound",whe="http://www.w3.org/2006/vcard/ns#hasTelephone",bhe="http://www.w3.org/2006/vcard/ns#hasURL",She="http://www.w3.org/2006/vcard/ns#key",xhe="http://www.w3.org/2006/vcard/ns#logo",Ehe="http://www.w3.org/2006/vcard/ns#n",Che="http://www.w3.org/2006/vcard/ns#nickname",The="http://www.w3.org/2006/vcard/ns#photo",Ahe="http://www.w3.org/2006/vcard/ns#sound",Rhe="http://www.w3.org/2006/vcard/ns#tel",Phe="http://www.w3.org/2006/vcard/ns#url",Ohe="http://www.w3.org/2006/vcard/ns#Location",Lhe="http://www.w3.org/2006/vcard/ns#hasMember",Ihe="http://www.w3.org/2006/vcard/ns#locality",Mhe="http://www.w3.org/2006/vcard/ns#region",Dhe="http://www.w3.org/2006/vcard/ns#Organization",khe="http://www.w3.org/2006/vcard/ns#Gender",Nhe="http://www.w3.org/2006/vcard/ns#Kind",Fhe="http://www.w3.org/2006/vcard/ns#Type",jhe="http://www.w3.org/2006/vcard/ns#TelephoneType",$he="http://www.w3.org/2006/vcard/ns#RelatedType",Uhe=Object.freeze({Acquaintance:gfe,Agent:mfe,BBS:yfe,Car:vfe,Cell:_fe,Child:wfe,Colleague:bfe,Contact:Sfe,Coresident:xfe,Coworker:Efe,Crush:Cfe,Date__workaround:Tfe,Dom:Afe,Emergency:Rfe,Fax:Pfe,Female:Ofe,Friend:Lfe,Home:Ife,ISDN:Mfe,Internet:Dfe,Intl__workaround:kfe,Kin:Nfe,Label:Ffe,Male:jfe,Me:$fe,Met:Ufe,Modem:Bfe,Msg:qfe,Muse:zfe,Neighbor:Hfe,None:Vfe,Other:Kfe,PCS:Gfe,Pager:Wfe,Parcel:Qfe,Parent:Zfe,Postal:Jfe,Pref:Yfe,Sibling:Xfe,Spouse:ede,Sweetheart:tde,Tel:nde,Text:rde,TextPhone:ide,Unknown:ade,Video:ode,Voice:sde,Work:ude,X400:lde,adr:cde,agent:fde,anniversary:dde,bday:hde,category:pde,class__workaround:gde,email:mde,geo:yde,hasAdditionalName:vde,hasCalendarBusy:_de,hasCalendarLink:wde,hasCalendarRequest:bde,hasCategory:Sde,hasCountryName:xde,hasFN:Ede,hasFamilyName:Cde,hasGender:Tde,hasGivenName:Ade,hasHonorificPrefix:Rde,hasHonorificSuffix:Pde,hasInstantMessage:Ode,hasLanguage:Lde,hasLocality:Ide,hasNickname:Mde,hasNote:Dde,hasOrganizationName:kde,hasOrganizationUnit:Nde,hasPostalCode:Fde,hasRegion:jde,hasRelated:$de,hasRole:Ude,hasSource:Bde,hasStreetAddress:qde,hasTitle:zde,hasUID:Hde,hasValue:Vde,label:Kde,language:Gde,latitude:Wde,longitude:Qde,mailer:Zde,note:Jde,org:Yde,prodid:Xde,rev:ehe,role:the,title:nhe,tz:rhe,value:ihe,Address:ahe,Email:ohe,Group:she,Individual:uhe,Name:lhe,VCard:che,fn:fhe,hasAddress:dhe,hasEmail:hhe,hasGeo:phe,hasKey:ghe,hasLogo:mhe,hasName:yhe,hasPhoto:vhe,hasSound:_he,hasTelephone:whe,hasURL:bhe,key:She,logo:xhe,n:Ehe,nickname:Che,photo:The,sound:Ahe,tel:Rhe,url:Phe,Location:Ohe,hasMember:Lhe,locality:Ihe,region:Mhe,Organization:Dhe,Gender:khe,Kind:Nhe,Type:Fhe,TelephoneType:jhe,RelatedType:$he}),Bhe="http://www.w3.org/2005/01/wf/flow#ActionItem",qhe="http://www.w3.org/2005/01/wf/flow#Change",zhe="http://www.w3.org/2005/01/wf/flow#Closed",Hhe="http://www.w3.org/2005/01/wf/flow#Creation",Vhe="http://www.w3.org/2005/01/wf/flow#Message",Khe="http://www.w3.org/2005/01/wf/flow#NonTerminalState",Ghe="http://www.w3.org/2005/01/wf/flow#Open",Whe="http://www.w3.org/2005/01/wf/flow#Product",Qhe="http://www.w3.org/2005/01/wf/flow#Task",Zhe="http://www.w3.org/2005/01/wf/flow#TerminalState",Jhe="http://www.w3.org/2005/01/wf/flow#Tracker",Yhe="http://www.w3.org/2005/01/wf/flow#Transition",Xhe="http://www.w3.org/2005/01/wf/flow#affects",epe="http://www.w3.org/2005/01/wf/flow#allowedTransitions",tpe="http://www.w3.org/2005/01/wf/flow#asigneeClass",npe="http://www.w3.org/2005/01/wf/flow#assignee",rpe="http://www.w3.org/2005/01/wf/flow#attachment",ipe="http://www.w3.org/2005/01/wf/flow#creates",ape="http://www.w3.org/2005/01/wf/flow#dateDue",ope="http://www.w3.org/2005/01/wf/flow#deliverable",spe="http://www.w3.org/2005/01/wf/flow#dependent",upe="http://www.w3.org/2005/01/wf/flow#description",lpe="http://www.w3.org/2005/01/wf/flow#final",cpe="http://www.w3.org/2005/01/wf/flow#goalDescription",fpe="http://www.w3.org/2005/01/wf/flow#initialState",dpe="http://www.w3.org/2005/01/wf/flow#issue",hpe="http://www.w3.org/2005/01/wf/flow#issueCategory",ppe="http://www.w3.org/2005/01/wf/flow#issueClass",gpe="http://www.w3.org/2005/01/wf/flow#message",mpe="http://www.w3.org/2005/01/wf/flow#modifiedBy",ype="http://www.w3.org/2005/01/wf/flow#recipent",vpe="http://www.w3.org/2005/01/wf/flow#requires",_pe="http://www.w3.org/2005/01/wf/flow#screenShot",wpe="http://www.w3.org/2005/01/wf/flow#sender",bpe="http://www.w3.org/2005/01/wf/flow#source",Spe="http://www.w3.org/2005/01/wf/flow#stateStore",xpe="http://www.w3.org/2005/01/wf/flow#subscriber",Epe="http://www.w3.org/2005/01/wf/flow#successCriteria",Cpe="http://www.w3.org/2005/01/wf/flow#task",Tpe="http://www.w3.org/2005/01/wf/flow#terminalOutput",Ape="http://www.w3.org/2005/01/wf/flow#testData",Rpe="http://www.w3.org/2005/01/wf/flow#tracker",Ppe="http://www.w3.org/2005/01/wf/flow#transactionStore",Ope=Object.freeze({ActionItem:Bhe,Change:qhe,Closed:zhe,Creation:Hhe,Message:Vhe,NonTerminalState:Khe,Open:Ghe,Product:Whe,Task:Qhe,TerminalState:Zhe,Tracker:Jhe,Transition:Yhe,affects:Xhe,allowedTransitions:epe,asigneeClass:tpe,assignee:npe,attachment:rpe,creates:ipe,dateDue:ape,deliverable:ope,dependent:spe,description:upe,final:lpe,goalDescription:cpe,initialState:fpe,issue:dpe,issueCategory:hpe,issueClass:ppe,message:gpe,modifiedBy:mpe,recipent:ype,requires:vpe,screenShot:_pe,sender:wpe,source:bpe,stateStore:Spe,subscriber:xpe,successCriteria:Epe,task:Cpe,terminalOutput:Tpe,testData:Ape,tracker:Rpe,transactionStore:Ppe}),xn=Lne,hN=Bie,i9=woe,Vl=Ose,vu=Xse,Lpe=due,Lf=Due,GP=Zue,gh=Cce,Dn=rfe,Fh=pfe,a9=Uhe,Ipe=Ope,bs=function(e){return e.Read="Read",e.Write="Write",e.Append="Append",e.Control="Control",e}({}),zr=function(e){return e.simpleMailerIntegration="simpleMailerIntegration",e.mailerIntegration="mailerIntegration",e.rdfDocument="rdfDocument",e.file="file",e.geoindex="geoindex",e.wikidataSearch="wikidataSearch",e.wikidataEntity="wikidataEntity",e}({});const Mpe=async(e,t)=>{const n=await globalThis.fetch(e,{method:"GET"});return await nr(n.url,t)},Dpe=async e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=i=>n(i)}),wi=e=>{const t=new URL(e);if(t.hash="",t.search="",t.pathname.length===0||t.pathname==="/")return t.toString();const n=t.pathname.split("/").slice(0,-1);return n.push(""),t.pathname=n.join("/"),t.toString()},o9=e=>{const t=wi(e);return t===e?s9(t):t},kpe=e=>Npe(e,o9),s9=e=>{const t=new URL(e);if(t.pathname.length===0||t.pathname==="/")return e;const n=t.pathname.split("/").slice(0,-2);return n.push(""),t.pathname=n.join("/"),t.toString()},zo=async(e,t)=>{try{return await nr(e,t)}catch{return await Mpe(e,t)}},ec=e=>{const t=new URL(e);return t.hash="",t.toString()},pN=e=>{const t=new URL(e);return t.protocol="https",t.toString()},Npe=(e,t)=>{const n=new Set;let r=e;for(;!n.has(r);)n.add(r),r=t(r);return n.delete(e),Array.from(n)},tc=async e=>{var a;const n=(await nr(e,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${e} does not have any Link headers`);const i=(a=Bq.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${e}`);return new URL(i,e).toString()},u9=(e,t)=>{const r=new Dh({baseIRI:e}).parse(t),i=new As(r),a=i.getSubjects(Lf.type,xn.Authorization,null),o={[xn.Read]:bs.Read,[xn.Write]:bs.Write,[xn.Append]:bs.Append,[xn.Control]:bs.Control};return a.map(s=>{const l=i.getObjects(s,xn.mode,null).map(y=>o[y.value]).filter(y=>typeof y<"u"),c=i.getObjects(s,xn.agent,null).map(y=>y.value),d=i.getObjects(s,xn.agentClass,null).map(y=>y.value),h=i.getObjects(s,xn.agentGroup,null).map(y=>y.value),m=i.getObjects(s,xn.default__workaround,null).map(y=>y.value);return{url:s.value,modes:l,agents:c,agentClasses:d,agentGroups:h,defaults:m}})},Fpe=(e,...t)=>{const n={};for(const r of t)for(const i of r)n[i[e]]=i;return Object.values(n)},jpe=e=>{const t={};return e&&e.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const a=i[1],o=i[2].split(/\s+/);t[a]=new Set(o)}}),t};function qd(e,t){t=wi(t);try{const n=new URL(e).href,r=new URL(t).href;return n.startsWith(r)?n.substring(r.length)||"./":e}catch{return e}}const WP=(e="")=>{const t=e&&ec(e),n=V.useMemo(()=>[zr.file,t],[t]);return ey({queryKey:n,queryFn:()=>$pe(t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},$pe=async e=>{const t=await nr(e);if(t.ok)return URL.createObjectURL(await t.blob());if(t.status===404)return"";throw new Error(`Fetching ${e} not successful`)},Upe=async(e,t)=>{const r=(await nr(e,{method:"POST",body:t})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},Bpe=async e=>{await nr(e,{method:"DELETE"})},qpe=()=>{const e=Si();return Pa({mutationFn:async({uri:n,data:r})=>await Upe(n,r),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[zr.file,ec(r.uri)]})}})},zpe=()=>{const e=Si();return Pa({mutationFn:async({uri:n})=>await Bpe(n),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[zr.file,ec(r.uri)]})}})};function l9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=l9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Or(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=l9(e))&&(r&&(r+=" "),r+=t);return r}var c9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gN=It.createContext&&It.createContext(c9),Hpe=["attr","size","title"];function Vpe(e,t){if(e==null)return{};var n=Kpe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(this,arguments)}function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){Gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gpe(e,t,n){return t=Wpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wpe(e){var t=Qpe(e,"string");return typeof t=="symbol"?t:t+""}function Qpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f9(e){return e&&e.map((t,n)=>It.createElement(t.tag,Y0({key:n},t.attr),f9(t.child)))}function ji(e){return t=>It.createElement(Zpe,J0({attr:Y0({},e.attr)},t),f9(e.child))}function Zpe(e){var t=n=>{var{attr:r,size:i,title:a}=e,o=Vpe(e,Hpe),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),It.createElement("svg",J0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Y0(Y0({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&It.createElement("title",null,a),e.children)};return gN!==void 0?It.createElement(gN.Consumer,null,n=>t(n)):t(c9)}function Jpe(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function oy(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Ype(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(e)}function Xpe(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function d9(e){return ji({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(e)}function yN(e){return ji({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function h9(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function ege(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function tge(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function nge(e){return ji({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function rge(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function p9(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function ige(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function X0(e){return ji({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function age(e){return ji({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function oge(e){return ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(e)}const sge="_photo_cmh6k_1",uge="_square_cmh6k_6",bx={photo:sge,square:uge},jw=({photo:e,size:t=1,square:n,className:r})=>{const{data:i}=WP(e);return i?H.jsx("img",{className:Or(bx.photo,n&&bx.square,r),src:i,alt:"",style:{width:`${t*2}rem`,height:`${t*2}rem`}}):H.jsx(age,{className:Or(bx.photo,r),size:t*32})},lge="_button_14nfq_1",cge="_primary_14nfq_15",fge="_secondary_14nfq_24",dge="_tertiary_14nfq_32",hge="_danger_14nfq_37",da={button:lge,primary:cge,secondary:fge,tertiary:dge,danger:hge},pr=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>H.jsx("button",{className:Or(i,da.button,e&&da.primary,r&&da.danger,t&&da.secondary,n&&da.tertiary),...a}),mf=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>H.jsx(jo,{className:Or(i,da.button,e&&da.primary,r&&da.danger,t&&da.secondary,n&&da.tertiary),...a}),g9=({icon:e=h9,...t})=>H.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:H.jsx(e,{})}),pge=({primary:e,secondary:t,tertiary:n,danger:r,className:i,children:a,...o})=>H.jsx("a",{className:Or(i,da.button,e&&da.primary,r&&da.danger,t&&da.secondary,n&&da.tertiary),...o,children:a}),gge={...yJ,communityId:OB,communityContainer:LB,emailNotificationsType:IB,oidcIssuers:FB,geoindexService:MB,tileServer:NB,darkModeLogoStyle:DB,defaultCommunityName:kB},kn=()=>{const e=bi(rq);return V.useMemo(()=>({...gge,...e}),[e])},mge=()=>{const e=Yl(),t=kn();V.useEffect(()=>{window.updateAppConfig=n=>{e(oR.setConfig(n))},window.resetAppConfig=()=>{e(oR.resetConfig())}},[e]),V.useEffect(()=>{window.appConfig=t},[t])},yge="_logoContainer_16cvy_1",vge="_logo_16cvy_1",_ge="_focusedLogo_16cvy_10",wge="_unfocusedLogo_16cvy_13",bge="_darkInvert_16cvy_20",Ic={logoContainer:yge,logo:vge,focusedLogo:_ge,unfocusedLogo:wge,darkInvert:bge},m9=({logo:e,focusedLogo:t,name:n,className:r})=>{const{darkModeLogoStyle:i}=kn(),{i18n:a,_:o}=Jr();return!e&&!n?null:H.jsxs("div",{className:Ic.logoContainer,children:[e&&H.jsx("img",{src:e,className:Or(Ic.logo,i==="invert"&&Ic.darkInvert,t?Ic.unfocusedLogo:null,r),alt:n?a._({id:"2ZJVX8",values:{name:n}}):""}),t&&H.jsx("img",{src:t,className:Or(Ic.logo,i&&Ic.darkInvert,Ic.focusedLogo,r),alt:n?a._({id:"LShGrM",values:{name:n}}):""}),n?H.jsx("span",{children:n}):null]})},Sge={switch:"_switch_1g69w_1"},xge=()=>{const e=bi(EP),t=Yl(),{i18n:n,_:r}=Jr(),i=()=>{t(xP.toggleTheme())};return H.jsx("button",{className:Sge.switch,onClick:i,"aria-label":e==="dark"?n._({id:"e0IFR+"}):n._({id:"yNR1Vx"}),children:e==="dark"?H.jsx(ige,{}):H.jsx(rge,{})})},Ege={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Cge={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},Tge={schema:Ege,shape:"https://example.com/HospexCommunity",context:Cge};var Age=Lu();const Xp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",eg="http://www.w3.org/2001/XMLSchema#",Sx="http://www.w3.org/2000/10/swap/",Gi={xsd:{decimal:`${eg}decimal`,boolean:`${eg}boolean`,double:`${eg}double`,integer:`${eg}integer`,string:`${eg}string`},rdf:{type:`${Xp}type`,nil:`${Xp}nil`,first:`${Xp}first`,rest:`${Xp}rest`,langString:`${Xp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Sx}reify#forSome`,forAll:`${Sx}reify#forAll`},log:{implies:`${Sx}log#implies`}},{xsd:Vv}=Gi,Rge=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,vN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Pge=/[\x00-\x20<>\\"\{\}\|\^\`]/,Oge={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Lge=/$0^/;class Ige{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in Oge)&&this[n]instanceof RegExp&&(this[n]=Lge)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",m="",y="",v=null,_=0,x=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){x=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||Pge.test(m))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,m=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",m=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",m=v[0],y=typeof v[1]=="string"?Vv.double:typeof v[2]=="string"?Vv.decimal:Vv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():x=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",m=v[0],y=Vv.boolean):x=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",m="a"):x=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,m="="):(_=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:x=!0}if(x&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const b=_||v[0].length,S=a(h,m,y,c,b);this.previousToken=S,this._previousMarker=h,r=r.substr(b,r.length)}function a(s,l,c,d,h){const m=r?i-r.length:i,y=m+h,v={type:s,value:l,prefix:c,line:d,start:m,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(Rge,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in vN?vN[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")qq(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Age.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}const{rdf:Mge,xsd:tf}=Gi;let jh,Dge=0;const Kl={namedNode:v9,blankNode:_9,variable:b9,literal:w9,defaultGraph:jge,quad:mR,triple:mR,fromTerm:rm,fromQuad:S9};class Zo{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Zo?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let ms=class extends Zo{get termType(){return"NamedNode"}},v0=class y9 extends Zo{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new ms(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?tf.string:Mge.langString}equals(t){return t instanceof y9?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},kge=class extends Zo{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Nge=class extends Zo{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Fge=class extends Zo{constructor(){return super(""),jh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};jh=new Fge;function nm(e,t,n){if(t=t||Kl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Kl)return new v0(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(nm(e[0],t,!0),nm(e[1],t,!0),nm(e[2],t,!0),e[3]&&nm(e[3],t,!0))}function Fd(e,t){if(typeof e=="string")return e;if(e instanceof Zo&&e.termType!=="Quad")return e.id;if(!e)return jh.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==tf.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[Fd(e.subject,!0),Fd(e.predicate,!0),Fd(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&n.push(Fd(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let cs=class extends Zo{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||jh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function v9(e){return new ms(e)}function _9(e){return new kge(e||`n3-${Dge++}`)}function w9(e,t){if(typeof t=="string")return new v0(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=tf.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?tf.integer:tf.double:(n=tf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===tf.string?new v0(`"${e}"`):new v0(`"${e}"^^${n}`)}function b9(e){return new Nge(e)}function jge(){return jh}function mR(e,t,n,r){return new cs(e,t,n,r)}function rm(e){if(e instanceof Zo)return e;switch(e.termType){case"NamedNode":return v9(e.value);case"BlankNode":return _9(e.value);case"Variable":return b9(e.value);case"DefaultGraph":return jh;case"Literal":return w9(e.value,e.language||e.datatype);case"Quad":return S9(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function S9(e){if(e instanceof cs)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return mR(rm(e.subject),rm(e.predicate),rm(e.object),rm(e.graph))}let _N=0;class x9{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&E9(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Ige({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){_N=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=Kv}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){let i,a,o;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,o=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${_N++}_`,this._prefixCallback=a||Kv,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(d,h)=>{d?c=d:h&&l.push(h)},this._lexer.tokenize(t).every(d=>this._readCallback=this._readCallback(d)),c)throw c;return l}let s=(l,c)=>{l!==null?(this._callback(l),this._callback=Kv):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,s=(l,c)=>{l!==null?(this._callback(l),this._callback=Kv):this._readCallback&&(c.type==="comment"?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(t,s)}}function Kv(){}function E9(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Gi.rdf.first),e.RDF_REST=n(Gi.rdf.rest),e.RDF_NIL=n(Gi.rdf.nil),e.N3_FORALL=n(Gi.r.forAll),e.N3_FORSOME=n(Gi.r.forSome),e.ABBREVIATIONS={a:n(Gi.rdf.type),"=":n(Gi.owl.sameAs),">":n(Gi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}E9(x9.prototype,Kl);function yR(e){return!!e&&e.termType==="DefaultGraph"}const tg=Kl.defaultGraph(),{rdf:$ge,xsd:vd}=Gi,wN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,bN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Uge={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class ng extends Zo{equals(t){return t===this}}class C9{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=tg,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${xN(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return tg.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(tg.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let n="";for(const r of t)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),wN.test(n)&&(n=n.replace(bN,SN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(wN.test(n)&&(n=n.replace(bN,SN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===vd.string)return`"${n}"`}else switch(t.datatype.value){case vd.string:return`"${n}"`;case vd.boolean:if(n==="true"||n==="false")return n;break;case vd.integer:if(/^[+-]?\d+$/.test(n))return n;break;case vd.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case vd.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===$ge.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${yR(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,tg,i):this._writeQuad(t,n,r,i||tg,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=xN(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new ng("[]");case 1:if(i=r[0],!(i.object instanceof ng))return new ng(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new ng(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new ng(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function SN(e){let t=Uge[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function xN(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const xx=Symbol("iter");function pm(e,t,n=4){if(n===0)return Object.assign(e,t);for(const r in t)e[r]=pm(e[r]||Object.create(null),t[r],n-1);return e}function T9(e,t,n=4){let r=!1;for(const i in e)if(i in t){const a=n===0?null:T9(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function A9(e,t,n=4){let r=!1;for(const i in e)if(!(i in t))r=r||Object.create(null),r[i]=n===0?null:pm({},e[i],n-1);else if(n!==0){const a=A9(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class Bge{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Kl}_termFromId(t){if(t[0]==="."){const n=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return nm(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(yR(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Fd(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${yR(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Fd(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class xa{constructor(t,n){this._size=0,this._graphs=Object.create(null),!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Kl,this._entityIndex=n.entityIndex||new Bge({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const m=this._entities,y=this._termFromId(m[l]),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(m[_]),r&&((c=d,d={})[r]=c[r]);for(const x in d)if(h=d[x]){v[o]=this._termFromId(m[x]);const b=i?i in h?[i]:[]:Object.keys(h);for(let S=0;S<b.length;S++)v[s]=this._termFromId(m[b[S]]),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,t,n,r)?(this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,!0):!1}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||({subject:t,predicate:n,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Nh.Readable({objectMode:!0}),o=this.readQuads(t,n,r,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:c}=o.next();if(l){a.push(null);return}a.push(c)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new Cl(this,t,n,r,i,{entityIndex:this._entityIndex})}countQuads(t,n,r,i){const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o,this),!1),n,r,i,a)}every(t,n,r,i,a){return!this.some(o=>!t(o,this),n,r,i,a)}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Gi.rdf.rest,Gi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const m=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let x,b=null,S=null,A=null;for(let P=0;P<_.length&&!c;P++)x=_[P],x.graph.equals(m)?d?c=i(y,"has non-list arcs out"):x.predicate.value===Gi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):o.push(b=x):x.predicate.value===Gi.rdf.rest?S?c=i(y,"has multiple rdf:rest arcs"):o.push(S=x):v.length?c=i(y,"can't be subject and object"):(d=x,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)x=v[P],d?c=i(y,"can't have coreferences"):x.predicate.value===Gi.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=x:(d=x,h="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=A&&A.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}addAll(t){if(t instanceof Cl&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof xa&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=pm(this._graphs,t._graphs),this._size=null);else for(const n of t)this.add(n);return this}contains(t){if(t instanceof Cl&&(t=t.filtered),t===this)return!0;if(!(t instanceof xa)||this._entityIndex!==t._entityIndex)return t.every(c=>this.has(c));const n=this._graphs,r=t._graphs;let i,a,o,s,l;for(const c in r){if(!(i=n[c]))return!1;i=i.subjects;for(const d in a=r[c].subjects){if(!(o=i[d]))return!1;for(const h in s=a[d]){if(!(l=o[h]))return!1;for(const m in s[h])if(!(m in l))return!1}}}return!0}deleteMatches(t,n,r,i){for(const a of this.match(t,n,r,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof Cl&&(t=t.filtered),t===this)return new xa({entityIndex:this._entityIndex});if(t instanceof xa&&t._entityIndex===this._entityIndex){const n=new xa({entityIndex:this._entityIndex}),r=A9(this._graphs,t._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!t.has(n))}equals(t){return t instanceof Cl&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const n=new xa({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&n.add(r);return n}intersection(t){if(t instanceof Cl&&(t=t.filtered),t===this){const n=new xa({entityIndex:this._entityIndex});return n._graphs=pm(Object.create(null),this._graphs),n._size=this._size,n}else if(t instanceof xa&&this._entityIndex===t._entityIndex){const n=new xa({entityIndex:this._entityIndex}),r=T9(t._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>t.has(n))}map(t){const n=new xa({entityIndex:this._entityIndex});for(const r of this)n.add(t(r,this));return n}reduce(t,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new C9().quadsToString(this)}union(t){const n=new xa({entityIndex:this._entityIndex});return n._graphs=pm(Object.create(null),this._graphs),n._size=this._size,n.addAll(t),n}*[Symbol.iterator](){yield*this.readQuads()}}function ls(e,t,n=0){const r=t[n];if(r&&!(r in e))return!1;let i=!1;for(const a in r?{[r]:e[r]}:e){const o=n===2?null:ls(e[a],t,n+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class Cl extends Nh.Readable{constructor(t,n,r,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new xa({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,c;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||r&&!(c=o._termToNumericId(r)))return o;const d=t._getGraphs(n);for(const h in d){let m,y,v;!s&&l?(y=ls(d[h].predicates,[l,c,s]))&&(m=ls(d[h].subjects,[s,l,c]),v=ls(d[h].objects,[c,s,l])):c?(v=ls(d[h].objects,[c,s,l]))&&(m=ls(d[h].subjects,[s,l,c]),y=ls(d[h].predicates,[l,c,s])):(m=ls(d[h].subjects,[s,l,c]))&&(y=ls(d[h].predicates,[l,c,s]),v=ls(d[h].objects,[c,s,l])),m&&(o._graphs[h]={subjects:m,predicates:y,objects:v})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[xx]&&(this[xx]=this[Symbol.iterator]());const n=this[xx];for(;--t>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,n,r,i){return this.filtered.deleteMatches(t,n,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,n,r,i,a){return this.filtered.every(t,n,r,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,n,r,i,a){return this.filtered.forEach(t,n,r,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,n,r,i,a){return this.filtered.some(t,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,n){return this.filtered.reduce(t,n)}toString(){return new C9().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new Cl(this.filtered,t,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function EN(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var QP=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const qge=e=>(t,n)=>QP(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(t,{method:"GET"});return yield e(r.url,n)}),zge=e=>(t,n)=>QP(void 0,void 0,void 0,function*(){try{return yield e(t,n)}catch{return yield qge(e)(t,n)}}),vR=e=>{const t=new URL(e);return t.hash="",t.toString()},Hge=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],ZP=(e,t)=>QP(void 0,void 0,void 0,function*(){var n;let r=[],i="",a=-1,o=!1,s;try{const l=vR(e);return s=yield zge(t)(l,{headers:{accept:Hge.join(",")}}),o=s.ok,a=s.status,i=yield s.text(),r=Vge(i,{baseIRI:l,format:(n=s.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:EN(i),ok:o,statusCode:a,response:s}}catch{return o=!1,{data:r,rawData:i,hash:EN(i),ok:o,statusCode:a,response:s}}}),Vge=(e,t)=>{const n=new x9(t),r=Kl.namedNode(t.baseIRI);return n.parse(e).map(({subject:a,predicate:o,object:s})=>Kl.quad(a,o,s,r))},_0=e=>JSON.stringify(e.toJSON()),Mc=["subject","predicate","object","graph"],R9={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let yl=class extends ms{constructor(t){super(R9.variable+"/"+t),this.variable=t}static getVar(t){return t.value.split("/").pop()}};const Sn=Object.fromEntries(Object.entries(R9).map(([e,t])=>[e,new ms(t)]));class Kge{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let t="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);t+=r.concat(" ")+" ==> "+i.concat(" ")}),t}}add(t){var n,r,i;this.list.add(t),Object.values(t.from).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.provides)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.provides[o.value].add(t)})}),Object.values(t.to).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.providersOf)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.providersOf[o.value].add(t)})}),t.quad&&((n=(r=this.byQuad)[i=_0(t.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[_0(t.quad)].add(t))}remove(t){this.list.delete(t),Object.values(t.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(t)})}),Object.values(t.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(t)})}),t.quad&&this.byQuad[_0(t.quad)].delete(t)}}class CN{constructor(t,n,r=new xa){this.moves=new Kge,this.store=r,this.query=t,Object.entries(n).forEach(([i,a])=>{a.forEach(o=>{const s=new ms(o);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(t,n){var r;if(this.store.removeQuad(new cs(n,Sn.variable,new yl(t),Sn.meta)),n.termType==="NamedNode"){const o=new ms(vR(n.value));this.store.removeQuad(new cs(n,Sn.resource,o,Sn.meta)),this.store.removeQuads(this.store.getQuads(o,Sn.status,null,Sn.meta)),this.removeResource(o.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(o=>{var s;return Array.from((s=o.from[t])!==null&&s!==void 0?s:[]).some(l=>l.equals(n))});for(const o of a){const s=o.to;this.moves.remove(o);for(const l in s)s[l].forEach(c=>{var d;Array.from((d=this.moves.providersOf[c.value])!==null&&d!==void 0?d:new Set).filter(m=>{var y;return Array.from((y=m.to[l])!==null&&y!==void 0?y:[]).some(v=>v.equals(c))}).length===0&&this.removeVariable(l,c)})}}addResource(t,n,r="success"){const i=new ms(t),a=this.store.getQuads(null,null,null,i),[o,s]=Gge(n,a);o.forEach(h=>this.addQuad(h)),s.forEach(h=>this.removeQuad(h));const l=new cs(i,Sn.status,Sn.missing,Sn.meta),c=new cs(i,Sn.status,Sn.added,Sn.meta),d=new cs(i,Sn.status,Sn.failed,Sn.meta);this.store.removeQuads([l,c,d]),r==="success"&&this.store.addQuad(c),r==="error"&&this.store.addQuad(d)}addQuad(t){this.store.addQuad(t);const n=Object.fromEntries(Mc.map(a=>[a,this.store.getObjects(t[a],Sn.variable,Sn.meta)])),r=(a,o)=>{const s=a[o],l=t[o];return!!(!s||s.startsWith("?")&&n[o].some(c=>c.equals(new yl(s.slice(1))))||s===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>Mc.every(o=>r(a,o))).map(([a,o])=>[+a,o]);for(const[a,o]of i){const s={};for(const c of Mc){const d=o[c];d!=null&&d.startsWith("?")&&(s[d.slice(1)]=new Set([t[c]]))}const l={[o.target.slice(1)]:new Set([t[o.pick]])};this.moves.add({step:a,from:s,to:l,quad:t}),this.addVariable(o.target.slice(1),t[o.pick])}}removeResource(t){this.store.getQuads(null,null,null,new ms(t)).forEach(r=>this.removeQuad(r))}removeQuad(t){var n;this.store.removeQuad(t),((n=this.moves.byQuad[_0(t)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const o in a)a[o].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(c=>{var d;return Array.from((d=c.to[o])!==null&&d!==void 0?d:[]).some(h=>h.equals(s))}).length===0&&this.removeVariable(o,s)})})}hopFromVariable(t,n){const r=`?${t}`;this.query.map((a,o)=>[a,o]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&Mc.some(o=>a[o]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,o])=>{var s;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:o}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(d,h)=>{let m=new Set;const y=d[h];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new ms(y));else if(y.slice(1)===t)m.add(n);else{const v=this.store.getSubjects(Sn.variable,new yl(y.slice(1)),Sn.meta);m=new Set(v)}return m},c=Object.fromEntries(Mc.map(d=>[d,l(a,d)]));for(const d of c.subject)for(const h of c.predicate)for(const m of c.object)for(const y of c.graph){const v=this.store.getQuads(d,h,m,y);for(const _ of v){const x=a.target.slice(1),b=_[a.pick],S={};for(const P of Mc)!((s=a[P])===null||s===void 0)&&s.startsWith("?")&&(S[a[P].slice(1)]=new Set([_[P]]));const A={[x]:new Set([b])};this.moves.add({from:S,to:A,step:o,quad:_}),this.addVariable(x,b)}}}})}addVariable(t,n){if(this.store.has(new cs(n,Sn.variable,new yl(t),Sn.meta)))return;this.store.addQuads([new cs(n,Sn.variable,new yl(t),Sn.meta)]);let r;n.termType==="NamedNode"&&(r=new ms(vR(n.value)),this.store.addQuads([new cs(n,Sn.resource,r,Sn.meta)]));const i=`?${t}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),o=this.query.some(l=>typeof l!="function"&&l.type==="match"&&Mc.some(c=>l[c]===i));r&&(a||o)&&this.store.match(r,Sn.status,null,Sn.meta).size===0&&this.store.addQuad(r,Sn.status,Sn.missing,Sn.meta),this.hopFromVariable(t,n)}getVariable(t){return this.store.getSubjects(Sn.variable,new yl(t),Sn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,Sn.variable,null,Sn.meta).reduce((t,n)=>{var r,i;return(r=t[i=yl.getVar(n.object)])!==null&&r!==void 0||(t[i]=new Set),t[yl.getVar(n.object)].add(n.subject.value),t},{})}getResources(t){if(!t)return this.store.getObjects(null,Sn.resource,Sn.meta).map(r=>r.value);const n=t==="missing"?Sn.missing:t==="failed"?Sn.failed:Sn.added;return this.store.getSubjects(Sn.status,n,Sn.meta).map(r=>r.value)}}const Gge=(e,t)=>{if(t.length===0)return[e,[]];if(e.length===0)return[[],t];const n=e.filter(i=>!t.some(a=>i.equals(a))),r=t.filter(i=>!e.some(a=>i.equals(a)));return[n,r]};var Ex,TN;function Wge(){if(TN)return Ex;TN=1;function e(){this.__data__=[],this.size=0}return Ex=e,Ex}var Cx,AN;function sy(){if(AN)return Cx;AN=1;function e(t,n){return t===n||t!==t&&n!==n}return Cx=e,Cx}var Tx,RN;function $w(){if(RN)return Tx;RN=1;var e=sy();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Tx=t,Tx}var Ax,PN;function Qge(){if(PN)return Ax;PN=1;var e=$w(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return Ax=r,Ax}var Rx,ON;function Zge(){if(ON)return Rx;ON=1;var e=$w();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Rx=t,Rx}var Px,LN;function Jge(){if(LN)return Px;LN=1;var e=$w();function t(n){return e(this.__data__,n)>-1}return Px=t,Px}var Ox,IN;function Yge(){if(IN)return Ox;IN=1;var e=$w();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Ox=t,Ox}var Lx,MN;function Uw(){if(MN)return Lx;MN=1;var e=Wge(),t=Qge(),n=Zge(),r=Jge(),i=Yge();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Lx=a,Lx}var Ix,DN;function Xge(){if(DN)return Ix;DN=1;var e=Uw();function t(){this.__data__=new e,this.size=0}return Ix=t,Ix}var Mx,kN;function eme(){if(kN)return Mx;kN=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Mx=e,Mx}var Dx,NN;function tme(){if(NN)return Dx;NN=1;function e(t){return this.__data__.get(t)}return Dx=e,Dx}var kx,FN;function nme(){if(FN)return kx;FN=1;function e(t){return this.__data__.has(t)}return kx=e,kx}var Nx,jN;function P9(){if(jN)return Nx;jN=1;var e=typeof Zg=="object"&&Zg&&Zg.Object===Object&&Zg;return Nx=e,Nx}var Fx,$N;function Jo(){if($N)return Fx;$N=1;var e=P9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Fx=n,Fx}var jx,UN;function $h(){if(UN)return jx;UN=1;var e=Jo(),t=e.Symbol;return jx=t,jx}var $x,BN;function rme(){if(BN)return $x;BN=1;var e=$h(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=r.call(o);return c&&(s?o[i]=l:delete o[i]),d}return $x=a,$x}var Ux,qN;function ime(){if(qN)return Ux;qN=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ux=n,Ux}var Bx,zN;function Uh(){if(zN)return Bx;zN=1;var e=$h(),t=rme(),n=ime(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return Bx=o,Bx}var qx,HN;function So(){if(HN)return qx;HN=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return qx=e,qx}var zx,VN;function JP(){if(VN)return zx;VN=1;var e=Uh(),t=So(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return zx=o,zx}var Hx,KN;function ame(){if(KN)return Hx;KN=1;var e=Jo(),t=e["__core-js_shared__"];return Hx=t,Hx}var Vx,GN;function ome(){if(GN)return Vx;GN=1;var e=ame(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Vx=n,Vx}var Kx,WN;function O9(){if(WN)return Kx;WN=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Kx=n,Kx}var Gx,QN;function sme(){if(QN)return Gx;QN=1;var e=JP(),t=ome(),n=So(),r=O9(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||t(m))return!1;var y=e(m)?d:a;return y.test(r(m))}return Gx=h,Gx}var Wx,ZN;function ume(){if(ZN)return Wx;ZN=1;function e(t,n){return t==null?void 0:t[n]}return Wx=e,Wx}var Qx,JN;function If(){if(JN)return Qx;JN=1;var e=sme(),t=ume();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return Qx=n,Qx}var Zx,YN;function YP(){if(YN)return Zx;YN=1;var e=If(),t=Jo(),n=e(t,"Map");return Zx=n,Zx}var Jx,XN;function Bw(){if(XN)return Jx;XN=1;var e=If(),t=e(Object,"create");return Jx=t,Jx}var Yx,e3;function lme(){if(e3)return Yx;e3=1;var e=Bw();function t(){this.__data__=e?e(null):{},this.size=0}return Yx=t,Yx}var Xx,t3;function cme(){if(t3)return Xx;t3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Xx=e,Xx}var eE,n3;function fme(){if(n3)return eE;n3=1;var e=Bw(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return eE=i,eE}var tE,r3;function dme(){if(r3)return tE;r3=1;var e=Bw(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return tE=r,tE}var nE,i3;function hme(){if(i3)return nE;i3=1;var e=Bw(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return nE=n,nE}var rE,a3;function pme(){if(a3)return rE;a3=1;var e=lme(),t=cme(),n=fme(),r=dme(),i=hme();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,rE=a,rE}var iE,o3;function gme(){if(o3)return iE;o3=1;var e=pme(),t=Uw(),n=YP();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return iE=r,iE}var aE,s3;function mme(){if(s3)return aE;s3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return aE=e,aE}var oE,u3;function qw(){if(u3)return oE;u3=1;var e=mme();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return oE=t,oE}var sE,l3;function yme(){if(l3)return sE;l3=1;var e=qw();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return sE=t,sE}var uE,c3;function vme(){if(c3)return uE;c3=1;var e=qw();function t(n){return e(this,n).get(n)}return uE=t,uE}var lE,f3;function _me(){if(f3)return lE;f3=1;var e=qw();function t(n){return e(this,n).has(n)}return lE=t,lE}var cE,d3;function wme(){if(d3)return cE;d3=1;var e=qw();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return cE=t,cE}var fE,h3;function XP(){if(h3)return fE;h3=1;var e=gme(),t=yme(),n=vme(),r=_me(),i=wme();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,fE=a,fE}var dE,p3;function bme(){if(p3)return dE;p3=1;var e=Uw(),t=YP(),n=XP(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return dE=i,dE}var hE,g3;function zw(){if(g3)return hE;g3=1;var e=Uw(),t=Xge(),n=eme(),r=tme(),i=nme(),a=bme();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,hE=o,hE}var pE,m3;function Sme(){if(m3)return pE;m3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return pE=t,pE}var gE,y3;function xme(){if(y3)return gE;y3=1;function e(t){return this.__data__.has(t)}return gE=e,gE}var mE,v3;function Eme(){if(v3)return mE;v3=1;var e=XP(),t=Sme(),n=xme();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,mE=r,mE}var yE,_3;function Cme(){if(_3)return yE;_3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return yE=e,yE}var vE,w3;function Tme(){if(w3)return vE;w3=1;function e(t,n){return t.has(n)}return vE=e,vE}var _E,b3;function L9(){if(b3)return _E;b3=1;var e=Eme(),t=Cme(),n=Tme(),r=1,i=2;function a(o,s,l,c,d,h){var m=l&r,y=o.length,v=s.length;if(y!=v&&!(m&&v>y))return!1;var _=h.get(o),x=h.get(s);if(_&&x)return _==s&&x==o;var b=-1,S=!0,A=l&i?new e:void 0;for(h.set(o,s),h.set(s,o);++b<y;){var P=o[b],O=s[b];if(c)var D=m?c(O,P,b,s,o,h):c(P,O,b,o,s,h);if(D!==void 0){if(D)continue;S=!1;break}if(A){if(!t(s,function(F,Q){if(!n(A,Q)&&(P===F||d(P,F,l,c,h)))return A.push(Q)})){S=!1;break}}else if(!(P===O||d(P,O,l,c,h))){S=!1;break}}return h.delete(o),h.delete(s),S}return _E=a,_E}var wE,S3;function I9(){if(S3)return wE;S3=1;var e=Jo(),t=e.Uint8Array;return wE=t,wE}var bE,x3;function Ame(){if(x3)return bE;x3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return bE=e,bE}var SE,E3;function Rme(){if(E3)return SE;E3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return SE=e,SE}var xE,C3;function Pme(){if(C3)return xE;C3=1;var e=$h(),t=I9(),n=sy(),r=L9(),i=Ame(),a=Rme(),o=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",_="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",A=e?e.prototype:void 0,P=A?A.valueOf:void 0;function O(D,F,Q,X,U,Y,ce){switch(Q){case S:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case b:return!(D.byteLength!=F.byteLength||!Y(new t(D),new t(F)));case l:case c:case m:return n(+D,+F);case d:return D.name==F.name&&D.message==F.message;case y:case _:return D==F+"";case h:var te=i;case v:var se=X&o;if(te||(te=a),D.size!=F.size&&!se)return!1;var pe=ce.get(D);if(pe)return pe==F;X|=s,ce.set(D,F);var _e=r(te(D),te(F),X,U,Y,ce);return ce.delete(D),_e;case x:if(P)return P.call(D)==P.call(F)}return!1}return xE=O,xE}var EE,T3;function eO(){if(T3)return EE;T3=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return EE=e,EE}var CE,A3;function Yo(){if(A3)return CE;A3=1;var e=Array.isArray;return CE=e,CE}var TE,R3;function M9(){if(R3)return TE;R3=1;var e=eO(),t=Yo();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return TE=n,TE}var AE,P3;function D9(){if(P3)return AE;P3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return AE=e,AE}var RE,O3;function k9(){if(O3)return RE;O3=1;function e(){return[]}return RE=e,RE}var PE,L3;function tO(){if(L3)return PE;L3=1;var e=D9(),t=k9(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return PE=a,PE}var OE,I3;function N9(){if(I3)return OE;I3=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return OE=e,OE}var LE,M3;function Mu(){if(M3)return LE;M3=1;function e(t){return t!=null&&typeof t=="object"}return LE=e,LE}var IE,D3;function Ome(){if(D3)return IE;D3=1;var e=Uh(),t=Mu(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return IE=r,IE}var ME,k3;function Hw(){if(k3)return ME;k3=1;var e=Ome(),t=Mu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return ME=a,ME}var im={exports:{}},DE,N3;function Lme(){if(N3)return DE;N3=1;function e(){return!1}return DE=e,DE}im.exports;var F3;function Vw(){return F3||(F3=1,function(e,t){var n=Jo(),r=Lme(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c}(im,im.exports)),im.exports}var kE,j3;function Kw(){if(j3)return kE;j3=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return kE=n,kE}var NE,$3;function nO(){if($3)return NE;$3=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return NE=t,NE}var FE,U3;function Ime(){if(U3)return FE;U3=1;var e=Uh(),t=nO(),n=Mu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",_="[object WeakMap]",x="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",Q="[object Uint8ClampedArray]",X="[object Uint16Array]",U="[object Uint32Array]",Y={};Y[S]=Y[A]=Y[P]=Y[O]=Y[D]=Y[F]=Y[Q]=Y[X]=Y[U]=!0,Y[r]=Y[i]=Y[x]=Y[a]=Y[b]=Y[o]=Y[s]=Y[l]=Y[c]=Y[d]=Y[h]=Y[m]=Y[y]=Y[v]=Y[_]=!1;function ce(te){return n(te)&&t(te.length)&&!!Y[e(te)]}return FE=ce,FE}var jE,B3;function rO(){if(B3)return jE;B3=1;function e(t){return function(n){return t(n)}}return jE=e,jE}var am={exports:{}};am.exports;var q3;function iO(){return q3||(q3=1,function(e,t){var n=P9(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(am,am.exports)),am.exports}var $E,z3;function aO(){if(z3)return $E;z3=1;var e=Ime(),t=rO(),n=iO(),r=n&&n.isTypedArray,i=r?t(r):e;return $E=i,$E}var UE,H3;function F9(){if(H3)return UE;H3=1;var e=N9(),t=Hw(),n=Yo(),r=Vw(),i=Kw(),a=aO(),o=Object.prototype,s=o.hasOwnProperty;function l(c,d){var h=n(c),m=!h&&t(c),y=!h&&!m&&r(c),v=!h&&!m&&!y&&a(c),_=h||m||y||v,x=_?e(c.length,String):[],b=x.length;for(var S in c)(d||s.call(c,S))&&!(_&&(S=="length"||y&&(S=="offset"||S=="parent")||v&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,b)))&&x.push(S);return x}return UE=l,UE}var BE,V3;function oO(){if(V3)return BE;V3=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return BE=t,BE}var qE,K3;function j9(){if(K3)return qE;K3=1;function e(t,n){return function(r){return t(n(r))}}return qE=e,qE}var zE,G3;function Mme(){if(G3)return zE;G3=1;var e=j9(),t=e(Object.keys,Object);return zE=t,zE}var HE,W3;function Dme(){if(W3)return HE;W3=1;var e=oO(),t=Mme(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return HE=i,HE}var VE,Q3;function Gw(){if(Q3)return VE;Q3=1;var e=JP(),t=nO();function n(r){return r!=null&&t(r.length)&&!e(r)}return VE=n,VE}var KE,Z3;function uy(){if(Z3)return KE;Z3=1;var e=F9(),t=Dme(),n=Gw();function r(i){return n(i)?e(i):t(i)}return KE=r,KE}var GE,J3;function $9(){if(J3)return GE;J3=1;var e=M9(),t=tO(),n=uy();function r(i){return e(i,n,t)}return GE=r,GE}var WE,Y3;function kme(){if(Y3)return WE;Y3=1;var e=$9(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,d){var h=s&t,m=e(a),y=m.length,v=e(o),_=v.length;if(y!=_&&!h)return!1;for(var x=y;x--;){var b=m[x];if(!(h?b in o:r.call(o,b)))return!1}var S=d.get(a),A=d.get(o);if(S&&A)return S==o&&A==a;var P=!0;d.set(a,o),d.set(o,a);for(var O=h;++x<y;){b=m[x];var D=a[b],F=o[b];if(l)var Q=h?l(F,D,b,o,a,d):l(D,F,b,a,o,d);if(!(Q===void 0?D===F||c(D,F,s,l,d):Q)){P=!1;break}O||(O=b=="constructor")}if(P&&!O){var X=a.constructor,U=o.constructor;X!=U&&"constructor"in a&&"constructor"in o&&!(typeof X=="function"&&X instanceof X&&typeof U=="function"&&U instanceof U)&&(P=!1)}return d.delete(a),d.delete(o),P}return WE=i,WE}var QE,X3;function Nme(){if(X3)return QE;X3=1;var e=If(),t=Jo(),n=e(t,"DataView");return QE=n,QE}var ZE,eF;function Fme(){if(eF)return ZE;eF=1;var e=If(),t=Jo(),n=e(t,"Promise");return ZE=n,ZE}var JE,tF;function jme(){if(tF)return JE;tF=1;var e=If(),t=Jo(),n=e(t,"Set");return JE=n,JE}var YE,nF;function $me(){if(nF)return YE;nF=1;var e=If(),t=Jo(),n=e(t,"WeakMap");return YE=n,YE}var XE,rF;function Ww(){if(rF)return XE;rF=1;var e=Nme(),t=YP(),n=Fme(),r=jme(),i=$me(),a=Uh(),o=O9(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",y=o(e),v=o(t),_=o(n),x=o(r),b=o(i),S=a;return(e&&S(new e(new ArrayBuffer(1)))!=m||t&&S(new t)!=s||n&&S(n.resolve())!=c||r&&S(new r)!=d||i&&S(new i)!=h)&&(S=function(A){var P=a(A),O=P==l?A.constructor:void 0,D=O?o(O):"";if(D)switch(D){case y:return m;case v:return s;case _:return c;case x:return d;case b:return h}return P}),XE=S,XE}var e2,iF;function Ume(){if(iF)return e2;iF=1;var e=zw(),t=L9(),n=Pme(),r=kme(),i=Ww(),a=Yo(),o=Vw(),s=aO(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function v(_,x,b,S,A,P){var O=a(_),D=a(x),F=O?d:i(_),Q=D?d:i(x);F=F==c?h:F,Q=Q==c?h:Q;var X=F==h,U=Q==h,Y=F==Q;if(Y&&o(_)){if(!o(x))return!1;O=!0,X=!1}if(Y&&!X)return P||(P=new e),O||s(_)?t(_,x,b,S,A,P):n(_,x,F,b,S,A,P);if(!(b&l)){var ce=X&&y.call(_,"__wrapped__"),te=U&&y.call(x,"__wrapped__");if(ce||te){var se=ce?_.value():_,pe=te?x.value():x;return P||(P=new e),A(se,pe,b,S,P)}}return Y?(P||(P=new e),r(_,x,b,S,A,P)):!1}return e2=v,e2}var t2,aF;function sO(){if(aF)return t2;aF=1;var e=Ume(),t=Mu();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return t2=n,t2}var n2,oF;function Bme(){if(oF)return n2;oF=1;var e=sO();function t(n,r){return e(n,r)}return n2=t,n2}var qme=Bme();const U9=Lr(qme);var r2,sF;function B9(){if(sF)return r2;sF=1;var e=If(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return r2=t,r2}var i2,uF;function Qw(){if(uF)return i2;uF=1;var e=B9();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return i2=t,i2}var a2,lF;function zme(){if(lF)return a2;lF=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++a];if(r(o[c],c,o)===!1)break}return n}}return a2=e,a2}var o2,cF;function q9(){if(cF)return o2;cF=1;var e=zme(),t=e();return o2=t,o2}var s2,fF;function Hme(){if(fF)return s2;fF=1;var e=q9(),t=uy();function n(r,i){return r&&e(r,i,t)}return s2=n,s2}var u2,dF;function Vme(){if(dF)return u2;dF=1;var e=zw(),t=sO(),n=1,r=2;function i(a,o,s,l){var c=s.length,d=c,h=!l;if(a==null)return!d;for(a=Object(a);c--;){var m=s[c];if(h&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++c<d;){m=s[c];var y=m[0],v=a[y],_=m[1];if(h&&m[2]){if(v===void 0&&!(y in a))return!1}else{var x=new e;if(l)var b=l(v,_,y,a,o,x);if(!(b===void 0?t(_,v,n|r,l,x):b))return!1}}return!0}return u2=i,u2}var l2,hF;function z9(){if(hF)return l2;hF=1;var e=So();function t(n){return n===n&&!e(n)}return l2=t,l2}var c2,pF;function Kme(){if(pF)return c2;pF=1;var e=z9(),t=uy();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,e(s)]}return i}return c2=n,c2}var f2,gF;function H9(){if(gF)return f2;gF=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return f2=e,f2}var d2,mF;function Gme(){if(mF)return d2;mF=1;var e=Vme(),t=Kme(),n=H9();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return d2=r,d2}var h2,yF;function ly(){if(yF)return h2;yF=1;var e=Uh(),t=Mu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return h2=r,h2}var p2,vF;function uO(){if(vF)return p2;vF=1;var e=Yo(),t=ly(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return p2=i,p2}var g2,_F;function Wme(){if(_F)return g2;_F=1;var e=XP(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,g2=n,g2}var m2,wF;function Qme(){if(wF)return m2;wF=1;var e=Wme(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return m2=n,m2}var y2,bF;function Zme(){if(bF)return y2;bF=1;var e=Qme(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return y2=r,y2}var v2,SF;function Zw(){if(SF)return v2;SF=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return v2=e,v2}var _2,xF;function Jme(){if(xF)return _2;xF=1;var e=$h(),t=Zw(),n=Yo(),r=ly(),i=1/0,a=e?e.prototype:void 0,o=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return _2=s,_2}var w2,EF;function Yme(){if(EF)return w2;EF=1;var e=Jme();function t(n){return n==null?"":e(n)}return w2=t,w2}var b2,CF;function Bh(){if(CF)return b2;CF=1;var e=Yo(),t=uO(),n=Zme(),r=Yme();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return b2=i,b2}var S2,TF;function qh(){if(TF)return S2;TF=1;var e=ly(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return S2=n,S2}var x2,AF;function Jw(){if(AF)return x2;AF=1;var e=Bh(),t=qh();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return x2=n,x2}var E2,RF;function Xme(){if(RF)return E2;RF=1;var e=Jw();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return E2=t,E2}var C2,PF;function eye(){if(PF)return C2;PF=1;function e(t,n){return t!=null&&n in Object(t)}return C2=e,C2}var T2,OF;function tye(){if(OF)return T2;OF=1;var e=Bh(),t=Hw(),n=Yo(),r=Kw(),i=nO(),a=qh();function o(s,l,c){l=e(l,s);for(var d=-1,h=l.length,m=!1;++d<h;){var y=a(l[d]);if(!(m=s!=null&&c(s,y)))break;s=s[y]}return m||++d!=h?m:(h=s==null?0:s.length,!!h&&i(h)&&r(y,h)&&(n(s)||t(s)))}return T2=o,T2}var A2,LF;function V9(){if(LF)return A2;LF=1;var e=eye(),t=tye();function n(r,i){return r!=null&&t(r,i,e)}return A2=n,A2}var R2,IF;function nye(){if(IF)return R2;IF=1;var e=sO(),t=Xme(),n=V9(),r=uO(),i=z9(),a=H9(),o=qh(),s=1,l=2;function c(d,h){return r(d)&&i(h)?a(o(d),h):function(m){var y=t(m,d);return y===void 0&&y===h?n(m,d):e(h,y,s|l)}}return R2=c,R2}var P2,MF;function lO(){if(MF)return P2;MF=1;function e(t){return t}return P2=e,P2}var O2,DF;function K9(){if(DF)return O2;DF=1;function e(t){return function(n){return n==null?void 0:n[t]}}return O2=e,O2}var L2,kF;function rye(){if(kF)return L2;kF=1;var e=Jw();function t(n){return function(r){return e(r,n)}}return L2=t,L2}var I2,NF;function iye(){if(NF)return I2;NF=1;var e=K9(),t=rye(),n=uO(),r=qh();function i(a){return n(a)?e(r(a)):t(a)}return I2=i,I2}var M2,FF;function cO(){if(FF)return M2;FF=1;var e=Gme(),t=nye(),n=lO(),r=Yo(),i=iye();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return M2=a,M2}var D2,jF;function aye(){if(jF)return D2;jF=1;var e=Qw(),t=Hme(),n=cO();function r(i,a){var o={};return a=n(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return D2=r,D2}var oye=aye();const $F=Lr(oye);var sye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const uye=()=>({}),lye=(e,t)=>{if(e.length!==t.length)return!1;const n=new Set(e);return t.every(r=>n.has(r))},ga=({query:e,variables:t,fetch:n,getQueryKey:r=o=>["rdfDocument",o],staleTime:i=1/0,getAdditionalData:a=uye})=>{const o=V.useMemo(()=>$F(t,F=>new Set(F)),[t]),[s,l]=V.useState([]),[c,d]=V.useState({}),[h,m]=V.useState(new As),[y,v]=V.useState([]),[_,x]=V.useState(!1),b=V.useCallback(F=>{var Q;return Object.assign(Object.assign({},(Q=a(F))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(F.map((X,U)=>[s[U],X==null?void 0:X.data])),pending:F.some(X=>X.isPending)})},[a,s]),S=Sm({queries:s.map(F=>({queryKey:r(F),queryFn:()=>ZP(F,n),staleTime:i})),combine:b}),A=V.useRef(new CN(e,o)),P=V.useRef(S.data);V.useEffect(()=>{A.current=new CN(e,o);const F=A.current.getMissingResources();l(F),m(A.current.store),P.current={}},[e,o]),V.useEffect(()=>{if(!S)return;for(const U in S.data){const Y=S.data[U];if(!Y)continue;const ce=P.current[U];(ce==null?void 0:ce.hash)!==Y.hash&&A.current.addResource(U,Y.data,Y.ok?"success":"error")}const F=A.current.getMissingResources();x(F.length>0),l(U=>{const Y=[];for(const ce of F)U.includes(ce)||Y.push(ce);return Y.length===0?U:Y.concat(U)});const Q=$F(A.current.getAllVariables(),U=>Array.from(U));d(U=>U9(Q,U)?U:Q),m(A.current.store);const X=[...A.current.store];v(U=>lye(U,X)?U:X),P.current=S.data},[S]);const O=S,D=sye(O,["data","pending"]);return V.useMemo(()=>Object.assign({store:h,quads:y,variables:c,qas:A.current,isLoading:S==null?void 0:S.pending,isMissing:_},D),[_,y,h,c,D,S==null?void 0:S.pending])};var rg={},ig={},Gv={},Dc={},ag={},Wv={},og={},k2={},N2={},Ai={},sg={},ug={},UF;function G9(){if(UF)return ug;UF=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.BlankNode=void 0;let e=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return ug.BlankNode=e,ug}var lg={},cg={},BF;function W9(){if(BF)return cg;BF=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return cg.DefaultGraph=e,e.INSTANCE=new e,cg}var fg={},dg={},qF;function fO(){if(qF)return dg;qF=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.NamedNode=void 0;let e=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return dg.NamedNode=e,dg}var zF;function Q9(){if(zF)return fg;zF=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.Literal=void 0;const e=fO();let t=class _R{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=_R.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=_R.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return fg.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),fg}var hg={},HF;function Z9(){if(HF)return hg;HF=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.Quad=void 0;let e=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return hg.Quad=e,hg}var pg={},VF;function J9(){if(VF)return pg;VF=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.Variable=void 0;let e=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return pg.Variable=e,pg}var KF;function cye(){if(KF)return lg;KF=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.DataFactory=void 0;const e=G9(),t=W9(),n=Q9(),r=fO(),i=Z9(),a=J9();let o=0,s=class{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${o++}_`}namedNode(c){return new r.NamedNode(c)}blankNode(c){return new e.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,d){return new n.Literal(c,d)}variable(c){return new a.Variable(c)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(c,d,h,m){return new i.Quad(c,d,h,m||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(n.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return lg.DataFactory=s,lg}var GF;function fye(){return GF||(GF=1,function(e){var t=sg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=sg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(G9(),e),n(cye(),e),n(W9(),e),n(Q9(),e),n(fO(),e),n(Z9(),e),n(J9(),e)}(sg)),sg}var WF;function dye(){if(WF)return Ai;WF=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.stringQuadToQuad=Ai.quadToStringQuad=Ai.stringToTerm=Ai.getLiteralLanguage=Ai.getLiteralType=Ai.getLiteralValue=Ai.termToString=void 0;const e=fye(),t=new e.DataFactory;function n(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"");case"Quad":return`<<${n(c.subject)} ${n(c.predicate)} ${n(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+n(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}Ai.termToString=n;function r(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}Ai.getLiteralValue=r;function i(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ai.getLiteralType=i;function a(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]?d[1].toLowerCase():""}Ai.getLiteralLanguage=a;function o(c,d){if(d=d||t,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const h=a(c),m=d.namedNode(i(c));return d.literal(r(c),h||m);case"<":default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const y=c.slice(2,-2).trim();let v=[],_=0,x=0,b=!1;for(let S=0;S<y.length;S++){const A=y[S];if(A==="<"&&_++,A===">"){if(_===0)throw new Error("Found closing tag without opening tag in "+c);_--}if(A==='"'){let P=!1,O=S;for(;O-- >0&&y[O]==="\\";)P=!P;P||(b=!b)}if(A===" "&&!b&&_===0){for(v.push(y.slice(x,S));y[S+1]===" ";)S+=1;x=S+1}}if(_!==0)throw new Error("Found opening tag without closing tag in "+c);if(v.push(y.slice(x,y.length)),v.length!==3&&v.length!==4)throw new Error("Nested quad syntax error "+c);return v=v.map(S=>S.startsWith("<")&&!S.includes(" ")?S.slice(1,-1):S),d.quad(o(v[0]),o(v[1]),o(v[2]),v[3]?o(v[3]):void 0)}return d.namedNode(c)}}Ai.stringToTerm=o;function s(c){return{subject:n(c.subject),predicate:n(c.predicate),object:n(c.object),graph:n(c.graph)}}Ai.quadToStringQuad=s;function l(c,d){return d=d||t,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return Ai.stringQuadToQuad=l,Ai}var QF;function hye(){return QF||(QF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=dye();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(N2)),N2}var ZF;function pye(){return ZF||(ZF=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToQuadMatch=e.stringToQuad=e.stringToNode=e.stringToGraphNode=e.stringToObjectNode=e.stringToPredicateNode=e.stringToSubjectNode=e.quadMatchToString=e.quadToString=e.nodeToString=e.grpahNodeToString=e.objectNodeToString=e.predicateNodeToString=e.subjectNodeToString=e.AnyTermTypes=e.GraphTermTypes=e.ObjectTermTypes=e.PredicateTermTypes=e.SubjectTermTypes=void 0;const t=hye();e.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),e.PredicateTermTypes=new Set(["NamedNode"]),e.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),e.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),e.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(x){return o(x)}e.subjectNodeToString=n;function r(x){return o(x)}e.predicateNodeToString=r;function i(x){return o(x)}e.objectNodeToString=i;function a(x){return o(x)}e.grpahNodeToString=a;function o(x){return(0,t.termToString)(x)}e.nodeToString=o;function s(x){return JSON.stringify((0,t.quadToStringQuad)(x))}e.quadToString=s;function l(x){return JSON.stringify({subject:x[0]?n(x[0]):void 0,predicate:x[1]?r(x[1]):void 0,object:x[2]?i(x[2]):void 0,graph:x[3]?a(x[3]):void 0})}e.quadMatchToString=l;function c(x){return y(x,e.SubjectTermTypes)}e.stringToSubjectNode=c;function d(x){return y(x,e.PredicateTermTypes)}e.stringToPredicateNode=d;function h(x){return y(x,e.ObjectTermTypes)}e.stringToObjectNode=h;function m(x){return y(x,e.GraphTermTypes)}e.stringToGraphNode=m;function y(x,b){const S=(0,t.stringToTerm)(x);if(b&&!b.has(S.termType))throw new Error(`Expected term to be one of term type: [${Array.from(b).reduce((A,P)=>`${A}${P}, `,"")}], but got ${S.termType}.`);return S}e.stringToNode=y;function v(x){try{return(0,t.stringQuadToQuad)(JSON.parse(x))}catch{throw new Error("Invalid Quad String")}}e.stringToQuad=v;function _(x){try{const b=JSON.parse(x);return[b.subject!=null?c(b.subject):void 0,b.predicate!=null?d(b.predicate):void 0,b.object!=null?h(b.object):void 0,b.graph!=null?m(b.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}e.stringToQuadMatch=_}(k2)),k2}var gg={},F2,JF;function gye(){if(JF)return F2;JF=1;class e{constructor(n){this.value=n||"b"+ ++e.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,F2=e,F2}var j2,YF;function Y9(){if(YF)return j2;YF=1;class e{equals(n){return!!n&&n.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",j2=e,j2}var $2,XF;function mye(){if(XF)return $2;XF=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const n=this.fromTerm(t.subject),r=this.fromTerm(t.predicate),i=this.fromTerm(t.object),a=this.fromTerm(t.graph);return this.quad(n,r,i,a)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return $2=e,$2}var U2,ej;function X9(){if(ej)return U2;ej=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="NamedNode",U2=e,U2}var B2,tj;function yye(){if(tj)return B2;tj=1;const e=X9();class t{constructor(r,i,a){this.value=r,this.datatype=t.stringDatatype,this.language="",i?(this.language=i,this.datatype=t.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),B2=t,B2}var q2,nj;function vye(){if(nj)return q2;nj=1;const e=Y9();class t{constructor(r,i,a,o){this.subject=r,this.predicate=i,this.object=a,o?this.graph=o:this.graph=new e}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",q2=t,q2}var z2,rj;function _ye(){if(rj)return z2;rj=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="Variable",z2=e,z2}var H2,ij;function wye(){if(ij)return H2;ij=1;const e=gye(),t=Y9(),n=mye(),r=yye(),i=X9(),a=vye(),o=_ye();function s(b){return new i(b)}function l(b){return new e(b)}function c(b,S){return typeof S=="string"?S.indexOf(":")===-1?new r(b,S):new r(b,null,x.namedNode(S)):new r(b,null,S)}function d(b){return new o(b)}function h(){return x.defaultGraphInstance}function m(b,S,A){return x.quad(b,S,A)}function y(b,S,A,P){return new a(b,S,A,P||x.defaultGraphInstance)}function v(b){return n.call(x,b)}function _(b){return n.call(x,b)}const x={namedNode:s,blankNode:l,literal:c,variable:d,defaultGraph:h,triple:m,quad:y,fromTerm:v,fromQuad:_,defaultGraphInstance:new t};return H2=x,H2}var V2,aj;function $i(){return aj||(aj=1,V2=wye()),V2}var kc={};const ez=zU(cne);var oj;function tz(){if(oj)return kc;oj=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.datasetToJsonLd=kc.datasetToString=void 0;const e=ez;function t(r,i){const a=new e.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}kc.datasetToString=t;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return kc.datasetToJsonLd=n,kc}var sj;function bye(){if(sj)return gg;sj=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.changesToSparqlUpdate=void 0;const e=$i(),t=tz();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return gg.changesToSparqlUpdate=n,gg}var mg={},uj;function Sye(){if(uj)return mg;uj=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.serializedToQuads=void 0;const e=ez;async function t(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new e.Parser(r).parse(n)}return mg.serializedToQuads=t,mg}var lj;function cy(){return lj||(lj=1,function(e){var t=og.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=og.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(pye(),e),n(bye(),e),n(tz(),e),n(Sye(),e)}(og)),og}var cj;function nz(){if(cj)return Wv;cj=1,Object.defineProperty(Wv,"__esModule",{value:!0});const e=cy(),t=e9();let n=class wR{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new wR(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,o,s){const l=this.match(i,a,o,s);for(const c of l)this.dataset.delete(c);return this}difference(i){const a=this.createBlankDataset();for(const o of this)i.has(o)||a.add(o);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const o of this)i(o,this)&&a.add(o);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,o)=>{i.on("data",s=>{this.add(s)}).on("end",()=>{a(this)}).on("error",s=>o(s))})}intersection(i){const a=this.createBlankDataset(),o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const o of this)a.add(i(o,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const o=this[Symbol.iterator]();let s=o.next(),l=a;for(;!s.done;)l=i(l,s.value,this),s=o.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new t.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,e.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const o of this)a.add(o);for(const o of i)a.add(o);return a}match(i,a,o,s){return new wR(this.dataset.match(i,a,o,s),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return Wv.default=n,Wv}var fj;function rz(){if(fj)return ag;fj=1;var e=ag.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ag,"__esModule",{value:!0});const t=e(nz());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new t.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return ag.default=n,ag}var K2,dj;function xye(){if(dj)return K2;dj=1;function e(o){return typeof o=="string"||o instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function n(o){if(typeof o=="string")return o;if(!o)return"";if(typeof o.id<"u"&&o.termType!=="Quad")return o.id;let s,l,c,d;switch(o.termType){case"NamedNode":return o.value;case"BlankNode":return`_:${o.value}`;case"Variable":return`?${o.value}`;case"DefaultGraph":return"";case"Literal":return o.language?`"${o.value}"@${o.language}`:`"${o.value}"${o.datatype&&o.datatype.value!==t?`^^${o.datatype.value}`:""}`;case"Quad":return s=i(n(o.subject)),l=i(n(o.predicate)),c=i(n(o.object)),d=o.graph.termType==="DefaultGraph"?"":` ${n(o.graph)}`,`<<${s} ${l} ${c}${d}>>`;default:throw new Error(`Unexpected termType: ${o.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(o){return o.replace(r,(s,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const l of s)this.add(l)}get size(){let s=this._size;if(s!==null)return s;s=0;const l=this._graphs;let c,d;for(const h in l)for(const m in c=l[h].subjects)for(const y in d=c[m])s+=Object.keys(d[y]).length;return this._size=s,this._size}add(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph);let m=this._graphs[h];m||(m=this._graphs[h]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,v=this._entities;return l=y[l]||(y[v[++this._id]=l]=this._id),c=y[c]||(y[v[++this._id]=c]=this._id),d=y[d]||(y[v[++this._id]=d]=this._id),this._addToIndex(m.subjects,l,c,d),this._addToIndex(m.predicates,c,d,l),this._addToIndex(m.objects,d,l,c),this._setQuad(l,c,d,h,s),this._size=null,this}delete(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph),m=this._ids,y=this._graphs;let v,_,x;if(!(l=m[l])||!(c=m[c])||!(d=m[d])||!(v=y[h])||!(_=v.subjects[l])||!(x=_[c])||!(d in x))return this;this._removeFromIndex(v.subjects,l,c,d),this._removeFromIndex(v.predicates,c,d,l),this._removeFromIndex(v.objects,d,l,c),this._size!==null&&this._size--,this._deleteQuad(l,c,d,h);for(l in v.subjects)return this;return delete y[h],this}has(s){const l=n(s.subject),c=n(s.predicate),d=n(s.object),h=n(s.graph),m=this._graphs[h];if(!m)return!1;const y=this._ids;let v,_,x;return e(l)&&!(v=y[l])||e(c)&&!(_=y[c])||e(d)&&!(x=y[d])?!1:this._countInIndex(m.objects,x,v,_)===1}match(s,l,c,d){return this._createDataset(this._match(s,l,c,d))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,l,c,d){const h=s[l]||(s[l]={}),m=h[c]||(h[c]={}),y=d in m;return y||(m[d]=null),!y}_removeFromIndex(s,l,c,d){const h=s[l],m=h[c];delete m[d];for(const y in m)return;delete h[c];for(const y in h)return;delete s[l]}_findInIndex(s,l,c,d,h,m,y,v,_,x){let b,S,A;l&&((b=s,s={})[l]=b[l]);for(const P in s)if(S=s[P],S){c&&((b=S,S={})[c]=b[c]);for(const O in S)if(A=S[O],A){const D=d?d in A?[d]:[]:Object.keys(A);for(let F=0;F<D.length;F++){const Q={[h]:P,[m]:O,[y]:D[F]},X=this._getQuad(Q.subject,Q.predicate,Q.object,v);if(x)x.push(X);else if(_(X))return!0}}}return x}_countInIndex(s,l,c,d){let h=0,m,y,v;l&&((m=s,s={})[l]=m[l]);for(const _ in s)if(y=s[_],y){c&&((m=y,y={})[c]=m[c]);for(const x in y)v=y[x],v&&(d?d in v&&h++:h+=Object.keys(v).length)}return h}_getGraphs(s){return e(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,l,c,d){s=s&&n(s),l=l&&n(l),c=c&&n(c),d=d&&n(d);const h=[],m=this._getGraphs(d),y=this._ids;let v,_,x,b;if(e(s)&&!(_=y[s])||e(l)&&!(x=y[l])||e(c)&&!(b=y[c]))return h;for(const S in m)v=m[S],v&&(_?b?this._findInIndex(v.objects,b,_,x,"object","subject","predicate",S,null,h):this._findInIndex(v.subjects,_,x,null,"subject","predicate","object",S,null,h):x?this._findInIndex(v.predicates,x,b,null,"predicate","object","subject",S,null,h):b?this._findInIndex(v.objects,b,null,null,"object","subject","predicate",S,null,h):this._findInIndex(v.subjects,null,null,null,"subject","predicate","object",S,null,h));return h}_getQuad(s,l,c,d){return this._quads.get(this._toId(s,l,c,d))}_setQuad(s,l,c,d,h){this._quads.set(this._toId(s,l,c,d),h)}_deleteQuad(s,l,c,d){this._quads.delete(this._toId(s,l,c,d))}_createDataset(s){return new this.constructor(s)}_toId(s,l,c,d){return`${s}:${l}:${c}:${d}`}}return K2=a,K2}var G2,hj;function Eye(){if(hj)return G2;hj=1;const e=$i(),t=xye();function n(r){return new t(r)}return G2=Object.assign({dataset:n},e),G2}var pj;function iz(){if(pj)return Dc;pj=1;var e=Dc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.createExtendedDatasetFactory=void 0;const t=e(rz()),n=Eye();function r(){const a={dataset:o=>(0,n.dataset)(Array.isArray(o)?o:o==null?void 0:o.toArray())};return new t.default(a)}Dc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return Dc.default=i,Dc}var Qv={},gj;function az(){if(gj)return Qv;gj=1,Object.defineProperty(Qv,"__esModule",{value:!0});const e=cy();async function t(n,r,i){const a=await(0,e.serializedToQuads)(r,i);return n.dataset(a)}return Qv.default=t,Qv}var yg={},mj;function Cye(){if(mj)return yg;mj=1;var e=yg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yg,"__esModule",{value:!0});const t=e(az()),n=iz();async function r(i,a){const o=(0,n.createExtendedDatasetFactory)();return(0,t.default)(o,i,a)}return yg.default=r,yg}var yj;function Mf(){return yj||(yj=1,function(e){var t=Gv.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedDatasetFactory=e.ExtendedDataset=e.serializedToDataset=e.createDatasetFromSerializedInput=e.createDatasetFactory=e.createDataset=void 0;var n=iz();Object.defineProperty(e,"createDataset",{enumerable:!0,get:function(){return t(n).default}}),Object.defineProperty(e,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=az();Object.defineProperty(e,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return t(r).default}});var i=Cye();Object.defineProperty(e,"serializedToDataset",{enumerable:!0,get:function(){return t(i).default}});var a=nz();Object.defineProperty(e,"ExtendedDataset",{enumerable:!0,get:function(){return t(a).default}});var o=rz();Object.defineProperty(e,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return t(o).default}})}(Gv)),Gv}var Nc={},vg={},_g={},su={},wg={},bg={},vj;function dO(){if(vj)return bg;vj=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.SubscribableDataset=void 0;const e=Mh(),t=cy(),n=Mf();let r=class extends n.ExtendedDataset{constructor(a,o,s){super(s||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=o,this.eventEmitter=new e.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const o of a)super.add(o);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(o=>{super.delete(o)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,o,s,l){const c=super.match(a,o,s,l);for(const d of c)super.delete(d);return this.triggerSubscriptionForQuads({removed:c}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const o={},s=l=>{const c=a[l];c==null||c.forEach(d=>{const h=d;[[null,null,null,null],[h.subject,null,null,null],[h.subject,h.predicate,null,null],[h.subject,null,h.object,null],[null,h.predicate,null,null],[null,h.predicate,h.object,null],[null,null,h.object,null],[h.subject,h.predicate,h.object,null],[null,null,null,h.graph],[h.subject,null,null,h.graph],[h.subject,h.predicate,null,h.graph],[h.subject,null,h.object,h.graph],[null,h.predicate,null,h.graph],[null,h.predicate,h.object,h.graph],[null,null,h.object,h.graph],[h.subject,h.predicate,h.object,h.graph]].forEach(y=>{var _;const v=(0,t.quadMatchToString)(y);this.eventEmitter.listenerCount(v)>0&&(o[v]||(o[v]={}),o[v][l]||(o[v][l]=this.datasetFactory.dataset()),(_=o[v][l])==null||_.add(d))})})};s("added"),s("removed"),Object.entries(o).forEach(([l,c])=>{this.eventEmitter.emit(l,c)})}addListener(a,o){return this.on(a,o)}emit(a,o){return this.eventEmitter.emit((0,t.quadMatchToString)(a),o)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,t.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,t.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,t.quadMatchToString)(a))}off(a,o){this.removeListener(a,o)}on(a,o){var l;const s=(0,t.quadMatchToString)(a);return this.listenerHashMap.has(o)||this.listenerHashMap.set(o,new Set),(l=this.listenerHashMap.get(o))==null||l.add(s),this.eventEmitter.on(s,o),this}once(a,o){return this.eventEmitter.once((0,t.quadMatchToString)(a),o),this}prependListener(a,o){return this.eventEmitter.prependListener((0,t.quadMatchToString)(a),o),this}prependOnceListener(a,o){return this.eventEmitter.prependOnceListener((0,t.quadMatchToString)(a),o),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,t.quadMatchToString)(a)),this}removeListener(a,o){return this.eventEmitter.removeListener((0,t.quadMatchToString)(a),o),this}removeListenerFromAllEvents(a){const o=this.listenerHashMap.get(a);return o&&o.forEach(s=>{this.eventEmitter.off(s,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,t.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return bg.SubscribableDataset=r,bg}var _j;function oz(){if(_j)return wg;_j=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.SubscribableDatasetFactory=void 0;const e=dO();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new e.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return wg.SubscribableDatasetFactory=t,wg}var Sg={},xg={},Eg={},wj;function sz(){if(wj)return Eg;wj=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.mergeDatasetChanges=void 0;function e(t,n){var r,i,a,o;if(n.added){t.added?t.added.addAll(n.added):t.added=n.added;const s=(r=t.removed)==null?void 0:r.intersection(n.added);s&&s.size>0&&(t.removed=(i=t.removed)==null?void 0:i.difference(s))}if(n.removed){t.removed?t.removed.addAll(n.removed):t.removed=n.removed;const s=(a=t.added)==null?void 0:a.intersection(n.removed);s&&s.size>0&&(t.added=(o=t.added)==null?void 0:o.difference(s))}t.added&&t.added.size===0&&(t.added=void 0),t.removed&&t.removed.size===0&&(t.removed=void 0)}return Eg.mergeDatasetChanges=e,Eg}var Cg={},bj;function uz(){if(bj)return Cg;bj=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.updateDatasetInBulk=void 0;function e(t,n){t.bulk?t.bulk(n):(n.added&&t.addAll(n.added),n.removed&&n.removed.forEach(r=>{t.delete(r)}))}return Cg.updateDatasetInBulk=e,Cg}var Sj;function lz(){if(Sj)return xg;Sj=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.TransactionDataset=void 0;const e=sz(),t=dO(),n=uz();let r=class extends t.SubscribableDataset{constructor(a,o,s){super(o,s,o.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,o,s,l){this.checkIfTransactionCommitted();const c=this.match(a,o,s,l);for(const d of c)this.delete(d);return this}match(a,o,s,l){let c=this.parentDataset.match(a,o,s,l);return this.datasetChanges.removed&&(c=c.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(c=c.union(this.datasetChanges.added.match(a,o,s,l))),c}get size(){var a,o;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var o,s;return!((o=this.datasetChanges.removed)!=null&&o.has(a))&&(((s=this.datasetChanges.added)==null?void 0:s.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let o=a.next();const s=this.parentDataset[Symbol.iterator]();let l=s.next();return{next:()=>{if(!o||!o.done){const c=o;return o=a.next(),c}for(;!l.done;){const c=l;if(l=s.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(c.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(c.value)))return c}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,e.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,o;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return xg.TransactionDataset=r,xg}var xj;function cz(){if(xj)return Sg;xj=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.TransactionDatasetFactory=void 0;const e=lz();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new e.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Sg.TransactionDatasetFactory=t,Sg}var Ej;function fz(){if(Ej)return su;Ej=1,Object.defineProperty(su,"__esModule",{value:!0}),su.createSubscribableDataset=su.createSubscribableDatasetFactory=su.createTransactionDatasetFactory=void 0;const e=Mf(),t=oz(),n=cz(),r={dataset:s=>(0,e.createDataset)(s)};function i(){return new n.TransactionDatasetFactory(r)}su.createTransactionDatasetFactory=i;function a(){return new t.SubscribableDatasetFactory(r,i())}su.createSubscribableDatasetFactory=a;function o(s){return a().dataset(s)}return su.createSubscribableDataset=o,su}var Tg={},Cj;function Tye(){if(Cj)return Tg;Cj=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.createWrapperSubscribableDatasetFromSerializedInput=void 0;const e=Mf(),t=fz();async function n(r,i){const a=(0,t.createSubscribableDatasetFactory)();return(0,e.createDatasetFromSerializedInput)(a,r,i)}return Tg.createWrapperSubscribableDatasetFromSerializedInput=n,Tg}var W2={},Tj;function Aye(){return Tj||(Tj=1,Object.defineProperty(W2,"__esModule",{value:!0})),W2}var Aj;function fy(){return Aj||(Aj=1,function(e){var t=_g.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=_g.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.serializedToSubscribableDataset=void 0,n(fz(),e);var r=Tye();Object.defineProperty(e,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(lz(),e),n(cz(),e),n(dO(),e),n(oz(),e),n(Aye(),e),n(sz(),e),n(uz(),e)}(_g)),_g}var _d={},Ag={},Rg={},Pg={},Rj;function dz(){if(Rj)return Pg;Rj=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.ContextUtil=void 0;const e={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let t=class{constructor(r){this.context=r,this.iriToKeyMap={},this.iriToKeyMap=this.createIriToKeyMap(r),this.typeNameToIriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="object"&&a!==null&&a["@id"]&&a["@context"]&&(this.typeNameToIriToKeyMap[i]=this.createIriToKeyMap(a["@context"]))})}createIriToKeyMap(r){const i={};return Object.entries(r).forEach(([a,o])=>{if(typeof o=="string")i[this.keyIdToIri(o)]=a;else if(typeof o=="object"&&o!==null&&o["@id"]){const s=this.keyIdToIri(o["@id"]);i[s]=a}}),i}getRelevantContext(r,i){var a,o,s;for(const l of i){const c=this.iriToKey(l.value,[]);if(typeof this.context[c]=="object"&&((a=this.context[c])!=null&&a["@context"])&&((o=this.context[c])!=null&&o["@context"][r]))return(s=this.context[c])==null?void 0:s["@context"]}return this.context}keyIdToIri(r){return e[r]?e[r]:r}keyToIri(r,i){const a=this.getRelevantContext(r,i);if(a[r]){if(typeof a[r]=="string")return this.keyIdToIri(a[r]);if(a[r]&&a[r]["@id"])return this.keyIdToIri(a[r]["@id"])}else return r;return r}iriToKey(r,i){var o;let a=this.iriToKeyMap;for(const s of i){const l=this.iriToKey(s.value,[]);a=(o=this.typeNameToIriToKeyMap[l])!=null&&o[r]?this.typeNameToIriToKeyMap[l]:this.iriToKeyMap}return a[r]?a[r]:r}getDataType(r,i){const a=this.getRelevantContext(r,i);return typeof a[r]=="object"&&a[r]["@type"]?a[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&(a[r]["@container"]==="@set"||a[r]["@isCollection"]))}isLangString(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&a[r]["@type"]&&a[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Pg.ContextUtil=t,Pg}var Og={},Pj;function hz(){if(Pj)return Og;Pj=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.JsonldDatasetProxyBuilder=void 0;const e=$i();let t=class bR{constructor(r){this.proxyContext=r}write(...r){return new bR(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new bR(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,e.namedNode)(r["@id"]):(0,e.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([o,s])=>{a[o]=s}),a}};return Og.JsonldDatasetProxyBuilder=t,Og}var Lg={},Ig={},Fc={},Oj;function Yw(){if(Oj)return Fc;Oj=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.nodeToJsonldRepresentation=Fc.literalToJsonldRepresentation=void 0;function e(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}Fc.literalToJsonldRepresentation=e;function t(n,r){if(n.termType==="Literal")return e(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return Fc.nodeToJsonldRepresentation=t,Fc}var jc={},$c={},uu={},Uc={},li={},Lj;function Ls(){return Lj||(Lj=1,Object.defineProperty(li,"__esModule",{value:!0}),li._writeGraphs=li._proxyContext=li._getUnderlyingArrayTarget=li._getUnderlyingDataset=li._getNodeAtIndex=li._isSubjectOriented=li._getUnderlyingMatch=li._getUnderlyingNode=void 0,li._getUnderlyingNode=Symbol("_getUnderlyingNode"),li._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),li._isSubjectOriented=Symbol("_isSubjectOriented"),li._getNodeAtIndex=Symbol("_getNodeAtIndex"),li._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),li._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),li._proxyContext=Symbol("_proxyContext"),li._writeGraphs=Symbol("_writeGraphs")),li}var Ij;function hO(){if(Ij)return Uc;Ij=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.getNodeFromRawValue=Uc.getNodeFromRawObject=void 0;const e=$i(),t=Ls();function n(i,a){return i[t._getUnderlyingNode]?i[t._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,e.namedNode)(a.keyToIri(i["@id"],[])):i["@id"]:(0,e.blankNode)()}Uc.getNodeFromRawObject=n;function r(i,a,o,s){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const l=s.contextUtil.getDataType(i,o);return l==="@id"?(0,e.namedNode)(a.toString()):(0,e.literal)(a.toString(),l)}else return n(a,s.contextUtil)}return Uc.getNodeFromRawValue=r,Uc}var Bc={},Mj;function zh(){if(Mj)return Bc;Mj=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.getSubjectProxyFromObject=Bc.isSubjectProxy=void 0;const e=Ls();function t(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[e._writeGraphs]!="object"||typeof i[e._getUnderlyingDataset]!="object"||typeof i[e._getUnderlyingNode]!="object"||typeof i[e._proxyContext]!="object")}Bc.isSubjectProxy=t;function n(r){const i=r;if(!t(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return Bc.getSubjectProxyFromObject=n,Bc}var qc={},Dj;function Xw(){if(Dj)return qc;Dj=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.NodeSet=qc.nodeToString=void 0;function e(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}qc.nodeToString=e;let t=class{constructor(){this.set=new Set,this.map={}}add(r){const i=e(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(e(r))}delete(r){const i=e(r);return delete this.map[i],this.set.delete(e(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return qc.NodeSet=t,qc}var ci={},kj;function Hh(){if(kj)return ci;kj=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.literalLanguageToLanguageKey=ci.languageKeyToLiteralLanguage=ci.getLanguageKeyForWriteOperation=ci.filterQuadsByLanguageOrdering=ci.quadsToLanguageQuadMap=ci.isLanguageLiteral=ci.languageDeleteMatch=ci.languageMatch=void 0;const e=Mf();function t(c,d,h,m){const y=s(m);return c.match(d,h).filter(v=>r(v.object)&&v.object.language===y)}ci.languageMatch=t;function n(c,d,h,m){t(c,d,h,m).forEach(v=>{c.delete(v)})}ci.languageDeleteMatch=n;function r(c){return c.termType==="Literal"&&(c.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||c.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}ci.isLanguageLiteral=r;function i(c){const d={};return c.forEach(h=>{const m=h.object;if(r(m)){const y=l(m.language);d[y]||(d[y]=(0,e.createDataset)()),d[y].add(h)}}),d}ci.quadsToLanguageQuadMap=i;function a(c,d){const h=i(c),m=new Set(d),y=new Set(Object.keys(h));for(const v of d){if(y.has(v))return h[v];if(v==="@other"){for(const _ of y)if(!m.has(_))return h[_]}}return(0,e.createDataset)()}ci.filterQuadsByLanguageOrdering=a;function o(c){return c.find(d=>d!=="@other")}ci.getLanguageKeyForWriteOperation=o;function s(c){return c==="@none"?"":c}ci.languageKeyToLiteralLanguage=s;function l(c){return c===""?"@none":c}return ci.literalLanguageToLanguageKey=l,ci}var Nj;function pO(){if(Nj)return uu;Nj=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.addObjectToDataset=uu.addRawObjectToDatasetRecursive=uu.addRawValueToDatasetRecursive=void 0;const e=$i(),t=hO(),n=zh(),r=Xw(),i=Hh();function a(l,c,d,h,m,y){const{dataset:v,contextUtil:_}=y,x=y.getRdfType(l),b=(0,e.namedNode)(_.keyToIri(c,x)),S=(0,t.getNodeFromRawValue)(c,d,x,y);if(S==null)v.deleteMatches(l,b);else if(S.termType==="Literal"){let A=S;if(_.isLangString(c,x)){const P=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!P)return;A=(0,e.literal)(S.value,(0,i.languageKeyToLiteralLanguage)(P))}y.writeGraphs.forEach(P=>{y.dataset.add((0,e.quad)(l,b,A,P))})}else if(y.writeGraphs.forEach(A=>{v.add((0,e.quad)(l,b,S,A))}),!(0,n.isSubjectProxy)(d)){const A=typeof d=="object"?{...d,"@id":S}:{"@id":S};o(A,h,m,y)}}uu.addRawValueToDatasetRecursive=a;function o(l,c,d,h){if((0,n.isSubjectProxy)(l))return l;const{dataset:m}=h,y=(0,t.getNodeFromRawObject)(l,h.contextUtil),v=h.getRdfType(y);return c.has(y)||(c.add(y),Object.entries(l).forEach(([_,x])=>{if(_==="@id")return;const b=(0,e.namedNode)(h.contextUtil.keyToIri(_,v));if(d)if(h.contextUtil.isLangString(_,v)){const S=(0,i.getLanguageKeyForWriteOperation)(h.languageOrdering);S&&(0,i.languageDeleteMatch)(m,y,b,S)}else m.deleteMatches(y,b);Array.isArray(x)?x.forEach(S=>{a(y,_,S,c,!0,h)}):a(y,_,x,c,!0,h)})),h.createSubjectProxy(y)}uu.addRawObjectToDatasetRecursive=o;function s(l,c,d){return o(l,new r.NodeSet,c,d)}return uu.addObjectToDataset=s,uu}var Fj;function gO(){if(Fj)return $c;Fj=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.modifyArray=$c.checkArrayModification=void 0;const e=$i(),t=fy(),n=Mf(),r=pO(),i=hO(),a=Xw();function o(l,c,d){if(l[2])for(const h of c){if(h===void 0)return;if(typeof h!="object")throw new Error(`Cannot add a literal "${h}"(${typeof h}) to a subject-oriented collection.`);const m=new t.TransactionDataset(d.dataset,(0,n.createDatasetFactory)(),(0,t.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(h,!1,d.duplicate({writeGraphs:[(0,e.defaultGraph)()]})),!(m.match((0,i.getNodeFromRawObject)(h,d.contextUtil),l[0][1],l[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(l[0][0])}, ${(0,a.nodeToString)(l[0][1])}, ${(0,a.nodeToString)(l[0][2])}, ${(0,a.nodeToString)(l[0][3])})`)}else if(!l[0][0]||!l[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}$c.checkArrayModification=o;function s(l,c){const{target:d,toAdd:h,quadsToDelete:m,modifyCoreArray:y,key:v}=l,{dataset:_,contextUtil:x}=c;if(o(d,h||[],c),m){const A=_.match(...d[0]).toArray();m(A).forEach(O=>{d[2]?_.deleteMatches(O.subject,void 0,void 0):_.delete(O)})}const b=h==null?void 0:h.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,c):A).filter(A=>A!=null);!d[2]&&d[0][0]&&d[0][1]&&b&&(0,r.addObjectToDataset)({"@id":d[0][0],[x.iriToKey(d[0][1].value,c.getRdfType(d[0][0]))]:b},!1,c);const S=b?b.map(A=>(0,i.getNodeFromRawValue)(v,A,d[0][0]?c.getRdfType(d[0][0]):[],c)).filter(A=>A!=null):[];return y(d[1],S)}return $c.modifyArray=s,$c}var jj;function pz(){if(jj)return jc;jj=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.arrayMethodsBuilders=jc.methodNames=void 0;const e=Yw(),t=gO();return jc.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),jc.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,o,s)=>(0,t.modifyArray)({target:n,key:r,quadsToDelete:l=>{const c=[...l],d=new Set(l.copyWithin(a,o,s));return c.filter(h=>!d.has(h))},modifyCoreArray:l=>(l.copyWithin(a,o,s),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,o,s)=>(0,t.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:l=>l.slice(o,s),modifyCoreArray:(l,c)=>(l.fill(c[0],o,s),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,t.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const o=a.pop();return o?(0,e.nodeToJsonldRepresentation)(o,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,t.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.push(...s),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,t.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const o=a.shift();return o?(0,e.nodeToJsonldRepresentation)(o,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((o,s)=>a((0,e.nodeToJsonldRepresentation)(o,i),(0,e.nodeToJsonldRepresentation)(s,i))):n&&n[1].sort((o,s)=>{const l=(0,e.nodeToJsonldRepresentation)(o,i),c=(0,e.nodeToJsonldRepresentation)(s,i);return l>c?1:c>l?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,o,...s)=>(0,t.modifyArray)({target:n,key:r,toAdd:s,quadsToDelete:l=>l.splice(a,o),modifyCoreArray:(l,c)=>l.splice(a,o||0,...c).map(h=>(0,e.nodeToJsonldRepresentation)(h,i))},i),unshift:(n,r,i)=>(...a)=>(0,t.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.unshift(...s),i.createArrayProxy(n[0],n[2]).length)},i)},jc}var $j;function gz(){if($j)return Ig;$j=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.createArrayHandler=void 0;const e=$i(),t=Yw(),n=pz(),r=Ls(),i=gO(),a=Xw(),o=Hh();function s(d,h){let m=h.dataset.match(...d[0]);d[3]&&(m=(0,o.filterQuadsByLanguageOrdering)(m,h.languageOrdering));const y=new a.NodeSet;m.toArray().forEach(_=>{d[2]?y.add(_.subject):y.add(_.object)});const v=[];d[1].forEach(_=>{y.has(_)&&(v.push(_),y.delete(_))}),y.toArray().forEach(_=>{v.push(_)}),d[1]=v}function l(d,h){return d[1].map(m=>(0,t.nodeToJsonldRepresentation)(m,h))}function c(d){return{get(h,m,...y){switch(m){case r._getUnderlyingDataset:return d.dataset;case r._getUnderlyingMatch:return h[0];case r._isSubjectOriented:return h[2];case r._getUnderlyingArrayTarget:return h;case r._proxyContext:return d;case r._getNodeAtIndex:return _=>(s(h,d),h[1][_])}s(h,d);const v=l(h,d);return n.methodNames.has(m)?n.arrayMethodsBuilders[m](h,m,d):Reflect.get(v,m,...y)},getOwnPropertyDescriptor(h,m,...y){s(h,d);const v=l(h,d);return Reflect.getOwnPropertyDescriptor(v,m,...y)},ownKeys(h,...m){s(h,d);const y=l(h,d);return Reflect.ownKeys(y,...m)},getPrototypeOf(h,...m){s(h,d);const y=l(h,d);return Reflect.getPrototypeOf(y,...m)},has(h,...m){s(h,d);const y=l(h,d);return Reflect.has(y,...m)},set(h,m,y,...v){if(m===r._proxyContext)return d=y,!0;if(s(h,d),typeof m!="symbol"&&!isNaN(parseInt(m))){const _=parseInt(m);return(0,i.modifyArray)({target:h,key:m,toAdd:[y],quadsToDelete(x){return x[_]?[x[_]]:[]},modifyCoreArray(x,b){return x[_]=b[0],!0}},d)}return Reflect.set(h[1],m,...v)},deleteProperty(h,m){const{dataset:y}=d;if(typeof m!="symbol"&&!isNaN(parseInt(m))){const v=y.match(...h[0]).toArray()[parseInt(m)];if(!v)return!0;const _=h[2]?v.subject:v.object;if(_.termType==="Literal"){const x=h[0][0],b=h[0][1];return x&&b&&y.delete((0,e.quad)(x,b,_)),!0}else if(_.termType==="NamedNode"||_.termType==="BlankNode")return y.deleteMatches(_,void 0,void 0),y.deleteMatches(void 0,void 0,_),!0}return!0}}}return Ig.createArrayHandler=c,Ig}var Mg={},Dg={},Uj;function mz(){if(Uj)return Dg;Uj=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.deleteValueFromDataset=void 0;const e=$i();function t(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const o=n["@id"],s=(0,e.namedNode)(i.contextUtil.keyToIri(r,i.getRdfType(o)));if(r==="@id")a.push(n["@id"]);else{const l=i.dataset.match(o,s);if(l.size===0)return!0;a.push(...l.toArray().map(c=>c.object))}return a.forEach(l=>{if(l.termType==="Literal")return i.dataset.delete((0,e.quad)(o,s,l)),!0;if(l.termType==="NamedNode")return i.dataset.deleteMatches(l,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,l),!0}),!0}return Dg.deleteValueFromDataset=t,Dg}var kg={},Bj;function yz(){if(Bj)return kg;Bj=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.getValueForKey=void 0;const e=$i(),t=Yw(),n=Hh();function r(i,a,o){const{contextUtil:s,dataset:l}=o;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:s.iriToKey(i["@id"].value,[]);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const c=i["@id"],d=o.getRdfType(c),h=(0,e.namedNode)(s.keyToIri(a,d));if(s.isArray(a,d))return o.createArrayProxy([c,h,null,null],!1,void 0,s.isLangString(a,d));let m=l.match(c,h);if(s.isLangString(a,d)&&(m=(0,n.filterQuadsByLanguageOrdering)(m,o.languageOrdering)),m.size!==0)return m.size===1?(0,t.nodeToJsonldRepresentation)(m.toArray()[0].object,o):o.createArrayProxy([c,h,null,null])}return kg.getValueForKey=r,kg}var qj;function vz(){if(qj)return Mg;qj=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.createSubjectHandler=void 0;const e=$i(),t=pO(),n=mz(),r=Ls(),i=yz();function a(o){let s=o;return{get(l,c){switch(c){case r._getUnderlyingDataset:return s.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return s;case r._writeGraphs:return s.writeGraphs;case"@context":return s.contextUtil.context}return(0,i.getValueForKey)(l,c,s)},getOwnPropertyDescriptor(l,c){return{value:(0,i.getValueForKey)(l,c,s),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const c=l["@id"],d=s.dataset.match(c),h=new Set(["@id"]);return d.toArray().forEach(m=>{h.add(s.contextUtil.iriToKey(m.predicate.value,s.getRdfType(c)))}),Array.from(h)},set:(l,c,d)=>{if(c===r._proxyContext)return s=d,!0;if(c==="@id"&&typeof d=="string"){const h=s.dataset.match(l["@id"]).toArray(),m=h.map(_=>(0,e.quad)((0,e.namedNode)(d),_.predicate,_.object,_.graph));h.forEach(_=>s.dataset.delete(_)),s.dataset.addAll(m);const y=s.dataset.match(void 0,void 0,l["@id"]).toArray(),v=y.map(_=>(0,e.quad)(_.subject,_.predicate,(0,e.namedNode)(d),_.graph));y.forEach(_=>s.dataset.delete(_)),s.dataset.addAll(v),l["@id"]=(0,e.namedNode)(d)}return(0,t.addObjectToDataset)({"@id":l["@id"],[c]:d},!0,s),!0},deleteProperty(l,c){return(0,n.deleteValueFromDataset)(l,c,s)}}}return Mg.createSubjectHandler=a,Mg}var zj;function wz(){if(zj)return Lg;zj=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.ProxyContext=void 0;const e=gz(),t=vz(),n=Ls(),i=(0,$i().namedNode)("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");let a=class _z{constructor(s){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=s.dataset,this.contextUtil=s.contextUtil,this.writeGraphs=s.writeGraphs,this.languageOrdering=s.languageOrdering,this.state=s.state||{},s.prefilledArrayTargets&&s.prefilledArrayTargets.forEach(l=>{this.createArrayProxy(l[0],l[2],l)})}createSubjectProxy(s){if(!this.subjectMap.has(s.value)){const l=new Proxy({"@id":s},this.createSubjectHandler());this.subjectMap.set(s.value,l)}return this.subjectMap.get(s.value)}createSubjectHandler(){return(0,t.createSubjectHandler)(this)}getArrayKey(...s){var l,c,d,h;return`${((l=s[0])==null?void 0:l.value)||"undefined"}|${((c=s[1])==null?void 0:c.value)||"undefined"}|${((d=s[2])==null?void 0:d.value)||"undefined"}|${((h=s[3])==null?void 0:h.value)||"undefined"}`}createArrayProxy(s,l=!1,c,d){const h=this.getArrayKey(...s);if(!this.arrayMap.has(h)){const m=new Proxy(c||[s,[],l,d],this.createArrayHandler());this.arrayMap.set(h,m)}return this.arrayMap.get(h)}createArrayHandler(){return(0,e.createArrayHandler)(this)}duplicate(s){const l=[];this.arrayMap.forEach(d=>{l.push(d[n._getUnderlyingArrayTarget])});const c={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:l,...s};return new _z(c)}getRdfType(s){return this.dataset.match(s,i).toArray().map(l=>l.object).filter(l=>l.termType==="NamedNode")}};return Lg.ProxyContext=a,Lg}var Hj;function Vj(){if(Hj)return Rg;Hj=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.jsonldDatasetProxy=void 0;const e=$i(),t=dz(),n=hz(),r=wz();function i(a,o){const s=new t.ContextUtil(o),l=new r.ProxyContext({dataset:a,contextUtil:s,writeGraphs:[(0,e.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return Rg.jsonldDatasetProxy=i,Rg}var Ng={},Fg={},zc={},jg={},Kj;function bz(){if(Kj)return jg;Kj=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.isArrayProxy=void 0;const e=Ls();function t(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[e._getUnderlyingDataset]!="object"||typeof r[e._getUnderlyingMatch]!="object"||typeof r[e._getNodeAtIndex]!="function"||typeof r[e._getUnderlyingArrayTarget]!="object")}return jg.isArrayProxy=t,jg}var Gj;function Sz(){if(Gj)return zc;Gj=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.getProxyFromObject=zc.isProxy=void 0;const e=bz(),t=zh();function n(i){return(0,t.isSubjectProxy)(i)||(0,e.isArrayProxy)(i)}zc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return zc.getProxyFromObject=r,zc}var Wj;function mO(){if(Wj)return Fg;Wj=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.createInteractOptions=void 0;const e=zh(),t=Ls(),n=Sz();function r(i,a){return{using(...o){const s=[];return o.forEach(l=>{const c=(0,n.getProxyFromObject)(l),d=c[t._proxyContext];c[t._proxyContext]=c[t._proxyContext].duplicate({[i]:a}),s.push(()=>{c[t._proxyContext]=d})}),function(){s.forEach(c=>c())}},usingCopy(...o){return o.map(s=>{const l=(0,e.getSubjectProxyFromObject)(s);return l[t._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[t._getUnderlyingNode])})}}}return Fg.createInteractOptions=r,Fg}var Qj;function Rye(){if(Qj)return Ng;Qj=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.write=void 0;const e=mO();function t(...n){return(0,e.createInteractOptions)("writeGraphs",n)}return Ng.write=t,Ng}var $g={},Zj;function Pye(){if(Zj)return $g;Zj=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.graphOf=void 0;const e=$i(),t=zh(),n=Ls();function r(i,a,o){const s=(0,t.getSubjectProxyFromObject)(i),l=s[n._proxyContext],c=s[n._getUnderlyingNode],d=(0,e.namedNode)(l.contextUtil.keyToIri(a,l.getRdfType(c)));let h;if(o==null)h=null;else if(typeof o=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[o])throw new Error(`Index ${o} does not exist.`);(0,t.isSubjectProxy)(y[o])&&(h=y[o][1]),h=y[n._getNodeAtIndex](o)}else h=(0,t.getSubjectProxyFromObject)(o)[n._getUnderlyingNode];return s[n._getUnderlyingDataset].match(c,d,h).toArray().map(y=>y.graph)}return $g.graphOf=r,$g}var Ug={},Jj;function Oye(){if(Jj)return Ug;Jj=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.setLanguagePreferences=void 0;const e=mO();function t(...n){return(0,e.createInteractOptions)("languageOrdering",n)}return Ug.setLanguagePreferences=t,Ug}var Q2={},Yj;function Lye(){return Yj||(Yj=1,Object.defineProperty(Q2,"__esModule",{value:!0})),Q2}var Bg={},wd={},Zv={},Xj;function xz(){if(Xj)return Zv;Xj=1;var e;Object.defineProperty(Zv,"__esModule",{value:!0});const t=$i(),n=Hh();class r{constructor(a,o,s,l){this[e]="LanguageSet",this.subject=a,this.predicate=o,this.languageKey=s,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,t.literal)(a):(0,t.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(o=>{this.proxyContext.dataset.add((0,t.quad)(this.subject,this.predicate,(0,t.literal)(a,this.languageKey),o))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const o=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),o}forEach(a,o){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,o||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const o of a)yield[o.object.value,o.object.value]}*keys(){const a=this.matchThis();for(const o of a)yield o.object.value}*values(){const a=this.matchThis();for(const o of a)yield o.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const o of a)yield o.object.value}}return Zv.default=r,e=Symbol.toStringTag,Zv}var e4;function Ez(){if(e4)return wd;e4=1;var e=wd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(wd,"__esModule",{value:!0}),wd.createLanguageMapProxy=void 0;const t=$i(),n=Hh(),r=e(xz());function i(a,o,s,l){const c={},d=h=>{Object.keys(h).forEach(v=>delete h[v]);const m=s.dataset.match(a,o),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([v,_])=>{const x=_.toArray().map(b=>b.object.value);l?h[v]=new Set(x):h[v]=x[0]})};return d(c),new Proxy(c,{get:(h,m)=>(d(h),typeof m!="string"?Reflect.get(h,m):l?new r.default(a,o,m,s):Reflect.get(h,m)),set:(h,m,y)=>{const v=(0,n.languageKeyToLiteralLanguage)(m);return l||(0,n.languageDeleteMatch)(s.dataset,a,o,v),s.writeGraphs.forEach(_=>{s.dataset.add((0,t.quad)(a,o,(0,t.literal)(y,v),_))}),Reflect.set(h,m,y)},deleteProperty:(h,m)=>((0,n.languageDeleteMatch)(s.dataset,a,o,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(h,m))})}return wd.createLanguageMapProxy=i,wd}var t4;function Iye(){if(t4)return Bg;t4=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.languagesOf=void 0;const e=$i(),t=zh(),n=Ls(),r=Ez();function i(a,o){const s=(0,t.getSubjectProxyFromObject)(a),l=s[n._proxyContext],c=s[n._getUnderlyingNode],d=l.getRdfType(c),h=(0,e.namedNode)(l.contextUtil.keyToIri(o,d));return(0,r.createLanguageMapProxy)(c,h,l,l.contextUtil.isArray(o,d))}return Bg.languagesOf=i,Bg}var Z2={},n4;function Mye(){return n4||(n4=1,Object.defineProperty(Z2,"__esModule",{value:!0})),Z2}var J2={},r4;function Dye(){return r4||(r4=1,Object.defineProperty(J2,"__esModule",{value:!0})),J2}var Y2={},i4;function kye(){return i4||(i4=1,Object.defineProperty(Y2,"__esModule",{value:!0})),Y2}var X2={},a4;function Nye(){return a4||(a4=1,Object.defineProperty(X2,"__esModule",{value:!0})),X2}var o4;function Om(){return o4||(o4=1,function(e){var t=Ag.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Ag.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0});const r=Vj();e.default=r.jsonldDatasetProxy,n(Ls(),e),n(dz(),e),n(wz(),e),n(hz(),e),n(Vj(),e),n(Rye(),e),n(Pye(),e),n(Oye(),e),n(Lye(),e),n(Iye(),e),n(Ez(),e),n(xz(),e),n(Mye(),e),n(Hh(),e),n(gz(),e),n(pz(),e),n(Dye(),e),n(gO(),e),n(bz(),e),n(vz(),e),n(kye(),e),n(yz(),e),n(mz(),e),n(zh(),e),n(pO(),e),n(Yw(),e),n(Nye(),e),n(hO(),e),n(Xw(),e),n(Sz(),e),n(mO(),e)}(Ag)),Ag}var qg={},$a={},s4;function Cz(){if(s4)return $a;s4=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.getTransactionalDatasetFromLdo=$a.isTransactionalDataset=$a.canDatasetStartTransaction=$a.normalizeNodeNames=$a.normalizeNodeName=void 0;const e=$i(),t=Om();function n(s){return typeof s=="string"?(0,e.namedNode)(s):s}$a.normalizeNodeName=n;function r(s){return s.map(l=>n(l))}$a.normalizeNodeNames=r;function i(s){return typeof s.startTransaction=="function"}$a.canDatasetStartTransaction=i;function a(s){return typeof s.commit=="function"}$a.isTransactionalDataset=a;function o(s){const l=(0,t.getProxyFromObject)(s),c=l[t._getUnderlyingDataset];if(!a(c)||!l[t._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[c,l]}return $a.getTransactionalDatasetFromLdo=o,$a}var u4;function yO(){if(u4)return qg;u4=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.LdoBuilder=void 0;const e=Cz();let t=class SR{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,e.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new SR(this.jsonldDatasetProxyBuilder.write(...(0,e.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new SR(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return qg.LdoBuilder=t,qg}var bd={},l4;function Tz(){if(l4)return bd;l4=1;var e=bd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bd,"__esModule",{value:!0}),bd.LdoTransactionDataset=void 0;const t=fy(),n=yO(),r=e(Om());let i=class extends t.TransactionDataset{usingType(o){const s=(0,r.default)(this,o.context);return new n.LdoBuilder(s,o)}};return bd.LdoTransactionDataset=i,bd}var c4;function Az(){if(c4)return _d;c4=1;var e=_d.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_d,"__esModule",{value:!0}),_d.LdoDataset=void 0;const t=e(Om()),n=fy(),r=yO(),i=Tz();let a=class extends n.SubscribableDataset{usingType(s){const l=(0,t.default)(this,s.context);return new r.LdoBuilder(l,s)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return _d.LdoDataset=a,_d}var f4;function Fye(){if(f4)return vg;f4=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.LdoDatasetFactory=void 0;const e=fy(),t=Az();let n=class extends e.SubscribableDatasetFactory{dataset(i){return new t.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return vg.LdoDatasetFactory=n,vg}var d4;function Rz(){if(d4)return Nc;d4=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.createLdoDataset=Nc.createLdoDatasetFactory=void 0;const e=Mf(),t=Fye(),n=fy();function r(){const a={dataset:o=>(0,e.createDataset)(o)};return new t.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}Nc.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return Nc.createLdoDataset=i,Nc}var h4;function jye(){if(h4)return ig;h4=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.parseRdf=void 0;const e=Mf(),t=Rz();async function n(r,i){const a=(0,t.createLdoDatasetFactory)();return typeof r=="string"?await(0,e.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,t.createLdoDataset)(r):await(0,e.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/ld+json"})}return ig.parseRdf=n,ig}var eC={},p4;function $ye(){return p4||(p4=1,Object.defineProperty(eC,"__esModule",{value:!0})),eC}var ar={},g4;function Uye(){if(g4)return ar;g4=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.toNTriples=ar.toJsonLd=ar.toTurtle=ar.serialize=ar.toSparqlUpdate=ar.getDataset=ar.transactionChanges=ar.commitTransaction=ar.startTransaction=ar.write=ar.setLanguagePreferences=ar.languagesOf=ar.graphOf=void 0;const e=Om(),t=cy(),n=Cz(),r=Om();ar.graphOf=r.graphOf,ar.languagesOf=r.languagesOf,ar.setLanguagePreferences=r.setLanguagePreferences;function i(...v){return(0,e.write)(...(0,n.normalizeNodeNames)(v))}ar.write=i;function a(v){const _=(0,e.getProxyFromObject)(v),x=_[e._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(x))throw new Error("Object is not transactable.");_[e._proxyContext]=_[e._proxyContext].duplicate({dataset:x.startTransaction(),state:{parentDataset:x}})}ar.startTransaction=a;function o(v){const[_,x]=(0,n.getTransactionalDatasetFromLdo)(v);_.commit(),x[e._proxyContext]=x[e._proxyContext].duplicate({dataset:x[e._proxyContext].state.parentDataset})}ar.commitTransaction=o;function s(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v);return _.getChanges()}ar.transactionChanges=s;function l(v){return(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset]}ar.getDataset=l;async function c(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v),x=_.getChanges();return(0,t.changesToSparqlUpdate)(x)}ar.toSparqlUpdate=c;async function d(v,_){const x=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(x,_)}ar.serialize=d;async function h(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{})}ar.toTurtle=h;async function m(v){throw new Error("Not Implemented")}ar.toJsonLd=m;async function y(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{format:"N-Triples"})}return ar.toNTriples=y,ar}var tC={},m4;function Bye(){return m4||(m4=1,Object.defineProperty(tC,"__esModule",{value:!0})),tC}var y4;function qye(){return y4||(y4=1,function(e){var t=rg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=rg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(jye(),e),n($ye(),e),n(Uye(),e),n(Az(),e),n(Tz(),e),n(yO(),e),n(Rz(),e),n(Bye(),e)}(rg)),rg}var sr=qye();const Al={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},nc={Accommodation:Al.hospex+"Accommodation",PersonalHospexDocument:Al.hospex+"PersonalHospexDocument",offers:Al.hospex+"offers",offeredBy:Al.hospex+"offeredBy",storage:Al.hospex+"storage"},om={...Object.fromEntries(Object.entries(hN).map(([e,t])=>[e,pN(t)])),subject:pN(hN.object.replace("object","subject"))},Rl={participation:Al.wf+"participation",participant:Al.wf+"participant",...Ipe},Pz={LongChat:Al.meeting+"LongChat",...Lpe},Oz=[{type:"match",subject:"?community",predicate:gh.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:vu.inbox,pick:"object",target:"?inbox"}],Lz=[...Oz,{type:"match",subject:"?group",predicate:a9.hasMember,pick:"object",target:"?person"}],eb={type:"match",subject:"?person",predicate:vu.inbox,pick:"object",target:"?inbox"},Vh=[{type:"match",subject:"?person",predicate:GP.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],Iz=[...Vh,{type:"match",subject:"?person",predicate:Dn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],Mz=[...Iz,{type:"match",subject:"?person",predicate:Fh.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Dn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},eb],Dz=[{type:"match",predicate:Lf.type,object:Dn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Dn.forClass,object:nc.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:Dn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:gh.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],vO=[...Iz,...Dz],zye=[...Mz,...Dz,{type:"match",subject:"?person",predicate:Fh.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},eb,{type:"match",subject:"?person",predicate:gh.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:gh.name,pick:"object",target:"?communityName"}],Hye=[...vO,{type:"match",subject:"?person",predicate:Fh.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],kz=[...vO,{type:"match",subject:"?person",predicate:nc.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],Vye=[...Lz,...kz],Kye=[{type:"match",subject:"?offer",predicate:nc.offeredBy,pick:"object",target:"?person"}],Gye=[...Vh,{type:"match",subject:"?person",predicate:Vl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:GP.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],Wye=[...Vh,eb,{type:"match",subject:"?inbox",predicate:vu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Lf.type,object:om.Invite,pick:"subject",target:"?inviteNotification"}],Qye=[...Vh,eb,{type:"match",subject:"?inbox",predicate:vu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Lf.type,object:om.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:om.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:om.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:om.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],Nz=[...Vh,{type:"match",subject:"?person",predicate:Fh.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Dn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:Lf.type,object:Dn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Dn.forClass,object:Pz.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:Dn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:Rl.participation,pick:"object",target:"?participation"}],Zye=[...Nz,{type:"match",subject:"?participation",predicate:i9.references,pick:"object",target:"?otherChat"}],Jye=[...Nz,{type:"match",subject:"?participation",predicate:Rl.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:Rl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:Rl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:Rl.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:Rl.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:i9.references,pick:"object",target:"?otherChat"}],Fz=[{type:"match",subject:"?chatContainer",predicate:vu.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:vu.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:vu.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:vu.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:Rl.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:Rl.message,pick:"object",target:"?message"}],ew=e=>e.termType==="NamedNode"?new Qr(wi(e.value)):void 0,Yye=[...Jye,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:ew},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:ew},...Fz],Xye=[...Zye,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:ew},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:ew},...Fz],eve=(e,t)=>{const{variables:n,isLoading:r}=ga(V.useMemo(()=>({query:Lz,variables:{community:[t]},fetch:nr}),[t]));if(!r)return(n.person??[]).includes(e)},Du=(e,...t)=>{t.length===0&&(t=[...t,Ph]);const{store:n,variables:r,isLoading:i}=ga({query:Oz,variables:V.useMemo(()=>({community:[e]}),[e]),fetch:nr}),a=V.useMemo(()=>sr.createLdoDataset(n.getQuads(null,null,null,null)).usingType(Tge).fromSubject(e),[e,n,r]),o=nC(a,"name",...t),s=nC(a,"note",...t),l=nC(a,"about",...t);return V.useMemo(()=>{var c,d;return{community:e,logo:((c=a.logo)==null?void 0:c.map(({"@id":h})=>h))??[],name:o,about:l,pun:s,groups:r.group??[],isLoading:i,inbox:(d=r.inbox)==null?void 0:d[0]}},[l,a.logo,e,i,o,s,r.group,r.inbox])},nC=(e,t,...n)=>{const r=V.useMemo(()=>[...n,"@none"],[n]);return V.useMemo(()=>{const a=sr.languagesOf(e,t);for(const o of r){const s=a[o];if(typeof s=="string")return s;if((s==null?void 0:s.toString())==="[object LanguageSet]"){const l=[...s][0];if(typeof l=="string")return l}}},[r,t,e])},tve="_select_103rf_1",nve={select:tve},rve=()=>{const e=bi(Pf),t=Yl();return H.jsx("select",{className:nve.select,value:e,onChange:n=>{t(xP.changeLocale(n.target.value))},children:U0.map(n=>H.jsx("option",{value:n,children:n},n))})},ive="_header_1hug1_1",ave="_logoContainer_1hug1_12",ove="_logo_1hug1_12",sve="_spacer_1hug1_21",Jv={header:ive,logoContainer:ave,logo:ove,spacer:sve},uve=()=>{const e=Yl(),t=async()=>{await Pte(),e(AP.signout())};return H.jsx("button",{onClick:t,children:H.jsx(wt,{id:"ydgdD7"})})},ku={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Nu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},Resource:"http://www.w3.org/ns/ldp#Resource"},jz={schema:ku,shape:"https://example.com/SolidProfile",context:Nu},lve={schema:ku,shape:"https://example.com/FoafProfile",context:Nu},tb={schema:ku,shape:"https://example.com/HospexProfile",context:Nu},nb={schema:ku,shape:"https://example.com/Accommodation",context:Nu},cve={schema:ku,shape:"https://example.com/PublicTypeIndex",context:Nu},fve={schema:ku,shape:"https://example.com/PrivateTypeIndex",context:Nu},mh={schema:ku,shape:"https://example.com/ChatShape",context:Nu},$z={schema:ku,shape:"https://example.com/MessageActivity",context:Nu},Uz={schema:ku,shape:"https://example.com/ContactInvitationActivity",context:Nu};var v4=cy();const dve=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},_4=e=>JSON.parse(JSON.stringify(e,dve()));async function xR(e){const t=sr.transactionChanges(e),n=[`_:mutate a <${Dn.InsertDeletePatch}>`];if(t.added){const i=await v4.datasetToString(t.added,{format:"N3"});n.push(`<${Dn.inserts}> { ${i} }`)}if(t.removed){const i=await v4.datasetToString(t.removed,{format:"N3"});n.push(`<${Dn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}var rC,w4;function Bz(){if(w4)return rC;w4=1;var e=Qw(),t=sy();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return rC=n,rC}var sm={exports:{}};sm.exports;var b4;function qz(){return b4||(b4=1,function(e,t){var n=Jo(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,m=s?s(h):new c.constructor(h);return c.copy(m),m}e.exports=l}(sm,sm.exports)),sm.exports}var iC,S4;function _O(){if(S4)return iC;S4=1;var e=I9();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return iC=t,iC}var aC,x4;function zz(){if(x4)return aC;x4=1;var e=_O();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return aC=t,aC}var oC,E4;function Hz(){if(E4)return oC;E4=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return oC=e,oC}var sC,C4;function hve(){if(C4)return sC;C4=1;var e=So(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return sC=n,sC}var uC,T4;function wO(){if(T4)return uC;T4=1;var e=j9(),t=e(Object.getPrototypeOf,Object);return uC=t,uC}var lC,A4;function Vz(){if(A4)return lC;A4=1;var e=hve(),t=wO(),n=oO();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return lC=r,lC}var cC,R4;function Kz(){if(R4)return cC;R4=1;var e=Gw(),t=Mu();function n(r){return t(r)&&e(r)}return cC=n,cC}var fC,P4;function Gz(){if(P4)return fC;P4=1;var e=Uh(),t=wO(),n=Mu(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var h=t(d);if(h===null)return!0;var m=s.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return fC=c,fC}var dC,O4;function Wz(){if(O4)return dC;O4=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return dC=e,dC}var hC,L4;function bO(){if(L4)return hC;L4=1;var e=Qw(),t=sy(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var l=a[o];(!(r.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return hC=i,hC}var pC,I4;function Kh(){if(I4)return pC;I4=1;var e=bO(),t=Qw();function n(r,i,a,o){var s=!a;a||(a={});for(var l=-1,c=i.length;++l<c;){var d=i[l],h=o?o(a[d],r[d],d,a,r):void 0;h===void 0&&(h=r[d]),s?t(a,d,h):e(a,d,h)}return a}return pC=n,pC}var gC,M4;function pve(){if(M4)return gC;M4=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return gC=e,gC}var mC,D4;function gve(){if(D4)return mC;D4=1;var e=So(),t=oO(),n=pve(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!e(o))return n(o);var s=t(o),l=[];for(var c in o)c=="constructor"&&(s||!i.call(o,c))||l.push(c);return l}return mC=a,mC}var yC,k4;function dy(){if(k4)return yC;k4=1;var e=F9(),t=gve(),n=Gw();function r(i){return n(i)?e(i,!0):t(i)}return yC=r,yC}var vC,N4;function mve(){if(N4)return vC;N4=1;var e=Kh(),t=dy();function n(r){return e(r,t(r))}return vC=n,vC}var _C,F4;function yve(){if(F4)return _C;F4=1;var e=Bz(),t=qz(),n=zz(),r=Hz(),i=Vz(),a=Hw(),o=Yo(),s=Kz(),l=Vw(),c=JP(),d=So(),h=Gz(),m=aO(),y=Wz(),v=mve();function _(x,b,S,A,P,O,D){var F=y(x,S),Q=y(b,S),X=D.get(Q);if(X){e(x,S,X);return}var U=O?O(F,Q,S+"",x,b,D):void 0,Y=U===void 0;if(Y){var ce=o(Q),te=!ce&&l(Q),se=!ce&&!te&&m(Q);U=Q,ce||te||se?o(F)?U=F:s(F)?U=r(F):te?(Y=!1,U=t(Q,!0)):se?(Y=!1,U=n(Q,!0)):U=[]:h(Q)||a(Q)?(U=F,a(F)?U=v(F):(!d(F)||c(F))&&(U=i(Q))):Y=!1}Y&&(D.set(Q,U),P(U,Q,A,O,D),D.delete(Q)),e(x,S,U)}return _C=_,_C}var wC,j4;function vve(){if(j4)return wC;j4=1;var e=zw(),t=Bz(),n=q9(),r=yve(),i=So(),a=dy(),o=Wz();function s(l,c,d,h,m){l!==c&&n(c,function(y,v){if(m||(m=new e),i(y))r(l,c,v,d,s,h,m);else{var _=h?h(o(l,v),y,v+"",l,c,m):void 0;_===void 0&&(_=y),t(l,v,_)}},a)}return wC=s,wC}var bC,$4;function Qz(){if($4)return bC;$4=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return bC=e,bC}var SC,U4;function Zz(){if(U4)return SC;U4=1;var e=Qz(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(c),e(r,this,d)}}return SC=n,SC}var xC,B4;function _ve(){if(B4)return xC;B4=1;function e(t){return function(){return t}}return xC=e,xC}var EC,q4;function wve(){if(q4)return EC;q4=1;var e=_ve(),t=B9(),n=lO(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return EC=r,EC}var CC,z4;function bve(){if(z4)return CC;z4=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return CC=r,CC}var TC,H4;function Jz(){if(H4)return TC;H4=1;var e=wve(),t=bve(),n=t(e);return TC=n,TC}var AC,V4;function Yz(){if(V4)return AC;V4=1;var e=lO(),t=Zz(),n=Jz();function r(i,a){return n(t(i,a,e),i+"")}return AC=r,AC}var RC,K4;function Sve(){if(K4)return RC;K4=1;var e=sy(),t=Gw(),n=Kw(),r=So();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return RC=i,RC}var PC,G4;function xve(){if(G4)return PC;G4=1;var e=Yz(),t=Sve();function n(r){return e(function(i,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,c=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&t(a[0],a[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++o<s;){var d=a[o];d&&r(i,d,o,l)}return i})}return PC=n,PC}var OC,W4;function Eve(){if(W4)return OC;W4=1;var e=vve(),t=xve(),n=t(function(r,i,a){e(r,i,a)});return OC=n,OC}var Cve=Eve();const yh=Lr(Cve);class Ho extends Error{constructor(n,r){super(n);yS(this,"status");yS(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Ho.prototype)}}var LC,Q4;function Xz(){if(Q4)return LC;Q4=1;var e=ly();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return LC=t,LC}var IC,Z4;function Tve(){if(Z4)return IC;Z4=1;function e(t,n){return t>n}return IC=e,IC}var MC,J4;function Ave(){if(J4)return MC;J4=1;var e=Xz(),t=Tve(),n=cO();function r(i,a){return i&&i.length?e(i,n(a,2),t):void 0}return MC=r,MC}var Rve=Ave();const Pve=Lr(Rve),Ove=(e,t)=>nr(e,{cache:"no-store",...t}),eH=e=>ZP(e,Ove),Lve=e=>{const t=V.useMemo(()=>({queries:e.map(r=>ec(r)).map(r=>({queryKey:[zr.rdfDocument,r],queryFn:()=>eH(r)}))}),[e]);return Sm(t)},Ive=()=>{const e=Si();return Pa({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await zo(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:Gh(e)})},Vo=e=>{const t=Si();return Pa({mutationFn:async({uri:r,data:i,language:a="en",method:o="PUT",throwOnHttpError:s=!1})=>{const l=sr.createLdoDataset();if(Array.isArray(i))i.forEach(y=>{const v=l.usingType(e).fromSubject(y["@id"]);sr.setLanguagePreferences(a).using(v),yh(v,y)});else{const y=l.usingType(e).fromSubject(i["@id"]);sr.setLanguagePreferences(a).using(y),yh(y,i)}const c=await sr.toTurtle(l.usingType(e).fromSubject("")),d={"content-type":"text/turtle"};o==="PUT"&&(d["If-None-Match"]="*");const h=await zo(r,{method:o,body:c,headers:d});if(s&&!h.ok)throw new Ho(h.statusText,h);return h.headers.get("location")},onSuccess:Gh(t)})},Xo=()=>{const e=Si();return Pa({mutationFn:async({uri:n,patch:r})=>{const i=await zo(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:Gh(e,n=>n.status===201)})},Df=e=>{const t=Si();return Pa({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:o="en"})=>{const s=await zo(n);let l="";s.ok&&(l=await s.text());const d=(await sr.parseRdf(l,{baseIRI:n})).usingType(e);let h="";if(r){const m=d.fromSubject(r);sr.setLanguagePreferences(o).using(m),sr.startTransaction(m),a(m),h=await xR(m)}else if(i){const m=d.matchSubject(i.predicate,i.object,i.graph);sr.setLanguagePreferences(o).using(m),sr.startTransaction(m),a(m),h=await xR(m)}return await zo(n,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}})},onSuccess:Gh(t,n=>n.status===201)})},Mve=e=>{const t=Si();return Pa({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const o=await zo(n);let s="";o.ok&&(s=await o.text());const c=(await sr.parseRdf(s,{baseIRI:n})).usingType(e),d=r(c);sr.setLanguagePreferences(a).using(d),sr.startTransaction(d),i(d);const h=await xR(d);return await zo(n,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}})},onSuccess:Gh(t,n=>n.status===201)})},rb=()=>{const e=Si();return Pa({mutationFn:async({uri:n})=>{await zo(n,{method:"DELETE"})},onSuccess:Gh(e)})},Dve=(e,t)=>{const n=kpe(e),r=t.getQueryCache().getAll().filter(a=>a.queryKey[0]===zr.rdfDocument&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return Pve(r,a=>a.length)},Gh=(e,t=()=>!0)=>(n,r)=>{const i=ec(r.uri);if(e.invalidateQueries({queryKey:[zr.rdfDocument,i]}),e.invalidateQueries({queryKey:[zr.rdfDocument,o9(i)]}),t(n)){const a=Dve(i,e);a&&e.invalidateQueries({queryKey:[zr.rdfDocument,a]})}},Ko=(e,t)=>{const n=ga(V.useMemo(()=>({query:vO,variables:{person:e?[e]:[],community:[t]},fetch:nr}),[t,e])),{variables:r,isLoading:i}=n,a=ga(V.useMemo(()=>({query:Mz,variables:{person:e?[e]:[]},fetch:nr}),[e])),o=V.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(b=>new As(n.quads).getQuads(null,null,null,new Qr(b))).map(b=>sr.createLdoDataset(b).usingType(tb).fromSubject(e)),[n.quads,r.hospexDocumentForCommunity,e]),s=V.useMemo(()=>{const{quads:v}=a;return sr.createLdoDataset(v).usingType(lve).fromSubject(e)},[a,e]),l=V.useMemo(()=>yh({},_4(s),...o.map(v=>_4(v))),[s,o]),c=V.useMemo(()=>o.map(v=>sr.languagesOf(v,"note")),[o]),[d]=V.useMemo(()=>c.map(v=>{var _;return((_=v==null?void 0:v.en)==null?void 0:_.values().next().value)??""}),[c]),h=V.useMemo(()=>{var v,_;return{id:e,name:l.name??"",photo:(v=l.hasPhoto)==null?void 0:v["@id"],about:d,interests:((_=l.topicInterest)==null?void 0:_.map(x=>x["@id"]))??[]}},[d,l.hasPhoto,l.name,l.topicInterest,e]),m=V.useMemo(()=>{var v,_,x,b,S;return o.length>0?{id:e,name:((v=o[0])==null?void 0:v.name)??"",photo:(x=(_=o[0])==null?void 0:_.hasPhoto)==null?void 0:x["@id"],about:(S=(b=o[0])==null?void 0:b.note)==null?void 0:S[0]}:void 0},[o,e]),y=V.useMemo(()=>new As(n.quads).getQuads(new Qr(e),new Qr(Vl.topic_interest),null,null).map(v=>({id:v.object.id,document:v.graph.id})),[n,e]);return V.useMemo(()=>{var v;return[h,i,(v=r.hospexDocumentForCommunity)==null?void 0:v[0],y,m]},[m,y,i,h,r.hospexDocumentForCommunity])},tH=e=>{const{quads:t,isFetched:n}=ga(V.useMemo(()=>({query:Vh,variables:{person:[e]},fetch:nr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[e]));return V.useMemo(()=>[sr.createLdoDataset(t).usingType(jz).fromSubject(e),{isFetched:n}],[n,e,t])},kve=()=>{const e=Df(tb);return V.useCallback(async({personId:t,hospexDocument:n,data:r,language:i="en"})=>{await e.mutateAsync({uri:n,subject:t,language:i,transform:a=>{r.name&&(a.name=r.name),r.about&&(a.note=[r.about]),r.photo&&(a.hasPhoto={"@id":r.photo})}})},[e])},Nve=()=>{const e=Xo();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${t}> <${Vl.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])},Fve=()=>{const e=Xo();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.deletes}> { <${t}> <${Vl.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])};var DC,Y4;function jve(){if(Y4)return DC;Y4=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return DC=e,DC}var kC,X4;function $ve(){if(X4)return kC;X4=1;var e=Kh(),t=uy();function n(r,i){return r&&e(i,t(i),r)}return kC=n,kC}var NC,e6;function Uve(){if(e6)return NC;e6=1;var e=Kh(),t=dy();function n(r,i){return r&&e(i,t(i),r)}return NC=n,NC}var FC,t6;function Bve(){if(t6)return FC;t6=1;var e=Kh(),t=tO();function n(r,i){return e(r,t(r),i)}return FC=n,FC}var jC,n6;function nH(){if(n6)return jC;n6=1;var e=eO(),t=wO(),n=tO(),r=k9(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,n(o)),o=t(o);return s}:r;return jC=a,jC}var $C,r6;function qve(){if(r6)return $C;r6=1;var e=Kh(),t=nH();function n(r,i){return e(r,t(r),i)}return $C=n,$C}var UC,i6;function rH(){if(i6)return UC;i6=1;var e=M9(),t=nH(),n=dy();function r(i){return e(i,n,t)}return UC=r,UC}var BC,a6;function zve(){if(a6)return BC;a6=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return BC=n,BC}var qC,o6;function Hve(){if(o6)return qC;o6=1;var e=_O();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return qC=t,qC}var zC,s6;function Vve(){if(s6)return zC;s6=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return zC=t,zC}var HC,u6;function Kve(){if(u6)return HC;u6=1;var e=$h(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return HC=r,HC}var VC,l6;function Gve(){if(l6)return VC;l6=1;var e=_O(),t=Hve(),n=Vve(),r=Kve(),i=zz(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",x="[object Float64Array]",b="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";function Q(X,U,Y){var ce=X.constructor;switch(U){case y:return e(X);case a:case o:return new ce(+X);case v:return t(X,Y);case _:case x:case b:case S:case A:case P:case O:case D:case F:return i(X,Y);case s:return new ce;case l:case h:return new ce(X);case c:return n(X);case d:return new ce;case m:return r(X)}}return VC=Q,VC}var KC,c6;function Wve(){if(c6)return KC;c6=1;var e=Ww(),t=Mu(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return KC=r,KC}var GC,f6;function Qve(){if(f6)return GC;f6=1;var e=Wve(),t=rO(),n=iO(),r=n&&n.isMap,i=r?t(r):e;return GC=i,GC}var WC,d6;function Zve(){if(d6)return WC;d6=1;var e=Ww(),t=Mu(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return WC=r,WC}var QC,h6;function Jve(){if(h6)return QC;h6=1;var e=Zve(),t=rO(),n=iO(),r=n&&n.isSet,i=r?t(r):e;return QC=i,QC}var ZC,p6;function iH(){if(p6)return ZC;p6=1;var e=zw(),t=jve(),n=bO(),r=$ve(),i=Uve(),a=qz(),o=Hz(),s=Bve(),l=qve(),c=$9(),d=rH(),h=Ww(),m=zve(),y=Gve(),v=Vz(),_=Yo(),x=Vw(),b=Qve(),S=So(),A=Jve(),P=uy(),O=dy(),D=1,F=2,Q=4,X="[object Arguments]",U="[object Array]",Y="[object Boolean]",ce="[object Date]",te="[object Error]",se="[object Function]",pe="[object GeneratorFunction]",_e="[object Map]",de="[object Number]",ue="[object Object]",Re="[object RegExp]",k="[object Set]",ie="[object String]",me="[object Symbol]",K="[object WeakMap]",ee="[object ArrayBuffer]",ge="[object DataView]",Ae="[object Float32Array]",Ze="[object Float64Array]",Pe="[object Int8Array]",Ne="[object Int16Array]",Ye="[object Int32Array]",oe="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",Z={};Z[X]=Z[U]=Z[ee]=Z[ge]=Z[Y]=Z[ce]=Z[Ae]=Z[Ze]=Z[Pe]=Z[Ne]=Z[Ye]=Z[_e]=Z[de]=Z[ue]=Z[Re]=Z[k]=Z[ie]=Z[me]=Z[oe]=Z[z]=Z[$]=Z[ae]=!0,Z[te]=Z[se]=Z[K]=!1;function he(ye,He,Ee,Fe,tt,nt){var gt,qt=He&D,Se=He&F,Be=He&Q;if(Ee&&(gt=tt?Ee(ye,Fe,tt,nt):Ee(ye)),gt!==void 0)return gt;if(!S(ye))return ye;var ne=_(ye);if(ne){if(gt=m(ye),!qt)return o(ye,gt)}else{var q=h(ye),W=q==se||q==pe;if(x(ye))return a(ye,qt);if(q==ue||q==X||W&&!tt){if(gt=Se||W?{}:v(ye),!qt)return Se?l(ye,i(gt,ye)):s(ye,r(gt,ye))}else{if(!Z[q])return tt?ye:{};gt=y(ye,q,qt)}}nt||(nt=new e);var G=nt.get(ye);if(G)return G;nt.set(ye,gt),A(ye)?ye.forEach(function(ke){gt.add(he(ke,He,Ee,ke,ye,nt))}):b(ye)&&ye.forEach(function(ke,Rt){gt.set(Rt,he(ke,He,Ee,Rt,ye,nt))});var je=Be?Se?d:c:Se?O:P,Je=ne?void 0:je(ye);return t(Je||ye,function(ke,Rt){Je&&(Rt=ke,ke=ye[Rt]),n(gt,Rt,he(ke,He,Ee,Rt,ye,nt))}),gt}return ZC=he,ZC}var JC,g6;function Yve(){if(g6)return JC;g6=1;var e=iH(),t=1,n=4;function r(i){return e(i,t|n)}return JC=r,JC}var Xve=Yve();const e_e=Lr(Xve),t_e=e=>{const{quads:t,variables:n}=ga(V.useMemo(()=>({query:Xye,variables:{person:[e]},staleTime:3e4,fetch:nr}),[e])),r=V.useMemo(()=>{const i=sr.createLdoDataset(t).usingType(mh);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var d,h,m;const o=a["@id"],s=((d=a.participation)==null?void 0:d.flatMap(y=>{var v;return((v=y.references)==null?void 0:v.flatMap(_=>_["@id"]??[]).filter(_=>!!_))??[]}))??[],l=((h=a.participation)==null?void 0:h.map(y=>y.participant["@id"]))??[],c=[a,...(((m=a.participation)==null?void 0:m.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(v=>({id:v["@id"],message:v.content,createdAt:new Date(v.created).getTime(),from:v.maker["@id"],chat:y["@id"]})).sort((v,_)=>v.createdAt-_.createdAt));return{id:o,related:s,participants:l,messages:c}}).sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[t,n.chat]);return V.useMemo(()=>({data:r}),[r])},ib=e=>{const{quads:t,variables:n,isLoading:r}=ga(V.useMemo(()=>({query:Qye,variables:{person:e?[e]:[]},fetch:nr,staleTime:3e4}),[e])),i=V.useMemo(()=>(n.longChatNotification??[]).map(a=>{var s,l,c,d;const o=sr.createLdoDataset(t).usingType($z).fromSubject(a);return{id:o.object["@id"]??"",message:o.object.content,createdAt:new Date(((s=o.object)==null?void 0:s.created)??o.updated).getTime(),from:((l=o.object.maker)==null?void 0:l["@id"])??((c=o.actor)==null?void 0:c["@id"]),chat:o.target["@id"]??"",otherChats:(d=o.target.participation)==null?void 0:d.flatMap(h=>{var m;return((m=h.references)==null?void 0:m.flatMap(y=>y["@id"]??[]))??[]}),notification:o["@id"],status:"unread"}}),[t,n.longChatNotification]);return V.useMemo(()=>({isLoading:r,data:i}),[r,i])},n_e=e=>{const{data:t}=t_e(e),{data:n}=ib(e);return{data:V.useMemo(()=>{const i=e_e(t);n.forEach(a=>{const o=i.find(s=>{var l;return s.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(s.id))});if(o){o.status="unread";const s=o.messages.findIndex(l=>l.id===a.id);s>-1?o.messages[s]=a:o.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((o,s)=>((o==null?void 0:o.createdAt)??0)-((s==null?void 0:s.createdAt)??0));return i.sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,t])}};function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zr.apply(this,arguments)}function Sf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YC={exports:{}},XC,m6;function r_e(){if(m6)return XC;m6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return XC=e,XC}var eT,y6;function i_e(){if(y6)return eT;y6=1;var e=r_e();function t(){}function n(){}return n.resetWarningCache=t,eT=function(){function r(o,s,l,c,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},eT}var v6;function aH(){return v6||(v6=1,YC.exports=i_e()()),YC.exports}var Gl=cP();const a_e=Lr(Gl);var oH=function(t){return!!t&&t[0]==="o"},_6=Gl.unstable_batchedUpdates||function(e){return e()},Sd=function(t,n,r){return r===void 0&&(r=1e-4),Math.abs(t-n)<r},Lm=function(t,n){return t===!0||!!(t&&t[n])},wo=function(t,n){return typeof t=="function"?t(n):t},sH="_szhsinMenu",o_e=function(t){return t[sH]},s_e=function(t,n){return Object.defineProperty(n,sH,{value:t})},ab=function(t,n){return n&&Object.keys(n).forEach(function(r){var i=t[r],a=n[r];typeof a=="function"&&i?t[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:t[r]=a}),t},u_e=function(t){if(typeof t!="string")return{top:0,right:0,bottom:0,left:0};var n=t.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},tT=function(t){for(;t;){if(t=t.parentNode,!t||t===document.body)return;var n=getComputedStyle(t),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return t}};function uH(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function w6(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var vh=function(t){var n=t.block,r=t.element,i=t.modifiers,a=t.className;return V.useMemo(function(){var o=r?n+"__"+r:n,s=o;i&&Object.keys(i).forEach(function(c){var d=i[c];d&&(s+=" "+o+"--"+(d===!0?c:c+"-"+d))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(s+=" "+l)),s},[n,r,i,a])},l_e="szh-menu-container",gm="szh-menu",c_e="szh-menu-button",f_e="arrow",d_e="item",h_e="divider",lH=V.createContext(),cH=V.createContext({}),b6=V.createContext({}),fH=V.createContext({}),p_e=V.createContext({}),dH=V.createContext({}),hH=V.createContext({}),Uo=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),_i=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Im=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),mm=Object.freeze({FIRST:"first",LAST:"last"}),g_e=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),m_e=["className","isOpen","disabled","children"],y_e=s_e("MenuButton",V.forwardRef(function(t,n){var r=t.className,i=t.isOpen,a=t.disabled,o=t.children,s=Sf(t,m_e),l=V.useMemo(function(){return{open:i}},[i]);return H.jsx("button",Zr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},s,{ref:n,className:vh({block:c_e,modifiers:l,className:r}),children:o}))})),v_e=function(t){var n=t.className,r=t.containerRef,i=t.containerProps,a=t.children,o=t.isOpen,s=t.skipOpen,l=t.theming,c=t.transition,d=t.onClose,h=Lm(c,"item"),m=function(_){var x=_.key;switch(x){case Uo.ESC:wo(d,{key:x,reason:Im.CANCEL});break}},y=function(_){o&&!_.currentTarget.contains(_.relatedTarget||document.activeElement)&&(wo(d,{reason:Im.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return H.jsx("div",Zr({},ab({onKeyDown:m,onBlur:y},i),{className:vh({block:l_e,modifiers:V.useMemo(function(){return{theme:l,itemTransition:h}},[l,h]),className:n}),style:Zr({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},__e=function(t,n){var r=V.useState(),i=r[0],a=r[1],o=V.useRef({items:[],hoverIndex:-1,sorted:!1}),s=o.current,l=V.useCallback(function(d,h){var m=s.items;if(!d)s.items=[];else if(h)m.push(d);else{var y=m.indexOf(d);y>-1&&(m.splice(y,1),d.contains(document.activeElement)&&(n.current.focus(),a()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),c=V.useCallback(function(d,h,m){var y=s.items,v=s.hoverIndex,_=function(){if(!s.sorted){var A=t.current.querySelectorAll(".szh-menu__item");y.sort(function(P,O){return w6(A,P)-w6(A,O)}),s.sorted=!0}},x=-1,b=void 0;switch(d){case _i.RESET:break;case _i.SET:b=h;break;case _i.UNSET:b=function(A){return A===h?void 0:A};break;case _i.FIRST:_(),x=0,b=y[x];break;case _i.LAST:_(),x=y.length-1,b=y[x];break;case _i.SET_INDEX:_(),x=m,b=y[x];break;case _i.INCREASE:_(),x=v,x<0&&(x=y.indexOf(h)),x++,x>=y.length&&(x=0),b=y[x];break;case _i.DECREASE:_(),x=v,x<0&&(x=y.indexOf(h)),x--,x<0&&(x=y.length-1),b=y[x];break}b||(x=-1),a(b),s.hoverIndex=x},[t,s]);return{hoverItem:i,dispatch:c,updateItems:l}},w_e=function(t,n,r,i){var a=n.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=u_e(i),c=function(x){return x+o.left-s.left-l.left},d=function(x){return x+o.left+a.width-s.right+l.right},h=function(x){return x+o.top-s.top-l.top},m=function(x){return x+o.top+a.height-s.bottom+l.bottom},y=function(x){var b=c(x);if(b<0)x-=b;else{var S=d(x);S>0&&(x-=S,b=c(x),b<0&&(x-=b))}return x},v=function(x){var b=h(x);if(b<0)x-=b;else{var S=m(x);S>0&&(x-=S,b=h(x),b<0&&(x-=b))}return x};return{menuRect:a,containerRect:o,getLeftOverflow:c,getRightOverflow:d,getTopOverflow:h,getBottomOverflow:m,confineHorizontally:y,confineVertically:v}},b_e=function(t){var n=t.arrowRef,r=t.menuY,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return s=Math.max(l,s),s=Math.min(s,o.height-l),s},S_e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeLeftorRightY,o=t.placeLeftX,s=t.placeRightX,l=t.getLeftOverflow,c=t.getRightOverflow,d=t.confineHorizontally,h=t.confineVertically,m=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,x=v,b=a;_!=="initial"&&(b=h(b),_==="anchor"&&(b=Math.min(b,n.bottom-r.top),b=Math.max(b,n.top-r.top-i.height)));var S,A,P;x==="left"?(S=o,_!=="initial"&&(A=l(S),A<0&&(P=c(s),(P<=0||-A>P)&&(S=s,x="right")))):(S=s,_!=="initial"&&(P=c(S),P>0&&(A=l(o),(A>=0||-A<P)&&(S=o,x="left")))),_==="auto"&&(S=d(S));var O=y?b_e({menuY:b,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:O,x:S,y:b,computedDirection:x}},x_e=function(t){var n=t.arrowRef,r=t.menuX,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return s=Math.max(l,s),s=Math.min(s,o.width-l),s},E_e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeToporBottomX,o=t.placeTopY,s=t.placeBottomY,l=t.getTopOverflow,c=t.getBottomOverflow,d=t.confineHorizontally,h=t.confineVertically,m=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,x=v==="top"?"top":"bottom",b=a;_!=="initial"&&(b=d(b),_==="anchor"&&(b=Math.min(b,n.right-r.left),b=Math.max(b,n.left-r.left-i.width)));var S,A,P;x==="top"?(S=o,_!=="initial"&&(A=l(S),A<0&&(P=c(s),(P<=0||-A>P)&&(S=s,x="bottom")))):(S=s,_!=="initial"&&(P=c(S),P>0&&(A=l(o),(A>=0||-A<P)&&(S=o,x="top")))),_==="auto"&&(S=h(S));var O=y?x_e({menuX:b,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:O,x:b,y:S,computedDirection:x}},C_e=function(t){var n=t.arrow,r=t.align,i=t.direction,a=t.offsetX,o=t.offsetY,s=t.position,l=t.anchorRect,c=t.arrowRef,d=t.positionHelpers,h=d.menuRect,m=d.containerRect,y=a,v=o;n&&(i==="left"||i==="right"?y+=c.current.offsetWidth:v+=c.current.offsetHeight);var _=l.left-m.left-h.width-y,x=l.right-m.left+y,b=l.top-m.top-h.height-v,S=l.bottom-m.top+v,A,P;r==="end"?(A=l.right-m.left-h.width,P=l.bottom-m.top-h.height):r==="center"?(A=l.left-m.left-(h.width-l.width)/2,P=l.top-m.top-(h.height-l.height)/2):(A=l.left-m.left,P=l.top-m.top),A+=y,P+=v;var O=Zr({},d,{anchorRect:l,placeLeftX:_,placeRightX:x,placeLeftorRightY:P,placeTopY:b,placeBottomY:S,placeToporBottomX:A,arrowRef:c,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return S_e(O);case"top":case"bottom":default:return E_e(O)}},w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?V.useLayoutEffect:V.useEffect;function S6(e,t){typeof e=="function"?e(t):e.current=t}var SO=function(t,n){return V.useMemo(function(){return t?n?function(r){S6(t,r),S6(n,r)}:t:n},[t,n])},T_e=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],A_e=function(t){var n=t.ariaLabel,r=t.menuClassName,i=t.menuStyle,a=t.arrowClassName,o=t.arrowStyle,s=t.anchorPoint,l=t.anchorRef,c=t.containerRef,d=t.containerProps,h=t.focusProps,m=t.externalRef,y=t.parentScrollingRef,v=t.arrow,_=t.align,x=_===void 0?"start":_,b=t.direction,S=b===void 0?"bottom":b,A=t.position,P=A===void 0?"auto":A,O=t.overflow,D=O===void 0?"visible":O,F=t.setDownOverflow,Q=t.repositionFlag,X=t.captureFocus,U=X===void 0?!0:X,Y=t.state,ce=t.endTransition,te=t.isDisabled,se=t.menuItemFocus,pe=t.offsetX,_e=pe===void 0?0:pe,de=t.offsetY,ue=de===void 0?0:de,Re=t.children,k=t.onClose,ie=Sf(t,T_e),me=V.useState({x:0,y:0}),K=me[0],ee=me[1],ge=V.useState({}),Ae=ge[0],Ze=ge[1],Pe=V.useState(),Ne=Pe[0],Ye=Pe[1],oe=V.useState(S),z=oe[0],$=oe[1],ae=V.useState(0),Z=ae[0],he=ae[1],ye=V.useReducer(function(it){return it+1},1),He=ye[0],Ee=ye[1],Fe=V.useContext(dH),tt=Fe.transition,nt=Fe.boundingBoxRef,gt=Fe.boundingBoxPadding,qt=Fe.rootMenuRef,Se=Fe.rootAnchorRef,Be=Fe.scrollNodesRef,ne=Fe.reposition,q=Fe.viewScroll,W=V.useContext(b6).reposSubmenu||Q,G=V.useRef(null),je=V.useRef(),Je=V.useRef(),ke=V.useRef(!1),Rt=V.useRef({width:0,height:0}),Lt=V.useRef(function(){}),Nt=__e(G,je),Pt=Nt.hoverItem,zt=Nt.dispatch,Tr=Nt.updateItems,dn=oH(Y),hn=Lm(tt,"open"),gr=Lm(tt,"close"),un=Be.current,ln=function(Ct){switch(Ct.key){case Uo.HOME:zt(_i.FIRST);break;case Uo.END:zt(_i.LAST);break;case Uo.UP:zt(_i.DECREASE,Pt);break;case Uo.DOWN:zt(_i.INCREASE,Pt);break;case Uo.SPACE:Ct.target&&Ct.target.className.indexOf(gm)!==-1&&Ct.preventDefault();return;default:return}Ct.preventDefault(),Ct.stopPropagation()},In=function(){Y==="closing"&&Ye(),wo(ce)},ur=V.useCallback(function(it){var Ct,Dt=l?(Ct=l.current)==null?void 0:Ct.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(Dt){un.menu||(un.menu=(nt?nt.current:tT(qt.current))||window);var Gt=w_e(c,G,un.menu,gt),Xt=C_e({arrow:v,align:x,direction:S,offsetX:_e,offsetY:ue,position:P,anchorRect:Dt,arrowRef:Je,positionHelpers:Gt}),Ht=Xt.arrowX,jt=Xt.arrowY,tn=Xt.x,Pn=Xt.y,Wt=Xt.computedDirection,Zt=Gt.menuRect,En=Zt.height;if(!it&&D!=="visible"){var Cn=Gt.getTopOverflow,qn=Gt.getBottomOverflow,Ar,Vr,Kr=Rt.current.height,Ir=qn(Pn);if(Ir>0||Sd(Ir,0)&&Sd(En,Kr))Ar=En-Ir,Vr=Ir;else{var $n=Cn(Pn);($n<0||Sd($n,0)&&Sd(En,Kr))&&(Ar=En+$n,Vr=0-$n,Ar>=0&&(Pn-=$n))}Ar>=0?(En=Ar,Ye({height:Ar,overflowAmt:Vr})):Ye()}v&&Ze({x:Ht,y:jt}),ee({x:tn,y:Pn}),$(Wt),Rt.current={width:Zt.width,height:En}}},[v,x,gt,S,_e,ue,P,D,s,l,c,nt,qt,un]);w0(function(){dn&&(ur(),ke.current&&Ee()),ke.current=dn,Lt.current=ur},[dn,ur,W]),w0(function(){Ne&&!F&&(G.current.scrollTop=0)},[Ne,F]),w0(function(){return Tr},[Tr]),V.useEffect(function(){var it=un.menu;if(!(!dn||!it)){if(it=it.addEventListener?it:window,!un.anchors){un.anchors=[];for(var Ct=tT(Se&&Se.current);Ct&&Ct!==it;)un.anchors.push(Ct),Ct=tT(Ct)}var Dt=q;if(un.anchors.length&&Dt==="initial"&&(Dt="auto"),Dt!=="initial"){var Gt=function(){Dt==="auto"?_6(function(){return ur(!0)}):wo(k,{reason:Im.SCROLL})},Xt=un.anchors.concat(q!=="initial"?it:[]);return Xt.forEach(function(Ht){return Ht.addEventListener("scroll",Gt)}),function(){return Xt.forEach(function(Ht){return Ht.removeEventListener("scroll",Gt)})}}}},[Se,un,dn,k,q,ur]);var Le=!!Ne&&Ne.overflowAmt>0;V.useEffect(function(){if(!(Le||!dn||!y)){var it=function(){return _6(ur)},Ct=y.current;return Ct.addEventListener("scroll",it),function(){return Ct.removeEventListener("scroll",it)}}},[dn,Le,y,ur]),V.useEffect(function(){if(!(typeof ResizeObserver!="function"||ne==="initial")){var it=new ResizeObserver(function(Dt){var Gt=Dt[0],Xt=Gt.borderBoxSize,Ht=Gt.target,jt,tn;if(Xt){var Pn=Xt[0]||Xt,Wt=Pn.inlineSize,Zt=Pn.blockSize;jt=Wt,tn=Zt}else{var En=Ht.getBoundingClientRect();jt=En.width,tn=En.height}jt===0||tn===0||Sd(jt,Rt.current.width,1)&&Sd(tn,Rt.current.height,1)||Gl.flushSync(function(){Lt.current(),Ee()})}),Ct=G.current;return it.observe(Ct,{box:"border-box"}),function(){return it.unobserve(Ct)}}},[ne]),V.useEffect(function(){if(!dn){zt(_i.RESET),gr||Ye();return}var it=se||{},Ct=it.position,Dt=it.alwaysUpdate,Gt=function(){Ct===mm.FIRST?zt(_i.FIRST):Ct===mm.LAST?zt(_i.LAST):Ct>=-1&&zt(_i.SET_INDEX,void 0,Ct)};if(Dt)Gt();else if(U){var Xt=setTimeout(function(){G.current.contains(document.activeElement)||(je.current.focus(),Gt())},hn?170:100);return function(){return clearTimeout(Xt)}}},[dn,hn,gr,U,se,zt]);var qe=Z>0,bt=V.useMemo(function(){return{isParentOpen:dn,isSubmenuOpen:qe,setOpenSubmenuCount:he,dispatch:zt,updateItems:Tr}},[dn,qe,zt,Tr]),Et,Mt;Ne&&(F?Mt=Ne.overflowAmt:Et=Ne.height);var Hn=V.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:Mt,parentMenuRef:G,parentDir:z}},[He,D,Mt,z]),Jn=Et>=0?{maxHeight:Et,overflow:D}:void 0,We=V.useMemo(function(){return{state:Y,dir:z}},[Y,z]),Ce=V.useMemo(function(){return{dir:z}},[z]),et=vh({block:gm,element:f_e,modifiers:Ce,className:a}),ft=H.jsxs("ul",Zr({role:"menu","aria-label":n},uH(te),ab({onKeyDown:ln,onAnimationEnd:In},ie),{ref:SO(m,G),className:vh({block:gm,modifiers:We,className:r}),style:Zr({},i,Jn,{margin:0,display:Y==="closed"?"none":void 0,position:"absolute",left:K.x,top:K.y}),children:[H.jsx("div",Zr({tabIndex:-1,style:{position:"absolute",left:0,top:0}},h,{ref:je})),v&&H.jsx("div",{className:et,style:Zr({},o,{position:"absolute",left:Ae.x,top:Ae.y}),ref:Je}),H.jsx(b6.Provider,{value:Hn,children:H.jsx(cH.Provider,{value:bt,children:H.jsx(lH.Provider,{value:Pt,children:Re})})})]}));return d?H.jsx(v_e,Zr({},d,{isOpen:dn,children:ft})):ft},R_e=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],P_e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.className,a=t.containerProps,o=t.initialMounted,s=t.unmountOnClose,l=t.transition,c=t.transitionTimeout,d=t.boundingBoxRef,h=t.boundingBoxPadding,m=t.reposition,y=m===void 0?"auto":m,v=t.submenuOpenDelay,_=v===void 0?300:v,x=t.submenuCloseDelay,b=x===void 0?150:x,S=t.skipOpen,A=t.viewScroll,P=A===void 0?"initial":A,O=t.portal,D=t.theming,F=t.onItemClick,Q=Sf(t,R_e),X=V.useRef(null),U=V.useRef({}),Y=Q.anchorRef,ce=Q.state,te=Q.onClose,se=V.useMemo(function(){return{initialMounted:o,unmountOnClose:s,transition:l,transitionTimeout:c,boundingBoxRef:d,boundingBoxPadding:h,rootMenuRef:X,rootAnchorRef:Y,scrollNodesRef:U,reposition:y,viewScroll:P}},[o,s,l,c,Y,d,h,y,P]),pe=V.useMemo(function(){return{submenuOpenDelay:_,submenuCloseDelay:b}},[_,b]),_e=V.useMemo(function(){return{handleClick:function(Re,k){Re.stopPropagation||wo(F,Re);var ie=Re.keepOpen;ie===void 0&&(ie=k&&Re.key===Uo.SPACE),ie||wo(te,{value:Re.value,key:Re.key,reason:Im.CLICK})},handleClose:function(Re){wo(te,{key:Re,reason:Im.CLICK})}}},[F,te]);if(!ce)return null;var de=H.jsx(dH.Provider,{value:se,children:H.jsx(hH.Provider,{value:pe,children:H.jsx(fH.Provider,{value:_e,children:H.jsx(A_e,Zr({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:X,containerProps:{className:i,containerRef:X,containerProps:a,skipOpen:S,theming:D,transition:l,onClose:te}}))})})});return O===!0&&typeof document<"u"?Gl.createPortal(de,document.body):O?O.target?Gl.createPortal(de,O.target):O.stablePosition?null:de:de}),nT=0,rT=1,Yv=2,iT=3,aT=4,O_e=5,L_e=6,pH=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],oT=function(t){return t?L_e:O_e},x6=function(t,n,r,i,a){clearTimeout(i.current),n(t),r.current=t,a&&a({state:pH[t]})},I_e=function(t){var n=t===void 0?{}:t,r=n.enter,i=r===void 0?!0:r,a=n.exit,o=a===void 0?!0:a,s=n.preEnter,l=n.preExit,c=n.timeout,d=n.initialEntered,h=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,v=V.useState(d?Yv:oT(h)),_=v[0],x=v[1],b=V.useRef(_),S=V.useRef(),A,P;typeof c=="object"?(A=c.enter,P=c.exit):A=P=c;var O=V.useCallback(function(){var F;switch(b.current){case rT:case nT:F=Yv;break;case aT:case iT:F=oT(m);break}F!==void 0&&x6(F,x,b,S,y)},[y,m]),D=V.useCallback(function(F){var Q=function U(Y){switch(x6(Y,x,b,S,y),Y){case rT:A>=0&&(S.current=setTimeout(O,A));break;case aT:P>=0&&(S.current=setTimeout(O,P));break;case nT:case iT:S.current=setTimeout(function(){return U(Y+1)},0);break}},X=b.current<=Yv;typeof F!="boolean"&&(F=!X),F?X||Q(i?s?nT:rT:Yv):X&&Q(o?l?iT:aT:oT(m))},[O,y,i,o,s,l,A,P,m]);return V.useEffect(function(){return function(){return clearTimeout(S.current)}},[]),[pH[_],D,O]},M_e=function(t){var n=t===void 0?{}:t,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,o=n.transition,s=n.transitionTimeout,l=s===void 0?500:s,c=I_e({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:Lm(o,"open"),exit:Lm(o,"close")}),d=c[0],h=c[1],m=c[2];return[{state:g_e[d],endTransition:m},h]},D_e=function(t){var n=M_e(t),r=n[0],i=n[1],a=V.useState(),o=a[0],s=a[1],l=function(d,h){s({position:d,alwaysUpdate:h}),i(!0)};return[Zr({menuItemFocus:o},r),i,l]},k_e=function(t,n){var r=V.useRef(n);V.useEffect(function(){r.current!==n&&wo(t,{open:n}),r.current=n},[t,n])},N_e=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],F_e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.menuButton,a=t.instanceRef,o=t.onMenuChange,s=Sf(t,N_e),l=D_e(s),c=l[0],d=l[1],h=l[2],m=oH(c.state),y=V.useRef(!1),v=V.useRef(null),_=V.useCallback(function(O){d(!1),O.key&&v.current.focus()},[d]),x=function(D){y.current||h(D.detail===0?mm.FIRST:void 0)},b=function(D){switch(D.key){case Uo.UP:h(mm.LAST);break;case Uo.DOWN:h(mm.FIRST);break;default:return}D.preventDefault()},S=wo(i,{open:m});if(!S||!S.type)throw new Error("Menu requires a menuButton prop.");var A=Zr({ref:SO(S.ref,v)},ab({onClick:x,onKeyDown:b},S.props));o_e(S.type)==="MenuButton"&&(A.isOpen=m);var P=V.cloneElement(S,A);return k_e(o,m),V.useImperativeHandle(a,function(){return{openMenu:h,closeMenu:function(){return d(!1)}}}),H.jsxs(V.Fragment,{children:[P,H.jsx(P_e,Zr({},s,c,{"aria-label":r||(typeof S.props.children=="string"?S.props.children:"Menu"),anchorRef:v,ref:n,onClose:_,skipOpen:y}))]})}),j_e=function(t,n){var r=V.memo(n),i=V.forwardRef(function(a,o){var s=V.useRef(null);return H.jsx(r,Zr({},a,{itemRef:s,externalRef:o,isHovering:V.useContext(lH)===s.current}))});return i.displayName="WithHovering("+t+")",i},$_e=function(t,n,r){w0(function(){if(!t){var i=n.current;return r(i,!0),function(){r(i)}}},[t,n,r])},U_e=function(t,n,r,i){var a=V.useContext(hH),o=a.submenuCloseDelay,s=V.useContext(cH),l=s.isParentOpen,c=s.isSubmenuOpen,d=s.dispatch,h=s.updateItems,m=V.useRef(0),y=function(){!r&&!i&&d(_i.SET,t.current)},v=function(){!i&&d(_i.UNSET,t.current)},_=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&v()},x=function(){c?m.current||(m.current=setTimeout(function(){m.current=0,y()},o)):y()},b=function(A,P){m.current&&(clearTimeout(m.current),m.current=0),!P&&v()};return $_e(i,t,h),V.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),V.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:_,onPointerMove:x,onPointerLeave:b}},B_e=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],q_e=["setHover"],xd=j_e("MenuItem",function(t){var n=t.className,r=t.value,i=t.href,a=t.type,o=t.checked,s=t.disabled,l=t.children,c=t.onClick,d=t.isHovering,h=t.itemRef,m=t.externalRef,y=Sf(t,B_e),v=!!s,_=U_e(h,h,d,v),x=_.setHover,b=Sf(_,q_e),S=V.useContext(fH),A=V.useContext(p_e),P=a==="radio",O=a==="checkbox",D=!!i&&!v&&!P&&!O,F=P?A.value===r:O?!!o:!1,Q=function(se){if(v){se.stopPropagation(),se.preventDefault();return}var pe={value:r,syntheticEvent:se};se.key!==void 0&&(pe.key=se.key),O&&(pe.checked=!F),P&&(pe.name=A.name),wo(c,pe),P&&wo(A.onRadioChange,pe),S.handleClick(pe,O||P)},X=function(se){if(d)switch(se.key){case Uo.ENTER:case Uo.SPACE:D?h.current.click():Q(se);break}},U=V.useMemo(function(){return{type:a,disabled:v,hover:d,checked:F,anchor:D}},[a,v,d,F,D]),Y=ab(Zr({},b,{onPointerDown:x,onKeyDown:X,onClick:Q}),y),ce=Zr({role:P?"menuitemradio":O?"menuitemcheckbox":"menuitem","aria-checked":P||O?F:void 0},uH(v,d),Y,{ref:SO(m,h),className:vh({block:gm,element:d_e,modifiers:U,className:n}),children:V.useMemo(function(){return wo(l,U)},[l,U])});return D?H.jsx("li",{role:"presentation",children:H.jsx("a",Zr({href:i},ce))}):H.jsx("li",Zr({},ce))}),z_e=["className"],H_e=V.memo(V.forwardRef(function(t,n){var r=t.className,i=Sf(t,z_e);return H.jsx("li",Zr({role:"separator"},i,{ref:n,className:vh({block:gm,element:h_e,className:r})}))}));const V_e=()=>{const{communityId:e}=kn(),t=bi(Oh),[n]=Ko(t.webId??"",e),{data:r}=ib(t.webId??""),i=bi(EP),a=r.length;return H.jsxs(F_e,{menuButton:H.jsx(y_e,{"data-cy":"menu-button",children:H.jsx(jw,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[H.jsx(xd,{children:H.jsx(jo,{to:"profile",children:(n==null?void 0:n.name)||H.jsx(wt,{id:"bbvfbr"})})}),H.jsx(xd,{children:H.jsx(jo,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:H.jsx(wt,{id:"HecDqj"})})}),H.jsx(xd,{children:H.jsxs(jo,{to:"messages",children:[H.jsx(wt,{id:"gHFvtg"}),a?H.jsxs(H.Fragment,{children:[" ",H.jsx(wt,{id:"GbJuzd",values:{messageCount:a}})]}):null]})}),H.jsx(xd,{children:H.jsx(jo,{to:`profile/${encodeURIComponent(t.webId)}/contacts`,children:H.jsx(wt,{id:"2LDW9H"})})}),H.jsx(xd,{children:H.jsx(jo,{to:"host/offers",children:H.jsx(wt,{id:"BJjAHC"})})}),H.jsx(H_e,{}),H.jsx(xd,{children:H.jsx(uve,{})})]})},K_e=()=>{const{communityId:e}=kn(),t=bi(Oh),n=bi(Pf),r=Du(e,n,Ph);return H.jsxs("nav",{className:Jv.header,children:[H.jsx(jo,{className:Jv.logoContainer,to:"/","data-cy":"header-logo-link",children:H.jsx(m9,{logo:r.logo[0],focusedLogo:r.logo[1],name:r.name||(r.isLoading?"...":"Home"),className:Jv.logo})}),H.jsx("div",{className:Jv.spacer}),H.jsx(rve,{}),H.jsx(xge,{}),t.isLoggedIn===!0&&H.jsx(V_e,{}),t.isLoggedIn===void 0&&H.jsx(H.Fragment,{children:"..."})]})},G_e=(e,t="en")=>ey({queryKey:[zr.wikidataSearch,e,t],queryFn:()=>W_e(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),W_e=async(e,t)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(e)}&language=${t}&limit=20&continue=0&format=json&uselang=${t}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>yh({aliases:[],photos:[]},{...a,uri:i})),Q_e=(e,t="en")=>ey({queryKey:[zr.wikidataEntity,e,t],queryFn:()=>Z_e(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),Z_e=async(e,t)=>{var v,_,x;const n=((v=e.match(J_e))==null?void 0:v[2])??"";if(!n)return{};const r=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${t}&format=json&origin=*`);if(!r.ok)throw new Ho("Fetching interest failed",r);const i=await r.json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const o=(_=a.labels[t])==null?void 0:_.value,s=(x=a.descriptions[t])==null?void 0:x.value,l=(a.claims.P18??[]).map(b=>{var S;return(S=b.mainsnak.datavalue)==null?void 0:S.value})[0],c=(a.claims.P154??[]).map(b=>{var S;return(S=b.mainsnak.datavalue)==null?void 0:S.value})[0],d=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,h=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,m=(a.claims.P856??[]).map(b=>{var S;return(S=b.mainsnak.datavalue)==null?void 0:S.value})[0],y=(a.aliases[t]??[]).map(({value:b})=>b);return{id:n,uri:e,label:o,aliases:y,description:s,officialWebsite:m,image:h||d}},J_e=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;function Ni(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function E6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ob(...e){return t=>{let n=!1;const r=e.map(i=>{const a=E6(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():E6(e[i],null)}}}}function Go(...e){return V.useCallback(ob(...e),e)}function hy(e,t=[]){let n=[];function r(a,o){const s=V.createContext(o),l=n.length;n=[...n,o];const c=h=>{var b;const{scope:m,children:y,...v}=h,_=((b=m==null?void 0:m[e])==null?void 0:b[l])||s,x=V.useMemo(()=>v,Object.values(v));return H.jsx(_.Provider,{value:x,children:y})};c.displayName=a+"Provider";function d(h,m){var _;const y=((_=m==null?void 0:m[e])==null?void 0:_[l])||s,v=V.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(o=>V.createContext(o));return function(s){const l=(s==null?void 0:s[e])||a;return V.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,Y_e(i,...t)]}function Y_e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...s,...h}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var gH=V.forwardRef((e,t)=>{const{children:n,...r}=e,i=V.Children.toArray(n),a=i.find(e0e);if(a){const o=a.props.children,s=i.map(l=>l===a?V.Children.count(o)>1?V.Children.only(null):V.isValidElement(o)?o.props.children:null:l);return H.jsx(ER,{...r,ref:t,children:V.isValidElement(o)?V.cloneElement(o,void 0,s):null})}return H.jsx(ER,{...r,ref:t,children:n})});gH.displayName="Slot";var ER=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const i=n0e(n),a=t0e(r,n.props);return n.type!==V.Fragment&&(a.ref=t?ob(t,i):i),V.cloneElement(n,a)}return V.Children.count(n)>1?V.Children.only(null):null});ER.displayName="SlotClone";var X_e=({children:e})=>H.jsx(H.Fragment,{children:e});function e0e(e){return V.isValidElement(e)&&e.type===X_e}function t0e(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function n0e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fu=r0e.reduce((e,t)=>{const n=V.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?gH:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),H.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function i0e(e,t){e&&Gl.flushSync(()=>e.dispatchEvent(t))}function Au(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function a0e(e,t=globalThis==null?void 0:globalThis.document){const n=Au(e);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var o0e="DismissableLayer",CR="dismissableLayer.update",s0e="dismissableLayer.pointerDownOutside",u0e="dismissableLayer.focusOutside",C6,mH=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yH=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=V.useContext(mH),[d,h]=V.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=V.useState({}),v=Go(t,F=>h(F)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(x),S=d?_.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,P=S>=b,O=f0e(F=>{const Q=F.target,X=[...c.branches].some(U=>U.contains(Q));!P||X||(i==null||i(F),o==null||o(F),F.defaultPrevented||s==null||s())},m),D=d0e(F=>{const Q=F.target;[...c.branches].some(U=>U.contains(Q))||(a==null||a(F),o==null||o(F),F.defaultPrevented||s==null||s())},m);return a0e(F=>{S===c.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&s&&(F.preventDefault(),s()))},m),V.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(C6=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),T6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=C6)}},[d,m,n,c]),V.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),T6())},[d,c]),V.useEffect(()=>{const F=()=>y({});return document.addEventListener(CR,F),()=>document.removeEventListener(CR,F)},[]),H.jsx(Fu.div,{...l,ref:v,style:{pointerEvents:A?P?"auto":"none":void 0,...e.style},onFocusCapture:Ni(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Ni(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ni(e.onPointerDownCapture,O.onPointerDownCapture)})});yH.displayName=o0e;var l0e="DismissableLayerBranch",c0e=V.forwardRef((e,t)=>{const n=V.useContext(mH),r=V.useRef(null),i=Go(t,r);return V.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),H.jsx(Fu.div,{...e,ref:i})});c0e.displayName=l0e;function f0e(e,t=globalThis==null?void 0:globalThis.document){const n=Au(e),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){vH(s0e,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function d0e(e,t=globalThis==null?void 0:globalThis.document){const n=Au(e),r=V.useRef(!1);return V.useEffect(()=>{const i=a=>{a.target&&!r.current&&vH(u0e,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T6(){const e=new CustomEvent(CR);document.dispatchEvent(e)}function vH(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?i0e(i,a):i.dispatchEvent(a)}var sT=0;function h0e(){V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??A6()),document.body.insertAdjacentElement("beforeend",e[1]??A6()),sT++,()=>{sT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sT--}},[])}function A6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var uT="focusScope.autoFocusOnMount",lT="focusScope.autoFocusOnUnmount",R6={bubbles:!1,cancelable:!0},p0e="FocusScope",_H=V.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=V.useState(null),c=Au(i),d=Au(a),h=V.useRef(null),m=Go(t,_=>l(_)),y=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let _=function(A){if(y.paused||!s)return;const P=A.target;s.contains(P)?h.current=P:El(h.current,{select:!0})},x=function(A){if(y.paused||!s)return;const P=A.relatedTarget;P!==null&&(s.contains(P)||El(h.current,{select:!0}))},b=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&El(s)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const S=new MutationObserver(b);return s&&S.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),S.disconnect()}}},[r,s,y.paused]),V.useEffect(()=>{if(s){O6.add(y);const _=document.activeElement;if(!s.contains(_)){const b=new CustomEvent(uT,R6);s.addEventListener(uT,c),s.dispatchEvent(b),b.defaultPrevented||(g0e(w0e(wH(s)),{select:!0}),document.activeElement===_&&El(s))}return()=>{s.removeEventListener(uT,c),setTimeout(()=>{const b=new CustomEvent(lT,R6);s.addEventListener(lT,d),s.dispatchEvent(b),b.defaultPrevented||El(_??document.body,{select:!0}),s.removeEventListener(lT,d),O6.remove(y)},0)}}},[s,c,d,y]);const v=V.useCallback(_=>{if(!n&&!r||y.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(x&&b){const S=_.currentTarget,[A,P]=m0e(S);A&&P?!_.shiftKey&&b===P?(_.preventDefault(),n&&El(A,{select:!0})):_.shiftKey&&b===A&&(_.preventDefault(),n&&El(P,{select:!0})):b===S&&_.preventDefault()}},[n,r,y.paused]);return H.jsx(Fu.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});_H.displayName=p0e;function g0e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(El(r,{select:t}),document.activeElement!==n)return}function m0e(e){const t=wH(e),n=P6(t,e),r=P6(t.reverse(),e);return[n,r]}function wH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function P6(e,t){for(const n of e)if(!y0e(n,{upTo:t}))return n}function y0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v0e(e){return e instanceof HTMLInputElement&&"select"in e}function El(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v0e(e)&&t&&e.select()}}var O6=_0e();function _0e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=L6(e,t),e.unshift(t)},remove(t){var n;e=L6(e,t),(n=e[0])==null||n.resume()}}}function L6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w0e(e){return e.filter(t=>t.tagName!=="A")}var xf=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},b0e=fh.useId||(()=>{}),S0e=0;function xO(e){const[t,n]=V.useState(b0e());return xf(()=>{e||n(r=>r??String(S0e++))},[e]),e||(t?`radix-${t}`:"")}const x0e=["top","right","bottom","left"],Wl=Math.min,Va=Math.max,tw=Math.round,Xv=Math.floor,Es=e=>({x:e,y:e}),E0e={left:"right",right:"left",bottom:"top",top:"bottom"},C0e={start:"end",end:"start"};function TR(e,t,n){return Va(e,Wl(t,n))}function Ru(e,t){return typeof e=="function"?e(t):e}function Pu(e){return e.split("-")[0]}function Wh(e){return e.split("-")[1]}function EO(e){return e==="x"?"y":"x"}function CO(e){return e==="y"?"height":"width"}function Ql(e){return["top","bottom"].includes(Pu(e))?"y":"x"}function TO(e){return EO(Ql(e))}function T0e(e,t,n){n===void 0&&(n=!1);const r=Wh(e),i=TO(e),a=CO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=nw(o)),[o,nw(o)]}function A0e(e){const t=nw(e);return[AR(e),t,AR(t)]}function AR(e){return e.replace(/start|end/g,t=>C0e[t])}function R0e(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function P0e(e,t,n,r){const i=Wh(e);let a=R0e(Pu(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(AR)))),a}function nw(e){return e.replace(/left|right|bottom|top/g,t=>E0e[t])}function O0e(e){return{top:0,right:0,bottom:0,left:0,...e}}function bH(e){return typeof e!="number"?O0e(e):{top:e,right:e,bottom:e,left:e}}function rw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function I6(e,t,n){let{reference:r,floating:i}=e;const a=Ql(t),o=TO(t),s=CO(o),l=Pu(t),c=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[s]/2-i[s]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Wh(t)){case"start":y[o]-=m*(n&&c?-1:1);break;case"end":y[o]+=m*(n&&c?-1:1);break}return y}const L0e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=I6(c,r,l),m=r,y={},v=0;for(let _=0;_<s.length;_++){const{name:x,fn:b}=s[_],{x:S,y:A,data:P,reset:O}=await b({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:c,platform:o,elements:{reference:e,floating:t}});d=S??d,h=A??h,y={...y,[x]:{...y[x],...P}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:d,y:h}=I6(c,m,l)),_=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:y}};async function Mm(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=Ru(t,e),v=bH(y),x=s[m?h==="floating"?"reference":"floating":h],b=rw(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(x)))==null||n?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),S=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),P=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},O=rw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:S,offsetParent:A,strategy:l}):S);return{top:(b.top-O.top+v.top)/P.y,bottom:(O.bottom-b.bottom+v.bottom)/P.y,left:(b.left-O.left+v.left)/P.x,right:(O.right-b.right+v.right)/P.x}}const I0e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Ru(e,t)||{};if(c==null)return{};const h=bH(d),m={x:n,y:r},y=TO(i),v=CO(y),_=await o.getDimensions(c),x=y==="y",b=x?"top":"left",S=x?"bottom":"right",A=x?"clientHeight":"clientWidth",P=a.reference[v]+a.reference[y]-m[y]-a.floating[v],O=m[y]-a.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let F=D?D[A]:0;(!F||!await(o.isElement==null?void 0:o.isElement(D)))&&(F=s.floating[A]||a.floating[v]);const Q=P/2-O/2,X=F/2-_[v]/2-1,U=Wl(h[b],X),Y=Wl(h[S],X),ce=U,te=F-_[v]-Y,se=F/2-_[v]/2+Q,pe=TR(ce,se,te),_e=!l.arrow&&Wh(i)!=null&&se!==pe&&a.reference[v]/2-(se<ce?U:Y)-_[v]/2<0,de=_e?se<ce?se-ce:se-te:0;return{[y]:m[y]+de,data:{[y]:pe,centerOffset:se-pe-de,..._e&&{alignmentOffset:de}},reset:_e}}}),M0e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...x}=Ru(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Pu(i),S=Ql(s),A=Pu(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=m||(A||!_?[nw(s)]:A0e(s)),D=v!=="none";!m&&D&&O.push(...P0e(s,_,v,P));const F=[s,...O],Q=await Mm(t,x),X=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&X.push(Q[b]),h){const se=T0e(i,o,P);X.push(Q[se[0]],Q[se[1]])}if(U=[...U,{placement:i,overflows:X}],!X.every(se=>se<=0)){var Y,ce;const se=(((Y=a.flip)==null?void 0:Y.index)||0)+1,pe=F[se];if(pe)return{data:{index:se,overflows:U},reset:{placement:pe}};let _e=(ce=U.filter(de=>de.overflows[0]<=0).sort((de,ue)=>de.overflows[1]-ue.overflows[1])[0])==null?void 0:ce.placement;if(!_e)switch(y){case"bestFit":{var te;const de=(te=U.filter(ue=>{if(D){const Re=Ql(ue.placement);return Re===S||Re==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(Re=>Re>0).reduce((Re,k)=>Re+k,0)]).sort((ue,Re)=>ue[1]-Re[1])[0])==null?void 0:te[0];de&&(_e=de);break}case"initialPlacement":_e=s;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function M6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function D6(e){return x0e.some(t=>e[t]>=0)}const D0e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ru(e,t);switch(r){case"referenceHidden":{const a=await Mm(t,{...i,elementContext:"reference"}),o=M6(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:D6(o)}}}case"escaped":{const a=await Mm(t,{...i,altBoundary:!0}),o=M6(a,n.floating);return{data:{escapedOffsets:o,escaped:D6(o)}}}default:return{}}}}};async function k0e(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Pu(n),s=Wh(n),l=Ql(n)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,h=Ru(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof v=="number"&&(y=s==="end"?v*-1:v),l?{x:y*d,y:m*c}:{x:m*c,y:y*d}}const N0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await k0e(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},F0e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:x=>{let{x:b,y:S}=x;return{x:b,y:S}}},...l}=Ru(e,t),c={x:n,y:r},d=await Mm(t,l),h=Ql(Pu(i)),m=EO(h);let y=c[m],v=c[h];if(a){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",S=y+d[x],A=y-d[b];y=TR(S,y,A)}if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",S=v+d[x],A=v-d[b];v=TR(S,v,A)}const _=s.fn({...t,[m]:y,[h]:v});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:a,[h]:o}}}}}},j0e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ru(e,t),d={x:n,y:r},h=Ql(i),m=EO(h);let y=d[m],v=d[h];const _=Ru(s,t),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const A=m==="y"?"height":"width",P=a.reference[m]-a.floating[A]+x.mainAxis,O=a.reference[m]+a.reference[A]-x.mainAxis;y<P?y=P:y>O&&(y=O)}if(c){var b,S;const A=m==="y"?"width":"height",P=["top","left"].includes(Pu(i)),O=a.reference[h]-a.floating[A]+(P&&((b=o.offset)==null?void 0:b[h])||0)+(P?0:x.crossAxis),D=a.reference[h]+a.reference[A]+(P?0:((S=o.offset)==null?void 0:S[h])||0)-(P?x.crossAxis:0);v<O?v=O:v>D&&(v=D)}return{[m]:y,[h]:v}}}},$0e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Ru(e,t),d=await Mm(t,c),h=Pu(i),m=Wh(i),y=Ql(i)==="y",{width:v,height:_}=a.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=h,x=m==="end"?"top":"bottom");const S=_-d.top-d.bottom,A=v-d.left-d.right,P=Wl(_-d[x],S),O=Wl(v-d[b],A),D=!t.middlewareData.shift;let F=P,Q=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Q=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=S),D&&!m){const U=Va(d.left,0),Y=Va(d.right,0),ce=Va(d.top,0),te=Va(d.bottom,0);y?Q=v-2*(U!==0||Y!==0?U+Y:Va(d.left,d.right)):F=_-2*(ce!==0||te!==0?ce+te:Va(d.top,d.bottom))}await l({...t,availableWidth:Q,availableHeight:F});const X=await o.getDimensions(s.floating);return v!==X.width||_!==X.height?{reset:{rects:!0}}:{}}}};function sb(){return typeof window<"u"}function Qh(e){return SH(e)?(e.nodeName||"").toLowerCase():"#document"}function Wa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Is(e){var t;return(t=(SH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SH(e){return sb()?e instanceof Node||e instanceof Wa(e).Node:!1}function Wo(e){return sb()?e instanceof Element||e instanceof Wa(e).Element:!1}function Rs(e){return sb()?e instanceof HTMLElement||e instanceof Wa(e).HTMLElement:!1}function k6(e){return!sb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wa(e).ShadowRoot}function py(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function U0e(e){return["table","td","th"].includes(Qh(e))}function ub(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function AO(e){const t=RO(),n=Wo(e)?Qo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B0e(e){let t=Zl(e);for(;Rs(t)&&!_h(t);){if(AO(t))return t;if(ub(t))return null;t=Zl(t)}return null}function RO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _h(e){return["html","body","#document"].includes(Qh(e))}function Qo(e){return Wa(e).getComputedStyle(e)}function lb(e){return Wo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zl(e){if(Qh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||k6(e)&&e.host||Is(e);return k6(t)?t.host:t}function xH(e){const t=Zl(e);return _h(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rs(t)&&py(t)?t:xH(t)}function Dm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=xH(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Wa(i);if(a){const s=RR(o);return t.concat(o,o.visualViewport||[],py(i)?i:[],s&&n?Dm(s):[])}return t.concat(i,Dm(i,[],n))}function RR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EH(e){const t=Qo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Rs(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=tw(n)!==a||tw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function PO(e){return Wo(e)?e:e.contextElement}function zd(e){const t=PO(e);if(!Rs(t))return Es(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=EH(t);let o=(a?tw(n.width):n.width)/r,s=(a?tw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const q0e=Es(0);function CH(e){const t=Wa(e);return!RO()||!t.visualViewport?q0e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function z0e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wa(e)?!1:t}function Ef(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=PO(e);let o=Es(1);t&&(r?Wo(r)&&(o=zd(r)):o=zd(e));const s=z0e(a,n,r)?CH(a):Es(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const m=Wa(a),y=r&&Wo(r)?Wa(r):r;let v=m,_=RR(v);for(;_&&r&&y!==v;){const x=zd(_),b=_.getBoundingClientRect(),S=Qo(_),A=b.left+(_.clientLeft+parseFloat(S.paddingLeft))*x.x,P=b.top+(_.clientTop+parseFloat(S.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=A,c+=P,v=Wa(_),_=RR(v)}}return rw({width:d,height:h,x:l,y:c})}function OO(e,t){const n=lb(e).scrollLeft;return t?t.left+n:Ef(Is(e)).left+n}function TH(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:OO(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function H0e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Is(r),s=t?ub(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Es(1);const d=Es(0),h=Rs(r);if((h||!h&&!a)&&((Qh(r)!=="body"||py(o))&&(l=lb(r)),Rs(r))){const y=Ef(r);c=zd(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const m=o&&!h&&!a?TH(o,l,!0):Es(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function V0e(e){return Array.from(e.getClientRects())}function K0e(e){const t=Is(e),n=lb(e),r=e.ownerDocument.body,i=Va(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Va(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+OO(e);const s=-n.scrollTop;return Qo(r).direction==="rtl"&&(o+=Va(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function G0e(e,t){const n=Wa(e),r=Is(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=RO();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function W0e(e,t){const n=Ef(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Rs(e)?zd(e):Es(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function N6(e,t,n){let r;if(t==="viewport")r=G0e(e,n);else if(t==="document")r=K0e(Is(e));else if(Wo(t))r=W0e(t,n);else{const i=CH(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return rw(r)}function AH(e,t){const n=Zl(e);return n===t||!Wo(n)||_h(n)?!1:Qo(n).position==="fixed"||AH(n,t)}function Q0e(e,t){const n=t.get(e);if(n)return n;let r=Dm(e,[],!1).filter(s=>Wo(s)&&Qh(s)!=="body"),i=null;const a=Qo(e).position==="fixed";let o=a?Zl(e):e;for(;Wo(o)&&!_h(o);){const s=Qo(o),l=AO(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||py(o)&&!l&&AH(e,o))?r=r.filter(d=>d!==o):i=s,o=Zl(o)}return t.set(e,r),r}function Z0e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?ub(t)?[]:Q0e(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const h=N6(t,d,i);return c.top=Va(h.top,c.top),c.right=Wl(h.right,c.right),c.bottom=Wl(h.bottom,c.bottom),c.left=Va(h.left,c.left),c},N6(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J0e(e){const{width:t,height:n}=EH(e);return{width:t,height:n}}function Y0e(e,t,n){const r=Rs(t),i=Is(t),a=n==="fixed",o=Ef(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Es(0);if(r||!r&&!a)if((Qh(t)!=="body"||py(i))&&(s=lb(t)),r){const m=Ef(t,!0,a,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&(l.x=OO(i));const c=i&&!r&&!a?TH(i,s):Es(0),d=o.left+s.scrollLeft-l.x-c.x,h=o.top+s.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function cT(e){return Qo(e).position==="static"}function F6(e,t){if(!Rs(e)||Qo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Is(e)===n&&(n=n.ownerDocument.body),n}function RH(e,t){const n=Wa(e);if(ub(e))return n;if(!Rs(e)){let i=Zl(e);for(;i&&!_h(i);){if(Wo(i)&&!cT(i))return i;i=Zl(i)}return n}let r=F6(e,t);for(;r&&U0e(r)&&cT(r);)r=F6(r,t);return r&&_h(r)&&cT(r)&&!AO(r)?n:r||B0e(e)||n}const X0e=async function(e){const t=this.getOffsetParent||RH,n=this.getDimensions,r=await n(e.floating);return{reference:Y0e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ewe(e){return Qo(e).direction==="rtl"}const twe={convertOffsetParentRelativeRectToViewportRelativeRect:H0e,getDocumentElement:Is,getClippingRect:Z0e,getOffsetParent:RH,getElementRects:X0e,getClientRects:V0e,getDimensions:J0e,getScale:zd,isElement:Wo,isRTL:ewe};function PH(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nwe(e,t){let n=null,r;const i=Is(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:h,width:m,height:y}=c;if(s||t(),!m||!y)return;const v=Xv(h),_=Xv(i.clientWidth-(d+m)),x=Xv(i.clientHeight-(h+y)),b=Xv(d),A={rootMargin:-v+"px "+-_+"px "+-x+"px "+-b+"px",threshold:Va(0,Wl(1,l))||1};let P=!0;function O(D){const F=D[0].intersectionRatio;if(F!==l){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!PH(c,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,A)}n.observe(e)}return o(!0),a}function rwe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=PO(e),d=i||a?[...c?Dm(c):[],...Dm(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const h=c&&s?nwe(c,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(b=>{let[S]=b;S&&S.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let v,_=l?Ef(e):null;l&&x();function x(){const b=Ef(e);_&&!PH(_,b)&&n(),_=b,v=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(S=>{i&&S.removeEventListener("scroll",n),a&&S.removeEventListener("resize",n)}),h==null||h(),(b=y)==null||b.disconnect(),y=null,l&&cancelAnimationFrame(v)}}const iwe=N0e,awe=F0e,owe=M0e,swe=$0e,uwe=D0e,j6=I0e,lwe=j0e,cwe=(e,t,n)=>{const r=new Map,i={platform:twe,...n},a={...i.platform,_c:r};return L0e(e,t,{...i,platform:a})};var b0=typeof document<"u"?V.useLayoutEffect:V.useEffect;function iw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!iw(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!iw(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function OH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $6(e,t){const n=OH(e);return Math.round(t*n)/n}function fT(e){const t=V.useRef(e);return b0(()=>{t.current=e}),t}function fwe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,h]=V.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=V.useState(r);iw(m,r)||y(r);const[v,_]=V.useState(null),[x,b]=V.useState(null),S=V.useCallback(ue=>{ue!==D.current&&(D.current=ue,_(ue))},[]),A=V.useCallback(ue=>{ue!==F.current&&(F.current=ue,b(ue))},[]),P=a||v,O=o||x,D=V.useRef(null),F=V.useRef(null),Q=V.useRef(d),X=l!=null,U=fT(l),Y=fT(i),ce=fT(c),te=V.useCallback(()=>{if(!D.current||!F.current)return;const ue={placement:t,strategy:n,middleware:m};Y.current&&(ue.platform=Y.current),cwe(D.current,F.current,ue).then(Re=>{const k={...Re,isPositioned:ce.current!==!1};se.current&&!iw(Q.current,k)&&(Q.current=k,Gl.flushSync(()=>{h(k)}))})},[m,t,n,Y,ce]);b0(()=>{c===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,h(ue=>({...ue,isPositioned:!1})))},[c]);const se=V.useRef(!1);b0(()=>(se.current=!0,()=>{se.current=!1}),[]),b0(()=>{if(P&&(D.current=P),O&&(F.current=O),P&&O){if(U.current)return U.current(P,O,te);te()}},[P,O,te,U,X]);const pe=V.useMemo(()=>({reference:D,floating:F,setReference:S,setFloating:A}),[S,A]),_e=V.useMemo(()=>({reference:P,floating:O}),[P,O]),de=V.useMemo(()=>{const ue={position:n,left:0,top:0};if(!_e.floating)return ue;const Re=$6(_e.floating,d.x),k=$6(_e.floating,d.y);return s?{...ue,transform:"translate("+Re+"px, "+k+"px)",...OH(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Re,top:k}},[n,s,_e.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:te,refs:pe,elements:_e,floatingStyles:de}),[d,te,pe,_e,de])}const dwe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?j6({element:r.current,padding:i}).fn(n):{}:r?j6({element:r,padding:i}).fn(n):{}}}},hwe=(e,t)=>({...iwe(e),options:[e,t]}),pwe=(e,t)=>({...awe(e),options:[e,t]}),gwe=(e,t)=>({...lwe(e),options:[e,t]}),mwe=(e,t)=>({...owe(e),options:[e,t]}),ywe=(e,t)=>({...swe(e),options:[e,t]}),vwe=(e,t)=>({...uwe(e),options:[e,t]}),_we=(e,t)=>({...dwe(e),options:[e,t]});var wwe="Arrow",LH=V.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return H.jsx(Fu.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:H.jsx("polygon",{points:"0,0 30,0 15,10"})})});LH.displayName=wwe;var bwe=LH;function Swe(e){const[t,n]=V.useState(void 0);return xf(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var LO="Popper",[IH,MH]=hy(LO),[xwe,DH]=IH(LO),kH=e=>{const{__scopePopper:t,children:n}=e,[r,i]=V.useState(null);return H.jsx(xwe,{scope:t,anchor:r,onAnchorChange:i,children:n})};kH.displayName=LO;var NH="PopperAnchor",FH=V.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=DH(NH,n),o=V.useRef(null),s=Go(t,o);return V.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:H.jsx(Fu.div,{...i,ref:s})});FH.displayName=NH;var IO="PopperContent",[Ewe,Cwe]=IH(IO),jH=V.forwardRef((e,t)=>{var Ze,Pe,Ne,Ye,oe,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:v,..._}=e,x=DH(IO,n),[b,S]=V.useState(null),A=Go(t,$=>S($)),[P,O]=V.useState(null),D=Swe(P),F=(D==null?void 0:D.width)??0,Q=(D==null?void 0:D.height)??0,X=r+(a!=="center"?"-"+a:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(c)?c:[c],ce=Y.length>0,te={padding:U,boundary:Y.filter(Awe),altBoundary:ce},{refs:se,floatingStyles:pe,placement:_e,isPositioned:de,middlewareData:ue}=fwe({strategy:"fixed",placement:X,whileElementsMounted:(...$)=>rwe(...$,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[hwe({mainAxis:i+Q,alignmentAxis:o}),l&&pwe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?gwe():void 0,...te}),l&&mwe({...te}),ywe({...te,apply:({elements:$,rects:ae,availableWidth:Z,availableHeight:he})=>{const{width:ye,height:He}=ae.reference,Ee=$.floating.style;Ee.setProperty("--radix-popper-available-width",`${Z}px`),Ee.setProperty("--radix-popper-available-height",`${he}px`),Ee.setProperty("--radix-popper-anchor-width",`${ye}px`),Ee.setProperty("--radix-popper-anchor-height",`${He}px`)}}),P&&_we({element:P,padding:s}),Rwe({arrowWidth:F,arrowHeight:Q}),m&&vwe({strategy:"referenceHidden",...te})]}),[Re,k]=BH(_e),ie=Au(v);xf(()=>{de&&(ie==null||ie())},[de,ie]);const me=(Ze=ue.arrow)==null?void 0:Ze.x,K=(Pe=ue.arrow)==null?void 0:Pe.y,ee=((Ne=ue.arrow)==null?void 0:Ne.centerOffset)!==0,[ge,Ae]=V.useState();return xf(()=>{b&&Ae(window.getComputedStyle(b).zIndex)},[b]),H.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:de?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ye=ue.transformOrigin)==null?void 0:Ye.x,(oe=ue.transformOrigin)==null?void 0:oe.y].join(" "),...((z=ue.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:H.jsx(Ewe,{scope:n,placedSide:Re,onArrowChange:O,arrowX:me,arrowY:K,shouldHideArrow:ee,children:H.jsx(Fu.div,{"data-side":Re,"data-align":k,..._,ref:A,style:{..._.style,animation:de?void 0:"none"}})})})});jH.displayName=IO;var $H="PopperArrow",Twe={top:"bottom",right:"left",bottom:"top",left:"right"},UH=V.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=Cwe($H,r),o=Twe[a.placedSide];return H.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:H.jsx(bwe,{...i,ref:n,style:{...i.style,display:"block"}})})});UH.displayName=$H;function Awe(e){return e!==null}var Rwe=e=>({name:"transformOrigin",options:e,fn(t){var x,b,S;const{placement:n,rects:r,middlewareData:i}=t,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=BH(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,y=(((S=i.arrow)==null?void 0:S.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${m}px`,_=`${-l}px`):c==="top"?(v=o?h:`${m}px`,_=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${y}px`):c==="left"&&(v=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:v,y:_}}}});function BH(e){const[t,n="center"]=e.split("-");return[t,n]}var Pwe=kH,qH=FH,Owe=jH,Lwe=UH,Iwe="Portal",zH=V.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,a]=V.useState(!1);xf(()=>a(!0),[]);const o=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?a_e.createPortal(H.jsx(Fu.div,{...r,ref:t}),o):null});zH.displayName=Iwe;function Mwe(e,t){return V.useReducer((n,r)=>t[n][r]??n,e)}var cb=e=>{const{present:t,children:n}=e,r=Dwe(t),i=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),a=Go(r.ref,kwe(i));return typeof n=="function"||r.isPresent?V.cloneElement(i,{ref:a}):null};cb.displayName="Presence";function Dwe(e){const[t,n]=V.useState(),r=V.useRef({}),i=V.useRef(e),a=V.useRef("none"),o=e?"mounted":"unmounted",[s,l]=Mwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const c=e_(r.current);a.current=s==="mounted"?c:"none"},[s]),xf(()=>{const c=r.current,d=i.current;if(d!==e){const m=a.current,y=e_(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),xf(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=y=>{const _=e_(r.current).includes(y.animationName);if(y.target===t&&_&&(l("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=y=>{y.target===t&&(a.current=e_(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:V.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function e_(e){return(e==null?void 0:e.animationName)||"none"}function kwe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var HH=V.forwardRef((e,t)=>{const{children:n,...r}=e,i=V.Children.toArray(n),a=i.find(Fwe);if(a){const o=a.props.children,s=i.map(l=>l===a?V.Children.count(o)>1?V.Children.only(null):V.isValidElement(o)?o.props.children:null:l);return H.jsx(PR,{...r,ref:t,children:V.isValidElement(o)?V.cloneElement(o,void 0,s):null})}return H.jsx(PR,{...r,ref:t,children:n})});HH.displayName="Slot";var PR=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const i=$we(n),a=jwe(r,n.props);return n.type!==V.Fragment&&(a.ref=t?ob(t,i):i),V.cloneElement(n,a)}return V.Children.count(n)>1?V.Children.only(null):null});PR.displayName="SlotClone";var Nwe=({children:e})=>H.jsx(H.Fragment,{children:e});function Fwe(e){return V.isValidElement(e)&&e.type===Nwe}function jwe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function $we(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function MO({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Uwe({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,s=Au(n),l=V.useCallback(c=>{if(a){const h=typeof c=="function"?c(e):c;h!==e&&s(h)}else i(c)},[a,e,i,s]);return[o,l]}function Uwe({defaultProp:e,onChange:t}){const n=V.useState(e),[r]=n,i=V.useRef(r),a=Au(t);return V.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var Bwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ed=new WeakMap,t_=new WeakMap,n_={},dT=0,VH=function(e){return e&&(e.host||VH(e.parentNode))},qwe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=VH(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},zwe=function(e,t,n,r){var i=qwe(t,Array.isArray(e)?e:[e]);n_[n]||(n_[n]=new WeakMap);var a=n_[n],o=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(s.has(m))d(m);else try{var y=m.getAttribute(r),v=y!==null&&y!=="false",_=(Ed.get(m)||0)+1,x=(a.get(m)||0)+1;Ed.set(m,_),a.set(m,x),o.push(m),_===1&&v&&t_.set(m,!0),x===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(t),s.clear(),dT++,function(){o.forEach(function(h){var m=Ed.get(h)-1,y=a.get(h)-1;Ed.set(h,m),a.set(h,y),m||(t_.has(h)||h.removeAttribute(r),t_.delete(h)),y||h.removeAttribute(n)}),dT--,dT||(Ed=new WeakMap,Ed=new WeakMap,t_=new WeakMap,n_={})}},Hwe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Bwe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),zwe(r,i,n,"aria-hidden")):function(){return null}},Pl=function(){return Pl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pl.apply(this,arguments)};function Vwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Kwe(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var S0="right-scroll-bar-position",x0="width-before-scroll-bar",Gwe="with-scroll-bars-hidden",Wwe="--removed-body-scroll-bar-size";function hT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qwe(e,t){var n=V.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Zwe=typeof window<"u"?V.useLayoutEffect:V.useEffect,U6=new WeakMap;function Jwe(e,t){var n=Qwe(null,function(r){return e.forEach(function(i){return hT(i,r)})});return Zwe(function(){var r=U6.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||hT(s,null)}),a.forEach(function(s){i.has(s)||hT(s,o)})}U6.set(n,e)},[e]),n}var aw=function(){return aw=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},aw.apply(this,arguments)};function Ywe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Xwe(e){return e}function ebe(e,t){t===void 0&&(t=Xwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function tbe(e){e===void 0&&(e={});var t=ebe(null);return t.options=aw({async:!0,ssr:!1},e),t}var KH=function(e){var t=e.sideCar,n=Ywe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,aw({},n))};KH.isSideCarExport=!0;function nbe(e,t){return e.useMedium(t),KH}var GH=tbe(),pT=function(){},fb=V.forwardRef(function(e,t){var n=V.useRef(null),r=V.useState({onScrollCapture:pT,onWheelCapture:pT,onTouchMoveCapture:pT}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,y=e.noIsolation,v=e.inert,_=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,S=e.gapMode,A=Vwe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,O=Jwe([n,t]),D=Pl(Pl({},A),i);return V.createElement(V.Fragment,null,d&&V.createElement(P,{sideCar:GH,removeScrollBar:c,shards:h,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:S}),o?V.cloneElement(V.Children.only(s),Pl(Pl({},D),{ref:O})):V.createElement(b,Pl({},D,{className:l,ref:O}),s))});fb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fb.classNames={fullWidth:x0,zeroRight:S0};var rbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ibe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rbe();return t&&e.setAttribute("nonce",t),e}function abe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function obe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sbe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ibe())&&(abe(t,n),obe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ube=function(){var e=sbe();return function(t,n){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},WH=function(){var e=ube(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},lbe={left:0,top:0,right:0,gap:0},gT=function(e){return parseInt(e||"",10)||0},cbe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[gT(n),gT(r),gT(i)]},fbe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lbe;var t=cbe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dbe=WH(),Hd="data-scroll-locked",hbe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Gwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Hd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(S0,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(x0,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(S0," .").concat(S0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(x0," .").concat(x0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hd,`] {
    `).concat(Wwe,": ").concat(s,`px;
  }
`)},B6=function(){var e=parseInt(document.body.getAttribute(Hd)||"0",10);return isFinite(e)?e:0},pbe=function(){V.useEffect(function(){return document.body.setAttribute(Hd,(B6()+1).toString()),function(){var e=B6()-1;e<=0?document.body.removeAttribute(Hd):document.body.setAttribute(Hd,e.toString())}},[])},gbe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;pbe();var a=V.useMemo(function(){return fbe(i)},[i]);return V.createElement(dbe,{styles:hbe(a,!t,i,n?"":"!important")})},OR=!1;if(typeof window<"u")try{var r_=Object.defineProperty({},"passive",{get:function(){return OR=!0,!0}});window.addEventListener("test",r_,r_),window.removeEventListener("test",r_,r_)}catch{OR=!1}var Cd=OR?{passive:!1}:!1,mbe=function(e){return e.tagName==="TEXTAREA"},QH=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mbe(e)&&n[t]==="visible")},ybe=function(e){return QH(e,"overflowY")},vbe=function(e){return QH(e,"overflowX")},q6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ZH(e,r);if(i){var a=JH(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_be=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},wbe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ZH=function(e,t){return e==="v"?ybe(t):vbe(t)},JH=function(e,t){return e==="v"?_be(t):wbe(t)},bbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Sbe=function(e,t,n,r,i){var a=bbe(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),c=!1,d=o>0,h=0,m=0;do{var y=JH(e,s),v=y[0],_=y[1],x=y[2],b=_-x-a*v;(v||b)&&ZH(e,s)&&(h+=b,m+=v),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(c=!0),c},i_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},z6=function(e){return[e.deltaX,e.deltaY]},H6=function(e){return e&&"current"in e?e.current:e},xbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ebe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cbe=0,Td=[];function Tbe(e){var t=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(Cbe++)[0],a=V.useState(WH)[0],o=V.useRef(e);V.useEffect(function(){o.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Kwe([e.lockRef.current],(e.shards||[]).map(H6)).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=V.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var b=i_(_),S=n.current,A="deltaX"in _?_.deltaX:S[0]-b[0],P="deltaY"in _?_.deltaY:S[1]-b[1],O,D=_.target,F=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in _&&F==="h"&&D.type==="range")return!1;var Q=q6(F,D);if(!Q)return!0;if(Q?O=F:(O=F==="v"?"h":"v",Q=q6(F,D)),!Q)return!1;if(!r.current&&"changedTouches"in _&&(A||P)&&(r.current=O),!O)return!0;var X=r.current||O;return Sbe(X,x,_,X==="h"?A:P,!0)},[]),l=V.useCallback(function(_){var x=_;if(!(!Td.length||Td[Td.length-1]!==a)){var b="deltaY"in x?z6(x):i_(x),S=t.current.filter(function(O){return O.name===x.type&&(O.target===x.target||x.target===O.shadowParent)&&xbe(O.delta,b)})[0];if(S&&S.should){x.cancelable&&x.preventDefault();return}if(!S){var A=(o.current.shards||[]).map(H6).filter(Boolean).filter(function(O){return O.contains(x.target)}),P=A.length>0?s(x,A[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),c=V.useCallback(function(_,x,b,S){var A={name:_,delta:x,target:b,should:S,shadowParent:Abe(b)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(P){return P!==A})},1)},[]),d=V.useCallback(function(_){n.current=i_(_),r.current=void 0},[]),h=V.useCallback(function(_){c(_.type,z6(_),_.target,s(_,e.lockRef.current))},[]),m=V.useCallback(function(_){c(_.type,i_(_),_.target,s(_,e.lockRef.current))},[]);V.useEffect(function(){return Td.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Cd),document.addEventListener("touchmove",l,Cd),document.addEventListener("touchstart",d,Cd),function(){Td=Td.filter(function(_){return _!==a}),document.removeEventListener("wheel",l,Cd),document.removeEventListener("touchmove",l,Cd),document.removeEventListener("touchstart",d,Cd)}},[]);var y=e.removeScrollBar,v=e.inert;return V.createElement(V.Fragment,null,v?V.createElement(a,{styles:Ebe(i)}):null,y?V.createElement(gbe,{gapMode:e.gapMode}):null)}function Abe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Rbe=nbe(GH,Tbe);var YH=V.forwardRef(function(e,t){return V.createElement(fb,Pl({},e,{ref:t,sideCar:Rbe}))});YH.classNames=fb.classNames;var DO="Popover",[XH,bNe]=hy(DO,[MH]),gy=MH(),[Pbe,rc]=XH(DO),e7=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=gy(t),l=V.useRef(null),[c,d]=V.useState(!1),[h=!1,m]=MO({prop:r,defaultProp:i,onChange:a});return H.jsx(Pwe,{...s,children:H.jsx(Pbe,{scope:t,contentId:xO(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:V.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:c,onCustomAnchorAdd:V.useCallback(()=>d(!0),[]),onCustomAnchorRemove:V.useCallback(()=>d(!1),[]),modal:o,children:n})})};e7.displayName=DO;var t7="PopoverAnchor",Obe=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=rc(t7,n),a=gy(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return V.useEffect(()=>(o(),()=>s()),[o,s]),H.jsx(qH,{...a,...r,ref:t})});Obe.displayName=t7;var n7="PopoverTrigger",r7=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=rc(n7,n),a=gy(n),o=Go(t,i.triggerRef),s=H.jsx(Fu.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":c7(i.open),...r,ref:o,onClick:Ni(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:H.jsx(qH,{asChild:!0,...a,children:s})});r7.displayName=n7;var kO="PopoverPortal",[Lbe,Ibe]=XH(kO,{forceMount:void 0}),i7=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=rc(kO,t);return H.jsx(Lbe,{scope:t,forceMount:n,children:H.jsx(cb,{present:n||a.open,children:H.jsx(zH,{asChild:!0,container:i,children:r})})})};i7.displayName=kO;var wh="PopoverContent",a7=V.forwardRef((e,t)=>{const n=Ibe(wh,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=rc(wh,e.__scopePopover);return H.jsx(cb,{present:r||a.open,children:a.modal?H.jsx(Mbe,{...i,ref:t}):H.jsx(Dbe,{...i,ref:t})})});a7.displayName=wh;var Mbe=V.forwardRef((e,t)=>{const n=rc(wh,e.__scopePopover),r=V.useRef(null),i=Go(t,r),a=V.useRef(!1);return V.useEffect(()=>{const o=r.current;if(o)return Hwe(o)},[]),H.jsx(YH,{as:HH,allowPinchZoom:!0,children:H.jsx(o7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ni(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ni(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ni(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dbe=V.forwardRef((e,t)=>{const n=rc(wh,e.__scopePopover),r=V.useRef(!1),i=V.useRef(!1);return H.jsx(o7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),o7=V.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=e,m=rc(wh,n),y=gy(n);return h0e(),H.jsx(_H,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:H.jsx(yH,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:H.jsx(Owe,{"data-state":c7(m.open),role:"dialog",id:m.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),s7="PopoverClose",u7=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=rc(s7,n);return H.jsx(Fu.button,{type:"button",...r,ref:t,onClick:Ni(e.onClick,()=>i.onOpenChange(!1))})});u7.displayName=s7;var kbe="PopoverArrow",l7=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=gy(n);return H.jsx(Lwe,{...i,...r,ref:t})});l7.displayName=kbe;function c7(e){return e?"open":"closed"}var Nbe=e7,Fbe=r7,jbe=i7,$be=a7,Ube=u7,Bbe=l7;function qbe(e){return ji({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 4.583v14.833h.865V4.583zm1.788 0v14.833h2.653V4.583zm3.518 0v14.832H7.96V4.583zm3.547 0v14.834h.866V4.583zm1.789 0v14.833h.865V4.583zm1.759 0v14.834h2.653V4.583zm3.518 0v14.834h.923V4.583zm1.788 0v14.833h2.653V4.583zm3.64 0v14.834h.865V4.583zm1.788 0v14.834H24V4.583Z"},child:[]}]})(e)}const zbe="_item_12uco_1",Hbe="_highlighted_12uco_8",Vbe="_popover_12uco_22",Kbe="_arrow_12uco_33",Gbe="_close_12uco_36",Wbe="_detail_12uco_41",Qbe="_image_12uco_47",Zbe="_headerContainer_12uco_52",Jbe="_header_12uco_52",Ybe="_website_12uco_62",Xbe="_aliases_12uco_67",Ha={item:zbe,highlighted:Hbe,popover:Vbe,arrow:Kbe,close:Gbe,detail:Wbe,image:Qbe,headerContainer:Zbe,header:Jbe,website:Ybe,aliases:Xbe},f7=({uri:e,highlighted:t,onRemove:n,locale:r,className:i,...a})=>{const{i18n:o,_:s}=Jr(),{data:l}=Q_e(e,r),c={uri:e,label:e.split("/").pop(),description:"",aliases:[]},d=yh({},c,l);return H.jsxs(Nbe,{children:[H.jsxs("span",{...a,className:Or(Ha.item,t&&Ha.highlighted,i),children:[H.jsx(Fbe,{asChild:!0,children:H.jsxs("button",{className:Ha.trigger,title:d.description,children:[d.label," "]})}),n&&H.jsx("button",{className:Ha.remove,onClick:n,children:H.jsx(X0,{})})]}),H.jsx(jbe,{children:H.jsxs($be,{sideOffset:5,className:Ha.popover,children:[H.jsx(Ube,{className:Ha.close,"aria-label":o._({id:"yz7wBu"}),children:H.jsx(X0,{})}),H.jsx(e1e,{topic:d}),H.jsx(Bbe,{className:Ha.arrow})]})})]})},e1e=({topic:e})=>H.jsxs("div",{className:Ha.detail,children:[e.image&&H.jsx("img",{src:e.image,alt:"",className:Ha.image}),H.jsxs("header",{className:Ha.headerContainer,children:[H.jsxs("h3",{className:Ha.header,children:[e.label,H.jsx(g9,{href:e.uri,icon:e.id?qbe:void 0})]}),e.aliases.length>0&&H.jsx("div",{className:Ha.aliases,children:e.aliases.join(", ")}),e.officialWebsite&&H.jsxs("a",{href:e.officialWebsite,target:"_blank",rel:"noopener noreferrer",className:Ha.website,children:[H.jsx(ege,{}),e.officialWebsite]})]}),H.jsx("section",{children:e.description})]}),t1e="_list_kiy6t_1",n1e="_select_kiy6t_7",r1e="_control_kiy6t_7",i1e="_input_kiy6t_12",a1e="_menu_kiy6t_15",o1e="_separator_kiy6t_20",s1e="_option_kiy6t_24",u1e="_focused_kiy6t_24",gu={list:t1e,select:n1e,control:r1e,input:i1e,menu:a1e,separator:o1e,option:s1e,focused:u1e},l1e=({ids:e,highlighted:t})=>{const n=bi(Pf);return e.length===0?null:H.jsx("ul",{className:gu.list,"data-cy":"interests-list",children:e.map(r=>H.jsx("li",{children:H.jsx(f7,{uri:r,highlighted:t&&t.includes(r),locale:n})},r))})},bo=({children:e})=>H.jsx(H.Fragment,{children:e}),c1e=()=>{const{communityId:e}=kn(),t=bi(Pf),n=Du(e,t,Ph),i=f1e()&&n.logo.length>=2?n.logo[0]:n.logo[1];return H.jsxs(H.Fragment,{children:[H.jsx("title",{children:n.name}),i&&H.jsx("link",{rel:"icon",href:i}),H.jsx("meta",{name:"description",content:n.about})]})},f1e=()=>{const[e,t]=V.useState(document.hasFocus());return V.useEffect(()=>{const n=()=>{t(!0)},r=()=>{t(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),e},di=()=>bi(Oh),d1e=()=>{const e=Rh();V.useEffect(()=>{ry().events.on(ai.SESSION_RESTORED,n=>{e(new URL(n).pathname,{replace:!0})})},[])},h1e=()=>{const e=bi(EP);V.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",e)},[e])},p1e="_box_1g1fk_7",g1e="_row_1g1fk_18",m1e="_header_1g1fk_18",y1e="_content_1g1fk_26",v1e="_footer_1g1fk_30",bh={box:p1e,row:g1e,header:m1e,content:y1e,footer:v1e},_1e=({children:e,page:t})=>H.jsx("div",{className:Or(bh.box,t&&bh.page),children:e}),w1e=({children:e})=>H.jsx("div",{className:Or(bh.row,bh.header),children:e}),b1e=({children:e})=>H.jsx("div",{className:Or(bh.row,bh.content),children:e});function d7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=d7(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bl(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=d7(e))&&(r&&(r+=" "),r+=t);return r}const km=e=>typeof e=="number"&&!isNaN(e),yf=e=>typeof e=="string",Ka=e=>typeof e=="function",E0=e=>yf(e)||Ka(e)?e:null,LR=e=>V.isValidElement(e)||yf(e)||Ka(e)||km(e);function S1e(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function db(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(o){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:m,playToast:y}=o;const v=r?`${t}--${l}`:t,_=r?`${n}--${l}`:n,x=V.useRef(0);return V.useLayoutEffect(()=>{const b=h.current,S=v.split(" "),A=P=>{P.target===h.current&&(y(),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),x.current===0&&P.type!=="animationcancel"&&b.classList.remove(...S))};b.classList.add(...S),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),V.useEffect(()=>{const b=h.current,S=()=>{b.removeEventListener("animationend",S),i?S1e(b,d,a):d()};m||(c?S():(x.current=1,b.className+=` ${_}`,b.addEventListener("animationend",S)))},[m]),It.createElement(It.Fragment,null,s)}}function V6(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ha=new Map;let Nm=[];const IR=new Set,x1e=e=>IR.forEach(t=>t(e)),h7=()=>ha.size>0;function p7(e,t){var n;if(t)return!((n=ha.get(t))==null||!n.isToastActive(e));let r=!1;return ha.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function g7(e,t){LR(e)&&(h7()||Nm.push({content:e,options:t}),ha.forEach(n=>{n.buildToast(e,t)}))}function K6(e,t){ha.forEach(n=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===n.id&&n.toggle(e,t==null?void 0:t.id):n.toggle(e,t==null?void 0:t.id)})}function E1e(e){const{subscribe:t,getSnapshot:n,setProps:r}=V.useRef(function(a){const o=a.containerId||1;return{subscribe(s){const l=function(d,h,m){let y=1,v=0,_=[],x=[],b=[],S=h;const A=new Map,P=new Set,O=()=>{b=Array.from(A.values()),P.forEach(Q=>Q())},D=Q=>{x=Q==null?[]:x.filter(X=>X!==Q),O()},F=Q=>{const{toastId:X,onOpen:U,updateId:Y,children:ce}=Q.props,te=Y==null;Q.staleId&&A.delete(Q.staleId),A.set(X,Q),x=[...x,Q.props.toastId].filter(se=>se!==Q.staleId),O(),m(V6(Q,te?"added":"updated")),te&&Ka(U)&&U(V.isValidElement(ce)&&ce.props)};return{id:d,props:S,observe:Q=>(P.add(Q),()=>P.delete(Q)),toggle:(Q,X)=>{A.forEach(U=>{X!=null&&X!==U.props.toastId||Ka(U.toggle)&&U.toggle(Q)})},removeToast:D,toasts:A,clearQueue:()=>{v-=_.length,_=[]},buildToast:(Q,X)=>{if((me=>{let{containerId:K,toastId:ee,updateId:ge}=me;const Ae=K?K!==d:d!==1,Ze=A.has(ee)&&ge==null;return Ae||Ze})(X))return;const{toastId:U,updateId:Y,data:ce,staleId:te,delay:se}=X,pe=()=>{D(U)},_e=Y==null;_e&&v++;const de={...S,style:S.toastStyle,key:y++,...Object.fromEntries(Object.entries(X).filter(me=>{let[K,ee]=me;return ee!=null})),toastId:U,updateId:Y,data:ce,closeToast:pe,isIn:!1,className:E0(X.className||S.toastClassName),bodyClassName:E0(X.bodyClassName||S.bodyClassName),progressClassName:E0(X.progressClassName||S.progressClassName),autoClose:!X.isLoading&&(ue=X.autoClose,Re=S.autoClose,ue===!1||km(ue)&&ue>0?ue:Re),deleteToast(){const me=A.get(U),{onClose:K,children:ee}=me.props;Ka(K)&&K(V.isValidElement(ee)&&ee.props),m(V6(me,"removed")),A.delete(U),v--,v<0&&(v=0),_.length>0?F(_.shift()):O()}};var ue,Re;de.closeButton=S.closeButton,X.closeButton===!1||LR(X.closeButton)?de.closeButton=X.closeButton:X.closeButton===!0&&(de.closeButton=!LR(S.closeButton)||S.closeButton);let k=Q;V.isValidElement(Q)&&!yf(Q.type)?k=V.cloneElement(Q,{closeToast:pe,toastProps:de,data:ce}):Ka(Q)&&(k=Q({closeToast:pe,toastProps:de,data:ce}));const ie={content:k,props:de,staleId:te};S.limit&&S.limit>0&&v>S.limit&&_e?_.push(ie):km(se)?setTimeout(()=>{F(ie)},se):F(ie)},setProps(Q){S=Q},setToggle:(Q,X)=>{A.get(Q).toggle=X},isToastActive:Q=>x.some(X=>X===Q),getSnapshot:()=>S.newestOnTop?b.reverse():b}}(o,a,x1e);ha.set(o,l);const c=l.observe(s);return Nm.forEach(d=>g7(d.content,d.options)),Nm=[],()=>{c(),ha.delete(o)}},setProps(s){var l;(l=ha.get(o))==null||l.setProps(s)},getSnapshot(){var s;return(s=ha.get(o))==null?void 0:s.getSnapshot()}}}(e)).current;r(e);const i=V.useSyncExternalStore(t,n,n);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return i.forEach(s=>{const{position:l}=s.props;o.has(l)||o.set(l,[]),o.get(l).push(s)}),Array.from(o,s=>a(s[0],s[1]))},isToastActive:p7,count:i==null?void 0:i.length}}function C1e(e){const[t,n]=V.useState(!1),[r,i]=V.useState(!1),a=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=e;var m,y;function v(){n(!0)}function _(){n(!1)}function x(A){const P=a.current;o.canDrag&&P&&(o.didMove=!0,t&&_(),o.delta=e.draggableDirection==="x"?A.clientX-o.start:A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",b);const A=a.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=ha.get((m={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),V.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",_)}},[e.pauseOnFocusLoss]);const S={onPointerDown:function(A){if(e.draggable===!0||e.draggable===A.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",b);const P=a.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(A){const{top:P,bottom:O,left:D,right:F}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&e.pauseOnHover&&A.clientX>=D&&A.clientX<=F&&A.clientY>=P&&A.clientY<=O?_():v()}};return s&&l&&(S.onMouseEnter=_,e.stacked||(S.onMouseLeave=v)),h&&(S.onClick=A=>{d&&d(A),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:S}}function T1e(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:s,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:m}=e;const y=a||l&&c===0,v={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const _=Bl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),x=Ka(o)?o({rtl:d,type:i,defaultClassName:_}):Bl(_,o),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return It.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},It.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),It.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:x,style:v,...b}))}let A1e=1;const m7=()=>""+A1e++;function R1e(e){return e&&(yf(e.toastId)||km(e.toastId))?e.toastId:m7()}function ym(e,t){return g7(e,t),t.toastId}function ow(e,t){return{...t,type:t&&t.type||e,toastId:R1e(t)}}function a_(e){return(t,n)=>ym(t,ow(e,n))}function xr(e,t){return ym(e,ow("default",t))}xr.loading=(e,t)=>ym(e,ow("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),xr.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=yf(i)?xr.loading(i,n):xr.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,m)=>{if(h==null)return void xr.dismiss(r);const y={type:d,...s,...n,data:m},v=yf(h)?{render:h}:h;return r?xr.update(r,{...y,...v}):xr(v.render,{...y,...v}),m},c=Ka(e)?e():e;return c.then(d=>l("success",o,d)).catch(d=>l("error",a,d)),c},xr.success=a_("success"),xr.info=a_("info"),xr.error=a_("error"),xr.warning=a_("warning"),xr.warn=xr.warning,xr.dark=(e,t)=>ym(e,ow("default",{theme:"dark",...t})),xr.dismiss=function(e){(function(t){var n;if(h7()){if(t==null||yf(n=t)||km(n))ha.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=ha.get(t.containerId);r?r.removeToast(t.id):ha.forEach(i=>{i.removeToast(t.id)})}}else Nm=Nm.filter(r=>t!=null&&r.options.toastId!==t)})(e)},xr.clearWaitingQueue=function(e){e===void 0&&(e={}),ha.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},xr.isActive=p7,xr.update=function(e,t){t===void 0&&(t={});const n=((r,i)=>{var a;let{containerId:o}=i;return(a=ha.get(o||1))==null?void 0:a.toasts.get(r)})(e,t);if(n){const{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:m7()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,ym(o,a)}},xr.done=e=>{xr.update(e,{progress:1})},xr.onChange=function(e){return IR.add(e),()=>{IR.delete(e)}},xr.play=e=>K6(!0,e),xr.pause=e=>K6(!1,e);const P1e=typeof window<"u"?V.useLayoutEffect:V.useEffect,o_=e=>{let{theme:t,type:n,isLoading:r,...i}=e;return It.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},mT={info:function(e){return It.createElement(o_,{...e},It.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return It.createElement(o_,{...e},It.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return It.createElement(o_,{...e},It.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return It.createElement(o_,{...e},It.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return It.createElement("div",{className:"Toastify__spinner"})}},O1e=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=C1e(e),{closeButton:o,children:s,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:m,transition:y,position:v,className:_,style:x,bodyClassName:b,bodyStyle:S,progressClassName:A,progressStyle:P,updateId:O,role:D,progress:F,rtl:Q,toastId:X,deleteToast:U,isIn:Y,isLoading:ce,closeOnClick:te,theme:se}=e,pe=Bl("Toastify__toast",`Toastify__toast-theme--${se}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),_e=Ka(_)?_({rtl:Q,position:v,type:d,defaultClassName:pe}):Bl(pe,_),de=function(ie){let{theme:me,type:K,isLoading:ee,icon:ge}=ie,Ae=null;const Ze={theme:me,type:K};return ge===!1||(Ka(ge)?Ae=ge({...Ze,isLoading:ee}):V.isValidElement(ge)?Ae=V.cloneElement(ge,Ze):ee?Ae=mT.spinner():(Pe=>Pe in mT)(K)&&(Ae=mT[K](Ze))),Ae}(e),ue=!!F||!l,Re={closeToast:m,type:d,theme:se};let k=null;return o===!1||(k=Ka(o)?o(Re):V.isValidElement(o)?V.cloneElement(o,Re):function(ie){let{closeToast:me,theme:K,ariaLabel:ee="close"}=ie;return It.createElement("button",{className:`Toastify__close-button Toastify__close-button--${K}`,type:"button",onClick:ge=>{ge.stopPropagation(),me(ge)},"aria-label":ee},It.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},It.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Re)),It.createElement(y,{isIn:Y,done:U,position:v,preventExitTransition:n,nodeRef:r,playToast:a},It.createElement("div",{id:X,onClick:c,"data-in":Y,className:_e,...i,style:x,ref:r},It.createElement("div",{...Y&&{role:D},className:Ka(b)?b({type:d}):Bl("Toastify__toast-body",b),style:S},de!=null&&It.createElement("div",{className:Bl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ce})},de),It.createElement("div",null,s)),k,It.createElement(T1e,{...O&&!ue?{key:`pb-${O}`}:{},rtl:Q,theme:se,delay:l,isRunning:t,isIn:Y,closeToast:m,hide:h,type:d,style:P,className:A,controlledProgress:ue,progress:F||0})))},hb=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},L1e=db(hb("bounce",!0)),I1e=db(hb("slide",!0));db(hb("zoom"));db(hb("flip"));const M1e={position:"top-right",transition:L1e,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function D1e(e){let t={...M1e,...e};const n=e.stacked,[r,i]=V.useState(!0),a=V.useRef(null),{getToastToRender:o,isToastActive:s,count:l}=E1e(t),{className:c,style:d,rtl:h,containerId:m}=t;function y(_){const x=Bl("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":h});return Ka(c)?c({position:_,rtl:h,defaultClassName:x}):Bl(x,E0(c))}function v(){n&&(i(!0),xr.play())}return P1e(()=>{if(n){var _;const x=a.current.querySelectorAll('[data-in="true"]'),b=12,S=(_=t.position)==null?void 0:_.includes("top");let A=0,P=0;Array.from(x).reverse().forEach((O,D)=>{const F=O;F.classList.add("Toastify__toast--stacked"),D>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=S?"top":"bot");const Q=A*(r?.2:1)+(r?0:b*D);F.style.setProperty("--y",`${S?Q:-1*Q}px`),F.style.setProperty("--g",`${b}`),F.style.setProperty("--s",""+(1-(r?P:0))),A+=F.offsetHeight,P+=.025})}},[r,l,n]),It.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),xr.pause())},onMouseLeave:v},o((_,x)=>{const b=x.length?{...d}:{...d,pointerEvents:"none"};return It.createElement("div",{className:y(_),style:b,key:`container-${_}`},x.map(S=>{let{content:A,props:P}=S;return It.createElement(O1e,{...P,stacked:n,collapseAll:v,isIn:s(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},A)}))}))}const k1e=()=>{mge(),d1e();const e=Yl(),t=di();return h1e(),V.useEffect(()=>{(async()=>{const n=await Ote({restorePreviousSession:!0});n&&e(AP.signin(n))})()},[e]),H.jsxs(_1e,{children:[H.jsx(c1e,{}),H.jsx(D1e,{transition:I1e}),H.jsx(w1e,{children:H.jsx(K_e,{})}),H.jsx(b1e,{children:t.isLoggedIn===void 0?H.jsx(wt,{id:"Z3FXyt"}):H.jsx(Tw,{})})]})};function N1e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const F1e=/[ \t\n\f\r]/g;function j1e(e){return typeof e=="object"?e.type==="text"?G6(e.value):!1:G6(e)}function G6(e){return e.replace(F1e,"")===""}class my{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}my.prototype.property={};my.prototype.normal={};my.prototype.space=null;function y7(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new my(n,r,t)}function MR(e){return e.toLowerCase()}class xo{constructor(t,n){this.property=t,this.attribute=n}}xo.prototype.space=null;xo.prototype.boolean=!1;xo.prototype.booleanish=!1;xo.prototype.overloadedBoolean=!1;xo.prototype.number=!1;xo.prototype.commaSeparated=!1;xo.prototype.spaceSeparated=!1;xo.prototype.commaOrSpaceSeparated=!1;xo.prototype.mustUseProperty=!1;xo.prototype.defined=!1;let $1e=0;const _n=kf(),ni=kf(),v7=kf(),Ot=kf(),Er=kf(),Vd=kf(),Ba=kf();function kf(){return 2**++$1e}const DR=Object.freeze(Object.defineProperty({__proto__:null,boolean:_n,booleanish:ni,commaOrSpaceSeparated:Ba,commaSeparated:Vd,number:Ot,overloadedBoolean:v7,spaceSeparated:Er},Symbol.toStringTag,{value:"Module"})),yT=Object.keys(DR);class NO extends xo{constructor(t,n,r,i){let a=-1;if(super(t,n),W6(this,"space",i),typeof r=="number")for(;++a<yT.length;){const o=yT[a];W6(this,yT[a],(r&DR[o])===DR[o])}}}NO.prototype.defined=!0;function W6(e,t,n){n&&(e[t]=n)}const U1e={}.hasOwnProperty;function Zh(e){const t={},n={};let r;for(r in e.properties)if(U1e.call(e.properties,r)){const i=e.properties[r],a=new NO(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[MR(r)]=r,n[MR(a.attribute)]=r}return new my(t,n,e.space)}const _7=Zh({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),w7=Zh({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function b7(e,t){return t in e?e[t]:t}function S7(e,t){return b7(e,t.toLowerCase())}const x7=Zh({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:S7,properties:{xmlns:null,xmlnsXLink:null}}),E7=Zh({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ni,ariaAutoComplete:null,ariaBusy:ni,ariaChecked:ni,ariaColCount:Ot,ariaColIndex:Ot,ariaColSpan:Ot,ariaControls:Er,ariaCurrent:null,ariaDescribedBy:Er,ariaDetails:null,ariaDisabled:ni,ariaDropEffect:Er,ariaErrorMessage:null,ariaExpanded:ni,ariaFlowTo:Er,ariaGrabbed:ni,ariaHasPopup:null,ariaHidden:ni,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Er,ariaLevel:Ot,ariaLive:null,ariaModal:ni,ariaMultiLine:ni,ariaMultiSelectable:ni,ariaOrientation:null,ariaOwns:Er,ariaPlaceholder:null,ariaPosInSet:Ot,ariaPressed:ni,ariaReadOnly:ni,ariaRelevant:null,ariaRequired:ni,ariaRoleDescription:Er,ariaRowCount:Ot,ariaRowIndex:Ot,ariaRowSpan:Ot,ariaSelected:ni,ariaSetSize:Ot,ariaSort:null,ariaValueMax:Ot,ariaValueMin:Ot,ariaValueNow:Ot,ariaValueText:null,role:null}}),B1e=Zh({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:S7,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vd,acceptCharset:Er,accessKey:Er,action:null,allow:null,allowFullScreen:_n,allowPaymentRequest:_n,allowUserMedia:_n,alt:null,as:null,async:_n,autoCapitalize:null,autoComplete:Er,autoFocus:_n,autoPlay:_n,blocking:Er,capture:_n,charSet:null,checked:_n,cite:null,className:Er,cols:Ot,colSpan:null,content:null,contentEditable:ni,controls:_n,controlsList:Er,coords:Ot|Vd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_n,defer:_n,dir:null,dirName:null,disabled:_n,download:v7,draggable:ni,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_n,formTarget:null,headers:Er,height:Ot,hidden:_n,high:Ot,href:null,hrefLang:null,htmlFor:Er,httpEquiv:Er,id:null,imageSizes:null,imageSrcSet:null,inert:_n,inputMode:null,integrity:null,is:null,isMap:_n,itemId:null,itemProp:Er,itemRef:Er,itemScope:_n,itemType:Er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_n,low:Ot,manifest:null,max:null,maxLength:Ot,media:null,method:null,min:null,minLength:Ot,multiple:_n,muted:_n,name:null,nonce:null,noModule:_n,noValidate:_n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_n,optimum:Ot,pattern:null,ping:Er,placeholder:null,playsInline:_n,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_n,referrerPolicy:null,rel:Er,required:_n,reversed:_n,rows:Ot,rowSpan:Ot,sandbox:Er,scope:null,scoped:_n,seamless:_n,selected:_n,shadowRootDelegatesFocus:_n,shadowRootMode:null,shape:null,size:Ot,sizes:null,slot:null,span:Ot,spellCheck:ni,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ot,step:null,style:null,tabIndex:Ot,target:null,title:null,translate:null,type:null,typeMustMatch:_n,useMap:null,value:ni,width:Ot,wrap:null,align:null,aLink:null,archive:Er,axis:null,background:null,bgColor:null,border:Ot,borderColor:null,bottomMargin:Ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_n,declare:_n,event:null,face:null,frame:null,frameBorder:null,hSpace:Ot,leftMargin:Ot,link:null,longDesc:null,lowSrc:null,marginHeight:Ot,marginWidth:Ot,noResize:_n,noHref:_n,noShade:_n,noWrap:_n,object:null,profile:null,prompt:null,rev:null,rightMargin:Ot,rules:null,scheme:null,scrolling:ni,standby:null,summary:null,text:null,topMargin:Ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_n,disableRemotePlayback:_n,prefix:null,property:null,results:Ot,security:null,unselectable:null}}),q1e=Zh({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:b7,properties:{about:Ba,accentHeight:Ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ot,amplitude:Ot,arabicForm:null,ascent:Ot,attributeName:null,attributeType:null,azimuth:Ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ot,by:null,calcMode:null,capHeight:Ot,className:Er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ot,diffuseConstant:Ot,direction:null,display:null,dur:null,divisor:Ot,dominantBaseline:null,download:_n,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ot,enableBackground:null,end:null,event:null,exponent:Ot,externalResourcesRequired:null,fill:null,fillOpacity:Ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vd,g2:Vd,glyphName:Vd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ot,horizOriginX:Ot,horizOriginY:Ot,id:null,ideographic:Ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ot,k:Ot,k1:Ot,k2:Ot,k3:Ot,k4:Ot,kernelMatrix:Ba,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ot,overlineThickness:Ot,paintOrder:null,panose1:null,path:null,pathLength:Ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ot,pointsAtY:Ot,pointsAtZ:Ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ba,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ba,rev:Ba,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ba,requiredFeatures:Ba,requiredFonts:Ba,requiredFormats:Ba,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ot,specularExponent:Ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ot,strikethroughThickness:Ot,string:null,stroke:null,strokeDashArray:Ba,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ot,strokeOpacity:Ot,strokeWidth:null,style:null,surfaceScale:Ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ba,tabIndex:Ot,tableValues:null,target:null,targetX:Ot,targetY:Ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ba,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ot,underlineThickness:Ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ot,values:null,vAlphabetic:Ot,vMathematical:Ot,vectorEffect:null,vHanging:Ot,vIdeographic:Ot,version:null,vertAdvY:Ot,vertOriginX:Ot,vertOriginY:Ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),z1e=/^data[-\w.:]+$/i,Q6=/-[a-z]/g,H1e=/[A-Z]/g;function V1e(e,t){const n=MR(t);let r=t,i=xo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&z1e.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Q6,G1e);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Q6.test(a)){let o=a.replace(H1e,K1e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=NO}return new i(r,t)}function K1e(e){return"-"+e.toLowerCase()}function G1e(e){return e.charAt(1).toUpperCase()}const W1e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Q1e=y7([w7,_7,x7,E7,B1e],"html"),C7=y7([w7,_7,x7,E7,q1e],"svg");function Z1e(e){return e.join(" ").trim()}var s_={exports:{}},vT,Z6;function J1e(){if(Z6)return vT;Z6=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",h="",m="comment",y="declaration";vT=function(_,x){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];x=x||{};var b=1,S=1;function A(te){var se=te.match(t);se&&(b+=se.length);var pe=te.lastIndexOf(l);S=~pe?te.length-pe:S+te.length}function P(){var te={line:b,column:S};return function(se){return se.position=new O(te),Q(),se}}function O(te){this.start=te,this.end={line:b,column:S},this.source=x.source}O.prototype.content=_;function D(te){var se=new Error(x.source+":"+b+":"+S+": "+te);if(se.reason=te,se.filename=x.source,se.line=b,se.column=S,se.source=_,!x.silent)throw se}function F(te){var se=te.exec(_);if(se){var pe=se[0];return A(pe),_=_.slice(pe.length),se}}function Q(){F(n)}function X(te){var se;for(te=te||[];se=U();)se!==!1&&te.push(se);return te}function U(){var te=P();if(!(c!=_.charAt(0)||d!=_.charAt(1))){for(var se=2;h!=_.charAt(se)&&(d!=_.charAt(se)||c!=_.charAt(se+1));)++se;if(se+=2,h===_.charAt(se-1))return D("End of comment missing");var pe=_.slice(2,se-2);return S+=2,A(pe),_=_.slice(se),S+=2,te({type:m,comment:pe})}}function Y(){var te=P(),se=F(r);if(se){if(U(),!F(i))return D("property missing ':'");var pe=F(a),_e=te({type:y,property:v(se[0].replace(e,h)),value:pe?v(pe[0].replace(e,h)):h});return F(o),_e}}function ce(){var te=[];X(te);for(var se;se=Y();)se!==!1&&(te.push(se),X(te));return te}return Q(),ce()};function v(_){return _?_.replace(s,h):h}return vT}var J6;function Y1e(){if(J6)return s_.exports;J6=1;var e=J1e();function t(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,o=e(n),s=typeof r=="function",l,c,d=0,h=o.length;d<h;d++)a=o[d],l=a.property,c=a.value,s?r(l,c,a):c&&(i||(i={}),i[l]=c);return i}return s_.exports=t,s_.exports.default=t,s_.exports}var X1e=Y1e();const eSe=Lr(X1e),T7=A7("end"),FO=A7("start");function A7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function tSe(e){const t=FO(e),n=T7(e);if(t&&n)return{start:t,end:n}}function vm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Y6(e.position):"start"in e||"end"in e?Y6(e):"line"in e||"column"in e?kR(e):""}function kR(e){return X6(e&&e.line)+":"+X6(e&&e.column)}function Y6(e){return kR(e&&e.start)+"-"+kR(e&&e.end)}function X6(e){return e&&typeof e=="number"?e:1}class ma extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=vm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ma.prototype.file="";ma.prototype.name="";ma.prototype.reason="";ma.prototype.message="";ma.prototype.stack="";ma.prototype.column=void 0;ma.prototype.line=void 0;ma.prototype.ancestors=void 0;ma.prototype.cause=void 0;ma.prototype.fatal=void 0;ma.prototype.place=void 0;ma.prototype.ruleId=void 0;ma.prototype.source=void 0;const jO={}.hasOwnProperty,nSe=new Map,rSe=/[A-Z]/g,iSe=/-([a-z])/g,aSe=new Set(["table","tbody","thead","tfoot","tr"]),oSe=new Set(["td","th"]);function sSe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=lSe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=uSe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?C7:Q1e,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=R7(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function R7(e,t,n){if(t.type==="element"||t.type==="root"){const r=e.schema;let i=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=C7,e.schema=i),e.ancestors.push(t);let a=cSe(e,t);const o=fSe(e,e.ancestors);let s=e.Fragment;if(e.ancestors.pop(),t.type==="element")if(a&&aSe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!j1e(l):!0})),jO.call(e.components,t.tagName)){const l=t.tagName;s=e.components[l],typeof s!="string"&&s!==e.Fragment&&e.passNode&&(o.node=t)}else s=t.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(o.children=l)}return e.schema=r,e.create(t,s,o,n)}if(t.type==="text")return t.value}function uSe(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function lSe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=FO(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function cSe(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:nSe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;o=a.tagName+"-"+l,i.set(a.tagName,l+1)}const s=R7(e,a,o);s!==void 0&&n.push(s)}return n}function fSe(e,t){const n=t[t.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&jO.call(n.properties,i)){const o=dSe(e,t,i,n.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&oSe.has(n.tagName)?a=l:r[s]=l}}if(a){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function dSe(e,t,n,r){const i=V1e(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?N1e(r):Z1e(r)),i.property==="style"){let a=typeof r=="object"?r:hSe(e,t,String(r));return e.stylePropertyNameCase==="css"&&(a=pSe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?W1e[i.property]||i.property:i.attribute,r]}}function hSe(e,t,n){const r={};try{eSe(n,i)}catch(a){if(!e.ignoreInvalidStyle){const o=a,s=new ma("Cannot parse `style` attribute",{ancestors:t,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=e.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(iSe,mSe)),r[s]=o}}function pSe(e){const t={};let n;for(n in e)jO.call(e,n)&&(t[gSe(n)]=e[n]);return t}function gSe(e){let t=e.replace(rSe,ySe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function mSe(e,t){return t.toUpperCase()}function ySe(e){return"-"+e.toLowerCase()}const _T={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vSe={};function _Se(e,t){const n=vSe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return P7(e,r,i)}function P7(e,t,n){if(wSe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return e$(e.children,t,n)}return Array.isArray(e)?e$(e,t,n):""}function e$(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=P7(e[i],t,n);return r.join("")}function wSe(e){return!!(e&&typeof e=="object")}const t$=document.createElement("i");function $O(e){const t="&"+e+";";t$.innerHTML=t;const n=t$.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ps(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function _o(e,t){return e.length>0?(Ps(e,e.length,0,t),e):t}const n$={}.hasOwnProperty;function bSe(e){const t={};let n=-1;for(;++n<e.length;)SSe(t,e[n]);return t}function SSe(e,t){let n;for(n in t){const i=(n$.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){n$.call(i,o)||(i[o]=[]);const s=a[o];xSe(i[o],Array.isArray(s)?s:s?[s]:[])}}}function xSe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ps(e,0,0,r)}function O7(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kd(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ESe=ic(new RegExp("\\p{P}","u")),_s=ic(/[A-Za-z]/),Ga=ic(/[\dA-Za-z]/),CSe=ic(/[#-'*+\--9=?A-Z^-~]/);function NR(e){return e!==null&&(e<32||e===127)}const FR=ic(/\d/),TSe=ic(/[\dA-Fa-f]/),L7=ic(/[!-/:-@[-`{-~]/);function fn(e){return e!==null&&e<-2}function Aa(e){return e!==null&&(e<0||e===32)}function Zn(e){return e===-2||e===-1||e===32}function ASe(e){return L7(e)||ESe(e)}const RSe=ic(/\s/);function ic(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Jh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Ga(e.charCodeAt(n+1))&&Ga(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Cr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Zn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Zn(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const PSe={tokenize:OSe};function OSe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Cr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return fn(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const LSe={tokenize:ISe},r$={tokenize:MSe};function ISe(e){const t=this,n=[];let r=0,i,a,o;return s;function s(A){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,c)(A)}return c(A)}function l(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&S();const P=t.events.length;let O=P,D;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){D=t.events[O][1].end;break}b(r);let F=P;for(;F<t.events.length;)t.events[F][1].end=Object.assign({},D),F++;return Ps(t.events,O+1,0,t.events.slice(P)),t.events.length=F,c(A)}return s(A)}function c(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(r$,d,h)(A)}function d(A){return i&&S(),b(r),m(A)}function h(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(A)}function m(A){return t.containerState={},e.attempt(r$,y,v)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),m(A)}function v(A){if(A===null){i&&S(),b(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),_(A)}function _(A){if(A===null){x(e.exit("chunkFlow"),!0),b(0),e.consume(A);return}return fn(A)?(e.consume(A),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(A),_)}function x(A,P){const O=t.sliceStream(A);if(P&&O.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(O),t.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const F=t.events.length;let Q=F,X,U;for(;Q--;)if(t.events[Q][0]==="exit"&&t.events[Q][1].type==="chunkFlow"){if(X){U=t.events[Q][1].end;break}X=!0}for(b(r),D=F;D<t.events.length;)t.events[D][1].end=Object.assign({},U),D++;Ps(t.events,Q+1,0,t.events.slice(F)),t.events.length=D}}function b(A){let P=n.length;for(;P-- >A;){const O=n[P];t.containerState=O[1],O[0].exit.call(t,e)}n.length=A}function S(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function MSe(e,t,n){return Cr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function i$(e){if(e===null||Aa(e)||RSe(e))return 1;if(ASe(e))return 2}function UO(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const jR={name:"attention",tokenize:kSe,resolveAll:DSe};function DSe(e,t){let n=-1,r,i,a,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),m=Object.assign({},e[n][1].start);a$(h,-l),a$(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:m},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=_o(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=_o(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=_o(c,UO(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=_o(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=_o(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ps(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function kSe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=i$(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=i$(l),h=!d||d===2&&i||n.includes(l),m=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?h:h&&(i||!m)),c._close=!!(a===42?m:m&&(d||!h)),t(l)}}function a$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const NSe={name:"autolink",tokenize:FSe};function FSe(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(y){return _s(y)?(e.consume(y),o):c(y)}function o(y){return y===43||y===45||y===46||Ga(y)?(r=1,s(y)):c(y)}function s(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||Ga(y))&&r++<32?(e.consume(y),s):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||NR(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),d):CSe(y)?(e.consume(y),c):n(y)}function d(y){return Ga(y)?h(y):n(y)}function h(y){return y===46?(e.consume(y),r=0,d):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):m(y)}function m(y){if((y===45||Ga(y))&&r++<63){const v=y===45?m:h;return e.consume(y),v}return n(y)}}const pb={tokenize:jSe,partial:!0};function jSe(e,t,n){return r;function r(a){return Zn(a)?Cr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||fn(a)?t(a):n(a)}}const I7={name:"blockQuote",tokenize:$Se,continuation:{tokenize:USe},exit:BSe};function $Se(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Zn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function USe(e,t,n){const r=this;return i;function i(o){return Zn(o)?Cr(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(I7,t,n)(o)}}function BSe(e){e.exit("blockQuote")}const M7={name:"characterEscape",tokenize:qSe};function qSe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return L7(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const D7={name:"characterReference",tokenize:zSe};function zSe(e,t,n){const r=this;let i=0,a,o;return s;function s(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Ga,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=TSe,d):(e.enter("characterReferenceValue"),a=7,o=FR,d(h))}function d(h){if(h===59&&i){const m=e.exit("characterReferenceValue");return o===Ga&&!$O(r.sliceSerialize(m))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),d):n(h)}}const o$={tokenize:VSe,partial:!0},s$={name:"codeFenced",tokenize:HSe,concrete:!0};function HSe(e,t,n){const r=this,i={tokenize:O,partial:!0};let a=0,o=0,s;return l;function l(D){return c(D)}function c(D){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,s=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(D)}function d(D){return D===s?(o++,e.consume(D),d):o<3?n(D):(e.exit("codeFencedFenceSequence"),Zn(D)?Cr(e,h,"whitespace")(D):h(D))}function h(D){return D===null||fn(D)?(e.exit("codeFencedFence"),r.interrupt?t(D):e.check(o$,_,P)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||fn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(D)):Zn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Cr(e,y,"whitespace")(D)):D===96&&D===s?n(D):(e.consume(D),m)}function y(D){return D===null||fn(D)?h(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||fn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(D)):D===96&&D===s?n(D):(e.consume(D),v)}function _(D){return e.attempt(i,P,x)(D)}function x(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),b}function b(D){return a>0&&Zn(D)?Cr(e,S,"linePrefix",a+1)(D):S(D)}function S(D){return D===null||fn(D)?e.check(o$,_,P)(D):(e.enter("codeFlowValue"),A(D))}function A(D){return D===null||fn(D)?(e.exit("codeFlowValue"),S(D)):(e.consume(D),A)}function P(D){return e.exit("codeFenced"),t(D)}function O(D,F,Q){let X=0;return U;function U(pe){return D.enter("lineEnding"),D.consume(pe),D.exit("lineEnding"),Y}function Y(pe){return D.enter("codeFencedFence"),Zn(pe)?Cr(D,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):ce(pe)}function ce(pe){return pe===s?(D.enter("codeFencedFenceSequence"),te(pe)):Q(pe)}function te(pe){return pe===s?(X++,D.consume(pe),te):X>=o?(D.exit("codeFencedFenceSequence"),Zn(pe)?Cr(D,se,"whitespace")(pe):se(pe)):Q(pe)}function se(pe){return pe===null||fn(pe)?(D.exit("codeFencedFence"),F(pe)):Q(pe)}}}function VSe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const wT={name:"codeIndented",tokenize:GSe},KSe={tokenize:WSe,partial:!0};function GSe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Cr(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fn(c)?e.attempt(KSe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||fn(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function WSe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Cr(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):fn(o)?i(o):n(o)}}const QSe={name:"codeText",tokenize:YSe,resolve:ZSe,previous:JSe};function ZSe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function JSe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function YSe(e,t,n){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),s(h)}function s(h){return h===96?(e.consume(h),r++,s):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,d(h)):fn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||fn(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",c(h))}}function k7(e){const t={};let n=-1,r,i,a,o,s,l,c;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,XSe(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=e[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),s=e.slice(i,n),s.unshift(r),Ps(e,i,n-i+1,s))}}return!c}function XSe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],c={};let d,h,m=-1,y=n,v=0,_=0;const x=[_];for(;y;){for(;e[++i][1]!==y;);a.push(i),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(_=m+1,x.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):x.pop(),m=x.length;m--;){const b=s.slice(x[m],x[m+1]),S=a.pop();l.unshift([S,S+b.length-1]),Ps(e,S,2,b)}for(m=-1;++m<l.length;)c[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return c}const exe={tokenize:rxe,resolve:nxe},txe={tokenize:ixe,partial:!0};function nxe(e){return k7(e),e}function rxe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):fn(s)?e.check(txe,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ixe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Cr(e,a,"linePrefix")}function a(o){if(o===null||fn(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function N7(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),m):b===null||b===32||b===41||NR(b)?n(b):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),_(b))}function m(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===62?(e.exit("chunkString"),e.exit(s),m(b)):b===null||b===60||fn(b)?n(b):(e.consume(b),b===92?v:y)}function v(b){return b===60||b===62||b===92?(e.consume(b),y):y(b)}function _(b){return!d&&(b===null||b===41||Aa(b))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(b)):d<c&&b===40?(e.consume(b),d++,_):b===41?(e.consume(b),d--,_):b===null||b===32||b===40||NR(b)?n(b):(e.consume(b),b===92?x:_)}function x(b){return b===40||b===41||b===92?(e.consume(b),_):_(b)}}function F7(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(a),d}function d(y){return s>999||y===null||y===91||y===93&&!l||y===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(a),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):fn(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||fn(y)||s++>999?(e.exit("chunkString"),d(y)):(e.consume(y),l||(l=!Zn(y)),y===92?m:h)}function m(y){return y===91||y===92||y===93?(e.consume(y),s++,h):h(y)}}function j7(e,t,n,r,i,a){let o;return s;function s(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),o=m===40?41:m,l):n(m)}function l(m){return m===o?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(a),c(m))}function c(m){return m===o?(e.exit(a),l(o)):m===null?n(m):fn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Cr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||fn(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?h:d)}function h(m){return m===o||m===92?(e.consume(m),d):d(m)}}function _m(e,t){let n;return r;function r(i){return fn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Zn(i)?Cr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const axe={name:"definition",tokenize:sxe},oxe={tokenize:uxe,partial:!0};function sxe(e,t,n){const r=this;let i;return a;function a(y){return e.enter("definition"),o(y)}function o(y){return F7.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=Kd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Aa(y)?_m(e,c)(y):c(y)}function c(y){return N7(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return e.attempt(oxe,h,h)(y)}function h(y){return Zn(y)?Cr(e,m,"whitespace")(y):m(y)}function m(y){return y===null||fn(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function uxe(e,t,n){return r;function r(s){return Aa(s)?_m(e,i)(s):n(s)}function i(s){return j7(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Zn(s)?Cr(e,o,"whitespace")(s):o(s)}function o(s){return s===null||fn(s)?t(s):n(s)}}const lxe={name:"hardBreakEscape",tokenize:cxe};function cxe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return fn(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const fxe={name:"headingAtx",tokenize:hxe,resolve:dxe};function dxe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ps(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function hxe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Aa(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||fn(d)?(e.exit("atxHeading"),t(d)):Zn(d)?Cr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Aa(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const pxe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],u$=["pre","script","style","textarea"],gxe={name:"htmlFlow",tokenize:_xe,resolveTo:vxe,concrete:!0},mxe={tokenize:bxe,partial:!0},yxe={tokenize:wxe,partial:!0};function vxe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _xe(e,t,n){const r=this;let i,a,o,s,l;return c;function c(K){return d(K)}function d(K){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(K),h}function h(K){return K===33?(e.consume(K),m):K===47?(e.consume(K),a=!0,_):K===63?(e.consume(K),i=3,r.interrupt?t:k):_s(K)?(e.consume(K),o=String.fromCharCode(K),x):n(K)}function m(K){return K===45?(e.consume(K),i=2,y):K===91?(e.consume(K),i=5,s=0,v):_s(K)?(e.consume(K),i=4,r.interrupt?t:k):n(K)}function y(K){return K===45?(e.consume(K),r.interrupt?t:k):n(K)}function v(K){const ee="CDATA[";return K===ee.charCodeAt(s++)?(e.consume(K),s===ee.length?r.interrupt?t:ce:v):n(K)}function _(K){return _s(K)?(e.consume(K),o=String.fromCharCode(K),x):n(K)}function x(K){if(K===null||K===47||K===62||Aa(K)){const ee=K===47,ge=o.toLowerCase();return!ee&&!a&&u$.includes(ge)?(i=1,r.interrupt?t(K):ce(K)):pxe.includes(o.toLowerCase())?(i=6,ee?(e.consume(K),b):r.interrupt?t(K):ce(K)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(K):a?S(K):A(K))}return K===45||Ga(K)?(e.consume(K),o+=String.fromCharCode(K),x):n(K)}function b(K){return K===62?(e.consume(K),r.interrupt?t:ce):n(K)}function S(K){return Zn(K)?(e.consume(K),S):U(K)}function A(K){return K===47?(e.consume(K),U):K===58||K===95||_s(K)?(e.consume(K),P):Zn(K)?(e.consume(K),A):U(K)}function P(K){return K===45||K===46||K===58||K===95||Ga(K)?(e.consume(K),P):O(K)}function O(K){return K===61?(e.consume(K),D):Zn(K)?(e.consume(K),O):A(K)}function D(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(e.consume(K),l=K,F):Zn(K)?(e.consume(K),D):Q(K)}function F(K){return K===l?(e.consume(K),l=null,X):K===null||fn(K)?n(K):(e.consume(K),F)}function Q(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||Aa(K)?O(K):(e.consume(K),Q)}function X(K){return K===47||K===62||Zn(K)?A(K):n(K)}function U(K){return K===62?(e.consume(K),Y):n(K)}function Y(K){return K===null||fn(K)?ce(K):Zn(K)?(e.consume(K),Y):n(K)}function ce(K){return K===45&&i===2?(e.consume(K),_e):K===60&&i===1?(e.consume(K),de):K===62&&i===4?(e.consume(K),ie):K===63&&i===3?(e.consume(K),k):K===93&&i===5?(e.consume(K),Re):fn(K)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(mxe,me,te)(K)):K===null||fn(K)?(e.exit("htmlFlowData"),te(K)):(e.consume(K),ce)}function te(K){return e.check(yxe,se,me)(K)}function se(K){return e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),pe}function pe(K){return K===null||fn(K)?te(K):(e.enter("htmlFlowData"),ce(K))}function _e(K){return K===45?(e.consume(K),k):ce(K)}function de(K){return K===47?(e.consume(K),o="",ue):ce(K)}function ue(K){if(K===62){const ee=o.toLowerCase();return u$.includes(ee)?(e.consume(K),ie):ce(K)}return _s(K)&&o.length<8?(e.consume(K),o+=String.fromCharCode(K),ue):ce(K)}function Re(K){return K===93?(e.consume(K),k):ce(K)}function k(K){return K===62?(e.consume(K),ie):K===45&&i===2?(e.consume(K),k):ce(K)}function ie(K){return K===null||fn(K)?(e.exit("htmlFlowData"),me(K)):(e.consume(K),ie)}function me(K){return e.exit("htmlFlow"),t(K)}}function wxe(e,t,n){const r=this;return i;function i(o){return fn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function bxe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(pb,t,n)}}const Sxe={name:"htmlText",tokenize:xxe};function xxe(e,t,n){const r=this;let i,a,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),O):k===63?(e.consume(k),A):_s(k)?(e.consume(k),Q):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),a=0,v):_s(k)?(e.consume(k),S):n(k)}function d(k){return k===45?(e.consume(k),y):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),m):fn(k)?(o=h,de(k)):(e.consume(k),h)}function m(k){return k===45?(e.consume(k),y):h(k)}function y(k){return k===62?_e(k):k===45?m(k):h(k)}function v(k){const ie="CDATA[";return k===ie.charCodeAt(a++)?(e.consume(k),a===ie.length?_:v):n(k)}function _(k){return k===null?n(k):k===93?(e.consume(k),x):fn(k)?(o=_,de(k)):(e.consume(k),_)}function x(k){return k===93?(e.consume(k),b):_(k)}function b(k){return k===62?_e(k):k===93?(e.consume(k),b):_(k)}function S(k){return k===null||k===62?_e(k):fn(k)?(o=S,de(k)):(e.consume(k),S)}function A(k){return k===null?n(k):k===63?(e.consume(k),P):fn(k)?(o=A,de(k)):(e.consume(k),A)}function P(k){return k===62?_e(k):A(k)}function O(k){return _s(k)?(e.consume(k),D):n(k)}function D(k){return k===45||Ga(k)?(e.consume(k),D):F(k)}function F(k){return fn(k)?(o=F,de(k)):Zn(k)?(e.consume(k),F):_e(k)}function Q(k){return k===45||Ga(k)?(e.consume(k),Q):k===47||k===62||Aa(k)?X(k):n(k)}function X(k){return k===47?(e.consume(k),_e):k===58||k===95||_s(k)?(e.consume(k),U):fn(k)?(o=X,de(k)):Zn(k)?(e.consume(k),X):_e(k)}function U(k){return k===45||k===46||k===58||k===95||Ga(k)?(e.consume(k),U):Y(k)}function Y(k){return k===61?(e.consume(k),ce):fn(k)?(o=Y,de(k)):Zn(k)?(e.consume(k),Y):X(k)}function ce(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,te):fn(k)?(o=ce,de(k)):Zn(k)?(e.consume(k),ce):(e.consume(k),se)}function te(k){return k===i?(e.consume(k),i=void 0,pe):k===null?n(k):fn(k)?(o=te,de(k)):(e.consume(k),te)}function se(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Aa(k)?X(k):(e.consume(k),se)}function pe(k){return k===47||k===62||Aa(k)?X(k):n(k)}function _e(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function de(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ue}function ue(k){return Zn(k)?Cr(e,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Re(k)}function Re(k){return e.enter("htmlTextData"),o(k)}}const BO={name:"labelEnd",tokenize:Pxe,resolveTo:Rxe,resolveAll:Axe},Exe={tokenize:Oxe},Cxe={tokenize:Lxe},Txe={tokenize:Ixe};function Axe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function Rxe(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",c,t]],s=_o(s,e.slice(a+1,a+r+3)),s=_o(s,[["enter",d,t]]),s=_o(s,UO(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=_o(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=_o(s,e.slice(o+1)),s=_o(s,[["exit",l,t]]),Ps(e,a,e.length,s),e}function Pxe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(m){return a?a._inactive?h(m):(o=r.parser.defined.includes(Kd(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(Exe,d,o?d:h)(m):m===91?e.attempt(Cxe,d,o?c:h)(m):o?d(m):h(m)}function c(m){return e.attempt(Txe,d,h)(m)}function d(m){return t(m)}function h(m){return a._balanced=!0,n(m)}}function Oxe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Aa(h)?_m(e,a)(h):a(h)}function a(h){return h===41?d(h):N7(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Aa(h)?_m(e,l)(h):d(h)}function s(h){return n(h)}function l(h){return h===34||h===39||h===40?j7(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Aa(h)?_m(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function Lxe(e,t,n){const r=this;return i;function i(s){return F7.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Kd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Ixe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Mxe={name:"labelStartImage",tokenize:Dxe,resolveAll:BO.resolveAll};function Dxe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const kxe={name:"labelStartLink",tokenize:Nxe,resolveAll:BO.resolveAll};function Nxe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const bT={name:"lineEnding",tokenize:Fxe};function Fxe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Cr(e,t,"linePrefix")}}const C0={name:"thematicBreak",tokenize:jxe};function jxe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fn(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Zn(c)?Cr(e,s,"whitespace")(c):s(c))}}const Sa={name:"list",tokenize:Bxe,continuation:{tokenize:qxe},exit:Hxe},$xe={tokenize:Vxe,partial:!0},Uxe={tokenize:zxe,partial:!0};function Bxe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:FR(y)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(C0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return FR(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(pb,r.interrupt?n:d,e.attempt($xe,m,h))}function d(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function h(y){return Zn(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function qxe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(pb,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Cr(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Zn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Uxe,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Cr(e,e.attempt(Sa,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function zxe(e,t,n){const r=this;return Cr(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function Hxe(e){e.exit(this.containerState.type)}function Vxe(e,t,n){const r=this;return Cr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Zn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const l$={name:"setextUnderline",tokenize:Gxe,resolveTo:Kxe};function Kxe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function Gxe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Zn(c)?Cr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fn(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Wxe={tokenize:Qxe};function Qxe(e){const t=this,n=e.attempt(pb,r,e.attempt(this.parser.constructs.flowInitial,i,Cr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(exe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Zxe={resolveAll:U7()},Jxe=$7("string"),Yxe=$7("text");function $7(e){return{tokenize:t,resolveAll:U7(e==="text"?Xxe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let m=-1;if(h)for(;++m<h.length;){const y=h[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function U7(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Xxe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function eEe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const l={consume:S,enter:A,exit:P,attempt:F(O),check:F(D),interrupt:F(D,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:y,sliceSerialize:m,now:v,defineSkip:_,write:h};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function h(Y){return o=_o(o,Y),x(),o[o.length-1]!==null?[]:(Q(t,0),c.events=UO(a,c.events,c),c.events)}function m(Y,ce){return nEe(y(Y),ce)}function y(Y){return tEe(o,Y)}function v(){const{line:Y,column:ce,offset:te,_index:se,_bufferIndex:pe}=r;return{line:Y,column:ce,offset:te,_index:se,_bufferIndex:pe}}function _(Y){i[Y.line]=Y.column,U()}function x(){let Y;for(;r._index<o.length;){const ce=o[r._index];if(typeof ce=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<ce.length;)b(ce.charCodeAt(r._bufferIndex));else b(ce)}}function b(Y){d=d(Y)}function S(Y){fn(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,U()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Y}function A(Y,ce){const te=ce||{};return te.type=Y,te.start=v(),c.events.push(["enter",te,c]),s.push(te),te}function P(Y){const ce=s.pop();return ce.end=v(),c.events.push(["exit",ce,c]),ce}function O(Y,ce){Q(Y,ce.from)}function D(Y,ce){ce.restore()}function F(Y,ce){return te;function te(se,pe,_e){let de,ue,Re,k;return Array.isArray(se)?me(se):"tokenize"in se?me([se]):ie(se);function ie(Ae){return Ze;function Ze(Pe){const Ne=Pe!==null&&Ae[Pe],Ye=Pe!==null&&Ae.null,oe=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Ye)?Ye:Ye?[Ye]:[]];return me(oe)(Pe)}}function me(Ae){return de=Ae,ue=0,Ae.length===0?_e:K(Ae[ue])}function K(Ae){return Ze;function Ze(Pe){return k=X(),Re=Ae,Ae.partial||(c.currentConstruct=Ae),Ae.name&&c.parser.constructs.disable.null.includes(Ae.name)?ge():Ae.tokenize.call(ce?Object.assign(Object.create(c),ce):c,l,ee,ge)(Pe)}}function ee(Ae){return Y(Re,k),pe}function ge(Ae){return k.restore(),++ue<de.length?K(de[ue]):_e}}}function Q(Y,ce){Y.resolveAll&&!a.includes(Y)&&a.push(Y),Y.resolve&&Ps(c.events,ce,c.events.length-ce,Y.resolve(c.events.slice(ce),c)),Y.resolveTo&&(c.events=Y.resolveTo(c.events,c))}function X(){const Y=v(),ce=c.previous,te=c.currentConstruct,se=c.events.length,pe=Array.from(s);return{restore:_e,from:se};function _e(){r=Y,c.previous=ce,c.currentConstruct=te,c.events.length=se,s=pe,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function tEe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function nEe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const rEe={42:Sa,43:Sa,45:Sa,48:Sa,49:Sa,50:Sa,51:Sa,52:Sa,53:Sa,54:Sa,55:Sa,56:Sa,57:Sa,62:I7},iEe={91:axe},aEe={[-2]:wT,[-1]:wT,32:wT},oEe={35:fxe,42:C0,45:[l$,C0],60:gxe,61:l$,95:C0,96:s$,126:s$},sEe={38:D7,92:M7},uEe={[-5]:bT,[-4]:bT,[-3]:bT,33:Mxe,38:D7,42:jR,60:[NSe,Sxe],91:kxe,92:[lxe,M7],93:BO,95:jR,96:QSe},lEe={null:[jR,Zxe]},cEe={null:[42,95]},fEe={null:[]},dEe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cEe,contentInitial:iEe,disable:fEe,document:rEe,flow:oEe,flowInitial:aEe,insideSpan:lEe,string:sEe,text:uEe},Symbol.toStringTag,{value:"Module"}));function hEe(e){const n=bSe([dEe,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(PSe),document:i(LSe),flow:i(Wxe),string:i(Jxe),text:i(Yxe)};return r;function i(a){return o;function o(s){return eEe(r,a,s)}}}function pEe(e){for(;!k7(e););return e}const c$=/[\0\t\n\r]/g;function gEe(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,d,h,m,y;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(c$.lastIndex=h,c=c$.exec(a),m=c&&c.index!==void 0?c.index:a.length,y=a.charCodeAt(m),!c){t=a.slice(h);break}if(y===10&&h===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<m&&(l.push(a.slice(h,m)),e+=m-h),y){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=m+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const mEe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yEe(e){return e.replace(mEe,vEe)}function vEe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return O7(n.slice(a?2:1),a?16:10)}return $O(n)||e}const B7={}.hasOwnProperty;function _Ee(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wEe(n)(pEe(hEe(n).document().write(gEe()(e,t,!0))))}function wEe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:X,autolinkEmail:X,atxHeading:a(ae),blockQuote:a(Ne),characterEscape:X,characterReference:X,codeFenced:a(Ye),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Ye,o),codeText:a(oe,o),codeTextData:X,data:X,codeFlowValue:X,definition:a(z),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a($),hardBreakEscape:a(Z),hardBreakTrailing:a(Z),htmlFlow:a(he,o),htmlFlowData:X,htmlText:a(he,o),htmlTextData:X,image:a(ye),label:o,link:a(He),listItem:a(Fe),listItemValue:m,listOrdered:a(Ee,h),listUnordered:a(Ee),paragraph:a(tt),reference:K,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(nt),thematicBreak:a(qt)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Pe,autolinkProtocol:Ze,blockQuote:l(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:Ae,codeFenced:l(x),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:U,codeIndented:l(b),codeText:l(pe),codeTextData:U,data:U,definition:l(),definitionDestinationString:P,definitionLabelString:S,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(ce),hardBreakTrailing:l(ce),htmlFlow:l(te),htmlFlowData:U,htmlText:l(se),htmlTextData:U,image:l(de),label:Re,labelText:ue,lineEnding:Y,link:l(_e),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:k,resourceTitleString:ie,resource:me,setextHeading:l(Q),setextHeadingLineSequence:F,setextHeadingText:D,strong:l(),thematicBreak:l()}};q7(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const ne={stack:[Be],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},q=[];let W=-1;for(;++W<Se.length;)if(Se[W][1].type==="listOrdered"||Se[W][1].type==="listUnordered")if(Se[W][0]==="enter")q.push(W);else{const G=q.pop();W=i(Se,G,W)}for(W=-1;++W<Se.length;){const G=t[Se[W][0]];B7.call(G,Se[W][1].type)&&G[Se[W][1].type].call(Object.assign({sliceSerialize:Se[W][2].sliceSerialize},ne),Se[W][1])}if(ne.tokenStack.length>0){const G=ne.tokenStack[ne.tokenStack.length-1];(G[1]||f$).call(ne,void 0,G[0])}for(Be.position={start:vl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:vl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<t.transforms.length;)Be=t.transforms[W](Be)||Be;return Be}function i(Se,Be,ne){let q=Be-1,W=-1,G=!1,je,Je,ke,Rt;for(;++q<=ne;){const Lt=Se[q];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?W++:W--,Rt=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(je&&!Rt&&!W&&!ke&&(ke=q),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!W&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||W===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(je){let Nt=q;for(Je=void 0;Nt--;){const Pt=Se[Nt];if(Pt[1].type==="lineEnding"||Pt[1].type==="lineEndingBlank"){if(Pt[0]==="exit")continue;Je&&(Se[Je][1].type="lineEndingBlank",G=!0),Pt[1].type="lineEnding",Je=Nt}else if(!(Pt[1].type==="linePrefix"||Pt[1].type==="blockQuotePrefix"||Pt[1].type==="blockQuotePrefixWhitespace"||Pt[1].type==="blockQuoteMarker"||Pt[1].type==="listItemIndent"))break}ke&&(!Je||ke<Je)&&(je._spread=!0),je.end=Object.assign({},Je?Se[Je][1].start:Lt[1].end),Se.splice(Je||q,0,["exit",je,Lt[2]]),q++,ne++}if(Lt[1].type==="listItemPrefix"){const Nt={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};je=Nt,Se.splice(q,0,["enter",Nt,Lt[2]]),q++,ne++,ke=void 0,Rt=!0}}}return Se[Be][1]._spread=G,ne}function a(Se,Be){return ne;function ne(q){s.call(this,Se(q),q),Be&&Be.call(this,q)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Se,Be,ne){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,ne]),Se.position={start:vl(Be.start),end:void 0}}function l(Se){return Be;function Be(ne){Se&&Se.call(this,ne),c.call(this,ne)}}function c(Se,Be){const ne=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==Se.type&&(Be?Be.call(this,Se,q[0]):(q[1]||f$).call(this,Se,q[0]));else throw new Error("Cannot close `"+Se.type+"` ("+vm({start:Se.start,end:Se.end})+"): its not open");ne.position.end=vl(Se.end)}function d(){return _Se(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function v(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function S(Se){const Be=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Be,ne.identifier=Kd(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function P(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function O(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const ne=this.sliceSerialize(Se).length;Be.depth=ne}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function X(Se){const ne=this.stack[this.stack.length-1].children;let q=ne[ne.length-1];(!q||q.type!=="text")&&(q=gt(),q.position={start:vl(Se.start),end:void 0},ne.push(q)),this.stack.push(q)}function U(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=vl(Se.end)}function Y(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=Be.children[Be.children.length-1];ne.position.end=vl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Be.type)&&(X.call(this,Se),U.call(this,Se))}function ce(){this.data.atHardBreak=!0}function te(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function se(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function pe(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function _e(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function de(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ue(Se){const Be=this.sliceSerialize(Se),ne=this.stack[this.stack.length-2];ne.label=yEe(Be),ne.identifier=Kd(Be).toLowerCase()}function Re(){const Se=this.stack[this.stack.length-1],Be=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const q=Se.children;ne.children=q}else ne.alt=Be}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function ie(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function me(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function ee(Se){const Be=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Be,ne.identifier=Kd(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function ge(Se){this.data.characterReferenceType=Se.type}function Ae(Se){const Be=this.sliceSerialize(Se),ne=this.data.characterReferenceType;let q;ne?(q=O7(Be,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=$O(Be);const W=this.stack.pop();W.value+=q,W.position.end=vl(Se.end)}function Ze(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Pe(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Ne(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function he(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Ee(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Fe(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function vl(e){return{line:e.line,column:e.column,offset:e.offset}}function q7(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?q7(e,r):bEe(e,r)}}function bEe(e,t){let n;for(n in t)if(B7.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function f$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+vm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+vm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+vm({start:t.start,end:t.end})+") is still open")}function SEe(e){const t=this;t.parser=n;function n(r){return _Ee(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xEe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function EEe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function CEe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function TEe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AEe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function REe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Jh(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function PEe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OEe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function z7(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function LEe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return z7(e,t);const i={src:Jh(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function IEe(e,t){const n={src:Jh(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function MEe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function DEe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return z7(e,t);const i={href:Jh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function kEe(e,t){const n={href:Jh(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function NEe(e,t,n){const r=e.all(t),i=n?FEe(n):H7(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function FEe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=H7(n[r])}return t}function H7(e){const t=e.spread;return t??e.children.length>1}function jEe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function $Ee(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UEe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function BEe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qEe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=FO(t.children[1]),l=T7(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function zEe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const h=t.children[l],m={},y=o?o[l]:void 0;y&&(m.align=y);let v={type:"element",tagName:a,properties:m,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function HEe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const d$=9,h$=32;function VEe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(p$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(p$(t.slice(i),i>0,!1)),a.join("")}function p$(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===d$||a===h$;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===d$||a===h$;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function KEe(e,t){const n={type:"text",value:VEe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function GEe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const WEe={blockquote:xEe,break:EEe,code:CEe,delete:TEe,emphasis:AEe,footnoteReference:REe,heading:PEe,html:OEe,imageReference:LEe,image:IEe,inlineCode:MEe,linkReference:DEe,link:kEe,listItem:NEe,list:jEe,paragraph:$Ee,root:UEe,strong:BEe,table:qEe,tableCell:HEe,tableRow:zEe,text:KEe,thematicBreak:GEe,toml:u_,yaml:u_,definition:u_,footnoteDefinition:u_};function u_(){}const V7=-1,gb=0,sw=1,uw=2,qO=3,zO=4,HO=5,VO=6,K7=7,G7=8,g$=typeof self=="object"?self:globalThis,QEe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case gb:case V7:return n(o,i);case sw:{const s=n([],i);for(const l of o)s.push(r(l));return s}case uw:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case qO:return n(new Date(o),i);case zO:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case HO:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case VO:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case K7:{const{name:s,message:l}=o;return n(new g$[s](l),i)}case G7:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new g$[a](o),i)};return r},m$=e=>QEe(new Map,e)(0),Ad="",{toString:ZEe}={},{keys:JEe}=Object,zg=e=>{const t=typeof e;if(t!=="object"||!e)return[gb,t];const n=ZEe.call(e).slice(8,-1);switch(n){case"Array":return[sw,Ad];case"Object":return[uw,Ad];case"Date":return[qO,Ad];case"RegExp":return[zO,Ad];case"Map":return[HO,Ad];case"Set":return[VO,Ad]}return n.includes("Array")?[sw,n]:n.includes("Error")?[K7,n]:[uw,n]},l_=([e,t])=>e===gb&&(t==="function"||t==="symbol"),YEe=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=zg(o);switch(s){case gb:{let d=o;switch(l){case"bigint":s=G7,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([V7],o)}return i([s,d],o)}case sw:{if(l)return i([l,[...o]],o);const d=[],h=i([s,d],o);for(const m of o)d.push(a(m));return h}case uw:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],h=i([s,d],o);for(const m of JEe(o))(e||!l_(zg(o[m])))&&d.push([a(m),a(o[m])]);return h}case qO:return i([s,o.toISOString()],o);case zO:{const{source:d,flags:h}=o;return i([s,{source:d,flags:h}],o)}case HO:{const d=[],h=i([s,d],o);for(const[m,y]of o)(e||!(l_(zg(m))||l_(zg(y))))&&d.push([a(m),a(y)]);return h}case VO:{const d=[],h=i([s,d],o);for(const m of o)(e||!l_(zg(m)))&&d.push(a(m));return h}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},y$=(e,{json:t,lossy:n}={})=>{const r=[];return YEe(!(t||n),!!t,new Map,r)(e),r},lw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?m$(y$(e,t)):structuredClone(e):(e,t)=>m$(y$(e,t));function XEe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function e2e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function t2e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||XEe,r=e.options.footnoteBackLabel||e2e,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),m=Jh(h.toLowerCase());let y=0;const v=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++y<=_;){v.length>0&&v.push({type:"text",value:" "});let S=typeof n=="string"?n:n(l,y);typeof S=="string"&&(S={type:"text",value:S}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const S=x.children[x.children.length-1];S&&S.type==="text"?S.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...v)}else d.push(...v);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(c,b),s.push(b)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...lw(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const W7=function(e){if(e==null)return a2e;if(typeof e=="function")return mb(e);if(typeof e=="object")return Array.isArray(e)?n2e(e):r2e(e);if(typeof e=="string")return i2e(e);throw new Error("Expected function, string, or object as test")};function n2e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=W7(e[n]);return mb(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function r2e(e){const t=e;return mb(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function i2e(e){return mb(t);function t(n){return n&&n.type===e}}function mb(e){return t;function t(n,r,i){return!!(o2e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function a2e(){return!0}function o2e(e){return e!==null&&typeof e=="object"&&"type"in e}const Q7=[],s2e=!0,v$=!1,u2e="skip";function l2e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=W7(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=Q7,v,_,x;if((!t||a(l,c,d[d.length-1]||void 0))&&(y=c2e(n(l,d)),y[0]===v$))return y;if("children"in l&&l.children){const b=l;if(b.children&&y[0]!==u2e)for(_=(r?b.children.length:-1)+o,x=d.concat(b);_>-1&&_<b.children.length;){const S=b.children[_];if(v=s(S,_,x)(),v[0]===v$)return v;_=typeof v[1]=="number"?v[1]:_+o}}return y}}}function c2e(e){return Array.isArray(e)?e:typeof e=="number"?[s2e,e]:e==null?Q7:[e]}function Z7(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),l2e(e,a,s,i);function s(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const $R={}.hasOwnProperty,f2e={};function d2e(e,t){const n=t||f2e,r=new Map,i=new Map,a=new Map,o={...WEe,...n.handlers},s={all:c,applyData:p2e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:h2e,wrap:m2e};return Z7(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),s;function l(d,h){const m=d.type,y=s.handlers[m];if($R.call(s.handlers,m)&&y)return y(s,d,h);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in d){const{children:_,...x}=d,b=lw(x);return b.children=s.all(d),b}return lw(d)}return(s.options.unknownHandler||g2e)(s,d,h)}function c(d){const h=[];if("children"in d){const m=d.children;let y=-1;for(;++y<m.length;){const v=s.one(m[y],d);if(v){if(y&&m[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=_$(v.value)),!Array.isArray(v)&&v.type==="element")){const _=v.children[0];_&&_.type==="text"&&(_.value=_$(_.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function h2e(e,t){e.position&&(t.position=tSe(e))}function p2e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,lw(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function g2e(e,t){const n=t.data||{},r="value"in t&&!($R.call(n,"hProperties")||$R.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function m2e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _$(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function w$(e,t){const n=d2e(e,t),r=n.one(e,void 0),i=t2e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function y2e(e,t){return e&&"run"in e?async function(n,r){const i=w$(n,t);await e.run(i,r)}:function(n){return w$(n,t||e)}}function b$(e){if(e)throw e}var ST,S$;function v2e(){if(S$)return ST;S$=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!h)return!1;var m;for(m in c);return typeof m>"u"||e.call(c,m)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return ST=function l(){var c,d,h,m,y,v,_=arguments[0],x=1,b=arguments.length,S=!1;for(typeof _=="boolean"&&(S=_,_=arguments[1]||{},x=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});x<b;++x)if(c=arguments[x],c!=null)for(d in c)h=s(_,d),m=s(c,d),_!==m&&(S&&m&&(a(m)||(y=i(m)))?(y?(y=!1,v=h&&i(h)?h:[]):v=h&&a(h)?h:{},o(_,{name:d,newValue:l(S,v,m)})):typeof m<"u"&&o(_,{name:d,newValue:m}));return _},ST}var _2e=v2e();const xT=Lr(_2e);function UR(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function w2e(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?b2e(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function b2e(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const fs={basename:S2e,dirname:x2e,extname:E2e,join:C2e,sep:"/"};function S2e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');yy(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function x2e(e){if(yy(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function E2e(e){yy(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function C2e(...e){let t=-1,n;for(;++t<e.length;)yy(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":T2e(n)}function T2e(e){yy(e);const t=e.codePointAt(0)===47;let n=A2e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function A2e(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function yy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const R2e={cwd:P2e};function P2e(){return"/"}function BR(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function O2e(e){if(typeof e=="string")e=new URL(e);else if(!BR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return L2e(e)}function L2e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ET=["history","path","basename","stem","extname","dirname"];class J7{constructor(t){let n;t?BR(t)?n={path:t}:typeof t=="string"||I2e(t)?n={value:t}:n=t:n={},this.cwd=R2e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ET.length;){const a=ET[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)ET.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?fs.basename(this.path):void 0}set basename(t){TT(t,"basename"),CT(t,"basename"),this.path=fs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fs.dirname(this.path):void 0}set dirname(t){x$(this.basename,"dirname"),this.path=fs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fs.extname(this.path):void 0}set extname(t){if(CT(t,"extname"),x$(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){BR(t)&&(t=O2e(t)),TT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fs.basename(this.path,this.extname):void 0}set stem(t){TT(t,"stem"),CT(t,"stem"),this.path=fs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ma(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function CT(e,t){if(e&&e.includes(fs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fs.sep+"`")}function TT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function x$(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function I2e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const M2e=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(a,s,l)}return a},D2e={}.hasOwnProperty;class KO extends M2e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=w2e()}copy(){const t=new KO;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(xT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(PT("data",this.frozen),this.namespace[t]=n,this):D2e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(PT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=c_(t),r=this.parser||this.Parser;return AT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),AT("process",this.parser||this.Parser),RT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=c_(t),l=r.parse(s);r.run(l,s,function(d,h,m){if(d||!h||!m)return c(d);const y=h,v=r.stringify(y,m);F2e(v)?m.value=v:m.result=v,c(d,m)});function c(d,h){d||!h?o(d):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),AT("processSync",this.parser||this.Parser),RT("processSync",this.compiler||this.Compiler),this.process(t,i),C$("processSync","process",n),r;function i(a,o){n=!0,b$(a),r=o}}run(t,n,r){E$(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=c_(n);i.run(t,l,c);function c(d,h,m){const y=h||t;d?s(d):o?o(y):r(void 0,y,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),C$("runSync","run",r),i;function a(o,s){b$(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=c_(n),i=this.compiler||this.Compiler;return RT("stringify",i),E$(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(PT("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=xT(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===c){m=h;break}if(m===-1)r.push([c,...d]);else if(d.length>0){let[y,...v]=d;const _=r[m][1];UR(_)&&UR(y)&&(y=xT(!0,_,y)),r[m]=[c,y,...v]}}}}const k2e=new KO().freeze();function AT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function RT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function PT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function E$(e){if(!UR(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function C$(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function c_(e){return N2e(e)?e:new J7(e)}function N2e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function F2e(e){return typeof e=="string"||j2e(e)}function j2e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $2e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",T$=[],A$={allowDangerousHtml:!0},U2e=/^(https?|ircs?|mailto|xmpp)$/i,B2e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function q2e(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,o=e.disallowedElements,s=e.rehypePlugins||T$,l=e.remarkPlugins||T$,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...A$}:A$,d=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||z2e,y=k2e().use(SEe).use(l).use(y2e,c).use(s),v=new J7;typeof r=="string"&&(v.value=r);for(const S of B2e)Object.hasOwn(e,S.from)&&(""+S.from+(S.to?"use `"+S.to+"` instead":"remove it")+$2e+S.id,void 0);const _=y.parse(v);let x=y.runSync(_,v);return i&&(x={type:"element",tagName:"div",properties:{className:i},children:x.type==="root"?x.children:[x]}),Z7(x,b),sSe(x,{Fragment:H.Fragment,components:a,ignoreInvalidStyle:!0,jsx:H.jsx,jsxs:H.jsxs,passKeys:!0,passNode:!0});function b(S,A,P){if(S.type==="raw"&&P&&typeof A=="number")return d?P.children.splice(A,1):P.children[A]={type:"text",value:S.value},A;if(S.type==="element"){let O;for(O in _T)if(Object.hasOwn(_T,O)&&Object.hasOwn(S.properties,O)){const D=S.properties[O],F=_T[O];(F===null||F.includes(S.tagName))&&(S.properties[O]=m(String(D||""),O,S))}}if(S.type==="element"){let O=t?!t.includes(S.tagName):o?o.includes(S.tagName):!1;if(!O&&n&&typeof A=="number"&&(O=!n(S,A,P)),O&&P&&typeof A=="number")return h&&S.children?P.children.splice(A,1,...S.children):P.children.splice(A,1),A}}}function z2e(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||U2e.test(e.slice(0,t))?e:""}const H2e="_text_e0nft_1",V2e={text:H2e},K2e=`# About

WIP`,G2e=()=>H.jsx(q2e,{className:V2e.text,children:K2e}),W2e=()=>{const e=bi(Oh),t=Rh();V.useEffect(()=>{if(e.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(e.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&t(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[e.isLoggedIn,t])},Q2e="_spin_pafwh_9",Z2e={spin:Q2e},Y7=({className:e,...t})=>H.jsx(Ype,{className:Or(Z2e.spin,e),...t}),Fm=(e,t)=>{const n=eve(e,t),r=X7(e,t);return V.useMemo(()=>({isMember:n,...r}),[r,n])},X7=(e,t)=>{const{isLoading:n,variables:r,store:i}=ga({query:zye,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:nr}),a=r.publicTypeIndex??[],o=r.privateTypeIndex??[],s=r.inbox??[],l=r.hospexDocumentForCommunity??[],c=V.useMemo(()=>(r.hospexDocument??[]).map(v=>{var b;const _=i.getObjects(e,gh.member_of,v).map(({value:S})=>{var A;return{uri:S,name:((A=i.getObjects(S,gh.name,null)[0])==null?void 0:A.value)??""}}),x=i.getObjects(e,nc.storage,v);return{hospexDocument:v,communities:_,storage:(b=x[0])==null?void 0:b.value}}),[i,e,r]),d=l.length>0?!0:n?void 0:!1,h=a.length>0?!0:n?void 0:!1,m=o.length>0?!0:n?void 0:!1,y=s.length>0?!0:n?void 0:!1;return{isHospexProfile:d,isPublicTypeIndex:h,isPrivateTypeIndex:m,isInbox:y,personalHospexDocuments:l,publicTypeIndexes:a,privateTypeIndexes:o,inboxes:s,allHospex:c}},J2e=(e,t)=>{const n=V.useCallback(async()=>{if(!t)return"mailer not set up";const o=await nr(`${t}/status`);if(!o.ok)throw new Error("Network response was not ok");return o.json()},[t]),{isLoading:r,data:i}=ey({queryKey:[zr.mailerIntegration],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const a=i.integrations.filter(o=>o.object===e);return a.length===0?!1:a.some(o=>o.verified)?!0:"unverified"},Y2e=async(e,t)=>{if(!t)return"mailer not set up";const n=await nr(`${t}/status/${encodeURIComponent(e)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},eV=(e,t)=>ey({queryKey:[zr.simpleMailerIntegration],queryFn:()=>Y2e(e,t)}),X2e=(e,t)=>{const{isLoading:n,data:r}=eV(e,t);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var OT,R$;function eCe(){if(R$)return OT;R$=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return OT=e,OT}var LT,P$;function tCe(){if(P$)return LT;P$=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return LT=e,LT}var IT,O$;function nCe(){if(O$)return IT;O$=1;var e=Jw(),t=tCe();function n(r,i){return i.length<2?r:e(r,t(i,0,-1))}return IT=n,IT}var MT,L$;function rCe(){if(L$)return MT;L$=1;var e=Bh(),t=eCe(),n=nCe(),r=qh();function i(a,o){return o=e(o,a),a=n(a,o),a==null||delete a[r(t(o))]}return MT=i,MT}var DT,I$;function iCe(){if(I$)return DT;I$=1;var e=Gz();function t(n){return e(n)?void 0:n}return DT=t,DT}var kT,M$;function aCe(){if(M$)return kT;M$=1;var e=$h(),t=Hw(),n=Yo(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return kT=i,kT}var NT,D$;function oCe(){if(D$)return NT;D$=1;var e=eO(),t=aCe();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=t),s||(s=[]);++l<c;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,o,s):e(s,d):o||(s[s.length]=d)}return s}return NT=n,NT}var FT,k$;function sCe(){if(k$)return FT;k$=1;var e=oCe();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return FT=t,FT}var jT,N$;function tV(){if(N$)return jT;N$=1;var e=sCe(),t=Zz(),n=Jz();function r(i){return n(t(i,void 0,e),i+"")}return jT=r,jT}var $T,F$;function uCe(){if(F$)return $T;F$=1;var e=Zw(),t=iH(),n=rCe(),r=Bh(),i=Kh(),a=iCe(),o=tV(),s=rH(),l=1,c=2,d=4,h=o(function(m,y){var v={};if(m==null)return v;var _=!1;y=e(y,function(b){return b=r(b,m),_||(_=b.length>1),b}),i(m,s(m),v),_&&(v=t(v,l|c|d,a));for(var x=y.length;x--;)n(v,y[x]);return v});return $T=h,$T}var lCe=uCe();const nV=Lr(lCe);var UT,j$;function cCe(){if(j$)return UT;j$=1;function e(t,n){return t<n}return UT=e,UT}var BT,$$;function fCe(){if($$)return BT;$$=1;var e=Xz(),t=cO(),n=cCe();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return BT=r,BT}var dCe=fCe();const hCe=Lr(dCe),rV=e=>{var a;const[t,n]=tH(e),[r]=pCe(e),i=((a=t==null?void 0:t.storage)==null?void 0:a.map(o=>o["@id"]))??[];if(n.isFetched)return i[0]??r},pCe=e=>{const[t,n]=V.useState([wi(e)]),[r,i]=V.useState(),a=Lve(t),o=V.useMemo(()=>a.map(l=>{var c,d;return(d=(c=l.data)==null?void 0:c.response)==null?void 0:d.headers.get("Link")}),[a]);V.useEffect(()=>{const l=o.findIndex(c=>c==null?void 0:c.includes(Fh.Storage));l>-1?i(t[l]):a.every(c=>c.isSuccess||c.isError)&&n(c=>{const d=hCe(c,h=>h.length);if(d){const h=s9(d);if(!c.includes(h))return[...c,h]}return c})},[o,t,a]);const s=!a.every(l=>l.isSuccess||l.isError)||a.length<t.length;return[r,s]};var jm=V.forwardRef((e,t)=>{const{children:n,...r}=e,i=V.Children.toArray(n),a=i.find(mCe);if(a){const o=a.props.children,s=i.map(l=>l===a?V.Children.count(o)>1?V.Children.only(null):V.isValidElement(o)?o.props.children:null:l);return H.jsx(qR,{...r,ref:t,children:V.isValidElement(o)?V.cloneElement(o,void 0,s):null})}return H.jsx(qR,{...r,ref:t,children:n})});jm.displayName="Slot";var qR=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const i=vCe(n);return V.cloneElement(n,{...yCe(r,n.props),ref:t?ob(t,i):i})}return V.Children.count(n)>1?V.Children.only(null):null});qR.displayName="SlotClone";var gCe=({children:e})=>H.jsx(H.Fragment,{children:e});function mCe(e){return V.isValidElement(e)&&e.type===gCe}function yCe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function vCe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _Ce(e){const t=e+"CollectionProvider",[n,r]=hy(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:_}=y,x=It.useRef(null),b=It.useRef(new Map).current;return H.jsx(i,{scope:v,itemMap:b,collectionRef:x,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=It.forwardRef((y,v)=>{const{scope:_,children:x}=y,b=a(s,_),S=Go(v,b.collectionRef);return H.jsx(jm,{ref:S,children:x})});l.displayName=s;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=It.forwardRef((y,v)=>{const{scope:_,children:x,...b}=y,S=It.useRef(null),A=Go(v,S),P=a(c,_);return It.useEffect(()=>(P.itemMap.set(S,{ref:S,...b}),()=>void P.itemMap.delete(S))),H.jsx(jm,{[d]:"",ref:A,children:x})});h.displayName=c;function m(y){const v=a(e+"CollectionConsumer",y);return It.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((P,O)=>b.indexOf(P.ref.current)-b.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},m,r]}var wCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],iV=wCe.reduce((e,t)=>{const n=V.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?jm:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),H.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bCe=V.createContext(void 0);function aV(e){const t=V.useContext(bCe);return e||t||"ltr"}var qT="rovingFocusGroup.onEntryFocus",SCe={bubbles:!1,cancelable:!0},yb="RovingFocusGroup",[zR,oV,xCe]=_Ce(yb),[ECe,sV]=hy(yb,[xCe]),[CCe,TCe]=ECe(yb),uV=V.forwardRef((e,t)=>H.jsx(zR.Provider,{scope:e.__scopeRovingFocusGroup,children:H.jsx(zR.Slot,{scope:e.__scopeRovingFocusGroup,children:H.jsx(ACe,{...e,ref:t})})}));uV.displayName=yb;var ACe=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,m=V.useRef(null),y=Go(t,m),v=aV(a),[_=null,x]=MO({prop:o,defaultProp:s,onChange:l}),[b,S]=V.useState(!1),A=Au(c),P=oV(n),O=V.useRef(!1),[D,F]=V.useState(0);return V.useEffect(()=>{const Q=m.current;if(Q)return Q.addEventListener(qT,A),()=>Q.removeEventListener(qT,A)},[A]),H.jsx(CCe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:_,onItemFocus:V.useCallback(Q=>x(Q),[x]),onItemShiftTab:V.useCallback(()=>S(!0),[]),onFocusableItemAdd:V.useCallback(()=>F(Q=>Q+1),[]),onFocusableItemRemove:V.useCallback(()=>F(Q=>Q-1),[]),children:H.jsx(iV.div,{tabIndex:b||D===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:Ni(e.onMouseDown,()=>{O.current=!0}),onFocus:Ni(e.onFocus,Q=>{const X=!O.current;if(Q.target===Q.currentTarget&&X&&!b){const U=new CustomEvent(qT,SCe);if(Q.currentTarget.dispatchEvent(U),!U.defaultPrevented){const Y=P().filter(_e=>_e.focusable),ce=Y.find(_e=>_e.active),te=Y.find(_e=>_e.id===_),pe=[ce,te,...Y].filter(Boolean).map(_e=>_e.ref.current);fV(pe,d)}}O.current=!1}),onBlur:Ni(e.onBlur,()=>S(!1))})})}),lV="RovingFocusGroupItem",cV=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,s=xO(),l=a||s,c=TCe(lV,n),d=c.currentTabStopId===l,h=oV(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=c;return V.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),H.jsx(zR.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:H.jsx(iV.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:Ni(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Ni(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ni(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=OCe(v,c.orientation,c.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const S=b.indexOf(v.currentTarget);b=c.loop?LCe(b,S+1):b.slice(S+1)}setTimeout(()=>fV(b))}})})})});cV.displayName=lV;var RCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PCe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OCe(e,t,n){const r=PCe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return RCe[r]}function fV(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function LCe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ICe=uV,MCe=cV,DCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vb=DCe.reduce((e,t)=>{const n=V.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?jm:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),H.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),GO="Tabs",[kCe,SNe]=hy(GO,[sV]),dV=sV(),[NCe,WO]=kCe(GO),hV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=aV(s),[h,m]=MO({prop:r,onChange:i,defaultProp:a});return H.jsx(NCe,{scope:n,baseId:xO(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:l,children:H.jsx(vb.div,{dir:d,"data-orientation":o,...c,ref:t})})});hV.displayName=GO;var pV="TabsList",gV=V.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=WO(pV,n),o=dV(n);return H.jsx(ICe,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:H.jsx(vb.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});gV.displayName=pV;var mV="TabsTrigger",yV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=WO(mV,n),s=dV(n),l=wV(o.baseId,r),c=bV(o.baseId,r),d=r===o.value;return H.jsx(MCe,{asChild:!0,...s,focusable:!i,active:d,children:H.jsx(vb.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Ni(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ni(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ni(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});yV.displayName=mV;var vV="TabsContent",_V=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=WO(vV,n),l=wV(s.baseId,r),c=bV(s.baseId,r),d=r===s.value,h=V.useRef(d);return V.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),H.jsx(cb,{present:i||d,children:({present:m})=>H.jsx(vb.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});_V.displayName=vV;function wV(e,t){return`${e}-trigger-${t}`}function bV(e,t){return`${e}-content-${t}`}var FCe=hV,jCe=gV,$Ce=yV,UCe=_V,zT,U$;function BCe(){if(U$)return zT;U$=1;var e=bO(),t=Bh(),n=Kw(),r=So(),i=qh();function a(o,s,l,c){if(!r(o))return o;s=t(s,o);for(var d=-1,h=s.length,m=h-1,y=o;y!=null&&++d<h;){var v=i(s[d]),_=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(d!=m){var x=y[v];_=c?c(x,v,y):void 0,_===void 0&&(_=r(x)?x:n(s[d+1])?[]:{})}e(y,v,_),y=y[v]}return o}return zT=a,zT}var HT,B$;function qCe(){if(B$)return HT;B$=1;var e=Jw(),t=BCe(),n=Bh();function r(i,a,o){for(var s=-1,l=a.length,c={};++s<l;){var d=a[s],h=e(i,d);o(h,d)&&t(c,n(d,i),h)}return c}return HT=r,HT}var VT,q$;function zCe(){if(q$)return VT;q$=1;var e=qCe(),t=V9();function n(r,i){return e(r,i,function(a,o){return t(r,o)})}return VT=n,VT}var KT,z$;function HCe(){if(z$)return KT;z$=1;var e=zCe(),t=tV(),n=t(function(r,i){return r==null?{}:e(r,i)});return KT=n,KT}var VCe=HCe();const KCe=Lr(VCe),GCe="_container_9yuh8_1",WCe="_list_9yuh8_8",QCe="_trigger_9yuh8_13",ZCe="_connect_9yuh8_32",JCe="_content_9yuh8_44",YCe="_taskList_9yuh8_54",XCe="_storageOptions_9yuh8_60",eTe="_option_9yuh8_63",Ol={container:GCe,list:WCe,trigger:QCe,connect:ZCe,content:JCe,taskList:YCe,storageOptions:XCe,option:eTe},tTe={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},nTe={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},Nf={schema:tTe,shape:"https://example.com/Authorization",context:nTe};let f_;const rTe=new Uint8Array(16);function iTe(){if(!f_&&(f_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!f_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f_(rTe)}const Li=[];for(let e=0;e<256;++e)Li.push((e+256).toString(16).slice(1));function aTe(e,t=0){return(Li[e[t+0]]+Li[e[t+1]]+Li[e[t+2]]+Li[e[t+3]]+"-"+Li[e[t+4]]+Li[e[t+5]]+"-"+Li[e[t+6]]+Li[e[t+7]]+"-"+Li[e[t+8]]+Li[e[t+9]]+"-"+Li[e[t+10]]+Li[e[t+11]]+Li[e[t+12]]+Li[e[t+13]]+Li[e[t+14]]+Li[e[t+15]]).toLowerCase()}const oTe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H$={randomUUID:oTe};function ql(e,t,n){if(H$.randomUUID&&!t&&!e)return H$.randomUUID();e=e||{};const r=e.random||(e.rng||iTe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aTe(r)}const sTe=async({index:e,type:t,location:n})=>{const i=n.endsWith("/")?Dn.instanceContainer:Dn.instance,a=await zo(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${t}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new Ho("Updating type registration failed.",a);const o=ql(),s=await zo(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${o}>
          a solid:TypeRegistration;
          solid:forClass <${t}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new Ho("Saving type registration failed.",s)},SV=()=>{const e=Si();return Pa({mutationFn:sTe,onSuccess:(t,{index:n})=>{e.invalidateQueries({queryKey:[zr.rdfDocument,n]})}}).mutateAsync},uTe=()=>{const e=Vo(fve),t=Xo();return V.useCallback(async({webId:n,privateTypeIndex:r})=>{await e.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${Dn.InsertDeletePatch}>; <${Dn.inserts}> { <${n}> <${Dn.privateTypeIndex}> <${r}>. }.`;await t.mutateAsync({uri:n,patch:i})},[e,t])},lTe=()=>{const{communityId:e}=kn(),t=Df(tb),n=EV(),r=xV(),i=Du(e);return V.useCallback(async({uri:a,webId:o})=>{await t.mutateAsync({uri:a,subject:o,transform:s=>{s.memberOf??(s.memberOf=[]),s.memberOf.push({"@id":e}),s.storage2??(s.storage2={"@id":wi(a)}),s["@id"]??(s["@id"]=o)}});try{await n({webId:o,uri:wi(a)},{throwOnHttpError:!0})}catch{await r(wi(a),[{operation:"add",access:[bs.Read],agentGroups:i.groups,default:!0}])}},[i.groups,e,n,r,t])},xV=()=>{const e=Xo();return V.useCallback(async(t,n)=>{const r=await tc(t),a=await(await zo(r)).text(),o=u9(r,a),s=new Dw({format:"N-Triples"});for(const c of n){c.agents??(c.agents=[]),c.agentGroups??(c.agentGroups=[]);const d=o.find(v=>{const _=new Set(c.access),x=new Set(v.modes);return _.size===x.size&&Array.from(_).every(b=>x.has(b))&&c.default?v.defaults.includes(t):v.defaults.length===0}),h=v=>{const _=new URL(v);return _.hash=ql(),_.toString()},m=(d==null?void 0:d.url)??h(r),y=new Qr(m);s.addQuads(c.agentGroups.map(v=>new Fo(y,new Qr(xn.agentGroup),new Qr(v)))),s.addQuads(c.agents.map(v=>new Fo(y,new Qr(xn.agent),new Qr(v)))),d||(s.addQuads([new Fo(y,new Qr(Lf.type),new Qr(xn.Authorization)),new Fo(y,new Qr(xn.accessTo),new Qr(t)),...c.access.map(v=>new Fo(y,new Qr(xn.mode),new Qr(xn[v])))]),c.default&&s.addQuads([new Fo(y,new Qr(xn.default__workaround),new Qr(t))]))}const l=await new Promise((c,d)=>{s.end((h,m)=>{h?d(h):c(m)})});await e.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${l}
          } .`})},[e])},EV=()=>{const{communityId:e}=kn(),t=Vo(Nf),n=Du(e);return V.useCallback(async({uri:r,webId:i},a={})=>{const o=wi(r),s=await tc(o);await t.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agent:[{"@id":i}],mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agentGroup:n.groups.map(l=>({"@id":l})),mode:[{"@id":xn.Read}]}],...a})},[n.groups,t])},cTe=()=>{const e=Vo(tb),t=EV();return V.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=wi(n);await e.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await t({uri:n,webId:r})},[t,e])},fTe=()=>{const e=Vo(cve),t=Vo(Nf),n=Xo();return V.useCallback(async({webId:r,publicTypeIndex:i})=>{await e.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await tc(i);await t.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":Vl.Agent}],accessTo:[{"@id":i}],mode:[{"@id":xn.Read}]}]});const o=`_:mutate a <${Dn.InsertDeletePatch}>; <${Dn.inserts}> { <${r}> <${Dn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:o})},[t,e,n])},dTe=()=>{const e=Ive(),t=Vo(Nf),n=Xo();return V.useCallback(async({webId:r,inbox:i})=>{await e.mutateAsync({uri:i});const a=await tc(i);await t.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":xn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":xn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${Dn.InsertDeletePatch}>; <${Dn.inserts}> { <${r}> <${vu.inbox}> <${i}>. }.`})},[t,e,n])},hTe=()=>{const{emailNotificationsService:e,emailNotificationsIdentity:t}=kn(),n=async s=>{if(!(await nr(`${e}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=Si(),{mutate:i}=Pa({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:[zr.mailerIntegration]})}}),a=V.useCallback(({webId:s,inbox:l,email:c})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:l,target:c})},[i]),o=Df(Nf);return V.useCallback(async({email:s,inbox:l,webId:c})=>{const d=await tc(l);await o.mutateAsync({uri:d,subject:d+"#read",transform:h=>{h["@id"]=d+"#read",h.type={"@id":"Authorization"},h.agent=[{"@id":t}],h.accessTo=[{"@id":l}],h.default={"@id":l},h.mode=[{"@id":xn.Read}]}}),a({email:s,inbox:l,webId:c})},[t,a,o])},pTe=()=>{const{emailNotificationsService:e}=kn(),t=async i=>{const a=await nr(`${e}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new Ho("Sending verification email failed",a)},n=Si();return Pa({mutationFn:t,onSuccess:()=>{n.invalidateQueries({queryKey:[zr.simpleMailerIntegration]})}})},gTe=()=>{const{emailNotificationsIdentity:e}=kn(),t=Df(Nf),n=Xo(),r=xV();return V.useCallback(async({hospexDocument:a,webId:o,email:s})=>{const l=wi(a);await r(l,[{operation:"add",access:[bs.Read],agents:[e],default:!0}]);const c=l+"emailSettings-"+ql(),d=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${o}> <${Vl.mbox}> "${s}". } .`;await n.mutateAsync({uri:c,patch:d});const h=await tc(c);await t.mutateAsync({uri:h,subject:h+"#owner",transform:y=>{y["@id"]=h+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":o}],y.accessTo=[{"@id":c}],y.mode=[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]}}),await t.mutateAsync({uri:h,subject:h+"#readWriteMailer",transform:y=>{y["@id"]=h+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":e}],y.accessTo=[{"@id":c}],y.mode=[{"@id":xn.Read},{"@id":xn.Write}]}});const m=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${o}> <${Fh.preferencesFile}> <${c}>. } .`;await n.mutateAsync({uri:a,patch:m})},[e,r,t,n])};var vy=e=>e.type==="checkbox",jd=e=>e instanceof Date,fa=e=>e==null;const CV=e=>typeof e=="object";var fi=e=>!fa(e)&&!Array.isArray(e)&&CV(e)&&!jd(e),TV=e=>fi(e)&&e.target?vy(e.target)?e.target.checked:e.target.value:e,mTe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,AV=(e,t)=>e.has(mTe(t)),_y=e=>Array.isArray(e)?e.filter(Boolean):[],ii=e=>e===void 0,Bt=(e,t,n)=>{if(!t||!fi(e))return n;const r=_y(t.split(/[,[\].]+?/)).reduce((i,a)=>fa(i)?i:i[a],e);return ii(r)||r===e?ii(e[t])?n:e[t]:r};const cw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yTe=It.createContext(null),QO=()=>It.useContext(yTe);var RV=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Bo.all&&(t._proxyFormState[o]=!r||Bo.all),n&&(n[o]=!0),e[o]}});return i},yo=e=>fi(e)&&!Object.keys(e).length,PV=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return yo(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Bo.all))},T0=e=>Array.isArray(e)?e:[e],OV=(e,t,n)=>n&&t?e===t:!e||!t||e===t||T0(e).some(r=>r&&(r.startsWith(t)||t.startsWith(r)));function ZO(e){const t=It.useRef(e);t.current=e,It.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function vTe(e){const t=QO(),{control:n=t.control,disabled:r,name:i,exact:a}=e,[o,s]=It.useState(n._formState),l=It.useRef(!0),c=It.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=It.useRef(i);return d.current=i,ZO({disabled:r,next:h=>l.current&&OV(d.current,h.name,a)&&PV(h,c.current,n._updateFormState)&&s({...n._formState,...h}),subject:n._subjects.state}),It.useEffect(()=>{l.current=!0;const h=n._proxyFormState.isDirty&&n._getDirty();return h!==n._formState.isDirty&&n._subjects.state.next({isDirty:h}),c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),RV(o,n,c.current,!1)}var Ss=e=>typeof e=="string",LV=(e,t,n,r,i)=>Ss(e)?(r&&t.watch.add(e),Bt(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Bt(n,a))):(r&&(t.watchAll=!0),n),_Te=e=>{const t=e.constructor&&e.constructor.prototype;return fi(t)&&t.hasOwnProperty("isPrototypeOf")},JO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tl(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(JO&&(e instanceof Blob||e instanceof FileList))&&(n||fi(e)))if(t=n?[]:{},!Array.isArray(e)&&!_Te(e))t=e;else for(const r in e)t[r]=Tl(e[r]);else return e;return t}function wTe(e){const t=QO(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e,s=It.useRef(r);s.current=r,ZO({disabled:a,subject:n._subjects.watch,next:d=>{OV(s.current,d.name,o)&&c(Tl(LV(s.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=It.useState(n._getWatch(r,i));return It.useEffect(()=>n._removeUnmounted()),l}function bTe(e){const t=QO(),{name:n,control:r=t.control,shouldUnregister:i}=e,a=AV(r._names.array,n),o=wTe({control:r,name:n,defaultValue:Bt(r._formValues,n,Bt(r._defaultValues,n,e.defaultValue)),exact:!0}),s=vTe({control:r,name:n}),l=It.useRef(r.register(n,{...e.rules,value:o}));return It.useEffect(()=>{const c=(d,h)=>{const m=Bt(r._fields,d);m&&(m._f.mount=h)};return c(n,!0),()=>{const d=r._options.shouldUnregister||i;(a?d&&!r._stateFlags.action:d)?r.unregister(n):c(n,!1)}},[n,r,a,i]),{field:{name:n,value:o,onChange:It.useCallback(c=>l.current.onChange({target:{value:TV(c),name:n},type:cw.CHANGE}),[n]),onBlur:It.useCallback(()=>l.current.onBlur({target:{value:Bt(r._formValues,n),name:n},type:cw.BLUR}),[n,r]),ref:c=>{const d=Bt(r._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Bt(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!Bt(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Bt(s.touchedFields,n)},error:{enumerable:!0,get:()=>Bt(s.errors,n)}})}}const STe=e=>e.render(bTe(e));var IV=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},YO=e=>/^\w*$/.test(e),MV=e=>_y(e.replace(/["|']|\]/g,"").split(/\.|\[/));function _r(e,t,n){let r=-1;const i=YO(t)?[t]:MV(t),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let l=n;if(r!==o){const c=e[s];l=fi(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=l,e=e[s]}return e}const HR=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=Bt(e,r);if(i){const{_f:a,...o}=i;if(a&&t(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else fi(o)&&HR(o,t)}}};var V$=e=>({isOnSubmit:!e||e===Bo.onSubmit,isOnBlur:e===Bo.onBlur,isOnChange:e===Bo.onChange,isOnAll:e===Bo.all,isOnTouch:e===Bo.onTouched}),K$=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),xTe=(e,t,n)=>{const r=_y(Bt(e,n));return _r(r,"root",t[n]),_r(e,n,r),e},Gd=e=>typeof e=="boolean",XO=e=>e.type==="file",Wd=e=>typeof e=="function",fw=e=>{if(!JO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},A0=e=>Ss(e)||It.isValidElement(e),eL=e=>e.type==="radio",dw=e=>e instanceof RegExp;const G$={value:!1,isValid:!1},W$={value:!0,isValid:!0};var DV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ii(e[0].attributes.value)?ii(e[0].value)||e[0].value===""?W$:{value:e[0].value,isValid:!0}:W$:G$}return G$};const Q$={isValid:!1,value:null};var kV=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Q$):Q$;function Z$(e,t,n="validate"){if(A0(e)||Array.isArray(e)&&e.every(A0)||Gd(e)&&!e)return{type:n,message:A0(e)?e:"",ref:t}}var Rd=e=>fi(e)&&!dw(e)?e:{value:e,message:""},J$=async(e,t,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:d,max:h,pattern:m,validate:y,name:v,valueAsNumber:_,mount:x,disabled:b}=e._f,S=Bt(t,v);if(!x||b)return{};const A=o?o[0]:a,P=ce=>{r&&A.reportValidity&&(A.setCustomValidity(Gd(ce)?"":ce||""),A.reportValidity())},O={},D=eL(a),F=vy(a),Q=D||F,X=(_||XO(a))&&ii(a.value)&&ii(S)||fw(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,U=IV.bind(null,v,n,O),Y=(ce,te,se,pe=lu.maxLength,_e=lu.minLength)=>{const de=ce?te:se;O[v]={type:ce?pe:_e,message:de,ref:a,...U(ce?pe:_e,de)}};if(i?!Array.isArray(S)||!S.length:s&&(!Q&&(X||fa(S))||Gd(S)&&!S||F&&!DV(o).isValid||D&&!kV(o).isValid)){const{value:ce,message:te}=A0(s)?{value:!!s,message:s}:Rd(s);if(ce&&(O[v]={type:lu.required,message:te,ref:A,...U(lu.required,te)},!n))return P(te),O}if(!X&&(!fa(d)||!fa(h))){let ce,te;const se=Rd(h),pe=Rd(d);if(!fa(S)&&!isNaN(S)){const _e=a.valueAsNumber||S&&+S;fa(se.value)||(ce=_e>se.value),fa(pe.value)||(te=_e<pe.value)}else{const _e=a.valueAsDate||new Date(S),de=k=>new Date(new Date().toDateString()+" "+k),ue=a.type=="time",Re=a.type=="week";Ss(se.value)&&S&&(ce=ue?de(S)>de(se.value):Re?S>se.value:_e>new Date(se.value)),Ss(pe.value)&&S&&(te=ue?de(S)<de(pe.value):Re?S<pe.value:_e<new Date(pe.value))}if((ce||te)&&(Y(!!ce,se.message,pe.message,lu.max,lu.min),!n))return P(O[v].message),O}if((l||c)&&!X&&(Ss(S)||i&&Array.isArray(S))){const ce=Rd(l),te=Rd(c),se=!fa(ce.value)&&S.length>ce.value,pe=!fa(te.value)&&S.length<te.value;if((se||pe)&&(Y(se,ce.message,te.message),!n))return P(O[v].message),O}if(m&&!X&&Ss(S)){const{value:ce,message:te}=Rd(m);if(dw(ce)&&!S.match(ce)&&(O[v]={type:lu.pattern,message:te,ref:a,...U(lu.pattern,te)},!n))return P(te),O}if(y){if(Wd(y)){const ce=await y(S,t),te=Z$(ce,A);if(te&&(O[v]={...te,...U(lu.validate,te.message)},!n))return P(te.message),O}else if(fi(y)){let ce={};for(const te in y){if(!yo(ce)&&!n)break;const se=Z$(await y[te](S,t),A,te);se&&(ce={...se,...U(te,se.message)},P(se.message),n&&(O[v]=ce))}if(!yo(ce)&&(O[v]={ref:A,...ce},!n))return O}}return P(!0),O};function ETe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ii(e)?r++:e[t[r++]];return e}function CTe(e){for(const t in e)if(!ii(e[t]))return!1;return!0}function Ii(e,t){const n=Array.isArray(t)?t:YO(t)?[t]:MV(t),r=n.length===1?e:ETe(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(fi(r)&&yo(r)||Array.isArray(r)&&CTe(r))&&Ii(e,n.slice(0,-1)),e}function GT(){let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}}var hw=e=>fa(e)||!CV(e);function af(e,t){if(hw(e)||hw(t))return e===t;if(jd(e)&&jd(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(jd(a)&&jd(o)||fi(a)&&fi(o)||Array.isArray(a)&&Array.isArray(o)?!af(a,o):a!==o)return!1}}return!0}var NV=e=>e.type==="select-multiple",TTe=e=>eL(e)||vy(e),WT=e=>fw(e)&&e.isConnected,FV=e=>{for(const t in e)if(Wd(e[t]))return!0;return!1};function pw(e,t={}){const n=Array.isArray(e);if(fi(e)||n)for(const r in e)Array.isArray(e[r])||fi(e[r])&&!FV(e[r])?(t[r]=Array.isArray(e[r])?[]:{},pw(e[r],t[r])):fa(e[r])||(t[r]=!0);return t}function jV(e,t,n){const r=Array.isArray(e);if(fi(e)||r)for(const i in e)Array.isArray(e[i])||fi(e[i])&&!FV(e[i])?ii(t)||hw(n[i])?n[i]=Array.isArray(e[i])?pw(e[i],[]):{...pw(e[i])}:jV(e[i],fa(t)?{}:t[i],n[i]):af(e[i],t[i])?delete n[i]:n[i]=!0;return n}var QT=(e,t)=>jV(e,t,pw(t)),$V=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ii(e)?e:t?e===""?NaN:e&&+e:n&&Ss(e)?new Date(e):r?r(e):e;function ZT(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return XO(t)?t.files:eL(t)?kV(e.refs).value:NV(t)?[...t.selectedOptions].map(({value:n})=>n):vy(t)?DV(e.refs).value:$V(ii(t.value)?e.ref.value:t.value,e)}var ATe=(e,t,n,r)=>{const i={};for(const a of e){const o=Bt(t,a);o&&_r(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Hg=e=>ii(e)?e:dw(e)?e.source:fi(e)?dw(e.value)?e.value.source:e.value:e,RTe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Y$(e,t,n){const r=Bt(e,n);if(r||YO(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Bt(t,a),s=Bt(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var PTe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,OTe=(e,t)=>!_y(Bt(e,t)).length&&Ii(e,t);const LTe={mode:Bo.onSubmit,reValidateMode:Bo.onChange,shouldFocusError:!0};function ITe(e={},t){let n={...LTe,...e};const r=e.resetOptions&&e.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=fi(n.defaultValues)||fi(n.values)?Tl(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:Tl(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:GT(),array:GT(),state:GT()},v=V$(n.mode),_=V$(n.reValidateMode),x=n.criteriaMode===Bo.all,b=Z=>he=>{clearTimeout(h),h=window.setTimeout(Z,he)},S=async Z=>{if(m.isValid||Z){const he=n.resolver?yo((await X()).errors):await Y(a,!0);he!==i.isValid&&y.state.next({isValid:he})}},A=Z=>m.isValidating&&y.state.next({isValidating:Z}),P=(Z,he=[],ye,He,Ee=!0,Fe=!0)=>{if(He&&ye){if(l.action=!0,Fe&&Array.isArray(Bt(a,Z))){const tt=ye(Bt(a,Z),He.argA,He.argB);Ee&&_r(a,Z,tt)}if(Fe&&Array.isArray(Bt(i.errors,Z))){const tt=ye(Bt(i.errors,Z),He.argA,He.argB);Ee&&_r(i.errors,Z,tt),OTe(i.errors,Z)}if(m.touchedFields&&Fe&&Array.isArray(Bt(i.touchedFields,Z))){const tt=ye(Bt(i.touchedFields,Z),He.argA,He.argB);Ee&&_r(i.touchedFields,Z,tt)}m.dirtyFields&&(i.dirtyFields=QT(o,s)),y.state.next({name:Z,isDirty:te(Z,he),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else _r(s,Z,he)},O=(Z,he)=>{_r(i.errors,Z,he),y.state.next({errors:i.errors})},D=(Z,he,ye,He)=>{const Ee=Bt(a,Z);if(Ee){const Fe=Bt(s,Z,ii(ye)?Bt(o,Z):ye);ii(Fe)||He&&He.defaultChecked||he?_r(s,Z,he?Fe:ZT(Ee._f)):_e(Z,Fe),l.mount&&S()}},F=(Z,he,ye,He,Ee)=>{let Fe=!1,tt=!1;const nt={name:Z};if(!ye||He){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=te(),Fe=tt!==nt.isDirty);const gt=af(Bt(o,Z),he);tt=Bt(i.dirtyFields,Z),gt?Ii(i.dirtyFields,Z):_r(i.dirtyFields,Z,!0),nt.dirtyFields=i.dirtyFields,Fe=Fe||m.dirtyFields&&tt!==!gt}if(ye){const gt=Bt(i.touchedFields,Z);gt||(_r(i.touchedFields,Z,ye),nt.touchedFields=i.touchedFields,Fe=Fe||m.touchedFields&&gt!==ye)}return Fe&&Ee&&y.state.next(nt),Fe?nt:{}},Q=(Z,he,ye,He)=>{const Ee=Bt(i.errors,Z),Fe=m.isValid&&Gd(he)&&i.isValid!==he;if(e.delayError&&ye?(d=b(()=>O(Z,ye)),d(e.delayError)):(clearTimeout(h),d=null,ye?_r(i.errors,Z,ye):Ii(i.errors,Z)),(ye?!af(Ee,ye):Ee)||!yo(He)||Fe){const tt={...He,...Fe&&Gd(he)?{isValid:he}:{},errors:i.errors,name:Z};i={...i,...tt},y.state.next(tt)}A(!1)},X=async Z=>await n.resolver(s,n.context,ATe(Z||c.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),U=async Z=>{const{errors:he}=await X();if(Z)for(const ye of Z){const He=Bt(he,ye);He?_r(i.errors,ye,He):Ii(i.errors,ye)}else i.errors=he;return he},Y=async(Z,he,ye={valid:!0})=>{for(const He in Z){const Ee=Z[He];if(Ee){const{_f:Fe,...tt}=Ee;if(Fe){const nt=c.array.has(Fe.name),gt=await J$(Ee,s,x,n.shouldUseNativeValidation,nt);if(gt[Fe.name]&&(ye.valid=!1,he))break;!he&&(Bt(gt,Fe.name)?nt?xTe(i.errors,gt,Fe.name):_r(i.errors,Fe.name,gt[Fe.name]):Ii(i.errors,Fe.name))}tt&&await Y(tt,he,ye)}}return ye.valid},ce=()=>{for(const Z of c.unMount){const he=Bt(a,Z);he&&(he._f.refs?he._f.refs.every(ye=>!WT(ye)):!WT(he._f.ref))&&Ae(Z)}c.unMount=new Set},te=(Z,he)=>(Z&&he&&_r(s,Z,he),!af(ie(),o)),se=(Z,he,ye)=>LV(Z,c,{...l.mount?s:ii(he)?o:Ss(Z)?{[Z]:he}:he},ye,he),pe=Z=>_y(Bt(l.mount?s:o,Z,e.shouldUnregister?Bt(o,Z,[]):[])),_e=(Z,he,ye={})=>{const He=Bt(a,Z);let Ee=he;if(He){const Fe=He._f;Fe&&(!Fe.disabled&&_r(s,Z,$V(he,Fe)),Ee=fw(Fe.ref)&&fa(he)?"":he,NV(Fe.ref)?[...Fe.ref.options].forEach(tt=>tt.selected=Ee.includes(tt.value)):Fe.refs?vy(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Ee)?!!Ee.find(nt=>nt===tt.value):Ee===tt.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!Ee):Fe.refs.forEach(tt=>tt.checked=tt.value===Ee):XO(Fe.ref)?Fe.ref.value="":(Fe.ref.value=Ee,Fe.ref.type||y.watch.next({name:Z})))}(ye.shouldDirty||ye.shouldTouch)&&F(Z,Ee,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(Z)},de=(Z,he,ye)=>{for(const He in he){const Ee=he[He],Fe=`${Z}.${He}`,tt=Bt(a,Fe);(c.array.has(Z)||!hw(Ee)||tt&&!tt._f)&&!jd(Ee)?de(Fe,Ee,ye):_e(Fe,Ee,ye)}},ue=(Z,he,ye={})=>{const He=Bt(a,Z),Ee=c.array.has(Z),Fe=Tl(he);_r(s,Z,Fe),Ee?(y.array.next({name:Z,values:s}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:Z,dirtyFields:QT(o,s),isDirty:te(Z,Fe)})):He&&!He._f&&!fa(Fe)?de(Z,Fe,ye):_e(Z,Fe,ye),K$(Z,c)&&y.state.next({}),y.watch.next({name:Z}),!l.mount&&t()},Re=async Z=>{const he=Z.target;let ye=he.name;const He=Bt(a,ye),Ee=()=>he.type?ZT(He._f):TV(Z);if(He){let Fe,tt;const nt=Ee(),gt=Z.type===cw.BLUR||Z.type===cw.FOCUS_OUT,qt=!RTe(He._f)&&!n.resolver&&!Bt(i.errors,ye)&&!He._f.deps||PTe(gt,Bt(i.touchedFields,ye),i.isSubmitted,_,v),Se=K$(ye,c,gt);_r(s,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(Z),d&&d(0)):He._f.onChange&&He._f.onChange(Z);const Be=F(ye,nt,gt,!1),ne=!yo(Be)||Se;if(!gt&&y.watch.next({name:ye,type:Z.type}),qt)return m.isValid&&S(),ne&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:q}=await X([ye]),W=Y$(i.errors,a,ye),G=Y$(q,a,W.name||ye);Fe=G.error,ye=G.name,tt=yo(q)}else Fe=(await J$(He,s,x,n.shouldUseNativeValidation))[ye],Fe?tt=!1:m.isValid&&(tt=await Y(a,!0));He._f.deps&&k(He._f.deps),Q(ye,tt,Fe,Be)}},k=async(Z,he={})=>{let ye,He;const Ee=T0(Z);if(A(!0),n.resolver){const Fe=await U(ii(Z)?Z:Ee);ye=yo(Fe),He=Z?!Ee.some(tt=>Bt(Fe,tt)):ye}else Z?(He=(await Promise.all(Ee.map(async Fe=>{const tt=Bt(a,Fe);return await Y(tt&&tt._f?{[Fe]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&S()):He=ye=await Y(a);return y.state.next({...!Ss(Z)||m.isValid&&ye!==i.isValid?{}:{name:Z},...n.resolver||!Z?{isValid:ye}:{},errors:i.errors,isValidating:!1}),he.shouldFocus&&!He&&HR(a,Fe=>Fe&&Bt(i.errors,Fe),Z?Ee:c.mount),He},ie=Z=>{const he={...o,...l.mount?s:{}};return ii(Z)?he:Ss(Z)?Bt(he,Z):Z.map(ye=>Bt(he,ye))},me=(Z,he)=>({invalid:!!Bt((he||i).errors,Z),isDirty:!!Bt((he||i).dirtyFields,Z),isTouched:!!Bt((he||i).touchedFields,Z),error:Bt((he||i).errors,Z)}),K=Z=>{Z&&T0(Z).forEach(he=>Ii(i.errors,he)),y.state.next({errors:Z?i.errors:{}})},ee=(Z,he,ye)=>{const He=(Bt(a,Z,{_f:{}})._f||{}).ref;_r(i.errors,Z,{...he,ref:He}),y.state.next({name:Z,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},ge=(Z,he)=>Wd(Z)?y.watch.subscribe({next:ye=>Z(se(void 0,he),ye)}):se(Z,he,!0),Ae=(Z,he={})=>{for(const ye of Z?T0(Z):c.mount)c.mount.delete(ye),c.array.delete(ye),Bt(a,ye)&&(he.keepValue||(Ii(a,ye),Ii(s,ye)),!he.keepError&&Ii(i.errors,ye),!he.keepDirty&&Ii(i.dirtyFields,ye),!he.keepTouched&&Ii(i.touchedFields,ye),!n.shouldUnregister&&!he.keepDefaultValue&&Ii(o,ye));y.watch.next({}),y.state.next({...i,...he.keepDirty?{isDirty:te()}:{}}),!he.keepIsValid&&S()},Ze=(Z,he={})=>{let ye=Bt(a,Z);const He=Gd(he.disabled);return _r(a,Z,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:Z}},name:Z,mount:!0,...he}}),c.mount.add(Z),ye?He&&_r(s,Z,he.disabled?void 0:Bt(s,Z,ZT(ye._f))):D(Z,!0,he.value),{...He?{disabled:he.disabled}:{},...n.shouldUseNativeValidation?{required:!!he.required,min:Hg(he.min),max:Hg(he.max),minLength:Hg(he.minLength),maxLength:Hg(he.maxLength),pattern:Hg(he.pattern)}:{},name:Z,onChange:Re,onBlur:Re,ref:Ee=>{if(Ee){Ze(Z,he),ye=Bt(a,Z);const Fe=ii(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,tt=TTe(Fe),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Fe):Fe===ye._f.ref)return;_r(a,Z,{_f:{...ye._f,...tt?{refs:[...nt.filter(WT),Fe,...Array.isArray(Bt(o,Z))?[{}]:[]],ref:{type:Fe.type,name:Z}}:{ref:Fe}}}),D(Z,!1,void 0,Fe)}else ye=Bt(a,Z,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||he.shouldUnregister)&&!(AV(c.array,Z)&&l.action)&&c.unMount.add(Z)}}},Pe=()=>n.shouldFocusError&&HR(a,Z=>Z&&Bt(i.errors,Z),c.mount),Ne=(Z,he)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=Tl(s);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Ee,values:Fe}=await X();i.errors=Ee,He=Fe}else await Y(a);Ii(i.errors,"root"),yo(i.errors)?(y.state.next({errors:{}}),await Z(He,ye)):(he&&await he({...i.errors},ye),Pe()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yo(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Ye=(Z,he={})=>{Bt(a,Z)&&(ii(he.defaultValue)?ue(Z,Bt(o,Z)):(ue(Z,he.defaultValue),_r(o,Z,he.defaultValue)),he.keepTouched||Ii(i.touchedFields,Z),he.keepDirty||(Ii(i.dirtyFields,Z),i.isDirty=he.defaultValue?te(Z,Bt(o,Z)):te()),he.keepError||(Ii(i.errors,Z),m.isValid&&S()),y.state.next({...i}))},oe=(Z,he={})=>{const ye=Z||o,He=Tl(ye),Ee=Z&&!yo(Z)?He:o;if(he.keepDefaultValues||(o=ye),!he.keepValues){if(he.keepDirtyValues||r)for(const Fe of c.mount)Bt(i.dirtyFields,Fe)?_r(Ee,Fe,Bt(s,Fe)):ue(Fe,Bt(Ee,Fe));else{if(JO&&ii(Z))for(const Fe of c.mount){const tt=Bt(a,Fe);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(fw(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}s=e.shouldUnregister?he.keepDefaultValues?Tl(o):{}:He,y.array.next({values:Ee}),y.watch.next({values:Ee})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!m.isValid||!!he.keepIsValid,l.watch=!!e.shouldUnregister,y.state.next({submitCount:he.keepSubmitCount?i.submitCount:0,isDirty:he.keepDirty||he.keepDirtyValues?i.isDirty:!!(he.keepDefaultValues&&!af(Z,o)),isSubmitted:he.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:he.keepDirty||he.keepDirtyValues?i.dirtyFields:he.keepDefaultValues&&Z?QT(o,Z):{},touchedFields:he.keepTouched?i.touchedFields:{},errors:he.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=(Z,he)=>oe(Wd(Z)?Z(s):Z,he),$=(Z,he={})=>{const ye=Bt(a,Z),He=ye&&ye._f;if(He){const Ee=He.refs?He.refs[0]:He.ref;Ee.focus&&(Ee.focus(),he.shouldSelect&&Ee.select())}},ae=Z=>{i={...i,...Z}};return Wd(n.defaultValues)&&n.defaultValues().then(Z=>{z(Z,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Ze,unregister:Ae,getFieldState:me,_executeSchema:X,_focusError:Pe,_getWatch:se,_getDirty:te,_updateValid:S,_removeUnmounted:ce,_updateFieldArray:P,_getFieldArray:pe,_reset:oe,_updateFormState:ae,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return s},get _stateFlags(){return l},set _stateFlags(Z){l=Z},get _defaultValues(){return o},get _names(){return c},set _names(Z){c=Z},get _formState(){return i},set _formState(Z){i=Z},get _options(){return n},set _options(Z){n={...n,...Z}}},trigger:k,register:Ze,handleSubmit:Ne,watch:ge,setValue:ue,getValues:ie,reset:z,resetField:Ye,clearErrors:K,unregister:Ae,setError:ee,setFocus:$,getFieldState:me}}function ju(e={}){const t=It.useRef(),[n,r]=It.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Wd(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ITe(e,()=>r(a=>({...a}))),formState:n});const i=t.current.control;return i._options=e,ZO({subject:i._subjects.state,next:a=>{PV(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),It.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),It.useEffect(()=>{e.values&&!af(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),It.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=RV(n,i),t.current}const wm=({value:e,...t})=>{const[n,r]=V.useState(!1);return n?H.jsxs(H.Fragment,{children:[H.jsx("input",{...t})," ",H.jsx("button",{type:"button",onClick:()=>{r(!1)},children:H.jsx(oy,{})})]}):H.jsxs(H.Fragment,{children:[e," ",H.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:H.jsx(p9,{})})]})},MTe=({onSuccess:e,isPublicTypeIndex:t,isPrivateTypeIndex:n,isInbox:r,webId:i,storage:a})=>{const{i18n:o,_:s}=Jr(),l=fTe(),c=uTe(),d=dTe(),{watch:h,register:m,handleSubmit:y}=ju({defaultValues:{publicTypeIndex:new URL("./settings/publicTypeIndex.ttl",a).toString(),privateTypeIndex:new URL("./settings/privateTypeIndex.ttl",a).toString(),inbox:new URL("./inbox/",a).toString()}}),v=y(async({publicTypeIndex:_,privateTypeIndex:x,inbox:b})=>{if(t===void 0||n===void 0||r===void 0)throw new Error(o._({id:"XCH5Qf"}));t===!1&&await l({publicTypeIndex:_,webId:i}),n===!1&&await c({privateTypeIndex:x,webId:i}),r===!1&&await d({inbox:b,webId:i}),e()});return H.jsxs("form",{onSubmit:v,children:[H.jsx("div",{children:t?H.jsx(wt,{id:"AywWH9"}):H.jsxs(H.Fragment,{children:[H.jsx(wt,{id:"/qBoT3"})," ",H.jsx(wm,{value:qd(h("publicTypeIndex"),a),...m("publicTypeIndex",{required:!0}),type:"url"})]})}),H.jsx("div",{children:n?H.jsx(wt,{id:"ei1Uj7"}):H.jsxs(H.Fragment,{children:[H.jsx(wt,{id:"47l1wN"})," ",H.jsx(wm,{value:qd(h("privateTypeIndex"),a),...m("privateTypeIndex",{required:!0}),type:"url"})]})}),H.jsx("div",{children:r?H.jsx(wt,{id:"d/3T+G"}):H.jsxs(H.Fragment,{children:[H.jsx(wt,{id:"17JZAf"})," ",H.jsx(wm,{value:qd(h("inbox"),a),...m("inbox",{required:!0}),type:"url"})]})}),H.jsx(pr,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:H.jsx(wt,{id:"xGVfLh"})})]})},DTe=()=>{const e=Xo();return V.useCallback(async({person:t,group:n})=>{const r=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${n}> <${a9.hasMember}> <${t}>. } .`;await e.mutateAsync({uri:n,patch:r})},[e])},kTe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Group",id:t}}),NTe=async({inbox:e,...t})=>{const n=await nr(e,{method:"POST",body:JSON.stringify(kTe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Ho("Community inbox responded with error",n);const r=n.headers.get("location");return{...t,status:n.status,group:r}},FTe=()=>{const e=Si(),{mutateAsync:t}=Pa({mutationFn:NTe,onSuccess:async n=>{n.group&&await e.invalidateQueries({queryKey:[zr.rdfDocument,ec(n.group)]})}});return t},jTe=({onSuccess:e,isMember:t,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:a,communityId:o}=kn(),s=di(),{i18n:l,_:c}=Jr(),d=rV(s.webId??""),h=Du(o),m=DTe(),y=FTe(),v=cTe(),_=lTe(),x=SV(),b=d&&`${d}hospex/${a}/card`,{handleSubmit:S,register:A,watch:P,setValue:O}=ju({defaultValues:{newHospexDocument:b}});V.useEffect(()=>{d&&O("newHospexDocument",`${d}hospex/${a}/card`)},[a,O,d]);const D=P("newHospexDocument");if(!d||!D)return H.jsx(H.Fragment,{children:"..."});const F=S(async({hospexDocument:X,newHospexDocument:U})=>{if(!i)throw new Error(l._({id:"MPWsQ5"}));if(n||(r.length===0||X==="new"?(await v({uri:U,webId:s.webId,communityId:o}),await x({index:i,type:nc.PersonalHospexDocument,location:U})):await _({uri:X,webId:s.webId})),!t)if(h.inbox)await y({actor:s.webId,object:h.community,type:"Join",inbox:h.inbox});else{if(!h.groups[0])throw new Error(l._({id:"FTXS9n"}));await m({person:s.webId,group:h.groups[0]})}e()}),Q=h.name||o;return H.jsxs("form",{onSubmit:F,children:[t?H.jsx("li",{children:H.jsx(wt,{id:"CDTRqk",values:{communityLabel:Q}})}):H.jsx("li",{children:H.jsx(wt,{id:"kH9S1u",values:{communityLabel:Q}})}),!n&&r.length===0&&H.jsxs("li",{children:[H.jsx(wt,{id:"V7MiWJ"})," ",H.jsx(wm,{value:qd(D,d),...A("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&H.jsxs("li",{children:[H.jsx("legend",{children:H.jsx(wt,{id:"kJXPN2"})}),H.jsxs("fieldset",{className:Ol.storageOptions,children:[H.jsx("legend",{children:H.jsx(wt,{id:"kpCcav"})}),H.jsxs("div",{className:Ol.option,children:[H.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...A("hospexDocument",{required:!0})})," ",H.jsxs("label",{htmlFor:"new-hospex-document",children:[H.jsx(wt,{id:"rX1tOl"}),H.jsx(wm,{...A("newHospexDocument",{required:!0}),value:qd(P("newHospexDocument"),d)})]})]}),H.jsxs("div",{children:[H.jsx("legend",{children:H.jsx(wt,{id:"Monbkf",components:{0:H.jsx("i",{})}})}),r.map(({hospexDocument:X,communities:U},Y)=>H.jsxs("div",{className:Ol.option,children:[H.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${Y}`,value:X,...A("hospexDocument")})," ",H.jsxs("label",{htmlFor:`hospexDocument-${Y}`,children:[U.map(ce=>ce.name??ce.uri).join(", ")," (",qd(X,d),")"]})]},X))]})]})]}),H.jsx(pr,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:H.jsx(wt,{id:"xGVfLh"})})]})};var JT,X$;function $Te(){if(X$)return JT;X$=1;var e=D9(),t=Zw(),n=K9(),r=N9(),i=Kz(),a=Math.max;function o(s){if(!(s&&s.length))return[];var l=0;return s=e(s,function(c){if(i(c))return l=a(c.length,l),!0}),r(l,function(c){return t(s,n(c))})}return JT=o,JT}var YT,e5;function UTe(){if(e5)return YT;e5=1;var e=Qz(),t=Zw(),n=$Te();function r(i,a){if(!(i&&i.length))return[];var o=n(i);return a==null?o:t(o,function(s){return e(a,void 0,s)})}return YT=r,YT}var XT,t5;function BTe(){if(t5)return XT;t5=1;var e=Yz(),t=UTe(),n=e(function(r){var i=r.length,a=i>1?r[i-1]:void 0;return a=typeof a=="function"?(r.pop(),a):void 0,t(r,a)});return XT=n,XT}var qTe=BTe();const zTe=Lr(qTe),n5=async e=>{e=ec(e);const t=await ZP(e,nr);if(!t.ok)throw t.response?new Ho(t.response.statusText,t.response):new Error("unexpected");return t},HTe=e=>{const t=Sm({queries:e.map(a=>({queryKey:[zr.rdfDocument,a],queryFn:async()=>n5(a),enabled:!!a}))}),n=t.map(({data:a},o)=>{var _,x;const s=e[o],l=(_=a==null?void 0:a.response)==null?void 0:_.headers,c=l==null?void 0:l.get("link"),d=c?Bq.parse(c):void 0,h=(x=d==null?void 0:d.rel("acl")[0])==null?void 0:x.uri,m=h&&s?new URL(h,s).toString():void 0,y=l==null?void 0:l.get("wac-allow"),v=y?jpe(y):void 0;return{resource:s,aclUri:m,effectivePermissions:v}}),r=Sm({queries:n.map(({aclUri:a,effectivePermissions:o})=>{var s;return{queryKey:[zr.rdfDocument,a],queryFn:async()=>n5(a??""),enabled:!!a&&((s=o==null?void 0:o.user)==null?void 0:s.has("control"))}})}),i=r.map(({data:a,isError:o},s)=>{var c;const l=(c=n[s])==null?void 0:c.aclUri;return l&&typeof(a==null?void 0:a.rawData)=="string"&&!o?u9(l,a.rawData):void 0});return{isLoading:t.some(a=>a.isLoading)||r.some(a=>a.isLoading),results:n.map((a,o)=>({effectivePermissions:a.effectivePermissions,acls:[{uri:a.aclUri,accesses:i[o]}]}))}},VTe=()=>{const e=di(),{communityId:t}=kn(),{variables:n,isLoading:r}=ga({query:Hye,variables:V.useMemo(()=>({person:e.webId?[e.webId]:void 0,community:[t]}),[e.webId,t]),fetch:nr}),i=n.hospexPreferencesFile,{results:a}=HTe(i??[]);return{results:zTe(i??[],a,(s,l)=>({url:s,permissions:l})),isLoading:r}},KTe=({onSuccess:e,isEmailNotifications:t,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?H.jsx(GTe,{onSuccess:e,isEmailNotifications:n,hospexDocument:r}):t!=="unset"?H.jsx(WTe,{onSuccess:e,isEmailNotifications:t,inbox:i}):H.jsx(QTe,{onSuccess:e}),GTe=({onSuccess:e,isEmailNotifications:t,hospexDocument:n})=>{const{handleSubmit:r,register:i}=ju(),[a,o]=V.useState(!1),[s,l]=V.useState(!1),[c,d]=V.useState(),[h,m]=V.useState(0),y=gTe(),v=pTe(),{webId:_}=di(),{i18n:x,_:b}=Jr(),{emailNotificationsIdentity:S,emailNotificationsService:A}=kn(),{results:P}=VTe(),O=P.some(U=>{var Y,ce;return U.url&&((ce=(Y=U.permissions.acls[0])==null?void 0:Y.accesses)==null?void 0:ce.some(te=>te.agents.includes(S)&&(te.modes.includes(bs.Write)||te.modes.includes(bs.Append))&&te.modes.includes(bs.Read)))}),D=eV(_,A);V.useEffect(()=>{if(h>0){const U=setTimeout(()=>m(h-1),1e3);return()=>clearTimeout(U)}},[h]);const F=r(async({email:U})=>{l(!0);try{if(!n)throw new Error(x._({id:"35KTBT"}));t||(O||await y({hospexDocument:n,webId:_,email:U}),await v.mutateAsync({email:U}),o(!0),m(60),d(U))}finally{l(!1)}}),Q=Si(),X=()=>{Q.invalidateQueries({queryKey:[zr.simpleMailerIntegration]})};return t?H.jsxs("div",{children:[H.jsx(oy,{}),H.jsx(wt,{id:"VM9oSF"}),H.jsx(pr,{primary:!0,onClick:e,children:H.jsx(wt,{id:"8BwQeU"})})]}):H.jsxs("form",{onSubmit:F,children:[!t&&H.jsxs("div",{children:[H.jsxs("div",{children:[H.jsx(wt,{id:"42aUkb"})," ",H.jsx("input",{required:!0,placeholder:x._({id:"ocwjau"}),...i("email"),type:"email",disabled:a}),H.jsx(pr,{type:"submit",secondary:!0,disabled:s||h>0,children:h>0?H.jsx(wt,{id:"uliB7J",values:{countdown:h}}):H.jsx(wt,{id:"vp9yIB"})})]}),a&&!s&&H.jsx("div",{children:H.jsx(wt,{id:"MYOoIS",values:{sentToEmail:c},components:{0:H.jsx("br",{})}})})]}),H.jsxs(pr,{type:"button",primary:!0,disabled:!a||D.isRefetching,onClick:X,children:[H.jsx(wt,{id:"8BwQeU"})," ",D.isRefetching&&H.jsx(Y7,{})]})]})},WTe=({onSuccess:e,isEmailNotifications:t,inbox:n})=>{const{i18n:r,_:i}=Jr(),a=hTe(),{handleSubmit:o,register:s}=ju(),{webId:l}=di(),c=Si(),d=()=>{c.invalidateQueries({queryKey:[zr.mailerIntegration]})},h=o(({email:m})=>{if(!n)throw new Error(r._({id:"fo1jSY"}));a({email:m,webId:l,inbox:n})});return t===!0?H.jsxs("div",{children:[H.jsx(oy,{}),H.jsx(wt,{id:"VM9oSF"}),H.jsx(pr,{primary:!0,onClick:e,children:H.jsx(wt,{id:"8BwQeU"})})]}):H.jsxs("form",{onSubmit:h,children:[!t&&H.jsxs("div",{children:[H.jsx(wt,{id:"lYCAyX"})," ",H.jsx("input",{type:"email",placeholder:r._({id:"z8F4/3"}),...s("email"),required:!0}),H.jsx(pr,{type:"submit",primary:!0,children:H.jsx(wt,{id:"vp9yIB"})})]}),t==="unverified"&&H.jsxs("div",{children:[H.jsx(wt,{id:"F132R+"}),H.jsx(pr,{type:"button",primary:!0,onClick:d,children:H.jsx(wt,{id:"8BwQeU"})})]})]})},QTe=({onSuccess:e})=>H.jsxs("div",{children:[H.jsx(oy,{})," ",H.jsx(wt,{id:"heRuNl"}),H.jsx("div",{children:H.jsx(pr,{primary:!0,onClick:e,children:H.jsx(wt,{id:"8BwQeU"})})})]});var Hc=function(e){return e.isMember="isMember",e.isHospexProfile="isHospexProfile",e.isPublicTypeIndex="isPublicTypeIndex",e.isPrivateTypeIndex="isPrivateTypeIndex",e.isInbox="isInbox",e.isSimpleEmailNotifications="isSimpleEmailNotifications",e.isEmailNotifications="isEmailNotifications",e}({});const ZTe=[[Hc.isPublicTypeIndex,Hc.isPrivateTypeIndex,Hc.isInbox],[Hc.isMember,Hc.isHospexProfile],[Hc.isEmailNotifications,Hc.isSimpleEmailNotifications]],JTe=e=>{const t=ZTe.map(o=>KCe(e,o)).map(o=>Object.values(o).every(s=>s)),n=di(),r=rV(n.webId),i=kn(),a=V.useMemo(()=>{var o;return[{title:H.jsx(wt,{id:"FQjzSF"}),content:r&&n.webId?H.jsx(MTe,{onSuccess:()=>e.onStepChange(1),isPublicTypeIndex:e.isPublicTypeIndex,isPrivateTypeIndex:e.isPrivateTypeIndex,isInbox:e.isInbox,storage:r,webId:n.webId}):null},{title:H.jsx(wt,{id:"BLFgtR"}),content:H.jsx(jTe,{onSuccess:()=>e.onStepChange(2),isMember:e.isMember,isHospexProfile:e.isHospexProfile,allHospex:e.allHospex,publicTypeIndex:e.publicTypeIndexes[0]})},{title:H.jsx(wt,{id:"sCXkJv"}),content:H.jsx(KTe,{isEmailNotifications:e.isEmailNotifications,isSimpleEmailNotifications:e.isSimpleEmailNotifications,hospexDocument:(o=e.allHospex.find(s=>s.communities.some(l=>l.uri===i.communityId)))==null?void 0:o.hospexDocument,inbox:e.inboxes[0],onSuccess:()=>{}})}]},[n.webId,i.communityId,e,r]);return r?H.jsxs("div",{className:Ol.container,children:[H.jsx("h1",{children:H.jsx(wt,{id:"RDjuBN"})}),H.jsxs(FCe,{value:String(e.step),onValueChange:o=>e.onStepChange(+o),children:[H.jsx(jCe,{className:Ol.list,loop:!1,children:a.map((o,s)=>H.jsx($Ce,{className:Or(Ol.trigger,s<a.length-1&&Ol.connect),value:String(s),disabled:!t.slice(0,s).every(l=>!!l),children:s+1},s))}),a.map((o,s)=>H.jsxs(UCe,{value:String(s),className:Ol.content,children:[H.jsx("h2",{children:o.title}),o.content]},s))]})]}):H.jsx(H.Fragment,{children:"..."})},YTe="_checkingContainer_ormma_1",r5={checkingContainer:YTe},XTe=()=>{const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=kn(),r=bi(Oh),[i,a]=V.useState(0),o=Fm(r.webId??"",e??""),s=nV(o,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","inboxes","allHospex"]),l=X2e(r.webId,n==="simple"?t:""),c=J2e(o.inboxes[0]??"",n==="solid"?t:"");if(Object.values(o).every(m=>m)&&(c===!0||c==="unset")&&(l===!0||l==="unset"))return H.jsx(Tw,{});const h=Object.entries(s).filter(([,m])=>m===void 0).map(([m])=>m);return l===void 0&&h.push("isSimpleEmailNotifications"),c===void 0&&h.push("isEmailNotifications"),Object.values(o).some(m=>m===void 0)||l===void 0||c===void 0?H.jsx(eAe,{...s,isEmailNotifications:c,isSimpleEmailNotifications:l}):H.jsx(JTe,{...o,isSimpleEmailNotifications:l,isEmailNotifications:c,step:i,onStepChange:a})},eAe=e=>{const t=Object.entries(e).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:tAe(n),value:r}));return H.jsxs("div",{className:r5.checkingContainer,children:[H.jsx("h2",{children:H.jsx(wt,{id:"ciEJp2"})}),H.jsx("p",{children:H.jsx(wt,{id:"iIICHU"})}),H.jsx("ul",{className:r5.checklist,children:t.map(n=>H.jsxs("li",{children:[n.value===!0?H.jsx(oy,{}):n.value===!1?H.jsx(X0,{}):n.value==="unverified"?H.jsx(Xpe,{}):H.jsx(Y7,{})," ",n.label]},n.key))})]})},tAe=e=>e.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());var d_={exports:{}},_l={},h_={exports:{}},po={},p_={exports:{}},i5;function UV(){return i5||(i5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(h,m){return m.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var m=h.offsetWidth<=0&&h.offsetHeight<=0;if(m&&!h.innerHTML)return!0;try{var y=window.getComputedStyle(h),v=y.getPropertyValue("display");return m?v!==r&&a(h,y):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(h){for(var m=h,y=h.getRootNode&&h.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function l(h,m){var y=h.nodeName.toLowerCase(),v=i.test(y)&&!h.disabled||y==="a"&&h.href||m;return v&&s(h)}function c(h){var m=h.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&l(h,!y)}function d(h){var m=[].slice.call(h.querySelectorAll("*"),0).reduce(function(y,v){return y.concat(v.shadowRoot?d(v.shadowRoot):[v])},[]);return m.filter(c)}e.exports=t.default}(p_,p_.exports)),p_.exports}var a5;function nAe(){if(a5)return po;a5=1,Object.defineProperty(po,"__esModule",{value:!0}),po.resetState=o,po.log=s,po.handleBlur=l,po.handleFocus=c,po.markForFocusLater=d,po.returnFocus=h,po.popWithoutFocus=m,po.setupScopedFocus=y,po.teardownScopedFocus=v;var e=UV(),t=n(e);function n(_){return _&&_.__esModule?_:{default:_}}var r=[],i=null,a=!1;function o(){r=[]}function s(){}function l(){a=!0}function c(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var _=(0,t.default)(i)[0]||i;_.focus()}},0)}}function d(){r.push(document.activeElement)}function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,x=null;try{r.length!==0&&(x=r.pop(),x.focus({preventScroll:_}));return}catch{console.warn(["You tried to return focus to",x,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(_){i=_,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function v(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return po}var g_={exports:{}},o5;function rAe(){return o5||(o5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=UV(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?a(s.activeElement.shadowRoot):s.activeElement}function o(s,l){var c=(0,r.default)(s);if(!c.length){l.preventDefault();return}var d=void 0,h=l.shiftKey,m=c[0],y=c[c.length-1],v=a();if(s===v){if(!h)return;d=y}if(y===v&&!h&&(d=m),m===v&&h&&(d=y),d){l.preventDefault(),d.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var b=c.indexOf(v);if(b>-1&&(b+=h?-1:1),d=c[b],typeof d>"u"){l.preventDefault(),d=h?y:m,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default}(g_,g_.exports)),g_.exports}var Lo={},eA,s5;function iAe(){if(s5)return eA;s5=1;var e=function(){};return eA=e,eA}var us={},tA={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var u5;function aAe(){return u5||(u5=1,function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()}(tA)),tA.exports}var l5;function tL(){if(l5)return us;l5=1,Object.defineProperty(us,"__esModule",{value:!0}),us.canUseDOM=us.SafeNodeList=us.SafeHTMLCollection=void 0;var e=aAe(),t=n(e);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default,i=r.canUseDOM?window.HTMLElement:{};return us.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},us.SafeNodeList=r.canUseDOM?window.NodeList:{},us.canUseDOM=r.canUseDOM,us.default=i,us}var c5;function BV(){if(c5)return Lo;c5=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.resetState=a,Lo.log=o,Lo.assertNodeList=s,Lo.setElement=l,Lo.validateElement=c,Lo.hide=d,Lo.show=h,Lo.documentNotReadyOrSSRTesting=m;var e=iAe(),t=r(e),n=tL();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function o(){}function s(y,v){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function l(y){var v=y;if(typeof v=="string"&&n.canUseDOM){var _=document.querySelectorAll(v);s(_,v),v=_}return i=v||i,i}function c(y){var v=y||i;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function d(y){var v=!0,_=!1,x=void 0;try{for(var b=c(y)[Symbol.iterator](),S;!(v=(S=b.next()).done);v=!0){var A=S.value;A.setAttribute("aria-hidden","true")}}catch(P){_=!0,x=P}finally{try{!v&&b.return&&b.return()}finally{if(_)throw x}}}function h(y){var v=!0,_=!1,x=void 0;try{for(var b=c(y)[Symbol.iterator](),S;!(v=(S=b.next()).done);v=!0){var A=S.value;A.removeAttribute("aria-hidden")}}catch(P){_=!0,x=P}finally{try{!v&&b.return&&b.return()}finally{if(_)throw x}}}function m(){i=null}return Lo}var Vc={},f5;function oAe(){if(f5)return Vc;f5=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.resetState=r,Vc.log=i;var e={},t={};function n(c,d){c.classList.remove(d)}function r(){var c=document.getElementsByTagName("html")[0];for(var d in e)n(c,e[d]);var h=document.body;for(var m in t)n(h,t[m]);e={},t={}}function i(){}var a=function(d,h){return d[h]||(d[h]=0),d[h]+=1,h},o=function(d,h){return d[h]&&(d[h]-=1),h},s=function(d,h,m){m.forEach(function(y){a(h,y),d.add(y)})},l=function(d,h,m){m.forEach(function(y){o(h,y),h[y]===0&&d.remove(y)})};return Vc.add=function(d,h){return s(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Vc.remove=function(d,h){return l(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Vc}var Pd={},d5;function qV(){if(d5)return Pd;d5=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.log=r,Pd.resetState=i;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var t=function a(){var o=this;e(this,a),this.register=function(s){o.openInstances.indexOf(s)===-1&&(o.openInstances.push(s),o.emit("register"))},this.deregister=function(s){var l=o.openInstances.indexOf(s);l!==-1&&(o.openInstances.splice(l,1),o.emit("deregister"))},this.subscribe=function(s){o.subscribers.push(s)},this.emit=function(s){o.subscribers.forEach(function(l){return l(s,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new t}return Pd.default=n,Pd}var Vg={},h5;function sAe(){if(h5)return Vg;h5=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.resetState=o,Vg.log=s;var e=qV(),t=n(e);function n(d){return d&&d.__esModule?d:{default:d}}var r=void 0,i=void 0,a=[];function o(){for(var d=[r,i],h=0;h<d.length;h++){var m=d[h];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function s(){console.log("bodyTrap ----------"),console.log(a.length);for(var d=[r,i],h=0;h<d.length;h++){var m=d[h],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function c(d,h){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=h,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return t.default.subscribe(c),Vg}var p5;function uAe(){return p5||(p5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(se){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var de in _e)Object.prototype.hasOwnProperty.call(_e,de)&&(se[de]=_e[de])}return se},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},i=function(){function se(pe,_e){for(var de=0;de<_e.length;de++){var ue=_e[de];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(pe,ue.key,ue)}}return function(pe,_e,de){return _e&&se(pe.prototype,_e),de&&se(pe,de),pe}}(),a=Ch(),o=aH(),s=O(o),l=nAe(),c=P(l),d=rAe(),h=O(d),m=BV(),y=P(m),v=oAe(),_=P(v),x=tL(),b=O(x),S=qV(),A=O(S);sAe();function P(se){if(se&&se.__esModule)return se;var pe={};if(se!=null)for(var _e in se)Object.prototype.hasOwnProperty.call(se,_e)&&(pe[_e]=se[_e]);return pe.default=se,pe}function O(se){return se&&se.__esModule?se:{default:se}}function D(se,pe){if(!(se instanceof pe))throw new TypeError("Cannot call a class as a function")}function F(se,pe){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:se}function Q(se,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);se.prototype=Object.create(pe&&pe.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(se,pe):se.__proto__=pe)}var X={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(pe){return pe.code==="Tab"||pe.keyCode===9},Y=function(pe){return pe.code==="Escape"||pe.keyCode===27},ce=0,te=function(se){Q(pe,se);function pe(_e){D(this,pe);var de=F(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,_e));return de.setOverlayRef=function(ue){de.overlay=ue,de.props.overlayRef&&de.props.overlayRef(ue)},de.setContentRef=function(ue){de.content=ue,de.props.contentRef&&de.props.contentRef(ue)},de.afterClose=function(){var ue=de.props,Re=ue.appElement,k=ue.ariaHideApp,ie=ue.htmlOpenClassName,me=ue.bodyOpenClassName,K=ue.parentSelector,ee=K&&K().ownerDocument||document;me&&_.remove(ee.body,me),ie&&_.remove(ee.getElementsByTagName("html")[0],ie),k&&ce>0&&(ce-=1,ce===0&&y.show(Re)),de.props.shouldFocusAfterRender&&(de.props.shouldReturnFocusAfterClose?(c.returnFocus(de.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),de.props.onAfterClose&&de.props.onAfterClose(),A.default.deregister(de)},de.open=function(){de.beforeOpen(),de.state.afterOpen&&de.state.beforeClose?(clearTimeout(de.closeTimer),de.setState({beforeClose:!1})):(de.props.shouldFocusAfterRender&&(c.setupScopedFocus(de.node),c.markForFocusLater()),de.setState({isOpen:!0},function(){de.openAnimationFrame=requestAnimationFrame(function(){de.setState({afterOpen:!0}),de.props.isOpen&&de.props.onAfterOpen&&de.props.onAfterOpen({overlayEl:de.overlay,contentEl:de.content})})}))},de.close=function(){de.props.closeTimeoutMS>0?de.closeWithTimeout():de.closeWithoutTimeout()},de.focusContent=function(){return de.content&&!de.contentHasFocus()&&de.content.focus({preventScroll:!0})},de.closeWithTimeout=function(){var ue=Date.now()+de.props.closeTimeoutMS;de.setState({beforeClose:!0,closesAt:ue},function(){de.closeTimer=setTimeout(de.closeWithoutTimeout,de.state.closesAt-Date.now())})},de.closeWithoutTimeout=function(){de.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},de.afterClose)},de.handleKeyDown=function(ue){U(ue)&&(0,h.default)(de.content,ue),de.props.shouldCloseOnEsc&&Y(ue)&&(ue.stopPropagation(),de.requestClose(ue))},de.handleOverlayOnClick=function(ue){de.shouldClose===null&&(de.shouldClose=!0),de.shouldClose&&de.props.shouldCloseOnOverlayClick&&(de.ownerHandlesClose()?de.requestClose(ue):de.focusContent()),de.shouldClose=null},de.handleContentOnMouseUp=function(){de.shouldClose=!1},de.handleOverlayOnMouseDown=function(ue){!de.props.shouldCloseOnOverlayClick&&ue.target==de.overlay&&ue.preventDefault()},de.handleContentOnClick=function(){de.shouldClose=!1},de.handleContentOnMouseDown=function(){de.shouldClose=!1},de.requestClose=function(ue){return de.ownerHandlesClose()&&de.props.onRequestClose(ue)},de.ownerHandlesClose=function(){return de.props.onRequestClose},de.shouldBeClosed=function(){return!de.state.isOpen&&!de.state.beforeClose},de.contentHasFocus=function(){return document.activeElement===de.content||de.content.contains(document.activeElement)},de.buildClassName=function(ue,Re){var k=(typeof Re>"u"?"undefined":r(Re))==="object"?Re:{base:X[ue],afterOpen:X[ue]+"--after-open",beforeClose:X[ue]+"--before-close"},ie=k.base;return de.state.afterOpen&&(ie=ie+" "+k.afterOpen),de.state.beforeClose&&(ie=ie+" "+k.beforeClose),typeof Re=="string"&&Re?ie+" "+Re:ie},de.attributesFromObject=function(ue,Re){return Object.keys(Re).reduce(function(k,ie){return k[ue+"-"+ie]=Re[ie],k},{})},de.state={afterOpen:!1,beforeClose:!1},de.shouldClose=null,de.moveFromContentToOverlay=null,de}return i(pe,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(de,ue){this.props.isOpen&&!de.isOpen?this.open():!this.props.isOpen&&de.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ue.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var de=this.props,ue=de.appElement,Re=de.ariaHideApp,k=de.htmlOpenClassName,ie=de.bodyOpenClassName,me=de.parentSelector,K=me&&me().ownerDocument||document;ie&&_.add(K.body,ie),k&&_.add(K.getElementsByTagName("html")[0],k),Re&&(ce+=1,y.hide(ue)),A.default.register(this)}},{key:"render",value:function(){var de=this.props,ue=de.id,Re=de.className,k=de.overlayClassName,ie=de.defaultStyles,me=de.children,K=Re?{}:ie.content,ee=k?{}:ie.overlay;if(this.shouldBeClosed())return null;var ge={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},ee,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ae=n({id:ue,ref:this.setContentRef,style:n({},K,this.props.style.content),className:this.buildClassName("content",Re),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ze=this.props.contentElement(Ae,me);return this.props.overlayElement(ge,Ze)}}]),pe}(a.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(b.default),s.default.instanceOf(x.SafeHTMLCollection),s.default.instanceOf(x.SafeNodeList),s.default.arrayOf(s.default.instanceOf(b.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=te,e.exports=t.default}(h_,h_.exports)),h_.exports}function zV(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function HV(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function VV(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}zV.__suppressDeprecationWarning=!0;HV.__suppressDeprecationWarning=!0;VV.__suppressDeprecationWarning=!0;function lAe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=zV,t.componentWillReceiveProps=HV),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=VV;var s=t.componentDidUpdate;t.componentDidUpdate=function(c,d,h){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;s.call(this,c,d,m)}}return e}const cAe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:lAe},Symbol.toStringTag,{value:"Module"})),fAe=zU(cAe);var g5;function dAe(){if(g5)return _l;g5=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.bodyOpenClassName=_l.portalClassName=void 0;var e=Object.assign||function(Y){for(var ce=1;ce<arguments.length;ce++){var te=arguments[ce];for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(Y[se]=te[se])}return Y},t=function(){function Y(ce,te){for(var se=0;se<te.length;se++){var pe=te[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(ce,pe.key,pe)}}return function(ce,te,se){return te&&Y(ce.prototype,te),se&&Y(ce,se),ce}}(),n=Ch(),r=x(n),i=cP(),a=x(i),o=aH(),s=x(o),l=uAe(),c=x(l),d=BV(),h=_(d),m=tL(),y=x(m),v=fAe;function _(Y){if(Y&&Y.__esModule)return Y;var ce={};if(Y!=null)for(var te in Y)Object.prototype.hasOwnProperty.call(Y,te)&&(ce[te]=Y[te]);return ce.default=Y,ce}function x(Y){return Y&&Y.__esModule?Y:{default:Y}}function b(Y,ce){if(!(Y instanceof ce))throw new TypeError("Cannot call a class as a function")}function S(Y,ce){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce&&(typeof ce=="object"||typeof ce=="function")?ce:Y}function A(Y,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);Y.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,ce):Y.__proto__=ce)}var P=_l.portalClassName="ReactModalPortal",O=_l.bodyOpenClassName="ReactModal__Body--open",D=m.canUseDOM&&a.default.createPortal!==void 0,F=function(ce){return document.createElement(ce)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function X(Y){return Y()}var U=function(Y){A(ce,Y);function ce(){var te,se,pe,_e;b(this,ce);for(var de=arguments.length,ue=Array(de),Re=0;Re<de;Re++)ue[Re]=arguments[Re];return _e=(se=(pe=S(this,(te=ce.__proto__||Object.getPrototypeOf(ce)).call.apply(te,[this].concat(ue))),pe),pe.removePortal=function(){!D&&a.default.unmountComponentAtNode(pe.node);var k=X(pe.props.parentSelector);k&&k.contains(pe.node)?k.removeChild(pe.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},pe.portalRef=function(k){pe.portal=k},pe.renderPortal=function(k){var ie=Q(),me=ie(pe,r.default.createElement(c.default,e({defaultStyles:ce.defaultStyles},k)),pe.node);pe.portalRef(me)},se),S(pe,_e)}return t(ce,[{key:"componentDidMount",value:function(){if(m.canUseDOM){D||(this.node=F("div")),this.node.className=this.props.portalClassName;var se=X(this.props.parentSelector);se.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(se){var pe=X(se.parentSelector),_e=X(this.props.parentSelector);return{prevParent:pe,nextParent:_e}}},{key:"componentDidUpdate",value:function(se,pe,_e){if(m.canUseDOM){var de=this.props,ue=de.isOpen,Re=de.portalClassName;se.portalClassName!==Re&&(this.node.className=Re);var k=_e.prevParent,ie=_e.nextParent;ie!==k&&(k.removeChild(this.node),ie.appendChild(this.node)),!(!se.isOpen&&!ue)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var se=this.portal.state,pe=Date.now(),_e=se.isOpen&&this.props.closeTimeoutMS&&(se.closesAt||pe+this.props.closeTimeoutMS);_e?(se.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,_e-pe)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!D)return null;!this.node&&D&&(this.node=F("div"));var se=Q();return se(r.default.createElement(c.default,e({ref:this.portalRef,defaultStyles:ce.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(se){h.setElement(se)}}]),ce}(n.Component);return U.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(m.SafeHTMLCollection),s.default.instanceOf(m.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},U.defaultProps={isOpen:!1,portalClassName:P,bodyOpenClassName:O,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(ce,te){return r.default.createElement("div",ce,te)},contentElement:function(ce,te){return r.default.createElement("div",ce,te)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(U),_l.default=U,_l}var m5;function hAe(){return m5||(m5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=dAe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default}(d_,d_.exports)),d_.exports}var pAe=hAe();const KV=Lr(pAe),gAe="_modal_s2w5u_1",mAe="_overlay_s2w5u_14",y5={modal:gAe,overlay:mAe};KV.setAppElement("#root");const _b=({className:e,overlayClassName:t,...n})=>H.jsx(KV,{className:Or(y5.modal,e),overlayClassName:Or(y5.overlay,t),...n}),yAe="_container_1buxd_1",vAe="_content_1buxd_18",_Ae="_podOptions_1buxd_18",wAe="_tabs_1buxd_18",bAe="_tabContent_1buxd_38",SAe="_footer_1buxd_41",xAe="_email_1buxd_41",Kc={container:yAe,content:vAe,podOptions:_Ae,tabs:wAe,tabContent:bAe,footer:SAe,email:xAe},nA=({issuer:e,registration:t,children:n})=>{const r=Yl();return H.jsx(pge,{secondary:!0,href:t,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(W0.setLastSelectedIssuer(e))},"data-cy":"pod-provider-signup-link",children:n??new URL(e).hostname})},EAe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=kn(),{i18n:r,_:i}=Jr(),o=Du(t).name||n;return V.useMemo(()=>[{id:"show-options",label:r._({id:"mOHsO6"}),content:H.jsxs(H.Fragment,{children:[H.jsx(wt,{id:"GipwRZ",values:{communityName:o}}),H.jsx("ul",{children:e.filter(l=>l.registration).map(l=>H.jsx("li",{children:H.jsx(nA,{...l})},l.issuer))})]})},{id:"choose-for-me",label:r._({id:"6BXxLh"}),content:H.jsxs(H.Fragment,{children:[H.jsx(nA,{...e.find(l=>l.recommended),children:H.jsx(wt,{id:"kNJ1eb"})}),H.jsx("br",{}),H.jsx(wt,{id:"OSMhQH",components:{0:H.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer"})}})]})},{id:"more-control",label:r._({id:"BvOhbj"}),content:H.jsxs(H.Fragment,{children:[H.jsx("p",{children:H.jsx(wt,{id:"CIxMWI",components:{0:H.jsx("b",{}),1:H.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer"})}})}),H.jsx("p",{children:H.jsx("i",{children:H.jsx(wt,{id:"vXZPG5",components:{0:H.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer"})}})})}),H.jsx("hr",{}),H.jsx("p",{children:H.jsx(wt,{id:"tz2jxv",components:{0:H.jsx("b",{}),1:H.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer"})}})}),H.jsx("p",{children:H.jsx(wt,{id:"eIoTjd",components:{0:H.jsx("i",{})}})}),H.jsx("ul",{children:e.filter(({server:l,registration:c})=>c&&l==="CSS").map(l=>H.jsx("li",{children:H.jsx(nA,{...l})},l.issuer))}),H.jsx("p",{children:H.jsx(wt,{id:"j9mD48"})}),H.jsx("p",{children:H.jsx(wt,{id:"hve6lN"})})]})}],[o,e,i])},CAe=()=>{var d;const[e,t]=V.useState(!1),[n,r]=V.useState(),{communityId:i,defaultCommunityName:a}=kn(),s=Du(i).name||a,l=h=>{r(h.target.value)},c=EAe();return H.jsxs(H.Fragment,{children:[H.jsx(pr,{primary:!0,onClick:()=>t(!0),children:H.jsx(wt,{id:"0wdd7X"})}),H.jsx(_b,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>t(!1),children:H.jsxs("div",{className:Kc.container,children:[H.jsxs("div",{className:Kc.content,children:[H.jsx(wt,{id:"wDQNDO",values:{communityName:s},components:{0:H.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer"})}}),H.jsxs("div",{className:Kc.podOptions,children:[H.jsx("div",{className:Kc.tabs,children:c.map(h=>H.jsxs(V.Fragment,{children:[H.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:l}),H.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),H.jsx("div",{className:Kc.tabContent,children:H.jsx("div",{children:(d=c.find(h=>h.id===n))==null?void 0:d.content})})]})]}),H.jsxs("div",{className:Kc.footer,children:[H.jsx(wt,{id:"CLrwxz"})," ",H.jsx(wt,{id:"PHGSgA",components:{0:H.jsx("a",{href:"https://matrix.to/#/#solidcouch:matrix.org",target:"_blank",rel:"noopener noreferrer"}),1:H.jsx("i",{className:Kc.email})}})]})]})})]})},TAe=async e=>{const{data:t}=await eH(e);return sr.createLdoDataset(t).usingType(jz).fromSubject(e).oidcIssuer.flatMap(r=>r["@id"]??[])},AAe=async e=>{try{const t=await TAe(e);if(t[0]===void 0)throw new Error("OIDC issuer not found");return t[0]}catch{return e}},RAe=(e,t)=>{var r;const n=new URL(e);return(r=t.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},GV=e=>{const t=e.trim();return t.startsWith("http")?t:`https://${t}`},PAe=(e,t)=>{const n=GV(e);return RAe(n,t)??n},OAe=async(e,t)=>{const n=GV(e),r=await AAe(n);return PAe(r,t)??r},LAe="_providers_kq9gh_1",IAe="_webIdForm_kq9gh_6",v5={providers:LAe,webIdForm:IAe},MAe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=kn(),[r,i]=V.useState(!1),[a,o]=V.useState(!1),{i18n:s,_:l}=Jr(),c=bi(iq),d=e.some(b=>b.issuer===c),{register:h,handleSubmit:m}=ju({defaultValues:{webIdOrIssuer:d?"":c}}),y=Yl(),v=Du(t),_=async b=>{const S=c??"";y(W0.setLastSelectedIssuer(b));try{await Rte({oidcIssuer:b,redirectUrl:new URL("/",window.location.href).toString(),clientName:v.name||n,clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(A){if(y(W0.setLastSelectedIssuer(S)),A instanceof TypeError){const P=A.message,O=A.toString();alert(s._({id:"Pygpzd",values:{oidcIssuer:b,message:P,errorString:O}}))}else alert(s._({id:"PS1p9R",values:{e:A}}))}},x=m(async({webIdOrIssuer:b})=>{try{const S=await OAe(b,e);await _(S)}catch(S){alert(s._({id:"PS1p9R",values:{e:S}}))}});return H.jsxs(H.Fragment,{children:[H.jsx(pr,{secondary:!0,onClick:()=>i(!0),children:H.jsx(wt,{id:"5lWFkC"})}),H.jsx(_b,{isOpen:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>i(!1),children:H.jsxs("div",{className:v5.providers,children:[H.jsx(wt,{id:"4Ddjk6"}),c&&H.jsx(pr,{primary:!0,onClick:()=>_(c),"data-cy":"pod-provider-button",children:c.split("/").slice(2).filter(b=>b).join("/")}),e.filter(b=>b.issuer!==c).filter(b=>b.featured||a).map(({issuer:b})=>H.jsx(pr,{secondary:!0,onClick:()=>_(b),children:new URL(b).hostname},b)),!a&&H.jsx(pr,{tertiary:!0,onClick:()=>o(!0),children:H.jsx(wt,{id:"f8jrkd"})}),H.jsx(wt,{id:"Ud7x+A"}),H.jsxs("form",{className:v5.webIdForm,onSubmit:x,children:[H.jsx("input",{type:"text",placeholder:s._({id:"hwTKH1"}),...h("webIdOrIssuer",{required:"required"})}),H.jsx(pr,{primary:!0,type:"submit",children:H.jsx(wt,{id:"xGVfLh"})})]})]})})]})},DAe="_wrapper_1kkei_1",kAe="_mainDescription_1kkei_10",NAe="_pun_1kkei_16",FAe="_actions_1kkei_20",jAe="_logo_1kkei_30",$Ae="_spacer_1kkei_35",UAe="_footer_1kkei_38",BAe="_footerInfo_1kkei_41",qAe="_attribution_1kkei_47",cu={wrapper:DAe,mainDescription:kAe,pun:NAe,actions:FAe,logo:jAe,spacer:$Ae,footer:UAe,footerInfo:BAe,attribution:qAe},zAe=()=>{const{communityId:e}=kn(),t=bi(Pf),n=Du(e,t,Ph),r=V.useMemo(()=>H.jsx(m9,{className:cu.logo,logo:n.logo[0],focusedLogo:n.logo[1]}),[n.logo]),i=V.useMemo(()=>n.pun?H.jsx("section",{className:cu.pun,children:n.pun}):void 0,[n.pun]),a=V.useMemo(()=>n.about?H.jsx("section",{className:cu.mainDescription,children:n.about}):null,[n.about]),o=i?H.jsxs(H.Fragment,{children:[i,r,a]}):H.jsxs(H.Fragment,{children:[a,r]});return H.jsxs("div",{className:cu.wrapper,children:[o,H.jsxs("section",{className:cu.actions,children:[H.jsx(CAe,{}),H.jsx(MAe,{})]}),H.jsx("div",{className:cu.spacer}),H.jsxs("footer",{className:cu.footer,children:[H.jsx("div",{className:cu.footerInfo,children:H.jsx(wt,{id:"Bn8bAf"})}),H.jsx("div",{className:cu.attribution,children:H.jsx(wt,{id:"zMDA2x",components:{0:H.jsx("a",{href:"https://github.com/solidcouch"})}})})]})]})},HAe=()=>{W2e();const e=bi(Oh);return e.isLoggedIn===void 0?H.jsx(bo,{children:H.jsx(wt,{id:"2FwEm8"})}):e.isLoggedIn===!1?H.jsx(zAe,{}):H.jsx(XTe,{})},VAe="_container_1ml33_1",KAe={container:VAe},nL=({webId:e,link:t})=>{const{communityId:n}=kn(),[r]=Ko(e,n),i=H.jsxs("div",{className:KAe.container,children:[H.jsx(jw,{photo:r.photo,size:1}),r==null?void 0:r.name]});return t?H.jsx(jo,{to:`/profile/${encodeURIComponent(e)}`,children:i}):i};var Qd=function(e){return e.confirmed="confirmed",e.requestSent="request_sent",e.requestReceived="request_received",e}({});const WV=e=>{const{quads:t,variables:n,isLoading:r}=ga(V.useMemo(()=>({query:Gye,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const s=new As(t);return(n.otherPerson??[]).map(l=>{const c=ec(l),d=s.getObjects(l,GP.seeAlso,c),h=s.getQuads(l,Vl.knows,e,c),m=d.flatMap(y=>s.getQuads(l,Vl.knows,e,y));return{webId:l,status:h.length+m.length>0?"confirmed":"request_sent"}})},[e,t,n.otherPerson]),[a,o]=GAe(e);return V.useMemo(()=>[i.concat(a),{isLoading:r},o],[r,i,o,a])},GAe=e=>{const{quads:t,variables:n,isLoading:r}=ga(V.useMemo(()=>({query:Wye,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const a=n.inviteNotification??[],o=sr.createLdoDataset(t).usingType(Uz);return a.map(s=>o.fromSubject(s)).filter(s=>{var l,c,d,h,m,y,v,_;return((c=(l=s.object)==null?void 0:l.subject)==null?void 0:c["@id"])===((d=s.actor)==null?void 0:d["@id"])&&((m=(h=s.object)==null?void 0:h.object)==null?void 0:m["@id"])===((y=s.target)==null?void 0:y["@id"])&&((_=(v=s.object)==null?void 0:v.relationship)==null?void 0:_["@id"])==="knows"}).map(s=>{var l;return{webId:(l=s.actor)==null?void 0:l["@id"],status:"request_received",notification:s["@id"],invitation:s.content2}})},[t,n.inviteNotification]);return V.useMemo(()=>[i,{isLoading:r}],[i,r])},WAe=()=>{const e=QV(),t=ZV(),n=QAe();return V.useCallback(async({me:r,other:i,hospexContainer:a,inbox:o,message:s})=>{await e({me:r,other:i}),await n({inbox:o,me:r,other:i,message:s}),await t({person:i,hospexContainer:a})},[e,n,t])},QAe=()=>{const e=Vo(Uz);return V.useCallback(async({inbox:t,me:n,other:r,message:i})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[e])},ZAe=()=>{const e=rb();return V.useCallback(async({notification:t})=>{await e.mutateAsync({uri:t})},[e])},JAe=()=>{const e=rb(),t=QV(),n=ZV();return V.useCallback(async({me:r,other:i,notification:a,hospexContainer:o})=>{await t({me:r,other:i}),await e.mutateAsync({uri:a}),await n({person:i,hospexContainer:o})},[t,e,n])},QV=()=>{const e=Xo();return V.useCallback(async({me:t,other:n})=>{await e.mutateAsync({uri:t,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${t}> foaf:knows <${n}>.
          } .`})},[e])},ZV=()=>{const e=Mve(Nf);return V.useCallback(async({person:t,hospexContainer:n})=>{const r=await tc(n);await e.mutateAsync({uri:r,match:i=>{const o=i.matchSubject(Lf.type,xn.Authorization).find(s=>{var l,c,d;return s.accessTo.length===1&&((l=s.accessTo[0])==null?void 0:l["@id"])===n&&((c=s.mode)==null?void 0:c.length)===1&&((d=s.mode[0])==null?void 0:d["@id"])===bs.Read});if(!o)throw new Error("subject not found");return o},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":t})}})},[e])},YAe="_contact_axrjx_1",XAe="_status_axrjx_10",eRe="_contactList_axrjx_14",um={contact:YAe,status:XAe,contactList:eRe},tRe=({webId:e})=>{const t=di(),[n]=WV(t.webId);if(!n)return H.jsx(bo,{children:H.jsx(wt,{id:"Z3FXyt"})});const r=n.find(i=>i.webId===e);return r?r.status===Qd.confirmed?H.jsx(wt,{id:"dJsK6G"}):r.status===Qd.requestSent?H.jsx(wt,{id:"uwiVz0"}):r.status===Qd.requestReceived?H.jsx(JV,{contact:r}):null:H.jsx(nRe,{webId:e})},JV=({contact:e,children:t})=>{const{i18n:n,_:r}=Jr(),{communityId:i}=kn(),[a,o]=V.useState(!1),s=di(),l=JAe(),c=ZAe(),d=Fm(s.webId,i),h=async()=>{const y=wi(d.personalHospexDocuments[0]);if(!y)throw new Error(n._({id:"NLJ18A"}));await l({me:s.webId,other:e.webId,notification:e.notification,hospexContainer:y}),o(!1)},m=async()=>{await c({notification:e.notification}),o(!1)};return H.jsxs(H.Fragment,{children:[H.jsx(pr,{primary:!0,onClick:()=>o(!0),children:t??H.jsx(wt,{id:"piu7ZA"})}),H.jsxs(_b,{isOpen:a,onRequestClose:()=>o(!1),children:[H.jsx("div",{children:e.invitation}),H.jsx(pr,{primary:!0,onClick:h,disabled:d.personalHospexDocuments.length===0,children:H.jsx(wt,{id:"g3UF2V"})}),H.jsx(pr,{secondary:!0,onClick:m,children:H.jsx(wt,{id:"gbbkE7"})})]})]})},nRe=({webId:e})=>{const{i18n:t,_:n}=Jr(),{communityId:r}=kn(),[i,a]=V.useState(!1),o=di(),s=WAe(),l=Fm(o.webId,r),c=Fm(e,r),d=async({invitation:m})=>{const y=wi(l.personalHospexDocuments[0]);if(!y)throw new Error(t._({id:"NLJ18A"}));const v=wi(c.inboxes[0]);if(!v)throw new Error(t._({id:"sRGBFr"}));await s({me:o.webId,other:e,message:m,hospexContainer:y,inbox:v}),a(!1)},h=async()=>{a(!1)};return H.jsxs(H.Fragment,{children:[H.jsx(pr,{secondary:!0,onClick:()=>{a(!0)},disabled:l.personalHospexDocuments.length===0||c.inboxes.length===0,children:H.jsx(wt,{id:"meH4FD"})}),H.jsx(_b,{isOpen:i,onRequestClose:()=>a(!1),children:H.jsx(rRe,{onSubmit:d,onCancel:h})})]})},rRe=({onSubmit:e,onCancel:t})=>{const{i18n:n,_:r}=Jr(),{register:i,handleSubmit:a}=ju({defaultValues:{invitation:n._({id:"8kXsjC"})}}),o=a(async s=>{await e(s)});return H.jsxs("div",{children:[H.jsx("h1",{children:H.jsx(wt,{id:"TFYtVq"})}),H.jsx("div",{children:H.jsx(wt,{id:"IYqOgL"})}),H.jsxs("form",{onSubmit:o,onReset:t,children:[H.jsx("textarea",{...i("invitation")}),H.jsx(pr,{primary:!0,type:"submit",children:H.jsx(wt,{id:"BajMQF"})}),H.jsx(pr,{secondary:!0,type:"reset",children:H.jsx(wt,{id:"dEgA5A"})})]})]})},iRe=()=>{const e=gP().id,t=di(),[n]=WV(e);return t.webId?n?H.jsxs("div",{children:[H.jsx("h1",{children:H.jsx(wt,{id:"/Rg4q2",components:{0:H.jsx(nL,{webId:e,link:!0})}})}),H.jsx("ul",{className:um.contactList,"data-cy":"contact-list",children:n.filter(r=>e===t.webId||r.status===Qd.confirmed).map(r=>H.jsx("li",{children:H.jsx(aRe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):H.jsx(bo,{children:H.jsx(wt,{id:"maeAdU"})}):H.jsx(bo,{children:H.jsx(wt,{id:"qPXQY8"})})},aRe=({contact:e})=>H.jsxs("div",{className:um.contact,"data-cy":"contact",children:[H.jsx(nL,{webId:e.webId,link:!0}),H.jsx("span",{className:um.spacer}),e.status===Qd.requestSent&&H.jsx("span",{className:um.status,children:H.jsx(wt,{id:"S48xcO"})}),e.status===Qd.requestReceived&&H.jsxs(H.Fragment,{children:[H.jsx(JV,{contact:e,children:H.jsx(wt,{id:"WO3k4H"})}),H.jsx("span",{className:um.status,children:H.jsx(wt,{id:"S48xcO"})})]})]}),xs=async(e,{success:t,error:n,pending:r},i)=>(xr.promise(e,{success:t,error:n??{render:({data:a})=>H.jsxs(H.Fragment,{children:[H.jsx(wt,{id:"kf83Ld"}),H.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await e);var rA,_5;function oRe(){if(_5)return rA;_5=1;var e=Jo(),t=function(){return e.Date.now()};return rA=t,rA}var iA,w5;function sRe(){if(w5)return iA;w5=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return iA=t,iA}var aA,b5;function uRe(){if(b5)return aA;b5=1;var e=sRe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return aA=n,aA}var oA,S5;function lRe(){if(S5)return oA;S5=1;var e=uRe(),t=So(),n=ly(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=a.test(c);return h||o.test(c)?s(c.slice(2),h?2:8):i.test(c)?r:+c}return oA=l,oA}var sA,x5;function cRe(){if(x5)return sA;x5=1;var e=So(),t=oRe(),n=lRe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var d,h,m,y,v,_,x=0,b=!1,S=!1,A=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(b=!!c.leading,S="maxWait"in c,m=S?i(n(c.maxWait)||0,l):m,A="trailing"in c?!!c.trailing:A);function P(te){var se=d,pe=h;return d=h=void 0,x=te,y=s.apply(pe,se),y}function O(te){return x=te,v=setTimeout(Q,l),b?P(te):y}function D(te){var se=te-_,pe=te-x,_e=l-se;return S?a(_e,m-pe):_e}function F(te){var se=te-_,pe=te-x;return _===void 0||se>=l||se<0||S&&pe>=m}function Q(){var te=t();if(F(te))return X(te);v=setTimeout(Q,D(te))}function X(te){return v=void 0,A&&d?P(te):(d=h=void 0,y)}function U(){v!==void 0&&clearTimeout(v),x=0,d=_=h=v=void 0}function Y(){return v===void 0?y:X(t())}function ce(){var te=t(),se=F(te);if(d=arguments,h=this,_=te,se){if(v===void 0)return O(_);if(S)return clearTimeout(v),v=setTimeout(Q,l),P(_)}return v===void 0&&(v=setTimeout(Q,l)),y}return ce.cancel=U,ce.flush=Y,ce}return sA=o,sA}var fRe=cRe();const dRe=Lr(fRe);function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function hRe(e,t){if(Cf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e){var t=hRe(e,"string");return Cf(t)==="symbol"?t:String(t)}function lm(e,t,n){return t=YV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(n),!0).forEach(function(r){lm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pRe(e){if(Array.isArray(e))return e}function gRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XV(e,t){if(e){if(typeof e=="string")return VR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(e,t)}}function mRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bu(e,t){return pRe(e)||gRe(e,t)||XV(e,t)||mRe()}function yRe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $u(e,t){if(e==null)return{};var n=yRe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var vRe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function _Re(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,a=e.defaultValue,o=a===void 0?null:a,s=e.inputValue,l=e.menuIsOpen,c=e.onChange,d=e.onInputChange,h=e.onMenuClose,m=e.onMenuOpen,y=e.value,v=$u(e,vRe),_=V.useState(s!==void 0?s:n),x=bu(_,2),b=x[0],S=x[1],A=V.useState(l!==void 0?l:i),P=bu(A,2),O=P[0],D=P[1],F=V.useState(y!==void 0?y:o),Q=bu(F,2),X=Q[0],U=Q[1],Y=V.useCallback(function(ue,Re){typeof c=="function"&&c(ue,Re),U(ue)},[c]),ce=V.useCallback(function(ue,Re){var k;typeof d=="function"&&(k=d(ue,Re)),S(k!==void 0?k:ue)},[d]),te=V.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),se=V.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),pe=s!==void 0?s:b,_e=l!==void 0?l:O,de=y!==void 0?y:X;return an(an({},v),{},{inputValue:pe,menuIsOpen:_e,onChange:Y,onInputChange:ce,onMenuClose:se,onMenuOpen:te,value:de})}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}function wRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YV(r.key),r)}}function bRe(e,t,n){return C5(e.prototype,t),C5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KR(e,t){return KR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KR(e,t)}function SRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KR(e,t)}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(e)}function xRe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ERe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CRe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(e)}function TRe(e){var t=xRe();return function(){var r=gw(e),i;if(t){var a=gw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return CRe(this,i)}}function ARe(e){if(Array.isArray(e))return VR(e)}function RRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rL(e){return ARe(e)||RRe(e)||XV(e)||PRe()}function ORe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function LRe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var IRe=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LRe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ORe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Hi="-ms-",mw="-moz-",Wn="-webkit-",eK="comm",iL="rule",aL="decl",MRe="@import",tK="@keyframes",DRe=Math.abs,wb=String.fromCharCode,kRe=Object.assign;function NRe(e,t){return ki(e,0)^45?(((t<<2^ki(e,0))<<2^ki(e,1))<<2^ki(e,2))<<2^ki(e,3):0}function nK(e){return e.trim()}function FRe(e,t){return(e=t.exec(e))?e[0]:e}function er(e,t,n){return e.replace(t,n)}function GR(e,t){return e.indexOf(t)}function ki(e,t){return e.charCodeAt(t)|0}function $m(e,t,n){return e.slice(t,n)}function ys(e){return e.length}function oL(e){return e.length}function m_(e,t){return t.push(e),e}function jRe(e,t){return e.map(t).join("")}var bb=1,Sh=1,rK=0,Ra=0,oi=0,Yh="";function Sb(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:bb,column:Sh,length:o,return:""}}function Kg(e,t){return kRe(Sb("",null,null,"",null,null,0),e,{length:-e.length},t)}function $Re(){return oi}function URe(){return oi=Ra>0?ki(Yh,--Ra):0,Sh--,oi===10&&(Sh=1,bb--),oi}function Qa(){return oi=Ra<rK?ki(Yh,Ra++):0,Sh++,oi===10&&(Sh=1,bb++),oi}function Cs(){return ki(Yh,Ra)}function R0(){return Ra}function wy(e,t){return $m(Yh,e,t)}function Um(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iK(e){return bb=Sh=1,rK=ys(Yh=e),Ra=0,[]}function aK(e){return Yh="",e}function P0(e){return nK(wy(Ra-1,WR(e===91?e+2:e===40?e+1:e)))}function BRe(e){for(;(oi=Cs())&&oi<33;)Qa();return Um(e)>2||Um(oi)>3?"":" "}function qRe(e,t){for(;--t&&Qa()&&!(oi<48||oi>102||oi>57&&oi<65||oi>70&&oi<97););return wy(e,R0()+(t<6&&Cs()==32&&Qa()==32))}function WR(e){for(;Qa();)switch(oi){case e:return Ra;case 34:case 39:e!==34&&e!==39&&WR(oi);break;case 40:e===41&&WR(e);break;case 92:Qa();break}return Ra}function zRe(e,t){for(;Qa()&&e+oi!==57;)if(e+oi===84&&Cs()===47)break;return"/*"+wy(t,Ra-1)+"*"+wb(e===47?e:Qa())}function HRe(e){for(;!Um(Cs());)Qa();return wy(e,Ra)}function VRe(e){return aK(O0("",null,null,null,[""],e=iK(e),0,[0],e))}function O0(e,t,n,r,i,a,o,s,l){for(var c=0,d=0,h=o,m=0,y=0,v=0,_=1,x=1,b=1,S=0,A="",P=i,O=a,D=r,F=A;x;)switch(v=S,S=Qa()){case 40:if(v!=108&&ki(F,h-1)==58){GR(F+=er(P0(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=P0(S);break;case 9:case 10:case 13:case 32:F+=BRe(v);break;case 92:F+=qRe(R0()-1,7);continue;case 47:switch(Cs()){case 42:case 47:m_(KRe(zRe(Qa(),R0()),t,n),l);break;default:F+="/"}break;case 123*_:s[c++]=ys(F)*b;case 125*_:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+d:y>0&&ys(F)-h&&m_(y>32?A5(F+";",r,n,h-1):A5(er(F," ","")+";",r,n,h-2),l);break;case 59:F+=";";default:if(m_(D=T5(F,t,n,c,d,i,s,A,P=[],O=[],h),a),S===123)if(d===0)O0(F,t,D,D,P,a,h,s,O);else switch(m===99&&ki(F,3)===110?100:m){case 100:case 109:case 115:O0(e,D,D,r&&m_(T5(e,D,D,0,0,i,s,A,i,P=[],h),O),i,O,h,s,r?P:O);break;default:O0(F,D,D,D,[""],O,0,s,O)}}c=d=y=0,_=b=1,A=F="",h=o;break;case 58:h=1+ys(F),y=v;default:if(_<1){if(S==123)--_;else if(S==125&&_++==0&&URe()==125)continue}switch(F+=wb(S),S*_){case 38:b=d>0?1:(F+="\f",-1);break;case 44:s[c++]=(ys(F)-1)*b,b=1;break;case 64:Cs()===45&&(F+=P0(Qa())),m=Cs(),d=h=ys(A=F+=HRe(R0())),S++;break;case 45:v===45&&ys(F)==2&&(_=0)}}return a}function T5(e,t,n,r,i,a,o,s,l,c,d){for(var h=i-1,m=i===0?a:[""],y=oL(m),v=0,_=0,x=0;v<r;++v)for(var b=0,S=$m(e,h+1,h=DRe(_=o[v])),A=e;b<y;++b)(A=nK(_>0?m[b]+" "+S:er(S,/&\f/g,m[b])))&&(l[x++]=A);return Sb(e,t,n,i===0?iL:s,l,c,d)}function KRe(e,t,n){return Sb(e,t,n,eK,wb($Re()),$m(e,2,-2),0)}function A5(e,t,n,r){return Sb(e,t,n,aL,$m(e,0,r),$m(e,r+1,-1),r)}function Zd(e,t){for(var n="",r=oL(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function GRe(e,t,n,r){switch(e.type){case MRe:case aL:return e.return=e.return||e.value;case eK:return"";case tK:return e.return=e.value+"{"+Zd(e.children,r)+"}";case iL:e.value=e.props.join(",")}return ys(n=Zd(e.children,r))?e.return=e.value+"{"+n+"}":""}function WRe(e){var t=oL(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function QRe(e){return function(t){t.root||(t=t.return)&&e(t)}}function ZRe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var JRe=function(t,n,r){for(var i=0,a=0;i=a,a=Cs(),i===38&&a===12&&(n[r]=1),!Um(a);)Qa();return wy(t,Ra)},YRe=function(t,n){var r=-1,i=44;do switch(Um(i)){case 0:i===38&&Cs()===12&&(n[r]=1),t[r]+=JRe(Ra-1,n,r);break;case 2:t[r]+=P0(i);break;case 4:if(i===44){t[++r]=Cs()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wb(i)}while(i=Qa());return t},XRe=function(t,n){return aK(YRe(iK(t),n))},R5=new WeakMap,ePe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!R5.get(r))&&!i){R5.set(t,!0);for(var a=[],o=XRe(n,a),s=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<s.length;d++,c++)t.props[c]=a[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},tPe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function oK(e,t){switch(NRe(e,t)){case 5103:return Wn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wn+e+mw+e+Hi+e+e;case 6828:case 4268:return Wn+e+Hi+e+e;case 6165:return Wn+e+Hi+"flex-"+e+e;case 5187:return Wn+e+er(e,/(\w+).+(:[^]+)/,Wn+"box-$1$2"+Hi+"flex-$1$2")+e;case 5443:return Wn+e+Hi+"flex-item-"+er(e,/flex-|-self/,"")+e;case 4675:return Wn+e+Hi+"flex-line-pack"+er(e,/align-content|flex-|-self/,"")+e;case 5548:return Wn+e+Hi+er(e,"shrink","negative")+e;case 5292:return Wn+e+Hi+er(e,"basis","preferred-size")+e;case 6060:return Wn+"box-"+er(e,"-grow","")+Wn+e+Hi+er(e,"grow","positive")+e;case 4554:return Wn+er(e,/([^-])(transform)/g,"$1"+Wn+"$2")+e;case 6187:return er(er(er(e,/(zoom-|grab)/,Wn+"$1"),/(image-set)/,Wn+"$1"),e,"")+e;case 5495:case 3959:return er(e,/(image-set\([^]*)/,Wn+"$1$`$1");case 4968:return er(er(e,/(.+:)(flex-)?(.*)/,Wn+"box-pack:$3"+Hi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wn+e+e;case 4095:case 3583:case 4068:case 2532:return er(e,/(.+)-inline(.+)/,Wn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ys(e)-1-t>6)switch(ki(e,t+1)){case 109:if(ki(e,t+4)!==45)break;case 102:return er(e,/(.+:)(.+)-([^]+)/,"$1"+Wn+"$2-$3$1"+mw+(ki(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~GR(e,"stretch")?oK(er(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ki(e,t+1)!==115)break;case 6444:switch(ki(e,ys(e)-3-(~GR(e,"!important")&&10))){case 107:return er(e,":",":"+Wn)+e;case 101:return er(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wn+(ki(e,14)===45?"inline-":"")+"box$3$1"+Wn+"$2$3$1"+Hi+"$2box$3")+e}break;case 5936:switch(ki(e,t+11)){case 114:return Wn+e+Hi+er(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wn+e+Hi+er(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wn+e+Hi+er(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wn+e+Hi+e+e}return e}var nPe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case aL:t.return=oK(t.value,t.length);break;case tK:return Zd([Kg(t,{value:er(t.value,"@","@"+Wn)})],i);case iL:if(t.length)return jRe(t.props,function(a){switch(FRe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zd([Kg(t,{props:[er(a,/:(read-\w+)/,":"+mw+"$1")]})],i);case"::placeholder":return Zd([Kg(t,{props:[er(a,/:(plac\w+)/,":"+Wn+"input-$1")]}),Kg(t,{props:[er(a,/:(plac\w+)/,":"+mw+"$1")]}),Kg(t,{props:[er(a,/:(plac\w+)/,Hi+"input-$1")]})],i)}return""})}},rPe=[nPe],iPe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var x=_.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||rPe,a={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var x=_.getAttribute("data-emotion").split(" "),b=1;b<x.length;b++)a[x[b]]=!0;s.push(_)});var l,c=[ePe,tPe];{var d,h=[GRe,QRe(function(_){d.insert(_)})],m=WRe(c.concat(i,h)),y=function(x){return Zd(VRe(x),m)};l=function(x,b,S,A){d=S,y(x?x+"{"+b.styles+"}":b.styles),A&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new IRe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return v.sheet.hydrate(s),v},uA={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P5;function aPe(){if(P5)return Xn;P5=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,x=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function A(O){if(typeof O=="object"&&O!==null){var D=O.$$typeof;switch(D){case t:switch(O=O.type,O){case l:case c:case r:case a:case i:case h:return O;default:switch(O=O&&O.$$typeof,O){case s:case d:case v:case y:case o:return O;default:return D}}case n:return D}}}function P(O){return A(O)===c}return Xn.AsyncMode=l,Xn.ConcurrentMode=c,Xn.ContextConsumer=s,Xn.ContextProvider=o,Xn.Element=t,Xn.ForwardRef=d,Xn.Fragment=r,Xn.Lazy=v,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=h,Xn.isAsyncMode=function(O){return P(O)||A(O)===l},Xn.isConcurrentMode=P,Xn.isContextConsumer=function(O){return A(O)===s},Xn.isContextProvider=function(O){return A(O)===o},Xn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===t},Xn.isForwardRef=function(O){return A(O)===d},Xn.isFragment=function(O){return A(O)===r},Xn.isLazy=function(O){return A(O)===v},Xn.isMemo=function(O){return A(O)===y},Xn.isPortal=function(O){return A(O)===n},Xn.isProfiler=function(O){return A(O)===a},Xn.isStrictMode=function(O){return A(O)===i},Xn.isSuspense=function(O){return A(O)===h},Xn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===c||O===a||O===i||O===h||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===v||O.$$typeof===y||O.$$typeof===o||O.$$typeof===s||O.$$typeof===d||O.$$typeof===x||O.$$typeof===b||O.$$typeof===S||O.$$typeof===_)},Xn.typeOf=A,Xn}var O5;function oPe(){return O5||(O5=1,uA.exports=aPe()),uA.exports}var lA,L5;function sPe(){if(L5)return lA;L5=1;var e=oPe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=r,a[e.Memo]=i;function o(v){return e.isMemo(v)?i:a[v.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function y(v,_,x){if(typeof _!="string"){if(m){var b=h(_);b&&b!==m&&y(v,b,x)}var S=l(_);c&&(S=S.concat(c(_)));for(var A=o(v),P=o(_),O=0;O<S.length;++O){var D=S[O];if(!n[D]&&!(x&&x[D])&&!(P&&P[D])&&!(A&&A[D])){var F=d(_,D);try{s(v,D,F)}catch{}}}}return v}return lA=y,lA}sPe();var uPe=!0;function lPe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var sK=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||uPe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},cPe=function(t,n,r){sK(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function fPe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dPe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hPe=/[A-Z]|^ms/g,pPe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uK=function(t){return t.charCodeAt(1)===45},I5=function(t){return t!=null&&typeof t!="boolean"},cA=ZRe(function(e){return uK(e)?e:e.replace(hPe,"-$&").toLowerCase()}),M5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(pPe,function(r,i,a){return vs={name:i,styles:a,next:vs},i})}return dPe[t]!==1&&!uK(t)&&typeof n=="number"&&n!==0?n+"px":n};function Bm(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return vs={name:n.name,styles:n.styles,next:vs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)vs={name:r.name,styles:r.styles,next:vs},r=r.next;var i=n.styles+";";return i}return gPe(e,t,n)}case"function":{if(e!==void 0){var a=vs,o=n(e);return vs=a,Bm(e,t,o)}break}}return n}function gPe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Bm(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object")I5(o)&&(r+=cA(a)+":"+M5(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var s=0;s<o.length;s++)I5(o[s])&&(r+=cA(a)+":"+M5(a,o[s])+";");else{var l=Bm(e,t,o);switch(a){case"animation":case"animationName":{r+=cA(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var D5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,vs,lK=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";vs=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,a+=Bm(r,n,o)):a+=o[0];for(var s=1;s<t.length;s++)a+=Bm(r,n,t[s]),i&&(a+=o[s]);D5.lastIndex=0;for(var l="",c;(c=D5.exec(a))!==null;)l+="-"+c[1];var d=fPe(a)+l;return{name:d,styles:a,next:vs}},mPe=function(t){return t()},yPe=fh.useInsertionEffect?fh.useInsertionEffect:!1,vPe=yPe||mPe,sL={}.hasOwnProperty,cK=V.createContext(typeof HTMLElement<"u"?iPe({key:"css"}):null);cK.Provider;var _Pe=function(t){return V.forwardRef(function(n,r){var i=V.useContext(cK);return t(n,i,r)})},wPe=V.createContext({}),QR="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bPe=function(t,n){var r={};for(var i in n)sL.call(n,i)&&(r[i]=n[i]);return r[QR]=t,r},SPe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return sK(n,r,i),vPe(function(){return cPe(n,r,i)}),null},xPe=_Pe(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[QR],a=[r],o="";typeof e.className=="string"?o=lPe(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var s=lK(a,void 0,V.useContext(wPe));o+=t.key+"-"+s.name;var l={};for(var c in e)sL.call(e,c)&&c!=="css"&&c!==QR&&(l[c]=e[c]);return l.ref=n,l.className=o,V.createElement(V.Fragment,null,V.createElement(SPe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),V.createElement(i,l))}),nn=function(t,n){var r=arguments;if(n==null||!sL.call(n,"css"))return V.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=xPe,a[1]=bPe(t,n);for(var o=2;o<i;o++)a[o]=r[o];return V.createElement.apply(null,a)};function uL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lK(t)}var EPe=function(){var t=uL.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function CPe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function TPe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const APe=["top","right","bottom","left"];APe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function Su(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fK(e){return Su(e).getComputedStyle(e)}function dK(e){return e instanceof Su(e).Node}function hK(e){return dK(e)?(e.nodeName||"").toLowerCase():""}let y_;function RPe(){if(y_)return y_;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(y_=e.brands.map(t=>t.brand+"/"+t.version).join(" "),y_):navigator.userAgent}function lL(e){return e instanceof Su(e).HTMLElement}function L0(e){return e instanceof Su(e).Element}function k5(e){return typeof ShadowRoot>"u"?!1:e instanceof Su(e).ShadowRoot||e instanceof ShadowRoot}function pK(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=fK(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function PPe(){return/^((?!chrome|android).)*safari/i.test(RPe())}function OPe(e){return["html","body","#document"].includes(hK(e))}const yw=Math.round;function LPe(e){const t=fK(e);let n=parseFloat(t.width),r=parseFloat(t.height);const i=lL(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=yw(n)!==a||yw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function gK(e){return L0(e)?e:e.contextElement}const mK={x:1,y:1};function N5(e){const t=gK(e);if(!lL(t))return mK;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:a}=LPe(t);let o=(a?yw(n.width):n.width)/r,s=(a?yw(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}function F5(e,t,n,r){var i,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=gK(e);let l=mK;t&&(l=N5(e));const c=s?Su(s):window,d=PPe()&&n;let h=(o.left+(d&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,m=(o.top+(d&&((a=c.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=o.width/l.x,v=o.height/l.y;if(s){const _=Su(s),x=r;let b=_.frameElement;for(;b&&r&&x!==_;){const S=N5(b),A=b.getBoundingClientRect(),P=getComputedStyle(b);A.x+=(b.clientLeft+parseFloat(P.paddingLeft))*S.x,A.y+=(b.clientTop+parseFloat(P.paddingTop))*S.y,h*=S.x,m*=S.y,y*=S.x,v*=S.y,h+=A.x,m+=A.y,b=Su(b).frameElement}}return TPe({width:y,height:v,x:h,y:m})}function IPe(e){return((dK(e)?e.ownerDocument:e.document)||window.document).documentElement}function MPe(e){if(hK(e)==="html")return e;const t=e.assignedSlot||e.parentNode||k5(e)&&e.host||IPe(e);return k5(t)?t.host:t}function yK(e){const t=MPe(e);return OPe(t)?t.ownerDocument.body:lL(t)&&pK(t)?t:yK(t)}function I0(e,t){var n;t===void 0&&(t=[]);const r=yK(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Su(r);return i?t.concat(a,a.visualViewport||[],pK(r)?r:[]):t.concat(r,I0(r))}function DPe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:s=!1}=r,l=i&&!s,c=l||a?[...L0(e)?I0(e):e.contextElement?I0(e.contextElement):[],...I0(t)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let d,h=null;o&&(h=new ResizeObserver(()=>{n()}),L0(e)&&!s&&h.observe(e),L0(e)||!e.contextElement||s||h.observe(e.contextElement),h.observe(t));let m=s?F5(e):null;return s&&function y(){const v=F5(e);!m||v.x===m.x&&v.y===m.y&&v.width===m.width&&v.height===m.height||n(),m=v,d=requestAnimationFrame(y)}(),n(),()=>{var y;c.forEach(v=>{l&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(y=h)==null||y.disconnect(),h=null,s&&cancelAnimationFrame(d)}}var ZR=V.useLayoutEffect,kPe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],vw=function(){};function NPe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function FPe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(NPe(e,o)));return a.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var j5=function(t){return KPe(t)?t.filter(Boolean):Cf(t)==="object"&&t!==null?[t]:[]},vK=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=$u(t,kPe);return an({},n)},Hr=function(t,n,r){var i=t.cx,a=t.getStyles,o=t.getClassNames,s=t.className;return{css:a(n,t),className:i(r??{},o(n,t),s)}};function xb(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function jPe(e){return xb(e)?window.innerHeight:e.clientHeight}function _K(e){return xb(e)?window.pageYOffset:e.scrollTop}function _w(e,t){if(xb(e)){window.scrollTo(0,t);return}e.scrollTop=t}function $Pe(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function UPe(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function v_(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:vw,i=_K(e),a=t-i,o=10,s=0;function l(){s+=o;var c=UPe(s,i,a,n);_w(e,c),s<n?window.requestAnimationFrame(l):r(e)}l()}function $5(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?_w(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&_w(e,Math.max(t.offsetTop-i,0))}function BPe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function U5(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function qPe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var wK=!1,zPe={get passive(){return wK=!0}},__=typeof window<"u"?window:{};__.addEventListener&&__.removeEventListener&&(__.addEventListener("p",vw,zPe),__.removeEventListener("p",vw,!1));var HPe=wK;function VPe(e){return e!=null}function KPe(e){return Array.isArray(e)}function w_(e,t,n){return e?t:n}var GPe=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(t).filter(function(o){var s=bu(o,1),l=s[0];return!r.includes(l)});return a.reduce(function(o,s){var l=bu(s,2),c=l[0],d=l[1];return o[c]=d,o},{})},WPe=["children","innerProps"],QPe=["children","innerProps"];function ZPe(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=$Pe(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,m=n.getBoundingClientRect(),y=m.bottom,v=m.height,_=m.top,x=n.offsetParent.getBoundingClientRect(),b=x.top,S=o?window.innerHeight:jPe(l),A=_K(l),P=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),D=b-O,F=S-_,Q=D+A,X=h-A-_,U=y-S+A+P,Y=A+_-O,ce=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:t};if(X>=v&&!o)return a&&v_(l,U,ce),{placement:"bottom",maxHeight:t};if(!o&&X>=r||o&&F>=r){a&&v_(l,U,ce);var te=o?F-P:X-P;return{placement:"bottom",maxHeight:te}}if(i==="auto"||o){var se=t,pe=o?D:Q;return pe>=r&&(se=Math.min(pe-P-s,t)),{placement:"top",maxHeight:se}}if(i==="bottom")return a&&_w(l,U),{placement:"bottom",maxHeight:t};break;case"top":if(D>=v)return{placement:"top",maxHeight:t};if(Q>=v&&!o)return a&&v_(l,Y,ce),{placement:"top",maxHeight:t};if(!o&&Q>=r||o&&D>=r){var _e=t;return(!o&&Q>=r||o&&D>=r)&&(_e=o?D-O:Q-O),a&&v_(l,Y,ce),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function JPe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var bK=function(t){return t==="auto"?"bottom":t},YPe=function(t,n){var r,i=t.placement,a=t.theme,o=a.borderRadius,s=a.spacing,l=a.colors;return an((r={label:"menu"},lm(r,JPe(i),"100%"),lm(r,"position","absolute"),lm(r,"width","100%"),lm(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},SK=V.createContext(null),XPe=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=V.useContext(SK)||{},d=c.setPortalPlacement,h=V.useRef(null),m=V.useState(i),y=bu(m,2),v=y[0],_=y[1],x=V.useState(null),b=bu(x,2),S=b[0],A=b[1],P=l.spacing.controlHeight;return ZR(function(){var O=h.current;if(O){var D=o==="fixed",F=s&&!D,Q=ZPe({maxHeight:i,menuEl:O,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:D,controlHeight:P});_(Q.maxHeight),A(Q.placement),d==null||d(Q.placement)}},[i,a,o,s,r,d,P]),n({ref:h,placerProps:an(an({},t),{},{placement:S||bK(a),maxHeight:v})})},eOe=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return nn("div",sn({},Hr(t,"menu",{menu:!0}),{ref:r},i),n)},tOe=eOe,nOe=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return an({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},rOe=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,a=t.isMulti;return nn("div",sn({},Hr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},xK=function(t,n){var r=t.theme,i=r.spacing.baseUnit,a=r.colors;return an({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},iOe=xK,aOe=xK,oOe=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,a=$u(t,WPe);return nn("div",sn({},Hr(an(an({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},sOe=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,a=$u(t,QPe);return nn("div",sn({},Hr(an(an({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},uOe=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},lOe=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,a=t.innerProps,o=t.menuPlacement,s=t.menuPosition,l=V.useRef(null),c=V.useRef(null),d=V.useState(bK(o)),h=bu(d,2),m=h[0],y=h[1],v=V.useMemo(function(){return{setPortalPlacement:y}},[]),_=V.useState(null),x=bu(_,2),b=x[0],S=x[1],A=V.useCallback(function(){if(i){var F=BPe(i),Q=s==="fixed"?0:window.pageYOffset,X=F[m]+Q;(X!==(b==null?void 0:b.offset)||F.left!==(b==null?void 0:b.rect.left)||F.width!==(b==null?void 0:b.rect.width))&&S({offset:X,rect:F})}},[i,s,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);ZR(function(){A()},[A]);var P=V.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=DPe(i,l.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);ZR(function(){P()},[P]);var O=V.useCallback(function(F){l.current=F,P()},[P]);if(!n&&s!=="fixed"||!b)return null;var D=nn("div",sn({ref:O},Hr(an(an({},t),{},{offset:b.offset,position:s,rect:b.rect}),"menuPortal",{"menu-portal":!0}),a),r);return nn(SK.Provider,{value:v},n?Gl.createPortal(D,n):D)},cOe=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},fOe=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,a=t.isRtl;return nn("div",sn({},Hr(t,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},dOe=function(t,n){var r=t.theme.spacing,i=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return an({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},hOe=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,a=t.hasValue;return nn("div",sn({},Hr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},pOe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},gOe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Hr(t,"indicatorsContainer",{indicators:!0}),r),n)},B5,mOe=["size"],yOe=["innerProps","isRtl","size"],vOe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},EK=function(t){var n=t.size,r=$u(t,mOe);return nn("svg",sn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:vOe},r))},cL=function(t){return nn(EK,sn({size:20},t),nn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},CK=function(t){return nn(EK,sn({size:20},t),nn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TK=function(t,n){var r=t.isFocused,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return an({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},_Oe=TK,wOe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Hr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||nn(CK,null))},bOe=TK,SOe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Hr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||nn(cL,null))},xOe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return an({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},EOe=function(t){var n=t.innerProps;return nn("span",sn({},n,Hr(t,"indicatorSeparator",{"indicator-separator":!0})))},COe=EPe(B5||(B5=CPe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),TOe=function(t,n){var r=t.isFocused,i=t.size,a=t.theme,o=a.colors,s=a.spacing.baseUnit;return an({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2})},fA=function(t){var n=t.delay,r=t.offset;return nn("span",{css:uL({animation:"".concat(COe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},AOe=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,a=i===void 0?4:i,o=$u(t,yOe);return nn("div",sn({},Hr(an(an({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),nn(fA,{delay:0,offset:r}),nn(fA,{delay:160,offset:!0}),nn(fA,{delay:320,offset:!r}))},ROe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.theme,o=a.colors,s=a.borderRadius,l=a.spacing;return an({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},POe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.innerRef,o=t.innerProps,s=t.menuIsOpen;return nn("div",sn({ref:a},Hr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":r||void 0}),n)},OOe=POe,LOe=["data"],IOe=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},MOe=function(t){var n=t.children,r=t.cx,i=t.getStyles,a=t.getClassNames,o=t.Heading,s=t.headingProps,l=t.innerProps,c=t.label,d=t.theme,h=t.selectProps;return nn("div",sn({},Hr(t,"group",{group:!0}),l),nn(o,sn({},s,{selectProps:h,theme:d,getStyles:i,getClassNames:a,cx:r}),c),nn("div",null,n))},DOe=function(t,n){var r=t.theme,i=r.colors,a=r.spacing;return an({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},kOe=function(t){var n=vK(t);n.data;var r=$u(n,LOe);return nn("div",sn({},Hr(t,"groupHeading",{"group-heading":!0}),r))},NOe=MOe,FOe=["innerRef","isDisabled","isHidden","inputClassName"],jOe=function(t,n){var r=t.isDisabled,i=t.value,a=t.theme,o=a.spacing,s=a.colors;return an(an({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},$Oe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},AK={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$Oe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":an({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},AK)},UOe=function(t){return an({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},AK)},BOe=function(t){var n=t.cx,r=t.value,i=vK(t),a=i.innerRef,o=i.isDisabled,s=i.isHidden,l=i.inputClassName,c=$u(i,FOe);return nn("div",sn({},Hr(t,"input",{"input-container":!0}),{"data-value":r||""}),nn("input",sn({className:n({input:!0},l),ref:a,style:UOe(s),disabled:o},c)))},qOe=BOe,zOe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return an({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},HOe=function(t,n){var r=t.theme,i=r.borderRadius,a=r.colors,o=t.cropWithEllipsis;return an({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},VOe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors,s=t.isFocused;return an({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},RK=function(t){var n=t.children,r=t.innerProps;return nn("div",r,n)},KOe=RK,GOe=RK;function WOe(e){var t=e.children,n=e.innerProps;return nn("div",sn({role:"button"},n),t||nn(cL,{size:14}))}var QOe=function(t){var n=t.children,r=t.components,i=t.data,a=t.innerProps,o=t.isDisabled,s=t.removeProps,l=t.selectProps,c=r.Container,d=r.Label,h=r.Remove;return nn(c,{data:i,innerProps:an(an({},Hr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},nn(d,{data:i,innerProps:an({},Hr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),nn(h,{data:i,innerProps:an(an({},Hr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},ZOe=QOe,JOe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.theme,s=o.spacing,l=o.colors;return an({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},YOe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.innerRef,s=t.innerProps;return nn("div",sn({},Hr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},s),n)},XOe=YOe,eLe=function(t,n){var r=t.theme,i=r.spacing,a=r.colors;return an({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},tLe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Hr(t,"placeholder",{placeholder:!0}),r),n)},nLe=tLe,rLe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing,o=i.colors;return an({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},iLe=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return nn("div",sn({},Hr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},aLe=iLe,oLe={ClearIndicator:SOe,Control:OOe,DropdownIndicator:wOe,DownChevron:CK,CrossIcon:cL,Group:NOe,GroupHeading:kOe,IndicatorsContainer:gOe,IndicatorSeparator:EOe,Input:qOe,LoadingIndicator:AOe,Menu:tOe,MenuList:rOe,MenuPortal:lOe,LoadingMessage:sOe,NoOptionsMessage:oOe,MultiValue:ZOe,MultiValueContainer:KOe,MultiValueLabel:GOe,MultiValueRemove:WOe,Option:XOe,Placeholder:nLe,SelectContainer:fOe,SingleValue:aLe,ValueContainer:hOe},sLe=function(t){return an(an({},oLe),t.components)},q5=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function uLe(e,t){return!!(e===t||q5(e)&&q5(t))}function lLe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!uLe(e[n],t[n]))return!1;return!0}function cLe(e,t){t===void 0&&(t=lLe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var fLe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},dLe=function(t){return nn("span",sn({css:fLe},t))},z5=dLe,hLe={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,a=t.labels,o=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,a=t.label,o=a===void 0?"":a,s=t.selectValue,l=t.isDisabled,c=t.isSelected,d=t.isAppleDevice,h=function(_,x){return _&&_.length?"".concat(_.indexOf(x)+1," of ").concat(_.length):""};if(n==="value"&&s)return"value ".concat(o," focused, ").concat(h(s,r),".");if(n==="menu"&&d){var m=l?" disabled":"",y="".concat(c?" selected":"").concat(m);return"".concat(o).concat(y,", ").concat(h(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},pLe=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,a=t.focusableOptions,o=t.isFocused,s=t.selectValue,l=t.selectProps,c=t.id,d=t.isAppleDevice,h=l.ariaLiveMessages,m=l.getOptionLabel,y=l.inputValue,v=l.isMulti,_=l.isOptionDisabled,x=l.isSearchable,b=l.menuIsOpen,S=l.options,A=l.screenReaderStatus,P=l.tabSelectsValue,O=l.isLoading,D=l["aria-label"],F=l["aria-live"],Q=V.useMemo(function(){return an(an({},hLe),h||{})},[h]),X=V.useMemo(function(){var pe="";if(n&&Q.onChange){var _e=n.option,de=n.options,ue=n.removedValue,Re=n.removedValues,k=n.value,ie=function(Pe){return Array.isArray(Pe)?null:Pe},me=ue||_e||ie(k),K=me?m(me):"",ee=de||Re||void 0,ge=ee?ee.map(m):[],Ae=an({isDisabled:me&&_(me,s),label:K,labels:ge},n);pe=Q.onChange(Ae)}return pe},[n,Q,_,s,m]),U=V.useMemo(function(){var pe="",_e=r||i,de=!!(r&&s&&s.includes(r));if(_e&&Q.onFocus){var ue={focused:_e,label:m(_e),isDisabled:_(_e,s),isSelected:de,options:a,context:_e===r?"menu":"value",selectValue:s,isAppleDevice:d};pe=Q.onFocus(ue)}return pe},[r,i,m,_,Q,a,s,d]),Y=V.useMemo(function(){var pe="";if(b&&S.length&&!O&&Q.onFilter){var _e=A({count:a.length});pe=Q.onFilter({inputValue:y,resultsMessage:_e})}return pe},[a,y,b,Q,S,A,O]),ce=(n==null?void 0:n.action)==="initial-input-focus",te=V.useMemo(function(){var pe="";if(Q.guidance){var _e=i?"value":b?"menu":"input";pe=Q.guidance({"aria-label":D,context:_e,isDisabled:r&&_(r,s),isMulti:v,isSearchable:x,tabSelectsValue:P,isInitialFocus:ce})}return pe},[D,r,i,v,_,x,b,Q,s,P,ce]),se=nn(V.Fragment,null,nn("span",{id:"aria-selection"},X),nn("span",{id:"aria-focused"},U),nn("span",{id:"aria-results"},Y),nn("span",{id:"aria-guidance"},te));return nn(V.Fragment,null,nn(z5,{id:c},ce&&se),nn(z5,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!ce&&se))},gLe=pLe,JR=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],mLe=new RegExp("["+JR.map(function(e){return e.letters}).join("")+"]","g"),PK={};for(var dA=0;dA<JR.length;dA++)for(var hA=JR[dA],pA=0;pA<hA.letters.length;pA++)PK[hA.letters[pA]]=hA.base;var OK=function(t){return t.replace(mLe,function(n){return PK[n]})},yLe=cLe(OK),H5=function(t){return t.replace(/^\s+|\s+$/g,"")},vLe=function(t){return"".concat(t.label," ").concat(t.value)},_Le=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=an({ignoreCase:!0,ignoreAccents:!0,stringify:vLe,trim:!0,matchFrom:"any"},t),a=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,l=i.trim,c=i.matchFrom,d=l?H5(r):r,h=l?H5(s(n)):s(n);return a&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=yLe(d),h=OK(h)),c==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},wLe=["innerRef"];function bLe(e){var t=e.innerRef,n=$u(e,wLe),r=GPe(n,"onExited","in","enter","exit","appear");return nn("input",sn({ref:t},r,{css:uL({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var SLe=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function xLe(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=V.useRef(!1),s=V.useRef(!1),l=V.useRef(0),c=V.useRef(null),d=V.useCallback(function(x,b){if(c.current!==null){var S=c.current,A=S.scrollTop,P=S.scrollHeight,O=S.clientHeight,D=c.current,F=b>0,Q=P-O-A,X=!1;Q>b&&o.current&&(r&&r(x),o.current=!1),F&&s.current&&(a&&a(x),s.current=!1),F&&b>Q?(n&&!o.current&&n(x),D.scrollTop=P,X=!0,o.current=!0):!F&&-b>A&&(i&&!s.current&&i(x),D.scrollTop=0,X=!0,s.current=!0),X&&SLe(x)}},[n,r,i,a]),h=V.useCallback(function(x){d(x,x.deltaY)},[d]),m=V.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),y=V.useCallback(function(x){var b=l.current-x.changedTouches[0].clientY;d(x,b)},[d]),v=V.useCallback(function(x){if(x){var b=HPe?{passive:!1}:!1;x.addEventListener("wheel",h,b),x.addEventListener("touchstart",m,b),x.addEventListener("touchmove",y,b)}},[y,m,h]),_=V.useCallback(function(x){x&&(x.removeEventListener("wheel",h,!1),x.removeEventListener("touchstart",m,!1),x.removeEventListener("touchmove",y,!1))},[y,m,h]);return V.useEffect(function(){if(t){var x=c.current;return v(x),function(){_(x)}}},[t,v,_]),function(x){c.current=x}}var V5=["boxSizing","height","overflow","paddingRight","position"],K5={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function G5(e){e.cancelable&&e.preventDefault()}function W5(e){e.stopPropagation()}function Q5(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Z5(){return"ontouchstart"in window||navigator.maxTouchPoints}var J5=!!(typeof window<"u"&&window.document&&window.document.createElement),Gg=0,Od={capture:!1,passive:!1};function ELe(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=V.useRef({}),a=V.useRef(null),o=V.useCallback(function(l){if(J5){var c=document.body,d=c&&c.style;if(r&&V5.forEach(function(v){var _=d&&d[v];i.current[v]=_}),r&&Gg<1){var h=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+h||0;Object.keys(K5).forEach(function(v){var _=K5[v];d&&(d[v]=_)}),d&&(d.paddingRight="".concat(y,"px"))}c&&Z5()&&(c.addEventListener("touchmove",G5,Od),l&&(l.addEventListener("touchstart",Q5,Od),l.addEventListener("touchmove",W5,Od))),Gg+=1}},[r]),s=V.useCallback(function(l){if(J5){var c=document.body,d=c&&c.style;Gg=Math.max(Gg-1,0),r&&Gg<1&&V5.forEach(function(h){var m=i.current[h];d&&(d[h]=m)}),c&&Z5()&&(c.removeEventListener("touchmove",G5,Od),l&&(l.removeEventListener("touchstart",Q5,Od),l.removeEventListener("touchmove",W5,Od)))}},[r]);return V.useEffect(function(){if(t){var l=a.current;return o(l),function(){s(l)}}},[t,o,s]),function(l){a.current=l}}var CLe=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},TLe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ALe(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,a=e.onBottomArrive,o=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,c=xLe({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:s,onTopLeave:l}),d=ELe({isEnabled:n}),h=function(y){c(y),d(y)};return nn(V.Fragment,null,n&&nn("div",{onClick:CLe,css:TLe}),t(h))}var RLe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},PLe=function(t){var n=t.name,r=t.onFocus;return nn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:RLe,value:"",onChange:function(){}})},OLe=PLe;function fL(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function LLe(){return fL(/^iPhone/i)}function LK(){return fL(/^Mac/i)}function ILe(){return fL(/^iPad/i)||LK()&&navigator.maxTouchPoints>1}function MLe(){return LLe()||ILe()}function DLe(){return LK()||MLe()}var kLe=function(t){return t.label},NLe=function(t){return t.label},FLe=function(t){return t.value},jLe=function(t){return!!t.isDisabled},$Le={clearIndicator:bOe,container:cOe,control:ROe,dropdownIndicator:_Oe,group:IOe,groupHeading:DOe,indicatorsContainer:pOe,indicatorSeparator:xOe,input:jOe,loadingIndicator:TOe,loadingMessage:aOe,menu:YPe,menuList:nOe,menuPortal:uOe,multiValue:zOe,multiValueLabel:HOe,multiValueRemove:VOe,noOptionsMessage:iOe,option:JOe,placeholder:eLe,singleValue:rLe,valueContainer:dOe},ULe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},BLe=4,IK=4,qLe=38,zLe=IK*2,HLe={baseUnit:IK,controlHeight:qLe,menuGutter:zLe},gA={borderRadius:BLe,colors:ULe,spacing:HLe},VLe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:U5(),captureMenuScroll:!U5(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:_Le(),formatGroupLabel:kLe,getOptionLabel:NLe,getOptionValue:FLe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:jLe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!qPe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Y5(e,t,n,r){var i=kK(e,t,n),a=NK(e,t,n),o=DK(e,t),s=ww(e,t);return{type:"option",data:t,isDisabled:i,isSelected:a,label:o,value:s,index:r}}function M0(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,s){return Y5(e,o,t,s)}).filter(function(o){return e8(e,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=Y5(e,n,t,r);return e8(e,a)?a:void 0}).filter(VPe)}function MK(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,rL(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function X5(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,rL(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function KLe(e,t){return MK(M0(e,t))}function e8(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!jK(e)||!a)&&FK(e,{label:o,value:s,data:i},r)}function GLe(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var a=t.indexOf(n);if(a>-1)return n;if(i<t.length)return t[i]}return null}function WLe(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var mA=function(t,n){var r,i=(r=t.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},DK=function(t,n){return t.getOptionLabel(n)},ww=function(t,n){return t.getOptionValue(n)};function kK(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function NK(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=ww(e,t);return n.some(function(i){return ww(e,i)===r})}function FK(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var jK=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},QLe=1,$K=function(e){SRe(n,e);var t=TRe(n);function n(r){var i;if(wRe(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=DLe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var d=i.props,h=d.onChange,m=d.name;c.name=m,i.ariaOnChange(l,c),h(l,c)},i.setValue=function(l,c,d){var h=i.props,m=h.closeMenuOnSelect,y=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:d})},i.selectOption=function(l){var c=i.props,d=c.blurInputOnSelect,h=c.isMulti,m=c.name,y=i.state.selectValue,v=h&&i.isOptionSelected(l,y),_=i.isOptionDisabled(l,y);if(v){var x=i.getOptionValue(l);i.setValue(y.filter(function(b){return i.getOptionValue(b)!==x}),"deselect-option",l)}else if(!_)h?i.setValue([].concat(rL(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}d&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),m=d.filter(function(v){return i.getOptionValue(v)!==h}),y=w_(c,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(w_(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,d=c[c.length-1],h=c.slice(0,c.length-1),m=w_(l,h,h[0]||null);d&&i.onChange(m,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return mA(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return X5(M0(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return FPe.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return DK(i.props,l)},i.getOptionValue=function(l){return ww(i.props,l)},i.getStyles=function(l,c){var d=i.props.unstyled,h=$Le[l](c,d);h.boxSizing="border-box";var m=i.props.styles[l];return m?m(h,c):h},i.getClassNames=function(l,c){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return sLe(i.props)},i.buildCategorizedOptions=function(){return M0(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return MK(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:an({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,d=c.isMulti,h=c.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&xb(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,d=c&&c.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,d=c&&c.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),m=Math.abs(d.clientY-i.initialTouchY),y=5;i.userIsDragging=h>y||m>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),d=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return jK(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,d=c.isMulti,h=c.backspaceRemovesValue,m=c.escapeClearsValue,y=c.inputValue,v=c.isClearable,_=c.isDisabled,x=c.menuIsOpen,b=c.onKeyDown,S=c.tabSelectsValue,A=c.openMenuOnFocus,P=i.state,O=P.focusedOption,D=P.focusedValue,F=P.selectValue;if(!_&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||y)return;i.focusValue("previous");break;case"ArrowRight":if(!d||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!h)return;d?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!x||!S||!O||A&&i.isOptionSelected(O,F))return;i.selectOption(O);break;case"Enter":if(l.keyCode===229)break;if(x){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":x?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):v&&m&&i.clearValue();break;case" ":if(y)return;if(!x){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":x?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":x?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!x)return;i.focusOption("pageup");break;case"PageDown":if(!x)return;i.focusOption("pagedown");break;case"Home":if(!x)return;i.focusOption("first");break;case"End":if(!x)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++QLe),i.state.selectValue=j5(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[s],i.state.focusedOptionId=mA(a,o[s])}return i}return bRe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&$5(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,s=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&($5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,s=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),d=i==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(s[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d],focusedOptionId:this.getFocusedOptionId(c[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,s=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(s);s||(l=-1);var c=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=c:d=l-1;break;case"next":l>-1&&l<c&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,c=s.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:s.length-1:i==="down"?l=(c+1)%s.length:i==="pageup"?(l=c-a,l<0&&(l=0)):i==="pagedown"?(l=c+a,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(gA):an(an({},gA),this.props.theme):gA}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,s=this.getClassNames,l=this.getValue,c=this.selectOption,d=this.setValue,h=this.props,m=h.isMulti,y=h.isRtl,v=h.options,_=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:s,getValue:l,hasValue:_,isMulti:m,isRtl:y,options:v,selectOption:c,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return kK(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return NK(this.props,i,a)}},{key:"filterOption",value:function(i,a){return FK(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,s=i.inputId,l=i.inputValue,c=i.tabIndex,d=i.form,h=i.menuIsOpen,m=i.required,y=this.getComponents(),v=y.Input,_=this.state,x=_.inputIsHidden,b=_.ariaSelection,S=this.commonProps,A=s||this.getElementId("input"),P=an(an(an({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?V.createElement(v,sn({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:l},P)):V.createElement(bLe,sn({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:vw,onFocus:this.onInputFocus,disabled:a,tabIndex:c,inputMode:"none",form:d,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,s=a.MultiValueContainer,l=a.MultiValueLabel,c=a.MultiValueRemove,d=a.SingleValue,h=a.Placeholder,m=this.commonProps,y=this.props,v=y.controlShouldRenderValue,_=y.isDisabled,x=y.isMulti,b=y.inputValue,S=y.placeholder,A=this.state,P=A.selectValue,O=A.focusedValue,D=A.isFocused;if(!this.hasValue()||!v)return b?null:V.createElement(h,sn({},m,{key:"placeholder",isDisabled:_,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),S);if(x)return P.map(function(Q,X){var U=Q===O,Y="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return V.createElement(o,sn({},m,{components:{Container:s,Label:l,Remove:c},isFocused:U,isDisabled:_,key:Y,index:X,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(te){te.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(b)return null;var F=P[0];return V.createElement(d,sn({},m,{data:F,isDisabled:_}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!a||!c)return null;var h={"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var s=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return V.createElement(o,sn({},s,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:c,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,s=a.GroupHeading,l=a.Menu,c=a.MenuList,d=a.MenuPortal,h=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,v=this.commonProps,_=this.state.focusedOption,x=this.props,b=x.captureMenuScroll,S=x.inputValue,A=x.isLoading,P=x.loadingMessage,O=x.minMenuHeight,D=x.maxMenuHeight,F=x.menuIsOpen,Q=x.menuPlacement,X=x.menuPosition,U=x.menuPortalTarget,Y=x.menuShouldBlockScroll,ce=x.menuShouldScrollIntoView,te=x.noOptionsMessage,se=x.onMenuScrollToTop,pe=x.onMenuScrollToBottom;if(!F)return null;var _e=function(K,ee){var ge=K.type,Ae=K.data,Ze=K.isDisabled,Pe=K.isSelected,Ne=K.label,Ye=K.value,oe=_===Ae,z=Ze?void 0:function(){return i.onOptionHover(Ae)},$=Ze?void 0:function(){return i.selectOption(Ae)},ae="".concat(i.getElementId("option"),"-").concat(ee),Z={id:ae,onClick:$,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Pe};return V.createElement(y,sn({},v,{innerProps:Z,data:Ae,isDisabled:Ze,isSelected:Pe,key:ae,label:Ne,type:ge,value:Ye,isFocused:oe,innerRef:oe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(K.data,"menu"))},de;if(this.hasOptions())de=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var K=me.data,ee=me.options,ge=me.index,Ae="".concat(i.getElementId("group"),"-").concat(ge),Ze="".concat(Ae,"-heading");return V.createElement(o,sn({},v,{key:Ae,data:K,options:ee,Heading:s,headingProps:{id:Ze,data:me.data},label:i.formatGroupLabel(me.data)}),me.options.map(function(Pe){return _e(Pe,"".concat(ge,"-").concat(Pe.index))}))}else if(me.type==="option")return _e(me,"".concat(me.index))});else if(A){var ue=P({inputValue:S});if(ue===null)return null;de=V.createElement(h,v,ue)}else{var Re=te({inputValue:S});if(Re===null)return null;de=V.createElement(m,v,Re)}var k={minMenuHeight:O,maxMenuHeight:D,menuPlacement:Q,menuPosition:X,menuShouldScrollIntoView:ce},ie=V.createElement(XPe,sn({},v,k),function(me){var K=me.ref,ee=me.placerProps,ge=ee.placement,Ae=ee.maxHeight;return V.createElement(l,sn({},v,k,{innerRef:K,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:ge}),V.createElement(ALe,{captureEnabled:b,onTopArrive:se,onBottomArrive:pe,lockEnabled:Y},function(Ze){return V.createElement(c,sn({},v,{innerRef:function(Ne){i.getMenuListRef(Ne),Ze(Ne)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:Ae,focusedOption:_}),de)}))});return U||X==="fixed"?V.createElement(d,sn({},v,{appendTo:U,controlElement:this.controlRef,menuPlacement:Q,menuPosition:X}),ie):ie}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,s=a.isDisabled,l=a.isMulti,c=a.name,d=a.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!s)return V.createElement(OLe,{name:c,onFocus:this.onValueInputFocus});if(!(!c||s))if(l)if(o){var m=h.map(function(_){return i.getOptionValue(_)}).join(o);return V.createElement("input",{name:c,type:"hidden",value:m})}else{var y=h.length>0?h.map(function(_,x){return V.createElement("input",{key:"i-".concat(x),name:c,type:"hidden",value:i.getOptionValue(_)})}):V.createElement("input",{name:c,type:"hidden",value:""});return V.createElement("div",null,y)}else{var v=h[0]?this.getOptionValue(h[0]):"";return V.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,s=a.focusedOption,l=a.focusedValue,c=a.isFocused,d=a.selectValue,h=this.getFocusableOptions();return V.createElement(gLe,sn({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:s,focusedValue:l,isFocused:c,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,c=this.props,d=c.className,h=c.id,m=c.isDisabled,y=c.menuIsOpen,v=this.state.isFocused,_=this.commonProps=this.getCommonProps();return V.createElement(s,sn({},_,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:v}),this.renderLiveRegion(),V.createElement(a,sn({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:v,menuIsOpen:y}),V.createElement(l,sn({},_,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(o,sn({},_,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,s=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,c=a.ariaSelection,d=a.isFocused,h=a.prevWasFocused,m=a.instancePrefix,y=i.options,v=i.value,_=i.menuIsOpen,x=i.inputValue,b=i.isMulti,S=j5(v),A={};if(o&&(v!==o.value||y!==o.options||_!==o.menuIsOpen||x!==o.inputValue)){var P=_?KLe(i,S):[],O=_?X5(M0(i,S),"".concat(m,"-option")):[],D=s?GLe(a,S):null,F=WLe(a,P),Q=mA(O,F);A={selectValue:S,focusedOption:F,focusedOptionId:Q,focusableOptionsWithIds:O,focusedValue:D,clearFocusValueOnUpdate:!1}}var X=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},U=c,Y=d&&h;return d&&!Y&&(U={value:w_(b,S,S[0]||null),options:S,action:"initial-input-focus"},Y=!h),(c==null?void 0:c.action)==="initial-input-focus"&&(U=null),an(an(an({},A),X),{},{prevProps:i,ariaSelection:U,prevWasFocused:Y})}}]),n}(V.Component);$K.defaultProps=VLe;var ZLe=V.forwardRef(function(e,t){var n=_Re(e);return V.createElement($K,sn({ref:t},n))}),JLe=ZLe;const YLe=({webId:e})=>{const{i18n:t,_:n}=Jr(),r=bi(Pf),{communityId:i}=kn(),[,a,,o]=Ko(e,i),[s,l]=V.useState(""),{data:c,...d}=G_e(s,r),h=Fve(),m=Nve(),y=async({id:b,document:S})=>{await xs(h({interest:b,document:S,person:e}),{pending:t._({id:"S8rY67"}),success:t._({id:"6dc9lc"})})},v=V.useMemo(()=>dRe(l,500),[]),_=V.useCallback(b=>v(b),[v]),x=async b=>{if(b){const S=b.label;await xs(m({interest:b.uri,person:e,document:e}),{pending:t._({id:"Y8WO6Z",values:{label:S}}),success:t._({id:"jx1+4B",values:{label:S}})})}};return a||a===void 0?H.jsx(bo,{children:H.jsx(wt,{id:"O75yBm"})}):H.jsxs("div",{children:[H.jsx("ul",{className:gu.list,"data-cy":"interests-list-edit",children:o.map(({id:b,document:S})=>H.jsx("li",{children:H.jsx(f7,{uri:b,onRemove:()=>y({id:b,document:S}),locale:r,"data-cy":"edit-interest"})},b+S))}),H.jsx(JLe,{options:c,filterOption:()=>!0,formatOptionLabel:b=>H.jsxs("div",{title:b.description,children:[b.label,b.aliases.length>0&&` (${b.aliases.join(", ")})`,H.jsx("br",{}),b.description]}),isLoading:d.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:_,onChange:x,className:Or(gu.select,"cy-select-interests"),classNames:{control:()=>gu.control,input:()=>gu.input,menu:()=>gu.menu,indicatorSeparator:()=>gu.separator,option:({isFocused:b})=>Or(gu.option,b&&gu.focused)}})]})},XLe="_container_6bk5k_1",eIe="_uploadButton_6bk5k_17",UK={container:XLe,uploadButton:eIe},tIe=()=>{const{communityId:e}=kn(),t=di(),n=Rh(),{i18n:r,_:i}=Jr(),[,,a,,o]=Ko(t.webId,e),s=kve(),l=zpe(),c=qpe(),d=async h=>{var _;if(!a)throw new Error(r._({id:"vVEMd1"}));const m=(_=h.photo)==null?void 0:_[0];let y;const v=o==null?void 0:o.photo;m&&(y=await c.mutateAsync({uri:wi(a),data:m})),await s({hospexDocument:a,personId:t.webId,data:{...h,photo:y},language:"en"}),m&&v&&await l.mutateAsync({uri:v}),n("..")};return o?H.jsxs("div",{className:UK.container,children:[H.jsx(nIe,{initialData:o,onSubmit:h=>xs(d(h),{pending:r._({id:"ER/wp5"}),success:r._({id:"srPuxS"})})}),H.jsx("label",{children:H.jsx(wt,{id:"65VN7K"})}),H.jsx(YLe,{webId:t.webId})]}):H.jsx(bo,{children:H.jsx(wt,{id:"6Kt8NA"})})},nIe=({initialData:e,onSubmit:t})=>{const{i18n:n,_:r}=Jr(),{register:i,handleSubmit:a,watch:o,setValue:s}=ju({defaultValues:nV(e,"photo")});V.useEffect(()=>{typeof e.name=="string"&&s("name",e.name)},[e.name,s]),V.useEffect(()=>{typeof e.about=="string"&&s("about",e.about)},[e.about,s]);const{data:l}=WP(e.photo),c=a(async y=>{await t(y)}),[d,h]=V.useState();V.useEffect(()=>{const y=o(async(v,{name:_})=>{var x;if(_==="photo"){const b=(x=v.photo)==null?void 0:x[0];b&&h(await Dpe(b))}});return()=>y.unsubscribe()},[o]);const m=d||l;return H.jsxs("form",{onSubmit:c,children:[H.jsx("label",{htmlFor:"name",children:H.jsx(wt,{id:"6YtxFj"})}),H.jsx("input",{id:"name",type:"text",...i("name"),placeholder:n._({id:"6YtxFj"})}),H.jsx("label",{htmlFor:"photo",children:H.jsx(wt,{id:"qa9cy4"})}),H.jsxs("label",{tabIndex:0,htmlFor:"photo",className:UK.uploadButton,style:m?{backgroundImage:`url(${m})`}:void 0,children:[H.jsx(Jpe,{}),H.jsx("input",{id:"photo",type:"file",...i("photo"),accept:"image/*"})]}),H.jsx("label",{htmlFor:"about",children:H.jsx(wt,{id:"IJbwnu"})}),H.jsx("textarea",{id:"about",...i("about")}),H.jsx(pr,{primary:!0,children:H.jsx(wt,{id:"y3aU20"})})]})},rIe="_container_14k79_1",iIe={container:rIe},aIe=()=>{const e=di(),{data:t}=ib(e.webId),n=t.length;return H.jsxs("div",{className:iIe.container,children:[H.jsxs(mf,{to:"travel",secondary:!0,children:[H.jsx(nge,{size:24})," ",H.jsx(wt,{id:"jlqRFZ"})]}),H.jsxs(mf,{to:"host",secondary:!0,children:[H.jsx(d9,{size:24})," ",H.jsx(wt,{id:"tEB6c1"})]}),H.jsxs(mf,{to:"messages",secondary:!0,children:[H.jsx(oge,{size:24})," ",H.jsx(wt,{id:"gHFvtg"}),n?H.jsxs(H.Fragment,{children:[" ",H.jsx(wt,{id:"GbJuzd",values:{messageCount:n}})]}):null]})]})},oIe="_container_u0fgb_1",yA={container:oIe},BK=({tabs:e,children:t})=>H.jsxs("div",{className:yA.container,children:[t,H.jsx("nav",{className:yA.navigation,children:e.map(({link:n,label:r})=>H.jsx(JZ,{className:({isActive:i})=>i?yA.active:void 0,to:n,children:r},n))})]}),sIe=()=>H.jsx(BK,{tabs:[],children:H.jsx(Tw,{})}),uIe=()=>H.jsx(yP,{to:"offers",replace:!0});var D0={exports:{}},lIe=D0.exports,t8;function cIe(){return t8||(t8=1,function(e,t){(function(n,r){e.exports=r()})(lIe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",d="week",h="month",m="quarter",y="year",v="date",_="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var se=["th","st","nd","rd"],pe=te%100;return"["+te+(se[(pe-20)%10]||se[pe]||se[0])+"]"}},A=function(te,se,pe){var _e=String(te);return!_e||_e.length>=se?te:""+Array(se+1-_e.length).join(pe)+te},P={s:A,z:function(te){var se=-te.utcOffset(),pe=Math.abs(se),_e=Math.floor(pe/60),de=pe%60;return(se<=0?"+":"-")+A(_e,2,"0")+":"+A(de,2,"0")},m:function te(se,pe){if(se.date()<pe.date())return-te(pe,se);var _e=12*(pe.year()-se.year())+(pe.month()-se.month()),de=se.clone().add(_e,h),ue=pe-de<0,Re=se.clone().add(_e+(ue?-1:1),h);return+(-(_e+(pe-de)/(ue?de-Re:Re-de))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:h,y,w:d,d:c,D:v,h:l,m:s,s:o,ms:a,Q:m}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},O="en",D={};D[O]=S;var F=function(te){return te instanceof Y},Q=function te(se,pe,_e){var de;if(!se)return O;if(typeof se=="string"){var ue=se.toLowerCase();D[ue]&&(de=ue),pe&&(D[ue]=pe,de=ue);var Re=se.split("-");if(!de&&Re.length>1)return te(Re[0])}else{var k=se.name;D[k]=se,de=k}return!_e&&de&&(O=de),de||!_e&&O},X=function(te,se){if(F(te))return te.clone();var pe=typeof se=="object"?se:{};return pe.date=te,pe.args=arguments,new Y(pe)},U=P;U.l=Q,U.i=F,U.w=function(te,se){return X(te,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var Y=function(){function te(pe){this.$L=Q(pe.locale,null,!0),this.parse(pe)}var se=te.prototype;return se.parse=function(pe){this.$d=function(_e){var de=_e.date,ue=_e.utc;if(de===null)return new Date(NaN);if(U.u(de))return new Date;if(de instanceof Date)return new Date(de);if(typeof de=="string"&&!/Z$/i.test(de)){var Re=de.match(x);if(Re){var k=Re[2]-1||0,ie=(Re[7]||"0").substring(0,3);return ue?new Date(Date.UTC(Re[1],k,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,ie)):new Date(Re[1],k,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,ie)}}return new Date(de)}(pe),this.$x=pe.x||{},this.init()},se.init=function(){var pe=this.$d;this.$y=pe.getFullYear(),this.$M=pe.getMonth(),this.$D=pe.getDate(),this.$W=pe.getDay(),this.$H=pe.getHours(),this.$m=pe.getMinutes(),this.$s=pe.getSeconds(),this.$ms=pe.getMilliseconds()},se.$utils=function(){return U},se.isValid=function(){return this.$d.toString()!==_},se.isSame=function(pe,_e){var de=X(pe);return this.startOf(_e)<=de&&de<=this.endOf(_e)},se.isAfter=function(pe,_e){return X(pe)<this.startOf(_e)},se.isBefore=function(pe,_e){return this.endOf(_e)<X(pe)},se.$g=function(pe,_e,de){return U.u(pe)?this[_e]:this.set(de,pe)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(pe,_e){var de=this,ue=!!U.u(_e)||_e,Re=U.p(pe),k=function(Pe,Ne){var Ye=U.w(de.$u?Date.UTC(de.$y,Ne,Pe):new Date(de.$y,Ne,Pe),de);return ue?Ye:Ye.endOf(c)},ie=function(Pe,Ne){return U.w(de.toDate()[Pe].apply(de.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(Ne)),de)},me=this.$W,K=this.$M,ee=this.$D,ge="set"+(this.$u?"UTC":"");switch(Re){case y:return ue?k(1,0):k(31,11);case h:return ue?k(1,K):k(0,K+1);case d:var Ae=this.$locale().weekStart||0,Ze=(me<Ae?me+7:me)-Ae;return k(ue?ee-Ze:ee+(6-Ze),K);case c:case v:return ie(ge+"Hours",0);case l:return ie(ge+"Minutes",1);case s:return ie(ge+"Seconds",2);case o:return ie(ge+"Milliseconds",3);default:return this.clone()}},se.endOf=function(pe){return this.startOf(pe,!1)},se.$set=function(pe,_e){var de,ue=U.p(pe),Re="set"+(this.$u?"UTC":""),k=(de={},de[c]=Re+"Date",de[v]=Re+"Date",de[h]=Re+"Month",de[y]=Re+"FullYear",de[l]=Re+"Hours",de[s]=Re+"Minutes",de[o]=Re+"Seconds",de[a]=Re+"Milliseconds",de)[ue],ie=ue===c?this.$D+(_e-this.$W):_e;if(ue===h||ue===y){var me=this.clone().set(v,1);me.$d[k](ie),me.init(),this.$d=me.set(v,Math.min(this.$D,me.daysInMonth())).$d}else k&&this.$d[k](ie);return this.init(),this},se.set=function(pe,_e){return this.clone().$set(pe,_e)},se.get=function(pe){return this[U.p(pe)]()},se.add=function(pe,_e){var de,ue=this;pe=Number(pe);var Re=U.p(_e),k=function(K){var ee=X(ue);return U.w(ee.date(ee.date()+Math.round(K*pe)),ue)};if(Re===h)return this.set(h,this.$M+pe);if(Re===y)return this.set(y,this.$y+pe);if(Re===c)return k(1);if(Re===d)return k(7);var ie=(de={},de[s]=r,de[l]=i,de[o]=n,de)[Re]||1,me=this.$d.getTime()+pe*ie;return U.w(me,this)},se.subtract=function(pe,_e){return this.add(-1*pe,_e)},se.format=function(pe){var _e=this,de=this.$locale();if(!this.isValid())return de.invalidDate||_;var ue=pe||"YYYY-MM-DDTHH:mm:ssZ",Re=U.z(this),k=this.$H,ie=this.$m,me=this.$M,K=de.weekdays,ee=de.months,ge=function(Ne,Ye,oe,z){return Ne&&(Ne[Ye]||Ne(_e,ue))||oe[Ye].slice(0,z)},Ae=function(Ne){return U.s(k%12||12,Ne,"0")},Ze=de.meridiem||function(Ne,Ye,oe){var z=Ne<12?"AM":"PM";return oe?z.toLowerCase():z},Pe={YY:String(this.$y).slice(-2),YYYY:U.s(this.$y,4,"0"),M:me+1,MM:U.s(me+1,2,"0"),MMM:ge(de.monthsShort,me,ee,3),MMMM:ge(ee,me),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:ge(de.weekdaysMin,this.$W,K,2),ddd:ge(de.weekdaysShort,this.$W,K,3),dddd:K[this.$W],H:String(k),HH:U.s(k,2,"0"),h:Ae(1),hh:Ae(2),a:Ze(k,ie,!0),A:Ze(k,ie,!1),m:String(ie),mm:U.s(ie,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:Re};return ue.replace(b,function(Ne,Ye){return Ye||Pe[Ne]||Re.replace(":","")})},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(pe,_e,de){var ue,Re=U.p(_e),k=X(pe),ie=(k.utcOffset()-this.utcOffset())*r,me=this-k,K=U.m(this,k);return K=(ue={},ue[y]=K/12,ue[h]=K,ue[m]=K/3,ue[d]=(me-ie)/6048e5,ue[c]=(me-ie)/864e5,ue[l]=me/i,ue[s]=me/r,ue[o]=me/n,ue)[Re]||me,de?K:U.a(K)},se.daysInMonth=function(){return this.endOf(h).$D},se.$locale=function(){return D[this.$L]},se.locale=function(pe,_e){if(!pe)return this.$L;var de=this.clone(),ue=Q(pe,_e,!0);return ue&&(de.$L=ue),de},se.clone=function(){return U.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},te}(),ce=Y.prototype;return X.prototype=ce,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",h],["$y",y],["$D",v]].forEach(function(te){ce[te[1]]=function(se){return this.$g(se,te[0],te[1])}}),X.extend=function(te,se){return te.$i||(te(se,Y,X),te.$i=!0),X},X.locale=Q,X.isDayjs=F,X.unix=function(te){return X(1e3*te)},X.en=D[O],X.Ls=D,X.p={},X})}(D0)),D0.exports}var fIe=cIe();const n8=Lr(fIe),dIe=()=>{const e=Df(mh);return V.useCallback(async({senderId:t,message:n,chat:r})=>{const a=`${wi(r)}${n8().format("YYYY/MM/DD")}/chat.ttl`,o=`${a}#msg-${ql()}`,s=new Date().toISOString();return await e.mutateAsync({uri:wi(r)+n8().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message??(l.message=[]),l.message.push({"@id":o,created:s,content:n,maker:{"@id":t}})}}),{messageId:o,todayChat:a,createdAt:s}},[e])},hIe=()=>{const e=Vo($z);return V.useCallback(async({inbox:t,senderId:n,messageId:r,chatId:i,updated:a,content:o})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:o,maker:{"@id":n}},target:{"@id":i},updated:a}})},[e])},pIe=()=>{const e=Vo(mh),t=Vo(Nf),n=SV();return V.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:o,privateTypeIndex:s})=>{const l=`${o}messages/${ql()}/`,c=`${l}index.ttl`,d=`${c}#this`,h=new Date().toISOString();await e.mutateAsync({uri:c,data:{"@id":d,type:{"@id":"LongChat"},author:{"@id":r},created2:h,title:"Hospex chat channel",participation:[{"@id":`${c}#${ql()}`,dtstart:h,participant:{"@id":r}},{"@id":`${c}#${ql()}`,dtstart:h,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const m=await tc(l);return await t.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":xn.Read}]}]}),await n({index:s,type:Pz.LongChat,location:d}),{chatContainer:l,chatFile:c,chatId:d}},[t,e,n])},gIe=()=>{const e=Df(mh),t=rb();return V.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await e.mutateAsync({uri:r,subject:r,transform:o=>{var l,c,d;if(!o.participation)throw new Error("no participation");if(o.participation&&o.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const s=(l=o.participation)==null?void 0:l.find(h=>{var m;return((m=h.participant)==null?void 0:m["@id"])===a});if(!s)throw new Error("other person's participation not found");if(((c=s.references)==null?void 0:c.length)===1&&s.references[0]["@id"]===i)throw new Error("already updated");if(s.references&&((d=s.references)==null?void 0:d.length)>0)throw new Error("participation already references some other chat");s.references=[{"@id":i}]}})}catch(o){if(!(o instanceof Error&&o.message==="already updated"))throw o}await t.mutateAsync({uri:n})},[t,e])},mIe=({me:e,userId:t})=>{const{quads:n,variables:r,isLoading:i}=ga(V.useMemo(()=>({query:Yye,variables:{person:[e],otherPerson:[t]},fetch:nr,staleTime:3e4}),[e,t])),a=V.useMemo(()=>{const h=sr.createLdoDataset(n).usingType(mh);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v;return(v=y==null?void 0:y.message)==null?void 0:v.flatMap(_=>{var x;return{id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"],test:(x=y.participation)==null?void 0:x.map(b=>b.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),o=V.useMemo(()=>{const h=sr.createLdoDataset(n).usingType(mh);return(r.chatWithOtherPerson??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v,_,x;return y["@id"]?{myChat:y["@id"],otherChats:(x=(_=(v=y.participation)==null?void 0:v[0])==null?void 0:_.references)==null?void 0:x.flatMap(b=>b["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:s,...l}=ib(e),c=V.useMemo(()=>s.filter(h=>h.from===t),[s,t]);return[V.useMemo(()=>{const h=[...a];return c.forEach(m=>{const y=a.findIndex(v=>v.id===m.id);y>-1?h[y]=m:h.push(m)}),h.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,c]),{isLoading:i},l,o]},yIe=({from:e,to:t,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:e.id,name:e.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:t.id,name:t.name}}),vIe=e=>async({data:t})=>{if(!(await nr(new URL("notification",e),{method:"POST",body:JSON.stringify(yIe(t)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},_Ie=({from:e,to:t,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=kn();n??(n=i);const[o]=Ko(e,n),[s]=Ko(t,n),{mutateAsync:l}=Pa({mutationFn:vIe(a)});return V.useCallback(async c=>{await l({type:r,data:{...c,from:o,to:s}})},[o,l,s,r])};var qK=Symbol.for("immer-nothing"),r8=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function qo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xh=Object.getPrototypeOf;function Eh(e){return!!e&&!!e[Ya]}function Tf(e){var t;return e?zK(e)||Array.isArray(e)||!!e[r8]||!!((t=e.constructor)!=null&&t[r8])||Cb(e)||Tb(e):!1}var wIe=Object.prototype.constructor.toString();function zK(e){if(!e||typeof e!="object")return!1;const t=xh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===wIe}function qm(e,t){Eb(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Eb(e){const t=e[Ya];return t?t.type_:Array.isArray(e)?1:Cb(e)?2:Tb(e)?3:0}function YR(e,t){return Eb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function HK(e,t,n){const r=Eb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function bIe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Cb(e){return e instanceof Map}function Tb(e){return e instanceof Set}function Xc(e){return e.copy_||e.base_}function XR(e,t){if(Cb(e))return new Map(e);if(Tb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&zK(e))return xh(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Ya];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(xh(e),n)}function dL(e,t=!1){return Ab(e)||Eh(e)||!Tf(e)||(Eb(e)>1&&(e.set=e.add=e.clear=e.delete=SIe),Object.freeze(e),t&&qm(e,(n,r)=>dL(r,!0))),e}function SIe(){qo(2)}function Ab(e){return Object.isFrozen(e)}var xIe={};function Af(e){const t=xIe[e];return t||qo(0,e),t}var zm;function VK(){return zm}function EIe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function i8(e,t){t&&(Af("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function eP(e){tP(e),e.drafts_.forEach(CIe),e.drafts_=null}function tP(e){e===zm&&(zm=e.parent_)}function a8(e){return zm=EIe(zm,e)}function CIe(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function o8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ya].modified_&&(eP(t),qo(4)),Tf(e)&&(e=bw(t,e),t.parent_||Sw(t,e)),t.patches_&&Af("Patches").generateReplacementPatches_(n[Ya].base_,e,t.patches_,t.inversePatches_)):e=bw(t,n,[]),eP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qK?e:void 0}function bw(e,t,n){if(Ab(t))return t;const r=t[Ya];if(!r)return qm(t,(i,a)=>s8(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Sw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),qm(a,(s,l)=>s8(e,r,i,s,l,n,o)),Sw(e,i,!1),n&&e.patches_&&Af("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function s8(e,t,n,r,i,a,o){if(Eh(i)){const s=a&&t&&t.type_!==3&&!YR(t.assigned_,r)?a.concat(r):void 0,l=bw(e,i,s);if(HK(n,r,l),Eh(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Tf(i)&&!Ab(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bw(e,i),(!t||!t.scope_.parent_)&&Sw(e,i)}}function Sw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dL(t,n)}function TIe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:VK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=hL;n&&(i=[r],a=Hm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var hL={get(e,t){if(t===Ya)return e;const n=Xc(e);if(!YR(n,t))return AIe(e,n,t);const r=n[t];return e.finalized_||!Tf(r)?r:r===vA(e.base_,t)?(_A(e),e.copy_[t]=rP(r,e)):r},has(e,t){return t in Xc(e)},ownKeys(e){return Reflect.ownKeys(Xc(e))},set(e,t,n){const r=KK(Xc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=vA(Xc(e),t),a=i==null?void 0:i[Ya];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(bIe(n,i)&&(n!==void 0||YR(e.base_,t)))return!0;_A(e),nP(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return vA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_A(e),nP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Xc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){qo(11)},getPrototypeOf(e){return xh(e.base_)},setPrototypeOf(){qo(12)}},Hm={};qm(hL,(e,t)=>{Hm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hm.deleteProperty=function(e,t){return Hm.set.call(this,e,t,void 0)};Hm.set=function(e,t,n){return hL.set.call(this,e[0],t,n,e[0])};function vA(e,t){const n=e[Ya];return(n?Xc(n):e)[t]}function AIe(e,t,n){var i;const r=KK(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function KK(e,t){if(!(t in e))return;let n=xh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xh(n)}}function nP(e){e.modified_||(e.modified_=!0,e.parent_&&nP(e.parent_))}function _A(e){e.copy_||(e.copy_=XR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RIe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&qo(6),r!==void 0&&typeof r!="function"&&qo(7);let i;if(Tf(t)){const a=a8(this),o=rP(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?eP(a):tP(a)}return i8(a,r),o8(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===qK&&(i=void 0),this.autoFreeze_&&dL(i,!0),r){const a=[],o=[];Af("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else qo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tf(e)||qo(8),Eh(e)&&(e=PIe(e));const t=a8(this),n=rP(e,void 0);return n[Ya].isManual_=!0,tP(t),n}finishDraft(e,t){const n=e&&e[Ya];(!n||!n.isManual_)&&qo(9);const{scope_:r}=n;return i8(r,t),o8(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Af("Patches").applyPatches_;return Eh(e)?r(e,t):this.produce(e,i=>r(i,t))}};function rP(e,t){const n=Cb(e)?Af("MapSet").proxyMap_(e,t):Tb(e)?Af("MapSet").proxySet_(e,t):TIe(e,t);return(t?t.scope_:VK()).drafts_.push(n),n}function PIe(e){return Eh(e)||qo(10,e),GK(e)}function GK(e){if(!Tf(e)||Ab(e))return e;const t=e[Ya];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=XR(e,t.scope_.immer_.useStrictShallowCopy_)}else n=XR(e,!0);return qm(n,(r,i)=>{HK(n,r,GK(i))}),t&&(t.finalized_=!1),n}var Xa=new RIe,wA=Xa.produce;Xa.produceWithPatches.bind(Xa);Xa.setAutoFreeze.bind(Xa);Xa.setUseStrictShallowCopy.bind(Xa);Xa.applyPatches.bind(Xa);Xa.createDraft.bind(Xa);Xa.finishDraft.bind(Xa);const OIe="_messages_1tp4g_1",LIe="_message_1tp4g_1",IIe="_fromMe_1tp4g_13",MIe="_unread_1tp4g_18",DIe="_time_1tp4g_21",kIe="_messageForm_1tp4g_25",Ld={messages:OIe,message:LIe,fromMe:IIe,unread:MIe,time:DIe,messageForm:kIe},NIe=()=>{var _e,de;const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=kn(),r=gP().id,i=di(),{i18n:a,_:o}=Jr(),[s,l]=V.useState(!1),[c,d,h,m]=mIe({me:i.webId??"",userId:r}),{privateTypeIndexes:y,personalHospexDocuments:v}=Fm(i.webId??"",e),[_]=tH(r),x=(_e=_==null?void 0:_.inbox)==null?void 0:_e["@id"],b=dIe(),S=hIe(),A=pIe(),P=_Ie({from:i.webId,to:r,type:"message"}),O=gIe(),[D,F]=V.useState({}),Q=V.useRef(new Set);V.useEffect(()=>{(async()=>{var ue;if(c&&i.webId&&((ue=m[0])!=null&&ue.myChat)){for(const Re of c)if(Re.notification&&!(Re.id in D)&&!Q.current.has(Re.id)){Q.current.add(Re.id),F(wA(k=>{k[Re.id]="processing"}));try{await O({notificationId:Re.notification,chat:m[0].myChat,otherChat:Re.chat,otherPerson:r}),F(wA(k=>{k[Re.id]="processed"}))}catch{F(wA(k=>{k[Re.id]="errored"}))}}}})()},[i.webId,m,c,D,r,O]);const X=(de=c.filter(ue=>ue.notification).find(ue=>!!ue.chat))==null?void 0:de.chat,{register:U,handleSubmit:Y,reset:ce}=ju(),te=Y(async ue=>{var me,K,ee;if(!i.webId)throw new Error(a._({id:"udP0jg"}));if(l(!0),!x)throw new Error(a._({id:"xAkrnZ"}));let Re=(me=m[0])==null?void 0:me.myChat;if(!Re){if(!v[0])throw new Error(a._({id:"CMfhBr"}));if(!y[0])throw new Error(a._({id:"fMnMgg"}));({chatId:Re}=await A({me:i.webId,otherPerson:r,hospexContainer:wi(v[0]),otherChat:((ee=(K=m[0])==null?void 0:K.otherChats)==null?void 0:ee[0])??X??void 0,privateTypeIndex:y[0]}))}const{messageId:k,createdAt:ie}=await xs(b({senderId:i.webId,message:ue.message,chat:Re}),{pending:a._({id:"M/R9wy"}),success:a._({id:"kH4vZi"})});await xs(S({inbox:x,senderId:i.webId,messageId:k,chatId:Re,updated:ie,content:ue.message}),{pending:a._({id:"HZ3V75"}),success:a._({id:"qFkBv/"})}),ce({message:""}),l(!1),t&&n==="simple"&&await xs(P({messageId:k,message:ue.message}),{pending:a._({id:"PmxYBp"}),success:a._({id:"9K7sK1"})})}),se=s||!x,pe=!d.isLoading&&!h.isLoading&&!m.some(ue=>!!ue.myChat);return H.jsxs("div",{children:[H.jsx("pre",{children:(d.isLoading||h.isLoading)&&H.jsx(wt,{id:"Z3FXyt"})}),H.jsx(wt,{id:"NqP6cw",components:{0:H.jsx(nL,{webId:r,link:!0})}}),H.jsx("div",{className:Ld.messages,children:(c==null?void 0:c.map(({id:ue,message:Re,from:k,createdAt:ie,status:me})=>H.jsxs("div",{className:Or(Ld.message,k===i.webId&&Ld.fromMe,me==="unread"&&Ld.unread),"data-cy":"message","data-cy-message-from":k===i.webId?"me":"other",children:[Re," ",H.jsx("span",{className:Ld.time,title:new Date(ie).toLocaleString(),children:new Date(ie).toLocaleTimeString()})]},ue)))??H.jsx("div",{children:H.jsx(bo,{children:H.jsx(wt,{id:"bo2Xks"})})})}),pe&&H.jsx(H.Fragment,{children:H.jsx(wt,{id:"dWGab4"})}),H.jsx("form",{onSubmit:te,className:Ld.messageForm,children:H.jsxs("fieldset",{disabled:se,children:[H.jsx("textarea",{...U("message",{required:!0})}),H.jsx(pr,{primary:!0,type:"submit",disabled:se,children:H.jsx(wt,{id:"JlFcis"})})]})})]})};/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Gc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.add(n)})},Wc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.remove(n)})},WK=Rn.Marker.extend({initialize(e,t){Rn.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const n=this._getIconSVG(e,t);this._locationIcon=Rn.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const n=e.radius,r=e.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+t+'" /></svg>',w:a,h:a}},setStyle(e){Rn.setOptions(this,e),this.createIcon()}}),FIe=WK.extend({initialize(e,t,n){Rn.setOptions(this,n),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const n=e.radius,r=e.width+e.weight,i=(n+e.depth+e.weight)*2,a=`M0,0 l${e.width/2},${e.depth} l-${r},0 z`,o=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${o}"><path d="`+a+'" style="'+t+'" /></svg>',w:r,h:i}}}),jIe=Rn.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:WK,compassClass:FIe,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const n=Rn.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);n.title=t.strings.title,n.href="#",n.setAttribute("role","button");const r=Rn.DomUtil.create(t.iconElementTag,t.icon,n);if(t.strings.text!==void 0){const i=Rn.DomUtil.create(t.textElementTag,"leaflet-locate-text",n);i.textContent=t.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",t.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?Rn.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=Rn.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=Rn.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=Rn.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=Rn.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new Rn.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(t,this.options);return this._link=n.link,this._icon=n.icon,Rn.DomEvent.on(this._link,"click",function(r){Rn.DomEvent.stopPropagation(r),Rn.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",Rn.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,n=function(){Rn.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?Rn.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&Rn.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),Rn.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(o):this._circle=Rn.circle(t,e,o).addTo(this._layer)}let n,r;if(this.options.metric?(n=e.toFixed(0),r=this.options.strings.metersUnit):(n=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(t,o).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?Rn.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,Rn.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(Wc(this._container,"active following"),Gc(this._container,"requesting"),Wc(this._icon,this.options.icon),Gc(this._icon,this.options.iconLoading)):e=="active"?(Wc(this._container,"requesting following"),Gc(this._container,"active"),Wc(this._icon,this.options.iconLoading),Gc(this._icon,this.options.icon)):e=="following"&&(Wc(this._container,"requesting"),Gc(this._container,"active following"),Wc(this._icon,this.options.iconLoading),Gc(this._icon,this.options.icon))},_cleanClasses(){Rn.DomUtil.removeClass(this._container,"requesting"),Rn.DomUtil.removeClass(this._container,"active"),Rn.DomUtil.removeClass(this._container,"following"),Wc(this._icon,this.options.iconLoading),Gc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function $Ie(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const UIe=1;function BIe(e){return Object.freeze({__version:UIe,map:e})}function qIe(e,t){return Object.freeze({...e,...t})}const pL=V.createContext(null);function Rb(){const e=V.use(pL);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function QK(e){function t(n,r){const{instance:i,context:a}=e(n).current;V.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:It.createElement(pL,{value:a},o)}return V.forwardRef(t)}function ZK(e){function t(n,r){const{instance:i}=e(n).current;return V.useImperativeHandle(r,()=>i),null}return V.forwardRef(t)}function zIe(e){return function(n){const r=Rb(),i=e(n,r),{instance:a}=i.current,o=V.useRef(n.position),{position:s}=n;return V.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),V.useEffect(function(){s!=null&&s!==o.current&&(a.setPosition(s),o.current=s)},[a,s]),i}}function JK(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function gL(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function mL(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Pb(e,t){return t==null?function(r,i){const a=V.useRef(void 0);return a.current||(a.current=e(r,i)),a}:function(r,i){const a=V.useRef(void 0);a.current||(a.current=e(r,i));const o=V.useRef(r),{instance:s}=a.current;return V.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,t]),a}}function YK(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function XK(e){return function(n){const r=Rb(),i=e(gL(n,r),r);return $Ie(r.map,n.attribution),JK(i.current,n.eventHandlers),YK(i.current,r),i}}function HIe(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function VIe(e){return function(n){const r=Rb(),i=e(gL(n,r),r);return JK(i.current,n.eventHandlers),YK(i.current,r),HIe(i.current,n),i}}function KIe(e){function t(i,a){return mL(e(i),a)}const n=Pb(t),r=zIe(n);return ZK(r)}function GIe(e,t){const n=Pb(e,t),r=XK(n);return QK(r)}function WIe(e,t){const n=Pb(e,t),r=VIe(n);return QK(r)}function QIe(e,t){const n=Pb(e,t),r=XK(n);return ZK(r)}function ZIe(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const eG=KIe(e=>new jIe(e));function yL(){return Rb().map}function bA(e,t){const n=yL();return V.useEffect(function(){return n.on(e,t),function(){n.off(e,t)}},[n,e,t]),n}function JIe({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:c,...d},h){const[m]=V.useState({className:i,id:a,style:s}),[y,v]=V.useState(null),_=V.useRef(void 0);V.useImperativeHandle(h,()=>(y==null?void 0:y.map)??null,[y]);const x=V.useCallback(S=>{if(S!==null&&!_.current){const A=new Rn.Map(S,d);_.current=A,n!=null&&c!=null?A.setView(n,c):e!=null&&A.fitBounds(e,t),l!=null&&A.whenReady(l),v(BIe(A))}},[]);V.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const b=y?It.createElement(pL,{value:y},r):o??null;return It.createElement("div",{...m,ref:x},b)}const vL=V.forwardRef(JIe),_L=GIe(function({position:t,...n},r){const i=new Rn.Marker(t,n);return mL(i,qIe(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),wL=QIe(function({url:t,...n},r){const i=new Rn.TileLayer(t,gL(n,r));return mL(i,r)},function(t,n,r){ZIe(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),YIe="_mapContainer_zpxie_1",XIe="_description_zpxie_11",iP={mapContainer:YIe,description:XIe},u8=e=>(e%360-180*3)%360+180,b_=e=>{const t=e.getBounds();return{n:t.getNorth(),s:t.getSouth(),e:t.getEast(),w:t.getWest()}},tG=({onChange:e,onUpdate:t})=>{const n=yL(),r=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=b_(n);e==null||e({lat:o,long:s},l)},[n,e]),i=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=u8(s),c={lat:o,long:l};if(Math.abs(l-s)>1){n.setView([o,l],n.getZoom(),{animate:!1});const h=b_(n);e==null||e(c,h)}const d=b_(n);t==null||t(c,d)},[n,e,t]),a=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=u8(s),c={lat:o,long:l};Math.abs(l-s)>1&&n.setView([o,l],n.getZoom(),{animate:!1});const d=b_(n);t==null||t(c,d)},[n,t]);return bA("load",a),bA("move",r),bA("moveend",i),V.useEffect(()=>{n&&a()},[a,n]),null},eMe=({value:e,onChange:t,isInitial:n})=>{const r=V.useMemo(()=>[e.lat,e.long],[e.lat,e.long]),{tileServer:i}=kn(),{i18n:a,_:o}=Jr();return H.jsxs(vL,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Or(iP.mapContainer,"accommodation-map-container-edit"),children:[H.jsx(wL,{url:i}),H.jsx(eG,{strings:{title:a._({id:"sa0+P5"})},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),H.jsx(_L,{position:r}),H.jsx(tG,{onChange:t})]})},tMe="_container_1saps_1",nMe="_header_1saps_10",rMe="_accommodation_1saps_17",iMe="_accommodationForm_1saps_27",aMe="_errorMessage_1saps_34",oMe="_inputError_1saps_39",sMe="_actions_1saps_45",uMe="_addAccommodationButton_1saps_54",vo={container:tMe,header:nMe,accommodation:rMe,accommodationForm:iMe,errorMessage:aMe,inputError:oMe,actions:sMe,addAccommodationButton:uMe};var l8=function(e,t,n){if(e&&"reportValidity"in e){var r=Bt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},nG=function(e,t){var n=function(i){var a=t.fields[i];a&&a.ref&&"reportValidity"in a.ref?l8(a.ref,i,e):a.refs&&a.refs.forEach(function(o){return l8(o,i,e)})};for(var r in t.fields)n(r)},lMe=function(e,t){t.shouldUseNativeValidation&&nG(e,t);var n={};for(var r in e){var i=Bt(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(cMe(t.names||Object.keys(e),r)){var o=Object.assign({},Bt(n,r));_r(o,"root",a),_r(n,r,o)}else _r(n,r,a)}return n},cMe=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},S_={exports:{}},SA={},fu={},Qc={},xA={},EA={},CA={},c8;function Vm(){return c8||(c8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(S){if(super(),!e.IDENTIFIER.test(S))throw new Error("CodeGen: name must be a valid identifier");this.str=S}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(S){super(),this._items=typeof S=="string"?[S]:S}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const S=this._items[0];return S===""||S==='""'}get str(){var S;return(S=this._str)!==null&&S!==void 0?S:this._str=this._items.reduce((A,P)=>`${A}${P}`,"")}get names(){var S;return(S=this._names)!==null&&S!==void 0?S:this._names=this._items.reduce((A,P)=>(P instanceof n&&(A[P.str]=(A[P.str]||0)+1),A),{})}}e._Code=r,e.nil=new r("");function i(b,...S){const A=[b[0]];let P=0;for(;P<S.length;)s(A,S[P]),A.push(b[++P]);return new r(A)}e._=i;const a=new r("+");function o(b,...S){const A=[y(b[0])];let P=0;for(;P<S.length;)A.push(a),s(A,S[P]),A.push(a,y(b[++P]));return l(A),new r(A)}e.str=o;function s(b,S){S instanceof r?b.push(...S._items):S instanceof n?b.push(S):b.push(h(S))}e.addCodeArg=s;function l(b){let S=1;for(;S<b.length-1;){if(b[S]===a){const A=c(b[S-1],b[S+1]);if(A!==void 0){b.splice(S-1,3,A);continue}b[S++]="+"}S++}}function c(b,S){if(S==='""')return b;if(b==='""')return S;if(typeof b=="string")return S instanceof n||b[b.length-1]!=='"'?void 0:typeof S!="string"?`${b.slice(0,-1)}${S}"`:S[0]==='"'?b.slice(0,-1)+S.slice(1):void 0;if(typeof S=="string"&&S[0]==='"'&&!(b instanceof n))return`"${b}${S.slice(1)}`}function d(b,S){return S.emptyStr()?b:b.emptyStr()?S:o`${b}${S}`}e.strConcat=d;function h(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:y(Array.isArray(b)?b.join(","):b)}function m(b){return new r(y(b))}e.stringify=m;function y(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function v(b){return typeof b=="string"&&e.IDENTIFIER.test(b)?new r(`.${b}`):i`[${b}]`}e.getProperty=v;function _(b){if(typeof b=="string"&&e.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}e.getEsmExportName=_;function x(b){return new r(b.toString())}e.regexpCode=x}(CA)),CA}var TA={},f8;function d8(){return f8||(f8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Vm();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=i;class a extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class s extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:y}=m,v=(h=d.key)!==null&&h!==void 0?h:d.ref;let _=this._values[y];if(_){const S=_.get(v);if(S)return S}else _=this._values[y]=new Map;_.set(v,m);const x=this._scope[y]||(this._scope[y]=[]),b=x.length;return x[b]=d.ref,m.setValue(d,{property:y,itemIndex:b}),m}getValue(c,d){const h=this._values[c];if(h)return h.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,d,h){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},d,h)}_reduceValues(c,d,h={},m){let y=t.nil;for(const v in c){const _=c[v];if(!_)continue;const x=h[v]=h[v]||new Map;_.forEach(b=>{if(x.has(b))return;x.set(b,r.Started);let S=d(b);if(S){const A=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${A} ${b} = ${S};${this.opts._n}`}else if(S=m==null?void 0:m(b))y=(0,t._)`${y}${S}${this.opts._n}`;else throw new n(b);x.set(b,r.Completed)})}return y}}e.ValueScope=s}(TA)),TA}var h8;function Ln(){return h8||(h8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Vm(),n=d8();var r=Vm();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=d8();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(ee,ge){return this}}class o extends a{constructor(ee,ge,Ae){super(),this.varKind=ee,this.name=ge,this.rhs=Ae}render({es5:ee,_n:ge}){const Ae=ee?n.varKinds.var:this.varKind,Ze=this.rhs===void 0?"":` = ${this.rhs}`;return`${Ae} ${this.name}${Ze};`+ge}optimizeNames(ee,ge){if(ee[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,ee,ge)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(ee,ge,Ae){super(),this.lhs=ee,this.rhs=ge,this.sideEffects=Ae}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,ge){if(!(this.lhs instanceof t.Name&&!ee[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,ee,ge),this}get names(){const ee=this.lhs instanceof t.Name?{}:{...this.lhs.names};return te(ee,this.rhs)}}class l extends s{constructor(ee,ge,Ae,Ze){super(ee,Ae,Ze),this.op=ge}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class c extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class d extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class h extends a{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class m extends a{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,ge){return this.code=se(this.code,ee,ge),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends a{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((ge,Ae)=>ge+Ae.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let ge=ee.length;for(;ge--;){const Ae=ee[ge].optimizeNodes();Array.isArray(Ae)?ee.splice(ge,1,...Ae):Ae?ee[ge]=Ae:ee.splice(ge,1)}return ee.length>0?this:void 0}optimizeNames(ee,ge){const{nodes:Ae}=this;let Ze=Ae.length;for(;Ze--;){const Pe=Ae[Ze];Pe.optimizeNames(ee,ge)||(pe(ee,Pe.names),Ae.splice(Ze,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((ee,ge)=>ce(ee,ge.names),{})}}class v extends y{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class _ extends y{}class x extends v{}x.kind="else";class b extends v{constructor(ee,ge){super(ge),this.condition=ee}render(ee){let ge=`if(${this.condition})`+super.render(ee);return this.else&&(ge+="else "+this.else.render(ee)),ge}optimizeNodes(){super.optimizeNodes();const ee=this.condition;if(ee===!0)return this.nodes;let ge=this.else;if(ge){const Ae=ge.optimizeNodes();ge=this.else=Array.isArray(Ae)?new x(Ae):Ae}if(ge)return ee===!1?ge instanceof b?ge:ge.nodes:this.nodes.length?this:new b(_e(ee),ge instanceof b?[ge]:ge.nodes);if(!(ee===!1||!this.nodes.length))return this}optimizeNames(ee,ge){var Ae;if(this.else=(Ae=this.else)===null||Ae===void 0?void 0:Ae.optimizeNames(ee,ge),!!(super.optimizeNames(ee,ge)||this.else))return this.condition=se(this.condition,ee,ge),this}get names(){const ee=super.names;return te(ee,this.condition),this.else&&ce(ee,this.else.names),ee}}b.kind="if";class S extends v{}S.kind="for";class A extends S{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,ge){if(super.optimizeNames(ee,ge))return this.iteration=se(this.iteration,ee,ge),this}get names(){return ce(super.names,this.iteration.names)}}class P extends S{constructor(ee,ge,Ae,Ze){super(),this.varKind=ee,this.name=ge,this.from=Ae,this.to=Ze}render(ee){const ge=ee.es5?n.varKinds.var:this.varKind,{name:Ae,from:Ze,to:Pe}=this;return`for(${ge} ${Ae}=${Ze}; ${Ae}<${Pe}; ${Ae}++)`+super.render(ee)}get names(){const ee=te(super.names,this.from);return te(ee,this.to)}}class O extends S{constructor(ee,ge,Ae,Ze){super(),this.loop=ee,this.varKind=ge,this.name=Ae,this.iterable=Ze}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,ge){if(super.optimizeNames(ee,ge))return this.iterable=se(this.iterable,ee,ge),this}get names(){return ce(super.names,this.iterable.names)}}class D extends v{constructor(ee,ge,Ae){super(),this.name=ee,this.args=ge,this.async=Ae}render(ee){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ee)}}D.kind="func";class F extends y{render(ee){return"return "+super.render(ee)}}F.kind="return";class Q extends v{render(ee){let ge="try"+super.render(ee);return this.catch&&(ge+=this.catch.render(ee)),this.finally&&(ge+=this.finally.render(ee)),ge}optimizeNodes(){var ee,ge;return super.optimizeNodes(),(ee=this.catch)===null||ee===void 0||ee.optimizeNodes(),(ge=this.finally)===null||ge===void 0||ge.optimizeNodes(),this}optimizeNames(ee,ge){var Ae,Ze;return super.optimizeNames(ee,ge),(Ae=this.catch)===null||Ae===void 0||Ae.optimizeNames(ee,ge),(Ze=this.finally)===null||Ze===void 0||Ze.optimizeNames(ee,ge),this}get names(){const ee=super.names;return this.catch&&ce(ee,this.catch.names),this.finally&&ce(ee,this.finally.names),ee}}class X extends v{constructor(ee){super(),this.error=ee}render(ee){return`catch(${this.error})`+super.render(ee)}}X.kind="catch";class U extends v{render(ee){return"finally"+super.render(ee)}}U.kind="finally";class Y{constructor(ee,ge={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ge,_n:ge.lines?`
`:""},this._extScope=ee,this._scope=new n.Scope({parent:ee}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,ge){const Ae=this._extScope.value(ee,ge);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(ee,ge){return this._extScope.getValue(ee,ge)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,ge,Ae,Ze){const Pe=this._scope.toName(ge);return Ae!==void 0&&Ze&&(this._constants[Pe.str]=Ae),this._leafNode(new o(ee,Pe,Ae)),Pe}const(ee,ge,Ae){return this._def(n.varKinds.const,ee,ge,Ae)}let(ee,ge,Ae){return this._def(n.varKinds.let,ee,ge,Ae)}var(ee,ge,Ae){return this._def(n.varKinds.var,ee,ge,Ae)}assign(ee,ge,Ae){return this._leafNode(new s(ee,ge,Ae))}add(ee,ge){return this._leafNode(new l(ee,e.operators.ADD,ge))}code(ee){return typeof ee=="function"?ee():ee!==t.nil&&this._leafNode(new m(ee)),this}object(...ee){const ge=["{"];for(const[Ae,Ze]of ee)ge.length>1&&ge.push(","),ge.push(Ae),(Ae!==Ze||this.opts.es5)&&(ge.push(":"),(0,t.addCodeArg)(ge,Ze));return ge.push("}"),new t._Code(ge)}if(ee,ge,Ae){if(this._blockNode(new b(ee)),ge&&Ae)this.code(ge).else().code(Ae).endIf();else if(ge)this.code(ge).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new b(ee))}else(){return this._elseNode(new x)}endIf(){return this._endBlockNode(b,x)}_for(ee,ge){return this._blockNode(ee),ge&&this.code(ge).endFor(),this}for(ee,ge){return this._for(new A(ee),ge)}forRange(ee,ge,Ae,Ze,Pe=this.opts.es5?n.varKinds.var:n.varKinds.let){const Ne=this._scope.toName(ee);return this._for(new P(Pe,Ne,ge,Ae),()=>Ze(Ne))}forOf(ee,ge,Ae,Ze=n.varKinds.const){const Pe=this._scope.toName(ee);if(this.opts.es5){const Ne=ge instanceof t.Name?ge:this.var("_arr",ge);return this.forRange("_i",0,(0,t._)`${Ne}.length`,Ye=>{this.var(Pe,(0,t._)`${Ne}[${Ye}]`),Ae(Pe)})}return this._for(new O("of",Ze,Pe,ge),()=>Ae(Pe))}forIn(ee,ge,Ae,Ze=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(ee,(0,t._)`Object.keys(${ge})`,Ae);const Pe=this._scope.toName(ee);return this._for(new O("in",Ze,Pe,ge),()=>Ae(Pe))}endFor(){return this._endBlockNode(S)}label(ee){return this._leafNode(new c(ee))}break(ee){return this._leafNode(new d(ee))}return(ee){const ge=new F;if(this._blockNode(ge),this.code(ee),ge.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(ee,ge,Ae){if(!ge&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ze=new Q;if(this._blockNode(Ze),this.code(ee),ge){const Pe=this.name("e");this._currNode=Ze.catch=new X(Pe),ge(Pe)}return Ae&&(this._currNode=Ze.finally=new U,this.code(Ae)),this._endBlockNode(X,U)}throw(ee){return this._leafNode(new h(ee))}block(ee,ge){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(ge),this}endBlock(ee){const ge=this._blockStarts.pop();if(ge===void 0)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-ge;if(Ae<0||ee!==void 0&&Ae!==ee)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${ee} expected`);return this._nodes.length=ge,this}func(ee,ge=t.nil,Ae,Ze){return this._blockNode(new D(ee,ge,Ae)),Ze&&this.code(Ze).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,ge){const Ae=this._currNode;if(Ae instanceof ee||ge&&Ae instanceof ge)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ge?`${ee.kind}/${ge.kind}`:ee.kind}"`)}_elseNode(ee){const ge=this._currNode;if(!(ge instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=ge.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const ge=this._nodes;ge[ge.length-1]=ee}}e.CodeGen=Y;function ce(K,ee){for(const ge in ee)K[ge]=(K[ge]||0)+(ee[ge]||0);return K}function te(K,ee){return ee instanceof t._CodeOrName?ce(K,ee.names):K}function se(K,ee,ge){if(K instanceof t.Name)return Ae(K);if(!Ze(K))return K;return new t._Code(K._items.reduce((Pe,Ne)=>(Ne instanceof t.Name&&(Ne=Ae(Ne)),Ne instanceof t._Code?Pe.push(...Ne._items):Pe.push(Ne),Pe),[]));function Ae(Pe){const Ne=ge[Pe.str];return Ne===void 0||ee[Pe.str]!==1?Pe:(delete ee[Pe.str],Ne)}function Ze(Pe){return Pe instanceof t._Code&&Pe._items.some(Ne=>Ne instanceof t.Name&&ee[Ne.str]===1&&ge[Ne.str]!==void 0)}}function pe(K,ee){for(const ge in ee)K[ge]=(K[ge]||0)-(ee[ge]||0)}function _e(K){return typeof K=="boolean"||typeof K=="number"||K===null?!K:(0,t._)`!${me(K)}`}e.not=_e;const de=ie(e.operators.AND);function ue(...K){return K.reduce(de)}e.and=ue;const Re=ie(e.operators.OR);function k(...K){return K.reduce(Re)}e.or=k;function ie(K){return(ee,ge)=>ee===t.nil?ge:ge===t.nil?ee:(0,t._)`${me(ee)} ${K} ${me(ge)}`}function me(K){return K instanceof t.Name?K:(0,t._)`(${K})`}}(EA)),EA}var An={},p8;function Kn(){if(p8)return An;p8=1,Object.defineProperty(An,"__esModule",{value:!0}),An.checkStrictMode=An.getErrorPath=An.Type=An.useFunc=An.setEvaluated=An.evaluatedPropsToName=An.mergeEvaluated=An.eachItem=An.unescapeJsonPointer=An.escapeJsonPointer=An.escapeFragment=An.unescapeFragment=An.schemaRefOrVal=An.schemaHasRulesButRef=An.schemaHasRules=An.checkUnknownRules=An.alwaysValidSchema=An.toHash=void 0;const e=Ln(),t=Vm();function n(O){const D={};for(const F of O)D[F]=!0;return D}An.toHash=n;function r(O,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(O,D),!a(D,O.self.RULES.all))}An.alwaysValidSchema=r;function i(O,D=O.schema){const{opts:F,self:Q}=O;if(!F.strictSchema||typeof D=="boolean")return;const X=Q.RULES.keywords;for(const U in D)X[U]||P(O,`unknown keyword: "${U}"`)}An.checkUnknownRules=i;function a(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(D[F])return!0;return!1}An.schemaHasRules=a;function o(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(F!=="$ref"&&D.all[F])return!0;return!1}An.schemaHasRulesButRef=o;function s({topSchemaRef:O,schemaPath:D},F,Q,X){if(!X){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,e._)`${F}`}return(0,e._)`${O}${D}${(0,e.getProperty)(Q)}`}An.schemaRefOrVal=s;function l(O){return h(decodeURIComponent(O))}An.unescapeFragment=l;function c(O){return encodeURIComponent(d(O))}An.escapeFragment=c;function d(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}An.escapeJsonPointer=d;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}An.unescapeJsonPointer=h;function m(O,D){if(Array.isArray(O))for(const F of O)D(F);else D(O)}An.eachItem=m;function y({mergeNames:O,mergeToName:D,mergeValues:F,resultToName:Q}){return(X,U,Y,ce)=>{const te=Y===void 0?U:Y instanceof e.Name?(U instanceof e.Name?O(X,U,Y):D(X,U,Y),Y):U instanceof e.Name?(D(X,Y,U),U):F(U,Y);return ce===e.Name&&!(te instanceof e.Name)?Q(X,te):te}}An.mergeEvaluated={props:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>{O.if((0,e._)`${D} === true`,()=>O.assign(F,!0),()=>O.assign(F,(0,e._)`${F} || {}`).code((0,e._)`Object.assign(${F}, ${D})`))}),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>{D===!0?O.assign(F,!0):(O.assign(F,(0,e._)`${F} || {}`),_(O,F,D))}),mergeValues:(O,D)=>O===!0?!0:{...O,...D},resultToName:v}),items:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>O.assign(F,(0,e._)`${D} === true ? true : ${F} > ${D} ? ${F} : ${D}`)),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>O.assign(F,D===!0?!0:(0,e._)`${F} > ${D} ? ${F} : ${D}`)),mergeValues:(O,D)=>O===!0?!0:Math.max(O,D),resultToName:(O,D)=>O.var("items",D)})};function v(O,D){if(D===!0)return O.var("props",!0);const F=O.var("props",(0,e._)`{}`);return D!==void 0&&_(O,F,D),F}An.evaluatedPropsToName=v;function _(O,D,F){Object.keys(F).forEach(Q=>O.assign((0,e._)`${D}${(0,e.getProperty)(Q)}`,!0))}An.setEvaluated=_;const x={};function b(O,D){return O.scopeValue("func",{ref:D,code:x[D.code]||(x[D.code]=new t._Code(D.code))})}An.useFunc=b;var S;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(S||(An.Type=S={}));function A(O,D,F){if(O instanceof e.Name){const Q=D===S.Num;return F?Q?(0,e._)`"[" + ${O} + "]"`:(0,e._)`"['" + ${O} + "']"`:Q?(0,e._)`"/" + ${O}`:(0,e._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,e.getProperty)(O).toString():"/"+d(O)}An.getErrorPath=A;function P(O,D,F=O.opts.strictSchema){if(F){if(D=`strict mode: ${D}`,F===!0)throw new Error(D);O.self.logger.warn(D)}}return An.checkStrictMode=P,An}var x_={},g8;function Uu(){if(g8)return x_;g8=1,Object.defineProperty(x_,"__esModule",{value:!0});const e=Ln(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return x_.default=t,x_}var m8;function by(){return m8||(m8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Ln(),n=Kn(),r=Uu();e.keywordError={message:({keyword:x})=>(0,t.str)`must pass "${x}" keyword validation`},e.keyword$DataError={message:({keyword:x,schemaType:b})=>b?(0,t.str)`"${x}" keyword must be ${b} ($data)`:(0,t.str)`"${x}" keyword is invalid ($data)`};function i(x,b=e.keywordError,S,A){const{it:P}=x,{gen:O,compositeRule:D,allErrors:F}=P,Q=h(x,b,S);A??(D||F)?l(O,Q):c(P,(0,t._)`[${Q}]`)}e.reportError=i;function a(x,b=e.keywordError,S){const{it:A}=x,{gen:P,compositeRule:O,allErrors:D}=A,F=h(x,b,S);l(P,F),O||D||c(A,r.default.vErrors)}e.reportExtraError=a;function o(x,b){x.assign(r.default.errors,b),x.if((0,t._)`${r.default.vErrors} !== null`,()=>x.if(b,()=>x.assign((0,t._)`${r.default.vErrors}.length`,b),()=>x.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:x,keyword:b,schemaValue:S,data:A,errsCount:P,it:O}){if(P===void 0)throw new Error("ajv implementation error");const D=x.name("err");x.forRange("i",P,r.default.errors,F=>{x.const(D,(0,t._)`${r.default.vErrors}[${F}]`),x.if((0,t._)`${D}.instancePath === undefined`,()=>x.assign((0,t._)`${D}.instancePath`,(0,t.strConcat)(r.default.instancePath,O.errorPath))),x.assign((0,t._)`${D}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${b}`),O.opts.verbose&&(x.assign((0,t._)`${D}.schema`,S),x.assign((0,t._)`${D}.data`,A))})}e.extendErrors=s;function l(x,b){const S=x.const("err",b);x.if((0,t._)`${r.default.vErrors} === null`,()=>x.assign(r.default.vErrors,(0,t._)`[${S}]`),(0,t._)`${r.default.vErrors}.push(${S})`),x.code((0,t._)`${r.default.errors}++`)}function c(x,b){const{gen:S,validateName:A,schemaEnv:P}=x;P.$async?S.throw((0,t._)`new ${x.ValidationError}(${b})`):(S.assign((0,t._)`${A}.errors`,b),S.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(x,b,S){const{createErrors:A}=x.it;return A===!1?(0,t._)`{}`:m(x,b,S)}function m(x,b,S={}){const{gen:A,it:P}=x,O=[y(P,S),v(x,S)];return _(x,b,O),A.object(...O)}function y({errorPath:x},{instancePath:b}){const S=b?(0,t.str)`${x}${(0,n.getErrorPath)(b,n.Type.Str)}`:x;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,S)]}function v({keyword:x,it:{errSchemaPath:b}},{schemaPath:S,parentSchema:A}){let P=A?b:(0,t.str)`${b}/${x}`;return S&&(P=(0,t.str)`${P}${(0,n.getErrorPath)(S,n.Type.Str)}`),[d.schemaPath,P]}function _(x,{params:b,message:S},A){const{keyword:P,data:O,schemaValue:D,it:F}=x,{opts:Q,propertyName:X,topSchemaRef:U,schemaPath:Y}=F;A.push([d.keyword,P],[d.params,typeof b=="function"?b(x):b||(0,t._)`{}`]),Q.messages&&A.push([d.message,typeof S=="function"?S(x):S]),Q.verbose&&A.push([d.schema,D],[d.parentSchema,(0,t._)`${U}${Y}`],[r.default.data,O]),X&&A.push([d.propertyName,X])}}(xA)),xA}var y8;function fMe(){if(y8)return Qc;y8=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.boolOrEmptySchema=Qc.topBoolOrEmptySchema=void 0;const e=by(),t=Ln(),n=Uu(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:c,validateName:d}=s;c===!1?o(s,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${d}.errors`,null),l.return(!0))}Qc.topBoolOrEmptySchema=i;function a(s,l){const{gen:c,schema:d}=s;d===!1?(c.var(l,!1),o(s)):c.var(l,!0)}Qc.boolOrEmptySchema=a;function o(s,l){const{gen:c,data:d}=s,h={gen:c,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(h,r,void 0,l)}return Qc}var Ri={},Zc={},v8;function rG(){if(v8)return Zc;v8=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.getRules=Zc.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Zc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Zc.getRules=r,Zc}var du={},_8;function iG(){if(_8)return du;_8=1,Object.defineProperty(du,"__esModule",{value:!0}),du.shouldUseRule=du.shouldUseGroup=du.schemaHasRulesForType=void 0;function e({schema:r,self:i},a){const o=i.RULES.types[a];return o&&o!==!0&&t(r,o)}du.schemaHasRulesForType=e;function t(r,i){return i.rules.some(a=>n(r,a))}du.shouldUseGroup=t;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(o=>r[o]!==void 0))}return du.shouldUseRule=n,du}var w8;function xw(){if(w8)return Ri;w8=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.reportTypeError=Ri.checkDataTypes=Ri.checkDataType=Ri.coerceAndCheckDataType=Ri.getJSONTypes=Ri.getSchemaTypes=Ri.DataType=void 0;const e=rG(),t=iG(),n=by(),r=Ln(),i=Kn();var a;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(a||(Ri.DataType=a={}));function o(S){const A=s(S.type);if(A.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&A.push("null")}return A}Ri.getSchemaTypes=o;function s(S){const A=Array.isArray(S)?S:S?[S]:[];if(A.every(e.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}Ri.getJSONTypes=s;function l(S,A){const{gen:P,data:O,opts:D}=S,F=d(A,D.coerceTypes),Q=A.length>0&&!(F.length===0&&A.length===1&&(0,t.schemaHasRulesForType)(S,A[0]));if(Q){const X=v(A,O,D.strictNumbers,a.Wrong);P.if(X,()=>{F.length?h(S,A,F):x(S)})}return Q}Ri.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function d(S,A){return A?S.filter(P=>c.has(P)||A==="array"&&P==="array"):[]}function h(S,A,P){const{gen:O,data:D,opts:F}=S,Q=O.let("dataType",(0,r._)`typeof ${D}`),X=O.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&O.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>O.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(v(A,D,F.strictNumbers),()=>O.assign(X,D))),O.if((0,r._)`${X} !== undefined`);for(const Y of P)(c.has(Y)||Y==="array"&&F.coerceTypes==="array")&&U(Y);O.else(),x(S),O.endIf(),O.if((0,r._)`${X} !== undefined`,()=>{O.assign(D,X),m(S,X)});function U(Y){switch(Y){case"string":O.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(X,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(X,(0,r._)`""`);return;case"number":O.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(X,(0,r._)`+${D}`);return;case"integer":O.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(X,(0,r._)`+${D}`);return;case"boolean":O.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(X,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(X,!0);return;case"null":O.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),O.assign(X,null);return;case"array":O.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(X,(0,r._)`[${D}]`)}}}function m({gen:S,parentData:A,parentDataProperty:P},O){S.if((0,r._)`${A} !== undefined`,()=>S.assign((0,r._)`${A}[${P}]`,O))}function y(S,A,P,O=a.Correct){const D=O===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(S){case"null":return(0,r._)`${A} ${D} null`;case"array":F=(0,r._)`Array.isArray(${A})`;break;case"object":F=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":F=Q((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":F=Q();break;default:return(0,r._)`typeof ${A} ${D} ${S}`}return O===a.Correct?F:(0,r.not)(F);function Q(X=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,X,P?(0,r._)`isFinite(${A})`:r.nil)}}Ri.checkDataType=y;function v(S,A,P,O){if(S.length===1)return y(S[0],A,P,O);let D;const F=(0,i.toHash)(S);if(F.array&&F.object){const Q=(0,r._)`typeof ${A} != "object"`;D=F.null?Q:(0,r._)`!${A} || ${Q}`,delete F.null,delete F.array,delete F.object}else D=r.nil;F.number&&delete F.integer;for(const Q in F)D=(0,r.and)(D,y(Q,A,P,O));return D}Ri.checkDataTypes=v;const _={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:A})=>typeof S=="string"?(0,r._)`{type: ${S}}`:(0,r._)`{type: ${A}}`};function x(S){const A=b(S);(0,n.reportError)(A,_)}Ri.reportTypeError=x;function b(S){const{gen:A,data:P,schema:O}=S,D=(0,i.schemaRefOrVal)(S,O,"type");return{gen:A,keyword:"type",data:P,schema:O.type,schemaCode:D,schemaValue:D,parentSchema:O,params:{},it:S}}return Ri}var Wg={},b8;function dMe(){if(b8)return Wg;b8=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.assignDefaults=void 0;const e=Ln(),t=Kn();function n(i,a){const{properties:o,items:s}=i.schema;if(a==="object"&&o)for(const l in o)r(i,l,o[l].default);else a==="array"&&Array.isArray(s)&&s.forEach((l,c)=>r(i,c,l.default))}Wg.assignDefaults=n;function r(i,a,o){const{gen:s,compositeRule:l,data:c,opts:d}=i;if(o===void 0)return;const h=(0,e._)`${c}${(0,e.getProperty)(a)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${h}`);return}let m=(0,e._)`${h} === undefined`;d.useDefaults==="empty"&&(m=(0,e._)`${m} || ${h} === null || ${h} === ""`),s.if(m,(0,e._)`${h} = ${(0,e.stringify)(o)}`)}return Wg}var Io={},or={},S8;function es(){if(S8)return or;S8=1,Object.defineProperty(or,"__esModule",{value:!0}),or.validateUnion=or.validateArray=or.usePattern=or.callValidateCode=or.schemaProperties=or.allSchemaProperties=or.noPropertyInData=or.propertyInData=or.isOwnProperty=or.hasPropFunc=or.reportMissingProp=or.checkMissingProp=or.checkReportMissingProp=void 0;const e=Ln(),t=Kn(),n=Uu(),r=Kn();function i(S,A){const{gen:P,data:O,it:D}=S;P.if(d(P,O,A,D.opts.ownProperties),()=>{S.setParams({missingProperty:(0,e._)`${A}`},!0),S.error()})}or.checkReportMissingProp=i;function a({gen:S,data:A,it:{opts:P}},O,D){return(0,e.or)(...O.map(F=>(0,e.and)(d(S,A,F,P.ownProperties),(0,e._)`${D} = ${F}`)))}or.checkMissingProp=a;function o(S,A){S.setParams({missingProperty:A},!0),S.error()}or.reportMissingProp=o;function s(S){return S.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}or.hasPropFunc=s;function l(S,A,P){return(0,e._)`${s(S)}.call(${A}, ${P})`}or.isOwnProperty=l;function c(S,A,P,O){const D=(0,e._)`${A}${(0,e.getProperty)(P)} !== undefined`;return O?(0,e._)`${D} && ${l(S,A,P)}`:D}or.propertyInData=c;function d(S,A,P,O){const D=(0,e._)`${A}${(0,e.getProperty)(P)} === undefined`;return O?(0,e.or)(D,(0,e.not)(l(S,A,P))):D}or.noPropertyInData=d;function h(S){return S?Object.keys(S).filter(A=>A!=="__proto__"):[]}or.allSchemaProperties=h;function m(S,A){return h(A).filter(P=>!(0,t.alwaysValidSchema)(S,A[P]))}or.schemaProperties=m;function y({schemaCode:S,data:A,it:{gen:P,topSchemaRef:O,schemaPath:D,errorPath:F},it:Q},X,U,Y){const ce=Y?(0,e._)`${S}, ${A}, ${O}${D}`:A,te=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,F)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&te.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const se=(0,e._)`${ce}, ${P.object(...te)}`;return U!==e.nil?(0,e._)`${X}.call(${U}, ${se})`:(0,e._)`${X}(${se})`}or.callValidateCode=y;const v=(0,e._)`new RegExp`;function _({gen:S,it:{opts:A}},P){const O=A.unicodeRegExp?"u":"",{regExp:D}=A.code,F=D(P,O);return S.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,e._)`${D.code==="new RegExp"?v:(0,r.useFunc)(S,D)}(${P}, ${O})`})}or.usePattern=_;function x(S){const{gen:A,data:P,keyword:O,it:D}=S,F=A.name("valid");if(D.allErrors){const X=A.let("valid",!0);return Q(()=>A.assign(X,!1)),X}return A.var(F,!0),Q(()=>A.break()),F;function Q(X){const U=A.const("len",(0,e._)`${P}.length`);A.forRange("i",0,U,Y=>{S.subschema({keyword:O,dataProp:Y,dataPropType:t.Type.Num},F),A.if((0,e.not)(F),X)})}}or.validateArray=x;function b(S){const{gen:A,schema:P,keyword:O,it:D}=S;if(!Array.isArray(P))throw new Error("ajv implementation error");if(P.some(U=>(0,t.alwaysValidSchema)(D,U))&&!D.opts.unevaluated)return;const Q=A.let("valid",!1),X=A.name("_valid");A.block(()=>P.forEach((U,Y)=>{const ce=S.subschema({keyword:O,schemaProp:Y,compositeRule:!0},X);A.assign(Q,(0,e._)`${Q} || ${X}`),S.mergeValidEvaluated(ce,X)||A.if((0,e.not)(Q))})),S.result(Q,()=>S.reset(),()=>S.error(!0))}return or.validateUnion=b,or}var x8;function hMe(){if(x8)return Io;x8=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.validateKeywordUsage=Io.validSchemaType=Io.funcKeywordCode=Io.macroKeywordCode=void 0;const e=Ln(),t=Uu(),n=es(),r=by();function i(m,y){const{gen:v,keyword:_,schema:x,parentSchema:b,it:S}=m,A=y.macro.call(S.self,x,b,S),P=c(v,_,A);S.opts.validateSchema!==!1&&S.self.validateSchema(A,!0);const O=v.name("valid");m.subschema({schema:A,schemaPath:e.nil,errSchemaPath:`${S.errSchemaPath}/${_}`,topSchemaRef:P,compositeRule:!0},O),m.pass(O,()=>m.error(!0))}Io.macroKeywordCode=i;function a(m,y){var v;const{gen:_,keyword:x,schema:b,parentSchema:S,$data:A,it:P}=m;l(P,y);const O=!A&&y.compile?y.compile.call(P.self,b,S,P):y.validate,D=c(_,x,O),F=_.let("valid");m.block$data(F,Q),m.ok((v=y.valid)!==null&&v!==void 0?v:F);function Q(){if(y.errors===!1)Y(),y.modifying&&o(m),ce(()=>m.error());else{const te=y.async?X():U();y.modifying&&o(m),ce(()=>s(m,te))}}function X(){const te=_.let("ruleErrs",null);return _.try(()=>Y((0,e._)`await `),se=>_.assign(F,!1).if((0,e._)`${se} instanceof ${P.ValidationError}`,()=>_.assign(te,(0,e._)`${se}.errors`),()=>_.throw(se))),te}function U(){const te=(0,e._)`${D}.errors`;return _.assign(te,null),Y(e.nil),te}function Y(te=y.async?(0,e._)`await `:e.nil){const se=P.opts.passContext?t.default.this:t.default.self,pe=!("compile"in y&&!A||y.schema===!1);_.assign(F,(0,e._)`${te}${(0,n.callValidateCode)(m,D,se,pe)}`,y.modifying)}function ce(te){var se;_.if((0,e.not)((se=y.valid)!==null&&se!==void 0?se:F),te)}}Io.funcKeywordCode=a;function o(m){const{gen:y,data:v,it:_}=m;y.if(_.parentData,()=>y.assign(v,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function s(m,y){const{gen:v}=m;v.if((0,e._)`Array.isArray(${y})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${y} : ${t.default.vErrors}.concat(${y})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function c(m,y,v){if(v===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function d(m,y,v=!1){return!y.length||y.some(_=>_==="array"?Array.isArray(m):_==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==_||v&&typeof m>"u")}Io.validSchemaType=d;function h({schema:m,opts:y,self:v,errSchemaPath:_},x,b){if(Array.isArray(x.keyword)?!x.keyword.includes(b):x.keyword!==b)throw new Error("ajv implementation error");const S=x.dependencies;if(S!=null&&S.some(A=>!Object.prototype.hasOwnProperty.call(m,A)))throw new Error(`parent schema must have dependencies of ${b}: ${S.join(",")}`);if(x.validateSchema&&!x.validateSchema(m[b])){const P=`keyword "${b}" value is invalid at path "${_}": `+v.errorsText(x.validateSchema.errors);if(y.validateSchema==="log")v.logger.error(P);else throw new Error(P)}}return Io.validateKeywordUsage=h,Io}var hu={},E8;function pMe(){if(E8)return hu;E8=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.extendSubschemaMode=hu.extendSubschemaData=hu.getSubschema=void 0;const e=Ln(),t=Kn();function n(a,{keyword:o,schemaProp:s,schema:l,schemaPath:c,errSchemaPath:d,topSchemaRef:h}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const m=a.schema[o];return s===void 0?{schema:m,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:m[s],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,t.escapeFragment)(s)}`}}if(l!==void 0){if(c===void 0||d===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:h,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}hu.getSubschema=n;function r(a,o,{dataProp:s,dataPropType:l,data:c,dataTypes:d,propertyName:h}){if(c!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=o;if(s!==void 0){const{errorPath:v,dataPathArr:_,opts:x}=o,b=m.let("data",(0,e._)`${o.data}${(0,e.getProperty)(s)}`,!0);y(b),a.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(s,l,x.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${s}`,a.dataPathArr=[..._,a.parentDataProperty]}if(c!==void 0){const v=c instanceof e.Name?c:m.let("data",c,!0);y(v),h!==void 0&&(a.propertyName=h)}d&&(a.dataTypes=d);function y(v){a.data=v,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,v]}}hu.extendSubschemaData=r;function i(a,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:l,createErrors:c,allErrors:d}){l!==void 0&&(a.compositeRule=l),c!==void 0&&(a.createErrors=c),d!==void 0&&(a.allErrors=d),a.jtdDiscriminator=o,a.jtdMetadata=s}return hu.extendSubschemaMode=i,hu}var sa={},AA,C8;function aG(){return C8||(C8=1,AA=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),AA}var RA={exports:{}},T8;function gMe(){if(T8)return RA.exports;T8=1;var e=RA.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var o=typeof a=="function"?a:a.pre||function(){},s=a.post||function(){};t(i,o,s,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,a,o,s,l,c,d,h,m){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,s,l,c,d,h,m);for(var y in o){var v=o[y];if(Array.isArray(v)){if(y in e.arrayKeywords)for(var _=0;_<v.length;_++)t(r,i,a,v[_],s+"/"+y+"/"+_,l,s,y,o,_)}else if(y in e.propsKeywords){if(v&&typeof v=="object")for(var x in v)t(r,i,a,v[x],s+"/"+y+"/"+n(x),l,s,y,o,x)}else(y in e.keywords||r.allKeys&&!(y in e.skipKeywords))&&t(r,i,a,v,s+"/"+y,l,s,y,o)}a(o,s,l,c,d,h,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return RA.exports}var A8;function Ob(){if(A8)return sa;A8=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.getSchemaRefs=sa.resolveUrl=sa.normalizeId=sa._getFullPath=sa.getFullPath=sa.inlineRef=void 0;const e=Kn(),t=aG(),n=gMe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(_,x=!0){return typeof _=="boolean"?!0:x===!0?!o(_):x?s(_)<=x:!1}sa.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(_){for(const x in _){if(a.has(x))return!0;const b=_[x];if(Array.isArray(b)&&b.some(o)||typeof b=="object"&&o(b))return!0}return!1}function s(_){let x=0;for(const b in _){if(b==="$ref")return 1/0;if(x++,!r.has(b)&&(typeof _[b]=="object"&&(0,e.eachItem)(_[b],S=>x+=s(S)),x===1/0))return 1/0}return x}function l(_,x="",b){b!==!1&&(x=h(x));const S=_.parse(x);return c(_,S)}sa.getFullPath=l;function c(_,x){return _.serialize(x).split("#")[0]+"#"}sa._getFullPath=c;const d=/#\/?$/;function h(_){return _?_.replace(d,""):""}sa.normalizeId=h;function m(_,x,b){return b=h(b),_.resolve(x,b)}sa.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function v(_,x){if(typeof _=="boolean")return{};const{schemaId:b,uriResolver:S}=this.opts,A=h(_[b]||x),P={"":A},O=l(S,A,!1),D={},F=new Set;return n(_,{allKeys:!0},(U,Y,ce,te)=>{if(te===void 0)return;const se=O+Y;let pe=P[te];typeof U[b]=="string"&&(pe=_e.call(this,U[b])),de.call(this,U.$anchor),de.call(this,U.$dynamicAnchor),P[Y]=pe;function _e(ue){const Re=this.opts.uriResolver.resolve;if(ue=h(pe?Re(pe,ue):ue),F.has(ue))throw X(ue);F.add(ue);let k=this.refs[ue];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(U,k.schema,ue):ue!==h(se)&&(ue[0]==="#"?(Q(U,D[ue],ue),D[ue]=U):this.refs[ue]=se),ue}function de(ue){if(typeof ue=="string"){if(!y.test(ue))throw new Error(`invalid anchor "${ue}"`);_e.call(this,`#${ue}`)}}}),D;function Q(U,Y,ce){if(Y!==void 0&&!t(U,Y))throw X(ce)}function X(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return sa.getSchemaRefs=v,sa}var R8;function Sy(){if(R8)return fu;R8=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.getData=fu.KeywordCxt=fu.validateFunctionCode=void 0;const e=fMe(),t=xw(),n=iG(),r=xw(),i=dMe(),a=hMe(),o=pMe(),s=Ln(),l=Uu(),c=Ob(),d=Kn(),h=by();function m(oe){if(O(oe)&&(F(oe),P(oe))){x(oe);return}y(oe,()=>(0,e.topBoolOrEmptySchema)(oe))}fu.validateFunctionCode=m;function y({gen:oe,validateName:z,schema:$,schemaEnv:ae,opts:Z},he){Z.code.es5?oe.func(z,(0,s._)`${l.default.data}, ${l.default.valCxt}`,ae.$async,()=>{oe.code((0,s._)`"use strict"; ${S($,Z)}`),_(oe,Z),oe.code(he)}):oe.func(z,(0,s._)`${l.default.data}, ${v(Z)}`,ae.$async,()=>oe.code(S($,Z)).code(he))}function v(oe){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${oe.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function _(oe,z){oe.if(l.default.valCxt,()=>{oe.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),oe.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),oe.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),oe.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),z.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{oe.var(l.default.instancePath,(0,s._)`""`),oe.var(l.default.parentData,(0,s._)`undefined`),oe.var(l.default.parentDataProperty,(0,s._)`undefined`),oe.var(l.default.rootData,l.default.data),z.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function x(oe){const{schema:z,opts:$,gen:ae}=oe;y(oe,()=>{$.$comment&&z.$comment&&te(oe),U(oe),ae.let(l.default.vErrors,null),ae.let(l.default.errors,0),$.unevaluated&&b(oe),Q(oe),se(oe)})}function b(oe){const{gen:z,validateName:$}=oe;oe.evaluated=z.const("evaluated",(0,s._)`${$}.evaluated`),z.if((0,s._)`${oe.evaluated}.dynamicProps`,()=>z.assign((0,s._)`${oe.evaluated}.props`,(0,s._)`undefined`)),z.if((0,s._)`${oe.evaluated}.dynamicItems`,()=>z.assign((0,s._)`${oe.evaluated}.items`,(0,s._)`undefined`))}function S(oe,z){const $=typeof oe=="object"&&oe[z.schemaId];return $&&(z.code.source||z.code.process)?(0,s._)`/*# sourceURL=${$} */`:s.nil}function A(oe,z){if(O(oe)&&(F(oe),P(oe))){D(oe,z);return}(0,e.boolOrEmptySchema)(oe,z)}function P({schema:oe,self:z}){if(typeof oe=="boolean")return!oe;for(const $ in oe)if(z.RULES.all[$])return!0;return!1}function O(oe){return typeof oe.schema!="boolean"}function D(oe,z){const{schema:$,gen:ae,opts:Z}=oe;Z.$comment&&$.$comment&&te(oe),Y(oe),ce(oe);const he=ae.const("_errs",l.default.errors);Q(oe,he),ae.var(z,(0,s._)`${he} === ${l.default.errors}`)}function F(oe){(0,d.checkUnknownRules)(oe),X(oe)}function Q(oe,z){if(oe.opts.jtd)return _e(oe,[],!1,z);const $=(0,t.getSchemaTypes)(oe.schema),ae=(0,t.coerceAndCheckDataType)(oe,$);_e(oe,$,!ae,z)}function X(oe){const{schema:z,errSchemaPath:$,opts:ae,self:Z}=oe;z.$ref&&ae.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(z,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function U(oe){const{schema:z,opts:$}=oe;z.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,d.checkStrictMode)(oe,"default is ignored in the schema root")}function Y(oe){const z=oe.schema[oe.opts.schemaId];z&&(oe.baseId=(0,c.resolveUrl)(oe.opts.uriResolver,oe.baseId,z))}function ce(oe){if(oe.schema.$async&&!oe.schemaEnv.$async)throw new Error("async schema in sync schema")}function te({gen:oe,schemaEnv:z,schema:$,errSchemaPath:ae,opts:Z}){const he=$.$comment;if(Z.$comment===!0)oe.code((0,s._)`${l.default.self}.logger.log(${he})`);else if(typeof Z.$comment=="function"){const ye=(0,s.str)`${ae}/$comment`,He=oe.scopeValue("root",{ref:z.root});oe.code((0,s._)`${l.default.self}.opts.$comment(${he}, ${ye}, ${He}.schema)`)}}function se(oe){const{gen:z,schemaEnv:$,validateName:ae,ValidationError:Z,opts:he}=oe;$.$async?z.if((0,s._)`${l.default.errors} === 0`,()=>z.return(l.default.data),()=>z.throw((0,s._)`new ${Z}(${l.default.vErrors})`)):(z.assign((0,s._)`${ae}.errors`,l.default.vErrors),he.unevaluated&&pe(oe),z.return((0,s._)`${l.default.errors} === 0`))}function pe({gen:oe,evaluated:z,props:$,items:ae}){$ instanceof s.Name&&oe.assign((0,s._)`${z}.props`,$),ae instanceof s.Name&&oe.assign((0,s._)`${z}.items`,ae)}function _e(oe,z,$,ae){const{gen:Z,schema:he,data:ye,allErrors:He,opts:Ee,self:Fe}=oe,{RULES:tt}=Fe;if(he.$ref&&(Ee.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(he,tt))){Z.block(()=>Ze(oe,"$ref",tt.all.$ref.definition));return}Ee.jtd||ue(oe,z),Z.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(he,gt)&&(gt.type?(Z.if((0,r.checkDataType)(gt.type,ye,Ee.strictNumbers)),de(oe,gt),z.length===1&&z[0]===gt.type&&$&&(Z.else(),(0,r.reportTypeError)(oe)),Z.endIf()):de(oe,gt),He||Z.if((0,s._)`${l.default.errors} === ${ae||0}`))}}function de(oe,z){const{gen:$,schema:ae,opts:{useDefaults:Z}}=oe;Z&&(0,i.assignDefaults)(oe,z.type),$.block(()=>{for(const he of z.rules)(0,n.shouldUseRule)(ae,he)&&Ze(oe,he.keyword,he.definition,z.type)})}function ue(oe,z){oe.schemaEnv.meta||!oe.opts.strictTypes||(Re(oe,z),oe.opts.allowUnionTypes||k(oe,z),ie(oe,oe.dataTypes))}function Re(oe,z){if(z.length){if(!oe.dataTypes.length){oe.dataTypes=z;return}z.forEach($=>{K(oe.dataTypes,$)||ge(oe,`type "${$}" not allowed by context "${oe.dataTypes.join(",")}"`)}),ee(oe,z)}}function k(oe,z){z.length>1&&!(z.length===2&&z.includes("null"))&&ge(oe,"use allowUnionTypes to allow union type keyword")}function ie(oe,z){const $=oe.self.RULES.all;for(const ae in $){const Z=$[ae];if(typeof Z=="object"&&(0,n.shouldUseRule)(oe.schema,Z)){const{type:he}=Z.definition;he.length&&!he.some(ye=>me(z,ye))&&ge(oe,`missing type "${he.join(",")}" for keyword "${ae}"`)}}}function me(oe,z){return oe.includes(z)||z==="number"&&oe.includes("integer")}function K(oe,z){return oe.includes(z)||z==="integer"&&oe.includes("number")}function ee(oe,z){const $=[];for(const ae of oe.dataTypes)K(z,ae)?$.push(ae):z.includes("integer")&&ae==="number"&&$.push("integer");oe.dataTypes=$}function ge(oe,z){const $=oe.schemaEnv.baseId+oe.errSchemaPath;z+=` at "${$}" (strictTypes)`,(0,d.checkStrictMode)(oe,z,oe.opts.strictTypes)}class Ae{constructor(z,$,ae){if((0,a.validateKeywordUsage)(z,$,ae),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=ae,this.data=z.data,this.schema=z.schema[ae],this.$data=$.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(z,this.schema,ae,this.$data),this.schemaType=$.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=$,this.$data)this.schemaCode=z.gen.const("vSchema",Ye(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${ae} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=z.gen.const("_errs",l.default.errors))}result(z,$,ae){this.failResult((0,s.not)(z),$,ae)}failResult(z,$,ae){this.gen.if(z),ae?ae():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,$){this.failResult((0,s.not)(z),void 0,$)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:$}=this;this.fail((0,s._)`${$} !== undefined && (${(0,s.or)(this.invalid$data(),z)})`)}error(z,$,ae){if($){this.setParams($),this._error(z,ae),this.setParams({});return}this._error(z,ae)}_error(z,$){(z?h.reportExtraError:h.reportError)(this,this.def.error,$)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,$){$?Object.assign(this.params,z):this.params=z}block$data(z,$,ae=s.nil){this.gen.block(()=>{this.check$data(z,ae),$()})}check$data(z=s.nil,$=s.nil){if(!this.$data)return;const{gen:ae,schemaCode:Z,schemaType:he,def:ye}=this;ae.if((0,s.or)((0,s._)`${Z} === undefined`,$)),z!==s.nil&&ae.assign(z,!0),(he.length||ye.validateSchema)&&(ae.elseIf(this.invalid$data()),this.$dataError(),z!==s.nil&&ae.assign(z,!1)),ae.else()}invalid$data(){const{gen:z,schemaCode:$,schemaType:ae,def:Z,it:he}=this;return(0,s.or)(ye(),He());function ye(){if(ae.length){if(!($ instanceof s.Name))throw new Error("ajv implementation error");const Ee=Array.isArray(ae)?ae:[ae];return(0,s._)`${(0,r.checkDataTypes)(Ee,$,he.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function He(){if(Z.validateSchema){const Ee=z.scopeValue("validate$data",{ref:Z.validateSchema});return(0,s._)`!${Ee}(${$})`}return s.nil}}subschema(z,$){const ae=(0,o.getSubschema)(this.it,z);(0,o.extendSubschemaData)(ae,this.it,z),(0,o.extendSubschemaMode)(ae,z);const Z={...this.it,...ae,items:void 0,props:void 0};return A(Z,$),Z}mergeEvaluated(z,$){const{it:ae,gen:Z}=this;ae.opts.unevaluated&&(ae.props!==!0&&z.props!==void 0&&(ae.props=d.mergeEvaluated.props(Z,z.props,ae.props,$)),ae.items!==!0&&z.items!==void 0&&(ae.items=d.mergeEvaluated.items(Z,z.items,ae.items,$)))}mergeValidEvaluated(z,$){const{it:ae,gen:Z}=this;if(ae.opts.unevaluated&&(ae.props!==!0||ae.items!==!0))return Z.if($,()=>this.mergeEvaluated(z,s.Name)),!0}}fu.KeywordCxt=Ae;function Ze(oe,z,$,ae){const Z=new Ae(oe,$,z);"code"in $?$.code(Z,ae):Z.$data&&$.validate?(0,a.funcKeywordCode)(Z,$):"macro"in $?(0,a.macroKeywordCode)(Z,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(Z,$)}const Pe=/^\/(?:[^~]|~0|~1)*$/,Ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ye(oe,{dataLevel:z,dataNames:$,dataPathArr:ae}){let Z,he;if(oe==="")return l.default.rootData;if(oe[0]==="/"){if(!Pe.test(oe))throw new Error(`Invalid JSON-pointer: ${oe}`);Z=oe,he=l.default.rootData}else{const Fe=Ne.exec(oe);if(!Fe)throw new Error(`Invalid JSON-pointer: ${oe}`);const tt=+Fe[1];if(Z=Fe[2],Z==="#"){if(tt>=z)throw new Error(Ee("property/index",tt));return ae[z-tt]}if(tt>z)throw new Error(Ee("data",tt));if(he=$[z-tt],!Z)return he}let ye=he;const He=Z.split("/");for(const Fe of He)Fe&&(he=(0,s._)`${he}${(0,s.getProperty)((0,d.unescapeJsonPointer)(Fe))}`,ye=(0,s._)`${ye} && ${he}`);return ye;function Ee(Fe,tt){return`Cannot access ${Fe} ${tt} levels up, current level is ${z}`}}return fu.getData=Ye,fu}var E_={},P8;function bL(){if(P8)return E_;P8=1,Object.defineProperty(E_,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return E_.default=e,E_}var C_={},O8;function SL(){if(O8)return C_;O8=1,Object.defineProperty(C_,"__esModule",{value:!0});const e=Ob();class t extends Error{constructor(r,i,a,o){super(o||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return C_.default=t,C_}var Ua={},L8;function xL(){if(L8)return Ua;L8=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.resolveSchema=Ua.getCompilingSchema=Ua.resolveRef=Ua.compileSchema=Ua.SchemaEnv=void 0;const e=Ln(),t=bL(),n=Uu(),r=Ob(),i=Kn(),a=Sy();class o{constructor(b){var S;this.refs={},this.dynamicAnchors={};let A;typeof b.schema=="object"&&(A=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(S=b.baseId)!==null&&S!==void 0?S:(0,r.normalizeId)(A==null?void 0:A[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}Ua.SchemaEnv=o;function s(x){const b=d.call(this,x);if(b)return b;const S=(0,r.getFullPath)(this.opts.uriResolver,x.root.baseId),{es5:A,lines:P}=this.opts.code,{ownProperties:O}=this.opts,D=new e.CodeGen(this.scope,{es5:A,lines:P,ownProperties:O});let F;x.$async&&(F=D.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");x.validateName=Q;const X={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:x.schema,code:(0,e.stringify)(x.schema)}:{ref:x.schema}),validateName:Q,ValidationError:F,schema:x.schema,schemaEnv:x,rootId:S,baseId:x.baseId||S,schemaPath:e.nil,errSchemaPath:x.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(x),(0,a.validateFunctionCode)(X),D.optimize(this.opts.code.optimize);const Y=D.toString();U=`${D.scopeRefs(n.default.scope)}return ${Y}`,this.opts.code.process&&(U=this.opts.code.process(U,x));const te=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(Q,{ref:te}),te.errors=null,te.schema=x.schema,te.schemaEnv=x,x.$async&&(te.$async=!0),this.opts.code.source===!0&&(te.source={validateName:Q,validateCode:Y,scopeValues:D._values}),this.opts.unevaluated){const{props:se,items:pe}=X;te.evaluated={props:se instanceof e.Name?void 0:se,items:pe instanceof e.Name?void 0:pe,dynamicProps:se instanceof e.Name,dynamicItems:pe instanceof e.Name},te.source&&(te.source.evaluated=(0,e.stringify)(te.evaluated))}return x.validate=te,x}catch(Y){throw delete x.validate,delete x.validateName,U&&this.logger.error("Error compiling schema, function code:",U),Y}finally{this._compilations.delete(x)}}Ua.compileSchema=s;function l(x,b,S){var A;S=(0,r.resolveUrl)(this.opts.uriResolver,b,S);const P=x.refs[S];if(P)return P;let O=m.call(this,x,S);if(O===void 0){const D=(A=x.localRefs)===null||A===void 0?void 0:A[S],{schemaId:F}=this.opts;D&&(O=new o({schema:D,schemaId:F,root:x,baseId:b}))}if(O!==void 0)return x.refs[S]=c.call(this,O)}Ua.resolveRef=l;function c(x){return(0,r.inlineRef)(x.schema,this.opts.inlineRefs)?x.schema:x.validate?x:s.call(this,x)}function d(x){for(const b of this._compilations)if(h(b,x))return b}Ua.getCompilingSchema=d;function h(x,b){return x.schema===b.schema&&x.root===b.root&&x.baseId===b.baseId}function m(x,b){let S;for(;typeof(S=this.refs[b])=="string";)b=S;return S||this.schemas[b]||y.call(this,x,b)}function y(x,b){const S=this.opts.uriResolver.parse(b),A=(0,r._getFullPath)(this.opts.uriResolver,S);let P=(0,r.getFullPath)(this.opts.uriResolver,x.baseId,void 0);if(Object.keys(x.schema).length>0&&A===P)return _.call(this,S,x);const O=(0,r.normalizeId)(A),D=this.refs[O]||this.schemas[O];if(typeof D=="string"){const F=y.call(this,x,D);return typeof(F==null?void 0:F.schema)!="object"?void 0:_.call(this,S,F)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||s.call(this,D),O===(0,r.normalizeId)(b)){const{schema:F}=D,{schemaId:Q}=this.opts,X=F[Q];return X&&(P=(0,r.resolveUrl)(this.opts.uriResolver,P,X)),new o({schema:F,schemaId:Q,root:x,baseId:P})}return _.call(this,S,D)}}Ua.resolveSchema=y;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(x,{baseId:b,schema:S,root:A}){var P;if(((P=x.fragment)===null||P===void 0?void 0:P[0])!=="/")return;for(const F of x.fragment.slice(1).split("/")){if(typeof S=="boolean")return;const Q=S[(0,i.unescapeFragment)(F)];if(Q===void 0)return;S=Q;const X=typeof S=="object"&&S[this.opts.schemaId];!v.has(F)&&X&&(b=(0,r.resolveUrl)(this.opts.uriResolver,b,X))}let O;if(typeof S!="boolean"&&S.$ref&&!(0,i.schemaHasRulesButRef)(S,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,b,S.$ref);O=y.call(this,A,F)}const{schemaId:D}=this.opts;if(O=O||new o({schema:S,schemaId:D,root:A,baseId:b}),O.schema!==O.root.schema)return O}return Ua}const mMe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",yMe="Meta-schema for $data reference (JSON AnySchema extension proposal)",vMe="object",_Me=["$data"],wMe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},bMe=!1,SMe={$id:mMe,description:yMe,type:vMe,required:_Me,properties:wMe,additionalProperties:bMe};var T_={},cm={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var xMe=cm.exports,I8;function EMe(){return I8||(I8=1,function(e,t){(function(n,r){r(t)})(xMe,function(n){function r(){for(var We=arguments.length,Ce=Array(We),et=0;et<We;et++)Ce[et]=arguments[et];if(Ce.length>1){Ce[0]=Ce[0].slice(0,-1);for(var ft=Ce.length-1,it=1;it<ft;++it)Ce[it]=Ce[it].slice(1,-1);return Ce[ft]=Ce[ft].slice(1),Ce.join("")}else return Ce[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function o(We){return We.toUpperCase()}function s(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,Ce){var et=We;if(Ce)for(var ft in Ce)et[ft]=Ce[ft];return et}function c(We){var Ce="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Ct="[\\:\\/\\?\\#\\[\\]\\@]",Dt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Gt=r(Ct,Dt),Xt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ht=We?"[\\uE000-\\uF8FF]":"[]",jt=r(Ce,et,"[\\-\\.\\_\\~]",Xt);i(Ce+r(Ce,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(jt,Dt,"[\\:]"))+"*");var tn=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Pn=i(tn+"\\."+tn+"\\."+tn+"\\."+tn),Wt=i(ft+"{1,4}"),Zt=i(i(Wt+"\\:"+Wt)+"|"+Pn),En=i(i(Wt+"\\:")+"{6}"+Zt),Cn=i("\\:\\:"+i(Wt+"\\:")+"{5}"+Zt),qn=i(i(Wt)+"?\\:\\:"+i(Wt+"\\:")+"{4}"+Zt),Ar=i(i(i(Wt+"\\:")+"{0,1}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{3}"+Zt),Vr=i(i(i(Wt+"\\:")+"{0,2}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{2}"+Zt),Kr=i(i(i(Wt+"\\:")+"{0,3}"+Wt)+"?\\:\\:"+Wt+"\\:"+Zt),Ir=i(i(i(Wt+"\\:")+"{0,4}"+Wt)+"?\\:\\:"+Zt),$n=i(i(i(Wt+"\\:")+"{0,5}"+Wt)+"?\\:\\:"+Wt),Yr=i(i(i(Wt+"\\:")+"{0,6}"+Wt)+"?\\:\\:"),Wi=i([En,Cn,qn,Ar,Vr,Kr,Ir,$n,Yr].join("|")),T=i(i(jt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(jt,Dt,"[\\:]")+"+"),i(i(it+"|"+r(jt,Dt))+"*");var C=i(it+"|"+r(jt,Dt,"[\\:\\@]"));return i(i(it+"|"+r(jt,Dt,"[\\@]"))+"+"),i(i(C+"|"+r("[\\/\\?]",Ht))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ce,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",jt,Dt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",jt,Dt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",jt,Dt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",jt,Dt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]",Ht),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",jt,Dt),"g"),UNRESERVED:new RegExp(jt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",jt,Gt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Pn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Wi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+T+")")+"?\\]?$")}}var d=c(!1),h=c(!0),m=function(){function We(Ce,et){var ft=[],it=!0,Ct=!1,Dt=void 0;try{for(var Gt=Ce[Symbol.iterator](),Xt;!(it=(Xt=Gt.next()).done)&&(ft.push(Xt.value),!(et&&ft.length===et));it=!0);}catch(Ht){Ct=!0,Dt=Ht}finally{try{!it&&Gt.return&&Gt.return()}finally{if(Ct)throw Dt}}return ft}return function(Ce,et){if(Array.isArray(Ce))return Ce;if(Symbol.iterator in Object(Ce))return We(Ce,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ce=0,et=Array(We.length);Ce<We.length;Ce++)et[Ce]=We[Ce];return et}else return Array.from(We)},v=2147483647,_=36,x=1,b=26,S=38,A=700,P=72,O=128,D="-",F=/^xn--/,Q=/[^\0-\x7E]/,X=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=_-x,ce=Math.floor,te=String.fromCharCode;function se(We){throw new RangeError(U[We])}function pe(We,Ce){for(var et=[],ft=We.length;ft--;)et[ft]=Ce(We[ft]);return et}function _e(We,Ce){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(X,".");var it=We.split("."),Ct=pe(it,Ce).join(".");return ft+Ct}function de(We){for(var Ce=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Ct=We.charCodeAt(et++);(Ct&64512)==56320?Ce.push(((it&1023)<<10)+(Ct&1023)+65536):(Ce.push(it),et--)}else Ce.push(it)}return Ce}var ue=function(Ce){return String.fromCodePoint.apply(String,y(Ce))},Re=function(Ce){return Ce-48<10?Ce-22:Ce-65<26?Ce-65:Ce-97<26?Ce-97:_},k=function(Ce,et){return Ce+22+75*(Ce<26)-((et!=0)<<5)},ie=function(Ce,et,ft){var it=0;for(Ce=ft?ce(Ce/A):Ce>>1,Ce+=ce(Ce/et);Ce>Y*b>>1;it+=_)Ce=ce(Ce/Y);return ce(it+(Y+1)*Ce/(Ce+S))},me=function(Ce){var et=[],ft=Ce.length,it=0,Ct=O,Dt=P,Gt=Ce.lastIndexOf(D);Gt<0&&(Gt=0);for(var Xt=0;Xt<Gt;++Xt)Ce.charCodeAt(Xt)>=128&&se("not-basic"),et.push(Ce.charCodeAt(Xt));for(var Ht=Gt>0?Gt+1:0;Ht<ft;){for(var jt=it,tn=1,Pn=_;;Pn+=_){Ht>=ft&&se("invalid-input");var Wt=Re(Ce.charCodeAt(Ht++));(Wt>=_||Wt>ce((v-it)/tn))&&se("overflow"),it+=Wt*tn;var Zt=Pn<=Dt?x:Pn>=Dt+b?b:Pn-Dt;if(Wt<Zt)break;var En=_-Zt;tn>ce(v/En)&&se("overflow"),tn*=En}var Cn=et.length+1;Dt=ie(it-jt,Cn,jt==0),ce(it/Cn)>v-Ct&&se("overflow"),Ct+=ce(it/Cn),it%=Cn,et.splice(it++,0,Ct)}return String.fromCodePoint.apply(String,et)},K=function(Ce){var et=[];Ce=de(Ce);var ft=Ce.length,it=O,Ct=0,Dt=P,Gt=!0,Xt=!1,Ht=void 0;try{for(var jt=Ce[Symbol.iterator](),tn;!(Gt=(tn=jt.next()).done);Gt=!0){var Pn=tn.value;Pn<128&&et.push(te(Pn))}}catch(Oe){Xt=!0,Ht=Oe}finally{try{!Gt&&jt.return&&jt.return()}finally{if(Xt)throw Ht}}var Wt=et.length,Zt=Wt;for(Wt&&et.push(D);Zt<ft;){var En=v,Cn=!0,qn=!1,Ar=void 0;try{for(var Vr=Ce[Symbol.iterator](),Kr;!(Cn=(Kr=Vr.next()).done);Cn=!0){var Ir=Kr.value;Ir>=it&&Ir<En&&(En=Ir)}}catch(Oe){qn=!0,Ar=Oe}finally{try{!Cn&&Vr.return&&Vr.return()}finally{if(qn)throw Ar}}var $n=Zt+1;En-it>ce((v-Ct)/$n)&&se("overflow"),Ct+=(En-it)*$n,it=En;var Yr=!0,Wi=!1,T=void 0;try{for(var C=Ce[Symbol.iterator](),R;!(Yr=(R=C.next()).done);Yr=!0){var N=R.value;if(N<it&&++Ct>v&&se("overflow"),N==it){for(var J=Ct,le=_;;le+=_){var we=le<=Dt?x:le>=Dt+b?b:le-Dt;if(J<we)break;var Ie=J-we,xe=_-we;et.push(te(k(we+Ie%xe,0))),J=ce(Ie/xe)}et.push(te(k(J,0))),Dt=ie(Ct,$n,Zt==Wt),Ct=0,++Zt}}}catch(Oe){Wi=!0,T=Oe}finally{try{!Yr&&C.return&&C.return()}finally{if(Wi)throw T}}++Ct,++it}return et.join("")},ee=function(Ce){return _e(Ce,function(et){return F.test(et)?me(et.slice(4).toLowerCase()):et})},ge=function(Ce){return _e(Ce,function(et){return Q.test(et)?"xn--"+K(et):et})},Ae={version:"2.1.0",ucs2:{decode:de,encode:ue},decode:me,encode:K,toASCII:ge,toUnicode:ee},Ze={};function Pe(We){var Ce=We.charCodeAt(0),et=void 0;return Ce<16?et="%0"+Ce.toString(16).toUpperCase():Ce<128?et="%"+Ce.toString(16).toUpperCase():Ce<2048?et="%"+(Ce>>6|192).toString(16).toUpperCase()+"%"+(Ce&63|128).toString(16).toUpperCase():et="%"+(Ce>>12|224).toString(16).toUpperCase()+"%"+(Ce>>6&63|128).toString(16).toUpperCase()+"%"+(Ce&63|128).toString(16).toUpperCase(),et}function Ne(We){for(var Ce="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ce+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Ct=parseInt(We.substr(et+4,2),16);Ce+=String.fromCharCode((it&31)<<6|Ct&63)}else Ce+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var Dt=parseInt(We.substr(et+4,2),16),Gt=parseInt(We.substr(et+7,2),16);Ce+=String.fromCharCode((it&15)<<12|(Dt&63)<<6|Gt&63)}else Ce+=We.substr(et,9);et+=9}else Ce+=We.substr(et,3),et+=3}return Ce}function Ye(We,Ce){function et(ft){var it=Ne(ft);return it.match(Ce.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ce.PCT_ENCODED,et).toLowerCase().replace(Ce.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_USERINFO,Pe).replace(Ce.PCT_ENCODED,o)),We.host!==void 0&&(We.host=String(We.host).replace(Ce.PCT_ENCODED,et).toLowerCase().replace(Ce.NOT_HOST,Pe).replace(Ce.PCT_ENCODED,o)),We.path!==void 0&&(We.path=String(We.path).replace(Ce.PCT_ENCODED,et).replace(We.scheme?Ce.NOT_PATH:Ce.NOT_PATH_NOSCHEME,Pe).replace(Ce.PCT_ENCODED,o)),We.query!==void 0&&(We.query=String(We.query).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_QUERY,Pe).replace(Ce.PCT_ENCODED,o)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_FRAGMENT,Pe).replace(Ce.PCT_ENCODED,o)),We}function oe(We){return We.replace(/^0*(.*)/,"$1")||"0"}function z(We,Ce){var et=We.match(Ce.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(oe).join("."):We}function $(We,Ce){var et=We.match(Ce.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Ct=ft[2];if(it){for(var Dt=it.toLowerCase().split("::").reverse(),Gt=m(Dt,2),Xt=Gt[0],Ht=Gt[1],jt=Ht?Ht.split(":").map(oe):[],tn=Xt.split(":").map(oe),Pn=Ce.IPV4ADDRESS.test(tn[tn.length-1]),Wt=Pn?7:8,Zt=tn.length-Wt,En=Array(Wt),Cn=0;Cn<Wt;++Cn)En[Cn]=jt[Cn]||tn[Zt+Cn]||"";Pn&&(En[Wt-1]=z(En[Wt-1],Ce));var qn=En.reduce(function($n,Yr,Wi){if(!Yr||Yr==="0"){var T=$n[$n.length-1];T&&T.index+T.length===Wi?T.length++:$n.push({index:Wi,length:1})}return $n},[]),Ar=qn.sort(function($n,Yr){return Yr.length-$n.length})[0],Vr=void 0;if(Ar&&Ar.length>1){var Kr=En.slice(0,Ar.index),Ir=En.slice(Ar.index+Ar.length);Vr=Kr.join(":")+"::"+Ir.join(":")}else Vr=En.join(":");return Ct&&(Vr+="%"+Ct),Vr}else return We}var ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z="".match(/(){0}/)[1]===void 0;function he(We){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ce.iri!==!1?h:d;Ce.reference==="suffix"&&(We=(Ce.scheme?Ce.scheme+":":"")+"//"+We);var it=We.match(ae);if(it){Z?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(z(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ce.reference&&Ce.reference!=="suffix"&&Ce.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ce.reference+" reference.");var Ct=Ze[(Ce.scheme||et.scheme||"").toLowerCase()];if(!Ce.unicodeSupport&&(!Ct||!Ct.unicodeSupport)){if(et.host&&(Ce.domainHost||Ct&&Ct.domainHost))try{et.host=Ae.toASCII(et.host.replace(ft.PCT_ENCODED,Ne).toLowerCase())}catch(Dt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Dt}Ye(et,d)}else Ye(et,ft);Ct&&Ct.parse&&Ct.parse(et,Ce)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ce){var et=Ce.iri!==!1?h:d,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(z(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Ct,Dt){return"["+Ct+(Dt?"%25"+Dt:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Ee=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ce=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Ee))We=We.replace(Ee,"/");else if(We.match(Fe))We=We.replace(Fe,"/"),Ce.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ce.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ce.join("")}function gt(We){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ce.iri?h:d,ft=[],it=Ze[(Ce.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ce),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ce.domainHost||it&&it.domainHost)try{We.host=Ce.iri?Ae.toUnicode(We.host):Ae.toASCII(We.host.replace(et.PCT_ENCODED,Ne).toLowerCase())}catch(Gt){We.error=We.error||"Host's domain name can not be converted to "+(Ce.iri?"Unicode":"ASCII")+" via punycode: "+Gt}}Ye(We,et),Ce.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Ct=ye(We,Ce);if(Ct!==void 0&&(Ce.reference!=="suffix"&&ft.push("//"),ft.push(Ct),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var Dt=We.path;!Ce.absolutePath&&(!it||!it.absolutePath)&&(Dt=nt(Dt)),Ct===void 0&&(Dt=Dt.replace(/^\/\//,"/%2F")),ft.push(Dt)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function qt(We,Ce){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=he(gt(We,et),et),Ce=he(gt(Ce,et),et)),et=et||{},!et.tolerant&&Ce.scheme?(it.scheme=Ce.scheme,it.userinfo=Ce.userinfo,it.host=Ce.host,it.port=Ce.port,it.path=nt(Ce.path||""),it.query=Ce.query):(Ce.userinfo!==void 0||Ce.host!==void 0||Ce.port!==void 0?(it.userinfo=Ce.userinfo,it.host=Ce.host,it.port=Ce.port,it.path=nt(Ce.path||""),it.query=Ce.query):(Ce.path?(Ce.path.charAt(0)==="/"?it.path=nt(Ce.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ce.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ce.path:it.path=Ce.path,it.path=nt(it.path)),it.query=Ce.query):(it.path=We.path,Ce.query!==void 0?it.query=Ce.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ce.fragment,it}function Se(We,Ce,et){var ft=l({scheme:"null"},et);return gt(qt(he(We,ft),he(Ce,ft),ft,!0),ft)}function Be(We,Ce){return typeof We=="string"?We=gt(he(We,Ce),Ce):a(We)==="object"&&(We=he(gt(We,Ce),Ce)),We}function ne(We,Ce,et){return typeof We=="string"?We=gt(he(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ce=="string"?Ce=gt(he(Ce,et),et):a(Ce)==="object"&&(Ce=gt(Ce,et)),We===Ce}function q(We,Ce){return We&&We.toString().replace(!Ce||!Ce.iri?d.ESCAPE:h.ESCAPE,Pe)}function W(We,Ce){return We&&We.toString().replace(!Ce||!Ce.iri?d.PCT_ENCODED:h.PCT_ENCODED,Ne)}var G={scheme:"http",domainHost:!0,parse:function(Ce,et){return Ce.host||(Ce.error=Ce.error||"HTTP URIs must have a host."),Ce},serialize:function(Ce,et){var ft=String(Ce.scheme).toLowerCase()==="https";return(Ce.port===(ft?443:80)||Ce.port==="")&&(Ce.port=void 0),Ce.path||(Ce.path="/"),Ce}},je={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize};function Je(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ce,et){var ft=Ce;return ft.secure=Je(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ce,et){if((Ce.port===(Je(Ce)?443:80)||Ce.port==="")&&(Ce.port=void 0),typeof Ce.secure=="boolean"&&(Ce.scheme=Ce.secure?"wss":"ws",Ce.secure=void 0),Ce.resourceName){var ft=Ce.resourceName.split("?"),it=m(ft,2),Ct=it[0],Dt=it[1];Ce.path=Ct&&Ct!=="/"?Ct:void 0,Ce.query=Dt,Ce.resourceName=void 0}return Ce.fragment=void 0,Ce}},Rt={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},Lt={},Nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Pt="[0-9A-Fa-f]",zt=i(i("%[EFef]"+Pt+"%"+Pt+Pt+"%"+Pt+Pt)+"|"+i("%[89A-Fa-f]"+Pt+"%"+Pt+Pt)+"|"+i("%"+Pt+Pt)),Tr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",dn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hn=r(dn,'[\\"\\\\]'),gr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",un=new RegExp(Nt,"g"),ln=new RegExp(zt,"g"),In=new RegExp(r("[^]",Tr,"[\\.]",'[\\"]',hn),"g"),ur=new RegExp(r("[^]",Nt,gr),"g"),Le=ur;function qe(We){var Ce=Ne(We);return Ce.match(un)?Ce:We}var bt={scheme:"mailto",parse:function(Ce,et){var ft=Ce,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Ct=!1,Dt={},Gt=ft.query.split("&"),Xt=0,Ht=Gt.length;Xt<Ht;++Xt){var jt=Gt[Xt].split("=");switch(jt[0]){case"to":for(var tn=jt[1].split(","),Pn=0,Wt=tn.length;Pn<Wt;++Pn)it.push(tn[Pn]);break;case"subject":ft.subject=W(jt[1],et);break;case"body":ft.body=W(jt[1],et);break;default:Ct=!0,Dt[W(jt[0],et)]=W(jt[1],et);break}}Ct&&(ft.headers=Dt)}ft.query=void 0;for(var Zt=0,En=it.length;Zt<En;++Zt){var Cn=it[Zt].split("@");if(Cn[0]=W(Cn[0]),et.unicodeSupport)Cn[1]=W(Cn[1],et).toLowerCase();else try{Cn[1]=Ae.toASCII(W(Cn[1],et).toLowerCase())}catch(qn){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+qn}it[Zt]=Cn.join("@")}return ft},serialize:function(Ce,et){var ft=Ce,it=s(Ce.to);if(it){for(var Ct=0,Dt=it.length;Ct<Dt;++Ct){var Gt=String(it[Ct]),Xt=Gt.lastIndexOf("@"),Ht=Gt.slice(0,Xt).replace(ln,qe).replace(ln,o).replace(In,Pe),jt=Gt.slice(Xt+1);try{jt=et.iri?Ae.toUnicode(jt):Ae.toASCII(W(jt,et).toLowerCase())}catch(Zt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Zt}it[Ct]=Ht+"@"+jt}ft.path=it.join(",")}var tn=Ce.headers=Ce.headers||{};Ce.subject&&(tn.subject=Ce.subject),Ce.body&&(tn.body=Ce.body);var Pn=[];for(var Wt in tn)tn[Wt]!==Lt[Wt]&&Pn.push(Wt.replace(ln,qe).replace(ln,o).replace(ur,Pe)+"="+tn[Wt].replace(ln,qe).replace(ln,o).replace(Le,Pe));return Pn.length&&(ft.query=Pn.join("&")),ft}},Et=/^([^\:]+)\:(.*)/,Mt={scheme:"urn",parse:function(Ce,et){var ft=Ce.path&&Ce.path.match(Et),it=Ce;if(ft){var Ct=et.scheme||it.scheme||"urn",Dt=ft[1].toLowerCase(),Gt=ft[2],Xt=Ct+":"+(et.nid||Dt),Ht=Ze[Xt];it.nid=Dt,it.nss=Gt,it.path=void 0,Ht&&(it=Ht.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ce,et){var ft=et.scheme||Ce.scheme||"urn",it=Ce.nid,Ct=ft+":"+(et.nid||it),Dt=Ze[Ct];Dt&&(Ce=Dt.serialize(Ce,et));var Gt=Ce,Xt=Ce.nss;return Gt.path=(it||et.nid)+":"+Xt,Gt}},Hn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ce,et){var ft=Ce;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(Hn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ce,et){var ft=Ce;return ft.nss=(Ce.uuid||"").toLowerCase(),ft}};Ze[G.scheme]=G,Ze[je.scheme]=je,Ze[ke.scheme]=ke,Ze[Rt.scheme]=Rt,Ze[bt.scheme]=bt,Ze[Mt.scheme]=Mt,Ze[Jn.scheme]=Jn,n.SCHEMES=Ze,n.pctEncChar=Pe,n.pctDecChars=Ne,n.parse=he,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=qt,n.resolve=Se,n.normalize=Be,n.equal=ne,n.escapeComponent=q,n.unescapeComponent=W,Object.defineProperty(n,"__esModule",{value:!0})})}(cm,cm.exports)),cm.exports}var M8;function CMe(){if(M8)return T_;M8=1,Object.defineProperty(T_,"__esModule",{value:!0});const e=EMe();return e.code='require("ajv/dist/runtime/uri").default',T_.default=e,T_}var D8;function TMe(){return D8||(D8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Sy();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Ln();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=bL(),i=SL(),a=rG(),o=xL(),s=Ln(),l=Ob(),c=xw(),d=Kn(),h=SMe,m=CMe(),y=(k,ie)=>new RegExp(k,ie);y.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),x={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},S=200;function A(k){var ie,me,K,ee,ge,Ae,Ze,Pe,Ne,Ye,oe,z,$,ae,Z,he,ye,He,Ee,Fe,tt,nt,gt,qt,Se;const Be=k.strict,ne=(ie=k.code)===null||ie===void 0?void 0:ie.optimize,q=ne===!0||ne===void 0?1:ne||0,W=(K=(me=k.code)===null||me===void 0?void 0:me.regExp)!==null&&K!==void 0?K:y,G=(ee=k.uriResolver)!==null&&ee!==void 0?ee:m.default;return{strictSchema:(Ae=(ge=k.strictSchema)!==null&&ge!==void 0?ge:Be)!==null&&Ae!==void 0?Ae:!0,strictNumbers:(Pe=(Ze=k.strictNumbers)!==null&&Ze!==void 0?Ze:Be)!==null&&Pe!==void 0?Pe:!0,strictTypes:(Ye=(Ne=k.strictTypes)!==null&&Ne!==void 0?Ne:Be)!==null&&Ye!==void 0?Ye:"log",strictTuples:(z=(oe=k.strictTuples)!==null&&oe!==void 0?oe:Be)!==null&&z!==void 0?z:"log",strictRequired:(ae=($=k.strictRequired)!==null&&$!==void 0?$:Be)!==null&&ae!==void 0?ae:!1,code:k.code?{...k.code,optimize:q,regExp:W}:{optimize:q,regExp:W},loopRequired:(Z=k.loopRequired)!==null&&Z!==void 0?Z:S,loopEnum:(he=k.loopEnum)!==null&&he!==void 0?he:S,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Ee=k.inlineRefs)!==null&&Ee!==void 0?Ee:!0,schemaId:(Fe=k.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(qt=k.unicodeRegExp)!==null&&qt!==void 0?qt:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:G}}class P{constructor(ie={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ie=this.opts={...ie,...A(ie)};const{es5:me,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:me,lines:K}),this.logger=ce(ie.logger);const ee=ie.validateFormats;ie.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,x,ie,"NOT SUPPORTED"),O.call(this,b,ie,"DEPRECATED","warn"),this._metaOpts=U.call(this),ie.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ie.keywords&&X.call(this,ie.keywords),typeof ie.meta=="object"&&this.addMetaSchema(ie.meta),F.call(this),ie.validateFormats=ee}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ie,meta:me,schemaId:K}=this.opts;let ee=h;K==="id"&&(ee={...h},ee.id=ee.$id,delete ee.$id),me&&ie&&this.addMetaSchema(ee,ee[K],!1)}defaultMeta(){const{meta:ie,schemaId:me}=this.opts;return this.opts.defaultMeta=typeof ie=="object"?ie[me]||ie:void 0}validate(ie,me){let K;if(typeof ie=="string"){if(K=this.getSchema(ie),!K)throw new Error(`no schema with key or ref "${ie}"`)}else K=this.compile(ie);const ee=K(me);return"$async"in K||(this.errors=K.errors),ee}compile(ie,me){const K=this._addSchema(ie,me);return K.validate||this._compileSchemaEnv(K)}compileAsync(ie,me){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return ee.call(this,ie,me);async function ee(Ye,oe){await ge.call(this,Ye.$schema);const z=this._addSchema(Ye,oe);return z.validate||Ae.call(this,z)}async function ge(Ye){Ye&&!this.getSchema(Ye)&&await ee.call(this,{$ref:Ye},!0)}async function Ae(Ye){try{return this._compileSchemaEnv(Ye)}catch(oe){if(!(oe instanceof i.default))throw oe;return Ze.call(this,oe),await Pe.call(this,oe.missingSchema),Ae.call(this,Ye)}}function Ze({missingSchema:Ye,missingRef:oe}){if(this.refs[Ye])throw new Error(`AnySchema ${Ye} is loaded but ${oe} cannot be resolved`)}async function Pe(Ye){const oe=await Ne.call(this,Ye);this.refs[Ye]||await ge.call(this,oe.$schema),this.refs[Ye]||this.addSchema(oe,Ye,me)}async function Ne(Ye){const oe=this._loading[Ye];if(oe)return oe;try{return await(this._loading[Ye]=K(Ye))}finally{delete this._loading[Ye]}}}addSchema(ie,me,K,ee=this.opts.validateSchema){if(Array.isArray(ie)){for(const Ae of ie)this.addSchema(Ae,void 0,K,ee);return this}let ge;if(typeof ie=="object"){const{schemaId:Ae}=this.opts;if(ge=ie[Ae],ge!==void 0&&typeof ge!="string")throw new Error(`schema ${Ae} must be string`)}return me=(0,l.normalizeId)(me||ge),this._checkUnique(me),this.schemas[me]=this._addSchema(ie,K,me,ee,!0),this}addMetaSchema(ie,me,K=this.opts.validateSchema){return this.addSchema(ie,me,!0,K),this}validateSchema(ie,me){if(typeof ie=="boolean")return!0;let K;if(K=ie.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ee=this.validate(K,ie);if(!ee&&me){const ge="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(ge);else throw new Error(ge)}return ee}getSchema(ie){let me;for(;typeof(me=D.call(this,ie))=="string";)ie=me;if(me===void 0){const{schemaId:K}=this.opts,ee=new o.SchemaEnv({schema:{},schemaId:K});if(me=o.resolveSchema.call(this,ee,ie),!me)return;this.refs[ie]=me}return me.validate||this._compileSchemaEnv(me)}removeSchema(ie){if(ie instanceof RegExp)return this._removeAllSchemas(this.schemas,ie),this._removeAllSchemas(this.refs,ie),this;switch(typeof ie){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const me=D.call(this,ie);return typeof me=="object"&&this._cache.delete(me.schema),delete this.schemas[ie],delete this.refs[ie],this}case"object":{const me=ie;this._cache.delete(me);let K=ie[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ie){for(const me of ie)this.addKeyword(me);return this}addKeyword(ie,me){let K;if(typeof ie=="string")K=ie,typeof me=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),me.keyword=K);else if(typeof ie=="object"&&me===void 0){if(me=ie,K=me.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(se.call(this,K,me),!me)return(0,d.eachItem)(K,ge=>pe.call(this,ge)),this;de.call(this,me);const ee={...me,type:(0,c.getJSONTypes)(me.type),schemaType:(0,c.getJSONTypes)(me.schemaType)};return(0,d.eachItem)(K,ee.type.length===0?ge=>pe.call(this,ge,ee):ge=>ee.type.forEach(Ae=>pe.call(this,ge,ee,Ae))),this}getKeyword(ie){const me=this.RULES.all[ie];return typeof me=="object"?me.definition:!!me}removeKeyword(ie){const{RULES:me}=this;delete me.keywords[ie],delete me.all[ie];for(const K of me.rules){const ee=K.rules.findIndex(ge=>ge.keyword===ie);ee>=0&&K.rules.splice(ee,1)}return this}addFormat(ie,me){return typeof me=="string"&&(me=new RegExp(me)),this.formats[ie]=me,this}errorsText(ie=this.errors,{separator:me=", ",dataVar:K="data"}={}){return!ie||ie.length===0?"No errors":ie.map(ee=>`${K}${ee.instancePath} ${ee.message}`).reduce((ee,ge)=>ee+me+ge)}$dataMetaSchema(ie,me){const K=this.RULES.all;ie=JSON.parse(JSON.stringify(ie));for(const ee of me){const ge=ee.split("/").slice(1);let Ae=ie;for(const Ze of ge)Ae=Ae[Ze];for(const Ze in K){const Pe=K[Ze];if(typeof Pe!="object")continue;const{$data:Ne}=Pe.definition,Ye=Ae[Ze];Ne&&Ye&&(Ae[Ze]=Re(Ye))}}return ie}_removeAllSchemas(ie,me){for(const K in ie){const ee=ie[K];(!me||me.test(K))&&(typeof ee=="string"?delete ie[K]:ee&&!ee.meta&&(this._cache.delete(ee.schema),delete ie[K]))}}_addSchema(ie,me,K,ee=this.opts.validateSchema,ge=this.opts.addUsedSchema){let Ae;const{schemaId:Ze}=this.opts;if(typeof ie=="object")Ae=ie[Ze];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ie!="boolean")throw new Error("schema must be object or boolean")}let Pe=this._cache.get(ie);if(Pe!==void 0)return Pe;K=(0,l.normalizeId)(Ae||K);const Ne=l.getSchemaRefs.call(this,ie,K);return Pe=new o.SchemaEnv({schema:ie,schemaId:Ze,meta:me,baseId:K,localRefs:Ne}),this._cache.set(Pe.schema,Pe),ge&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=Pe),ee&&this.validateSchema(ie,!0),Pe}_checkUnique(ie){if(this.schemas[ie]||this.refs[ie])throw new Error(`schema with key or id "${ie}" already exists`)}_compileSchemaEnv(ie){if(ie.meta?this._compileMetaSchema(ie):o.compileSchema.call(this,ie),!ie.validate)throw new Error("ajv implementation error");return ie.validate}_compileMetaSchema(ie){const me=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,ie)}finally{this.opts=me}}}P.ValidationError=r.default,P.MissingRefError=i.default,e.default=P;function O(k,ie,me,K="error"){for(const ee in k){const ge=ee;ge in ie&&this.logger[K](`${me}: option ${ee}. ${k[ge]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function F(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ie in k)this.addSchema(k[ie],ie)}function Q(){for(const k in this.opts.formats){const ie=this.opts.formats[k];ie&&this.addFormat(k,ie)}}function X(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ie in k){const me=k[ie];me.keyword||(me.keyword=ie),this.addKeyword(me)}}function U(){const k={...this.opts};for(const ie of v)delete k[ie];return k}const Y={log(){},warn(){},error(){}};function ce(k){if(k===!1)return Y;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const te=/^[a-z_$][a-z0-9_$:-]*$/i;function se(k,ie){const{RULES:me}=this;if((0,d.eachItem)(k,K=>{if(me.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!te.test(K))throw new Error(`Keyword ${K} has invalid name`)}),!!ie&&ie.$data&&!("code"in ie||"validate"in ie))throw new Error('$data keyword must have "code" or "validate" function')}function pe(k,ie,me){var K;const ee=ie==null?void 0:ie.post;if(me&&ee)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ge}=this;let Ae=ee?ge.post:ge.rules.find(({type:Pe})=>Pe===me);if(Ae||(Ae={type:me,rules:[]},ge.rules.push(Ae)),ge.keywords[k]=!0,!ie)return;const Ze={keyword:k,definition:{...ie,type:(0,c.getJSONTypes)(ie.type),schemaType:(0,c.getJSONTypes)(ie.schemaType)}};ie.before?_e.call(this,Ae,Ze,ie.before):Ae.rules.push(Ze),ge.all[k]=Ze,(K=ie.implements)===null||K===void 0||K.forEach(Pe=>this.addKeyword(Pe))}function _e(k,ie,me){const K=k.rules.findIndex(ee=>ee.keyword===me);K>=0?k.rules.splice(K,0,ie):(k.rules.push(ie),this.logger.warn(`rule ${me} is not defined`))}function de(k){let{metaSchema:ie}=k;ie!==void 0&&(k.$data&&this.opts.$data&&(ie=Re(ie)),k.validateSchema=this.compile(ie,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Re(k){return{anyOf:[k,ue]}}}(SA)),SA}var A_={},R_={},P_={},k8;function AMe(){if(k8)return P_;k8=1,Object.defineProperty(P_,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return P_.default=e,P_}var wl={},N8;function RMe(){if(N8)return wl;N8=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.callRef=wl.getValidate=void 0;const e=SL(),t=es(),n=Ln(),r=Uu(),i=xL(),a=Kn(),o={keyword:"$ref",schemaType:"string",code(c){const{gen:d,schema:h,it:m}=c,{baseId:y,schemaEnv:v,validateName:_,opts:x,self:b}=m,{root:S}=v;if((h==="#"||h==="#/")&&y===S.baseId)return P();const A=i.resolveRef.call(b,S,y,h);if(A===void 0)throw new e.default(m.opts.uriResolver,y,h);if(A instanceof i.SchemaEnv)return O(A);return D(A);function P(){if(v===S)return l(c,_,v,v.$async);const F=d.scopeValue("root",{ref:S});return l(c,(0,n._)`${F}.validate`,S,S.$async)}function O(F){const Q=s(c,F);l(c,Q,F,F.$async)}function D(F){const Q=d.scopeValue("schema",x.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),X=d.name("valid"),U=c.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:h},X);c.mergeEvaluated(U),c.ok(X)}}};function s(c,d){const{gen:h}=c;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:d})}.validate`}wl.getValidate=s;function l(c,d,h,m){const{gen:y,it:v}=c,{allErrors:_,schemaEnv:x,opts:b}=v,S=b.passContext?r.default.this:n.nil;m?A():P();function A(){if(!x.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,t.callValidateCode)(c,d,S)}`),D(d),_||y.assign(F,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${v.ValidationError})`,()=>y.throw(Q)),O(Q),_||y.assign(F,!1)}),c.ok(F)}function P(){c.result((0,t.callValidateCode)(c,d,S),()=>D(d),()=>O(d))}function O(F){const Q=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(F){var Q;if(!v.opts.unevaluated)return;const X=(Q=h==null?void 0:h.validate)===null||Q===void 0?void 0:Q.evaluated;if(v.props!==!0)if(X&&!X.dynamicProps)X.props!==void 0&&(v.props=a.mergeEvaluated.props(y,X.props,v.props));else{const U=y.var("props",(0,n._)`${F}.evaluated.props`);v.props=a.mergeEvaluated.props(y,U,v.props,n.Name)}if(v.items!==!0)if(X&&!X.dynamicItems)X.items!==void 0&&(v.items=a.mergeEvaluated.items(y,X.items,v.items));else{const U=y.var("items",(0,n._)`${F}.evaluated.items`);v.items=a.mergeEvaluated.items(y,U,v.items,n.Name)}}}return wl.callRef=l,wl.default=o,wl}var F8;function PMe(){if(F8)return R_;F8=1,Object.defineProperty(R_,"__esModule",{value:!0});const e=AMe(),t=RMe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return R_.default=n,R_}var O_={},L_={},j8;function OMe(){if(j8)return L_;j8=1,Object.defineProperty(L_,"__esModule",{value:!0});const e=Ln(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:a,schemaCode:o})=>(0,e.str)`must be ${n[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,e._)`{comparison: ${n[a].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:o,data:s,schemaCode:l}=a;a.fail$data((0,e._)`${s} ${n[o].fail} ${l} || isNaN(${s})`)}};return L_.default=i,L_}var I_={},$8;function LMe(){if($8)return I_;$8=1,Object.defineProperty(I_,"__esModule",{value:!0});const e=Ln(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:o,it:s}=r,l=s.opts.multipleOfPrecision,c=i.let("res"),d=l?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,e._)`${c} !== parseInt(${c})`;r.fail$data((0,e._)`(${o} === 0 || (${c} = ${a}/${o}, ${d}))`)}};return I_.default=n,I_}var M_={},D_={},U8;function IMe(){if(U8)return D_;U8=1,Object.defineProperty(D_,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,a;for(;i<n;)r++,a=t.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=t.charCodeAt(i),(a&64512)===56320&&i++);return r}return D_.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',D_}var B8;function MMe(){if(B8)return M_;B8=1,Object.defineProperty(M_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=IMe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const s=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:o,data:s,schemaCode:l,it:c}=a,d=o==="maxLength"?e.operators.GT:e.operators.LT,h=c.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(a.gen,n.default)}(${s})`;a.fail$data((0,e._)`${h} ${d} ${l}`)}};return M_.default=i,M_}var k_={},q8;function DMe(){if(q8)return k_;q8=1,Object.defineProperty(k_,"__esModule",{value:!0});const e=es(),t=Ln(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:a,$data:o,schema:s,schemaCode:l,it:c}=i,d=c.opts.unicodeRegExp?"u":"",h=o?(0,t._)`(new RegExp(${l}, ${d}))`:(0,e.usePattern)(i,s);i.fail$data((0,t._)`!${h}.test(${a})`)}};return k_.default=r,k_}var N_={},z8;function kMe(){if(z8)return N_;z8=1,Object.defineProperty(N_,"__esModule",{value:!0});const e=Ln(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${a}).length ${s} ${o}`)}};return N_.default=n,N_}var F_={},H8;function NMe(){if(H8)return F_;H8=1,Object.defineProperty(F_,"__esModule",{value:!0});const e=es(),t=Ln(),n=Kn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:s,schemaCode:l,data:c,$data:d,it:h}=a,{opts:m}=h;if(!d&&s.length===0)return;const y=s.length>=m.loopRequired;if(h.allErrors?v():_(),m.strictRequired){const S=a.parentSchema.properties,{definedProperties:A}=a.it;for(const P of s)if((S==null?void 0:S[P])===void 0&&!A.has(P)){const O=h.schemaEnv.baseId+h.errSchemaPath,D=`required property "${P}" is not defined at "${O}" (strictRequired)`;(0,n.checkStrictMode)(h,D,h.opts.strictRequired)}}function v(){if(y||d)a.block$data(t.nil,x);else for(const S of s)(0,e.checkReportMissingProp)(a,S)}function _(){const S=o.let("missing");if(y||d){const A=o.let("valid",!0);a.block$data(A,()=>b(S,A)),a.ok(A)}else o.if((0,e.checkMissingProp)(a,s,S)),(0,e.reportMissingProp)(a,S),o.else()}function x(){o.forOf("prop",l,S=>{a.setParams({missingProperty:S}),o.if((0,e.noPropertyInData)(o,c,S,m.ownProperties),()=>a.error())})}function b(S,A){a.setParams({missingProperty:S}),o.forOf(S,l,()=>{o.assign(A,(0,e.propertyInData)(o,c,S,m.ownProperties)),o.if((0,t.not)(A),()=>{a.error(),o.break()})},t.nil)}}};return F_.default=i,F_}var j_={},V8;function FMe(){if(V8)return j_;V8=1,Object.defineProperty(j_,"__esModule",{value:!0});const e=Ln(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${a}.length ${s} ${o}`)}};return j_.default=n,j_}var $_={},U_={},K8;function EL(){if(K8)return U_;K8=1,Object.defineProperty(U_,"__esModule",{value:!0});const e=aG();return e.code='require("ajv/dist/runtime/equal").default',U_.default=e,U_}var G8;function jMe(){if(G8)return $_;G8=1,Object.defineProperty($_,"__esModule",{value:!0});const e=xw(),t=Ln(),n=Kn(),r=EL(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,t._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:l,$data:c,schema:d,parentSchema:h,schemaCode:m,it:y}=o;if(!c&&!d)return;const v=s.let("valid"),_=h.items?(0,e.getSchemaTypes)(h.items):[];o.block$data(v,x,(0,t._)`${m} === false`),o.ok(v);function x(){const P=s.let("i",(0,t._)`${l}.length`),O=s.let("j");o.setParams({i:P,j:O}),s.assign(v,!0),s.if((0,t._)`${P} > 1`,()=>(b()?S:A)(P,O))}function b(){return _.length>0&&!_.some(P=>P==="object"||P==="array")}function S(P,O){const D=s.name("item"),F=(0,e.checkDataTypes)(_,D,y.opts.strictNumbers,e.DataType.Wrong),Q=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${P}--;`,()=>{s.let(D,(0,t._)`${l}[${P}]`),s.if(F,(0,t._)`continue`),_.length>1&&s.if((0,t._)`typeof ${D} == "string"`,(0,t._)`${D} += "_"`),s.if((0,t._)`typeof ${Q}[${D}] == "number"`,()=>{s.assign(O,(0,t._)`${Q}[${D}]`),o.error(),s.assign(v,!1).break()}).code((0,t._)`${Q}[${D}] = ${P}`)})}function A(P,O){const D=(0,n.useFunc)(s,r.default),F=s.name("outer");s.label(F).for((0,t._)`;${P}--;`,()=>s.for((0,t._)`${O} = ${P}; ${O}--;`,()=>s.if((0,t._)`${D}(${l}[${P}], ${l}[${O}])`,()=>{o.error(),s.assign(v,!1).break(F)})))}}};return $_.default=a,$_}var B_={},W8;function $Me(){if(W8)return B_;W8=1,Object.defineProperty(B_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=EL(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:s,$data:l,schemaCode:c,schema:d}=a;l||d&&typeof d=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${s}, ${c})`):a.fail((0,e._)`${d} !== ${s}`)}};return B_.default=i,B_}var q_={},Q8;function UMe(){if(Q8)return q_;Q8=1,Object.defineProperty(q_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=EL(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:s,$data:l,schema:c,schemaCode:d,it:h}=a;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const m=c.length>=h.opts.loopEnum;let y;const v=()=>y??(y=(0,t.useFunc)(o,n.default));let _;if(m||l)_=o.let("valid"),a.block$data(_,x);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const S=o.const("vSchema",d);_=(0,e.or)(...c.map((A,P)=>b(S,P)))}a.pass(_);function x(){o.assign(_,!1),o.forOf("v",d,S=>o.if((0,e._)`${v()}(${s}, ${S})`,()=>o.assign(_,!0).break()))}function b(S,A){const P=c[A];return typeof P=="object"&&P!==null?(0,e._)`${v()}(${s}, ${S}[${A}])`:(0,e._)`${s} === ${P}`}}};return q_.default=i,q_}var Z8;function BMe(){if(Z8)return O_;Z8=1,Object.defineProperty(O_,"__esModule",{value:!0});const e=OMe(),t=LMe(),n=MMe(),r=DMe(),i=kMe(),a=NMe(),o=FMe(),s=jMe(),l=$Me(),c=UMe(),d=[e.default,t.default,n.default,r.default,i.default,a.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return O_.default=d,O_}var z_={},Id={},J8;function oG(){if(J8)return Id;J8=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.validateAdditionalItems=void 0;const e=Ln(),t=Kn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:s}=a,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,o){const{gen:s,schema:l,data:c,keyword:d,it:h}=a;h.items=!0;const m=s.const("len",(0,e._)`${c}.length`);if(l===!1)a.setParams({len:o.length}),a.pass((0,e._)`${m} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(h,l)){const v=s.var("valid",(0,e._)`${m} <= ${o.length}`);s.if((0,e.not)(v),()=>y(v)),a.ok(v)}function y(v){s.forRange("i",o.length,m,_=>{a.subschema({keyword:d,dataProp:_,dataPropType:t.Type.Num},v),h.allErrors||s.if((0,e.not)(v),()=>s.break())})}}return Id.validateAdditionalItems=i,Id.default=r,Id}var H_={},Md={},Y8;function sG(){if(Y8)return Md;Y8=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.validateTuple=void 0;const e=Ln(),t=Kn(),n=es(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:s}=a;if(Array.isArray(o))return i(a,"additionalItems",o);s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&a.ok((0,n.validateArray)(a))}};function i(a,o,s=a.schema){const{gen:l,parentSchema:c,data:d,keyword:h,it:m}=a;_(c),m.opts.unevaluated&&s.length&&m.items!==!0&&(m.items=t.mergeEvaluated.items(l,s.length,m.items));const y=l.name("valid"),v=l.const("len",(0,e._)`${d}.length`);s.forEach((x,b)=>{(0,t.alwaysValidSchema)(m,x)||(l.if((0,e._)`${v} > ${b}`,()=>a.subschema({keyword:h,schemaProp:b,dataProp:b},y)),a.ok(y))});function _(x){const{opts:b,errSchemaPath:S}=m,A=s.length,P=A===x.minItems&&(A===x.maxItems||x[o]===!1);if(b.strictTuples&&!P){const O=`"${h}" is ${A}-tuple, but minItems or maxItems/${o} are not specified or different at path "${S}"`;(0,t.checkStrictMode)(m,O,b.strictTuples)}}}return Md.validateTuple=i,Md.default=r,Md}var X8;function qMe(){if(X8)return H_;X8=1,Object.defineProperty(H_,"__esModule",{value:!0});const e=sG(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return H_.default=t,H_}var V_={},eU;function zMe(){if(eU)return V_;eU=1,Object.defineProperty(V_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=es(),r=oG(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:l,it:c}=o,{prefixItems:d}=l;c.items=!0,!(0,t.alwaysValidSchema)(c,s)&&(d?(0,r.validateAdditionalItems)(o,d):o.ok((0,n.validateArray)(o)))}};return V_.default=a,V_}var K_={},tU;function HMe(){if(tU)return K_;tU=1,Object.defineProperty(K_,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:o,parentSchema:s,data:l,it:c}=i;let d,h;const{minContains:m,maxContains:y}=s;c.opts.next?(d=m===void 0?1:m,h=y):d=1;const v=a.const("len",(0,e._)`${l}.length`);if(i.setParams({min:d,max:h}),h===void 0&&d===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&d>h){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(c,o)){let A=(0,e._)`${v} >= ${d}`;h!==void 0&&(A=(0,e._)`${A} && ${v} <= ${h}`),i.pass(A);return}c.items=!0;const _=a.name("valid");h===void 0&&d===1?b(_,()=>a.if(_,()=>a.break())):d===0?(a.let(_,!0),h!==void 0&&a.if((0,e._)`${l}.length > 0`,x)):(a.let(_,!1),x()),i.result(_,()=>i.reset());function x(){const A=a.name("_valid"),P=a.let("count",0);b(A,()=>a.if(A,()=>S(P)))}function b(A,P){a.forRange("i",0,v,O=>{i.subschema({keyword:"contains",dataProp:O,dataPropType:t.Type.Num,compositeRule:!0},A),P()})}function S(A){a.code((0,e._)`${A}++`),h===void 0?a.if((0,e._)`${A} >= ${d}`,()=>a.assign(_,!0).break()):(a.if((0,e._)`${A} > ${h}`,()=>a.assign(_,!1).break()),d===1?a.assign(_,!0):a.if((0,e._)`${A} >= ${d}`,()=>a.assign(_,!0)))}}};return K_.default=r,K_}var PA={},nU;function VMe(){return nU||(nU=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Ln(),n=Kn(),r=es();e.error={message:({params:{property:l,depsCount:c,deps:d}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,d]=a(l);o(l,c),s(l,d)}};function a({schema:l}){const c={},d={};for(const h in l){if(h==="__proto__")continue;const m=Array.isArray(l[h])?c:d;m[h]=l[h]}return[c,d]}function o(l,c=l.schema){const{gen:d,data:h,it:m}=l;if(Object.keys(c).length===0)return;const y=d.let("missing");for(const v in c){const _=c[v];if(_.length===0)continue;const x=(0,r.propertyInData)(d,h,v,m.opts.ownProperties);l.setParams({property:v,depsCount:_.length,deps:_.join(", ")}),m.allErrors?d.if(x,()=>{for(const b of _)(0,r.checkReportMissingProp)(l,b)}):(d.if((0,t._)`${x} && (${(0,r.checkMissingProp)(l,_,y)})`),(0,r.reportMissingProp)(l,y),d.else())}}e.validatePropertyDeps=o;function s(l,c=l.schema){const{gen:d,data:h,keyword:m,it:y}=l,v=d.name("valid");for(const _ in c)(0,n.alwaysValidSchema)(y,c[_])||(d.if((0,r.propertyInData)(d,h,_,y.opts.ownProperties),()=>{const x=l.subschema({keyword:m,schemaProp:_},v);l.mergeValidEvaluated(x,v)},()=>d.var(v,!0)),l.ok(v))}e.validateSchemaDeps=s,e.default=i}(PA)),PA}var G_={},rU;function KMe(){if(rU)return G_;rU=1,Object.defineProperty(G_,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:o,data:s,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const c=a.name("valid");a.forIn("key",s,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},c),a.if((0,e.not)(c),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(c)}};return G_.default=r,G_}var W_={},iU;function uG(){if(iU)return W_;iU=1,Object.defineProperty(W_,"__esModule",{value:!0});const e=es(),t=Ln(),n=Uu(),r=Kn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:l,parentSchema:c,data:d,errsCount:h,it:m}=o;if(!h)throw new Error("ajv implementation error");const{allErrors:y,opts:v}=m;if(m.props=!0,v.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const _=(0,e.allSchemaProperties)(c.properties),x=(0,e.allSchemaProperties)(c.patternProperties);b(),o.ok((0,t._)`${h} === ${n.default.errors}`);function b(){s.forIn("key",d,D=>{!_.length&&!x.length?P(D):s.if(S(D),()=>P(D))})}function S(D){let F;if(_.length>8){const Q=(0,r.schemaRefOrVal)(m,c.properties,"properties");F=(0,e.isOwnProperty)(s,Q,D)}else _.length?F=(0,t.or)(..._.map(Q=>(0,t._)`${D} === ${Q}`)):F=t.nil;return x.length&&(F=(0,t.or)(F,...x.map(Q=>(0,t._)`${(0,e.usePattern)(o,Q)}.test(${D})`))),(0,t.not)(F)}function A(D){s.code((0,t._)`delete ${d}[${D}]`)}function P(D){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){A(D);return}if(l===!1){o.setParams({additionalProperty:D}),o.error(),y||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const F=s.name("valid");v.removeAdditional==="failing"?(O(D,F,!1),s.if((0,t.not)(F),()=>{o.reset(),A(D)})):(O(D,F),y||s.if((0,t.not)(F),()=>s.break()))}}function O(D,F,Q){const X={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(X,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(X,F)}}};return W_.default=a,W_}var Q_={},aU;function GMe(){if(aU)return Q_;aU=1,Object.defineProperty(Q_,"__esModule",{value:!0});const e=Sy(),t=es(),n=Kn(),r=uG(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,parentSchema:l,data:c,it:d}=a;d.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(s);for(const x of h)d.definedProperties.add(x);d.opts.unevaluated&&h.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(o,(0,n.toHash)(h),d.props));const m=h.filter(x=>!(0,n.alwaysValidSchema)(d,s[x]));if(m.length===0)return;const y=o.name("valid");for(const x of m)v(x)?_(x):(o.if((0,t.propertyInData)(o,c,x,d.opts.ownProperties)),_(x),d.allErrors||o.else().var(y,!0),o.endIf()),a.it.definedProperties.add(x),a.ok(y);function v(x){return d.opts.useDefaults&&!d.compositeRule&&s[x].default!==void 0}function _(x){a.subschema({keyword:"properties",schemaProp:x,dataProp:x},y)}}};return Q_.default=i,Q_}var Z_={},oU;function WMe(){if(oU)return Z_;oU=1,Object.defineProperty(Z_,"__esModule",{value:!0});const e=es(),t=Ln(),n=Kn(),r=Kn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,data:l,parentSchema:c,it:d}=a,{opts:h}=d,m=(0,e.allSchemaProperties)(s),y=m.filter(P=>(0,n.alwaysValidSchema)(d,s[P]));if(m.length===0||y.length===m.length&&(!d.opts.unevaluated||d.props===!0))return;const v=h.strictSchema&&!h.allowMatchingProperties&&c.properties,_=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(o,d.props));const{props:x}=d;b();function b(){for(const P of m)v&&S(P),d.allErrors?A(P):(o.var(_,!0),A(P),o.if(_))}function S(P){for(const O in v)new RegExp(P).test(O)&&(0,n.checkStrictMode)(d,`property ${O} matches pattern ${P} (use allowMatchingProperties)`)}function A(P){o.forIn("key",l,O=>{o.if((0,t._)`${(0,e.usePattern)(a,P)}.test(${O})`,()=>{const D=y.includes(P);D||a.subschema({keyword:"patternProperties",schemaProp:P,dataProp:O,dataPropType:r.Type.Str},_),d.opts.unevaluated&&x!==!0?o.assign((0,t._)`${x}[${O}]`,!0):!D&&!d.allErrors&&o.if((0,t.not)(_),()=>o.break())})})}}};return Z_.default=i,Z_}var J_={},sU;function QMe(){if(sU)return J_;sU=1,Object.defineProperty(J_,"__esModule",{value:!0});const e=Kn(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,e.alwaysValidSchema)(a,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return J_.default=t,J_}var Y_={},uU;function ZMe(){if(uU)return Y_;uU=1,Object.defineProperty(Y_,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:es().validateUnion,error:{message:"must match a schema in anyOf"}};return Y_.default=t,Y_}var X_={},lU;function JMe(){if(lU)return X_;lU=1,Object.defineProperty(X_,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:o,parentSchema:s,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const c=o,d=a.let("valid",!1),h=a.let("passing",null),m=a.name("_valid");i.setParams({passing:h}),a.block(y),i.result(d,()=>i.reset(),()=>i.error(!0));function y(){c.forEach((v,_)=>{let x;(0,t.alwaysValidSchema)(l,v)?a.var(m,!0):x=i.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},m),_>0&&a.if((0,e._)`${m} && ${d}`).assign(d,!1).assign(h,(0,e._)`[${h}, ${_}]`).else(),a.if(m,()=>{a.assign(d,!0),a.assign(h,_),x&&i.mergeEvaluated(x,e.Name)})})}}};return X_.default=r,X_}var e0={},cU;function YMe(){if(cU)return e0;cU=1,Object.defineProperty(e0,"__esModule",{value:!0});const e=Kn(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((s,l)=>{if((0,e.alwaysValidSchema)(a,s))return;const c=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(c)})}};return e0.default=t,e0}var t0={},fU;function XMe(){if(fU)return t0;fU=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:s,it:l}=a;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=i(l,"then"),d=i(l,"else");if(!c&&!d)return;const h=o.let("valid",!0),m=o.name("_valid");if(y(),a.reset(),c&&d){const _=o.let("ifClause");a.setParams({ifClause:_}),o.if(m,v("then",_),v("else",_))}else c?o.if(m,v("then")):o.if((0,e.not)(m),v("else"));a.pass(h,()=>a.error(!0));function y(){const _=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(_)}function v(_,x){return()=>{const b=a.subschema({keyword:_},m);o.assign(h,m),a.mergeValidEvaluated(b,h),x?o.assign(x,(0,e._)`${_}`):a.setParams({ifClause:_})}}}};function i(a,o){const s=a.schema[o];return s!==void 0&&!(0,t.alwaysValidSchema)(a,s)}return t0.default=r,t0}var n0={},dU;function eDe(){if(dU)return n0;dU=1,Object.defineProperty(n0,"__esModule",{value:!0});const e=Kn(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return n0.default=t,n0}var hU;function tDe(){if(hU)return z_;hU=1,Object.defineProperty(z_,"__esModule",{value:!0});const e=oG(),t=qMe(),n=sG(),r=zMe(),i=HMe(),a=VMe(),o=KMe(),s=uG(),l=GMe(),c=WMe(),d=QMe(),h=ZMe(),m=JMe(),y=YMe(),v=XMe(),_=eDe();function x(b=!1){const S=[d.default,h.default,m.default,y.default,v.default,_.default,o.default,s.default,a.default,l.default,c.default];return b?S.push(t.default,r.default):S.push(e.default,n.default),S.push(i.default),S}return z_.default=x,z_}var r0={},i0={},pU;function nDe(){if(pU)return i0;pU=1,Object.defineProperty(i0,"__esModule",{value:!0});const e=Ln(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:a,data:o,$data:s,schema:l,schemaCode:c,it:d}=r,{opts:h,errSchemaPath:m,schemaEnv:y,self:v}=d;if(!h.validateFormats)return;s?_():x();function _(){const b=a.scopeValue("formats",{ref:v.formats,code:h.code.formats}),S=a.const("fDef",(0,e._)`${b}[${c}]`),A=a.let("fType"),P=a.let("format");a.if((0,e._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>a.assign(A,(0,e._)`${S}.type || "string"`).assign(P,(0,e._)`${S}.validate`),()=>a.assign(A,(0,e._)`"string"`).assign(P,S)),r.fail$data((0,e.or)(O(),D()));function O(){return h.strictSchema===!1?e.nil:(0,e._)`${c} && !${P}`}function D(){const F=y.$async?(0,e._)`(${S}.async ? await ${P}(${o}) : ${P}(${o}))`:(0,e._)`${P}(${o})`,Q=(0,e._)`(typeof ${P} == "function" ? ${F} : ${P}.test(${o}))`;return(0,e._)`${P} && ${P} !== true && ${A} === ${i} && !${Q}`}}function x(){const b=v.formats[l];if(!b){O();return}if(b===!0)return;const[S,A,P]=D(b);S===i&&r.pass(F());function O(){if(h.strictSchema===!1){v.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function D(Q){const X=Q instanceof RegExp?(0,e.regexpCode)(Q):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(l)}`:void 0,U=a.scopeValue("formats",{key:l,ref:Q,code:X});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,e._)`${U}.validate`]:["string",Q,U]}function F(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${P}(${o})`}return typeof A=="function"?(0,e._)`${P}(${o})`:(0,e._)`${P}.test(${o})`}}}};return i0.default=n,i0}var gU;function rDe(){if(gU)return r0;gU=1,Object.defineProperty(r0,"__esModule",{value:!0});const t=[nDe().default];return r0.default=t,r0}var Jc={},mU;function iDe(){return mU||(mU=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.contentVocabulary=Jc.metadataVocabulary=void 0,Jc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Jc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Jc}var yU;function aDe(){if(yU)return A_;yU=1,Object.defineProperty(A_,"__esModule",{value:!0});const e=PMe(),t=BMe(),n=tDe(),r=rDe(),i=iDe(),a=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return A_.default=a,A_}var a0={},Qg={},vU;function oDe(){if(vU)return Qg;vU=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(Qg.DiscrError=e={})),Qg}var _U;function sDe(){if(_U)return a0;_U=1,Object.defineProperty(a0,"__esModule",{value:!0});const e=Ln(),t=oDe(),n=xL(),r=Kn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:s}})=>o===t.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:o,tag:s,tagName:l}})=>(0,e._)`{error: ${o}, tag: ${l}, tagValue: ${s}}`},code(o){const{gen:s,data:l,schema:c,parentSchema:d,it:h}=o,{oneOf:m}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=c.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const v=s.let("valid",!1),_=s.const("tag",(0,e._)`${l}${(0,e.getProperty)(y)}`);s.if((0,e._)`typeof ${_} == "string"`,()=>x(),()=>o.error(!1,{discrError:t.DiscrError.Tag,tag:_,tagName:y})),o.ok(v);function x(){const A=S();s.if(!1);for(const P in A)s.elseIf((0,e._)`${_} === ${P}`),s.assign(v,b(A[P]));s.else(),o.error(!1,{discrError:t.DiscrError.Mapping,tag:_,tagName:y}),s.endIf()}function b(A){const P=s.name("valid"),O=o.subschema({keyword:"oneOf",schemaProp:A},P);return o.mergeEvaluated(O,e.Name),P}function S(){var A;const P={},O=F(d);let D=!0;for(let U=0;U<m.length;U++){let Y=m[U];Y!=null&&Y.$ref&&!(0,r.schemaHasRulesButRef)(Y,h.self.RULES)&&(Y=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,Y==null?void 0:Y.$ref),Y instanceof n.SchemaEnv&&(Y=Y.schema));const ce=(A=Y==null?void 0:Y.properties)===null||A===void 0?void 0:A[y];if(typeof ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(O||F(Y)),Q(ce,U)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return P;function F({required:U}){return Array.isArray(U)&&U.includes(y)}function Q(U,Y){if(U.const)X(U.const,Y);else if(U.enum)for(const ce of U.enum)X(ce,Y);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function X(U,Y){if(typeof U!="string"||U in P)throw new Error(`discriminator: "${y}" values must be unique strings`);P[U]=Y}}}};return a0.default=a,a0}const uDe="http://json-schema.org/draft-07/schema#",lDe="http://json-schema.org/draft-07/schema#",cDe="Core schema meta-schema",fDe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},dDe=["object","boolean"],hDe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},pDe={$schema:uDe,$id:lDe,title:cDe,definitions:fDe,type:dDe,properties:hDe,default:!0};var wU;function lG(){return wU||(wU=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=TMe(),r=aDe(),i=sDe(),a=pDe,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=Sy();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=Ln();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=bL();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var m=SL();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(S_,S_.exports)),S_.exports}var gDe=lG();const mDe=Lr(gDe);var o0={exports:{}},bU;function yDe(){return bU||(bU=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=lG(),r=Ln(),i=Vm(),a=Sy(),o=by(),s=Uu(),l="errorMessage",c=new n.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},h=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function v(x){return{keyword:l,schemaType:["string","object"],post:!0,code(b){const{gen:S,data:A,schema:P,schemaValue:O,it:D}=b;if(D.createErrors===!1)return;const F=P,Q=r.strConcat(s.default.instancePath,D.errorPath);S.if(n._`${s.default.errors} > 0`,()=>{if(typeof F=="object"){const[K,ee]=U(F);ee&&Y(ee),K&&ce(K),te(X(F))}const me=typeof F=="string"?F:F._;me&&se(me),x.keepErrors||pe()});function X({properties:me,items:K}){const ee={};if(me){ee.props={};for(const ge in me)ee.props[ge]=[]}if(K){ee.items={};for(let ge=0;ge<K.length;ge++)ee.items[ge]=[]}return ee}function U(me){let K,ee;for(const ge in me){if(ge==="properties"||ge==="items")continue;const Ae=me[ge];if(typeof Ae=="object"){K||(K={});const Ze=K[ge]={};for(const Pe in Ae)Ze[Pe]=[]}else ee||(ee={}),ee[ge]=[]}return[K,ee]}function Y(me){const K=S.const("emErrors",n.stringify(me)),ee=S.const("templates",Re(me,P));S.forOf("err",s.default.vErrors,Pe=>S.if(_e(Pe,K),()=>S.code(n._`${K}[${Pe}.keyword].push(${Pe})`).assign(n._`${Pe}.${c}`,!0)));const{singleError:ge}=x;if(ge){const Pe=S.let("message",n._`""`),Ne=S.let("paramsErrors",n._`[]`);Ae(Ye=>{S.if(Pe,()=>S.code(n._`${Pe} += ${typeof ge=="string"?ge:";"}`)),S.code(n._`${Pe} += ${Ze(Ye)}`),S.assign(Ne,n._`${Ne}.concat(${K}[${Ye}])`)}),o.reportError(b,{message:Pe,params:n._`{errors: ${Ne}}`})}else Ae(Pe=>o.reportError(b,{message:Ze(Pe),params:n._`{errors: ${K}[${Pe}]}`}));function Ae(Pe){S.forIn("key",K,Ne=>S.if(n._`${K}[${Ne}].length`,()=>Pe(Ne)))}function Ze(Pe){return n._`${Pe} in ${ee} ? ${ee}[${Pe}]() : ${O}[${Pe}]`}}function ce(me){const K=S.const("emErrors",n.stringify(me)),ee=[];for(const Ne in me)ee.push([Ne,Re(me[Ne],P[Ne])]);const ge=S.const("templates",S.object(...ee)),Ae=S.scopeValue("obj",{ref:d,code:n.stringify(d)}),Ze=S.let("emPropParams"),Pe=S.let("emParamsErrors");S.forOf("err",s.default.vErrors,Ne=>S.if(_e(Ne,K),()=>{S.assign(Ze,n._`${Ae}[${Ne}.keyword]`),S.assign(Pe,n._`${K}[${Ne}.keyword][${Ne}.params[${Ze}]]`),S.if(Pe,()=>S.code(n._`${Pe}.push(${Ne})`).assign(n._`${Ne}.${c}`,!0))})),S.forIn("key",K,Ne=>S.forIn("keyProp",n._`${K}[${Ne}]`,Ye=>{S.assign(Pe,n._`${K}[${Ne}][${Ye}]`),S.if(n._`${Pe}.length`,()=>{const oe=S.const("tmpl",n._`${ge}[${Ne}] && ${ge}[${Ne}][${Ye}]`);o.reportError(b,{message:n._`${oe} ? ${oe}() : ${O}[${Ne}][${Ye}]`,params:n._`{errors: ${Pe}}`})})}))}function te(me){const{props:K,items:ee}=me;if(!K&&!ee)return;const ge=n._`typeof ${A} == "object"`,Ae=n._`Array.isArray(${A})`,Ze=S.let("emErrors");let Pe,Ne;const Ye=S.let("templates");K&&ee?(Pe=S.let("emChildKwd"),S.if(ge),S.if(Ae,()=>{oe(ee,P.items),S.assign(Pe,n.str`items`)},()=>{oe(K,P.properties),S.assign(Pe,n.str`properties`)}),Ne=n._`[${Pe}]`):ee?(S.if(Ae),oe(ee,P.items),Ne=n._`.items`):K&&(S.if(r.and(ge,r.not(Ae))),oe(K,P.properties),Ne=n._`.properties`),S.forOf("err",s.default.vErrors,z=>de(z,Ze,$=>S.code(n._`${Ze}[${$}].push(${z})`).assign(n._`${z}.${c}`,!0))),S.forIn("key",Ze,z=>S.if(n._`${Ze}[${z}].length`,()=>{o.reportError(b,{message:n._`${z} in ${Ye} ? ${Ye}[${z}]() : ${O}${Ne}[${z}]`,params:n._`{errors: ${Ze}[${z}]}`}),S.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${Q} + "/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),S.endIf();function oe(z,$){S.assign(Ze,n.stringify(z)),S.assign(Ye,Re(z,$))}}function se(me){const K=S.const("emErrs",n._`[]`);S.forOf("err",s.default.vErrors,ee=>S.if(ue(ee),()=>S.code(n._`${K}.push(${ee})`).assign(n._`${ee}.${c}`,!0))),S.if(n._`${K}.length`,()=>o.reportError(b,{message:k(me),params:n._`{errors: ${K}}`}))}function pe(){const me=S.const("emErrs",n._`[]`);S.forOf("err",s.default.vErrors,K=>S.if(n._`!${K}.${c}`,()=>S.code(n._`${me}.push(${K})`))),S.assign(s.default.vErrors,me).assign(s.default.errors,n._`${me}.length`)}function _e(me,K){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath === ${Q}`,n._`${me}.keyword in ${K}`,n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${D.errSchemaPath.length}))`)}function de(me,K,ee){S.if(r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath.indexOf(${Q}) === 0`),()=>{const ge=S.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Ae=S.const("emMatches",n._`${ge}.exec(${me}.instancePath.slice(${Q}.length))`),Ze=S.const("emChild",n._`${Ae} && ${Ae}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);S.if(n._`${Ze} !== undefined && ${Ze} in ${K}`,()=>ee(Ze))})}function ue(me){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,r.or(n._`${me}.instancePath === ${Q}`,r.and(n._`${me}.instancePath.indexOf(${Q}) === 0`,n._`${me}.instancePath[${Q}.length] === "/"`)),n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${me}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Re(me,K){const ee=[];for(const ge in me){const Ae=K[ge];h.test(Ae)&&ee.push([ge,ie(Ae)])}return S.object(...ee)}function k(me){return h.test(me)?new i._Code(i.safeStringify(me).replace(m,(K,ee)=>`" + JSON.stringify(${a.getData(ee,D)}) + "`).replace(y,"")):n.stringify(me)}function ie(me){return n._`function(){return ${k(me)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const _=(x,b={})=>{if(!x.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(x.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return x.addKeyword(v(b))};t.default=_,e.exports=_,e.exports.default=_}(o0,o0.exports)),o0.exports}var vDe=yDe();const _De=Lr(vDe);var wDe=function(e,t){return e.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),e.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),t){var a=n[i].types,o=a&&a[r.keyword];n[i]=IV(i,t,n,r.keyword,o?[].concat(o,r.message||""):r.message)}return n},{})},bDe=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{var o=new mDe(Object.assign({},{allErrors:!0,validateSchema:!0},t));_De(o);var s=o.compile(Object.assign({$async:n&&n.mode==="async"},e)),l=s(r);return a.shouldUseNativeValidation&&nG({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:lMe(wDe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(c){return Promise.reject(c)}}};const SDe={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"string",minLength:1}}},SU=({initialData:e,onSubmit:t,onCancel:n})=>{const{i18n:r,_:i}=Jr(),{handleSubmit:a,register:o,control:s,formState:{errors:l}}=ju({defaultValues:yh({location:{lat:0,long:0}},e),resolver:bDe(SDe)}),c=a(d=>{t(d)});return H.jsxs("form",{onSubmit:c,onReset:n,className:Or(vo.accommodationForm,vo.accommodation),"data-cy":"accommodation-form",children:[H.jsxs("label",{children:[H.jsx(wt,{id:"ApEC55",components:{0:H.jsx(tge,{})}}),H.jsx("br",{}),H.jsx(yN,{})," ",H.jsx(wt,{id:"BQTO6T"})," ",H.jsx(yN,{})]}),H.jsx(STe,{control:s,name:"location",render:({field:d})=>H.jsx("div",{className:Or(l.location&&vo.inputError),children:H.jsx(eMe,{value:d.value,onChange:d.onChange,isInitial:!e})})}),l.location&&H.jsx("div",{className:vo.errorMessage,children:H.jsx(wt,{id:"OjgFFJ"})}),H.jsx("label",{htmlFor:"description",children:H.jsx(wt,{id:"+j94GR"})}),H.jsx("textarea",{className:Or(l.description&&vo.inputError),id:"description",placeholder:r._({id:"vJIeDW"}),...o("description")}),l.description&&H.jsx("div",{className:vo.errorMessage,children:H.jsx(wt,{id:"B8AaMI"})}),H.jsxs("div",{className:vo.actions,children:[H.jsx(pr,{type:"reset",secondary:!0,children:H.jsx(wt,{id:"dEgA5A"})}),H.jsx(pr,{type:"submit",primary:!0,children:H.jsx(wt,{id:"hQRttt"})})]})]})},xDe=({location:e})=>{const t=yL();return V.useEffect(()=>{t.flyTo(e)},[e,t]),null},EDe=e=>{const{tileServer:t}=kn(),n=V.useMemo(()=>[e.location.lat,e.location.long],[e.location.lat,e.location.long]);return H.jsxs(H.Fragment,{children:[H.jsxs(vL,{className:iP.mapContainer,attributionControl:!1,zoom:12,center:n,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[H.jsx(wL,{url:t}),H.jsx(_L,{position:n}),H.jsx(xDe,{location:n})]}),H.jsxs("div",{className:iP.description,children:[e.description," ",H.jsx("a",{href:e.id,target:"_blank",rel:"noopener noreferrer",children:H.jsx(h9,{})})]})]})},CDe=()=>{const e=Vo(nb),t=Xo();return V.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const o=ql(),s=a+o,l=`${s}#accommodation`;return await e.mutateAsync({uri:s,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[r.description],location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}}}),await t.mutateAsync({uri:i,patch:`
          _:mutate a <${Dn.InsertDeletePatch}>;
            <${Dn.inserts}> { <${n}> <${nc.offers}> <${l}>. }.
        `}),{uri:l}},[e,t])},TDe=()=>{const e=Xo(),t=rb();return V.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await e.mutateAsync({uri:i,patch:`
          _:mutate a <${Dn.InsertDeletePatch}>;
            <${Dn.deletes}> { <${r}> <${nc.offers}> <${n}>. }.
        `}),await t.mutateAsync({uri:n})},[t,e])};var OA,xU;function ADe(){if(xU)return OA;xU=1;for(var e="0123456789bcdefghjkmnpqrstuvwxyz",t={},n=0;n<e.length;n++)t[e.charAt(n)]=n;var r="auto",i=-90,a=90,o=-180,s=180,l=[0,5,7,8,11,12,13,15,16,17,18],c=function(X,U,Y){if(Y===r){if(typeof X=="number"||typeof U=="number")throw new Error("string notation required for auto precision.");var ce=X.split(".")[1].length,te=U.split(".")[1].length,se=Math.max(ce,te);Y=l[se]}else Y===void 0&&(Y=9);for(var pe=[],_e=0,de=0,ue=0,Re=a,k=i,ie=s,me=o,K;pe.length<Y;)if(de%2===0?(K=(ie+me)/2,U>K?(ue=(ue<<1)+1,me=K):(ue=(ue<<1)+0,ie=K)):(K=(Re+k)/2,X>K?(ue=(ue<<1)+1,k=K):(ue=(ue<<1)+0,Re=K)),_e++,de++,_e===5){var ee=e[ue];pe.push(ee),_e=0,ue=0}return pe.join("")},d=function(X,U,Y){Y=Y||52;for(var ce=0,te=a,se=i,pe=s,_e=o,de,ue=0;ce<Y;)ue*=2,ce%2===0?(de=(pe+_e)/2,U>de?(ue+=1,_e=de):pe=de):(de=(te+se)/2,X>de?(ue+=1,se=de):te=de),ce++;return ue},h=function(X){for(var U=!0,Y=a,ce=i,te=s,se=o,pe,_e=0,de=0,ue=X.length;de<ue;de++){var Re=X[de].toLowerCase();_e=t[Re];for(var k=4;k>=0;k--){var ie=_e>>k&1;U?(pe=(te+se)/2,ie===1?se=pe:te=pe):(pe=(Y+ce)/2,ie===1?ce=pe:Y=pe),U=!U}}return[ce,se,Y,te]},m=function(X,U){U=U||52;for(var Y=a,ce=i,te=s,se=o,pe=0,_e=0,de=U/2,ue=0;ue<de;ue++)_e=y(X,(de-ue)*2-1),pe=y(X,(de-ue)*2-2),pe===0?Y=(Y+ce)/2:ce=(Y+ce)/2,_e===0?te=(te+se)/2:se=(te+se)/2;return[ce,se,Y,te]};function y(X,U){return X/Math.pow(2,U)&1}var v=function(X){var U=h(X),Y=(U[0]+U[2])/2,ce=(U[1]+U[3])/2,te=U[2]-Y,se=U[3]-ce;return{latitude:Y,longitude:ce,error:{latitude:te,longitude:se}}},_=function(X,U){var Y=m(X,U),ce=(Y[0]+Y[2])/2,te=(Y[1]+Y[3])/2,se=Y[2]-ce,pe=Y[3]-te;return{latitude:ce,longitude:te,error:{latitude:se,longitude:pe}}},x=function(X,U){var Y=v(X),ce=Y.latitude+U[0]*Y.error.latitude*2,te=Y.longitude+U[1]*Y.error.longitude*2;return te=D(te),ce=F(ce),c(ce,te,X.length)},b=function(X,U,Y){Y=Y||52;var ce=_(X,Y),te=ce.latitude+U[0]*ce.error.latitude*2,se=ce.longitude+U[1]*ce.error.longitude*2;return se=D(se),te=F(te),d(te,se,Y)},S=function(X){var U=X.length,Y=v(X),ce=Y.latitude,te=Y.longitude,se=Y.error.latitude*2,pe=Y.error.longitude*2,_e,de,ue=[Re(1,0),Re(1,1),Re(0,1),Re(-1,1),Re(-1,0),Re(-1,-1),Re(0,-1),Re(1,-1)];function Re(k,ie){return _e=ce+k*se,de=te+ie*pe,de=D(de),_e=F(_e),c(_e,de,U)}return ue},A=function(X,U){U=U||52;var Y=_(X,U),ce=Y.latitude,te=Y.longitude,se=Y.error.latitude*2,pe=Y.error.longitude*2,_e,de,ue=[Re(1,0),Re(1,1),Re(0,1),Re(-1,1),Re(-1,0),Re(-1,-1),Re(0,-1),Re(1,-1)];function Re(k,ie){return _e=ce+k*se,de=te+ie*pe,de=D(de),_e=F(_e),d(_e,de,U)}return ue},P=function(X,U,Y,ce,te){te=te||9;for(var se=c(X,U,te),pe=c(Y,ce,te),_e=v(se),de=_e.error.latitude*2,ue=_e.error.longitude*2,Re=h(se),k=h(pe),ie=Math.round((k[0]-Re[0])/de),me=Math.round((k[1]-Re[1])/ue),K=[],ee=0;ee<=ie;ee++)for(var ge=0;ge<=me;ge++)K.push(x(se,[ee,ge]));return K},O=function(X,U,Y,ce,te){te=te||52;for(var se=d(X,U,te),pe=d(Y,ce,te),_e=_(se,te),de=_e.error.latitude*2,ue=_e.error.longitude*2,Re=m(se,te),k=m(pe,te),ie=Math.round((k[0]-Re[0])/de),me=Math.round((k[1]-Re[1])/ue),K=[],ee=0;ee<=ie;ee++)for(var ge=0;ge<=me;ge++)K.push(b(se,[ee,ge],te));return K};function D(X){return X>s?o+X%s:X<o?s+X%s:X}function F(X){return X>a?a:X<i?i:X}var Q={ENCODE_AUTO:r,encode:c,encode_uint64:d,encode_int:d,decode:v,decode_int:_,decode_uint64:_,decode_bbox:h,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:x,neighbor_int:b,neighbors:S,neighbors_int:A,bboxes:P,bboxes_int:O};return OA=Q,OA}var RDe=ADe();const Km=Lr(RDe),PDe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Document",id:t}}),ODe=e=>async t=>{const n=await nr(new URL("/inbox",e),{method:"POST",body:JSON.stringify(PDe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Ho("Geoindex responded with error",n);return{...t,status:n.status}},EU=(e="")=>{const t=[];for(let n=1;n<=e.length;n++)t.push(e.substring(0,n));return t},LDe=()=>{const{geoindexService:e}=kn(),t=Si(),{mutateAsync:n}=Pa({mutationFn:ODe(e),onSuccess:async({previousLocation:a,currentLocation:o})=>{const s=[];if(a){const l=Km.encode(a.lat,a.long,10);s.push(...EU(l))}if(o){const l=Km.encode(o.lat,o.long,10);s.push(...EU(l))}await Promise.allSettled(s.map(l=>t.invalidateQueries({queryKey:[zr.geoindex,l]})))}}),r=!!e,i=V.useCallback(async a=>await n(a),[n]);return V.useMemo(()=>[r,i],[r,i])},IDe=(e,t,n="en")=>{const{variables:r,quads:i,isLoading:a}=ga({query:kz,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:nr});return V.useMemo(()=>{const o=sr.createLdoDataset(i);return[(r.offer??[]).map(c=>o.usingType(nb).fromSubject(c)).filter(c=>{var d,h;return((d=c==null?void 0:c.location)==null?void 0:d.lat)!==void 0&&((h=c==null?void 0:c.location)==null?void 0:h.long)!==void 0}).map(c=>{var v,_;const d=c&&sr.languagesOf(c,"description"),h=((v=d==null?void 0:d[n])==null?void 0:v.values().next().value)??"",m=[c.location.lat].flat()[0]??0,y=[c.location.long].flat()[0]??0;return{id:c["@id"]??"",description:h,location:{lat:m,long:y},offeredBy:((_=c.offeredBy)==null?void 0:_["@id"])??""}}),a]},[a,n,i,r.offer])},MDe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},DDe={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},kDe={schema:MDe,shape:"https://example.com/Accommodation",context:DDe},NDe=()=>{const e=Df(kDe);return V.useCallback(async({data:{id:t,...n},language:r="en"})=>{await e.mutateAsync({uri:t,subject:t,language:r,transform:i=>{n.description&&(i.description=[n.description]),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[e])},FDe=()=>{const{communityId:e}=kn(),t=di(),{i18n:n,_:r}=Jr(),[i,a]=V.useState(),{personalHospexDocuments:o}=X7(t.webId??"",e),[s]=IDe(t.webId??"",e),l=CDe(),c=NDe(),d=TDe(),[h,m]=LDe(),y=V.useCallback(async({uri:b,type:S,previousLocation:A,currentLocation:P})=>{h&&t.webId&&await xs(m({type:S,actor:t.webId,object:b,previousLocation:A,currentLocation:P}),{pending:n._({id:"vTkuq4"}),success:{render:({data:O})=>{switch(O.status){case 201:return n._({id:"vz3tpL"});case 200:return n._({id:"f7fqUX"});case 204:return n._({id:"Z0DAcX"});default:return n._({id:"XQAIBA"})}}}})},[t.webId,h,m,r]);if(typeof t.webId!="string")return null;if(!s)return H.jsx(bo,{children:H.jsx(wt,{id:"Z3FXyt"})});const v=async b=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));const{uri:S}=await xs(l({personId:t.webId,data:b,hospexDocument:o[0],hospexContainer:wi(o[0])}),{pending:n._({id:"r60ENi"}),success:n._({id:"QlfR57"})});a(void 0),await y({type:"Create",uri:S,currentLocation:b.location})},_=async(b,S)=>{await xs(c({data:b}),{pending:n._({id:"xdx7Sc"}),success:n._({id:"PUl3lo"})}),a(void 0),await y({type:"Update",uri:b.id,currentLocation:b.location,previousLocation:S.location})},x=async({id:b,location:S})=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));globalThis.confirm(n._({id:"Wixo6f"}))&&(await xs(d({id:b,personId:t.webId,hospexDocument:o[0]}),{pending:n._({id:"+5HgiN"}),success:n._({id:"t9VobG"})}),await y({type:"Delete",uri:b,previousLocation:S}))};return H.jsxs("div",{className:vo.container,children:[H.jsxs("h1",{className:vo.header,children:[H.jsx(d9,{size:32})," ",H.jsx(wt,{id:"iRVV2L"})]}),H.jsx("ul",{style:{display:"contents"},children:s.map(b=>i===b.id?H.jsx(SU,{onSubmit:S=>_(S,b),onCancel:()=>{a(void 0)},initialData:b},b.id):H.jsxs("li",{className:vo.accommodation,"data-cy":"offer-accommodation-item",children:[H.jsx(EDe,{...b}),H.jsxs("div",{className:vo.actions,children:[H.jsx(pr,{secondary:!0,onClick:()=>{a(b.id)},children:H.jsx(wt,{id:"ePK91l"})}),H.jsx(pr,{danger:!0,onClick:()=>x(b),children:H.jsx(wt,{id:"cnGeoo"})})]})]},b.id))}),i==="new"?H.jsx(SU,{onSubmit:v,onCancel:()=>a(void 0)}):H.jsx(pr,{primary:!0,onClick:()=>a("new"),className:vo.addAccommodationButton,children:H.jsx(wt,{id:"CiQd9C"})})]})},jDe=()=>H.jsx("div",{children:"404"}),$De=e=>{const{data:t}=WP(e.src);return t?H.jsx("img",{...e,src:t,alt:e.alt??"","data-src":e.src}):null},UDe="_container_16bhv_1",BDe="_name_16bhv_7",qDe="_about_16bhv_14",zDe="_photo_16bhv_17",s0={container:UDe,name:BDe,about:qDe,photo:zDe},HDe=()=>{const{i18n:e,_:t}=Jr(),{communityId:n}=kn(),r=gP().id,i=di(),a=r&&i.webId?r===i.webId:void 0,[o]=Ko(r,n),[s]=Ko(i.webId,n),l=o.name;return H.jsxs("div",{className:s0.container,children:[H.jsx($De,{className:s0.photo,src:o.photo,alt:e._({id:"+Vmqfs",values:{name:l}}),"data-cy":"profile-photo"}),H.jsxs("header",{className:s0.name,"data-cy":"profile-name",children:[o.name," ",H.jsx(g9,{href:r})]}),H.jsx("section",{className:s0.about,"data-cy":"profile-about",children:o.about}),a&&H.jsxs(mf,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[H.jsx(p9,{})," ",H.jsx(wt,{id:"HecDqj"})]}),a===!1&&H.jsx(mf,{secondary:!0,to:`/messages/${encodeURIComponent(r)}`,children:H.jsx(wt,{id:"eWlz27"})}),H.jsx(mf,{tertiary:!0,to:"contacts",children:H.jsx(wt,{id:"2LDW9H"})}),a===!1&&H.jsx(tRe,{webId:r}),H.jsx("section",{children:o.interests?H.jsx(l1e,{ids:o.interests,highlighted:a?[]:s.interests??[]}):H.jsx(bo,{children:H.jsx(wt,{id:"O75yBm"})})})]})},VDe=()=>{const e=di();return e.webId?H.jsx(yP,{to:encodeURIComponent(e.webId),replace:!0}):H.jsx(bo,{children:H.jsx(wt,{id:"qPXQY8"})})},KDe="_bar_1x3gh_1",GDe="_animate_1x3gh_17",WDe="_progress_1x3gh_1",CU={bar:KDe,animate:GDe,progress:WDe},QDe=({animate:e=!1})=>H.jsx("div",{className:Or(CU.bar,e&&CU.animate)}),ZDe=async({geohash:e,geoindex:t})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${e}"`)}`,t).toString(),r=await nr(n);if(!r.ok)throw new Ho("geoindex returned invalid response",r);const i=await r.text(),o=new Dh({format:r.headers.get("content-type")??void 0}).parse(i),s=new As(o);return s.getSubjects("https://example.com/ns#geohash",`"${e}"`,null).map(c=>{const d=s.getObjects(c,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),h=Km.decode(d);return{uri:c.value,geohash:d,location:h}})},JDe=(e,t)=>{const{geoindexService:n}=kn(),[r,i]=V.useState(0),[a,o]=V.useState(0),s=!n||r>a,l=V.useMemo(()=>t?Km.bboxes(t.s,t.w,t.n,t.e,1):[],[t]),c=V.useMemo(()=>l.map(b=>({queryKey:[zr.geoindex,b],queryFn:()=>ZDe({geohash:b,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),d=Sm({queries:c,combine:b=>({isError:b.some(S=>S.isError),isPending:b.some(S=>S.isPending),isSuccess:b.every(S=>S.isSuccess),errors:b.filter(S=>S.error).map(S=>S.error),data:b.filter(S=>S.data).flatMap(S=>S.data)})});V.useEffect(()=>{d.isError&&i(Date.now())},[d.isError]),V.useEffect(()=>{d.isSuccess&&o(Date.now())},[d.isSuccess]);const h=V.useMemo(()=>s?{query:Vye,variables:{community:[e]},fetch:nr,store:new As}:{query:[],variables:{},fetch:nr},[e,s]),{quads:m,isMissing:y}=ga(h),v=V.useMemo(()=>[sr.createLdoDataset(m).usingType(nb).matchObject(null,nc.offers).filter(A=>A.location).map(A=>{var P,O,D;return{id:A["@id"],description:((P=A.description)==null?void 0:P[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((O=A.offeredBy)==null?void 0:O["@id"])??"",name:((D=A.offeredBy)==null?void 0:D.name)??""}}}).filter(A=>A.location.lat!==void 0&&A.location.long!==void 0&&A.id!==void 0),y],[y,m]),_=V.useMemo(()=>[d.data.map(({uri:b,location:S})=>({id:b,location:{lat:S.latitude,long:S.longitude},offeredBy:{id:"",name:""}})),d.isPending],[d.data,d.isPending]);return V.useMemo(()=>[Fpe("id",_[0],v[0]),_[1]||v[1]],[_,v])};var fm={exports:{}},YDe=fm.exports,TU;function XDe(){return TU||(TU=1,function(e,t){(function(n,r){r(t)})(YDe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=a,s=this._zoom;if(a.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,o):this._animationAddLayerNonAnimated(a,o)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,o){if(!L.Util.isArray(a))return this.addLayer(a);var s=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,d=this.options.chunkInterval,h=this.options.chunkProgress,m=a.length,y=0,v=!0,_;if(this._map){var x=new Date().getTime(),b=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(c&&y%200===0){var P=new Date().getTime()-A;if(P>d)break}if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),m=a.length;continue}if(!_.getLatLng){l.addLayer(_),o||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),o||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var O=_.__parent.getAllChildMarkers(),D=O[0]===_?O[1]:O[0];s.removeLayer(D)}}h&&h(y,m,new Date().getTime()-x),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(b,this.options.chunkDelay)},this);b()}else for(var S=this._needsClustering;y<m;y++){if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),m=a.length;continue}if(!_.getLatLng){l.addLayer(_);continue}this.hasLayer(_)||S.push(_)}return this},removeLayers:function(a){var o,s,l=a.length,c=this._featureGroup,d=this._nonPointGroup,h=!0;if(!this._map){for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}this._arraySplice(this._needsClustering,s),d.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=l;for(o=0;o<y;o++){if(s=m[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,m),y=m.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}if(!s.__parent){d.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),c.hasLayer(s)&&(c.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)a.extend(this._needsClustering[o].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,o){var s=this._needsClustering.slice(),l=this._needsRemoving,c,d,h;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),d=s.length-1;d>=0;d--){for(c=!0,h=l.length-1;h>=0;h--)if(l[h].layer===s[d]){c=!1;break}c&&a.call(o,s[d])}this._nonPointGroup.eachLayer(a,o)},getLayers:function(){var a=[];return this.eachLayer(function(o){a.push(o)}),a},getLayer:function(a){var o=null;return a=parseInt(a,10),this.eachLayer(function(s){L.stamp(s)===a&&(o=s)}),o},hasLayer:function(a){if(!a)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===a)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,o){var s=this._map;typeof o!="function"&&(o=function(){});var l=function(){(s.hasLayer(a)||s.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),s.hasLayer(a)?o():a.__parent._icon&&(this.once("spiderfied",o,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?o():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var o,s,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var o=a;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(a,o){for(var s=a.length-1;s>=0;s--)if(a[s]===o)return a.splice(s,1),!0},_removeFromGridUnclustered:function(a,o){for(var s=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());o>=c&&l[o].removeObject(a,s.project(a.getLatLng(),o));o--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var o=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),o&&a.target.openPopup()}},_moveChild:function(a,o,s){a._latlng=o,this.removeLayer(a),a._latlng=s,this.addLayer(a)},_childMarkerDragEnd:function(a){var o=a.target.__dragStart;delete a.target.__dragStart,o&&this._moveChild(a.target,o,a.target._latlng)},_removeLayer:function(a,o,s){var l=this._gridClusters,c=this._gridUnclustered,d=this._featureGroup,h=this._map,m=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,v=y._markers,_;for(this._arraySplice(v,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)o&&y._childCount<=1?(_=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,h.project(y._cLatLng,y._zoom)),c[y._zoom].addObject(_,h.project(_.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(_),_.__parent=y.__parent,y._icon&&(d.removeLayer(y),s||d.addLayer(_))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,o){for(;o;){if(a===o)return!0;o=o.parentNode}return!1},fire:function(a,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,o,s)},listens:function(a,o){return L.FeatureGroup.prototype.listens.call(this,a,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,o)},_defaultIconCreateFunction:function(a){var o=a.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(o||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var o=a.layer,s=o;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(a||s||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,l=s;typeof s!="function"&&(l=function(){return s}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var c=a;c>=o;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(a,o){var s=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),d,h;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);o>=c;o--){d=this._map.project(a.getLatLng(),o);var m=s[o].getNearObject(d);if(m){m._addChild(a),a.__parent=m;return}if(m=l[o].getNearObject(d),m){var y=m.__parent;y&&this._removeLayer(m,!1);var v=new this._markerCluster(this,o,m,a);s[o].addObject(v,this._map.project(v._cLatLng,o)),m.__parent=v,a.__parent=v;var _=v;for(h=o-1;h>y._zoom;h--)_=new this._markerCluster(this,h,_),s[h].addObject(_,this._map.project(m.getLatLng(),h));y._addChild(_),this._removeFromGridUnclustered(m,o);return}l[o].addObject(a,d)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var o=this._maxLat;return o!==void 0&&(a.getNorth()>=o&&(a._northEast.lat=1/0),a.getSouth()<=-o&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,o){if(o===a)this._featureGroup.addLayer(a);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(a,o){var s=a.getLayers(),l=0,c;for(o=o||[];l<s.length;l++){if(c=s[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,o);continue}o.push(c)}return o},_overrideMarkerIcon:function(a){var o=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,o){this._animationAddLayerNonAnimated(a,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,o){var s=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),d;this._ignoreMove=!0,this._topClusterLevel._recursively(s,a,c,function(h){var m=h._latlng,y=h._markers,v;for(s.contains(m)||(m=null),h._isSingleParent()&&a+1===o?(l.removeLayer(h),h._recursivelyAddChildrenToMap(null,o,s)):(h.clusterHide(),h._recursivelyAddChildrenToMap(m,o,s)),d=y.length-1;d>=0;d--)v=y[d],s.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),l.eachLayer(function(h){!(h instanceof L.MarkerCluster)&&h._icon&&h.clusterShow()}),this._topClusterLevel._recursively(s,a,o,function(h){h._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,a,c,function(h){l.removeLayer(h),h.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,o){this._animationZoomOutSingle(this._topClusterLevel,a-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,o){var s=this,l=this._featureGroup;l.addLayer(a),o!==a&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(o.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,o,s){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,o+1,s);var d=this;this._forceLayout(),a._recursivelyBecomeVisible(l,s),this._enqueue(function(){if(a._childCount===1){var h=a._markers[0];this._ignoreMove=!0,h.setLatLng(h.getLatLng()),this._ignoreMove=!1,h.clusterShow&&h.clusterShow()}else a._recursively(l,s,c,function(m){m._recursivelyRemoveChildrenFromMap(l,c,o+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,o,s,l){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),l&&this._addChild(l)},getAllChildMarkers:function(a,o){a=a||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(a,o);for(var l=this._markers.length-1;l>=0;l--)o&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var o=this._childClusters.slice(),s=this._group._map,l=s.getBoundsZoom(this._bounds),c=this._zoom+1,d=s.getZoom(),h;o.length>0&&l>c;){c++;var m=[];for(h=0;h<o.length;h++)m=m.concat(o[h]._childClusters);o=m}l>c?this._group._map.setView(this._latlng,c):l<=d?this._group._map.setView(this._latlng,d+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(o||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(o||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,o=this._childClusters,s=0,l=0,c=this._childCount,d,h,m,y;if(c!==0){for(this._resetBounds(),d=0;d<a.length;d++)m=a[d]._latlng,this._bounds.extend(m),s+=m.lat,l+=m.lng;for(d=0;d<o.length;d++)h=o[d],h._boundsNeedUpdate&&h._recalculateBounds(),this._bounds.extend(h._bounds),m=h._wLatLng,y=h._childCount,s+=m.lat*y,l+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,o,s){this._recursively(a,this._group._map.getMinZoom(),s-1,function(l){var c=l._markers,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())},function(l){var c=l._childClusters,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,o,s,l){this._recursively(a,l,o,function(c){c._recursivelyAnimateChildrenIn(a,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),s),c._isSingleParent()&&s-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(a,o,s)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(a,o){this._recursively(a,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(a,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(l){if(o!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var d=l._markers[c];s.contains(d._latlng)&&(a&&(d._backupLatlng=d.getLatLng(),d.setLatLng(a),d.clusterHide&&d.clusterHide()),l._group._featureGroup.addLayer(d))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,o,s,l){var c,d;this._recursively(a,o-1,s-1,function(h){for(d=h._markers.length-1;d>=0;d--)c=h._markers[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(h){for(d=h._childClusters.length-1;d>=0;d--)c=h._childClusters[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(a,o,s,l,c){var d=this._childClusters,h=this._zoom,m,y;if(o<=h&&(l&&l(this),c&&h===s&&c(this)),h<o||h<s)for(m=d.length-1;m>=0;m--)y=d[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,o,s,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],m=L.Util.stamp(a);this._objectPoint[m]=o,h.push(a)},updateObject:function(a,o){this.removeObject(a),this.addObject(a,o)},removeObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=h.length;m<y;m++)if(h[m]===a)return h.splice(m,1),y===1&&delete d[s],!0},eachObject:function(a,o){var s,l,c,d,h,m,y,v=this._grid;for(s in v){h=v[s];for(l in h)for(m=h[l],c=0,d=m.length;c<d;c++)y=a.call(o,m[c]),y&&(c--,d--)}},getNearObject:function(a){var o=this._getCoord(a.x),s=this._getCoord(a.y),l,c,d,h,m,y,v,_,x=this._objectPoint,b=this._sqCellSize,S=null;for(l=s-1;l<=s+1;l++)if(h=this._grid[l],h){for(c=o-1;c<=o+1;c++)if(m=h[c],m)for(d=0,y=m.length;d<y;d++)v=m[d],_=this._sqDist(x[L.Util.stamp(v)],a),(_<b||_<=b&&S===null)&&(b=_,S=v)}return S},_getCoord:function(a){var o=Math.floor(a/this._cellSize);return isFinite(o)?o:a},_sqDist:function(a,o){var s=o.x-a.x,l=o.y-a.y;return s*s+l*l}},function(){L.QuickHull={getDistant:function(a,o){var s=o[1].lat-o[0].lat,l=o[0].lng-o[1].lng;return l*(a.lat-o[0].lat)+s*(a.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(a,o){var s=0,l=null,c=[],d,h,m;for(d=o.length-1;d>=0;d--){if(h=o[d],m=this.getDistant(h,a),m>0)c.push(h);else continue;m>s&&(s=m,l=h)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(a,o){var s=[],l=this.findMostDistantPointFromBaseLine(a,o);return l.maxPoint?(s=s.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),s=s.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),s):[a[0]]},getConvexHull:function(a){var o=!1,s=!1,l=!1,c=!1,d=null,h=null,m=null,y=null,v=null,_=null,x;for(x=a.length-1;x>=0;x--){var b=a[x];(o===!1||b.lat>o)&&(d=b,o=b.lat),(s===!1||b.lat<s)&&(h=b,s=b.lat),(l===!1||b.lng>l)&&(m=b,l=b.lng),(c===!1||b.lng<c)&&(y=b,c=b.lng)}s!==o?(_=h,v=d):(_=y,v=m);var S=[].concat(this.buildConvexHull([_,v],a),this.buildConvexHull([v,_],a));return S}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),o=[],s,l;for(l=a.length-1;l>=0;l--)s=a[l].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,l=s.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(a.length,l):(l.y+=10,c=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,c)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=s/this._2PI,c=this._2PI/a,d=[],h,m;for(l=Math.max(l,35),d.length=a,h=0;h<a;h++)m=this._circleStartAngle+h*c,d[h]=new L.Point(o.x+l*Math.cos(m),o.y+l*Math.sin(m))._round();return d},_generatePointsSpiral:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier,l=s*this._spiralLengthStart,c=s*this._spiralFootSeparation,d=s*this._spiralLengthFactor*this._2PI,h=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(o.x+l*Math.cos(h),o.y+l*Math.sin(h))._round()),h+=c/l+y*5e-4,l+=d/h;return m},_noanimationUnspiderfy:function(){var a=this._group,o=a._map,s=a._featureGroup,l=this.getAllChildMarkers(null,!0),c,d;for(a._ignoreMove=!0,this.setOpacity(1),d=l.length-1;d>=0;d--)c=l[d],s.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(o.removeLayer(c._spiderLeg),delete c._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,o){var s=this._group,l=s._map,c=s._featureGroup,d=this._group.options.spiderLegPolylineOptions,h,m,y,v;for(s._ignoreMove=!0,h=0;h<a.length;h++)v=l.layerPointToLatLng(o[h]),m=a[h],y=new L.Polyline([this._latlng,v],d),l.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(v),m.setZIndexOffset&&m.setZIndexOffset(1e6),c.addLayer(m);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,o){var s=this,l=this._group,c=l._map,d=l._featureGroup,h=this._latlng,m=c.latLngToLayerPoint(h),y=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),_=v.opacity,x,b,S,A,P,O;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=_,l._ignoreMove=!0,x=0;x<a.length;x++)b=a[x],O=c.layerPointToLatLng(o[x]),S=new L.Polyline([h,O],v),c.addLayer(S),b._spiderLeg=S,y&&(A=S._path,P=A.getTotalLength()+.1,A.style.strokeDasharray=P,A.style.strokeDashoffset=P),b.setZIndexOffset&&b.setZIndexOffset(1e6),b.clusterHide&&b.clusterHide(),d.addLayer(b),b._setPos&&b._setPos(m);for(l._forceLayout(),l._animationStart(),x=a.length-1;x>=0;x--)O=c.layerPointToLatLng(o[x]),b=a[x],b._preSpiderfyLatlng=b._latlng,b.setLatLng(O),b.clusterShow&&b.clusterShow(),y&&(S=b._spiderLeg,A=S._path,A.style.strokeDashoffset=0,S.setStyle({opacity:_}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:s,markers:a})},200)},_animationUnspiderfy:function(a){var o=this,s=this._group,l=s._map,c=s._featureGroup,d=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,v,_,x,b,S;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),v=h.length-1;v>=0;v--)y=h[v],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,S=!0,y._setPos&&(y._setPos(d),S=!1),y.clusterHide&&(y.clusterHide(),S=!1),S&&c.removeLayer(y),m&&(_=y._spiderLeg,x=_._path,b=x.getTotalLength()+.1,x.style.strokeDashoffset=b,_.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var A=0;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&A++;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&c.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:h})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var o,s;for(o in a)for(s=a[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(a){var o,s;for(o in a)s=a[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(a,o){var s=this.options.icon;return L.setOptions(s,a),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(fm,fm.exports)),fm.exports}XDe();function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}var eke=["children"];function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(r){tke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tke(e,t,n){return(t=nke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nke(e){var t=rke(e,"string");return Gm(t)=="symbol"?t:t+""}function rke(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PU(e,t){return ske(e)||oke(e,t)||ake(e,t)||ike()}function ike(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ake(e,t){if(e){if(typeof e=="string")return OU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OU(e,t):void 0}}function OU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ske(e){if(Array.isArray(e))return e}function uke(e,t){if(e==null)return{};var n,r,i=lke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}vP.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});vP.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function cke(e,t){e.children;var n=uke(e,eke),r={},i={};Object.entries(n).forEach(function(o){var s=PU(o,2),l=s[0],c=s[1];return l.startsWith("on")?i[l]=c:r[l]=c});var a=new vP.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var s=PU(o,2),l=s[0],c=s[1],d="cluster".concat(l.substring(2).toLowerCase());a.on(d,c)}),{instance:a,context:RU(RU({},t),{},{layerContainer:a})}}var fke=WIe(cke);const dke=({accommodationId:e})=>{var c;const{communityId:t}=kn(),{quads:n,variables:r,isLoading:i}=ga(V.useMemo(()=>({query:Kye,variables:{offer:[e]},fetch:nr}),[e])),[a,,,,o]=Ko(((c=r.person)==null?void 0:c[0])??"",t),s=V.useMemo(()=>sr.createLdoDataset(n).usingType(nb).fromSubject(e),[e,n]),l=V.useMemo(()=>{var y,v,_;if(!s)return;const d=(y=s==null?void 0:s.location)==null?void 0:y.lat,h=(v=s==null?void 0:s.location)==null?void 0:v.long;return{id:s["@id"]??"",description:((_=s.description)==null?void 0:_[0])??"",location:{lat:d,long:h},offeredBy:a??o??{}}},[o,s,a]);return V.useMemo(()=>[l,{isLoading:i}],[l,i])},hke="_container_5yist_1",pke="_person_5yist_6",gke="_name_5yist_11",mke="_accommodation_5yist_14",u0={container:hke,person:pke,name:gke,accommodation:mke},yke=({accommodationId:e})=>{const{webId:t}=di(),[n]=dke({accommodationId:e}),r=t&&(n==null?void 0:n.offeredBy)&&t!==n.offeredBy.id;return H.jsxs("div",{className:u0.container,children:[n?H.jsxs(H.Fragment,{children:[H.jsx("div",{className:u0.person,children:H.jsxs(jo,{to:`/profile/${encodeURIComponent(n.offeredBy.id)}`,style:{display:"contents"},children:[H.jsx(jw,{...n.offeredBy,size:1.5,square:!0}),H.jsx("span",{className:u0.name,"data-cy":"accommodation-info-name",children:n.offeredBy.name})]})}),H.jsx("div",{className:u0.accommodation,"data-cy":"accommodation-info-description",children:n.description})]}):H.jsx(bo,{children:H.jsx(wt,{id:"Z3FXyt"})}),r?H.jsx(mf,{primary:!0,to:`/messages/${encodeURIComponent(n.offeredBy.id)}`,children:H.jsx(wt,{id:"eWlz27"})}):null]})},vke="_container_19njf_1",_ke="_offerOverlay_19njf_18",wke="_closeButton_19njf_28",bke="_mapContainer_19njf_34",l0={container:vke,offerOverlay:_ke,closeButton:wke,mapContainer:bke},Ske=()=>{const{i18n:e,_:t}=Jr(),{communityId:n,tileServer:r}=kn(),[i,a]=XZ(),o=i.get("hosting"),[s,l]=V.useState(),[c,d]=JDe(n,s),h=y=>{a({hosting:y})},m=V.useCallback((y,v)=>l(_=>U9(_,v)?_:v),[]);return H.jsxs(H.Fragment,{children:[d&&H.jsx(QDe,{}),H.jsxs("div",{className:l0.container,children:[o&&H.jsxs("div",{className:l0.offerOverlay,children:[H.jsx("button",{onClick:()=>{a({})},className:l0.closeButton,"aria-label":e._({id:"C++TGh"}),children:H.jsx(X0,{})}),H.jsx(yke,{accommodationId:o})]}),H.jsxs(vL,{className:l0.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[H.jsx(wL,{url:r}),H.jsx(eG,{strings:{title:e._({id:"v5eALp"})},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),H.jsx(fke,{maxClusterRadius:20,children:c?c.map(y=>{var _,x;const v=((_=y.offeredBy)==null?void 0:_.name)||((x=y.offeredBy)==null?void 0:x.id);return H.jsx(_L,{position:[y.location.lat,y.location.long],eventHandlers:{click:()=>{h(y.id)}},icon:y.id===o?gJ:mJ("geohash-"+Km.encode(y.location.lat,y.location.long,10)),alt:e._({id:"hHo0hg",values:{offeredByIdentifier:v}})},y.id)}):null}),H.jsx(tG,{onUpdate:m})]})]})]})},xke=({webId:e,className:t})=>{const{communityId:n}=kn(),[r]=Ko(e,n);return H.jsx(jw,{photo:r.photo,square:!0,size:1.25,className:t})},Eke="_threadList_1lsy0_1",Cke="_thread_1lsy0_1",Tke="_unread_1lsy0_14",Ake="_content_1lsy0_14",Rke="_avatar_1lsy0_17",kd={threadList:Eke,thread:Cke,unread:Tke,content:Ake,avatar:Rke},Pke=()=>{const e=di(),{data:t}=n_e(e.webId??"");return t?H.jsxs("div",{children:[H.jsx("h1",{children:H.jsx(wt,{id:"EnJuK0"})}),H.jsx("ul",{className:kd.threadList,children:t.map(n=>{const r=n.participants.find(i=>i!==e.webId);return H.jsx("li",{"data-cy":"thread-list-item",children:H.jsx(jo,{to:`/messages/${encodeURIComponent(r??"")}`,children:H.jsx(Oke,{thread:n})})},n.id)})})]}):H.jsx(bo,{children:H.jsx(wt,{id:"Z3FXyt"})})},Oke=({thread:e})=>{const{communityId:t}=kn(),n=di(),r=e.participants.find(o=>o!==n.webId),[i]=Ko(r??"",t),a=e.messages[e.messages.length-1];return H.jsxs("div",{className:Or(kd.thread,e.status&&kd.unread),"data-cy":e.status&&"thread-unread",children:[H.jsx(xke,{webId:r??"",className:kd.avatar}),H.jsxs("div",{children:[H.jsx("div",{className:kd.name,title:i.id,children:i.name}),H.jsx("div",{className:kd.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},Lke=()=>H.jsx(BK,{tabs:[],children:H.jsx(Tw,{})}),Ike=()=>H.jsx(yP,{to:"search",replace:!0}),Mke=GZ([{path:"/",element:H.jsx(k1e,{}),children:[{path:"/",element:H.jsx(HAe,{}),children:[{index:!0,element:H.jsx(aIe,{})},{path:"profile",children:[{index:!0,element:H.jsx(VDe,{})},{path:"edit",element:H.jsx(tIe,{})},{path:":id",element:H.jsx(HDe,{})},{path:":id/contacts",element:H.jsx(iRe,{})}]},{path:"messages",children:[{index:!0,element:H.jsx(Pke,{})},{path:":id",element:H.jsx(NIe,{})}]},{path:"host",element:H.jsx(sIe,{}),children:[{index:!0,element:H.jsx(uIe,{})},{path:"offers",element:H.jsx(FDe,{})}]},{path:"travel",element:H.jsx(Lke,{}),children:[{index:!0,element:H.jsx(Ike,{})},{path:"search",element:H.jsx(Ske,{})}]}]},{path:"about",element:H.jsx(G2e,{})},{path:"*",element:H.jsx(jDe,{})}]}]),Dke=new zW({defaultOptions:{queries:{retry:1}}}),kke=aQ.createRoot(document.getElementById("root"));kke.render(H.jsx(It.StrictMode,{children:H.jsx(wQ,{store:oq,children:H.jsx(PB,{loading:null,persistor:hX,children:H.jsx(ZW,{client:Dke,children:H.jsx(AY,{children:H.jsx(jZ,{router:Mke})})})})})}));
