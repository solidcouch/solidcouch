var u7=Object.defineProperty;var $L=t=>{throw TypeError(t)};var l7=(t,e,n)=>e in t?u7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xb=(t,e,n)=>l7(t,typeof e!="symbol"?e+"":e,n),e1=(t,e,n)=>e.has(t)||$L("Cannot "+n);var Qe=(t,e,n)=>(e1(t,e,"read from private field"),n?n.call(t):e.get(t)),Jt=(t,e,n)=>e.has(t)?$L("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Mt=(t,e,n,r)=>(e1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ln=(t,e,n)=>(e1(t,e,"access private method"),n);var By=(t,e,n,r)=>({set _(i){Mt(t,e,i,n)},get _(){return Qe(t,e,r)}});function c7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var t1={exports:{}},Qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL;function f7(){if(UL)return Qh;UL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Qh.Fragment=e,Qh.jsx=n,Qh.jsxs=n,Qh}var BL;function d7(){return BL||(BL=1,t1.exports=f7()),t1.exports}var de=d7(),Qc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uc=typeof window>"u"||"Deno"in globalThis;function so(){}function h7(t,e){return typeof t=="function"?t(e):t}function G2(t){return typeof t=="number"&&t>=0&&t!==1/0}function i5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function id(t,e){return typeof t=="function"?t(e):t}function Ao(t,e){return typeof t=="function"?t(e):t}function qL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(r){if(e.queryHash!==cA(o,e.options))return!1}else if(!Mg(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function zL(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Bc(e.options.mutationKey)!==Bc(a))return!1}else if(!Mg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function cA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bc)(t)}function Bc(t){return JSON.stringify(t,(e,n)=>W2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Mg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Mg(t[n],e[n])):!1}function fA(t,e){if(t===e)return t;const n=HL(t)&&HL(e);if(n||W2(t)&&W2(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,s=n?[]:{};let c=0;for(let f=0;f<o;f++){const h=n?f:a[f];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(s[h]=void 0,c++):(s[h]=fA(t[h],e[h]),s[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:s}return e}function N_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function HL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function W2(t){if(!VL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VL(t){return Object.prototype.toString.call(t)==="[object Object]"}function p7(t){return new Promise(e=>{setTimeout(e,t)})}function Q2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fA(t,e):e}function g7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function m7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var a5=Symbol();function o5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===a5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Rc,sl,dd,V$,y7=(V$=class extends Qc{constructor(){super();Jt(this,Rc);Jt(this,sl);Jt(this,dd);Mt(this,dd,e=>{if(!Uc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,sl)||this.setEventListener(Qe(this,dd))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,sl))==null||e.call(this),Mt(this,sl,void 0))}setEventListener(e){var n;Mt(this,dd,e),(n=Qe(this,sl))==null||n.call(this),Mt(this,sl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Qe(this,Rc)!==e&&(Mt(this,Rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Qe(this,Rc)=="boolean"?Qe(this,Rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Rc=new WeakMap,sl=new WeakMap,dd=new WeakMap,V$),dA=new y7,hd,ul,pd,K$,v7=(K$=class extends Qc{constructor(){super();Jt(this,hd,!0);Jt(this,ul);Jt(this,pd);Mt(this,pd,e=>{if(!Uc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,ul)||this.setEventListener(Qe(this,pd))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,ul))==null||e.call(this),Mt(this,ul,void 0))}setEventListener(e){var n;Mt(this,pd,e),(n=Qe(this,ul))==null||n.call(this),Mt(this,ul,e(this.setOnline.bind(this)))}setOnline(e){Qe(this,hd)!==e&&(Mt(this,hd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Qe(this,hd)}},hd=new WeakMap,ul=new WeakMap,pd=new WeakMap,K$),F_=new v7;function Z2(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function _7(t){return Math.min(1e3*2**t,3e4)}function s5(t){return(t??"online")==="online"?F_.isOnline():!0}var u5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function n1(t){return t instanceof u5}function l5(t){let e=!1,n=0,r=!1,i;const a=Z2(),o=b=>{var S;r||(m(new u5(b)),(S=t.abort)==null||S.call(t))},s=()=>{e=!0},c=()=>{e=!1},f=()=>dA.isFocused()&&(t.networkMode==="always"||F_.isOnline())&&t.canRun(),h=()=>s5(t.networkMode)&&t.canRun(),p=b=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,b),i==null||i(),a.resolve(b))},m=b=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,b),i==null||i(),a.reject(b))},y=()=>new Promise(b=>{var S;i=x=>{(r||f())&&b(x)},(S=t.onPause)==null||S.call(t)}).then(()=>{var b;i=void 0,r||(b=t.onContinue)==null||b.call(t)}),_=()=>{if(r)return;let b;const S=n===0?t.initialPromise:void 0;try{b=S??t.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(p).catch(x=>{var D;if(r)return;const E=t.retry??(Uc?0:3),A=t.retryDelay??_7,I=typeof A=="function"?A(n,x):A,M=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!M){m(x);return}n++,(D=t.onFail)==null||D.call(t,n,x),p7(I).then(()=>f()?void 0:y()).then(()=>{e?m(x):_()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:h,start:()=>(h()?_():y().then(_),a)}}function w7(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(c=>{n(c)})})})};return{batch:s=>{let c;e++;try{c=s()}finally{e--,e||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Fr=w7(),Pc,G$,c5=(G$=class{constructor(){Jt(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),G2(this.gcTime)&&Mt(this,Pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uc?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,Pc)&&(clearTimeout(Qe(this,Pc)),Mt(this,Pc,void 0))}},Pc=new WeakMap,G$),gd,md,oo,Fi,am,Oc,To,Xs,W$,b7=(W$=class extends c5{constructor(e){super();Jt(this,To);Jt(this,gd);Jt(this,md);Jt(this,oo);Jt(this,Fi);Jt(this,am);Jt(this,Oc);Mt(this,Oc,!1),Mt(this,am,e.defaultOptions),this.setOptions(e.options),this.observers=[],Mt(this,oo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Mt(this,gd,S7(this.options)),this.state=e.state??Qe(this,gd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Qe(this,Fi))==null?void 0:e.promise}setOptions(e){this.options={...Qe(this,am),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,oo).remove(this)}setData(e,n){const r=Q2(this.state.data,e,this.options);return ln(this,To,Xs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ln(this,To,Xs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Qe(this,Fi))==null?void 0:r.promise;return(i=Qe(this,Fi))==null||i.cancel(e),n?n.then(so).catch(so):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,gd))}isActive(){return this.observers.some(e=>Ao(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!i5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,Fi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,Fi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Qe(this,oo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Qe(this,Fi)&&(Qe(this,Oc)?Qe(this,Fi).cancel({revert:!0}):Qe(this,Fi).cancelRetry()),this.scheduleGc()),Qe(this,oo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,To,Xs).call(this,{type:"invalidate"})}fetch(e,n){var c,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Fi))return Qe(this,Fi).continueRetry(),Qe(this,Fi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Mt(this,Oc,!0),r.signal)})},a=()=>{const p=o5(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),Mt(this,Oc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Mt(this,md,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&ln(this,To,Xs).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const s=p=>{var m,y,_,b;n1(p)&&p.silent||ln(this,To,Xs).call(this,{type:"error",error:p}),n1(p)||((y=(m=Qe(this,oo).config).onError)==null||y.call(m,p,this),(b=(_=Qe(this,oo).config).onSettled)==null||b.call(_,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Mt(this,Fi,l5({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,_,b;if(p===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){s(S);return}(y=(m=Qe(this,oo).config).onSuccess)==null||y.call(m,p,this),(b=(_=Qe(this,oo).config).onSettled)==null||b.call(_,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(p,m)=>{ln(this,To,Xs).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ln(this,To,Xs).call(this,{type:"pause"})},onContinue:()=>{ln(this,To,Xs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Qe(this,Fi).start()}},gd=new WeakMap,md=new WeakMap,oo=new WeakMap,Fi=new WeakMap,am=new WeakMap,Oc=new WeakMap,To=new WeakSet,Xs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...f5(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return n1(i)&&i.revert&&Qe(this,md)?{...Qe(this,md),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,oo).notify({query:this,type:"updated",action:e})})},W$);function f5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function S7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ts,Q$,x7=(Q$=class extends Qc{constructor(e={}){super();Jt(this,ts);this.config=e,Mt(this,ts,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??cA(i,n);let o=this.get(a);return o||(o=new b7({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Qe(this,ts).has(e.queryHash)||(Qe(this,ts).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Qe(this,ts).get(e.queryHash);n&&(e.destroy(),n===e&&Qe(this,ts).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Qe(this,ts).get(e)}getAll(){return[...Qe(this,ts).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qL(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qL(e,r)):n}notify(e){Fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ts=new WeakMap,Q$),ns,na,Lc,rs,el,Z$,E7=(Z$=class extends c5{constructor(e){super();Jt(this,rs);Jt(this,ns);Jt(this,na);Jt(this,Lc);this.mutationId=e.mutationId,Mt(this,na,e.mutationCache),Mt(this,ns,[]),this.state=e.state||d5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Qe(this,ns).includes(e)||(Qe(this,ns).push(e),this.clearGcTimeout(),Qe(this,na).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Mt(this,ns,Qe(this,ns).filter(n=>n!==e)),this.scheduleGc(),Qe(this,na).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Qe(this,ns).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,na).remove(this))}continue(){var e;return((e=Qe(this,Lc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,s,c,f,h,p,m,y,_,b,S,x,E,A,I,M,D,j;Mt(this,Lc,l5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Q,Y)=>{ln(this,rs,el).call(this,{type:"failed",failureCount:Q,error:Y})},onPause:()=>{ln(this,rs,el).call(this,{type:"pause"})},onContinue:()=>{ln(this,rs,el).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,na).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,Lc).canStart();try{if(!n){ln(this,rs,el).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=Qe(this,na).config).onMutate)==null?void 0:a.call(i,e,this));const Y=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,e));Y!==this.state.context&&ln(this,rs,el).call(this,{type:"pending",context:Y,variables:e,isPaused:r})}const Q=await Qe(this,Lc).start();return await((f=(c=Qe(this,na).config).onSuccess)==null?void 0:f.call(c,Q,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,Q,e,this.state.context)),await((y=(m=Qe(this,na).config).onSettled)==null?void 0:y.call(m,Q,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,Q,null,e,this.state.context)),ln(this,rs,el).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((x=(S=Qe(this,na).config).onError)==null?void 0:x.call(S,Q,e,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,Q,e,this.state.context)),await((M=(I=Qe(this,na).config).onSettled)==null?void 0:M.call(I,void 0,Q,this.state.variables,this.state.context,this)),await((j=(D=this.options).onSettled)==null?void 0:j.call(D,void 0,Q,e,this.state.context)),Q}finally{ln(this,rs,el).call(this,{type:"error",error:Q})}}finally{Qe(this,na).runNext(this)}}},ns=new WeakMap,na=new WeakMap,Lc=new WeakMap,rs=new WeakSet,el=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fr.batch(()=>{Qe(this,ns).forEach(r=>{r.onMutationUpdate(e)}),Qe(this,na).notify({mutation:this,type:"updated",action:e})})},Z$);function d5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fa,om,J$,T7=(J$=class extends Qc{constructor(e={}){super();Jt(this,Fa);Jt(this,om);this.config=e,Mt(this,Fa,new Map),Mt(this,om,Date.now())}build(e,n,r){const i=new E7({mutationCache:this,mutationId:++By(this,om)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=qy(e),r=Qe(this,Fa).get(n)??[];r.push(e),Qe(this,Fa).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=qy(e);if(Qe(this,Fa).has(n)){const i=(r=Qe(this,Fa).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?Qe(this,Fa).delete(n):Qe(this,Fa).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Qe(this,Fa).get(qy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Qe(this,Fa).get(qy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Qe(this,Fa).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zL(n,r))}findAll(e={}){return this.getAll().filter(n=>zL(e,n))}notify(e){Fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Fr.batch(()=>Promise.all(e.map(n=>n.continue().catch(so))))}},Fa=new WeakMap,om=new WeakMap,J$);function qy(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function KL(t){return{onFetch:(e,n)=>{var h,p,m,y,_;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const f=async()=>{let b=!1;const S=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},x=o5(e.options,e.fetchOptions),E=async(A,I,M)=>{if(b)return Promise.reject();if(I==null&&A.pages.length)return Promise.resolve(A);const D={queryKey:e.queryKey,pageParam:I,direction:M?"backward":"forward",meta:e.options.meta};S(D);const j=await x(D),{maxPages:Q}=e.options,Y=M?m7:g7;return{pages:Y(A.pages,j,Q),pageParams:Y(A.pageParams,I,Q)}};if(i&&a.length){const A=i==="backward",I=A?C7:GL,M={pages:a,pageParams:o},D=I(r,M);s=await E(M,D,A)}else{const A=t??a.length;do{const I=c===0?o[0]??r.initialPageParam:GL(r,s);if(c>0&&I==null)break;s=await E(s,I),c++}while(c<A)}return s};e.options.persister?e.fetchFn=()=>{var b,S;return(S=(b=e.options).persister)==null?void 0:S.call(b,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function GL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function C7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nr,ll,cl,yd,vd,fl,_d,wd,Y$,A7=(Y$=class{constructor(t={}){Jt(this,Nr);Jt(this,ll);Jt(this,cl);Jt(this,yd);Jt(this,vd);Jt(this,fl);Jt(this,_d);Jt(this,wd);Mt(this,Nr,t.queryCache||new x7),Mt(this,ll,t.mutationCache||new T7),Mt(this,cl,t.defaultOptions||{}),Mt(this,yd,new Map),Mt(this,vd,new Map),Mt(this,fl,0)}mount(){By(this,fl)._++,Qe(this,fl)===1&&(Mt(this,_d,dA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,Nr).onFocus())})),Mt(this,wd,F_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,Nr).onOnline())})))}unmount(){var t,e;By(this,fl)._--,Qe(this,fl)===0&&((t=Qe(this,_d))==null||t.call(this),Mt(this,_d,void 0),(e=Qe(this,wd))==null||e.call(this),Mt(this,wd,void 0))}isFetching(t){return Qe(this,Nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Qe(this,ll).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,Nr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Qe(this,Nr).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(id(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Qe(this,Nr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Qe(this,Nr).get(r.queryHash),a=i==null?void 0:i.state.data,o=h7(e,a);if(o!==void 0)return Qe(this,Nr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Fr.batch(()=>Qe(this,Nr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,Nr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Qe(this,Nr);Fr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Qe(this,Nr),r={type:"active",...t};return Fr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Fr.batch(()=>Qe(this,Nr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(so).catch(so)}invalidateQueries(t={},e={}){return Fr.batch(()=>{if(Qe(this,Nr).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Fr.batch(()=>Qe(this,Nr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(so)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(so)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Qe(this,Nr).build(this,e);return n.isStaleByTime(id(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(so).catch(so)}fetchInfiniteQuery(t){return t.behavior=KL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(so).catch(so)}ensureInfiniteQueryData(t){return t.behavior=KL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return F_.isOnline()?Qe(this,ll).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,Nr)}getMutationCache(){return Qe(this,ll)}getDefaultOptions(){return Qe(this,cl)}setDefaultOptions(t){Mt(this,cl,t)}setQueryDefaults(t,e){Qe(this,yd).set(Bc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Qe(this,yd).values()];let n={};return e.forEach(r=>{Mg(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Qe(this,vd).set(Bc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Qe(this,vd).values()];let n={};return e.forEach(r=>{Mg(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Qe(this,cl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===a5&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Qe(this,cl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Qe(this,Nr).clear(),Qe(this,ll).clear()}},Nr=new WeakMap,ll=new WeakMap,cl=new WeakMap,yd=new WeakMap,vd=new WeakMap,fl=new WeakMap,_d=new WeakMap,wd=new WeakMap,Y$),ya,Nn,sm,ra,Ic,bd,dl,is,um,Sd,xd,Mc,Dc,hl,Ed,tr,cg,J2,Y2,X2,eC,tC,nC,rC,h5,X$,hA=(X$=class extends Qc{constructor(e,n){super();Jt(this,tr);Jt(this,ya);Jt(this,Nn);Jt(this,sm);Jt(this,ra);Jt(this,Ic);Jt(this,bd);Jt(this,dl);Jt(this,is);Jt(this,um);Jt(this,Sd);Jt(this,xd);Jt(this,Mc);Jt(this,Dc);Jt(this,hl);Jt(this,Ed,new Set);this.options=n,Mt(this,ya,e),Mt(this,is,null),Mt(this,dl,Z2()),this.options.experimental_prefetchInRender||Qe(this,dl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,Nn).addObserver(this),WL(Qe(this,Nn),this.options)?ln(this,tr,cg).call(this):this.updateResult(),ln(this,tr,eC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return iC(Qe(this,Nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return iC(Qe(this,Nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ln(this,tr,tC).call(this),ln(this,tr,nC).call(this),Qe(this,Nn).removeObserver(this)}setOptions(e,n){const r=this.options,i=Qe(this,Nn);if(this.options=Qe(this,ya).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ao(this.options.enabled,Qe(this,Nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ln(this,tr,rC).call(this),Qe(this,Nn).setOptions(this.options),r._defaulted&&!N_(this.options,r)&&Qe(this,ya).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,Nn),observer:this});const a=this.hasListeners();a&&QL(Qe(this,Nn),i,this.options,r)&&ln(this,tr,cg).call(this),this.updateResult(n),a&&(Qe(this,Nn)!==i||Ao(this.options.enabled,Qe(this,Nn))!==Ao(r.enabled,Qe(this,Nn))||id(this.options.staleTime,Qe(this,Nn))!==id(r.staleTime,Qe(this,Nn)))&&ln(this,tr,J2).call(this);const o=ln(this,tr,Y2).call(this);a&&(Qe(this,Nn)!==i||Ao(this.options.enabled,Qe(this,Nn))!==Ao(r.enabled,Qe(this,Nn))||o!==Qe(this,hl))&&ln(this,tr,X2).call(this,o)}getOptimisticResult(e){const n=Qe(this,ya).getQueryCache().build(Qe(this,ya),e),r=this.createResult(n,e);return P7(this,r)&&(Mt(this,ra,r),Mt(this,bd,this.options),Mt(this,Ic,Qe(this,Nn).state)),r}getCurrentResult(){return Qe(this,ra)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){Qe(this,Ed).add(e)}getCurrentQuery(){return Qe(this,Nn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Qe(this,ya).defaultQueryOptions(e),r=Qe(this,ya).getQueryCache().build(Qe(this,ya),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ln(this,tr,cg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,ra)))}createResult(e,n){var j;const r=Qe(this,Nn),i=this.options,a=Qe(this,ra),o=Qe(this,Ic),s=Qe(this,bd),f=e!==r?e.state:Qe(this,sm),{state:h}=e;let p={...h},m=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),Y=!Q&&WL(e,n),q=Q&&QL(e,r,n,i);(Y||q)&&(p={...p,...f5(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:b,status:S}=p;if(n.select&&p.data!==void 0)if(a&&p.data===(o==null?void 0:o.data)&&n.select===Qe(this,um))y=Qe(this,Sd);else try{Mt(this,um,n.select),y=n.select(p.data),y=Q2(a==null?void 0:a.data,y,n),Mt(this,Sd,y),Mt(this,is,null)}catch(Q){Mt(this,is,Q)}else y=p.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((j=Qe(this,xd))==null?void 0:j.state.data,Qe(this,xd)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),Mt(this,is,null)}catch(Y){Mt(this,is,Y)}Q!==void 0&&(S="success",y=Q2(a==null?void 0:a.data,Q,n),m=!0)}Qe(this,is)&&(_=Qe(this,is),y=Qe(this,Sd),b=Date.now(),S="error");const x=p.fetchStatus==="fetching",E=S==="pending",A=S==="error",I=E&&x,M=y!==void 0;return{status:S,fetchStatus:p.fetchStatus,isPending:E,isSuccess:S==="success",isError:A,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:A&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&M,isStale:pA(e,n),refetch:this.refetch,promise:Qe(this,dl)}}updateResult(e){const n=Qe(this,ra),r=this.createResult(Qe(this,Nn),this.options);if(Mt(this,Ic,Qe(this,Nn).state),Mt(this,bd,this.options),Qe(this,Ic).data!==void 0&&Mt(this,xd,Qe(this,Nn)),N_(r,n))return;if(this.options.experimental_prefetchInRender){const o=f=>{r.status==="error"?f.reject(r.error):r.data!==void 0&&f.resolve(r.data)},s=()=>{const f=Mt(this,dl,r.promise=Z2());o(f)},c=Qe(this,dl);switch(c.status){case"pending":o(c);break;case"fulfilled":(r.status==="error"||r.data!==c.value)&&s();break;case"rejected":(r.status!=="error"||r.error!==c.reason)&&s();break}}Mt(this,ra,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!Qe(this,Ed).size)return!0;const c=new Set(s??Qe(this,Ed));return this.options.throwOnError&&c.add("error"),Object.keys(Qe(this,ra)).some(f=>{const h=f;return Qe(this,ra)[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),ln(this,tr,h5).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ln(this,tr,eC).call(this)}},ya=new WeakMap,Nn=new WeakMap,sm=new WeakMap,ra=new WeakMap,Ic=new WeakMap,bd=new WeakMap,dl=new WeakMap,is=new WeakMap,um=new WeakMap,Sd=new WeakMap,xd=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,hl=new WeakMap,Ed=new WeakMap,tr=new WeakSet,cg=function(e){ln(this,tr,rC).call(this);let n=Qe(this,Nn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(so)),n},J2=function(){ln(this,tr,tC).call(this);const e=id(this.options.staleTime,Qe(this,Nn));if(Uc||Qe(this,ra).isStale||!G2(e))return;const r=i5(Qe(this,ra).dataUpdatedAt,e)+1;Mt(this,Mc,setTimeout(()=>{Qe(this,ra).isStale||this.updateResult()},r))},Y2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,Nn)):this.options.refetchInterval)??!1},X2=function(e){ln(this,tr,nC).call(this),Mt(this,hl,e),!(Uc||Ao(this.options.enabled,Qe(this,Nn))===!1||!G2(Qe(this,hl))||Qe(this,hl)===0)&&Mt(this,Dc,setInterval(()=>{(this.options.refetchIntervalInBackground||dA.isFocused())&&ln(this,tr,cg).call(this)},Qe(this,hl)))},eC=function(){ln(this,tr,J2).call(this),ln(this,tr,X2).call(this,ln(this,tr,Y2).call(this))},tC=function(){Qe(this,Mc)&&(clearTimeout(Qe(this,Mc)),Mt(this,Mc,void 0))},nC=function(){Qe(this,Dc)&&(clearInterval(Qe(this,Dc)),Mt(this,Dc,void 0))},rC=function(){const e=Qe(this,ya).getQueryCache().build(Qe(this,ya),this.options);if(e===Qe(this,Nn))return;const n=Qe(this,Nn);Mt(this,Nn,e),Mt(this,sm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},h5=function(e){Fr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Qe(this,ra))}),Qe(this,ya).getQueryCache().notify({query:Qe(this,Nn),type:"observerResultsUpdated"})})},X$);function R7(t,e){return Ao(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function WL(t,e){return R7(t,e)||t.state.data!==void 0&&iC(t,e,e.refetchOnMount)}function iC(t,e,n){if(Ao(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&pA(t,e)}return!1}function QL(t,e,n,r){return(t!==e||Ao(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&pA(t,n)}function pA(t,e){return Ao(e.enabled,t)!==!1&&t.isStaleByTime(id(e.staleTime,t))}function P7(t,e){return!N_(t.getCurrentResult(),e)}function ZL(t,e){return t.filter(n=>!e.includes(n))}function O7(t,e,n){const r=t.slice(0);return r[e]=n,r}var kc,Co,Td,ja,Nc,lm,cm,Ka,p5,aC,oC,sC,e5,L7=(e5=class extends Qc{constructor(e,n,r){super();Jt(this,Ka);Jt(this,kc);Jt(this,Co);Jt(this,Td);Jt(this,ja);Jt(this,Nc);Jt(this,lm);Jt(this,cm);Mt(this,kc,e),Mt(this,Td,[]),Mt(this,ja,[]),Mt(this,Co,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,ja).forEach(e=>{e.subscribe(n=>{ln(this,Ka,oC).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,ja).forEach(e=>{e.destroy()})}setQueries(e,n,r){Mt(this,Td,e),Fr.batch(()=>{const i=Qe(this,ja),a=ln(this,Ka,aC).call(this,Qe(this,Td));a.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions,r));const o=a.map(f=>f.observer),s=o.map(f=>f.getCurrentResult()),c=o.some((f,h)=>f!==i[h]);i.length===o.length&&!c||(Mt(this,ja,o),Mt(this,Co,s),this.hasListeners()&&(ZL(i,o).forEach(f=>{f.destroy()}),ZL(o,i).forEach(f=>{f.subscribe(h=>{ln(this,Ka,oC).call(this,f,h)})}),ln(this,Ka,sC).call(this)))})}getCurrentResult(){return Qe(this,Co)}getQueries(){return Qe(this,ja).map(e=>e.getCurrentQuery())}getObservers(){return Qe(this,ja)}getOptimisticResult(e,n){const r=ln(this,Ka,aC).call(this,e),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>ln(this,Ka,p5).call(this,a??i,n),()=>r.map((a,o)=>{const s=i[o];return a.defaultedQueryOptions.notifyOnChangeProps?s:a.observer.trackResult(s,c=>{r.forEach(f=>{f.observer.trackProp(c)})})})]}},kc=new WeakMap,Co=new WeakMap,Td=new WeakMap,ja=new WeakMap,Nc=new WeakMap,lm=new WeakMap,cm=new WeakMap,Ka=new WeakSet,p5=function(e,n){return n?((!Qe(this,Nc)||Qe(this,Co)!==Qe(this,cm)||n!==Qe(this,lm))&&(Mt(this,lm,n),Mt(this,cm,Qe(this,Co)),Mt(this,Nc,fA(Qe(this,Nc),n(e)))),Qe(this,Nc)):e},aC=function(e){const n=Qe(this,ja),r=new Map(n.map(p=>[p.options.queryHash,p])),i=e.map(p=>Qe(this,kc).defaultQueryOptions(p)),a=i.flatMap(p=>{const m=r.get(p.queryHash);return m!=null?[{defaultedQueryOptions:p,observer:m}]:[]}),o=new Set(a.map(p=>p.defaultedQueryOptions.queryHash)),s=i.filter(p=>!o.has(p.queryHash)),c=p=>{const m=Qe(this,kc).defaultQueryOptions(p);return Qe(this,ja).find(_=>_.options.queryHash===m.queryHash)??new hA(Qe(this,kc),m)},f=s.map(p=>({defaultedQueryOptions:p,observer:c(p)})),h=(p,m)=>i.indexOf(p.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(f).sort(h)},oC=function(e,n){const r=Qe(this,ja).indexOf(e);r!==-1&&(Mt(this,Co,O7(Qe(this,Co),r,n)),ln(this,Ka,sC).call(this))},sC=function(){Fr.batch(()=>{this.listeners.forEach(e=>{e(Qe(this,Co))})})},e5),pl,gl,va,tu,su,g_,uC,t5,I7=(t5=class extends Qc{constructor(n,r){super();Jt(this,su);Jt(this,pl);Jt(this,gl);Jt(this,va);Jt(this,tu);Mt(this,pl,n),this.setOptions(r),this.bindMethods(),ln(this,su,g_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,pl).defaultMutationOptions(n),N_(this.options,r)||Qe(this,pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,va),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bc(r.mutationKey)!==Bc(this.options.mutationKey)?this.reset():((i=Qe(this,va))==null?void 0:i.state.status)==="pending"&&Qe(this,va).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,va))==null||n.removeObserver(this)}onMutationUpdate(n){ln(this,su,g_).call(this),ln(this,su,uC).call(this,n)}getCurrentResult(){return Qe(this,gl)}reset(){var n;(n=Qe(this,va))==null||n.removeObserver(this),Mt(this,va,void 0),ln(this,su,g_).call(this),ln(this,su,uC).call(this)}mutate(n,r){var i;return Mt(this,tu,r),(i=Qe(this,va))==null||i.removeObserver(this),Mt(this,va,Qe(this,pl).getMutationCache().build(Qe(this,pl),this.options)),Qe(this,va).addObserver(this),Qe(this,va).execute(n)}},pl=new WeakMap,gl=new WeakMap,va=new WeakMap,tu=new WeakMap,su=new WeakSet,g_=function(){var r;const n=((r=Qe(this,va))==null?void 0:r.state)??d5();Mt(this,gl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},uC=function(n){Fr.batch(()=>{var r,i,a,o,s,c,f,h;if(Qe(this,tu)&&this.hasListeners()){const p=Qe(this,gl).variables,m=Qe(this,gl).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,tu)).onSuccess)==null||i.call(r,n.data,p,m),(o=(a=Qe(this,tu)).onSettled)==null||o.call(a,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((c=(s=Qe(this,tu)).onError)==null||c.call(s,n.error,p,m),(h=(f=Qe(this,tu)).onSettled)==null||h.call(f,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(Qe(this,gl))})})},t5),r1={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JL;function M7(){if(JL)return wn;JL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function S(k,ne,me){this.props=k,this.context=ne,this.refs=b,this.updater=me||y}S.prototype.isReactComponent={},S.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function x(){}x.prototype=S.prototype;function E(k,ne,me){this.props=k,this.context=ne,this.refs=b,this.updater=me||y}var A=E.prototype=new x;A.constructor=E,_(A,S.prototype),A.isPureReactComponent=!0;var I=Array.isArray,M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function j(k,ne,me,H,J,ge){return me=ge.ref,{$$typeof:t,type:k,key:ne,ref:me!==void 0?me:null,props:ge}}function Q(k,ne){return j(k.type,ne,void 0,void 0,void 0,k.props)}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function q(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(me){return ne[me]})}var Z=/\/+/g;function fe(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):ne.toString(36)}function te(){}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function pe(k,ne,me,H,J){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(ge){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=k._init,pe(Ae(k._payload),ne,me,H,J)}}if(Ae)return J=J(k),Ae=H===""?"."+fe(k,0):H,I(J)?(me="",Ae!=null&&(me=Ae.replace(Z,"$&/")+"/"),pe(J,ne,me,"",function(Fe){return Fe})):J!=null&&(Y(J)&&(J=Q(J,me+(J.key==null||k&&k.key===J.key?"":(""+J.key).replace(Z,"$&/")+"/")+Ae)),ne.push(J)),1;Ae=0;var Je=H===""?".":H+":";if(I(k))for(var Re=0;Re<k.length;Re++)H=k[Re],ge=Je+fe(H,Re),Ae+=pe(H,ne,me,ge,J);else if(Re=m(k),typeof Re=="function")for(k=Re.call(k),Re=0;!(H=k.next()).done;)H=H.value,ge=Je+fe(H,Re++),Ae+=pe(H,ne,me,ge,J);else if(ge==="object"){if(typeof k.then=="function")return pe(se(k),ne,me,H,J);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function be(k,ne,me){if(k==null)return k;var H=[],J=0;return pe(k,H,"","",function(ge){return ne.call(me,ge,J++)}),H}function ce(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(me){(k._status===0||k._status===-1)&&(k._status=1,k._result=me)},function(me){(k._status===0||k._status===-1)&&(k._status=2,k._result=me)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var le=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Oe(){}return wn.Children={map:be,forEach:function(k,ne,me){be(k,function(){ne.apply(this,arguments)},me)},count:function(k){var ne=0;return be(k,function(){ne++}),ne},toArray:function(k){return be(k,function(ne){return ne})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wn.Component=S,wn.Fragment=n,wn.Profiler=i,wn.PureComponent=E,wn.StrictMode=r,wn.Suspense=c,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wn.act=function(){throw Error("act(...) is not supported in production builds of React.")},wn.cache=function(k){return function(){return k.apply(null,arguments)}},wn.cloneElement=function(k,ne,me){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var H=_({},k.props),J=k.key,ge=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(ge=void 0),ne.key!==void 0&&(J=""+ne.key),ne)!D.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(H[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)H.children=me;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];H.children=Je}return j(k.type,J,void 0,void 0,ge,H)},wn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},wn.createElement=function(k,ne,me){var H,J={},ge=null;if(ne!=null)for(H in ne.key!==void 0&&(ge=""+ne.key),ne)D.call(ne,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(J[H]=ne[H]);var Ae=arguments.length-2;if(Ae===1)J.children=me;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];J.children=Je}if(k&&k.defaultProps)for(H in Ae=k.defaultProps,Ae)J[H]===void 0&&(J[H]=Ae[H]);return j(k,ge,void 0,void 0,null,J)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(k){return{$$typeof:s,render:k}},wn.isValidElement=Y,wn.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:ce}},wn.memo=function(k,ne){return{$$typeof:f,type:k,compare:ne===void 0?null:ne}},wn.startTransition=function(k){var ne=M.T,me={};M.T=me;try{var H=k(),J=M.S;J!==null&&J(me,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Oe,le)}catch(ge){le(ge)}finally{M.T=ne}},wn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wn.use=function(k){return M.H.use(k)},wn.useActionState=function(k,ne,me){return M.H.useActionState(k,ne,me)},wn.useCallback=function(k,ne){return M.H.useCallback(k,ne)},wn.useContext=function(k){return M.H.useContext(k)},wn.useDebugValue=function(){},wn.useDeferredValue=function(k,ne){return M.H.useDeferredValue(k,ne)},wn.useEffect=function(k,ne){return M.H.useEffect(k,ne)},wn.useId=function(){return M.H.useId()},wn.useImperativeHandle=function(k,ne,me){return M.H.useImperativeHandle(k,ne,me)},wn.useInsertionEffect=function(k,ne){return M.H.useInsertionEffect(k,ne)},wn.useLayoutEffect=function(k,ne){return M.H.useLayoutEffect(k,ne)},wn.useMemo=function(k,ne){return M.H.useMemo(k,ne)},wn.useOptimistic=function(k,ne){return M.H.useOptimistic(k,ne)},wn.useReducer=function(k,ne,me){return M.H.useReducer(k,ne,me)},wn.useRef=function(k){return M.H.useRef(k)},wn.useState=function(k){return M.H.useState(k)},wn.useSyncExternalStore=function(k,ne,me){return M.H.useSyncExternalStore(k,ne,me)},wn.useTransition=function(){return M.H.useTransition()},wn.version="19.0.0",wn}var YL;function Nd(){return YL||(YL=1,r1.exports=M7()),r1.exports}var ae=Nd();const Gt=Gr(ae),Dg=c7({__proto__:null,default:Gt},[ae]);var g5=ae.createContext(void 0),Ui=t=>{const e=ae.useContext(g5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},D7=({client:t,children:e})=>(ae.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),de.jsx(g5.Provider,{value:t,children:e})),m5=ae.createContext(!1),y5=()=>ae.useContext(m5);m5.Provider;function k7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var N7=ae.createContext(k7()),v5=()=>ae.useContext(N7);function _5(t,e){return typeof t=="function"?t(...e):!!t}function w5(){}var b5=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},S5=t=>{ae.useEffect(()=>{t.clearReset()},[t])},x5=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&_5(n,[t.error,r]),E5=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},T5=(t,e)=>t.isLoading&&t.isFetching&&!e,lC=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,j_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function gA({queries:t,...e},n){const r=Ui(),i=y5(),a=v5(),o=ae.useMemo(()=>t.map(_=>{const b=r.defaultQueryOptions(_);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,r,i]);o.forEach(_=>{E5(_),b5(_,a)}),S5(a);const[s]=ae.useState(()=>new L7(r,o,e)),[c,f,h]=s.getOptimisticResult(o,e.combine);ae.useSyncExternalStore(ae.useCallback(_=>i?()=>{}:s.subscribe(Fr.batchCalls(_)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),ae.useEffect(()=>{s.setQueries(o,e,{listeners:!1})},[o,e,s]);const m=c.some((_,b)=>lC(o[b],_))?c.flatMap((_,b)=>{const S=o[b];if(S){const x=new hA(r,S);if(lC(S,_))return j_(S,x,a);T5(_,i)&&j_(S,x,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=c.find((_,b)=>{const S=o[b];return S&&x5({result:_,errorResetBoundary:a,throwOnError:S.throwOnError,query:r.getQueryCache().get(S.queryHash)})});if(y!=null&&y.error)throw y.error;return f(h())}function F7(t,e,n){var h,p,m,y,_;const r=Ui(),i=y5(),a=v5(),o=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",E5(o),b5(o,a),S5(a);const s=!r.getQueryState(t.queryKey),[c]=ae.useState(()=>new e(r,o)),f=c.getOptimisticResult(o);if(ae.useSyncExternalStore(ae.useCallback(b=>{const S=i?()=>{}:c.subscribe(Fr.batchCalls(b));return c.updateResult(),S},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),ae.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),lC(o,f))throw j_(o,c,a);if(x5({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw f.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,f),o.experimental_prefetchInRender&&!Uc&&T5(f,i)){const b=s?j_(o,c,a):(_=r.getQueryCache().get(o.queryHash))==null?void 0:_.promise;b==null||b.catch(w5).finally(()=>{c.hasListeners()||c.updateResult()})}return o.notifyOnChangeProps?f:c.trackResult(f)}function fm(t,e){return F7(t,hA)}function Ea(t,e){const n=Ui(),[r]=ae.useState(()=>new I7(n,t));ae.useEffect(()=>{r.setOptions(t)},[r,t]);const i=ae.useSyncExternalStore(ae.useCallback(o=>r.subscribe(Fr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=ae.useCallback((o,s)=>{r.mutate(o,s).catch(w5)},[r]);if(i.error&&_5(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var i1={exports:{}},Zh={},a1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL;function j7(){return XL||(XL=1,function(t){function e(be,ce){var le=be.length;be.push(ce);e:for(;0<le;){var Oe=le-1>>>1,k=be[Oe];if(0<i(k,ce))be[Oe]=ce,be[le]=k,le=Oe;else break e}}function n(be){return be.length===0?null:be[0]}function r(be){if(be.length===0)return null;var ce=be[0],le=be.pop();if(le!==ce){be[0]=le;e:for(var Oe=0,k=be.length,ne=k>>>1;Oe<ne;){var me=2*(Oe+1)-1,H=be[me],J=me+1,ge=be[J];if(0>i(H,le))J<k&&0>i(ge,H)?(be[Oe]=ge,be[J]=le,Oe=J):(be[Oe]=H,be[me]=le,Oe=me);else if(J<k&&0>i(ge,le))be[Oe]=ge,be[J]=le,Oe=J;else break e}}return ce}function i(be,ce){var le=be.sortIndex-ce.sortIndex;return le!==0?le:be.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],f=[],h=1,p=null,m=3,y=!1,_=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(be){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=be)r(f),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=n(f)}}function I(be){if(b=!1,A(be),!_)if(n(c)!==null)_=!0,se();else{var ce=n(f);ce!==null&&pe(I,ce.startTime-be)}}var M=!1,D=-1,j=5,Q=-1;function Y(){return!(t.unstable_now()-Q<j)}function q(){if(M){var be=t.unstable_now();Q=be;var ce=!0;try{e:{_=!1,b&&(b=!1,x(D),D=-1),y=!0;var le=m;try{t:{for(A(be),p=n(c);p!==null&&!(p.expirationTime>be&&Y());){var Oe=p.callback;if(typeof Oe=="function"){p.callback=null,m=p.priorityLevel;var k=Oe(p.expirationTime<=be);if(be=t.unstable_now(),typeof k=="function"){p.callback=k,A(be),ce=!0;break t}p===n(c)&&r(c),A(be)}else r(c);p=n(c)}if(p!==null)ce=!0;else{var ne=n(f);ne!==null&&pe(I,ne.startTime-be),ce=!1}}break e}finally{p=null,m=le,y=!1}ce=void 0}}finally{ce?Z():M=!1}}}var Z;if(typeof E=="function")Z=function(){E(q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=q,Z=function(){te.postMessage(null)}}else Z=function(){S(q,0)};function se(){M||(M=!0,Z())}function pe(be,ce){D=S(function(){be(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(be){be.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,se())},t.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<be?Math.floor(1e3/be):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(be){switch(m){case 1:case 2:case 3:var ce=3;break;default:ce=m}var le=m;m=ce;try{return be()}finally{m=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(be,ce){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var le=m;m=be;try{return ce()}finally{m=le}},t.unstable_scheduleCallback=function(be,ce,le){var Oe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Oe+le:Oe):le=Oe,be){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=le+k,be={id:h++,callback:ce,priorityLevel:be,startTime:le,expirationTime:k,sortIndex:-1},le>Oe?(be.sortIndex=le,e(f,be),n(c)===null&&be===n(f)&&(b?(x(D),D=-1):b=!0,pe(I,le-Oe))):(be.sortIndex=k,e(c,be),_||y||(_=!0,se())),be},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(be){var ce=m;return function(){var le=m;m=ce;try{return be.apply(this,arguments)}finally{m=le}}}}(o1)),o1}var eI;function $7(){return eI||(eI=1,a1.exports=j7()),a1.exports}var s1={exports:{}},ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function U7(){if(tI)return ki;tI=1;var t=Nd();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ki.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},ki.flushSync=function(c){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=h,r.d.f()}},ki.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ki.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ki.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=s(h,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ki.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=s(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ki.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=s(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ki.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=s(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ki.requestFormReset=function(c){r.d.r(c)},ki.unstable_batchedUpdates=function(c,f){return c(f)},ki.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},ki.useFormStatus=function(){return o.H.useHostTransitionStatus()},ki.version="19.0.0",ki}var nI;function mA(){if(nI)return s1.exports;nI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s1.exports=U7(),s1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function B7(){if(rI)return Zh;rI=1;var t=$7(),e=Nd(),n=mA();function r(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}var j=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===j?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case c:return"Fragment";case s:return"Portal";case h:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case _:var l=u.render;return u=u.displayName,u||(u=l.displayName||l.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case x:return l=u.displayName||null,l!==null?l:Q(u.type)||"Memo";case E:l=u._payload,u=u._init;try{return Q(u(l))}catch{}}return null}var Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,Z,fe;function te(u){if(Z===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);Z=l&&l[1]||"",fe=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+u+fe}var se=!1;function pe(u,l){if(!u||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(l){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(vt){var pt=vt}Reflect.construct(u,[],Ct)}else{try{Ct.call()}catch(vt){pt=vt}u.call(Ct.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(Ct=u())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=w.DetermineComponentFrameRoot(),ue=F[0],Ce=F[1];if(ue&&Ce){var Ve=ue.split(`
`),at=Ce.split(`
`);for(O=w=0;w<Ve.length&&!Ve[w].includes("DetermineComponentFrameRoot");)w++;for(;O<at.length&&!at[O].includes("DetermineComponentFrameRoot");)O++;if(w===Ve.length||O===at.length)for(w=Ve.length-1,O=at.length-1;1<=w&&0<=O&&Ve[w]!==at[O];)O--;for(;1<=w&&0<=O;w--,O--)if(Ve[w]!==at[O]){if(w!==1||O!==1)do if(w--,O--,0>O||Ve[w]!==at[O]){var _t=`
`+Ve[w].replace(" at new "," at ");return u.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",u.displayName)),_t}while(1<=w&&0<=O);break}}}finally{se=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?te(g):""}function be(u){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return u=pe(u.type,!1),u;case 11:return u=pe(u.type.render,!1),u;case 1:return u=pe(u.type,!0),u;default:return""}}function ce(u){try{var l="";do l+=be(u),u=u.return;while(u);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function le(u){var l=u,g=u;if(u.alternate)for(;l.return;)l=l.return;else{u=l;do l=u,l.flags&4098&&(g=l.return),u=l.return;while(u)}return l.tag===3?g:null}function Oe(u){if(u.tag===13){var l=u.memoizedState;if(l===null&&(u=u.alternate,u!==null&&(l=u.memoizedState)),l!==null)return l.dehydrated}return null}function k(u){if(le(u)!==u)throw Error(r(188))}function ne(u){var l=u.alternate;if(!l){if(l=le(u),l===null)throw Error(r(188));return l!==u?null:u}for(var g=u,w=l;;){var O=g.return;if(O===null)break;var F=O.alternate;if(F===null){if(w=O.return,w!==null){g=w;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===g)return k(O),u;if(F===w)return k(O),l;F=F.sibling}throw Error(r(188))}if(g.return!==w.return)g=O,w=F;else{for(var ue=!1,Ce=O.child;Ce;){if(Ce===g){ue=!0,g=O,w=F;break}if(Ce===w){ue=!0,w=O,g=F;break}Ce=Ce.sibling}if(!ue){for(Ce=F.child;Ce;){if(Ce===g){ue=!0,g=F,w=O;break}if(Ce===w){ue=!0,w=F,g=O;break}Ce=Ce.sibling}if(!ue)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:l}function me(u){var l=u.tag;if(l===5||l===26||l===27||l===6)return u;for(u=u.child;u!==null;){if(l=me(u),l!==null)return l;u=u.sibling}return null}var H=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ae=[],Je=-1;function Re(u){return{current:u}}function Fe(u){0>Je||(u.current=Ae[Je],Ae[Je]=null,Je--)}function Xe(u,l){Je++,Ae[Je]=u.current,u.current=l}var ie=Re(null),z=Re(null),$=Re(null),re=Re(null);function W(u,l){switch(Xe($,l),Xe(z,u),Xe(ie,null),u=l.nodeType,u){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?pL(l):0;break;default:if(u=u===8?l.parentNode:l,l=u.tagName,u=u.namespaceURI)u=pL(u),l=gL(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Fe(ie),Xe(ie,l)}function he(){Fe(ie),Fe(z),Fe($)}function ye(u){u.memoizedState!==null&&Xe(re,u);var l=ie.current,g=gL(l,u.type);l!==g&&(Xe(z,u),Xe(ie,g))}function He(u){z.current===u&&(Fe(ie),Fe(z)),re.current===u&&(Fe(re),Hh._currentValue=ge)}var Te=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,nt=t.unstable_shouldYield,gt=t.unstable_requestPaint,Ut=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,B=t.unstable_NormalPriority,K=t.unstable_LowPriority,V=t.unstable_IdlePriority,je=t.log,Ze=t.unstable_setDisableYieldValue,ke=null,At=null;function Ot(u){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Dt(u){if(typeof je=="function"&&Ze(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ke,u)}catch{}}var Rt=Math.clz32?Math.clz32:fn,Bt=Math.log,Er=Math.LN2;function fn(u){return u>>>=0,u===0?32:31-(Bt(u)/Er|0)|0}var dn=128,hr=4194304;function sn(u){var l=u&42;if(l!==0)return l;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function un(u,l){var g=u.pendingLanes;if(g===0)return 0;var w=0,O=u.suspendedLanes,F=u.pingedLanes,ue=u.warmLanes;u=u.finishedLanes!==0;var Ce=g&134217727;return Ce!==0?(g=Ce&~O,g!==0?w=sn(g):(F&=Ce,F!==0?w=sn(F):u||(ue=Ce&~ue,ue!==0&&(w=sn(ue))))):(Ce=g&~O,Ce!==0?w=sn(Ce):F!==0?w=sn(F):u||(ue=g&~ue,ue!==0&&(w=sn(ue)))),w===0?0:l!==0&&l!==w&&!(l&O)&&(O=w&-w,ue=l&-l,O>=ue||O===32&&(ue&4194176)!==0)?l:w}function Ln(u,l){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&l)===0}function or(u,l){switch(u){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var u=dn;return dn<<=1,!(dn&4194176)&&(dn=128),u}function qe(){var u=hr;return hr<<=1,!(hr&62914560)&&(hr=4194304),u}function wt(u){for(var l=[],g=0;31>g;g++)l.push(u);return l}function xt(u,l){u.pendingLanes|=l,l!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Lt(u,l,g,w,O,F){var ue=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Ce=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(g=ue&~g;0<g;){var _t=31-Rt(g),Ct=1<<_t;Ce[_t]=0,Ve[_t]=-1;var pt=at[_t];if(pt!==null)for(at[_t]=null,_t=0;_t<pt.length;_t++){var vt=pt[_t];vt!==null&&(vt.lane&=-536870913)}g&=~Ct}w!==0&&zn(u,w,0),F!==0&&O===0&&u.tag!==0&&(u.suspendedLanes|=F&~(ue&~l))}function zn(u,l,g){u.pendingLanes|=l,u.suspendedLanes&=~l;var w=31-Rt(l);u.entangledLanes|=l,u.entanglements[w]=u.entanglements[w]|1073741824|g&4194218}function Jn(u,l){var g=u.entangledLanes|=l;for(u=u.entanglements;g;){var w=31-Rt(g),O=1<<w;O&l|u[w]&l&&(u[w]|=l),g&=~O}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ee(){var u=J.p;return u!==0?u:(u=window.event,u===void 0?32:ML(u.type))}function et(u,l){var g=J.p;try{return J.p=u,l()}finally{J.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Et="__reactProps$"+ft,It="__reactContainer$"+ft,Vt="__reactEvents$"+ft,Yt="__reactListeners$"+ft,qt="__reactHandles$"+ft,Nt="__reactResources$"+ft,en="__reactMarker$"+ft;function Rn(u){delete u[it],delete u[Et],delete u[Vt],delete u[Yt],delete u[qt]}function Kt(u){var l=u[it];if(l)return l;for(var g=u.parentNode;g;){if(l=g[It]||g[it]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(u=vL(u);u!==null;){if(g=u[it])return g;u=vL(u)}return l}u=g,g=u.parentNode}return null}function Qt(u){if(u=u[it]||u[It]){var l=u.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return u}return null}function xn(u){var l=u.tag;if(l===5||l===26||l===27||l===6)return u.stateNode;throw Error(r(33))}function En(u){var l=u[Nt];return l||(l=u[Nt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Bn(u){u[en]=!0}var Tr=new Set,Ur={};function Br(u,l){Rr(u,l),Rr(u+"Capture",l)}function Rr(u,l){for(Ur[u]=l,u=0;u<l.length;u++)Tr.add(l[u])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qi={},C={};function T(u){return Te.call(C,u)?!0:Te.call(qi,u)?!1:Wr.test(u)?C[u]=!0:(qi[u]=!0,!1)}function R(u,l,g){if(T(l))if(g===null)u.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(l);return;case"boolean":var w=l.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){u.removeAttribute(l);return}}u.setAttribute(l,""+g)}}function N(u,l,g){if(g===null)u.removeAttribute(l);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(l);return}u.setAttribute(l,""+g)}}function G(u,l,g,w){if(w===null)u.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(l,g,""+w)}}function oe(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function _e(u){var l=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ie(u){var l=_e(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,l),w=""+u[l];if(!u.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,F=g.set;return Object.defineProperty(u,l,{configurable:!0,get:function(){return O.call(this)},set:function(ue){w=""+ue,F.call(this,ue)}}),Object.defineProperty(u,l,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(ue){w=""+ue},stopTracking:function(){u._valueTracker=null,delete u[l]}}}}function xe(u){u._valueTracker||(u._valueTracker=Ie(u))}function Pe(u){if(!u)return!1;var l=u._valueTracker;if(!l)return!0;var g=l.getValue(),w="";return u&&(w=_e(u)?u.checked?"true":"false":u.value),u=w,u!==g?(l.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ye(u,l,g,w,O,F,ue,Ce){u.name="",ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?u.type=ue:u.removeAttribute("type"),l!=null?ue==="number"?(l===0&&u.value===""||u.value!=l)&&(u.value=""+oe(l)):u.value!==""+oe(l)&&(u.value=""+oe(l)):ue!=="submit"&&ue!=="reset"||u.removeAttribute("value"),l!=null?dt(u,ue,oe(l)):g!=null?dt(u,ue,oe(g)):w!=null&&u.removeAttribute("value"),O==null&&F!=null&&(u.defaultChecked=!!F),O!=null&&(u.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?u.name=""+oe(Ce):u.removeAttribute("name")}function ot(u,l,g,w,O,F,ue,Ce){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(u.type=F),l!=null||g!=null){if(!(F!=="submit"&&F!=="reset"||l!=null))return;g=g!=null?""+oe(g):"",l=l!=null?""+oe(l):g,Ce||l===u.value||(u.value=l),u.defaultValue=l}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,u.checked=Ce?u.checked:!!w,u.defaultChecked=!!w,ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(u.name=ue)}function dt(u,l,g){l==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,l,g,w){if(u=u.options,l){l={};for(var O=0;O<g.length;O++)l["$"+g[O]]=!0;for(g=0;g<u.length;g++)O=l.hasOwnProperty("$"+u[g].value),u[g].selected!==O&&(u[g].selected=O),O&&w&&(u[g].defaultSelected=!0)}else{for(g=""+oe(g),l=null,O=0;O<u.length;O++){if(u[O].value===g){u[O].selected=!0,w&&(u[O].defaultSelected=!0);return}l!==null||u[O].disabled||(l=u[O])}l!==null&&(l.selected=!0)}}function we(u,l,g){if(l!=null&&(l=""+oe(l),l!==u.value&&(u.value=l),g==null)){u.defaultValue!==l&&(u.defaultValue=l);return}u.defaultValue=g!=null?""+oe(g):""}function De(u,l,g,w){if(l==null){if(w!=null){if(g!=null)throw Error(r(92));if(H(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=""),l=g}g=oe(l),u.defaultValue=g,w=u.textContent,w===g&&w!==""&&w!==null&&(u.value=w)}function Ue(u,l){if(l){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=l;return}}u.textContent=l}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,l,g){var w=l.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?u.setProperty(l,""):l==="float"?u.cssFloat="":u[l]="":w?u.setProperty(l,g):typeof g!="number"||g===0||Ke.has(l)?l==="float"?u.cssFloat=g:u[l]=(""+g).trim():u[l]=g+"px"}function mt(u,l,g){if(l!=null&&typeof l!="object")throw Error(r(62));if(u=u.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||l!=null&&l.hasOwnProperty(w)||(w.indexOf("--")===0?u.setProperty(w,""):w==="float"?u.cssFloat="":u[w]="");for(var O in l)w=l[O],l.hasOwnProperty(O)&&g[O]!==w&&lt(u,O,w)}else for(var F in l)l.hasOwnProperty(F)&&lt(u,F,l[F])}function Ft(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(u){return pn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var zt=null;function qn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Dn=null,jn=null;function Wt(u){var l=Qt(u);if(l&&(u=l.stateNode)){var g=u[Et]||null;e:switch(u=l.stateNode,l.type){case"input":if(Ye(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),l=g.name,g.type==="radio"&&l!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ze(""+l)+'"][type="radio"]'),l=0;l<g.length;l++){var w=g[l];if(w!==u&&w.form===u.form){var O=w[Et]||null;if(!O)throw Error(r(90));Ye(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(l=0;l<g.length;l++)w=g[l],w.form===u.form&&Pe(w)}break e;case"textarea":we(u,g.value,g.defaultValue);break e;case"select":l=g.value,l!=null&&ut(u,!!g.multiple,l,!1)}}}var Kn=!1;function hn(u,l,g){if(Kn)return u(l,g);Kn=!0;try{var w=u(l);return w}finally{if(Kn=!1,(Dn!==null||jn!==null)&&(by(),Dn&&(l=Dn,u=jn,jn=Dn=null,Wt(l),u)))for(l=0;l<u.length;l++)Wt(u[l])}}function Yn(u,l){var g=u.stateNode;if(g===null)return null;var w=g[Et]||null;if(w===null)return null;g=w[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,l,typeof g));return g}var pr=!1;if(Fn)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){pr=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{pr=!1}var sr=null,vi=null,zi=null;function ca(){if(zi)return zi;var u,l=vi,g=l.length,w,O="value"in sr?sr.value:sr.textContent,F=O.length;for(u=0;u<g&&l[u]===O[u];u++);var ue=g-u;for(w=1;w<=ue&&l[g-w]===O[F-w];w++);return zi=O.slice(u,1<w?1-w:void 0)}function nr(u){var l=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&l===13&&(u=13)):u=l,u===10&&(u=13),32<=u||u===13?u:0}function Ii(){return!0}function go(){return!1}function rr(u){function l(g,w,O,F,ue){this._reactName=g,this._targetInst=O,this.type=w,this.nativeEvent=F,this.target=ue,this.currentTarget=null;for(var Ce in u)u.hasOwnProperty(Ce)&&(g=u[Ce],this[Ce]=g?g(F):F[Ce]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ii:go,this.isPropagationStopped=go,this}return q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),l}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=rr(Ir),Hi=q({},Ir,{view:0,detail:0}),wu=rr(Hi),Wa,yn,Ca,ur=q({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ca&&(Ca&&u.type==="mousemove"?(Wa=u.screenX-Ca.screenX,yn=u.screenY-Ca.screenY):yn=Wa=0,Ca=u),Wa)},movementY:function(u){return"movementY"in u?u.movementY:yn}}),Mi=rr(ur),fa=q({},ur,{dataTransfer:0}),lr=rr(fa),Vi=q({},Hi,{relatedTarget:0}),Qa=rr(Vi),Cr=q({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=rr(Cr),mo=q({},Ir,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Aa=rr(mo),oh=q({},Ir,{data:0}),Ki=rr(oh),af={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(u){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(u):(u=Ho[u])?!!l[u]:!1}function of(){return Mm}var sh=q({},Hi,{key:function(u){if(u.key){var l=af[u.key]||u.key;if(l!=="Unidentified")return l}return u.type==="keypress"?(u=nr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Im[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(u){return u.type==="keypress"?nr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?nr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),hw=rr(sh),Dm=q({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=rr(Dm),pw=q({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),gw=rr(pw),lh=q({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),mw=rr(lh),km=q({},ur,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=rr(km),sf=q({},Ir,{newState:0,oldState:0}),vs=rr(sf),yw=[9,13,27,32],_s=Fn&&"CompositionEvent"in window,ci=null;Fn&&"documentMode"in document&&(ci=document.documentMode);var Fm=Fn&&"TextEvent"in window&&!ci,ch=Fn&&(!_s||ci&&8<ci&&11>=ci),jm=" ",uf=!1;function lf(u,l){switch(u){case"keyup":return yw.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var bu=!1;function Um(u,l){switch(u){case"compositionend":return $m(l);case"keypress":return l.which!==32?null:(uf=!0,jm);case"textInput":return u=l.data,u===jm&&uf?null:u;default:return null}}function vw(u,l){if(bu)return u==="compositionend"||!_s&&lf(u,l)?(u=ca(),zi=vi=sr=null,bu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ch&&l.locale!=="ko"?null:l.data;default:return null}}var Ra={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ws(u){var l=u&&u.nodeName&&u.nodeName.toLowerCase();return l==="input"?!!Ra[u.type]:l==="textarea"}function Bm(u,l,g,w){Dn?jn?jn.push(w):jn=[w]:Dn=w,l=Cy(l,"onChange"),0<l.length&&(g=new Ga("onChange","change",null,g,w),u.push({event:g,listeners:l}))}var Gi=null,Pl=null;function Su(u){lL(u,0)}function cf(u){var l=xn(u);if(Pe(l))return u}function xu(u,l){if(u==="change")return l}var fh=!1;if(Fn){var Eu;if(Fn){var dh="oninput"in document;if(!dh){var yo=document.createElement("div");yo.setAttribute("oninput","return;"),dh=typeof yo.oninput=="function"}Eu=dh}else Eu=!1;fh=Eu&&(!document.documentMode||9<document.documentMode)}function Ol(){Gi&&(Gi.detachEvent("onpropertychange",qm),Pl=Gi=null)}function qm(u){if(u.propertyName==="value"&&cf(Pl)){var l=[];Bm(l,Pl,u,qn(u)),hn(Su,l)}}function hh(u,l,g){u==="focusin"?(Ol(),Gi=l,Pl=g,Gi.attachEvent("onpropertychange",qm)):u==="focusout"&&Ol()}function _w(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return cf(Pl)}function vo(u,l){if(u==="click")return cf(l)}function ww(u,l){if(u==="input"||u==="change")return cf(l)}function Tu(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var Wi=typeof Object.is=="function"?Object.is:Tu;function Qi(u,l){if(Wi(u,l))return!0;if(typeof u!="object"||u===null||typeof l!="object"||l===null)return!1;var g=Object.keys(u),w=Object.keys(l);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var O=g[w];if(!Te.call(l,O)||!Wi(u[O],l[O]))return!1}return!0}function Ll(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ph(u,l){var g=Ll(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=l&&w>=l)return{node:g,offset:l-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Ll(g)}}function ff(u,l){return u&&l?u===l?!0:u&&u.nodeType===3?!1:l&&l.nodeType===3?ff(u,l.parentNode):"contains"in u?u.contains(l):u.compareDocumentPosition?!!(u.compareDocumentPosition(l)&16):!1:!1}function Il(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var l=Me(u.document);l instanceof u.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)u=l.contentWindow;else break;l=Me(u.document)}return l}function Ml(u){var l=u&&u.nodeName&&u.nodeName.toLowerCase();return l&&(l==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||l==="textarea"||u.contentEditable==="true")}function df(u,l){var g=Il(l);l=u.focusedElem;var w=u.selectionRange;if(g!==l&&l&&l.ownerDocument&&ff(l.ownerDocument.documentElement,l)){if(w!==null&&Ml(l)){if(u=w.start,g=w.end,g===void 0&&(g=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(g,l.value.length);else if(g=(u=l.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var O=l.textContent.length,F=Math.min(w.start,O);w=w.end===void 0?F:Math.min(w.end,O),!g.extend&&F>w&&(O=w,w=F,F=O),O=ph(l,F);var ue=ph(l,w);O&&ue&&(g.rangeCount!==1||g.anchorNode!==O.node||g.anchorOffset!==O.offset||g.focusNode!==ue.node||g.focusOffset!==ue.offset)&&(u=u.createRange(),u.setStart(O.node,O.offset),g.removeAllRanges(),F>w?(g.addRange(u),g.extend(ue.node,ue.offset)):(u.setEnd(ue.node,ue.offset),g.addRange(u)))}}for(u=[],g=l;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<u.length;l++)g=u[l],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Cu=Fn&&"documentMode"in document&&11>=document.documentMode,_o=null,Dl=null,Au=null,gh=!1;function kl(u,l,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;gh||_o==null||_o!==Me(w)||(w=_o,"selectionStart"in w&&Ml(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Au&&Qi(Au,w)||(Au=w,w=Cy(Dl,"onSelect"),0<w.length&&(l=new Ga("onSelect","select",null,l,g),u.push({event:l,listeners:w}),l.target=_o)))}function bs(u,l){var g={};return g[u.toLowerCase()]=l.toLowerCase(),g["Webkit"+u]="webkit"+l,g["Moz"+u]="moz"+l,g}var Ss={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},mh={},yh={};Fn&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function xs(u){if(mh[u])return mh[u];if(!Ss[u])return u;var l=Ss[u],g;for(g in l)if(l.hasOwnProperty(g)&&g in yh)return mh[u]=l[g];return u}var Pa=xs("animationend"),Nl=xs("animationiteration"),zm=xs("animationstart"),hf=xs("transitionrun"),bw=xs("transitionstart"),Hm=xs("transitioncancel"),Vm=xs("transitionend"),Ru=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fi(u,l){Ru.set(u,l),Br(l,[u])}var Zi=[],Es=0,vh=0;function da(){for(var u=Es,l=vh=Es=0;l<u;){var g=Zi[l];Zi[l++]=null;var w=Zi[l];Zi[l++]=null;var O=Zi[l];Zi[l++]=null;var F=Zi[l];if(Zi[l++]=null,w!==null&&O!==null){var ue=w.pending;ue===null?O.next=O:(O.next=ue.next,ue.next=O),w.pending=O}F!==0&&Gm(g,O,F)}}function Fl(u,l,g,w){Zi[Es++]=u,Zi[Es++]=l,Zi[Es++]=g,Zi[Es++]=w,vh|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function pf(u,l,g,w){return Fl(u,l,g,w),Ts(u)}function ha(u,l){return Fl(u,null,null,l),Ts(u)}function Gm(u,l,g){u.lanes|=g;var w=u.alternate;w!==null&&(w.lanes|=g);for(var O=!1,F=u.return;F!==null;)F.childLanes|=g,w=F.alternate,w!==null&&(w.childLanes|=g),F.tag===22&&(u=F.stateNode,u===null||u._visibility&1||(O=!0)),u=F,F=F.return;O&&l!==null&&u.tag===3&&(F=u.stateNode,O=31-Rt(g),F=F.hiddenUpdates,u=F[O],u===null?F[O]=[l]:u.push(l),l.lane=g|536870912)}function Ts(u){if(50<Fh)throw Fh=0,xb=null,Error(r(185));for(var l=u.return;l!==null;)u=l,l=u.return;return u.tag===3?u.stateNode:null}var Za={},_h=new WeakMap;function Ji(u,l){if(typeof u=="object"&&u!==null){var g=_h.get(u);return g!==void 0?g:(l={value:u,source:l,stack:ce(l)},_h.set(u,l),l)}return{value:u,source:l,stack:ce(l)}}var Pu=[],Cs=0,jl=null,$l=0,Yi=[],Xi=0,As=null,Ja=1,Ya="";function Rs(u,l){Pu[Cs++]=$l,Pu[Cs++]=jl,jl=u,$l=l}function d(u,l,g){Yi[Xi++]=Ja,Yi[Xi++]=Ya,Yi[Xi++]=As,As=u;var w=Ja;u=Ya;var O=32-Rt(w)-1;w&=~(1<<O),g+=1;var F=32-Rt(l)+O;if(30<F){var ue=O-O%5;F=(w&(1<<ue)-1).toString(32),w>>=ue,O-=ue,Ja=1<<32-Rt(l)+O|g<<O|w,Ya=F+u}else Ja=1<<F|g<<O|w,Ya=u}function v(u){u.return!==null&&(Rs(u,1),d(u,1,0))}function P(u){for(;u===jl;)jl=Pu[--Cs],Pu[Cs]=null,$l=Pu[--Cs],Pu[Cs]=null;for(;u===As;)As=Yi[--Xi],Yi[Xi]=null,Ya=Yi[--Xi],Yi[Xi]=null,Ja=Yi[--Xi],Yi[Xi]=null}var U=null,ee=null,ve=!1,Ge=null,st=!1,yt=Error(r(519));function bt(u){var l=Error(r(418,""));throw Ar(Ji(l,u)),yt}function jt(u){var l=u.stateNode,g=u.type,w=u.memoizedProps;switch(l[it]=u,l[Et]=w,g){case"dialog":kn("cancel",l),kn("close",l);break;case"iframe":case"object":case"embed":kn("load",l);break;case"video":case"audio":for(g=0;g<$h.length;g++)kn($h[g],l);break;case"source":kn("error",l);break;case"img":case"image":case"link":kn("error",l),kn("load",l);break;case"details":kn("toggle",l);break;case"input":kn("invalid",l),ot(l,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),xe(l);break;case"select":kn("invalid",l);break;case"textarea":kn("invalid",l),De(l,w.value,w.defaultValue,w.children),xe(l)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||l.textContent===""+g||w.suppressHydrationWarning===!0||hL(l.textContent,g)?(w.popover!=null&&(kn("beforetoggle",l),kn("toggle",l)),w.onScroll!=null&&kn("scroll",l),w.onScrollEnd!=null&&kn("scrollend",l),w.onClick!=null&&(l.onclick=Ay),l=!0):l=!1,l||bt(u)}function nn(u){for(U=u.return;U;)switch(U.tag){case 3:case 27:st=!0;return;case 5:case 13:st=!1;return;default:U=U.return}}function gn(u){if(u!==U)return!1;if(!ve)return nn(u),ve=!0,!1;var l=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||Ub(u.type,u.memoizedProps)),g=!g),g&&(l=!0),l&&ee&&bt(u),nn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,l=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(l===0){ee=bo(u.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++;u=u.nextSibling}ee=null}}else ee=U?bo(u.stateNode.nextSibling):null;return!0}function qr(){ee=U=null,ve=!1}function Ar(u){Ge===null?Ge=[u]:Ge.push(u)}var di=Error(r(460)),_i=Error(r(474)),Vo={then:function(){}};function Wm(u){return u=u.status,u==="fulfilled"||u==="rejected"}function gf(){}function Qm(u,l,g){switch(g=u[g],g===void 0?u.push(l):g!==l&&(l.then(gf,gf),l=g),l.status){case"fulfilled":return l.value;case"rejected":throw u=l.reason,u===di?Error(r(483)):u;default:if(typeof l.status=="string")l.then(gf,gf);else{if(u=_r,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=l,u.status="pending",u.then(function(w){if(l.status==="pending"){var O=l;O.status="fulfilled",O.value=w}},function(w){if(l.status==="pending"){var O=l;O.status="rejected",O.reason=w}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw u=l.reason,u===di?Error(r(483)):u}throw Ou=l,di}}var Ou=null;function Zm(){if(Ou===null)throw Error(r(459));var u=Ou;return Ou=null,u}var Ps=null,vr=0;function Os(u){var l=vr;return vr+=1,Ps===null&&(Ps=[]),Qm(Ps,u,l)}function Ul(u,l){l=l.props.ref,u.ref=l!==void 0?l:null}function mf(u,l){throw l.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(l),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":u)))}function Jm(u){var l=u._init;return l(u._payload)}function yf(u){function l(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)l(ct,rt),rt=rt.sibling;return null}function w(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function O(ct,rt){return ct=qu(ct,rt),ct.index=0,ct.sibling=null,ct}function F(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function ue(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Ce(ct,rt,ht,St){return rt===null||rt.tag!==6?(rt=gb(ht,ct.mode,St),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,St){var Ht=ht.type;return Ht===c?_t(ct,rt,ht.props.children,St,ht.key):rt!==null&&(rt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===E&&Jm(Ht)===rt.type)?(rt=O(rt,ht.props),Ul(rt,ht),rt.return=ct,rt):(rt=my(ht.type,ht.key,ht.props,null,ct.mode,St),Ul(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,St){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=mb(ht,ct.mode,St),rt.return=ct,rt):(rt=O(rt,ht.children||[]),rt.return=ct,rt)}function _t(ct,rt,ht,St,Ht){return rt===null||rt.tag!==7?(rt=Ql(ht,ct.mode,St,Ht),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ct(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=gb(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return ht=my(rt.type,rt.key,rt.props,null,ct.mode,ht),Ul(ht,rt),ht.return=ct,ht;case s:return rt=mb(rt,ct.mode,ht),rt.return=ct,rt;case E:var St=rt._init;return rt=St(rt._payload),Ct(ct,rt,ht)}if(H(rt)||D(rt))return rt=Ql(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return Ct(ct,Os(rt),ht);if(rt.$$typeof===y)return Ct(ct,hy(ct,rt),ht);mf(ct,rt)}return null}function pt(ct,rt,ht,St){var Ht=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ht!==null?null:Ce(ct,rt,""+ht,St);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:return ht.key===Ht?Ve(ct,rt,ht,St):null;case s:return ht.key===Ht?at(ct,rt,ht,St):null;case E:return Ht=ht._init,ht=Ht(ht._payload),pt(ct,rt,ht,St)}if(H(ht)||D(ht))return Ht!==null?null:_t(ct,rt,ht,St,null);if(typeof ht.then=="function")return pt(ct,rt,Os(ht),St);if(ht.$$typeof===y)return pt(ct,rt,hy(ct,ht),St);mf(ct,ht)}return null}function vt(ct,rt,ht,St,Ht){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ct=ct.get(ht)||null,Ce(rt,ct,""+St,Ht);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case o:return ct=ct.get(St.key===null?ht:St.key)||null,Ve(rt,ct,St,Ht);case s:return ct=ct.get(St.key===null?ht:St.key)||null,at(rt,ct,St,Ht);case E:var Pn=St._init;return St=Pn(St._payload),vt(ct,rt,ht,St,Ht)}if(H(St)||D(St))return ct=ct.get(ht)||null,_t(rt,ct,St,Ht,null);if(typeof St.then=="function")return vt(ct,rt,ht,Os(St),Ht);if(St.$$typeof===y)return vt(ct,rt,ht,hy(rt,St),Ht);mf(rt,St)}return null}function Zt(ct,rt,ht,St){for(var Ht=null,Pn=null,Xt=rt,an=rt=0,gi=null;Xt!==null&&an<ht.length;an++){Xt.index>an?(gi=Xt,Xt=null):gi=Xt.sibling;var Hn=pt(ct,Xt,ht[an],St);if(Hn===null){Xt===null&&(Xt=gi);break}u&&Xt&&Hn.alternate===null&&l(ct,Xt),rt=F(Hn,rt,an),Pn===null?Ht=Hn:Pn.sibling=Hn,Pn=Hn,Xt=gi}if(an===ht.length)return g(ct,Xt),ve&&Rs(ct,an),Ht;if(Xt===null){for(;an<ht.length;an++)Xt=Ct(ct,ht[an],St),Xt!==null&&(rt=F(Xt,rt,an),Pn===null?Ht=Xt:Pn.sibling=Xt,Pn=Xt);return ve&&Rs(ct,an),Ht}for(Xt=w(Xt);an<ht.length;an++)gi=vt(Xt,ct,an,ht[an],St),gi!==null&&(u&&gi.alternate!==null&&Xt.delete(gi.key===null?an:gi.key),rt=F(gi,rt,an),Pn===null?Ht=gi:Pn.sibling=gi,Pn=gi);return u&&Xt.forEach(function(Qu){return l(ct,Qu)}),ve&&Rs(ct,an),Ht}function mn(ct,rt,ht,St){if(ht==null)throw Error(r(151));for(var Ht=null,Pn=null,Xt=rt,an=rt=0,gi=null,Hn=ht.next();Xt!==null&&!Hn.done;an++,Hn=ht.next()){Xt.index>an?(gi=Xt,Xt=null):gi=Xt.sibling;var Qu=pt(ct,Xt,Hn.value,St);if(Qu===null){Xt===null&&(Xt=gi);break}u&&Xt&&Qu.alternate===null&&l(ct,Xt),rt=F(Qu,rt,an),Pn===null?Ht=Qu:Pn.sibling=Qu,Pn=Qu,Xt=gi}if(Hn.done)return g(ct,Xt),ve&&Rs(ct,an),Ht;if(Xt===null){for(;!Hn.done;an++,Hn=ht.next())Hn=Ct(ct,Hn.value,St),Hn!==null&&(rt=F(Hn,rt,an),Pn===null?Ht=Hn:Pn.sibling=Hn,Pn=Hn);return ve&&Rs(ct,an),Ht}for(Xt=w(Xt);!Hn.done;an++,Hn=ht.next())Hn=vt(Xt,ct,an,Hn.value,St),Hn!==null&&(u&&Hn.alternate!==null&&Xt.delete(Hn.key===null?an:Hn.key),rt=F(Hn,rt,an),Pn===null?Ht=Hn:Pn.sibling=Hn,Pn=Hn);return u&&Xt.forEach(function(s7){return l(ct,s7)}),ve&&Rs(ct,an),Ht}function kr(ct,rt,ht,St){if(typeof ht=="object"&&ht!==null&&ht.type===c&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:e:{for(var Ht=ht.key;rt!==null;){if(rt.key===Ht){if(Ht=ht.type,Ht===c){if(rt.tag===7){g(ct,rt.sibling),St=O(rt,ht.props.children),St.return=ct,ct=St;break e}}else if(rt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===E&&Jm(Ht)===rt.type){g(ct,rt.sibling),St=O(rt,ht.props),Ul(St,ht),St.return=ct,ct=St;break e}g(ct,rt);break}else l(ct,rt);rt=rt.sibling}ht.type===c?(St=Ql(ht.props.children,ct.mode,St,ht.key),St.return=ct,ct=St):(St=my(ht.type,ht.key,ht.props,null,ct.mode,St),Ul(St,ht),St.return=ct,ct=St)}return ue(ct);case s:e:{for(Ht=ht.key;rt!==null;){if(rt.key===Ht)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),St=O(rt,ht.children||[]),St.return=ct,ct=St;break e}else{g(ct,rt);break}else l(ct,rt);rt=rt.sibling}St=mb(ht,ct.mode,St),St.return=ct,ct=St}return ue(ct);case E:return Ht=ht._init,ht=Ht(ht._payload),kr(ct,rt,ht,St)}if(H(ht))return Zt(ct,rt,ht,St);if(D(ht)){if(Ht=D(ht),typeof Ht!="function")throw Error(r(150));return ht=Ht.call(ht),mn(ct,rt,ht,St)}if(typeof ht.then=="function")return kr(ct,rt,Os(ht),St);if(ht.$$typeof===y)return kr(ct,rt,hy(ct,ht),St);mf(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),St=O(rt,ht),St.return=ct,ct=St):(g(ct,rt),St=gb(ht,ct.mode,St),St.return=ct,ct=St),ue(ct)):g(ct,rt)}return function(ct,rt,ht,St){try{vr=0;var Ht=kr(ct,rt,ht,St);return Ps=null,Ht}catch(Xt){if(Xt===di)throw Xt;var Pn=no(29,Xt,null,ct.mode);return Pn.lanes=St,Pn.return=ct,Pn}finally{}}}var Ko=yf(!0),Ym=yf(!1),vf=Re(null),Xm=Re(0);function hP(u,l){u=Bs,Xe(Xm,u),Xe(vf,l),Bs=u|l.baseLanes}function Sw(){Xe(Xm,Bs),Xe(vf,vf.current)}function xw(){Bs=Xm.current,Fe(vf),Fe(Xm)}var Xa=Re(null),Go=null;function Lu(u){var l=u.alternate;Xe(ai,ai.current&1),Xe(Xa,u),Go===null&&(l===null||vf.current!==null||l.memoizedState!==null)&&(Go=u)}function pP(u){if(u.tag===22){if(Xe(ai,ai.current),Xe(Xa,u),Go===null){var l=u.alternate;l!==null&&l.memoizedState!==null&&(Go=u)}}else Iu()}function Iu(){Xe(ai,ai.current),Xe(Xa,Xa.current)}function Ls(u){Fe(Xa),Go===u&&(Go=null),Fe(ai)}var ai=Re(0);function ey(u){for(var l=u;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break;for(;l.sibling===null;){if(l.return===null||l.return===u)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Wz=typeof AbortController<"u"?AbortController:function(){var u=[],l=this.signal={aborted:!1,addEventListener:function(g,w){u.push(w)}};this.abort=function(){l.aborted=!0,u.forEach(function(g){return g()})}},Qz=t.unstable_scheduleCallback,Zz=t.unstable_NormalPriority,oi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ew(){return{controller:new Wz,data:new Map,refCount:0}}function wh(u){u.refCount--,u.refCount===0&&Qz(Zz,function(){u.controller.abort()})}var bh=null,Tw=0,_f=0,wf=null;function Jz(u,l){if(bh===null){var g=bh=[];Tw=0,_f=Lb(),wf={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Tw++,l.then(gP,gP),l}function gP(){if(--Tw===0&&bh!==null){wf!==null&&(wf.status="fulfilled");var u=bh;bh=null,_f=0,wf=null;for(var l=0;l<u.length;l++)(0,u[l])()}}function Yz(u,l){var g=[],w={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return u.then(function(){w.status="fulfilled",w.value=l;for(var O=0;O<g.length;O++)(0,g[O])(l)},function(O){for(w.status="rejected",w.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),w}var mP=Y.S;Y.S=function(u,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Jz(u,l),mP!==null&&mP(u,l)};var Bl=Re(null);function Cw(){var u=Bl.current;return u!==null?u:_r.pooledCache}function ty(u,l){l===null?Xe(Bl,Bl.current):Xe(Bl,l.pool)}function yP(){var u=Cw();return u===null?null:{parent:oi._currentValue,pool:u}}var Mu=0,Tn=null,cr=null,Qr=null,ny=!1,bf=!1,ql=!1,ry=0,Sh=0,Sf=null,Xz=0;function zr(){throw Error(r(321))}function Aw(u,l){if(l===null)return!1;for(var g=0;g<l.length&&g<u.length;g++)if(!Wi(u[g],l[g]))return!1;return!0}function Rw(u,l,g,w,O,F){return Mu=F,Tn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=u===null||u.memoizedState===null?zl:Du,ql=!1,F=g(w,O),ql=!1,bf&&(F=_P(l,g,w,O)),vP(u),F}function vP(u){Y.H=Wo;var l=cr!==null&&cr.next!==null;if(Mu=0,Qr=cr=Tn=null,ny=!1,Sh=0,Sf=null,l)throw Error(r(300));u===null||hi||(u=u.dependencies,u!==null&&dy(u)&&(hi=!0))}function _P(u,l,g,w){Tn=u;var O=0;do{if(bf&&(Sf=null),Sh=0,bf=!1,25<=O)throw Error(r(301));if(O+=1,Qr=cr=null,u.updateQueue!=null){var F=u.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Y.H=Hl,F=l(g,w)}while(bf);return F}function eH(){var u=Y.H,l=u.useState()[0];return l=typeof l.then=="function"?xh(l):l,u=u.useState()[0],(cr!==null?cr.memoizedState:null)!==u&&(Tn.flags|=1024),l}function Pw(){var u=ry!==0;return ry=0,u}function Ow(u,l,g){l.updateQueue=u.updateQueue,l.flags&=-2053,u.lanes&=~g}function Lw(u){if(ny){for(u=u.memoizedState;u!==null;){var l=u.queue;l!==null&&(l.pending=null),u=u.next}ny=!1}Mu=0,Qr=cr=Tn=null,bf=!1,Sh=ry=0,Sf=null}function pa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Tn.memoizedState=Qr=u:Qr=Qr.next=u,Qr}function Zr(){if(cr===null){var u=Tn.alternate;u=u!==null?u.memoizedState:null}else u=cr.next;var l=Qr===null?Tn.memoizedState:Qr.next;if(l!==null)Qr=l,cr=u;else{if(u===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));cr=u,u={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Qr===null?Tn.memoizedState=Qr=u:Qr=Qr.next=u}return Qr}var iy;iy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xh(u){var l=Sh;return Sh+=1,Sf===null&&(Sf=[]),u=Qm(Sf,u,l),l=Tn,(Qr===null?l.memoizedState:Qr.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?zl:Du),u}function ay(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return xh(u);if(u.$$typeof===y)return Di(u)}throw Error(r(438,String(u)))}function Iw(u){var l=null,g=Tn.updateQueue;if(g!==null&&(l=g.memoCache),l==null){var w=Tn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(l={data:w.data.map(function(O){return O.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),g===null&&(g=iy(),Tn.updateQueue=g),g.memoCache=l,g=l.data[l.index],g===void 0)for(g=l.data[l.index]=Array(u),w=0;w<u;w++)g[w]=I;return l.index++,g}function Is(u,l){return typeof l=="function"?l(u):l}function oy(u){var l=Zr();return Mw(l,cr,u)}function Mw(u,l,g){var w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=g;var O=u.baseQueue,F=w.pending;if(F!==null){if(O!==null){var ue=O.next;O.next=F.next,F.next=ue}l.baseQueue=O=F,w.pending=null}if(F=u.baseState,O===null)u.memoizedState=F;else{l=O.next;var Ce=ue=null,Ve=null,at=l,_t=!1;do{var Ct=at.lane&-536870913;if(Ct!==at.lane?($n&Ct)===Ct:(Mu&Ct)===Ct){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),Ct===_f&&(_t=!0);else if((Mu&pt)===pt){at=at.next,pt===_f&&(_t=!0);continue}else Ct={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=Ct,ue=F):Ve=Ve.next=Ct,Tn.lanes|=pt,zu|=pt;Ct=at.action,ql&&g(F,Ct),F=at.hasEagerState?at.eagerState:g(F,Ct)}else pt={lane:Ct,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=pt,ue=F):Ve=Ve.next=pt,Tn.lanes|=Ct,zu|=Ct;at=at.next}while(at!==null&&at!==l);if(Ve===null?ue=F:Ve.next=Ce,!Wi(F,u.memoizedState)&&(hi=!0,_t&&(g=wf,g!==null)))throw g;u.memoizedState=F,u.baseState=ue,u.baseQueue=Ve,w.lastRenderedState=F}return O===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function Dw(u){var l=Zr(),g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var w=g.dispatch,O=g.pending,F=l.memoizedState;if(O!==null){g.pending=null;var ue=O=O.next;do F=u(F,ue.action),ue=ue.next;while(ue!==O);Wi(F,l.memoizedState)||(hi=!0),l.memoizedState=F,l.baseQueue===null&&(l.baseState=F),g.lastRenderedState=F}return[F,w]}function wP(u,l,g){var w=Tn,O=Zr(),F=ve;if(F){if(g===void 0)throw Error(r(407));g=g()}else g=l();var ue=!Wi((cr||O).memoizedState,g);if(ue&&(O.memoizedState=g,hi=!0),O=O.queue,Fw(xP.bind(null,w,O,u),[u]),O.getSnapshot!==l||ue||Qr!==null&&Qr.memoizedState.tag&1){if(w.flags|=2048,xf(9,SP.bind(null,w,O,g,l),{destroy:void 0},null),_r===null)throw Error(r(349));F||Mu&60||bP(w,l,g)}return g}function bP(u,l,g){u.flags|=16384,u={getSnapshot:l,value:g},l=Tn.updateQueue,l===null?(l=iy(),Tn.updateQueue=l,l.stores=[u]):(g=l.stores,g===null?l.stores=[u]:g.push(u))}function SP(u,l,g,w){l.value=g,l.getSnapshot=w,EP(l)&&TP(u)}function xP(u,l,g){return g(function(){EP(l)&&TP(u)})}function EP(u){var l=u.getSnapshot;u=u.value;try{var g=l();return!Wi(u,g)}catch{return!0}}function TP(u){var l=ha(u,2);l!==null&&ea(l,u,2)}function kw(u){var l=pa();if(typeof u=="function"){var g=u;if(u=g(),ql){Dt(!0);try{g()}finally{Dt(!1)}}}return l.memoizedState=l.baseState=u,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:u},l}function CP(u,l,g,w){return u.baseState=g,Mw(u,cr,typeof w=="function"?w:Is)}function tH(u,l,g,w,O){if(ly(u))throw Error(r(485));if(u=l.action,u!==null){var F={payload:O,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){F.listeners.push(ue)}};Y.T!==null?g(!0):F.isTransition=!1,w(F),g=l.pending,g===null?(F.next=l.pending=F,AP(l,F)):(F.next=g.next,l.pending=g.next=F)}}function AP(u,l){var g=l.action,w=l.payload,O=u.state;if(l.isTransition){var F=Y.T,ue={};Y.T=ue;try{var Ce=g(O,w),Ve=Y.S;Ve!==null&&Ve(ue,Ce),RP(u,l,Ce)}catch(at){Nw(u,l,at)}finally{Y.T=F}}else try{F=g(O,w),RP(u,l,F)}catch(at){Nw(u,l,at)}}function RP(u,l,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){PP(u,l,w)},function(w){return Nw(u,l,w)}):PP(u,l,g)}function PP(u,l,g){l.status="fulfilled",l.value=g,OP(l),u.state=g,l=u.pending,l!==null&&(g=l.next,g===l?u.pending=null:(g=g.next,l.next=g,AP(u,g)))}function Nw(u,l,g){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do l.status="rejected",l.reason=g,OP(l),l=l.next;while(l!==w)}u.action=null}function OP(u){u=u.listeners;for(var l=0;l<u.length;l++)(0,u[l])()}function LP(u,l){return l}function IP(u,l){if(ve){var g=_r.formState;if(g!==null){e:{var w=Tn;if(ve){if(ee){t:{for(var O=ee,F=st;O.nodeType!==8;){if(!F){O=null;break t}if(O=bo(O.nextSibling),O===null){O=null;break t}}F=O.data,O=F==="F!"||F==="F"?O:null}if(O){ee=bo(O.nextSibling),w=O.data==="F!";break e}}bt(w)}w=!1}w&&(l=g[0])}}return g=pa(),g.memoizedState=g.baseState=l,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LP,lastRenderedState:l},g.queue=w,g=ZP.bind(null,Tn,w),w.dispatch=g,w=kw(!1),F=qw.bind(null,Tn,!1,w.queue),w=pa(),O={state:l,dispatch:null,action:u,pending:null},w.queue=O,g=tH.bind(null,Tn,O,F,g),O.dispatch=g,w.memoizedState=u,[l,g,!1]}function MP(u){var l=Zr();return DP(l,cr,u)}function DP(u,l,g){l=Mw(u,l,LP)[0],u=oy(Is)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?xh(l):l;var w=Zr(),O=w.queue,F=O.dispatch;return g!==w.memoizedState&&(Tn.flags|=2048,xf(9,nH.bind(null,O,g),{destroy:void 0},null)),[l,F,u]}function nH(u,l){u.action=l}function kP(u){var l=Zr(),g=cr;if(g!==null)return DP(l,g,u);Zr(),l=l.memoizedState,g=Zr();var w=g.queue.dispatch;return g.memoizedState=u,[l,w,!1]}function xf(u,l,g,w){return u={tag:u,create:l,inst:g,deps:w,next:null},l=Tn.updateQueue,l===null&&(l=iy(),Tn.updateQueue=l),g=l.lastEffect,g===null?l.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,l.lastEffect=u),u}function NP(){return Zr().memoizedState}function sy(u,l,g,w){var O=pa();Tn.flags|=u,O.memoizedState=xf(1|l,g,{destroy:void 0},w===void 0?null:w)}function uy(u,l,g,w){var O=Zr();w=w===void 0?null:w;var F=O.memoizedState.inst;cr!==null&&w!==null&&Aw(w,cr.memoizedState.deps)?O.memoizedState=xf(l,g,F,w):(Tn.flags|=u,O.memoizedState=xf(1|l,g,F,w))}function FP(u,l){sy(8390656,8,u,l)}function Fw(u,l){uy(2048,8,u,l)}function jP(u,l){return uy(4,2,u,l)}function $P(u,l){return uy(4,4,u,l)}function UP(u,l){if(typeof l=="function"){u=u();var g=l(u);return function(){typeof g=="function"?g():l(null)}}if(l!=null)return u=u(),l.current=u,function(){l.current=null}}function BP(u,l,g){g=g!=null?g.concat([u]):null,uy(4,4,UP.bind(null,l,u),g)}function jw(){}function qP(u,l){var g=Zr();l=l===void 0?null:l;var w=g.memoizedState;return l!==null&&Aw(l,w[1])?w[0]:(g.memoizedState=[u,l],u)}function zP(u,l){var g=Zr();l=l===void 0?null:l;var w=g.memoizedState;if(l!==null&&Aw(l,w[1]))return w[0];if(w=u(),ql){Dt(!0);try{u()}finally{Dt(!1)}}return g.memoizedState=[w,l],w}function $w(u,l,g){return g===void 0||Mu&1073741824?u.memoizedState=l:(u.memoizedState=g,u=VO(),Tn.lanes|=u,zu|=u,g)}function HP(u,l,g,w){return Wi(g,l)?g:vf.current!==null?(u=$w(u,g,w),Wi(u,l)||(hi=!0),u):Mu&42?(u=VO(),Tn.lanes|=u,zu|=u,l):(hi=!0,u.memoizedState=g)}function VP(u,l,g,w,O){var F=J.p;J.p=F!==0&&8>F?F:8;var ue=Y.T,Ce={};Y.T=Ce,qw(u,!1,l,g);try{var Ve=O(),at=Y.S;if(at!==null&&at(Ce,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var _t=Yz(Ve,w);Eh(u,l,_t,Ma(u))}else Eh(u,l,w,Ma(u))}catch(Ct){Eh(u,l,{then:function(){},status:"rejected",reason:Ct},Ma())}finally{J.p=F,Y.T=ue}}function rH(){}function Uw(u,l,g,w){if(u.tag!==5)throw Error(r(476));var O=KP(u).queue;VP(u,O,l,ge,g===null?rH:function(){return GP(u),g(w)})}function KP(u){var l=u.memoizedState;if(l!==null)return l;l={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:ge},next:null};var g={};return l.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:g},next:null},u.memoizedState=l,u=u.alternate,u!==null&&(u.memoizedState=l),l}function GP(u){var l=KP(u).next.queue;Eh(u,l,{},Ma())}function Bw(){return Di(Hh)}function WP(){return Zr().memoizedState}function QP(){return Zr().memoizedState}function iH(u){for(var l=u.return;l!==null;){switch(l.tag){case 24:case 3:var g=Ma();u=Fu(g);var w=ju(l,u,g);w!==null&&(ea(w,l,g),Ah(w,l,g)),l={cache:Ew()},u.payload=l;return}l=l.return}}function aH(u,l,g){var w=Ma();g={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ly(u)?JP(l,g):(g=pf(u,l,g,w),g!==null&&(ea(g,u,w),YP(g,l,w)))}function ZP(u,l,g){var w=Ma();Eh(u,l,g,w)}function Eh(u,l,g,w){var O={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ly(u))JP(l,O);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=l.lastRenderedReducer,F!==null))try{var ue=l.lastRenderedState,Ce=F(ue,g);if(O.hasEagerState=!0,O.eagerState=Ce,Wi(Ce,ue))return Fl(u,l,O,0),_r===null&&da(),!1}catch{}finally{}if(g=pf(u,l,O,w),g!==null)return ea(g,u,w),YP(g,l,w),!0}return!1}function qw(u,l,g,w){if(w={lane:2,revertLane:Lb(),action:w,hasEagerState:!1,eagerState:null,next:null},ly(u)){if(l)throw Error(r(479))}else l=pf(u,g,w,2),l!==null&&ea(l,u,2)}function ly(u){var l=u.alternate;return u===Tn||l!==null&&l===Tn}function JP(u,l){bf=ny=!0;var g=u.pending;g===null?l.next=l:(l.next=g.next,g.next=l),u.pending=l}function YP(u,l,g){if(g&4194176){var w=l.lanes;w&=u.pendingLanes,g|=w,l.lanes=g,Jn(u,g)}}var Wo={readContext:Di,use:ay,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr};Wo.useCacheRefresh=zr,Wo.useMemoCache=zr,Wo.useHostTransitionStatus=zr,Wo.useFormState=zr,Wo.useActionState=zr,Wo.useOptimistic=zr;var zl={readContext:Di,use:ay,useCallback:function(u,l){return pa().memoizedState=[u,l===void 0?null:l],u},useContext:Di,useEffect:FP,useImperativeHandle:function(u,l,g){g=g!=null?g.concat([u]):null,sy(4194308,4,UP.bind(null,l,u),g)},useLayoutEffect:function(u,l){return sy(4194308,4,u,l)},useInsertionEffect:function(u,l){sy(4,2,u,l)},useMemo:function(u,l){var g=pa();l=l===void 0?null:l;var w=u();if(ql){Dt(!0);try{u()}finally{Dt(!1)}}return g.memoizedState=[w,l],w},useReducer:function(u,l,g){var w=pa();if(g!==void 0){var O=g(l);if(ql){Dt(!0);try{g(l)}finally{Dt(!1)}}}else O=l;return w.memoizedState=w.baseState=O,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:O},w.queue=u,u=u.dispatch=aH.bind(null,Tn,u),[w.memoizedState,u]},useRef:function(u){var l=pa();return u={current:u},l.memoizedState=u},useState:function(u){u=kw(u);var l=u.queue,g=ZP.bind(null,Tn,l);return l.dispatch=g,[u.memoizedState,g]},useDebugValue:jw,useDeferredValue:function(u,l){var g=pa();return $w(g,u,l)},useTransition:function(){var u=kw(!1);return u=VP.bind(null,Tn,u.queue,!0,!1),pa().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,l,g){var w=Tn,O=pa();if(ve){if(g===void 0)throw Error(r(407));g=g()}else{if(g=l(),_r===null)throw Error(r(349));$n&60||bP(w,l,g)}O.memoizedState=g;var F={value:g,getSnapshot:l};return O.queue=F,FP(xP.bind(null,w,F,u),[u]),w.flags|=2048,xf(9,SP.bind(null,w,F,g,l),{destroy:void 0},null),g},useId:function(){var u=pa(),l=_r.identifierPrefix;if(ve){var g=Ya,w=Ja;g=(w&~(1<<32-Rt(w)-1)).toString(32)+g,l=":"+l+"R"+g,g=ry++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=Xz++,l=":"+l+"r"+g.toString(32)+":";return u.memoizedState=l},useCacheRefresh:function(){return pa().memoizedState=iH.bind(null,Tn)}};zl.useMemoCache=Iw,zl.useHostTransitionStatus=Bw,zl.useFormState=IP,zl.useActionState=IP,zl.useOptimistic=function(u){var l=pa();l.memoizedState=l.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=g,l=qw.bind(null,Tn,!0,g),g.dispatch=l,[u,l]};var Du={readContext:Di,use:ay,useCallback:qP,useContext:Di,useEffect:Fw,useImperativeHandle:BP,useInsertionEffect:jP,useLayoutEffect:$P,useMemo:zP,useReducer:oy,useRef:NP,useState:function(){return oy(Is)},useDebugValue:jw,useDeferredValue:function(u,l){var g=Zr();return HP(g,cr.memoizedState,u,l)},useTransition:function(){var u=oy(Is)[0],l=Zr().memoizedState;return[typeof u=="boolean"?u:xh(u),l]},useSyncExternalStore:wP,useId:WP};Du.useCacheRefresh=QP,Du.useMemoCache=Iw,Du.useHostTransitionStatus=Bw,Du.useFormState=MP,Du.useActionState=MP,Du.useOptimistic=function(u,l){var g=Zr();return CP(g,cr,u,l)};var Hl={readContext:Di,use:ay,useCallback:qP,useContext:Di,useEffect:Fw,useImperativeHandle:BP,useInsertionEffect:jP,useLayoutEffect:$P,useMemo:zP,useReducer:Dw,useRef:NP,useState:function(){return Dw(Is)},useDebugValue:jw,useDeferredValue:function(u,l){var g=Zr();return cr===null?$w(g,u,l):HP(g,cr.memoizedState,u,l)},useTransition:function(){var u=Dw(Is)[0],l=Zr().memoizedState;return[typeof u=="boolean"?u:xh(u),l]},useSyncExternalStore:wP,useId:WP};Hl.useCacheRefresh=QP,Hl.useMemoCache=Iw,Hl.useHostTransitionStatus=Bw,Hl.useFormState=kP,Hl.useActionState=kP,Hl.useOptimistic=function(u,l){var g=Zr();return cr!==null?CP(g,cr,u,l):(g.baseState=u,[u,g.queue.dispatch])};function zw(u,l,g,w){l=u.memoizedState,g=g(w,l),g=g==null?l:q({},l,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Hw={isMounted:function(u){return(u=u._reactInternals)?le(u)===u:!1},enqueueSetState:function(u,l,g){u=u._reactInternals;var w=Ma(),O=Fu(w);O.payload=l,g!=null&&(O.callback=g),l=ju(u,O,w),l!==null&&(ea(l,u,w),Ah(l,u,w))},enqueueReplaceState:function(u,l,g){u=u._reactInternals;var w=Ma(),O=Fu(w);O.tag=1,O.payload=l,g!=null&&(O.callback=g),l=ju(u,O,w),l!==null&&(ea(l,u,w),Ah(l,u,w))},enqueueForceUpdate:function(u,l){u=u._reactInternals;var g=Ma(),w=Fu(g);w.tag=2,l!=null&&(w.callback=l),l=ju(u,w,g),l!==null&&(ea(l,u,g),Ah(l,u,g))}};function XP(u,l,g,w,O,F,ue){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,F,ue):l.prototype&&l.prototype.isPureReactComponent?!Qi(g,w)||!Qi(O,F):!0}function eO(u,l,g,w){u=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,w),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,w),l.state!==u&&Hw.enqueueReplaceState(l,l.state,null)}function Vl(u,l){var g=l;if("ref"in l){g={};for(var w in l)w!=="ref"&&(g[w]=l[w])}if(u=u.defaultProps){g===l&&(g=q({},g));for(var O in u)g[O]===void 0&&(g[O]=u[O])}return g}var cy=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function tO(u){cy(u)}function nO(u){console.error(u)}function rO(u){cy(u)}function fy(u,l){try{var g=u.onUncaughtError;g(l.value,{componentStack:l.stack})}catch(w){setTimeout(function(){throw w})}}function iO(u,l,g){try{var w=u.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Vw(u,l,g){return g=Fu(g),g.tag=3,g.payload={element:null},g.callback=function(){fy(u,l)},g}function aO(u){return u=Fu(u),u.tag=3,u}function oO(u,l,g,w){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var F=w.value;u.payload=function(){return O(F)},u.callback=function(){iO(l,g,w)}}var ue=g.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(u.callback=function(){iO(l,g,w),typeof O!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var Ce=w.stack;this.componentDidCatch(w.value,{componentStack:Ce!==null?Ce:""})})}function oH(u,l,g,w,O){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(l=g.alternate,l!==null&&Ch(l,g,O,!0),g=Xa.current,g!==null){switch(g.tag){case 13:return Go===null?Cb():g.alternate===null&&Dr===0&&(Dr=3),g.flags&=-257,g.flags|=65536,g.lanes=O,w===Vo?g.flags|=16384:(l=g.updateQueue,l===null?g.updateQueue=new Set([w]):l.add(w),Rb(u,w,O)),!1;case 22:return g.flags|=65536,w===Vo?g.flags|=16384:(l=g.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=l):(g=l.retryQueue,g===null?l.retryQueue=new Set([w]):g.add(w)),Rb(u,w,O)),!1}throw Error(r(435,g.tag))}return Rb(u,w,O),Cb(),!1}if(ve)return l=Xa.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=O,w!==yt&&(u=Error(r(422),{cause:w}),Ar(Ji(u,g)))):(w!==yt&&(l=Error(r(423),{cause:w}),Ar(Ji(l,g))),u=u.current.alternate,u.flags|=65536,O&=-O,u.lanes|=O,w=Ji(w,g),O=Vw(u.stateNode,w,O),ob(u,O),Dr!==4&&(Dr=2)),!1;var F=Error(r(520),{cause:w});if(F=Ji(F,g),kh===null?kh=[F]:kh.push(F),Dr!==4&&(Dr=2),l===null)return!0;w=Ji(w,g),g=l;do{switch(g.tag){case 3:return g.flags|=65536,u=O&-O,g.lanes|=u,u=Vw(g.stateNode,w,u),ob(g,u),!1;case 1:if(l=g.type,F=g.stateNode,(g.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Hu===null||!Hu.has(F))))return g.flags|=65536,O&=-O,g.lanes|=O,O=aO(O),oO(O,u,g,w),ob(g,O),!1}g=g.return}while(g!==null);return!1}var sO=Error(r(461)),hi=!1;function wi(u,l,g,w){l.child=u===null?Ym(l,null,g,w):Ko(l,u.child,g,w)}function uO(u,l,g,w,O){g=g.render;var F=l.ref;if("ref"in w){var ue={};for(var Ce in w)Ce!=="ref"&&(ue[Ce]=w[Ce])}else ue=w;return Gl(l),w=Rw(u,l,g,ue,F,O),Ce=Pw(),u!==null&&!hi?(Ow(u,l,O),Ms(u,l,O)):(ve&&Ce&&v(l),l.flags|=1,wi(u,l,w,O),l.child)}function lO(u,l,g,w,O){if(u===null){var F=g.type;return typeof F=="function"&&!pb(F)&&F.defaultProps===void 0&&g.compare===null?(l.tag=15,l.type=F,cO(u,l,F,w,O)):(u=my(g.type,null,w,l,l.mode,O),u.ref=l.ref,u.return=l,l.child=u)}if(F=u.child,!eb(u,O)){var ue=F.memoizedProps;if(g=g.compare,g=g!==null?g:Qi,g(ue,w)&&u.ref===l.ref)return Ms(u,l,O)}return l.flags|=1,u=qu(F,w),u.ref=l.ref,u.return=l,l.child=u}function cO(u,l,g,w,O){if(u!==null){var F=u.memoizedProps;if(Qi(F,w)&&u.ref===l.ref)if(hi=!1,l.pendingProps=w=F,eb(u,O))u.flags&131072&&(hi=!0);else return l.lanes=u.lanes,Ms(u,l,O)}return Kw(u,l,g,w,O)}function fO(u,l,g){var w=l.pendingProps,O=w.children,F=(l.stateNode._pendingVisibility&2)!==0,ue=u!==null?u.memoizedState:null;if(Th(u,l),w.mode==="hidden"||F){if(l.flags&128){if(w=ue!==null?ue.baseLanes|g:g,u!==null){for(O=l.child=u.child,F=0;O!==null;)F=F|O.lanes|O.childLanes,O=O.sibling;l.childLanes=F&~w}else l.childLanes=0,l.child=null;return dO(u,l,w,g)}if(g&536870912)l.memoizedState={baseLanes:0,cachePool:null},u!==null&&ty(l,ue!==null?ue.cachePool:null),ue!==null?hP(l,ue):Sw(),pP(l);else return l.lanes=l.childLanes=536870912,dO(u,l,ue!==null?ue.baseLanes|g:g,g)}else ue!==null?(ty(l,ue.cachePool),hP(l,ue),Iu(),l.memoizedState=null):(u!==null&&ty(l,null),Sw(),Iu());return wi(u,l,O,g),l.child}function dO(u,l,g,w){var O=Cw();return O=O===null?null:{parent:oi._currentValue,pool:O},l.memoizedState={baseLanes:g,cachePool:O},u!==null&&ty(l,null),Sw(),pP(l),u!==null&&Ch(u,l,w,!0),null}function Th(u,l){var g=l.ref;if(g===null)u!==null&&u.ref!==null&&(l.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(l.flags|=2097664)}}function Kw(u,l,g,w,O){return Gl(l),g=Rw(u,l,g,w,void 0,O),w=Pw(),u!==null&&!hi?(Ow(u,l,O),Ms(u,l,O)):(ve&&w&&v(l),l.flags|=1,wi(u,l,g,O),l.child)}function hO(u,l,g,w,O,F){return Gl(l),l.updateQueue=null,g=_P(l,w,g,O),vP(u),w=Pw(),u!==null&&!hi?(Ow(u,l,F),Ms(u,l,F)):(ve&&w&&v(l),l.flags|=1,wi(u,l,g,F),l.child)}function pO(u,l,g,w,O){if(Gl(l),l.stateNode===null){var F=Za,ue=g.contextType;typeof ue=="object"&&ue!==null&&(F=Di(ue)),F=new g(w,F),l.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Hw,l.stateNode=F,F._reactInternals=l,F=l.stateNode,F.props=w,F.state=l.memoizedState,F.refs={},ib(l),ue=g.contextType,F.context=typeof ue=="object"&&ue!==null?Di(ue):Za,F.state=l.memoizedState,ue=g.getDerivedStateFromProps,typeof ue=="function"&&(zw(l,g,ue,w),F.state=l.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ue=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ue!==F.state&&Hw.enqueueReplaceState(F,F.state,null),Ph(l,w,F,O),Rh(),F.state=l.memoizedState),typeof F.componentDidMount=="function"&&(l.flags|=4194308),w=!0}else if(u===null){F=l.stateNode;var Ce=l.memoizedProps,Ve=Vl(g,Ce);F.props=Ve;var at=F.context,_t=g.contextType;ue=Za,typeof _t=="object"&&_t!==null&&(ue=Di(_t));var Ct=g.getDerivedStateFromProps;_t=typeof Ct=="function"||typeof F.getSnapshotBeforeUpdate=="function",Ce=l.pendingProps!==Ce,_t||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Ce||at!==ue)&&eO(l,F,w,ue),Nu=!1;var pt=l.memoizedState;F.state=pt,Ph(l,w,F,O),Rh(),at=l.memoizedState,Ce||pt!==at||Nu?(typeof Ct=="function"&&(zw(l,g,Ct,w),at=l.memoizedState),(Ve=Nu||XP(l,g,Ve,w,pt,at,ue))?(_t||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=w,l.memoizedState=at),F.props=w,F.state=at,F.context=ue,w=Ve):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),w=!1)}else{F=l.stateNode,ab(u,l),ue=l.memoizedProps,_t=Vl(g,ue),F.props=_t,Ct=l.pendingProps,pt=F.context,at=g.contextType,Ve=Za,typeof at=="object"&&at!==null&&(Ve=Di(at)),Ce=g.getDerivedStateFromProps,(at=typeof Ce=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ue!==Ct||pt!==Ve)&&eO(l,F,w,Ve),Nu=!1,pt=l.memoizedState,F.state=pt,Ph(l,w,F,O),Rh();var vt=l.memoizedState;ue!==Ct||pt!==vt||Nu||u!==null&&u.dependencies!==null&&dy(u.dependencies)?(typeof Ce=="function"&&(zw(l,g,Ce,w),vt=l.memoizedState),(_t=Nu||XP(l,g,_t,w,pt,vt,Ve)||u!==null&&u.dependencies!==null&&dy(u.dependencies))?(at||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(w,vt,Ve),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(w,vt,Ve)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(l.flags|=1024),l.memoizedProps=w,l.memoizedState=vt),F.props=w,F.state=vt,F.context=Ve,w=_t):(typeof F.componentDidUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(l.flags|=1024),w=!1)}return F=w,Th(u,l),w=(l.flags&128)!==0,F||w?(F=l.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:F.render(),l.flags|=1,u!==null&&w?(l.child=Ko(l,u.child,null,O),l.child=Ko(l,null,g,O)):wi(u,l,g,O),l.memoizedState=F.state,u=l.child):u=Ms(u,l,O),u}function gO(u,l,g,w){return qr(),l.flags|=256,wi(u,l,g,w),l.child}var Gw={dehydrated:null,treeContext:null,retryLane:0};function Ww(u){return{baseLanes:u,cachePool:yP()}}function Qw(u,l,g){return u=u!==null?u.childLanes&~g:0,l&&(u|=ro),u}function mO(u,l,g){var w=l.pendingProps,O=!1,F=(l.flags&128)!==0,ue;if((ue=F)||(ue=u!==null&&u.memoizedState===null?!1:(ai.current&2)!==0),ue&&(O=!0,l.flags&=-129),ue=(l.flags&32)!==0,l.flags&=-33,u===null){if(ve){if(O?Lu(l):Iu(),ve){var Ce=ee,Ve;if(Ve=Ce){e:{for(Ve=Ce,Ce=st;Ve.nodeType!==8;){if(!Ce){Ce=null;break e}if(Ve=bo(Ve.nextSibling),Ve===null){Ce=null;break e}}Ce=Ve}Ce!==null?(l.memoizedState={dehydrated:Ce,treeContext:As!==null?{id:Ja,overflow:Ya}:null,retryLane:536870912},Ve=no(18,null,null,0),Ve.stateNode=Ce,Ve.return=l,l.child=Ve,U=l,ee=null,Ve=!0):Ve=!1}Ve||bt(l)}if(Ce=l.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Ce.data==="$!"?l.lanes=16:l.lanes=536870912,null;Ls(l)}return Ce=w.children,w=w.fallback,O?(Iu(),O=l.mode,Ce=Jw({mode:"hidden",children:Ce},O),w=Ql(w,O,g,null),Ce.return=l,w.return=l,Ce.sibling=w,l.child=Ce,O=l.child,O.memoizedState=Ww(g),O.childLanes=Qw(u,ue,g),l.memoizedState=Gw,w):(Lu(l),Zw(l,Ce))}if(Ve=u.memoizedState,Ve!==null&&(Ce=Ve.dehydrated,Ce!==null)){if(F)l.flags&256?(Lu(l),l.flags&=-257,l=Yw(u,l,g)):l.memoizedState!==null?(Iu(),l.child=u.child,l.flags|=128,l=null):(Iu(),O=w.fallback,Ce=l.mode,w=Jw({mode:"visible",children:w.children},Ce),O=Ql(O,Ce,g,null),O.flags|=2,w.return=l,O.return=l,w.sibling=O,l.child=w,Ko(l,u.child,null,g),w=l.child,w.memoizedState=Ww(g),w.childLanes=Qw(u,ue,g),l.memoizedState=Gw,l=O);else if(Lu(l),Ce.data==="$!"){if(ue=Ce.nextSibling&&Ce.nextSibling.dataset,ue)var at=ue.dgst;ue=at,w=Error(r(419)),w.stack="",w.digest=ue,Ar({value:w,source:null,stack:null}),l=Yw(u,l,g)}else if(hi||Ch(u,l,g,!1),ue=(g&u.childLanes)!==0,hi||ue){if(ue=_r,ue!==null){if(w=g&-g,w&42)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=w&(ue.suspendedLanes|g)?0:w,w!==0&&w!==Ve.retryLane)throw Ve.retryLane=w,ha(u,w),ea(ue,u,w),sO}Ce.data==="$?"||Cb(),l=Yw(u,l,g)}else Ce.data==="$?"?(l.flags|=128,l.child=u.child,l=bH.bind(null,u),Ce._reactRetry=l,l=null):(u=Ve.treeContext,ee=bo(Ce.nextSibling),U=l,ve=!0,Ge=null,st=!1,u!==null&&(Yi[Xi++]=Ja,Yi[Xi++]=Ya,Yi[Xi++]=As,Ja=u.id,Ya=u.overflow,As=l),l=Zw(l,w.children),l.flags|=4096);return l}return O?(Iu(),O=w.fallback,Ce=l.mode,Ve=u.child,at=Ve.sibling,w=qu(Ve,{mode:"hidden",children:w.children}),w.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?O=qu(at,O):(O=Ql(O,Ce,g,null),O.flags|=2),O.return=l,w.return=l,w.sibling=O,l.child=w,w=O,O=l.child,Ce=u.child.memoizedState,Ce===null?Ce=Ww(g):(Ve=Ce.cachePool,Ve!==null?(at=oi._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=yP(),Ce={baseLanes:Ce.baseLanes|g,cachePool:Ve}),O.memoizedState=Ce,O.childLanes=Qw(u,ue,g),l.memoizedState=Gw,w):(Lu(l),g=u.child,u=g.sibling,g=qu(g,{mode:"visible",children:w.children}),g.return=l,g.sibling=null,u!==null&&(ue=l.deletions,ue===null?(l.deletions=[u],l.flags|=16):ue.push(u)),l.child=g,l.memoizedState=null,g)}function Zw(u,l){return l=Jw({mode:"visible",children:l},u.mode),l.return=u,u.child=l}function Jw(u,l){return qO(u,l,0,null)}function Yw(u,l,g){return Ko(l,u.child,null,g),u=Zw(l,l.pendingProps.children),u.flags|=2,l.memoizedState=null,u}function yO(u,l,g){u.lanes|=l;var w=u.alternate;w!==null&&(w.lanes|=l),nb(u.return,l,g)}function Xw(u,l,g,w,O){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:O}:(F.isBackwards=l,F.rendering=null,F.renderingStartTime=0,F.last=w,F.tail=g,F.tailMode=O)}function vO(u,l,g){var w=l.pendingProps,O=w.revealOrder,F=w.tail;if(wi(u,l,w.children,g),w=ai.current,w&2)w=w&1|2,l.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=l.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&yO(u,g,l);else if(u.tag===19)yO(u,g,l);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(Xe(ai,w),O){case"forwards":for(g=l.child,O=null;g!==null;)u=g.alternate,u!==null&&ey(u)===null&&(O=g),g=g.sibling;g=O,g===null?(O=l.child,l.child=null):(O=g.sibling,g.sibling=null),Xw(l,!1,O,g,F);break;case"backwards":for(g=null,O=l.child,l.child=null;O!==null;){if(u=O.alternate,u!==null&&ey(u)===null){l.child=O;break}u=O.sibling,O.sibling=g,g=O,O=u}Xw(l,!0,g,null,F);break;case"together":Xw(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ms(u,l,g){if(u!==null&&(l.dependencies=u.dependencies),zu|=l.lanes,!(g&l.childLanes))if(u!==null){if(Ch(u,l,g,!1),(g&l.childLanes)===0)return null}else return null;if(u!==null&&l.child!==u.child)throw Error(r(153));if(l.child!==null){for(u=l.child,g=qu(u,u.pendingProps),l.child=g,g.return=l;u.sibling!==null;)u=u.sibling,g=g.sibling=qu(u,u.pendingProps),g.return=l;g.sibling=null}return l.child}function eb(u,l){return u.lanes&l?!0:(u=u.dependencies,!!(u!==null&&dy(u)))}function sH(u,l,g){switch(l.tag){case 3:W(l,l.stateNode.containerInfo),ku(l,oi,u.memoizedState.cache),qr();break;case 27:case 5:ye(l);break;case 4:W(l,l.stateNode.containerInfo);break;case 10:ku(l,l.type,l.memoizedProps.value);break;case 13:var w=l.memoizedState;if(w!==null)return w.dehydrated!==null?(Lu(l),l.flags|=128,null):g&l.child.childLanes?mO(u,l,g):(Lu(l),u=Ms(u,l,g),u!==null?u.sibling:null);Lu(l);break;case 19:var O=(u.flags&128)!==0;if(w=(g&l.childLanes)!==0,w||(Ch(u,l,g,!1),w=(g&l.childLanes)!==0),O){if(w)return vO(u,l,g);l.flags|=128}if(O=l.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Xe(ai,ai.current),w)break;return null;case 22:case 23:return l.lanes=0,fO(u,l,g);case 24:ku(l,oi,u.memoizedState.cache)}return Ms(u,l,g)}function _O(u,l,g){if(u!==null)if(u.memoizedProps!==l.pendingProps)hi=!0;else{if(!eb(u,g)&&!(l.flags&128))return hi=!1,sH(u,l,g);hi=!!(u.flags&131072)}else hi=!1,ve&&l.flags&1048576&&d(l,$l,l.index);switch(l.lanes=0,l.tag){case 16:e:{u=l.pendingProps;var w=l.elementType,O=w._init;if(w=O(w._payload),l.type=w,typeof w=="function")pb(w)?(u=Vl(w,u),l.tag=1,l=pO(null,l,w,u,g)):(l.tag=0,l=Kw(null,l,w,u,g));else{if(w!=null){if(O=w.$$typeof,O===_){l.tag=11,l=uO(null,l,w,u,g);break e}else if(O===x){l.tag=14,l=lO(null,l,w,u,g);break e}}throw l=Q(w)||w,Error(r(306,l,""))}}return l;case 0:return Kw(u,l,l.type,l.pendingProps,g);case 1:return w=l.type,O=Vl(w,l.pendingProps),pO(u,l,w,O,g);case 3:e:{if(W(l,l.stateNode.containerInfo),u===null)throw Error(r(387));var F=l.pendingProps;O=l.memoizedState,w=O.element,ab(u,l),Ph(l,F,null,g);var ue=l.memoizedState;if(F=ue.cache,ku(l,oi,F),F!==O.cache&&rb(l,[oi],g,!0),Rh(),F=ue.element,O.isDehydrated)if(O={element:F,isDehydrated:!1,cache:ue.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=gO(u,l,F,g);break e}else if(F!==w){w=Ji(Error(r(424)),l),Ar(w),l=gO(u,l,F,g);break e}else for(ee=bo(l.stateNode.containerInfo.firstChild),U=l,ve=!0,Ge=null,st=!0,g=Ym(l,null,F,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(qr(),F===w){l=Ms(u,l,g);break e}wi(u,l,F,g)}l=l.child}return l;case 26:return Th(u,l),u===null?(g=SL(l.type,null,l.pendingProps,null))?l.memoizedState=g:ve||(g=l.type,u=l.pendingProps,w=Ry($.current).createElement(g),w[it]=l,w[Et]=u,bi(w,g,u),Bn(w),l.stateNode=w):l.memoizedState=SL(l.type,u.memoizedProps,l.pendingProps,u.memoizedState),null;case 27:return ye(l),u===null&&ve&&(w=l.stateNode=_L(l.type,l.pendingProps,$.current),U=l,st=!0,ee=bo(w.firstChild)),w=l.pendingProps.children,u!==null||ve?wi(u,l,w,g):l.child=Ko(l,null,w,g),Th(u,l),l.child;case 5:return u===null&&ve&&((O=w=ee)&&(w=FH(w,l.type,l.pendingProps,st),w!==null?(l.stateNode=w,U=l,ee=bo(w.firstChild),st=!1,O=!0):O=!1),O||bt(l)),ye(l),O=l.type,F=l.pendingProps,ue=u!==null?u.memoizedProps:null,w=F.children,Ub(O,F)?w=null:ue!==null&&Ub(O,ue)&&(l.flags|=32),l.memoizedState!==null&&(O=Rw(u,l,eH,null,null,g),Hh._currentValue=O),Th(u,l),wi(u,l,w,g),l.child;case 6:return u===null&&ve&&((u=g=ee)&&(g=jH(g,l.pendingProps,st),g!==null?(l.stateNode=g,U=l,ee=null,u=!0):u=!1),u||bt(l)),null;case 13:return mO(u,l,g);case 4:return W(l,l.stateNode.containerInfo),w=l.pendingProps,u===null?l.child=Ko(l,null,w,g):wi(u,l,w,g),l.child;case 11:return uO(u,l,l.type,l.pendingProps,g);case 7:return wi(u,l,l.pendingProps,g),l.child;case 8:return wi(u,l,l.pendingProps.children,g),l.child;case 12:return wi(u,l,l.pendingProps.children,g),l.child;case 10:return w=l.pendingProps,ku(l,l.type,w.value),wi(u,l,w.children,g),l.child;case 9:return O=l.type._context,w=l.pendingProps.children,Gl(l),O=Di(O),w=w(O),l.flags|=1,wi(u,l,w,g),l.child;case 14:return lO(u,l,l.type,l.pendingProps,g);case 15:return cO(u,l,l.type,l.pendingProps,g);case 19:return vO(u,l,g);case 22:return fO(u,l,g);case 24:return Gl(l),w=Di(oi),u===null?(O=Cw(),O===null&&(O=_r,F=Ew(),O.pooledCache=F,F.refCount++,F!==null&&(O.pooledCacheLanes|=g),O=F),l.memoizedState={parent:w,cache:O},ib(l),ku(l,oi,O)):(u.lanes&g&&(ab(u,l),Ph(l,null,null,g),Rh()),O=u.memoizedState,F=l.memoizedState,O.parent!==w?(O={parent:w,cache:w},l.memoizedState=O,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=O),ku(l,oi,w)):(w=F.cache,ku(l,oi,w),w!==O.cache&&rb(l,[oi],g,!0))),wi(u,l,l.pendingProps.children,g),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}var tb=Re(null),Kl=null,Ds=null;function ku(u,l,g){Xe(tb,l._currentValue),l._currentValue=g}function ks(u){u._currentValue=tb.current,Fe(tb)}function nb(u,l,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&l)!==l?(u.childLanes|=l,w!==null&&(w.childLanes|=l)):w!==null&&(w.childLanes&l)!==l&&(w.childLanes|=l),u===g)break;u=u.return}}function rb(u,l,g,w){var O=u.child;for(O!==null&&(O.return=u);O!==null;){var F=O.dependencies;if(F!==null){var ue=O.child;F=F.firstContext;e:for(;F!==null;){var Ce=F;F=O;for(var Ve=0;Ve<l.length;Ve++)if(Ce.context===l[Ve]){F.lanes|=g,Ce=F.alternate,Ce!==null&&(Ce.lanes|=g),nb(F.return,g,u),w||(ue=null);break e}F=Ce.next}}else if(O.tag===18){if(ue=O.return,ue===null)throw Error(r(341));ue.lanes|=g,F=ue.alternate,F!==null&&(F.lanes|=g),nb(ue,g,u),ue=null}else ue=O.child;if(ue!==null)ue.return=O;else for(ue=O;ue!==null;){if(ue===u){ue=null;break}if(O=ue.sibling,O!==null){O.return=ue.return,ue=O;break}ue=ue.return}O=ue}}function Ch(u,l,g,w){u=null;for(var O=l,F=!1;O!==null;){if(!F){if(O.flags&524288)F=!0;else if(O.flags&262144)break}if(O.tag===10){var ue=O.alternate;if(ue===null)throw Error(r(387));if(ue=ue.memoizedProps,ue!==null){var Ce=O.type;Wi(O.pendingProps.value,ue.value)||(u!==null?u.push(Ce):u=[Ce])}}else if(O===re.current){if(ue=O.alternate,ue===null)throw Error(r(387));ue.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(u!==null?u.push(Hh):u=[Hh])}O=O.return}u!==null&&rb(l,u,g,w),l.flags|=262144}function dy(u){for(u=u.firstContext;u!==null;){if(!Wi(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Gl(u){Kl=u,Ds=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Di(u){return wO(Kl,u)}function hy(u,l){return Kl===null&&Gl(u),wO(u,l)}function wO(u,l){var g=l._currentValue;if(l={context:l,memoizedValue:g,next:null},Ds===null){if(u===null)throw Error(r(308));Ds=l,u.dependencies={lanes:0,firstContext:l},u.flags|=524288}else Ds=Ds.next=l;return g}var Nu=!1;function ib(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ab(u,l){u=u.updateQueue,l.updateQueue===u&&(l.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Fu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ju(u,l,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,Or&2){var O=w.pending;return O===null?l.next=l:(l.next=O.next,O.next=l),w.pending=l,l=Ts(u),Gm(u,null,g),l}return Fl(u,w,l,g),Ts(u)}function Ah(u,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194176)!==0)){var w=l.lanes;w&=u.pendingLanes,g|=w,l.lanes=g,Jn(u,g)}}function ob(u,l){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var O=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var ue={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};F===null?O=F=ue:F=F.next=ue,g=g.next}while(g!==null);F===null?O=F=l:F=F.next=l}else O=F=l;g={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:w.shared,callbacks:w.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=l:u.next=l,g.lastBaseUpdate=l}var sb=!1;function Rh(){if(sb){var u=wf;if(u!==null)throw u}}function Ph(u,l,g,w){sb=!1;var O=u.updateQueue;Nu=!1;var F=O.firstBaseUpdate,ue=O.lastBaseUpdate,Ce=O.shared.pending;if(Ce!==null){O.shared.pending=null;var Ve=Ce,at=Ve.next;Ve.next=null,ue===null?F=at:ue.next=at,ue=Ve;var _t=u.alternate;_t!==null&&(_t=_t.updateQueue,Ce=_t.lastBaseUpdate,Ce!==ue&&(Ce===null?_t.firstBaseUpdate=at:Ce.next=at,_t.lastBaseUpdate=Ve))}if(F!==null){var Ct=O.baseState;ue=0,_t=at=Ve=null,Ce=F;do{var pt=Ce.lane&-536870913,vt=pt!==Ce.lane;if(vt?($n&pt)===pt:(w&pt)===pt){pt!==0&&pt===_f&&(sb=!0),_t!==null&&(_t=_t.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Zt=u,mn=Ce;pt=l;var kr=g;switch(mn.tag){case 1:if(Zt=mn.payload,typeof Zt=="function"){Ct=Zt.call(kr,Ct,pt);break e}Ct=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=mn.payload,pt=typeof Zt=="function"?Zt.call(kr,Ct,pt):Zt,pt==null)break e;Ct=q({},Ct,pt);break e;case 2:Nu=!0}}pt=Ce.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=O.callbacks,vt===null?O.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},_t===null?(at=_t=vt,Ve=Ct):_t=_t.next=vt,ue|=pt;if(Ce=Ce.next,Ce===null){if(Ce=O.shared.pending,Ce===null)break;vt=Ce,Ce=vt.next,vt.next=null,O.lastBaseUpdate=vt,O.shared.pending=null}}while(!0);_t===null&&(Ve=Ct),O.baseState=Ve,O.firstBaseUpdate=at,O.lastBaseUpdate=_t,F===null&&(O.shared.lanes=0),zu|=ue,u.lanes=ue,u.memoizedState=Ct}}function bO(u,l){if(typeof u!="function")throw Error(r(191,u));u.call(l)}function SO(u,l){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)bO(g[u],l)}function Oh(u,l){try{var g=l.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var O=w.next;g=O;do{if((g.tag&u)===u){w=void 0;var F=g.create,ue=g.inst;w=F(),ue.destroy=w}g=g.next}while(g!==O)}}catch(Ce){mr(l,l.return,Ce)}}function $u(u,l,g){try{var w=l.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var F=O.next;w=F;do{if((w.tag&u)===u){var ue=w.inst,Ce=ue.destroy;if(Ce!==void 0){ue.destroy=void 0,O=l;var Ve=g;try{Ce()}catch(at){mr(O,Ve,at)}}}w=w.next}while(w!==F)}}catch(at){mr(l,l.return,at)}}function xO(u){var l=u.updateQueue;if(l!==null){var g=u.stateNode;try{SO(l,g)}catch(w){mr(u,u.return,w)}}}function EO(u,l,g){g.props=Vl(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(w){mr(u,l,w)}}function Wl(u,l){try{var g=u.ref;if(g!==null){var w=u.stateNode;switch(u.tag){case 26:case 27:case 5:var O=w;break;default:O=w}typeof g=="function"?u.refCleanup=g(O):g.current=O}}catch(F){mr(u,l,F)}}function Oa(u,l){var g=u.ref,w=u.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(O){mr(u,l,O)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){mr(u,l,O)}else g.current=null}function TO(u){var l=u.type,g=u.memoizedProps,w=u.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(O){mr(u,u.return,O)}}function CO(u,l,g){try{var w=u.stateNode;IH(w,u.type,g,l),w[Et]=l}catch(O){mr(u,u.return,O)}}function AO(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function ub(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||AO(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function lb(u,l,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(u,l):g.insertBefore(u,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(u,g)):(l=g,l.appendChild(u)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=Ay));else if(w!==4&&w!==27&&(u=u.child,u!==null))for(lb(u,l,g),u=u.sibling;u!==null;)lb(u,l,g),u=u.sibling}function py(u,l,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,l?g.insertBefore(u,l):g.appendChild(u);else if(w!==4&&w!==27&&(u=u.child,u!==null))for(py(u,l,g),u=u.sibling;u!==null;)py(u,l,g),u=u.sibling}var Ns=!1,Mr=!1,cb=!1,RO=typeof WeakSet=="function"?WeakSet:Set,pi=null,PO=!1;function uH(u,l){if(u=u.containerInfo,jb=Dy,u=Il(u),Ml(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var O=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var ue=0,Ce=-1,Ve=-1,at=0,_t=0,Ct=u,pt=null;t:for(;;){for(var vt;Ct!==g||O!==0&&Ct.nodeType!==3||(Ce=ue+O),Ct!==F||w!==0&&Ct.nodeType!==3||(Ve=ue+w),Ct.nodeType===3&&(ue+=Ct.nodeValue.length),(vt=Ct.firstChild)!==null;)pt=Ct,Ct=vt;for(;;){if(Ct===u)break t;if(pt===g&&++at===O&&(Ce=ue),pt===F&&++_t===w&&(Ve=ue),(vt=Ct.nextSibling)!==null)break;Ct=pt,pt=Ct.parentNode}Ct=vt}g=Ce===-1||Ve===-1?null:{start:Ce,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for($b={focusedElem:u,selectionRange:g},Dy=!1,pi=l;pi!==null;)if(l=pi,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,pi=u;else for(;pi!==null;){switch(l=pi,F=l.alternate,u=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&F!==null){u=void 0,g=l,O=F.memoizedProps,F=F.memoizedState,w=g.stateNode;try{var Zt=Vl(g.type,O,g.elementType===g.type);u=w.getSnapshotBeforeUpdate(Zt,F),w.__reactInternalSnapshotBeforeUpdate=u}catch(mn){mr(g,g.return,mn)}}break;case 3:if(u&1024){if(u=l.stateNode.containerInfo,g=u.nodeType,g===9)zb(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":zb(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=l.sibling,u!==null){u.return=l.return,pi=u;break}pi=l.return}return Zt=PO,PO=!1,Zt}function OO(u,l,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:js(u,g),w&4&&Oh(5,g);break;case 1:if(js(u,g),w&4)if(u=g.stateNode,l===null)try{u.componentDidMount()}catch(Ce){mr(g,g.return,Ce)}else{var O=Vl(g.type,l.memoizedProps);l=l.memoizedState;try{u.componentDidUpdate(O,l,u.__reactInternalSnapshotBeforeUpdate)}catch(Ce){mr(g,g.return,Ce)}}w&64&&xO(g),w&512&&Wl(g,g.return);break;case 3:if(js(u,g),w&64&&(w=g.updateQueue,w!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{SO(w,u)}catch(Ce){mr(g,g.return,Ce)}}break;case 26:js(u,g),w&512&&Wl(g,g.return);break;case 27:case 5:js(u,g),l===null&&w&4&&TO(g),w&512&&Wl(g,g.return);break;case 12:js(u,g);break;case 13:js(u,g),w&4&&MO(u,g);break;case 22:if(O=g.memoizedState!==null||Ns,!O){l=l!==null&&l.memoizedState!==null||Mr;var F=Ns,ue=Mr;Ns=O,(Mr=l)&&!ue?Uu(u,g,(g.subtreeFlags&8772)!==0):js(u,g),Ns=F,Mr=ue}w&512&&(g.memoizedProps.mode==="manual"?Wl(g,g.return):Oa(g,g.return));break;default:js(u,g)}}function LO(u){var l=u.alternate;l!==null&&(u.alternate=null,LO(l)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(l=u.stateNode,l!==null&&Rn(l)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Jr=null,La=!1;function Fs(u,l,g){for(g=g.child;g!==null;)IO(u,l,g),g=g.sibling}function IO(u,l,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ke,g)}catch{}switch(g.tag){case 26:Mr||Oa(g,l),Fs(u,l,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Mr||Oa(g,l);var w=Jr,O=La;for(Jr=g.stateNode,Fs(u,l,g),g=g.stateNode,l=g.attributes;l.length;)g.removeAttributeNode(l[0]);Rn(g),Jr=w,La=O;break;case 5:Mr||Oa(g,l);case 6:O=Jr;var F=La;if(Jr=null,Fs(u,l,g),Jr=O,La=F,Jr!==null)if(La)try{u=Jr,w=g.stateNode,u.nodeType===8?u.parentNode.removeChild(w):u.removeChild(w)}catch(ue){mr(g,l,ue)}else try{Jr.removeChild(g.stateNode)}catch(ue){mr(g,l,ue)}break;case 18:Jr!==null&&(La?(l=Jr,g=g.stateNode,l.nodeType===8?qb(l.parentNode,g):l.nodeType===1&&qb(l,g),Wh(l)):qb(Jr,g.stateNode));break;case 4:w=Jr,O=La,Jr=g.stateNode.containerInfo,La=!0,Fs(u,l,g),Jr=w,La=O;break;case 0:case 11:case 14:case 15:Mr||$u(2,g,l),Mr||$u(4,g,l),Fs(u,l,g);break;case 1:Mr||(Oa(g,l),w=g.stateNode,typeof w.componentWillUnmount=="function"&&EO(g,l,w)),Fs(u,l,g);break;case 21:Fs(u,l,g);break;case 22:Mr||Oa(g,l),Mr=(w=Mr)||g.memoizedState!==null,Fs(u,l,g),Mr=w;break;default:Fs(u,l,g)}}function MO(u,l){if(l.memoizedState===null&&(u=l.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Wh(u)}catch(g){mr(l,l.return,g)}}function lH(u){switch(u.tag){case 13:case 19:var l=u.stateNode;return l===null&&(l=u.stateNode=new RO),l;case 22:return u=u.stateNode,l=u._retryCache,l===null&&(l=u._retryCache=new RO),l;default:throw Error(r(435,u.tag))}}function fb(u,l){var g=lH(u);l.forEach(function(w){var O=SH.bind(null,u,w);g.has(w)||(g.add(w),w.then(O,O))})}function eo(u,l){var g=l.deletions;if(g!==null)for(var w=0;w<g.length;w++){var O=g[w],F=u,ue=l,Ce=ue;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:Jr=Ce.stateNode,La=!1;break e;case 3:Jr=Ce.stateNode.containerInfo,La=!0;break e;case 4:Jr=Ce.stateNode.containerInfo,La=!0;break e}Ce=Ce.return}if(Jr===null)throw Error(r(160));IO(F,ue,O),Jr=null,La=!1,F=O.alternate,F!==null&&(F.return=null),O.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)DO(l,u),l=l.sibling}var wo=null;function DO(u,l){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:eo(l,u),to(u),w&4&&($u(3,u,u.return),Oh(3,u),$u(5,u,u.return));break;case 1:eo(l,u),to(u),w&512&&(Mr||g===null||Oa(g,g.return)),w&64&&Ns&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var O=wo;if(eo(l,u),to(u),w&512&&(Mr||g===null||Oa(g,g.return)),w&4){var F=g!==null?g.memoizedState:null;if(w=u.memoizedState,g===null)if(w===null)if(u.stateNode===null){e:{w=u.type,g=u.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":F=O.getElementsByTagName("title")[0],(!F||F[en]||F[it]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=O.createElement(w),O.head.insertBefore(F,O.querySelector("head > title"))),bi(F,w,g),F[it]=u,Bn(F),w=F;break e;case"link":var ue=TL("link","href",O).get(w+(g.href||""));if(ue){for(var Ce=0;Ce<ue.length;Ce++)if(F=ue[Ce],F.getAttribute("href")===(g.href==null?null:g.href)&&F.getAttribute("rel")===(g.rel==null?null:g.rel)&&F.getAttribute("title")===(g.title==null?null:g.title)&&F.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ue.splice(Ce,1);break t}}F=O.createElement(w),bi(F,w,g),O.head.appendChild(F);break;case"meta":if(ue=TL("meta","content",O).get(w+(g.content||""))){for(Ce=0;Ce<ue.length;Ce++)if(F=ue[Ce],F.getAttribute("content")===(g.content==null?null:""+g.content)&&F.getAttribute("name")===(g.name==null?null:g.name)&&F.getAttribute("property")===(g.property==null?null:g.property)&&F.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&F.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ue.splice(Ce,1);break t}}F=O.createElement(w),bi(F,w,g),O.head.appendChild(F);break;default:throw Error(r(468,w))}F[it]=u,Bn(F),w=F}u.stateNode=w}else CL(O,u.type,u.stateNode);else u.stateNode=EL(O,w,u.memoizedProps);else F!==w?(F===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):F.count--,w===null?CL(O,u.type,u.stateNode):EL(O,w,u.memoizedProps)):w===null&&u.stateNode!==null&&CO(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(w&4&&u.alternate===null){O=u.stateNode,F=u.memoizedProps;try{for(var Ve=O.firstChild;Ve;){var at=Ve.nextSibling,_t=Ve.nodeName;Ve[en]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||O.removeChild(Ve),Ve=at}for(var Ct=u.type,pt=O.attributes;pt.length;)O.removeAttributeNode(pt[0]);bi(O,Ct,F),O[it]=u,O[Et]=F}catch(Zt){mr(u,u.return,Zt)}}case 5:if(eo(l,u),to(u),w&512&&(Mr||g===null||Oa(g,g.return)),u.flags&32){O=u.stateNode;try{Ue(O,"")}catch(Zt){mr(u,u.return,Zt)}}w&4&&u.stateNode!=null&&(O=u.memoizedProps,CO(u,O,g!==null?g.memoizedProps:O)),w&1024&&(cb=!0);break;case 6:if(eo(l,u),to(u),w&4){if(u.stateNode===null)throw Error(r(162));w=u.memoizedProps,g=u.stateNode;try{g.nodeValue=w}catch(Zt){mr(u,u.return,Zt)}}break;case 3:if(Ly=null,O=wo,wo=Py(l.containerInfo),eo(l,u),wo=O,to(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Wh(l.containerInfo)}catch(Zt){mr(u,u.return,Zt)}cb&&(cb=!1,kO(u));break;case 4:w=wo,wo=Py(u.stateNode.containerInfo),eo(l,u),to(u),wo=w;break;case 12:eo(l,u),to(u);break;case 13:eo(l,u),to(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(wb=Ut()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,fb(u,w)));break;case 22:if(w&512&&(Mr||g===null||Oa(g,g.return)),Ve=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,_t=Ns,Ct=Mr,Ns=_t||Ve,Mr=Ct||at,eo(l,u),Mr=Ct,Ns=_t,to(u),l=u.stateNode,l._current=u,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,w&8192&&(l._visibility=Ve?l._visibility&-2:l._visibility|1,Ve&&(l=Ns||Mr,g===null||at||l||Ef(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,l=u;;){if(l.tag===5||l.tag===26||l.tag===27){if(g===null){at=g=l;try{if(O=at.stateNode,Ve)F=O.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{ue=at.stateNode,Ce=at.memoizedProps.style;var vt=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;ue.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Zt){mr(at,at.return,Zt)}}}else if(l.tag===6){if(g===null){at=l;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Zt){mr(at,at.return,Zt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===u)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;g===l&&(g=null),l=l.return}g===l&&(g=null),l.sibling.return=l.return,l=l.sibling}w&4&&(w=u.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,fb(u,g))));break;case 19:eo(l,u),to(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,fb(u,w)));break;case 21:break;default:eo(l,u),to(u)}}function to(u){var l=u.flags;if(l&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(AO(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 27:var O=w.stateNode,F=ub(u);py(u,F,O);break;case 5:var ue=w.stateNode;w.flags&32&&(Ue(ue,""),w.flags&=-33);var Ce=ub(u);py(u,Ce,ue);break;case 3:case 4:var Ve=w.stateNode.containerInfo,at=ub(u);lb(u,at,Ve);break;default:throw Error(r(161))}}}catch(_t){mr(u,u.return,_t)}u.flags&=-3}l&4096&&(u.flags&=-4097)}function kO(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var l=u;kO(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),u=u.sibling}}function js(u,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)OO(u,l.alternate,l),l=l.sibling}function Ef(u){for(u=u.child;u!==null;){var l=u;switch(l.tag){case 0:case 11:case 14:case 15:$u(4,l,l.return),Ef(l);break;case 1:Oa(l,l.return);var g=l.stateNode;typeof g.componentWillUnmount=="function"&&EO(l,l.return,g),Ef(l);break;case 26:case 27:case 5:Oa(l,l.return),Ef(l);break;case 22:Oa(l,l.return),l.memoizedState===null&&Ef(l);break;default:Ef(l)}u=u.sibling}}function Uu(u,l,g){for(g=g&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var w=l.alternate,O=u,F=l,ue=F.flags;switch(F.tag){case 0:case 11:case 15:Uu(O,F,g),Oh(4,F);break;case 1:if(Uu(O,F,g),w=F,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(at){mr(w,w.return,at)}if(w=F,O=w.updateQueue,O!==null){var Ce=w.stateNode;try{var Ve=O.shared.hiddenCallbacks;if(Ve!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ve.length;O++)bO(Ve[O],Ce)}catch(at){mr(w,w.return,at)}}g&&ue&64&&xO(F),Wl(F,F.return);break;case 26:case 27:case 5:Uu(O,F,g),g&&w===null&&ue&4&&TO(F),Wl(F,F.return);break;case 12:Uu(O,F,g);break;case 13:Uu(O,F,g),g&&ue&4&&MO(O,F);break;case 22:F.memoizedState===null&&Uu(O,F,g),Wl(F,F.return);break;default:Uu(O,F,g)}l=l.sibling}}function db(u,l){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&wh(g))}function hb(u,l){u=null,l.alternate!==null&&(u=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==u&&(l.refCount++,u!=null&&wh(u))}function Bu(u,l,g,w){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)NO(u,l,g,w),l=l.sibling}function NO(u,l,g,w){var O=l.flags;switch(l.tag){case 0:case 11:case 15:Bu(u,l,g,w),O&2048&&Oh(9,l);break;case 3:Bu(u,l,g,w),O&2048&&(u=null,l.alternate!==null&&(u=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==u&&(l.refCount++,u!=null&&wh(u)));break;case 12:if(O&2048){Bu(u,l,g,w),u=l.stateNode;try{var F=l.memoizedProps,ue=F.id,Ce=F.onPostCommit;typeof Ce=="function"&&Ce(ue,l.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){mr(l,l.return,Ve)}}else Bu(u,l,g,w);break;case 23:break;case 22:F=l.stateNode,l.memoizedState!==null?F._visibility&4?Bu(u,l,g,w):Lh(u,l):F._visibility&4?Bu(u,l,g,w):(F._visibility|=4,Tf(u,l,g,w,(l.subtreeFlags&10256)!==0)),O&2048&&db(l.alternate,l);break;case 24:Bu(u,l,g,w),O&2048&&hb(l.alternate,l);break;default:Bu(u,l,g,w)}}function Tf(u,l,g,w,O){for(O=O&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var F=u,ue=l,Ce=g,Ve=w,at=ue.flags;switch(ue.tag){case 0:case 11:case 15:Tf(F,ue,Ce,Ve,O),Oh(8,ue);break;case 23:break;case 22:var _t=ue.stateNode;ue.memoizedState!==null?_t._visibility&4?Tf(F,ue,Ce,Ve,O):Lh(F,ue):(_t._visibility|=4,Tf(F,ue,Ce,Ve,O)),O&&at&2048&&db(ue.alternate,ue);break;case 24:Tf(F,ue,Ce,Ve,O),O&&at&2048&&hb(ue.alternate,ue);break;default:Tf(F,ue,Ce,Ve,O)}l=l.sibling}}function Lh(u,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var g=u,w=l,O=w.flags;switch(w.tag){case 22:Lh(g,w),O&2048&&db(w.alternate,w);break;case 24:Lh(g,w),O&2048&&hb(w.alternate,w);break;default:Lh(g,w)}l=l.sibling}}var Ih=8192;function Cf(u){if(u.subtreeFlags&Ih)for(u=u.child;u!==null;)FO(u),u=u.sibling}function FO(u){switch(u.tag){case 26:Cf(u),u.flags&Ih&&u.memoizedState!==null&&JH(wo,u.memoizedState,u.memoizedProps);break;case 5:Cf(u);break;case 3:case 4:var l=wo;wo=Py(u.stateNode.containerInfo),Cf(u),wo=l;break;case 22:u.memoizedState===null&&(l=u.alternate,l!==null&&l.memoizedState!==null?(l=Ih,Ih=16777216,Cf(u),Ih=l):Cf(u));break;default:Cf(u)}}function jO(u){var l=u.alternate;if(l!==null&&(u=l.child,u!==null)){l.child=null;do l=u.sibling,u.sibling=null,u=l;while(u!==null)}}function Mh(u){var l=u.deletions;if(u.flags&16){if(l!==null)for(var g=0;g<l.length;g++){var w=l[g];pi=w,UO(w,u)}jO(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)$O(u),u=u.sibling}function $O(u){switch(u.tag){case 0:case 11:case 15:Mh(u),u.flags&2048&&$u(9,u,u.return);break;case 3:Mh(u);break;case 12:Mh(u);break;case 22:var l=u.stateNode;u.memoizedState!==null&&l._visibility&4&&(u.return===null||u.return.tag!==13)?(l._visibility&=-5,gy(u)):Mh(u);break;default:Mh(u)}}function gy(u){var l=u.deletions;if(u.flags&16){if(l!==null)for(var g=0;g<l.length;g++){var w=l[g];pi=w,UO(w,u)}jO(u)}for(u=u.child;u!==null;){switch(l=u,l.tag){case 0:case 11:case 15:$u(8,l,l.return),gy(l);break;case 22:g=l.stateNode,g._visibility&4&&(g._visibility&=-5,gy(l));break;default:gy(l)}u=u.sibling}}function UO(u,l){for(;pi!==null;){var g=pi;switch(g.tag){case 0:case 11:case 15:$u(8,g,l);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:wh(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,pi=w;else e:for(g=u;pi!==null;){w=pi;var O=w.sibling,F=w.return;if(LO(w),w===g){pi=null;break e}if(O!==null){O.return=F,pi=O;break e}pi=F}}}function cH(u,l,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(u,l,g,w){return new cH(u,l,g,w)}function pb(u){return u=u.prototype,!(!u||!u.isReactComponent)}function qu(u,l){var g=u.alternate;return g===null?(g=no(u.tag,l,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=l,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,l=u.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function BO(u,l){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=l,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,l=g.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),u}function my(u,l,g,w,O,F){var ue=0;if(w=u,typeof u=="function")pb(u)&&(ue=1);else if(typeof u=="string")ue=QH(u,g,ie.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case c:return Ql(g.children,O,F,l);case f:ue=8,O|=24;break;case h:return u=no(12,g,l,O|2),u.elementType=h,u.lanes=F,u;case b:return u=no(13,g,l,O),u.elementType=b,u.lanes=F,u;case S:return u=no(19,g,l,O),u.elementType=S,u.lanes=F,u;case A:return qO(g,O,F,l);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:ue=10;break e;case m:ue=9;break e;case _:ue=11;break e;case x:ue=14;break e;case E:ue=16,w=null;break e}ue=29,g=Error(r(130,u===null?"null":typeof u,"")),w=null}return l=no(ue,g,l,O),l.elementType=u,l.type=w,l.lanes=F,l}function Ql(u,l,g,w){return u=no(7,u,w,l),u.lanes=g,u}function qO(u,l,g,w){u=no(22,u,w,l),u.elementType=A,u.lanes=g;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var F=O._current;if(F===null)throw Error(r(456));if(!(O._pendingVisibility&2)){var ue=ha(F,2);ue!==null&&(O._pendingVisibility|=2,ea(ue,F,2))}},attach:function(){var F=O._current;if(F===null)throw Error(r(456));if(O._pendingVisibility&2){var ue=ha(F,2);ue!==null&&(O._pendingVisibility&=-3,ea(ue,F,2))}}};return u.stateNode=O,u}function gb(u,l,g){return u=no(6,u,null,l),u.lanes=g,u}function mb(u,l,g){return l=no(4,u.children!==null?u.children:[],u.key,l),l.lanes=g,l.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},l}function $s(u){u.flags|=4}function zO(u,l){if(l.type!=="stylesheet"||l.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!AL(l)){if(l=Xa.current,l!==null&&(($n&4194176)===$n?Go!==null:($n&62914560)!==$n&&!($n&536870912)||l!==Go))throw Ou=Vo,_i;u.flags|=8192}}function yy(u,l){l!==null&&(u.flags|=4),u.flags&16384&&(l=u.tag!==22?qe():536870912,u.lanes|=l,Rf|=l)}function Dh(u,l){if(!ve)switch(u.tailMode){case"hidden":l=u.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?l||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Pr(u){var l=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(l)for(var O=u.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags&31457280,w|=O.flags&31457280,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=w,u.childLanes=g,l}function fH(u,l,g){var w=l.pendingProps;switch(P(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(l),null;case 1:return Pr(l),null;case 3:return g=l.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),l.memoizedState.cache!==w&&(l.flags|=2048),ks(oi),he(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(gn(l)?$s(l):u===null||u.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ge!==null&&(Eb(Ge),Ge=null))),Pr(l),null;case 26:return g=l.memoizedState,u===null?($s(l),g!==null?(Pr(l),zO(l,g)):(Pr(l),l.flags&=-16777217)):g?g!==u.memoizedState?($s(l),Pr(l),zO(l,g)):(Pr(l),l.flags&=-16777217):(u.memoizedProps!==w&&$s(l),Pr(l),l.flags&=-16777217),null;case 27:He(l),g=$.current;var O=l.type;if(u!==null&&l.stateNode!=null)u.memoizedProps!==w&&$s(l);else{if(!w){if(l.stateNode===null)throw Error(r(166));return Pr(l),null}u=ie.current,gn(l)?jt(l):(u=_L(O,w,g),l.stateNode=u,$s(l))}return Pr(l),null;case 5:if(He(l),g=l.type,u!==null&&l.stateNode!=null)u.memoizedProps!==w&&$s(l);else{if(!w){if(l.stateNode===null)throw Error(r(166));return Pr(l),null}if(u=ie.current,gn(l))jt(l);else{switch(O=Ry($.current),u){case 1:u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=O.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?u.multiple=!0:w.size&&(u.size=w.size);break;default:u=typeof w.is=="string"?O.createElement(g,{is:w.is}):O.createElement(g)}}u[it]=l,u[Et]=w;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)u.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=u;e:switch(bi(u,g,w),g){case"button":case"input":case"select":case"textarea":u=!!w.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$s(l)}}return Pr(l),l.flags&=-16777217,null;case 6:if(u&&l.stateNode!=null)u.memoizedProps!==w&&$s(l);else{if(typeof w!="string"&&l.stateNode===null)throw Error(r(166));if(u=$.current,gn(l)){if(u=l.stateNode,g=l.memoizedProps,w=null,O=U,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}u[it]=l,u=!!(u.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||hL(u.nodeValue,g)),u||bt(l)}else u=Ry(u).createTextNode(w),u[it]=l,l.stateNode=u}return Pr(l),null;case 13:if(w=l.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(O=gn(l),w!==null&&w.dehydrated!==null){if(u===null){if(!O)throw Error(r(318));if(O=l.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[it]=l}else qr(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Pr(l),O=!1}else Ge!==null&&(Eb(Ge),Ge=null),O=!0;if(!O)return l.flags&256?(Ls(l),l):(Ls(l),null)}if(Ls(l),l.flags&128)return l.lanes=g,l;if(g=w!==null,u=u!==null&&u.memoizedState!==null,g){w=l.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var F=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(F=w.memoizedState.cachePool.pool),F!==O&&(w.flags|=2048)}return g!==u&&g&&(l.child.flags|=8192),yy(l,l.updateQueue),Pr(l),null;case 4:return he(),u===null&&kb(l.stateNode.containerInfo),Pr(l),null;case 10:return ks(l.type),Pr(l),null;case 19:if(Fe(ai),O=l.memoizedState,O===null)return Pr(l),null;if(w=(l.flags&128)!==0,F=O.rendering,F===null)if(w)Dh(O,!1);else{if(Dr!==0||u!==null&&u.flags&128)for(u=l.child;u!==null;){if(F=ey(u),F!==null){for(l.flags|=128,Dh(O,!1),u=F.updateQueue,l.updateQueue=u,yy(l,u),l.subtreeFlags=0,u=g,g=l.child;g!==null;)BO(g,u),g=g.sibling;return Xe(ai,ai.current&1|2),l.child}u=u.sibling}O.tail!==null&&Ut()>vy&&(l.flags|=128,w=!0,Dh(O,!1),l.lanes=4194304)}else{if(!w)if(u=ey(F),u!==null){if(l.flags|=128,w=!0,u=u.updateQueue,l.updateQueue=u,yy(l,u),Dh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!ve)return Pr(l),null}else 2*Ut()-O.renderingStartTime>vy&&g!==536870912&&(l.flags|=128,w=!0,Dh(O,!1),l.lanes=4194304);O.isBackwards?(F.sibling=l.child,l.child=F):(u=O.last,u!==null?u.sibling=F:l.child=F,O.last=F)}return O.tail!==null?(l=O.tail,O.rendering=l,O.tail=l.sibling,O.renderingStartTime=Ut(),l.sibling=null,u=ai.current,Xe(ai,w?u&1|2:u&1),l):(Pr(l),null);case 22:case 23:return Ls(l),xw(),w=l.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(l.flags|=8192):w&&(l.flags|=8192),w?g&536870912&&!(l.flags&128)&&(Pr(l),l.subtreeFlags&6&&(l.flags|=8192)):Pr(l),g=l.updateQueue,g!==null&&yy(l,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),w=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(w=l.memoizedState.cachePool.pool),w!==g&&(l.flags|=2048),u!==null&&Fe(Bl),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),ks(oi),Pr(l),null;case 25:return null}throw Error(r(156,l.tag))}function dH(u,l){switch(P(l),l.tag){case 1:return u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 3:return ks(oi),he(),u=l.flags,u&65536&&!(u&128)?(l.flags=u&-65537|128,l):null;case 26:case 27:case 5:return He(l),null;case 13:if(Ls(l),u=l.memoizedState,u!==null&&u.dehydrated!==null){if(l.alternate===null)throw Error(r(340));qr()}return u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 19:return Fe(ai),null;case 4:return he(),null;case 10:return ks(l.type),null;case 22:case 23:return Ls(l),xw(),u!==null&&Fe(Bl),u=l.flags,u&65536?(l.flags=u&-65537|128,l):null;case 24:return ks(oi),null;case 25:return null;default:return null}}function HO(u,l){switch(P(l),l.tag){case 3:ks(oi),he();break;case 26:case 27:case 5:He(l);break;case 4:he();break;case 13:Ls(l);break;case 19:Fe(ai);break;case 10:ks(l.type);break;case 22:case 23:Ls(l),xw(),u!==null&&Fe(Bl);break;case 24:ks(oi)}}var hH={getCacheForType:function(u){var l=Di(oi),g=l.data.get(u);return g===void 0&&(g=u(),l.data.set(u,g)),g}},pH=typeof WeakMap=="function"?WeakMap:Map,Or=0,_r=null,In=null,$n=0,wr=0,Ia=null,Us=!1,Af=!1,yb=!1,Bs=0,Dr=0,zu=0,Zl=0,vb=0,ro=0,Rf=0,kh=null,Qo=null,_b=!1,wb=0,vy=1/0,_y=null,Hu=null,wy=!1,Jl=null,Nh=0,bb=0,Sb=null,Fh=0,xb=null;function Ma(){if(Or&2&&$n!==0)return $n&-$n;if(Y.T!==null){var u=_f;return u!==0?u:Lb()}return Ee()}function VO(){ro===0&&(ro=!($n&536870912)||ve?Le():536870912);var u=Xa.current;return u!==null&&(u.flags|=32),ro}function ea(u,l,g){(u===_r&&wr===2||u.cancelPendingCommit!==null)&&(Pf(u,0),qs(u,$n,ro,!1)),xt(u,g),(!(Or&2)||u!==_r)&&(u===_r&&(!(Or&2)&&(Zl|=g),Dr===4&&qs(u,$n,ro,!1)),Zo(u))}function KO(u,l,g){if(Or&6)throw Error(r(327));var w=!g&&(l&60)===0&&(l&u.expiredLanes)===0||Ln(u,l),O=w?yH(u,l):Ab(u,l,!0),F=w;do{if(O===0){Af&&!w&&qs(u,l,0,!1);break}else if(O===6)qs(u,l,0,!Us);else{if(g=u.current.alternate,F&&!gH(g)){O=Ab(u,l,!1),F=!1;continue}if(O===2){if(F=l,u.errorRecoveryDisabledLanes&F)var ue=0;else ue=u.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){l=ue;e:{var Ce=u;O=kh;var Ve=Ce.current.memoizedState.isDehydrated;if(Ve&&(Pf(Ce,ue).flags|=256),ue=Ab(Ce,ue,!1),ue!==2){if(yb&&!Ve){Ce.errorRecoveryDisabledLanes|=F,Zl|=F,O=4;break e}F=Qo,Qo=O,F!==null&&Eb(F)}O=ue}if(F=!1,O!==2)continue}}if(O===1){Pf(u,0),qs(u,l,0,!0);break}e:{switch(w=u,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194176)===l){qs(w,l,ro,!Us);break e}break;case 2:Qo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(w.finishedWork=g,w.finishedLanes=l,(l&62914560)===l&&(F=wb+300-Ut(),10<F)){if(qs(w,l,ro,!Us),un(w,0)!==0)break e;w.timeoutHandle=mL(GO.bind(null,w,g,Qo,_y,_b,l,ro,Zl,Rf,Us,2,-0,0),F);break e}GO(w,g,Qo,_y,_b,l,ro,Zl,Rf,Us,0,-0,0)}}break}while(!0);Zo(u)}function Eb(u){Qo===null?Qo=u:Qo.push.apply(Qo,u)}function GO(u,l,g,w,O,F,ue,Ce,Ve,at,_t,Ct,pt){var vt=l.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(zh={stylesheets:null,count:0,unsuspend:ZH},FO(l),l=YH(),l!==null)){u.cancelPendingCommit=l(eL.bind(null,u,g,w,O,ue,Ce,Ve,1,Ct,pt)),qs(u,F,ue,!at);return}eL(u,g,w,O,ue,Ce,Ve,_t,Ct,pt)}function gH(u){for(var l=u;;){var g=l.tag;if((g===0||g===11||g===15)&&l.flags&16384&&(g=l.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var O=g[w],F=O.getSnapshot;O=O.value;try{if(!Wi(F(),O))return!1}catch{return!1}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===u)break;for(;l.sibling===null;){if(l.return===null||l.return===u)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function qs(u,l,g,w){l&=~vb,l&=~Zl,u.suspendedLanes|=l,u.pingedLanes&=~l,w&&(u.warmLanes|=l),w=u.expirationTimes;for(var O=l;0<O;){var F=31-Rt(O),ue=1<<F;w[F]=-1,O&=~ue}g!==0&&zn(u,g,l)}function by(){return Or&6?!0:(jh(0),!1)}function Tb(){if(In!==null){if(wr===0)var u=In.return;else u=In,Ds=Kl=null,Lw(u),Ps=null,vr=0,u=In;for(;u!==null;)HO(u.alternate,u),u=u.return;In=null}}function Pf(u,l){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,DH(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),Tb(),_r=u,In=g=qu(u.current,null),$n=l,wr=0,Ia=null,Us=!1,Af=Ln(u,l),yb=!1,Rf=ro=vb=Zl=zu=Dr=0,Qo=kh=null,_b=!1,l&8&&(l|=l&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=l;0<w;){var O=31-Rt(w),F=1<<O;l|=u[O],w&=~F}return Bs=l,da(),g}function WO(u,l){Tn=null,Y.H=Wo,l===di?(l=Zm(),wr=3):l===_i?(l=Zm(),wr=4):wr=l===sO?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ia=l,In===null&&(Dr=1,fy(u,Ji(l,u.current)))}function QO(){var u=Y.H;return Y.H=Wo,u===null?Wo:u}function ZO(){var u=Y.A;return Y.A=hH,u}function Cb(){Dr=4,Us||($n&4194176)!==$n&&Xa.current!==null||(Af=!0),!(zu&134217727)&&!(Zl&134217727)||_r===null||qs(_r,$n,ro,!1)}function Ab(u,l,g){var w=Or;Or|=2;var O=QO(),F=ZO();(_r!==u||$n!==l)&&(_y=null,Pf(u,l)),l=!1;var ue=Dr;e:do try{if(wr!==0&&In!==null){var Ce=In,Ve=Ia;switch(wr){case 8:Tb(),ue=6;break e;case 3:case 2:case 6:Xa.current===null&&(l=!0);var at=wr;if(wr=0,Ia=null,Of(u,Ce,Ve,at),g&&Af){ue=0;break e}break;default:at=wr,wr=0,Ia=null,Of(u,Ce,Ve,at)}}mH(),ue=Dr;break}catch(_t){WO(u,_t)}while(!0);return l&&u.shellSuspendCounter++,Ds=Kl=null,Or=w,Y.H=O,Y.A=F,In===null&&(_r=null,$n=0,da()),ue}function mH(){for(;In!==null;)JO(In)}function yH(u,l){var g=Or;Or|=2;var w=QO(),O=ZO();_r!==u||$n!==l?(_y=null,vy=Ut()+500,Pf(u,l)):Af=Ln(u,l);e:do try{if(wr!==0&&In!==null){l=In;var F=Ia;t:switch(wr){case 1:wr=0,Ia=null,Of(u,l,F,1);break;case 2:if(Wm(F)){wr=0,Ia=null,YO(l);break}l=function(){wr===2&&_r===u&&(wr=7),Zo(u)},F.then(l,l);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Wm(F)?(wr=0,Ia=null,YO(l)):(wr=0,Ia=null,Of(u,l,F,7));break;case 5:var ue=null;switch(In.tag){case 26:ue=In.memoizedState;case 5:case 27:var Ce=In;if(!ue||AL(ue)){wr=0,Ia=null;var Ve=Ce.sibling;if(Ve!==null)In=Ve;else{var at=Ce.return;at!==null?(In=at,Sy(at)):In=null}break t}}wr=0,Ia=null,Of(u,l,F,5);break;case 6:wr=0,Ia=null,Of(u,l,F,6);break;case 8:Tb(),Dr=6;break e;default:throw Error(r(462))}}vH();break}catch(_t){WO(u,_t)}while(!0);return Ds=Kl=null,Y.H=w,Y.A=O,Or=g,In!==null?0:(_r=null,$n=0,da(),Dr)}function vH(){for(;In!==null&&!nt();)JO(In)}function JO(u){var l=_O(u.alternate,u,Bs);u.memoizedProps=u.pendingProps,l===null?Sy(u):In=l}function YO(u){var l=u,g=l.alternate;switch(l.tag){case 15:case 0:l=hO(g,l,l.pendingProps,l.type,void 0,$n);break;case 11:l=hO(g,l,l.pendingProps,l.type.render,l.ref,$n);break;case 5:Lw(l);default:HO(g,l),l=In=BO(l,Bs),l=_O(g,l,Bs)}u.memoizedProps=u.pendingProps,l===null?Sy(u):In=l}function Of(u,l,g,w){Ds=Kl=null,Lw(l),Ps=null,vr=0;var O=l.return;try{if(oH(u,O,l,g,$n)){Dr=1,fy(u,Ji(g,u.current)),In=null;return}}catch(F){if(O!==null)throw In=O,F;Dr=1,fy(u,Ji(g,u.current)),In=null;return}l.flags&32768?(ve||w===1?u=!0:Af||$n&536870912?u=!1:(Us=u=!0,(w===2||w===3||w===6)&&(w=Xa.current,w!==null&&w.tag===13&&(w.flags|=16384))),XO(l,u)):Sy(l)}function Sy(u){var l=u;do{if(l.flags&32768){XO(l,Us);return}u=l.return;var g=fH(l.alternate,l,Bs);if(g!==null){In=g;return}if(l=l.sibling,l!==null){In=l;return}In=l=u}while(l!==null);Dr===0&&(Dr=5)}function XO(u,l){do{var g=dH(u.alternate,u);if(g!==null){g.flags&=32767,In=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!l&&(u=u.sibling,u!==null)){In=u;return}In=u=g}while(u!==null);Dr=6,In=null}function eL(u,l,g,w,O,F,ue,Ce,Ve,at){var _t=Y.T,Ct=J.p;try{J.p=2,Y.T=null,_H(u,l,g,w,Ct,O,F,ue,Ce,Ve,at)}finally{Y.T=_t,J.p=Ct}}function _H(u,l,g,w,O,F,ue,Ce){do Lf();while(Jl!==null);if(Or&6)throw Error(r(327));var Ve=u.finishedWork;if(w=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=vh,Lt(u,w,at,F,ue,Ce),u===_r&&(In=_r=null,$n=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||wy||(wy=!0,bb=at,Sb=g,xH(B,function(){return Lf(),null})),g=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||g?(g=Y.T,Y.T=null,F=J.p,J.p=2,ue=Or,Or|=4,uH(u,Ve),DO(Ve,u),df($b,u.containerInfo),Dy=!!jb,$b=jb=null,u.current=Ve,OO(u,Ve.alternate,Ve),gt(),Or=ue,J.p=F,Y.T=g):u.current=Ve,wy?(wy=!1,Jl=u,Nh=w):tL(u,at),at=u.pendingLanes,at===0&&(Hu=null),Ot(Ve.stateNode),Zo(u),l!==null)for(O=u.onRecoverableError,Ve=0;Ve<l.length;Ve++)at=l[Ve],O(at.value,{componentStack:at.stack});return Nh&3&&Lf(),at=u.pendingLanes,w&4194218&&at&42?u===xb?Fh++:(Fh=0,xb=u):Fh=0,jh(0),null}function tL(u,l){(u.pooledCacheLanes&=l)===0&&(l=u.pooledCache,l!=null&&(u.pooledCache=null,wh(l)))}function Lf(){if(Jl!==null){var u=Jl,l=bb;bb=0;var g=We(Nh),w=Y.T,O=J.p;try{if(J.p=32>g?32:g,Y.T=null,Jl===null)var F=!1;else{g=Sb,Sb=null;var ue=Jl,Ce=Nh;if(Jl=null,Nh=0,Or&6)throw Error(r(331));var Ve=Or;if(Or|=4,$O(ue.current),NO(ue,ue.current,Ce,g),Or=Ve,jh(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ke,ue)}catch{}F=!0}return F}finally{J.p=O,Y.T=w,tL(u,l)}}return!1}function nL(u,l,g){l=Ji(g,l),l=Vw(u.stateNode,l,2),u=ju(u,l,2),u!==null&&(xt(u,2),Zo(u))}function mr(u,l,g){if(u.tag===3)nL(u,u,g);else for(;l!==null;){if(l.tag===3){nL(l,u,g);break}else if(l.tag===1){var w=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Hu===null||!Hu.has(w))){u=Ji(g,u),g=aO(2),w=ju(l,g,2),w!==null&&(oO(g,w,l,u),xt(w,2),Zo(w));break}}l=l.return}}function Rb(u,l,g){var w=u.pingCache;if(w===null){w=u.pingCache=new pH;var O=new Set;w.set(l,O)}else O=w.get(l),O===void 0&&(O=new Set,w.set(l,O));O.has(g)||(yb=!0,O.add(g),u=wH.bind(null,u,l,g),l.then(u,u))}function wH(u,l,g){var w=u.pingCache;w!==null&&w.delete(l),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,_r===u&&($n&g)===g&&(Dr===4||Dr===3&&($n&62914560)===$n&&300>Ut()-wb?!(Or&2)&&Pf(u,0):vb|=g,Rf===$n&&(Rf=0)),Zo(u)}function rL(u,l){l===0&&(l=qe()),u=ha(u,l),u!==null&&(xt(u,l),Zo(u))}function bH(u){var l=u.memoizedState,g=0;l!==null&&(g=l.retryLane),rL(u,g)}function SH(u,l){var g=0;switch(u.tag){case 13:var w=u.stateNode,O=u.memoizedState;O!==null&&(g=O.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(l),rL(u,g)}function xH(u,l){return Ne(u,l)}var xy=null,If=null,Pb=!1,Ey=!1,Ob=!1,Yl=0;function Zo(u){u!==If&&u.next===null&&(If===null?xy=If=u:If=If.next=u),Ey=!0,Pb||(Pb=!0,TH(EH))}function jh(u,l){if(!Ob&&Ey){Ob=!0;do for(var g=!1,w=xy;w!==null;){if(u!==0){var O=w.pendingLanes;if(O===0)var F=0;else{var ue=w.suspendedLanes,Ce=w.pingedLanes;F=(1<<31-Rt(42|u)+1)-1,F&=O&~(ue&~Ce),F=F&201326677?F&201326677|1:F?F|2:0}F!==0&&(g=!0,oL(w,F))}else F=$n,F=un(w,w===_r?F:0),!(F&3)||Ln(w,F)||(g=!0,oL(w,F));w=w.next}while(g);Ob=!1}}function EH(){Ey=Pb=!1;var u=0;Yl!==0&&(MH()&&(u=Yl),Yl=0);for(var l=Ut(),g=null,w=xy;w!==null;){var O=w.next,F=iL(w,l);F===0?(w.next=null,g===null?xy=O:g.next=O,O===null&&(If=g)):(g=w,(u!==0||F&3)&&(Ey=!0)),w=O}jh(u)}function iL(u,l){for(var g=u.suspendedLanes,w=u.pingedLanes,O=u.expirationTimes,F=u.pendingLanes&-62914561;0<F;){var ue=31-Rt(F),Ce=1<<ue,Ve=O[ue];Ve===-1?(!(Ce&g)||Ce&w)&&(O[ue]=or(Ce,l)):Ve<=l&&(u.expiredLanes|=Ce),F&=~Ce}if(l=_r,g=$n,g=un(u,u===l?g:0),w=u.callbackNode,g===0||u===l&&wr===2||u.cancelPendingCommit!==null)return w!==null&&w!==null&&tt(w),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||Ln(u,g)){if(l=g&-g,l===u.callbackPriority)return l;switch(w!==null&&tt(w),We(g)){case 2:case 8:g=X;break;case 32:g=B;break;case 268435456:g=V;break;default:g=B}return w=aL.bind(null,u),g=Ne(g,w),u.callbackPriority=l,u.callbackNode=g,l}return w!==null&&w!==null&&tt(w),u.callbackPriority=2,u.callbackNode=null,2}function aL(u,l){var g=u.callbackNode;if(Lf()&&u.callbackNode!==g)return null;var w=$n;return w=un(u,u===_r?w:0),w===0?null:(KO(u,w,l),iL(u,Ut()),u.callbackNode!=null&&u.callbackNode===g?aL.bind(null,u):null)}function oL(u,l){if(Lf())return null;KO(u,l,!0)}function TH(u){kH(function(){Or&6?Ne(Be,u):u()})}function Lb(){return Yl===0&&(Yl=Le()),Yl}function sL(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:kt(""+u)}function uL(u,l){var g=l.ownerDocument.createElement("input");return g.name=l.name,g.value=l.value,u.id&&g.setAttribute("form",u.id),l.parentNode.insertBefore(g,l),u=new FormData(u),g.parentNode.removeChild(g),u}function CH(u,l,g,w,O){if(l==="submit"&&g&&g.stateNode===O){var F=sL((O[Et]||null).action),ue=w.submitter;ue&&(l=(l=ue[Et]||null)?sL(l.formAction):ue.getAttribute("formAction"),l!==null&&(F=l,ue=null));var Ce=new Ga("action","action",null,w,O);u.push({event:Ce,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Yl!==0){var Ve=ue?uL(O,ue):new FormData(O);Uw(g,{pending:!0,data:Ve,method:O.method,action:F},null,Ve)}}else typeof F=="function"&&(Ce.preventDefault(),Ve=ue?uL(O,ue):new FormData(O),Uw(g,{pending:!0,data:Ve,method:O.method,action:F},F,Ve))},currentTarget:O}]})}}for(var Ib=0;Ib<Km.length;Ib++){var Mb=Km[Ib],AH=Mb.toLowerCase(),RH=Mb[0].toUpperCase()+Mb.slice(1);fi(AH,"on"+RH)}fi(Pa,"onAnimationEnd"),fi(Nl,"onAnimationIteration"),fi(zm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(hf,"onTransitionRun"),fi(bw,"onTransitionStart"),fi(Hm,"onTransitionCancel"),fi(Vm,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($h));function lL(u,l){l=(l&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],O=w.event;w=w.listeners;e:{var F=void 0;if(l)for(var ue=w.length-1;0<=ue;ue--){var Ce=w[ue],Ve=Ce.instance,at=Ce.currentTarget;if(Ce=Ce.listener,Ve!==F&&O.isPropagationStopped())break e;F=Ce,O.currentTarget=at;try{F(O)}catch(_t){cy(_t)}O.currentTarget=null,F=Ve}else for(ue=0;ue<w.length;ue++){if(Ce=w[ue],Ve=Ce.instance,at=Ce.currentTarget,Ce=Ce.listener,Ve!==F&&O.isPropagationStopped())break e;F=Ce,O.currentTarget=at;try{F(O)}catch(_t){cy(_t)}O.currentTarget=null,F=Ve}}}}function kn(u,l){var g=l[Vt];g===void 0&&(g=l[Vt]=new Set);var w=u+"__bubble";g.has(w)||(cL(l,u,2,!1),g.add(w))}function Db(u,l,g){var w=0;l&&(w|=4),cL(g,u,w,l)}var Ty="_reactListening"+Math.random().toString(36).slice(2);function kb(u){if(!u[Ty]){u[Ty]=!0,Tr.forEach(function(g){g!=="selectionchange"&&(PH.has(g)||Db(g,!1,u),Db(g,!0,u))});var l=u.nodeType===9?u:u.ownerDocument;l===null||l[Ty]||(l[Ty]=!0,Db("selectionchange",!1,l))}}function cL(u,l,g,w){switch(ML(l)){case 2:var O=t7;break;case 8:O=n7;break;default:O=Wb}g=O.bind(null,l,g,u),O=void 0,!pr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(O=!0),w?O!==void 0?u.addEventListener(l,g,{capture:!0,passive:O}):u.addEventListener(l,g,!0):O!==void 0?u.addEventListener(l,g,{passive:O}):u.addEventListener(l,g,!1)}function Nb(u,l,g,w,O){var F=w;if(!(l&1)&&!(l&2)&&w!==null)e:for(;;){if(w===null)return;var ue=w.tag;if(ue===3||ue===4){var Ce=w.stateNode.containerInfo;if(Ce===O||Ce.nodeType===8&&Ce.parentNode===O)break;if(ue===4)for(ue=w.return;ue!==null;){var Ve=ue.tag;if((Ve===3||Ve===4)&&(Ve=ue.stateNode.containerInfo,Ve===O||Ve.nodeType===8&&Ve.parentNode===O))return;ue=ue.return}for(;Ce!==null;){if(ue=Kt(Ce),ue===null)return;if(Ve=ue.tag,Ve===5||Ve===6||Ve===26||Ve===27){w=F=ue;continue e}Ce=Ce.parentNode}}w=w.return}hn(function(){var at=F,_t=qn(g),Ct=[];e:{var pt=Ru.get(u);if(pt!==void 0){var vt=Ga,Zt=u;switch(u){case"keypress":if(nr(g)===0)break e;case"keydown":case"keyup":vt=hw;break;case"focusin":Zt="focus",vt=Qa;break;case"focusout":Zt="blur",vt=Qa;break;case"beforeblur":case"afterblur":vt=Qa;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=gw;break;case Pa:case Nl:case zm:vt=Rl;break;case Vm:vt=mw;break;case"scroll":case"scrollend":vt=wu;break;case"wheel":vt=Nm;break;case"copy":case"cut":case"paste":vt=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=uh;break;case"toggle":case"beforetoggle":vt=vs}var mn=(l&4)!==0,kr=!mn&&(u==="scroll"||u==="scrollend"),ct=mn?pt!==null?pt+"Capture":null:pt;mn=[];for(var rt=at,ht;rt!==null;){var St=rt;if(ht=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ht===null||ct===null||(St=Yn(rt,ct),St!=null&&mn.push(Uh(rt,St,ht))),kr)break;rt=rt.return}0<mn.length&&(pt=new vt(pt,Zt,null,g,_t),Ct.push({event:pt,listeners:mn}))}}if(!(l&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==zt&&(Zt=g.relatedTarget||g.fromElement)&&(Kt(Zt)||Zt[It]))break e;if((vt||pt)&&(pt=_t.window===_t?_t:(pt=_t.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Zt=g.relatedTarget||g.toElement,vt=at,Zt=Zt?Kt(Zt):null,Zt!==null&&(kr=le(Zt),mn=Zt.tag,Zt!==kr||mn!==5&&mn!==27&&mn!==6)&&(Zt=null)):(vt=null,Zt=at),vt!==Zt)){if(mn=Mi,St="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(mn=uh,St="onPointerLeave",ct="onPointerEnter",rt="pointer"),kr=vt==null?pt:xn(vt),ht=Zt==null?pt:xn(Zt),pt=new mn(St,rt+"leave",vt,g,_t),pt.target=kr,pt.relatedTarget=ht,St=null,Kt(_t)===at&&(mn=new mn(ct,rt+"enter",Zt,g,_t),mn.target=ht,mn.relatedTarget=kr,St=mn),kr=St,vt&&Zt)t:{for(mn=vt,ct=Zt,rt=0,ht=mn;ht;ht=Mf(ht))rt++;for(ht=0,St=ct;St;St=Mf(St))ht++;for(;0<rt-ht;)mn=Mf(mn),rt--;for(;0<ht-rt;)ct=Mf(ct),ht--;for(;rt--;){if(mn===ct||ct!==null&&mn===ct.alternate)break t;mn=Mf(mn),ct=Mf(ct)}mn=null}else mn=null;vt!==null&&fL(Ct,pt,vt,mn,!1),Zt!==null&&kr!==null&&fL(Ct,kr,Zt,mn,!0)}}e:{if(pt=at?xn(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Ht=xu;else if(ws(pt))if(fh)Ht=ww;else{Ht=_w;var Pn=hh}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&Ft(at.elementType)&&(Ht=xu):Ht=vo;if(Ht&&(Ht=Ht(u,at))){Bm(Ct,Ht,g,_t);break e}Pn&&Pn(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(Pn=at?xn(at):window,u){case"focusin":(ws(Pn)||Pn.contentEditable==="true")&&(_o=Pn,Dl=at,Au=null);break;case"focusout":Au=Dl=_o=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,kl(Ct,g,_t);break;case"selectionchange":if(Cu)break;case"keydown":case"keyup":kl(Ct,g,_t)}var Xt;if(_s)e:{switch(u){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else bu?lf(u,g)&&(an="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(an="onCompositionStart");an&&(ch&&g.locale!=="ko"&&(bu||an!=="onCompositionStart"?an==="onCompositionEnd"&&bu&&(Xt=ca()):(sr=_t,vi="value"in sr?sr.value:sr.textContent,bu=!0)),Pn=Cy(at,an),0<Pn.length&&(an=new Ki(an,u,null,g,_t),Ct.push({event:an,listeners:Pn}),Xt?an.data=Xt:(Xt=$m(g),Xt!==null&&(an.data=Xt)))),(Xt=Fm?Um(u,g):vw(u,g))&&(an=Cy(at,"onBeforeInput"),0<an.length&&(Pn=new Ki("onBeforeInput","beforeinput",null,g,_t),Ct.push({event:Pn,listeners:an}),Pn.data=Xt)),CH(Ct,u,at,g,_t)}lL(Ct,l)})}function Uh(u,l,g){return{instance:u,listener:l,currentTarget:g}}function Cy(u,l){for(var g=l+"Capture",w=[];u!==null;){var O=u,F=O.stateNode;O=O.tag,O!==5&&O!==26&&O!==27||F===null||(O=Yn(u,g),O!=null&&w.unshift(Uh(u,O,F)),O=Yn(u,l),O!=null&&w.push(Uh(u,O,F))),u=u.return}return w}function Mf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function fL(u,l,g,w,O){for(var F=l._reactName,ue=[];g!==null&&g!==w;){var Ce=g,Ve=Ce.alternate,at=Ce.stateNode;if(Ce=Ce.tag,Ve!==null&&Ve===w)break;Ce!==5&&Ce!==26&&Ce!==27||at===null||(Ve=at,O?(at=Yn(g,F),at!=null&&ue.unshift(Uh(g,at,Ve))):O||(at=Yn(g,F),at!=null&&ue.push(Uh(g,at,Ve)))),g=g.return}ue.length!==0&&u.push({event:l,listeners:ue})}var OH=/\r\n?/g,LH=/\u0000|\uFFFD/g;function dL(u){return(typeof u=="string"?u:""+u).replace(OH,`
`).replace(LH,"")}function hL(u,l){return l=dL(l),dL(u)===l}function Ay(){}function fr(u,l,g,w,O,F){switch(g){case"children":typeof w=="string"?l==="body"||l==="textarea"&&w===""||Ue(u,w):(typeof w=="number"||typeof w=="bigint")&&l!=="body"&&Ue(u,""+w);break;case"className":N(u,"class",w);break;case"tabIndex":N(u,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,w);break;case"style":mt(u,w,F);break;case"data":if(l!=="object"){N(u,"data",w);break}case"src":case"href":if(w===""&&(l!=="a"||g!=="href")){u.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=kt(""+w),u.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(g==="formAction"?(l!=="input"&&fr(u,l,"name",O.name,O,null),fr(u,l,"formEncType",O.formEncType,O,null),fr(u,l,"formMethod",O.formMethod,O,null),fr(u,l,"formTarget",O.formTarget,O,null)):(fr(u,l,"encType",O.encType,O,null),fr(u,l,"method",O.method,O,null),fr(u,l,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=kt(""+w),u.setAttribute(g,w);break;case"onClick":w!=null&&(u.onclick=Ay);break;case"onScroll":w!=null&&kn("scroll",u);break;case"onScrollEnd":w!=null&&kn("scrollend",u);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":u.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){u.removeAttribute("xlink:href");break}g=kt(""+w),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""+w):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":w===!0?u.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,w):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?u.setAttribute(g,w):u.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?u.removeAttribute(g):u.setAttribute(g,w);break;case"popover":kn("beforetoggle",u),kn("toggle",u),R(u,"popover",w);break;case"xlinkActuate":G(u,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":G(u,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":G(u,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":G(u,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":G(u,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":G(u,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":G(u,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":G(u,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":G(u,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":R(u,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tt.get(g)||g,R(u,g,w))}}function Fb(u,l,g,w,O,F){switch(g){case"style":mt(u,w,F);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof w=="string"?Ue(u,w):(typeof w=="number"||typeof w=="bigint")&&Ue(u,""+w);break;case"onScroll":w!=null&&kn("scroll",u);break;case"onScrollEnd":w!=null&&kn("scrollend",u);break;case"onClick":w!=null&&(u.onclick=Ay);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),l=g.slice(2,O?g.length-7:void 0),F=u[Et]||null,F=F!=null?F[g]:null,typeof F=="function"&&u.removeEventListener(l,F,O),typeof w=="function")){typeof F!="function"&&F!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(l,w,O);break e}g in u?u[g]=w:w===!0?u.setAttribute(g,""):R(u,g,w)}}}function bi(u,l,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",u),kn("load",u);var w=!1,O=!1,F;for(F in g)if(g.hasOwnProperty(F)){var ue=g[F];if(ue!=null)switch(F){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:fr(u,l,F,ue,g,null)}}O&&fr(u,l,"srcSet",g.srcSet,g,null),w&&fr(u,l,"src",g.src,g,null);return;case"input":kn("invalid",u);var Ce=F=ue=O=null,Ve=null,at=null;for(w in g)if(g.hasOwnProperty(w)){var _t=g[w];if(_t!=null)switch(w){case"name":O=_t;break;case"type":ue=_t;break;case"checked":Ve=_t;break;case"defaultChecked":at=_t;break;case"value":F=_t;break;case"defaultValue":Ce=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,l));break;default:fr(u,l,w,_t,g,null)}}ot(u,F,Ce,Ve,at,ue,O,!1),xe(u);return;case"select":kn("invalid",u),w=ue=F=null;for(O in g)if(g.hasOwnProperty(O)&&(Ce=g[O],Ce!=null))switch(O){case"value":F=Ce;break;case"defaultValue":ue=Ce;break;case"multiple":w=Ce;default:fr(u,l,O,Ce,g,null)}l=F,g=ue,u.multiple=!!w,l!=null?ut(u,!!w,l,!1):g!=null&&ut(u,!!w,g,!0);return;case"textarea":kn("invalid",u),F=O=w=null;for(ue in g)if(g.hasOwnProperty(ue)&&(Ce=g[ue],Ce!=null))switch(ue){case"value":w=Ce;break;case"defaultValue":O=Ce;break;case"children":F=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(91));break;default:fr(u,l,ue,Ce,g,null)}De(u,w,O,F),xe(u);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(w=g[Ve],w!=null))switch(Ve){case"selected":u.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:fr(u,l,Ve,w,g,null)}return;case"dialog":kn("cancel",u),kn("close",u);break;case"iframe":case"object":kn("load",u);break;case"video":case"audio":for(w=0;w<$h.length;w++)kn($h[w],u);break;case"image":kn("error",u),kn("load",u);break;case"details":kn("toggle",u);break;case"embed":case"source":case"link":kn("error",u),kn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(w=g[at],w!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:fr(u,l,at,w,g,null)}return;default:if(Ft(l)){for(_t in g)g.hasOwnProperty(_t)&&(w=g[_t],w!==void 0&&Fb(u,l,_t,w,g,void 0));return}}for(Ce in g)g.hasOwnProperty(Ce)&&(w=g[Ce],w!=null&&fr(u,l,Ce,w,g,null))}function IH(u,l,g,w){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,F=null,ue=null,Ce=null,Ve=null,at=null,_t=null;for(vt in g){var Ct=g[vt];if(g.hasOwnProperty(vt)&&Ct!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=Ct;default:w.hasOwnProperty(vt)||fr(u,l,vt,null,w,Ct)}}for(var pt in w){var vt=w[pt];if(Ct=g[pt],w.hasOwnProperty(pt)&&(vt!=null||Ct!=null))switch(pt){case"type":F=vt;break;case"name":O=vt;break;case"checked":at=vt;break;case"defaultChecked":_t=vt;break;case"value":ue=vt;break;case"defaultValue":Ce=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,l));break;default:vt!==Ct&&fr(u,l,pt,vt,w,Ct)}}Ye(u,ue,Ce,Ve,at,_t,F,O);return;case"select":vt=ue=Ce=pt=null;for(F in g)if(Ve=g[F],g.hasOwnProperty(F)&&Ve!=null)switch(F){case"value":break;case"multiple":vt=Ve;default:w.hasOwnProperty(F)||fr(u,l,F,null,w,Ve)}for(O in w)if(F=w[O],Ve=g[O],w.hasOwnProperty(O)&&(F!=null||Ve!=null))switch(O){case"value":pt=F;break;case"defaultValue":Ce=F;break;case"multiple":ue=F;default:F!==Ve&&fr(u,l,O,F,w,Ve)}l=Ce,g=ue,w=vt,pt!=null?ut(u,!!g,pt,!1):!!w!=!!g&&(l!=null?ut(u,!!g,l,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Ce in g)if(O=g[Ce],g.hasOwnProperty(Ce)&&O!=null&&!w.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:fr(u,l,Ce,null,w,O)}for(ue in w)if(O=w[ue],F=g[ue],w.hasOwnProperty(ue)&&(O!=null||F!=null))switch(ue){case"value":pt=O;break;case"defaultValue":vt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==F&&fr(u,l,ue,O,w,F)}we(u,pt,vt);return;case"option":for(var Zt in g)if(pt=g[Zt],g.hasOwnProperty(Zt)&&pt!=null&&!w.hasOwnProperty(Zt))switch(Zt){case"selected":u.selected=!1;break;default:fr(u,l,Zt,null,w,pt)}for(Ve in w)if(pt=w[Ve],vt=g[Ve],w.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:fr(u,l,Ve,pt,w,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in g)pt=g[mn],g.hasOwnProperty(mn)&&pt!=null&&!w.hasOwnProperty(mn)&&fr(u,l,mn,null,w,pt);for(at in w)if(pt=w[at],vt=g[at],w.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,l));break;default:fr(u,l,at,pt,w,vt)}return;default:if(Ft(l)){for(var kr in g)pt=g[kr],g.hasOwnProperty(kr)&&pt!==void 0&&!w.hasOwnProperty(kr)&&Fb(u,l,kr,void 0,w,pt);for(_t in w)pt=w[_t],vt=g[_t],!w.hasOwnProperty(_t)||pt===vt||pt===void 0&&vt===void 0||Fb(u,l,_t,pt,w,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!w.hasOwnProperty(ct)&&fr(u,l,ct,null,w,pt);for(Ct in w)pt=w[Ct],vt=g[Ct],!w.hasOwnProperty(Ct)||pt===vt||pt==null&&vt==null||fr(u,l,Ct,pt,w,vt)}var jb=null,$b=null;function Ry(u){return u.nodeType===9?u:u.ownerDocument}function pL(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gL(u,l){if(u===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&l==="foreignObject"?0:u}function Ub(u,l){return u==="textarea"||u==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Bb=null;function MH(){var u=window.event;return u&&u.type==="popstate"?u===Bb?!1:(Bb=u,!0):(Bb=null,!1)}var mL=typeof setTimeout=="function"?setTimeout:void 0,DH=typeof clearTimeout=="function"?clearTimeout:void 0,yL=typeof Promise=="function"?Promise:void 0,kH=typeof queueMicrotask=="function"?queueMicrotask:typeof yL<"u"?function(u){return yL.resolve(null).then(u).catch(NH)}:mL;function NH(u){setTimeout(function(){throw u})}function qb(u,l){var g=l,w=0;do{var O=g.nextSibling;if(u.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(w===0){u.removeChild(O),Wh(l);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=O}while(g);Wh(l)}function zb(u){var l=u.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var g=l;switch(l=l.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":zb(g),Rn(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function FH(u,l,g,w){for(;u.nodeType===1;){var O=g;if(u.nodeName.toLowerCase()!==l.toLowerCase()){if(!w&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(w){if(!u[en])switch(l){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(F=u.getAttribute("rel"),F==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(F!==O.rel||u.getAttribute("href")!==(O.href==null?null:O.href)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||u.getAttribute("title")!==(O.title==null?null:O.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(F=u.getAttribute("src"),(F!==(O.src==null?null:O.src)||u.getAttribute("type")!==(O.type==null?null:O.type)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&F&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(l==="input"&&u.type==="hidden"){var F=O.name==null?null:""+O.name;if(O.type==="hidden"&&u.getAttribute("name")===F)return u}else return u;if(u=bo(u.nextSibling),u===null)break}return null}function jH(u,l,g){if(l==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=bo(u.nextSibling),u===null))return null;return u}function bo(u){for(;u!=null;u=u.nextSibling){var l=u.nodeType;if(l===1||l===3)break;if(l===8){if(l=u.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return u}function vL(u){u=u.previousSibling;for(var l=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return u;l--}else g==="/$"&&l++}u=u.previousSibling}return null}function _L(u,l,g){switch(l=Ry(g),u){case"html":if(u=l.documentElement,!u)throw Error(r(452));return u;case"head":if(u=l.head,!u)throw Error(r(453));return u;case"body":if(u=l.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var io=new Map,wL=new Set;function Py(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var zs=J.d;J.d={f:$H,r:UH,D:BH,C:qH,L:zH,m:HH,X:KH,S:VH,M:GH};function $H(){var u=zs.f(),l=by();return u||l}function UH(u){var l=Qt(u);l!==null&&l.tag===5&&l.type==="form"?GP(l):zs.r(u)}var Df=typeof document>"u"?null:document;function bL(u,l,g){var w=Df;if(w&&typeof l=="string"&&l){var O=ze(l);O='link[rel="'+u+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),wL.has(O)||(wL.add(O),u={rel:u,crossOrigin:g,href:l},w.querySelector(O)===null&&(l=w.createElement("link"),bi(l,"link",u),Bn(l),w.head.appendChild(l)))}}function BH(u){zs.D(u),bL("dns-prefetch",u,null)}function qH(u,l){zs.C(u,l),bL("preconnect",u,l)}function zH(u,l,g){zs.L(u,l,g);var w=Df;if(w&&u&&l){var O='link[rel="preload"][as="'+ze(l)+'"]';l==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+ze(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+ze(g.imageSizes)+'"]')):O+='[href="'+ze(u)+'"]';var F=O;switch(l){case"style":F=kf(u);break;case"script":F=Nf(u)}io.has(F)||(u=q({rel:"preload",href:l==="image"&&g&&g.imageSrcSet?void 0:u,as:l},g),io.set(F,u),w.querySelector(O)!==null||l==="style"&&w.querySelector(Bh(F))||l==="script"&&w.querySelector(qh(F))||(l=w.createElement("link"),bi(l,"link",u),Bn(l),w.head.appendChild(l)))}}function HH(u,l){zs.m(u,l);var g=Df;if(g&&u){var w=l&&typeof l.as=="string"?l.as:"script",O='link[rel="modulepreload"][as="'+ze(w)+'"][href="'+ze(u)+'"]',F=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Nf(u)}if(!io.has(F)&&(u=q({rel:"modulepreload",href:u},l),io.set(F,u),g.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(qh(F)))return}w=g.createElement("link"),bi(w,"link",u),Bn(w),g.head.appendChild(w)}}}function VH(u,l,g){zs.S(u,l,g);var w=Df;if(w&&u){var O=En(w).hoistableStyles,F=kf(u);l=l||"default";var ue=O.get(F);if(!ue){var Ce={loading:0,preload:null};if(ue=w.querySelector(Bh(F)))Ce.loading=5;else{u=q({rel:"stylesheet",href:u,"data-precedence":l},g),(g=io.get(F))&&Hb(u,g);var Ve=ue=w.createElement("link");Bn(Ve),bi(Ve,"link",u),Ve._p=new Promise(function(at,_t){Ve.onload=at,Ve.onerror=_t}),Ve.addEventListener("load",function(){Ce.loading|=1}),Ve.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,Oy(ue,l,w)}ue={type:"stylesheet",instance:ue,count:1,state:Ce},O.set(F,ue)}}}function KH(u,l){zs.X(u,l);var g=Df;if(g&&u){var w=En(g).hoistableScripts,O=Nf(u),F=w.get(O);F||(F=g.querySelector(qh(O)),F||(u=q({src:u,async:!0},l),(l=io.get(O))&&Vb(u,l),F=g.createElement("script"),Bn(F),bi(F,"link",u),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(O,F))}}function GH(u,l){zs.M(u,l);var g=Df;if(g&&u){var w=En(g).hoistableScripts,O=Nf(u),F=w.get(O);F||(F=g.querySelector(qh(O)),F||(u=q({src:u,async:!0,type:"module"},l),(l=io.get(O))&&Vb(u,l),F=g.createElement("script"),Bn(F),bi(F,"link",u),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(O,F))}}function SL(u,l,g,w){var O=(O=$.current)?Py(O):null;if(!O)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(l=kf(g.href),g=En(O).hoistableStyles,w=g.get(l),w||(w={type:"style",instance:null,count:0,state:null},g.set(l,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=kf(g.href);var F=En(O).hoistableStyles,ue=F.get(u);if(ue||(O=O.ownerDocument||O,ue={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(u,ue),(F=O.querySelector(Bh(u)))&&!F._p&&(ue.instance=F,ue.state.loading=5),io.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},io.set(u,g),F||WH(O,u,g,ue.state))),l&&w===null)throw Error(r(528,""));return ue}if(l&&w!==null)throw Error(r(529,""));return null;case"script":return l=g.async,g=g.src,typeof g=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Nf(g),g=En(O).hoistableScripts,w=g.get(l),w||(w={type:"script",instance:null,count:0,state:null},g.set(l,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function kf(u){return'href="'+ze(u)+'"'}function Bh(u){return'link[rel="stylesheet"]['+u+"]"}function xL(u){return q({},u,{"data-precedence":u.precedence,precedence:null})}function WH(u,l,g,w){u.querySelector('link[rel="preload"][as="style"]['+l+"]")?w.loading=1:(l=u.createElement("link"),w.preload=l,l.addEventListener("load",function(){return w.loading|=1}),l.addEventListener("error",function(){return w.loading|=2}),bi(l,"link",g),Bn(l),u.head.appendChild(l))}function Nf(u){return'[src="'+ze(u)+'"]'}function qh(u){return"script[async]"+u}function EL(u,l,g){if(l.count++,l.instance===null)switch(l.type){case"style":var w=u.querySelector('style[data-href~="'+ze(g.href)+'"]');if(w)return l.instance=w,Bn(w),w;var O=q({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement("style"),Bn(w),bi(w,"style",O),Oy(w,g.precedence,u),l.instance=w;case"stylesheet":O=kf(g.href);var F=u.querySelector(Bh(O));if(F)return l.state.loading|=4,l.instance=F,Bn(F),F;w=xL(g),(O=io.get(O))&&Hb(w,O),F=(u.ownerDocument||u).createElement("link"),Bn(F);var ue=F;return ue._p=new Promise(function(Ce,Ve){ue.onload=Ce,ue.onerror=Ve}),bi(F,"link",w),l.state.loading|=4,Oy(F,g.precedence,u),l.instance=F;case"script":return F=Nf(g.src),(O=u.querySelector(qh(F)))?(l.instance=O,Bn(O),O):(w=g,(O=io.get(F))&&(w=q({},g),Vb(w,O)),u=u.ownerDocument||u,O=u.createElement("script"),Bn(O),bi(O,"link",w),u.head.appendChild(O),l.instance=O);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(w=l.instance,l.state.loading|=4,Oy(w,g.precedence,u));return l.instance}function Oy(u,l,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,F=O,ue=0;ue<w.length;ue++){var Ce=w[ue];if(Ce.dataset.precedence===l)F=Ce;else if(F!==O)break}F?F.parentNode.insertBefore(u,F.nextSibling):(l=g.nodeType===9?g.head:g,l.insertBefore(u,l.firstChild))}function Hb(u,l){u.crossOrigin==null&&(u.crossOrigin=l.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=l.referrerPolicy),u.title==null&&(u.title=l.title)}function Vb(u,l){u.crossOrigin==null&&(u.crossOrigin=l.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=l.referrerPolicy),u.integrity==null&&(u.integrity=l.integrity)}var Ly=null;function TL(u,l,g){if(Ly===null){var w=new Map,O=Ly=new Map;O.set(g,w)}else O=Ly,w=O.get(g),w||(w=new Map,O.set(g,w));if(w.has(u))return w;for(w.set(u,null),g=g.getElementsByTagName(u),O=0;O<g.length;O++){var F=g[O];if(!(F[en]||F[it]||u==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var ue=F.getAttribute(l)||"";ue=u+ue;var Ce=w.get(ue);Ce?Ce.push(F):w.set(ue,[F])}}return w}function CL(u,l,g){u=u.ownerDocument||u,u.head.insertBefore(g,l==="title"?u.querySelector("head > title"):null)}function QH(u,l,g){if(g===1||l.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return u=l.disabled,typeof l.precedence=="string"&&u==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function AL(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var zh=null;function ZH(){}function JH(u,l,g){if(zh===null)throw Error(r(475));var w=zh;if(l.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var O=kf(g.href),F=u.querySelector(Bh(O));if(F){u=F._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(w.count++,w=Iy.bind(w),u.then(w,w)),l.state.loading|=4,l.instance=F,Bn(F);return}F=u.ownerDocument||u,g=xL(g),(O=io.get(O))&&Hb(g,O),F=F.createElement("link"),Bn(F);var ue=F;ue._p=new Promise(function(Ce,Ve){ue.onload=Ce,ue.onerror=Ve}),bi(F,"link",g),l.instance=F}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(l,u),(u=l.state.preload)&&!(l.state.loading&3)&&(w.count++,l=Iy.bind(w),u.addEventListener("load",l),u.addEventListener("error",l))}}function YH(){if(zh===null)throw Error(r(475));var u=zh;return u.stylesheets&&u.count===0&&Kb(u,u.stylesheets),0<u.count?function(l){var g=setTimeout(function(){if(u.stylesheets&&Kb(u,u.stylesheets),u.unsuspend){var w=u.unsuspend;u.unsuspend=null,w()}},6e4);return u.unsuspend=l,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Iy(){if(this.count--,this.count===0){if(this.stylesheets)Kb(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var My=null;function Kb(u,l){u.stylesheets=null,u.unsuspend!==null&&(u.count++,My=new Map,l.forEach(XH,u),My=null,Iy.call(u))}function XH(u,l){if(!(l.state.loading&4)){var g=My.get(u);if(g)var w=g.get(null);else{g=new Map,My.set(u,g);for(var O=u.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<O.length;F++){var ue=O[F];(ue.nodeName==="LINK"||ue.getAttribute("media")!=="not all")&&(g.set(ue.dataset.precedence,ue),w=ue)}w&&g.set(null,w)}O=l.instance,ue=O.getAttribute("data-precedence"),F=g.get(ue)||w,F===w&&g.set(null,O),g.set(ue,O),this.count++,w=Iy.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),F?F.parentNode.insertBefore(O,F.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(O,u.firstChild)),l.state.loading|=4}}var Hh={$$typeof:y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function e7(u,l,g,w,O,F,ue,Ce){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=F,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function RL(u,l,g,w,O,F,ue,Ce,Ve,at,_t,Ct){return u=new e7(u,l,g,ue,Ce,Ve,at,Ct),l=1,F===!0&&(l|=24),F=no(3,null,null,l),u.current=F,F.stateNode=u,l=Ew(),l.refCount++,u.pooledCache=l,l.refCount++,F.memoizedState={element:w,isDehydrated:g,cache:l},ib(F),u}function PL(u){return u?(u=Za,u):Za}function OL(u,l,g,w,O,F){O=PL(O),w.context===null?w.context=O:w.pendingContext=O,w=Fu(l),w.payload={element:g},F=F===void 0?null:F,F!==null&&(w.callback=F),g=ju(u,w,l),g!==null&&(ea(g,u,l),Ah(g,u,l))}function LL(u,l){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<l?g:l}}function Gb(u,l){LL(u,l),(u=u.alternate)&&LL(u,l)}function IL(u){if(u.tag===13){var l=ha(u,67108864);l!==null&&ea(l,u,67108864),Gb(u,67108864)}}var Dy=!0;function t7(u,l,g,w){var O=Y.T;Y.T=null;var F=J.p;try{J.p=2,Wb(u,l,g,w)}finally{J.p=F,Y.T=O}}function n7(u,l,g,w){var O=Y.T;Y.T=null;var F=J.p;try{J.p=8,Wb(u,l,g,w)}finally{J.p=F,Y.T=O}}function Wb(u,l,g,w){if(Dy){var O=Qb(w);if(O===null)Nb(u,l,w,ky,g),DL(u,w);else if(i7(O,u,l,g,w))w.stopPropagation();else if(DL(u,w),l&4&&-1<r7.indexOf(u)){for(;O!==null;){var F=Qt(O);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var ue=sn(F.pendingLanes);if(ue!==0){var Ce=F;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;ue;){var Ve=1<<31-Rt(ue);Ce.entanglements[1]|=Ve,ue&=~Ve}Zo(F),!(Or&6)&&(vy=Ut()+500,jh(0))}}break;case 13:Ce=ha(F,2),Ce!==null&&ea(Ce,F,2),by(),Gb(F,2)}if(F=Qb(w),F===null&&Nb(u,l,w,ky,g),F===O)break;O=F}O!==null&&w.stopPropagation()}else Nb(u,l,w,null,g)}}function Qb(u){return u=qn(u),Zb(u)}var ky=null;function Zb(u){if(ky=null,u=Kt(u),u!==null){var l=le(u);if(l===null)u=null;else{var g=l.tag;if(g===13){if(u=Oe(l),u!==null)return u;u=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;u=null}else l!==u&&(u=null)}}return ky=u,null}function ML(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case X:return 8;case B:case K:return 32;case V:return 268435456;default:return 32}default:return 32}}var Jb=!1,Vu=null,Ku=null,Gu=null,Vh=new Map,Kh=new Map,Wu=[],r7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DL(u,l){switch(u){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Gu=null;break;case"pointerover":case"pointerout":Vh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kh.delete(l.pointerId)}}function Gh(u,l,g,w,O,F){return u===null||u.nativeEvent!==F?(u={blockedOn:l,domEventName:g,eventSystemFlags:w,nativeEvent:F,targetContainers:[O]},l!==null&&(l=Qt(l),l!==null&&IL(l)),u):(u.eventSystemFlags|=w,l=u.targetContainers,O!==null&&l.indexOf(O)===-1&&l.push(O),u)}function i7(u,l,g,w,O){switch(l){case"focusin":return Vu=Gh(Vu,u,l,g,w,O),!0;case"dragenter":return Ku=Gh(Ku,u,l,g,w,O),!0;case"mouseover":return Gu=Gh(Gu,u,l,g,w,O),!0;case"pointerover":var F=O.pointerId;return Vh.set(F,Gh(Vh.get(F)||null,u,l,g,w,O)),!0;case"gotpointercapture":return F=O.pointerId,Kh.set(F,Gh(Kh.get(F)||null,u,l,g,w,O)),!0}return!1}function kL(u){var l=Kt(u.target);if(l!==null){var g=le(l);if(g!==null){if(l=g.tag,l===13){if(l=Oe(g),l!==null){u.blockedOn=l,et(u.priority,function(){if(g.tag===13){var w=Ma(),O=ha(g,w);O!==null&&ea(O,g,w),Gb(g,w)}});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ny(u){if(u.blockedOn!==null)return!1;for(var l=u.targetContainers;0<l.length;){var g=Qb(u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);zt=w,g.target.dispatchEvent(w),zt=null}else return l=Qt(g),l!==null&&IL(l),u.blockedOn=g,!1;l.shift()}return!0}function NL(u,l,g){Ny(u)&&g.delete(l)}function a7(){Jb=!1,Vu!==null&&Ny(Vu)&&(Vu=null),Ku!==null&&Ny(Ku)&&(Ku=null),Gu!==null&&Ny(Gu)&&(Gu=null),Vh.forEach(NL),Kh.forEach(NL)}function Fy(u,l){u.blockedOn===l&&(u.blockedOn=null,Jb||(Jb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a7)))}var jy=null;function FL(u){jy!==u&&(jy=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jy===u&&(jy=null);for(var l=0;l<u.length;l+=3){var g=u[l],w=u[l+1],O=u[l+2];if(typeof w!="function"){if(Zb(w||g)===null)continue;break}var F=Qt(g);F!==null&&(u.splice(l,3),l-=3,Uw(F,{pending:!0,data:O,method:g.method,action:w},w,O))}}))}function Wh(u){function l(Ve){return Fy(Ve,u)}Vu!==null&&Fy(Vu,u),Ku!==null&&Fy(Ku,u),Gu!==null&&Fy(Gu,u),Vh.forEach(l),Kh.forEach(l);for(var g=0;g<Wu.length;g++){var w=Wu[g];w.blockedOn===u&&(w.blockedOn=null)}for(;0<Wu.length&&(g=Wu[0],g.blockedOn===null);)kL(g),g.blockedOn===null&&Wu.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var O=g[w],F=g[w+1],ue=O[Et]||null;if(typeof F=="function")ue||FL(g);else if(ue){var Ce=null;if(F&&F.hasAttribute("formAction")){if(O=F,ue=F[Et]||null)Ce=ue.formAction;else if(Zb(O)!==null)continue}else Ce=ue.action;typeof Ce=="function"?g[w+1]=Ce:(g.splice(w,3),w-=3),FL(g)}}}function Yb(u){this._internalRoot=u}$y.prototype.render=Yb.prototype.render=function(u){var l=this._internalRoot;if(l===null)throw Error(r(409));var g=l.current,w=Ma();OL(g,w,u,l,null,null)},$y.prototype.unmount=Yb.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var l=u.containerInfo;u.tag===0&&Lf(),OL(u.current,2,null,u,null,null),by(),l[It]=null}};function $y(u){this._internalRoot=u}$y.prototype.unstable_scheduleHydration=function(u){if(u){var l=Ee();u={blockedOn:null,target:u,priority:l};for(var g=0;g<Wu.length&&l!==0&&l<Wu[g].priority;g++);Wu.splice(g,0,u),g===0&&kL(u)}};var jL=e.version;if(jL!=="19.0.0")throw Error(r(527,jL,"19.0.0"));J.findDOMNode=function(u){var l=u._reactInternals;if(l===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ne(l),u=u!==null?me(u):null,u=u===null?null:u.stateNode,u};var o7={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:Kt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uy.isDisabled&&Uy.supportsFiber)try{ke=Uy.inject(o7),At=Uy}catch{}}return Zh.createRoot=function(u,l){if(!i(u))throw Error(r(299));var g=!1,w="",O=tO,F=nO,ue=rO,Ce=null;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onUncaughtError!==void 0&&(O=l.onUncaughtError),l.onCaughtError!==void 0&&(F=l.onCaughtError),l.onRecoverableError!==void 0&&(ue=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Ce=l.unstable_transitionCallbacks)),l=RL(u,1,!1,null,null,g,w,O,F,ue,Ce,null),u[It]=l.current,kb(u.nodeType===8?u.parentNode:u),new Yb(l)},Zh.hydrateRoot=function(u,l,g){if(!i(u))throw Error(r(299));var w=!1,O="",F=tO,ue=nO,Ce=rO,Ve=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(F=g.onUncaughtError),g.onCaughtError!==void 0&&(ue=g.onCaughtError),g.onRecoverableError!==void 0&&(Ce=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ve=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),l=RL(u,1,!0,l,g??null,w,O,F,ue,Ce,Ve,at),l.context=PL(null),g=l.current,w=Ma(),O=Fu(w),O.callback=null,ju(g,O,w),l.current.lanes=w,xt(l,w),Zo(l),u[It]=l.current,kb(u),new $y(l)},Zh.version="19.0.0",Zh}var iI;function q7(){if(iI)return i1.exports;iI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),i1.exports=B7(),i1.exports}var z7=q7(),u1={exports:{}},l1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function H7(){if(aI)return l1;aI=1;var t=Nd();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,s=t.useDebugValue;return l1.useSyncExternalStoreWithSelector=function(c,f,h,p,m){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=o(function(){function S(M){if(!x){if(x=!0,E=M,M=p(M),m!==void 0&&_.hasValue){var D=_.value;if(m(D,M))return A=D}return A=M}if(D=A,n(E,M))return D;var j=p(M);return m!==void 0&&m(D,j)?(E=M,D):(E=M,A=j)}var x=!1,E,A,I=h===void 0?null:h;return[function(){return S(f())},I===null?void 0:function(){return S(I())}]},[f,h,p,m]);var b=r(c,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=b},[b]),s(b),b},l1}var oI;function V7(){return oI||(oI=1,u1.exports=H7()),u1.exports}var K7=V7();function G7(t){t()}function W7(){let t=null,e=null;return{clear(){t=null,e=null},notify(){G7(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var sI={notify(){},get:()=>[]};function Q7(t,e){let n,r=sI,i=0,a=!1;function o(b){h();const S=r.subscribe(b);let x=!1;return()=>{x||(x=!0,S(),p())}}function s(){r.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(c),r=W7())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sI)}function m(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const _={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:f,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return _}var Z7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J7=Z7(),Y7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",X7=Y7(),eV=()=>J7||X7?ae.useLayoutEffect:ae.useEffect,tV=eV(),c1=Symbol.for("react-redux-context"),f1=typeof globalThis<"u"?globalThis:{};function nV(){if(!ae.createContext)return{};const t=f1[c1]??(f1[c1]=new Map);let e=t.get(ae.createContext);return e||(e=ae.createContext(null),t.set(ae.createContext,e)),e}var vl=nV();function rV(t){const{children:e,context:n,serverState:r,store:i}=t,a=ae.useMemo(()=>{const c=Q7(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=ae.useMemo(()=>i.getState(),[i]);tV(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=n||vl;return ae.createElement(s.Provider,{value:a},e)}var iV=rV;function yA(t=vl){return function(){return ae.useContext(t)}}var C5=yA();function A5(t=vl){const e=t===vl?C5:yA(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var aV=A5();function oV(t=vl){const e=t===vl?aV:A5(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var sV=oV(),uV=(t,e)=>t===e;function lV(t=vl){const e=t===vl?C5:yA(t),n=(r,i={})=>{const{equalityFn:a=uV}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:s,subscription:c,getServerState:f}=o;ae.useRef(!0);const h=ae.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=K7.useSyncExternalStoreWithSelector(c.addNestedSub,s.getState,f||s.getState,h,a);return ae.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var cV=lV();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wn.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const uI="popstate";function fV(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return kg("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hs(i)}return hV(e,n,null,t)}function _n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dV(){return Math.random().toString(36).substr(2,8)}function lI(t,e){return{usr:t.state,key:t.key,idx:e}}function kg(t,e,n,r){return n===void 0&&(n=null),Wn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fu(e):e,{state:n,key:e&&e.key||r||dV()})}function hs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Xr.Pop,c=null,f=h();f==null&&(f=0,o.replaceState(Wn({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function p(){s=Xr.Pop;let S=h(),x=S==null?null:S-f;f=S,c&&c({action:s,location:b.location,delta:x})}function m(S,x){s=Xr.Push;let E=kg(b.location,S,x);f=h()+1;let A=lI(E,f),I=b.createHref(E);try{o.pushState(A,"",I)}catch{i.location.assign(I)}a&&c&&c({action:s,location:b.location,delta:1})}function y(S,x){s=Xr.Replace;let E=kg(b.location,S,x);f=h();let A=lI(E,f),I=b.createHref(E);o.replaceState(A,"",I),a&&c&&c({action:s,location:b.location,delta:0})}function _(S){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:hs(S);return _n(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let b={get action(){return s},get location(){return t(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(uI,p),c=S,()=>{i.removeEventListener(uI,p),c=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(S){return o.go(S)}};return b}var Pi;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pi||(Pi={}));function pV(t){return t.index===!0}function R5(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,i)=>{let a=[...e,i],o=typeof r.id=="string"?r.id:a.join("-");return _n(r.index!==!0||!r.children,"Cannot specify children on an index route"),_n(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),pV(r)?Wn({},r,{id:o}):Wn({},r,{id:o,children:r.children?R5(r.children,a,n):void 0})})}function fg(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?fu(e):e,i=L5(r.pathname||"/",n);if(i==null)return null;let a=P5(t);gV(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=EV(a[s],AV(i));return o}function P5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(_n(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=ru([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(_n(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),P5(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:SV(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of O5(a.path))i(a,o,c)}),e}function O5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=O5(r.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function gV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mV=/^:\w+$/,yV=3,vV=2,_V=1,wV=10,bV=-2,cI=t=>t==="*";function SV(t,e){let n=t.split("/"),r=n.length;return n.some(cI)&&(r+=bV),e&&(r+=vV),n.filter(i=>!cI(i)).reduce((i,a)=>i+(mV.test(a)?yV:a===""?_V:wV),r)}function xV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EV(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],c=o===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=TV({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},f);if(!h)return null;Object.assign(r,h.params);let p=s.route;a.push({params:r,pathname:ru([i,h.pathname]),pathnameBase:LV(ru([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ru([i,h.pathnameBase]))}return a}function TV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((f,h,p)=>{if(h==="*"){let m=s[p]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return f[h]=RV(s[p]||"",h),f},{}),pathname:a,pathnameBase:o,pattern:t}}function CV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ng(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AV(t){try{return decodeURI(t)}catch(e){return Ng(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function RV(t,e){try{return decodeURIComponent(t)}catch(n){return Ng(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function L5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ng(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fu(t):t;return{pathname:n?n.startsWith("/")?n:OV(n,e):e,search:IV(r),hash:MV(i)}}function OV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fu(t):(i=Wn({},t),_n(!i.pathname||!i.pathname.includes("?"),d1("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),d1("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),d1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}s=p>=0?e[p]:"/"}let c=PV(i,s),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const ru=t=>t.join("/").replace(/\/\/+/g,"/"),LV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class fI extends Error{}class DV{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_n(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let i=()=>r(new fI("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((a,o)=>{let[s,c]=o;return Object.assign(a,{[s]:this.trackPromise(s,c)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof fI?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _n(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:NV(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function kV(t){return t instanceof Promise&&t._tracked===!0}function NV(t){if(!kV(t))return t;if(t._error)throw t._error;return t._data}class _A{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function I5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M5=["post","put","patch","delete"],FV=new Set(M5),jV=["get",...M5],$V=new Set(jV),UV=new Set([301,302,303,307,308]),BV=new Set([307,308]),h1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},qV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},dI={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},D5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zV=!D5;function HV(t){_n(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=R5(t.routes),n=null,r=new Set,i=null,a=null,o=null,s=t.hydrationData!=null,c=fg(e,t.history.location,t.basename),f=null;if(c==null){let Se=tl(404,{pathname:t.history.location.pathname}),{matches:Be,route:X}=vI(e);c=Be,f={[X.id]:Se}}let h=!c.some(Se=>Se.route.loader)||t.hydrationData!=null,p,m={historyAction:t.history.action,location:t.history.location,matches:c,initialized:h,navigation:h1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},y=Xr.Pop,_=!1,b,S=!1,x=!1,E=[],A=[],I=new Map,M=0,D=-1,j=new Map,Q=new Set,Y=new Map,q=new Map,Z=null,fe=new Map,te=!1;function se(){return n=t.history.listen(Se=>{let{action:Be,location:X,delta:B}=Se;if(te){te=!1;return}Ng(Z!=null&&B===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ne({currentLocation:m.location,nextLocation:X,historyAction:Be});if(K&&B!=null){te=!0,t.history.go(B*-1),Te(K,{state:"blocked",location:X,proceed(){Te(K,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),t.history.go(B)},reset(){He(K),ce({blockers:new Map(p.state.blockers)})}});return}return ne(Be,X)}),m.initialized||ne(Xr.Pop,m.location),p}function pe(){n&&n(),r.clear(),b&&b.abort(),m.fetchers.forEach((Se,Be)=>z(Be)),m.blockers.forEach((Se,Be)=>He(Be))}function be(Se){return r.add(Se),()=>r.delete(Se)}function ce(Se){m=Wn({},m,Se),r.forEach(Be=>Be(m))}function le(Se,Be){var X,B;let K=m.actionData!=null&&m.navigation.formMethod!=null&&eu(m.navigation.formMethod)&&m.navigation.state==="loading"&&((X=Se.state)==null?void 0:X._isRedirect)!==!0,V;Be.actionData?Object.keys(Be.actionData).length>0?V=Be.actionData:V=null:K?V=m.actionData:V=null;let je=Be.loaderData?yI(m.loaderData,Be.loaderData,Be.matches||[],Be.errors):m.loaderData;for(let[ke]of fe)He(ke);let Ze=_===!0||m.navigation.formMethod!=null&&eu(m.navigation.formMethod)&&((B=Se.state)==null?void 0:B._isRedirect)!==!0;ce(Wn({},Be,{actionData:V,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:h1,revalidation:"idle",restoreScrollPosition:Ut(Se,Be.matches||m.matches),preventScrollReset:Ze,blockers:new Map(m.blockers)})),S||y===Xr.Pop||(y===Xr.Push?t.history.push(Se,Se.state):y===Xr.Replace&&t.history.replace(Se,Se.state)),y=Xr.Pop,_=!1,S=!1,x=!1,E=[],A=[]}async function Oe(Se,Be){if(typeof Se=="number"){t.history.go(Se);return}let{path:X,submission:B,error:K}=hI(Se,Be),V=m.location,je=kg(m.location,X,Be&&Be.state);je=Wn({},je,t.history.encodeLocation(je));let Ze=Be&&Be.replace!=null?Be.replace:void 0,ke=Xr.Push;Ze===!0?ke=Xr.Replace:Ze===!1||B!=null&&eu(B.formMethod)&&B.formAction===m.location.pathname+m.location.search&&(ke=Xr.Replace);let At=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,Ot=Ne({currentLocation:V,nextLocation:je,historyAction:ke});if(Ot){Te(Ot,{state:"blocked",location:je,proceed(){Te(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Oe(Se,Be)},reset(){He(Ot),ce({blockers:new Map(m.blockers)})}});return}return await ne(ke,je,{submission:B,pendingError:K,preventScrollReset:At,replace:Be&&Be.replace})}function k(){if(Xe(),ce({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ne(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ne(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ne(Se,Be,X){b&&b.abort(),b=null,y=Se,S=(X&&X.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),_=(X&&X.preventScrollReset)===!0;let B=X&&X.overrideNavigation,K=fg(e,Be,t.basename);if(!K){let Dt=tl(404,{pathname:Be.pathname}),{matches:Rt,route:Bt}=vI(e);tt(),le(Be,{matches:Rt,loaderData:{},errors:{[Bt.id]:Dt}});return}if(QV(m.location,Be)&&!(X&&X.submission&&eu(X.submission.formMethod))){le(Be,{matches:K});return}b=new AbortController;let V=Yh(t.history,Be,b.signal,X&&X.submission),je,Ze;if(X&&X.pendingError)Ze={[td(K).route.id]:X.pendingError};else if(X&&X.submission&&eu(X.submission.formMethod)){let Dt=await me(V,Be,X.submission,K,{replace:X.replace});if(Dt.shortCircuited)return;je=Dt.pendingActionData,Ze=Dt.pendingActionError,B=Wn({state:"loading",location:Be},X.submission),V=new Request(V.url,{signal:V.signal})}let{shortCircuited:ke,loaderData:At,errors:Ot}=await H(V,Be,K,B,X&&X.submission,X&&X.replace,je,Ze);ke||(b=null,le(Be,Wn({matches:K},je?{actionData:je}:{},{loaderData:At,errors:Ot})))}async function me(Se,Be,X,B,K){Xe();let V=Wn({state:"submitting",location:Be},X);ce({navigation:V});let je,Ze=SI(B,Be);if(!Ze.route.action)je={type:Pi.error,error:tl(405,{method:Se.method,pathname:Be.pathname,routeId:Ze.route.id})};else if(je=await Jh("action",Se,Ze,B,p.basename),Se.signal.aborted)return{shortCircuited:!0};if(ad(je)){let ke;return K.replace!=null?ke=K.replace:ke=je.location===m.location.pathname+m.location.search,await Re(m,je,{submission:X,replace:ke}),{shortCircuited:!0}}if(Tg(je)){let ke=td(B,Ze.route.id);return K.replace!==!0&&(y=Xr.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(Tc(je))throw tl(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:je.data}}}async function H(Se,Be,X,B,K,V,je,Ze){let ke=B;ke||(ke=Wn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K));let At=K||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[Ot,Dt]=pI(t.history,m,X,At,Be,x,E,A,je,Ze,Y);if(tt(un=>!(X&&X.some(Ln=>Ln.route.id===un))||Ot&&Ot.some(Ln=>Ln.route.id===un)),Ot.length===0&&Dt.length===0)return le(Be,Wn({matches:X,loaderData:{},errors:Ze||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!S){Dt.forEach(Ln=>{let or=m.fetchers.get(Ln.key),Le={state:"loading",data:or&&or.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Ln.key,Le)});let un=je||m.actionData;ce(Wn({navigation:ke},un?Object.keys(un).length===0?{actionData:null}:{actionData:un}:{},Dt.length>0?{fetchers:new Map(m.fetchers)}:{}))}D=++M,Dt.forEach(un=>I.set(un.key,b));let{results:Rt,loaderResults:Bt,fetcherResults:Er}=await Fe(m.matches,X,Ot,Dt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Dt.forEach(un=>I.delete(un.key));let fn=_I(Rt);if(fn)return await Re(m,fn,{replace:V}),{shortCircuited:!0};let{loaderData:dn,errors:hr}=mI(m,X,Ot,Bt,Ze,Dt,Er,q);q.forEach((un,Ln)=>{un.subscribe(or=>{(or||un.done)&&q.delete(Ln)})}),W();let sn=he(D);return Wn({loaderData:dn,errors:hr},sn||Dt.length>0?{fetchers:new Map(m.fetchers)}:{})}function J(Se){return m.fetchers.get(Se)||qV}function ge(Se,Be,X,B){if(zV)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(Se)&&$(Se);let K=fg(e,X,t.basename);if(!K){ie(Se,Be,tl(404,{pathname:X}));return}let{path:V,submission:je}=hI(X,B,!0),Ze=SI(K,V);if(_=(B&&B.preventScrollReset)===!0,je&&eu(je.formMethod)){Ae(Se,Be,V,Ze,K,je);return}Y.set(Se,{routeId:Be,path:V,match:Ze,matches:K}),Je(Se,Be,V,Ze,K,je)}async function Ae(Se,Be,X,B,K,V){if(Xe(),Y.delete(Se),!B.route.action){let Lt=tl(405,{method:V.formMethod,pathname:X,routeId:Be});ie(Se,Be,Lt);return}let je=m.fetchers.get(Se),Ze=Wn({state:"submitting"},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),ce({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=Yh(t.history,X,ke.signal,V);I.set(Se,ke);let Ot=await Jh("action",At,B,K,p.basename);if(At.signal.aborted){I.get(Se)===ke&&I.delete(Se);return}if(ad(Ot)){I.delete(Se),Q.add(Se);let Lt=Wn({state:"loading"},V,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,Lt),ce({fetchers:new Map(m.fetchers)}),Re(m,Ot,{isFetchActionRedirect:!0})}if(Tg(Ot)){ie(Se,Be,Ot.error);return}if(Tc(Ot))throw tl(400,{type:"defer-action"});let Dt=m.navigation.location||m.location,Rt=Yh(t.history,Dt,ke.signal),Bt=m.navigation.state!=="idle"?fg(e,m.navigation.location,t.basename):m.matches;_n(Bt,"Didn't find any matches after fetcher action");let Er=++M;j.set(Se,Er);let fn=Wn({state:"loading",data:Ot.data},V,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,fn);let[dn,hr]=pI(t.history,m,Bt,V,Dt,x,E,A,{[B.route.id]:Ot.data},void 0,Y);hr.filter(Lt=>Lt.key!==Se).forEach(Lt=>{let zn=Lt.key,Jn=m.fetchers.get(zn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(zn,We),I.set(zn,ke)}),ce({fetchers:new Map(m.fetchers)});let{results:sn,loaderResults:un,fetcherResults:Ln}=await Fe(m.matches,Bt,dn,hr,Rt);if(ke.signal.aborted)return;j.delete(Se),I.delete(Se),hr.forEach(Lt=>I.delete(Lt.key));let or=_I(sn);if(or)return Re(m,or);let{loaderData:Le,errors:qe}=mI(m,m.matches,dn,un,void 0,hr,Ln,q),wt={state:"idle",data:Ot.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,wt);let xt=he(Er);m.navigation.state==="loading"&&Er>D?(_n(y,"Expected pending action"),b&&b.abort(),le(m.navigation.location,{matches:Bt,loaderData:Le,errors:qe,fetchers:new Map(m.fetchers)})):(ce(Wn({errors:qe,loaderData:yI(m.loaderData,Le,Bt,qe)},xt?{fetchers:new Map(m.fetchers)}:{})),x=!1)}async function Je(Se,Be,X,B,K,V){let je=m.fetchers.get(Se),Ze=Wn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),ce({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=Yh(t.history,X,ke.signal);I.set(Se,ke);let Ot=await Jh("loader",At,B,K,p.basename);if(Tc(Ot)&&(Ot=await j5(Ot,At.signal,!0)||Ot),I.get(Se)===ke&&I.delete(Se),At.signal.aborted)return;if(ad(Ot)){await Re(m,Ot);return}if(Tg(Ot)){let Rt=td(m.matches,Be);m.fetchers.delete(Se),ce({fetchers:new Map(m.fetchers),errors:{[Rt.route.id]:Ot.error}});return}_n(!Tc(Ot),"Unhandled fetcher deferred data");let Dt={state:"idle",data:Ot.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,Dt),ce({fetchers:new Map(m.fetchers)})}async function Re(Se,Be,X){var B;let{submission:K,replace:V,isFetchActionRedirect:je}=X===void 0?{}:X;Be.revalidate&&(x=!0);let Ze=kg(Se.location,Be.location,Wn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(_n(Ze,"Expected a location on the redirect navigation"),D5&&typeof((B=window)==null?void 0:B.location)<"u"){let Bt=t.history.createURL(Be.location).origin;if(window.location.origin!==Bt){V?window.location.replace(Be.location):window.location.assign(Be.location);return}}b=null;let ke=V===!0?Xr.Replace:Xr.Push,{formMethod:At,formAction:Ot,formEncType:Dt,formData:Rt}=Se.navigation;!K&&At&&Ot&&Rt&&Dt&&(K={formMethod:At,formAction:Ot,formEncType:Dt,formData:Rt}),BV.has(Be.status)&&K&&eu(K.formMethod)?await ne(ke,Ze,{submission:Wn({},K,{formAction:Be.location}),preventScrollReset:_}):await ne(ke,Ze,{overrideNavigation:{state:"loading",location:Ze,formMethod:K?K.formMethod:void 0,formAction:K?K.formAction:void 0,formEncType:K?K.formEncType:void 0,formData:K?K.formData:void 0},preventScrollReset:_})}async function Fe(Se,Be,X,B,K){let V=await Promise.all([...X.map(ke=>Jh("loader",K,ke,Be,p.basename)),...B.map(ke=>Jh("loader",Yh(t.history,ke.path,K.signal),ke.match,ke.matches,p.basename))]),je=V.slice(0,X.length),Ze=V.slice(X.length);return await Promise.all([wI(Se,X,je,K.signal,!1,m.loaderData),wI(Se,B.map(ke=>ke.match),Ze,K.signal,!0)]),{results:V,loaderResults:je,fetcherResults:Ze}}function Xe(){x=!0,E.push(...tt()),Y.forEach((Se,Be)=>{I.has(Be)&&(A.push(Be),$(Be))})}function ie(Se,Be,X){let B=td(m.matches,Be);z(Se),ce({errors:{[B.route.id]:X},fetchers:new Map(m.fetchers)})}function z(Se){I.has(Se)&&$(Se),Y.delete(Se),j.delete(Se),Q.delete(Se),m.fetchers.delete(Se)}function $(Se){let Be=I.get(Se);_n(Be,"Expected fetch controller: "+Se),Be.abort(),I.delete(Se)}function re(Se){for(let Be of Se){let B={state:"idle",data:J(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Be,B)}}function W(){let Se=[];for(let Be of Q){let X=m.fetchers.get(Be);_n(X,"Expected fetcher: "+Be),X.state==="loading"&&(Q.delete(Be),Se.push(Be))}re(Se)}function he(Se){let Be=[];for(let[X,B]of j)if(B<Se){let K=m.fetchers.get(X);_n(K,"Expected fetcher: "+X),K.state==="loading"&&($(X),j.delete(X),Be.push(X))}return re(Be),Be.length>0}function ye(Se,Be){let X=m.blockers.get(Se)||dI;return fe.get(Se)!==Be&&(fe.set(Se,Be),Z==null?Z=Se:Se!==Z&&Ng(!1,"A router only supports one blocker at a time")),X}function He(Se){m.blockers.delete(Se),fe.delete(Se),Z===Se&&(Z=null)}function Te(Se,Be){let X=m.blockers.get(Se)||dI;_n(X.state==="unblocked"&&Be.state==="blocked"||X.state==="blocked"&&Be.state==="blocked"||X.state==="blocked"&&Be.state==="proceeding"||X.state==="blocked"&&Be.state==="unblocked"||X.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+Be.state),m.blockers.set(Se,Be),ce({blockers:new Map(m.blockers)})}function Ne(Se){let{currentLocation:Be,nextLocation:X,historyAction:B}=Se;if(Z==null)return;let K=fe.get(Z);_n(K,"Could not find a function for the active blocker");let V=m.blockers.get(Z);if(!(V&&V.state==="proceeding")&&K({currentLocation:Be,nextLocation:X,historyAction:B}))return Z}function tt(Se){let Be=[];return q.forEach((X,B)=>{(!Se||Se(B))&&(X.cancel(),Be.push(B),q.delete(B))}),Be}function nt(Se,Be,X){if(i=Se,o=Be,a=X||(B=>B.key),!s&&m.navigation===h1){s=!0;let B=Ut(m.location,m.matches);B!=null&&ce({restoreScrollPosition:B})}return()=>{i=null,o=null,a=null}}function gt(Se,Be){if(i&&a&&o){let X=Be.map(K=>bI(K,m.loaderData)),B=a(Se,X)||Se.key;i[B]=o()}}function Ut(Se,Be){if(i&&a&&o){let X=Be.map(V=>bI(V,m.loaderData)),B=a(Se,X)||Se.key,K=i[B];if(typeof K=="number")return K}return null}return p={get basename(){return t.basename},get state(){return m},get routes(){return e},initialize:se,subscribe:be,enableScrollRestoration:nt,navigate:Oe,fetch:ge,revalidate:k,createHref:Se=>t.history.createHref(Se),encodeLocation:Se=>t.history.encodeLocation(Se),getFetcher:J,deleteFetcher:z,dispose:pe,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:I,_internalActiveDeferreds:q},p}function VV(t){return t!=null&&"formData"in t}function hI(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:hs(t);if(!e||!VV(e))return{path:r};if(e.formMethod&&!JV(e.formMethod))return{path:r,error:tl(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:F5(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},eu(i.formMethod)))return{path:r,submission:i};let a=fu(r),o=N5(e.formData);return n&&a.search&&$5(a.search)&&o.append("index",""),a.search="?"+o,{path:hs(a),submission:i}}function KV(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function pI(t,e,n,r,i,a,o,s,c,f,h){let p=f?Object.values(f)[0]:c?Object.values(c)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),_=a||m.toString()===y.toString()||m.search!==y.search,b=f?Object.keys(f)[0]:void 0,x=KV(n,b).filter((A,I)=>{if(A.route.loader==null)return!1;if(GV(e.loaderData,e.matches[I],A)||o.some(j=>j===A.route.id))return!0;let M=e.matches[I],D=A;return gI(A,Wn({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:D.params},r,{actionResult:p,defaultShouldRevalidate:_||k5(M,D)}))}),E=[];return h&&h.forEach((A,I)=>{if(n.some(M=>M.route.id===A.routeId))s.includes(I)?E.push(Wn({key:I},A)):gI(A.match,Wn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:_}))&&E.push(Wn({key:I},A));else return}),[x,E]}function GV(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function k5(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function gI(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Jh(t,e,n,r,i,a,o,s){i===void 0&&(i="/"),a===void 0&&(a=!1),o===void 0&&(o=!1);let c,f,h,p=new Promise((y,_)=>h=_),m=()=>h();e.signal.addEventListener("abort",m);try{let y=n.route[t];_n(y,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),f=await Promise.race([y({request:e,params:n.params,context:s}),p]),_n(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){c=Pi.error,f=y}finally{e.signal.removeEventListener("abort",m)}if(ZV(f)){let y=f.status;if(UV.has(y)){let S=f.headers.get("Location");if(_n(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!a){let E=new URL(e.url),A=S.startsWith("//")?new URL(E.protocol+S):new URL(S);A.origin===E.origin&&(S=A.pathname+A.search+A.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),A=m0(E).map(M=>M.pathnameBase),I=vA(S,A,new URL(e.url).pathname);if(_n(hs(I),"Unable to resolve redirect location: "+S),i){let M=I.pathname;I.pathname=M==="/"?i:ru([i,M])}S=hs(I)}if(a)throw f.headers.set("Location",S),f;return{type:Pi.redirect,status:y,location:S,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:c||Pi.data,response:f};let _,b=f.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?_=await f.json():_=await f.text(),c===Pi.error?{type:c,error:new _A(y,f.statusText,_),headers:f.headers}:{type:Pi.data,data:_,statusCode:f.status,headers:f.headers}}return c===Pi.error?{type:c,error:f}:f instanceof DV?{type:Pi.deferred,deferredData:f}:{type:Pi.data,data:f}}function Yh(t,e,n,r){let i=t.createURL(F5(e)).toString(),a={signal:n};if(r&&eu(r.formMethod)){let{formMethod:o,formEncType:s,formData:c}=r;a.method=o.toUpperCase(),a.body=s==="application/x-www-form-urlencoded"?N5(c):c}return new Request(i,a)}function N5(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function WV(t,e,n,r,i){let a={},o=null,s,c=!1,f={};return n.forEach((h,p)=>{let m=e[p].route.id;if(_n(!ad(h),"Cannot handle redirect results in processLoaderData"),Tg(h)){let y=td(t,m),_=h.error;r&&(_=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=_),a[m]=void 0,c||(c=!0,s=I5(h.error)?h.error.status:500),h.headers&&(f[m]=h.headers)}else Tc(h)?(i.set(m,h.deferredData),a[m]=h.deferredData.data):a[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!c&&(s=h.statusCode),h.headers&&(f[m]=h.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:f}}function mI(t,e,n,r,i,a,o,s){let{loaderData:c,errors:f}=WV(e,n,r,i,s);for(let h=0;h<a.length;h++){let{key:p,match:m}=a[h];_n(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let y=o[h];if(Tg(y)){let _=td(t.matches,m.route.id);f&&f[_.route.id]||(f=Wn({},f,{[_.route.id]:y.error})),t.fetchers.delete(p)}else if(ad(y))_n(!1,"Unhandled fetcher revalidation redirect");else if(Tc(y))_n(!1,"Unhandled fetcher deferred data");else{let _={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(p,_)}}return{loaderData:c,errors:f}}function yI(t,e,n,r){let i=Wn({},e);for(let a of n){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function td(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function vI(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function tl(t,e){let{pathname:n,routeId:r,method:i,type:a}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(s="defer() is not supported in actions")):t===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",s='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new _A(t||500,o,new Error(s),!0)}function _I(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ad(n))return n}}function F5(t){let e=typeof t=="string"?fu(t):t;return hs(Wn({},e,{hash:""}))}function QV(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Tc(t){return t.type===Pi.deferred}function Tg(t){return t.type===Pi.error}function ad(t){return(t&&t.type)===Pi.redirect}function ZV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JV(t){return $V.has(t)}function eu(t){return FV.has(t)}async function wI(t,e,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],c=e[o],f=t.find(p=>p.route.id===c.route.id),h=f!=null&&!k5(f,c)&&(a&&a[c.route.id])!==void 0;Tc(s)&&(i||h)&&await j5(s,r,i).then(p=>{p&&(n[o]=p||n[o])})}}async function j5(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pi.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Pi.error,error:i}}return{type:Pi.data,data:t.deferredData.data}}}function $5(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function bI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function SI(t,e){let n=typeof e=="string"?fu(e).search:e.search;if(t[t.length-1].route.index&&$5(n||""))return t[t.length-1];let r=m0(t);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function YV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const XV=typeof Object.is=="function"?Object.is:YV,{useState:eK,useEffect:tK,useLayoutEffect:nK,useDebugValue:rK}=Dg;function iK(t,e,n){const r=e(),[{inst:i},a]=eK({inst:{value:r,getSnapshot:e}});return nK(()=>{i.value=r,i.getSnapshot=e,p1(i)&&a({inst:i})},[t,r,e]),tK(()=>(p1(i)&&a({inst:i}),t(()=>{p1(i)&&a({inst:i})})),[t]),rK(r),r}function p1(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!XV(n,r)}catch{return!0}}function aK(t,e,n){return e()}const oK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sK=!oK,uK=sK?aK:iK,lK="useSyncExternalStore"in Dg?(t=>t.useSyncExternalStore)(Dg):uK,wA=ae.createContext(null),dm=ae.createContext(null),hm=ae.createContext(null),y0=ae.createContext(null),xl=ae.createContext({outlet:null,matches:[]}),U5=ae.createContext(null);function cK(t,e){let{relative:n}=e===void 0?{}:e;Fd()||_n(!1);let{basename:r,navigator:i}=ae.useContext(hm),{hash:a,pathname:o,search:s}=SA(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ru([r,o])),i.createHref({pathname:c,search:s,hash:a})}function Fd(){return ae.useContext(y0)!=null}function jd(){return Fd()||_n(!1),ae.useContext(y0).location}function $d(){Fd()||_n(!1);let{basename:t,navigator:e}=ae.useContext(hm),{matches:n}=ae.useContext(xl),{pathname:r}=jd(),i=JSON.stringify(m0(n).map(s=>s.pathnameBase)),a=ae.useRef(!1);return ae.useEffect(()=>{a.current=!0}),ae.useCallback(function(s,c){if(c===void 0&&(c={}),!a.current)return;if(typeof s=="number"){e.go(s);return}let f=vA(s,JSON.parse(i),r,c.relative==="path");t!=="/"&&(f.pathname=f.pathname==="/"?t:ru([t,f.pathname])),(c.replace?e.replace:e.push)(f,c.state,c)},[t,e,i,r])}const fK=ae.createContext(null);function dK(t){let e=ae.useContext(xl).outlet;return e&&ae.createElement(fK.Provider,{value:t},e)}function bA(){let{matches:t}=ae.useContext(xl),e=t[t.length-1];return e?e.params:{}}function SA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=ae.useContext(xl),{pathname:i}=jd(),a=JSON.stringify(m0(r).map(o=>o.pathnameBase));return ae.useMemo(()=>vA(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function hK(t,e){Fd()||_n(!1);let{navigator:n}=ae.useContext(hm),r=ae.useContext(dm),{matches:i}=ae.useContext(xl),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let c=jd(),f;if(e){var h;let b=typeof e=="string"?fu(e):e;s==="/"||(h=b.pathname)!=null&&h.startsWith(s)||_n(!1),f=b}else f=c;let p=f.pathname||"/",m=s==="/"?p:p.slice(s.length)||"/",y=fg(t,{pathname:m}),_=yK(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ru([s,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?s:ru([s,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r||void 0);return e&&_?ae.createElement(y0.Provider,{value:{location:$_({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Xr.Pop}},_):_}function pK(){let t=bK(),e=I5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:i},n):null,null)}class gK extends ae.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?ae.createElement(xl.Provider,{value:this.props.routeContext},ae.createElement(U5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mK(t){let{routeContext:e,match:n,children:r}=t,i=ae.useContext(wA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ae.createElement(xl.Provider,{value:e},r)}function yK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||_n(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,s)=>{let c=o.route.id?i==null?void 0:i[o.route.id]:null,f=n?o.route.errorElement||ae.createElement(pK,null):null,h=e.concat(r.slice(0,s+1)),p=()=>ae.createElement(mK,{match:o,routeContext:{outlet:a,matches:h}},c?f:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||s===0)?ae.createElement(gK,{location:n.location,component:f,error:c,children:p(),routeContext:{outlet:null,matches:h}}):p()},null)}var xI;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(xI||(xI={}));var U_;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(U_||(U_={}));function vK(t){let e=ae.useContext(dm);return e||_n(!1),e}function _K(t){let e=ae.useContext(xl);return e||_n(!1),e}function wK(t){let e=_K(),n=e.matches[e.matches.length-1];return n.route.id||_n(!1),n.route.id}function bK(){var t;let e=ae.useContext(U5),n=vK(U_.UseRouteError),r=wK(U_.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function SK(t){let{fallbackElement:e,router:n}=t,r=lK(n.subscribe,()=>n.state,()=>n.state),i=ae.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,s,c)=>n.navigate(o,{state:s,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(o,s,c)=>n.navigate(o,{replace:!0,state:s,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),a=n.basename||"/";return ae.createElement(ae.Fragment,null,ae.createElement(wA.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},ae.createElement(dm.Provider,{value:r},ae.createElement(EK,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?ae.createElement(TK,null):e))),null)}function xA(t){let{to:e,replace:n,state:r,relative:i}=t;Fd()||_n(!1);let a=ae.useContext(dm),o=$d();return ae.useEffect(()=>{a&&a.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function v0(t){return dK(t.context)}function xK(t){_n(!1)}function EK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xr.Pop,navigator:a,static:o=!1}=t;Fd()&&_n(!1);let s=e.replace(/^\/*/,"/"),c=ae.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=fu(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,_=ae.useMemo(()=>{let b=L5(f,s);return b==null?null:{pathname:b,search:h,hash:p,state:m,key:y}},[s,f,h,p,m,y]);return _==null?null:ae.createElement(hm.Provider,{value:c},ae.createElement(y0.Provider,{children:n,value:{location:_,navigationType:i}}))}function TK(t){let{children:e,location:n}=t,r=ae.useContext(wA),i=r&&!e?r.router.routes:cC(e);return hK(i,n)}var EI;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(EI||(EI={}));new Promise(()=>{});function cC(t,e){e===void 0&&(e=[]);let n=[];return ae.Children.forEach(t,(r,i)=>{if(!ae.isValidElement(r))return;if(r.type===ae.Fragment){n.push.apply(n,cC(r.props.children,e));return}r.type!==xK&&_n(!1),!r.props.index||!r.props.children||_n(!1);let a=[...e,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=cC(r.props.children,a)),n.push(o)}),n}function B5(t){return t.map(e=>{let n=$_({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=B5(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function q5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AK(t,e){return t.button===0&&(!e||e==="_self")&&!CK(t)}function fC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function RK(t,e){let n=fC(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const PK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],OK=["aria-current","caseSensitive","className","end","style","to","children"];function LK(t,e){return HV({basename:void 0,history:fV({window:void 0}),hydrationData:IK(),routes:B5(t)}).initialize()}function IK(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fg({},e,{errors:MK(e.errors)})),e}function MK(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new _A(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const DK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Po=ae.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:c,to:f,preventScrollReset:h}=e,p=q5(e,PK),m=typeof f=="string"?f:hs(f),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),_=m,b=!1;if(DK&&y){let A=new URL(window.location.href),I=m.startsWith("//")?new URL(A.protocol+m):new URL(m);I.origin===A.origin?_=I.pathname+I.search+I.hash:b=!0}let S=cK(_,{relative:i}),x=NK(_,{replace:o,state:s,target:c,preventScrollReset:h,relative:i});function E(A){r&&r(A),A.defaultPrevented||x(A)}return ae.createElement("a",Fg({},p,{href:y?m:S,onClick:b||a?r:E,ref:n,target:c}))}),kK=ae.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:c,children:f}=e,h=q5(e,OK),p=SA(c,{relative:h.relative}),m=jd(),y=ae.useContext(dm),{navigator:_}=ae.useContext(hm),b=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,S=m.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase());let E=S===b||!o&&S.startsWith(b)&&S.charAt(b.length)==="/",A=x!=null&&(x===b||!o&&x.startsWith(b)&&x.charAt(b.length)==="/"),I=E?r:void 0,M;typeof a=="function"?M=a({isActive:E,isPending:A}):M=[a,E?"active":null,A?"pending":null].filter(Boolean).join(" ");let D=typeof s=="function"?s({isActive:E,isPending:A}):s;return ae.createElement(Po,Fg({},h,{"aria-current":I,className:M,ref:n,style:D,to:c}),typeof f=="function"?f({isActive:E,isPending:A}):f)});var TI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(TI||(TI={}));var CI;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CI||(CI={}));function NK(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=e===void 0?{}:e,s=$d(),c=jd(),f=SA(t,{relative:o});return ae.useCallback(h=>{if(AK(h,n)){h.preventDefault();let p=r!==void 0?r:hs(c)===hs(f);s(t,{replace:p,state:i,preventScrollReset:a,relative:o})}},[c,s,f,r,i,n,t,a,o])}function FK(t){let e=ae.useRef(fC(t)),n=ae.useRef(!1),r=jd(),i=ae.useMemo(()=>RK(r.search,n.current?null:e.current),[r.search]),a=$d(),o=ae.useCallback((s,c)=>{const f=fC(typeof s=="function"?s(i):s);n.current=!0,a("?"+f,c)},[a,i]);return[i,o]}function m_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m_=function(n){return typeof n}:m_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},m_(t)}function jK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UK(t,e,n){return $K(t.prototype,e),t}function BK(t,e){return e&&(m_(e)==="object"||typeof e=="function")?e:y_(t)}function dC(t){return dC=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dC(t)}function y_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hC(t,e)}function v_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z5=function(t){qK(e,t);function e(){var n,r;jK(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=BK(this,(n=dC(e)).call.apply(n,[this].concat(a))),v_(y_(r),"state",{bootstrapped:!1}),v_(y_(r),"_unsubscribe",void 0),v_(y_(r),"handlePersistorState",function(){var s=r.props.persistor,c=s.getState(),f=c.bootstrapped;f&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return UK(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(ae.PureComponent);v_(z5,"defaultProps",{children:null,loading:null});function Ri(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zK=typeof Symbol=="function"&&Symbol.observable||"@@observable",AI=zK,g1=()=>Math.random().toString(36).substring(7).split("").join("."),HK={INIT:`@@redux/INIT${g1()}`,REPLACE:`@@redux/REPLACE${g1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g1()}`},B_=HK;function EA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function TA(t,e,n){if(typeof t!="function")throw new Error(Ri(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ri(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ri(1));return n(TA)(t,e)}let r=t,i=e,a=new Map,o=a,s=0,c=!1;function f(){o===a&&(o=new Map,a.forEach((S,x)=>{o.set(x,S)}))}function h(){if(c)throw new Error(Ri(3));return i}function p(S){if(typeof S!="function")throw new Error(Ri(4));if(c)throw new Error(Ri(5));let x=!0;f();const E=s++;return o.set(E,S),function(){if(x){if(c)throw new Error(Ri(6));x=!1,f(),o.delete(E),a=null}}}function m(S){if(!EA(S))throw new Error(Ri(7));if(typeof S.type>"u")throw new Error(Ri(8));if(typeof S.type!="string")throw new Error(Ri(17));if(c)throw new Error(Ri(9));try{c=!0,i=r(i,S)}finally{c=!1}return(a=o).forEach(E=>{E()}),S}function y(S){if(typeof S!="function")throw new Error(Ri(10));r=S,m({type:B_.REPLACE})}function _(){const S=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Ri(11));function E(){const I=x;I.next&&I.next(h())}return E(),{unsubscribe:S(E)}},[AI](){return this}}}return m({type:B_.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:y,[AI]:_}}function VK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:B_.INIT})>"u")throw new Error(Ri(12));if(typeof n(void 0,{type:B_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ri(13))})}function H5(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{VK(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],y=o[p],_=m(y,s);if(typeof _>"u")throw s&&s.type,new Error(Ri(14));f[p]=_,c=c||_!==y}return c=c||r.length!==Object.keys(o).length,c?f:o}}function q_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function KK(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ri(15))};const o={getState:i.getState,dispatch:(c,...f)=>a(c,...f)},s=t.map(c=>c(o));return a=q_(...s)(i.dispatch),{...i,dispatch:a}}}function GK(t){return EA(t)&&"type"in t&&typeof t.type=="string"}var V5=Symbol.for("immer-nothing"),RI=Symbol.for("immer-draftable"),qa=Symbol.for("immer-state");function Oo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cd=Object.getPrototypeOf;function qc(t){return!!t&&!!t[qa]}function uu(t){var e;return t?K5(t)||Array.isArray(t)||!!t[RI]||!!((e=t.constructor)!=null&&e[RI])||w0(t)||b0(t):!1}var WK=Object.prototype.constructor.toString();function K5(t){if(!t||typeof t!="object")return!1;const e=Cd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===WK}function z_(t,e){_0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function _0(t){const e=t[qa];return e?e.type_:Array.isArray(t)?1:w0(t)?2:b0(t)?3:0}function pC(t,e){return _0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function G5(t,e,n){const r=_0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function QK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function w0(t){return t instanceof Map}function b0(t){return t instanceof Set}function bc(t){return t.copy_||t.base_}function gC(t,e){if(w0(t))return new Map(t);if(b0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=K5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Cd(t),r)}else{const r=Cd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function CA(t,e=!1){return S0(t)||qc(t)||!uu(t)||(_0(t)>1&&(t.set=t.add=t.clear=t.delete=ZK),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>CA(r,!0))),t}function ZK(){Oo(2)}function S0(t){return Object.isFrozen(t)}var JK={};function zc(t){const e=JK[t];return e||Oo(0,t),e}var jg;function W5(){return jg}function YK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PI(t,e){e&&(zc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mC(t){yC(t),t.drafts_.forEach(XK),t.drafts_=null}function yC(t){t===jg&&(jg=t.parent_)}function OI(t){return jg=YK(jg,t)}function XK(t){const e=t[qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function LI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qa].modified_&&(mC(e),Oo(4)),uu(t)&&(t=H_(e,t),e.parent_||V_(e,t)),e.patches_&&zc("Patches").generateReplacementPatches_(n[qa].base_,t,e.patches_,e.inversePatches_)):t=H_(e,n,[]),mC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==V5?t:void 0}function H_(t,e,n){if(S0(e))return e;const r=e[qa];if(!r)return z_(e,(i,a)=>II(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return V_(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),z_(a,(s,c)=>II(t,r,i,s,c,n,o)),V_(t,i,!1),n&&t.patches_&&zc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function II(t,e,n,r,i,a,o){if(qc(i)){const s=a&&e&&e.type_!==3&&!pC(e.assigned_,r)?a.concat(r):void 0,c=H_(t,i,s);if(G5(n,r,c),qc(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(uu(i)&&!S0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;H_(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&V_(t,i)}}function V_(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CA(e,n)}function eG(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:W5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=AA;n&&(i=[r],a=$g);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var AA={get(t,e){if(e===qa)return t;const n=bc(t);if(!pC(n,e))return tG(t,n,e);const r=n[e];return t.finalized_||!uu(r)?r:r===m1(t.base_,e)?(y1(t),t.copy_[e]=_C(r,t)):r},has(t,e){return e in bc(t)},ownKeys(t){return Reflect.ownKeys(bc(t))},set(t,e,n){const r=Q5(bc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=m1(bc(t),e),a=i==null?void 0:i[qa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(QK(n,i)&&(n!==void 0||pC(t.base_,e)))return!0;y1(t),vC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return m1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,y1(t),vC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Oo(11)},getPrototypeOf(t){return Cd(t.base_)},setPrototypeOf(){Oo(12)}},$g={};z_(AA,(t,e)=>{$g[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$g.deleteProperty=function(t,e){return $g.set.call(this,t,e,void 0)};$g.set=function(t,e,n){return AA.set.call(this,t[0],e,n,t[0])};function m1(t,e){const n=t[qa];return(n?bc(n):t)[e]}function tG(t,e,n){var i;const r=Q5(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Q5(t,e){if(!(e in t))return;let n=Cd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cd(n)}}function vC(t){t.modified_||(t.modified_=!0,t.parent_&&vC(t.parent_))}function y1(t){t.copy_||(t.copy_=gC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const s=this;return function(f=o,...h){return s.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&Oo(6),i!==void 0&&typeof i!="function"&&Oo(7);let a;if(uu(n)){const o=OI(this),s=_C(n,void 0);let c=!0;try{a=r(s),c=!1}finally{c?mC(o):yC(o)}return PI(o,i),LI(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===V5&&(a=void 0),this.autoFreeze_&&CA(a,!0),i){const o=[],s=[];zc("Patches").generateReplacementPatches_(n,a,o,s),i(o,s)}return a}else Oo(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(s,...c)=>this.produceWithPatches(s,f=>n(f,...c));let i,a;return[this.produce(n,r,(s,c)=>{i=s,a=c}),i,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){uu(e)||Oo(8),qc(e)&&(e=rG(e));const n=OI(this),r=_C(e,void 0);return r[qa].isManual_=!0,yC(n),r}finishDraft(e,n){const r=e&&e[qa];(!r||!r.isManual_)&&Oo(9);const{scope_:i}=r;return PI(i,n),LI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=zc("Patches").applyPatches_;return qc(e)?i(e,n):this.produce(e,a=>i(a,n))}};function _C(t,e){const n=w0(t)?zc("MapSet").proxyMap_(t,e):b0(t)?zc("MapSet").proxySet_(t,e):eG(t,e);return(e?e.scope_:W5()).drafts_.push(n),n}function rG(t){return qc(t)||Oo(10,t),Z5(t)}function Z5(t){if(!uu(t)||S0(t))return t;const e=t[qa];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=gC(t,!0);return z_(n,(r,i)=>{G5(n,r,Z5(i))}),e&&(e.finalized_=!1),n}var za=new nG,J5=za.produce;za.produceWithPatches.bind(za);za.setAutoFreeze.bind(za);za.setUseStrictShallowCopy.bind(za);za.applyPatches.bind(za);za.createDraft.bind(za);za.finishDraft.bind(za);function Y5(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var iG=Y5(),aG=Y5,oG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?q_:q_.apply(null,arguments)},sG=t=>t&&typeof t.match=="function";function MI(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(iu(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>GK(r)&&r.type===t,n}var X5=class dg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dg.prototype)}static get[Symbol.species](){return dg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dg(...e[0].concat(this)):new dg(...e.concat(this))}};function DI(t){return uu(t)?J5(t,()=>{}):t}function kI(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function uG(t){return typeof t=="boolean"}var lG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new X5;return n&&(uG(n)?o.push(iG):o.push(aG(n.extraArgument))),o},cG="RTK_autoBatch",NI=t=>e=>{setTimeout(e,t)},fG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const s=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NI(10):t.type==="callback"?t.queueNotification:NI(t.timeout),f=()=>{o=!1,a&&(a=!1,s.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return s.add(h),()=>{m(),s.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[cG]),a=!i,a&&(o||(o=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},dG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new X5(t);return r&&i.push(fG(typeof r=="object"?r:void 0)),i};function hG(t){const e=lG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let s;if(typeof n=="function")s=n;else if(EA(n))s=H5(n);else throw new Error(iu(1));let c;typeof r=="function"?c=r(e):c=e();let f=q_;i&&(f=oG({trace:!1,...typeof i=="object"&&i}));const h=KK(...c),p=dG(h);let m=typeof o=="function"?o(p):p();const y=f(...m);return TA(s,a,y)}function eU(t){const e={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(iu(28));if(s in e)throw new Error(iu(29));return e[s]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function pG(t){return typeof t=="function"}function gG(t,e){let[n,r,i]=eU(e),a;if(pG(t))a=()=>DI(t());else{const s=DI(t);a=()=>s}function o(s=a(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(qc(h)){const y=p(h,c);return y===void 0?h:y}else{if(uu(h))return J5(h,m=>p(m,c));{const m=p(h,c);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},s)}return o.getInitialState=a,o}var mG=(t,e)=>sG(t)?t.match(e):t(e);function yG(...t){return e=>t.some(n=>mG(n,e))}var vG=Symbol.for("rtk-slice-createasyncthunk");function _G(t,e){return`${t}/${e}`}function wG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[vG];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(iu(11));const s=(typeof i.reducers=="function"?i.reducers(SG()):i.reducers)||{},c=Object.keys(s),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,I){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(iu(12));if(M in f.sliceCaseReducersByType)throw new Error(iu(13));return f.sliceCaseReducersByType[M]=I,h},addMatcher(A,I){return f.sliceMatchers.push({matcher:A,reducer:I}),h},exposeAction(A,I){return f.actionCreators[A]=I,h},exposeCaseReducer(A,I){return f.sliceCaseReducersByName[A]=I,h}};c.forEach(A=>{const I=s[A],M={reducerName:A,type:_G(a,A),createNotation:typeof i.reducers=="function"};EG(I)?CG(M,I,h,e):xG(M,I,h)});function p(){const[A={},I=[],M=void 0]=typeof i.extraReducers=="function"?eU(i.extraReducers):[i.extraReducers],D={...A,...f.sliceCaseReducersByType};return gG(i.initialState,j=>{for(let Q in D)j.addCase(Q,D[Q]);for(let Q of f.sliceMatchers)j.addMatcher(Q.matcher,Q.reducer);for(let Q of I)j.addMatcher(Q.matcher,Q.reducer);M&&j.addDefaultCase(M)})}const m=A=>A,y=new Map;let _;function b(A,I){return _||(_=p()),_(A,I)}function S(){return _||(_=p()),_.getInitialState()}function x(A,I=!1){function M(j){let Q=j[A];return typeof Q>"u"&&I&&(Q=S()),Q}function D(j=m){const Q=kI(y,I,()=>new WeakMap);return kI(Q,j,()=>{const Y={};for(const[q,Z]of Object.entries(i.selectors??{}))Y[q]=bG(Z,j,S,I);return Y})}return{reducerPath:A,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const E={name:a,reducer:b,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...x(o),injectInto(A,{reducerPath:I,...M}={}){const D=I??o;return A.inject({reducerPath:D,reducer:b},M),{...E,...x(D,!0)}}};return E}}function bG(t,e,n,r){function i(a,...o){let s=e(a);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return i.unwrapped=t,i}var x0=wG();function SG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function xG({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!TG(r))throw new Error(iu(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?MI(t,o):MI(t))}function EG(t){return t._reducerDefinitionType==="asyncThunk"}function TG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function CG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(iu(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),s&&r.addCase(p.pending,s),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:o||zy,pending:s||zy,rejected:c||zy,settled:f||zy})}function zy(){}function iu(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const AG={},RG=x0({name:"auth",initialState:AG,reducers:{signin:(t,e)=>{t.isLoggedIn=e.payload.isLoggedIn,t.webId=e.payload.webId},setUser:(t,e)=>{t.profile=e.payload},signout:t=>{t.isLoggedIn=!1}}}),{actions:RA,reducer:PG}=RG,Ud=t=>t.auth,OG={},LG=x0({name:"config",initialState:OG,reducers:{setConfig:(t,e)=>{Object.assign(t,e.payload)},resetConfig:()=>({})}}),{actions:wC,reducer:IG}=LG,tU=t=>t.config,MG={},DG=x0({name:"login",initialState:MG,reducers:{setLastSelectedIssuer:(t,e)=>{t.lastSelectedIssuer=e.payload}}}),{actions:K_,reducer:kG}=DG,nU=t=>t.login.lastSelectedIssuer,NG={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},FG=x0({name:"ui",initialState:NG,reducers:{toggleTheme:t=>{t.theme=t.theme==="dark"?"light":"dark"}}}),{actions:jG,reducer:$G}=FG,PA=t=>t.ui.theme;var OA="persist:",LA="persist/FLUSH",E0="persist/REHYDRATE",IA="persist/PAUSE",MA="persist/PERSIST",DA="persist/PURGE",kA="persist/REGISTER",UG=-1;function __(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?__=function(n){return typeof n}:__=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},__(t)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(n,!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zG(t,e,n,r){r.debug;var i=BG({},n);return t&&__(t)==="object"&&Object.keys(t).forEach(function(a){a!=="_persist"&&e[a]===n[a]&&(i[a]=t[a])}),i}function HG(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,a="".concat(t.keyPrefix!==void 0?t.keyPrefix:OA).concat(t.key),o=t.storage,s;t.serialize===!1?s=function(M){return M}:typeof t.serialize=="function"?s=t.serialize:s=VG;var c=t.writeFailHandler||null,f={},h={},p=[],m=null,y=null,_=function(M){Object.keys(M).forEach(function(D){x(D)&&f[D]!==M[D]&&p.indexOf(D)===-1&&p.push(D)}),Object.keys(f).forEach(function(D){M[D]===void 0&&x(D)&&p.indexOf(D)===-1&&f[D]!==void 0&&p.push(D)}),m===null&&(m=setInterval(b,i)),f=M};function b(){if(p.length===0){m&&clearInterval(m),m=null;return}var I=p.shift(),M=r.reduce(function(D,j){return j.in(D,I,f)},f[I]);if(M!==void 0)try{h[I]=s(M)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete h[I];p.length===0&&S()}function S(){Object.keys(h).forEach(function(I){f[I]===void 0&&delete h[I]}),y=o.setItem(a,s(h)).catch(E)}function x(I){return!(n&&n.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function E(I){c&&c(I)}var A=function(){for(;p.length!==0;)b();return y||Promise.resolve()};return{update:_,flush:A}}function VG(t){return JSON.stringify(t)}function KG(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:OA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=GG,r.getItem(n).then(function(a){if(a)try{var o={},s=i(a);return Object.keys(s).forEach(function(c){o[c]=e.reduceRight(function(f,h){return h.out(f,c,s)},i(s[c]))}),o}catch(c){throw c}else return})}function GG(t){return JSON.parse(t)}function WG(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:OA).concat(t.key);return e.removeItem(n,QG)}function QG(t){}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(n,!0).forEach(function(r){ZG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JG(t,e){if(t==null)return{};var n=YG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var XG=5e3;function eW(t,e){var n=t.version!==void 0?t.version:UG;t.debug;var r=t.stateReconciler===void 0?zG:t.stateReconciler,i=t.getStoredState||KG,a=t.timeout!==void 0?t.timeout:XG,o=null,s=!1,c=!0,f=function(p){return p._persist.rehydrated&&o&&!c&&o.update(p),p};return function(h,p){var m=h||{},y=m._persist,_=JG(m,["_persist"]),b=_;if(p.type===MA){var S=!1,x=function(Q,Y){S||(p.rehydrate(t.key,Q,Y),S=!0)};if(a&&setTimeout(function(){!S&&x(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},a),c=!1,o||(o=HG(t)),y)return Hs({},e(b,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(j){var Q=t.migrate||function(Y,q){return Promise.resolve(Y)};Q(j,n).then(function(Y){x(Y)},function(Y){x(void 0,Y)})},function(j){x(void 0,j)}),Hs({},e(b,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===DA)return s=!0,p.result(WG(t)),Hs({},e(b,p),{_persist:y});if(p.type===LA)return p.result(o&&o.flush()),Hs({},e(b,p),{_persist:y});if(p.type===IA)c=!0;else if(p.type===E0){if(s)return Hs({},b,{_persist:Hs({},y,{rehydrated:!0})});if(p.key===t.key){var E=e(b,p),A=p.payload,I=r!==!1&&A!==void 0?r(A,h,E,t):E,M=Hs({},I,{_persist:Hs({},y,{rehydrated:!0})});return f(M)}}}if(!y)return e(h,p);var D=e(b,p);return D===b?h:f(Hs({},D,{_persist:y}))}}function $I(t){return rW(t)||nW(t)||tW()}function tW(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nW(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rW(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(n,!0).forEach(function(r){iW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rU={registry:[],bootstrapped:!1},aW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rU,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case kA:return bC({},e,{registry:[].concat($I(e.registry),[n.key])});case E0:var r=e.registry.indexOf(n.key),i=$I(e.registry);return i.splice(r,1),bC({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oW(t,e,n){var r=TA(aW,rU,void 0),i=function(c){r.dispatch({type:kA,key:c})},a=function(c,f,h){var p={type:E0,payload:f,err:h,key:c};t.dispatch(p),r.dispatch(p)},o=bC({},r,{purge:function(){var c=[];return t.dispatch({type:DA,result:function(h){c.push(h)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:LA,result:function(h){c.push(h)}}),Promise.all(c)},pause:function(){t.dispatch({type:IA})},persist:function(){t.dispatch({type:MA,register:i,rehydrate:a})}});return o.persist(),o}var Xh={},Hy={},Vy={},BI;function sW(){if(BI)return Vy;BI=1,Vy.__esModule=!0,Vy.default=i;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(s){return typeof s}:t=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(a)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(a){if((typeof self>"u"?"undefined":t(self))!=="object"||!(a in self))return!1;try{var o=self[a],s="redux-persist ".concat(a," test");o.setItem(s,"test"),o.getItem(s),o.removeItem(s)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:n}return Vy}var qI;function uW(){if(qI)return Hy;qI=1,Hy.__esModule=!0,Hy.default=n;var t=e(sW());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,t.default)(r);return{getItem:function(o){return new Promise(function(s,c){s(i.getItem(o))})},setItem:function(o,s){return new Promise(function(c,f){c(i.setItem(o,s))})},removeItem:function(o){return new Promise(function(s,c){s(i.removeItem(o))})}}}return Hy}var zI;function lW(){if(zI)return Xh;zI=1,Xh.__esModule=!0,Xh.default=void 0;var t=e(uW());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return Xh.default=n,Xh}var cW=lW();const fW=Gr(cW),Ky=H5({auth:PG,login:kG,config:IG,ui:$G}),dW=(t,e)=>{if(yG(RA.signout)(e)){let n=Ky(void 0,e);const r=t&&tU(t);r&&(n=Ky(n,wC.setConfig(r)));const i=t&&nU(t);return i&&(n=Ky(n,K_.setLastSelectedIssuer(i))),n}return Ky(t,e)},hW={key:"root",storage:fW,whitelist:["login","config","ui"]},pW=eW(hW,dW),iU=hG({reducer:pW,middleware:t=>t({serializableCheck:{ignoredActions:[LA,E0,IA,MA,DA,kA]}})}),gW=oW(iU),aU="https://solidweb.me/solidcouch/community#us",oU="solidcouch",mW="https://service.notifications.tired.bike",yW="https://id.notifications.tired.bike/profile/card#me",sU="simple",uU="",lU="",HI="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",VI="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var hg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var vW=hg.exports,KI;function _W(){return KI||(KI=1,function(t,e){(function(n,r){r(e)})(vW,function(n){var r="1.9.4";function i(d){var v,P,U,ee;for(P=1,U=arguments.length;P<U;P++){ee=arguments[P];for(v in ee)d[v]=ee[v]}return d}var a=Object.create||function(){function d(){}return function(v){return d.prototype=v,new d}}();function o(d,v){var P=Array.prototype.slice;if(d.bind)return d.bind.apply(d,P.call(arguments,1));var U=P.call(arguments,2);return function(){return d.apply(v,U.length?U.concat(P.call(arguments)):arguments)}}var s=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++s),d._leaflet_id}function f(d,v,P){var U,ee,ve,Ge;return Ge=function(){U=!1,ee&&(ve.apply(P,ee),ee=!1)},ve=function(){U?ee=arguments:(d.apply(P,arguments),setTimeout(Ge,v),U=!0)},ve}function h(d,v,P){var U=v[1],ee=v[0],ve=U-ee;return d===U&&P?d:((d-ee)%ve+ve)%ve+ee}function p(){return!1}function m(d,v){if(v===!1)return d;var P=Math.pow(10,v===void 0?6:v);return Math.round(d*P)/P}function y(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _(d){return y(d).split(/\s+/)}function b(d,v){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var P in v)d.options[P]=v[P];return d.options}function S(d,v,P){var U=[];for(var ee in d)U.push(encodeURIComponent(P?ee.toUpperCase():ee)+"="+encodeURIComponent(d[ee]));return(!v||v.indexOf("?")===-1?"?":"&")+U.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function E(d,v){return d.replace(x,function(P,U){var ee=v[U];if(ee===void 0)throw new Error("No value provided for variable "+P);return typeof ee=="function"&&(ee=ee(v)),ee})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function I(d,v){for(var P=0;P<d.length;P++)if(d[P]===v)return P;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var j=0;function Q(d){var v=+new Date,P=Math.max(0,16-(v-j));return j=v+P,window.setTimeout(d,P)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,q=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function Z(d,v,P){if(P&&Y===Q)d.call(v);else return Y.call(window,o(d,v))}function fe(d){d&&q.call(window,d)}var te={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:c,throttle:f,wrapNum:h,falseFn:p,formatNum:m,trim:y,splitWords:_,setOptions:b,getParamString:S,template:E,isArray:A,indexOf:I,emptyImageUrl:M,requestFn:Y,cancelFn:q,requestAnimFrame:Z,cancelAnimFrame:fe};function se(){}se.extend=function(d){var v=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=v.__super__=this.prototype,U=a(P);U.constructor=v,v.prototype=U;for(var ee in this)Object.prototype.hasOwnProperty.call(this,ee)&&ee!=="prototype"&&ee!=="__super__"&&(v[ee]=this[ee]);return d.statics&&i(v,d.statics),d.includes&&(pe(d.includes),i.apply(null,[U].concat(d.includes))),i(U,d),delete U.statics,delete U.includes,U.options&&(U.options=P.options?a(P.options):{},i(U.options,d.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=U._initHooks.length;ve<Ge;ve++)U._initHooks[ve].call(this)}},v},se.include=function(d){var v=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=v,this.mergeOptions(d.options)),this},se.mergeOptions=function(d){return i(this.prototype.options,d),this},se.addInitHook=function(d){var v=Array.prototype.slice.call(arguments,1),P=typeof d=="function"?d:function(){this[d].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function pe(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var v=0;v<d.length;v++)d[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var be={on:function(d,v,P){if(typeof d=="object")for(var U in d)this._on(U,d[U],v);else{d=_(d);for(var ee=0,ve=d.length;ee<ve;ee++)this._on(d[ee],v,P)}return this},off:function(d,v,P){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var U in d)this._off(U,d[U],v);else{d=_(d);for(var ee=arguments.length===1,ve=0,Ge=d.length;ve<Ge;ve++)ee?this._off(d[ve]):this._off(d[ve],v,P)}return this},_on:function(d,v,P,U){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(d,v,P)===!1){P===this&&(P=void 0);var ee={fn:v,ctx:P};U&&(ee.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(ee)}},_off:function(d,v,P){var U,ee,ve;if(this._events&&(U=this._events[d],!!U)){if(arguments.length===1){if(this._firingCount)for(ee=0,ve=U.length;ee<ve;ee++)U[ee].fn=p;delete this._events[d];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var Ge=this._listens(d,v,P);if(Ge!==!1){var st=U[Ge];this._firingCount&&(st.fn=p,this._events[d]=U=U.slice()),U.splice(Ge,1)}}},fire:function(d,v,P){if(!this.listens(d,P))return this;var U=i({},v,{type:d,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var ee=this._events[d];if(ee){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=ee.length;ve<Ge;ve++){var st=ee[ve],yt=st.fn;st.once&&this.off(d,yt,st.ctx),yt.call(st.ctx||this,U)}this._firingCount--}}return P&&this._propagateEvent(U),this},listens:function(d,v,P,U){typeof d!="string"&&console.warn('"string" type argument expected');var ee=v;typeof v!="function"&&(U=!!v,ee=void 0,P=void 0);var ve=this._events&&this._events[d];if(ve&&ve.length&&this._listens(d,ee,P)!==!1)return!0;if(U){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(d,v,P,U))return!0}return!1},_listens:function(d,v,P){if(!this._events)return!1;var U=this._events[d]||[];if(!v)return!!U.length;P===this&&(P=void 0);for(var ee=0,ve=U.length;ee<ve;ee++)if(U[ee].fn===v&&U[ee].ctx===P)return ee;return!1},once:function(d,v,P){if(typeof d=="object")for(var U in d)this._on(U,d[U],v,!0);else{d=_(d);for(var ee=0,ve=d.length;ee<ve;ee++)this._on(d[ee],v,P,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var v in this._eventParents)this._eventParents[v].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};be.addEventListener=be.on,be.removeEventListener=be.clearAllEventListeners=be.off,be.addOneTimeEventListener=be.once,be.fireEvent=be.fire,be.hasEventListeners=be.listens;var ce=se.extend(be);function le(d,v,P){this.x=P?Math.round(d):d,this.y=P?Math.round(v):v}var Oe=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(d){return this.clone()._add(k(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(k(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new le(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new le(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(d){d=k(d);var v=d.x-this.x,P=d.y-this.y;return Math.sqrt(v*v+P*P)},equals:function(d){return d=k(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=k(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function k(d,v,P){return d instanceof le?d:A(d)?new le(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new le(d.x,d.y):new le(d,v,P)}function ne(d,v){if(d)for(var P=v?[d,v]:d,U=0,ee=P.length;U<ee;U++)this.extend(P[U])}ne.prototype={extend:function(d){var v,P;if(!d)return this;if(d instanceof le||typeof d[0]=="number"||"x"in d)v=P=k(d);else if(d=me(d),v=d.min,P=d.max,!v||!P)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=P.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(d){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var v,P;return typeof d[0]=="number"||d instanceof le?d=k(d):d=me(d),d instanceof ne?(v=d.min,P=d.max):v=P=d,v.x>=this.min.x&&P.x<=this.max.x&&v.y>=this.min.y&&P.y<=this.max.y},intersects:function(d){d=me(d);var v=this.min,P=this.max,U=d.min,ee=d.max,ve=ee.x>=v.x&&U.x<=P.x,Ge=ee.y>=v.y&&U.y<=P.y;return ve&&Ge},overlaps:function(d){d=me(d);var v=this.min,P=this.max,U=d.min,ee=d.max,ve=ee.x>v.x&&U.x<P.x,Ge=ee.y>v.y&&U.y<P.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var v=this.min,P=this.max,U=Math.abs(v.x-P.x)*d,ee=Math.abs(v.y-P.y)*d;return me(k(v.x-U,v.y-ee),k(P.x+U,P.y+ee))},equals:function(d){return d?(d=me(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function me(d,v){return!d||d instanceof ne?d:new ne(d,v)}function H(d,v){if(d)for(var P=v?[d,v]:d,U=0,ee=P.length;U<ee;U++)this.extend(P[U])}H.prototype={extend:function(d){var v=this._southWest,P=this._northEast,U,ee;if(d instanceof ge)U=d,ee=d;else if(d instanceof H){if(U=d._southWest,ee=d._northEast,!U||!ee)return this}else return d?this.extend(Ae(d)||J(d)):this;return!v&&!P?(this._southWest=new ge(U.lat,U.lng),this._northEast=new ge(ee.lat,ee.lng)):(v.lat=Math.min(U.lat,v.lat),v.lng=Math.min(U.lng,v.lng),P.lat=Math.max(ee.lat,P.lat),P.lng=Math.max(ee.lng,P.lng)),this},pad:function(d){var v=this._southWest,P=this._northEast,U=Math.abs(v.lat-P.lat)*d,ee=Math.abs(v.lng-P.lng)*d;return new H(new ge(v.lat-U,v.lng-ee),new ge(P.lat+U,P.lng+ee))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof ge||"lat"in d?d=Ae(d):d=J(d);var v=this._southWest,P=this._northEast,U,ee;return d instanceof H?(U=d.getSouthWest(),ee=d.getNorthEast()):U=ee=d,U.lat>=v.lat&&ee.lat<=P.lat&&U.lng>=v.lng&&ee.lng<=P.lng},intersects:function(d){d=J(d);var v=this._southWest,P=this._northEast,U=d.getSouthWest(),ee=d.getNorthEast(),ve=ee.lat>=v.lat&&U.lat<=P.lat,Ge=ee.lng>=v.lng&&U.lng<=P.lng;return ve&&Ge},overlaps:function(d){d=J(d);var v=this._southWest,P=this._northEast,U=d.getSouthWest(),ee=d.getNorthEast(),ve=ee.lat>v.lat&&U.lat<P.lat,Ge=ee.lng>v.lng&&U.lng<P.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,v){return d?(d=J(d),this._southWest.equals(d.getSouthWest(),v)&&this._northEast.equals(d.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(d,v){return d instanceof H?d:new H(d,v)}function ge(d,v,P){if(isNaN(d)||isNaN(v))throw new Error("Invalid LatLng object: ("+d+", "+v+")");this.lat=+d,this.lng=+v,P!==void 0&&(this.alt=+P)}ge.prototype={equals:function(d,v){if(!d)return!1;d=Ae(d);var P=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return P<=(v===void 0?1e-9:v)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return Re.distance(this,Ae(d))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(d){var v=180*d/40075017,P=v/Math.cos(Math.PI/180*this.lat);return J([this.lat-v,this.lng-P],[this.lat+v,this.lng+P])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function Ae(d,v,P){return d instanceof ge?d:A(d)&&typeof d[0]!="object"?d.length===3?new ge(d[0],d[1],d[2]):d.length===2?new ge(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new ge(d.lat,"lng"in d?d.lng:d.lon,d.alt):v===void 0?null:new ge(d,v,P)}var Je={latLngToPoint:function(d,v){var P=this.projection.project(d),U=this.scale(v);return this.transformation._transform(P,U)},pointToLatLng:function(d,v){var P=this.scale(v),U=this.transformation.untransform(d,P);return this.projection.unproject(U)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var v=this.projection.bounds,P=this.scale(d),U=this.transformation.transform(v.min,P),ee=this.transformation.transform(v.max,P);return new ne(U,ee)},infinite:!1,wrapLatLng:function(d){var v=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,P=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,U=d.alt;return new ge(P,v,U)},wrapLatLngBounds:function(d){var v=d.getCenter(),P=this.wrapLatLng(v),U=v.lat-P.lat,ee=v.lng-P.lng;if(U===0&&ee===0)return d;var ve=d.getSouthWest(),Ge=d.getNorthEast(),st=new ge(ve.lat-U,ve.lng-ee),yt=new ge(Ge.lat-U,Ge.lng-ee);return new H(st,yt)}},Re=i({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(d,v){var P=Math.PI/180,U=d.lat*P,ee=v.lat*P,ve=Math.sin((v.lat-d.lat)*P/2),Ge=Math.sin((v.lng-d.lng)*P/2),st=ve*ve+Math.cos(U)*Math.cos(ee)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(st),Math.sqrt(1-st));return this.R*yt}}),Fe=6378137,Xe={R:Fe,MAX_LATITUDE:85.0511287798,project:function(d){var v=Math.PI/180,P=this.MAX_LATITUDE,U=Math.max(Math.min(P,d.lat),-P),ee=Math.sin(U*v);return new le(this.R*d.lng*v,this.R*Math.log((1+ee)/(1-ee))/2)},unproject:function(d){var v=180/Math.PI;return new ge((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*v,d.x*v/this.R)},bounds:function(){var d=Fe*Math.PI;return new ne([-d,-d],[d,d])}()};function ie(d,v,P,U){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=v,this._c=P,this._d=U}ie.prototype={transform:function(d,v){return this._transform(d.clone(),v)},_transform:function(d,v){return v=v||1,d.x=v*(this._a*d.x+this._b),d.y=v*(this._c*d.y+this._d),d},untransform:function(d,v){return v=v||1,new le((d.x/v-this._b)/this._a,(d.y/v-this._d)/this._c)}};function z(d,v,P,U){return new ie(d,v,P,U)}var $=i({},Re,{code:"EPSG:3857",projection:Xe,transformation:function(){var d=.5/(Math.PI*Xe.R);return z(d,.5,-d,.5)}()}),re=i({},$,{code:"EPSG:900913"});function W(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function he(d,v){var P="",U,ee,ve,Ge,st,yt;for(U=0,ve=d.length;U<ve;U++){for(st=d[U],ee=0,Ge=st.length;ee<Ge;ee++)yt=st[ee],P+=(ee?"L":"M")+yt.x+" "+yt.y;P+=v?Ee.svg?"z":"x":""}return P||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Te=He&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),Ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&Ut<537&&!("AudioNode"in window),Be=!!window.opera,X=!Ne&&We("chrome"),B=We("gecko")&&!tt&&!Be&&!He,K=!X&&We("safari"),V=We("phantom"),je="OTransition"in ye,Ze=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,At="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,Ot="MozPerspective"in ye,Dt=!window.L_DISABLE_3D&&(ke||At||Ot)&&!je&&!V,Rt=typeof orientation<"u"||We("mobile"),Bt=Rt&&tt,Er=Rt&&At,fn=!window.PointerEvent&&window.MSPointerEvent,dn=!!(window.PointerEvent||fn),hr="ontouchstart"in window||!!window.TouchEvent,sn=!window.L_NO_TOUCH&&(hr||dn),un=Rt&&Be,Ln=Rt&&B,or=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Le=function(){var d=!1;try{var v=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return d}(),qe=function(){return!!document.createElement("canvas").getContext}(),wt=!!(document.createElementNS&&W("svg").createSVGRect),xt=!!wt&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lt=!wt&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var v=d.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}}(),zn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ee={ie:He,ielt9:Te,edge:Ne,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:X,gecko:B,safari:K,phantom:V,opera12:je,win:Ze,ie3d:ke,webkit3d:At,gecko3d:Ot,any3d:Dt,mobile:Rt,mobileWebkit:Bt,mobileWebkit3d:Er,msPointer:fn,pointer:dn,touch:sn,touchNative:hr,mobileOpera:un,mobileGecko:Ln,retina:or,passiveEvents:Le,canvas:qe,svg:wt,vml:Lt,inlineSvg:xt,mac:zn,linux:Jn},et=Ee.msPointer?"MSPointerDown":"pointerdown",ft=Ee.msPointer?"MSPointerMove":"pointermove",it=Ee.msPointer?"MSPointerUp":"pointerup",Et=Ee.msPointer?"MSPointerCancel":"pointercancel",It={touchstart:et,touchmove:ft,touchend:it,touchcancel:Et},Vt={touchstart:Bn,touchmove:En,touchend:En,touchcancel:En},Yt={},qt=!1;function Nt(d,v,P){return v==="touchstart"&&xn(),Vt[v]?(P=Vt[v].bind(this,P),d.addEventListener(It[v],P,!1),P):(console.warn("wrong event specified:",v),p)}function en(d,v,P){if(!It[v]){console.warn("wrong event specified:",v);return}d.removeEventListener(It[v],P,!1)}function Rn(d){Yt[d.pointerId]=d}function Kt(d){Yt[d.pointerId]&&(Yt[d.pointerId]=d)}function Qt(d){delete Yt[d.pointerId]}function xn(){qt||(document.addEventListener(et,Rn,!0),document.addEventListener(ft,Kt,!0),document.addEventListener(it,Qt,!0),document.addEventListener(Et,Qt,!0),qt=!0)}function En(d,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var P in Yt)v.touches.push(Yt[P]);v.changedTouches=[v],d(v)}}function Bn(d,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&nr(v),En(d,v)}function Tr(d){var v={},P,U;for(U in d)P=d[U],v[U]=P&&P.bind?P.bind(d):P;return d=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var Ur=200;function Br(d,v){d.addEventListener("dblclick",v);var P=0,U;function ee(ve){if(ve.detail!==1){U=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=go(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var st=Date.now();st-P<=Ur?(U++,U===2&&v(Tr(ve))):U=1,P=st}}}return d.addEventListener("click",ee),{dblclick:v,simDblclick:ee}}function Rr(d,v){d.removeEventListener("dblclick",v.dblclick),d.removeEventListener("click",v.simDblclick)}var Fn=ot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wr=ot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qi=Wr==="webkitTransition"||Wr==="OTransition"?Wr+"End":"transitionend";function C(d){return typeof d=="string"?document.getElementById(d):d}function T(d,v){var P=d.style[v]||d.currentStyle&&d.currentStyle[v];if((!P||P==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(d,null);P=U?U[v]:null}return P==="auto"?null:P}function R(d,v,P){var U=document.createElement(d);return U.className=v||"",P&&P.appendChild(U),U}function N(d){var v=d.parentNode;v&&v.removeChild(d)}function G(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function oe(d){var v=d.parentNode;v&&v.lastChild!==d&&v.appendChild(d)}function _e(d){var v=d.parentNode;v&&v.firstChild!==d&&v.insertBefore(d,v.firstChild)}function Ie(d,v){if(d.classList!==void 0)return d.classList.contains(v);var P=$e(d);return P.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(P)}function xe(d,v){if(d.classList!==void 0)for(var P=_(v),U=0,ee=P.length;U<ee;U++)d.classList.add(P[U]);else if(!Ie(d,v)){var ve=$e(d);Me(d,(ve?ve+" ":"")+v)}}function Pe(d,v){d.classList!==void 0?d.classList.remove(v):Me(d,y((" "+$e(d)+" ").replace(" "+v+" "," ")))}function Me(d,v){d.className.baseVal===void 0?d.className=v:d.className.baseVal=v}function $e(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function ze(d,v){"opacity"in d.style?d.style.opacity=v:"filter"in d.style&&Ye(d,v)}function Ye(d,v){var P=!1,U="DXImageTransform.Microsoft.Alpha";try{P=d.filters.item(U)}catch{if(v===1)return}v=Math.round(v*100),P?(P.Enabled=v!==100,P.Opacity=v):d.style.filter+=" progid:"+U+"(opacity="+v+")"}function ot(d){for(var v=document.documentElement.style,P=0;P<d.length;P++)if(d[P]in v)return d[P];return!1}function dt(d,v,P){var U=v||new le(0,0);d.style[Fn]=(Ee.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(P?" scale("+P+")":"")}function ut(d,v){d._leaflet_pos=v,Ee.any3d?dt(d,v):(d.style.left=v.x+"px",d.style.top=v.y+"px")}function we(d){return d._leaflet_pos||new le(0,0)}var De,Ue,Ke;if("onselectstart"in document)De=function(){Wt(window,"selectstart",nr)},Ue=function(){hn(window,"selectstart",nr)};else{var lt=ot(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var d=document.documentElement.style;Ke=d[lt],d[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Wt(window,"dragstart",nr)}function Ft(){hn(window,"dragstart",nr)}var Tt,pn;function kt(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(zt(),Tt=d,pn=d.style.outlineStyle,d.style.outlineStyle="none",Wt(window,"keydown",zt))}function zt(){Tt&&(Tt.style.outlineStyle=pn,Tt=void 0,pn=void 0,hn(window,"keydown",zt))}function qn(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Dn(d){var v=d.getBoundingClientRect();return{x:v.width/d.offsetWidth||1,y:v.height/d.offsetHeight||1,boundingClientRect:v}}var jn={__proto__:null,TRANSFORM:Fn,TRANSITION:Wr,TRANSITION_END:qi,get:C,getStyle:T,create:R,remove:N,empty:G,toFront:oe,toBack:_e,hasClass:Ie,addClass:xe,removeClass:Pe,setClass:Me,getClass:$e,setOpacity:ze,testProp:ot,setTransform:dt,setPosition:ut,getPosition:we,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:Ft,preventOutline:kt,restoreOutline:zt,getSizedParentNode:qn,getScale:Dn};function Wt(d,v,P,U){if(v&&typeof v=="object")for(var ee in v)gr(d,ee,v[ee],P);else{v=_(v);for(var ve=0,Ge=v.length;ve<Ge;ve++)gr(d,v[ve],P,U)}return this}var Kn="_leaflet_events";function hn(d,v,P,U){if(arguments.length===1)Yn(d),delete d[Kn];else if(v&&typeof v=="object")for(var ee in v)sr(d,ee,v[ee],P);else if(v=_(v),arguments.length===2)Yn(d,function(st){return I(v,st)!==-1});else for(var ve=0,Ge=v.length;ve<Ge;ve++)sr(d,v[ve],P,U);return this}function Yn(d,v){for(var P in d[Kn]){var U=P.split(/\d/)[0];(!v||v(U))&&sr(d,U,null,null,P)}}var pr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gr(d,v,P,U){var ee=v+c(P)+(U?"_"+c(U):"");if(d[Kn]&&d[Kn][ee])return this;var ve=function(st){return P.call(U||d,st||window.event)},Ge=ve;!Ee.touchNative&&Ee.pointer&&v.indexOf("touch")===0?ve=Nt(d,v,ve):Ee.touch&&v==="dblclick"?ve=Br(d,ve):"addEventListener"in d?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?d.addEventListener(pr[v]||v,ve,Ee.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(ve=function(st){st=st||window.event,Hi(d,st)&&Ge(st)},d.addEventListener(pr[v],ve,!1)):d.addEventListener(v,Ge,!1):d.attachEvent("on"+v,ve),d[Kn]=d[Kn]||{},d[Kn][ee]=ve}function sr(d,v,P,U,ee){ee=ee||v+c(P)+(U?"_"+c(U):"");var ve=d[Kn]&&d[Kn][ee];if(!ve)return this;!Ee.touchNative&&Ee.pointer&&v.indexOf("touch")===0?en(d,v,ve):Ee.touch&&v==="dblclick"?Rr(d,ve):"removeEventListener"in d?d.removeEventListener(pr[v]||v,ve,!1):d.detachEvent("on"+v,ve),d[Kn][ee]=null}function vi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function zi(d){return gr(d,"wheel",vi),this}function ca(d){return Wt(d,"mousedown touchstart dblclick contextmenu",vi),d._leaflet_disable_click=!0,this}function nr(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ii(d){return nr(d),vi(d),this}function go(d){if(d.composedPath)return d.composedPath();for(var v=[],P=d.target;P;)v.push(P),P=P.parentNode;return v}function rr(d,v){if(!v)return new le(d.clientX,d.clientY);var P=Dn(v),U=P.boundingClientRect;return new le((d.clientX-U.left)/P.x-v.clientLeft,(d.clientY-U.top)/P.y-v.clientTop)}var Ir=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ga(d){return Ee.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Ir:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Hi(d,v){var P=v.relatedTarget;if(!P)return!0;try{for(;P&&P!==d;)P=P.parentNode}catch{return!1}return P!==d}var wu={__proto__:null,on:Wt,off:hn,stopPropagation:vi,disableScrollPropagation:zi,disableClickPropagation:ca,preventDefault:nr,stop:Ii,getPropagationPath:go,getMousePosition:rr,getWheelDelta:Ga,isExternalTarget:Hi,addListener:Wt,removeListener:hn},Wa=ce.extend({run:function(d,v,P,U){this.stop(),this._el=d,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=we(d),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(d){var v=+new Date-this._startTime,P=this._duration*1e3;v<P?this._runFrame(this._easeOut(v/P),d):(this._runFrame(1),this._complete())},_runFrame:function(d,v){var P=this._startPos.add(this._offset.multiplyBy(d));v&&P._round(),ut(this._el,P),this.fire("step")},_complete:function(){fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),yn=ce.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,v){v=b(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(Ae(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wr&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,v,P){if(v=v===void 0?this._zoom:this._limitZoom(v),d=this._limitCenter(Ae(d),v,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var U=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,v,P.zoom):this._tryAnimatedPan(d,P.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(d,v,P.pan&&P.pan.noMoveStart),this},setZoom:function(d,v){return this._loaded?this.setView(this.getCenter(),d,{zoom:v}):(this._zoom=d,this)},zoomIn:function(d,v){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,v)},zoomOut:function(d,v){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,v)},setZoomAround:function(d,v,P){var U=this.getZoomScale(v),ee=this.getSize().divideBy(2),ve=d instanceof le?d:this.latLngToContainerPoint(d),Ge=ve.subtract(ee).multiplyBy(1-1/U),st=this.containerPointToLatLng(ee.add(Ge));return this.setView(st,v,{zoom:P})},_getBoundsCenterZoom:function(d,v){v=v||{},d=d.getBounds?d.getBounds():J(d);var P=k(v.paddingTopLeft||v.padding||[0,0]),U=k(v.paddingBottomRight||v.padding||[0,0]),ee=this.getBoundsZoom(d,!1,P.add(U));if(ee=typeof v.maxZoom=="number"?Math.min(v.maxZoom,ee):ee,ee===1/0)return{center:d.getCenter(),zoom:ee};var ve=U.subtract(P).divideBy(2),Ge=this.project(d.getSouthWest(),ee),st=this.project(d.getNorthEast(),ee),yt=this.unproject(Ge.add(st).divideBy(2).add(ve),ee);return{center:yt,zoom:ee}},fitBounds:function(d,v){if(d=J(d),!d.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(d,v);return this.setView(P.center,P.zoom,v)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,v){return this.setView(d,this._zoom,{pan:v})},panBy:function(d,v){if(d=k(d).round(),v=v||{},!d.x&&!d.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,P,v.duration||.25,v.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,v,P){if(P=P||{},P.animate===!1||!Ee.any3d)return this.setView(d,v,P);this._stop();var U=this.project(this.getCenter()),ee=this.project(d),ve=this.getSize(),Ge=this._zoom;d=Ae(d),v=v===void 0?Ge:v;var st=Math.max(ve.x,ve.y),yt=st*this.getZoomScale(Ge,v),bt=ee.distanceTo(U)||1,jt=1.42,nn=jt*jt;function gn(vr){var Os=vr?-1:1,Ul=vr?yt:st,mf=yt*yt-st*st+Os*nn*nn*bt*bt,Jm=2*Ul*nn*bt,yf=mf/Jm,Ko=Math.sqrt(yf*yf+1)-yf,Ym=Ko<1e-9?-18:Math.log(Ko);return Ym}function qr(vr){return(Math.exp(vr)-Math.exp(-vr))/2}function Ar(vr){return(Math.exp(vr)+Math.exp(-vr))/2}function di(vr){return qr(vr)/Ar(vr)}var _i=gn(0);function Vo(vr){return st*(Ar(_i)/Ar(_i+jt*vr))}function Wm(vr){return st*(Ar(_i)*di(_i+jt*vr)-qr(_i))/nn}function gf(vr){return 1-Math.pow(1-vr,1.5)}var Qm=Date.now(),Ou=(gn(1)-_i)/jt,Zm=P.duration?1e3*P.duration:1e3*Ou*.8;function Ps(){var vr=(Date.now()-Qm)/Zm,Os=gf(vr)*Ou;vr<=1?(this._flyToFrame=Z(Ps,this),this._move(this.unproject(U.add(ee.subtract(U).multiplyBy(Wm(Os)/bt)),Ge),this.getScaleZoom(st/Vo(Os),Ge),{flyTo:!0})):this._move(d,v)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),Ps.call(this),this},flyToBounds:function(d,v){var P=this._getBoundsCenterZoom(d,v);return this.flyTo(P.center,P.zoom,v)},setMaxBounds:function(d){return d=J(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var v=this.options.minZoom;return this.options.minZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var v=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,v){this._enforcingBounds=!0;var P=this.getCenter(),U=this._limitCenter(P,this._zoom,J(d));return P.equals(U)||this.panTo(U,v),this._enforcingBounds=!1,this},panInside:function(d,v){v=v||{};var P=k(v.paddingTopLeft||v.padding||[0,0]),U=k(v.paddingBottomRight||v.padding||[0,0]),ee=this.project(this.getCenter()),ve=this.project(d),Ge=this.getPixelBounds(),st=me([Ge.min.add(P),Ge.max.subtract(U)]),yt=st.getSize();if(!st.contains(ve)){this._enforcingBounds=!0;var bt=ve.subtract(st.getCenter()),jt=st.extend(ve).getSize().subtract(yt);ee.x+=bt.x<0?-jt.x:jt.x,ee.y+=bt.y<0?-jt.y:jt.y,this.panTo(this.unproject(ee),v),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),U=v.divideBy(2).round(),ee=P.divideBy(2).round(),ve=U.subtract(ee);return!ve.x&&!ve.y?this:(d.animate&&d.pan?this.panBy(ve):(d.pan&&this._rawPanBy(ve),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=o(this._handleGeolocationResponse,this),P=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,P,d):navigator.geolocation.getCurrentPosition(v,P,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var v=d.code,P=d.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var v=d.coords.latitude,P=d.coords.longitude,U=new ge(v,P),ee=U.toBounds(d.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(ee);this.setView(U,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var st={latlng:U,bounds:ee,timestamp:d.timestamp};for(var yt in d.coords)typeof d.coords[yt]=="number"&&(st[yt]=d.coords[yt]);this.fire("locationfound",st)}},addHandler:function(d,v){if(!v)return this;var P=this[d]=new v(this);return this._handlers.push(P),this.options[d]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)N(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,v){var P="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),U=R("div",P,v||this._mapPane);return d&&(this._panes[d]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),v=this.unproject(d.getBottomLeft()),P=this.unproject(d.getTopRight());return new H(v,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,v,P){d=J(d),P=k(P||[0,0]);var U=this.getZoom()||0,ee=this.getMinZoom(),ve=this.getMaxZoom(),Ge=d.getNorthWest(),st=d.getSouthEast(),yt=this.getSize().subtract(P),bt=me(this.project(st,U),this.project(Ge,U)).getSize(),jt=Ee.any3d?this.options.zoomSnap:1,nn=yt.x/bt.x,gn=yt.y/bt.y,qr=v?Math.max(nn,gn):Math.min(nn,gn);return U=this.getScaleZoom(qr,U),jt&&(U=Math.round(U/(jt/100))*(jt/100),U=v?Math.ceil(U/jt)*jt:Math.floor(U/jt)*jt),Math.max(ee,Math.min(ve,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,v){var P=this._getTopLeftPoint(d,v);return new ne(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,v){var P=this.options.crs;return v=v===void 0?this._zoom:v,P.scale(d)/P.scale(v)},getScaleZoom:function(d,v){var P=this.options.crs;v=v===void 0?this._zoom:v;var U=P.zoom(d*P.scale(v));return isNaN(U)?1/0:U},project:function(d,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(Ae(d),v)},unproject:function(d,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(k(d),v)},layerPointToLatLng:function(d){var v=k(d).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(d){var v=this.project(Ae(d))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Ae(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(J(d))},distance:function(d,v){return this.options.crs.distance(Ae(d),Ae(v))},containerPointToLayerPoint:function(d){return k(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return k(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var v=this.containerPointToLayerPoint(k(d));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(d)))},mouseEventToContainerPoint:function(d){return rr(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var v=this._container=C(d);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(v,"scroll",this._onScroll,this),this._containerId=c(v)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,xe(d,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=T(d,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(d.markerPane,"leaflet-zoom-hide"),xe(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,v,P){ut(this._mapPane,new le(0,0));var U=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var ee=this._zoom!==v;this._moveStart(ee,P)._move(d,v)._moveEnd(ee),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(d,v){return d&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(d,v,P,U){v===void 0&&(v=this._zoom);var ee=this._zoom!==v;return this._zoom=v,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),U?P&&P.pinch&&this.fire("zoom",P):((ee||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var v=d?hn:Wt;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){fe(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,v){for(var P=[],U,ee=v==="mouseout"||v==="mouseover",ve=d.target||d.srcElement,Ge=!1;ve;){if(U=this._targets[c(ve)],U&&(v==="click"||v==="preclick")&&this._draggableMoved(U)){Ge=!0;break}if(U&&U.listens(v,!0)&&(ee&&!Hi(ve,d)||(P.push(U),ee))||ve===this._container)break;ve=ve.parentNode}return!P.length&&!Ge&&!ee&&this.listens(v,!0)&&(P=[this]),P},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var v=d.target||d.srcElement;if(!(!this._loaded||v._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(v))){var P=d.type;P==="mousedown"&&kt(v),this._fireDOMEvent(d,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,v,P){if(d.type==="click"){var U=i({},d);U.type="preclick",this._fireDOMEvent(U,U.type,P)}var ee=this._findEventTargets(d,v);if(P){for(var ve=[],Ge=0;Ge<P.length;Ge++)P[Ge].listens(v,!0)&&ve.push(P[Ge]);ee=ve.concat(ee)}if(ee.length){v==="contextmenu"&&nr(d);var st=ee[0],yt={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var bt=st.getLatLng&&(!st._radius||st._radius<=10);yt.containerPoint=bt?this.latLngToContainerPoint(st.getLatLng()):this.mouseEventToContainerPoint(d),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=bt?st.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<ee.length;Ge++)if(ee[Ge].fire(v,yt,!0),yt.originalEvent._stopped||ee[Ge].options.bubblingMouseEvents===!1&&I(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,v=this._handlers.length;d<v;d++)this._handlers[d].disable()},whenReady:function(d,v){return this._loaded?d.call(v||this,{target:this}):this.on("load",d,v),this},_getMapPanePos:function(){return we(this._mapPane)||new le(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,v){var P=d&&v!==void 0?this._getNewPixelOrigin(d,v):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,v){var P=this.getSize()._divideBy(2);return this.project(d,v)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,v,P){var U=this._getNewPixelOrigin(P,v);return this.project(d,v)._subtract(U)},_latLngBoundsToNewLayerBounds:function(d,v,P){var U=this._getNewPixelOrigin(P,v);return me([this.project(d.getSouthWest(),v)._subtract(U),this.project(d.getNorthWest(),v)._subtract(U),this.project(d.getSouthEast(),v)._subtract(U),this.project(d.getNorthEast(),v)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,v,P){if(!P)return d;var U=this.project(d,v),ee=this.getSize().divideBy(2),ve=new ne(U.subtract(ee),U.add(ee)),Ge=this._getBoundsOffset(ve,P,v);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?d:this.unproject(U.add(Ge),v)},_limitOffset:function(d,v){if(!v)return d;var P=this.getPixelBounds(),U=new ne(P.min.add(d),P.max.add(d));return d.add(this._getBoundsOffset(U,v))},_getBoundsOffset:function(d,v,P){var U=me(this.project(v.getNorthEast(),P),this.project(v.getSouthWest(),P)),ee=U.min.subtract(d.min),ve=U.max.subtract(d.max),Ge=this._rebound(ee.x,-ve.x),st=this._rebound(ee.y,-ve.y);return new le(Ge,st)},_rebound:function(d,v){return d+v>0?Math.round(d-v)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(v))},_limitZoom:function(d){var v=this.getMinZoom(),P=this.getMaxZoom(),U=Ee.any3d?this.options.zoomSnap:1;return U&&(d=Math.round(d/U)*U),Math.max(v,Math.min(P,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,v){var P=this._getCenterOffset(d)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,v),!0)},_createAnimProxy:function(){var d=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(v){var P=Fn,U=this._proxy.style[P];dt(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),U===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),v=this.getZoom();dt(this._proxy,this.project(d,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,v,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(v),ee=this._getCenterOffset(d)._divideBy(1-1/U);return P.animate!==!0&&!this.getSize().contains(ee)?!1:(Z(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(d,v,!0)},this),!0)},_animateZoom:function(d,v,P,U){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=v,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:v,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ca(d,v){return new yn(d,v)}var ur=se.extend({options:{position:"topright"},initialize:function(d){b(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var v=this._map;return v&&v.removeControl(this),this.options.position=d,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var v=this._container=this.onAdd(d),P=this.getPosition(),U=d._controlCorners[P];return xe(v,"leaflet-control"),P.indexOf("bottom")!==-1?U.insertBefore(v,U.firstChild):U.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Mi=function(d){return new ur(d)};yn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},v="leaflet-",P=this._controlContainer=R("div",v+"control-container",this._container);function U(ee,ve){var Ge=v+ee+" "+v+ve;d[ee+ve]=R("div",Ge,P)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)N(this._controlCorners[d]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fa=ur.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,v,P,U){return P<U?-1:U<P?1:0}},initialize:function(d,v,P){b(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in d)this._addLayer(d[U],U);for(U in v)this._addLayer(v[U],U,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return ur.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,v){return this._addLayer(d,v),this._map?this._update():this},addOverlay:function(d,v){return this._addLayer(d,v,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var v=this._getLayer(c(d));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",v=this._container=R("div",d),P=this.options.collapsed;v.setAttribute("aria-haspopup",!0),ca(v),zi(v);var U=this._section=R("section",d+"-list");P&&(this._map.on("click",this.collapse,this),Wt(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ee=this._layersLink=R("a",d+"-toggle",v);ee.href="#",ee.title="Layers",ee.setAttribute("role","button"),Wt(ee,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){nr(ve),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=R("div",d+"-base",U),this._separator=R("div",d+"-separator",U),this._overlaysList=R("div",d+"-overlays",U),v.appendChild(U)},_getLayer:function(d){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&c(this._layers[v].layer)===d)return this._layers[v]},_addLayer:function(d,v,P){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:v,overlay:P}),this.options.sortLayers&&this._layers.sort(o(function(U,ee){return this.options.sortFunction(U.layer,ee.layer,U.name,ee.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;G(this._baseLayersList),G(this._overlaysList),this._layerControlInputs=[];var d,v,P,U,ee=0;for(P=0;P<this._layers.length;P++)U=this._layers[P],this._addItem(U),v=v||U.overlay,d=d||!U.overlay,ee+=U.overlay?0:1;return this.options.hideSingleBase&&(d=d&&ee>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=v&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var v=this._getLayer(c(d.target)),P=v.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;P&&this._map.fire(P,v)},_createRadioElement:function(d,v){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(v?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=P,U.firstChild},_addItem:function(d){var v=document.createElement("label"),P=this._map.hasLayer(d.layer),U;d.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=P):U=this._createRadioElement("leaflet-base-layers_"+c(this),P),this._layerControlInputs.push(U),U.layerId=c(d.layer),Wt(U,"click",this._onInputClick,this);var ee=document.createElement("span");ee.innerHTML=" "+d.name;var ve=document.createElement("span");v.appendChild(ve),ve.appendChild(U),ve.appendChild(ee);var Ge=d.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,v,P,U=[],ee=[];this._handlingClick=!0;for(var ve=d.length-1;ve>=0;ve--)v=d[ve],P=this._getLayer(v.layerId).layer,v.checked?U.push(P):v.checked||ee.push(P);for(ve=0;ve<ee.length;ve++)this._map.hasLayer(ee[ve])&&this._map.removeLayer(ee[ve]);for(ve=0;ve<U.length;ve++)this._map.hasLayer(U[ve])||this._map.addLayer(U[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,v,P,U=this._map.getZoom(),ee=d.length-1;ee>=0;ee--)v=d[ee],P=this._getLayer(v.layerId).layer,v.disabled=P.options.minZoom!==void 0&&U<P.options.minZoom||P.options.maxZoom!==void 0&&U>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Wt(d,"click",nr),this.expand();var v=this;setTimeout(function(){hn(d,"click",nr),v._preventClick=!1})}}),lr=function(d,v,P){return new fa(d,v,P)},Vi=ur.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var v="leaflet-control-zoom",P=R("div",v+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,v+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,v+"-out",P,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,v,P,U,ee){var ve=R("a",P,U);return ve.innerHTML=d,ve.href="#",ve.title=v,ve.setAttribute("role","button"),ve.setAttribute("aria-label",v),ca(ve),Wt(ve,"click",Ii),Wt(ve,"click",ee,this),Wt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var d=this._map,v="leaflet-disabled";Pe(this._zoomInButton,v),Pe(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xe(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xe(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});yn.mergeOptions({zoomControl:!0}),yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vi,this.addControl(this.zoomControl))});var Qa=function(d){return new Vi(d)},Cr=ur.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var v="leaflet-control-scale",P=R("div",v),U=this.options;return this._addScales(U,v+"-line",P),d.on(U.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),P},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,v,P){d.metric&&(this._mScale=R("div",v,P)),d.imperial&&(this._iScale=R("div",v,P))},_update:function(){var d=this._map,v=d.getSize().y/2,P=d.distance(d.containerPointToLatLng([0,v]),d.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(P)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var v=this._getRoundNum(d),P=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,P,v/d)},_updateImperial:function(d){var v=d*3.2808399,P,U,ee;v>5280?(P=v/5280,U=this._getRoundNum(P),this._updateScale(this._iScale,U+" mi",U/P)):(ee=this._getRoundNum(v),this._updateScale(this._iScale,ee+" ft",ee/v))},_updateScale:function(d,v,P){d.style.width=Math.round(this.options.maxWidth*P)+"px",d.innerHTML=v},_getRoundNum:function(d){var v=Math.pow(10,(Math.floor(d)+"").length-1),P=d/v;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,v*P}}),Rl=function(d){return new Cr(d)},mo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Aa=ur.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?mo+" ":"")+"Leaflet</a>"},initialize:function(d){b(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=R("div","leaflet-control-attribution"),ca(this._container);for(var v in d._layers)d._layers[v].getAttribution&&this.addAttribution(d._layers[v].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var v in this._attributions)this._attributions[v]&&d.push(v);var P=[];this.options.prefix&&P.push(this.options.prefix),d.length&&P.push(d.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});yn.mergeOptions({attributionControl:!0}),yn.addInitHook(function(){this.options.attributionControl&&new Aa().addTo(this)});var oh=function(d){return new Aa(d)};ur.Layers=fa,ur.Zoom=Vi,ur.Scale=Cr,ur.Attribution=Aa,Mi.layers=lr,Mi.zoom=Qa,Mi.scale=Rl,Mi.attribution=oh;var Ki=se.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ki.addTo=function(d,v){return d.addHandler(v,this),this};var af={Events:be},Im=Ee.touch?"touchstart mousedown":"mousedown",Ho=ce.extend({options:{clickTolerance:3},initialize:function(d,v,P,U){b(this,U),this._element=d,this._dragStartTarget=v||d,this._preventOutline=P},enable:function(){this._enabled||(Wt(this._dragStartTarget,Im,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ho._dragging===this&&this.finishDrag(!0),hn(this._dragStartTarget,Im,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ho._dragging===this&&this.finishDrag();return}if(!(Ho._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ho._dragging=this,this._preventOutline&&kt(this._element),mt(),De(),!this._moving)){this.fire("down");var v=d.touches?d.touches[0]:d,P=qn(this._element);this._startPoint=new le(v.clientX,v.clientY),this._startPos=we(this._element),this._parentScale=Dn(P);var U=d.type==="mousedown";Wt(document,U?"mousemove":"touchmove",this._onMove,this),Wt(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var v=d.touches&&d.touches.length===1?d.touches[0]:d,P=new le(v.clientX,v.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,nr(d),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hn(document,"mousemove touchmove",this._onMove,this),hn(document,"mouseup touchend touchcancel",this._onUp,this),Ft(),Ue();var v=this._moved&&this._moving;this._moving=!1,Ho._dragging=!1,v&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Mm(d,v,P){var U,ee=[1,4,2,8],ve,Ge,st,yt,bt,jt,nn,gn;for(ve=0,jt=d.length;ve<jt;ve++)d[ve]._code=vs(d[ve],v);for(st=0;st<4;st++){for(nn=ee[st],U=[],ve=0,jt=d.length,Ge=jt-1;ve<jt;Ge=ve++)yt=d[ve],bt=d[Ge],yt._code&nn?bt._code&nn||(gn=sf(bt,yt,nn,v,P),gn._code=vs(gn,v),U.push(gn)):(bt._code&nn&&(gn=sf(bt,yt,nn,v,P),gn._code=vs(gn,v),U.push(gn)),U.push(yt));d=U}return d}function of(d,v){var P,U,ee,ve,Ge,st,yt,bt,jt;if(!d||d.length===0)throw new Error("latlngs not passed");ci(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var nn=Ae([0,0]),gn=J(d),qr=gn.getNorthWest().distanceTo(gn.getSouthWest())*gn.getNorthEast().distanceTo(gn.getNorthWest());qr<1700&&(nn=sh(d));var Ar=d.length,di=[];for(P=0;P<Ar;P++){var _i=Ae(d[P]);di.push(v.project(Ae([_i.lat-nn.lat,_i.lng-nn.lng])))}for(st=yt=bt=0,P=0,U=Ar-1;P<Ar;U=P++)ee=di[P],ve=di[U],Ge=ee.y*ve.x-ve.y*ee.x,yt+=(ee.x+ve.x)*Ge,bt+=(ee.y+ve.y)*Ge,st+=Ge*3;st===0?jt=di[0]:jt=[yt/st,bt/st];var Vo=v.unproject(k(jt));return Ae([Vo.lat+nn.lat,Vo.lng+nn.lng])}function sh(d){for(var v=0,P=0,U=0,ee=0;ee<d.length;ee++){var ve=Ae(d[ee]);v+=ve.lat,P+=ve.lng,U++}return Ae([v/U,P/U])}var hw={__proto__:null,clipPolygon:Mm,polygonCenter:of,centroid:sh};function Dm(d,v){if(!v||!d.length)return d.slice();var P=v*v;return d=mw(d,P),d=gw(d,P),d}function uh(d,v,P){return Math.sqrt(_s(d,v,P,!0))}function pw(d,v,P){return _s(d,v,P)}function gw(d,v){var P=d.length,U=typeof Uint8Array<"u"?Uint8Array:Array,ee=new U(P);ee[0]=ee[P-1]=1,lh(d,ee,v,0,P-1);var ve,Ge=[];for(ve=0;ve<P;ve++)ee[ve]&&Ge.push(d[ve]);return Ge}function lh(d,v,P,U,ee){var ve=0,Ge,st,yt;for(st=U+1;st<=ee-1;st++)yt=_s(d[st],d[U],d[ee],!0),yt>ve&&(Ge=st,ve=yt);ve>P&&(v[Ge]=1,lh(d,v,P,U,Ge),lh(d,v,P,Ge,ee))}function mw(d,v){for(var P=[d[0]],U=1,ee=0,ve=d.length;U<ve;U++)yw(d[U],d[ee])>v&&(P.push(d[U]),ee=U);return ee<ve-1&&P.push(d[ve-1]),P}var km;function Nm(d,v,P,U,ee){var ve=U?km:vs(d,P),Ge=vs(v,P),st,yt,bt;for(km=Ge;;){if(!(ve|Ge))return[d,v];if(ve&Ge)return!1;st=ve||Ge,yt=sf(d,v,st,P,ee),bt=vs(yt,P),st===ve?(d=yt,ve=bt):(v=yt,Ge=bt)}}function sf(d,v,P,U,ee){var ve=v.x-d.x,Ge=v.y-d.y,st=U.min,yt=U.max,bt,jt;return P&8?(bt=d.x+ve*(yt.y-d.y)/Ge,jt=yt.y):P&4?(bt=d.x+ve*(st.y-d.y)/Ge,jt=st.y):P&2?(bt=yt.x,jt=d.y+Ge*(yt.x-d.x)/ve):P&1&&(bt=st.x,jt=d.y+Ge*(st.x-d.x)/ve),new le(bt,jt,ee)}function vs(d,v){var P=0;return d.x<v.min.x?P|=1:d.x>v.max.x&&(P|=2),d.y<v.min.y?P|=4:d.y>v.max.y&&(P|=8),P}function yw(d,v){var P=v.x-d.x,U=v.y-d.y;return P*P+U*U}function _s(d,v,P,U){var ee=v.x,ve=v.y,Ge=P.x-ee,st=P.y-ve,yt=Ge*Ge+st*st,bt;return yt>0&&(bt=((d.x-ee)*Ge+(d.y-ve)*st)/yt,bt>1?(ee=P.x,ve=P.y):bt>0&&(ee+=Ge*bt,ve+=st*bt)),Ge=d.x-ee,st=d.y-ve,U?Ge*Ge+st*st:new le(ee,ve)}function ci(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Fm(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ci(d)}function ch(d,v){var P,U,ee,ve,Ge,st,yt,bt;if(!d||d.length===0)throw new Error("latlngs not passed");ci(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var jt=Ae([0,0]),nn=J(d),gn=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());gn<1700&&(jt=sh(d));var qr=d.length,Ar=[];for(P=0;P<qr;P++){var di=Ae(d[P]);Ar.push(v.project(Ae([di.lat-jt.lat,di.lng-jt.lng])))}for(P=0,U=0;P<qr-1;P++)U+=Ar[P].distanceTo(Ar[P+1])/2;if(U===0)bt=Ar[0];else for(P=0,ve=0;P<qr-1;P++)if(Ge=Ar[P],st=Ar[P+1],ee=Ge.distanceTo(st),ve+=ee,ve>U){yt=(ve-U)/ee,bt=[st.x-yt*(st.x-Ge.x),st.y-yt*(st.y-Ge.y)];break}var _i=v.unproject(k(bt));return Ae([_i.lat+jt.lat,_i.lng+jt.lng])}var jm={__proto__:null,simplify:Dm,pointToSegmentDistance:uh,closestPointOnSegment:pw,clipSegment:Nm,_getEdgeIntersection:sf,_getBitCode:vs,_sqClosestPointOnSegment:_s,isFlat:ci,_flat:Fm,polylineCenter:ch},uf={project:function(d){return new le(d.lng,d.lat)},unproject:function(d){return new ge(d.y,d.x)},bounds:new ne([-180,-90],[180,90])},lf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var v=Math.PI/180,P=this.R,U=d.lat*v,ee=this.R_MINOR/P,ve=Math.sqrt(1-ee*ee),Ge=ve*Math.sin(U),st=Math.tan(Math.PI/4-U/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return U=-P*Math.log(Math.max(st,1e-10)),new le(d.lng*v*P,U)},unproject:function(d){for(var v=180/Math.PI,P=this.R,U=this.R_MINOR/P,ee=Math.sqrt(1-U*U),ve=Math.exp(-d.y/P),Ge=Math.PI/2-2*Math.atan(ve),st=0,yt=.1,bt;st<15&&Math.abs(yt)>1e-7;st++)bt=ee*Math.sin(Ge),bt=Math.pow((1-bt)/(1+bt),ee/2),yt=Math.PI/2-2*Math.atan(ve*bt)-Ge,Ge+=yt;return new ge(Ge*v,d.x*v/P)}},$m={__proto__:null,LonLat:uf,Mercator:lf,SphericalMercator:Xe},bu=i({},Re,{code:"EPSG:3395",projection:lf,transformation:function(){var d=.5/(Math.PI*lf.R);return z(d,.5,-d,.5)}()}),Um=i({},Re,{code:"EPSG:4326",projection:uf,transformation:z(1/180,1,-1/180,.5)}),vw=i({},Je,{projection:uf,transformation:z(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,v){var P=v.lng-d.lng,U=v.lat-d.lat;return Math.sqrt(P*P+U*U)},infinite:!0});Je.Earth=Re,Je.EPSG3395=bu,Je.EPSG3857=$,Je.EPSG900913=re,Je.EPSG4326=Um,Je.Simple=vw;var Ra=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var v=d.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var P=this.getEvents();v.on(P,this),this.once("remove",function(){v.off(P,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});yn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var v=c(d);return this._layers[v]?this:(this._layers[v]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var v=c(d);return this._layers[v]?(this._loaded&&d.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,v){for(var P in this._layers)d.call(v,this._layers[P]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var v=0,P=d.length;v<P;v++)this.addLayer(d[v])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var v=c(d);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,v=-1/0,P=this._getZoomSpan();for(var U in this._zoomBoundLayers){var ee=this._zoomBoundLayers[U].options;d=ee.minZoom===void 0?d:Math.min(d,ee.minZoom),v=ee.maxZoom===void 0?v:Math.max(v,ee.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=d===1/0?void 0:d,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ws=Ra.extend({initialize:function(d,v){b(this,v),this._layers={};var P,U;if(d)for(P=0,U=d.length;P<U;P++)this.addLayer(d[P])},addLayer:function(d){var v=this.getLayerId(d);return this._layers[v]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var v=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(d){var v=typeof d=="number"?d:this.getLayerId(d);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var v=Array.prototype.slice.call(arguments,1),P,U;for(P in this._layers)U=this._layers[P],U[d]&&U[d].apply(U,v);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,v){for(var P in this._layers)d.call(v,this._layers[P]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),Bm=function(d,v){return new ws(d,v)},Gi=ws.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),ws.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),ws.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new H;for(var v in this._layers){var P=this._layers[v];d.extend(P.getBounds?P.getBounds():P.getLatLng())}return d}}),Pl=function(d,v){return new Gi(d,v)},Su=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){b(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,v){var P=this._getIconUrl(d);if(!P){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(P,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(U,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(d,v){var P=this.options,U=P[v+"Size"];typeof U=="number"&&(U=[U,U]);var ee=k(U),ve=k(v==="shadow"&&P.shadowAnchor||P.iconAnchor||ee&&ee.divideBy(2,!0));d.className="leaflet-marker-"+v+" "+(P.className||""),ve&&(d.style.marginLeft=-ve.x+"px",d.style.marginTop=-ve.y+"px"),ee&&(d.style.width=ee.x+"px",d.style.height=ee.y+"px")},_createImg:function(d,v){return v=v||document.createElement("img"),v.src=d,v},_getIconUrl:function(d){return Ee.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function cf(d){return new Su(d)}var xu=Su.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof xu.imagePath!="string"&&(xu.imagePath=this._detectIconPath()),(this.options.imagePath||xu.imagePath)+Su.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var v=function(P,U,ee){var ve=U.exec(P);return ve&&ve[ee]};return d=v(d,/^url\((['"])?(.+)\1\)$/,2),d&&v(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=R("div","leaflet-default-icon-path",document.body),v=T(d,"background-image")||T(d,"backgroundImage");if(document.body.removeChild(d),v=this._stripUrl(v),v)return v;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),fh=Ki.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ho(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var v=this._marker,P=v._map,U=this._marker.options.autoPanSpeed,ee=this._marker.options.autoPanPadding,ve=we(v._icon),Ge=P.getPixelBounds(),st=P.getPixelOrigin(),yt=me(Ge.min._subtract(st).add(ee),Ge.max._subtract(st).subtract(ee));if(!yt.contains(ve)){var bt=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(U);P.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),ut(v._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=Z(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(fe(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,d)))},_onDrag:function(d){var v=this._marker,P=v._shadow,U=we(v._icon),ee=v._map.layerPointToLatLng(U);P&&ut(P,U),v._latlng=ee,d.latlng=ee,d.oldLatLng=this._oldLatLng,v.fire("move",d).fire("drag",d)},_onDragEnd:function(d){fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),Eu=Ra.extend({options:{icon:new xu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,v){b(this,v),this._latlng=Ae(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var v=this._latlng;return this._latlng=Ae(d),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=d.icon.createIcon(this._icon),U=!1;P!==this._icon&&(this._icon&&this._removeIcon(),U=!0,d.title&&(P.title=d.title),P.tagName==="IMG"&&(P.alt=d.alt||"")),xe(P,v),d.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(P,"focus",this._panOnFocus,this);var ee=d.icon.createShadow(this._shadow),ve=!1;ee!==this._shadow&&(this._removeShadow(),ve=!0),ee&&(xe(ee,v),ee.alt=""),this._shadow=ee,d.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),ee&&ve&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&ut(this._icon,d),this._shadow&&ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fh)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fh(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&ze(this._icon,d),this._shadow&&ze(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var v=this.options.icon.options,P=v.iconSize?k(v.iconSize):k(0,0),U=v.iconAnchor?k(v.iconAnchor):k(0,0);d.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:P.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dh(d,v){return new Eu(d,v)}var yo=Ra.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return b(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ol=yo.extend({options:{fill:!0,radius:10},initialize:function(d,v){b(this,v),this._latlng=Ae(d),this._radius=this.options.radius},setLatLng:function(d){var v=this._latlng;return this._latlng=Ae(d),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var v=d&&d.radius||this._radius;return yo.prototype.setStyle.call(this,d),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,v=this._radiusY||d,P=this._clickTolerance(),U=[d+P,v+P];this._pxBounds=new ne(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qm(d,v){return new Ol(d,v)}var hh=Ol.extend({initialize:function(d,v,P){if(typeof v=="number"&&(v=i({},P,{radius:v})),b(this,v),this._latlng=Ae(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:yo.prototype.setStyle,_project:function(){var d=this._latlng.lng,v=this._latlng.lat,P=this._map,U=P.options.crs;if(U.distance===Re.distance){var ee=Math.PI/180,ve=this._mRadius/Re.R/ee,Ge=P.project([v+ve,d]),st=P.project([v-ve,d]),yt=Ge.add(st).divideBy(2),bt=P.unproject(yt).lat,jt=Math.acos((Math.cos(ve*ee)-Math.sin(v*ee)*Math.sin(bt*ee))/(Math.cos(v*ee)*Math.cos(bt*ee)))/ee;(isNaN(jt)||jt===0)&&(jt=ve/Math.cos(Math.PI/180*v)),this._point=yt.subtract(P.getPixelOrigin()),this._radius=isNaN(jt)?0:yt.x-P.project([bt,d-jt]).x,this._radiusY=yt.y-Ge.y}else{var nn=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(nn).x}this._updateBounds()}});function _w(d,v,P){return new hh(d,v,P)}var vo=yo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,v){b(this,v),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var v=1/0,P=null,U=_s,ee,ve,Ge=0,st=this._parts.length;Ge<st;Ge++)for(var yt=this._parts[Ge],bt=1,jt=yt.length;bt<jt;bt++){ee=yt[bt-1],ve=yt[bt];var nn=U(d,ee,ve,!0);nn<v&&(v=nn,P=U(d,ee,ve))}return P&&(P.distance=Math.sqrt(v)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ch(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,v){return v=v||this._defaultShape(),d=Ae(d),v.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new H,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return ci(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var v=[],P=ci(d),U=0,ee=d.length;U<ee;U++)P?(v[U]=Ae(d[U]),this._bounds.extend(v[U])):v[U]=this._convertLatLngs(d[U]);return v},_project:function(){var d=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),v=new le(d,d);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(d,v,P){var U=d[0]instanceof ge,ee=d.length,ve,Ge;if(U){for(Ge=[],ve=0;ve<ee;ve++)Ge[ve]=this._map.latLngToLayerPoint(d[ve]),P.extend(Ge[ve]);v.push(Ge)}else for(ve=0;ve<ee;ve++)this._projectLatlngs(d[ve],v,P)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,P,U,ee,ve,Ge,st,yt;for(P=0,ee=0,ve=this._rings.length;P<ve;P++)for(yt=this._rings[P],U=0,Ge=yt.length;U<Ge-1;U++)st=Nm(yt[U],yt[U+1],d,U,!0),st&&(v[ee]=v[ee]||[],v[ee].push(st[0]),(st[1]!==yt[U+1]||U===Ge-2)&&(v[ee].push(st[1]),ee++))}},_simplifyPoints:function(){for(var d=this._parts,v=this.options.smoothFactor,P=0,U=d.length;P<U;P++)d[P]=Dm(d[P],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,v){var P,U,ee,ve,Ge,st,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(P=0,ve=this._parts.length;P<ve;P++)for(st=this._parts[P],U=0,Ge=st.length,ee=Ge-1;U<Ge;ee=U++)if(!(!v&&U===0)&&uh(d,st[ee],st[U])<=yt)return!0;return!1}});function ww(d,v){return new vo(d,v)}vo._flat=Fm;var Tu=vo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return of(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var v=vo.prototype._convertLatLngs.call(this,d),P=v.length;return P>=2&&v[0]instanceof ge&&v[0].equals(v[P-1])&&v.pop(),v},_setLatLngs:function(d){vo.prototype._setLatLngs.call(this,d),ci(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ci(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,v=this.options.weight,P=new le(v,v);if(d=new ne(d.min.subtract(P),d.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,ee=this._rings.length,ve;U<ee;U++)ve=Mm(this._rings[U],d,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var v=!1,P,U,ee,ve,Ge,st,yt,bt;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(P=this._parts[ve],Ge=0,bt=P.length,st=bt-1;Ge<bt;st=Ge++)U=P[Ge],ee=P[st],U.y>d.y!=ee.y>d.y&&d.x<(ee.x-U.x)*(d.y-U.y)/(ee.y-U.y)+U.x&&(v=!v);return v||vo.prototype._containsPoint.call(this,d,!0)}});function Wi(d,v){return new Tu(d,v)}var Qi=Gi.extend({initialize:function(d,v){b(this,v),this._layers={},d&&this.addData(d)},addData:function(d){var v=A(d)?d:d.features,P,U,ee;if(v){for(P=0,U=v.length;P<U;P++)ee=v[P],(ee.geometries||ee.geometry||ee.features||ee.coordinates)&&this.addData(ee);return this}var ve=this.options;if(ve.filter&&!ve.filter(d))return this;var Ge=Ll(d,ve);return Ge?(Ge.feature=_o(d),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(d,Ge),this.addLayer(Ge)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(v){this._setLayerStyle(v,d)},this)},_setLayerStyle:function(d,v){d.setStyle&&(typeof v=="function"&&(v=v(d.feature)),d.setStyle(v))}});function Ll(d,v){var P=d.type==="Feature"?d.geometry:d,U=P?P.coordinates:null,ee=[],ve=v&&v.pointToLayer,Ge=v&&v.coordsToLatLng||ff,st,yt,bt,jt;if(!U&&!P)return null;switch(P.type){case"Point":return st=Ge(U),ph(ve,d,st,v);case"MultiPoint":for(bt=0,jt=U.length;bt<jt;bt++)st=Ge(U[bt]),ee.push(ph(ve,d,st,v));return new Gi(ee);case"LineString":case"MultiLineString":return yt=Il(U,P.type==="LineString"?0:1,Ge),new vo(yt,v);case"Polygon":case"MultiPolygon":return yt=Il(U,P.type==="Polygon"?1:2,Ge),new Tu(yt,v);case"GeometryCollection":for(bt=0,jt=P.geometries.length;bt<jt;bt++){var nn=Ll({geometry:P.geometries[bt],type:"Feature",properties:d.properties},v);nn&&ee.push(nn)}return new Gi(ee);case"FeatureCollection":for(bt=0,jt=P.features.length;bt<jt;bt++){var gn=Ll(P.features[bt],v);gn&&ee.push(gn)}return new Gi(ee);default:throw new Error("Invalid GeoJSON object.")}}function ph(d,v,P,U){return d?d(v,P):new Eu(P,U&&U.markersInheritOptions&&U)}function ff(d){return new ge(d[1],d[0],d[2])}function Il(d,v,P){for(var U=[],ee=0,ve=d.length,Ge;ee<ve;ee++)Ge=v?Il(d[ee],v-1,P):(P||ff)(d[ee]),U.push(Ge);return U}function Ml(d,v){return d=Ae(d),d.alt!==void 0?[m(d.lng,v),m(d.lat,v),m(d.alt,v)]:[m(d.lng,v),m(d.lat,v)]}function df(d,v,P,U){for(var ee=[],ve=0,Ge=d.length;ve<Ge;ve++)ee.push(v?df(d[ve],ci(d[ve])?0:v-1,P,U):Ml(d[ve],U));return!v&&P&&ee.length>0&&ee.push(ee[0].slice()),ee}function Cu(d,v){return d.feature?i({},d.feature,{geometry:v}):_o(v)}function _o(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Dl={toGeoJSON:function(d){return Cu(this,{type:"Point",coordinates:Ml(this.getLatLng(),d)})}};Eu.include(Dl),hh.include(Dl),Ol.include(Dl),vo.include({toGeoJSON:function(d){var v=!ci(this._latlngs),P=df(this._latlngs,v?1:0,!1,d);return Cu(this,{type:(v?"Multi":"")+"LineString",coordinates:P})}}),Tu.include({toGeoJSON:function(d){var v=!ci(this._latlngs),P=v&&!ci(this._latlngs[0]),U=df(this._latlngs,P?2:v?1:0,!0,d);return v||(U=[U]),Cu(this,{type:(P?"Multi":"")+"Polygon",coordinates:U})}}),ws.include({toMultiPoint:function(d){var v=[];return this.eachLayer(function(P){v.push(P.toGeoJSON(d).geometry.coordinates)}),Cu(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(d){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(d);var P=v==="GeometryCollection",U=[];return this.eachLayer(function(ee){if(ee.toGeoJSON){var ve=ee.toGeoJSON(d);if(P)U.push(ve.geometry);else{var Ge=_o(ve);Ge.type==="FeatureCollection"?U.push.apply(U,Ge.features):U.push(Ge)}}}),P?Cu(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function Au(d,v){return new Qi(d,v)}var gh=Au,kl=Ra.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,v,P){this._url=d,this._bounds=J(v),b(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&oe(this._image),this},bringToBack:function(){return this._map&&_e(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=J(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",v=this._image=d?this._url:R("img");if(xe(v,"leaflet-image-layer"),this._zoomAnimated&&xe(v,"leaflet-zoom-animated"),this.options.className&&xe(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=o(this.fire,this,"load"),v.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(d){var v=this._map.getZoomScale(d.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;dt(this._image,P,v)},_reset:function(){var d=this._image,v=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=v.getSize();ut(d,v.min),d.style.width=P.x+"px",d.style.height=P.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),bs=function(d,v,P){return new kl(d,v,P)},Ss=kl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",v=this._image=d?this._url:R("video");if(xe(v,"leaflet-image-layer"),this._zoomAnimated&&xe(v,"leaflet-zoom-animated"),this.options.className&&xe(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=o(this.fire,this,"load"),d){for(var P=v.getElementsByTagName("source"),U=[],ee=0;ee<P.length;ee++)U.push(P[ee].src);this._url=P.length>0?U:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=R("source");Ge.src=this._url[ve],v.appendChild(Ge)}}});function mh(d,v,P){return new Ss(d,v,P)}var yh=kl.extend({_initImage:function(){var d=this._image=this._url;xe(d,"leaflet-image-layer"),this._zoomAnimated&&xe(d,"leaflet-zoom-animated"),this.options.className&&xe(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function xs(d,v,P){return new yh(d,v,P)}var Pa=Ra.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,v){d&&(d instanceof ge||A(d))?(this._latlng=Ae(d),b(this,v)):(b(this,d),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(o(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Ae(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oe(this._container),this},bringToBack:function(){return this._map&&_e(this._container),this},_prepareOpen:function(d){var v=this._source;if(!v._map)return!1;if(v instanceof Gi){v=null;var P=this._source._layers;for(var U in P)if(P[U]._map){v=P[U];break}if(!v)return!1;this._source=v}if(!d)if(v.getCenter)d=v.getCenter();else if(v.getLatLng)d=v.getLatLng();else if(v.getBounds)d=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")d.innerHTML=v;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),v=k(this.options.offset),P=this._getAnchor();this._zoomAnimated?ut(this._container,d.add(P)):v=v.add(d).add(P);var U=this._containerBottom=-v.y,ee=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=U+"px",this._container.style.left=ee+"px"}},_getAnchor:function(){return[0,0]}});yn.include({_initOverlay:function(d,v,P,U){var ee=v;return ee instanceof d||(ee=new d(U).setContent(v)),P&&ee.setLatLng(P),ee}}),Ra.include({_initOverlay:function(d,v,P,U){var ee=P;return ee instanceof d?(b(ee,U),ee._source=this):(ee=v&&!U?v:new d(U,this),ee.setContent(P)),ee}});var Nl=Pa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Pa.prototype.openOn.call(this,d)},onAdd:function(d){Pa.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof yo||this._source.on("preclick",vi))},onRemove:function(d){Pa.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof yo||this._source.off("preclick",vi))},getEvents:function(){var d=Pa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",v=this._container=R("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=R("div",d+"-content-wrapper",v);if(this._contentNode=R("div",d+"-content",P),ca(v),zi(this._contentNode),Wt(v,"contextmenu",vi),this._tipContainer=R("div",d+"-tip-container",v),this._tip=R("div",d+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=R("a",d+"-close-button",v);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(U,"click",function(ee){nr(ee),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,v=d.style;v.width="",v.whiteSpace="nowrap";var P=d.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),v.width=P+1+"px",v.whiteSpace="",v.height="";var U=d.offsetHeight,ee=this.options.maxHeight,ve="leaflet-popup-scrolled";ee&&U>ee?(v.height=ee+"px",xe(d,ve)):Pe(d,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),P=this._getAnchor();ut(this._container,v.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,v=parseInt(T(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+v,U=this._containerWidth,ee=new le(this._containerLeft,-P-this._containerBottom);ee._add(we(this._container));var ve=d.layerPointToContainerPoint(ee),Ge=k(this.options.autoPanPadding),st=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),bt=d.getSize(),jt=0,nn=0;ve.x+U+yt.x>bt.x&&(jt=ve.x+U-bt.x+yt.x),ve.x-jt-st.x<0&&(jt=ve.x-st.x),ve.y+P+yt.y>bt.y&&(nn=ve.y+P-bt.y+yt.y),ve.y-nn-st.y<0&&(nn=ve.y-st.y),(jt||nn)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([jt,nn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zm=function(d,v){return new Nl(d,v)};yn.mergeOptions({closePopupOnClick:!0}),yn.include({openPopup:function(d,v,P){return this._initOverlay(Nl,d,v,P).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Ra.include({bindPopup:function(d,v){return this._popup=this._initOverlay(Nl,this._popup,d,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Gi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ii(d);var v=d.layer||d.target;if(this._popup._source===v&&!(v instanceof yo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=v,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var hf=Pa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Pa.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Pa.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Pa.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",v=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var v,P,U=this._map,ee=this._container,ve=U.latLngToContainerPoint(U.getCenter()),Ge=U.layerPointToContainerPoint(d),st=this.options.direction,yt=ee.offsetWidth,bt=ee.offsetHeight,jt=k(this.options.offset),nn=this._getAnchor();st==="top"?(v=yt/2,P=bt):st==="bottom"?(v=yt/2,P=0):st==="center"?(v=yt/2,P=bt/2):st==="right"?(v=0,P=bt/2):st==="left"?(v=yt,P=bt/2):Ge.x<ve.x?(st="right",v=0,P=bt/2):(st="left",v=yt+(jt.x+nn.x)*2,P=bt/2),d=d.subtract(k(v,P,!0)).add(jt).add(nn),Pe(ee,"leaflet-tooltip-right"),Pe(ee,"leaflet-tooltip-left"),Pe(ee,"leaflet-tooltip-top"),Pe(ee,"leaflet-tooltip-bottom"),xe(ee,"leaflet-tooltip-"+st),ut(ee,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&ze(this._container,d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(v)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),bw=function(d,v){return new hf(d,v)};yn.include({openTooltip:function(d,v,P){return this._initOverlay(hf,d,v,P).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Ra.include({bindTooltip:function(d,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hf,this._tooltip,d,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var v=d?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[v](P),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Gi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var v=typeof d.getElement=="function"&&d.getElement();v&&(Wt(v,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Wt(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var v=typeof d.getElement=="function"&&d.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var v=d.latlng,P,U;this._tooltip.options.sticky&&d.originalEvent&&(P=this._map.mouseEventToContainerPoint(d.originalEvent),U=this._map.containerPointToLayerPoint(P),v=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(v)}});var Hm=Su.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var v=d&&d.tagName==="DIV"?d:document.createElement("div"),P=this.options;if(P.html instanceof Element?(G(v),v.appendChild(P.html)):v.innerHTML=P.html!==!1?P.html:"",P.bgPos){var U=k(P.bgPos);v.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function Vm(d){return new Hm(d)}Su.Default=xu;var Ru=Ra.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){b(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),N(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_e(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof le?d:new le(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var v=this.getPane().children,P=-d(-1/0,1/0),U=0,ee=v.length,ve;U<ee;U++)ve=v[U].style.zIndex,v[U]!==this._container&&ve&&(P=d(P,+ve));isFinite(P)&&(this.options.zIndex=P+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){ze(this._container,this.options.opacity);var d=+new Date,v=!1,P=!1;for(var U in this._tiles){var ee=this._tiles[U];if(!(!ee.current||!ee.loaded)){var ve=Math.min(1,(d-ee.loaded)/200);ze(ee.el,ve),ve<1?v=!0:(ee.active?P=!0:this._onOpaqueTile(ee),ee.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),v&&(fe(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,v=this.options.maxZoom;if(d!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===d?(this._levels[P].el.style.zIndex=v-Math.abs(d-P),this._onUpdateLevel(P)):(N(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var U=this._levels[d],ee=this._map;return U||(U=this._levels[d]={},U.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=v,U.origin=ee.project(ee.unproject(ee.getPixelOrigin()),d).round(),U.zoom=d,this._setZoomTransform(U,ee.getCenter(),ee.getZoom()),p(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,v,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)v=this._tiles[d],v.retain=v.current;for(d in this._tiles)if(v=this._tiles[d],v.current&&!v.active){var U=v.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var v in this._tiles)this._tiles[v].coords.z===d&&this._removeTile(v)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)N(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,v,P,U){var ee=Math.floor(d/2),ve=Math.floor(v/2),Ge=P-1,st=new le(+ee,+ve);st.z=+Ge;var yt=this._tileCoordsToKey(st),bt=this._tiles[yt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),Ge>U?this._retainParent(ee,ve,Ge,U):!1)},_retainChildren:function(d,v,P,U){for(var ee=2*d;ee<2*d+2;ee++)for(var ve=2*v;ve<2*v+2;ve++){var Ge=new le(ee,ve);Ge.z=P+1;var st=this._tileCoordsToKey(Ge),yt=this._tiles[st];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);P+1<U&&this._retainChildren(ee,ve,P+1,U)}},_resetView:function(d){var v=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var v=this.options;return v.minNativeZoom!==void 0&&d<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<d?v.maxNativeZoom:d},_setView:function(d,v,P,U){var ee=Math.round(v);this.options.maxZoom!==void 0&&ee>this.options.maxZoom||this.options.minZoom!==void 0&&ee<this.options.minZoom?ee=void 0:ee=this._clampZoom(ee);var ve=this.options.updateWhenZooming&&ee!==this._tileZoom;(!U||ve)&&(this._tileZoom=ee,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ee!==void 0&&this._update(d),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(d,v)},_setZoomTransforms:function(d,v){for(var P in this._levels)this._setZoomTransform(this._levels[P],d,v)},_setZoomTransform:function(d,v,P){var U=this._map.getZoomScale(P,d.zoom),ee=d.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(v,P)).round();Ee.any3d?dt(d.el,ee,U):ut(d.el,ee)},_resetGrid:function(){var d=this._map,v=d.options.crs,P=this._tileSize=this.getTileSize(),U=this._tileZoom,ee=this._map.getPixelWorldBounds(this._tileZoom);ee&&(this._globalTileRange=this._pxBoundsToTileRange(ee)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,v.wrapLng[0]],U).x/P.x),Math.ceil(d.project([0,v.wrapLng[1]],U).x/P.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([v.wrapLat[0],0],U).y/P.x),Math.ceil(d.project([v.wrapLat[1],0],U).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var v=this._map,P=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),U=v.getZoomScale(P,this._tileZoom),ee=v.project(d,this._tileZoom).floor(),ve=v.getSize().divideBy(U*2);return new ne(ee.subtract(ve),ee.add(ve))},_update:function(d){var v=this._map;if(v){var P=this._clampZoom(v.getZoom());if(d===void 0&&(d=v.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(d),ee=this._pxBoundsToTileRange(U),ve=ee.getCenter(),Ge=[],st=this.options.keepBuffer,yt=new ne(ee.getBottomLeft().subtract([st,-st]),ee.getTopRight().add([st,-st]));if(!(isFinite(ee.min.x)&&isFinite(ee.min.y)&&isFinite(ee.max.x)&&isFinite(ee.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var jt=this._tiles[bt].coords;(jt.z!==this._tileZoom||!yt.contains(new le(jt.x,jt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(d,P);return}for(var nn=ee.min.y;nn<=ee.max.y;nn++)for(var gn=ee.min.x;gn<=ee.max.x;gn++){var qr=new le(gn,nn);if(qr.z=this._tileZoom,!!this._isValidTile(qr)){var Ar=this._tiles[this._tileCoordsToKey(qr)];Ar?Ar.current=!0:Ge.push(qr)}}if(Ge.sort(function(_i,Vo){return _i.distanceTo(ve)-Vo.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for(gn=0;gn<Ge.length;gn++)this._addTile(Ge[gn],di);this._level.el.appendChild(di)}}}},_isValidTile:function(d){var v=this._map.options.crs;if(!v.infinite){var P=this._globalTileRange;if(!v.wrapLng&&(d.x<P.min.x||d.x>P.max.x)||!v.wrapLat&&(d.y<P.min.y||d.y>P.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(d);return J(this.options.bounds).overlaps(U)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var v=this._map,P=this.getTileSize(),U=d.scaleBy(P),ee=U.add(P),ve=v.unproject(U,d.z),Ge=v.unproject(ee,d.z);return[ve,Ge]},_tileCoordsToBounds:function(d){var v=this._tileCoordsToNwSe(d),P=new H(v[0],v[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var v=d.split(":"),P=new le(+v[0],+v[1]);return P.z=+v[2],P},_removeTile:function(d){var v=this._tiles[d];v&&(N(v.el),delete this._tiles[d],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xe(d,"leaflet-tile");var v=this.getTileSize();d.style.width=v.x+"px",d.style.height=v.y+"px",d.onselectstart=p,d.onmousemove=p,Ee.ielt9&&this.options.opacity<1&&ze(d,this.options.opacity)},_addTile:function(d,v){var P=this._getTilePos(d),U=this._tileCoordsToKey(d),ee=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(ee),this.createTile.length<2&&Z(o(this._tileReady,this,d,null,ee)),ut(ee,P),this._tiles[U]={el:ee,coords:d,current:!0},v.appendChild(ee),this.fire("tileloadstart",{tile:ee,coords:d})},_tileReady:function(d,v,P){v&&this.fire("tileerror",{error:v,tile:P,coords:d});var U=this._tileCoordsToKey(d);P=this._tiles[U],P&&(P.loaded=+new Date,this._map._fadeAnimated?(ze(P.el,0),fe(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),v||(xe(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var v=new le(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return v.z=d.z,v},_pxBoundsToTileRange:function(d){var v=this.getTileSize();return new ne(d.min.unscaleBy(v).floor(),d.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Km(d){return new Ru(d)}var fi=Ru.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,v){this._url=d,v=b(this,v),v.detectRetina&&Ee.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,v){return this._url===d&&v===void 0&&(v=!0),this._url=d,v||this.redraw(),this},createTile:function(d,v){var P=document.createElement("img");return Wt(P,"load",o(this._tileOnLoad,this,v,P)),Wt(P,"error",o(this._tileOnError,this,v,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(d),P},getTileUrl:function(d){var v={r:Ee.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-d.y;this.options.tms&&(v.y=P),v["-y"]=P}return E(this._url,i(v,this.options))},_tileOnLoad:function(d,v){Ee.ielt9?setTimeout(o(d,this,null,v),0):d(null,v)},_tileOnError:function(d,v,P){var U=this.options.errorTileUrl;U&&v.getAttribute("src")!==U&&(v.src=U),d(P,v)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,v=this.options.maxZoom,P=this.options.zoomReverse,U=this.options.zoomOffset;return P&&(d=v-d),d+U},_getSubdomain:function(d){var v=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var d,v;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(v=this._tiles[d].el,v.onload=p,v.onerror=p,!v.complete)){v.src=M;var P=this._tiles[d].coords;N(v),delete this._tiles[d],this.fire("tileabort",{tile:v,coords:P})}},_removeTile:function(d){var v=this._tiles[d];if(v)return v.el.setAttribute("src",M),Ru.prototype._removeTile.call(this,d)},_tileReady:function(d,v,P){if(!(!this._map||P&&P.getAttribute("src")===M))return Ru.prototype._tileReady.call(this,d,v,P)}});function Zi(d,v){return new fi(d,v)}var Es=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,v){this._url=d;var P=i({},this.defaultWmsParams);for(var U in v)U in this.options||(P[U]=v[U]);v=b(this,v);var ee=v.detectRetina&&Ee.retina?2:1,ve=this.getTileSize();P.width=ve.x*ee,P.height=ve.y*ee,this.wmsParams=P},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,fi.prototype.onAdd.call(this,d)},getTileUrl:function(d){var v=this._tileCoordsToNwSe(d),P=this._crs,U=me(P.project(v[0]),P.project(v[1])),ee=U.min,ve=U.max,Ge=(this._wmsVersion>=1.3&&this._crs===Um?[ee.y,ee.x,ve.y,ve.x]:[ee.x,ee.y,ve.x,ve.y]).join(","),st=fi.prototype.getTileUrl.call(this,d);return st+S(this.wmsParams,st,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(d,v){return i(this.wmsParams,d),v||this.redraw(),this}});function vh(d,v){return new Es(d,v)}fi.WMS=Es,Zi.wms=vh;var da=Ra.extend({options:{padding:.1},initialize:function(d){b(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,v){var P=this._map.getZoomScale(v,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),ee=this._map.project(this._center,v),ve=U.multiplyBy(-P).add(ee).subtract(this._map._getNewPixelOrigin(d,v));Ee.any3d?dt(this._container,ve,P):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,v=this._map.getSize(),P=this._map.containerPointToLayerPoint(v.multiplyBy(-d)).round();this._bounds=new ne(P,P.add(v.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fl=da.extend({options:{tolerance:0},getEvents:function(){var d=da.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){da.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Wt(d,"mousemove",this._onMouseMove,this),Wt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){fe(this._redrawRequest),delete this._ctx,N(this._container),hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var v in this._layers)d=this._layers[v],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){da.prototype._update.call(this);var d=this._bounds,v=this._container,P=d.getSize(),U=Ee.retina?2:1;ut(v,d.min),v.width=U*P.x,v.height=U*P.y,v.style.width=P.x+"px",v.style.height=P.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){da.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var v=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var v=d._order,P=v.next,U=v.prev;P?P.prev=U:this._drawLast=U,U?U.next=P:this._drawFirst=P,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var v=d.options.dashArray.split(/[, ]+/),P=[],U,ee;for(ee=0;ee<v.length;ee++){if(U=Number(v[ee]),isNaN(U))return;P.push(U)}d.options._dashArray=P}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var v=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(d._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(d._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var v=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,v=this._redrawBounds;if(this._ctx.save(),v){var P=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)d=U.layer,(!v||d._pxBounds&&d._pxBounds.intersects(v))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,v){if(this._drawing){var P,U,ee,ve,Ge=d._parts,st=Ge.length,yt=this._ctx;if(st){for(yt.beginPath(),P=0;P<st;P++){for(U=0,ee=Ge[P].length;U<ee;U++)ve=Ge[P][U],yt[U?"lineTo":"moveTo"](ve.x,ve.y);v&&yt.closePath()}this._fillStroke(yt,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var v=d._point,P=this._ctx,U=Math.max(Math.round(d._radius),1),ee=(Math.max(Math.round(d._radiusY),1)||U)/U;ee!==1&&(P.save(),P.scale(1,ee)),P.beginPath(),P.arc(v.x,v.y/ee,U,0,Math.PI*2,!1),ee!==1&&P.restore(),this._fillStroke(P,d)}},_fillStroke:function(d,v){var P=v.options;P.fill&&(d.globalAlpha=P.fillOpacity,d.fillStyle=P.fillColor||P.color,d.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(d.setLineDash&&d.setLineDash(v.options&&v.options._dashArray||[]),d.globalAlpha=P.opacity,d.lineWidth=P.weight,d.strokeStyle=P.color,d.lineCap=P.lineCap,d.lineJoin=P.lineJoin,d.stroke())},_onClick:function(d){for(var v=this._map.mouseEventToLayerPoint(d),P,U,ee=this._drawFirst;ee;ee=ee.next)P=ee.layer,P.options.interactive&&P._containsPoint(v)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(P))&&(U=P);this._fireEvent(U?[U]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,v)}},_handleMouseOut:function(d){var v=this._hoveredLayer;v&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([v],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,v){if(!this._mouseHoverThrottled){for(var P,U,ee=this._drawFirst;ee;ee=ee.next)P=ee.layer,P.options.interactive&&P._containsPoint(v)&&(U=P);U!==this._hoveredLayer&&(this._handleMouseOut(d),U&&(xe(this._container,"leaflet-interactive"),this._fireEvent([U],d,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,v,P){this._map._fireDOMEvent(v,P||v.type,d)},_bringToFront:function(d){var v=d._order;if(v){var P=v.next,U=v.prev;if(P)P.prev=U;else return;U?U.next=P:P&&(this._drawFirst=P),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(d)}},_bringToBack:function(d){var v=d._order;if(v){var P=v.next,U=v.prev;if(U)U.next=P;else return;P?P.prev=U:U&&(this._drawLast=U),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(d)}}});function pf(d){return Ee.canvas?new Fl(d):null}var ha=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gm={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(da.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var v=d._container=ha("shape");xe(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",d._path=ha("path"),v.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var v=d._container;this._container.appendChild(v),d.options.interactive&&d.addInteractiveTarget(v)},_removePath:function(d){var v=d._container;N(v),d.removeInteractiveTarget(v),delete this._layers[c(d)]},_updateStyle:function(d){var v=d._stroke,P=d._fill,U=d.options,ee=d._container;ee.stroked=!!U.stroke,ee.filled=!!U.fill,U.stroke?(v||(v=d._stroke=ha("stroke")),ee.appendChild(v),v.weight=U.weight+"px",v.color=U.color,v.opacity=U.opacity,U.dashArray?v.dashStyle=A(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=U.lineCap.replace("butt","flat"),v.joinstyle=U.lineJoin):v&&(ee.removeChild(v),d._stroke=null),U.fill?(P||(P=d._fill=ha("fill")),ee.appendChild(P),P.color=U.fillColor||U.color,P.opacity=U.fillOpacity):P&&(ee.removeChild(P),d._fill=null)},_updateCircle:function(d){var v=d._point.round(),P=Math.round(d._radius),U=Math.round(d._radiusY||P);this._setPath(d,d._empty()?"M0 0":"AL "+v.x+","+v.y+" "+P+","+U+" 0,"+65535*360)},_setPath:function(d,v){d._path.v=v},_bringToFront:function(d){oe(d._container)},_bringToBack:function(d){_e(d._container)}},Ts=Ee.vml?ha:W,Za=da.extend({_initContainer:function(){this._container=Ts("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ts("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){da.prototype._update.call(this);var d=this._bounds,v=d.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,P.setAttribute("width",v.x),P.setAttribute("height",v.y)),ut(P,d.min),P.setAttribute("viewBox",[d.min.x,d.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(d){var v=d._path=Ts("path");d.options.className&&xe(v,d.options.className),d.options.interactive&&xe(v,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){N(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var v=d._path,P=d.options;v&&(P.stroke?(v.setAttribute("stroke",P.color),v.setAttribute("stroke-opacity",P.opacity),v.setAttribute("stroke-width",P.weight),v.setAttribute("stroke-linecap",P.lineCap),v.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?v.setAttribute("stroke-dasharray",P.dashArray):v.removeAttribute("stroke-dasharray"),P.dashOffset?v.setAttribute("stroke-dashoffset",P.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),P.fill?(v.setAttribute("fill",P.fillColor||P.color),v.setAttribute("fill-opacity",P.fillOpacity),v.setAttribute("fill-rule",P.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(d,v){this._setPath(d,he(d._parts,v))},_updateCircle:function(d){var v=d._point,P=Math.max(Math.round(d._radius),1),U=Math.max(Math.round(d._radiusY),1)||P,ee="a"+P+","+U+" 0 1,0 ",ve=d._empty()?"M0 0":"M"+(v.x-P)+","+v.y+ee+P*2+",0 "+ee+-P*2+",0 ";this._setPath(d,ve)},_setPath:function(d,v){d._path.setAttribute("d",v)},_bringToFront:function(d){oe(d._path)},_bringToBack:function(d){_e(d._path)}});Ee.vml&&Za.include(Gm);function _h(d){return Ee.svg||Ee.vml?new Za(d):null}yn.include({getRenderer:function(d){var v=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var v=this._paneRenderers[d];return v===void 0&&(v=this._createRenderer({pane:d}),this._paneRenderers[d]=v),v},_createRenderer:function(d){return this.options.preferCanvas&&pf(d)||_h(d)}});var Ji=Tu.extend({initialize:function(d,v){Tu.prototype.initialize.call(this,this._boundsToLatLngs(d),v)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=J(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Pu(d,v){return new Ji(d,v)}Za.create=Ts,Za.pointsToPath=he,Qi.geometryToLayer=Ll,Qi.coordsToLatLng=ff,Qi.coordsToLatLngs=Il,Qi.latLngToCoords=Ml,Qi.latLngsToCoords=df,Qi.getFeature=Cu,Qi.asFeature=_o,yn.mergeOptions({boxZoom:!0});var Cs=Ki.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(d),Wt(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var v=new ne(this._point,this._startPoint),P=v.getSize();ut(this._box,v.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(N(this._box),Pe(this._container,"leaflet-crosshair")),Ue(),Ft(),hn(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var v=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yn.addInitHook("addHandler","boxZoom",Cs),yn.mergeOptions({doubleClickZoom:!0});var jl=Ki.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var v=this._map,P=v.getZoom(),U=v.options.zoomDelta,ee=d.originalEvent.shiftKey?P-U:P+U;v.options.doubleClickZoom==="center"?v.setZoom(ee):v.setZoomAround(d.containerPoint,ee)}});yn.addInitHook("addHandler","doubleClickZoom",jl),yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $l=Ki.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ho(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=J(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var v=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(v),this._prunePositions(v)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,v){return d-(d-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;d.x<v.min.x&&(d.x=this._viscousLimit(d.x,v.min.x)),d.y<v.min.y&&(d.y=this._viscousLimit(d.y,v.min.y)),d.x>v.max.x&&(d.x=this._viscousLimit(d.x,v.max.x)),d.y>v.max.y&&(d.y=this._viscousLimit(d.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,v=Math.round(d/2),P=this._initialWorldOffset,U=this._draggable._newPos.x,ee=(U-v+P)%d+v-P,ve=(U+v+P)%d-v-P,Ge=Math.abs(ee+P)<Math.abs(ve+P)?ee:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(d){var v=this._map,P=v.options,U=!P.inertia||d.noInertia||this._times.length<2;if(v.fire("dragend",d),U)v.fire("moveend");else{this._prunePositions(+new Date);var ee=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=P.easeLinearity,st=ee.multiplyBy(Ge/ve),yt=st.distanceTo([0,0]),bt=Math.min(P.inertiaMaxSpeed,yt),jt=st.multiplyBy(bt/yt),nn=bt/(P.inertiaDeceleration*Ge),gn=jt.multiplyBy(-nn/2).round();!gn.x&&!gn.y?v.fire("moveend"):(gn=v._limitOffset(gn,v.options.maxBounds),Z(function(){v.panBy(gn,{duration:nn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});yn.addInitHook("addHandler","dragging",$l),yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yi=Ki.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Wt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,v=document.documentElement,P=d.scrollTop||v.scrollTop,U=d.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(U,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var v=this._panKeys={},P=this.keyCodes,U,ee;for(U=0,ee=P.left.length;U<ee;U++)v[P.left[U]]=[-1*d,0];for(U=0,ee=P.right.length;U<ee;U++)v[P.right[U]]=[d,0];for(U=0,ee=P.down.length;U<ee;U++)v[P.down[U]]=[0,d];for(U=0,ee=P.up.length;U<ee;U++)v[P.up[U]]=[0,-1*d]},_setZoomDelta:function(d){var v=this._zoomKeys={},P=this.keyCodes,U,ee;for(U=0,ee=P.zoomIn.length;U<ee;U++)v[P.zoomIn[U]]=d;for(U=0,ee=P.zoomOut.length;U<ee;U++)v[P.zoomOut[U]]=-d},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var v=d.keyCode,P=this._map,U;if(v in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(U=this._panKeys[v],d.shiftKey&&(U=k(U).multiplyBy(3)),P.options.maxBounds&&(U=P._limitOffset(k(U),P.options.maxBounds)),P.options.worldCopyJump){var ee=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(U)));P.panTo(ee)}else P.panBy(U)}else if(v in this._zoomKeys)P.setZoom(P.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;Ii(d)}}});yn.addInitHook("addHandler","keyboard",Yi),yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xi=Ki.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var v=Ga(d),P=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var U=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),U),Ii(d)},_performZoom:function(){var d=this._map,v=d.getZoom(),P=this._map.options.zoomSnap||0;d._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ee=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,ve=P?Math.ceil(ee/P)*P:ee,Ge=d._limitZoom(v+(this._delta>0?ve:-ve))-v;this._delta=0,this._startTime=null,Ge&&(d.options.scrollWheelZoom==="center"?d.setZoom(v+Ge):d.setZoomAround(this._lastMousePos,v+Ge))}});yn.addInitHook("addHandler","scrollWheelZoom",Xi);var As=600;yn.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var Ja=Ki.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var v=d.touches[0];this._startPos=this._newPos=new le(v.clientX,v.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",nr),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),As),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){hn(document,"touchend",nr),hn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)},_onMove:function(d){var v=d.touches[0];this._newPos=new le(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,v){var P=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});P._simulated=!0,v.target.dispatchEvent(P)}});yn.addInitHook("addHandler","tapHold",Ja),yn.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Ya=Ki.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var v=this._map;if(!(!d.touches||d.touches.length!==2||v._animatingZoom||this._zooming)){var P=v.mouseEventToContainerPoint(d.touches[0]),U=v.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(P.add(U)._divideBy(2))),this._startDist=P.distanceTo(U),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),nr(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var v=this._map,P=v.mouseEventToContainerPoint(d.touches[0]),U=v.mouseEventToContainerPoint(d.touches[1]),ee=P.distanceTo(U)/this._startDist;if(this._zoom=v.getScaleZoom(ee,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&ee<1||this._zoom>v.getMaxZoom()&&ee>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,ee===1)return}else{var ve=P._add(U)._divideBy(2)._subtract(this._centerPoint);if(ee===1&&ve.x===0&&ve.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),fe(this._animRequest);var Ge=o(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(Ge,this,!0),nr(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,fe(this._animRequest),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yn.addInitHook("addHandler","touchZoom",Ya),yn.BoxZoom=Cs,yn.DoubleClickZoom=jl,yn.Drag=$l,yn.Keyboard=Yi,yn.ScrollWheelZoom=Xi,yn.TapHold=Ja,yn.TouchZoom=Ya,n.Bounds=ne,n.Browser=Ee,n.CRS=Je,n.Canvas=Fl,n.Circle=hh,n.CircleMarker=Ol,n.Class=se,n.Control=ur,n.DivIcon=Hm,n.DivOverlay=Pa,n.DomEvent=wu,n.DomUtil=jn,n.Draggable=Ho,n.Evented=ce,n.FeatureGroup=Gi,n.GeoJSON=Qi,n.GridLayer=Ru,n.Handler=Ki,n.Icon=Su,n.ImageOverlay=kl,n.LatLng=ge,n.LatLngBounds=H,n.Layer=Ra,n.LayerGroup=ws,n.LineUtil=jm,n.Map=yn,n.Marker=Eu,n.Mixin=af,n.Path=yo,n.Point=le,n.PolyUtil=hw,n.Polygon=Tu,n.Polyline=vo,n.Popup=Nl,n.PosAnimation=Wa,n.Projection=$m,n.Rectangle=Ji,n.Renderer=da,n.SVG=Za,n.SVGOverlay=yh,n.TileLayer=fi,n.Tooltip=hf,n.Transformation=ie,n.Util=te,n.VideoOverlay=Ss,n.bind=o,n.bounds=me,n.canvas=pf,n.circle=_w,n.circleMarker=qm,n.control=Mi,n.divIcon=Vm,n.extend=i,n.featureGroup=Pl,n.geoJSON=Au,n.geoJson=gh,n.gridLayer=Km,n.icon=cf,n.imageOverlay=bs,n.latLng=Ae,n.latLngBounds=J,n.layerGroup=Bm,n.map=Ca,n.marker=dh,n.point=k,n.polygon=Wi,n.polyline=ww,n.popup=zm,n.rectangle=Pu,n.setOptions=b,n.stamp=c,n.svg=_h,n.svgOverlay=xs,n.tileLayer=Zi,n.tooltip=bw,n.transformation=z,n.version=r,n.videoOverlay=mh;var Rs=window.L;n.noConflict=function(){return window.L=Rs,this},window.L=n})}(hg,hg.exports)),hg.exports}var An=_W();const NA=Gr(An),wW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",bW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",SW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete An.Icon.Default.prototype._getIconUrl;An.Icon.Default.mergeOptions({iconUrl:bW,iconRetinaUrl:wW,shadowUrl:SW});const cU="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",xW=An.icon({...An.Icon.Default.prototype.options,iconUrl:HI,iconRetinaUrl:HI}),EW=t=>An.icon({...An.Icon.Default.prototype.options,iconUrl:VI,iconRetinaUrl:VI,className:t}),fU=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],TW=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:oU,communityId:aU,darkModeLogoStyle:lU,emailNotificationsIdentity:yW,emailNotificationsService:mW,emailNotificationsType:sU,geoindexService:uU,oidcIssuers:fU,tileServer:cU},Symbol.toStringTag,{value:"Module"})),Bd=crypto,FA=t=>t instanceof CryptoKey,ls=new TextEncoder,Ad=new TextDecoder;function dU(...t){const e=t.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}const CW=t=>{let e=t;typeof e=="string"&&(e=ls.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},w_=t=>CW(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),AW=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Fc=t=>{let e=t;e instanceof Uint8Array&&(e=Ad.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return AW(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Li extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Li.code="ERR_JOSE_GENERIC";class Eo extends Li{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Eo.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class SC extends Li{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}SC.code="ERR_JWT_EXPIRED";class hU extends Li{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}hU.code="ERR_JOSE_ALG_NOT_ALLOWED";class _a extends Li{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}_a.code="ERR_JOSE_NOT_SUPPORTED";class RW extends Li{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}RW.code="ERR_JWE_DECRYPTION_FAILED";class PW extends Li{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}PW.code="ERR_JWE_INVALID";class Lr extends Li{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Lr.code="ERR_JWS_INVALID";class T0 extends Li{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}T0.code="ERR_JWT_INVALID";class OW extends Li{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}OW.code="ERR_JWK_INVALID";class jA extends Li{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}jA.code="ERR_JWKS_INVALID";class $A extends Li{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}$A.code="ERR_JWKS_NO_MATCHING_KEY";class pU extends Li{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}pU.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class gU extends Li{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}gU.code="ERR_JWKS_TIMEOUT";class mU extends Li{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}mU.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function Vs(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function Gy(t,e){return t.name===e}function v1(t){return parseInt(t.name.slice(4),10)}function LW(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function IW(t,e){if(e.length&&!e.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const r=e.pop();n+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function MW(t,e,...n){switch(e){case"HS256":case"HS384":case"HS512":{if(!Gy(t.algorithm,"HMAC"))throw Vs("HMAC");const r=parseInt(e.slice(2),10);if(v1(t.algorithm.hash)!==r)throw Vs(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Gy(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Vs("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(v1(t.algorithm.hash)!==r)throw Vs(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Gy(t.algorithm,"RSA-PSS"))throw Vs("RSA-PSS");const r=parseInt(e.slice(2),10);if(v1(t.algorithm.hash)!==r)throw Vs(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Vs("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Gy(t.algorithm,"ECDSA"))throw Vs("ECDSA");const r=LW(e);if(t.algorithm.namedCurve!==r)throw Vs(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}IW(t,n)}function yU(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const xC=(t,...e)=>yU("Key must be ",t,...e);function vU(t,e,...n){return yU(`Key for the ${t} algorithm must be `,e,...n)}const _U=t=>FA(t)?!0:(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",Ug=["CryptoKey"],wU=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function DW(t){return typeof t=="object"&&t!==null}function lu(t){if(!DW(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const bU=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function qd(t){return lu(t)&&typeof t.kty=="string"}function kW(t){return t.kty!=="oct"&&typeof t.d=="string"}function NW(t){return t.kty!=="oct"&&typeof t.d>"u"}function FW(t){return qd(t)&&t.kty==="oct"&&typeof t.k=="string"}function jW(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new _a('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new _a('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new _a('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new _a('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const SU=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=jW(t),r=[e,t.ext??!1,t.key_ops??n],i={...t};return delete i.alg,delete i.use,Bd.subtle.importKey("jwk",i,...r)},xU=t=>Fc(t);let Ff,jf;const EU=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",G_=async(t,e,n,r,i=!1)=>{let a=t.get(e);if(a!=null&&a[r])return a[r];const o=await SU({...n,alg:r});return i&&Object.freeze(e),a?a[r]=o:t.set(e,{[r]:o}),o},$W=(t,e)=>{if(EU(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?xU(n.k):(jf||(jf=new WeakMap),G_(jf,t,n,e))}return qd(t)?t.k?Fc(t.k):(jf||(jf=new WeakMap),G_(jf,t,t,e,!0)):t},UW=(t,e)=>{if(EU(t)){let n=t.export({format:"jwk"});return n.k?xU(n.k):(Ff||(Ff=new WeakMap),G_(Ff,t,n,e))}return qd(t)?t.k?Fc(t.k):(Ff||(Ff=new WeakMap),G_(Ff,t,t,e,!0)):t},GI={normalizePublicKey:$W,normalizePrivateKey:UW};async function TU(t,e){if(!lu(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Fc(t.k);case"RSA":if(t.oth!==void 0)throw new _a('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return SU({...t,alg:e});default:throw new _a('Unsupported "kty" (Key Type) Parameter value')}}const Xf=t=>t==null?void 0:t[Symbol.toStringTag],EC=(t,e,n)=>{var r,i;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((i=(r=e.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},BW=(t,e,n,r)=>{if(!(e instanceof Uint8Array)){if(r&&qd(e)){if(FW(e)&&EC(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!_U(e))throw new TypeError(vU(t,e,...Ug,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${Xf(e)} instances for symmetric algorithms must be of type "secret"`)}},qW=(t,e,n,r)=>{if(r&&qd(e))switch(n){case"sign":if(kW(e)&&EC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(NW(e)&&EC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!_U(e))throw new TypeError(vU(t,e,...Ug,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${Xf(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${Xf(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${Xf(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${Xf(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${Xf(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function CU(t,e,n,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?BW(e,n,r,t):qW(e,n,r,t)}CU.bind(void 0,!1);const TC=CU.bind(void 0,!0);function AU(t,e,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...e.entries()]):a=e;for(const o of r.crit){if(!a.has(o))throw new _a(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new t(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new t(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const zW=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},HW=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:w_(t)};if(!FA(t))throw new TypeError(xC(t,...Ug,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:r,use:i,...a}=await Bd.subtle.exportKey("jwk",t);return a};async function VW(t){return HW(t)}function RU(t,e){const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new _a(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function PU(t,e,n){if(n==="sign"&&(e=await GI.normalizePrivateKey(e,t)),n==="verify"&&(e=await GI.normalizePublicKey(e,t)),FA(e))return MW(e,t,n),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(xC(e,...Ug));return Bd.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(xC(e,...Ug,"Uint8Array","JSON Web Key"))}const KW=async(t,e,n,r)=>{const i=await PU(t,e,"verify");bU(t,i);const a=RU(t,i.algorithm);try{return await Bd.subtle.verify(a,i,n,r)}catch{return!1}};async function GW(t,e,n){if(!lu(t))throw new Lr("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new Lr('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new Lr("JWS Protected Header incorrect type");if(t.payload===void 0)throw new Lr("JWS Payload missing");if(typeof t.signature!="string")throw new Lr("JWS Signature missing or incorrect type");if(t.header!==void 0&&!lu(t.header))throw new Lr("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const b=Fc(t.protected);r=JSON.parse(Ad.decode(b))}catch{throw new Lr("JWS Protected Header is invalid")}if(!wU(r,t.header))throw new Lr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},a=AU(Lr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new Lr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new Lr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=zW("algorithms",n.algorithms);if(c&&!c.has(s))throw new hU('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof t.payload!="string")throw new Lr("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new Lr("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof e=="function"?(e=await e(r,t),f=!0,TC(s,e,"verify"),qd(e)&&(e=await TU(e,s))):TC(s,e,"verify");const h=dU(ls.encode(t.protected??""),ls.encode("."),typeof t.payload=="string"?ls.encode(t.payload):t.payload);let p;try{p=Fc(t.signature)}catch{throw new Lr("Failed to base64url decode the signature")}if(!await KW(s,e,p,h))throw new mU;let y;if(o)try{y=Fc(t.payload)}catch{throw new Lr("Failed to base64url decode the payload")}else typeof t.payload=="string"?y=ls.encode(t.payload):y=t.payload;const _={payload:y};return t.protected!==void 0&&(_.protectedHeader=r),t.header!==void 0&&(_.unprotectedHeader=t.header),f?{..._,key:e}:_}async function WW(t,e,n){if(t instanceof Uint8Array&&(t=Ad.decode(t)),typeof t!="string")throw new Lr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=t.split(".");if(o!==3)throw new Lr("Invalid Compact JWS");const s=await GW({payload:i,protected:r,signature:a},e,n),c={payload:s.payload,protectedHeader:s.protectedHeader};return typeof e=="function"?{...c,key:s.key}:c}const nl=t=>Math.floor(t.getTime()/1e3),OU=60,LU=OU*60,UA=LU*24,QW=UA*7,ZW=UA*365.25,JW=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Cg=t=>{const e=JW.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*OU);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*LU);break;case"day":case"days":case"d":i=Math.round(n*UA);break;case"week":case"weeks":case"w":i=Math.round(n*QW);break;default:i=Math.round(n*ZW);break}return e[1]==="-"||e[4]==="ago"?-i:i},WI=t=>t.toLowerCase().replace(/^application\//,""),YW=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,XW=(t,e,n={})=>{let r;try{r=JSON.parse(Ad.decode(e))}catch{}if(!lu(r))throw new T0("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||WI(t.typ)!==WI(i)))throw new Eo('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:c,maxTokenAge:f}=n,h=[...a];f!==void 0&&h.push("iat"),c!==void 0&&h.push("aud"),s!==void 0&&h.push("sub"),o!==void 0&&h.push("iss");for(const _ of new Set(h.reverse()))if(!(_ in r))throw new Eo(`missing required "${_}" claim`,r,_,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new Eo('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new Eo('unexpected "sub" claim value',r,"sub","check_failed");if(c&&!YW(r.aud,typeof c=="string"?[c]:c))throw new Eo('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=Cg(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=nl(m||new Date);if((r.iat!==void 0||f)&&typeof r.iat!="number")throw new Eo('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Eo('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+p)throw new Eo('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Eo('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-p)throw new SC('"exp" claim timestamp check failed',r,"exp","check_failed")}if(f){const _=y-r.iat,b=typeof f=="number"?f:Cg(f);if(_-p>b)throw new SC('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(_<0-p)throw new Eo('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function eQ(t,e,n){var o;const r=await WW(t,e,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new T0("JWTs MUST NOT use unencoded payload");const a={payload:XW(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...a,key:r.key}:a}const tQ=async(t,e,n)=>{const r=await PU(t,e,"sign");bU(t,r);const i=await Bd.subtle.sign(RU(t,r.algorithm),r,n);return new Uint8Array(i)};class nQ{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Lr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!wU(this._protectedHeader,this._unprotectedHeader))throw new Lr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=AU(Lr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Lr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new Lr('JWS "alg" (Algorithm) Header Parameter missing or invalid');TC(o,e,"sign");let s=this._payload;a&&(s=ls.encode(w_(s)));let c;this._protectedHeader?c=ls.encode(w_(JSON.stringify(this._protectedHeader))):c=ls.encode("");const f=dU(c,ls.encode("."),s),h=await tQ(o,e,f),p={signature:w_(h),payload:""};return a&&(p.payload=Ad.decode(s)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Ad.decode(c)),p}}class rQ{constructor(e){this._flattened=new nQ(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){const r=await this._flattened.sign(e,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function Xl(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}class iQ{constructor(e={}){if(!lu(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:Xl("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Xl("setNotBefore",nl(e))}:this._payload={...this._payload,nbf:nl(new Date)+Cg(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:Xl("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Xl("setExpirationTime",nl(e))}:this._payload={...this._payload,exp:nl(new Date)+Cg(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:nl(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Xl("setIssuedAt",nl(e))}:typeof e=="string"?this._payload={...this._payload,iat:Xl("setIssuedAt",nl(new Date)+Cg(e))}:this._payload={...this._payload,iat:Xl("setIssuedAt",e)},this}}class aQ extends iQ{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){var i;const r=new rQ(ls.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new T0("JWTs MUST NOT use unencoded payload");return r.sign(e,n)}}function oQ(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new _a('Unsupported "alg" value for a JSON Web Key Set')}}function sQ(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(uQ)}function uQ(t){return lu(t)}function IU(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class lQ{constructor(e){if(this._cached=new WeakMap,!sQ(e))throw new jA("JSON Web Key Set malformed");this._jwks=IU(e)}async getKey(e,n){const{alg:r,kid:i}={...e,...n==null?void 0:n.header},a=oQ(r),o=this._jwks.keys.filter(f=>{let h=a===f.kty;if(h&&typeof i=="string"&&(h=i===f.kid),h&&typeof f.alg=="string"&&(h=r===f.alg),h&&typeof f.use=="string"&&(h=f.use==="sig"),h&&Array.isArray(f.key_ops)&&(h=f.key_ops.includes("verify")),h&&r==="EdDSA"&&(h=f.crv==="Ed25519"||f.crv==="Ed448"),h)switch(r){case"ES256":h=f.crv==="P-256";break;case"ES256K":h=f.crv==="secp256k1";break;case"ES384":h=f.crv==="P-384";break;case"ES512":h=f.crv==="P-521";break}return h}),{0:s,length:c}=o;if(c===0)throw new $A;if(c!==1){const f=new pU,{_cached:h}=this;throw f[Symbol.asyncIterator]=async function*(){for(const p of o)try{yield await QI(h,p,r)}catch{}},f}return QI(this._cached,s,r)}}async function QI(t,e,n){const r=t.get(e)||t.set(e,{}).get(e);if(r[n]===void 0){const i=await TU({...e,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new jA("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function ZI(t){const e=new lQ(t),n=async(r,i)=>e.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>IU(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const cQ=async(t,e,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},e));const o=await fetch(t.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw a?new gU:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new Li("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new Li("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function fQ(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let CC;var p_,n5;(typeof navigator>"u"||!((n5=(p_=navigator.userAgent)==null?void 0:p_.startsWith)!=null&&n5.call(p_,"Mozilla/5.0 ")))&&(CC="jose/v5.9.6");const _1=Symbol();function dQ(t,e){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=e||!("jwks"in t)||!lu(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,lu))}class hQ{constructor(e,n){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[_1])!==void 0&&(this._cache=n==null?void 0:n[_1],dQ(n==null?void 0:n[_1],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=ZI(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(e,n)}catch(r){if(r instanceof $A&&this.coolingDown()===!1)return await this.reload(),this._local(e,n);throw r}}async reload(){this._pendingFetch&&fQ()&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);CC&&!e.has("User-Agent")&&(e.set("User-Agent",CC),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=cQ(this._url,this._timeoutDuration,this._options).then(n=>{this._local=ZI(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function pQ(t,e){const n=new hQ(t,e),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function w1(t){const e=(t==null?void 0:t.modulusLength)??2048;if(typeof e!="number"||e<2048)throw new _a("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}async function gQ(t,e){let n,r;switch(t){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:w1(e)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:w1(e)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:w1(e)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new _a("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new _a("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new _a('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Bd.subtle.generateKey(n,!1,r)}async function mQ(t,e){return gQ(t,e)}const Ei=[];for(let t=0;t<256;++t)Ei.push((t+256).toString(16).slice(1));function yQ(t,e=0){return(Ei[t[e+0]]+Ei[t[e+1]]+Ei[t[e+2]]+Ei[t[e+3]]+"-"+Ei[t[e+4]]+Ei[t[e+5]]+"-"+Ei[t[e+6]]+Ei[t[e+7]]+"-"+Ei[t[e+8]]+Ei[t[e+9]]+"-"+Ei[t[e+10]]+Ei[t[e+11]]+Ei[t[e+12]]+Ei[t[e+13]]+Ei[t[e+14]]+Ei[t[e+15]]).toLowerCase()}let b1;const vQ=new Uint8Array(16);function _Q(){if(!b1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b1=crypto.getRandomValues.bind(crypto)}return b1(vQ)}const wQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),JI={randomUUID:wQ};function MU(t,e,n){if(JI.randomUUID&&!e&&!t)return JI.randomUUID();t=t||{};const r=t.random||(t.rng||_Q)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,yQ(r)}const DU="solidClientAuthn:",W_=["ES256","RS256"],ti={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},YI=5,bQ="openid",SQ="offline_access",xQ="webid",kU=[bQ,SQ,xQ].join(" ");class EQ{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...e)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const n=await this.getProperHandler(e);if(n)return n.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function NU(t,e,n,r){let i,a;try{const{payload:o}=await eQ(t,pQ(new URL(e)),{issuer:n,audience:r});i=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${o}].`)}}function FU(t){try{const e=new URL(t),n=!e.searchParams.has("code")&&!e.searchParams.has("state"),r=e.hash==="";return n&&r}catch{return!1}}function jU(t){const e=new URL(t);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function TQ(t,e){return typeof t=="boolean"?!!t:!!e}class CQ{constructor(e,n){this.storageUtility=e,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=e,this.redirector=n}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:TQ(e.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:e.handleRedirect})}}class AQ{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class RQ{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(e,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class PQ{constructor(e,n){this.handlers=[new AQ(e),new RQ(n)]}async canHandle(){return!0}async handle(e,n){for(const r of this.handlers)await r.canHandle(e,n)&&await r.handle(e,n)}}function $U(){return{isLoggedIn:!1,sessionId:MU(),fetch:(...t)=>fetch(...t)}}async function UU(t,e){await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0})])}class OQ{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,n){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return UU(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function LQ({endSessionEndpoint:t,idTokenHint:e,postLogoutRedirectUri:n,state:r}){const i=new URL(t);return e!==void 0&&i.searchParams.append("id_token_hint",e),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function IQ({endSessionEndpoint:t,idTokenHint:e}){if(t!==void 0)return function({state:r,postLogoutUrl:i}){return LQ({endSessionEndpoint:t,idTokenHint:e,state:r,postLogoutRedirectUri:i})}}function MQ(t){return typeof t=="string"&&["DPoP","Bearer"].includes(t)}function BU(t){try{return new URL(t),!0}catch{return!1}}function DQ(t,e){var n;return(n=e.find(r=>t.includes(r)))!==null&&n!==void 0?n:null}function kQ(t){return t.clientId!==void 0&&!BU(t.clientId)}function NQ(t,e){return e.scopesSupported.includes("webid")&&t.clientId!==void 0&&BU(t.clientId)}function FQ(t){return typeof t=="string"&&["dynamic","static","solid-oidc"].includes(t)}async function jQ(t,e,n,r){let i;if(NQ(t,e))i={clientId:t.clientId,clientName:t.clientName,clientType:"solid-oidc"};else if(kQ(t))i={clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:"static"};else return r.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(t.sessionId,a),i}const XI=(t,e)=>fetch(t,e);let $Q=class{constructor(e,n,r,i,a){this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=XI,this.logout=async(o,s)=>{await this.logoutHandler.handle(o,(s==null?void 0:s.logoutType)==="idp"?{...s,toLogoutUrl:this.boundLogout}:s),this.fetch=XI,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function qU(t,e,n){try{const[r,i,a,o,s]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUrl"),e.getForUser(t,"dpop",{errorIfNull:!0}),e.getForUser(t,"keepAlive")]);await e.deleteForUser(t,"codeVerifier");const c=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:c,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${r}`)}}async function UQ(t,e,n,r,i,a,o,s){n!==void 0&&await t.setForUser(e,{webId:n},{secure:o}),r!==void 0&&await t.setForUser(e,{clientId:r},{secure:o}),await t.setForUser(e,{isLoggedIn:i},{secure:o})}class BQ{constructor(e,n){this.secureStorage=e,this.insecureStorage=n,this.secureStorage=e,this.insecureStorage=n}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${e}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(n))}async get(e,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(e);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${e}] is not stored`);return r}async set(e,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(e,n)}async delete(e,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${e}] is not stored`);return a||void 0}async setForUser(e,n,r){let i;try{i=await this.getUserData(e,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(e,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);delete i[n],await this.setUserData(e,i,r==null?void 0:r.secure)}async deleteAllUserData(e,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class qQ{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,n){this.map[e]=n}async delete(e){delete this.map[e]}}class AC extends Error{constructor(e){super(e)}}class pg extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class zU extends Error{constructor(e,n,r){super(e),this.error=n,this.errorDescription=r}}function zQ(t){const e=new URL(t);return new URL(e.pathname,e.origin).toString()}async function BA(t,e,n){return new aQ({htu:zQ(t),htm:e.toUpperCase(),jti:MU()}).setProtectedHeader({alg:W_[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function HQ(){const{privateKey:t,publicKey:e}=await mQ(W_[0]),n={privateKey:t,publicKey:await VW(e)};return[n.publicKey.alg]=W_,n}const HU=600;function VQ(t){return[401,403].includes(t)}async function KQ(t,e,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${e}`),a.set("DPoP",await BA(t,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function GQ(t,e,n,r){if(n!==void 0)return KQ(t,e,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${e}`),{...r,headers:i}}async function eM(t,e,n,r){return fetch(e,await GQ(e.toString(),t,r,n))}async function WQ(t,e,n){var r;const i=await t.tokenRefresher.refresh(t.sessionId,t.refreshToken,e);return n==null||n.emit(ti.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:HU),typeof i.refreshToken=="string"&&(n==null||n.emit(ti.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const S1=t=>t!==void 0?t-YI>0?t-YI:t:HU;async function QQ(t,e){var n;let r=t,i;const a=e==null?void 0:e.refreshOptions;if(a!==void 0){const o=async()=>{var s,c,f,h;try{const{accessToken:p,refreshToken:m,expiresIn:y}=await WQ(a,e.dpopKey,e.eventEmitter);r=p,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(o,S1(y)*1e3),(s=e.eventEmitter)===null||s===void 0||s.emit(ti.TIMEOUT_SET,i)}catch(p){p instanceof zU&&((c=e==null?void 0:e.eventEmitter)===null||c===void 0||c.emit(ti.ERROR,p.error,p.errorDescription),(f=e==null?void 0:e.eventEmitter)===null||f===void 0||f.emit(ti.SESSION_EXPIRED)),p instanceof pg&&p.missingFields.includes("access_token")&&((h=e==null?void 0:e.eventEmitter)===null||h===void 0||h.emit(ti.SESSION_EXPIRED))}};i=setTimeout(o,S1(e.expiresIn)*1e3),(n=e.eventEmitter)===null||n===void 0||n.emit(ti.TIMEOUT_SET,i)}else if(e!==void 0&&e.eventEmitter!==void 0){const o=setTimeout(()=>{e.eventEmitter.emit(ti.SESSION_EXPIRED)},S1(e.expiresIn)*1e3);e.eventEmitter.emit(ti.TIMEOUT_SET,o)}return async(o,s)=>{let c=await eM(r,o,s,e==null?void 0:e.dpopKey);const f=!c.ok&&!VQ(c.status);return c.ok||f||c.url!==o&&(e==null?void 0:e.dpopKey)!==void 0&&(c=await eM(r,c.url,s,e.dpopKey)),c}}const Ti=[];for(let t=0;t<256;++t)Ti.push((t+256).toString(16).slice(1));function ZQ(t,e=0){return(Ti[t[e+0]]+Ti[t[e+1]]+Ti[t[e+2]]+Ti[t[e+3]]+"-"+Ti[t[e+4]]+Ti[t[e+5]]+"-"+Ti[t[e+6]]+Ti[t[e+7]]+"-"+Ti[t[e+8]]+Ti[t[e+9]]+"-"+Ti[t[e+10]]+Ti[t[e+11]]+Ti[t[e+12]]+Ti[t[e+13]]+Ti[t[e+14]]+Ti[t[e+15]]).toLowerCase()}let x1;const JQ=new Uint8Array(16);function YQ(){if(!x1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x1=crypto.getRandomValues.bind(crypto)}return x1(JQ)}const XQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tM={randomUUID:XQ};function eZ(t,e,n){if(tM.randomUUID&&!e&&!t)return tM.randomUUID();t=t||{};const r=t.random||(t.rng||YQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ZQ(r)}var Wy={exports:{}},nM;function zd(){if(nM)return Wy.exports;nM=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,D,j){return Function.prototype.apply.call(M,D,j)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:n=function(M){return Object.getOwnPropertyNames(M)};function r(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(M){return M!==M};function a(){a.init.call(this)}Wy.exports=a,Wy.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");o=I}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function c(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(M){for(var D=[],j=1;j<arguments.length;j++)D.push(arguments[j]);var Q=M==="error",Y=this._events;if(Y!==void 0)Q=Q&&Y.error===void 0;else if(!Q)return!1;if(Q){var q;if(D.length>0&&(q=D[0]),q instanceof Error)throw q;var Z=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw Z.context=q,Z}var fe=Y[M];if(fe===void 0)return!1;if(typeof fe=="function")e(fe,this,D);else for(var te=fe.length,se=_(fe,te),j=0;j<te;++j)e(se[j],this,D);return!0};function f(I,M,D,j){var Q,Y,q;if(s(D),Y=I._events,Y===void 0?(Y=I._events=Object.create(null),I._eventsCount=0):(Y.newListener!==void 0&&(I.emit("newListener",M,D.listener?D.listener:D),Y=I._events),q=Y[M]),q===void 0)q=Y[M]=D,++I._eventsCount;else if(typeof q=="function"?q=Y[M]=j?[D,q]:[q,D]:j?q.unshift(D):q.push(D),Q=c(I),Q>0&&q.length>Q&&!q.warned){q.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=I,Z.type=M,Z.count=q.length,r(Z)}return I}a.prototype.addListener=function(M,D){return f(this,M,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,D){return f(this,M,D,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(I,M,D){var j={fired:!1,wrapFn:void 0,target:I,type:M,listener:D},Q=h.bind(j);return Q.listener=D,j.wrapFn=Q,Q}a.prototype.once=function(M,D){return s(D),this.on(M,p(this,M,D)),this},a.prototype.prependOnceListener=function(M,D){return s(D),this.prependListener(M,p(this,M,D)),this},a.prototype.removeListener=function(M,D){var j,Q,Y,q,Z;if(s(D),Q=this._events,Q===void 0)return this;if(j=Q[M],j===void 0)return this;if(j===D||j.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[M],Q.removeListener&&this.emit("removeListener",M,j.listener||D));else if(typeof j!="function"){for(Y=-1,q=j.length-1;q>=0;q--)if(j[q]===D||j[q].listener===D){Z=j[q].listener,Y=q;break}if(Y<0)return this;Y===0?j.shift():b(j,Y),j.length===1&&(Q[M]=j[0]),Q.removeListener!==void 0&&this.emit("removeListener",M,Z||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(M){var D,j,Q;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[M]),this;if(arguments.length===0){var Y=Object.keys(j),q;for(Q=0;Q<Y.length;++Q)q=Y[Q],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=j[M],typeof D=="function")this.removeListener(M,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(M,D[Q]);return this};function m(I,M,D){var j=I._events;if(j===void 0)return[];var Q=j[M];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?S(Q):_(Q,Q.length)}a.prototype.listeners=function(M){return m(this,M,!0)},a.prototype.rawListeners=function(M){return m(this,M,!1)},a.listenerCount=function(I,M){return typeof I.listenerCount=="function"?I.listenerCount(M):y.call(I,M)},a.prototype.listenerCount=y;function y(I){var M=this._events;if(M!==void 0){var D=M[I];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function _(I,M){for(var D=new Array(M),j=0;j<M;++j)D[j]=I[j];return D}function b(I,M){for(;M+1<I.length;M++)I[M]=I[M+1];I.pop()}function S(I){for(var M=new Array(I.length),D=0;D<M.length;++D)M[D]=I[D].listener||I[D];return M}function x(I,M){return new Promise(function(D,j){function Q(q){I.removeListener(M,Y),j(q)}function Y(){typeof I.removeListener=="function"&&I.removeListener("error",Q),D([].slice.call(arguments))}A(I,M,Y,{once:!0}),M!=="error"&&E(I,Q,{once:!0})})}function E(I,M,D){typeof I.on=="function"&&A(I,"error",M,D)}function A(I,M,D,j){if(typeof I.on=="function")j.once?I.once(M,D):I.on(M,D);else if(typeof I.addEventListener=="function")I.addEventListener(M,function Q(Y){j.once&&I.removeEventListener(M,Q),D(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return Wy.exports}var tZ=zd();const nZ=Gr(tZ);var b_={exports:{}},rZ=b_.exports,rM;function iZ(){return rM||(rM=1,function(t,e){(function(r,i){t.exports=i()})(rZ,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var c in a)i.d(s,c,(function(f){return a[f]}).bind(null,c));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,c=void 0;(r.Log=function(){function f(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f)}return f.reset=function(){c=3,s=o},f.debug=function(){if(c>=4){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.debug.apply(s,Array.from(m))}},f.info=function(){if(c>=3){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.info.apply(s,Array.from(m))}},f.warn=function(){if(c>=2){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.warn.apply(s,Array.from(m))}},f.error=function(){if(c>=1){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.error.apply(s,Array.from(m))}},a(f,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return c},set:function(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");c=p}},{key:"logger",get:function(){return s},set:function(p){if(!p.debug&&p.info&&(p.debug=p.info),!(p.debug&&p.info&&p.warn&&p.error))throw new Error("Invalid logger");s=p}}]),f}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),o={setInterval:function(f){function h(p,m){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h}(function(f,h){return setInterval(f,h)}),clearInterval:function(f){function h(p){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h}(function(f){return clearInterval(f)})},s=!1,c=null;r.Global=function(){function f(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f)}return f._testing=function(){s=!0},f.setXMLHttpRequest=function(p){c=p},a(f,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return c||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),o=i(0),s=i(7);function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration";r.MetadataService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(c(this,h),!p)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=p,this._jsonService=new m(["application/jwk-set+json"])}return h.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},h.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){o.Log.debug("MetadataService.getMetadata: json received");var _=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},_,y),m._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},h.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},h.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},h.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},h.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},h.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},h.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},h.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},h.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},h.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(_){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),_[m]===void 0){if(y===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return _[m]})},h.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(_){if(o.Log.debug("MetadataService.getSigningKeys: key set received",_),!_.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=_.keys,m._settings.signingKeys})})},a(h,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=f))),this._metadataUrl}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),o=i(1);r.UrlUtility=function(){function s(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(f,h,p){return f.indexOf("?")<0&&(f+="?"),f[f.length-1]!=="?"&&(f+="&"),f+=encodeURIComponent(h),f+="=",f+=encodeURIComponent(p)},s.parseUrlFragment=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof f!="string"&&(f=p.location.href);var m=f.lastIndexOf(h);m>=0&&(f=f.substr(m+1)),h==="?"&&(m=f.indexOf("#"))>=0&&(f=f.substr(0,m));for(var y,_={},b=/([^&=]+)=([^&]*)/g,S=0;y=b.exec(f);)if(_[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),S++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",f),{error:"Response exceeded expected number of parameters"};for(var x in _)return _;return{}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),o=function(c){return c&&c.__esModule?c:{default:c}}(i(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o=function(){function x(E,A){for(var I=0;I<A.length;I++){var M=A[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,A,I){return A&&x(E.prototype,A),I&&x(E,I),E}}(),s=i(0),c=i(23),f=i(6),h=i(24),p=i(2);function m(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",_="id_token",b="openid",S="client_secret_post";r.OidcClientSettings=function(){function x(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=E.authority,I=E.metadataUrl,M=E.metadata,D=E.signingKeys,j=E.metadataSeed,Q=E.client_id,Y=E.client_secret,q=E.response_type,Z=q===void 0?_:q,fe=E.scope,te=fe===void 0?b:fe,se=E.redirect_uri,pe=E.post_logout_redirect_uri,be=E.client_authentication,ce=be===void 0?S:be,le=E.prompt,Oe=E.display,k=E.max_age,ne=E.ui_locales,me=E.acr_values,H=E.resource,J=E.response_mode,ge=E.filterProtocolClaims,Ae=ge===void 0||ge,Je=E.loadUserInfo,Re=Je===void 0||Je,Fe=E.staleStateAge,Xe=Fe===void 0?900:Fe,ie=E.clockSkew,z=ie===void 0?300:ie,$=E.clockService,re=$===void 0?new c.ClockService:$,W=E.userInfoJwtIssuer,he=W===void 0?"OP":W,ye=E.mergeClaims,He=ye!==void 0&&ye,Te=E.stateStore,Ne=Te===void 0?new f.WebStorageStateStore:Te,tt=E.ResponseValidatorCtor,nt=tt===void 0?h.ResponseValidator:tt,gt=E.MetadataServiceCtor,Ut=gt===void 0?p.MetadataService:gt,Se=E.extraQueryParams,Be=Se===void 0?{}:Se,X=E.extraTokenParams,B=X===void 0?{}:X;m(this,x),this._authority=A,this._metadataUrl=I,this._metadata=M,this._metadataSeed=j,this._signingKeys=D,this._client_id=Q,this._client_secret=Y,this._response_type=Z,this._scope=te,this._redirect_uri=se,this._post_logout_redirect_uri=pe,this._client_authentication=ce,this._prompt=le,this._display=Oe,this._max_age=k,this._ui_locales=ne,this._acr_values=me,this._resource=H,this._response_mode=J,this._filterProtocolClaims=!!Ae,this._loadUserInfo=!!Re,this._staleStateAge=Xe,this._clockSkew=z,this._clockService=re,this._userInfoJwtIssuer=he,this._mergeClaims=!!He,this._stateStore=Ne,this._validator=new nt(this),this._metadataService=new Ut(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(B===void 0?"undefined":a(B))==="object"?B:{}}return x.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(x,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),x}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),o=i(1);function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.prefix,p=h===void 0?"oidc.":h,m=f.store,y=m===void 0?o.Global.localStorage:m;s(this,c),this._store=y,this._prefix=p}return c.prototype.set=function(h,p){return a.Log.debug("WebStorageStateStore.set",h),h=this._prefix+h,this._store.setItem(h,p),Promise.resolve()},c.prototype.get=function(h){a.Log.debug("WebStorageStateStore.get",h),h=this._prefix+h;var p=this._store.getItem(h);return Promise.resolve(p)},c.prototype.remove=function(h){a.Log.debug("WebStorageStateStore.remove",h),h=this._prefix+h;var p=this._store.getItem(h);return this._store.removeItem(h),Promise.resolve(p)},c.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var h=[],p=0;p<this._store.length;p++){var m=this._store.key(p);m.indexOf(this._prefix)===0&&h.push(m.substr(this._prefix.length))}return Promise.resolve(h)},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),o=i(1);function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,c),f&&Array.isArray(f)?this._contentTypes=f.slice():this._contentTypes=[],this._contentTypes.push("application/json"),p&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=h,this._jwtHandler=p}return c.prototype.getJson=function(h,p){var m=this;if(!h)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",h),new Promise(function(y,_){var b=new m._XMLHttpRequest;b.open("GET",h);var S=m._contentTypes,x=m._jwtHandler;b.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",b.status),b.status===200){var E=b.getResponseHeader("Content-Type");if(E){var A=S.find(function(I){if(E.startsWith(I))return!0});if(A=="application/jwt")return void x(b).then(y,_);if(A)try{return void y(JSON.parse(b.responseText))}catch(I){return a.Log.error("JsonService.getJson: Error parsing JSON response",I.message),void _(I)}}_(Error("Invalid response Content-Type: "+E+", from URL: "+h))}else _(Error(b.statusText+" ("+b.status+")"))},b.onerror=function(){a.Log.error("JsonService.getJson: network error"),_(Error("Network Error"))},p&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),b.setRequestHeader("Authorization","Bearer "+p)),b.send()})},c.prototype.postForm=function(h,p,m){var y=this;if(!h)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",h),new Promise(function(_,b){var S=new y._XMLHttpRequest;S.open("POST",h);var x=y._contentTypes;S.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(D=S.getResponseHeader("Content-Type"))&&x.find(function(j){if(D.startsWith(j))return!0}))try{var M=JSON.parse(S.responseText);if(M&&M.error)return a.Log.error("JsonService.postForm: Error from server: ",M.error),void b(new Error(M.error))}catch(j){return a.Log.error("JsonService.postForm: Error parsing JSON response",j.message),void b(j)}b(Error(S.statusText+" ("+S.status+")"))}else{var D;if((D=S.getResponseHeader("Content-Type"))&&x.find(function(j){if(D.startsWith(j))return!0}))try{return void _(JSON.parse(S.responseText))}catch(j){return a.Log.error("JsonService.postForm: Error parsing JSON response",j.message),void b(j)}b(Error("Invalid response Content-Type: "+D+", from URL: "+h))}},S.onerror=function(){a.Log.error("JsonService.postForm: network error"),b(Error("Network Error"))};var E="";for(var A in p){var I=p[A];I&&(E.length>0&&(E+="&"),E+=encodeURIComponent(A),E+="=",E+=encodeURIComponent(I))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(m)),S.send(E)})},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),o=i(3),s=i(13);r.SigninRequest=function(){function c(f){var h=f.url,p=f.client_id,m=f.redirect_uri,y=f.response_type,_=f.scope,b=f.authority,S=f.data,x=f.prompt,E=f.display,A=f.max_age,I=f.ui_locales,M=f.id_token_hint,D=f.login_hint,j=f.acr_values,Q=f.resource,Y=f.response_mode,q=f.request,Z=f.request_uri,fe=f.extraQueryParams,te=f.request_type,se=f.client_secret,pe=f.extraTokenParams,be=f.skipUserInfo;if(function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")}(this,c),!h)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!p)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!_)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!b)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var ce=c.isOidc(y),le=c.isCode(y);Y||(Y=c.isCode(y)?"query":null),this.state=new s.SigninState({nonce:ce,data:S,client_id:p,authority:b,redirect_uri:m,code_verifier:le,request_type:te,response_mode:Y,client_secret:se,scope:_,extraTokenParams:pe,skipUserInfo:be}),h=o.UrlUtility.addQueryParam(h,"client_id",p),h=o.UrlUtility.addQueryParam(h,"redirect_uri",m),h=o.UrlUtility.addQueryParam(h,"response_type",y),h=o.UrlUtility.addQueryParam(h,"scope",_),h=o.UrlUtility.addQueryParam(h,"state",this.state.id),ce&&(h=o.UrlUtility.addQueryParam(h,"nonce",this.state.nonce)),le&&(h=o.UrlUtility.addQueryParam(h,"code_challenge",this.state.code_challenge),h=o.UrlUtility.addQueryParam(h,"code_challenge_method","S256"));var Oe={prompt:x,display:E,max_age:A,ui_locales:I,id_token_hint:M,login_hint:D,acr_values:j,resource:Q,request:q,request_uri:Z,response_mode:Y};for(var k in Oe)Oe[k]&&(h=o.UrlUtility.addQueryParam(h,k,Oe[k]));for(var ne in fe)h=o.UrlUtility.addQueryParam(h,ne,fe[ne]);this.url=h}return c.isOidc=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="id_token"})[0]},c.isOAuth=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="token"})[0]},c.isCode=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="code"})[0]},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),o=i(0),s=function(h){return h&&h.__esModule?h:{default:h}}(i(14));function c(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}r.State=function(){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.id,m=h.data,y=h.created,_=h.request_type;c(this,f),this._id=p||(0,s.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=_}return f.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},f.fromStorageString=function(p){return o.Log.debug("State.fromStorageString"),new f(JSON.parse(p))},f.clearStaleState=function(p,m){var y=Date.now()/1e3-m;return p.getAllKeys().then(function(_){o.Log.debug("State.clearStaleState: got keys",_);for(var b=[],S=function(I){var M=_[I];E=p.get(M).then(function(D){var j=!1;if(D)try{var Q=f.fromStorageString(D);o.Log.debug("State.clearStaleState: got item from key: ",M,Q.created),Q.created<=y&&(j=!0)}catch(Y){o.Log.error("State.clearStaleState: Error parsing state for key",M,Y.message),j=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",M),j=!0;if(j)return o.Log.debug("State.clearStaleState: removed item for key: ",M),p.remove(M)}),b.push(E)},x=0;x<_.length;x++){var E;S(x)}return o.Log.debug("State.clearStaleState: waiting on promise count:",b.length),Promise.all(b)})},a(f,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function S(x,E){for(var A=0;A<E.length;A++){var I=E[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,E,A){return E&&S(x.prototype,E),A&&S(x,A),x}}(),o=i(0),s=i(5),c=i(12),f=i(8),h=i(34),p=i(35),m=i(36),y=i(13),_=i(9);function b(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function S(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b(this,S),x instanceof s.OidcClientSettings?this._settings=x:this._settings=new s.OidcClientSettings(x)}return S.prototype.createSigninRequest=function(){var E=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.response_type,M=A.scope,D=A.redirect_uri,j=A.data,Q=A.state,Y=A.prompt,q=A.display,Z=A.max_age,fe=A.ui_locales,te=A.id_token_hint,se=A.login_hint,pe=A.acr_values,be=A.resource,ce=A.request,le=A.request_uri,Oe=A.response_mode,k=A.extraQueryParams,ne=A.extraTokenParams,me=A.request_type,H=A.skipUserInfo,J=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var ge=this._settings.client_id;I=I||this._settings.response_type,M=M||this._settings.scope,D=D||this._settings.redirect_uri,Y=Y||this._settings.prompt,q=q||this._settings.display,Z=Z||this._settings.max_age,fe=fe||this._settings.ui_locales,pe=pe||this._settings.acr_values,be=be||this._settings.resource,Oe=Oe||this._settings.response_mode,k=k||this._settings.extraQueryParams,ne=ne||this._settings.extraTokenParams;var Ae=this._settings.authority;return f.SigninRequest.isCode(I)&&I!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Je){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Je);var Re=new f.SigninRequest({url:Je,client_id:ge,redirect_uri:D,response_type:I,scope:M,data:j||Q,authority:Ae,prompt:Y,display:q,max_age:Z,ui_locales:fe,id_token_hint:te,login_hint:se,acr_values:pe,resource:be,request:ce,request_uri:le,extraQueryParams:k,extraTokenParams:ne,request_type:me,response_mode:Oe,client_secret:E._settings.client_secret,skipUserInfo:H}),Fe=Re.state;return(J=J||E._stateStore).set(Fe.id,Fe.toStorageString()).then(function(){return Re})})},S.prototype.readSigninResponseState=function(E,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type),D=M?"?":"#",j=new h.SigninResponse(E,D);if(!j.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var Q=I?A.remove.bind(A):A.get.bind(A);return Q(j.state).then(function(Y){if(!Y)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(Y),response:j}})},S.prototype.processSigninResponse=function(E,A){var I=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(E,A,!0).then(function(M){var D=M.state,j=M.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),I._validator.validateSigninResponse(D,j)})},S.prototype.createSignoutRequest=function(){var E=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.id_token_hint,M=A.data,D=A.state,j=A.post_logout_redirect_uri,Q=A.extraQueryParams,Y=A.request_type,q=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),j=j||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Z){if(!Z)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Z);var fe=new p.SignoutRequest({url:Z,id_token_hint:I,post_logout_redirect_uri:j,data:M||D,extraQueryParams:Q,request_type:Y}),te=fe.state;return te&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(q=q||E._stateStore).set(te.id,te.toStorageString())),fe})},S.prototype.readSignoutResponseState=function(E,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var M=new m.SignoutResponse(E);if(!M.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),M.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",M.error),Promise.reject(new c.ErrorResponse(M))):Promise.resolve({state:void 0,response:M});var D=M.state;A=A||this._stateStore;var j=I?A.remove.bind(A):A.get.bind(A);return j(D).then(function(Q){if(!Q)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:_.State.fromStorageString(Q),response:M}})},S.prototype.processSignoutResponse=function(E,A){var I=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(E,A,!0).then(function(M){var D=M.state,j=M.response;return D?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),I._validator.validateSignoutResponse(D,j)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),j)})},S.prototype.clearStaleState=function(E){return o.Log.debug("OidcClient.clearStaleState"),E=E||this._stateStore,_.State.clearStaleState(E,this.settings.staleStateAge)},a(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),o=i(2),s=i(0);function c(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(c(this,f),!h)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new p,this._metadataService=new m(this._settings)}return f.prototype.exchangeCode=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,_=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||_!="client_secret_basic"?(_=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(b){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),p._jsonService.postForm(b,m,y).then(function(S){return s.Log.debug("TokenClient.exchangeCode: response received"),S})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},f.prototype.exchangeRefreshToken=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,_=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(_=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(b){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),p._jsonService.postForm(b,m,y).then(function(S){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function o(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function s(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}r.ErrorResponse=function(c){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.error,m=h.error_description,y=h.error_uri,_=h.state,b=h.session_state;if(o(this,f),!p)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var S=s(this,c.call(this,m||p));return S.name="ErrorResponse",S.error=p,S.error_description=m,S.error_uri=y,S.state=_,S.session_state=b,S}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(f,c),f}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,_,b){return _&&m(y.prototype,_),b&&m(y,b),y}}(),o=i(0),s=i(9),c=i(4),f=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=_.nonce,S=_.authority,x=_.client_id,E=_.redirect_uri,A=_.code_verifier,I=_.response_mode,M=_.client_secret,D=_.scope,j=_.extraTokenParams,Q=_.skipUserInfo;h(this,y);var Y=p(this,m.call(this,arguments[0]));if(b===!0?Y._nonce=(0,f.default)():b&&(Y._nonce=b),A===!0?Y._code_verifier=(0,f.default)()+(0,f.default)()+(0,f.default)():A&&(Y._code_verifier=A),Y.code_verifier){var q=c.JoseUtil.hashString(Y.code_verifier,"SHA256");Y._code_challenge=c.JoseUtil.hexToBase64Url(q)}return Y._redirect_uri=E,Y._authority=S,Y._client_id=x,Y._response_mode=I,Y._client_secret=M,Y._scope=D,Y._extraTokenParams=j,Y._skipUserInfo=Q,Y}return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}(y,m),y.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(b){return o.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(b))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(c){return(c^a.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(c){return(c^16*Math.random()>>c/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&s(c.prototype,f),h&&s(c,h),c}}(),o=i(0);r.User=function(){function s(c){var f=c.id_token,h=c.session_state,p=c.access_token,m=c.refresh_token,y=c.token_type,_=c.scope,b=c.profile,S=c.expires_at,x=c.state;(function(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=f,this.session_state=h,this.access_token=p,this.refresh_token=m,this.token_type=y,this.scope=_,this.profile=b,this.expires_at=S,this.state=x}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(f){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(f))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var f=parseInt(Date.now()/1e3);return this.expires_at-f}},set:function(f){var h=parseInt(f);if(typeof h=="number"&&h>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+h}}},{key:"expired",get:function(){var f=this.expires_in;if(f!==void 0)return f<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),o=i(46);function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.accessTokenExpiringNotificationTime,p=h===void 0?60:h,m=f.accessTokenExpiringTimer,y=m===void 0?new o.Timer("Access token expiring"):m,_=f.accessTokenExpiredTimer,b=_===void 0?new o.Timer("Access token expired"):_;s(this,c),this._accessTokenExpiringNotificationTime=p,this._accessTokenExpiring=y,this._accessTokenExpired=b}return c.prototype.load=function(h){if(h.access_token&&h.expires_in!==void 0){var p=h.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",p),p>0){var m=p-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=p+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},c.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},c.prototype.addAccessTokenExpiring=function(h){this._accessTokenExpiring.addHandler(h)},c.prototype.removeAccessTokenExpiring=function(h){this._accessTokenExpiring.removeHandler(h)},c.prototype.addAccessTokenExpired=function(h){this._accessTokenExpired.addHandler(h)},c.prototype.removeAccessTokenExpired=function(h){this._accessTokenExpired.removeHandler(h)},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function o(s){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(c){this._callbacks.push(c)},o.prototype.removeHandler=function(c){var f=this._callbacks.findIndex(function(h){return h===c});f>=0&&this._callbacks.splice(f,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var c=0;c<this._callbacks.length;c++){var f;(f=this._callbacks)[c].apply(f,arguments)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),o=i(0),s=i(19),c=i(1);function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function h(p){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.Global.timer;if(f(this,h),!p)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=p,this._CheckSessionIFrameCtor=y,this._timer=_,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(b){b?m._start(b):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(S){var x={session_state:S.session_state};S.sub&&S.sid&&(x.profile={sub:S.sub,sid:S.sid}),m._start(x)}).catch(function(S){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(b){o.Log.error("SessionMonitor ctor: error from getUser:",b.message)}))}return h.prototype._start=function(m){var y=this,_=m.session_state;_&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",_,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",_,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(_):this._metadataService.getCheckSessionIframe().then(function(b){if(b){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=y._client_id,x=y._checkSessionInterval,E=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),S,b,x,E),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(_)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(b){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",b.message)}))},h.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(_){var b={session_state:_.session_state};_.sub&&_.sid&&(b.profile={sub:_.sub,sid:_.sid}),m._start(b)}).catch(function(_){o.Log.error("SessionMonitor: error from querySessionStatus:",_.message)})},1e3)},h.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var _=!0;y?y.sub===m._sub?(_=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),_&&(m._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(h,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function o(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(c,f,h,p){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=c,this._client_id=f,this._url=h,this._interval=p||2e3,this._stopOnError=m;var y=h.indexOf("/",h.indexOf("//")+2);this._frame_origin=h.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=h}return s.prototype.load=function(){var f=this;return new Promise(function(h){f._frame.onload=function(){h()},window.document.body.appendChild(f._frame),f._boundMessageEvent=f._message.bind(f),window.addEventListener("message",f._boundMessageEvent,!1)})},s.prototype._message=function(f){f.origin===this._frame_origin&&f.source===this._frame.contentWindow&&(f.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):f.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+f.data+" message from check session op iframe"))},s.prototype.start=function(f){var h=this;if(this._session_state!==f){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=f;var p=function(){h._frame.contentWindow.postMessage(h._client_id+" "+h._session_state,h._frame_origin)};p(),this._timer=window.setInterval(p,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),o=i(2),s=i(1);function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var f="access_token",h="refresh_token";r.TokenRevocationClient=function(){function p(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(c(this,p),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new _(this._settings)}return p.prototype.revoke=function(y,_){var b=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==f&&S!=h)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(x){if(x){a.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var E=b._settings.client_id,A=b._settings.client_secret;return b._revoke(x,E,A,y,S)}if(_)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},p.prototype._revoke=function(y,_,b,S,x){var E=this;return new Promise(function(A,I){var M=new E._XMLHttpRequestCtor;M.open("POST",y),M.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",M.status),M.status===200?A():I(Error(M.statusText+" ("+M.status+")"))},M.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),I("Network Error")};var D="client_id="+encodeURIComponent(_);b&&(D+="&client_secret="+encodeURIComponent(b)),D+="&token_type_hint="+encodeURIComponent(x),D+="&token="+encodeURIComponent(S),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.send(D)})},p}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&s(c.prototype,f),h&&s(c,h),c}}(),o=i(0);r.CordovaPopupWindow=function(){function s(c){var f=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(h,p){f._resolve=h,f._reject=p}),this.features=c.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=c.popupWindowTarget||"_blank",this.redirect_uri=c.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(f){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(h){return f.hasOwnProperty(h)})},s.prototype.navigate=function(f){if(f&&f.url){if(!window.cordova)return this._error("cordova is undefined");var h=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(h)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(f.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(f){f.url.indexOf(this.redirect_uri)===0&&this._success({url:f.url})},s.prototype._exitCallback=function(f){this._error(f)},s.prototype._success=function(f){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(f)},s.prototype._error=function(f){this._cleanup(),o.Log.error(f),this._reject(new Error(f))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=i(10),s=i(5),c=i(6),f=i(37),h=i(38),p=i(16),m=i(2),y=i(48),_=i(49),b=i(19),S=i(20),x=i(18),E=i(1),A=i(15),I=i(50);r.default={Version:I.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:c.WebStorageStateStore,InMemoryWebStorage:f.InMemoryWebStorage,UserManager:h.UserManager,AccessTokenEvents:p.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:_.CordovaIFrameNavigator,CheckSessionIFrame:b.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:x.SessionMonitor,Global:E.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=i(0),s=i(2),c=i(25),f=i(11),h=i(12),p=i(4);function m(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function _(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.UserInfoService,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f.TokenClient;if(m(this,_),!b)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=b,this._metadataService=new S(this._settings),this._userInfoService=new x(this._settings),this._joseUtil=E,this._tokenClient=new A(this._settings)}return _.prototype.validateSigninResponse=function(S,x){var E=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,x).then(function(A){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),E._validateTokens(S,A).then(function(I){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),E._processClaims(S,I).then(function(M){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),M})})})},_.prototype.validateSignoutResponse=function(S,x){return S.id!==x.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),x.state=S.data,x.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",x.error),Promise.reject(new h.ErrorResponse(x))):Promise.resolve(x))},_.prototype._processSigninParams=function(S,x){if(S.id!==x.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),x.state=S.data,x.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",x.error),Promise.reject(new h.ErrorResponse(x))):S.nonce&&!x.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&x.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!x.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&x.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(x.scope||(x.scope=S.scope),Promise.resolve(x))},_.prototype._processClaims=function(S,x){var E=this;if(x.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),x.profile=this._filterProtocolClaims(x.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&x.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(x.access_token).then(function(A){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==x.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(x.profile=E._mergeClaims(x.profile,A),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",x.profile),x)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(x)},_.prototype._mergeClaims=function(S,x){var E=Object.assign({},S);for(var A in x){var I=x[A];Array.isArray(I)||(I=[I]);for(var M=0;M<I.length;M++){var D=I[M];E[A]?Array.isArray(E[A])?E[A].indexOf(D)<0&&E[A].push(D):E[A]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?E[A]=this._mergeClaims(E[A],D):E[A]=[E[A],D]):E[A]=D}}return E},_.prototype._filterProtocolClaims=function(S){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var x=Object.assign({},S);return this._settings._filterProtocolClaims?(y.forEach(function(E){delete x[E]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",x)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),x},_.prototype._validateTokens=function(S,x){return x.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,x)):x.id_token?x.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,x)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,x)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(x))},_.prototype._processCode=function(S,x){var E=this,A={client_id:S.client_id,client_secret:S.client_secret,code:x.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&a(S.extraTokenParams)==="object"&&Object.assign(A,S.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(I){for(var M in I)x[M]=I[M];return x.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),E._validateIdTokenAttributes(S,x)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),x)})},_.prototype._validateIdTokenAttributes=function(S,x){var E=this;return this._metadataService.getIssuer().then(function(A){var I=S.client_id,M=E._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",M),E._settings.getEpochTime().then(function(D){return E._joseUtil.validateJwtAttributes(x.id_token,A,I,M,D).then(function(j){return S.nonce&&S.nonce!==j.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):j.sub?(x.profile=j,x):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},_.prototype._validateIdTokenAndAccessToken=function(S,x){var E=this;return this._validateIdToken(S,x).then(function(A){return E._validateAccessToken(A)})},_.prototype._getSigningKeyForJwt=function(S){var x=this;return this._metadataService.getSigningKeys().then(function(E){var A=S.header.kid;if(!E)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var I=void 0;if(A)I=E.filter(function(M){return M.kid===A})[0];else{if((E=x._filterByAlg(E,S.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));I=E[0]}return Promise.resolve(I)})},_.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var x=this;return this._getSigningKeyForJwt(S).then(function(E){return E?Promise.resolve(E):(x._metadataService.resetSigningKeys(),x._getSigningKeyForJwt(S))})},_.prototype._validateIdToken=function(S,x){var E=this;if(!S.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(x.id_token);return A&&A.header&&A.payload?S.nonce!==A.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(I){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),E._getSigningKeyForJwtWithSingleRetry(A).then(function(M){if(!M)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=S.client_id,j=E._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",j),E._joseUtil.validateJwt(x.id_token,M,I,D,j).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(x.profile=A.payload,x):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},_.prototype._filterByAlg=function(S,x){var E=null;if(x.startsWith("RS"))E="RSA";else if(x.startsWith("PS"))E="PS";else{if(!x.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",x),[];E="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",E),S=S.filter(function(A){return A.kty===E}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",E,S.length),S},_.prototype._validateAccessToken=function(S){if(!S.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var x=this._joseUtil.parseJwt(S.id_token);if(!x||!x.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",x),Promise.reject(new Error("Failed to parse id_token"));var E=x.header.alg;if(!E||E.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E),Promise.reject(new Error("Unsupported alg: "+E));var A=E.substr(2,3);if(!A)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,A),Promise.reject(new Error("Unsupported alg: "+E));if((A=parseInt(A))!==256&&A!==384&&A!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,A),Promise.reject(new Error("Unsupported alg: "+E));var I="sha"+A,M=this._joseUtil.hashString(S.access_token,I);if(!M)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",I),Promise.reject(new Error("Failed to validate at_hash"));var D=M.substr(0,M.length/2),j=this._joseUtil.hexToBase64Url(D);return j!==S.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",j,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},_}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),o=i(2),s=i(0),c=i(4);function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c.JoseUtil;if(f(this,h),!p)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=_}return h.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(_){return s.Log.debug("UserInfoService.getClaims: received userinfo url",_),y._jsonService.getJson(_,m).then(function(b){return s.Log.debug("UserInfoService.getClaims: claims received",b),b})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},h.prototype._getClaimsFromJwt=function(m){var y=this;try{var _=this._joseUtil.parseJwt(m.responseText);if(!_||!_.header||!_.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",_),Promise.reject(new Error("Failed to parse id_token"));var b=_.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(_.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(x){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+x),y._metadataService.getSigningKeys().then(function(E){if(!E)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(b)A=E.filter(function(D){return D.kid===b})[0];else{if((E=y._filterByAlg(E,_.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=E[0]}if(!A)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=y._settings.client_id,M=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",M),y._joseUtil.validateJwt(m.responseText,A,x,I,M,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),_.payload})})})}catch(x){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",x.message),void reject(x)}},h.prototype._filterByAlg=function(m,y){var _=null;if(y.startsWith("RS"))_="RSA";else if(y.startsWith("PS"))_="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];_="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",_),m=m.filter(function(b){return b.kty===_}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",_,m.length),m},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,c,f,h,p,m,y,_,b,S,x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},E={userAgent:!1},A={},I=I||(o=Math,c=(s={}).lib={},f=c.Base=function(){function C(){}return{extend:function(R){C.prototype=this;var N=new C;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=f.extend({init:function(T,R){T=this.words=T||[],this.sigBytes=R??4*T.length},toString:function(T){return(T||m).stringify(this)},concat:function(T){var R=this.words,N=T.words,G=this.sigBytes,oe=T.sigBytes;if(this.clamp(),G%4)for(var _e=0;_e<oe;_e++){var Ie=N[_e>>>2]>>>24-_e%4*8&255;R[G+_e>>>2]|=Ie<<24-(G+_e)%4*8}else for(_e=0;_e<oe;_e+=4)R[G+_e>>>2]=N[_e>>>2];return this.sigBytes+=oe,this},clamp:function(){var T=this.words,R=this.sigBytes;T[R>>>2]&=4294967295<<32-R%4*8,T.length=o.ceil(R/4)},clone:function(){var T=f.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var R=[],N=0;N<T;N+=4)R.push(4294967296*o.random()|0);return new h.init(R,T)}}),p=s.enc={},m=p.Hex={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],oe=0;oe<N;oe++){var _e=R[oe>>>2]>>>24-oe%4*8&255;G.push((_e>>>4).toString(16)),G.push((15&_e).toString(16))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G+=2)N[G>>>3]|=parseInt(T.substr(G,2),16)<<24-G%8*4;return new h.init(N,R/2)}},y=p.Latin1={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],oe=0;oe<N;oe++){var _e=R[oe>>>2]>>>24-oe%4*8&255;G.push(String.fromCharCode(_e))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G++)N[G>>>2]|=(255&T.charCodeAt(G))<<24-G%4*8;return new h.init(N,R)}},_=p.Utf8={stringify:function(T){try{return decodeURIComponent(escape(y.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return y.parse(unescape(encodeURIComponent(T)))}},b=c.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=_.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var R=this._data,N=R.words,G=R.sigBytes,oe=this.blockSize,_e=G/(4*oe),Ie=(_e=T?o.ceil(_e):o.max((0|_e)-this._minBufferSize,0))*oe,xe=o.min(4*Ie,G);if(Ie){for(var Pe=0;Pe<Ie;Pe+=oe)this._doProcessBlock(N,Pe);var Me=N.splice(0,Ie);R.sigBytes-=xe}return new h.init(Me,xe)},clone:function(){var T=f.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),c.Hasher=b.extend({cfg:f.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(R,N){return new T.init(N).finalize(R)}},_createHmacHelper:function(T){return function(R,N){return new S.HMAC.init(T,N).finalize(R)}}}),S=s.algo={},s);(function(C){var T,R=(T=I).lib,N=R.Base,G=R.WordArray;(T=T.x64={}).Word=N.extend({init:function(_e,Ie){this.high=_e,this.low=Ie}}),T.WordArray=N.extend({init:function(_e,Ie){_e=this.words=_e||[],this.sigBytes=Ie??8*_e.length},toX32:function(){for(var _e=this.words,Ie=_e.length,xe=[],Pe=0;Pe<Ie;Pe++){var Me=_e[Pe];xe.push(Me.high),xe.push(Me.low)}return G.create(xe,this.sigBytes)},clone:function(){for(var _e=N.clone.call(this),Ie=_e.words=this.words.slice(0),xe=Ie.length,Pe=0;Pe<xe;Pe++)Ie[Pe]=Ie[Pe].clone();return _e}})})(),function(){var C=I,T=C.lib.WordArray;C.enc.Base64={stringify:function(N){var G=N.words,oe=N.sigBytes,_e=this._map;N.clamp(),N=[];for(var Ie=0;Ie<oe;Ie+=3)for(var xe=(G[Ie>>>2]>>>24-Ie%4*8&255)<<16|(G[Ie+1>>>2]>>>24-(Ie+1)%4*8&255)<<8|G[Ie+2>>>2]>>>24-(Ie+2)%4*8&255,Pe=0;4>Pe&&Ie+.75*Pe<oe;Pe++)N.push(_e.charAt(xe>>>6*(3-Pe)&63));if(G=_e.charAt(64))for(;N.length%4;)N.push(G);return N.join("")},parse:function(N){var G=N.length,oe=this._map;(_e=oe.charAt(64))&&(_e=N.indexOf(_e))!=-1&&(G=_e);for(var _e=[],Ie=0,xe=0;xe<G;xe++)if(xe%4){var Pe=oe.indexOf(N.charAt(xe-1))<<xe%4*2,Me=oe.indexOf(N.charAt(xe))>>>6-xe%4*2;_e[Ie>>>2]|=(Pe|Me)<<24-Ie%4*8,Ie++}return T.create(_e,Ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(C){for(var T=I,R=(G=T.lib).WordArray,N=G.Hasher,G=T.algo,oe=[],_e=[],Ie=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Pe=0;64>Pe;){var Me;e:{Me=xe;for(var $e=C.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Pe&&(oe[Pe]=Ie(C.pow(xe,.5))),_e[Pe]=Ie(C.pow(xe,1/3)),Pe++),xe++}var Ye=[];G=G.SHA256=N.extend({_doReset:function(){this._hash=new R.init(oe.slice(0))},_doProcessBlock:function(dt,ut){for(var we=this._hash.words,De=we[0],Ue=we[1],Ke=we[2],lt=we[3],mt=we[4],Ft=we[5],Tt=we[6],pn=we[7],kt=0;64>kt;kt++){if(16>kt)Ye[kt]=0|dt[ut+kt];else{var zt=Ye[kt-15],qn=Ye[kt-2];Ye[kt]=((zt<<25|zt>>>7)^(zt<<14|zt>>>18)^zt>>>3)+Ye[kt-7]+((qn<<15|qn>>>17)^(qn<<13|qn>>>19)^qn>>>10)+Ye[kt-16]}zt=pn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&Ft^~mt&Tt)+_e[kt]+Ye[kt],qn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ke^Ue&Ke),pn=Tt,Tt=Ft,Ft=mt,mt=lt+zt|0,lt=Ke,Ke=Ue,Ue=De,De=zt+qn|0}we[0]=we[0]+De|0,we[1]=we[1]+Ue|0,we[2]=we[2]+Ke|0,we[3]=we[3]+lt|0,we[4]=we[4]+mt|0,we[5]=we[5]+Ft|0,we[6]=we[6]+Tt|0,we[7]=we[7]+pn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,we=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=C.floor(we/4294967296),ut[15+(De+64>>>9<<4)]=we,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),T.SHA256=N._createHelper(G),T.HmacSHA256=N._createHmacHelper(G)}(Math),function(){function C(){return N.create.apply(N,arguments)}for(var T=I,R=T.lib.Hasher,N=(oe=T.x64).Word,G=oe.WordArray,oe=T.algo,_e=[C(1116352408,3609767458),C(1899447441,602891725),C(3049323471,3964484399),C(3921009573,2173295548),C(961987163,4081628472),C(1508970993,3053834265),C(2453635748,2937671579),C(2870763221,3664609560),C(3624381080,2734883394),C(310598401,1164996542),C(607225278,1323610764),C(1426881987,3590304994),C(1925078388,4068182383),C(2162078206,991336113),C(2614888103,633803317),C(3248222580,3479774868),C(3835390401,2666613458),C(4022224774,944711139),C(264347078,2341262773),C(604807628,2007800933),C(770255983,1495990901),C(1249150122,1856431235),C(1555081692,3175218132),C(1996064986,2198950837),C(2554220882,3999719339),C(2821834349,766784016),C(2952996808,2566594879),C(3210313671,3203337956),C(3336571891,1034457026),C(3584528711,2466948901),C(113926993,3758326383),C(338241895,168717936),C(666307205,1188179964),C(773529912,1546045734),C(1294757372,1522805485),C(1396182291,2643833823),C(1695183700,2343527390),C(1986661051,1014477480),C(2177026350,1206759142),C(2456956037,344077627),C(2730485921,1290863460),C(2820302411,3158454273),C(3259730800,3505952657),C(3345764771,106217008),C(3516065817,3606008344),C(3600352804,1432725776),C(4094571909,1467031594),C(275423344,851169720),C(430227734,3100823752),C(506948616,1363258195),C(659060556,3750685593),C(883997877,3785050280),C(958139571,3318307427),C(1322822218,3812723403),C(1537002063,2003034995),C(1747873779,3602036899),C(1955562222,1575990012),C(2024104815,1125592928),C(2227730452,2716904306),C(2361852424,442776044),C(2428436474,593698344),C(2756734187,3733110249),C(3204031479,2999351573),C(3329325298,3815920427),C(3391569614,3928383900),C(3515267271,566280711),C(3940187606,3454069534),C(4118630271,4000239992),C(116418474,1914138554),C(174292421,2731055270),C(289380356,3203993006),C(460393269,320620315),C(685471733,587496836),C(852142971,1086792851),C(1017036298,365543100),C(1126000580,2618297676),C(1288033470,3409855158),C(1501505948,4234509866),C(1607167915,987167468),C(1816402316,1246189591)],Ie=[],xe=0;80>xe;xe++)Ie[xe]=C();oe=oe.SHA512=R.extend({_doReset:function(){this._hash=new G.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Ue=this._hash.words)[0],Ye=Ue[1],ot=Ue[2],dt=Ue[3],ut=Ue[4],we=Ue[5],De=Ue[6],Ue=Ue[7],Ke=ze.high,lt=ze.low,mt=Ye.high,Ft=Ye.low,Tt=ot.high,pn=ot.low,kt=dt.high,zt=dt.low,qn=ut.high,Dn=ut.low,jn=we.high,Wt=we.low,Kn=De.high,hn=De.low,Yn=Ue.high,pr=Ue.low,gr=Ke,sr=lt,vi=mt,zi=Ft,ca=Tt,nr=pn,Ii=kt,go=zt,rr=qn,Ir=Dn,Ga=jn,Hi=Wt,wu=Kn,Wa=hn,yn=Yn,Ca=pr,ur=0;80>ur;ur++){var Mi=Ie[ur];if(16>ur)var fa=Mi.high=0|Me[$e+2*ur],lr=Mi.low=0|Me[$e+2*ur+1];else{fa=((lr=(fa=Ie[ur-15]).high)>>>1|(Vi=fa.low)<<31)^(lr>>>8|Vi<<24)^lr>>>7;var Vi=(Vi>>>1|lr<<31)^(Vi>>>8|lr<<24)^(Vi>>>7|lr<<25),Qa=((lr=(Qa=Ie[ur-2]).high)>>>19|(Cr=Qa.low)<<13)^(lr<<3|Cr>>>29)^lr>>>6,Cr=(Cr>>>19|lr<<13)^(Cr<<3|lr>>>29)^(Cr>>>6|lr<<26),Rl=(lr=Ie[ur-7]).high,mo=(Aa=Ie[ur-16]).high,Aa=Aa.low;fa=(fa=(fa=fa+Rl+((lr=Vi+lr.low)>>>0<Vi>>>0?1:0))+Qa+((lr=lr+Cr)>>>0<Cr>>>0?1:0))+mo+((lr=lr+Aa)>>>0<Aa>>>0?1:0),Mi.high=fa,Mi.low=lr}Rl=rr&Ga^~rr&wu,Aa=Ir&Hi^~Ir&Wa,Mi=gr&vi^gr&ca^vi&ca;var oh=sr&zi^sr&nr^zi&nr,Ki=(Vi=(gr>>>28|sr<<4)^(gr<<30|sr>>>2)^(gr<<25|sr>>>7),Qa=(sr>>>28|gr<<4)^(sr<<30|gr>>>2)^(sr<<25|gr>>>7),(Cr=_e[ur]).high),af=Cr.low;mo=yn+((rr>>>14|Ir<<18)^(rr>>>18|Ir<<14)^(rr<<23|Ir>>>9))+((Cr=Ca+((Ir>>>14|rr<<18)^(Ir>>>18|rr<<14)^(Ir<<23|rr>>>9)))>>>0<Ca>>>0?1:0),yn=wu,Ca=Wa,wu=Ga,Wa=Hi,Ga=rr,Hi=Ir,rr=Ii+(mo=(mo=(mo=mo+Rl+((Cr=Cr+Aa)>>>0<Aa>>>0?1:0))+Ki+((Cr=Cr+af)>>>0<af>>>0?1:0))+fa+((Cr=Cr+lr)>>>0<lr>>>0?1:0))+((Ir=go+Cr|0)>>>0<go>>>0?1:0)|0,Ii=ca,go=nr,ca=vi,nr=zi,vi=gr,zi=sr,gr=mo+(Mi=Vi+Mi+((lr=Qa+oh)>>>0<Qa>>>0?1:0))+((sr=Cr+lr|0)>>>0<Cr>>>0?1:0)|0}lt=ze.low=lt+sr,ze.high=Ke+gr+(lt>>>0<sr>>>0?1:0),Ft=Ye.low=Ft+zi,Ye.high=mt+vi+(Ft>>>0<zi>>>0?1:0),pn=ot.low=pn+nr,ot.high=Tt+ca+(pn>>>0<nr>>>0?1:0),zt=dt.low=zt+go,dt.high=kt+Ii+(zt>>>0<go>>>0?1:0),Dn=ut.low=Dn+Ir,ut.high=qn+rr+(Dn>>>0<Ir>>>0?1:0),Wt=we.low=Wt+Hi,we.high=jn+Ga+(Wt>>>0<Hi>>>0?1:0),hn=De.low=hn+Wa,De.high=Kn+wu+(hn>>>0<Wa>>>0?1:0),pr=Ue.low=pr+Ca,Ue.high=Yn+yn+(pr>>>0<Ca>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Ye=8*Me.sigBytes;return $e[Ye>>>5]|=128<<24-Ye%32,$e[30+(Ye+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Ye+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=R.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),T.SHA512=R._createHelper(oe),T.HmacSHA512=R._createHmacHelper(oe)}(),function(){var C=I,T=(G=C.x64).Word,R=G.WordArray,N=(G=C.algo).SHA512,G=G.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new T.init(3418070365,3238371032),new T.init(1654270250,914150663),new T.init(2438529370,812702999),new T.init(355462360,4144912697),new T.init(1731405415,4290775857),new T.init(2394180231,1750603025),new T.init(3675008525,1694076839),new T.init(1203062813,3204075428)])},_doFinalize:function(){var _e=N._doFinalize.call(this);return _e.sigBytes-=16,_e}});C.SHA384=N._createHelper(G),C.HmacSHA384=N._createHmacHelper(G)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var M,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function j(C){var T,R,N="";for(T=0;T+3<=C.length;T+=3)R=parseInt(C.substring(T,T+3),16),N+=D.charAt(R>>6)+D.charAt(63&R);for(T+1==C.length?(R=parseInt(C.substring(T,T+1),16),N+=D.charAt(R<<2)):T+2==C.length&&(R=parseInt(C.substring(T,T+2),16),N+=D.charAt(R>>2)+D.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(C){var T,R,N,G="",oe=0;for(T=0;T<C.length&&C.charAt(T)!="=";++T)(N=D.indexOf(C.charAt(T)))<0||(oe==0?(G+=pe(N>>2),R=3&N,oe=1):oe==1?(G+=pe(R<<2|N>>4),R=15&N,oe=2):oe==2?(G+=pe(R),G+=pe(N>>2),R=3&N,oe=3):(G+=pe(R<<2|N>>4),G+=pe(15&N),oe=0));return oe==1&&(G+=pe(R<<2)),G}function Y(C){var T,R=Q(C),N=new Array;for(T=0;2*T<R.length;++T)N[T]=parseInt(R.substring(2*T,2*T+2),16);return N}function q(C,T,R){C!=null&&(typeof C=="number"?this.fromNumber(C,T,R):T==null&&typeof C!="string"?this.fromString(C,256):this.fromString(C,T))}function Z(){return new q(null)}E.appName=="Microsoft Internet Explorer"?(q.prototype.am=function(T,R,N,G,oe,_e){for(var Ie=32767&R,xe=R>>15;--_e>=0;){var Pe=32767&this[T],Me=this[T++]>>15,$e=xe*Pe+Me*Ie;oe=((Pe=Ie*Pe+((32767&$e)<<15)+N[G]+(1073741823&oe))>>>30)+($e>>>15)+xe*Me+(oe>>>30),N[G++]=1073741823&Pe}return oe},M=30):E.appName!="Netscape"?(q.prototype.am=function(T,R,N,G,oe,_e){for(;--_e>=0;){var Ie=R*this[T++]+N[G]+oe;oe=Math.floor(Ie/67108864),N[G++]=67108863&Ie}return oe},M=26):(q.prototype.am=function(T,R,N,G,oe,_e){for(var Ie=16383&R,xe=R>>14;--_e>=0;){var Pe=16383&this[T],Me=this[T++]>>14,$e=xe*Pe+Me*Ie;oe=((Pe=Ie*Pe+((16383&$e)<<14)+N[G]+oe)>>28)+($e>>14)+xe*Me,N[G++]=268435455&Pe}return oe},M=28),q.prototype.DB=M,q.prototype.DM=(1<<M)-1,q.prototype.DV=1<<M,q.prototype.FV=Math.pow(2,52),q.prototype.F1=52-M,q.prototype.F2=2*M-52;var fe,te,se=new Array;for(fe=48,te=0;te<=9;++te)se[fe++]=te;for(fe=97,te=10;te<36;++te)se[fe++]=te;for(fe=65,te=10;te<36;++te)se[fe++]=te;function pe(C){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(C)}function be(C,T){var R=se[C.charCodeAt(T)];return R??-1}function ce(C){var T=Z();return T.fromInt(C),T}function le(C){var T,R=1;return(T=C>>>16)!=0&&(C=T,R+=16),(T=C>>8)!=0&&(C=T,R+=8),(T=C>>4)!=0&&(C=T,R+=4),(T=C>>2)!=0&&(C=T,R+=2),(T=C>>1)!=0&&(C=T,R+=1),R}function Oe(C){this.m=C}function k(C){this.m=C,this.mp=C.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<C.DB-15)-1,this.mt2=2*C.t}function ne(C,T){return C&T}function me(C,T){return C|T}function H(C,T){return C^T}function J(C,T){return C&~T}function ge(C){if(C==0)return-1;var T=0;return!(65535&C)&&(C>>=16,T+=16),!(255&C)&&(C>>=8,T+=8),!(15&C)&&(C>>=4,T+=4),!(3&C)&&(C>>=2,T+=2),!(1&C)&&++T,T}function Ae(C){for(var T=0;C!=0;)C&=C-1,++T;return T}function Je(){}function Re(C){return C}function Fe(C){this.r2=Z(),this.q3=Z(),q.ONE.dlShiftTo(2*C.t,this.r2),this.mu=this.r2.divide(C),this.m=C}Oe.prototype.convert=function(T){return T.s<0||T.compareTo(this.m)>=0?T.mod(this.m):T},Oe.prototype.revert=function(T){return T},Oe.prototype.reduce=function(T){T.divRemTo(this.m,null,T)},Oe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Oe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},k.prototype.convert=function(T){var R=Z();return T.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),T.s<0&&R.compareTo(q.ZERO)>0&&this.m.subTo(R,R),R},k.prototype.revert=function(T){var R=Z();return T.copyTo(R),this.reduce(R),R},k.prototype.reduce=function(T){for(;T.t<=this.mt2;)T[T.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&T[R],G=N*this.mpl+((N*this.mph+(T[R]>>15)*this.mpl&this.um)<<15)&T.DM;for(T[N=R+this.m.t]+=this.m.am(0,G,T,R,0,this.m.t);T[N]>=T.DV;)T[N]-=T.DV,T[++N]++}T.clamp(),T.drShiftTo(this.m.t,T),T.compareTo(this.m)>=0&&T.subTo(this.m,T)},k.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},k.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},q.prototype.copyTo=function(T){for(var R=this.t-1;R>=0;--R)T[R]=this[R];T.t=this.t,T.s=this.s},q.prototype.fromInt=function(T){this.t=1,this.s=T<0?-1:0,T>0?this[0]=T:T<-1?this[0]=T+this.DV:this.t=0},q.prototype.fromString=function(T,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(T,R);N=2}this.t=0,this.s=0;for(var G=T.length,oe=!1,_e=0;--G>=0;){var Ie=N==8?255&T[G]:be(T,G);Ie<0?T.charAt(G)=="-"&&(oe=!0):(oe=!1,_e==0?this[this.t++]=Ie:_e+N>this.DB?(this[this.t-1]|=(Ie&(1<<this.DB-_e)-1)<<_e,this[this.t++]=Ie>>this.DB-_e):this[this.t-1]|=Ie<<_e,(_e+=N)>=this.DB&&(_e-=this.DB))}N==8&&128&T[0]&&(this.s=-1,_e>0&&(this[this.t-1]|=(1<<this.DB-_e)-1<<_e)),this.clamp(),oe&&q.ZERO.subTo(this,this)},q.prototype.clamp=function(){for(var T=this.s&this.DM;this.t>0&&this[this.t-1]==T;)--this.t},q.prototype.dlShiftTo=function(T,R){var N;for(N=this.t-1;N>=0;--N)R[N+T]=this[N];for(N=T-1;N>=0;--N)R[N]=0;R.t=this.t+T,R.s=this.s},q.prototype.drShiftTo=function(T,R){for(var N=T;N<this.t;++N)R[N-T]=this[N];R.t=Math.max(this.t-T,0),R.s=this.s},q.prototype.lShiftTo=function(T,R){var N,G=T%this.DB,oe=this.DB-G,_e=(1<<oe)-1,Ie=Math.floor(T/this.DB),xe=this.s<<G&this.DM;for(N=this.t-1;N>=0;--N)R[N+Ie+1]=this[N]>>oe|xe,xe=(this[N]&_e)<<G;for(N=Ie-1;N>=0;--N)R[N]=0;R[Ie]=xe,R.t=this.t+Ie+1,R.s=this.s,R.clamp()},q.prototype.rShiftTo=function(T,R){R.s=this.s;var N=Math.floor(T/this.DB);if(N>=this.t)R.t=0;else{var G=T%this.DB,oe=this.DB-G,_e=(1<<G)-1;R[0]=this[N]>>G;for(var Ie=N+1;Ie<this.t;++Ie)R[Ie-N-1]|=(this[Ie]&_e)<<oe,R[Ie-N]=this[Ie]>>G;G>0&&(R[this.t-N-1]|=(this.s&_e)<<oe),R.t=this.t-N,R.clamp()}},q.prototype.subTo=function(T,R){for(var N=0,G=0,oe=Math.min(T.t,this.t);N<oe;)G+=this[N]-T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G-=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G-=T[N],R[N++]=G&this.DM,G>>=this.DB;G-=T.s}R.s=G<0?-1:0,G<-1?R[N++]=this.DV+G:G>0&&(R[N++]=G),R.t=N,R.clamp()},q.prototype.multiplyTo=function(T,R){var N=this.abs(),G=T.abs(),oe=N.t;for(R.t=oe+G.t;--oe>=0;)R[oe]=0;for(oe=0;oe<G.t;++oe)R[oe+N.t]=N.am(0,G[oe],R,oe,0,N.t);R.s=0,R.clamp(),this.s!=T.s&&q.ZERO.subTo(R,R)},q.prototype.squareTo=function(T){for(var R=this.abs(),N=T.t=2*R.t;--N>=0;)T[N]=0;for(N=0;N<R.t-1;++N){var G=R.am(N,R[N],T,2*N,0,1);(T[N+R.t]+=R.am(N+1,2*R[N],T,2*N+1,G,R.t-N-1))>=R.DV&&(T[N+R.t]-=R.DV,T[N+R.t+1]=1)}T.t>0&&(T[T.t-1]+=R.am(N,R[N],T,2*N,0,1)),T.s=0,T.clamp()},q.prototype.divRemTo=function(T,R,N){var G=T.abs();if(!(G.t<=0)){var oe=this.abs();if(oe.t<G.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=Z());var _e=Z(),Ie=this.s,xe=T.s,Pe=this.DB-le(G[G.t-1]);Pe>0?(G.lShiftTo(Pe,_e),oe.lShiftTo(Pe,N)):(G.copyTo(_e),oe.copyTo(N));var Me=_e.t,$e=_e[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?_e[Me-2]>>this.F2:0),Ye=this.FV/ze,ot=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,we=ut-Me,De=R??Z();for(_e.dlShiftTo(we,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),q.ONE.dlShiftTo(Me,De),De.subTo(_e,_e);_e.t<Me;)_e[_e.t++]=0;for(;--we>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Ye+(N[ut-1]+dt)*ot);if((N[ut]+=_e.am(0,Ue,N,we,0,Me))<Ue)for(_e.dlShiftTo(we,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(Me,R),Ie!=xe&&q.ZERO.subTo(R,R)),N.t=Me,N.clamp(),Pe>0&&N.rShiftTo(Pe,N),Ie<0&&q.ZERO.subTo(N,N)}}},q.prototype.invDigit=function(){if(this.t<1)return 0;var T=this[0];if(!(1&T))return 0;var R=3&T;return(R=(R=(R=(R=R*(2-(15&T)*R)&15)*(2-(255&T)*R)&255)*(2-((65535&T)*R&65535))&65535)*(2-T*R%this.DV)%this.DV)>0?this.DV-R:-R},q.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},q.prototype.exp=function(T,R){if(T>4294967295||T<1)return q.ONE;var N=Z(),G=Z(),oe=R.convert(this),_e=le(T)-1;for(oe.copyTo(N);--_e>=0;)if(R.sqrTo(N,G),(T&1<<_e)>0)R.mulTo(G,oe,N);else{var Ie=N;N=G,G=Ie}return R.revert(N)},q.prototype.toString=function(T){if(this.s<0)return"-"+this.negate().toString(T);var R;if(T==16)R=4;else if(T==8)R=3;else if(T==2)R=1;else if(T==32)R=5;else{if(T!=4)return this.toRadix(T);R=2}var N,G=(1<<R)-1,oe=!1,_e="",Ie=this.t,xe=this.DB-Ie*this.DB%R;if(Ie-- >0)for(xe<this.DB&&(N=this[Ie]>>xe)>0&&(oe=!0,_e=pe(N));Ie>=0;)xe<R?(N=(this[Ie]&(1<<xe)-1)<<R-xe,N|=this[--Ie]>>(xe+=this.DB-R)):(N=this[Ie]>>(xe-=R)&G,xe<=0&&(xe+=this.DB,--Ie)),N>0&&(oe=!0),oe&&(_e+=pe(N));return oe?_e:"0"},q.prototype.negate=function(){var T=Z();return q.ZERO.subTo(this,T),T},q.prototype.abs=function(){return this.s<0?this.negate():this},q.prototype.compareTo=function(T){var R=this.s-T.s;if(R!=0)return R;var N=this.t;if((R=N-T.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-T[N])!=0)return R;return 0},q.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+le(this[this.t-1]^this.s&this.DM)},q.prototype.mod=function(T){var R=Z();return this.abs().divRemTo(T,null,R),this.s<0&&R.compareTo(q.ZERO)>0&&T.subTo(R,R),R},q.prototype.modPowInt=function(T,R){var N;return N=T<256||R.isEven()?new Oe(R):new k(R),this.exp(T,N)},q.ZERO=ce(0),q.ONE=ce(1),Je.prototype.convert=Re,Je.prototype.revert=Re,Je.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N)},Je.prototype.sqrTo=function(T,R){T.squareTo(R)},Fe.prototype.convert=function(T){if(T.s<0||T.t>2*this.m.t)return T.mod(this.m);if(T.compareTo(this.m)<0)return T;var R=Z();return T.copyTo(R),this.reduce(R),R},Fe.prototype.revert=function(T){return T},Fe.prototype.reduce=function(T){for(T.drShiftTo(this.m.t-1,this.r2),T.t>this.m.t+1&&(T.t=this.m.t+1,T.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);T.compareTo(this.r2)<0;)T.dAddOffset(1,this.m.t+1);for(T.subTo(this.r2,T);T.compareTo(this.m)>=0;)T.subTo(this.m,T)},Fe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Fe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)};var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ie=(1<<26)/Xe[Xe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){this.i=0,this.j=0,this.S=new Array}q.prototype.chunkSize=function(T){return Math.floor(Math.LN2*this.DB/Math.log(T))},q.prototype.toRadix=function(T){if(T==null&&(T=10),this.signum()==0||T<2||T>36)return"0";var R=this.chunkSize(T),N=Math.pow(T,R),G=ce(N),oe=Z(),_e=Z(),Ie="";for(this.divRemTo(G,oe,_e);oe.signum()>0;)Ie=(N+_e.intValue()).toString(T).substr(1)+Ie,oe.divRemTo(G,oe,_e);return _e.intValue().toString(T)+Ie},q.prototype.fromRadix=function(T,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),G=Math.pow(R,N),oe=!1,_e=0,Ie=0,xe=0;xe<T.length;++xe){var Pe=be(T,xe);Pe<0?T.charAt(xe)=="-"&&this.signum()==0&&(oe=!0):(Ie=R*Ie+Pe,++_e>=N&&(this.dMultiply(G),this.dAddOffset(Ie,0),_e=0,Ie=0))}_e>0&&(this.dMultiply(Math.pow(R,_e)),this.dAddOffset(Ie,0)),oe&&q.ZERO.subTo(this,this)},q.prototype.fromNumber=function(T,R,N){if(typeof R=="number")if(T<2)this.fromInt(1);else for(this.fromNumber(T,N),this.testBit(T-1)||this.bitwiseTo(q.ONE.shiftLeft(T-1),me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>T&&this.subTo(q.ONE.shiftLeft(T-1),this);else{var G=new Array,oe=7&T;G.length=1+(T>>3),R.nextBytes(G),oe>0?G[0]&=(1<<oe)-1:G[0]=0,this.fromString(G,256)}},q.prototype.bitwiseTo=function(T,R,N){var G,oe,_e=Math.min(T.t,this.t);for(G=0;G<_e;++G)N[G]=R(this[G],T[G]);if(T.t<this.t){for(oe=T.s&this.DM,G=_e;G<this.t;++G)N[G]=R(this[G],oe);N.t=this.t}else{for(oe=this.s&this.DM,G=_e;G<T.t;++G)N[G]=R(oe,T[G]);N.t=T.t}N.s=R(this.s,T.s),N.clamp()},q.prototype.changeBit=function(T,R){var N=q.ONE.shiftLeft(T);return this.bitwiseTo(N,R,N),N},q.prototype.addTo=function(T,R){for(var N=0,G=0,oe=Math.min(T.t,this.t);N<oe;)G+=this[N]+T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G+=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G+=T[N],R[N++]=G&this.DM,G>>=this.DB;G+=T.s}R.s=G<0?-1:0,G>0?R[N++]=G:G<-1&&(R[N++]=this.DV+G),R.t=N,R.clamp()},q.prototype.dMultiply=function(T){this[this.t]=this.am(0,T-1,this,0,0,this.t),++this.t,this.clamp()},q.prototype.dAddOffset=function(T,R){if(T!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=T;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},q.prototype.multiplyLowerTo=function(T,R,N){var G,oe=Math.min(this.t+T.t,R);for(N.s=0,N.t=oe;oe>0;)N[--oe]=0;for(G=N.t-this.t;oe<G;++oe)N[oe+this.t]=this.am(0,T[oe],N,oe,0,this.t);for(G=Math.min(T.t,R);oe<G;++oe)this.am(0,T[oe],N,oe,0,R-oe);N.clamp()},q.prototype.multiplyUpperTo=function(T,R,N){--R;var G=N.t=this.t+T.t-R;for(N.s=0;--G>=0;)N[G]=0;for(G=Math.max(R-this.t,0);G<T.t;++G)N[this.t+G-R]=this.am(R-G,T[G],N,0,0,this.t+G-R);N.clamp(),N.drShiftTo(1,N)},q.prototype.modInt=function(T){if(T<=0)return 0;var R=this.DV%T,N=this.s<0?T-1:0;if(this.t>0)if(R==0)N=this[0]%T;else for(var G=this.t-1;G>=0;--G)N=(R*N+this[G])%T;return N},q.prototype.millerRabin=function(T){var R=this.subtract(q.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var G=R.shiftRight(N);(T=T+1>>1)>Xe.length&&(T=Xe.length);for(var oe=Z(),_e=0;_e<T;++_e){oe.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var Ie=oe.modPow(G,this);if(Ie.compareTo(q.ONE)!=0&&Ie.compareTo(R)!=0){for(var xe=1;xe++<N&&Ie.compareTo(R)!=0;)if((Ie=Ie.modPowInt(2,this)).compareTo(q.ONE)==0)return!1;if(Ie.compareTo(R)!=0)return!1}}return!0},q.prototype.clone=function(){var T=Z();return this.copyTo(T),T},q.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},q.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},q.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},q.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},q.prototype.toByteArray=function(){var T=this.t,R=new Array;R[0]=this.s;var N,G=this.DB-T*this.DB%8,oe=0;if(T-- >0)for(G<this.DB&&(N=this[T]>>G)!=(this.s&this.DM)>>G&&(R[oe++]=N|this.s<<this.DB-G);T>=0;)G<8?(N=(this[T]&(1<<G)-1)<<8-G,N|=this[--T]>>(G+=this.DB-8)):(N=this[T]>>(G-=8)&255,G<=0&&(G+=this.DB,--T)),128&N&&(N|=-256),oe==0&&(128&this.s)!=(128&N)&&++oe,(oe>0||N!=this.s)&&(R[oe++]=N);return R},q.prototype.equals=function(T){return this.compareTo(T)==0},q.prototype.min=function(T){return this.compareTo(T)<0?this:T},q.prototype.max=function(T){return this.compareTo(T)>0?this:T},q.prototype.and=function(T){var R=Z();return this.bitwiseTo(T,ne,R),R},q.prototype.or=function(T){var R=Z();return this.bitwiseTo(T,me,R),R},q.prototype.xor=function(T){var R=Z();return this.bitwiseTo(T,H,R),R},q.prototype.andNot=function(T){var R=Z();return this.bitwiseTo(T,J,R),R},q.prototype.not=function(){for(var T=Z(),R=0;R<this.t;++R)T[R]=this.DM&~this[R];return T.t=this.t,T.s=~this.s,T},q.prototype.shiftLeft=function(T){var R=Z();return T<0?this.rShiftTo(-T,R):this.lShiftTo(T,R),R},q.prototype.shiftRight=function(T){var R=Z();return T<0?this.lShiftTo(-T,R):this.rShiftTo(T,R),R},q.prototype.getLowestSetBit=function(){for(var T=0;T<this.t;++T)if(this[T]!=0)return T*this.DB+ge(this[T]);return this.s<0?this.t*this.DB:-1},q.prototype.bitCount=function(){for(var T=0,R=this.s&this.DM,N=0;N<this.t;++N)T+=Ae(this[N]^R);return T},q.prototype.testBit=function(T){var R=Math.floor(T/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<T%this.DB)!=0},q.prototype.setBit=function(T){return this.changeBit(T,me)},q.prototype.clearBit=function(T){return this.changeBit(T,J)},q.prototype.flipBit=function(T){return this.changeBit(T,H)},q.prototype.add=function(T){var R=Z();return this.addTo(T,R),R},q.prototype.subtract=function(T){var R=Z();return this.subTo(T,R),R},q.prototype.multiply=function(T){var R=Z();return this.multiplyTo(T,R),R},q.prototype.divide=function(T){var R=Z();return this.divRemTo(T,R,null),R},q.prototype.remainder=function(T){var R=Z();return this.divRemTo(T,null,R),R},q.prototype.divideAndRemainder=function(T){var R=Z(),N=Z();return this.divRemTo(T,R,N),new Array(R,N)},q.prototype.modPow=function(T,R){var N,G,oe=T.bitLength(),_e=ce(1);if(oe<=0)return _e;N=oe<18?1:oe<48?3:oe<144?4:oe<768?5:6,G=oe<8?new Oe(R):R.isEven()?new Fe(R):new k(R);var Ie=new Array,xe=3,Pe=N-1,Me=(1<<N)-1;if(Ie[1]=G.convert(this),N>1){var $e=Z();for(G.sqrTo(Ie[1],$e);xe<=Me;)Ie[xe]=Z(),G.mulTo($e,Ie[xe-2],Ie[xe]),xe+=2}var ze,Ye,ot=T.t-1,dt=!0,ut=Z();for(oe=le(T[ot])-1;ot>=0;){for(oe>=Pe?ze=T[ot]>>oe-Pe&Me:(ze=(T[ot]&(1<<oe+1)-1)<<Pe-oe,ot>0&&(ze|=T[ot-1]>>this.DB+oe-Pe)),xe=N;!(1&ze);)ze>>=1,--xe;if((oe-=xe)<0&&(oe+=this.DB,--ot),dt)Ie[ze].copyTo(_e),dt=!1;else{for(;xe>1;)G.sqrTo(_e,ut),G.sqrTo(ut,_e),xe-=2;xe>0?G.sqrTo(_e,ut):(Ye=_e,_e=ut,ut=Ye),G.mulTo(ut,Ie[ze],_e)}for(;ot>=0&&!(T[ot]&1<<oe);)G.sqrTo(_e,ut),Ye=_e,_e=ut,ut=Ye,--oe<0&&(oe=this.DB-1,--ot)}return G.revert(_e)},q.prototype.modInverse=function(T){var R=T.isEven();if(this.isEven()&&R||T.signum()==0)return q.ZERO;for(var N=T.clone(),G=this.clone(),oe=ce(1),_e=ce(0),Ie=ce(0),xe=ce(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(oe.isEven()&&_e.isEven()||(oe.addTo(this,oe),_e.subTo(T,_e)),oe.rShiftTo(1,oe)):_e.isEven()||_e.subTo(T,_e),_e.rShiftTo(1,_e);for(;G.isEven();)G.rShiftTo(1,G),R?(Ie.isEven()&&xe.isEven()||(Ie.addTo(this,Ie),xe.subTo(T,xe)),Ie.rShiftTo(1,Ie)):xe.isEven()||xe.subTo(T,xe),xe.rShiftTo(1,xe);N.compareTo(G)>=0?(N.subTo(G,N),R&&oe.subTo(Ie,oe),_e.subTo(xe,_e)):(G.subTo(N,G),R&&Ie.subTo(oe,Ie),xe.subTo(_e,xe))}return G.compareTo(q.ONE)!=0?q.ZERO:xe.compareTo(T)>=0?xe.subtract(T):xe.signum()<0?(xe.addTo(T,xe),xe.signum()<0?xe.add(T):xe):xe},q.prototype.pow=function(T){return this.exp(T,new Je)},q.prototype.gcd=function(T){var R=this.s<0?this.negate():this.clone(),N=T.s<0?T.negate():T.clone();if(R.compareTo(N)<0){var G=R;R=N,N=G}var oe=R.getLowestSetBit(),_e=N.getLowestSetBit();if(_e<0)return R;for(oe<_e&&(_e=oe),_e>0&&(R.rShiftTo(_e,R),N.rShiftTo(_e,N));R.signum()>0;)(oe=R.getLowestSetBit())>0&&R.rShiftTo(oe,R),(oe=N.getLowestSetBit())>0&&N.rShiftTo(oe,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return _e>0&&N.lShiftTo(_e,N),N},q.prototype.isProbablePrime=function(T){var R,N=this.abs();if(N.t==1&&N[0]<=Xe[Xe.length-1]){for(R=0;R<Xe.length;++R)if(N[0]==Xe[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Xe.length;){for(var G=Xe[R],oe=R+1;oe<Xe.length&&G<ie;)G*=Xe[oe++];for(G=N.modInt(G);R<oe;)if(G%Xe[R++]==0)return!1}return N.millerRabin(T)},q.prototype.square=function(){var T=Z();return this.squareTo(T),T},z.prototype.init=function(T){var R,N,G;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+T[R%T.length]&255,G=this.S[R],this.S[R]=this.S[N],this.S[N]=G;this.i=0,this.j=0},z.prototype.next=function(){var T;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,T=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=T,this.S[T+this.S[this.i]&255]};var $,re,W;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(T){re[W++]^=255&T,re[W++]^=T>>8&255,re[W++]^=T>>16&255,re[W++]^=T>>24&255,W>=256&&(W-=256)})(new Date().getTime())}if(re==null){var ye;if(re=new Array,W=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var He=A.crypto||A.msCrypto;if(He.getRandomValues){var Te=new Uint8Array(32);for(He.getRandomValues(Te),ye=0;ye<32;++ye)re[W++]=Te[ye]}else if(E.appName=="Netscape"&&E.appVersion<"5"){var Ne=A.crypto.random(32);for(ye=0;ye<Ne.length;++ye)re[W++]=255&Ne.charCodeAt(ye)}}for(;W<256;)ye=Math.floor(65536*Math.random()),re[W++]=ye>>>8,re[W++]=255&ye;W=0,he()}function tt(){if($==null){for(he(),($=function(){return new z}()).init(re),W=0;W<re.length;++W)re[W]=0;W=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(C,T){return new q(C,T)}function Ut(C,T,R){for(var N="",G=0;N.length<T;)N+=R(String.fromCharCode.apply(String,C.concat([(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G]))),G+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(C,T){this.x=T,this.q=C}function X(C,T,R,N){this.curve=C,this.x=T,this.y=R,this.z=N??q.ONE,this.zinv=null}function B(C,T,R){this.q=C,this.a=this.fromBigInteger(T),this.b=this.fromBigInteger(R),this.infinity=new X(this,null,null)}nt.prototype.nextBytes=function(T){var R;for(R=0;R<T.length;++R)T[R]=tt()},Se.prototype.doPublic=function(T){return T.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(T,R){if(this.isPublic=!0,this.isPrivate=!1,typeof T!="string")this.n=T,this.e=R;else{if(!(T!=null&&R!=null&&T.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(T,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(T){var R=function(_e,Ie){if(Ie<_e.length+11)throw"Message too long for RSA";for(var xe=new Array,Pe=_e.length-1;Pe>=0&&Ie>0;){var Me=_e.charCodeAt(Pe--);Me<128?xe[--Ie]=Me:Me>127&&Me<2048?(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6|192):(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6&63|128,xe[--Ie]=Me>>12|224)}xe[--Ie]=0;for(var $e=new nt,ze=new Array;Ie>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Ie]=ze[0]}return xe[--Ie]=2,xe[--Ie]=0,new q(xe)}(T,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var G=N.toString(16);return 1&G.length?"0"+G:G},Se.prototype.encryptOAEP=function(T,R,N){var G=function(xe,Pe,Me,$e){var ze=V.crypto.MessageDigest,Ye=V.crypto.Util,ot=null;if(Me||(Me="sha1"),typeof Me=="string"&&(ot=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(ot),Me=function(Tt){return un(Ye.hashHex(Ln(Tt),ot))}),xe.length+2*$e+2>Pe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Pe-xe.length-2*$e-2;dt+=1)ut+="\0";var we=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Ue=Ut(De,we.length,Me),Ke=[];for(dt=0;dt<we.length;dt+=1)Ke[dt]=we.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=Ut(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new q(mt.concat(Ke))}(T,this.n.bitLength()+7>>3,R,N);if(G==null)return null;var oe=this.doPublic(G);if(oe==null)return null;var _e=oe.toString(16);return 1&_e.length?"0"+_e:_e},Se.prototype.type="RSA",Be.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.x.equals(T.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(T){return new Be(this.q,this.x.add(T.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(T){return new Be(this.q,this.x.subtract(T.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger().modInverse(this.q)).mod(this.q))},X.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.equals=function(T){return T==this||(this.isInfinity()?T.isInfinity():T.isInfinity()?this.isInfinity():!!T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(q.ZERO)&&T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(q.ZERO))},X.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(q.ZERO)&&!this.y.toBigInteger().equals(q.ZERO)},X.prototype.negate=function(){return new X(this.curve,this.x,this.y.negate(),this.z)},X.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;var R=T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q),N=T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q);if(q.ZERO.equals(N))return q.ZERO.equals(R)?this.twice():this.curve.getInfinity();var G=new q("3"),oe=this.x.toBigInteger(),_e=this.y.toBigInteger(),Ie=(T.x.toBigInteger(),T.y.toBigInteger(),N.square()),xe=Ie.multiply(N),Pe=oe.multiply(Ie),Me=R.square().multiply(this.z),$e=Me.subtract(Pe.shiftLeft(1)).multiply(T.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Pe.multiply(G).multiply(R).subtract(_e.multiply(xe)).subtract(Me.multiply(R)).multiply(T.z).add(R.multiply(xe)).mod(this.curve.q),Ye=xe.multiply(this.z).multiply(T.z).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Ye)},X.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=new q("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),G=N.multiply(this.z),oe=G.multiply(N).mod(this.curve.q),_e=this.curve.a.toBigInteger(),Ie=R.square().multiply(T);q.ZERO.equals(_e)||(Ie=Ie.add(this.z.square().multiply(_e)));var xe=(Ie=Ie.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(oe)).shiftLeft(1).multiply(G).mod(this.curve.q),Pe=Ie.multiply(T).multiply(R).subtract(oe.shiftLeft(1)).shiftLeft(2).multiply(oe).subtract(Ie.square().multiply(Ie)).mod(this.curve.q),Me=G.square().multiply(G).shiftLeft(3).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Pe),Me)},X.prototype.multiply=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var R,N=T,G=N.multiply(new q("3")),oe=this.negate(),_e=this,Ie=this.curve.q.subtract(T),xe=Ie.multiply(new q("3")),Pe=new X(this.curve,this.x,this.y),Me=Pe.negate();for(R=G.bitLength()-2;R>0;--R){_e=_e.twice();var $e=G.testBit(R);$e!=N.testBit(R)&&(_e=_e.add($e?this:oe))}for(R=xe.bitLength()-2;R>0;--R){Pe=Pe.twice();var ze=xe.testBit(R);ze!=Ie.testBit(R)&&(Pe=Pe.add(ze?Pe:Me))}return _e},X.prototype.multiplyTwo=function(T,R,N){var G;G=T.bitLength()>N.bitLength()?T.bitLength()-1:N.bitLength()-1;for(var oe=this.curve.getInfinity(),_e=this.add(R);G>=0;)oe=oe.twice(),T.testBit(G)?oe=N.testBit(G)?oe.add(_e):oe.add(this):N.testBit(G)&&(oe=oe.add(R)),--G;return oe},B.prototype.getQ=function(){return this.q},B.prototype.getA=function(){return this.a},B.prototype.getB=function(){return this.b},B.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.a.equals(T.a)&&this.b.equals(T.b)},B.prototype.getInfinity=function(){return this.infinity},B.prototype.fromBigInteger=function(T){return new Be(this.q,T)},B.prototype.decodePointHex=function(T){switch(parseInt(T.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(T.length-2)/2,N=T.substr(2,R),G=T.substr(R+2,R);return new X(this,this.fromBigInteger(new q(N,16)),this.fromBigInteger(new q(G,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},X.prototype.getEncoded=function(C){var T=function(_e,Ie){var xe=_e.toByteArrayUnsigned();if(Ie<xe.length)xe=xe.slice(xe.length-Ie);else for(;Ie>xe.length;)xe.unshift(0);return xe},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),G=T(R,32);return C?N.isEven()?G.unshift(2):G.unshift(3):(G.unshift(4),G=G.concat(T(N,32))),G},X.decodeFrom=function(C,T){T[0];var R=T.length-1,N=T.slice(1,1+R/2),G=T.slice(1+R/2,1+R);N.unshift(0),G.unshift(0);var oe=new q(N),_e=new q(G);return new X(C,C.fromBigInteger(oe),C.fromBigInteger(_e))},X.decodeFromHex=function(C,T){T.substr(0,2);var R=T.length-2,N=T.substr(2,R/2),G=T.substr(2+R/2,R/2),oe=new q(N,16),_e=new q(G,16);return new X(C,C.fromBigInteger(oe),C.fromBigInteger(_e))},X.prototype.add2D=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;if(this.x.equals(C.x))return this.y.equals(C.y)?this.twice():this.curve.getInfinity();var T=C.x.subtract(this.x),R=C.y.subtract(this.y).divide(T),N=R.square().subtract(this.x).subtract(C.x),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new X(this.curve,N,G)},X.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=this.curve.fromBigInteger(q.valueOf(2)),T=this.curve.fromBigInteger(q.valueOf(3)),R=this.x.square().multiply(T).add(this.curve.a).divide(this.y.multiply(C)),N=R.square().subtract(this.x.multiply(C)),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new X(this.curve,N,G)},X.prototype.multiply2D=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var T,R=C,N=R.multiply(new q("3")),G=this.negate(),oe=this;for(T=N.bitLength()-2;T>0;--T){oe=oe.twice();var _e=N.testBit(T);_e!=R.testBit(T)&&(oe=oe.add2D(_e?this:G))}return oe},X.prototype.isOnCurve=function(){var C=this.getX().toBigInteger(),T=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),G=this.curve.getQ(),oe=T.multiply(T).mod(G),_e=C.multiply(C).multiply(C).add(R.multiply(C)).add(N).mod(G);return oe.equals(_e)},X.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},X.prototype.validate=function(){var C=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var T=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(T.compareTo(q.ONE)<0||T.compareTo(C.subtract(q.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(q.ONE)<0||R.compareTo(C.subtract(q.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(C).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var K=function(){var C=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),T=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(_e,Ie,xe){return Ie?R[Ie]:String.fromCharCode(parseInt(xe,16))}var G=new String(""),oe=Object.hasOwnProperty;return function(_e,Ie){var xe,Pe,Me=_e.match(C),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Ye=[xe],ot=1-ze,dt=Me.length;ot<dt;++ot){var ut;switch(($e=Me[ot]).charCodeAt(0)){default:(ut=Ye[0])[Pe||ut.length]=+$e,Pe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(T,N)),ut=Ye[0],!Pe){if(!(ut instanceof Array)){Pe=$e||G;break}Pe=ut.length}ut[Pe]=$e,Pe=void 0;break;case 91:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]=[]),Pe=void 0;break;case 93:Ye.shift();break;case 102:(ut=Ye[0])[Pe||ut.length]=!1,Pe=void 0;break;case 110:(ut=Ye[0])[Pe||ut.length]=null,Pe=void 0;break;case 116:(ut=Ye[0])[Pe||ut.length]=!0,Pe=void 0;break;case 123:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]={}),Pe=void 0;break;case 125:Ye.shift()}}if(ze){if(Ye.length!==1)throw new Error;xe=xe[0]}else if(Ye.length)throw new Error;return Ie&&(xe=function we(De,Ue){var Ke=De[Ue];if(Ke&&(Ke===void 0?"undefined":x(Ke))==="object"){var lt=null;for(var mt in Ke)if(oe.call(Ke,mt)&&Ke!==De){var Ft=we(Ke,mt);Ft!==void 0?Ke[mt]=Ft:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ke[lt[Tt]]}return Ie.call(De,Ue,Ke)}({"":xe},"")),xe}}();V!==void 0&&V||(r.KJUR=V={}),V.asn1!==void 0&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(C){var T=C.toString(16);return T.length%2==1&&(T="0"+T),T},this.bigIntToMinTwosComplementsHex=function(C){var T=C.toString(16);if(T.substr(0,1)!="-")T.length%2==1?T="0"+T:T.match(/^[0-7]/)||(T="00"+T);else{var R=T.substr(1).length;R%2==1?R+=1:T.match(/^[0-7]/)||(R+=2);for(var N="",G=0;G<R;G++)N+="f";T=new q(N,16).xor(C).add(q.ONE).toString(16).replace(/^-/,"")}return T},this.getPEMStringFromHex=function(C,T){return wt(C,T)},this.newObject=function(C){var T=V.asn1,R=T.ASN1Object,N=T.DERBoolean,G=T.DERInteger,oe=T.DERBitString,_e=T.DEROctetString,Ie=T.DERNull,xe=T.DERObjectIdentifier,Pe=T.DEREnumerated,Me=T.DERUTF8String,$e=T.DERNumericString,ze=T.DERPrintableString,Ye=T.DERTeletexString,ot=T.DERIA5String,dt=T.DERUTCTime,ut=T.DERGeneralizedTime,we=T.DERVisibleString,De=T.DERBMPString,Ue=T.DERSequence,Ke=T.DERSet,lt=T.DERTaggedObject,mt=T.ASN1Util.newObject;if(C instanceof T.ASN1Object)return C;var Ft=Object.keys(C);if(Ft.length!=1)throw new Error("key of param shall be only one.");var Tt=Ft[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(C[Tt]);if(Tt=="int")return new G(C[Tt]);if(Tt=="bitstr")return new oe(C[Tt]);if(Tt=="octstr")return new _e(C[Tt]);if(Tt=="null")return new Ie(C[Tt]);if(Tt=="oid")return new xe(C[Tt]);if(Tt=="enum")return new Pe(C[Tt]);if(Tt=="utf8str")return new Me(C[Tt]);if(Tt=="numstr")return new $e(C[Tt]);if(Tt=="prnstr")return new ze(C[Tt]);if(Tt=="telstr")return new Ye(C[Tt]);if(Tt=="ia5str")return new ot(C[Tt]);if(Tt=="utctime")return new dt(C[Tt]);if(Tt=="gentime")return new ut(C[Tt]);if(Tt=="visstr")return new we(C[Tt]);if(Tt=="bmpstr")return new De(C[Tt]);if(Tt=="asn1")return new R(C[Tt]);if(Tt=="seq"){for(var pn=C[Tt],kt=[],zt=0;zt<pn.length;zt++){var qn=mt(pn[zt]);kt.push(qn)}return new Ue({array:kt})}if(Tt=="set"){for(pn=C[Tt],kt=[],zt=0;zt<pn.length;zt++)qn=mt(pn[zt]),kt.push(qn);return new Ke({array:kt})}if(Tt=="tag"){var Dn=C[Tt];if(Object.prototype.toString.call(Dn)==="[object Array]"&&Dn.length==3){var jn=mt(Dn[2]);return new lt({tag:Dn[0],explicit:Dn[1],obj:jn})}return new lt(Dn)}},this.jsonToASN1HEX=function(C){return this.newObject(C).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(C){for(var T="",R=parseInt(C.substr(0,2),16),N=(T=Math.floor(R/40)+"."+R%40,""),G=2;G<C.length;G+=2){var oe=("00000000"+parseInt(C.substr(G,2),16).toString(2)).slice(-8);N+=oe.substr(1,7),oe.substr(0,1)=="0"&&(T=T+"."+new q(N,2).toString(10),N="")}return T},V.asn1.ASN1Util.oidIntToHex=function(C){var T=function(xe){var Pe=xe.toString(16);return Pe.length==1&&(Pe="0"+Pe),Pe},R=function(xe){var Pe="",Me=new q(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Ye=0;Ye<$e;Ye++)ze+="0";for(Me=ze+Me,Ye=0;Ye<Me.length-1;Ye+=7){var ot=Me.substr(Ye,7);Ye!=Me.length-7&&(ot="1"+ot),Pe+=T(parseInt(ot,2))}return Pe};if(!C.match(/^[0-9.]+$/))throw"malformed oid string: "+C;var N="",G=C.split("."),oe=40*parseInt(G[0])+parseInt(G[1]);N+=T(oe),G.splice(0,2);for(var _e=0;_e<G.length;_e++)N+=R(G[_e]);return N},V.asn1.ASN1Object=function(C){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var T=this.hV.length/2,R=T.toString(16);if(R.length%2==1&&(R="0"+R),T<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+T.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(T){this.params=T},C!=null&&C.tlv!=null&&(this.hTLV=C.tlv,this.isModified=!1)},V.asn1.DERAbstractString=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=hr(this.s).toLowerCase()},this.setStringHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"?this.setString(C):C.str!==void 0?this.setString(C.str):C.hex!==void 0&&this.setStringHex(C.hex))},qt(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(C){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(T){var R=T.getTime()+6e4*T.getTimezoneOffset();return new Date(R)},this.formatDate=function(T,R,N){var G=this.zeroPadding,oe=this.localDateToUTC(T),_e=String(oe.getFullYear());R=="utc"&&(_e=_e.substr(2,2));var Ie=_e+G(String(oe.getMonth()+1),2)+G(String(oe.getDate()),2)+G(String(oe.getHours()),2)+G(String(oe.getMinutes()),2)+G(String(oe.getSeconds()),2);if(N===!0){var xe=oe.getMilliseconds();if(xe!=0){var Pe=G(String(xe),3);Ie=Ie+"."+(Pe=Pe.replace(/[0]+$/,""))}}return Ie+"Z"},this.zeroPadding=function(T,R){return T.length>=R?T:new Array(R-T.length+1).join("0")+T},this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=Rt(T)},this.setByDateValue=function(T,R,N,G,oe,_e){var Ie=new Date(Date.UTC(T,R-1,N,G,oe,_e,0));this.setByDate(Ie)},this.getFreshValueHex=function(){return this.hV}},qt(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array=T},this.appendASN1Object=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array.push(T)},this.asn1Array=new Array,C!==void 0&&C.array!==void 0&&(this.asn1Array=C.array)},qt(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(C){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=C==0?"010100":"0101ff"},qt(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(C){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new q(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.bigint!==void 0?this.setByBigInteger(C.bigint):C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},qt(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex="00"+T.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var G="0"+R;this.hTLV=null,this.isModified=!0,this.hV=G+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var G=0;G<=N;G++)R+="0";var oe="";for(G=0;G<R.length-1;G+=8){var _e=R.substr(G,8),Ie=parseInt(_e,2).toString(16);Ie.length==1&&(Ie="0"+Ie),oe+=Ie}this.hTLV=null,this.isModified=!0,this.hV="0"+N+oe},this.setByBooleanArray=function(R){for(var N="",G=0;G<R.length;G++)R[G]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),G=0;G<R;G++)N[G]=!1;return N},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"&&C.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(C):C.hex!==void 0?this.setHexValueIncludingUnusedBits(C.hex):C.bin!==void 0?this.setByBinaryString(C.bin):C.array!==void 0&&this.setByBooleanArray(C.array))},qt(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex=T.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,C),this.hT="04"},qt(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},qt(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(C){V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.setValueOidString=function(T){var R=function(G){var oe=function(ze){var Ye=ze.toString(16);return Ye.length==1&&(Ye="0"+Ye),Ye},_e=function(ze){var Ye="",ot=parseInt(ze,10).toString(2),dt=7-ot.length%7;dt==7&&(dt=0);for(var ut="",we=0;we<dt;we++)ut+="0";for(ot=ut+ot,we=0;we<ot.length-1;we+=7){var De=ot.substr(we,7);we!=ot.length-7&&(De="1"+De),Ye+=oe(parseInt(De,2))}return Ye};try{if(!G.match(/^[0-9.]+$/))return null;var Ie="",xe=G.split("."),Pe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Ie+=oe(Pe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Ie+=_e(xe[Me]);return Ie}catch{return null}}(T);if(R==null)throw new Error("malformed oid string: "+T);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(T){var R=V.asn1.x509.OID.name2oid(T);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+T);this.setValueOidString(R)},this.setValueNameOrOid=function(T){T.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(T):this.setValueName(T)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(T){typeof T=="string"?this.setValueNameOrOid(T):T.oid!==void 0?this.setValueNameOrOid(T.oid):T.name!==void 0?this.setValueNameOrOid(T.name):T.hex!==void 0&&this.setValueHex(T.hex)},C!==void 0&&this.setByParam(C)},qt(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(C){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new q(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},qt(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(C){V.asn1.DERUTF8String.superclass.constructor.call(this,C),this.hT="0c"},qt(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(C){V.asn1.DERNumericString.superclass.constructor.call(this,C),this.hT="12"},qt(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(C){V.asn1.DERPrintableString.superclass.constructor.call(this,C),this.hT="13"},qt(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(C){V.asn1.DERTeletexString.superclass.constructor.call(this,C),this.hT="14"},qt(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="16"},qt(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERVisibleString=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="1a"},qt(V.asn1.DERVisibleString,V.asn1.DERAbstractString),V.asn1.DERBMPString=function(C){V.asn1.DERBMPString.superclass.constructor.call(this,C),this.hT="1e"},qt(V.asn1.DERBMPString,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(C){V.asn1.DERUTCTime.superclass.constructor.call(this,C),this.hT="17",this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{12}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date))},qt(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(C){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,C),this.hT="18",this.withMillis=!1,this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{14}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date),C.millis===!0&&(this.withMillis=!0))},qt(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(C){V.asn1.DERSequence.superclass.constructor.call(this,C),this.hT="30",this.getFreshValueHex=function(){for(var T="",R=0;R<this.asn1Array.length;R++)T+=this.asn1Array[R].getEncodedHex();return this.hV=T,this.hV}},qt(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(C){V.asn1.DERSet.superclass.constructor.call(this,C),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var T=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];T.push(N.getEncodedHex())}return this.sortFlag==1&&T.sort(),this.hV=T.join(""),this.hV},C!==void 0&&C.sortflag!==void 0&&C.sortflag==0&&(this.sortFlag=!1)},qt(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(C){V.asn1.DERTaggedObject.superclass.constructor.call(this);var T=V.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,G){this.hT=N,this.isExplicit=R,this.asn1Object=G,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=G.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof T.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):x(R.obj)=="object"&&(this.asn1Object=T.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},C!=null&&this.setByParam(C)},qt(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,je,Ze,ke=new function(){};function At(C){for(var T=new Array,R=0;R<C.length;R++)T[R]=C.charCodeAt(R);return T}function Ot(C){for(var T="",R=0;R<C.length;R++)T+=String.fromCharCode(C[R]);return T}function Dt(C){for(var T="",R=0;R<C.length;R++){var N=C[R].toString(16);N.length==1&&(N="0"+N),T+=N}return T}function Rt(C){return Dt(At(C))}function Bt(C){return C=(C=(C=C.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Er(C){return C.length%4==2?C+="==":C.length%4==3&&(C+="="),C=(C=C.replace(/-/g,"+")).replace(/_/g,"/")}function fn(C){return C.length%2==1&&(C="0"+C),Bt(j(C))}function dn(C){return Q(Er(C))}function hr(C){return Jn(Et(C))}function sn(C){return decodeURIComponent(We(C))}function un(C){for(var T="",R=0;R<C.length-1;R+=2)T+=String.fromCharCode(parseInt(C.substr(R,2),16));return T}function Ln(C){for(var T="",R=0;R<C.length;R++)T+=("0"+C.charCodeAt(R).toString(16)).slice(-2);return T}function or(C){return j(C)}function Le(C){var T=or(C).replace(/(.{64})/g,`$1\r
`);return T=T.replace(/\r\n$/,"")}function qe(C){return Q(C.replace(/[^0-9A-Za-z\/+=]*/g,""))}function wt(C,T){return"-----BEGIN "+T+`-----\r
`+Le(C)+`\r
-----END `+T+`-----\r
`}function xt(C,T){if(C.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+T;return qe(C=T!==void 0?(C=C.replace(new RegExp("^[^]*-----BEGIN "+T+"-----"),"")).replace(new RegExp("-----END "+T+"-----[^]*$"),""):(C=C.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Lt(C){var T,R,N,G,oe,_e,Ie,xe,Pe,Me,$e;if($e=C.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],T=parseInt(xe),xe.length===2&&(50<=T&&T<100?T=1900+T:0<=T&&T<50&&(T=2e3+T)),R=parseInt($e[2])-1,N=parseInt($e[3]),G=parseInt($e[4]),oe=parseInt($e[5]),_e=parseInt($e[6]),Ie=0,(Pe=$e[7])!==""&&(Me=(Pe.substr(1)+"00").substr(0,3),Ie=parseInt(Me)),Date.UTC(T,R,N,G,oe,_e,Ie);throw"unsupported zulu format: "+C}function zn(C){return~~(Lt(C)/1e3)}function Jn(C){return C.replace(/%/g,"")}function We(C){return C.replace(/(..)/g,"%$1")}function Ee(C){var T="malformed IPv6 address";if(!C.match(/^[0-9A-Fa-f:]+$/))throw T;var R=(C=C.toLowerCase()).split(":").length-1;if(R<2)throw T;var N=":".repeat(7-R+2),G=(C=C.replace("::",N)).split(":");if(G.length!=8)throw T;for(var oe=0;oe<8;oe++)G[oe]=("0000"+G[oe]).slice(-4);return G.join("")}function et(C){if(!C.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var T=(C=C.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)T[R]=T[R].replace(/^0+/,""),T[R]==""&&(T[R]="0");var N=(C=":"+T.join(":")+":").match(/:(0:){2,}/g);if(N===null)return C.slice(1,-1);var G="";for(R=0;R<N.length;R++)N[R].length>G.length&&(G=N[R]);return(C=C.replace(G,"::")).slice(1,-1)}function ft(C){var T="malformed hex value";if(!C.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw T;if(C.length!=8)return C.length==32?et(C):C;try{return parseInt(C.substr(0,2),16)+"."+parseInt(C.substr(2,2),16)+"."+parseInt(C.substr(4,2),16)+"."+parseInt(C.substr(6,2),16)}catch{throw T}}function it(C){return C.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),G=parseInt(R.substr(2),16);if(N==0&G<128)return String.fromCharCode(G);if(N<8){var oe=128|63&G;return sn((192|(7&N)<<3|(192&G)>>6).toString(16)+oe.toString(16))}oe=128|(15&N)<<2|(192&G)>>6;var _e=128|63&G;return sn((224|(240&N)>>4).toString(16)+oe.toString(16)+_e.toString(16))}).join("")}function Et(C){for(var T=encodeURIComponent(C),R="",N=0;N<T.length;N++)T[N]=="%"?(R+=T.substr(N,3),N+=2):R=R+"%"+Rt(T[N]);return R}function It(C){return!(C.length%2!=0||!C.match(/^[0-9a-f]+$/)&&!C.match(/^[0-9A-F]+$/))}function Vt(C){return C.length%2==1?"0"+C:C.substr(0,1)>"7"?"00"+C:C}ke.getLblen=function(C,T){if(C.substr(T+2,1)!="8")return 1;var R=parseInt(C.substr(T+3,1));return R==0?-1:0<R&&R<10?R+1:-2},ke.getL=function(C,T){var R=ke.getLblen(C,T);return R<1?"":C.substr(T+2,2*R)},ke.getVblen=function(C,T){var R;return(R=ke.getL(C,T))==""?-1:(R.substr(0,1)==="8"?new q(R.substr(2),16):new q(R,16)).intValue()},ke.getVidx=function(C,T){var R=ke.getLblen(C,T);return R<0?R:T+2*(R+1)},ke.getV=function(C,T){var R=ke.getVidx(C,T),N=ke.getVblen(C,T);return C.substr(R,2*N)},ke.getTLV=function(C,T){return C.substr(T,2)+ke.getL(C,T)+ke.getV(C,T)},ke.getTLVblen=function(C,T){return 2+2*ke.getLblen(C,T)+2*ke.getVblen(C,T)},ke.getNextSiblingIdx=function(C,T){return ke.getVidx(C,T)+2*ke.getVblen(C,T)},ke.getChildIdx=function(C,T){var R,N,G,oe=ke,_e=[];R=oe.getVidx(C,T),N=2*oe.getVblen(C,T),C.substr(T,2)=="03"&&(R+=2,N-=2),G=0;for(var Ie=R;G<=N;){var xe=oe.getTLVblen(C,Ie);if((G+=xe)<=N&&_e.push(Ie),Ie+=xe,G>=N)break}return _e},ke.getNthChildIdx=function(C,T,R){return ke.getChildIdx(C,T)[R]},ke.getIdxbyList=function(C,T,R,N){var G,oe,_e=ke;return R.length==0?N!==void 0&&C.substr(T,2)!==N?-1:T:(G=R.shift())>=(oe=_e.getChildIdx(C,T)).length?-1:_e.getIdxbyList(C,oe[G],R,N)},ke.getIdxbyListEx=function(C,T,R,N){var G,oe,_e=ke;if(R.length==0)return N!==void 0&&C.substr(T,2)!==N?-1:T;G=R.shift(),oe=_e.getChildIdx(C,T);for(var Ie=0,xe=0;xe<oe.length;xe++){var Pe=C.substr(oe[xe],2);if(typeof G=="number"&&!_e.isContextTag(Pe)&&Ie==G||typeof G=="string"&&_e.isContextTag(Pe,G))return _e.getIdxbyListEx(C,oe[xe],R,N);_e.isContextTag(Pe)||Ie++}return-1},ke.getTLVbyList=function(C,T,R,N){var G=ke,oe=G.getIdxbyList(C,T,R,N);return oe==-1||oe>=C.length?null:G.getTLV(C,oe)},ke.getTLVbyListEx=function(C,T,R,N){var G=ke,oe=G.getIdxbyListEx(C,T,R,N);return oe==-1?null:G.getTLV(C,oe)},ke.getVbyList=function(C,T,R,N,G){var oe,_e,Ie=ke;return(oe=Ie.getIdxbyList(C,T,R,N))==-1||oe>=C.length?null:(_e=Ie.getV(C,oe),G===!0&&(_e=_e.substr(2)),_e)},ke.getVbyListEx=function(C,T,R,N,G){var oe,_e,Ie=ke;return(oe=Ie.getIdxbyListEx(C,T,R,N))==-1?null:(_e=Ie.getV(C,oe),C.substr(oe,2)=="03"&&G!==!1&&(_e=_e.substr(2)),_e)},ke.getInt=function(C,T,R){R==null&&(R=-1);try{var N=C.substr(T,2);if(N!="02"&&N!="03")return R;var G=ke.getV(C,T);return N=="02"?parseInt(G,16):function(_e){try{var Ie=_e.substr(0,2);if(Ie=="00")return parseInt(_e.substr(2),16);var xe=parseInt(Ie,16),Pe=_e.substr(2),Me=parseInt(Pe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(G)}catch{return R}},ke.getOID=function(C,T,R){R==null&&(R=null);try{return C.substr(T,2)!="06"?R:function(G){if(!It(G))return null;try{var oe=[],_e=G.substr(0,2),Ie=parseInt(_e,16);oe[0]=new String(Math.floor(Ie/40)),oe[1]=new String(Ie%40);for(var xe=G.substr(2),Pe=[],Me=0;Me<xe.length/2;Me++)Pe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Pe.length;Me++)128&Pe[Me]?ze+=Yt((127&Pe[Me]).toString(2),7):(ze+=Yt((127&Pe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Ye=oe.join(".");return $e.length>0&&(Ye=Ye+"."+$e.join(".")),Ye}catch{return null}}(ke.getV(C,T))}catch{return R}},ke.getOIDName=function(C,T,R){R==null&&(R=null);try{var N=ke.getOID(C,T,R);if(N==R)return R;var G=V.asn1.x509.OID.oid2name(N);return G==""?N:G}catch{return R}},ke.getString=function(C,T,R){R==null&&(R=null);try{return un(ke.getV(C,T))}catch{return R}},ke.hextooidstr=function(C){var T=function(ze,Ye){return ze.length>=Ye?ze:new Array(Ye-ze.length+1).join("0")+ze},R=[],N=C.substr(0,2),G=parseInt(N,16);R[0]=new String(Math.floor(G/40)),R[1]=new String(G%40);for(var oe=C.substr(2),_e=[],Ie=0;Ie<oe.length/2;Ie++)_e.push(parseInt(oe.substr(2*Ie,2),16));var xe=[],Pe="";for(Ie=0;Ie<_e.length;Ie++)128&_e[Ie]?Pe+=T((127&_e[Ie]).toString(2),7):(Pe+=T((127&_e[Ie]).toString(2),7),xe.push(new String(parseInt(Pe,2))),Pe="");var Me=R.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(C,T,R,N){var G=ke,oe=G.getV,_e=G.dump,Ie=G.getChildIdx,xe=C;C instanceof V.asn1.ASN1Object&&(xe=C.getEncodedHex());var Pe=function(Tt,pn){return Tt.length<=2*pn?Tt:Tt.substr(0,pn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-pn,pn)};T===void 0&&(T={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var Me,$e=T.ommit_long_octet;if((Me=xe.substr(R,2))=="01")return(ze=oe(xe,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Pe(ze=oe(xe,R),$e)+`
`;if(Me=="03"){var ze=oe(xe,R);if(G.isASN1HEX(ze.substr(2))){var Ye=N+`BITSTRING, encapsulates
`;return Ye+=_e(ze.substr(2),T,0,N+"  ")}return N+"BITSTRING "+Pe(ze,$e)+`
`}if(Me=="04")return ze=oe(xe,R),G.isASN1HEX(ze)?(Ye=N+`OCTETSTRING, encapsulates
`,Ye+=_e(ze,T,0,N+"  ")):N+"OCTETSTRING "+Pe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var ot=oe(xe,R),dt=V.asn1.ASN1Util.oidHexToInt(ot),ut=V.asn1.x509.OID.oid2name(dt),we=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+we+`)
`:N+"ObjectIdentifier ("+we+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(oe(xe,R))+`
`;if(Me=="0c")return N+"UTF8String '"+sn(oe(xe,R))+`'
`;if(Me=="13")return N+"PrintableString '"+sn(oe(xe,R))+`'
`;if(Me=="14")return N+"TeletexString '"+sn(oe(xe,R))+`'
`;if(Me=="16")return N+"IA5String '"+sn(oe(xe,R))+`'
`;if(Me=="17")return N+"UTCTime "+sn(oe(xe,R))+`
`;if(Me=="18")return N+"GeneralizedTime "+sn(oe(xe,R))+`
`;if(Me=="1a")return N+"VisualString '"+sn(oe(xe,R))+`'
`;if(Me=="1e")return N+"BMPString '"+it(oe(xe,R))+`'
`;if(Me=="30"){if(xe.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Ye=N+`SEQUENCE
`;var De=T;if(((lt=Ie(xe,R)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=G.oidname(oe(xe,lt[0]));var Ue=JSON.parse(JSON.stringify(T));Ue.x509ExtName=ut,De=Ue}for(var Ke=0;Ke<lt.length;Ke++)Ye+=_e(xe,De,lt[Ke],N+"  ");return Ye}if(Me=="31"){Ye=N+`SET
`;var lt=Ie(xe,R);for(Ke=0;Ke<lt.length;Ke++)Ye+=_e(xe,T,lt[Ke],N+"  ");return Ye}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Ye=N+"["+mt+`]
`,lt=Ie(xe,R),Ke=0;Ke<lt.length;Ke++)Ye+=_e(xe,T,lt[Ke],N+"  ");return Ye}if(ze=oe(xe,R),ke.isASN1HEX(ze)){var Ye=N+"["+mt+`]
`;return Ye+=_e(ze,T,0,N+"  ")}return(ze.substr(0,8)=="68747470"||T.x509ExtName==="subjectAltName"&&mt==2)&&(ze=sn(ze)),Ye=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+oe(xe,R)+`
`},ke.isContextTag=function(C,T){var R,N;C=C.toLowerCase();try{R=parseInt(C,16)}catch{return-1}if(T===void 0)return(192&R)==128;try{return T.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(T.substr(1,T.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},ke.isASN1HEX=function(C){var T=ke;if(C.length%2==1)return!1;var R=T.getVblen(C,0),N=C.substr(0,2),G=T.getL(C,0);return C.length-N.length-G.length==2*R},ke.checkStrictDER=function(C,T,R,N,G){var oe=ke;if(R===void 0){if(typeof C!="string")throw new Error("not hex string");if(C=C.toLowerCase(),!V.lang.String.isHex(C))throw new Error("not hex string");R=C.length,G=(N=C.length/2)<128?1:Math.ceil(N.toString(16))+1}if(oe.getL(C,T).length>2*G)throw new Error("L of TLV too long: idx="+T);var _e=oe.getVblen(C,T);if(_e>N)throw new Error("value of L too long than hex: idx="+T);var Ie=oe.getTLV(C,T),xe=Ie.length-2-oe.getL(C,T).length;if(xe!==2*_e)throw new Error("V string length and L's value not the same:"+xe+"/"+2*_e);if(T===0&&C.length!=Ie.length)throw new Error("total length and TLV length unmatch:"+C.length+"!="+Ie.length);var Pe=C.substr(T,2);if(Pe==="02"){var Me=oe.getVidx(C,T);if(C.substr(Me,2)=="00"&&C.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Pe,16)){for(var $e=oe.getVblen(C,T),ze=0,Ye=oe.getChildIdx(C,T),ot=0;ot<Ye.length;ot++)ze+=oe.getTLV(C,Ye[ot]).length,oe.checkStrictDER(C,Ye[ot],R,N,G);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(C){var T=V.asn1;V.lang.String.isHex(C)&&(C=T.ASN1Util.oidHexToInt(C));var R=T.x509.OID.oid2name(C);return R===""&&(R=C),R},V!==void 0&&V||(r.KJUR=V={}),V.lang!==void 0&&V.lang||(V.lang={}),V.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(T){return Bt(a.from(T,"utf8").toString("base64"))},r.b64utoutf8=Ze=function(T){return a.from(Er(T),"base64").toString("utf8")}):(r.utf8tob64u=je=function(T){return fn(Jn(Et(T)))},r.b64utoutf8=Ze=function(T){return decodeURIComponent(We(dn(T)))}),V.lang.String.isInteger=function(C){return!!C.match(/^[0-9]+$/)||!!C.match(/^-[0-9]+$/)},V.lang.String.isHex=function(C){return It(C)},V.lang.String.isBase64=function(C){return!(!(C=C.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||C.length%4!=0)},V.lang.String.isBase64URL=function(C){return!C.match(/[+/=]/)&&(C=Er(C),V.lang.String.isBase64(C))},V.lang.String.isIntegerArray=function(C){return!!(C=C.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},V.lang.String.isPrintable=function(C){return C.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},V.lang.String.isIA5=function(C){return C.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},V.lang.String.isMail=function(C){return C.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Yt=function(T,R,N){return N==null&&(N="0"),T.length>=R?T:new Array(R-T.length+1).join(N)+T};function qt(C,T){var R=function(){};R.prototype=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.superclass=T.prototype,T.prototype.constructor==Object.prototype.constructor&&(T.prototype.constructor=T)}V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:I.algo.MD5,sha1:I.algo.SHA1,sha224:I.algo.SHA224,sha256:I.algo.SHA256,sha384:I.algo.SHA384,sha512:I.algo.SHA512,ripemd160:I.algo.RIPEMD160},this.getDigestInfoHex=function(C,T){if(this.DIGESTINFOHEAD[T]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+T;return this.DIGESTINFOHEAD[T]+C},this.getPaddedDigestInfoHex=function(C,T,R){var N=this.getDigestInfoHex(C,T),G=R/4;if(N.length+22>G)throw"key is too short for SigAlg: keylen="+R+","+T;for(var oe="0001",_e="00"+N,Ie="",xe=G-oe.length-_e.length,Pe=0;Pe<xe;Pe+=2)Ie+="ff";return oe+Ie+_e},this.hashString=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestString(C)},this.hashHex=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestHex(C)},this.sha1=function(C){return this.hashString(C,"sha1")},this.sha256=function(C){return this.hashString(C,"sha256")},this.sha256Hex=function(C){return this.hashHex(C,"sha256")},this.sha512=function(C){return this.hashString(C,"sha512")},this.sha512Hex=function(C){return this.hashHex(C,"sha512")},this.isKey=function(C){return C instanceof Se||C instanceof V.crypto.DSA||C instanceof V.crypto.ECDSA}},V.crypto.Util.md5=function(C){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(C)},V.crypto.Util.ripemd160=function(C){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(C)},V.crypto.Util.SECURERANDOMGEN=new nt,V.crypto.Util.getRandomHexOfNbytes=function(C){var T=new Array(C);return V.crypto.Util.SECURERANDOMGEN.nextBytes(T),Dt(T)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(C){return new q(V.crypto.Util.getRandomHexOfNbytes(C),16)},V.crypto.Util.getRandomHexOfNbits=function(C){var T=C%8,R=new Array((C-T)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<T&255^255)&R[0],Dt(R)},V.crypto.Util.getRandomBigIntegerOfNbits=function(C){return new q(V.crypto.Util.getRandomHexOfNbits(C),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(C){for(var T=C.bitLength();;){var R=V.crypto.Util.getRandomBigIntegerOfNbits(T);if(C.compareTo(R)!=-1)return R}},V.crypto.Util.getRandomBigIntegerMinToMax=function(C,T){var R=C.compareTo(T);if(R==1)throw"biMin is greater than biMax";if(R==0)return C;var N=T.subtract(C);return V.crypto.Util.getRandomBigIntegerZeroToMax(N).add(C)},V.crypto.MessageDigest=function(C){this.setAlgAndProvider=function(T,R){if((T=V.crypto.MessageDigest.getCanonicalAlgName(T))!==null&&R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(T)!=-1&&R=="cryptojs"){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[T].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=I.enc.Hex.parse(N);this.md.update(G)},this.digest=function(){return this.md.finalize().toString(I.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(T)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=sjcl.codec.hex.toBits(N);this.md.update(G)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},C!==void 0&&C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(C){return typeof C=="string"&&(C=(C=C.toLowerCase()).replace(/-/,"")),C},V.crypto.MessageDigest.getHashLength=function(C){var T=V.crypto.MessageDigest,R=T.getCanonicalAlgName(C);if(T.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+C;return T.HASHLENGTH[R]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(C){this.setAlgAndProvider=function(T,R){if((T=T.toLowerCase())==null&&(T="hmacsha1"),(T=T.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+T;R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),this.algProv=T+"/"+R;var N=T.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var G=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=I.algo.HMAC.create(G,this.pass)}catch(oe){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+oe}this.updateString=function(oe){this.mac.update(oe)},this.updateHex=function(oe){var _e=I.enc.Hex.parse(oe);this.mac.update(_e)},this.doFinal=function(){return this.mac.finalize().toString(I.enc.Hex)},this.doFinalString=function(oe){return this.updateString(oe),this.doFinal()},this.doFinalHex=function(oe){return this.updateHex(oe),this.doFinal()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(T){if(typeof T=="string"){var R=T;return T.length%2!=1&&T.match(/^[0-9A-Fa-f]+$/)||(R=Ln(T)),void(this.pass=I.enc.Hex.parse(R))}if((T===void 0?"undefined":x(T))!="object")throw"KJUR.crypto.Mac unsupported password type: "+T;if(R=null,T.hex!==void 0){if(T.hex.length%2!=0||!T.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+T.hex;R=T.hex}if(T.utf8!==void 0&&(R=hr(T.utf8)),T.rstr!==void 0&&(R=Ln(T.rstr)),T.b64!==void 0&&(R=Q(T.b64)),T.b64u!==void 0&&(R=dn(T.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+T;this.pass=I.enc.Hex.parse(R)},C!==void 0&&(C.pass!==void 0&&this.setPassword(C.pass),C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(C){var T=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var G="",oe=N/4-R.length,_e=0;_e<oe;_e++)G+="0";return G+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(G){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+G)}this.init=function(G,oe){var _e=null;try{_e=oe===void 0?Nt.getKey(G):Nt.getKey(G,oe)}catch(Ie){throw"init failed:"+Ie}if(_e.isPrivate===!0)this.prvKey=_e,this.state="SIGN";else{if(_e.isPublic!==!0)throw"init failed.:"+_e;this.pubKey=_e,this.state="VERIFY"}},this.updateString=function(G){this.md.updateString(G)},this.updateHex=function(G){this.md.updateHex(G)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.prvKey=new V.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(G){return this.updateString(G),this.sign()},this.signHex=function(G){return this.updateHex(G),this.sign()},this.verify=function(G){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.pubKey=new V.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,G,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.ECDSA!==void 0&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.DSA!==void 0&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=C,C!==void 0&&(C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=C.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),C.psssaltlen!==void 0&&(this.pssSaltLen=C.psssaltlen),C.prvkeypem!==void 0)){if(C.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{T=Nt.getKey(C.prvkeypem),this.init(T)}catch(R){throw"fatal error to load pem private key: "+R}}},V.crypto.Cipher=function(C){},V.crypto.Cipher.encrypt=function(C,T,R){if(T instanceof Se&&T.isPublic){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.encrypt(C);if(N==="RSAOAEP")return T.encryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.encryptOAEP(C,"sha"+G[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(C,T,R){if(T instanceof Se&&T.isPrivate){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.decrypt(C);if(N==="RSAOAEP")return T.decryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.decryptOAEP(C,"sha"+G[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(C,T){if(C instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(T)!=-1)return T;if(T==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+T}throw"getAlgByKeyAndName: not supported algorithm name: "+T},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(C){var T=Error,R=q,N=X,G=V.crypto.ECDSA,oe=V.crypto.ECParameterDB,_e=G.getName,Ie=ke,xe=Ie.getVbyListEx,Pe=Ie.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),Me).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=oe.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Ye={};return Ye.x=$e.substr(2,ze),Ye.y=$e.substr(2+ze),Ye},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Ye=this.ecparams.G.multiply(ze),ot=Ye.getX().toBigInteger(),dt=Ye.getY().toBigInteger(),ut=this.ecparams.keylen/4,we=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+ot.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(we),this.setPublicKeyHex(De),{ecprvhex:we,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Ye=new R(ze,16),ot=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(ot),we=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(we.compareTo(R.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Ye.multiply(we))).mod(ot);return G.biRSSigToASN1Sig(we,De)},this.sign=function($e,ze){var Ye=ze,ot=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(ot),we=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(we.compareTo(q.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Ye.multiply(we))).mod(ot);return this.serializeSig(we,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Ye){try{var ot,dt,ut=G.parseSigHex(ze);ot=ut.r,dt=ut.s;var we=N.decodeFromHex(this.ecparams.curve,Ye),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,ot,dt,we)}catch{return!1}},this.verify=function($e,ze,Ye){var ot,dt,ut;if(Bitcoin.Util.isArray(ze)){var we=this.parseSig(ze);ot=we.r,dt=we.s}else{if((ze===void 0?"undefined":x(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";ot=ze.r,dt=ze.s}if(Ye instanceof X)ut=Ye;else{if(!Bitcoin.Util.isArray(Ye))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Ye)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,ot,dt,ut)},this.verifyRaw=function($e,ze,Ye,ot){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(R.ONE)<0||ze.compareTo(dt)>=0||Ye.compareTo(R.ONE)<0||Ye.compareTo(dt)>=0)return!1;var we=Ye.modInverse(dt),De=$e.multiply(we).mod(dt),Ue=ze.multiply(we).mod(dt);return ut.multiply(De).add(ot.multiply(Ue)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Ye=$e.toByteArraySigned(),ot=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Ye.length),(dt=dt.concat(Ye)).push(2),dt.push(ot.length),(dt=dt.concat(ot)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ye=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ot=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:R.fromByteArrayUnsigned(Ye),s:R.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Ye=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Ye),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Ye),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Pe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Ye,ot;try{ze=xe($e,0,["[0]",0],"06"),Ye=xe($e,0,[1],"04");try{ot=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=_e(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye,ot;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Ye=xe($e,0,[2,0,1],"04");try{ot=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new T("malformed PKCS#8 plain ECC private key")}if(this.curveName=_e(ze),this.curveName===void 0)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Ye=xe($e,0,[1],"03")}catch{throw new T("malformed PKCS#8 ECC public key")}if(this.curveName=_e(ze),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ye)},this.readCertPubKeyHex=function($e,ze){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var Ye,ot;try{Ye=xe($e,0,[0,5,0,1],"06"),ot=xe($e,0,[0,5,1],"03")}catch{throw new T("malformed X.509 certificate ECC public key")}if(this.curveName=_e(Ye),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},C!==void 0&&C.curve!==void 0&&(this.curveName=C.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),C!==void 0&&(C.prv!==void 0&&this.setPrivateKeyHex(C.prv),C.pub!==void 0&&this.setPublicKeyHex(C.pub))},V.crypto.ECDSA.parseSigHex=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C);return{r:new q(T.r,16),s:new q(T.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(C){var T=ke,R=T.getChildIdx,N=T.getV;if(T.checkStrictDER(C,0),C.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var G=R(C,0);if(G.length!=2)throw new Error("signature shall have two elements");var oe=G[0],_e=G[1];if(C.substr(oe,2)!="02")throw new Error("1st item not ASN.1 integer");if(C.substr(_e,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(C,oe),s:N(C,_e)}},V.crypto.ECDSA.asn1SigToConcatSig=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C),R=T.r,N=T.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},V.crypto.ECDSA.concatSigToASN1Sig=function(C){if(C.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var T=C.substr(0,C.length/2),R=C.substr(C.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(T,R)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(C,T){var R=new q(C,16),N=new q(T,16);return V.crypto.ECDSA.biRSSigToASN1Sig(R,N)},V.crypto.ECDSA.biRSSigToASN1Sig=function(C,T){var R=V.asn1,N=new R.DERInteger({bigint:C}),G=new R.DERInteger({bigint:T});return new R.DERSequence({array:[N,G]}).getEncodedHex()},V.crypto.ECDSA.getName=function(C){return C==="2b8104001f"?"secp192k1":C==="2a8648ce3d030107"?"secp256r1":C==="2b8104000a"?"secp256k1":C==="2b81040021"?"secp224r1":C==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(C)!==-1?"secp256r1":"|secp256k1|".indexOf(C)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(C)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(C)!==-1?"secp384r1":null},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var C={},T={};function R(N){return new q(N,16)}this.getByName=function(N){var G=N;if(T[G]!==void 0&&(G=T[N]),C[G]!==void 0)return C[G];throw"unregistered EC curve name: "+G},this.regist=function(N,G,oe,_e,Ie,xe,Pe,Me,$e,ze,Ye,ot){C[N]={};var dt=R(oe),ut=R(_e),we=R(Ie),De=R(xe),Ue=R(Pe),Ke=new B(dt,ut,we),lt=Ke.decodePointHex("04"+Me+$e);C[N].name=N,C[N].keylen=G,C[N].curve=Ke,C[N].G=lt,C[N].n=De,C[N].h=Ue,C[N].oid=Ye,C[N].info=ot;for(var mt=0;mt<ze.length;mt++)T[ze[mt]]=N}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Nt=function(){var C=function(Pe,Me,$e){return T(I.AES,Pe,Me,$e)},T=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),ot=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut={};ut.key=ot,ut.iv=dt,ut.ciphertext=Ye;var we=Pe.decrypt(ut,ot,{iv:dt});return I.enc.Hex.stringify(we)},R=function(Pe,Me,$e){return N(I.AES,Pe,Me,$e)},N=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),ot=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut=Pe.encrypt(Ye,ot,{iv:dt}),we=I.enc.Hex.parse(ut.toString());return I.enc.Base64.stringify(we)},G={"AES-256-CBC":{proc:C,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:C,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:C,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Pe,Me,$e){return T(I.TripleDES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.TripleDES,Pe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Pe,Me,$e){return T(I.DES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.DES,Pe,Me,$e)},keylen:8,ivlen:8}},oe=function(Pe){var Me={},$e=Pe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Pe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Ye=-1,ot=0;Pe.indexOf(`\r
\r
`)!=-1&&(Ye=Pe.indexOf(`\r
\r
`),ot=2),Pe.indexOf(`

`)!=-1&&(Ye=Pe.indexOf(`

`),ot=1);var dt=Pe.indexOf("-----END");if(Ye!=-1&&dt!=-1){var ut=Pe.substring(Ye+2*ot,dt-ot);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},_e=function(Pe,Me,$e){for(var ze=$e.substring(0,16),Ye=I.enc.Hex.parse(ze),ot=I.enc.Utf8.parse(Me),dt=G[Pe].keylen+G[Pe].ivlen,ut="",we=null;;){var De=I.algo.MD5.create();if(we!=null&&De.update(we),De.update(ot),De.update(Ye),we=De.finalize(),(ut+=I.enc.Hex.stringify(we)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*G[Pe].keylen),Ue.ivhex=ut.substr(2*G[Pe].keylen,2*G[Pe].ivlen),Ue},Ie=function(Pe,Me,$e,ze){var Ye=I.enc.Base64.parse(Pe),ot=I.enc.Hex.stringify(Ye);return(0,G[Me].proc)(ot,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Pe){return oe(Pe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Pe,Me,$e){return _e(Pe,Me,$e)},decryptKeyB64:function(Pe,Me,$e,ze){return Ie(Pe,Me,$e,ze)},getDecryptedKeyHex:function(Pe,Me){var $e=oe(Pe),ze=$e.cipher,Ye=$e.ivsalt,ot=$e.data,dt=_e(ze,Me,Ye).keyhex;return Ie(ot,ze,dt,Ye)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Pe,Me,$e,ze,Ye){var ot="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),G[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Ye!==void 0&&Ye!=null||(Ye=function(we){var De=I.lib.WordArray.random(we);return I.enc.Hex.stringify(De)}(G[ze].ivlen).toUpperCase());var dt=function(we,De,Ue,Ke){return(0,G[De].eproc)(we,Ue,Ke)}(Me,ze,_e(ze,$e,Ye).keyhex,Ye);return ot="-----BEGIN "+Pe+` PRIVATE KEY-----\r
`,ot+=`Proc-Type: 4,ENCRYPTED\r
`,ot+="DEK-Info: "+ze+","+Ye+`\r
`,ot+=`\r
`,ot+=dt.replace(/(.{64})/g,`$1\r
`),ot+=`\r
-----END `+Pe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={},ot=$e(Pe,0);if(ot.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ot.length);Ye.ciphertext=ze(Pe,ot[1]);var dt=$e(Pe,ot[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Pe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Pe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var we=$e(Pe,ut[1]);if(we.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+we.length);if(ze(Pe,we[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ye.encryptionSchemeAlg="TripleDES",Ye.encryptionSchemeIV=ze(Pe,we[1]);var De=$e(Pe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Pe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Pe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Ye.pbkdf2Salt=ze(Pe,Ue[0]);var Ke=ze(Pe,Ue[1]);try{Ye.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Ye},getPBKDF2KeyHexFromParam:function(Pe,Me){var $e=I.enc.Hex.parse(Pe.pbkdf2Salt),ze=Pe.pbkdf2Iter,Ye=I.PBKDF2(Me,$e,{keySize:6,iterations:ze});return I.enc.Hex.stringify(Ye)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Pe,Me){var $e=xt(Pe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Ye=Nt.getPBKDF2KeyHexFromParam(ze,Me),ot={};ot.ciphertext=I.enc.Hex.parse(ze.ciphertext);var dt=I.enc.Hex.parse(Ye),ut=I.enc.Hex.parse(ze.encryptionSchemeIV),we=I.TripleDES.decrypt(ot,dt,{iv:ut});return I.enc.Hex.stringify(we)},getKeyFromEncryptedPKCS8PEM:function(Pe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Pe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null};if(Pe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ot=$e(Pe,0);if(ot.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Pe.substr(ot[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Pe,ot[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Pe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ye.algoid=ze(Pe,dt[0]),Pe.substr(dt[1],2)=="06"&&(Ye.algparam=ze(Pe,dt[1])),Pe.substr(ot[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ye.keyidx=Me.getVidx(Pe,ot[2]),Ye},getKeyFromPlainPrivatePKCS8PEM:function(Pe){var Me=xt(Pe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Pe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Pe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new V.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new V.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Pe),Me},_getKeyFromPublicPKCS8Hex:function(Pe){var Me,$e=ke.getVbyList(Pe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new V.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new V.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Pe),Me},parsePublicRawRSAKeyHex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={};if(Pe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ot=$e(Pe,0);if(ot.length!=2)throw new Error("malformed RSA key(code:002)");if(Pe.substr(ot[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ye.n=ze(Pe,ot[0]),Pe.substr(ot[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ye.e=ze(Pe,ot[1]),Ye},parsePublicPKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null},ot=$e(Pe,0);if(ot.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ot.length);var dt=ot[0];if(Pe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Pe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Pe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ye.algoid=ze(Pe,ut[0]),Pe.substr(ut[1],2)=="06"?Ye.algparam=ze(Pe,ut[1]):Pe.substr(ut[1],2)=="30"&&(Ye.algparam={},Ye.algparam.p=Me.getVbyList(Pe,ut[1],[0],"02"),Ye.algparam.q=Me.getVbyList(Pe,ut[1],[1],"02"),Ye.algparam.g=Me.getVbyList(Pe,ut[1],[2],"02")),Pe.substr(ot[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ye.key=ze(Pe,ot[1]).substr(2),Ye}}}();Nt.getKey=function(C,T,R){var N=(ut=ke).getChildIdx,G=(ut.getV,ut.getVbyList),oe=V.crypto,_e=oe.ECDSA,Ie=oe.DSA,xe=Se,Pe=xt,Me=Nt;if(xe!==void 0&&C instanceof xe||_e!==void 0&&C instanceof _e||Ie!==void 0&&C instanceof Ie)return C;if(C.curve!==void 0&&C.xy!==void 0&&C.d===void 0)return new _e({pub:C.xy,curve:C.curve});if(C.curve!==void 0&&C.d!==void 0)return new _e({prv:C.d,curve:C.curve});if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(zt=new xe).setPublic(C.n,C.e),zt;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.co!==void 0&&C.qi===void 0)return(zt=new xe).setPrivateEx(C.n,C.e,C.d,C.p,C.q,C.dp,C.dq,C.co),zt;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p===void 0)return(zt=new xe).setPrivate(C.n,C.e,C.d),zt;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x===void 0)return(zt=new Ie).setPublic(C.p,C.q,C.g,C.y),zt;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x!==void 0)return(zt=new Ie).setPrivate(C.p,C.q,C.g,C.y,C.x),zt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(zt=new xe).setPublic(dn(C.n),dn(C.e)),zt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.qi!==void 0)return(zt=new xe).setPrivateEx(dn(C.n),dn(C.e),dn(C.d),dn(C.p),dn(C.q),dn(C.dp),dn(C.dq),dn(C.qi)),zt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0)return(zt=new xe).setPrivate(dn(C.n),dn(C.e),dn(C.d)),zt;if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d===void 0){var $e=(kt=new _e({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);return kt.setPublicKeyHex(ze),kt}if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d!==void 0){$e=(kt=new _e({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);var Ye=("0000000000"+dn(C.d)).slice(-$e);return kt.setPublicKeyHex(ze),kt.setPrivateKeyHex(Ye),kt}if(R==="pkcs5prv"){var ot,dt=C,ut=ke;if((ot=N(dt,0)).length===9)(zt=new xe).readPKCS5PrvKeyHex(dt);else if(ot.length===6)(zt=new Ie).readPKCS5PrvKeyHex(dt);else{if(!(ot.length>2&&dt.substr(ot[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(zt=new _e).readPKCS5PrvKeyHex(dt)}return zt}if(R==="pkcs8prv")return zt=Me.getKeyFromPlainPrivatePKCS8Hex(C);if(R==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(C);if(R==="x509pub")return Qt.getPublicKeyFromCertHex(C);if(C.indexOf("-END CERTIFICATE-",0)!=-1||C.indexOf("-END X509 CERTIFICATE-",0)!=-1||C.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Qt.getPublicKeyFromCertPEM(C);if(C.indexOf("-END PUBLIC KEY-")!=-1){var we=xt(C,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(we)}if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var De=Pe(C,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var Ue=G(jn=Pe(C,"DSA PRIVATE KEY"),0,[1],"02"),Ke=G(jn,0,[2],"02"),lt=G(jn,0,[3],"02"),mt=G(jn,0,[4],"02"),Ft=G(jn,0,[5],"02");return(zt=new Ie).setPrivate(new q(Ue,16),new q(Ke,16),new q(lt,16),new q(mt,16),new q(Ft,16)),zt}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1)return De=Pe(C,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(C.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(C);if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Tt=Me.getDecryptedKeyHex(C,T),pn=new Se;return pn.readPKCS5PrvKeyHex(Tt),pn}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var kt,zt=G(jn=Me.getDecryptedKeyHex(C,T),0,[1],"04"),qn=G(jn,0,[2,0],"06"),Dn=G(jn,0,[3,0],"03").substr(2);if(V.crypto.OID.oidhex2name[qn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+qn);return(kt=new _e({curve:V.crypto.OID.oidhex2name[qn]})).setPublicKeyHex(Dn),kt.setPrivateKeyHex(zt),kt.isPublic=!1,kt}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var jn;return Ue=G(jn=Me.getDecryptedKeyHex(C,T),0,[1],"02"),Ke=G(jn,0,[2],"02"),lt=G(jn,0,[3],"02"),mt=G(jn,0,[4],"02"),Ft=G(jn,0,[5],"02"),(zt=new Ie).setPrivate(new q(Ue,16),new q(Ke,16),new q(lt,16),new q(mt,16),new q(Ft,16)),zt}if(C.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(C,T);throw new Error("not supported argument")},Nt.generateKeypair=function(C,T){if(C=="RSA"){var R=T;(_e=new Se).generate(R,"10001"),_e.isPrivate=!0,_e.isPublic=!0;var N=new Se,G=_e.n.toString(16),oe=_e.e.toString(16);return N.setPublic(G,oe),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=_e,Ie.pubKeyObj=N,Ie}if(C=="EC"){var _e,Ie,xe=T,Pe=new V.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(_e=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),_e.setPrivateKeyHex(Pe.ecprvhex),_e.isPrivate=!0,_e.isPublic=!1,(N=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=_e,Ie.pubKeyObj=N,Ie}throw new Error("unknown algorithm: "+C)},Nt.getPEM=function(C,T,R,N,G,oe){var _e=V,Ie=_e.asn1,xe=Ie.DERObjectIdentifier,Pe=Ie.DERInteger,Me=Ie.ASN1Util.newObject,$e=Ie.x509.SubjectPublicKeyInfo,ze=_e.crypto,Ye=ze.DSA,ot=ze.ECDSA,dt=Se;function ut(kt){return Me({seq:[{int:0},{int:{bigint:kt.n}},{int:kt.e},{int:{bigint:kt.d}},{int:{bigint:kt.p}},{int:{bigint:kt.q}},{int:{bigint:kt.dmp1}},{int:{bigint:kt.dmq1}},{int:{bigint:kt.coeff}}]})}function we(kt){return Me({seq:[{int:1},{octstr:{hex:kt.prvKeyHex}},{tag:["a0",!0,{oid:{name:kt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+kt.pubKeyHex}}]}]})}function De(kt){return Me({seq:[{int:0},{int:{bigint:kt.p}},{int:{bigint:kt.q}},{int:{bigint:kt.g}},{int:{bigint:kt.y}},{int:{bigint:kt.x}}]})}if((dt!==void 0&&C instanceof dt||Ye!==void 0&&C instanceof Ye||ot!==void 0&&C instanceof ot)&&C.isPublic==1&&(T===void 0||T=="PKCS8PUB"))return wt(mt=new $e(C).getEncodedHex(),"PUBLIC KEY");if(T=="PKCS1PRV"&&dt!==void 0&&C instanceof dt&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=ut(C).getEncodedHex(),"RSA PRIVATE KEY");if(T=="PKCS1PRV"&&ot!==void 0&&C instanceof ot&&(R===void 0||R==null)&&C.isPrivate==1){var Ue=new xe({name:C.curveName}).getEncodedHex(),Ke=we(C).getEncodedHex(),lt="";return lt+=wt(Ue,"EC PARAMETERS"),lt+=wt(Ke,"EC PRIVATE KEY")}if(T=="PKCS1PRV"&&Ye!==void 0&&C instanceof Ye&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=De(C).getEncodedHex(),"DSA PRIVATE KEY");if(T=="PKCS5PRV"&&dt!==void 0&&C instanceof dt&&R!==void 0&&R!=null&&C.isPrivate==1){var mt=ut(C).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,oe)}if(T=="PKCS5PRV"&&ot!==void 0&&C instanceof ot&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=we(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,oe);if(T=="PKCS5PRV"&&Ye!==void 0&&C instanceof Ye&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=De(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,oe);var Ft=function(zt,qn){var Dn=Tt(zt,qn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Dn.pbkdf2Salt}},{int:Dn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Dn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Dn.ciphertext}}]}).getEncodedHex()},Tt=function(zt,qn){var Dn=I.lib.WordArray.random(8),jn=I.lib.WordArray.random(8),Wt=I.PBKDF2(qn,Dn,{keySize:6,iterations:100}),Kn=I.enc.Hex.parse(zt),hn=I.TripleDES.encrypt(Kn,Wt,{iv:jn})+"",Yn={};return Yn.ciphertext=hn,Yn.pbkdf2Salt=I.enc.Hex.stringify(Dn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=I.enc.Hex.stringify(jn),Yn};if(T=="PKCS8PRV"&&dt!=null&&C instanceof dt&&C.isPrivate==1){var pn=ut(C).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY")}if(T=="PKCS8PRV"&&ot!==void 0&&C instanceof ot&&C.isPrivate==1)return pn=new Me({seq:[{int:1},{octstr:{hex:C.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+C.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:C.curveName}}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY");if(T=="PKCS8PRV"&&Ye!==void 0&&C instanceof Ye&&C.isPrivate==1)return pn=new Pe({bigint:C.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:C.p}},{int:{bigint:C.q}},{int:{bigint:C.g}}]}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Nt.getKeyFromCSRPEM=function(C){var T=xt(C,"CERTIFICATE REQUEST");return Nt.getKeyFromCSRHex(T)},Nt.getKeyFromCSRHex=function(C){var T=Nt.parseCSRHex(C);return Nt.getKey(T.p8pubkeyhex,null,"pkcs8pub")},Nt.parseCSRHex=function(C){var T=ke,R=T.getChildIdx,N=T.getTLV,G={},oe=C;if(oe.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var _e=R(oe,0);if(_e.length<1)throw new Error("malformed CSR(code:002)");if(oe.substr(_e[0],2)!="30")throw new Error("malformed CSR(code:003)");var Ie=R(oe,_e[0]);if(Ie.length<3)throw new Error("malformed CSR(code:004)");return G.p8pubkeyhex=N(oe,Ie[2]),G},Nt.getKeyID=function(C){var T=Nt,R=ke;typeof C=="string"&&C.indexOf("BEGIN ")!=-1&&(C=T.getKey(C));var N=xt(T.getPEM(C)),G=R.getIdxbyList(N,0,[1]),oe=R.getV(N,G).substring(2);return V.crypto.Util.hashHex(oe,"sha1")},Nt.getJWKFromKey=function(C){var T={};if(C instanceof Se&&C.isPrivate)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T.d=fn(C.d.toString(16)),T.p=fn(C.p.toString(16)),T.q=fn(C.q.toString(16)),T.dp=fn(C.dmp1.toString(16)),T.dq=fn(C.dmq1.toString(16)),T.qi=fn(C.coeff.toString(16)),T;if(C instanceof Se&&C.isPublic)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T;if(C instanceof V.crypto.ECDSA&&C.isPrivate){if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=C.getPublicKeyXYHex();return T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T.d=fn(C.prvKeyHex),T}if(C instanceof V.crypto.ECDSA&&C.isPublic){var N;if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=C.getPublicKeyXYHex(),T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(C){return ke.getChildIdx(C,0)},Se.getHexValueArrayOfChildrenFromHex=function(C){var T,R=ke.getV,N=R(C,(T=Se.getPosArrayOfChildrenFromHex(C))[0]),G=R(C,T[1]),oe=R(C,T[2]),_e=R(C,T[3]),Ie=R(C,T[4]),xe=R(C,T[5]),Pe=R(C,T[6]),Me=R(C,T[7]),$e=R(C,T[8]);return(T=new Array).push(N,G,oe,_e,Ie,xe,Pe,Me,$e),T},Se.prototype.readPrivateKeyFromPEMString=function(C){var T=xt(C),R=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(C){var T=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8])},Se.prototype.readPKCS8PrvKeyHex=function(C){var T,R,N,G,oe,_e,Ie,xe,Pe=ke,Me=Pe.getVbyListEx;if(Pe.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");try{T=Me(C,0,[2,0,1],"02"),R=Me(C,0,[2,0,2],"02"),N=Me(C,0,[2,0,3],"02"),G=Me(C,0,[2,0,4],"02"),oe=Me(C,0,[2,0,5],"02"),_e=Me(C,0,[2,0,6],"02"),Ie=Me(C,0,[2,0,7],"02"),xe=Me(C,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(T,R,N,G,oe,_e,Ie,xe)},Se.prototype.readPKCS5PubKeyHex=function(C){var T=ke,R=T.getV;if(T.isASN1HEX(C)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=T.getChildIdx(C,0);if(N.length!==2||C.substr(N[0],2)!=="02"||C.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var G=R(C,N[0]),oe=R(C,N[1]);this.setPublic(G,oe)},Se.prototype.readPKCS8PubKeyHex=function(C){var T=ke;if(T.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");if(T.getTLVbyListEx(C,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=T.getTLVbyListEx(C,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(C,T){var R,N;(R=new Qt).readCertHex(C),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function en(C,T){for(var R="",N=T/4-C.length,G=0;G<N;G++)R+="0";return R+C}function Rn(C,T,R){for(var N="",G=0;N.length<T;)N+=un(R(Ln(C+String.fromCharCode.apply(String,[(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G])))),G+=1;return N}function Kt(C){for(var T in V.crypto.Util.DIGESTINFOHEAD){var R=V.crypto.Util.DIGESTINFOHEAD[T],N=R.length;if(C.substring(0,N)==R)return[T,C.substring(N)]}return[]}function Qt(C){var T,R=ke,N=R.getChildIdx,G=R.getV,oe=R.getTLV,_e=R.getVbyList,Ie=R.getVbyListEx,xe=R.getTLVbyList,Pe=R.getTLVbyListEx,Me=R.getIdxbyList,$e=R.getIdxbyListEx,ze=R.getVidx,Ye=R.getInt,ot=R.oidname,dt=R.hextooidstr,ut=xt;try{T=V.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var we=xe(this.hex,0,[0,0]);if(we.substr(0,2)=="a0"){var De=xe(we,0,[0]),Ue=Ye(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Ie(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var we=Pe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(we)},this.getAlgorithmIdentifierName=function(we){for(var De in T)if(we===T[De])return De;return ot(Ie(we,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var we=_e(this.hex,0,[0,4+this.foffset,0]);return we=we.replace(/(..)/g,"%$1"),we=decodeURIComponent(we)},this.getNotAfter=function(){var we=_e(this.hex,0,[0,4+this.foffset,1]);return we=we.replace(/(..)/g,"%$1"),we=decodeURIComponent(we)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var we=this.getPublicKeyIdx();return Me(this.hex,we,[1,0],"30")},this.getPublicKey=function(){return Nt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var we=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(we)},this.getSignatureValueHex=function(){return _e(this.hex,0,[2],"03",!0)},this.verifySignature=function(we){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new V.crypto.Signature({alg:De});return lt.init(we),lt.updateHex(Ke),lt.verify(Ue)},this.parseExt=function(we){var De,Ue,Ke;if(we===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Ue=N(Ke,De)}else{Ke=xt(we);var lt=Me(Ke,0,[0,3,0,0],"06");if(G(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Ue=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var Ft={critical:!1},Tt=0;N(Ke,Ue[mt]).length===3&&(Ft.critical=!0,Tt=1),Ft.oid=R.hextooidstr(_e(Ke,Ue[mt],[0],"06"));var pn=Me(Ke,Ue[mt],[1+Tt]);Ft.vidx=ze(Ke,pn),this.aExtInfo.push(Ft)}},this.getExtInfo=function(we){var De=this.aExtInfo,Ue=we;if(we.match(/^[0-9.]+$/)||(Ue=V.asn1.x509.OID.name2oid(we)),Ue!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Ue)return De[Ke]}},this.getExtBasicConstraints=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),we==="3000")return Ke;if(we==="30030101ff")return Ke.cA=!0,Ke;if(we.substr(0,12)==="30060101ff02"){var lt=G(we,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+we)},this.getExtKeyUsage=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(we).split(","),Ke},this.getExtKeyUsageBin=function(we){if(we===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";we=oe(this.hex,De.vidx)}if(we.length!=8&&we.length!=10)throw new Error("malformed key usage value: "+we);var Ue="000000000000000"+parseInt(we.substr(6),16).toString(2);return we.length==8&&(Ue=Ue.slice(-8)),we.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(we){for(var De=this.getExtKeyUsageBin(we),Ue=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Ue.push(Qt.KEYUSAGE_NAME[Ke]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=G(we,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var Ft=we.substr(lt[mt],2);if(Ft==="80"&&(Ke.kid={hex:G(we,lt[mt])}),Ft==="a1"){var Tt=oe(we,lt[mt]),pn=this.getGeneralNames(Tt);Ke.issuer=pn[0].dn}Ft==="82"&&(Ke.sn={hex:G(we,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++)Ke.array.push(ot(G(we,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var we=this.getExtInfo("extKeyUsage");if(we===void 0)return we;var De=new Array,Ue=oe(this.hex,we.vidx);if(Ue==="")return De;for(var Ke=N(Ue,0),lt=0;lt<Ke.length;lt++)De.push(ot(G(Ue,Ke[lt])));return De},this.getExtSubjectAltName=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(we),Ke},this.getExtIssuerAltName=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(we),Ke},this.getGeneralNames=function(we){for(var De=N(we,0),Ue=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(oe(we,De[Ke]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(we){var De=we.substr(0,2),Ue=G(we,0),Ke=un(Ue);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var we,De,Ue,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=oe(this.hex,Ke.vidx),Ft=N(mt,0),Tt=0;Tt<Ft.length;Tt++)Ue=mt.substr(Ft[Tt],2),we=G(mt,Ft[Tt]),Ue==="81"&&(De=sn(we),lt.push(["MAIL",De])),Ue==="82"&&(De=sn(we),lt.push(["DNS",De])),Ue==="84"&&(De=Qt.hex2dn(we,0),lt.push(["DN",De])),Ue==="86"&&(De=sn(we),lt.push(["URI",De])),Ue==="87"&&(De=ft(we),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var Ft=oe(we,lt[mt]);Ke.array.push(this.getDistributionPoint(Ft))}return Ke},this.getDistributionPoint=function(we){for(var De={},Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=we.substr(Ue[Ke],2),mt=oe(we,Ue[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(we){for(var De={},Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=we.substr(Ue[Ke],2),mt=oe(we,Ue[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var we=this.getExtInfo("cRLDistributionPoints");if(we===void 0)return we;for(var De=new Array,Ue=N(this.hex,we.vidx),Ke=0;Ke<Ue.length;Ke++)try{var lt=sn(_e(this.hex,Ue[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var we=this.getExtInfo("authorityInfoAccess");if(we===void 0)return we;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,we.vidx),Ke=0;Ke<Ue.length;Ke++){var lt=_e(this.hex,Ue[Ke],[0],"06"),mt=_e(this.hex,Ue[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(sn(mt)),lt==="2b06010505073002"&&De.caissuer.push(sn(mt))}return De},this.getExtAuthorityInfoAccess=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var Ft=Ie(we,lt[mt],[0],"06"),Tt=sn(_e(we,lt[mt],[1],"86"));if(Ft=="2b06010505073001")Ke.array.push({ocsp:Tt});else{if(Ft!="2b06010505073002")throw new Error("unknown method: "+Ft);Ke.array.push({caissuer:Tt})}}return Ke},this.getExtCertificatePolicies=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var Ft=oe(we,lt[mt]),Tt=this.getPolicyInformation(Ft);Ke.array.push(Tt)}return Ke},this.getPolicyInformation=function(we){var De={},Ue=_e(we,0,[0],"06");De.policyoid=ot(Ue);var Ke=$e(we,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(we,Ke),mt=0;mt<lt.length;mt++){var Ft=oe(we,lt[mt]),Tt=this.getPolicyQualifierInfo(Ft);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(we){var De={},Ue=_e(we,0,[0],"06");if(Ue==="2b06010505070201"){var Ke=Ie(we,0,[1],"16");De.cps=un(Ke)}else if(Ue==="2b06010505070202"){var lt=xe(we,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(we){for(var De={},Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=oe(we,Ue[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(we){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[we.substr(0,2)],De.str=un(G(we,0)),De},this.getExtCRLNumber=function(we,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),we.substr(0,2)=="02")return Ue.num={hex:G(we,0)},Ue;throw new Error("hExtV parse error: "+we)},this.getExtCRLReason=function(we,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),we.substr(0,2)=="0a")return Ue.code=parseInt(G(we,0),16),Ue;throw new Error("hExtV parse error: "+we)},this.getExtOcspNonce=function(we,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ke=G(we,0);return Ue.hex=Ke,Ue},this.getExtOcspNoCheck=function(we,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(we,0);if(lt.length>1){var mt=oe(we,lt[1]),Ft=this.getGeneralName(mt);Ft.uri!=null&&(Ke.uri=Ft.uri)}if(lt.length>2){var Tt=oe(we,lt[2]);Tt=="0101ff"&&(Ke.reqauth=!0),Tt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(we){for(var De=null,Ue=[],Ke=0;Ke<we.length;Ke++)for(var lt=we[Ke],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ke=0;Ke<Ue.length;Ke++){var Ft=Ue[Ke],Tt=Ft.ds,pn=Ft.value,kt=Ft.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(kt!="CN")return"mixed";if(V.lang.String.isMail(pn))continue;return"mixed"}if(kt=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(we){var De=this.getX500NameArray(we);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(we){for(var De=[],Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getRDN(oe(we,Ue[Ke])));return De},this.getRDN=function(we){for(var De=[],Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getAttrTypeAndValue(oe(we,Ue[Ke])));return De},this.getAttrTypeAndValue=function(we){var De={type:null,value:null,ds:null},Ue=N(we,0),Ke=_e(we,Ue[0],[],"06"),lt=_e(we,Ue[1],[]),mt=V.asn1.ASN1Util.oidHexToInt(Ke);return De.type=V.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[we.substr(Ue[1],2)],De.ds!="bmp"?De.value=sn(lt):De.value=it(lt),De},this.readCertPEM=function(we){this.readCertHex(ut(we))},this.readCertHex=function(we){this.hex=we,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var we={};return we.version=this.getVersion(),we.serial={hex:this.getSerialNumberHex()},we.sigalg=this.getSignatureAlgorithmField(),we.issuer=this.getIssuer(),we.notbefore=this.getNotBefore(),we.notafter=this.getNotAfter(),we.subject=this.getSubject(),we.sbjpubkey=wt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(we.ext=this.getExtParamArray()),we.sighex=this.getSignatureValueHex(),we},this.getExtParamArray=function(we){we==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(we=Pe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=oe(we,Ue[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(we){var De=N(we,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+we);var Ue=dt(_e(we,0,[0],"06")),Ke=!1;De==3&&xe(we,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(we,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var Ft={extname:Ue,extn:lt};return Ke&&(Ft.critical=!0),Ft},this.findExt=function(we,De){for(var Ue=0;Ue<we.length;Ue++)if(we[Ue].extname==De)return we[Ue];return null},this.updateExtCDPFullURI=function(we,De){var Ue=this.findExt(we,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,Ft=0;Ft<mt.length;Ft++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(we,De){var Ue=this.findExt(we,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(we,De){var Ue=this.findExt(we,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(we){return"/"+we.map(function(De){return function(Ke){return Ke.map(function(lt){return function(Ft){return Ft.type+"="+Ft.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var we,De,Ue,Ke=function(Wt){return JSON.stringify(Wt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var pr=hn[Yn];if(Kn+="    policy oid: "+pr.policyoid+`
`,pr.array!==void 0)for(var gr=0;gr<pr.array.length;gr++){var sr=pr.array[gr];sr.cps!==void 0&&(Kn+="    cps: "+sr.cps+`
`)}}return Kn},mt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var pr=hn[Yn];try{pr.dpname.full[0].uri!==void 0&&(Kn+="    "+pr.dpname.full[0].uri+`
`)}catch{}try{pr.dname.full[0].dn.hex!==void 0&&(Kn+="    "+Qt.hex2dn(pr.dpname.full[0].dn.hex)+`
`)}catch{}}return Kn},Ft=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var pr=hn[Yn];pr.caissuer!==void 0&&(Kn+="    caissuer: "+pr.caissuer+`
`),pr.ocsp!==void 0&&(Kn+="    ocsp: "+pr.ocsp+`
`)}return Kn};if(we=`Basic Fields
`,we+="  serial number: "+this.getSerialNumberHex()+`
`,we+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,we+="  issuer: "+this.getIssuerString()+`
`,we+="  notBefore: "+this.getNotBefore()+`
`,we+="  notAfter: "+this.getNotAfter()+`
`,we+="  subject: "+this.getSubjectString()+`
`,we+=`  subject public key info: 
`,we+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(we+="    n="+Vt(De.n.toString(16)).substr(0,16)+`...
`,we+="    e="+Vt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){we+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Ue.length;Tt++){var pn=Ue[Tt],kt=V.asn1.x509.OID.oid2name(pn.oid);kt===""&&(kt=pn.oid);var zt="";if(pn.critical===!0&&(zt="CRITICAL"),we+="  "+kt+" "+zt+`:
`,kt==="basicConstraints"){var qn=this.getExtBasicConstraints();qn.cA===void 0?we+=`    {}
`:(we+="    cA=true",qn.pathLen!==void 0&&(we+=", pathLen="+qn.pathLen),we+=`
`)}else if(kt==="keyUsage")we+="    "+this.getExtKeyUsageString()+`
`;else if(kt==="subjectKeyIdentifier")we+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(kt==="authorityKeyIdentifier"){var Dn=this.getExtAuthorityKeyIdentifier();Dn.kid!==void 0&&(we+="    kid="+Dn.kid.hex+`
`)}else kt==="extKeyUsage"?we+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:kt==="subjectAltName"?we+="    "+Ke(this.getExtSubjectAltName())+`
`:kt==="cRLDistributionPoints"?we+=mt(this.getExtCRLDistributionPoints()):kt==="authorityInfoAccess"?we+=Ft(this.getExtAuthorityInfoAccess()):kt==="certificatePolicies"&&(we+=lt(this.getExtCertificatePolicies()))}}return we+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,we+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof C=="string"&&(C.indexOf("-----BEGIN")!=-1?this.readCertPEM(C):V.lang.String.isHex(C)&&this.readCertHex(C))}Se.prototype.sign=function(C,T){var R=function(G){return V.crypto.Util.hashString(G,T)}(C);return this.signWithMessageHash(R,T)},Se.prototype.signWithMessageHash=function(C,T){var R=gt(V.crypto.Util.getPaddedDigestInfoHex(C,T,this.n.bitLength()),16);return en(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(C,T,R){var N=function(oe){return V.crypto.Util.hashHex(oe,T)}(Ln(C));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,T,R)},Se.prototype.signWithMessageHashPSS=function(C,T,R){var N,G=un(C),oe=G.length,_e=this.n.bitLength()-1,Ie=Math.ceil(_e/8),xe=function(we){return V.crypto.Util.hashHex(we,T)};if(R===-1||R===void 0)R=oe;else if(R===-2)R=Ie-oe-2;else if(R<-2)throw new Error("invalid salt length");if(Ie<oe+R+2)throw new Error("data too long");var Pe="";R>0&&(Pe=new Array(R),new nt().nextBytes(Pe),Pe=String.fromCharCode.apply(String,Pe));var Me=un(xe(Ln("\0\0\0\0\0\0\0\0"+G+Pe))),$e=[];for(N=0;N<Ie-R-oe-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Pe,Ye=Rn(Me,ze.length,xe),ot=[];for(N=0;N<ze.length;N+=1)ot[N]=ze.charCodeAt(N)^Ye.charCodeAt(N);var dt=65280>>8*Ie-_e&255;for(ot[0]&=~dt,N=0;N<oe;N++)ot.push(Me.charCodeAt(N));return ot.push(188),en(this.doPrivate(new q(ot)).toString(16),this.n.bitLength())},Se.prototype.verify=function(C,T){if((T=T.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(T,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var G=this.doPublic(R).toString(16);if(G.length+3!=N/4)return!1;var oe=Kt(G.replace(/^1f+00/,""));if(oe.length==0)return!1;var _e=oe[0];return oe[1]==function(xe){return V.crypto.Util.hashString(xe,_e)}(C)},Se.prototype.verifyWithMessageHash=function(C,T){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(T,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Kt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==C)},Se.prototype.verifyPSS=function(C,T,R,N){var G=function(_e){return V.crypto.Util.hashHex(_e,R)}(Ln(C));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(G,T,R,N)},Se.prototype.verifyWithMessageHashPSS=function(C,T,R,N){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var G,oe=new q(T,16),_e=function(Ue){return V.crypto.Util.hashHex(Ue,R)},Ie=un(C),xe=Ie.length,Pe=this.n.bitLength()-1,Me=Math.ceil(Pe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(oe).toByteArray();for(G=0;G<$e.length;G+=1)$e[G]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Ye=$e.substr(ze.length,xe),ot=65280>>8*Me-Pe&255;if(ze.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var dt=Rn(Ye,ze.length,_e),ut=[];for(G=0;G<ze.length;G+=1)ut[G]=ze.charCodeAt(G)^dt.charCodeAt(G);ut[0]&=~ot;var we=Me-xe-N-2;for(G=0;G<we;G+=1)if(ut[G]!==0)throw new Error("leftmost octets not zero");if(ut[we]!==1)throw new Error("0x01 marker not found");return Ye===un(_e(Ln("\0\0\0\0\0\0\0\0"+Ie+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Qt.hex2dn=function(C,T){T===void 0&&(T=0);var R=new Qt;return ke.getTLV(C,T),R.getX500Name(C).str},Qt.hex2rdn=function(C,T){if(T===void 0&&(T=0),C.substr(T,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=ke.getChildIdx(C,T),G=0;G<N.length;G++)R.push(Qt.hex2attrTypeValue(C,N[G]));return(R=R.map(function(oe){return oe.replace("+","\\+")})).join("+")},Qt.hex2attrTypeValue=function(C,T){var R=ke,N=R.getV;if(T===void 0&&(T=0),C.substr(T,2)!=="30")throw new Error("malformed attribute type and value");var G=R.getChildIdx(C,T);G.length!==2||C.substr(G[0],2);var oe=N(C,G[0]),_e=V.asn1.ASN1Util.oidHexToInt(oe);return V.asn1.x509.OID.oid2atype(_e)+"="+un(N(C,G[1]))},Qt.getPublicKeyFromCertHex=function(C){var T=new Qt;return T.readCertHex(C),T.getPublicKey()},Qt.getPublicKeyFromCertPEM=function(C){var T=new Qt;return T.readCertPEM(C),T.getPublicKey()},Qt.getPublicKeyInfoPropOfCertPEM=function(C){var T,R,N=ke.getVbyList,G={};return G.algparam=null,(T=new Qt).readCertPEM(C),R=T.getPublicKeyHex(),G.keyhex=N(R,0,[1],"03").substr(2),G.algoid=N(R,0,[0,0],"06"),G.algoid==="2a8648ce3d0201"&&(G.algparam=N(R,0,[0,1],"06")),G},Qt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],V!==void 0&&V||(r.KJUR=V={}),V.jws!==void 0&&V.jws||(V.jws={}),V.jws.JWS=function(){var C=V.jws.JWS.isSafeJSONString;this.parseJWS=function(T,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=T.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var G=N[1],oe=N[2],_e=N[3],Ie=G+"."+oe;if(this.parsedJWS={},this.parsedJWS.headB64U=G,this.parsedJWS.payloadB64U=oe,this.parsedJWS.sigvalB64U=_e,this.parsedJWS.si=Ie,!R){var xe=dn(_e),Pe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Pe}var Me=Ze(G),$e=Ze(oe);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!C(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},V.jws.JWS.sign=function(C,T,R,N,G){var oe,_e,Ie,xe=V,Pe=xe.jws.JWS,Me=Pe.readSafeJSONString,$e=Pe.isSafeJSONString,ze=xe.crypto,Ye=(ze.ECDSA,ze.Mac),ot=ze.Signature,dt=JSON;if(typeof T!="string"&&(T===void 0?"undefined":x(T))!="object")throw"spHeader must be JSON string or object: "+T;if((T===void 0?"undefined":x(T))=="object"&&(_e=T,oe=dt.stringify(_e)),typeof T=="string"){if(!$e(oe=T))throw"JWS Head is not safe JSON string: "+oe;_e=Me(oe)}if(Ie=R,(R===void 0?"undefined":x(R))=="object"&&(Ie=dt.stringify(R)),C!=""&&C!=null||_e.alg===void 0||(C=_e.alg),C!=""&&C!=null&&_e.alg===void 0&&(_e.alg=C,oe=dt.stringify(_e)),C!==_e.alg)throw"alg and sHeader.alg doesn't match: "+C+"!="+_e.alg;var ut=null;if(Pe.jwsalg2sigalg[C]===void 0)throw"unsupported alg name: "+C;ut=Pe.jwsalg2sigalg[C];var we=je(oe)+"."+je(Ie),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Ye({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(we),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new ot({alg:ut})).init(N,G),lt.updateString(we);var Ke=lt.sign();De=V.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new ot({alg:ut})).init(N,G),lt.updateString(we),De=lt.sign())}return we+"."+fn(De)},V.jws.JWS.verify=function(C,T,R){var N,G=V,oe=G.jws.JWS,_e=oe.readSafeJSONString,Ie=G.crypto,xe=Ie.ECDSA,Pe=Ie.Mac,Me=Ie.Signature;x(Se)!==void 0&&(N=Se);var $e=C.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Ye=dn($e[2]),ot=_e(Ze($e[0])),dt=null,ut=null;if(ot.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=ot.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&T===null)throw"key shall be specified to verify.";if(typeof T=="string"&&T.indexOf("-----BEGIN ")!=-1&&(T=Nt.getKey(T)),!(ut!="RS"&&ut!="PS"||T instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(T instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var we=null;if(oe.jwsalg2sigalg[ot.alg]===void 0)throw"unsupported alg name: "+dt;if((we=oe.jwsalg2sigalg[dt])=="none")throw"not supported";if(we.substr(0,4)=="Hmac"){if(T===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Pe({alg:we,pass:T});return De.updateString(ze),Ye==De.doFinal()}if(we.indexOf("withECDSA")!=-1){var Ue,Ke=null;try{Ke=xe.concatSigToASN1Sig(Ye)}catch{return!1}return(Ue=new Me({alg:we})).init(T),Ue.updateString(ze),Ue.verify(Ke)}return(Ue=new Me({alg:we})).init(T),Ue.updateString(ze),Ue.verify(Ye)},V.jws.JWS.parse=function(C){var T,R,N,G=C.split("."),oe={};if(G.length!=2&&G.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return T=G[0],R=G[1],G.length==3&&(N=G[2]),oe.headerObj=V.jws.JWS.readSafeJSONString(Ze(T)),oe.payloadObj=V.jws.JWS.readSafeJSONString(Ze(R)),oe.headerPP=JSON.stringify(oe.headerObj,null,"  "),oe.payloadObj==null?oe.payloadPP=Ze(R):oe.payloadPP=JSON.stringify(oe.payloadObj,null,"  "),N!==void 0&&(oe.sigHex=dn(N)),oe},V.jws.JWS.verifyJWT=function(C,T,R){var N=V.jws,G=N.JWS,oe=G.readSafeJSONString,_e=G.inArray,Ie=G.includedArray,xe=C.split("."),Pe=xe[0],Me=xe[1],$e=(dn(xe[2]),oe(Ze(Pe))),ze=oe(Ze(Me));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!_e($e.alg,R.alg)||ze.iss!==void 0&&x(R.iss)==="object"&&!_e(ze.iss,R.iss)||ze.sub!==void 0&&x(R.sub)==="object"&&!_e(ze.sub,R.sub))return!1;if(ze.aud!==void 0&&x(R.aud)==="object"){if(typeof ze.aud=="string"){if(!_e(ze.aud,R.aud))return!1}else if(x(ze.aud)=="object"&&!Ie(ze.aud,R.aud))return!1}var Ye=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Ye=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+R.gracePeriod<Ye)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Ye<ze.nbf-R.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Ye<ze.iat-R.gracePeriod)&&(ze.jti===void 0||R.jti===void 0||ze.jti===R.jti)&&!!G.verify(C,T,R.alg)},V.jws.JWS.includedArray=function(C,T){var R=V.jws.JWS.inArray;if(C===null||(C===void 0?"undefined":x(C))!=="object"||typeof C.length!="number")return!1;for(var N=0;N<C.length;N++)if(!R(C[N],T))return!1;return!0},V.jws.JWS.inArray=function(C,T){if(T===null||(T===void 0?"undefined":x(T))!=="object"||typeof T.length!="number")return!1;for(var R=0;R<T.length;R++)if(T[R]==C)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(C,T,R){var N=null;try{return((N=K(C))===void 0?"undefined":x(N))!="object"||N.constructor===Array?0:(T&&(T[R]=N),1)}catch{return 0}},V.jws.JWS.readSafeJSONString=function(C){var T=null;try{return((T=K(C))===void 0?"undefined":x(T))!="object"||T.constructor===Array?null:T}catch{return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(C){var T=C.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(T==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return T[1]},V.jws.JWS.getJWKthumbprint=function(C){if(C.kty!=="RSA"&&C.kty!=="EC"&&C.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var T="{";if(C.kty==="RSA"){if(typeof C.n!="string"||typeof C.e!="string")throw"wrong n and e value for RSA key";T+='"e":"'+C.e+'",',T+='"kty":"'+C.kty+'",',T+='"n":"'+C.n+'"}'}else if(C.kty==="EC"){if(typeof C.crv!="string"||typeof C.x!="string"||typeof C.y!="string")throw"wrong crv, x and y value for EC key";T+='"crv":"'+C.crv+'",',T+='"kty":"'+C.kty+'",',T+='"x":"'+C.x+'",',T+='"y":"'+C.y+'"}'}else if(C.kty==="oct"){if(typeof C.k!="string")throw"wrong k value for oct(symmetric) key";T+='"kty":"'+C.kty+'",',T+='"k":"'+C.k+'"}'}var R=Ln(T);return fn(V.crypto.Util.hashHex(R,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(C){var T=V.jws.IntDate,R=T.getNow,N=T.getZulu;if(C=="now")return R();if(C=="now + 1hour")return R()+3600;if(C=="now + 1day")return R()+86400;if(C=="now + 1month")return R()+2592e3;if(C=="now + 1year")return R()+31536e3;if(C.match(/Z$/))return N(C);if(C.match(/^[0-9]+$/))return parseInt(C);throw"unsupported format: "+C},V.jws.IntDate.getZulu=function(C){return zn(C)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(C){return new Date(1e3*C).toUTCString()},V.jws.IntDate.intDate2Zulu=function(C){var T=new Date(1e3*C);return("0000"+T.getUTCFullYear()).slice(-4)+("00"+(T.getUTCMonth()+1)).slice(-2)+("00"+T.getUTCDate()).slice(-2)+("00"+T.getUTCHours()).slice(-2)+("00"+T.getUTCMinutes()).slice(-2)+("00"+T.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=he,r.BigInteger=q,r.RSAKey=Se;var xn=V.crypto.EDSA;r.EDSA=xn;var En=V.crypto.DSA;r.DSA=En;var Bn=V.crypto.Signature;r.Signature=Bn;var Tr=V.crypto.MessageDigest;r.MessageDigest=Tr;var Ur=V.crypto.Mac;r.Mac=Ur;var Br=V.crypto.Cipher;r.Cipher=Br,r.KEYUTIL=Nt,r.ASN1HEX=ke,r.X509=Qt,r.CryptoJS=I,r.b64tohex=Q,r.b64toBA=Y,r.stoBA=At,r.BAtos=Ot,r.BAtohex=Dt,r.stohex=Rt,r.stob64=function(T){return j(Rt(T))},r.stob64u=function(T){return Bt(j(Rt(T)))},r.b64utos=function(T){return Ot(Y(Er(T)))},r.b64tob64u=Bt,r.b64utob64=Er,r.hex2b64=j,r.hextob64u=fn,r.b64utohex=dn,r.utf8tob64u=je,r.b64utoutf8=Ze,r.utf8tob64=function(T){return j(Jn(Et(T)))},r.b64toutf8=function(T){return decodeURIComponent(We(Q(T)))},r.utf8tohex=hr,r.hextoutf8=sn,r.hextorstr=un,r.rstrtohex=Ln,r.hextob64=or,r.hextob64nl=Le,r.b64nltohex=qe,r.hextopem=wt,r.pemtohex=xt,r.hextoArrayBuffer=function(T){if(T.length%2!=0)throw"input is not even length";if(T.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(T.length/2),N=new DataView(R),G=0;G<T.length/2;G++)N.setUint8(G,parseInt(T.substr(2*G,2),16));return R},r.ArrayBuffertohex=function(T){for(var R="",N=new DataView(T),G=0;G<T.byteLength;G++)R+=("00"+N.getUint8(G).toString(16)).slice(-2);return R},r.zulutomsec=Lt,r.zulutosec=zn,r.zulutodate=function(T){return new Date(Lt(T))},r.datetozulu=function(T,R,N){var G,oe=T.getUTCFullYear();if(R){if(oe<1950||2049<oe)throw"not proper year for UTCTime: "+oe;G=(""+oe).slice(-2)}else G=("000"+oe).slice(-4);if(G+=("0"+(T.getUTCMonth()+1)).slice(-2),G+=("0"+T.getUTCDate()).slice(-2),G+=("0"+T.getUTCHours()).slice(-2),G+=("0"+T.getUTCMinutes()).slice(-2),G+=("0"+T.getUTCSeconds()).slice(-2),N){var _e=T.getUTCMilliseconds();_e!==0&&(G+="."+(_e=(_e=("00"+_e).slice(-3)).replace(/0+$/g,"")))}return G+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ee,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(T){var R="malformed IP address";if(!(T=T.toLowerCase(T)).match(/^[0-9.]+$/)){if(T.match(/^[0-9a-f:]+$/)&&T.indexOf(":")!==-1)return Ee(T);throw R}var N=T.split(".");if(N.length!==4)throw R;var G="";try{for(var oe=0;oe<4;oe++)G+=("0"+parseInt(N[oe]).toString(16)).slice(-2);return G}catch{throw R}},r.encodeURIComponentAll=Et,r.newline_toUnix=function(T){return T=T.replace(/\r\n/gm,`
`)},r.newline_toDos=function(T){return T=(T=T.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Vt,r.intarystrtohex=function(T){T=(T=(T=T.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return T.split(/,/).map(function(R,N,G){var oe=parseInt(R);if(oe<0||255<oe)throw"integer not in range 0-255";return("00"+oe.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(T,R){var N=T.length;T.length>R.length&&(N=R.length);for(var G=0;G<N;G++)if(T.charCodeAt(G)!=R.charCodeAt(G))return G;return T.length!=R.length?N:-1},r.KJUR=V;var Rr=V.crypto;r.crypto=Rr;var Fn=V.asn1;r.asn1=Fn;var Wr=V.jws;r.jws=Wr;var qi=V.lang;r.lang=qi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=i(30),s=i(31),c=i(32);function f(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(ie,z){if(f()<z)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(z)).__proto__=p.prototype:(ie===null&&(ie=new p(z)),ie.length=z),ie}function p(ie,z,$){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(ie,z,$);if(typeof ie=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,ie)}return m(this,ie,z,$)}function m(ie,z,$,re){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function(he,ye,He,Te){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Te||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Te===void 0?new Uint8Array(ye):Te===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Te),p.TYPED_ARRAY_SUPPORT?(he=ye).__proto__=p.prototype:he=b(he,ye),he}(ie,z,$,re):typeof z=="string"?function(he,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!p.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Te=0|x(ye,He),Ne=(he=h(he,Te)).write(ye,He);return Ne!==Te&&(he=he.slice(0,Ne)),he}(ie,z,$):function(he,ye){if(p.isBuffer(ye)){var He=0|S(ye.length);return(he=h(he,He)).length===0||ye.copy(he,0,0,He),he}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Ne){return Ne!=Ne}(ye.length)?h(he,0):b(he,ye);if(ye.type==="Buffer"&&c(ye.data))return b(he,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,z)}function y(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function _(ie,z){if(y(z),ie=h(ie,z<0?0:0|S(z)),!p.TYPED_ARRAY_SUPPORT)for(var $=0;$<z;++$)ie[$]=0;return ie}function b(ie,z){var $=z.length<0?0:0|S(z.length);ie=h(ie,$);for(var re=0;re<$;re+=1)ie[re]=255&z[re];return ie}function S(ie){if(ie>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|ie}function x(ie,z){if(p.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;typeof ie!="string"&&(ie=""+ie);var $=ie.length;if($===0)return 0;for(var re=!1;;)switch(z){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Re(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Fe(ie).length;default:if(re)return Re(ie).length;z=(""+z).toLowerCase(),re=!0}}function E(ie,z,$){var re=!1;if((z===void 0||z<0)&&(z=0),z>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(z>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return ce(this,z,$);case"utf8":case"utf-8":return te(this,z,$);case"ascii":return pe(this,z,$);case"latin1":case"binary":return be(this,z,$);case"base64":return fe(this,z,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,z,$);default:if(re)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),re=!0}}function A(ie,z,$){var re=ie[z];ie[z]=ie[$],ie[$]=re}function I(ie,z,$,re,W){if(ie.length===0)return-1;if(typeof $=="string"?(re=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=W?0:ie.length-1),$<0&&($=ie.length+$),$>=ie.length){if(W)return-1;$=ie.length-1}else if($<0){if(!W)return-1;$=0}if(typeof z=="string"&&(z=p.from(z,re)),p.isBuffer(z))return z.length===0?-1:M(ie,z,$,re,W);if(typeof z=="number")return z&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(ie,z,$):Uint8Array.prototype.lastIndexOf.call(ie,z,$):M(ie,[z],$,re,W);throw new TypeError("val must be string, number or Buffer")}function M(ie,z,$,re,W){var he,ye=1,He=ie.length,Te=z.length;if(re!==void 0&&((re=String(re).toLowerCase())==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(ie.length<2||z.length<2)return-1;ye=2,He/=2,Te/=2,$/=2}function Ne(Ut,Se){return ye===1?Ut[Se]:Ut.readUInt16BE(Se*ye)}if(W){var tt=-1;for(he=$;he<He;he++)if(Ne(ie,he)===Ne(z,tt===-1?0:he-tt)){if(tt===-1&&(tt=he),he-tt+1===Te)return tt*ye}else tt!==-1&&(he-=he-tt),tt=-1}else for($+Te>He&&($=He-Te),he=$;he>=0;he--){for(var nt=!0,gt=0;gt<Te;gt++)if(Ne(ie,he+gt)!==Ne(z,gt)){nt=!1;break}if(nt)return he}return-1}function D(ie,z,$,re){$=Number($)||0;var W=ie.length-$;re?(re=Number(re))>W&&(re=W):re=W;var he=z.length;if(he%2!=0)throw new TypeError("Invalid hex string");re>he/2&&(re=he/2);for(var ye=0;ye<re;++ye){var He=parseInt(z.substr(2*ye,2),16);if(isNaN(He))return ye;ie[$+ye]=He}return ye}function j(ie,z,$,re){return Xe(Re(z,ie.length-$),ie,$,re)}function Q(ie,z,$,re){return Xe(function(he){for(var ye=[],He=0;He<he.length;++He)ye.push(255&he.charCodeAt(He));return ye}(z),ie,$,re)}function Y(ie,z,$,re){return Q(ie,z,$,re)}function q(ie,z,$,re){return Xe(Fe(z),ie,$,re)}function Z(ie,z,$,re){return Xe(function(he,ye){for(var He,Te,Ne,tt=[],nt=0;nt<he.length&&!((ye-=2)<0);++nt)Te=(He=he.charCodeAt(nt))>>8,Ne=He%256,tt.push(Ne),tt.push(Te);return tt}(z,ie.length-$),ie,$,re)}function fe(ie,z,$){return z===0&&$===ie.length?o.fromByteArray(ie):o.fromByteArray(ie.slice(z,$))}function te(ie,z,$){$=Math.min(ie.length,$);for(var re=[],W=z;W<$;){var he,ye,He,Te,Ne=ie[W],tt=null,nt=Ne>239?4:Ne>223?3:Ne>191?2:1;if(W+nt<=$)switch(nt){case 1:Ne<128&&(tt=Ne);break;case 2:(192&(he=ie[W+1]))==128&&(Te=(31&Ne)<<6|63&he)>127&&(tt=Te);break;case 3:he=ie[W+1],ye=ie[W+2],(192&he)==128&&(192&ye)==128&&(Te=(15&Ne)<<12|(63&he)<<6|63&ye)>2047&&(Te<55296||Te>57343)&&(tt=Te);break;case 4:he=ie[W+1],ye=ie[W+2],He=ie[W+3],(192&he)==128&&(192&ye)==128&&(192&He)==128&&(Te=(15&Ne)<<18|(63&he)<<12|(63&ye)<<6|63&He)>65535&&Te<1114112&&(tt=Te)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,re.push(tt>>>10&1023|55296),tt=56320|1023&tt),re.push(tt),W+=nt}return function(Ut){var Se=Ut.length;if(Se<=se)return String.fromCharCode.apply(String,Ut);for(var Be="",X=0;X<Se;)Be+=String.fromCharCode.apply(String,Ut.slice(X,X+=se));return Be}(re)}r.Buffer=p,r.SlowBuffer=function(z){return+z!=z&&(z=0),p.alloc(+z)},r.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=f(),p.poolSize=8192,p._augment=function(ie){return ie.__proto__=p.prototype,ie},p.from=function(ie,z,$){return m(null,ie,z,$)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(ie,z,$){return function(W,he,ye,He){return y(he),he<=0?h(W,he):ye!==void 0?typeof He=="string"?h(W,he).fill(ye,He):h(W,he).fill(ye):h(W,he)}(null,ie,z,$)},p.allocUnsafe=function(ie){return _(null,ie)},p.allocUnsafeSlow=function(ie){return _(null,ie)},p.isBuffer=function(z){return!(z==null||!z._isBuffer)},p.compare=function(z,$){if(!p.isBuffer(z)||!p.isBuffer($))throw new TypeError("Arguments must be Buffers");if(z===$)return 0;for(var re=z.length,W=$.length,he=0,ye=Math.min(re,W);he<ye;++he)if(z[he]!==$[he]){re=z[he],W=$[he];break}return re<W?-1:W<re?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,$){if(!c(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);var re;if($===void 0)for($=0,re=0;re<z.length;++re)$+=z[re].length;var W=p.allocUnsafe($),he=0;for(re=0;re<z.length;++re){var ye=z[re];if(!p.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(W,he),he+=ye.length}return W},p.byteLength=x,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<z;$+=2)A(this,$,$+1);return this},p.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<z;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},p.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<z;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},p.prototype.toString=function(){var z=0|this.length;return z===0?"":arguments.length===0?te(this,0,z):E.apply(this,arguments)},p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||p.compare(this,z)===0},p.prototype.inspect=function(){var z="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(z+=" ... ")),"<Buffer "+z+">"},p.prototype.compare=function(z,$,re,W,he){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),re===void 0&&(re=z?z.length:0),W===void 0&&(W=0),he===void 0&&(he=this.length),$<0||re>z.length||W<0||he>this.length)throw new RangeError("out of range index");if(W>=he&&$>=re)return 0;if(W>=he)return-1;if($>=re)return 1;if(this===z)return 0;for(var ye=(he>>>=0)-(W>>>=0),He=(re>>>=0)-($>>>=0),Te=Math.min(ye,He),Ne=this.slice(W,he),tt=z.slice($,re),nt=0;nt<Te;++nt)if(Ne[nt]!==tt[nt]){ye=Ne[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},p.prototype.includes=function(z,$,re){return this.indexOf(z,$,re)!==-1},p.prototype.indexOf=function(z,$,re){return I(this,z,$,re,!0)},p.prototype.lastIndexOf=function(z,$,re){return I(this,z,$,re,!1)},p.prototype.write=function(z,$,re,W){if($===void 0)W="utf8",re=this.length,$=0;else if(re===void 0&&typeof $=="string")W=$,re=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(re)?(re|=0,W===void 0&&(W="utf8")):(W=re,re=void 0)}var he=this.length-$;if((re===void 0||re>he)&&(re=he),z.length>0&&(re<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var ye=!1;;)switch(W){case"hex":return D(this,z,$,re);case"utf8":case"utf-8":return j(this,z,$,re);case"ascii":return Q(this,z,$,re);case"latin1":case"binary":return Y(this,z,$,re);case"base64":return q(this,z,$,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,z,$,re);default:if(ye)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ye=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function pe(ie,z,$){var re="";$=Math.min(ie.length,$);for(var W=z;W<$;++W)re+=String.fromCharCode(127&ie[W]);return re}function be(ie,z,$){var re="";$=Math.min(ie.length,$);for(var W=z;W<$;++W)re+=String.fromCharCode(ie[W]);return re}function ce(ie,z,$){var re=ie.length;(!z||z<0)&&(z=0),(!$||$<0||$>re)&&($=re);for(var W="",he=z;he<$;++he)W+=Je(ie[he]);return W}function le(ie,z,$){for(var re=ie.slice(z,$),W="",he=0;he<re.length;he+=2)W+=String.fromCharCode(re[he]+256*re[he+1]);return W}function Oe(ie,z,$){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+z>$)throw new RangeError("Trying to access beyond buffer length")}function k(ie,z,$,re,W,he){if(!p.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>W||z<he)throw new RangeError('"value" argument is out of bounds');if($+re>ie.length)throw new RangeError("Index out of range")}function ne(ie,z,$,re){z<0&&(z=65535+z+1);for(var W=0,he=Math.min(ie.length-$,2);W<he;++W)ie[$+W]=(z&255<<8*(re?W:1-W))>>>8*(re?W:1-W)}function me(ie,z,$,re){z<0&&(z=4294967295+z+1);for(var W=0,he=Math.min(ie.length-$,4);W<he;++W)ie[$+W]=z>>>8*(re?W:3-W)&255}function H(ie,z,$,re,W,he){if($+re>ie.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function J(ie,z,$,re,W){return W||H(ie,0,$,4),s.write(ie,z,$,re,23,4),$+4}function ge(ie,z,$,re,W){return W||H(ie,0,$,8),s.write(ie,z,$,re,52,8),$+8}p.prototype.slice=function(z,$){var re,W=this.length;if((z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),($=$===void 0?W:~~$)<0?($+=W)<0&&($=0):$>W&&($=W),$<z&&($=z),p.TYPED_ARRAY_SUPPORT)(re=this.subarray(z,$)).__proto__=p.prototype;else{var he=$-z;re=new p(he,void 0);for(var ye=0;ye<he;++ye)re[ye]=this[ye+z]}return re},p.prototype.readUIntLE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=this[z],he=1,ye=0;++ye<$&&(he*=256);)W+=this[z+ye]*he;return W},p.prototype.readUIntBE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=this[z+--$],he=1;$>0&&(he*=256);)W+=this[z+--$]*he;return W},p.prototype.readUInt8=function(z,$){return $||Oe(z,1,this.length),this[z]},p.prototype.readUInt16LE=function(z,$){return $||Oe(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUInt16BE=function(z,$){return $||Oe(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUInt32LE=function(z,$){return $||Oe(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},p.prototype.readUInt32BE=function(z,$){return $||Oe(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readIntLE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=this[z],he=1,ye=0;++ye<$&&(he*=256);)W+=this[z+ye]*he;return W>=(he*=128)&&(W-=Math.pow(2,8*$)),W},p.prototype.readIntBE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=$,he=1,ye=this[z+--W];W>0&&(he*=256);)ye+=this[z+--W]*he;return ye>=(he*=128)&&(ye-=Math.pow(2,8*$)),ye},p.prototype.readInt8=function(z,$){return $||Oe(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},p.prototype.readInt16LE=function(z,$){$||Oe(z,2,this.length);var re=this[z]|this[z+1]<<8;return 32768&re?4294901760|re:re},p.prototype.readInt16BE=function(z,$){$||Oe(z,2,this.length);var re=this[z+1]|this[z]<<8;return 32768&re?4294901760|re:re},p.prototype.readInt32LE=function(z,$){return $||Oe(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,$){return $||Oe(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readFloatLE=function(z,$){return $||Oe(z,4,this.length),s.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,$){return $||Oe(z,4,this.length),s.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,$){return $||Oe(z,8,this.length),s.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,$){return $||Oe(z,8,this.length),s.read(this,z,!1,52,8)},p.prototype.writeUIntLE=function(z,$,re,W){z=+z,$|=0,re|=0,W||k(this,z,$,re,Math.pow(2,8*re)-1,0);var he=1,ye=0;for(this[$]=255&z;++ye<re&&(he*=256);)this[$+ye]=z/he&255;return $+re},p.prototype.writeUIntBE=function(z,$,re,W){z=+z,$|=0,re|=0,W||k(this,z,$,re,Math.pow(2,8*re)-1,0);var he=re-1,ye=1;for(this[$+he]=255&z;--he>=0&&(ye*=256);)this[$+he]=z/ye&255;return $+re},p.prototype.writeUInt8=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,1,255,0),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[$]=255&z,$+1},p.prototype.writeUInt16LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ne(this,z,$,!0),$+2},p.prototype.writeUInt16BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ne(this,z,$,!1),$+2},p.prototype.writeUInt32LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$+3]=z>>>24,this[$+2]=z>>>16,this[$+1]=z>>>8,this[$]=255&z):me(this,z,$,!0),$+4},p.prototype.writeUInt32BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},p.prototype.writeIntLE=function(z,$,re,W){if(z=+z,$|=0,!W){var he=Math.pow(2,8*re-1);k(this,z,$,re,he-1,-he)}var ye=0,He=1,Te=0;for(this[$]=255&z;++ye<re&&(He*=256);)z<0&&Te===0&&this[$+ye-1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+re},p.prototype.writeIntBE=function(z,$,re,W){if(z=+z,$|=0,!W){var he=Math.pow(2,8*re-1);k(this,z,$,re,he-1,-he)}var ye=re-1,He=1,Te=0;for(this[$+ye]=255&z;--ye>=0&&(He*=256);)z<0&&Te===0&&this[$+ye+1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+re},p.prototype.writeInt8=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,1,127,-128),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[$]=255&z,$+1},p.prototype.writeInt16LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ne(this,z,$,!0),$+2},p.prototype.writeInt16BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ne(this,z,$,!1),$+2},p.prototype.writeInt32LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8,this[$+2]=z>>>16,this[$+3]=z>>>24):me(this,z,$,!0),$+4},p.prototype.writeInt32BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},p.prototype.writeFloatLE=function(z,$,re){return J(this,z,$,!0,re)},p.prototype.writeFloatBE=function(z,$,re){return J(this,z,$,!1,re)},p.prototype.writeDoubleLE=function(z,$,re){return ge(this,z,$,!0,re)},p.prototype.writeDoubleBE=function(z,$,re){return ge(this,z,$,!1,re)},p.prototype.copy=function(z,$,re,W){if(re||(re=0),W||W===0||(W=this.length),$>=z.length&&($=z.length),$||($=0),W>0&&W<re&&(W=re),W===re||z.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),z.length-$<W-re&&(W=z.length-$+re);var he,ye=W-re;if(this===z&&re<$&&$<W)for(he=ye-1;he>=0;--he)z[he+$]=this[he+re];else if(ye<1e3||!p.TYPED_ARRAY_SUPPORT)for(he=0;he<ye;++he)z[he+$]=this[he+re];else Uint8Array.prototype.set.call(z,this.subarray(re,re+ye),$);return ye},p.prototype.fill=function(z,$,re,W){if(typeof z=="string"){if(typeof $=="string"?(W=$,$=0,re=this.length):typeof re=="string"&&(W=re,re=this.length),z.length===1){var he=z.charCodeAt(0);he<256&&(z=he)}if(W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!p.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else typeof z=="number"&&(z&=255);if($<0||this.length<$||this.length<re)throw new RangeError("Out of range index");if(re<=$)return this;var ye;if($>>>=0,re=re===void 0?this.length:re>>>0,z||(z=0),typeof z=="number")for(ye=$;ye<re;++ye)this[ye]=z;else{var He=p.isBuffer(z)?z:Re(new p(z,W).toString()),Te=He.length;for(ye=0;ye<re-$;++ye)this[ye+$]=He[ye%Te]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g;function Je(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function Re(ie,z){var $;z=z||1/0;for(var re=ie.length,W=null,he=[],ye=0;ye<re;++ye){if(($=ie.charCodeAt(ye))>55295&&$<57344){if(!W){if($>56319){(z-=3)>-1&&he.push(239,191,189);continue}if(ye+1===re){(z-=3)>-1&&he.push(239,191,189);continue}W=$;continue}if($<56320){(z-=3)>-1&&he.push(239,191,189),W=$;continue}$=65536+(W-55296<<10|$-56320)}else W&&(z-=3)>-1&&he.push(239,191,189);if(W=null,$<128){if((z-=1)<0)break;he.push($)}else if($<2048){if((z-=2)<0)break;he.push($>>6|192,63&$|128)}else if($<65536){if((z-=3)<0)break;he.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;he.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return he}function Fe(ie){return o.toByteArray(function($){if(($=function(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")}($).replace(Ae,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(ie))}function Xe(ie,z,$,re){for(var W=0;W<re&&!(W+$>=z.length||W>=ie.length);++W)z[W+$]=ie[W];return W}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(_){var b=p(_),S=b[0],x=b[1];return 3*(S+x)/4-x},r.toByteArray=function(_){var b,S,x=p(_),E=x[0],A=x[1],I=new s(function(Q,Y,q){return 3*(Y+q)/4-q}(0,E,A)),M=0,D=A>0?E-4:E;for(S=0;S<D;S+=4)b=o[_.charCodeAt(S)]<<18|o[_.charCodeAt(S+1)]<<12|o[_.charCodeAt(S+2)]<<6|o[_.charCodeAt(S+3)],I[M++]=b>>16&255,I[M++]=b>>8&255,I[M++]=255&b;return A===2&&(b=o[_.charCodeAt(S)]<<2|o[_.charCodeAt(S+1)]>>4,I[M++]=255&b),A===1&&(b=o[_.charCodeAt(S)]<<10|o[_.charCodeAt(S+1)]<<4|o[_.charCodeAt(S+2)]>>2,I[M++]=b>>8&255,I[M++]=255&b),I},r.fromByteArray=function(_){for(var b,S=_.length,x=S%3,E=[],A=16383,I=0,M=S-x;I<M;I+=A)E.push(m(_,I,I+A>M?M:I+A));return x===1?(b=_[S-1],E.push(a[b>>2]+a[b<<4&63]+"==")):x===2&&(b=(_[S-2]<<8)+_[S-1],E.push(a[b>>10]+a[b>>4&63]+a[b<<2&63]+"=")),E.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=c.length;f<h;++f)a[f]=c[f],o[c.charCodeAt(f)]=f;function p(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");return b===-1&&(b=_),[b,b===_?0:4-b%4]}function m(y,_,b){for(var S,x,E=[],A=_;A<b;A+=3)S=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),E.push(a[(x=S)>>18&63]+a[x>>12&63]+a[x>>6&63]+a[63&x]);return E.join("")}o[45]=62,o[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,o,s,c){var f,h,p=8*c-s-1,m=(1<<p)-1,y=m>>1,_=-7,b=o?c-1:0,S=o?-1:1,x=i[a+b];for(b+=S,f=x&(1<<-_)-1,x>>=-_,_+=p;_>0;f=256*f+i[a+b],b+=S,_-=8);for(h=f&(1<<-_)-1,f>>=-_,_+=s;_>0;h=256*h+i[a+b],b+=S,_-=8);if(f===0)f=1-y;else{if(f===m)return h?NaN:1/0*(x?-1:1);h+=Math.pow(2,s),f-=y}return(x?-1:1)*h*Math.pow(2,f-s)},r.write=function(i,a,o,s,c,f){var h,p,m,y=8*f-c-1,_=(1<<y)-1,b=_>>1,S=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=s?0:f-1,E=s?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(p=isNaN(a)?1:0,h=_):(h=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-h))<1&&(h--,m*=2),(a+=h+b>=1?S/m:S*Math.pow(2,1-b))*m>=2&&(h++,m/=2),h+b>=_?(p=0,h=_):h+b>=1?(p=(a*m-1)*Math.pow(2,c),h+=b):(p=a*Math.pow(2,b-1)*Math.pow(2,c),h=0));c>=8;i[o+x]=255&p,x+=E,p/=256,c-=8);for(h=h<<c|p,y+=c;y>0;i[o+x]=255&h,x+=E,h/=256,y-=8);i[o+x-E]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var c=s.jws,f=s.KeyUtil,h=s.X509,p=s.crypto,m=s.hextob64u,y=s.b64tohex,_=s.AllowedSigningAlgs;return function(){function b(){(function(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")})(this,b)}return b.parseJwt=function(x){a.Log.debug("JoseUtil.parseJwt");try{var E=c.JWS.parse(x);return{header:E.headerObj,payload:E.payloadObj}}catch(A){a.Log.error(A)}},b.validateJwt=function(x,E,A,I,M,D,j){a.Log.debug("JoseUtil.validateJwt");try{if(E.kty==="RSA")if(E.e&&E.n)E=f.getKey(E);else{if(!E.x5c||!E.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",E),Promise.reject(new Error("RSA key missing key material"));var Q=y(E.x5c[0]);E=h.getPublicKeyFromCertHex(Q)}else{if(E.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",E&&E.kty),Promise.reject(new Error(E.kty));if(!(E.crv&&E.x&&E.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",E),Promise.reject(new Error("EC key missing key material"));E=f.getKey(E)}return b._validateJwt(x,E,A,I,M,D,j)}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject("JWT validation failed")}},b.validateJwtAttributes=function(x,E,A,I,M,D){I||(I=0),M||(M=parseInt(Date.now()/1e3));var j=b.parseJwt(x).payload;if(!j.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(j.iss!==E)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",j.iss),Promise.reject(new Error("Invalid issuer in token: "+j.iss));if(!j.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(j.aud===A||Array.isArray(j.aud)&&j.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",j.aud),Promise.reject(new Error("Invalid audience in token: "+j.aud));if(j.azp&&j.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",j.azp),Promise.reject(new Error("Invalid azp in token: "+j.azp));if(!D){var Q=M+I,Y=M-I;if(!j.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<j.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",j.iat),Promise.reject(new Error("iat is in the future: "+j.iat));if(j.nbf&&Q<j.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",j.nbf),Promise.reject(new Error("nbf is in the future: "+j.nbf));if(!j.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(j.exp<Y)return a.Log.error("JoseUtil._validateJwt: exp is in the past",j.exp),Promise.reject(new Error("exp is in the past:"+j.exp))}return Promise.resolve(j)},b._validateJwt=function(x,E,A,I,M,D,j){return b.validateJwtAttributes(x,A,I,M,D,j).then(function(Q){try{return c.JWS.verify(x,E,_)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject(new Error("signature validation failed"))}})},b.hashString=function(x,E){try{return p.Util.hashString(x,E)}catch(A){a.Log.error(A)}},b.hexToBase64Url=function(x){try{return m(x)}catch(E){a.Log.error(E)}},b}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function c(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}(),o=i(3);function s(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function c(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,c);var p=o.UrlUtility.parseUrlFragment(f,h);this.error=p.error,this.error_description=p.error_description,this.error_uri=p.error_uri,this.code=p.code,this.state=p.state,this.id_token=p.id_token,this.session_state=p.session_state,this.access_token=p.access_token,this.token_type=p.token_type,this.scope=p.scope,this.profile=void 0,this.expires_in=p.expires_in}return a(c,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var p=parseInt(h);if(typeof p=="number"&&p>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+p}}},{key:"expired",get:function(){var h=this.expires_in;if(h!==void 0)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),o=i(3),s=i(9);r.SignoutRequest=function c(f){var h=f.url,p=f.id_token_hint,m=f.post_logout_redirect_uri,y=f.data,_=f.extraQueryParams,b=f.request_type;if(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}(this,c),!h)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in p&&(h=o.UrlUtility.addQueryParam(h,"id_token_hint",p)),m&&(h=o.UrlUtility.addQueryParam(h,"post_logout_redirect_uri",m),y&&(this.state=new s.State({data:y,request_type:b}),h=o.UrlUtility.addQueryParam(h,"state",this.state.id))),_)h=o.UrlUtility.addQueryParam(h,S,_[S]);this.url=h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function o(s){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,o);var c=a.UrlUtility.parseUrlFragment(s,"?");this.error=c.error,this.error_description=c.error_description,this.error_uri=c.error_uri,this.state=c.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&s(c.prototype,f),h&&s(c,h),c}}(),o=i(0);r.InMemoryWebStorage=function(){function s(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(f){return o.Log.debug("InMemoryWebStorage.getItem",f),this._data[f]},s.prototype.setItem=function(f,h){o.Log.debug("InMemoryWebStorage.setItem",f),this._data[f]=h},s.prototype.removeItem=function(f){o.Log.debug("InMemoryWebStorage.removeItem",f),delete this._data[f]},s.prototype.key=function(f){return Object.getOwnPropertyNames(this._data)[f]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(I,M){for(var D=0;D<M.length;D++){var j=M[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,M,D){return M&&A(I.prototype,M),D&&A(I,D),I}}(),o=i(0),s=i(10),c=i(39),f=i(15),h=i(45),p=i(47),m=i(18),y=i(8),_=i(20),b=i(11),S=i(4);function x(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function E(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?A:I}r.UserManager=function(A){function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.SilentRenewService,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.TokenRevocationClient,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:b.TokenClient,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;x(this,I),M instanceof c.UserManagerSettings||(M=new c.UserManagerSettings(M));var Z=E(this,A.call(this,M));return Z._events=new h.UserManagerEvents(M),Z._silentRenewService=new D(Z),Z.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Z.startSilentRenew()),Z.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Z._sessionMonitor=new j(Z)),Z._tokenRevocationClient=new Q(Z._settings),Z._tokenClient=new Y(Z._settings),Z._joseUtil=q,Z}return function(D,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);D.prototype=Object.create(j&&j.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(D,j):D.__proto__=j)}(I,A),I.prototype.getUser=function(){var D=this;return this._loadUser().then(function(j){return j?(o.Log.info("UserManager.getUser: user loaded"),D._events.load(j,!1),j):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},I.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},I.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var j={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,j).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},I.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(j){return j.profile&&j.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",j.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),j})},I.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var j=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return j?(D.redirect_uri=j,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:j,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),Q})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},I.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(j){return j&&(j.profile&&j.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",j.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),j}).catch(function(j){o.Log.error(j.message)})},I.prototype.signinSilent=function(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j=Object.assign({},j),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(j.refresh_token=Q.refresh_token,D._useRefreshToken(j)):(j.request_type="si:s",j.id_token_hint=j.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),j.current_sub=Q.profile.sub),D._signinSilentIframe(j))})},I.prototype._useRefreshToken=function(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(j).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(Y){if(Y){var q=Promise.resolve();return Q.id_token&&(q=D._validateIdTokenFromTokenRefreshToken(Y.profile,Q.id_token)),q.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),Y.id_token=Q.id_token||Y.id_token,Y.access_token=Q.access_token,Y.refresh_token=Q.refresh_token||Y.refresh_token,Y.expires_in=Q.expires_in,D.storeUser(Y).then(function(){return D._events.load(Y),Y})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},I.prototype._validateIdTokenFromTokenRefreshToken=function(D,j){var Q=this;return this._metadataService.getIssuer().then(function(Y){return Q.settings.getEpochTime().then(function(q){return Q._joseUtil.validateJwtAttributes(j,Y,Q._settings.client_id,Q._settings.clockSkew,q).then(function(Z){return Z?Z.sub!==D.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Z.auth_time&&Z.auth_time!==D.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Z.azp&&Z.azp!==D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Z.azp&&D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},I.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return j?(D.redirect_uri=j,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:j,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),Q})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(j){return j&&(j.profile&&j.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",j.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),j})},I.prototype.signinCallback=function(D){var j=this;return this.readSigninResponseState(D).then(function(Q){var Y=Q.state;return Q.response,Y.request_type==="si:r"?j.signinRedirectCallback(D):Y.request_type==="si:p"?j.signinPopupCallback(D):Y.request_type==="si:s"?j.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},I.prototype.signoutCallback=function(D,j){var Q=this;return this.readSignoutResponseState(D).then(function(Y){var q=Y.state,Z=Y.response;return q?q.request_type==="so:r"?Q.signoutRedirectCallback(D):q.request_type==="so:p"?Q.signoutPopupCallback(D,j):Promise.reject(new Error("invalid response_type in state")):Z})},I.prototype.querySessionStatus=function(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(j=Object.assign({},j)).request_type="si:s";var Q=j.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(j.redirect_uri=Q,j.prompt="none",j.response_type=j.response_type||this.settings.query_status_response_type,j.scope=j.scope||"openid",j.skipUserInfo=!0,this._signinStart(j,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:j.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Y){return D.processSigninResponse(Y.url).then(function(q){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),q.session_state&&q.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",q.profile.sub),{session_state:q.session_state,sub:q.profile.sub,sid:q.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(q){if(q.session_state&&D.settings.monitorAnonymousSession&&(q.message=="login_required"||q.message=="consent_required"||q.message=="interaction_required"||q.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:q.session_state};throw q})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype._signin=function(D,j){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,j,Y).then(function(q){return Q._signinEnd(q.url,D)})},I.prototype._signinStart=function(D,j){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j.prepare(Y).then(function(q){return o.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(Z){return o.Log.debug("UserManager._signinStart: got signin request"),Y.url=Z.url,Y.id=Z.state.id,q.navigate(Y)}).catch(function(Z){throw q.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),q.close()),Z})})},I.prototype._signinEnd=function(D){var j=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(Y){o.Log.debug("UserManager._signinEnd: got signin response");var q=new f.User(Y);if(Q.current_sub){if(Q.current_sub!==q.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",q.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return j.storeUser(q).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),j._events.load(q),q})})},I.prototype._signinCallback=function(D,j){o.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return j.callback(D,void 0,Q)},I.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var j=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;j&&(D.post_logout_redirect_uri=j);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},I.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(j){return o.Log.info("UserManager.signoutRedirectCallback: successful"),j})},I.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var j=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=j,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:j,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},I.prototype.signoutPopupCallback=function(D,j){return j===void 0&&typeof D=="boolean"&&(j=D,D=null),this._popupNavigator.callback(D,j,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},I.prototype._signout=function(D,j){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,j,Y).then(function(q){return Q._signoutEnd(q.url)})},I.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=this,Q=arguments[1],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(Y).then(function(q){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),j._loadUser().then(function(Z){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(j._settings.revokeAccessTokenOnSignout?j._revokeInternal(Z):Promise.resolve()).then(function(){var fe=D.id_token_hint||Z&&Z.id_token;return fe&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=fe),j.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),j.createSignoutRequest(D).then(function(te){return o.Log.debug("UserManager._signoutStart: got signout request"),Y.url=te.url,te.state&&(Y.id=te.state.id),q.navigate(Y)})})})}).catch(function(Z){throw q.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),q.close()),Z})})},I.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(j){return o.Log.debug("UserManager._signoutEnd: got signout response"),j})},I.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(j){return D._revokeInternal(j,!0).then(function(Q){if(Q)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),j.access_token=null,j.refresh_token=null,j.expires_at=null,j.token_type=null,D.storeUser(j).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(j)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},I.prototype._revokeInternal=function(D,j){var Q=this;if(D){var Y=D.access_token,q=D.refresh_token;return this._revokeAccessTokenInternal(Y,j).then(function(Z){return Q._revokeRefreshTokenInternal(q,j).then(function(fe){return Z||fe||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Z||fe})})}return Promise.resolve(!1)},I.prototype._revokeAccessTokenInternal=function(D,j){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,j).then(function(){return!0})},I.prototype._revokeRefreshTokenInternal=function(D,j){return D?this._tokenRevocationClient.revoke(D,j,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},I.prototype.startSilentRenew=function(){this._silentRenewService.start()},I.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},I.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(o.Log.debug("UserManager._loadUser: user storageString loaded"),f.User.fromStorageString(D)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},I.prototype.storeUser=function(D){if(D){o.Log.debug("UserManager.storeUser: storing user");var j=D.toStorageString();return this._userStore.set(this._userStoreKey,j)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(I,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),I}(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function b(S,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,x,E){return x&&b(S.prototype,x),E&&b(S,E),S}}(),o=(i(0),i(5)),s=i(40),c=i(41),f=i(43),h=i(6),p=i(1),m=i(8);function y(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function _(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?b:S}r.UserManagerSettings=function(b){function S(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=x.popup_redirect_uri,A=x.popup_post_logout_redirect_uri,I=x.popupWindowFeatures,M=x.popupWindowTarget,D=x.silent_redirect_uri,j=x.silentRequestTimeout,Q=x.automaticSilentRenew,Y=Q!==void 0&&Q,q=x.validateSubOnSilentRenew,Z=q!==void 0&&q,fe=x.includeIdTokenInSilentRenew,te=fe===void 0||fe,se=x.monitorSession,pe=se===void 0||se,be=x.monitorAnonymousSession,ce=be!==void 0&&be,le=x.checkSessionInterval,Oe=le===void 0?2e3:le,k=x.stopCheckSessionOnError,ne=k===void 0||k,me=x.query_status_response_type,H=x.revokeAccessTokenOnSignout,J=H!==void 0&&H,ge=x.accessTokenExpiringNotificationTime,Ae=ge===void 0?60:ge,Je=x.redirectNavigator,Re=Je===void 0?new s.RedirectNavigator:Je,Fe=x.popupNavigator,Xe=Fe===void 0?new c.PopupNavigator:Fe,ie=x.iframeNavigator,z=ie===void 0?new f.IFrameNavigator:ie,$=x.userStore,re=$===void 0?new h.WebStorageStateStore({store:p.Global.sessionStorage}):$;y(this,S);var W=_(this,b.call(this,arguments[0]));return W._popup_redirect_uri=E,W._popup_post_logout_redirect_uri=A,W._popupWindowFeatures=I,W._popupWindowTarget=M,W._silent_redirect_uri=D,W._silentRequestTimeout=j,W._automaticSilentRenew=Y,W._validateSubOnSilentRenew=Z,W._includeIdTokenInSilentRenew=te,W._accessTokenExpiringNotificationTime=Ae,W._monitorSession=pe,W._monitorAnonymousSession=ce,W._checkSessionInterval=Oe,W._stopCheckSessionOnError=ne,me?W._query_status_response_type=me:arguments[0]&&arguments[0].response_type?W._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=J,W._redirectNavigator=Re,W._popupNavigator=Xe,W._iframeNavigator=z,W._userStore=re,W}return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}(S,b),a(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(o.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&s(c.prototype,f),h&&s(c,h),c}}(),o=i(0);r.RedirectNavigator=function(){function s(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(f){return f&&f.url?(f.useReplaceToNavigate?window.location.replace(f.url):window.location=f.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),o=i(42);r.PopupNavigator=function(){function s(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(f){var h=new o.PopupWindow(f);return Promise.resolve(h)},s.prototype.callback=function(f,h,p){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(f,h,p),Promise.resolve()}catch(m){return Promise.reject(m)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function c(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}(),o=i(0),s=i(3);r.PopupWindow=function(){function c(f){var h=this;(function(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")})(this,c),this._promise=new Promise(function(y,_){h._resolve=y,h._reject=_});var p=f.popupWindowTarget||"_blank",m=f.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",p,m),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return c.prototype.navigate=function(h){return this._popup?h&&h.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=h.id,this._id&&(window["popupCallback_"+h.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=h.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},c.prototype._success=function(h){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(h)},c.prototype._error=function(h){o.Log.error("PopupWindow.error: ",h),this._cleanup(),this._reject(new Error(h))},c.prototype.close=function(){this._cleanup(!1)},c.prototype._cleanup=function(h){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!h&&this._popup.close(),this._popup=null},c.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},c.prototype._callback=function(h,p){this._cleanup(p),h?(o.Log.debug("PopupWindow.callback success"),this._success({url:h})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},c.notifyOpener=function(h,p,m){if(window.opener){if(h=h||window.location.href){var y=s.UrlUtility.parseUrlFragment(h,m);if(y.state){var _="popupCallback_"+y.state,b=window.opener[_];b?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),b(h,p)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(c,[{key:"promise",get:function(){return this._promise}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),o=i(44);r.IFrameNavigator=function(){function s(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(f){var h=new o.IFrameWindow(f);return Promise.resolve(h)},s.prototype.callback=function(f){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(f),Promise.resolve()}catch(h){return Promise.reject(h)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&s(c.prototype,f),h&&s(c,h),c}}(),o=i(0);r.IFrameWindow=function(){function s(c){var f=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(h,p){f._resolve=h,f._reject=p}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(f){if(f&&f.url){var h=f.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",h),this._timer=window.setTimeout(this._timeout.bind(this),h),this._frame.src=f.url}else this._error("No url provided");return this.promise},s.prototype._success=function(f){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(f)},s.prototype._error=function(f){this._cleanup(),o.Log.error(f),this._reject(new Error(f))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(f){if(o.Log.debug("IFrameWindow.message"),this._timer&&f.origin===this._origin&&f.source===this._frame.contentWindow&&typeof f.data=="string"&&(f.data.startsWith("http://")||f.data.startsWith("https://"))){var h=f.data;h?this._success({url:h}):this._error("Invalid response from frame")}},s.notifyParent=function(f){o.Log.debug("IFrameWindow.notifyParent"),(f=f||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(f,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),o=i(16),s=i(17);r.UserManagerEvents=function(c){function f(h){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,f);var p=function(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?y:_}(this,c.call(this,h));return p._userLoaded=new s.Event("User loaded"),p._userUnloaded=new s.Event("User unloaded"),p._silentRenewError=new s.Event("Silent renew error"),p._userSignedIn=new s.Event("User signed in"),p._userSignedOut=new s.Event("User signed out"),p._userSessionChanged=new s.Event("User session changed"),p}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(f,c),f.prototype.load=function(p){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),c.prototype.load.call(this,p),m&&this._userLoaded.raise(p)},f.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),c.prototype.unload.call(this),this._userUnloaded.raise()},f.prototype.addUserLoaded=function(p){this._userLoaded.addHandler(p)},f.prototype.removeUserLoaded=function(p){this._userLoaded.removeHandler(p)},f.prototype.addUserUnloaded=function(p){this._userUnloaded.addHandler(p)},f.prototype.removeUserUnloaded=function(p){this._userUnloaded.removeHandler(p)},f.prototype.addSilentRenewError=function(p){this._silentRenewError.addHandler(p)},f.prototype.removeSilentRenewError=function(p){this._silentRenewError.removeHandler(p)},f.prototype._raiseSilentRenewError=function(p){a.Log.debug("UserManagerEvents._raiseSilentRenewError",p.message),this._silentRenewError.raise(p)},f.prototype.addUserSignedIn=function(p){this._userSignedIn.addHandler(p)},f.prototype.removeUserSignedIn=function(p){this._userSignedIn.removeHandler(p)},f.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},f.prototype.addUserSignedOut=function(p){this._userSignedOut.addHandler(p)},f.prototype.removeUserSignedOut=function(p){this._userSignedOut.removeHandler(p)},f.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},f.prototype.addUserSessionChanged=function(p){this._userSessionChanged.addHandler(p)},f.prototype.removeUserSessionChanged=function(p){this._userSessionChanged.removeHandler(p)},f.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},f}(o.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function p(m,y){for(var _=0;_<y.length;_++){var b=y[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,y,_){return y&&p(m.prototype,y),_&&p(m,_),m}}(),o=i(0),s=i(1),c=i(17);function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}r.Timer=function(p){function m(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;f(this,m);var S=h(this,p.call(this,y));return S._timer=_,S._nowFunc=b||function(){return Date.now()/1e3},S}return function(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(m,p),m.prototype.init=function(_){_<=0&&(_=1),_=parseInt(_);var b=this.now+_;if(this.expiration===b&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",_),this._expiration=b;var S=5;_<S&&(S=_),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},m.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var _=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",_),this._expiration<=this.now&&(this.cancel(),p.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(c.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function o(s){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(c){}).catch(function(c){a.Log.error("SilentRenewService.start: Error from getUser:",c.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var c=this;this._userManager.signinSilent().then(function(f){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(f){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",f.message),c._userManager.events._raiseSilentRenewError(f)})},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function o(){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(c){var f=new a.CordovaPopupWindow(c);return Promise.resolve(f)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function o(){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(c){c.popupWindowFeatures="hidden=yes";var f=new a.CordovaPopupWindow(c);return Promise.resolve(f)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(b_)),b_.exports}var RC=iZ();function aZ(t,e){var n,r,i,a;throw t.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=t.error_description)!==null&&r!==void 0?r:""}`):t.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${(i=t.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${t.error} - ${(a=t.error_description)!==null&&a!==void 0?a:""}`)}function oZ(t,e){if(t.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(t.redirect_uris===void 0||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}async function sZ(t,e){var n;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=DQ(e.idTokenSigningAlgValuesSupported,W_),i={client_name:t.clientName,application_type:"web",redirect_uris:[(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},o=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(o.ok){const s=await o.json();return oZ(s,t),{clientId:s.client_id,clientSecret:s.client_secret,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&aZ(await o.json(),t),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function uZ(t){return t.error!==void 0&&typeof t.error=="string"}function iM(t){return t.error_description!==void 0&&typeof t.error_description=="string"}function lZ(t){return t.error_uri!==void 0&&typeof t.error_uri=="string"}function cZ(t){return t.access_token!==void 0&&typeof t.access_token=="string"}function fZ(t){return t.id_token!==void 0&&typeof t.id_token=="string"}function dZ(t){return t.refresh_token!==void 0&&typeof t.refresh_token=="string"}function hZ(t){return t.token_type!==void 0&&typeof t.token_type=="string"}function pZ(t){return t.expires_in===void 0||typeof t.expires_in=="number"}function gZ(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}function VU(t,e){if(uZ(t))throw new zU(`Token endpoint returned error [${t.error}]${iM(t)?`: ${t.error_description}`:""}${lZ(t)?` (see ${t.error_uri})`:""}`,t.error,iM(t)?t.error_description:void 0);if(!cZ(t))throw new pg(["access_token"]);if(!fZ(t))throw new pg(["id_token"]);if(!hZ(t))throw new pg(["token_type"]);if(!pZ(t))throw new pg(["expires_in"]);if(!e&&t.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${t.token_type}].`);return t}async function mZ(t,e,n,r){gZ(t,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await HQ(),i.DPoP=await BA(t.tokenEndpoint,"POST",a)),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:e.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},f=await(await fetch(t.tokenEndpoint,s)).json(),h=VU(f,r),{webId:p,clientId:m}=await NU(h.id_token,t.jwksUri,t.issuer,e.clientId);return{accessToken:h.access_token,idToken:h.id_token,refreshToken:dZ(h)?h.refresh_token:void 0,webId:p,clientId:m,dpopKey:a,expiresIn:h.expires_in}}const yZ=t=>{try{return new URL(t),!0}catch{return!1}};async function vZ(t,e,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:t,scope:kU};let a={};r!==void 0&&(a={DPoP:await BA(e.tokenEndpoint,"POST",r)});let o={};n.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:yZ(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let c;try{c=await s.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const f=VU(c,r!==void 0),{webId:h}=await NU(f.id_token,e.jwksUri,e.issuer,n.clientId);return{accessToken:f.access_token,idToken:f.id_token,refreshToken:typeof f.refresh_token=="string"?f.refresh_token:void 0,webId:h,dpopKey:r,expiresIn:f.expires_in}}function _Z(t){const e=jU(t);return e.hash="",t.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function wZ(){await new RC.OidcClient({response_mode:"query"}).clearStaleState(new RC.WebStorageStateStore({}));const e=window.localStorage,n=[];for(let r=0;r<=e.length;r+=1){const i=e.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>e.removeItem(r))}class bZ extends BQ{constructor(e,n){super(e,n)}}class SZ extends $Q{constructor(){super(...arguments),this.login=async(e,n)=>{var r,i;await this.sessionInfoManager.clear(e.sessionId);const a=(r=e.redirectUrl)!==null&&r!==void 0?r:_Z(window.location.href);if(!FU(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:a,clientName:(i=e.clientName)!==null&&i!==void 0?i:e.clientId,eventEmitter:n})},this.validateCurrentSession=async e=>{const n=await this.sessionInfoManager.get(e);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(e,n)=>{try{const r=await this.redirectHandler.handle(e,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(e),n.emit(ti.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(e){const n=jU(e).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function aM(t){return typeof t.oidcIssuer=="string"}function oM(t){return typeof t.redirectUrl=="string"}class xZ{constructor(e,n,r,i){this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(e){return aM(e)&&oM(e)}async handle(e){if(!aM(e))throw new AC(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!oM(e))throw new AC(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const n=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await jQ(e,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class EZ extends CQ{async handle(e){var n;const r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:kU,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=e.prompt)!==null&&n!==void 0?n:"consent"},i=new RC.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const TZ=".well-known/openid-configuration",sM={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function CZ(t){const e={};return Object.keys(t).forEach(n=>{sM[n]&&(e[sM[n].toKey]=t[n])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class qA{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let n;const r=new URL(TZ,e.endsWith("/")?e:`${e}/`).href,i=await fetch(r);try{n=CZ(await i.json())}catch(a){throw new AC(`[${e.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(qA.getLocalStorageKey(e),JSON.stringify(n)),n}}async function AZ(t,e){await UU(t,e),await wZ()}class RZ extends OQ{async get(e){const[n,r,i,a,o,s,c,f]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof o=="string"&&!FU(o)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(f!==void 0&&!MQ(f))throw new Error(`Tokens of type [${f}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:e,webId:r,isLoggedIn:n==="true",redirectUrl:o,refreshToken:s,issuer:c,clientAppId:i,clientAppSecret:a,tokenType:f??"DPoP"}}async clear(e){return AZ(e,this.storageUtility)}}class PZ{async canHandle(e){try{return new URL(e),!0}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e){return $U()}}class OZ{constructor(e,n,r,i,a){this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(e){try{const n=new URL(e);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const r=new URL(e),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:c,dpop:f}=await qU(a,this.storageUtility,this.issuerConfigFetcher),h=r.searchParams.get("iss");if(typeof h=="string"&&h!==o.issuer)throw new Error(`The value of the iss parameter (${h}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(c===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:a},o),m=Date.now(),y=await mZ(o,p,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:c},f);window.localStorage.removeItem(`oidc.${i}`);let _;y.refreshToken!==void 0&&(_={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const b=await QQ(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:_,eventEmitter:n,expiresIn:y.expiresIn});await UQ(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const S=await this.sessionInfoManager.get(a);if(!S)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(S,{fetch:b,getLogoutUrl:IQ({idTokenHint:y.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class LZ extends EQ{constructor(e){super(e)}}class IZ{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,n){this.storage.setItem(e,n)}async delete(e){this.storage.removeItem(e)}}class MZ{redirect(e,n){n&&n.handleRedirect?n.handleRedirect(e):n&&n.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class DZ{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,n){const[r,i,a,o]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]);if(r&&FQ(o))return{clientId:r,clientSecret:i,clientName:a,clientType:o};try{const s=await sZ(e,n),c={clientId:s.clientId,clientType:"dynamic"};return s.clientSecret&&(c.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(c.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,c,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class kZ{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(n!==void 0){const r=new URL(e),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ti.ERROR,i,a)}return $U()}}class NZ{constructor(e,n,r){this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(e,n,r,i){const a=await qU(e,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:e},a.issuerConfig);if(n===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await vZ(n,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(i==null||i.emit(ti.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function uM(t){const e=new qQ,n=t.secureStorage||e,r=t.insecureStorage||new IZ,i=new bZ(n,r),a=new qA(i),o=new DZ(i),s=new RZ(i),c=new NZ(i,a,o),f=new MZ,h=new xZ(i,new EZ(i,f),a,o),p=new LZ([new kZ,new OZ(i,s,a,o,c),new PZ]);return new SZ(h,p,new PQ(s,f),s,a)}const E1=`${DU}currentSession`,PC=`${DU}currentUrl`;async function FZ(t,e,n){var r;const i=await e.validateCurrentSession(t);return i!==null?(window.localStorage.setItem(PC,window.location.href),await e.login({sessionId:t,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function jZ(t){return!!(t!=null&&t.isLoggedIn)}class $Z{constructor(e={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(E1),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ti.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,o=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const s=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(jZ(s)){this.setSessionInfo(s);const c=window.localStorage.getItem(PC);c===null?this.events.emit(ti.LOGIN):(window.localStorage.removeItem(PC),this.events.emit(ti.SESSION_RESTORED,c))}else if(a.restorePreviousSession===!0){const c=window.localStorage.getItem(E1);if(c!==null&&await FZ(c,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,s},this.events=new nZ,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=uM({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=uM({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:n??eZ(),isLoggedIn:!1},this.events.on(ti.LOGIN,()=>window.localStorage.setItem(E1,this.info.sessionId)),this.events.on(ti.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ti.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(ti.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let T1;function pm(){return typeof T1>"u"&&(T1=new $Z),T1}const dr=(...t)=>pm().fetch(...t),UZ=(...t)=>pm().login(...t),BZ=(...t)=>pm().logout(...t),qZ=(...t)=>pm().handleIncomingRedirect(...t);var C1,lM;function zZ(){if(lM)return C1;lM=1;var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function c(_){return _.replace(e,"")}function f(_){return n.test(_)}function h(_,b){for(;f(_[b]);)b++;return b}function p(_){return a.test(_)||!o.test(_)}function m(_,b){return Object.keys(_).length===Object.keys(b).length&&Object.keys(_).every(S=>S in b&&_[S]===b[S])}class y{constructor(b){this.refs=[],b&&this.parse(b)}rel(b){for(var S=[],x=b.toLowerCase(),E=0;E<this.refs.length;E++)typeof this.refs[E].rel=="string"&&this.refs[E].rel.toLowerCase()===x&&S.push(this.refs[E]);return S}get(b,S){b=b.toLowerCase(),S=S.toLowerCase();for(var x=[],E=0;E<this.refs.length;E++)typeof this.refs[E][b]=="string"&&this.refs[E][b].toLowerCase()===S&&x.push(this.refs[E]);return x}set(b){return this.refs.push(b),this}setUnique(b){return this.refs.some(S=>m(S,b))||this.refs.push(b),this}has(b,S){b=b.toLowerCase(),S=S.toLowerCase();for(var x=0;x<this.refs.length;x++)if(typeof this.refs[x][b]=="string"&&this.refs[x][b].toLowerCase()===S)return!0;return!1}parse(b,A){A=A||0,b=A?b.slice(A):b,b=c(b).replace(r,"");for(var x=s.IDLE,E=b.length,A=0,I=null;A<E;)if(x===s.IDLE){if(f(b[A])){A++;continue}else if(b[A]==="<"){I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I));var M=b.indexOf(">",A);if(M===-1)throw new Error("Expected end of URI delimiter at offset "+A);I={uri:b.slice(A+1,M)},A=M,x=s.URI}else throw new Error('Unexpected character "'+b[A]+'" at offset '+A);A++}else if(x===s.URI)if(f(b[A])){A++;continue}else if(b[A]===";")x=s.ATTR,A++;else if(b[A]===",")x=s.IDLE,A++;else throw new Error('Unexpected character "'+b[A]+'" at offset '+A);else if(x===s.ATTR){if(b[A]===";"||f(b[A])){A++;continue}var M=b.indexOf("=",A);M===-1&&(M=b.indexOf(";",A)),M===-1&&(M=b.length);var D=c(b.slice(A,M)).toLowerCase(),j="";if(A=M+1,A=h(b,A),b[A]==='"')for(A++;A<E;){if(b[A]==='"'){A++;break}b[A]==="\\"&&A++,j+=b[A],A++}else{for(var M=A+1;!i.test(b[M])&&M<E;)M++;j=b.slice(A,M),A=M}switch(I[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?I[D]=y.parseExtendedValue(j):(j=D==="type"?j.toLowerCase():j,I[D]!=null?Array.isArray(I[D])?I[D].push(j):I[D]=[I[D],j]:I[D]=j)),b[A]){case",":x=s.IDLE;break;case";":x=s.ATTR;break}A++}else throw new Error('Unknown parser state "'+x+'"');return I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I)),I=null,this}toString(){for(var b=[],S="",x=null,E=0;E<this.refs.length;E++)x=this.refs[E],S=Object.keys(this.refs[E]).reduce(function(A,I){return I==="uri"?A:A+"; "+y.formatAttribute(I,x[I])},"<"+x.uri+">"),b.push(S);return b.join(", ")}}return y.isCompatibleEncoding=function(_){return t.test(_)},y.parse=function(_,b){return new y().parse(_,b)},y.isSingleOccurenceAttr=function(_){return _==="rel"||_==="type"||_==="media"||_==="title"||_==="title*"},y.isTokenAttr=function(_){return _==="rel"||_==="type"||_==="anchor"},y.escapeQuotes=function(_){return _.replace(/"/g,'\\"')},y.expandRelations=function(_){var b=_.rel.split(" ");return b.map(function(S){var x=Object.assign({},_);return x.rel=S,x})},y.parseExtendedValue=function(_){var b=/([^']+)?(?:'([^']*)')?(.+)/.exec(_);return{language:b[2].toLowerCase(),encoding:y.isCompatibleEncoding(b[1])?null:b[1].toLowerCase(),value:y.isCompatibleEncoding(b[1])?decodeURIComponent(b[3]):b[3]}},y.formatExtendedAttribute=function(_,b){var S=(b.encoding||"utf-8").toUpperCase(),x=b.language||"en",E="";return Buffer.isBuffer(b.value)&&y.isCompatibleEncoding(S)?E=b.value.toString(S):Buffer.isBuffer(b.value)?E=b.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):E=encodeURIComponent(b.value),_+"="+S+"'"+x+"'"+E},y.formatAttribute=function(_,b){return Array.isArray(b)?b.map(S=>y.formatAttribute(_,S)).join("; "):_[_.length-1]==="*"||typeof b!="string"?y.formatExtendedAttribute(_,b):(y.isTokenAttr(_)?b=p(b)?'"'+y.escapeQuotes(b)+'"':y.escapeQuotes(b):p(b)&&(b=encodeURIComponent(b),b=b.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),b='"'+b+'"'),_+"="+b)},C1=y,C1}var HZ=zZ();const VZ=Gr(HZ),ep="http://www.w3.org/1999/02/22-rdf-syntax-ns#",tp="http://www.w3.org/2001/XMLSchema#",A1="http://www.w3.org/2000/10/swap/",ji={xsd:{decimal:`${tp}decimal`,boolean:`${tp}boolean`,double:`${tp}double`,integer:`${tp}integer`,string:`${tp}string`},rdf:{type:`${ep}type`,nil:`${ep}nil`,first:`${ep}first`,rest:`${ep}rest`,langString:`${ep}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${A1}reify#forSome`,forAll:`${A1}reify#forAll`},log:{implies:`${A1}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var R1,cM;function KZ(){if(cM)return R1;cM=1;let t;return R1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:lg):e=>(t||(t=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),R1}var GZ=KZ();const KU=Gr(GZ),{xsd:Qy}=ji,WZ=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,fM={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},QZ=/[\x00-\x20<>\\"\{\}\|\^\`]/,ZZ={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},JZ=/$0^/;let zA=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in ZZ)&&this[n]instanceof RegExp&&(this[n]=JZ)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let s,c;for(;s=this._newline.exec(r);)this._comments&&(c=this._comment.exec(s[0]))&&a("comment",c[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(c=this._comment.exec(r))&&a("comment",c[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let p="",m="",y="",_=null,b=0,S=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(b=1,p="^");break}case"<":if(_=this._unescapedIri.exec(r))p="IRI",m=_[1];else if(_=this._iri.exec(r)){if(m=this._unescape(_[1]),m===null||QZ.test(m))return o(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",b=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",b=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",b=2);break;case"_":((_=this._blank.exec(r))||n&&(_=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return o(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return o(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(r))&&(p="var",m=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(r))?(p="langcode",m=_[1]):(_=this._keyword.exec(r))&&(p=_[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(r)||n&&(_=this._number.exec(`${r} `)))&&(p="literal",m=_[0],y=typeof _[1]=="string"?Qy.double:typeof _[2]=="string"?Qy.decimal:Qy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(r))?p=_[0].toUpperCase():S=!0;break;case"f":case"t":(_=this._boolean.exec(r))?(p="literal",m=_[0],y=Qy.boolean):S=!0;break;case"a":(_=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(b=1,m="="):(b=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",b=2):(p=h,b=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",b=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(r))?(p="prefix",m=_[1]||""):((_=this._prefixed.exec(r))||n&&(_=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=_[1]||"",m=this._unescape(_[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const x=b||_[0].length,E=a(p,m,y,f,x);this.previousToken=E,this._previousMarker=p,r=r.substr(x,r.length)}function a(s,c,f,h,p){const m=r?i-r.length:i,y=m+p,_={type:s,value:c,prefix:f,line:h,start:m,end:y};return e(null,_),_}function o(s){e(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(WZ,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let c=Number.parseInt(o,16);return c<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return s in fM?fM[s]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const o=e.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,c=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:c}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")KU(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}};function YZ(t){return!!t&&t.termType==="NamedNode"}function XZ(t){return!!t&&t.termType==="BlankNode"}function eJ(t){return!!t&&t.termType==="Literal"}function tJ(t){return!!t&&t.termType==="Variable"}function Rd(t){return!!t&&t.termType==="DefaultGraph"}function nJ(t){return Rd(t.graph)}function rJ(t,e){return GU({"":t.value||t},e)("")}function GU(t,e){const n=Object.create(null);for(const i in t)r(i,t[i]);e=e||_l;function r(i,a){if(typeof a=="string"){const o=Object.create(null);n[i]=s=>o[s]||(o[s]=e.namedNode(a+s))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const WU=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:nJ,isBlankNode:XZ,isDefaultGraph:Rd,isLiteral:eJ,isNamedNode:YZ,isVariable:tJ,prefix:rJ,prefixes:GU},Symbol.toStringTag,{value:"Module"})),{rdf:iJ,xsd:xc}=ji;let gm,aJ=0;const _l={namedNode:oJ,blankNode:sJ,variable:lJ,literal:uJ,defaultGraph:cJ,quad:dM,triple:dM};let ms=class QU{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof QU?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Hr=class extends ms{get termType(){return"NamedNode"}},od=class ZU extends ms{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new Hr(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?xc.string:iJ.langString}equals(e){return e instanceof ZU?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},HA=class extends ms{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},VA=class extends ms{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},KA=class extends ms{constructor(){return super(""),gm||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};gm=new KA;function Cc(t,e,n){if(e=e||_l,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===_l)return new od(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Cc(t[0],e,!0),Cc(t[1],e,!0),Cc(t[2],e,!0),t[3]&&Cc(t[3],e,!0))}function ia(t,e){if(typeof t=="string")return t;if(t instanceof ms&&t.termType!=="Quad")return t.id;if(!t)return gm.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==xc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[ia(t.subject,!0),ia(t.predicate,!0),ia(t.object,!0)];return Rd(t.graph)||n.push(ia(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Ro=class extends ms{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||gm}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function oJ(t){return new Hr(t)}function sJ(t){return new HA(t||`n3-${aJ++}`)}function uJ(t,e){if(typeof e=="string")return new od(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=xc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?xc.integer:xc.double:(n=xc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===xc.string?new od(`"${t}"`):new od(`"${t}"^^${n}`)}function lJ(t){return new VA(t)}function cJ(){return gm}function dM(t,e,n,r){return new Ro(t,e,n,r)}let hM=0,Hd=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&JU(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),c=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),c&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new zA({lineMode:c,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){hM=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=P1}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(s=e[++i+1],s){case"/":r+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+e.substring(o,i)+e.substr(i+1);case".":if(s=e[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=e.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${e.substr(i+1)}`;o=i+1}}}s=e[++i]}return r+e.substring(o)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${hM++}_`,this._prefixCallback=r||P1,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(o,s)=>{o?a=o:s&&i.push(s)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),a)throw a;return i}this._callback=n,this._lexer.tokenize(e,(i,a)=>{i!==null?(this._callback(i),this._callback=P1):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function P1(){}function JU(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(ji.rdf.first),t.RDF_REST=n(ji.rdf.rest),t.RDF_NIL=n(ji.rdf.nil),t.N3_FORALL=n(ji.r.forAll),t.N3_FORSOME=n(ji.r.forSome),t.ABBREVIATIONS={a:n(ji.rdf.type),"=":n(ji.owl.sameAs),">":n(ji.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}JU(Hd.prototype,_l);const np=_l.defaultGraph(),{rdf:fJ,xsd:$f}=ji,pM=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,gM=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,dJ={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let rp=class extends ms{equals(e){return e===this}},C0=class{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=np,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${yM(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return np.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(np.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),pM.test(n)&&(n=n.replace(gM,mM));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(pM.test(n)&&(n=n.replace(gM,mM)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===$f.string)return`"${n}"`}else switch(e.datatype.value){case $f.string:return`"${n}"`;case $f.boolean:if(n==="true"||n==="false")return n;break;case $f.integer:if(/^[+-]?\d+$/.test(n))return n;break;case $f.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case $f.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===fJ.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Rd(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,np,i):this._writeQuad(e,n,r,i||np,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=yM(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new rp("[]");case 1:if(i=r[0],!(i.object instanceof rp))return new rp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new rp(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new rp(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function mM(t){let e=dJ[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function yM(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var O1={exports:{}},L1={exports:{}},I1={},ip={},vM;function hJ(){if(vM)return ip;vM=1,ip.byteLength=s,ip.toByteArray=f,ip.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");b===-1&&(b=_);var S=b===_?0:4-b%4;return[b,S]}function s(y){var _=o(y),b=_[0],S=_[1];return(b+S)*3/4-S}function c(y,_,b){return(_+b)*3/4-b}function f(y){var _,b=o(y),S=b[0],x=b[1],E=new n(c(y,S,x)),A=0,I=x>0?S-4:S,M;for(M=0;M<I;M+=4)_=e[y.charCodeAt(M)]<<18|e[y.charCodeAt(M+1)]<<12|e[y.charCodeAt(M+2)]<<6|e[y.charCodeAt(M+3)],E[A++]=_>>16&255,E[A++]=_>>8&255,E[A++]=_&255;return x===2&&(_=e[y.charCodeAt(M)]<<2|e[y.charCodeAt(M+1)]>>4,E[A++]=_&255),x===1&&(_=e[y.charCodeAt(M)]<<10|e[y.charCodeAt(M+1)]<<4|e[y.charCodeAt(M+2)]>>2,E[A++]=_>>8&255,E[A++]=_&255),E}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,_,b){for(var S,x=[],E=_;E<b;E+=3)S=(y[E]<<16&16711680)+(y[E+1]<<8&65280)+(y[E+2]&255),x.push(h(S));return x.join("")}function m(y){for(var _,b=y.length,S=b%3,x=[],E=16383,A=0,I=b-S;A<I;A+=E)x.push(p(y,A,A+E>I?I:A+E));return S===1?(_=y[b-1],x.push(t[_>>2]+t[_<<4&63]+"==")):S===2&&(_=(y[b-2]<<8)+y[b-1],x.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),x.join("")}return ip}var Zy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var _M;function pJ(){return _M||(_M=1,Zy.read=function(t,e,n,r,i){var a,o,s=i*8-r-1,c=(1<<s)-1,f=c>>1,h=-7,p=n?i-1:0,m=n?-1:1,y=t[e+p];for(p+=m,a=y&(1<<-h)-1,y>>=-h,h+=s;h>0;a=a*256+t[e+p],p+=m,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=r;h>0;o=o*256+t[e+p],p+=m,h-=8);if(a===0)a=1-f;else{if(a===c)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-f}return(y?-1:1)*o*Math.pow(2,a-r)},Zy.write=function(t,e,n,r,i,a){var o,s,c,f=a*8-i-1,h=(1<<f)-1,p=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,_=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?e+=m/c:e+=m*Math.pow(2,1-p),e*c>=2&&(o++,c/=2),o+p>=h?(s=0,o=h):o+p>=1?(s=(e*c-1)*Math.pow(2,i),o=o+p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+y]=s&255,y+=_,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;t[n+y]=o&255,y+=_,o/=256,f-=8);t[n+y-_]|=b*128}),Zy}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var wM;function du(){return wM||(wM=1,function(t){const e=hJ(),n=pJ(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const X=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(X,B),X.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(X){if(X>i)throw new RangeError('The value "'+X+'" is invalid for option "size"');const B=new Uint8Array(X);return Object.setPrototypeOf(B,s.prototype),B}function s(X,B,K){if(typeof X=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(X)}return c(X,B,K)}s.poolSize=8192;function c(X,B,K){if(typeof X=="string")return m(X,B);if(ArrayBuffer.isView(X))return _(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(nt(X,ArrayBuffer)||X&&nt(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(X,SharedArrayBuffer)||X&&nt(X.buffer,SharedArrayBuffer)))return b(X,B,K);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=X.valueOf&&X.valueOf();if(V!=null&&V!==X)return s.from(V,B,K);const je=S(X);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return s.from(X[Symbol.toPrimitive]("string"),B,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}s.from=function(X,B,K){return c(X,B,K)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function h(X,B,K){return f(X),X<=0?o(X):B!==void 0?typeof K=="string"?o(X).fill(B,K):o(X).fill(B):o(X)}s.alloc=function(X,B,K){return h(X,B,K)};function p(X){return f(X),o(X<0?0:x(X)|0)}s.allocUnsafe=function(X){return p(X)},s.allocUnsafeSlow=function(X){return p(X)};function m(X,B){if((typeof B!="string"||B==="")&&(B="utf8"),!s.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const K=A(X,B)|0;let V=o(K);const je=V.write(X,B);return je!==K&&(V=V.slice(0,je)),V}function y(X){const B=X.length<0?0:x(X.length)|0,K=o(B);for(let V=0;V<B;V+=1)K[V]=X[V]&255;return K}function _(X){if(nt(X,Uint8Array)){const B=new Uint8Array(X);return b(B.buffer,B.byteOffset,B.byteLength)}return y(X)}function b(X,B,K){if(B<0||X.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<B+(K||0))throw new RangeError('"length" is outside of buffer bounds');let V;return B===void 0&&K===void 0?V=new Uint8Array(X):K===void 0?V=new Uint8Array(X,B):V=new Uint8Array(X,B,K),Object.setPrototypeOf(V,s.prototype),V}function S(X){if(s.isBuffer(X)){const B=x(X.length)|0,K=o(B);return K.length===0||X.copy(K,0,0,B),K}if(X.length!==void 0)return typeof X.length!="number"||gt(X.length)?o(0):y(X);if(X.type==="Buffer"&&Array.isArray(X.data))return y(X.data)}function x(X){if(X>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return X|0}function E(X){return+X!=X&&(X=0),s.alloc(+X)}s.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==s.prototype},s.compare=function(B,K){if(nt(B,Uint8Array)&&(B=s.from(B,B.offset,B.byteLength)),nt(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),!s.isBuffer(B)||!s.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===K)return 0;let V=B.length,je=K.length;for(let Ze=0,ke=Math.min(V,je);Ze<ke;++Ze)if(B[Ze]!==K[Ze]){V=B[Ze],je=K[Ze];break}return V<je?-1:je<V?1:0},s.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(B,K){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return s.alloc(0);let V;if(K===void 0)for(K=0,V=0;V<B.length;++V)K+=B[V].length;const je=s.allocUnsafe(K);let Ze=0;for(V=0;V<B.length;++V){let ke=B[V];if(nt(ke,Uint8Array))Ze+ke.length>je.length?(s.isBuffer(ke)||(ke=s.from(ke)),ke.copy(je,Ze)):Uint8Array.prototype.set.call(je,ke,Ze);else if(s.isBuffer(ke))ke.copy(je,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=ke.length}return je};function A(X,B){if(s.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||nt(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const K=X.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&K===0)return 0;let je=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return ye(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return Ne(X).length;default:if(je)return V?-1:ye(X).length;B=(""+B).toLowerCase(),je=!0}}s.byteLength=A;function I(X,B,K){let V=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,B>>>=0,K<=B))return"";for(X||(X="utf8");;)switch(X){case"hex":return Oe(this,B,K);case"utf8":case"utf-8":return se(this,B,K);case"ascii":return ce(this,B,K);case"latin1":case"binary":return le(this,B,K);case"base64":return te(this,B,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,B,K);default:if(V)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),V=!0}}s.prototype._isBuffer=!0;function M(X,B,K){const V=X[B];X[B]=X[K],X[K]=V}s.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<B;K+=2)M(this,K,K+1);return this},s.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<B;K+=4)M(this,K,K+3),M(this,K+1,K+2);return this},s.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<B;K+=8)M(this,K,K+7),M(this,K+1,K+6),M(this,K+2,K+5),M(this,K+3,K+4);return this},s.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?se(this,0,B):I.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(B){if(!s.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:s.compare(this,B)===0},s.prototype.inspect=function(){let B="";const K=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(B+=" ... "),"<Buffer "+B+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(B,K,V,je,Ze){if(nt(B,Uint8Array)&&(B=s.from(B,B.offset,B.byteLength)),!s.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(K===void 0&&(K=0),V===void 0&&(V=B?B.length:0),je===void 0&&(je=0),Ze===void 0&&(Ze=this.length),K<0||V>B.length||je<0||Ze>this.length)throw new RangeError("out of range index");if(je>=Ze&&K>=V)return 0;if(je>=Ze)return-1;if(K>=V)return 1;if(K>>>=0,V>>>=0,je>>>=0,Ze>>>=0,this===B)return 0;let ke=Ze-je,At=V-K;const Ot=Math.min(ke,At),Dt=this.slice(je,Ze),Rt=B.slice(K,V);for(let Bt=0;Bt<Ot;++Bt)if(Dt[Bt]!==Rt[Bt]){ke=Dt[Bt],At=Rt[Bt];break}return ke<At?-1:At<ke?1:0};function D(X,B,K,V,je){if(X.length===0)return-1;if(typeof K=="string"?(V=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,gt(K)&&(K=je?0:X.length-1),K<0&&(K=X.length+K),K>=X.length){if(je)return-1;K=X.length-1}else if(K<0)if(je)K=0;else return-1;if(typeof B=="string"&&(B=s.from(B,V)),s.isBuffer(B))return B.length===0?-1:j(X,B,K,V,je);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(X,B,K):Uint8Array.prototype.lastIndexOf.call(X,B,K):j(X,[B],K,V,je);throw new TypeError("val must be string, number or Buffer")}function j(X,B,K,V,je){let Ze=1,ke=X.length,At=B.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(X.length<2||B.length<2)return-1;Ze=2,ke/=2,At/=2,K/=2}function Ot(Rt,Bt){return Ze===1?Rt[Bt]:Rt.readUInt16BE(Bt*Ze)}let Dt;if(je){let Rt=-1;for(Dt=K;Dt<ke;Dt++)if(Ot(X,Dt)===Ot(B,Rt===-1?0:Dt-Rt)){if(Rt===-1&&(Rt=Dt),Dt-Rt+1===At)return Rt*Ze}else Rt!==-1&&(Dt-=Dt-Rt),Rt=-1}else for(K+At>ke&&(K=ke-At),Dt=K;Dt>=0;Dt--){let Rt=!0;for(let Bt=0;Bt<At;Bt++)if(Ot(X,Dt+Bt)!==Ot(B,Bt)){Rt=!1;break}if(Rt)return Dt}return-1}s.prototype.includes=function(B,K,V){return this.indexOf(B,K,V)!==-1},s.prototype.indexOf=function(B,K,V){return D(this,B,K,V,!0)},s.prototype.lastIndexOf=function(B,K,V){return D(this,B,K,V,!1)};function Q(X,B,K,V){K=Number(K)||0;const je=X.length-K;V?(V=Number(V),V>je&&(V=je)):V=je;const Ze=B.length;V>Ze/2&&(V=Ze/2);let ke;for(ke=0;ke<V;++ke){const At=parseInt(B.substr(ke*2,2),16);if(gt(At))return ke;X[K+ke]=At}return ke}function Y(X,B,K,V){return tt(ye(B,X.length-K),X,K,V)}function q(X,B,K,V){return tt(He(B),X,K,V)}function Z(X,B,K,V){return tt(Ne(B),X,K,V)}function fe(X,B,K,V){return tt(Te(B,X.length-K),X,K,V)}s.prototype.write=function(B,K,V,je){if(K===void 0)je="utf8",V=this.length,K=0;else if(V===void 0&&typeof K=="string")je=K,V=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(V)?(V=V>>>0,je===void 0&&(je="utf8")):(je=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ze=this.length-K;if((V===void 0||V>Ze)&&(V=Ze),B.length>0&&(V<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Q(this,B,K,V);case"utf8":case"utf-8":return Y(this,B,K,V);case"ascii":case"latin1":case"binary":return q(this,B,K,V);case"base64":return Z(this,B,K,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,B,K,V);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(X,B,K){return B===0&&K===X.length?e.fromByteArray(X):e.fromByteArray(X.slice(B,K))}function se(X,B,K){K=Math.min(X.length,K);const V=[];let je=B;for(;je<K;){const Ze=X[je];let ke=null,At=Ze>239?4:Ze>223?3:Ze>191?2:1;if(je+At<=K){let Ot,Dt,Rt,Bt;switch(At){case 1:Ze<128&&(ke=Ze);break;case 2:Ot=X[je+1],(Ot&192)===128&&(Bt=(Ze&31)<<6|Ot&63,Bt>127&&(ke=Bt));break;case 3:Ot=X[je+1],Dt=X[je+2],(Ot&192)===128&&(Dt&192)===128&&(Bt=(Ze&15)<<12|(Ot&63)<<6|Dt&63,Bt>2047&&(Bt<55296||Bt>57343)&&(ke=Bt));break;case 4:Ot=X[je+1],Dt=X[je+2],Rt=X[je+3],(Ot&192)===128&&(Dt&192)===128&&(Rt&192)===128&&(Bt=(Ze&15)<<18|(Ot&63)<<12|(Dt&63)<<6|Rt&63,Bt>65535&&Bt<1114112&&(ke=Bt))}}ke===null?(ke=65533,At=1):ke>65535&&(ke-=65536,V.push(ke>>>10&1023|55296),ke=56320|ke&1023),V.push(ke),je+=At}return be(V)}const pe=4096;function be(X){const B=X.length;if(B<=pe)return String.fromCharCode.apply(String,X);let K="",V=0;for(;V<B;)K+=String.fromCharCode.apply(String,X.slice(V,V+=pe));return K}function ce(X,B,K){let V="";K=Math.min(X.length,K);for(let je=B;je<K;++je)V+=String.fromCharCode(X[je]&127);return V}function le(X,B,K){let V="";K=Math.min(X.length,K);for(let je=B;je<K;++je)V+=String.fromCharCode(X[je]);return V}function Oe(X,B,K){const V=X.length;(!B||B<0)&&(B=0),(!K||K<0||K>V)&&(K=V);let je="";for(let Ze=B;Ze<K;++Ze)je+=Ut[X[Ze]];return je}function k(X,B,K){const V=X.slice(B,K);let je="";for(let Ze=0;Ze<V.length-1;Ze+=2)je+=String.fromCharCode(V[Ze]+V[Ze+1]*256);return je}s.prototype.slice=function(B,K){const V=this.length;B=~~B,K=K===void 0?V:~~K,B<0?(B+=V,B<0&&(B=0)):B>V&&(B=V),K<0?(K+=V,K<0&&(K=0)):K>V&&(K=V),K<B&&(K=B);const je=this.subarray(B,K);return Object.setPrototypeOf(je,s.prototype),je};function ne(X,B,K){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+B>K)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=this[B],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[B+ke]*Ze;return je},s.prototype.readUintBE=s.prototype.readUIntBE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=this[B+--K],Ze=1;for(;K>0&&(Ze*=256);)je+=this[B+--K]*Ze;return je},s.prototype.readUint8=s.prototype.readUInt8=function(B,K){return B=B>>>0,K||ne(B,1,this.length),this[B]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(B,K){return B=B>>>0,K||ne(B,2,this.length),this[B]|this[B+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(B,K){return B=B>>>0,K||ne(B,2,this.length),this[B]<<8|this[B+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},s.prototype.readBigUInt64LE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=K+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,Ze=this[++B]+this[++B]*2**8+this[++B]*2**16+V*2**24;return BigInt(je)+(BigInt(Ze)<<BigInt(32))}),s.prototype.readBigUInt64BE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=K*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],Ze=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+V;return(BigInt(je)<<BigInt(32))+BigInt(Ze)}),s.prototype.readIntLE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=this[B],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[B+ke]*Ze;return Ze*=128,je>=Ze&&(je-=Math.pow(2,8*K)),je},s.prototype.readIntBE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=K,Ze=1,ke=this[B+--je];for(;je>0&&(Ze*=256);)ke+=this[B+--je]*Ze;return Ze*=128,ke>=Ze&&(ke-=Math.pow(2,8*K)),ke},s.prototype.readInt8=function(B,K){return B=B>>>0,K||ne(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},s.prototype.readInt16LE=function(B,K){B=B>>>0,K||ne(B,2,this.length);const V=this[B]|this[B+1]<<8;return V&32768?V|4294901760:V},s.prototype.readInt16BE=function(B,K){B=B>>>0,K||ne(B,2,this.length);const V=this[B+1]|this[B]<<8;return V&32768?V|4294901760:V},s.prototype.readInt32LE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},s.prototype.readInt32BE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},s.prototype.readBigInt64LE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(V<<24);return(BigInt(je)<<BigInt(32))+BigInt(K+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),s.prototype.readBigInt64BE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=(K<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(je)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+V)}),s.prototype.readFloatLE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),n.read(this,B,!0,23,4)},s.prototype.readFloatBE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),n.read(this,B,!1,23,4)},s.prototype.readDoubleLE=function(B,K){return B=B>>>0,K||ne(B,8,this.length),n.read(this,B,!0,52,8)},s.prototype.readDoubleBE=function(B,K){return B=B>>>0,K||ne(B,8,this.length),n.read(this,B,!1,52,8)};function me(X,B,K,V,je,Ze){if(!s.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>je||B<Ze)throw new RangeError('"value" argument is out of bounds');if(K+V>X.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(B,K,V,je){if(B=+B,K=K>>>0,V=V>>>0,!je){const At=Math.pow(2,8*V)-1;me(this,B,K,V,At,0)}let Ze=1,ke=0;for(this[K]=B&255;++ke<V&&(Ze*=256);)this[K+ke]=B/Ze&255;return K+V},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(B,K,V,je){if(B=+B,K=K>>>0,V=V>>>0,!je){const At=Math.pow(2,8*V)-1;me(this,B,K,V,At,0)}let Ze=V-1,ke=1;for(this[K+Ze]=B&255;--Ze>=0&&(ke*=256);)this[K+Ze]=B/ke&255;return K+V},s.prototype.writeUint8=s.prototype.writeUInt8=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,1,255,0),this[K]=B&255,K+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,65535,0),this[K]=B&255,this[K+1]=B>>>8,K+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,65535,0),this[K]=B>>>8,this[K+1]=B&255,K+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,4294967295,0),this[K+3]=B>>>24,this[K+2]=B>>>16,this[K+1]=B>>>8,this[K]=B&255,K+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,4294967295,0),this[K]=B>>>24,this[K+1]=B>>>16,this[K+2]=B>>>8,this[K+3]=B&255,K+4};function H(X,B,K,V,je){z(B,V,je,X,K,7);let Ze=Number(B&BigInt(4294967295));X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze;let ke=Number(B>>BigInt(32)&BigInt(4294967295));return X[K++]=ke,ke=ke>>8,X[K++]=ke,ke=ke>>8,X[K++]=ke,ke=ke>>8,X[K++]=ke,K}function J(X,B,K,V,je){z(B,V,je,X,K,7);let Ze=Number(B&BigInt(4294967295));X[K+7]=Ze,Ze=Ze>>8,X[K+6]=Ze,Ze=Ze>>8,X[K+5]=Ze,Ze=Ze>>8,X[K+4]=Ze;let ke=Number(B>>BigInt(32)&BigInt(4294967295));return X[K+3]=ke,ke=ke>>8,X[K+2]=ke,ke=ke>>8,X[K+1]=ke,ke=ke>>8,X[K]=ke,K+8}s.prototype.writeBigUInt64LE=Se(function(B,K=0){return H(this,B,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Se(function(B,K=0){return J(this,B,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(B,K,V,je){if(B=+B,K=K>>>0,!je){const Ot=Math.pow(2,8*V-1);me(this,B,K,V,Ot-1,-Ot)}let Ze=0,ke=1,At=0;for(this[K]=B&255;++Ze<V&&(ke*=256);)B<0&&At===0&&this[K+Ze-1]!==0&&(At=1),this[K+Ze]=(B/ke>>0)-At&255;return K+V},s.prototype.writeIntBE=function(B,K,V,je){if(B=+B,K=K>>>0,!je){const Ot=Math.pow(2,8*V-1);me(this,B,K,V,Ot-1,-Ot)}let Ze=V-1,ke=1,At=0;for(this[K+Ze]=B&255;--Ze>=0&&(ke*=256);)B<0&&At===0&&this[K+Ze+1]!==0&&(At=1),this[K+Ze]=(B/ke>>0)-At&255;return K+V},s.prototype.writeInt8=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,1,127,-128),B<0&&(B=255+B+1),this[K]=B&255,K+1},s.prototype.writeInt16LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,32767,-32768),this[K]=B&255,this[K+1]=B>>>8,K+2},s.prototype.writeInt16BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,32767,-32768),this[K]=B>>>8,this[K+1]=B&255,K+2},s.prototype.writeInt32LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,2147483647,-2147483648),this[K]=B&255,this[K+1]=B>>>8,this[K+2]=B>>>16,this[K+3]=B>>>24,K+4},s.prototype.writeInt32BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[K]=B>>>24,this[K+1]=B>>>16,this[K+2]=B>>>8,this[K+3]=B&255,K+4},s.prototype.writeBigInt64LE=Se(function(B,K=0){return H(this,B,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Se(function(B,K=0){return J(this,B,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(X,B,K,V,je,Ze){if(K+V>X.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Ae(X,B,K,V,je){return B=+B,K=K>>>0,je||ge(X,B,K,4),n.write(X,B,K,V,23,4),K+4}s.prototype.writeFloatLE=function(B,K,V){return Ae(this,B,K,!0,V)},s.prototype.writeFloatBE=function(B,K,V){return Ae(this,B,K,!1,V)};function Je(X,B,K,V,je){return B=+B,K=K>>>0,je||ge(X,B,K,8),n.write(X,B,K,V,52,8),K+8}s.prototype.writeDoubleLE=function(B,K,V){return Je(this,B,K,!0,V)},s.prototype.writeDoubleBE=function(B,K,V){return Je(this,B,K,!1,V)},s.prototype.copy=function(B,K,V,je){if(!s.isBuffer(B))throw new TypeError("argument should be a Buffer");if(V||(V=0),!je&&je!==0&&(je=this.length),K>=B.length&&(K=B.length),K||(K=0),je>0&&je<V&&(je=V),je===V||B.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),B.length-K<je-V&&(je=B.length-K+V);const Ze=je-V;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,V,je):Uint8Array.prototype.set.call(B,this.subarray(V,je),K),Ze},s.prototype.fill=function(B,K,V,je){if(typeof B=="string"){if(typeof K=="string"?(je=K,K=0,V=this.length):typeof V=="string"&&(je=V,V=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!s.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(B.length===1){const ke=B.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(B=ke)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(K<0||this.length<K||this.length<V)throw new RangeError("Out of range index");if(V<=K)return this;K=K>>>0,V=V===void 0?this.length:V>>>0,B||(B=0);let Ze;if(typeof B=="number")for(Ze=K;Ze<V;++Ze)this[Ze]=B;else{const ke=s.isBuffer(B)?B:s.from(B,je),At=ke.length;if(At===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Ze=0;Ze<V-K;++Ze)this[Ze+K]=ke[Ze%At]}return this};const Re={};function Fe(X,B,K){Re[X]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(X,B){return`The "${X}" argument must be of type number. Received type ${typeof B}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(X,B,K){let V=`The value of "${X}" is out of range.`,je=K;return Number.isInteger(K)&&Math.abs(K)>2**32?je=Xe(String(K)):typeof K=="bigint"&&(je=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(je=Xe(je)),je+="n"),V+=` It must be ${B}. Received ${je}`,V},RangeError);function Xe(X){let B="",K=X.length;const V=X[0]==="-"?1:0;for(;K>=V+4;K-=3)B=`_${X.slice(K-3,K)}${B}`;return`${X.slice(0,K)}${B}`}function ie(X,B,K){$(B,"offset"),(X[B]===void 0||X[B+K]===void 0)&&re(B,X.length-(K+1))}function z(X,B,K,V,je,Ze){if(X>K||X<B){const ke=typeof B=="bigint"?"n":"";let At;throw B===0||B===BigInt(0)?At=`>= 0${ke} and < 2${ke} ** ${(Ze+1)*8}${ke}`:At=`>= -(2${ke} ** ${(Ze+1)*8-1}${ke}) and < 2 ** ${(Ze+1)*8-1}${ke}`,new Re.ERR_OUT_OF_RANGE("value",At,X)}ie(V,je,Ze)}function $(X,B){if(typeof X!="number")throw new Re.ERR_INVALID_ARG_TYPE(B,"number",X)}function re(X,B,K){throw Math.floor(X)!==X?($(X,K),new Re.ERR_OUT_OF_RANGE("offset","an integer",X)):B<0?new Re.ERR_BUFFER_OUT_OF_BOUNDS:new Re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,X)}const W=/[^+/0-9A-Za-z-_]/g;function he(X){if(X=X.split("=")[0],X=X.trim().replace(W,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function ye(X,B){B=B||1/0;let K;const V=X.length;let je=null;const Ze=[];for(let ke=0;ke<V;++ke){if(K=X.charCodeAt(ke),K>55295&&K<57344){if(!je){if(K>56319){(B-=3)>-1&&Ze.push(239,191,189);continue}else if(ke+1===V){(B-=3)>-1&&Ze.push(239,191,189);continue}je=K;continue}if(K<56320){(B-=3)>-1&&Ze.push(239,191,189),je=K;continue}K=(je-55296<<10|K-56320)+65536}else je&&(B-=3)>-1&&Ze.push(239,191,189);if(je=null,K<128){if((B-=1)<0)break;Ze.push(K)}else if(K<2048){if((B-=2)<0)break;Ze.push(K>>6|192,K&63|128)}else if(K<65536){if((B-=3)<0)break;Ze.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((B-=4)<0)break;Ze.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return Ze}function He(X){const B=[];for(let K=0;K<X.length;++K)B.push(X.charCodeAt(K)&255);return B}function Te(X,B){let K,V,je;const Ze=[];for(let ke=0;ke<X.length&&!((B-=2)<0);++ke)K=X.charCodeAt(ke),V=K>>8,je=K%256,Ze.push(je),Ze.push(V);return Ze}function Ne(X){return e.toByteArray(he(X))}function tt(X,B,K,V){let je;for(je=0;je<V&&!(je+K>=B.length||je>=X.length);++je)B[je+K]=X[je];return je}function nt(X,B){return X instanceof B||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===B.name}function gt(X){return X!==X}const Ut=function(){const X="0123456789abcdef",B=new Array(256);for(let K=0;K<16;++K){const V=K*16;for(let je=0;je<16;++je)B[V+je]=X[K]+X[je]}return B}();function Se(X){return typeof BigInt>"u"?Be:X}function Be(){throw new Error("BigInt not supported")}}(I1)),I1}var M1,bM;function jr(){return bM||(bM=1,M1={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array}),M1}var D1={exports:{}},ap={exports:{}},SM;function Bg(){if(SM)return ap.exports;SM=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return ap.exports=t,ap.exports.AbortSignal=e,ap.exports.default=t,ap.exports}var xM;function ua(){return xM||(xM=1,function(t){const e=du(),{kResistStopPropagation:n,SymbolDispose:r}=jr(),i=globalThis.AbortSignal||Bg().AbortSignal,a=globalThis.AbortController||Bg().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||e.Blob,c=typeof s<"u"?function(y){return y instanceof s}:function(y){return!1},f=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},h=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class p extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let _="";for(let b=0;b<y.length;b++)_+=`    ${y[b].stack}
`;super(_),this.name="AggregateError",this.errors=y}}t.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(..._){y||(y=!0,m.apply(this,_))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((b,S)=>{m=b,y=S}),resolve:m,reject:y}},promisify(m){return new Promise((y,_)=>{m((b,...S)=>b?_(b):y(...S))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[_,b]){const S=y.shift();return b==="f"?S.toFixed(6):b==="j"?JSON.stringify(S):b==="s"&&typeof S=="object"?`${S.constructor!==Object?S.constructor.name:""} {}`.trim():S.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof o},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:c,deprecate(m,y){return m},addAbortListener:zd().addAbortListener||function(y,_){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);f(y,"signal"),h(_,"listener");let b;return y.aborted?queueMicrotask(()=>_()):(y.addEventListener("abort",_,{__proto__:null,once:!0,[n]:!0}),b=()=>{y.removeEventListener("abort",_)}),{__proto__:null,[r](){var S;(S=b)===null||S===void 0||S()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const _=new a,b=()=>_.abort();return y.forEach(S=>{f(S,"signals"),S.addEventListener("abort",b,{once:!0})}),_.signal.addEventListener("abort",()=>{y.forEach(S=>S.removeEventListener("abort",b))},{once:!0}),_.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(D1)),D1.exports}var Jy={},k1,EM;function Ta(){if(EM)return k1;EM=1;const{format:t,inspect:e,AggregateError:n}=ua(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",c={};function f(S,x){if(!S)throw new c.ERR_INTERNAL_ASSERTION(x)}function h(S){let x="",E=S.length;const A=S[0]==="-"?1:0;for(;E>=A+4;E-=3)x=`_${S.slice(E-3,E)}${x}`;return`${S.slice(0,E)}${x}`}function p(S,x,E){if(typeof x=="function")return f(x.length<=E.length,`Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${x.length}).`),x(...E);const A=(x.match(/%[dfijoOs]/g)||[]).length;return f(A===E.length,`Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${A}).`),E.length===0?x:t(x,...E)}function m(S,x,E){E||(E=Error);class A extends E{constructor(...M){super(p(S,x,M))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=S,A.prototype[i]=!0,c[S]=A}function y(S){const x=s+S.name;return Object.defineProperty(S,"name",{value:x}),S}function _(S,x){if(S&&x&&S!==x){if(Array.isArray(x.errors))return x.errors.push(S),x;const E=new r([x,S],x.message);return E.code=x.code,E}return S||x}class b extends Error{constructor(x="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",E);super(x,E),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(S,x,E)=>{f(typeof S=="string","'name' must be a string"),Array.isArray(x)||(x=[x]);let A="The ";S.endsWith(" argument")?A+=`${S} `:A+=`"${S}" ${S.includes(".")?"property":"argument"} `,A+="must be ";const I=[],M=[],D=[];for(const Q of x)f(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?I.push(Q.toLowerCase()):o.test(Q)?M.push(Q):(f(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(M.length>0){const Q=I.indexOf("object");Q!==-1&&(I.splice(I,Q,1),M.push("Object"))}if(I.length>0){switch(I.length){case 1:A+=`of type ${I[0]}`;break;case 2:A+=`one of type ${I[0]} or ${I[1]}`;break;default:{const Q=I.pop();A+=`one of type ${I.join(", ")}, or ${Q}`}}(M.length>0||D.length>0)&&(A+=" or ")}if(M.length>0){switch(M.length){case 1:A+=`an instance of ${M[0]}`;break;case 2:A+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const Q=M.pop();A+=`an instance of ${M.join(", ")}, or ${Q}`}}D.length>0&&(A+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(A+="an "),A+=`${D[0]}`;break;case 2:A+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();A+=`one of ${D.join(", ")}, or ${Q}`}}if(E==null)A+=`. Received ${E}`;else if(typeof E=="function"&&E.name)A+=`. Received function ${E.name}`;else if(typeof E=="object"){var j;if((j=E.constructor)!==null&&j!==void 0&&j.name)A+=`. Received an instance of ${E.constructor.name}`;else{const Q=e(E,{depth:-1});A+=`. Received ${Q}`}}else{let Q=e(E,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),A+=`. Received type ${typeof E} (${Q})`}return A},TypeError),m("ERR_INVALID_ARG_VALUE",(S,x,E="is invalid")=>{let A=e(x);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${E}. Received ${A}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(S,x,E)=>{var A;const I=E!=null&&(A=E.constructor)!==null&&A!==void 0&&A.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${S} to be returned from the "${x}" function but got ${I}.`},TypeError),m("ERR_MISSING_ARGS",(...S)=>{f(S.length>0,"At least one arg needs to be specified");let x;const E=S.length;switch(S=(Array.isArray(S)?S:[S]).map(A=>`"${A}"`).join(" or "),E){case 1:x+=`The ${S[0]} argument`;break;case 2:x+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const A=S.pop();x+=`The ${S.join(", ")}, and ${A} arguments`}break}return`${x} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(S,x,E)=>{f(x,'Missing "range" argument');let A;return Number.isInteger(E)&&Math.abs(E)>2**32?A=h(String(E)):typeof E=="bigint"?(A=String(E),(E>2n**32n||E<-(2n**32n))&&(A=h(A)),A+="n"):A=e(E),`The value of "${S}" is out of range. It must be ${x}. Received ${A}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),k1={AbortError:b,aggregateTwoErrors:y(_),hideStackFrames:y,codes:c},k1}var N1,TM;function mm(){if(TM)return N1;TM=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:c,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=jr(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:A}}=Ta(),{normalizeEncoding:I}=ua(),{isAsyncFunction:M,isArrayBufferView:D}=ua().types,j={};function Q(Te){return Te===(Te|0)}function Y(Te){return Te===Te>>>0}const q=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function fe(Te,Ne,tt){if(typeof Te>"u"&&(Te=tt),typeof Te=="string"){if(h(q,Te)===null)throw new x(Ne,Te,Z);Te=c(Te,8)}return pe(Te,Ne),Te}const te=_((Te,Ne,tt=s,nt=o)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new E(Ne,`>= ${tt} && <= ${nt}`,Te)}),se=_((Te,Ne,tt=-2147483648,nt=2147483647)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new E(Ne,`>= ${tt} && <= ${nt}`,Te)}),pe=_((Te,Ne,tt=!1)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);const nt=tt?1:0,gt=4294967295;if(Te<nt||Te>gt)throw new E(Ne,`>= ${nt} && <= ${gt}`,Te)});function be(Te,Ne){if(typeof Te!="string")throw new S(Ne,"string",Te)}function ce(Te,Ne,tt=void 0,nt){if(typeof Te!="number")throw new S(Ne,"number",Te);if(tt!=null&&Te<tt||nt!=null&&Te>nt||(tt!=null||nt!=null)&&a(Te))throw new E(Ne,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Te)}const le=_((Te,Ne,tt)=>{if(!e(tt,Te)){const gt="must be one of: "+n(r(tt,Ut=>typeof Ut=="string"?`'${Ut}'`:p(Ut)),", ");throw new x(Ne,Te,gt)}});function Oe(Te,Ne){if(typeof Te!="boolean")throw new S(Ne,"boolean",Te)}function k(Te,Ne,tt){return Te==null||!f(Te,Ne)?tt:Te[Ne]}const ne=_((Te,Ne,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Te===null||!nt&&t(Te)||typeof Te!="object"&&(!gt||typeof Te!="function"))throw new S(Ne,"Object",Te)}),me=_((Te,Ne)=>{if(Te!=null&&typeof Te!="object"&&typeof Te!="function")throw new S(Ne,"a dictionary",Te)}),H=_((Te,Ne,tt=0)=>{if(!t(Te))throw new S(Ne,"Array",Te);if(Te.length<tt){const nt=`must be longer than ${tt}`;throw new x(Ne,Te,nt)}});function J(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)be(Te[tt],`${Ne}[${tt}]`)}function ge(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)Oe(Te[tt],`${Ne}[${tt}]`)}function Ae(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++){const nt=Te[tt],gt=`${Ne}[${tt}]`;if(nt==null)throw new S(gt,"AbortSignal",nt);ie(nt,gt)}}function Je(Te,Ne="signal"){if(be(Te,Ne),j[Te]===void 0)throw j[m(Te)]!==void 0?new A(Te+" (signals must use all capital letters)"):new A(Te)}const Re=_((Te,Ne="buffer")=>{if(!D(Te))throw new S(Ne,["Buffer","TypedArray","DataView"],Te)});function Fe(Te,Ne){const tt=I(Ne),nt=Te.length;if(tt==="hex"&&nt%2!==0)throw new x("encoding",Ne,`is invalid for data of length ${nt}`)}function Xe(Te,Ne="Port",tt=!0){if(typeof Te!="number"&&typeof Te!="string"||typeof Te=="string"&&y(Te).length===0||+Te!==+Te>>>0||Te>65535||Te===0&&!tt)throw new b(Ne,Te,tt);return Te|0}const ie=_((Te,Ne)=>{if(Te!==void 0&&(Te===null||typeof Te!="object"||!("aborted"in Te)))throw new S(Ne,"AbortSignal",Te)}),z=_((Te,Ne)=>{if(typeof Te!="function")throw new S(Ne,"Function",Te)}),$=_((Te,Ne)=>{if(typeof Te!="function"||M(Te))throw new S(Ne,"Function",Te)}),re=_((Te,Ne)=>{if(Te!==void 0)throw new S(Ne,"undefined",Te)});function W(Te,Ne,tt){if(!e(tt,Te))throw new S(Ne,`('${n(tt,"|")}')`,Te)}const he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Te,Ne){if(typeof Te>"u"||!h(he,Te))throw new x(Ne,Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Te){if(typeof Te=="string")return ye(Te,"hints"),Te;if(t(Te)){const Ne=Te.length;let tt="";if(Ne===0)return tt;for(let nt=0;nt<Ne;nt++){const gt=Te[nt];ye(gt,"hints"),tt+=gt,nt!==Ne-1&&(tt+=", ")}return tt}throw new x("hints",Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return N1={isInt32:Q,isUint32:Y,parseFileMode:fe,validateArray:H,validateStringArray:J,validateBooleanArray:ge,validateAbortSignalArray:Ae,validateBoolean:Oe,validateBuffer:Re,validateDictionary:me,validateEncoding:Fe,validateFunction:z,validateInt32:se,validateInteger:te,validateNumber:ce,validateObject:ne,validateOneOf:le,validatePlainFunction:$,validatePort:Xe,validateSignalName:Je,validateString:be,validateUint32:pe,validateUndefined:re,validateUnion:W,validateAbortSignal:ie,validateLinkHeaderValue:He},N1}var Yy={exports:{}},F1={exports:{}},CM;function Zc(){if(CM)return F1.exports;CM=1;var t=F1.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(b){if(e===setTimeout)return setTimeout(b,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(b,0);try{return e(b,0)}catch{try{return e.call(null,b,0)}catch{return e.call(this,b,0)}}}function o(b){if(n===clearTimeout)return clearTimeout(b);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(b);try{return n(b)}catch{try{return n.call(null,b)}catch{return n.call(this,b)}}}var s=[],c=!1,f,h=-1;function p(){!c||!f||(c=!1,f.length?s=f.concat(s):h=-1,s.length&&m())}function m(){if(!c){var b=a(p);c=!0;for(var S=s.length;S;){for(f=s,s=[];++h<S;)f&&f[h].run();h=-1,S=s.length}f=null,c=!1,o(b)}}t.nextTick=function(b){var S=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)S[x-1]=arguments[x];s.push(new y(b,S)),s.length===1&&!c&&a(m)};function y(b,S){this.fun=b,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function _(){}return t.on=_,t.addListener=_,t.once=_,t.off=_,t.removeListener=_,t.removeAllListeners=_,t.emit=_,t.prependListener=_,t.prependOnceListener=_,t.listeners=function(b){return[]},t.binding=function(b){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(b){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},F1.exports}var j1,AM;function hu(){if(AM)return j1;AM=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=jr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),c=n("nodejs.webstream.isClosedPromise"),f=n("nodejs.webstream.controllerErrorFunction");function h(k,ne=!1){var me;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ne||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((me=k._readableState)===null||me===void 0?void 0:me.readable)!==!1)&&(!k._writableState||k._readableState))}function p(k){var ne;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ne=k._writableState)===null||ne===void 0?void 0:ne.writable)!==!1))}function m(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function _(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function b(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function S(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function x(k){return _(k)||b(k)||S(k)}function E(k,ne){return k==null?!1:ne===!0?typeof k[t]=="function":ne===!1?typeof k[e]=="function":typeof k[t]=="function"||typeof k[e]=="function"}function A(k){if(!y(k))return null;const ne=k._writableState,me=k._readableState,H=ne||me;return!!(k.destroyed||k[r]||H!=null&&H.destroyed)}function I(k){if(!p(k))return null;if(k.writableEnded===!0)return!0;const ne=k._writableState;return ne!=null&&ne.errored?!1:typeof(ne==null?void 0:ne.ended)!="boolean"?null:ne.ended}function M(k,ne){if(!p(k))return null;if(k.writableFinished===!0)return!0;const me=k._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.finished)!="boolean"?null:!!(me.finished||ne===!1&&me.ended===!0&&me.length===0)}function D(k){if(!h(k))return null;if(k.readableEnded===!0)return!0;const ne=k._readableState;return!ne||ne.errored?!1:typeof(ne==null?void 0:ne.ended)!="boolean"?null:ne.ended}function j(k,ne){if(!h(k))return null;const me=k._readableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.endEmitted)!="boolean"?null:!!(me.endEmitted||ne===!1&&me.ended===!0&&me.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:A(k)?!1:h(k)&&k.readable&&!j(k)}function Y(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.writable)!="boolean"?null:A(k)?!1:p(k)&&k.writable&&!I(k)}function q(k,ne){return y(k)?A(k)?!0:!((ne==null?void 0:ne.readable)!==!1&&Q(k)||(ne==null?void 0:ne.writable)!==!1&&Y(k)):null}function Z(k){var ne,me;return y(k)?k.writableErrored?k.writableErrored:(ne=(me=k._writableState)===null||me===void 0?void 0:me.errored)!==null&&ne!==void 0?ne:null:null}function fe(k){var ne,me;return y(k)?k.readableErrored?k.readableErrored:(ne=(me=k._readableState)===null||me===void 0?void 0:me.errored)!==null&&ne!==void 0?ne:null:null}function te(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ne=k._writableState,me=k._readableState;return typeof(ne==null?void 0:ne.closed)=="boolean"||typeof(me==null?void 0:me.closed)=="boolean"?(ne==null?void 0:ne.closed)||(me==null?void 0:me.closed):typeof k._closed=="boolean"&&se(k)?k._closed:null}function se(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function pe(k){return typeof k._sent100=="boolean"&&se(k)}function be(k){var ne;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ne=k.req)===null||ne===void 0?void 0:ne.upgradeOrConnect)===void 0}function ce(k){if(!y(k))return null;const ne=k._writableState,me=k._readableState,H=ne||me;return!H&&pe(k)||!!(H&&H.autoDestroy&&H.emitClose&&H.closed===!1)}function le(k){var ne;return!!(k&&((ne=k[s])!==null&&ne!==void 0?ne:k.readableDidRead||k.readableAborted))}function Oe(k){var ne,me,H,J,ge,Ae,Je,Re,Fe,Xe;return!!(k&&((ne=(me=(H=(J=(ge=(Ae=k[i])!==null&&Ae!==void 0?Ae:k.readableErrored)!==null&&ge!==void 0?ge:k.writableErrored)!==null&&J!==void 0?J:(Je=k._readableState)===null||Je===void 0?void 0:Je.errorEmitted)!==null&&H!==void 0?H:(Re=k._writableState)===null||Re===void 0?void 0:Re.errorEmitted)!==null&&me!==void 0?me:(Fe=k._readableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&ne!==void 0?ne:!((Xe=k._writableState)===null||Xe===void 0)&&Xe.errored))}return j1={isDestroyed:A,kIsDestroyed:r,isDisturbed:le,kIsDisturbed:s,isErrored:Oe,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:c,kControllerErrorFunction:f,kIsWritable:o,isClosed:te,isDuplexNodeStream:m,isFinished:q,isIterable:E,isReadableNodeStream:h,isReadableStream:_,isReadableEnded:D,isReadableFinished:j,isReadableErrored:fe,isNodeStream:y,isWebStream:x,isWritable:Y,isWritableNodeStream:p,isWritableStream:b,isWritableEnded:I,isWritableFinished:M,isWritableErrored:Z,isServerRequest:be,isServerResponse:pe,willEmitClose:ce,isTransformStream:S},j1}var RM;function El(){if(RM)return Yy.exports;RM=1;const t=Zc(),{AbortError:e,codes:n}=Ta(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=ua(),{validateAbortSignal:s,validateFunction:c,validateObject:f,validateBoolean:h}=mm(),{Promise:p,PromisePrototypeThen:m,SymbolDispose:y}=jr(),{isClosed:_,isReadable:b,isReadableNodeStream:S,isReadableStream:x,isReadableFinished:E,isReadableErrored:A,isWritable:I,isWritableNodeStream:M,isWritableStream:D,isWritableFinished:j,isWritableErrored:Q,isNodeStream:Y,willEmitClose:q,kIsClosedPromise:Z}=hu();let fe;function te(le){return le.setHeader&&typeof le.abort=="function"}const se=()=>{};function pe(le,Oe,k){var ne,me;if(arguments.length===2?(k=Oe,Oe=a):Oe==null?Oe=a:f(Oe,"options"),c(k,"callback"),s(Oe.signal,"options.signal"),k=o(k),x(le)||D(le))return be(le,Oe,k);if(!Y(le))throw new r("stream",["ReadableStream","WritableStream","Stream"],le);const H=(ne=Oe.readable)!==null&&ne!==void 0?ne:S(le),J=(me=Oe.writable)!==null&&me!==void 0?me:M(le),ge=le._writableState,Ae=le._readableState,Je=()=>{le.writable||Xe()};let Re=q(le)&&S(le)===H&&M(le)===J,Fe=j(le,!1);const Xe=()=>{Fe=!0,le.destroyed&&(Re=!1),!(Re&&(!le.readable||H))&&(!H||ie)&&k.call(le)};let ie=E(le,!1);const z=()=>{ie=!0,le.destroyed&&(Re=!1),!(Re&&(!le.writable||J))&&(!J||Fe)&&k.call(le)},$=Te=>{k.call(le,Te)};let re=_(le);const W=()=>{re=!0;const Te=Q(le)||A(le);if(Te&&typeof Te!="boolean")return k.call(le,Te);if(H&&!ie&&S(le,!0)&&!E(le,!1))return k.call(le,new i);if(J&&!Fe&&!j(le,!1))return k.call(le,new i);k.call(le)},he=()=>{re=!0;const Te=Q(le)||A(le);if(Te&&typeof Te!="boolean")return k.call(le,Te);k.call(le)},ye=()=>{le.req.on("finish",Xe)};te(le)?(le.on("complete",Xe),Re||le.on("abort",W),le.req?ye():le.on("request",ye)):J&&!ge&&(le.on("end",Je),le.on("close",Je)),!Re&&typeof le.aborted=="boolean"&&le.on("aborted",W),le.on("end",z),le.on("finish",Xe),Oe.error!==!1&&le.on("error",$),le.on("close",W),re?t.nextTick(W):ge!=null&&ge.errorEmitted||Ae!=null&&Ae.errorEmitted?Re||t.nextTick(he):(!H&&(!Re||b(le))&&(Fe||I(le)===!1)||!J&&(!Re||I(le))&&(ie||b(le)===!1)||Ae&&le.req&&le.aborted)&&t.nextTick(he);const He=()=>{k=se,le.removeListener("aborted",W),le.removeListener("complete",Xe),le.removeListener("abort",W),le.removeListener("request",ye),le.req&&le.req.removeListener("finish",Xe),le.removeListener("end",Je),le.removeListener("close",Je),le.removeListener("finish",Xe),le.removeListener("end",z),le.removeListener("error",$),le.removeListener("close",W)};if(Oe.signal&&!re){const Te=()=>{const Ne=k;He(),Ne.call(le,new e(void 0,{cause:Oe.signal.reason}))};if(Oe.signal.aborted)t.nextTick(Te);else{fe=fe||ua().addAbortListener;const Ne=fe(Oe.signal,Te),tt=k;k=o((...nt)=>{Ne[y](),tt.apply(le,nt)})}}return He}function be(le,Oe,k){let ne=!1,me=se;if(Oe.signal)if(me=()=>{ne=!0,k.call(le,new e(void 0,{cause:Oe.signal.reason}))},Oe.signal.aborted)t.nextTick(me);else{fe=fe||ua().addAbortListener;const J=fe(Oe.signal,me),ge=k;k=o((...Ae)=>{J[y](),ge.apply(le,Ae)})}const H=(...J)=>{ne||t.nextTick(()=>k.apply(le,J))};return m(le[Z].promise,H,H),se}function ce(le,Oe){var k;let ne=!1;return Oe===null&&(Oe=a),(k=Oe)!==null&&k!==void 0&&k.cleanup&&(h(Oe.cleanup,"cleanup"),ne=Oe.cleanup),new p((me,H)=>{const J=pe(le,Oe,ge=>{ne&&J(),ge?H(ge):me()})})}return Yy.exports=pe,Yy.exports.finished=ce,Yy.exports}var $1,PM;function Vd(){if(PM)return $1;PM=1;const t=Zc(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Ta(),{Symbol:i}=jr(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:c}=hu(),f=i("kDestroy"),h=i("kConstruct");function p(q,Z,fe){q&&(q.stack,Z&&!Z.errored&&(Z.errored=q),fe&&!fe.errored&&(fe.errored=q))}function m(q,Z){const fe=this._readableState,te=this._writableState,se=te||fe;return te!=null&&te.destroyed||fe!=null&&fe.destroyed?(typeof Z=="function"&&Z(),this):(p(q,te,fe),te&&(te.destroyed=!0),fe&&(fe.destroyed=!0),se.constructed?y(this,q,Z):this.once(f,function(pe){y(this,e(pe,q),Z)}),this)}function y(q,Z,fe){let te=!1;function se(pe){if(te)return;te=!0;const be=q._readableState,ce=q._writableState;p(pe,ce,be),ce&&(ce.closed=!0),be&&(be.closed=!0),typeof fe=="function"&&fe(pe),pe?t.nextTick(_,q,pe):t.nextTick(b,q)}try{q._destroy(Z||null,se)}catch(pe){se(pe)}}function _(q,Z){S(q,Z),b(q)}function b(q){const Z=q._readableState,fe=q._writableState;fe&&(fe.closeEmitted=!0),Z&&(Z.closeEmitted=!0),(fe!=null&&fe.emitClose||Z!=null&&Z.emitClose)&&q.emit("close")}function S(q,Z){const fe=q._readableState,te=q._writableState;te!=null&&te.errorEmitted||fe!=null&&fe.errorEmitted||(te&&(te.errorEmitted=!0),fe&&(fe.errorEmitted=!0),q.emit("error",Z))}function x(){const q=this._readableState,Z=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),Z&&(Z.constructed=!0,Z.destroyed=!1,Z.closed=!1,Z.closeEmitted=!1,Z.errored=null,Z.errorEmitted=!1,Z.finalCalled=!1,Z.prefinished=!1,Z.ended=Z.writable===!1,Z.ending=Z.writable===!1,Z.finished=Z.writable===!1)}function E(q,Z,fe){const te=q._readableState,se=q._writableState;if(se!=null&&se.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||se!=null&&se.autoDestroy?q.destroy(Z):Z&&(Z.stack,se&&!se.errored&&(se.errored=Z),te&&!te.errored&&(te.errored=Z),fe?t.nextTick(S,q,Z):S(q,Z))}function A(q,Z){if(typeof q._construct!="function")return;const fe=q._readableState,te=q._writableState;fe&&(fe.constructed=!1),te&&(te.constructed=!1),q.once(h,Z),!(q.listenerCount(h)>1)&&t.nextTick(I,q)}function I(q){let Z=!1;function fe(te){if(Z){E(q,te??new n);return}Z=!0;const se=q._readableState,pe=q._writableState,be=pe||se;se&&(se.constructed=!0),pe&&(pe.constructed=!0),be.destroyed?q.emit(f,te):te?E(q,te,!0):t.nextTick(M,q)}try{q._construct(te=>{t.nextTick(fe,te)})}catch(te){t.nextTick(fe,te)}}function M(q){q.emit(h)}function D(q){return(q==null?void 0:q.setHeader)&&typeof q.abort=="function"}function j(q){q.emit("close")}function Q(q,Z){q.emit("error",Z),t.nextTick(j,q)}function Y(q,Z){!q||o(q)||(!Z&&!s(q)&&(Z=new r),c(q)?(q.socket=null,q.destroy(Z)):D(q)?q.abort():D(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy(Z):typeof q.close=="function"?q.close():Z?t.nextTick(Q,q,Z):t.nextTick(j,q),q.destroyed||(q[a]=!0))}return $1={construct:A,destroyer:Y,destroy:m,undestroy:x,errorOrDestroy:E},$1}var U1,OM;function GA(){if(OM)return U1;OM=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=jr(),{EventEmitter:n}=zd();function r(a){n.call(this,a)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(a,o){const s=this;function c(b){a.writable&&a.write(b)===!1&&s.pause&&s.pause()}s.on("data",c);function f(){s.readable&&s.resume&&s.resume()}a.on("drain",f),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",p),s.on("close",m));let h=!1;function p(){h||(h=!0,a.end())}function m(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function y(b){_(),n.listenerCount(this,"error")===0&&this.emit("error",b)}i(s,"error",y),i(a,"error",y);function _(){s.removeListener("data",c),a.removeListener("drain",f),s.removeListener("end",p),s.removeListener("close",m),s.removeListener("error",y),a.removeListener("error",y),s.removeListener("end",_),s.removeListener("close",_),a.removeListener("close",_)}return s.on("end",_),s.on("close",_),a.on("close",_),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):t(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return U1={Stream:r,prependListener:i},U1}var B1={exports:{}},LM;function A0(){return LM||(LM=1,function(t){const{SymbolDispose:e}=jr(),{AbortError:n,codes:r}=Ta(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=hu(),s=El(),{ERR_INVALID_ARG_TYPE:c}=r;let f;const h=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new c(m,"AbortSignal",p)};t.exports.addAbortSignal=function(m,y){if(h(m,"signal"),!i(y)&&!a(y))throw new c("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[o](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{f=f||ua().addAbortListener;const _=f(p,y);s(m,_[e])}return m}}(B1)),B1.exports}var q1,IM;function gJ(){if(IM)return q1;IM=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=jr(),{Buffer:i}=du(),{inspect:a}=ua();return q1=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const c={data:s,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(s){const c={data:s,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let c=this.head,f=""+c.data;for(;(c=c.next)!==null;)f+=s+c.data;return f}concat(s){if(this.length===0)return i.alloc(0);const c=i.allocUnsafe(s>>>0);let f=this.head,h=0;for(;f;)n(c,f.data,h),h+=f.data.length,f=f.next;return c}consume(s,c){const f=this.head.data;if(s<f.length){const h=f.slice(0,s);return this.head.data=f.slice(s),h}return s===f.length?this.shift():c?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[e](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let c="",f=this.head,h=0;do{const p=f.data;if(s>p.length)c+=p,s-=p.length;else{s===p.length?(c+=p,++h,f.next?this.head=f.next:this.head=this.tail=null):(c+=t(p,0,s),this.head=f,f.data=t(p,s));break}++h}while((f=f.next)!==null);return this.length-=h,c}_getBuffer(s){const c=i.allocUnsafe(s),f=s;let h=this.head,p=0;do{const m=h.data;if(s>m.length)n(c,m,f-s),s-=m.length;else{s===m.length?(n(c,m,f-s),++p,h.next?this.head=h.next:this.head=this.tail=null):(n(c,new r(m.buffer,m.byteOffset,s),f-s),this.head=h,h.data=m.slice(s));break}++p}while((h=h.next)!==null);return this.length-=p,c}[Symbol.for("nodejs.util.inspect.custom")](s,c){return a(this,{...c,depth:0,customInspect:!1})}},q1}var z1,MM;function R0(){if(MM)return z1;MM=1;const{MathFloor:t,NumberIsInteger:e}=jr(),{validateInteger:n}=mm(),{ERR_INVALID_ARG_VALUE:r}=Ta().codes;let i=16*1024,a=16;function o(h,p,m){return h.highWaterMark!=null?h.highWaterMark:p?h[m]:null}function s(h){return h?a:i}function c(h,p){n(p,"value",0),h?a=p:i=p}function f(h,p,m,y){const _=o(p,y,m);if(_!=null){if(!e(_)||_<0){const b=y?`options.${m}`:"options.highWaterMark";throw new r(b,_)}return t(_)}return s(h.objectMode)}return z1={getHighWaterMark:f,getDefaultHighWaterMark:s,setDefaultHighWaterMark:c},z1}var H1={},Xy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var DM;function mJ(){return DM||(DM=1,function(t,e){var n=du(),r=n.Buffer;function i(o,s){for(var c in o)s[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a);function a(o,s,c){return r(o,s,c)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,c)},a.alloc=function(o,s,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=r(o);return s!==void 0?typeof c=="string"?f.fill(s,c):f.fill(s):f.fill(0),f},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(Xy,Xy.exports)),Xy.exports}var kM;function yJ(){if(kM)return H1;kM=1;var t=mJ().Buffer,e=t.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(x){if(!x)return"utf8";for(var E;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(E)return;x=(""+x).toLowerCase(),E=!0}}function r(x){var E=n(x);if(typeof E!="string"&&(t.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return E||x}H1.StringDecoder=i;function i(x){this.encoding=r(x);var E;switch(this.encoding){case"utf16le":this.text=p,this.end=m,E=4;break;case"utf8":this.fillLast=c,E=4;break;case"base64":this.text=y,this.end=_,E=3;break;default:this.write=b,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(E)}i.prototype.write=function(x){if(x.length===0)return"";var E,A;if(this.lastNeed){if(E=this.fillLast(x),E===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<x.length?E?E+this.text(x,A):this.text(x,A):E||""},i.prototype.end=h,i.prototype.text=f,i.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function a(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,E,A){var I=E.length-1;if(I<A)return 0;var M=a(E[I]);return M>=0?(M>0&&(x.lastNeed=M-1),M):--I<A||M===-2?0:(M=a(E[I]),M>=0?(M>0&&(x.lastNeed=M-2),M):--I<A||M===-2?0:(M=a(E[I]),M>=0?(M>0&&(M===2?M=0:x.lastNeed=M-3),M):0))}function s(x,E,A){if((E[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return x.lastNeed=2,"�"}}function c(x){var E=this.lastTotal-this.lastNeed,A=s(this,x);if(A!==void 0)return A;if(this.lastNeed<=x.length)return x.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,E,0,x.length),this.lastNeed-=x.length}function f(x,E){var A=o(this,x,E);if(!this.lastNeed)return x.toString("utf8",E);this.lastTotal=A;var I=x.length-(A-this.lastNeed);return x.copy(this.lastChar,0,I),x.toString("utf8",E,I)}function h(x){var E=x&&x.length?this.write(x):"";return this.lastNeed?E+"�":E}function p(x,E){if((x.length-E)%2===0){var A=x.toString("utf16le",E);if(A){var I=A.charCodeAt(A.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",E,x.length-1)}function m(x){var E=x&&x.length?this.write(x):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,A)}return E}function y(x,E){var A=(x.length-E)%3;return A===0?x.toString("base64",E):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",E,x.length-A))}function _(x){var E=x&&x.length?this.write(x):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function b(x){return x.toString(this.encoding)}function S(x){return x&&x.length?this.write(x):""}return H1}var V1,NM;function YU(){if(NM)return V1;NM=1;const t=Zc(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=jr(),{Buffer:i}=du(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Ta().codes;function s(c,f,h){let p;if(typeof f=="string"||f instanceof i)return new c({objectMode:!0,...h,read(){this.push(f),this.push(null)}});let m;if(f&&f[n])m=!0,p=f[n]();else if(f&&f[r])m=!1,p=f[r]();else throw new a("iterable",["Iterable"],f);const y=new c({objectMode:!0,highWaterMark:1,...h});let _=!1;y._read=function(){_||(_=!0,S())},y._destroy=function(x,E){e(b(x),()=>t.nextTick(E,x),A=>t.nextTick(E,A||x))};async function b(x){const E=x!=null,A=typeof p.throw=="function";if(E&&A){const{value:I,done:M}=await p.throw(x);if(await I,M)return}if(typeof p.return=="function"){const{value:I}=await p.return();await I}}async function S(){for(;;){try{const{value:x,done:E}=m?await p.next():p.next();if(E)y.push(null);else{const A=x&&typeof x.then=="function"?await x:x;if(A===null)throw _=!1,new o;if(y.push(A))continue;_=!1}}catch(x){y.destroy(x)}break}}return y}return V1=s,V1}var K1,FM;function P0(){if(FM)return K1;FM=1;const t=Zc(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:c,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:m}=jr();K1=nt,nt.ReadableState=tt;const{EventEmitter:y}=zd(),{Stream:_,prependListener:b}=GA(),{Buffer:S}=du(),{addAbortSignal:x}=A0(),E=El();let A=ua().debuglog("stream",Le=>{A=Le});const I=gJ(),M=Vd(),{getHighWaterMark:D,getDefaultHighWaterMark:j}=R0(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:Z,ERR_STREAM_PUSH_AFTER_EOF:fe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te},AbortError:se}=Ta(),{validateObject:pe}=mm(),be=m("kPaused"),{StringDecoder:ce}=yJ(),le=YU();s(nt.prototype,_.prototype),s(nt,_);const Oe=()=>{},{errorOrDestroy:k}=M,ne=1,me=2,H=4,J=8,ge=16,Ae=32,Je=64,Re=128,Fe=256,Xe=512,ie=1024,z=2048,$=4096,re=8192,W=16384,he=32768,ye=65536,He=1<<17,Te=1<<18;function Ne(Le){return{enumerable:!1,get(){return(this.state&Le)!==0},set(qe){qe?this.state|=Le:this.state&=~Le}}}a(tt.prototype,{objectMode:Ne(ne),ended:Ne(me),endEmitted:Ne(H),reading:Ne(J),constructed:Ne(ge),sync:Ne(Ae),needReadable:Ne(Je),emittedReadable:Ne(Re),readableListening:Ne(Fe),resumeScheduled:Ne(Xe),errorEmitted:Ne(ie),emitClose:Ne(z),autoDestroy:Ne($),destroyed:Ne(re),closed:Ne(W),closeEmitted:Ne(he),multiAwaitDrain:Ne(ye),readingMore:Ne(He),dataEmitted:Ne(Te)});function tt(Le,qe,wt){typeof wt!="boolean"&&(wt=qe instanceof cu()),this.state=z|$|ge|Ae,Le&&Le.objectMode&&(this.state|=ne),wt&&Le&&Le.readableObjectMode&&(this.state|=ne),this.highWaterMark=Le?D(this,Le,"readableHighWaterMark",wt):j(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[be]=null,Le&&Le.emitClose===!1&&(this.state&=~z),Le&&Le.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Le&&Le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Le&&Le.encoding&&(this.decoder=new ce(Le.encoding),this.encoding=Le.encoding)}function nt(Le){if(!(this instanceof nt))return new nt(Le);const qe=this instanceof cu();this._readableState=new tt(Le,this,qe),Le&&(typeof Le.read=="function"&&(this._read=Le.read),typeof Le.destroy=="function"&&(this._destroy=Le.destroy),typeof Le.construct=="function"&&(this._construct=Le.construct),Le.signal&&!qe&&x(Le.signal,this)),_.call(this,Le),M.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=M.destroy,nt.prototype._undestroy=M.undestroy,nt.prototype._destroy=function(Le,qe){qe(Le)},nt.prototype[y.captureRejectionSymbol]=function(Le){this.destroy(Le)},nt.prototype[h]=function(){let Le;return this.destroyed||(Le=this.readableEnded?null:new se,this.destroy(Le)),new c((qe,wt)=>E(this,xt=>xt&&xt!==Le?wt(xt):qe(null)))},nt.prototype.push=function(Le,qe){return gt(this,Le,qe,!1)},nt.prototype.unshift=function(Le,qe){return gt(this,Le,qe,!0)};function gt(Le,qe,wt,xt){A("readableAddChunk",qe);const Lt=Le._readableState;let zn;if(Lt.state&ne||(typeof qe=="string"?(wt=wt||Lt.defaultEncoding,Lt.encoding!==wt&&(xt&&Lt.encoding?qe=S.from(qe,wt).toString(Lt.encoding):(qe=S.from(qe,wt),wt=""))):qe instanceof S?wt="":_._isUint8Array(qe)?(qe=_._uint8ArrayToBuffer(qe),wt=""):qe!=null&&(zn=new Y("chunk",["string","Buffer","Uint8Array"],qe))),zn)k(Le,zn);else if(qe===null)Lt.state&=~J,B(Le,Lt);else if(Lt.state&ne||qe&&qe.length>0)if(xt)if(Lt.state&H)k(Le,new te);else{if(Lt.destroyed||Lt.errored)return!1;Ut(Le,Lt,qe,!0)}else if(Lt.ended)k(Le,new fe);else{if(Lt.destroyed||Lt.errored)return!1;Lt.state&=~J,Lt.decoder&&!wt?(qe=Lt.decoder.write(qe),Lt.objectMode||qe.length!==0?Ut(Le,Lt,qe,!1):je(Le,Lt)):Ut(Le,Lt,qe,!1)}else xt||(Lt.state&=~J,je(Le,Lt));return!Lt.ended&&(Lt.length<Lt.highWaterMark||Lt.length===0)}function Ut(Le,qe,wt,xt){qe.flowing&&qe.length===0&&!qe.sync&&Le.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Le.emit("data",wt)):(qe.length+=qe.objectMode?1:wt.length,xt?qe.buffer.unshift(wt):qe.buffer.push(wt),qe.state&Je&&K(Le)),je(Le,qe)}nt.prototype.isPaused=function(){const Le=this._readableState;return Le[be]===!0||Le.flowing===!1},nt.prototype.setEncoding=function(Le){const qe=new ce(Le);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const wt=this._readableState.buffer;let xt="";for(const Lt of wt)xt+=qe.write(Lt);return wt.clear(),xt!==""&&wt.push(xt),this._readableState.length=xt.length,this};const Se=1073741824;function Be(Le){if(Le>Se)throw new Z("size","<= 1GiB",Le);return Le--,Le|=Le>>>1,Le|=Le>>>2,Le|=Le>>>4,Le|=Le>>>8,Le|=Le>>>16,Le++,Le}function X(Le,qe){return Le<=0||qe.length===0&&qe.ended?0:qe.state&ne?1:r(Le)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Le<=qe.length?Le:qe.ended?qe.length:0}nt.prototype.read=function(Le){A("read",Le),Le===void 0?Le=NaN:n(Le)||(Le=i(Le,10));const qe=this._readableState,wt=Le;if(Le>qe.highWaterMark&&(qe.highWaterMark=Be(Le)),Le!==0&&(qe.state&=~Re),Le===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?hr(this):K(this),null;if(Le=X(Le,qe),Le===0&&qe.ended)return qe.length===0&&hr(this),null;let xt=(qe.state&Je)!==0;if(A("need readable",xt),(qe.length===0||qe.length-Le<qe.highWaterMark)&&(xt=!0,A("length less than watermark",xt)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)xt=!1,A("reading, ended or constructing",xt);else if(xt){A("do read"),qe.state|=J|Ae,qe.length===0&&(qe.state|=Je);try{this._read(qe.highWaterMark)}catch(zn){k(this,zn)}qe.state&=~Ae,qe.reading||(Le=X(wt,qe))}let Lt;return Le>0?Lt=dn(Le,qe):Lt=null,Lt===null?(qe.needReadable=qe.length<=qe.highWaterMark,Le=0):(qe.length-=Le,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),wt!==Le&&qe.ended&&hr(this)),Lt!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",Lt)),Lt};function B(Le,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const wt=qe.decoder.end();wt&&wt.length&&(qe.buffer.push(wt),qe.length+=qe.objectMode?1:wt.length)}qe.ended=!0,qe.sync?K(Le):(qe.needReadable=!1,qe.emittedReadable=!0,V(Le))}}function K(Le){const qe=Le._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,t.nextTick(V,Le))}function V(Le){const qe=Le._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Le.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,Bt(Le)}function je(Le,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,t.nextTick(Ze,Le,qe))}function Ze(Le,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const wt=qe.length;if(A("maybeReadMore read 0"),Le.read(0),wt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Le){throw new q("_read()")},nt.prototype.pipe=function(Le,qe){const wt=this,xt=this._readableState;xt.pipes.length===1&&(xt.multiAwaitDrain||(xt.multiAwaitDrain=!0,xt.awaitDrainWriters=new f(xt.awaitDrainWriters?[xt.awaitDrainWriters]:[]))),xt.pipes.push(Le),A("pipe count=%d opts=%j",xt.pipes.length,qe);const zn=(!qe||qe.end!==!1)&&Le!==t.stdout&&Le!==t.stderr?We:qt;xt.endEmitted?t.nextTick(zn):wt.once("end",zn),Le.on("unpipe",Jn);function Jn(Nt,en){A("onunpipe"),Nt===wt&&en&&en.hasUnpiped===!1&&(en.hasUnpiped=!0,ft())}function We(){A("onend"),Le.end()}let Ee,et=!1;function ft(){A("cleanup"),Le.removeListener("close",Vt),Le.removeListener("finish",Yt),Ee&&Le.removeListener("drain",Ee),Le.removeListener("error",It),Le.removeListener("unpipe",Jn),wt.removeListener("end",We),wt.removeListener("end",qt),wt.removeListener("data",Et),et=!0,Ee&&xt.awaitDrainWriters&&(!Le._writableState||Le._writableState.needDrain)&&Ee()}function it(){et||(xt.pipes.length===1&&xt.pipes[0]===Le?(A("false write response, pause",0),xt.awaitDrainWriters=Le,xt.multiAwaitDrain=!1):xt.pipes.length>1&&xt.pipes.includes(Le)&&(A("false write response, pause",xt.awaitDrainWriters.size),xt.awaitDrainWriters.add(Le)),wt.pause()),Ee||(Ee=ke(wt,Le),Le.on("drain",Ee))}wt.on("data",Et);function Et(Nt){A("ondata");const en=Le.write(Nt);A("dest.write",en),en===!1&&it()}function It(Nt){if(A("onerror",Nt),qt(),Le.removeListener("error",It),Le.listenerCount("error")===0){const en=Le._writableState||Le._readableState;en&&!en.errorEmitted?k(Le,Nt):Le.emit("error",Nt)}}b(Le,"error",It);function Vt(){Le.removeListener("finish",Yt),qt()}Le.once("close",Vt);function Yt(){A("onfinish"),Le.removeListener("close",Vt),qt()}Le.once("finish",Yt);function qt(){A("unpipe"),wt.unpipe(Le)}return Le.emit("pipe",wt),Le.writableNeedDrain===!0?it():xt.flowing||(A("pipe resume"),wt.resume()),Le};function ke(Le,qe){return function(){const xt=Le._readableState;xt.awaitDrainWriters===qe?(A("pipeOnDrain",1),xt.awaitDrainWriters=null):xt.multiAwaitDrain&&(A("pipeOnDrain",xt.awaitDrainWriters.size),xt.awaitDrainWriters.delete(qe)),(!xt.awaitDrainWriters||xt.awaitDrainWriters.size===0)&&Le.listenerCount("data")&&Le.resume()}}nt.prototype.unpipe=function(Le){const qe=this._readableState,wt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Le){const Lt=qe.pipes;qe.pipes=[],this.pause();for(let zn=0;zn<Lt.length;zn++)Lt[zn].emit("unpipe",this,{hasUnpiped:!1});return this}const xt=e(qe.pipes,Le);return xt===-1?this:(qe.pipes.splice(xt,1),qe.pipes.length===0&&this.pause(),Le.emit("unpipe",this,wt),this)},nt.prototype.on=function(Le,qe){const wt=_.prototype.on.call(this,Le,qe),xt=this._readableState;return Le==="data"?(xt.readableListening=this.listenerCount("readable")>0,xt.flowing!==!1&&this.resume()):Le==="readable"&&!xt.endEmitted&&!xt.readableListening&&(xt.readableListening=xt.needReadable=!0,xt.flowing=!1,xt.emittedReadable=!1,A("on readable",xt.length,xt.reading),xt.length?K(this):xt.reading||t.nextTick(Ot,this)),wt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Le,qe){const wt=_.prototype.removeListener.call(this,Le,qe);return Le==="readable"&&t.nextTick(At,this),wt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Le){const qe=_.prototype.removeAllListeners.apply(this,arguments);return(Le==="readable"||Le===void 0)&&t.nextTick(At,this),qe};function At(Le){const qe=Le._readableState;qe.readableListening=Le.listenerCount("readable")>0,qe.resumeScheduled&&qe[be]===!1?qe.flowing=!0:Le.listenerCount("data")>0?Le.resume():qe.readableListening||(qe.flowing=null)}function Ot(Le){A("readable nexttick read 0"),Le.read(0)}nt.prototype.resume=function(){const Le=this._readableState;return Le.flowing||(A("resume"),Le.flowing=!Le.readableListening,Dt(this,Le)),Le[be]=!1,this};function Dt(Le,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,t.nextTick(Rt,Le,qe))}function Rt(Le,qe){A("resume",qe.reading),qe.reading||Le.read(0),qe.resumeScheduled=!1,Le.emit("resume"),Bt(Le),qe.flowing&&!qe.reading&&Le.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[be]=!0,this};function Bt(Le){const qe=Le._readableState;for(A("flow",qe.flowing);qe.flowing&&Le.read()!==null;);}nt.prototype.wrap=function(Le){let qe=!1;Le.on("data",xt=>{!this.push(xt)&&Le.pause&&(qe=!0,Le.pause())}),Le.on("end",()=>{this.push(null)}),Le.on("error",xt=>{k(this,xt)}),Le.on("close",()=>{this.destroy()}),Le.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Le.resume&&(qe=!1,Le.resume())};const wt=o(Le);for(let xt=1;xt<wt.length;xt++){const Lt=wt[xt];this[Lt]===void 0&&typeof Le[Lt]=="function"&&(this[Lt]=Le[Lt].bind(Le))}return this},nt.prototype[p]=function(){return Er(this)},nt.prototype.iterator=function(Le){return Le!==void 0&&pe(Le,"options"),Er(this,Le)};function Er(Le,qe){typeof Le.read!="function"&&(Le=nt.wrap(Le,{objectMode:!0}));const wt=fn(Le,qe);return wt.stream=Le,wt}async function*fn(Le,qe){let wt=Oe;function xt(Jn){this===Le?(wt(),wt=Oe):wt=Jn}Le.on("readable",xt);let Lt;const zn=E(Le,{writable:!1},Jn=>{Lt=Jn?Q(Lt,Jn):null,wt(),wt=Oe});try{for(;;){const Jn=Le.destroyed?null:Le.read();if(Jn!==null)yield Jn;else{if(Lt)throw Lt;if(Lt===null)return;await new c(xt)}}}catch(Jn){throw Lt=Q(Lt,Jn),Lt}finally{(Lt||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(Lt===void 0||Le._readableState.autoDestroy)?M.destroyer(Le,null):(Le.off("readable",xt),zn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Le=this._readableState;return!!Le&&Le.readable!==!1&&!Le.destroyed&&!Le.errorEmitted&&!Le.endEmitted},set(Le){this._readableState&&(this._readableState.readable=!!Le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Le){this._readableState&&(this._readableState.flowing=Le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Le){this._readableState&&(this._readableState.destroyed=Le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[be]!==!1},set(Le){this[be]=!!Le}}}),nt._fromList=dn;function dn(Le,qe){if(qe.length===0)return null;let wt;return qe.objectMode?wt=qe.buffer.shift():!Le||Le>=qe.length?(qe.decoder?wt=qe.buffer.join(""):qe.buffer.length===1?wt=qe.buffer.first():wt=qe.buffer.concat(qe.length),qe.buffer.clear()):wt=qe.buffer.consume(Le,qe.decoder),wt}function hr(Le){const qe=Le._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,t.nextTick(sn,qe,Le))}function sn(Le,qe){if(A("endReadableNT",Le.endEmitted,Le.length),!Le.errored&&!Le.closeEmitted&&!Le.endEmitted&&Le.length===0){if(Le.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)t.nextTick(un,qe);else if(Le.autoDestroy){const wt=qe._writableState;(!wt||wt.autoDestroy&&(wt.finished||wt.writable===!1))&&qe.destroy()}}}function un(Le){Le.writable&&!Le.writableEnded&&!Le.destroyed&&Le.end()}nt.from=function(Le,qe){return le(nt,Le,qe)};let Ln;function or(){return Ln===void 0&&(Ln={}),Ln}return nt.fromWeb=function(Le,qe){return or().newStreamReadableFromReadableStream(Le,qe)},nt.toWeb=function(Le,qe){return or().newReadableStreamFromStreamReadable(Le,qe)},nt.wrap=function(Le,qe){var wt,xt;return new nt({objectMode:(wt=(xt=Le.readableObjectMode)!==null&&xt!==void 0?xt:Le.objectMode)!==null&&wt!==void 0?wt:!0,...qe,destroy(Lt,zn){M.destroyer(Le,Lt),zn(Lt)}}).wrap(Le)},K1}var G1,jM;function WA(){if(jM)return G1;jM=1;const t=Zc(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:c,SymbolHasInstance:f}=jr();G1=pe,pe.WritableState=te;const{EventEmitter:h}=zd(),p=GA().Stream,{Buffer:m}=du(),y=Vd(),{addAbortSignal:_}=A0(),{getHighWaterMark:b,getDefaultHighWaterMark:S}=R0(),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:Y}=Ta().codes,{errorOrDestroy:q}=y;o(pe.prototype,p.prototype),o(pe,p);function Z(){}const fe=c("kOnFinished");function te($,re,W){typeof W!="boolean"&&(W=re instanceof cu()),this.objectMode=!!($&&$.objectMode),W&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?b(this,$,"writableHighWaterMark",W):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!($&&$.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,re),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,se(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[fe]=[]}function se($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}te.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe($){const re=this instanceof cu();if(!re&&!r(pe,this))return new pe($);this._writableState=new te($,this,re),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&_($.signal,this)),p.call(this,$),y.construct(this,()=>{const W=this._writableState;W.writing||J(this,W),Re(this,W)})}i(pe,f,{__proto__:null,value:function($){return r(this,$)?!0:this!==pe?!1:$&&$._writableState instanceof te}}),pe.prototype.pipe=function(){q(this,new I)};function be($,re,W,he){const ye=$._writableState;if(typeof W=="function")he=W,W=ye.defaultEncoding;else{if(!W)W=ye.defaultEncoding;else if(W!=="buffer"&&!m.isEncoding(W))throw new Y(W);typeof he!="function"&&(he=Z)}if(re===null)throw new j;if(!ye.objectMode)if(typeof re=="string")ye.decodeStrings!==!1&&(re=m.from(re,W),W="buffer");else if(re instanceof m)W="buffer";else if(p._isUint8Array(re))re=p._uint8ArrayToBuffer(re),W="buffer";else throw new x("chunk",["string","Buffer","Uint8Array"],re);let He;return ye.ending?He=new Q:ye.destroyed&&(He=new M("write")),He?(t.nextTick(he,He),q($,He,!0),He):(ye.pendingcb++,ce($,ye,re,W,he))}pe.prototype.write=function($,re,W){return be(this,$,re,W)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||J(this,$))},pe.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=s(re)),!m.isEncoding(re))throw new Y(re);return this._writableState.defaultEncoding=re,this};function ce($,re,W,he,ye){const He=re.objectMode?1:W.length;re.length+=He;const Te=re.length<re.highWaterMark;return Te||(re.needDrain=!0),re.writing||re.corked||re.errored||!re.constructed?(re.buffered.push({chunk:W,encoding:he,callback:ye}),re.allBuffers&&he!=="buffer"&&(re.allBuffers=!1),re.allNoop&&ye!==Z&&(re.allNoop=!1)):(re.writelen=He,re.writecb=ye,re.writing=!0,re.sync=!0,$._write(W,he,re.onwrite),re.sync=!1),Te&&!re.errored&&!re.destroyed}function le($,re,W,he,ye,He,Te){re.writelen=he,re.writecb=Te,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):W?$._writev(ye,re.onwrite):$._write(ye,He,re.onwrite),re.sync=!1}function Oe($,re,W,he){--re.pendingcb,he(W),H(re),q($,W)}function k($,re){const W=$._writableState,he=W.sync,ye=W.writecb;if(typeof ye!="function"){q($,new A);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,re?(re.stack,W.errored||(W.errored=re),$._readableState&&!$._readableState.errored&&($._readableState.errored=re),he?t.nextTick(Oe,$,W,re,ye):Oe($,W,re,ye)):(W.buffered.length>W.bufferedIndex&&J($,W),he?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===ye?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:ye,stream:$,state:W},t.nextTick(ne,W.afterWriteTickInfo)):me($,W,1,ye))}function ne({stream:$,state:re,count:W,cb:he}){return re.afterWriteTickInfo=null,me($,re,W,he)}function me($,re,W,he){for(!re.ending&&!$.destroyed&&re.length===0&&re.needDrain&&(re.needDrain=!1,$.emit("drain"));W-- >0;)re.pendingcb--,he();re.destroyed&&H(re),Re($,re)}function H($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var re;const{chunk:He,callback:Te}=$.buffered[ye],Ne=$.objectMode?1:He.length;$.length-=Ne,Te((re=$.errored)!==null&&re!==void 0?re:new M("write"))}const W=$[fe].splice(0);for(let ye=0;ye<W.length;ye++){var he;W[ye]((he=$.errored)!==null&&he!==void 0?he:new M("end"))}se($)}function J($,re){if(re.corked||re.bufferProcessing||re.destroyed||!re.constructed)return;const{buffered:W,bufferedIndex:he,objectMode:ye}=re,He=W.length-he;if(!He)return;let Te=he;if(re.bufferProcessing=!0,He>1&&$._writev){re.pendingcb-=He-1;const Ne=re.allNoop?Z:nt=>{for(let gt=Te;gt<W.length;++gt)W[gt].callback(nt)},tt=re.allNoop&&Te===0?W:e(W,Te);tt.allBuffers=re.allBuffers,le($,re,!0,re.length,tt,"",Ne),se(re)}else{do{const{chunk:Ne,encoding:tt,callback:nt}=W[Te];W[Te++]=null;const gt=ye?1:Ne.length;le($,re,!1,gt,Ne,tt,nt)}while(Te<W.length&&!re.writing);Te===W.length?se(re):Te>256?(W.splice(0,Te),re.bufferedIndex=0):re.bufferedIndex=Te}re.bufferProcessing=!1}pe.prototype._write=function($,re,W){if(this._writev)this._writev([{chunk:$,encoding:re}],W);else throw new E("_write()")},pe.prototype._writev=null,pe.prototype.end=function($,re,W){const he=this._writableState;typeof $=="function"?(W=$,$=null,re=null):typeof re=="function"&&(W=re,re=null);let ye;if($!=null){const He=be(this,$,re);He instanceof n&&(ye=He)}return he.corked&&(he.corked=1,this.uncork()),ye||(!he.errored&&!he.ending?(he.ending=!0,Re(this,he,!0),he.ended=!0):he.finished?ye=new D("end"):he.destroyed&&(ye=new M("end"))),typeof W=="function"&&(ye||he.finished?t.nextTick(W,ye):he[fe].push(W)),this};function ge($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Ae($,re){let W=!1;function he(ye){if(W){q($,ye??A());return}if(W=!0,re.pendingcb--,ye){const He=re[fe].splice(0);for(let Te=0;Te<He.length;Te++)He[Te](ye);q($,ye,re.sync)}else ge(re)&&(re.prefinished=!0,$.emit("prefinish"),re.pendingcb++,t.nextTick(Fe,$,re))}re.sync=!0,re.pendingcb++;try{$._final(he)}catch(ye){he(ye)}re.sync=!1}function Je($,re){!re.prefinished&&!re.finalCalled&&(typeof $._final=="function"&&!re.destroyed?(re.finalCalled=!0,Ae($,re)):(re.prefinished=!0,$.emit("prefinish")))}function Re($,re,W){ge(re)&&(Je($,re),re.pendingcb===0&&(W?(re.pendingcb++,t.nextTick((he,ye)=>{ge(ye)?Fe(he,ye):ye.pendingcb--},$,re)):ge(re)&&(re.pendingcb++,Fe($,re))))}function Fe($,re){re.pendingcb--,re.finished=!0;const W=re[fe].splice(0);for(let he=0;he<W.length;he++)W[he]();if($.emit("finish"),re.autoDestroy){const he=$._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&$.destroy()}}a(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Xe=y.destroy;pe.prototype.destroy=function($,re){const W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[fe].length)&&t.nextTick(H,W),Xe.call(this,$,re),this},pe.prototype._undestroy=y.undestroy,pe.prototype._destroy=function($,re){re($)},pe.prototype[h.captureRejectionSymbol]=function($){this.destroy($)};let ie;function z(){return ie===void 0&&(ie={}),ie}return pe.fromWeb=function($,re){return z().newStreamWritableFromWritableStream($,re)},pe.toWeb=function($){return z().newWritableStreamFromStreamWritable($)},G1}var W1,$M;function vJ(){if($M)return W1;$M=1;const t=Zc(),e=du(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:c,isReadableStream:f,isWritableStream:h}=hu(),p=El(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:_}}=Ta(),{destroyer:b}=Vd(),S=cu(),x=P0(),E=WA(),{createDeferredPromise:A}=ua(),I=YU(),M=globalThis.Blob||e.Blob,D=typeof M<"u"?function(te){return te instanceof M}:function(te){return!1},j=globalThis.AbortController||Bg().AbortController,{FunctionPrototypeCall:Q}=jr();class Y extends S{constructor(te){super(te),(te==null?void 0:te.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(te==null?void 0:te.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}W1=function fe(te,se){if(c(te))return te;if(o(te))return Z({readable:te});if(s(te))return Z({writable:te});if(a(te))return Z({writable:!1,readable:!1});if(f(te))return Z({readable:x.fromWeb(te)});if(h(te))return Z({writable:E.fromWeb(te)});if(typeof te=="function"){const{value:be,write:ce,final:le,destroy:Oe}=q(te);if(i(be))return I(Y,be,{objectMode:!0,write:ce,final:le,destroy:Oe});const k=be==null?void 0:be.then;if(typeof k=="function"){let ne;const me=Q(k,be,H=>{if(H!=null)throw new _("nully","body",H)},H=>{b(ne,H)});return ne=new Y({objectMode:!0,readable:!1,write:ce,final(H){le(async()=>{try{await me,t.nextTick(H,null)}catch(J){t.nextTick(H,J)}})},destroy:Oe})}throw new _("Iterable, AsyncIterable or AsyncFunction",se,be)}if(D(te))return fe(te.arrayBuffer());if(i(te))return I(Y,te,{objectMode:!0,writable:!1});if(f(te==null?void 0:te.readable)&&h(te==null?void 0:te.writable))return Y.fromWeb(te);if(typeof(te==null?void 0:te.writable)=="object"||typeof(te==null?void 0:te.readable)=="object"){const be=te!=null&&te.readable?o(te==null?void 0:te.readable)?te==null?void 0:te.readable:fe(te.readable):void 0,ce=te!=null&&te.writable?s(te==null?void 0:te.writable)?te==null?void 0:te.writable:fe(te.writable):void 0;return Z({readable:be,writable:ce})}const pe=te==null?void 0:te.then;if(typeof pe=="function"){let be;return Q(pe,te,ce=>{ce!=null&&be.push(ce),be.push(null)},ce=>{b(be,ce)}),be=new Y({objectMode:!0,writable:!1,read(){}})}throw new y(se,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],te)};function q(fe){let{promise:te,resolve:se}=A();const pe=new j,be=pe.signal;return{value:fe(async function*(){for(;;){const le=te;te=null;const{chunk:Oe,done:k,cb:ne}=await le;if(t.nextTick(ne),k)return;if(be.aborted)throw new m(void 0,{cause:be.reason});({promise:te,resolve:se}=A()),yield Oe}}(),{signal:be}),write(le,Oe,k){const ne=se;se=null,ne({chunk:le,done:!1,cb:k})},final(le){const Oe=se;se=null,Oe({done:!0,cb:le})},destroy(le,Oe){pe.abort(),Oe(le)}}}function Z(fe){const te=fe.readable&&typeof fe.readable.read!="function"?x.wrap(fe.readable):fe.readable,se=fe.writable;let pe=!!n(te),be=!!r(se),ce,le,Oe,k,ne;function me(H){const J=k;k=null,J?J(H):H&&ne.destroy(H)}return ne=new Y({readableObjectMode:!!(te!=null&&te.readableObjectMode),writableObjectMode:!!(se!=null&&se.writableObjectMode),readable:pe,writable:be}),be&&(p(se,H=>{be=!1,H&&b(te,H),me(H)}),ne._write=function(H,J,ge){se.write(H,J)?ge():ce=ge},ne._final=function(H){se.end(),le=H},se.on("drain",function(){if(ce){const H=ce;ce=null,H()}}),se.on("finish",function(){if(le){const H=le;le=null,H()}})),pe&&(p(te,H=>{pe=!1,H&&b(te,H),me(H)}),te.on("readable",function(){if(Oe){const H=Oe;Oe=null,H()}}),te.on("end",function(){ne.push(null)}),ne._read=function(){for(;;){const H=te.read();if(H===null){Oe=ne._read;return}if(!ne.push(H))return}}),ne._destroy=function(H,J){!H&&k!==null&&(H=new m),Oe=null,ce=null,le=null,k===null?J(H):(k=J,b(se,H),b(te,H))},ne}return W1}var Q1,UM;function cu(){if(UM)return Q1;UM=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=jr();Q1=o;const i=P0(),a=WA();r(o.prototype,i.prototype),r(o,i);{const h=n(a.prototype);for(let p=0;p<h.length;p++){const m=h[p];o.prototype[m]||(o.prototype[m]=a.prototype[m])}}function o(h){if(!(this instanceof o))return new o(h);i.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let s;function c(){return s===void 0&&(s={}),s}o.fromWeb=function(h,p){return c().newStreamDuplexFromReadableWritablePair(h,p)},o.toWeb=function(h){return c().newReadableWritablePairFromDuplex(h)};let f;return o.from=function(h){return f||(f=vJ()),f(h,"body")},Q1}var Z1,BM;function XU(){if(BM)return Z1;BM=1;const{ObjectSetPrototypeOf:t,Symbol:e}=jr();Z1=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Ta().codes,r=cu(),{getHighWaterMark:i}=R0();t(o.prototype,r.prototype),t(o,r);const a=e("kCallback");function o(f){if(!(this instanceof o))return new o(f);const h=f?i(this,f,"readableHighWaterMark",!0):null;h===0&&(f={...f,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:f.writableHighWaterMark||0}),r.call(this,f),this._readableState.sync=!1,this[a]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function s(f){typeof this._flush=="function"&&!this.destroyed?this._flush((h,p)=>{if(h){f?f(h):this.destroy(h);return}p!=null&&this.push(p),this.push(null),f&&f()}):(this.push(null),f&&f())}function c(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(f,h,p){throw new n("_transform()")},o.prototype._write=function(f,h,p){const m=this._readableState,y=this._writableState,_=m.length;this._transform(f,h,(b,S)=>{if(b){p(b);return}S!=null&&this.push(S),y.ended||_===m.length||m.length<m.highWaterMark?p():this[a]=p})},o.prototype._read=function(){if(this[a]){const f=this[a];this[a]=null,f()}},Z1}var J1,qM;function eB(){if(qM)return J1;qM=1;const{ObjectSetPrototypeOf:t}=jr();J1=n;const e=XU();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},J1}var Y1,zM;function QA(){if(zM)return Y1;zM=1;const t=Zc(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=jr(),a=El(),{once:o}=ua(),s=Vd(),c=cu(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:b}=Ta(),{validateFunction:S,validateAbortSignal:x}=mm(),{isIterable:E,isReadable:A,isReadableNodeStream:I,isNodeStream:M,isTransformStream:D,isWebStream:j,isReadableStream:Q,isReadableFinished:Y}=hu(),q=globalThis.AbortController||Bg().AbortController;let Z,fe,te;function se(H,J,ge){let Ae=!1;H.on("close",()=>{Ae=!0});const Je=a(H,{readable:J,writable:ge},Re=>{Ae=!Re});return{destroy:Re=>{Ae||(Ae=!0,s.destroyer(H,Re||new y("pipe")))},cleanup:Je}}function pe(H){return S(H[H.length-1],"streams[stream.length - 1]"),H.pop()}function be(H){if(E(H))return H;if(I(H))return ce(H);throw new h("val",["Readable","Iterable","AsyncIterable"],H)}async function*ce(H){fe||(fe=P0()),yield*fe.prototype[r].call(H)}async function le(H,J,ge,{end:Ae}){let Je,Re=null;const Fe=z=>{if(z&&(Je=z),Re){const $=Re;Re=null,$()}},Xe=()=>new n((z,$)=>{Je?$(Je):Re=()=>{Je?$(Je):z()}});J.on("drain",Fe);const ie=a(J,{readable:!1},Fe);try{J.writableNeedDrain&&await Xe();for await(const z of H)J.write(z)||await Xe();Ae&&(J.end(),await Xe()),ge()}catch(z){ge(Je!==z?f(Je,z):z)}finally{ie(),J.off("drain",Fe)}}async function Oe(H,J,ge,{end:Ae}){D(J)&&(J=J.writable);const Je=J.getWriter();try{for await(const Re of H)await Je.ready,Je.write(Re).catch(()=>{});await Je.ready,Ae&&await Je.close(),ge()}catch(Re){try{await Je.abort(Re),ge(Re)}catch(Fe){ge(Fe)}}}function k(...H){return ne(H,o(pe(H)))}function ne(H,J,ge){if(H.length===1&&e(H[0])&&(H=H[0]),H.length<2)throw new m("streams");const Ae=new q,Je=Ae.signal,Re=ge==null?void 0:ge.signal,Fe=[];x(Re,"options.signal");function Xe(){ye(new b)}te=te||ua().addAbortListener;let ie;Re&&(ie=te(Re,Xe));let z,$;const re=[];let W=0;function he(nt){ye(nt,--W===0)}function ye(nt,gt){var Ut;if(nt&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z=nt),!(!z&&!gt)){for(;re.length;)re.shift()(z);(Ut=ie)===null||Ut===void 0||Ut[i](),Ae.abort(),gt&&(z||Fe.forEach(Se=>Se()),t.nextTick(J,z,$))}}let He;for(let nt=0;nt<H.length;nt++){const gt=H[nt],Ut=nt<H.length-1,Se=nt>0,Be=Ut||(ge==null?void 0:ge.end)!==!1,X=nt===H.length-1;if(M(gt)){let B=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(K)};var tt=B;if(Be){const{destroy:K,cleanup:V}=se(gt,Ut,Se);re.push(K),A(gt)&&X&&Fe.push(V)}gt.on("error",B),A(gt)&&X&&Fe.push(()=>{gt.removeListener("error",B)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Je}),!E(He))throw new p("Iterable, AsyncIterable or Stream","source",He)}else E(gt)||I(gt)||D(gt)?He=gt:He=c.from(gt);else if(typeof gt=="function"){if(D(He)){var Te;He=be((Te=He)===null||Te===void 0?void 0:Te.readable)}else He=be(He);if(He=gt(He,{signal:Je}),Ut){if(!E(He,!0))throw new p("AsyncIterable",`transform[${nt-1}]`,He)}else{var Ne;Z||(Z=eB());const B=new Z({objectMode:!0}),K=(Ne=He)===null||Ne===void 0?void 0:Ne.then;if(typeof K=="function")W++,K.call(He,Ze=>{$=Ze,Ze!=null&&B.write(Ze),Be&&B.end(),t.nextTick(he)},Ze=>{B.destroy(Ze),t.nextTick(he,Ze)});else if(E(He,!0))W++,le(He,B,he,{end:Be});else if(Q(He)||D(He)){const Ze=He.readable||He;W++,le(Ze,B,he,{end:Be})}else throw new p("AsyncIterable or Promise","destination",He);He=B;const{destroy:V,cleanup:je}=se(He,!1,!0);re.push(V),X&&Fe.push(je)}}else if(M(gt)){if(I(He)){W+=2;const B=me(He,gt,he,{end:Be});A(gt)&&X&&Fe.push(B)}else if(D(He)||Q(He)){const B=He.readable||He;W++,le(B,gt,he,{end:Be})}else if(E(He))W++,le(He,gt,he,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(j(gt)){if(I(He))W++,Oe(be(He),gt,he,{end:Be});else if(Q(He)||E(He))W++,Oe(He,gt,he,{end:Be});else if(D(He))W++,Oe(He.readable,gt,he,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=c.from(gt)}return(Je!=null&&Je.aborted||Re!=null&&Re.aborted)&&t.nextTick(Xe),He}function me(H,J,ge,{end:Ae}){let Je=!1;if(J.on("close",()=>{Je||ge(new _)}),H.pipe(J,{end:!1}),Ae){let Fe=function(){Je=!0,J.end()};var Re=Fe;Y(H)?t.nextTick(Fe):H.once("end",Fe)}else ge();return a(H,{readable:!0,writable:!1},Fe=>{const Xe=H._readableState;Fe&&Fe.code==="ERR_STREAM_PREMATURE_CLOSE"&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?H.once("end",ge).once("error",ge):ge(Fe)}),a(J,{readable:!1,writable:!0},ge)}return Y1={pipelineImpl:ne,pipeline:k},Y1}var X1,HM;function tB(){if(HM)return X1;HM=1;const{pipeline:t}=QA(),e=cu(),{destroyer:n}=Vd(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:c,isReadableStream:f}=hu(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=Ta(),y=El();return X1=function(...b){if(b.length===0)throw new m("streams");if(b.length===1)return e.from(b[0]);const S=[...b];if(typeof b[0]=="function"&&(b[0]=e.from(b[0])),typeof b[b.length-1]=="function"){const Z=b.length-1;b[Z]=e.from(b[Z])}for(let Z=0;Z<b.length;++Z)if(!(!r(b[Z])&&!o(b[Z]))){if(Z<b.length-1&&!(i(b[Z])||f(b[Z])||s(b[Z])))throw new p(`streams[${Z}]`,S[Z],"must be readable");if(Z>0&&!(a(b[Z])||c(b[Z])||s(b[Z])))throw new p(`streams[${Z}]`,S[Z],"must be writable")}let x,E,A,I,M;function D(Z){const fe=I;I=null,fe?fe(Z):Z?M.destroy(Z):!q&&!Y&&M.destroy()}const j=b[0],Q=t(b,D),Y=!!(a(j)||c(j)||s(j)),q=!!(i(Q)||f(Q)||s(Q));if(M=new e({writableObjectMode:!!(j!=null&&j.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:Y,readable:q}),Y){if(r(j))M._write=function(fe,te,se){j.write(fe,te)?se():x=se},M._final=function(fe){j.end(),E=fe},j.on("drain",function(){if(x){const fe=x;x=null,fe()}});else if(o(j)){const te=(s(j)?j.writable:j).getWriter();M._write=async function(se,pe,be){try{await te.ready,te.write(se).catch(()=>{}),be()}catch(ce){be(ce)}},M._final=async function(se){try{await te.ready,te.close().catch(()=>{}),E=se}catch(pe){se(pe)}}}const Z=s(Q)?Q.readable:Q;y(Z,()=>{if(E){const fe=E;E=null,fe()}})}if(q){if(r(Q))Q.on("readable",function(){if(A){const Z=A;A=null,Z()}}),Q.on("end",function(){M.push(null)}),M._read=function(){for(;;){const Z=Q.read();if(Z===null){A=M._read;return}if(!M.push(Z))return}};else if(o(Q)){const fe=(s(Q)?Q.readable:Q).getReader();M._read=async function(){for(;;)try{const{value:te,done:se}=await fe.read();if(!M.push(te))return;if(se){M.push(null);return}}catch{return}}}}return M._destroy=function(Z,fe){!Z&&I!==null&&(Z=new h),A=null,x=null,E=null,I===null?fe(Z):(I=fe,r(Q)&&n(Q,Z))},M},X1}var VM;function _J(){if(VM)return Jy;VM=1;const t=globalThis.AbortController||Bg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Ta(),{validateAbortSignal:o,validateInteger:s,validateObject:c}=mm(),f=jr().Symbol("kWeak"),h=jr().Symbol("kResistStopPropagation"),{finished:p}=El(),m=tB(),{addAbortSignalNoValidate:y}=A0(),{isWritable:_,isNodeStream:b}=hu(),{deprecate:S}=ua(),{ArrayPrototypePush:x,Boolean:E,MathFloor:A,Number:I,NumberIsNaN:M,Promise:D,PromiseReject:j,PromiseResolve:Q,PromisePrototypeThen:Y,Symbol:q}=jr(),Z=q("kEmpty"),fe=q("kEof");function te(Re,Fe){if(Fe!=null&&c(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal"),b(Re)&&!_(Re))throw new e("stream",Re,"must be writable");const Xe=m(this,Re);return Fe!=null&&Fe.signal&&y(Fe.signal,Xe),Xe}function se(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);Fe!=null&&c(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal");let Xe=1;(Fe==null?void 0:Fe.concurrency)!=null&&(Xe=A(Fe.concurrency));let ie=Xe-1;return(Fe==null?void 0:Fe.highWaterMark)!=null&&(ie=A(Fe.highWaterMark)),s(Xe,"options.concurrency",1),s(ie,"options.highWaterMark",0),ie+=Xe,(async function*(){const $=ua().AbortSignalAny([Fe==null?void 0:Fe.signal].filter(E)),re=this,W=[],he={signal:$};let ye,He,Te=!1,Ne=0;function tt(){Te=!0,nt()}function nt(){Ne-=1,gt()}function gt(){He&&!Te&&Ne<Xe&&W.length<ie&&(He(),He=null)}async function Ut(){try{for await(let Se of re){if(Te)return;if($.aborted)throw new a;try{if(Se=Re(Se,he),Se===Z)continue;Se=Q(Se)}catch(Be){Se=j(Be)}Ne+=1,Y(Se,nt,tt),W.push(Se),ye&&(ye(),ye=null),!Te&&(W.length>=ie||Ne>=Xe)&&await new D(Be=>{He=Be})}W.push(fe)}catch(Se){const Be=j(Se);Y(Be,nt,tt),W.push(Be)}finally{Te=!0,ye&&(ye(),ye=null)}}Ut();try{for(;;){for(;W.length>0;){const Se=await W[0];if(Se===fe)return;if($.aborted)throw new a;Se!==Z&&(yield Se),W.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Te=!0,He&&(He(),He=null)}}).call(this)}function pe(Re=void 0){return Re!=null&&c(Re,"options"),(Re==null?void 0:Re.signal)!=null&&o(Re.signal,"options.signal"),(async function*(){let Xe=0;for await(const z of this){var ie;if(Re!=null&&(ie=Re.signal)!==null&&ie!==void 0&&ie.aborted)throw new a({cause:Re.signal.reason});yield[Xe++,z]}}).call(this)}async function be(Re,Fe=void 0){for await(const Xe of k.call(this,Re,Fe))return!0;return!1}async function ce(Re,Fe=void 0){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);return!await be.call(this,async(...Xe)=>!await Re(...Xe),Fe)}async function le(Re,Fe){for await(const Xe of k.call(this,Re,Fe))return Xe}async function Oe(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(ie,z){return await Re(ie,z),Z}for await(const ie of se.call(this,Xe,Fe));}function k(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(ie,z){return await Re(ie,z)?ie:Z}return se.call(this,Xe,Fe)}class ne extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function me(Re,Fe,Xe){var ie;if(typeof Re!="function")throw new n("reducer",["Function","AsyncFunction"],Re);Xe!=null&&c(Xe,"options"),(Xe==null?void 0:Xe.signal)!=null&&o(Xe.signal,"options.signal");let z=arguments.length>1;if(Xe!=null&&(ie=Xe.signal)!==null&&ie!==void 0&&ie.aborted){const ye=new a(void 0,{cause:Xe.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(ye)),ye}const $=new t,re=$.signal;if(Xe!=null&&Xe.signal){const ye={once:!0,[f]:this,[h]:!0};Xe.signal.addEventListener("abort",()=>$.abort(),ye)}let W=!1;try{for await(const ye of this){var he;if(W=!0,Xe!=null&&(he=Xe.signal)!==null&&he!==void 0&&he.aborted)throw new a;z?Fe=await Re(Fe,ye,{signal:re}):(Fe=ye,z=!0)}if(!W&&!z)throw new ne}finally{$.abort()}return Fe}async function H(Re){Re!=null&&c(Re,"options"),(Re==null?void 0:Re.signal)!=null&&o(Re.signal,"options.signal");const Fe=[];for await(const ie of this){var Xe;if(Re!=null&&(Xe=Re.signal)!==null&&Xe!==void 0&&Xe.aborted)throw new a(void 0,{cause:Re.signal.reason});x(Fe,ie)}return Fe}function J(Re,Fe){const Xe=se.call(this,Re,Fe);return(async function*(){for await(const z of Xe)yield*z}).call(this)}function ge(Re){if(Re=I(Re),M(Re))return 0;if(Re<0)throw new i("number",">= 0",Re);return Re}function Ae(Re,Fe=void 0){return Fe!=null&&c(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal"),Re=ge(Re),(async function*(){var ie;if(Fe!=null&&(ie=Fe.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;Re--<=0&&(yield $)}}).call(this)}function Je(Re,Fe=void 0){return Fe!=null&&c(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal"),Re=ge(Re),(async function*(){var ie;if(Fe!=null&&(ie=Fe.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;if(Re-- >0&&(yield $),Re<=0)return}}).call(this)}return Jy.streamReturningOperators={asIndexedPairs:S(pe,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:k,flatMap:J,map:se,take:Je,compose:te},Jy.promiseReturningOperators={every:ce,forEach:Oe,reduce:me,toArray:H,some:be,find:le},Jy}var eS,KM;function nB(){if(KM)return eS;KM=1;const{ArrayPrototypePop:t,Promise:e}=jr(),{isIterable:n,isNodeStream:r,isWebStream:i}=hu(),{pipelineImpl:a}=QA(),{finished:o}=El();rB();function s(...c){return new e((f,h)=>{let p,m;const y=c[c.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const _=t(c);p=_.signal,m=_.end}a(c,(_,b)=>{_?h(_):f(b)},{signal:p,end:m})})}return eS={finished:o,pipeline:s},eS}var GM;function rB(){if(GM)return L1.exports;GM=1;const{Buffer:t}=du(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=jr(),{promisify:{custom:i}}=ua(),{streamReturningOperators:a,promiseReturningOperators:o}=_J(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Ta(),c=tB(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=R0(),{pipeline:p}=QA(),{destroyer:m}=Vd(),y=El(),_=nB(),b=hu(),S=L1.exports=GA().Stream;S.isDestroyed=b.isDestroyed,S.isDisturbed=b.isDisturbed,S.isErrored=b.isErrored,S.isReadable=b.isReadable,S.isWritable=b.isWritable,S.Readable=P0();for(const A of n(a)){let M=function(...D){if(new.target)throw s();return S.Readable.from(r(I,this,D))};var E=M;const I=a[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(S.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(o)){let M=function(...j){if(new.target)throw s();return r(I,this,j)};var E=M;const I=o[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(S.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}S.Writable=WA(),S.Duplex=cu(),S.Transform=XU(),S.PassThrough=eB(),S.pipeline=p;const{addAbortSignal:x}=A0();return S.addAbortSignal=x,S.finished=y,S.destroy=m,S.compose=c,S.setDefaultHighWaterMark=f,S.getDefaultHighWaterMark=h,e(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),e(p,i,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),e(y,i,{__proto__:null,enumerable:!0,get(){return _.finished}}),S.Stream=S,S._isUint8Array=function(I){return I instanceof Uint8Array},S._uint8ArrayToBuffer=function(I){return t.from(I.buffer,I.byteOffset,I.byteLength)},L1.exports}var WM;function iB(){return WM||(WM=1,function(t){const e=rB(),n=nB(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(O1)),O1.exports}var Kd=iB();let ps=class{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||_l,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,i=e.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Cc(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(Rd(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ia(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Rd(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:ia(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])e+=Object.keys(i[s]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(e,n,r,i){const a=e[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,o,s,c){let f,h,p;const m=this._entities,y=this._termFromId(c,this._factory),_={subject:null,predicate:null,object:null};n&&((f=e,e={})[n]=f[n]);for(const b in e)if(h=e[b]){_[a]=this._termFromId(m[b],this._factory),r&&((f=h,h={})[r]=f[r]);for(const S in h)if(p=h[S]){_[o]=this._termFromId(m[S],this._factory);const x=i?i in p?[i]:[]:Object.keys(p);for(let E=0;E<x.length;E++)_[s]=this._termFromId(m[x[E]],this._factory),yield this._factory.quad(_.subject,_.predicate,_.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,o,s;if((a=e[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(e,n,r,i){let a=0,o,s,c;n&&((o=e,e={})[n]=o[n]);for(const f in e)if(s=e[f]){r&&((o=s,s={})[r]=o[r]);for(const h in s)(c=s[h])&&(i?i in c&&a++:a+=Object.keys(c).length)}return a}_getGraphs(e){if(!wJ(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ia(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(a.subjects,e,n,r);return this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,o}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ia(i);const a=this._graphs;let o,s,c;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[e])||!(c=s[n])||!(r in c))return!1;this._removeFromIndex(o.subjects,e,n,r),this._removeFromIndex(o.predicates,n,r,e),this._removeFromIndex(o.objects,r,e,n),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new Kd.Readable({objectMode:!0});return a._read=()=>{for(const o of this.readQuads(e,n,r,i))a.push(o);a.push(null)},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,c,f;if(!(e&&!(s=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const h in a)(o=a[h])&&(s?f?yield*this._findInIndex(o.objects,f,s,c,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,s,c,null,"subject","predicate","object",h):c?yield*this._findInIndex(o.predicates,c,f,null,"predicate","object","subject",h):f?yield*this._findInIndex(o.objects,f,null,null,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new bJ(this,e,n,r,i)}countQuads(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o=0,s,c,f,h;if(e&&!(c=this._termToNumericId(e))||n&&!(f=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(s=a[p])&&(e?r?o+=this._countInIndex(s.objects,h,c,f):o+=this._countInIndex(s.subjects,c,f,h):n?o+=this._countInIndex(s.predicates,f,h,c):o+=this._countInIndex(s.objects,h,c,f));return o}forEach(e,n,r,i,a){this.some(o=>(e(o),!1),n,r,i,a)}every(e,n,r,i,a){let o=!1;const s=!this.some(c=>(o=!0,!e(c)),n,r,i,a);return o&&s}some(e,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(e(o))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,c;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?c?this._loopBy2Keys(o.predicates,s,c,e):this._loopByKey1(o.subjects,s,e):c?this._loopByKey0(o.objects,c,e):this._loop(o.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,c;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?c?this._loopBy2Keys(o.objects,c,s,e):this._loopByKey0(o.subjects,s,e):c?this._loopByKey1(o.predicates,c,e):this._loop(o.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,c;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?c?this._loopBy2Keys(o.subjects,s,c,e):this._loopByKey1(o.objects,s,e):c?this._loopByKey0(o.predicates,c,e):this._loop(o.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(o=>(e(o.graph),!0),n,r,i,a)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,c)=>{throw new Error(`${s.value} ${c}`)},a=this.getQuads(null,ji.rdf.rest,ji.rdf.nil,null),o=e?[...a]:[];return a.forEach(s=>{const c=[];let f=!1,h,p;const m=s.graph;let y=s.subject;for(;y&&!f;){const _=this.getQuads(null,null,y,null),b=this.getQuads(y,null,null,null);let S,x=null,E=null,A=null;for(let I=0;I<b.length&&!f;I++)S=b[I],S.graph.equals(m)?h?f=i(y,"has non-list arcs out"):S.predicate.value===ji.rdf.first?x?f=i(y,"has multiple rdf:first arcs"):o.push(x=S):S.predicate.value===ji.rdf.rest?E?f=i(y,"has multiple rdf:rest arcs"):o.push(E=S):_.length?f=i(y,"can't be subject and object"):(h=S,p="subject"):f=i(y,"not confined to single graph");for(let I=0;I<_.length&&!f;++I)S=_[I],h?f=i(y,"can't have coreferences"):S.predicate.value===ji.rdf.rest?A?f=i(y,"has incoming rdf:rest arcs"):A=S:(h=S,p="object");x?c.unshift(x.object):f=i(y,"has no list head"),y=A&&A.subject}f?e=!1:h&&(r[h[p].value]=c)}),e&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function wJ(t){return typeof t=="string"||t instanceof String}let bJ=class aB extends Kd.Readable{constructor(e,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new ps({factory:e._factory});for(const s of e.readQuads(a,i,r,n))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new aB(this.filtered,e,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class oB extends Kd.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Hd(e);let r,i;n.parse({on:(a,o)=>{switch(a){case"data":r=o;break;case"end":i=o;break}}},(a,o)=>{a&&this.emit("error",a)||o&&this.push(o)},(a,o)=>{this.emit("prefix",a,o)}),this._transform=(a,o,s)=>{r(a),s()},this._flush=a=>{i(),a()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class sB extends Kd.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new C0({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const SJ={Lexer:zA,Parser:Hd,Writer:C0,Store:ps,StreamParser:oB,StreamWriter:sB,Util:WU,DataFactory:_l,Term:ms,NamedNode:Hr,Literal:od,BlankNode:HA,Variable:VA,DefaultGraph:KA,Quad:Ro,Triple:Ro,termFromId:Cc,termToId:ia},xJ=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:HA,DataFactory:_l,DefaultGraph:KA,Lexer:zA,Literal:od,NamedNode:Hr,Parser:Hd,Quad:Ro,Store:ps,StreamParser:oB,StreamWriter:sB,Term:ms,Triple:Ro,Util:WU,Variable:VA,Writer:C0,default:SJ,termFromId:Cc,termToId:ia},Symbol.toStringTag,{value:"Module"}));var EJ="http://www.w3.org/ns/auth/acl#Access",TJ="http://www.w3.org/ns/auth/acl#Append",CJ="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",AJ="http://www.w3.org/ns/auth/acl#Authorization",RJ="http://www.w3.org/ns/auth/acl#Control",PJ="http://www.w3.org/ns/auth/acl#Origin",OJ="http://www.w3.org/ns/auth/acl#Read",LJ="http://www.w3.org/ns/auth/acl#Write",IJ="http://www.w3.org/ns/auth/acl#accessControl",MJ="http://www.w3.org/ns/auth/acl#accessTo",DJ="http://www.w3.org/ns/auth/acl#accessToClass",kJ="http://www.w3.org/ns/auth/acl#agent",NJ="http://www.w3.org/ns/auth/acl#agentClass",FJ="http://www.w3.org/ns/auth/acl#agentGroup",jJ="http://www.w3.org/ns/auth/acl#default",$J="http://www.w3.org/ns/auth/acl#defaultForNew",UJ="http://www.w3.org/ns/auth/acl#delegates",BJ="http://www.w3.org/ns/auth/acl#mode",qJ="http://www.w3.org/ns/auth/acl#origin",zJ="http://www.w3.org/ns/auth/acl#owner",HJ=Object.freeze({Access:EJ,Append:TJ,AuthenticatedAgent:CJ,Authorization:AJ,Control:RJ,Origin:PJ,Read:OJ,Write:LJ,accessControl:IJ,accessTo:MJ,accessToClass:DJ,agent:kJ,agentClass:NJ,agentGroup:FJ,default__workaround:jJ,defaultForNew:$J,delegates:UJ,mode:BJ,origin:qJ,owner:zJ}),VJ="http://www.w3.org/ns/activitystreams#actor",KJ="http://www.w3.org/ns/activitystreams#attributedTo",GJ="http://www.w3.org/ns/activitystreams#attachment",WJ="http://www.w3.org/ns/activitystreams#attachments",QJ="http://www.w3.org/ns/activitystreams#author",ZJ="http://www.w3.org/ns/activitystreams#bcc",JJ="http://www.w3.org/ns/activitystreams#bto",YJ="http://www.w3.org/ns/activitystreams#cc",XJ="http://www.w3.org/ns/activitystreams#context",eY="http://www.w3.org/ns/activitystreams#generator",tY="http://www.w3.org/ns/activitystreams#icon",nY="http://www.w3.org/ns/activitystreams#image",rY="http://www.w3.org/ns/activitystreams#inReplyTo",iY="http://www.w3.org/ns/activitystreams#items",aY="http://www.w3.org/ns/activitystreams#location",oY="http://www.w3.org/ns/activitystreams#object",sY="http://www.w3.org/ns/activitystreams#oneOf",uY="http://www.w3.org/ns/activitystreams#anyOf",lY="http://www.w3.org/ns/activitystreams#preview",cY="http://www.w3.org/ns/activitystreams#provider",fY="http://www.w3.org/ns/activitystreams#replies",dY="http://www.w3.org/ns/activitystreams#result",hY="http://www.w3.org/ns/activitystreams#audience",pY="http://www.w3.org/ns/activitystreams#tag",gY="http://www.w3.org/ns/activitystreams#tags",mY="http://www.w3.org/ns/activitystreams#target",yY="http://www.w3.org/ns/activitystreams#origin",vY="http://www.w3.org/ns/activitystreams#instrument",_Y="http://www.w3.org/ns/activitystreams#to",wY="http://www.w3.org/ns/activitystreams#url",bY="http://www.w3.org/ns/activitystreams#relationship",SY="http://www.w3.org/ns/activitystreams#describes",xY="http://www.w3.org/ns/activitystreams#formerType",EY="http://www.w3.org/ns/activitystreams#accuracy",TY="http://www.w3.org/ns/activitystreams#altitude",CY="http://www.w3.org/ns/activitystreams#content",AY="http://www.w3.org/ns/activitystreams#name",RY="http://www.w3.org/ns/activitystreams#downstreamDuplicates",PY="http://www.w3.org/ns/activitystreams#duration",OY="http://www.w3.org/ns/activitystreams#endTime",LY="http://www.w3.org/ns/activitystreams#height",IY="http://www.w3.org/ns/activitystreams#href",MY="http://www.w3.org/ns/activitystreams#hreflang",DY="http://www.w3.org/ns/activitystreams#id",kY="http://www.w3.org/ns/activitystreams#latitude",NY="http://www.w3.org/ns/activitystreams#longitude",FY="http://www.w3.org/ns/activitystreams#mediaType",jY="http://www.w3.org/ns/activitystreams#objectType",$Y="http://www.w3.org/ns/activitystreams#published",UY="http://www.w3.org/ns/activitystreams#radius",BY="http://www.w3.org/ns/activitystreams#rating",qY="http://www.w3.org/ns/activitystreams#rel",zY="http://www.w3.org/ns/activitystreams#startIndex",HY="http://www.w3.org/ns/activitystreams#startTime",VY="http://www.w3.org/ns/activitystreams#summary",KY="http://www.w3.org/ns/activitystreams#totalItems",GY="http://www.w3.org/ns/activitystreams#units",WY="http://www.w3.org/ns/activitystreams#updated",QY="http://www.w3.org/ns/activitystreams#upstreamDuplicates",ZY="http://www.w3.org/ns/activitystreams#verb",JY="http://www.w3.org/ns/activitystreams#width",YY="http://www.w3.org/ns/activitystreams#deleted",XY="http://www.w3.org/ns/activitystreams#Accept",eX="http://www.w3.org/ns/activitystreams#Activity",tX="http://www.w3.org/ns/activitystreams#Block",nX="http://www.w3.org/ns/activitystreams#IntransitiveActivity",rX="http://www.w3.org/ns/activitystreams#Add",iX="http://www.w3.org/ns/activitystreams#Announce",aX="http://www.w3.org/ns/activitystreams#Application",oX="http://www.w3.org/ns/activitystreams#Arrive",sX="http://www.w3.org/ns/activitystreams#Article",uX="http://www.w3.org/ns/activitystreams#Audio",lX="http://www.w3.org/ns/activitystreams#Collection",cX="http://www.w3.org/ns/activitystreams#CollectionPage",fX="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",dX="http://www.w3.org/ns/activitystreams#Relationship",hX="http://www.w3.org/ns/activitystreams#Create",pX="http://www.w3.org/ns/activitystreams#Delete",gX="http://www.w3.org/ns/activitystreams#Dislike",mX="http://www.w3.org/ns/activitystreams#Document",yX="http://www.w3.org/ns/activitystreams#Event",vX="http://www.w3.org/ns/activitystreams#Flag",_X="http://www.w3.org/ns/activitystreams#Follow",wX="http://www.w3.org/ns/activitystreams#Group",bX="http://www.w3.org/ns/activitystreams#Ignore",SX="http://www.w3.org/ns/activitystreams#Image",xX="http://www.w3.org/ns/activitystreams#Invite",EX="http://www.w3.org/ns/activitystreams#Join",TX="http://www.w3.org/ns/activitystreams#Leave",CX="http://www.w3.org/ns/activitystreams#Like",AX="http://www.w3.org/ns/activitystreams#View",RX="http://www.w3.org/ns/activitystreams#Listen",PX="http://www.w3.org/ns/activitystreams#Read",OX="http://www.w3.org/ns/activitystreams#Move",LX="http://www.w3.org/ns/activitystreams#Travel",IX="http://www.w3.org/ns/activitystreams#Link",MX="http://www.w3.org/ns/activitystreams#Mention",DX="http://www.w3.org/ns/activitystreams#Note",kX="http://www.w3.org/ns/activitystreams#Object",NX="http://www.w3.org/ns/activitystreams#Offer",FX="http://www.w3.org/ns/activitystreams#OrderedCollection",jX="http://www.w3.org/ns/activitystreams#OrderedItems",$X="http://www.w3.org/ns/activitystreams#Page",UX="http://www.w3.org/ns/activitystreams#Person",BX="http://www.w3.org/ns/activitystreams#Organization",qX="http://www.w3.org/ns/activitystreams#Profile",zX="http://www.w3.org/ns/activitystreams#Place",HX="http://www.w3.org/ns/activitystreams#Question",VX="http://www.w3.org/ns/activitystreams#Reject",KX="http://www.w3.org/ns/activitystreams#Remove",GX="http://www.w3.org/ns/activitystreams#Service",WX="http://www.w3.org/ns/activitystreams#TentativeAccept",QX="http://www.w3.org/ns/activitystreams#TentativeReject",ZX="http://www.w3.org/ns/activitystreams#Tombstone",JX="http://www.w3.org/ns/activitystreams#Undo",YX="http://www.w3.org/ns/activitystreams#Update",XX="http://www.w3.org/ns/activitystreams#Video",eee=Object.freeze({actor:VJ,attributedTo:KJ,attachment:GJ,attachments:WJ,author:QJ,bcc:ZJ,bto:JJ,cc:YJ,context:XJ,generator:eY,icon:tY,image:nY,inReplyTo:rY,items:iY,location:aY,object:oY,oneOf:sY,anyOf:uY,preview:lY,provider:cY,replies:fY,result:dY,audience:hY,tag:pY,tags:gY,target:mY,origin:yY,instrument:vY,to:_Y,url:wY,relationship:bY,describes:SY,formerType:xY,accuracy:EY,altitude:TY,content:CY,name:AY,downstreamDuplicates:RY,duration:PY,endTime:OY,height:LY,href:IY,hreflang:MY,id:DY,latitude:kY,longitude:NY,mediaType:FY,objectType:jY,published:$Y,radius:UY,rating:BY,rel:qY,startIndex:zY,startTime:HY,summary:VY,totalItems:KY,units:GY,updated:WY,upstreamDuplicates:QY,verb:ZY,width:JY,deleted:YY,Accept:XY,Activity:eX,Block:tX,IntransitiveActivity:nX,Add:rX,Announce:iX,Application:aX,Arrive:oX,Article:sX,Audio:uX,Collection:lX,CollectionPage:cX,OrderedCollectionPage:fX,Relationship:dX,Create:hX,Delete:pX,Dislike:gX,Document:mX,Event:yX,Flag:vX,Follow:_X,Group:wX,Ignore:bX,Image:SX,Invite:xX,Join:EX,Leave:TX,Like:CX,View:AX,Listen:RX,Read:PX,Move:OX,Travel:LX,Link:IX,Mention:MX,Note:DX,Object__workaround:kX,Offer:NX,OrderedCollection:FX,OrderedItems:jX,Page:$X,Person:UX,Organization:BX,Profile:qX,Place:zX,Question:HX,Reject:VX,Remove:KX,Service:GX,TentativeAccept:WX,TentativeReject:QX,Tombstone:ZX,Undo:JX,Update:YX,Video:XX}),tee="http://purl.org/dc/terms/AgentClass",nee="http://purl.org/dc/terms/BibliographicResource",ree="http://purl.org/dc/terms/Box",iee="http://purl.org/dc/terms/FileFormat",aee="http://purl.org/dc/terms/Frequency",oee="http://purl.org/dc/terms/ISO3166",see="http://purl.org/dc/terms/Jurisdiction",uee="http://purl.org/dc/terms/LicenseDocument",lee="http://purl.org/dc/terms/LinguisticSystem",cee="http://purl.org/dc/terms/Location",fee="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",dee="http://purl.org/dc/terms/MediaType",hee="http://purl.org/dc/terms/MediaTypeOrExtent",pee="http://purl.org/dc/terms/MethodOfAccrual",gee="http://purl.org/dc/terms/MethodOfInstruction",mee="http://purl.org/dc/terms/Period",yee="http://purl.org/dc/terms/PeriodOfTime",vee="http://purl.org/dc/terms/PhysicalMedium",_ee="http://purl.org/dc/terms/PhysicalResource",wee="http://purl.org/dc/terms/Point",bee="http://purl.org/dc/terms/Policy",See="http://purl.org/dc/terms/ProvenanceStatement",xee="http://purl.org/dc/terms/RFC1766",Eee="http://purl.org/dc/terms/RFC3066",Tee="http://purl.org/dc/terms/RFC4646",Cee="http://purl.org/dc/terms/RFC5646",Aee="http://purl.org/dc/terms/RightsStatement",Ree="http://purl.org/dc/terms/SizeOrDuration",Pee="http://purl.org/dc/terms/Standard",Oee="http://purl.org/dc/terms/URI",Lee="http://purl.org/dc/terms/W3CDTF",Iee="http://purl.org/dc/terms/abstract",Mee="http://purl.org/dc/terms/accessRights",Dee="http://purl.org/dc/terms/accrualMethod",kee="http://purl.org/dc/terms/accrualPeriodicity",Nee="http://purl.org/dc/terms/accrualPolicy",Fee="http://purl.org/dc/terms/alternative",jee="http://purl.org/dc/terms/audience",$ee="http://purl.org/dc/terms/available",Uee="http://purl.org/dc/terms/bibliographicCitation",Bee="http://purl.org/dc/terms/conformsTo",qee="http://purl.org/dc/terms/contributor",zee="http://purl.org/dc/terms/coverage",Hee="http://purl.org/dc/terms/created",Vee="http://purl.org/dc/terms/creator",Kee="http://purl.org/dc/terms/date",Gee="http://purl.org/dc/terms/dateAccepted",Wee="http://purl.org/dc/terms/dateCopyrighted",Qee="http://purl.org/dc/terms/dateSubmitted",Zee="http://purl.org/dc/terms/description",Jee="http://purl.org/dc/terms/educationLevel",Yee="http://purl.org/dc/terms/extent",Xee="http://purl.org/dc/terms/format",ete="http://purl.org/dc/terms/hasFormat",tte="http://purl.org/dc/terms/hasPart",nte="http://purl.org/dc/terms/hasVersion",rte="http://purl.org/dc/terms/identifier",ite="http://purl.org/dc/terms/instructionalMethod",ate="http://purl.org/dc/terms/isFormatOf",ote="http://purl.org/dc/terms/isPartOf",ste="http://purl.org/dc/terms/isReferencedBy",ute="http://purl.org/dc/terms/isReplacedBy",lte="http://purl.org/dc/terms/isRequiredBy",cte="http://purl.org/dc/terms/isVersionOf",fte="http://purl.org/dc/terms/issued",dte="http://purl.org/dc/terms/language",hte="http://purl.org/dc/terms/license",pte="http://purl.org/dc/terms/mediator",gte="http://purl.org/dc/terms/medium",mte="http://purl.org/dc/terms/modified",yte="http://purl.org/dc/terms/provenance",vte="http://purl.org/dc/terms/publisher",_te="http://purl.org/dc/terms/references",wte="http://purl.org/dc/terms/relation",bte="http://purl.org/dc/terms/replaces",Ste="http://purl.org/dc/terms/requires",xte="http://purl.org/dc/terms/rights",Ete="http://purl.org/dc/terms/rightsHolder",Tte="http://purl.org/dc/terms/source",Cte="http://purl.org/dc/terms/spatial",Ate="http://purl.org/dc/terms/subject",Rte="http://purl.org/dc/terms/tableOfContents",Pte="http://purl.org/dc/terms/temporal",Ote="http://purl.org/dc/terms/title",Lte="http://purl.org/dc/terms/type",Ite="http://purl.org/dc/terms/valid",Mte=Object.freeze({AgentClass:tee,BibliographicResource:nee,Box:ree,FileFormat:iee,Frequency:aee,ISO3166:oee,Jurisdiction:see,LicenseDocument:uee,LinguisticSystem:lee,Location:cee,LocationPeriodOrJurisdiction:fee,MediaType:dee,MediaTypeOrExtent:hee,MethodOfAccrual:pee,MethodOfInstruction:gee,Period:mee,PeriodOfTime:yee,PhysicalMedium:vee,PhysicalResource:_ee,Point:wee,Policy:bee,ProvenanceStatement:See,RFC1766:xee,RFC3066:Eee,RFC4646:Tee,RFC5646:Cee,RightsStatement:Aee,SizeOrDuration:Ree,Standard:Pee,URI:Oee,W3CDTF:Lee,abstract:Iee,accessRights:Mee,accrualMethod:Dee,accrualPeriodicity:kee,accrualPolicy:Nee,alternative:Fee,audience:jee,available:$ee,bibliographicCitation:Uee,conformsTo:Bee,contributor:qee,coverage:zee,created:Hee,creator:Vee,date:Kee,dateAccepted:Gee,dateCopyrighted:Wee,dateSubmitted:Qee,description:Zee,educationLevel:Jee,extent:Yee,format:Xee,hasFormat:ete,hasPart:tte,hasVersion:nte,identifier:rte,instructionalMethod:ite,isFormatOf:ate,isPartOf:ote,isReferencedBy:ste,isReplacedBy:ute,isRequiredBy:lte,isVersionOf:cte,issued:fte,language:dte,license:hte,mediator:pte,medium:gte,modified:mte,provenance:yte,publisher:vte,references:_te,relation:wte,replaces:bte,requires:Ste,rights:xte,rightsHolder:Ete,source:Tte,spatial:Cte,subject:Ate,tableOfContents:Rte,temporal:Pte,title:Ote,type:Lte,valid:Ite}),Dte="http://xmlns.com/foaf/0.1/Person",kte="http://xmlns.com/foaf/0.1/Document",Nte="http://xmlns.com/foaf/0.1/Organization",Fte="http://xmlns.com/foaf/0.1/Group",jte="http://xmlns.com/foaf/0.1/Agent",$te="http://xmlns.com/foaf/0.1/Project",Ute="http://xmlns.com/foaf/0.1/Image",Bte="http://xmlns.com/foaf/0.1/PersonalProfileDocument",qte="http://xmlns.com/foaf/0.1/OnlineAccount",zte="http://xmlns.com/foaf/0.1/OnlineGamingAccount",Hte="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Vte="http://xmlns.com/foaf/0.1/OnlineChatAccount",Kte="http://xmlns.com/foaf/0.1/mbox",Gte="http://xmlns.com/foaf/0.1/mbox_sha1sum",Wte="http://xmlns.com/foaf/0.1/gender",Qte="http://xmlns.com/foaf/0.1/geekcode",Zte="http://xmlns.com/foaf/0.1/dnaChecksum",Jte="http://xmlns.com/foaf/0.1/sha1",Yte="http://xmlns.com/foaf/0.1/based_near",Xte="http://xmlns.com/foaf/0.1/title",ene="http://xmlns.com/foaf/0.1/nick",tne="http://xmlns.com/foaf/0.1/jabberID",nne="http://xmlns.com/foaf/0.1/aimChatID",rne="http://xmlns.com/foaf/0.1/icqChatID",ine="http://xmlns.com/foaf/0.1/yahooChatID",ane="http://xmlns.com/foaf/0.1/msnChatID",one="http://xmlns.com/foaf/0.1/name",sne="http://xmlns.com/foaf/0.1/firstName",une="http://xmlns.com/foaf/0.1/givenname",lne="http://xmlns.com/foaf/0.1/surname",cne="http://xmlns.com/foaf/0.1/family_name",fne="http://xmlns.com/foaf/0.1/phone",dne="http://xmlns.com/foaf/0.1/homepage",hne="http://xmlns.com/foaf/0.1/weblog",pne="http://xmlns.com/foaf/0.1/tipjar",gne="http://xmlns.com/foaf/0.1/plan",mne="http://xmlns.com/foaf/0.1/made",yne="http://xmlns.com/foaf/0.1/maker",vne="http://xmlns.com/foaf/0.1/img",_ne="http://xmlns.com/foaf/0.1/depiction",wne="http://xmlns.com/foaf/0.1/depicts",bne="http://xmlns.com/foaf/0.1/thumbnail",Sne="http://xmlns.com/foaf/0.1/myersBriggs",xne="http://xmlns.com/foaf/0.1/workplaceHomepage",Ene="http://xmlns.com/foaf/0.1/workInfoHomepage",Tne="http://xmlns.com/foaf/0.1/schoolHomepage",Cne="http://xmlns.com/foaf/0.1/knows",Ane="http://xmlns.com/foaf/0.1/interest",Rne="http://xmlns.com/foaf/0.1/topic_interest",Pne="http://xmlns.com/foaf/0.1/publications",One="http://xmlns.com/foaf/0.1/currentProject",Lne="http://xmlns.com/foaf/0.1/pastProject",Ine="http://xmlns.com/foaf/0.1/fundedBy",Mne="http://xmlns.com/foaf/0.1/logo",Dne="http://xmlns.com/foaf/0.1/topic",kne="http://xmlns.com/foaf/0.1/primaryTopic",Nne="http://xmlns.com/foaf/0.1/page",Fne="http://xmlns.com/foaf/0.1/theme",jne="http://xmlns.com/foaf/0.1/holdsAccount",$ne="http://xmlns.com/foaf/0.1/accountServiceHomepage",Une="http://xmlns.com/foaf/0.1/accountName",Bne="http://xmlns.com/foaf/0.1/member",qne="http://xmlns.com/foaf/0.1/membershipClass",zne=Object.freeze({Person:Dte,Document:kte,Organization:Nte,Group:Fte,Agent:jte,Project:$te,Image:Ute,PersonalProfileDocument:Bte,OnlineAccount:qte,OnlineGamingAccount:zte,OnlineEcommerceAccount:Hte,OnlineChatAccount:Vte,mbox:Kte,mbox_sha1sum:Gte,gender:Wte,geekcode:Qte,dnaChecksum:Zte,sha1:Jte,based_near:Yte,title:Xte,nick:ene,jabberID:tne,aimChatID:nne,icqChatID:rne,yahooChatID:ine,msnChatID:ane,name:one,firstName:sne,givenname:une,surname:lne,family_name:cne,phone:fne,homepage:dne,weblog:hne,tipjar:pne,plan:gne,made:mne,maker:yne,img:vne,depiction:_ne,depicts:wne,thumbnail:bne,myersBriggs:Sne,workplaceHomepage:xne,workInfoHomepage:Ene,schoolHomepage:Tne,knows:Cne,interest:Ane,topic_interest:Rne,publications:Pne,currentProject:One,pastProject:Lne,fundedBy:Ine,logo:Mne,topic:Dne,primaryTopic:kne,page:Nne,theme:Fne,holdsAccount:jne,accountServiceHomepage:$ne,accountName:Une,member:Bne,membershipClass:qne}),Hne="http://www.w3.org/ns/ldp#Resource",Vne="http://www.w3.org/ns/ldp#RDFSource",Kne="http://www.w3.org/ns/ldp#NonRDFSource",Gne="http://www.w3.org/ns/ldp#Container",Wne="http://www.w3.org/ns/ldp#BasicContainer",Qne="http://www.w3.org/ns/ldp#DirectContainer",Zne="http://www.w3.org/ns/ldp#IndirectContainer",Jne="http://www.w3.org/ns/ldp#hasMemberRelation",Yne="http://www.w3.org/ns/ldp#isMemberOfRelation",Xne="http://www.w3.org/ns/ldp#membershipResource",ere="http://www.w3.org/ns/ldp#insertedContentRelation",tre="http://www.w3.org/ns/ldp#member",nre="http://www.w3.org/ns/ldp#contains",rre="http://www.w3.org/ns/ldp#constrainedBy",ire="http://www.w3.org/ns/ldp#pageSortCriteria",are="http://www.w3.org/ns/ldp#PageSortCriterion",ore="http://www.w3.org/ns/ldp#pageSortPredicate",sre="http://www.w3.org/ns/ldp#pageSortOrder",ure="http://www.w3.org/ns/ldp#pageSortCollation",lre="http://www.w3.org/ns/ldp#Page",cre="http://www.w3.org/ns/ldp#pageSequence",fre="http://www.w3.org/ns/ldp#inbox",dre=Object.freeze({Resource:Hne,RDFSource:Vne,NonRDFSource:Kne,Container:Gne,BasicContainer:Wne,DirectContainer:Qne,IndirectContainer:Zne,hasMemberRelation:Jne,isMemberOfRelation:Yne,membershipResource:Xne,insertedContentRelation:ere,member:tre,contains:nre,constrainedBy:rre,pageSortCriteria:ire,PageSortCriterion:are,pageSortPredicate:ore,pageSortOrder:sre,pageSortCollation:ure,Page:lre,pageSequence:cre,inbox:fre}),hre="http://www.w3.org/ns/pim/meeting#Meeting",pre="http://www.w3.org/ns/pim/meeting#VideoCallPage",gre="http://www.w3.org/ns/pim/meeting#actionItems",mre="http://www.w3.org/ns/pim/meeting#agenda",yre="http://www.w3.org/ns/pim/meeting#attendeeGroup",vre="http://www.w3.org/ns/pim/meeting#chat",_re="http://www.w3.org/ns/pim/meeting#nextMeeting",wre="http://www.w3.org/ns/pim/meeting#previousMeeting",bre="http://www.w3.org/ns/pim/meeting#sharedNotes",Sre="http://www.w3.org/ns/pim/meeting#toolList",xre="http://www.w3.org/ns/pim/meeting#trip",Ere="http://www.w3.org/ns/pim/meeting#videoCallPage",Tre=Object.freeze({Meeting:hre,VideoCallPage:pre,actionItems:gre,agenda:mre,attendeeGroup:yre,chat:vre,nextMeeting:_re,previousMeeting:wre,sharedNotes:bre,toolList:Sre,trip:xre,videoCallPage:Ere}),Cre="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Are="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Rre="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",Pre="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Ore="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Lre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Ire="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",Mre="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",Dre="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",kre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Nre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Fre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",jre="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",$re="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",Ure="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",Bre="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",qre="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",zre="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",Hre="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Vre="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",Kre="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Gre=Object.freeze({HTML:Cre,langString:Are,PlainLiteral:Rre,type:Pre,Property:Ore,Statement:Lre,subject:Ire,predicate:Mre,object:Dre,Bag:kre,Seq:Nre,Alt:Fre,value:jre,List:$re,first:Ure,rest:Bre,XMLLiteral:qre,JSON__workaround:zre,CompoundLiteral:Hre,language:Vre,direction:Kre}),Wre="http://www.w3.org/2000/01/rdf-schema#Resource",Qre="http://www.w3.org/2000/01/rdf-schema#Class",Zre="http://www.w3.org/2000/01/rdf-schema#subClassOf",Jre="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",Yre="http://www.w3.org/2000/01/rdf-schema#comment",Xre="http://www.w3.org/2000/01/rdf-schema#label",eie="http://www.w3.org/2000/01/rdf-schema#domain",tie="http://www.w3.org/2000/01/rdf-schema#range",nie="http://www.w3.org/2000/01/rdf-schema#seeAlso",rie="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",iie="http://www.w3.org/2000/01/rdf-schema#Literal",aie="http://www.w3.org/2000/01/rdf-schema#Container",oie="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",sie="http://www.w3.org/2000/01/rdf-schema#member",uie="http://www.w3.org/2000/01/rdf-schema#Datatype",lie=Object.freeze({Resource:Wre,Class:Qre,subClassOf:Zre,subPropertyOf:Jre,comment:Yre,label:Xre,domain:eie,range:tie,seeAlso:nie,isDefinedBy:rie,Literal:iie,Container:aie,ContainerMembershipProperty:oie,member:sie,Datatype:uie}),cie="http://rdfs.org/sioc/ns#Community",fie="http://rdfs.org/sioc/ns#Container",die="http://rdfs.org/sioc/ns#Forum",hie="http://rdfs.org/sioc/ns#Item",pie="http://rdfs.org/sioc/ns#Post",gie="http://rdfs.org/sioc/ns#Role",mie="http://rdfs.org/sioc/ns#Space",yie="http://rdfs.org/sioc/ns#Site",vie="http://rdfs.org/sioc/ns#Thread",_ie="http://rdfs.org/sioc/ns#UserAccount",wie="http://rdfs.org/sioc/ns#Usergroup",bie="http://rdfs.org/sioc/ns#about",Sie="http://rdfs.org/sioc/ns#account_of",xie="http://rdfs.org/sioc/ns#addressed_to",Eie="http://rdfs.org/sioc/ns#administrator_of",Tie="http://rdfs.org/sioc/ns#attachment",Cie="http://rdfs.org/sioc/ns#avatar",Aie="http://rdfs.org/sioc/ns#container_of",Rie="http://rdfs.org/sioc/ns#content",Pie="http://rdfs.org/sioc/ns#creator_of",Oie="http://rdfs.org/sioc/ns#delivered_at",Lie="http://rdfs.org/sioc/ns#discussion_of",Iie="http://rdfs.org/sioc/ns#email",Mie="http://rdfs.org/sioc/ns#email_sha1",Die="http://rdfs.org/sioc/ns#embeds_knowledge",kie="http://rdfs.org/sioc/ns#feed",Nie="http://rdfs.org/sioc/ns#follows",Fie="http://rdfs.org/sioc/ns#function_of",jie="http://rdfs.org/sioc/ns#generator",$ie="http://rdfs.org/sioc/ns#has_administrator",Uie="http://rdfs.org/sioc/ns#has_container",Bie="http://rdfs.org/sioc/ns#has_creator",qie="http://rdfs.org/sioc/ns#has_discussion",zie="http://rdfs.org/sioc/ns#has_function",Hie="http://rdfs.org/sioc/ns#has_host",Vie="http://rdfs.org/sioc/ns#has_member",Kie="http://rdfs.org/sioc/ns#has_moderator",Gie="http://rdfs.org/sioc/ns#has_modifier",Wie="http://rdfs.org/sioc/ns#has_owner",Qie="http://rdfs.org/sioc/ns#has_parent",Zie="http://rdfs.org/sioc/ns#has_reply",Jie="http://rdfs.org/sioc/ns#has_scope",Yie="http://rdfs.org/sioc/ns#has_space",Xie="http://rdfs.org/sioc/ns#has_subscriber",eae="http://rdfs.org/sioc/ns#has_usergroup",tae="http://rdfs.org/sioc/ns#host_of",nae="http://rdfs.org/sioc/ns#id",rae="http://rdfs.org/sioc/ns#ip_address",iae="http://rdfs.org/sioc/ns#last_activity_date",aae="http://rdfs.org/sioc/ns#last_item_date",oae="http://rdfs.org/sioc/ns#last_reply_date",sae="http://rdfs.org/sioc/ns#latest_version",uae="http://rdfs.org/sioc/ns#likes",lae="http://rdfs.org/sioc/ns#link",cae="http://rdfs.org/sioc/ns#links_to",fae="http://rdfs.org/sioc/ns#member_of",dae="http://rdfs.org/sioc/ns#mentions",hae="http://rdfs.org/sioc/ns#moderator_of",pae="http://rdfs.org/sioc/ns#modifier_of",gae="http://rdfs.org/sioc/ns#name",mae="http://rdfs.org/sioc/ns#next_by_date",yae="http://rdfs.org/sioc/ns#next_version",vae="http://rdfs.org/sioc/ns#note",_ae="http://rdfs.org/sioc/ns#num_authors",wae="http://rdfs.org/sioc/ns#num_items",bae="http://rdfs.org/sioc/ns#num_replies",Sae="http://rdfs.org/sioc/ns#num_threads",xae="http://rdfs.org/sioc/ns#num_views",Eae="http://rdfs.org/sioc/ns#owner_of",Tae="http://rdfs.org/sioc/ns#parent_of",Cae="http://rdfs.org/sioc/ns#previous_by_date",Aae="http://rdfs.org/sioc/ns#previous_version",Rae="http://rdfs.org/sioc/ns#read_at",Pae="http://rdfs.org/sioc/ns#related_to",Oae="http://rdfs.org/sioc/ns#reply_of",Lae="http://rdfs.org/sioc/ns#respond_to",Iae="http://rdfs.org/sioc/ns#scope_of",Mae="http://rdfs.org/sioc/ns#shared_by",Dae="http://rdfs.org/sioc/ns#space_of",kae="http://rdfs.org/sioc/ns#subscriber_of",Nae="http://rdfs.org/sioc/ns#topic",Fae="http://rdfs.org/sioc/ns#usergroup_of",jae=Object.freeze({Community:cie,Container:fie,Forum:die,Item:hie,Post:pie,Role:gie,Space:mie,Site:yie,Thread:vie,UserAccount:_ie,Usergroup:wie,about:bie,account_of:Sie,addressed_to:xie,administrator_of:Eie,attachment:Tie,avatar:Cie,container_of:Aie,content:Rie,creator_of:Pie,delivered_at:Oie,discussion_of:Lie,email:Iie,email_sha1:Mie,embeds_knowledge:Die,feed:kie,follows:Nie,function_of:Fie,generator:jie,has_administrator:$ie,has_container:Uie,has_creator:Bie,has_discussion:qie,has_function:zie,has_host:Hie,has_member:Vie,has_moderator:Kie,has_modifier:Gie,has_owner:Wie,has_parent:Qie,has_reply:Zie,has_scope:Jie,has_space:Yie,has_subscriber:Xie,has_usergroup:eae,host_of:tae,id:nae,ip_address:rae,last_activity_date:iae,last_item_date:aae,last_reply_date:oae,latest_version:sae,likes:uae,link:lae,links_to:cae,member_of:fae,mentions:dae,moderator_of:hae,modifier_of:pae,name:gae,next_by_date:mae,next_version:yae,note:vae,num_authors:_ae,num_items:wae,num_replies:bae,num_threads:Sae,num_views:xae,owner_of:Eae,parent_of:Tae,previous_by_date:Cae,previous_version:Aae,read_at:Rae,related_to:Pae,reply_of:Oae,respond_to:Lae,scope_of:Iae,shared_by:Mae,space_of:Dae,subscriber_of:kae,topic:Nae,usergroup_of:Fae}),$ae="http://www.w3.org/ns/solid/terms#Account",Uae="http://www.w3.org/ns/solid/terms#Inbox",Bae="http://www.w3.org/ns/solid/terms#InsertDeletePatch",qae="http://www.w3.org/ns/solid/terms#ListedDocument",zae="http://www.w3.org/ns/solid/terms#Notification",Hae="http://www.w3.org/ns/solid/terms#Patch",Vae="http://www.w3.org/ns/solid/terms#Timeline",Kae="http://www.w3.org/ns/solid/terms#TypeIndex",Gae="http://www.w3.org/ns/solid/terms#TypeRegistration",Wae="http://www.w3.org/ns/solid/terms#UnlistedDocument",Qae="http://www.w3.org/ns/solid/terms#account",Zae="http://www.w3.org/ns/solid/terms#deletes",Jae="http://www.w3.org/ns/solid/terms#forClass",Yae="http://www.w3.org/ns/solid/terms#inbox",Xae="http://www.w3.org/ns/solid/terms#inserts",eoe="http://www.w3.org/ns/solid/terms#instance",toe="http://www.w3.org/ns/solid/terms#instanceContainer",noe="http://www.w3.org/ns/solid/terms#loginEndpoint",roe="http://www.w3.org/ns/solid/terms#logoutEndpoint",ioe="http://www.w3.org/ns/solid/terms#notification",aoe="http://www.w3.org/ns/solid/terms#oidcIssuer",ooe="http://www.w3.org/ns/solid/terms#owner",soe="http://www.w3.org/ns/solid/terms#patches",uoe="http://www.w3.org/ns/solid/terms#privateTypeIndex",loe="http://www.w3.org/ns/solid/terms#publicTypeIndex",coe="http://www.w3.org/ns/solid/terms#read",foe="http://www.w3.org/ns/solid/terms#storageQuota",doe="http://www.w3.org/ns/solid/terms#storageUsage",hoe="http://www.w3.org/ns/solid/terms#typeIndex",poe="http://www.w3.org/ns/solid/terms#timeline",goe="http://www.w3.org/ns/solid/terms#where",moe=Object.freeze({Account:$ae,Inbox:Uae,InsertDeletePatch:Bae,ListedDocument:qae,Notification:zae,Patch:Hae,Timeline:Vae,TypeIndex:Kae,TypeRegistration:Gae,UnlistedDocument:Wae,account:Qae,deletes:Zae,forClass:Jae,inbox:Yae,inserts:Xae,instance:eoe,instanceContainer:toe,loginEndpoint:noe,logoutEndpoint:roe,notification:ioe,oidcIssuer:aoe,owner:ooe,patches:soe,privateTypeIndex:uoe,publicTypeIndex:loe,read:coe,storageQuota:foe,storageUsage:doe,typeIndex:hoe,timeline:poe,where:goe}),yoe="http://www.w3.org/ns/pim/space#ControlledStorage",voe="http://www.w3.org/ns/pim/space#PersonalStorage",_oe="http://www.w3.org/ns/pim/space#PublicStorage",woe="http://www.w3.org/ns/pim/space#Storage",boe="http://www.w3.org/ns/pim/space#Workspace",Soe="http://www.w3.org/ns/pim/space#masterWorkspace",xoe="http://www.w3.org/ns/pim/space#preferencesFile",Eoe="http://www.w3.org/ns/pim/space#storage",Toe="http://www.w3.org/ns/pim/space#uriPrefix",Coe="http://www.w3.org/ns/pim/space#workspace",Aoe=Object.freeze({ControlledStorage:yoe,PersonalStorage:voe,PublicStorage:_oe,Storage:woe,Workspace:boe,masterWorkspace:Soe,preferencesFile:xoe,storage:Eoe,uriPrefix:Toe,workspace:Coe}),Roe="http://www.w3.org/2006/vcard/ns#Acquaintance",Poe="http://www.w3.org/2006/vcard/ns#Agent",Ooe="http://www.w3.org/2006/vcard/ns#BBS",Loe="http://www.w3.org/2006/vcard/ns#Car",Ioe="http://www.w3.org/2006/vcard/ns#Cell",Moe="http://www.w3.org/2006/vcard/ns#Child",Doe="http://www.w3.org/2006/vcard/ns#Colleague",koe="http://www.w3.org/2006/vcard/ns#Contact",Noe="http://www.w3.org/2006/vcard/ns#Coresident",Foe="http://www.w3.org/2006/vcard/ns#Coworker",joe="http://www.w3.org/2006/vcard/ns#Crush",$oe="http://www.w3.org/2006/vcard/ns#Date",Uoe="http://www.w3.org/2006/vcard/ns#Dom",Boe="http://www.w3.org/2006/vcard/ns#Emergency",qoe="http://www.w3.org/2006/vcard/ns#Fax",zoe="http://www.w3.org/2006/vcard/ns#Female",Hoe="http://www.w3.org/2006/vcard/ns#Friend",Voe="http://www.w3.org/2006/vcard/ns#Home",Koe="http://www.w3.org/2006/vcard/ns#ISDN",Goe="http://www.w3.org/2006/vcard/ns#Internet",Woe="http://www.w3.org/2006/vcard/ns#Intl",Qoe="http://www.w3.org/2006/vcard/ns#Kin",Zoe="http://www.w3.org/2006/vcard/ns#Label",Joe="http://www.w3.org/2006/vcard/ns#Male",Yoe="http://www.w3.org/2006/vcard/ns#Me",Xoe="http://www.w3.org/2006/vcard/ns#Met",ese="http://www.w3.org/2006/vcard/ns#Modem",tse="http://www.w3.org/2006/vcard/ns#Msg",nse="http://www.w3.org/2006/vcard/ns#Muse",rse="http://www.w3.org/2006/vcard/ns#Neighbor",ise="http://www.w3.org/2006/vcard/ns#None",ase="http://www.w3.org/2006/vcard/ns#Other",ose="http://www.w3.org/2006/vcard/ns#PCS",sse="http://www.w3.org/2006/vcard/ns#Pager",use="http://www.w3.org/2006/vcard/ns#Parcel",lse="http://www.w3.org/2006/vcard/ns#Parent",cse="http://www.w3.org/2006/vcard/ns#Postal",fse="http://www.w3.org/2006/vcard/ns#Pref",dse="http://www.w3.org/2006/vcard/ns#Sibling",hse="http://www.w3.org/2006/vcard/ns#Spouse",pse="http://www.w3.org/2006/vcard/ns#Sweetheart",gse="http://www.w3.org/2006/vcard/ns#Tel",mse="http://www.w3.org/2006/vcard/ns#Text",yse="http://www.w3.org/2006/vcard/ns#TextPhone",vse="http://www.w3.org/2006/vcard/ns#Unknown",_se="http://www.w3.org/2006/vcard/ns#Video",wse="http://www.w3.org/2006/vcard/ns#Voice",bse="http://www.w3.org/2006/vcard/ns#Work",Sse="http://www.w3.org/2006/vcard/ns#X400",xse="http://www.w3.org/2006/vcard/ns#adr",Ese="http://www.w3.org/2006/vcard/ns#agent",Tse="http://www.w3.org/2006/vcard/ns#anniversary",Cse="http://www.w3.org/2006/vcard/ns#bday",Ase="http://www.w3.org/2006/vcard/ns#category",Rse="http://www.w3.org/2006/vcard/ns#class",Pse="http://www.w3.org/2006/vcard/ns#email",Ose="http://www.w3.org/2006/vcard/ns#geo",Lse="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Ise="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",Mse="http://www.w3.org/2006/vcard/ns#hasCalendarLink",Dse="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",kse="http://www.w3.org/2006/vcard/ns#hasCategory",Nse="http://www.w3.org/2006/vcard/ns#hasCountryName",Fse="http://www.w3.org/2006/vcard/ns#hasFN",jse="http://www.w3.org/2006/vcard/ns#hasFamilyName",$se="http://www.w3.org/2006/vcard/ns#hasGender",Use="http://www.w3.org/2006/vcard/ns#hasGivenName",Bse="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",qse="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",zse="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Hse="http://www.w3.org/2006/vcard/ns#hasLanguage",Vse="http://www.w3.org/2006/vcard/ns#hasLocality",Kse="http://www.w3.org/2006/vcard/ns#hasNickname",Gse="http://www.w3.org/2006/vcard/ns#hasNote",Wse="http://www.w3.org/2006/vcard/ns#hasOrganizationName",Qse="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Zse="http://www.w3.org/2006/vcard/ns#hasPostalCode",Jse="http://www.w3.org/2006/vcard/ns#hasRegion",Yse="http://www.w3.org/2006/vcard/ns#hasRelated",Xse="http://www.w3.org/2006/vcard/ns#hasRole",eue="http://www.w3.org/2006/vcard/ns#hasSource",tue="http://www.w3.org/2006/vcard/ns#hasStreetAddress",nue="http://www.w3.org/2006/vcard/ns#hasTitle",rue="http://www.w3.org/2006/vcard/ns#hasUID",iue="http://www.w3.org/2006/vcard/ns#hasValue",aue="http://www.w3.org/2006/vcard/ns#label",oue="http://www.w3.org/2006/vcard/ns#language",sue="http://www.w3.org/2006/vcard/ns#latitude",uue="http://www.w3.org/2006/vcard/ns#longitude",lue="http://www.w3.org/2006/vcard/ns#mailer",cue="http://www.w3.org/2006/vcard/ns#note",fue="http://www.w3.org/2006/vcard/ns#org",due="http://www.w3.org/2006/vcard/ns#prodid",hue="http://www.w3.org/2006/vcard/ns#rev",pue="http://www.w3.org/2006/vcard/ns#role",gue="http://www.w3.org/2006/vcard/ns#title",mue="http://www.w3.org/2006/vcard/ns#tz",yue="http://www.w3.org/2006/vcard/ns#value",vue="http://www.w3.org/2006/vcard/ns#Address",_ue="http://www.w3.org/2006/vcard/ns#Email",wue="http://www.w3.org/2006/vcard/ns#Group",bue="http://www.w3.org/2006/vcard/ns#Individual",Sue="http://www.w3.org/2006/vcard/ns#Name",xue="http://www.w3.org/2006/vcard/ns#VCard",Eue="http://www.w3.org/2006/vcard/ns#fn",Tue="http://www.w3.org/2006/vcard/ns#hasAddress",Cue="http://www.w3.org/2006/vcard/ns#hasEmail",Aue="http://www.w3.org/2006/vcard/ns#hasGeo",Rue="http://www.w3.org/2006/vcard/ns#hasKey",Pue="http://www.w3.org/2006/vcard/ns#hasLogo",Oue="http://www.w3.org/2006/vcard/ns#hasName",Lue="http://www.w3.org/2006/vcard/ns#hasPhoto",Iue="http://www.w3.org/2006/vcard/ns#hasSound",Mue="http://www.w3.org/2006/vcard/ns#hasTelephone",Due="http://www.w3.org/2006/vcard/ns#hasURL",kue="http://www.w3.org/2006/vcard/ns#key",Nue="http://www.w3.org/2006/vcard/ns#logo",Fue="http://www.w3.org/2006/vcard/ns#n",jue="http://www.w3.org/2006/vcard/ns#nickname",$ue="http://www.w3.org/2006/vcard/ns#photo",Uue="http://www.w3.org/2006/vcard/ns#sound",Bue="http://www.w3.org/2006/vcard/ns#tel",que="http://www.w3.org/2006/vcard/ns#url",zue="http://www.w3.org/2006/vcard/ns#Location",Hue="http://www.w3.org/2006/vcard/ns#hasMember",Vue="http://www.w3.org/2006/vcard/ns#locality",Kue="http://www.w3.org/2006/vcard/ns#region",Gue="http://www.w3.org/2006/vcard/ns#Organization",Wue="http://www.w3.org/2006/vcard/ns#Gender",Que="http://www.w3.org/2006/vcard/ns#Kind",Zue="http://www.w3.org/2006/vcard/ns#Type",Jue="http://www.w3.org/2006/vcard/ns#TelephoneType",Yue="http://www.w3.org/2006/vcard/ns#RelatedType",Xue=Object.freeze({Acquaintance:Roe,Agent:Poe,BBS:Ooe,Car:Loe,Cell:Ioe,Child:Moe,Colleague:Doe,Contact:koe,Coresident:Noe,Coworker:Foe,Crush:joe,Date__workaround:$oe,Dom:Uoe,Emergency:Boe,Fax:qoe,Female:zoe,Friend:Hoe,Home:Voe,ISDN:Koe,Internet:Goe,Intl__workaround:Woe,Kin:Qoe,Label:Zoe,Male:Joe,Me:Yoe,Met:Xoe,Modem:ese,Msg:tse,Muse:nse,Neighbor:rse,None:ise,Other:ase,PCS:ose,Pager:sse,Parcel:use,Parent:lse,Postal:cse,Pref:fse,Sibling:dse,Spouse:hse,Sweetheart:pse,Tel:gse,Text:mse,TextPhone:yse,Unknown:vse,Video:_se,Voice:wse,Work:bse,X400:Sse,adr:xse,agent:Ese,anniversary:Tse,bday:Cse,category:Ase,class__workaround:Rse,email:Pse,geo:Ose,hasAdditionalName:Lse,hasCalendarBusy:Ise,hasCalendarLink:Mse,hasCalendarRequest:Dse,hasCategory:kse,hasCountryName:Nse,hasFN:Fse,hasFamilyName:jse,hasGender:$se,hasGivenName:Use,hasHonorificPrefix:Bse,hasHonorificSuffix:qse,hasInstantMessage:zse,hasLanguage:Hse,hasLocality:Vse,hasNickname:Kse,hasNote:Gse,hasOrganizationName:Wse,hasOrganizationUnit:Qse,hasPostalCode:Zse,hasRegion:Jse,hasRelated:Yse,hasRole:Xse,hasSource:eue,hasStreetAddress:tue,hasTitle:nue,hasUID:rue,hasValue:iue,label:aue,language:oue,latitude:sue,longitude:uue,mailer:lue,note:cue,org:fue,prodid:due,rev:hue,role:pue,title:gue,tz:mue,value:yue,Address:vue,Email:_ue,Group:wue,Individual:bue,Name:Sue,VCard:xue,fn:Eue,hasAddress:Tue,hasEmail:Cue,hasGeo:Aue,hasKey:Rue,hasLogo:Pue,hasName:Oue,hasPhoto:Lue,hasSound:Iue,hasTelephone:Mue,hasURL:Due,key:kue,logo:Nue,n:Fue,nickname:jue,photo:$ue,sound:Uue,tel:Bue,url:que,Location:zue,hasMember:Hue,locality:Vue,region:Kue,Organization:Gue,Gender:Wue,Kind:Que,Type:Zue,TelephoneType:Jue,RelatedType:Yue}),ele="http://www.w3.org/2005/01/wf/flow#ActionItem",tle="http://www.w3.org/2005/01/wf/flow#Change",nle="http://www.w3.org/2005/01/wf/flow#Closed",rle="http://www.w3.org/2005/01/wf/flow#Creation",ile="http://www.w3.org/2005/01/wf/flow#Message",ale="http://www.w3.org/2005/01/wf/flow#NonTerminalState",ole="http://www.w3.org/2005/01/wf/flow#Open",sle="http://www.w3.org/2005/01/wf/flow#Product",ule="http://www.w3.org/2005/01/wf/flow#Task",lle="http://www.w3.org/2005/01/wf/flow#TerminalState",cle="http://www.w3.org/2005/01/wf/flow#Tracker",fle="http://www.w3.org/2005/01/wf/flow#Transition",dle="http://www.w3.org/2005/01/wf/flow#affects",hle="http://www.w3.org/2005/01/wf/flow#allowedTransitions",ple="http://www.w3.org/2005/01/wf/flow#asigneeClass",gle="http://www.w3.org/2005/01/wf/flow#assignee",mle="http://www.w3.org/2005/01/wf/flow#attachment",yle="http://www.w3.org/2005/01/wf/flow#creates",vle="http://www.w3.org/2005/01/wf/flow#dateDue",_le="http://www.w3.org/2005/01/wf/flow#deliverable",wle="http://www.w3.org/2005/01/wf/flow#dependent",ble="http://www.w3.org/2005/01/wf/flow#description",Sle="http://www.w3.org/2005/01/wf/flow#final",xle="http://www.w3.org/2005/01/wf/flow#goalDescription",Ele="http://www.w3.org/2005/01/wf/flow#initialState",Tle="http://www.w3.org/2005/01/wf/flow#issue",Cle="http://www.w3.org/2005/01/wf/flow#issueCategory",Ale="http://www.w3.org/2005/01/wf/flow#issueClass",Rle="http://www.w3.org/2005/01/wf/flow#message",Ple="http://www.w3.org/2005/01/wf/flow#modifiedBy",Ole="http://www.w3.org/2005/01/wf/flow#recipent",Lle="http://www.w3.org/2005/01/wf/flow#requires",Ile="http://www.w3.org/2005/01/wf/flow#screenShot",Mle="http://www.w3.org/2005/01/wf/flow#sender",Dle="http://www.w3.org/2005/01/wf/flow#source",kle="http://www.w3.org/2005/01/wf/flow#stateStore",Nle="http://www.w3.org/2005/01/wf/flow#subscriber",Fle="http://www.w3.org/2005/01/wf/flow#successCriteria",jle="http://www.w3.org/2005/01/wf/flow#task",$le="http://www.w3.org/2005/01/wf/flow#terminalOutput",Ule="http://www.w3.org/2005/01/wf/flow#testData",Ble="http://www.w3.org/2005/01/wf/flow#tracker",qle="http://www.w3.org/2005/01/wf/flow#transactionStore",zle=Object.freeze({ActionItem:ele,Change:tle,Closed:nle,Creation:rle,Message:ile,NonTerminalState:ale,Open:ole,Product:sle,Task:ule,TerminalState:lle,Tracker:cle,Transition:fle,affects:dle,allowedTransitions:hle,asigneeClass:ple,assignee:gle,attachment:mle,creates:yle,dateDue:vle,deliverable:_le,dependent:wle,description:ble,final:Sle,goalDescription:xle,initialState:Ele,issue:Tle,issueCategory:Cle,issueClass:Ale,message:Rle,modifiedBy:Ple,recipent:Ole,requires:Lle,screenShot:Ile,sender:Mle,source:Dle,stateStore:kle,subscriber:Nle,successCriteria:Fle,task:jle,terminalOutput:$le,testData:Ule,tracker:Ble,transactionStore:qle}),Sn=HJ,QM=eee,uB=Mte,wl=zne,nu=dre,Hle=Tre,Jc=Gre,ZA=lie,Pd=jae,Mn=moe,ym=Aoe,lB=Xue,Vle=zle;const Kle=async(t,e)=>{const n=await globalThis.fetch(t,{method:"GET"});return await dr(n.url,e)},Gle=async t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e(r.result)},r.onerror=i=>n(i)}),ri=t=>{const e=new URL(t);if(e.hash="",e.search="",e.pathname.length===0||e.pathname==="/")return e.toString();const n=e.pathname.split("/").slice(0,-1);return n.push(""),e.pathname=n.join("/"),e.toString()},cB=t=>{const e=ri(t);return e===t?fB(e):e},Wle=t=>Qle(t,cB),fB=t=>{const e=new URL(t);if(e.pathname.length===0||e.pathname==="/")return t;const n=e.pathname.split("/").slice(0,-2);return n.push(""),e.pathname=n.join("/"),e.toString()},Do=async(t,e)=>{try{return await dr(t,e)}catch{return await Kle(t,e)}},Yc=t=>{const e=new URL(t);return e.hash="",e.toString()},ZM=t=>{const e=new URL(t);return e.protocol="https",e.toString()},Qle=(t,e)=>{const n=new Set;let r=t;for(;!n.has(r);)n.add(r),r=e(r);return n.delete(t),Array.from(n)},Tl=async t=>{var a;const n=(await dr(t,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${t} does not have any Link headers`);const i=(a=VZ.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${t}`);return new URL(i,t).toString()},Zle=(t,e)=>{const r=new Hd({baseIRI:t}).parse(e),i=new ps(r),a=i.getSubjects(Jc.type,Sn.Authorization,null),o={[Sn.Read]:"Read",[Sn.Write]:"Write",[Sn.Append]:"Append",[Sn.Control]:"Control"};return a.map(s=>{const c=i.getObjects(s,Sn.mode,null).map(y=>o[y.value]),f=i.getObjects(s,Sn.agent,null).map(y=>y.value),h=i.getObjects(s,Sn.agentClass,null).map(y=>y.value),p=i.getObjects(s,Sn.agentGroup,null).map(y=>y.value),m=i.getObjects(s,Sn.default__workaround,null).map(y=>y.value);return{url:s.value,accesses:c,agents:f,agentClasses:h,agentGroups:p,defaults:m}})},Jle=(t,...e)=>{const n={};for(const r of e)for(const i of r)n[i[t]]=i;return Object.values(n)},JA=(t="")=>{const e=t&&Yc(t),n=ae.useMemo(()=>["file",e],[e]);return fm({queryKey:n,queryFn:()=>Yle(e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},Yle=async t=>{const e=await dr(t);if(e.ok)return URL.createObjectURL(await e.blob());if(e.status===404)return"";throw new Error(`Fetching ${t} not successful`)},Xle=async(t,e)=>{const r=(await dr(t,{method:"POST",body:e})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},ece=async t=>{await dr(t,{method:"DELETE"})},tce=()=>{const t=Ui();return Ea({mutationFn:async({uri:n,data:r})=>await Xle(n,r),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Yc(r.uri)]})}})},nce=()=>{const t=Ui();return Ea({mutationFn:async({uri:n})=>await ece(n),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Yc(r.uri)]})}})};function dB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ii(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dB(t))&&(r&&(r+=" "),r+=e);return r}var hB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JM=Gt.createContext&&Gt.createContext(hB),rce=["attr","size","title"];function ice(t,e){if(t==null)return{};var n=ace(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return e=sce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pB(t){return t&&t.map((e,n)=>Gt.createElement(e.tag,Z_({key:n},e.attr),pB(e.child)))}function ho(t){return e=>Gt.createElement(lce,Q_({attr:Z_({},t.attr)},e),pB(t.child))}function lce(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=ice(t,rce),s=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Gt.createElement("svg",Q_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Z_(Z_({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Gt.createElement("title",null,a),t.children)};return JM!==void 0?Gt.createElement(JM.Consumer,null,n=>e(n)):e(hB)}function cce(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function gB(t){return ho({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(t)}function XM(t){return ho({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function mB(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function fce(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(t)}function dce(t){return ho({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function hce(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function pce(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function gce(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function yB(t){return ho({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function mce(t){return ho({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function yce(t){return ho({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(t)}const vce="_photo_cmh6k_1",_ce="_square_cmh6k_6",tS={photo:vce,square:_ce},O0=({photo:t,size:e=1,square:n,className:r})=>{const{data:i}=JA(t);return i?de.jsx("img",{className:ii(tS.photo,n&&tS.square,r),src:i,alt:"",style:{width:`${e*2}rem`,height:`${e*2}rem`}}):de.jsx(mce,{className:ii(tS.photo,r),size:e*32})},wce="_button_1bmb6_1",bce="_primary_1bmb6_11",Sce="_secondary_1bmb6_20",xce="_tertiary_1bmb6_28",Ece="_danger_1bmb6_33",oa={button:wce,primary:bce,secondary:Sce,tertiary:xce,danger:Ece},Vr=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>de.jsx("button",{className:ii(i,oa.button,t&&oa.primary,r&&oa.danger,e&&oa.secondary,n&&oa.tertiary),...a}),jc=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>de.jsx(Po,{className:ii(i,oa.button,t&&oa.primary,r&&oa.danger,e&&oa.secondary,n&&oa.tertiary),...a}),Tce=t=>de.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:de.jsx(mB,{})}),Cce=({primary:t,secondary:e,tertiary:n,danger:r,className:i,children:a,...o})=>de.jsx("a",{className:ii(i,oa.button,t&&oa.primary,r&&oa.danger,e&&oa.secondary,n&&oa.tertiary),...o,children:a}),Gd=sV,ko=cV,Ace={...TW,communityId:aU,communityContainer:oU,emailNotificationsType:sU,oidcIssuers:fU,geoindexService:uU,tileServer:cU,darkModeLogoStyle:lU},Un=()=>{const t=ko(tU);return ae.useMemo(()=>({...Ace,...t}),[t])},Rce=()=>{const t=Gd(),e=Un();ae.useEffect(()=>{window.updateAppConfig=n=>{t(wC.setConfig(n))},window.resetAppConfig=()=>{t(wC.resetConfig())}},[t]),ae.useEffect(()=>{window.appConfig=e},[e])},Pce="_logoContainer_16cvy_1",Oce="_logo_16cvy_1",Lce="_focusedLogo_16cvy_10",Ice="_unfocusedLogo_16cvy_13",Mce="_darkInvert_16cvy_20",ec={logoContainer:Pce,logo:Oce,focusedLogo:Lce,unfocusedLogo:Ice,darkInvert:Mce},vB=({logo:t,focusedLogo:e,name:n,className:r})=>{const{darkModeLogoStyle:i}=Un();return!t&&!n?null:de.jsxs("div",{className:ec.logoContainer,children:[t&&de.jsx("img",{src:t,className:ii(ec.logo,i==="invert"&&ec.darkInvert,e?ec.unfocusedLogo:null,r),alt:n?`logo of ${n}`:""}),e&&de.jsx("img",{src:e,className:ii(ec.logo,i&&ec.darkInvert,ec.focusedLogo,r),alt:n?`focused logo of ${n}`:""}),n?de.jsx("span",{children:n}):null]})},Dce={switch:"_switch_1g69w_1"},kce=()=>{const t=ko(PA),e=Gd(),n=()=>{e(jG.toggleTheme())};return de.jsx("button",{className:Dce.switch,onClick:n,"aria-label":t==="dark"?"Switch to light theme":"Switch to dark theme",children:t==="dark"?de.jsx(gce,{}):de.jsx(hce,{})})},Nce={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Fce={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},jce={schema:Nce,shape:"https://example.com/HospexCommunity",context:Fce};var $ce=du();const op="http://www.w3.org/1999/02/22-rdf-syntax-ns#",sp="http://www.w3.org/2001/XMLSchema#",nS="http://www.w3.org/2000/10/swap/",$i={xsd:{decimal:`${sp}decimal`,boolean:`${sp}boolean`,double:`${sp}double`,integer:`${sp}integer`,string:`${sp}string`},rdf:{type:`${op}type`,nil:`${op}nil`,first:`${op}first`,rest:`${op}rest`,langString:`${op}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${nS}reify#forSome`,forAll:`${nS}reify#forAll`},log:{implies:`${nS}log#implies`}},{xsd:ev}=$i,Uce=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,eD={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Bce=/[\x00-\x20<>\\"\{\}\|\^\`]/,qce={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},zce=/$0^/;class Hce{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in qce)&&this[n]instanceof RegExp&&(this[n]=zce)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let s,c;for(;s=this._newline.exec(r);)this.comments&&(c=this._comment.exec(s[0]))&&a("comment",c[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(c=this._comment.exec(r))&&a("comment",c[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let p="",m="",y="",_=null,b=0,S=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(b=1,p="^");break}case"<":if(_=this._unescapedIri.exec(r))p="IRI",m=_[1];else if(_=this._iri.exec(r)){if(m=this._unescape(_[1]),m===null||Bce.test(m))return o(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",b=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",b=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",b=2);break;case"_":((_=this._blank.exec(r))||n&&(_=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return o(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return o(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(r))&&(p="var",m=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(r))?(p="langcode",m=_[1]):(_=this._keyword.exec(r))&&(p=_[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(r)||n&&(_=this._number.exec(`${r} `)))&&(p="literal",m=_[0],y=typeof _[1]=="string"?ev.double:typeof _[2]=="string"?ev.decimal:ev.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(r))?p=_[0].toUpperCase():S=!0;break;case"f":case"t":(_=this._boolean.exec(r))?(p="literal",m=_[0],y=ev.boolean):S=!0;break;case"a":(_=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(b=1,m="="):(b=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",b=2):(p=h,b=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",b=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(r))?(p="prefix",m=_[1]||""):((_=this._prefixed.exec(r))||n&&(_=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=_[1]||"",m=this._unescape(_[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const x=b||_[0].length,E=a(p,m,y,f,x);this.previousToken=E,this._previousMarker=p,r=r.substr(x,r.length)}function a(s,c,f,h,p){const m=r?i-r.length:i,y=m+p,_={type:s,value:c,prefix:f,line:h,start:m,end:y};return e(null,_),_}function o(s){e(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(Uce,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let c=Number.parseInt(o,16);return c<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return s in eD?eD[s]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const o=e.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,c=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:c}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")KU(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=$ce.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:Vce,xsd:Ec}=$i;let Wd,Kce=0;const bl={namedNode:wB,blankNode:bB,variable:xB,literal:SB,defaultGraph:Zce,quad:OC,triple:OC,fromTerm:mg,fromQuad:EB};class jo{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof jo?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let as=class extends jo{get termType(){return"NamedNode"}},S_=class _B extends jo{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new as(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Ec.string:Vce.langString}equals(e){return e instanceof _B?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Gce=class extends jo{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Wce=class extends jo{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Qce=class extends jo{constructor(){return super(""),Wd||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Wd=new Qce;function gg(t,e,n){if(e=e||bl,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===bl)return new S_(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(gg(t[0],e,!0),gg(t[1],e,!0),gg(t[2],e,!0),t[3]&&gg(t[3],e,!0))}function nd(t,e){if(typeof t=="string")return t;if(t instanceof jo&&t.termType!=="Quad")return t.id;if(!t)return Wd.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Ec.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[nd(t.subject,!0),nd(t.predicate,!0),nd(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(nd(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Xo=class extends jo{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||Wd}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function wB(t){return new as(t)}function bB(t){return new Gce(t||`n3-${Kce++}`)}function SB(t,e){if(typeof e=="string")return new S_(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Ec.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Ec.integer:Ec.double:(n=Ec.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Ec.string?new S_(`"${t}"`):new S_(`"${t}"^^${n}`)}function xB(t){return new Wce(t)}function Zce(){return Wd}function OC(t,e,n,r){return new Xo(t,e,n,r)}function mg(t){if(t instanceof jo)return t;switch(t.termType){case"NamedNode":return wB(t.value);case"BlankNode":return bB(t.value);case"Variable":return xB(t.value);case"DefaultGraph":return Wd;case"Literal":return SB(t.value,t.language||t.datatype);case"Quad":return EB(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function EB(t){if(t instanceof Xo)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return OC(mg(t.subject),mg(t.predicate),mg(t.object),mg(t.graph))}let tD=0;class TB{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&CB(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),c=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),c&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new Hce({lineMode:c,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){tD=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=tv}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(s=e[++i+1],s){case"/":r+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+e.substring(o,i)+e.substr(i+1);case".":if(s=e[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=e.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${e.substr(i+1)}`;o=i+1}}}s=e[++i]}return r+e.substring(o)}parse(e,n,r){let i,a,o;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,o=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${tD++}_`,this._prefixCallback=a||tv,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const c=[];let f;if(this._callback=(h,p)=>{h?f=h:p&&c.push(p)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),f)throw f;return c}let s=(c,f)=>{c!==null?(this._callback(c),this._callback=tv):this._readCallback&&(this._readCallback=this._readCallback(f))};o&&(this._lexer.comments=!0,s=(c,f)=>{c!==null?(this._callback(c),this._callback=tv):this._readCallback&&(f.type==="comment"?o(f.value):this._readCallback=this._readCallback(f))}),this._callback=i,this._lexer.tokenize(e,s)}}function tv(){}function CB(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n($i.rdf.first),t.RDF_REST=n($i.rdf.rest),t.RDF_NIL=n($i.rdf.nil),t.N3_FORALL=n($i.r.forAll),t.N3_FORSOME=n($i.r.forSome),t.ABBREVIATIONS={a:n($i.rdf.type),"=":n($i.owl.sameAs),">":n($i.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}CB(TB.prototype,bl);function LC(t){return!!t&&t.termType==="DefaultGraph"}const up=bl.defaultGraph(),{rdf:Jce,xsd:Uf}=$i,nD=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,rD=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Yce={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class lp extends jo{equals(e){return e===this}}class AB{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=up,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${aD(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return up.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(up.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){let n="";for(const r of e)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),nD.test(n)&&(n=n.replace(rD,iD));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(nD.test(n)&&(n=n.replace(rD,iD)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Uf.string)return`"${n}"`}else switch(e.datatype.value){case Uf.string:return`"${n}"`;case Uf.boolean:if(n==="true"||n==="false")return n;break;case Uf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Uf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Uf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===Jce.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${LC(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,up,i):this._writeQuad(e,n,r,i||up,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=aD(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new lp("[]");case 1:if(i=r[0],!(i.object instanceof lp))return new lp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new lp(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new lp(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function iD(t){let e=Yce[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function aD(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const rS=Symbol("iter");function Ag(t,e,n=4){if(n===0)return Object.assign(t,e);for(const r in e)t[r]=Ag(t[r]||Object.create(null),e[r],n-1);return t}function RB(t,e,n=4){let r=!1;for(const i in t)if(i in e){const a=n===0?null:RB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function PB(t,e,n=4){let r=!1;for(const i in t)if(!(i in e))r=r||Object.create(null),r[i]=n===0?null:Ag({},t[i],n-1);else if(n!==0){const a=PB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class Xce{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||bl}_termFromId(e){if(e[0]==="."){const n=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return gg(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(LC(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[nd(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${LC(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:nd(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class ma{constructor(e,n){this._size=0,this._graphs=Object.create(null),!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||bl,this._entityIndex=n.entityIndex||new Xce({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])e+=Object.keys(i[s]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(e,n,r,i){const a=e[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,o,s,c){let f,h,p;const m=this._entities,y=this._termFromId(m[c]),_={subject:null,predicate:null,object:null};n&&((f=e,e={})[n]=f[n]);for(const b in e)if(h=e[b]){_[a]=this._termFromId(m[b]),r&&((f=h,h={})[r]=f[r]);for(const S in h)if(p=h[S]){_[o]=this._termFromId(m[S]);const x=i?i in p?[i]:[]:Object.keys(p);for(let E=0;E<x.length;E++)_[s]=this._termFromId(m[x[E]]),yield this._factory.quad(_.subject,_.predicate,_.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,o,s;if((a=e[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(e,n,r,i){let a=0,o,s,c;n&&((o=e,e={})[n]=o[n]);for(const f in e)if(s=e[f]){r&&((o=s,s={})[r]=o[r]);for(const h in s)(c=s[h])&&(i?i in c&&a++:a+=Object.keys(c).length)}return a}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,e,n,r)?(this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,!0):!1}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||({subject:e,predicate:n,object:r,graph:i}=e),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,c;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[e])||!(c=s[n])||!(r in c))return!1;this._removeFromIndex(o.subjects,e,n,r),this._removeFromIndex(o.predicates,n,r,e),this._removeFromIndex(o.objects,r,e,n),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new Kd.Readable({objectMode:!0}),o=this.readQuads(e,n,r,i);return a._read=s=>{for(;--s>=0;){const{done:c,value:f}=o.next();if(c){a.push(null);return}a.push(f)}},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){const a=this._getGraphs(i);let o,s,c,f;if(!(e&&!(s=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const h in a)(o=a[h])&&(s?f?yield*this._findInIndex(o.objects,f,s,c,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,s,c,null,"subject","predicate","object",h):c?yield*this._findInIndex(o.predicates,c,f,null,"predicate","object","subject",h):f?yield*this._findInIndex(o.objects,f,null,null,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new rl(this,e,n,r,i,{entityIndex:this._entityIndex})}countQuads(e,n,r,i){const a=this._getGraphs(i);let o=0,s,c,f,h;if(e&&!(c=this._termToNumericId(e))||n&&!(f=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(s=a[p])&&(e?r?o+=this._countInIndex(s.objects,h,c,f):o+=this._countInIndex(s.subjects,c,f,h):n?o+=this._countInIndex(s.predicates,f,h,c):o+=this._countInIndex(s.objects,h,c,f));return o}forEach(e,n,r,i,a){this.some(o=>(e(o,this),!1),n,r,i,a)}every(e,n,r,i,a){return!this.some(o=>!e(o,this),n,r,i,a)}some(e,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(e(o))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){const a=this._getGraphs(i);let o,s,c;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?c?this._loopBy2Keys(o.predicates,s,c,e):this._loopByKey1(o.subjects,s,e):c?this._loopByKey0(o.objects,c,e):this._loop(o.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){const a=this._getGraphs(i);let o,s,c;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?c?this._loopBy2Keys(o.objects,c,s,e):this._loopByKey0(o.subjects,s,e):c?this._loopByKey1(o.predicates,c,e):this._loop(o.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){const a=this._getGraphs(i);let o,s,c;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?c?this._loopBy2Keys(o.subjects,s,c,e):this._loopByKey1(o.objects,s,e):c?this._loopByKey0(o.predicates,c,e):this._loop(o.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(o=>(e(o.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,c)=>{throw new Error(`${s.value} ${c}`)},a=this.getQuads(null,$i.rdf.rest,$i.rdf.nil,null),o=e?[...a]:[];return a.forEach(s=>{const c=[];let f=!1,h,p;const m=s.graph;let y=s.subject;for(;y&&!f;){const _=this.getQuads(null,null,y,null),b=this.getQuads(y,null,null,null);let S,x=null,E=null,A=null;for(let I=0;I<b.length&&!f;I++)S=b[I],S.graph.equals(m)?h?f=i(y,"has non-list arcs out"):S.predicate.value===$i.rdf.first?x?f=i(y,"has multiple rdf:first arcs"):o.push(x=S):S.predicate.value===$i.rdf.rest?E?f=i(y,"has multiple rdf:rest arcs"):o.push(E=S):_.length?f=i(y,"can't be subject and object"):(h=S,p="subject"):f=i(y,"not confined to single graph");for(let I=0;I<_.length&&!f;++I)S=_[I],h?f=i(y,"can't have coreferences"):S.predicate.value===$i.rdf.rest?A?f=i(y,"has incoming rdf:rest arcs"):A=S:(h=S,p="object");x?c.unshift(x.object):f=i(y,"has no list head"),y=A&&A.subject}f?e=!1:h&&(r[h[p].value]=c)}),e&&this.removeQuads(o),r}addAll(e){if(e instanceof rl&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof ma&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=Ag(this._graphs,e._graphs),this._size=null);else for(const n of e)this.add(n);return this}contains(e){if(e instanceof rl&&(e=e.filtered),e===this)return!0;if(!(e instanceof ma)||this._entityIndex!==e._entityIndex)return e.every(f=>this.has(f));const n=this._graphs,r=e._graphs;let i,a,o,s,c;for(const f in r){if(!(i=n[f]))return!1;i=i.subjects;for(const h in a=r[f].subjects){if(!(o=i[h]))return!1;for(const p in s=a[h]){if(!(c=o[p]))return!1;for(const m in s[p])if(!(m in c))return!1}}}return!0}deleteMatches(e,n,r,i){for(const a of this.match(e,n,r,i))this.removeQuad(a);return this}difference(e){if(e&&e instanceof rl&&(e=e.filtered),e===this)return new ma({entityIndex:this._entityIndex});if(e instanceof ma&&e._entityIndex===this._entityIndex){const n=new ma({entityIndex:this._entityIndex}),r=PB(this._graphs,e._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!e.has(n))}equals(e){return e instanceof rl&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const n=new ma({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&n.add(r);return n}intersection(e){if(e instanceof rl&&(e=e.filtered),e===this){const n=new ma({entityIndex:this._entityIndex});return n._graphs=Ag(Object.create(null),this._graphs),n._size=this._size,n}else if(e instanceof ma&&this._entityIndex===e._entityIndex){const n=new ma({entityIndex:this._entityIndex}),r=RB(e._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>e.has(n))}map(e){const n=new ma({entityIndex:this._entityIndex});for(const r of this)n.add(e(r,this));return n}reduce(e,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=e(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new AB().quadsToString(this)}union(e){const n=new ma({entityIndex:this._entityIndex});return n._graphs=Ag(Object.create(null),this._graphs),n._size=this._size,n.addAll(e),n}*[Symbol.iterator](){yield*this.readQuads()}}function Yo(t,e,n=0){const r=e[n];if(r&&!(r in t))return!1;let i=!1;for(const a in r?{[r]:t[r]}:t){const o=n===2?null:Yo(t[a],e,n+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class rl extends Kd.Readable{constructor(e,n,r,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new ma({factory:e._factory,entityIndex:this.options.entityIndex});let s,c,f;if(a&&!(s=o._termToNumericId(a))||i&&!(c=o._termToNumericId(i))||r&&!(f=o._termToNumericId(r)))return o;const h=e._getGraphs(n);for(const p in h){let m,y,_;!s&&c?(y=Yo(h[p].predicates,[c,f,s]))&&(m=Yo(h[p].subjects,[s,c,f]),_=Yo(h[p].objects,[f,s,c])):f?(_=Yo(h[p].objects,[f,s,c]))&&(m=Yo(h[p].subjects,[s,c,f]),y=Yo(h[p].predicates,[c,f,s])):(m=Yo(h[p].subjects,[s,c,f]))&&(y=Yo(h[p].predicates,[c,f,s]),_=Yo(h[p].objects,[f,s,c])),m&&(o._graphs[p]={subjects:m,predicates:y,objects:_})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[rS]&&(this[rS]=this[Symbol.iterator]());const n=this[rS];for(;--e>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,n,r,i){return this.filtered.deleteMatches(e,n,r,i)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,n,r,i,a){return this.filtered.every(e,n,r,i,a)}filter(e){return this.filtered.filter(e)}forEach(e,n,r,i,a){return this.filtered.forEach(e,n,r,i,a)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,n,r,i,a){return this.filtered.some(e,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,n){return this.filtered.reduce(e,n)}toString(){return new AB().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new rl(this.filtered,e,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function oD(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var YA=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(h){try{f(r.next(h))}catch(p){o(p)}}function c(h){try{f(r.throw(h))}catch(p){o(p)}}function f(h){h.done?a(h.value):i(h.value).then(s,c)}f((r=r.apply(t,e||[])).next())})};const efe=t=>(e,n)=>YA(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(e,{method:"GET"});return yield t(r.url,n)}),tfe=t=>(e,n)=>YA(void 0,void 0,void 0,function*(){try{return yield t(e,n)}catch{return yield efe(t)(e,n)}}),IC=t=>{const e=new URL(t);return e.hash="",e.toString()},OB=(t,e)=>YA(void 0,void 0,void 0,function*(){let n=[],r="",i=-1,a=!1,o;try{const s=IC(t);return o=yield tfe(e)(s),a=o.ok,i=o.status,r=yield o.text(),n=nfe(r,{baseIRI:s}),{data:n,rawData:r,hash:oD(r),ok:a,statusCode:i,response:o}}catch{return a=!1,{data:n,rawData:r,hash:oD(r),ok:a,statusCode:i,response:o}}}),nfe=(t,e)=>{const n=new TB(e),r=bl.namedNode(e.baseIRI);return n.parse(t).map(({subject:a,predicate:o,object:s})=>bl.quad(a,o,s,r))},x_=t=>JSON.stringify(t.toJSON()),tc=["subject","predicate","object","graph"],LB={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let Zu=class extends as{constructor(e){super(LB.variable+"/"+e),this.variable=e}static getVar(e){return e.value.split("/").pop()}};const bn=Object.fromEntries(Object.entries(LB).map(([t,e])=>[t,new as(e)]));class rfe{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let e="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);e+=r.concat(" ")+" ==> "+i.concat(" ")}),e}}add(e){var n,r,i;this.list.add(e),Object.values(e.from).forEach(a=>{a.forEach(o=>{var s,c,f;(s=(c=this.provides)[f=o.value])!==null&&s!==void 0||(c[f]=new Set),this.provides[o.value].add(e)})}),Object.values(e.to).forEach(a=>{a.forEach(o=>{var s,c,f;(s=(c=this.providersOf)[f=o.value])!==null&&s!==void 0||(c[f]=new Set),this.providersOf[o.value].add(e)})}),e.quad&&((n=(r=this.byQuad)[i=x_(e.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[x_(e.quad)].add(e))}remove(e){this.list.delete(e),Object.values(e.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(e)})}),Object.values(e.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(e)})}),e.quad&&this.byQuad[x_(e.quad)].delete(e)}}class sD{constructor(e,n,r=new ma){this.moves=new rfe,this.store=r,this.query=e,Object.entries(n).forEach(([i,a])=>{a.forEach(o=>{const s=new as(o);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(e,n){var r;if(this.store.removeQuad(new Xo(n,bn.variable,new Zu(e),bn.meta)),n.termType==="NamedNode"){const o=new as(IC(n.value));this.store.removeQuad(new Xo(n,bn.resource,o,bn.meta)),this.store.removeQuads(this.store.getQuads(o,bn.status,null,bn.meta)),this.removeResource(o.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(o=>{var s;return Array.from((s=o.from[e])!==null&&s!==void 0?s:[]).some(c=>c.equals(n))});for(const o of a){const s=o.to;this.moves.remove(o);for(const c in s)s[c].forEach(f=>{var h;Array.from((h=this.moves.providersOf[f.value])!==null&&h!==void 0?h:new Set).filter(m=>{var y;return Array.from((y=m.to[c])!==null&&y!==void 0?y:[]).some(_=>_.equals(f))}).length===0&&this.removeVariable(c,f)})}}addResource(e,n,r="success"){const i=new as(e),a=this.store.getQuads(null,null,null,i),[o,s]=ife(n,a);o.forEach(p=>this.addQuad(p)),s.forEach(p=>this.removeQuad(p));const c=new Xo(i,bn.status,bn.missing,bn.meta),f=new Xo(i,bn.status,bn.added,bn.meta),h=new Xo(i,bn.status,bn.failed,bn.meta);this.store.removeQuads([c,f,h]),r==="success"&&this.store.addQuad(f),r==="error"&&this.store.addQuad(h)}addQuad(e){this.store.addQuad(e);const n=Object.fromEntries(tc.map(a=>[a,this.store.getObjects(e[a],bn.variable,bn.meta)])),r=(a,o)=>{const s=a[o],c=e[o];return!!(!s||s.startsWith("?")&&n[o].some(f=>f.equals(new Zu(s.slice(1))))||s===c.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>tc.every(o=>r(a,o))).map(([a,o])=>[+a,o]);for(const[a,o]of i){const s={};for(const f of tc){const h=o[f];h!=null&&h.startsWith("?")&&(s[h.slice(1)]=new Set([e[f]]))}const c={[o.target.slice(1)]:new Set([e[o.pick]])};this.moves.add({step:a,from:s,to:c,quad:e}),this.addVariable(o.target.slice(1),e[o.pick])}}removeResource(e){this.store.getQuads(null,null,null,new as(e)).forEach(r=>this.removeQuad(r))}removeQuad(e){var n;this.store.removeQuad(e),((n=this.moves.byQuad[x_(e)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const o in a)a[o].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(f=>{var h;return Array.from((h=f.to[o])!==null&&h!==void 0?h:[]).some(p=>p.equals(s))}).length===0&&this.removeVariable(o,s)})})}hopFromVariable(e,n){const r=`?${e}`;this.query.map((a,o)=>[a,o]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&tc.some(o=>a[o]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,o])=>{var s;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const c=a.transform(n);c&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([c])},step:o}),this.addVariable(a.target.slice(1),c))}else if(a.type==="match"){const c=(h,p)=>{let m=new Set;const y=h[p];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new as(y));else if(y.slice(1)===e)m.add(n);else{const _=this.store.getSubjects(bn.variable,new Zu(y.slice(1)),bn.meta);m=new Set(_)}return m},f=Object.fromEntries(tc.map(h=>[h,c(a,h)]));for(const h of f.subject)for(const p of f.predicate)for(const m of f.object)for(const y of f.graph){const _=this.store.getQuads(h,p,m,y);for(const b of _){const S=a.target.slice(1),x=b[a.pick],E={};for(const I of tc)!((s=a[I])===null||s===void 0)&&s.startsWith("?")&&(E[a[I].slice(1)]=new Set([h]));const A={[S]:new Set([x])};this.moves.add({from:E,to:A,step:o,quad:b}),this.addVariable(S,x)}}}})}addVariable(e,n){if(this.store.has(new Xo(n,bn.variable,new Zu(e),bn.meta)))return;this.store.addQuads([new Xo(n,bn.variable,new Zu(e),bn.meta)]);let r;n.termType==="NamedNode"&&(r=new as(IC(n.value)),this.store.addQuads([new Xo(n,bn.resource,r,bn.meta)]));const i=`?${e}`,a=this.query.some(c=>typeof c!="function"&&c.type==="add resources"&&c.variable===i),o=this.query.some(c=>typeof c!="function"&&c.type==="match"&&tc.some(f=>c[f]===i));r&&(a||o)&&this.store.match(r,bn.status,null,bn.meta).size===0&&this.store.addQuad(r,bn.status,bn.missing,bn.meta),this.hopFromVariable(e,n)}getVariable(e){return this.store.getSubjects(bn.variable,new Zu(e),bn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,bn.variable,null,bn.meta).reduce((e,n)=>{var r,i;return(r=e[i=Zu.getVar(n.object)])!==null&&r!==void 0||(e[i]=new Set),e[Zu.getVar(n.object)].add(n.subject.value),e},{})}getResources(e){if(!e)return this.store.getObjects(null,bn.resource,bn.meta).map(r=>r.value);const n=e==="missing"?bn.missing:e==="failed"?bn.failed:bn.added;return this.store.getSubjects(bn.status,n,bn.meta).map(r=>r.value)}}const ife=(t,e)=>{if(e.length===0)return[t,[]];if(t.length===0)return[[],e];const n=t.filter(i=>!e.some(a=>i.equals(a))),r=e.filter(i=>!t.some(a=>i.equals(a)));return[n,r]};var iS,uD;function afe(){if(uD)return iS;uD=1;function t(){this.__data__=[],this.size=0}return iS=t,iS}var aS,lD;function vm(){if(lD)return aS;lD=1;function t(e,n){return e===n||e!==e&&n!==n}return aS=t,aS}var oS,cD;function L0(){if(cD)return oS;cD=1;var t=vm();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return oS=e,oS}var sS,fD;function ofe(){if(fD)return sS;fD=1;var t=L0(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return sS=r,sS}var uS,dD;function sfe(){if(dD)return uS;dD=1;var t=L0();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return uS=e,uS}var lS,hD;function ufe(){if(hD)return lS;hD=1;var t=L0();function e(n){return t(this.__data__,n)>-1}return lS=e,lS}var cS,pD;function lfe(){if(pD)return cS;pD=1;var t=L0();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return cS=e,cS}var fS,gD;function I0(){if(gD)return fS;gD=1;var t=afe(),e=ofe(),n=sfe(),r=ufe(),i=lfe();function a(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var f=o[s];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,fS=a,fS}var dS,mD;function cfe(){if(mD)return dS;mD=1;var t=I0();function e(){this.__data__=new t,this.size=0}return dS=e,dS}var hS,yD;function ffe(){if(yD)return hS;yD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return hS=t,hS}var pS,vD;function dfe(){if(vD)return pS;vD=1;function t(e){return this.__data__.get(e)}return pS=t,pS}var gS,_D;function hfe(){if(_D)return gS;_D=1;function t(e){return this.__data__.has(e)}return gS=t,gS}var mS,wD;function IB(){if(wD)return mS;wD=1;var t=typeof lg=="object"&&lg&&lg.Object===Object&&lg;return mS=t,mS}var yS,bD;function $o(){if(bD)return yS;bD=1;var t=IB(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return yS=n,yS}var vS,SD;function Qd(){if(SD)return vS;SD=1;var t=$o(),e=t.Symbol;return vS=e,vS}var _S,xD;function pfe(){if(xD)return _S;xD=1;var t=Qd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=n.call(o,i),c=o[i];try{o[i]=void 0;var f=!0}catch{}var h=r.call(o);return f&&(s?o[i]=c:delete o[i]),h}return _S=a,_S}var wS,ED;function gfe(){if(ED)return wS;ED=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return wS=n,wS}var bS,TD;function Zd(){if(TD)return bS;TD=1;var t=Qd(),e=pfe(),n=gfe(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):n(s)}return bS=o,bS}var SS,CD;function Uo(){if(CD)return SS;CD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return SS=t,SS}var xS,AD;function XA(){if(AD)return xS;AD=1;var t=Zd(),e=Uo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var c=t(s);return c==r||c==i||c==n||c==a}return xS=o,xS}var ES,RD;function mfe(){if(RD)return ES;RD=1;var t=$o(),e=t["__core-js_shared__"];return ES=e,ES}var TS,PD;function yfe(){if(PD)return TS;PD=1;var t=mfe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return TS=n,TS}var CS,OD;function MB(){if(OD)return CS;OD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return CS=n,CS}var AS,LD;function vfe(){if(LD)return AS;LD=1;var t=XA(),e=yfe(),n=Uo(),r=MB(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,c=o.toString,f=s.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||e(m))return!1;var y=t(m)?h:a;return y.test(r(m))}return AS=p,AS}var RS,ID;function _fe(){if(ID)return RS;ID=1;function t(e,n){return e==null?void 0:e[n]}return RS=t,RS}var PS,MD;function Xc(){if(MD)return PS;MD=1;var t=vfe(),e=_fe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return PS=n,PS}var OS,DD;function eR(){if(DD)return OS;DD=1;var t=Xc(),e=$o(),n=t(e,"Map");return OS=n,OS}var LS,kD;function M0(){if(kD)return LS;kD=1;var t=Xc(),e=t(Object,"create");return LS=e,LS}var IS,ND;function wfe(){if(ND)return IS;ND=1;var t=M0();function e(){this.__data__=t?t(null):{},this.size=0}return IS=e,IS}var MS,FD;function bfe(){if(FD)return MS;FD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return MS=t,MS}var DS,jD;function Sfe(){if(jD)return DS;jD=1;var t=M0(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return DS=i,DS}var kS,$D;function xfe(){if($D)return kS;$D=1;var t=M0(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return kS=r,kS}var NS,UD;function Efe(){if(UD)return NS;UD=1;var t=M0(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return NS=n,NS}var FS,BD;function Tfe(){if(BD)return FS;BD=1;var t=wfe(),e=bfe(),n=Sfe(),r=xfe(),i=Efe();function a(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var f=o[s];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,FS=a,FS}var jS,qD;function Cfe(){if(qD)return jS;qD=1;var t=Tfe(),e=I0(),n=eR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return jS=r,jS}var $S,zD;function Afe(){if(zD)return $S;zD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return $S=t,$S}var US,HD;function D0(){if(HD)return US;HD=1;var t=Afe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return US=e,US}var BS,VD;function Rfe(){if(VD)return BS;VD=1;var t=D0();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return BS=e,BS}var qS,KD;function Pfe(){if(KD)return qS;KD=1;var t=D0();function e(n){return t(this,n).get(n)}return qS=e,qS}var zS,GD;function Ofe(){if(GD)return zS;GD=1;var t=D0();function e(n){return t(this,n).has(n)}return zS=e,zS}var HS,WD;function Lfe(){if(WD)return HS;WD=1;var t=D0();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return HS=e,HS}var VS,QD;function tR(){if(QD)return VS;QD=1;var t=Cfe(),e=Rfe(),n=Pfe(),r=Ofe(),i=Lfe();function a(o){var s=-1,c=o==null?0:o.length;for(this.clear();++s<c;){var f=o[s];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,VS=a,VS}var KS,ZD;function Ife(){if(ZD)return KS;ZD=1;var t=I0(),e=eR(),n=tR(),r=200;function i(a,o){var s=this.__data__;if(s instanceof t){var c=s.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(c)}return s.set(a,o),this.size=s.size,this}return KS=i,KS}var GS,JD;function k0(){if(JD)return GS;JD=1;var t=I0(),e=cfe(),n=ffe(),r=dfe(),i=hfe(),a=Ife();function o(s){var c=this.__data__=new t(s);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,GS=o,GS}var WS,YD;function Mfe(){if(YD)return WS;YD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return WS=e,WS}var QS,XD;function Dfe(){if(XD)return QS;XD=1;function t(e){return this.__data__.has(e)}return QS=t,QS}var ZS,ek;function kfe(){if(ek)return ZS;ek=1;var t=tR(),e=Mfe(),n=Dfe();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,ZS=r,ZS}var JS,tk;function Nfe(){if(tk)return JS;tk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return JS=t,JS}var YS,nk;function Ffe(){if(nk)return YS;nk=1;function t(e,n){return e.has(n)}return YS=t,YS}var XS,rk;function DB(){if(rk)return XS;rk=1;var t=kfe(),e=Nfe(),n=Ffe(),r=1,i=2;function a(o,s,c,f,h,p){var m=c&r,y=o.length,_=s.length;if(y!=_&&!(m&&_>y))return!1;var b=p.get(o),S=p.get(s);if(b&&S)return b==s&&S==o;var x=-1,E=!0,A=c&i?new t:void 0;for(p.set(o,s),p.set(s,o);++x<y;){var I=o[x],M=s[x];if(f)var D=m?f(M,I,x,s,o,p):f(I,M,x,o,s,p);if(D!==void 0){if(D)continue;E=!1;break}if(A){if(!e(s,function(j,Q){if(!n(A,Q)&&(I===j||h(I,j,c,f,p)))return A.push(Q)})){E=!1;break}}else if(!(I===M||h(I,M,c,f,p))){E=!1;break}}return p.delete(o),p.delete(s),E}return XS=a,XS}var ex,ik;function kB(){if(ik)return ex;ik=1;var t=$o(),e=t.Uint8Array;return ex=e,ex}var tx,ak;function jfe(){if(ak)return tx;ak=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return tx=t,tx}var nx,ok;function $fe(){if(ok)return nx;ok=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return nx=t,nx}var rx,sk;function Ufe(){if(sk)return rx;sk=1;var t=Qd(),e=kB(),n=vm(),r=DB(),i=jfe(),a=$fe(),o=1,s=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",_="[object Set]",b="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function M(D,j,Q,Y,q,Z,fe){switch(Q){case E:if(D.byteLength!=j.byteLength||D.byteOffset!=j.byteOffset)return!1;D=D.buffer,j=j.buffer;case x:return!(D.byteLength!=j.byteLength||!Z(new e(D),new e(j)));case c:case f:case m:return n(+D,+j);case h:return D.name==j.name&&D.message==j.message;case y:case b:return D==j+"";case p:var te=i;case _:var se=Y&o;if(te||(te=a),D.size!=j.size&&!se)return!1;var pe=fe.get(D);if(pe)return pe==j;Y|=s,fe.set(D,j);var be=r(te(D),te(j),Y,q,Z,fe);return fe.delete(D),be;case S:if(I)return I.call(D)==I.call(j)}return!1}return rx=M,rx}var ix,uk;function nR(){if(uk)return ix;uk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return ix=t,ix}var ax,lk;function Bo(){if(lk)return ax;lk=1;var t=Array.isArray;return ax=t,ax}var ox,ck;function NB(){if(ck)return ox;ck=1;var t=nR(),e=Bo();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return ox=n,ox}var sx,fk;function Bfe(){if(fk)return sx;fk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];n(s,r,e)&&(o[a++]=s)}return o}return sx=t,sx}var ux,dk;function FB(){if(dk)return ux;dk=1;function t(){return[]}return ux=t,ux}var lx,hk;function rR(){if(hk)return lx;hk=1;var t=Bfe(),e=FB(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return r.call(o,s)}))}:e;return lx=a,lx}var cx,pk;function qfe(){if(pk)return cx;pk=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return cx=t,cx}var fx,gk;function pu(){if(gk)return fx;gk=1;function t(e){return e!=null&&typeof e=="object"}return fx=t,fx}var dx,mk;function zfe(){if(mk)return dx;mk=1;var t=Zd(),e=pu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return dx=r,dx}var hx,yk;function N0(){if(yk)return hx;yk=1;var t=zfe(),e=pu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return hx=a,hx}var yg={exports:{}},px,vk;function Hfe(){if(vk)return px;vk=1;function t(){return!1}return px=t,px}yg.exports;var _k;function F0(){return _k||(_k=1,function(t,e){var n=$o(),r=Hfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,f=c||r;t.exports=f}(yg,yg.exports)),yg.exports}var gx,wk;function iR(){if(wk)return gx;wk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return gx=n,gx}var mx,bk;function aR(){if(bk)return mx;bk=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return mx=e,mx}var yx,Sk;function Vfe(){if(Sk)return yx;Sk=1;var t=Zd(),e=aR(),n=pu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",_="[object String]",b="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",j="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",Z={};Z[E]=Z[A]=Z[I]=Z[M]=Z[D]=Z[j]=Z[Q]=Z[Y]=Z[q]=!0,Z[r]=Z[i]=Z[S]=Z[a]=Z[x]=Z[o]=Z[s]=Z[c]=Z[f]=Z[h]=Z[p]=Z[m]=Z[y]=Z[_]=Z[b]=!1;function fe(te){return n(te)&&e(te.length)&&!!Z[t(te)]}return yx=fe,yx}var vx,xk;function oR(){if(xk)return vx;xk=1;function t(e){return function(n){return e(n)}}return vx=t,vx}var vg={exports:{}};vg.exports;var Ek;function sR(){return Ek||(Ek=1,function(t,e){var n=IB(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s}(vg,vg.exports)),vg.exports}var _x,Tk;function uR(){if(Tk)return _x;Tk=1;var t=Vfe(),e=oR(),n=sR(),r=n&&n.isTypedArray,i=r?e(r):t;return _x=i,_x}var wx,Ck;function jB(){if(Ck)return wx;Ck=1;var t=qfe(),e=N0(),n=Bo(),r=F0(),i=iR(),a=uR(),o=Object.prototype,s=o.hasOwnProperty;function c(f,h){var p=n(f),m=!p&&e(f),y=!p&&!m&&r(f),_=!p&&!m&&!y&&a(f),b=p||m||y||_,S=b?t(f.length,String):[],x=S.length;for(var E in f)(h||s.call(f,E))&&!(b&&(E=="length"||y&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,x)))&&S.push(E);return S}return wx=c,wx}var bx,Ak;function lR(){if(Ak)return bx;Ak=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return bx=e,bx}var Sx,Rk;function $B(){if(Rk)return Sx;Rk=1;function t(e,n){return function(r){return e(n(r))}}return Sx=t,Sx}var xx,Pk;function Kfe(){if(Pk)return xx;Pk=1;var t=$B(),e=t(Object.keys,Object);return xx=e,xx}var Ex,Ok;function Gfe(){if(Ok)return Ex;Ok=1;var t=lR(),e=Kfe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return Ex=i,Ex}var Tx,Lk;function j0(){if(Lk)return Tx;Lk=1;var t=XA(),e=aR();function n(r){return r!=null&&e(r.length)&&!t(r)}return Tx=n,Tx}var Cx,Ik;function _m(){if(Ik)return Cx;Ik=1;var t=jB(),e=Gfe(),n=j0();function r(i){return n(i)?t(i):e(i)}return Cx=r,Cx}var Ax,Mk;function UB(){if(Mk)return Ax;Mk=1;var t=NB(),e=rR(),n=_m();function r(i){return t(i,n,e)}return Ax=r,Ax}var Rx,Dk;function Wfe(){if(Dk)return Rx;Dk=1;var t=UB(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,c,f,h){var p=s&e,m=t(a),y=m.length,_=t(o),b=_.length;if(y!=b&&!p)return!1;for(var S=y;S--;){var x=m[S];if(!(p?x in o:r.call(o,x)))return!1}var E=h.get(a),A=h.get(o);if(E&&A)return E==o&&A==a;var I=!0;h.set(a,o),h.set(o,a);for(var M=p;++S<y;){x=m[S];var D=a[x],j=o[x];if(c)var Q=p?c(j,D,x,o,a,h):c(D,j,x,a,o,h);if(!(Q===void 0?D===j||f(D,j,s,c,h):Q)){I=!1;break}M||(M=x=="constructor")}if(I&&!M){var Y=a.constructor,q=o.constructor;Y!=q&&"constructor"in a&&"constructor"in o&&!(typeof Y=="function"&&Y instanceof Y&&typeof q=="function"&&q instanceof q)&&(I=!1)}return h.delete(a),h.delete(o),I}return Rx=i,Rx}var Px,kk;function Qfe(){if(kk)return Px;kk=1;var t=Xc(),e=$o(),n=t(e,"DataView");return Px=n,Px}var Ox,Nk;function Zfe(){if(Nk)return Ox;Nk=1;var t=Xc(),e=$o(),n=t(e,"Promise");return Ox=n,Ox}var Lx,Fk;function Jfe(){if(Fk)return Lx;Fk=1;var t=Xc(),e=$o(),n=t(e,"Set");return Lx=n,Lx}var Ix,jk;function Yfe(){if(jk)return Ix;jk=1;var t=Xc(),e=$o(),n=t(e,"WeakMap");return Ix=n,Ix}var Mx,$k;function $0(){if($k)return Mx;$k=1;var t=Qfe(),e=eR(),n=Zfe(),r=Jfe(),i=Yfe(),a=Zd(),o=MB(),s="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=o(t),_=o(e),b=o(n),S=o(r),x=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=m||e&&E(new e)!=s||n&&E(n.resolve())!=f||r&&E(new r)!=h||i&&E(new i)!=p)&&(E=function(A){var I=a(A),M=I==c?A.constructor:void 0,D=M?o(M):"";if(D)switch(D){case y:return m;case _:return s;case b:return f;case S:return h;case x:return p}return I}),Mx=E,Mx}var Dx,Uk;function Xfe(){if(Uk)return Dx;Uk=1;var t=k0(),e=DB(),n=Ufe(),r=Wfe(),i=$0(),a=Bo(),o=F0(),s=uR(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function _(b,S,x,E,A,I){var M=a(b),D=a(S),j=M?h:i(b),Q=D?h:i(S);j=j==f?p:j,Q=Q==f?p:Q;var Y=j==p,q=Q==p,Z=j==Q;if(Z&&o(b)){if(!o(S))return!1;M=!0,Y=!1}if(Z&&!Y)return I||(I=new t),M||s(b)?e(b,S,x,E,A,I):n(b,S,j,x,E,A,I);if(!(x&c)){var fe=Y&&y.call(b,"__wrapped__"),te=q&&y.call(S,"__wrapped__");if(fe||te){var se=fe?b.value():b,pe=te?S.value():S;return I||(I=new t),A(se,pe,x,E,I)}}return Z?(I||(I=new t),r(b,S,x,E,A,I)):!1}return Dx=_,Dx}var kx,Bk;function cR(){if(Bk)return kx;Bk=1;var t=Xfe(),e=pu();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,s)}return kx=n,kx}var Nx,qk;function ede(){if(qk)return Nx;qk=1;var t=cR();function e(n,r){return t(n,r)}return Nx=e,Nx}var tde=ede();const BB=Gr(tde);var Fx,zk;function qB(){if(zk)return Fx;zk=1;var t=Xc(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Fx=e,Fx}var jx,Hk;function U0(){if(Hk)return jx;Hk=1;var t=qB();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return jx=e,jx}var $x,Vk;function nde(){if(Vk)return $x;Vk=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),c=s.length;c--;){var f=s[e?c:++a];if(r(o[f],f,o)===!1)break}return n}}return $x=t,$x}var Ux,Kk;function zB(){if(Kk)return Ux;Kk=1;var t=nde(),e=t();return Ux=e,Ux}var Bx,Gk;function rde(){if(Gk)return Bx;Gk=1;var t=zB(),e=_m();function n(r,i){return r&&t(r,i,e)}return Bx=n,Bx}var qx,Wk;function ide(){if(Wk)return qx;Wk=1;var t=k0(),e=cR(),n=1,r=2;function i(a,o,s,c){var f=s.length,h=f,p=!c;if(a==null)return!h;for(a=Object(a);f--;){var m=s[f];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++f<h;){m=s[f];var y=m[0],_=a[y],b=m[1];if(p&&m[2]){if(_===void 0&&!(y in a))return!1}else{var S=new t;if(c)var x=c(_,b,y,a,o,S);if(!(x===void 0?e(b,_,n|r,c,S):x))return!1}}return!0}return qx=i,qx}var zx,Qk;function HB(){if(Qk)return zx;Qk=1;var t=Uo();function e(n){return n===n&&!t(n)}return zx=e,zx}var Hx,Zk;function ade(){if(Zk)return Hx;Zk=1;var t=HB(),e=_m();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,t(s)]}return i}return Hx=n,Hx}var Vx,Jk;function VB(){if(Jk)return Vx;Jk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Vx=t,Vx}var Kx,Yk;function ode(){if(Yk)return Kx;Yk=1;var t=ide(),e=ade(),n=VB();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Kx=r,Kx}var Gx,Xk;function wm(){if(Xk)return Gx;Xk=1;var t=Zd(),e=pu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Gx=r,Gx}var Wx,eN;function fR(){if(eN)return Wx;eN=1;var t=Bo(),e=wm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return Wx=i,Wx}var Qx,tN;function sde(){if(tN)return Qx;tN=1;var t=tR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],c=a.cache;if(c.has(s))return c.get(s);var f=r.apply(this,o);return a.cache=c.set(s,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,Qx=n,Qx}var Zx,nN;function ude(){if(nN)return Zx;nN=1;var t=sde(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Zx=n,Zx}var Jx,rN;function lde(){if(rN)return Jx;rN=1;var t=ude(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,c,f){a.push(c?f.replace(n,"$1"):s||o)}),a});return Jx=r,Jx}var Yx,iN;function KB(){if(iN)return Yx;iN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Yx=t,Yx}var Xx,aN;function cde(){if(aN)return Xx;aN=1;var t=Qd(),e=KB(),n=Bo(),r=wm(),i=1/0,a=t?t.prototype:void 0,o=a?a.toString:void 0;function s(c){if(typeof c=="string")return c;if(n(c))return e(c,s)+"";if(r(c))return o?o.call(c):"";var f=c+"";return f=="0"&&1/c==-i?"-0":f}return Xx=s,Xx}var eE,oN;function fde(){if(oN)return eE;oN=1;var t=cde();function e(n){return n==null?"":t(n)}return eE=e,eE}var tE,sN;function B0(){if(sN)return tE;sN=1;var t=Bo(),e=fR(),n=lde(),r=fde();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return tE=i,tE}var nE,uN;function bm(){if(uN)return nE;uN=1;var t=wm(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return nE=n,nE}var rE,lN;function dR(){if(lN)return rE;lN=1;var t=B0(),e=bm();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return rE=n,rE}var iE,cN;function dde(){if(cN)return iE;cN=1;var t=dR();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return iE=e,iE}var aE,fN;function hde(){if(fN)return aE;fN=1;function t(e,n){return e!=null&&n in Object(e)}return aE=t,aE}var oE,dN;function pde(){if(dN)return oE;dN=1;var t=B0(),e=N0(),n=Bo(),r=iR(),i=aR(),a=bm();function o(s,c,f){c=t(c,s);for(var h=-1,p=c.length,m=!1;++h<p;){var y=a(c[h]);if(!(m=s!=null&&f(s,y)))break;s=s[y]}return m||++h!=p?m:(p=s==null?0:s.length,!!p&&i(p)&&r(y,p)&&(n(s)||e(s)))}return oE=o,oE}var sE,hN;function gde(){if(hN)return sE;hN=1;var t=hde(),e=pde();function n(r,i){return r!=null&&e(r,i,t)}return sE=n,sE}var uE,pN;function mde(){if(pN)return uE;pN=1;var t=cR(),e=dde(),n=gde(),r=fR(),i=HB(),a=VB(),o=bm(),s=1,c=2;function f(h,p){return r(h)&&i(p)?a(o(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?n(m,h):t(p,y,s|c)}}return uE=f,uE}var lE,gN;function hR(){if(gN)return lE;gN=1;function t(e){return e}return lE=t,lE}var cE,mN;function yde(){if(mN)return cE;mN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return cE=t,cE}var fE,yN;function vde(){if(yN)return fE;yN=1;var t=dR();function e(n){return function(r){return t(r,n)}}return fE=e,fE}var dE,vN;function _de(){if(vN)return dE;vN=1;var t=yde(),e=vde(),n=fR(),r=bm();function i(a){return n(a)?t(r(a)):e(a)}return dE=i,dE}var hE,_N;function pR(){if(_N)return hE;_N=1;var t=ode(),e=mde(),n=hR(),r=Bo(),i=_de();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return hE=a,hE}var pE,wN;function wde(){if(wN)return pE;wN=1;var t=U0(),e=rde(),n=pR();function r(i,a){var o={};return a=n(a,3),e(i,function(s,c,f){t(o,c,a(s,c,f))}),o}return pE=r,pE}var bde=wde();const bN=Gr(bde);var Sde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xde=()=>({}),Ede=(t,e)=>{if(t.length!==e.length)return!1;const n=new Set(t);return e.every(r=>n.has(r))},ba=({query:t,variables:e,fetch:n,getQueryKey:r=o=>["rdfDocument",o],staleTime:i=1/0,getAdditionalData:a=xde})=>{const o=ae.useMemo(()=>bN(e,j=>new Set(j)),[e]),[s,c]=ae.useState([]),[f,h]=ae.useState({}),[p,m]=ae.useState(new ps),[y,_]=ae.useState([]),[b,S]=ae.useState(!1),x=ae.useCallback(j=>{var Q;return Object.assign(Object.assign({},(Q=a(j))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(j.map((Y,q)=>[s[q],Y==null?void 0:Y.data])),pending:j.some(Y=>Y.isPending)})},[a,s]),E=gA({queries:s.map(j=>({queryKey:r(j),queryFn:()=>OB(j,n),staleTime:i})),combine:x}),A=ae.useRef(new sD(t,o)),I=ae.useRef(E.data);ae.useEffect(()=>{A.current=new sD(t,o);const j=A.current.getMissingResources();c(j),m(A.current.store),I.current={}},[t,o]),ae.useEffect(()=>{if(!E)return;for(const q in E.data){const Z=E.data[q];if(!Z)continue;const fe=I.current[q];(fe==null?void 0:fe.hash)!==Z.hash&&A.current.addResource(q,Z.data,Z.ok?"success":"error")}const j=A.current.getMissingResources();S(j.length>0),c(q=>{const Z=[];for(const fe of j)q.includes(fe)||Z.push(fe);return Z.length===0?q:Z.concat(q)});const Q=bN(A.current.getAllVariables(),q=>Array.from(q));h(q=>BB(Q,q)?q:Q),m(A.current.store);const Y=[...A.current.store];_(q=>Ede(q,Y)?q:Y),I.current=E.data},[E]);const M=E,D=Sde(M,["data","pending"]);return ae.useMemo(()=>Object.assign({store:p,quads:y,variables:f,qas:A.current,isLoading:E==null?void 0:E.pending,isMissing:b},D),[b,y,p,f,D,E==null?void 0:E.pending])};var cp={},fp={},nv={},nc={},dp={},rv={},hp={},gE={},mE={},Si={},pp={},gp={},SN;function GB(){if(SN)return gp;SN=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.BlankNode=void 0;let t=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return gp.BlankNode=t,gp}var mp={},yp={},xN;function WB(){if(xN)return yp;xN=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.DefaultGraph=void 0;let t=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return yp.DefaultGraph=t,t.INSTANCE=new t,yp}var vp={},_p={},EN;function gR(){if(EN)return _p;EN=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.NamedNode=void 0;let t=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return _p.NamedNode=t,_p}var TN;function QB(){if(TN)return vp;TN=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.Literal=void 0;const t=gR();let e=class MC{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=MC.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=MC.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return vp.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),vp}var wp={},CN;function ZB(){if(CN)return wp;CN=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.Quad=void 0;let t=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return wp.Quad=t,wp}var bp={},AN;function JB(){if(AN)return bp;AN=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.Variable=void 0;let t=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return bp.Variable=t,bp}var RN;function Tde(){if(RN)return mp;RN=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.DataFactory=void 0;const t=GB(),e=WB(),n=QB(),r=gR(),i=ZB(),a=JB();let o=0,s=class{constructor(f){this.blankNodeCounter=0,f=f||{},this.blankNodePrefix=f.blankNodePrefix||`df_${o++}_`}namedNode(f){return new r.NamedNode(f)}blankNode(f){return new t.BlankNode(f||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(f,h){return new n.Literal(f,h)}variable(f){return new a.Variable(f)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(f,h,p,m){return new i.Quad(f,h,p,m||this.defaultGraph())}fromTerm(f){switch(f.termType){case"NamedNode":return this.namedNode(f.value);case"BlankNode":return this.blankNode(f.value);case"Literal":return f.language?this.literal(f.value,f.language):f.datatype.equals(n.Literal.XSD_STRING)?this.literal(f.value):this.literal(f.value,this.fromTerm(f.datatype));case"Variable":return this.variable(f.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(f.subject),this.fromTerm(f.predicate),this.fromTerm(f.object),this.fromTerm(f.graph))}}fromQuad(f){return this.fromTerm(f)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return mp.DataFactory=s,mp}var PN;function Cde(){return PN||(PN=1,function(t){var e=pp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=pp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(GB(),t),n(Tde(),t),n(WB(),t),n(QB(),t),n(gR(),t),n(ZB(),t),n(JB(),t)}(pp)),pp}var ON;function Ade(){if(ON)return Si;ON=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.stringQuadToQuad=Si.quadToStringQuad=Si.stringToTerm=Si.getLiteralLanguage=Si.getLiteralType=Si.getLiteralValue=Si.termToString=void 0;const t=Cde(),e=new t.DataFactory;function n(f){if(f)switch(f.termType){case"NamedNode":return f.value;case"BlankNode":return"_:"+f.value;case"Literal":const h=f;return'"'+h.value+'"'+(h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+h.datatype.value:"")+(h.language?"@"+h.language:"");case"Quad":return`<<${n(f.subject)} ${n(f.predicate)} ${n(f.object)}${f.graph.termType==="DefaultGraph"?"":" "+n(f.graph)}>>`;case"Variable":return"?"+f.value;case"DefaultGraph":return f.value}}Si.termToString=n;function r(f){const h=/^"([^]*)"/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]}Si.getLiteralValue=r;function i(f){const h=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]||(h[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Si.getLiteralType=i;function a(f){const h=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]?h[1].toLowerCase():""}Si.getLiteralLanguage=a;function o(f,h){if(h=h||e,!f||!f.length)return h.defaultGraph();switch(f[0]){case"_":return h.blankNode(f.substr(2));case"?":if(!h.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return h.variable(f.substr(1));case'"':const p=a(f),m=h.namedNode(i(f));return h.literal(r(f),p||m);case"<":default:if(f[0]==="<"&&f.length>4&&f[1]==="<"&&f[f.length-1]===">"&&f[f.length-2]===">"){const y=f.slice(2,-2).trim();let _=[],b=0,S=0,x=!1;for(let E=0;E<y.length;E++){const A=y[E];if(A==="<"&&b++,A===">"){if(b===0)throw new Error("Found closing tag without opening tag in "+f);b--}if(A==='"'){let I=!1,M=E;for(;M-- >0&&y[M]==="\\";)I=!I;I||(x=!x)}if(A===" "&&!x&&b===0){for(_.push(y.slice(S,E));y[E+1]===" ";)E+=1;S=E+1}}if(b!==0)throw new Error("Found opening tag without closing tag in "+f);if(_.push(y.slice(S,y.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+f);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),h.quad(o(_[0]),o(_[1]),o(_[2]),_[3]?o(_[3]):void 0)}return h.namedNode(f)}}Si.stringToTerm=o;function s(f){return{subject:n(f.subject),predicate:n(f.predicate),object:n(f.object),graph:n(f.graph)}}Si.quadToStringQuad=s;function c(f,h){return h=h||e,h.quad(o(f.subject,h),o(f.predicate,h),o(f.object,h),o(f.graph,h))}return Si.stringQuadToQuad=c,Si}var LN;function mR(){return LN||(LN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Ade();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(mE)),mE}var IN;function Rde(){return IN||(IN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=mR();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}t.subjectNodeToString=n;function r(S){return o(S)}t.predicateNodeToString=r;function i(S){return o(S)}t.objectNodeToString=i;function a(S){return o(S)}t.grpahNodeToString=a;function o(S){return(0,e.termToString)(S)}t.nodeToString=o;function s(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=s;function c(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=c;function f(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function _(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function b(S){try{const x=JSON.parse(S);return[x.subject!=null?f(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=b}(gE)),gE}var Sp={},yE,MN;function Pde(){if(MN)return yE;MN=1;class t{constructor(n){this.value=n||"b"+ ++t.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="BlankNode",t.nextId=0,yE=t,yE}var vE,DN;function YB(){if(DN)return vE;DN=1;class t{equals(n){return!!n&&n.termType===this.termType}}return t.prototype.termType="DefaultGraph",t.prototype.value="",vE=t,vE}var _E,kN;function Ode(){if(kN)return _E;kN=1;function t(e){if(!e)return null;if(e.termType==="BlankNode")return this.blankNode(e.value);if(e.termType==="DefaultGraph")return this.defaultGraph();if(e.termType==="Literal")return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if(e.termType==="NamedNode")return this.namedNode(e.value);if(e.termType==="Quad"){const n=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),i=this.fromTerm(e.object),a=this.fromTerm(e.graph);return this.quad(n,r,i,a)}if(e.termType==="Variable")return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}return _E=t,_E}var wE,NN;function XB(){if(NN)return wE;NN=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="NamedNode",wE=t,wE}var bE,FN;function Lde(){if(FN)return bE;FN=1;const t=XB();class e{constructor(r,i,a){this.value=r,this.datatype=e.stringDatatype,this.language="",i?(this.language=i,this.datatype=e.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return e.prototype.termType="Literal",e.langStringDatatype=new t("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.stringDatatype=new t("http://www.w3.org/2001/XMLSchema#string"),bE=e,bE}var SE,jN;function Ide(){if(jN)return SE;jN=1;const t=YB();class e{constructor(r,i,a,o){this.subject=r,this.predicate=i,this.object=a,o?this.graph=o:this.graph=new t}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return e.prototype.termType="Quad",e.prototype.value="",SE=e,SE}var xE,$N;function Mde(){if($N)return xE;$N=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="Variable",xE=t,xE}var EE,UN;function Dde(){if(UN)return EE;UN=1;const t=Pde(),e=YB(),n=Ode(),r=Lde(),i=XB(),a=Ide(),o=Mde();function s(x){return new i(x)}function c(x){return new t(x)}function f(x,E){return typeof E=="string"?E.indexOf(":")===-1?new r(x,E):new r(x,null,S.namedNode(E)):new r(x,null,E)}function h(x){return new o(x)}function p(){return S.defaultGraphInstance}function m(x,E,A){return S.quad(x,E,A)}function y(x,E,A,I){return new a(x,E,A,I||S.defaultGraphInstance)}function _(x){return n.call(S,x)}function b(x){return n.call(S,x)}const S={namedNode:s,blankNode:c,literal:f,variable:h,defaultGraph:p,triple:m,quad:y,fromTerm:_,fromQuad:b,defaultGraphInstance:new e};return EE=S,EE}var TE,BN;function yi(){return BN||(BN=1,TE=Dde()),TE}var rc={};const Jd=r5(xJ);var qN;function e8(){if(qN)return rc;qN=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.datasetToJsonLd=rc.datasetToString=void 0;const t=Jd;function e(r,i){const a=new t.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}rc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return rc.datasetToJsonLd=n,rc}var zN;function kde(){if(zN)return Sp;zN=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.changesToSparqlUpdate=void 0;const t=yi(),e=e8();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Sp.changesToSparqlUpdate=n,Sp}var xp={},HN;function Nde(){if(HN)return xp;HN=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.serializedToQuads=void 0;const t=Jd;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return xp.serializedToQuads=e,xp}var VN;function t8(){return VN||(VN=1,function(t){var e=hp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=hp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Rde(),t),n(kde(),t),n(e8(),t),n(Nde(),t)}(hp)),hp}var KN;function n8(){if(KN)return rv;KN=1,Object.defineProperty(rv,"__esModule",{value:!0});const t=t8(),e=iB();let n=class DC{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new DC(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,o,s){const c=this.match(i,a,o,s);for(const f of c)this.dataset.delete(f);return this}difference(i){const a=this.createBlankDataset();for(const o of this)i.has(o)||a.add(o);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const o of this)i(o,this)&&a.add(o);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,o)=>{i.on("data",s=>{this.add(s)}).on("end",()=>{a(this)}).on("error",s=>o(s))})}intersection(i){const a=this.createBlankDataset(),o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const c of o)s.has(c)&&a.add(c);return a}map(i){const a=this.createBlankDataset();for(const o of this)a.add(i(o,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const o=this[Symbol.iterator]();let s=o.next(),c=a;for(;!s.done;)c=i(c,s.value,this),s=o.next();return c}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new e.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,t.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const o of this)a.add(o);for(const o of i)a.add(o);return a}match(i,a,o,s){return new DC(this.dataset.match(i,a,o,s),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return rv.default=n,rv}var GN;function r8(){if(GN)return dp;GN=1;var t=dp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dp,"__esModule",{value:!0});const e=t(n8());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new e.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return dp.default=n,dp}var CE,WN;function Fde(){if(WN)return CE;WN=1;function t(o){return typeof o=="string"||o instanceof String}const e="http://www.w3.org/2001/XMLSchema#string";function n(o){if(typeof o=="string")return o;if(!o)return"";if(typeof o.id<"u"&&o.termType!=="Quad")return o.id;let s,c,f,h;switch(o.termType){case"NamedNode":return o.value;case"BlankNode":return`_:${o.value}`;case"Variable":return`?${o.value}`;case"DefaultGraph":return"";case"Literal":return o.language?`"${o.value}"@${o.language}`:`"${o.value}"${o.datatype&&o.datatype.value!==e?`^^${o.datatype.value}`:""}`;case"Quad":return s=i(n(o.subject)),c=i(n(o.predicate)),f=i(n(o.object)),h=o.graph.termType==="DefaultGraph"?"":` ${n(o.graph)}`,`<<${s} ${c} ${f}${h}>>`;default:throw new Error(`Unexpected termType: ${o.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(o){return o.replace(r,(s,c)=>`"${c.replace(/"/g,'""')}`)}class a{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const c of s)this.add(c)}get size(){let s=this._size;if(s!==null)return s;s=0;const c=this._graphs;let f,h;for(const p in c)for(const m in f=c[p].subjects)for(const y in h=f[m])s+=Object.keys(h[y]).length;return this._size=s,this._size}add(s){let c=n(s.subject),f=n(s.predicate),h=n(s.object);const p=n(s.graph);let m=this._graphs[p];m||(m=this._graphs[p]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,_=this._entities;return c=y[c]||(y[_[++this._id]=c]=this._id),f=y[f]||(y[_[++this._id]=f]=this._id),h=y[h]||(y[_[++this._id]=h]=this._id),this._addToIndex(m.subjects,c,f,h),this._addToIndex(m.predicates,f,h,c),this._addToIndex(m.objects,h,c,f),this._setQuad(c,f,h,p,s),this._size=null,this}delete(s){let c=n(s.subject),f=n(s.predicate),h=n(s.object);const p=n(s.graph),m=this._ids,y=this._graphs;let _,b,S;if(!(c=m[c])||!(f=m[f])||!(h=m[h])||!(_=y[p])||!(b=_.subjects[c])||!(S=b[f])||!(h in S))return this;this._removeFromIndex(_.subjects,c,f,h),this._removeFromIndex(_.predicates,f,h,c),this._removeFromIndex(_.objects,h,c,f),this._size!==null&&this._size--,this._deleteQuad(c,f,h,p);for(c in _.subjects)return this;return delete y[p],this}has(s){const c=n(s.subject),f=n(s.predicate),h=n(s.object),p=n(s.graph),m=this._graphs[p];if(!m)return!1;const y=this._ids;let _,b,S;return t(c)&&!(_=y[c])||t(f)&&!(b=y[f])||t(h)&&!(S=y[h])?!1:this._countInIndex(m.objects,S,_,b)===1}match(s,c,f,h){return this._createDataset(this._match(s,c,f,h))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,c,f,h){const p=s[c]||(s[c]={}),m=p[f]||(p[f]={}),y=h in m;return y||(m[h]=null),!y}_removeFromIndex(s,c,f,h){const p=s[c],m=p[f];delete m[h];for(const y in m)return;delete p[f];for(const y in p)return;delete s[c]}_findInIndex(s,c,f,h,p,m,y,_,b,S){let x,E,A;c&&((x=s,s={})[c]=x[c]);for(const I in s)if(E=s[I],E){f&&((x=E,E={})[f]=x[f]);for(const M in E)if(A=E[M],A){const D=h?h in A?[h]:[]:Object.keys(A);for(let j=0;j<D.length;j++){const Q={[p]:I,[m]:M,[y]:D[j]},Y=this._getQuad(Q.subject,Q.predicate,Q.object,_);if(S)S.push(Y);else if(b(Y))return!0}}}return S}_countInIndex(s,c,f,h){let p=0,m,y,_;c&&((m=s,s={})[c]=m[c]);for(const b in s)if(y=s[b],y){f&&((m=y,y={})[f]=m[f]);for(const S in y)_=y[S],_&&(h?h in _&&p++:p+=Object.keys(_).length)}return p}_getGraphs(s){return t(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,c,f,h){s=s&&n(s),c=c&&n(c),f=f&&n(f),h=h&&n(h);const p=[],m=this._getGraphs(h),y=this._ids;let _,b,S,x;if(t(s)&&!(b=y[s])||t(c)&&!(S=y[c])||t(f)&&!(x=y[f]))return p;for(const E in m)_=m[E],_&&(b?x?this._findInIndex(_.objects,x,b,S,"object","subject","predicate",E,null,p):this._findInIndex(_.subjects,b,S,null,"subject","predicate","object",E,null,p):S?this._findInIndex(_.predicates,S,x,null,"predicate","object","subject",E,null,p):x?this._findInIndex(_.objects,x,null,null,"object","subject","predicate",E,null,p):this._findInIndex(_.subjects,null,null,null,"subject","predicate","object",E,null,p));return p}_getQuad(s,c,f,h){return this._quads.get(this._toId(s,c,f,h))}_setQuad(s,c,f,h,p){this._quads.set(this._toId(s,c,f,h),p)}_deleteQuad(s,c,f,h){this._quads.delete(this._toId(s,c,f,h))}_createDataset(s){return new this.constructor(s)}_toId(s,c,f,h){return`${s}:${c}:${f}:${h}`}}return CE=a,CE}var AE,QN;function jde(){if(QN)return AE;QN=1;const t=yi(),e=Fde();function n(r){return new e(r)}return AE=Object.assign({dataset:n},t),AE}var ZN;function i8(){if(ZN)return nc;ZN=1;var t=nc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nc,"__esModule",{value:!0}),nc.createExtendedDatasetFactory=void 0;const e=t(r8()),n=jde();function r(){const a={dataset:o=>(0,n.dataset)(Array.isArray(o)?o:o==null?void 0:o.toArray())};return new e.default(a)}nc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return nc.default=i,nc}var iv={},JN;function a8(){if(JN)return iv;JN=1,Object.defineProperty(iv,"__esModule",{value:!0});const t=t8();async function e(n,r,i){const a=await(0,t.serializedToQuads)(r,i);return n.dataset(a)}return iv.default=e,iv}var Ep={},YN;function $de(){if(YN)return Ep;YN=1;var t=Ep.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ep,"__esModule",{value:!0});const e=t(a8()),n=i8();async function r(i,a){const o=(0,n.createExtendedDatasetFactory)();return(0,e.default)(o,i,a)}return Ep.default=r,Ep}var XN;function ef(){return XN||(XN=1,function(t){var e=nv.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createDatasetFactory=t.createDataset=void 0;var n=i8();Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return e(n).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=a8();Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return e(r).default}});var i=$de();Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return e(i).default}});var a=n8();Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return e(a).default}});var o=r8();Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return e(o).default}})}(nv)),nv}var ic={},Tp={},Cp={},Ks={},Ap={},Rp={},Pp={},RE={},e3;function Ude(){return e3||(e3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=mR();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}t.subjectNodeToString=n;function r(S){return o(S)}t.predicateNodeToString=r;function i(S){return o(S)}t.objectNodeToString=i;function a(S){return o(S)}t.grpahNodeToString=a;function o(S){return(0,e.termToString)(S)}t.nodeToString=o;function s(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=s;function c(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=c;function f(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function _(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function b(S){try{const x=JSON.parse(S);return[x.subject!=null?f(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=b}(RE)),RE}var Op={},ac={},t3;function o8(){if(t3)return ac;t3=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.datasetToJsonLd=ac.datasetToString=void 0;const t=Jd;function e(r,i){const a=new t.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}ac.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return ac.datasetToJsonLd=n,ac}var n3;function Bde(){if(n3)return Op;n3=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.changesToSparqlUpdate=void 0;const t=yi(),e=o8();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Op.changesToSparqlUpdate=n,Op}var Lp={},r3;function qde(){if(r3)return Lp;r3=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.serializedToQuads=void 0;const t=Jd;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return Lp.serializedToQuads=e,Lp}var i3;function zde(){return i3||(i3=1,function(t){var e=Pp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=Pp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ude(),t),n(Bde(),t),n(o8(),t),n(qde(),t)}(Pp)),Pp}var a3;function yR(){if(a3)return Rp;a3=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.SubscribableDataset=void 0;const t=zd(),e=zde(),n=ef();let r=class extends n.ExtendedDataset{constructor(a,o,s){super(s||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=o,this.eventEmitter=new t.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const o of a)super.add(o);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(o=>{super.delete(o)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,o,s,c){const f=super.match(a,o,s,c);for(const h of f)super.delete(h);return this.triggerSubscriptionForQuads({removed:f}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const o={},s=c=>{const f=a[c];f==null||f.forEach(h=>{const p=h;[[null,null,null,null],[p.subject,null,null,null],[p.subject,p.predicate,null,null],[p.subject,null,p.object,null],[null,p.predicate,null,null],[null,p.predicate,p.object,null],[null,null,p.object,null],[p.subject,p.predicate,p.object,null],[null,null,null,p.graph],[p.subject,null,null,p.graph],[p.subject,p.predicate,null,p.graph],[p.subject,null,p.object,p.graph],[null,p.predicate,null,p.graph],[null,p.predicate,p.object,p.graph],[null,null,p.object,p.graph],[p.subject,p.predicate,p.object,p.graph]].forEach(y=>{var b;const _=(0,e.quadMatchToString)(y);this.eventEmitter.listenerCount(_)>0&&(o[_]||(o[_]={}),o[_][c]||(o[_][c]=this.datasetFactory.dataset()),(b=o[_][c])==null||b.add(h))})})};s("added"),s("removed"),Object.entries(o).forEach(([c,f])=>{this.eventEmitter.emit(c,f)})}addListener(a,o){return this.on(a,o)}emit(a,o){return this.eventEmitter.emit((0,e.quadMatchToString)(a),o)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,e.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,e.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,e.quadMatchToString)(a))}off(a,o){this.removeListener(a,o)}on(a,o){var c;const s=(0,e.quadMatchToString)(a);return this.listenerHashMap.has(o)||this.listenerHashMap.set(o,new Set),(c=this.listenerHashMap.get(o))==null||c.add(s),this.eventEmitter.on(s,o),this}once(a,o){return this.eventEmitter.once((0,e.quadMatchToString)(a),o),this}prependListener(a,o){return this.eventEmitter.prependListener((0,e.quadMatchToString)(a),o),this}prependOnceListener(a,o){return this.eventEmitter.prependOnceListener((0,e.quadMatchToString)(a),o),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,e.quadMatchToString)(a)),this}removeListener(a,o){return this.eventEmitter.removeListener((0,e.quadMatchToString)(a),o),this}removeListenerFromAllEvents(a){const o=this.listenerHashMap.get(a);return o&&o.forEach(s=>{this.eventEmitter.off(s,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,e.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Rp.SubscribableDataset=r,Rp}var o3;function s8(){if(o3)return Ap;o3=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.SubscribableDatasetFactory=void 0;const t=yR();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new t.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Ap.SubscribableDatasetFactory=e,Ap}var Ip={},Mp={},Dp={},s3;function u8(){if(s3)return Dp;s3=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.mergeDatasetChanges=void 0;function t(e,n){var r,i,a,o;if(n.added){e.added?e.added.addAll(n.added):e.added=n.added;const s=(r=e.removed)==null?void 0:r.intersection(n.added);s&&s.size>0&&(e.removed=(i=e.removed)==null?void 0:i.difference(s))}if(n.removed){e.removed?e.removed.addAll(n.removed):e.removed=n.removed;const s=(a=e.added)==null?void 0:a.intersection(n.removed);s&&s.size>0&&(e.added=(o=e.added)==null?void 0:o.difference(s))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}return Dp.mergeDatasetChanges=t,Dp}var kp={},u3;function l8(){if(u3)return kp;u3=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.updateDatasetInBulk=void 0;function t(e,n){e.bulk?e.bulk(n):(n.added&&e.addAll(n.added),n.removed&&n.removed.forEach(r=>{e.delete(r)}))}return kp.updateDatasetInBulk=t,kp}var l3;function c8(){if(l3)return Mp;l3=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.TransactionDataset=void 0;const t=u8(),e=yR(),n=l8();let r=class extends e.SubscribableDataset{constructor(a,o,s){super(o,s,o.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,o,s,c){this.checkIfTransactionCommitted();const f=this.match(a,o,s,c);for(const h of f)this.delete(h);return this}match(a,o,s,c){let f=this.parentDataset.match(a,o,s,c);return this.datasetChanges.removed&&(f=f.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(f=f.union(this.datasetChanges.added.match(a,o,s,c))),f}get size(){var a,o;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var o,s;return!((o=this.datasetChanges.removed)!=null&&o.has(a))&&(((s=this.datasetChanges.added)==null?void 0:s.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let o=a.next();const s=this.parentDataset[Symbol.iterator]();let c=s.next();return{next:()=>{if(!o||!o.done){const f=o;return o=a.next(),f}for(;!c.done;){const f=c;if(c=s.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(f.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(f.value)))return f}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,t.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,o;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return Mp.TransactionDataset=r,Mp}var c3;function f8(){if(c3)return Ip;c3=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.TransactionDatasetFactory=void 0;const t=c8();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new t.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Ip.TransactionDatasetFactory=e,Ip}var f3;function d8(){if(f3)return Ks;f3=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.createSubscribableDataset=Ks.createSubscribableDatasetFactory=Ks.createTransactionDatasetFactory=void 0;const t=ef(),e=s8(),n=f8(),r={dataset:s=>(0,t.createDataset)(s)};function i(){return new n.TransactionDatasetFactory(r)}Ks.createTransactionDatasetFactory=i;function a(){return new e.SubscribableDatasetFactory(r,i())}Ks.createSubscribableDatasetFactory=a;function o(s){return a().dataset(s)}return Ks.createSubscribableDataset=o,Ks}var Np={},d3;function Hde(){if(d3)return Np;d3=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.createWrapperSubscribableDatasetFromSerializedInput=void 0;const t=ef(),e=d8();async function n(r,i){const a=(0,e.createSubscribableDatasetFactory)();return(0,t.createDatasetFromSerializedInput)(a,r,i)}return Np.createWrapperSubscribableDatasetFromSerializedInput=n,Np}var PE={},h3;function Vde(){return h3||(h3=1,Object.defineProperty(PE,"__esModule",{value:!0})),PE}var p3;function Sm(){return p3||(p3=1,function(t){var e=Cp.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,c)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Cp.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializedToSubscribableDataset=void 0,n(d8(),t);var r=Hde();Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(c8(),t),n(f8(),t),n(yR(),t),n(s8(),t),n(Vde(),t),n(u8(),t),n(l8(),t)}(Cp)),Cp}var Bf={},Fp={},jp={},$p={},g3;function h8(){if(g3)return $p;g3=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.ContextUtil=void 0;const t={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let e=class{constructor(r){this.context=r,this.iriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="string"?this.iriToKeyMap[this.keyIdToIri(a)]=i:typeof a=="object"&&a["@id"]&&(this.iriToKeyMap[this.keyIdToIri(a["@id"])]=i)})}keyToIri(r){if(this.context[r]){if(typeof this.context[r]=="string")return this.keyIdToIri(this.context[r]);if(this.context[r]&&this.context[r]["@id"])return this.keyIdToIri(this.context[r]["@id"])}else return r;return r}keyIdToIri(r){return t[r]?t[r]:r}iriToKey(r){return this.iriToKeyMap[r]?this.iriToKeyMap[r]:r}getType(r){return typeof this.context[r]=="object"&&this.context[r]["@type"]?this.context[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@container"]&&this.context[r]["@container"]==="@set")}isLangString(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@type"]&&this.context[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return $p.ContextUtil=e,$p}var Up={},m3;function p8(){if(m3)return Up;m3=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.JsonldDatasetProxyBuilder=void 0;const t=yi();let e=class kC{constructor(r){this.proxyContext=r}write(...r){return new kC(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new kC(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,t.namedNode)(r["@id"]):(0,t.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([o,s])=>{a[o]=s}),a}};return Up.JsonldDatasetProxyBuilder=e,Up}var Bp={},qp={},oc={},y3;function q0(){if(y3)return oc;y3=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.nodeToJsonldRepresentation=oc.literalToJsonldRepresentation=void 0;function t(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}oc.literalToJsonldRepresentation=t;function e(n,r){if(n.termType==="Literal")return t(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return oc.nodeToJsonldRepresentation=e,oc}var sc={},uc={},Gs={},lc={},si={},v3;function ys(){return v3||(v3=1,Object.defineProperty(si,"__esModule",{value:!0}),si._writeGraphs=si._proxyContext=si._getUnderlyingArrayTarget=si._getUnderlyingDataset=si._getNodeAtIndex=si._isSubjectOriented=si._getUnderlyingMatch=si._getUnderlyingNode=void 0,si._getUnderlyingNode=Symbol("_getUnderlyingNode"),si._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),si._isSubjectOriented=Symbol("_isSubjectOriented"),si._getNodeAtIndex=Symbol("_getNodeAtIndex"),si._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),si._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),si._proxyContext=Symbol("_proxyContext"),si._writeGraphs=Symbol("_writeGraphs")),si}var _3;function vR(){if(_3)return lc;_3=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.getNodeFromRawValue=lc.getNodeFromRawObject=void 0;const t=yi(),e=ys();function n(i,a){return i[e._getUnderlyingNode]?i[e._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,t.namedNode)(a.keyToIri(i["@id"])):i["@id"]:(0,t.blankNode)()}lc.getNodeFromRawObject=n;function r(i,a,o){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const s=o.contextUtil.getType(i);return s==="@id"?(0,t.namedNode)(a.toString()):(0,t.literal)(a.toString(),s)}else return n(a,o.contextUtil)}return lc.getNodeFromRawValue=r,lc}var cc={},w3;function Yd(){if(w3)return cc;w3=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.getSubjectProxyFromObject=cc.isSubjectProxy=void 0;const t=ys();function e(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[t._writeGraphs]!="object"||typeof i[t._getUnderlyingDataset]!="object"||typeof i[t._getUnderlyingNode]!="object"||typeof i[t._proxyContext]!="object")}cc.isSubjectProxy=e;function n(r){const i=r;if(!e(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return cc.getSubjectProxyFromObject=n,cc}var fc={},b3;function z0(){if(b3)return fc;b3=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.NodeSet=fc.nodeToString=void 0;function t(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}fc.nodeToString=t;let e=class{constructor(){this.set=new Set,this.map={}}add(r){const i=t(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(t(r))}delete(r){const i=t(r);return delete this.map[i],this.set.delete(t(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return fc.NodeSet=e,fc}var ui={},S3;function Xd(){if(S3)return ui;S3=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.literalLanguageToLanguageKey=ui.languageKeyToLiteralLanguage=ui.getLanguageKeyForWriteOperation=ui.filterQuadsByLanguageOrdering=ui.quadsToLanguageQuadMap=ui.isLanguageLiteral=ui.languageDeleteMatch=ui.languageMatch=void 0;const t=ef();function e(f,h,p,m){const y=s(m);return f.match(h,p).filter(_=>r(_.object)&&_.object.language===y)}ui.languageMatch=e;function n(f,h,p,m){e(f,h,p,m).forEach(_=>{f.delete(_)})}ui.languageDeleteMatch=n;function r(f){return f.termType==="Literal"&&(f.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||f.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}ui.isLanguageLiteral=r;function i(f){const h={};return f.forEach(p=>{const m=p.object;if(r(m)){const y=c(m.language);h[y]||(h[y]=(0,t.createDataset)()),h[y].add(p)}}),h}ui.quadsToLanguageQuadMap=i;function a(f,h){const p=i(f),m=new Set(h),y=new Set(Object.keys(p));for(const _ of h){if(y.has(_))return p[_];if(_==="@other"){for(const b of y)if(!m.has(b))return p[b]}}return(0,t.createDataset)()}ui.filterQuadsByLanguageOrdering=a;function o(f){return f.find(h=>h!=="@other")}ui.getLanguageKeyForWriteOperation=o;function s(f){return f==="@none"?"":f}ui.languageKeyToLiteralLanguage=s;function c(f){return f===""?"@none":f}return ui.literalLanguageToLanguageKey=c,ui}var x3;function _R(){if(x3)return Gs;x3=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.addObjectToDataset=Gs.addRawObjectToDatasetRecursive=Gs.addRawValueToDatasetRecursive=void 0;const t=yi(),e=vR(),n=Yd(),r=z0(),i=Xd();function a(c,f,h,p,m,y){const{dataset:_,contextUtil:b}=y,S=(0,t.namedNode)(b.keyToIri(f)),x=(0,e.getNodeFromRawValue)(f,h,y);if(x==null)_.deleteMatches(c,S);else if(x.termType==="Literal"){let E=x;if(b.isLangString(f)){const A=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!A)return;E=(0,t.literal)(x.value,(0,i.languageKeyToLiteralLanguage)(A))}y.writeGraphs.forEach(A=>{y.dataset.add((0,t.quad)(c,S,E,A))})}else if(y.writeGraphs.forEach(E=>{_.add((0,t.quad)(c,S,x,E))}),!(0,n.isSubjectProxy)(h)){const E=typeof h=="object"?{...h,"@id":x}:{"@id":x};o(E,p,m,y)}}Gs.addRawValueToDatasetRecursive=a;function o(c,f,h,p){if((0,n.isSubjectProxy)(c))return c;const{dataset:m}=p,y=(0,e.getNodeFromRawObject)(c,p.contextUtil);return f.has(y)||(f.add(y),Object.entries(c).forEach(([_,b])=>{if(_==="@id")return;const S=(0,t.namedNode)(p.contextUtil.keyToIri(_));if(h)if(p.contextUtil.isLangString(_)){const x=(0,i.getLanguageKeyForWriteOperation)(p.languageOrdering);x&&(0,i.languageDeleteMatch)(m,y,S,x)}else m.deleteMatches(y,S);Array.isArray(b)?b.forEach(x=>{a(y,_,x,f,!0,p)}):a(y,_,b,f,!0,p)})),p.createSubjectProxy(y)}Gs.addRawObjectToDatasetRecursive=o;function s(c,f,h){return o(c,new r.NodeSet,f,h)}return Gs.addObjectToDataset=s,Gs}var E3;function wR(){if(E3)return uc;E3=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.modifyArray=uc.checkArrayModification=void 0;const t=yi(),e=Sm(),n=ef(),r=_R(),i=vR(),a=z0();function o(c,f,h){if(c[2])for(const p of f){if(p===void 0)return;if(typeof p!="object")throw new Error(`Cannot add a literal "${p}"(${typeof p}) to a subject-oriented collection.`);const m=new e.TransactionDataset(h.dataset,(0,n.createDatasetFactory)(),(0,e.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(p,!1,h.duplicate({writeGraphs:[(0,t.defaultGraph)()]})),!(m.match((0,i.getNodeFromRawObject)(p,h.contextUtil),c[0][1],c[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(c[0][0])}, ${(0,a.nodeToString)(c[0][1])}, ${(0,a.nodeToString)(c[0][2])}, ${(0,a.nodeToString)(c[0][3])})`)}else if(!c[0][0]||!c[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}uc.checkArrayModification=o;function s(c,f){const{target:h,toAdd:p,quadsToDelete:m,modifyCoreArray:y,key:_}=c,{dataset:b,contextUtil:S}=f;if(o(h,p||[],f),m){const A=b.match(...h[0]).toArray();m(A).forEach(M=>{h[2]?b.deleteMatches(M.subject,void 0,void 0):b.delete(M)})}const x=p==null?void 0:p.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,f):A).filter(A=>A!=null);!h[2]&&h[0][0]&&h[0][1]&&x&&(0,r.addObjectToDataset)({"@id":h[0][0],[S.iriToKey(h[0][1].value)]:x},!1,f);const E=x?x.map(A=>(0,i.getNodeFromRawValue)(_,A,f)).filter(A=>A!=null):[];return y(h[1],E)}return uc.modifyArray=s,uc}var T3;function g8(){if(T3)return sc;T3=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.arrayMethodsBuilders=sc.methodNames=void 0;const t=q0(),e=wR();return sc.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),sc.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,o,s)=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:c=>{const f=[...c],h=new Set(c.copyWithin(a,o,s));return f.filter(p=>!h.has(p))},modifyCoreArray:c=>(c.copyWithin(a,o,s),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,o,s)=>(0,e.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:c=>c.slice(o,s),modifyCoreArray:(c,f)=>(c.fill(f[0],o,s),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const o=a.pop();return o?(0,t.nodeToJsonldRepresentation)(o,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.push(...s),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const o=a.shift();return o?(0,t.nodeToJsonldRepresentation)(o,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((o,s)=>a((0,t.nodeToJsonldRepresentation)(o,i),(0,t.nodeToJsonldRepresentation)(s,i))):n&&n[1].sort((o,s)=>{const c=(0,t.nodeToJsonldRepresentation)(o,i),f=(0,t.nodeToJsonldRepresentation)(s,i);return c>f?1:f>c?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,o,...s)=>(0,e.modifyArray)({target:n,key:r,toAdd:s,quadsToDelete:c=>c.splice(a,o),modifyCoreArray:(c,f)=>c.splice(a,o||0,...f).map(p=>(0,t.nodeToJsonldRepresentation)(p,i))},i),unshift:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.unshift(...s),i.createArrayProxy(n[0],n[2]).length)},i)},sc}var C3;function m8(){if(C3)return qp;C3=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.createArrayHandler=void 0;const t=yi(),e=q0(),n=g8(),r=ys(),i=wR(),a=z0(),o=Xd();function s(h,p){let m=p.dataset.match(...h[0]);h[3]&&(m=(0,o.filterQuadsByLanguageOrdering)(m,p.languageOrdering));const y=new a.NodeSet;m.toArray().forEach(b=>{h[2]?y.add(b.subject):y.add(b.object)});const _=[];h[1].forEach(b=>{y.has(b)&&(_.push(b),y.delete(b))}),y.toArray().forEach(b=>{_.push(b)}),h[1]=_}function c(h,p){return h[1].map(m=>(0,e.nodeToJsonldRepresentation)(m,p))}function f(h){return{get(p,m,...y){switch(m){case r._getUnderlyingDataset:return h.dataset;case r._getUnderlyingMatch:return p[0];case r._isSubjectOriented:return p[2];case r._getUnderlyingArrayTarget:return p;case r._proxyContext:return h;case r._getNodeAtIndex:return b=>(s(p,h),p[1][b])}s(p,h);const _=c(p,h);return n.methodNames.has(m)?n.arrayMethodsBuilders[m](p,m,h):Reflect.get(_,m,...y)},getOwnPropertyDescriptor(p,m,...y){s(p,h);const _=c(p,h);return Reflect.getOwnPropertyDescriptor(_,m,...y)},ownKeys(p,...m){s(p,h);const y=c(p,h);return Reflect.ownKeys(y,...m)},getPrototypeOf(p,...m){s(p,h);const y=c(p,h);return Reflect.getPrototypeOf(y,...m)},has(p,...m){s(p,h);const y=c(p,h);return Reflect.has(y,...m)},set(p,m,y,..._){if(m===r._proxyContext)return h=y,!0;if(s(p,h),typeof m!="symbol"&&!isNaN(parseInt(m))){const b=parseInt(m);return(0,i.modifyArray)({target:p,key:m,toAdd:[y],quadsToDelete(S){return S[b]?[S[b]]:[]},modifyCoreArray(S,x){return S[b]=x[0],!0}},h)}return Reflect.set(p[1],m,..._)},deleteProperty(p,m){const{dataset:y}=h;if(typeof m!="symbol"&&!isNaN(parseInt(m))){const _=y.match(...p[0]).toArray()[parseInt(m)];if(!_)return!0;const b=p[2]?_.subject:_.object;if(b.termType==="Literal"){const S=p[0][0],x=p[0][1];return S&&x&&y.delete((0,t.quad)(S,x,b)),!0}else if(b.termType==="NamedNode"||b.termType==="BlankNode")return y.deleteMatches(b,void 0,void 0),y.deleteMatches(void 0,void 0,b),!0}return!0}}}return qp.createArrayHandler=f,qp}var zp={},Hp={},A3;function y8(){if(A3)return Hp;A3=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.deleteValueFromDataset=void 0;const t=yi();function e(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const o=n["@id"],s=(0,t.namedNode)(i.contextUtil.keyToIri(r));if(r==="@id")a.push(n["@id"]);else{const c=i.dataset.match(o,s);if(c.size===0)return!0;a.push(...c.toArray().map(f=>f.object))}return a.forEach(c=>{if(c.termType==="Literal")return i.dataset.delete((0,t.quad)(o,s,c)),!0;if(c.termType==="NamedNode")return i.dataset.deleteMatches(c,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,c),!0}),!0}return Hp.deleteValueFromDataset=e,Hp}var Vp={},R3;function v8(){if(R3)return Vp;R3=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.getValueForKey=void 0;const t=yi(),e=q0(),n=Xd();function r(i,a,o){const{contextUtil:s,dataset:c}=o;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:s.iriToKey(i["@id"].value);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const f=i["@id"],h=(0,t.namedNode)(s.keyToIri(a));if(s.isArray(a))return o.createArrayProxy([f,h,null,null],!1,void 0,s.isLangString(a));let p=c.match(f,h);if(s.isLangString(a)&&(p=(0,n.filterQuadsByLanguageOrdering)(p,o.languageOrdering)),p.size!==0)return p.size===1?(0,e.nodeToJsonldRepresentation)(p.toArray()[0].object,o):o.createArrayProxy([f,h,null,null])}return Vp.getValueForKey=r,Vp}var P3;function _8(){if(P3)return zp;P3=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.createSubjectHandler=void 0;const t=yi(),e=_R(),n=y8(),r=ys(),i=v8();function a(o){let s=o;return{get(c,f){switch(f){case r._getUnderlyingDataset:return s.dataset;case r._getUnderlyingNode:return c["@id"];case r._proxyContext:return s;case r._writeGraphs:return s.writeGraphs;case"@context":return s.contextUtil.context}return(0,i.getValueForKey)(c,f,s)},getOwnPropertyDescriptor(c,f){return{value:(0,i.getValueForKey)(c,f,s),writable:!0,enumerable:!0,configurable:!0}},ownKeys(c){const f=c["@id"],h=s.dataset.match(f),p=new Set(["@id"]);return h.toArray().forEach(m=>{p.add(s.contextUtil.iriToKey(m.predicate.value))}),Array.from(p)},set:(c,f,h)=>{if(f===r._proxyContext)return s=h,!0;if(f==="@id"&&typeof h=="string"){const p=s.dataset.match(c["@id"]).toArray(),m=p.map(b=>(0,t.quad)((0,t.namedNode)(h),b.predicate,b.object,b.graph));p.forEach(b=>s.dataset.delete(b)),s.dataset.addAll(m);const y=s.dataset.match(void 0,void 0,c["@id"]).toArray(),_=y.map(b=>(0,t.quad)(b.subject,b.predicate,(0,t.namedNode)(h),b.graph));y.forEach(b=>s.dataset.delete(b)),s.dataset.addAll(_),c["@id"]=(0,t.namedNode)(h)}return(0,e.addObjectToDataset)({"@id":c["@id"],[f]:h},!0,s),!0},deleteProperty(c,f){return(0,n.deleteValueFromDataset)(c,f,s)}}}return zp.createSubjectHandler=a,zp}var O3;function b8(){if(O3)return Bp;O3=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.ProxyContext=void 0;const t=m8(),e=_8(),n=ys();let r=class w8{constructor(a){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=a.dataset,this.contextUtil=a.contextUtil,this.writeGraphs=a.writeGraphs,this.languageOrdering=a.languageOrdering,this.state=a.state||{},a.prefilledArrayTargets&&a.prefilledArrayTargets.forEach(o=>{this.createArrayProxy(o[0],o[2],o)})}createSubjectProxy(a){if(!this.subjectMap.has(a.value)){const o=new Proxy({"@id":a},this.createSubjectHandler());this.subjectMap.set(a.value,o)}return this.subjectMap.get(a.value)}createSubjectHandler(){return(0,e.createSubjectHandler)(this)}getArrayKey(...a){var o,s,c,f;return`${((o=a[0])==null?void 0:o.value)||"undefined"}|${((s=a[1])==null?void 0:s.value)||"undefined"}|${((c=a[2])==null?void 0:c.value)||"undefined"}|${((f=a[3])==null?void 0:f.value)||"undefined"}`}createArrayProxy(a,o=!1,s,c){const f=this.getArrayKey(...a);if(!this.arrayMap.has(f)){const h=new Proxy(s||[a,[],o,c],this.createArrayHandler());this.arrayMap.set(f,h)}return this.arrayMap.get(f)}createArrayHandler(){return(0,t.createArrayHandler)(this)}duplicate(a){const o=[];this.arrayMap.forEach(c=>{o.push(c[n._getUnderlyingArrayTarget])});const s={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:o,...a};return new w8(s)}};return Bp.ProxyContext=r,Bp}var L3;function I3(){if(L3)return jp;L3=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.jsonldDatasetProxy=void 0;const t=yi(),e=h8(),n=p8(),r=b8();function i(a,o){const s=new e.ContextUtil(o),c=new r.ProxyContext({dataset:a,contextUtil:s,writeGraphs:[(0,t.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(c)}return jp.jsonldDatasetProxy=i,jp}var Kp={},Gp={},dc={},Wp={},M3;function S8(){if(M3)return Wp;M3=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.isArrayProxy=void 0;const t=ys();function e(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[t._getUnderlyingDataset]!="object"||typeof r[t._getUnderlyingMatch]!="object"||typeof r[t._getNodeAtIndex]!="function"||typeof r[t._getUnderlyingArrayTarget]!="object")}return Wp.isArrayProxy=e,Wp}var D3;function x8(){if(D3)return dc;D3=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.getProxyFromObject=dc.isProxy=void 0;const t=S8(),e=Yd();function n(i){return(0,e.isSubjectProxy)(i)||(0,t.isArrayProxy)(i)}dc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return dc.getProxyFromObject=r,dc}var k3;function bR(){if(k3)return Gp;k3=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.createInteractOptions=void 0;const t=Yd(),e=ys(),n=x8();function r(i,a){return{using(...o){const s=[];return o.forEach(c=>{const f=(0,n.getProxyFromObject)(c),h=f[e._proxyContext];f[e._proxyContext]=f[e._proxyContext].duplicate({[i]:a}),s.push(()=>{f[e._proxyContext]=h})}),function(){s.forEach(f=>f())}},usingCopy(...o){return o.map(s=>{const c=(0,t.getSubjectProxyFromObject)(s);return c[e._proxyContext].duplicate({[i]:a}).createSubjectProxy(c[e._getUnderlyingNode])})}}}return Gp.createInteractOptions=r,Gp}var N3;function Kde(){if(N3)return Kp;N3=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.write=void 0;const t=bR();function e(...n){return(0,t.createInteractOptions)("writeGraphs",n)}return Kp.write=e,Kp}var Qp={},F3;function Gde(){if(F3)return Qp;F3=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.graphOf=void 0;const t=yi(),e=Yd(),n=ys();function r(i,a,o){const s=(0,e.getSubjectProxyFromObject)(i),c=s[n._proxyContext],f=s[n._getUnderlyingNode],h=(0,t.namedNode)(c.contextUtil.keyToIri(a));let p;if(o==null)p=null;else if(typeof o=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[o])throw new Error(`Index ${o} does not exist.`);(0,e.isSubjectProxy)(y[o])&&(p=y[o][1]),p=y[n._getNodeAtIndex](o)}else p=(0,e.getSubjectProxyFromObject)(o)[n._getUnderlyingNode];return s[n._getUnderlyingDataset].match(f,h,p).toArray().map(y=>y.graph)}return Qp.graphOf=r,Qp}var Zp={},j3;function Wde(){if(j3)return Zp;j3=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.setLanguagePreferences=void 0;const t=bR();function e(...n){return(0,t.createInteractOptions)("languageOrdering",n)}return Zp.setLanguagePreferences=e,Zp}var Jp={},qf={},av={},$3;function E8(){if($3)return av;$3=1;var t;Object.defineProperty(av,"__esModule",{value:!0});const e=yi(),n=Xd();class r{constructor(a,o,s,c){this[t]="LanguageSet",this.subject=a,this.predicate=o,this.languageKey=s,this.proxyContext=c}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,e.literal)(a):(0,e.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(o=>{this.proxyContext.dataset.add((0,e.quad)(this.subject,this.predicate,(0,e.literal)(a,this.languageKey),o))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const o=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),o}forEach(a,o){this.matchThis().forEach(c=>{a(c.object.value,c.object.value,o||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const o of a)yield[o.object.value,o.object.value]}*keys(){const a=this.matchThis();for(const o of a)yield o.object.value}*values(){const a=this.matchThis();for(const o of a)yield o.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const o of a)yield o.object.value}}return av.default=r,t=Symbol.toStringTag,av}var U3;function T8(){if(U3)return qf;U3=1;var t=qf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qf,"__esModule",{value:!0}),qf.createLanguageMapProxy=void 0;const e=yi(),n=Xd(),r=t(E8());function i(a,o,s,c){const f={},h=p=>{Object.keys(p).forEach(_=>delete p[_]);const m=s.dataset.match(a,o),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([_,b])=>{const S=b.toArray().map(x=>x.object.value);c?p[_]=new Set(S):p[_]=S[0]})};return h(f),new Proxy(f,{get:(p,m)=>(h(p),typeof m!="string"?Reflect.get(p,m):c?new r.default(a,o,m,s):Reflect.get(p,m)),set:(p,m,y)=>{const _=(0,n.languageKeyToLiteralLanguage)(m);return c||(0,n.languageDeleteMatch)(s.dataset,a,o,_),s.writeGraphs.forEach(b=>{s.dataset.add((0,e.quad)(a,o,(0,e.literal)(y,_),b))}),Reflect.set(p,m,y)},deleteProperty:(p,m)=>((0,n.languageDeleteMatch)(s.dataset,a,o,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(p,m))})}return qf.createLanguageMapProxy=i,qf}var B3;function Qde(){if(B3)return Jp;B3=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.languagesOf=void 0;const t=yi(),e=Yd(),n=ys(),r=T8();function i(a,o){const s=(0,e.getSubjectProxyFromObject)(a),c=s[n._proxyContext],f=s[n._getUnderlyingNode],h=(0,t.namedNode)(c.contextUtil.keyToIri(o));return(0,r.createLanguageMapProxy)(f,h,c,c.contextUtil.isArray(o))}return Jp.languagesOf=i,Jp}var OE={},q3;function Zde(){return q3||(q3=1,Object.defineProperty(OE,"__esModule",{value:!0})),OE}var LE={},z3;function Jde(){return z3||(z3=1,Object.defineProperty(LE,"__esModule",{value:!0})),LE}var IE={},H3;function Yde(){return H3||(H3=1,Object.defineProperty(IE,"__esModule",{value:!0})),IE}var ME={},V3;function Xde(){return V3||(V3=1,Object.defineProperty(ME,"__esModule",{value:!0})),ME}var K3;function qg(){return K3||(K3=1,function(t){var e=Fp.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var c=Object.getOwnPropertyDescriptor(a,o);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,c)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Fp.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0});const r=I3();t.default=r.jsonldDatasetProxy,n(ys(),t),n(h8(),t),n(b8(),t),n(p8(),t),n(I3(),t),n(Kde(),t),n(Gde(),t),n(Wde(),t),n(Qde(),t),n(T8(),t),n(E8(),t),n(Zde(),t),n(Xd(),t),n(m8(),t),n(g8(),t),n(Jde(),t),n(wR(),t),n(S8(),t),n(_8(),t),n(Yde(),t),n(v8(),t),n(y8(),t),n(Yd(),t),n(_R(),t),n(q0(),t),n(Xde(),t),n(vR(),t),n(z0(),t),n(x8(),t),n(bR(),t)}(Fp)),Fp}var Yp={},Da={},G3;function C8(){if(G3)return Da;G3=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.getTransactionalDatasetFromLdo=Da.isTransactionalDataset=Da.canDatasetStartTransaction=Da.normalizeNodeNames=Da.normalizeNodeName=void 0;const t=yi(),e=qg();function n(s){return typeof s=="string"?(0,t.namedNode)(s):s}Da.normalizeNodeName=n;function r(s){return s.map(c=>n(c))}Da.normalizeNodeNames=r;function i(s){return typeof s.startTransaction=="function"}Da.canDatasetStartTransaction=i;function a(s){return typeof s.commit=="function"}Da.isTransactionalDataset=a;function o(s){const c=(0,e.getProxyFromObject)(s),f=c[e._getUnderlyingDataset];if(!a(f)||!c[e._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[f,c]}return Da.getTransactionalDatasetFromLdo=o,Da}var W3;function SR(){if(W3)return Yp;W3=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.LdoBuilder=void 0;const t=C8();let e=class NC{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,t.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new NC(this.jsonldDatasetProxyBuilder.write(...(0,t.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new NC(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return Yp.LdoBuilder=e,Yp}var zf={},Q3;function A8(){if(Q3)return zf;Q3=1;var t=zf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zf,"__esModule",{value:!0}),zf.LdoTransactionDataset=void 0;const e=Sm(),n=SR(),r=t(qg());let i=class extends e.TransactionDataset{usingType(o){const s=(0,r.default)(this,o.context);return new n.LdoBuilder(s,o)}};return zf.LdoTransactionDataset=i,zf}var Z3;function R8(){if(Z3)return Bf;Z3=1;var t=Bf.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.LdoDataset=void 0;const e=t(qg()),n=Sm(),r=SR(),i=A8();let a=class extends n.SubscribableDataset{usingType(s){const c=(0,e.default)(this,s.context);return new r.LdoBuilder(c,s)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return Bf.LdoDataset=a,Bf}var J3;function ehe(){if(J3)return Tp;J3=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.LdoDatasetFactory=void 0;const t=Sm(),e=R8();let n=class extends t.SubscribableDatasetFactory{dataset(i){return new e.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return Tp.LdoDatasetFactory=n,Tp}var Y3;function P8(){if(Y3)return ic;Y3=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.createLdoDataset=ic.createLdoDatasetFactory=void 0;const t=ef(),e=ehe(),n=Sm();function r(){const a={dataset:o=>(0,t.createDataset)(o)};return new e.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}ic.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return ic.createLdoDataset=i,ic}var X3;function the(){if(X3)return fp;X3=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.parseRdf=void 0;const t=ef(),e=P8();async function n(r,i){const a=(0,e.createLdoDatasetFactory)();return typeof r=="string"?await(0,t.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,e.createLdoDataset)(r):await(0,t.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/json-ld"})}return fp.parseRdf=n,fp}var DE={},eF;function nhe(){return eF||(eF=1,Object.defineProperty(DE,"__esModule",{value:!0})),DE}var ir={},Xp={},kE={},tF;function rhe(){return tF||(tF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=mR();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}t.subjectNodeToString=n;function r(S){return o(S)}t.predicateNodeToString=r;function i(S){return o(S)}t.objectNodeToString=i;function a(S){return o(S)}t.grpahNodeToString=a;function o(S){return(0,e.termToString)(S)}t.nodeToString=o;function s(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=s;function c(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=c;function f(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function _(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function b(S){try{const x=JSON.parse(S);return[x.subject!=null?f(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=b}(kE)),kE}var eg={},hc={},nF;function O8(){if(nF)return hc;nF=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.datasetToJsonLd=hc.datasetToString=void 0;const t=Jd;function e(r,i){const a=new t.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}hc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return hc.datasetToJsonLd=n,hc}var rF;function ihe(){if(rF)return eg;rF=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.changesToSparqlUpdate=void 0;const t=yi(),e=O8();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return eg.changesToSparqlUpdate=n,eg}var tg={},iF;function ahe(){if(iF)return tg;iF=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.serializedToQuads=void 0;const t=Jd;async function e(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return tg.serializedToQuads=e,tg}var aF;function L8(){return aF||(aF=1,function(t){var e=Xp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=Xp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(rhe(),t),n(ihe(),t),n(O8(),t),n(ahe(),t)}(Xp)),Xp}var oF;function ohe(){if(oF)return ir;oF=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.toNTriples=ir.toJsonLd=ir.toTurtle=ir.serialize=ir.toSparqlUpdate=ir.getDataset=ir.transactionChanges=ir.commitTransaction=ir.startTransaction=ir.write=ir.setLanguagePreferences=ir.languagesOf=ir.graphOf=void 0;const t=qg(),e=L8(),n=C8(),r=qg();ir.graphOf=r.graphOf,ir.languagesOf=r.languagesOf,ir.setLanguagePreferences=r.setLanguagePreferences;function i(..._){return(0,t.write)(...(0,n.normalizeNodeNames)(_))}ir.write=i;function a(_){const b=(0,t.getProxyFromObject)(_),S=b[t._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(S))throw new Error("Object is not transactable.");b[t._proxyContext]=b[t._proxyContext].duplicate({dataset:S.startTransaction(),state:{parentDataset:S}})}ir.startTransaction=a;function o(_){const[b,S]=(0,n.getTransactionalDatasetFromLdo)(_);b.commit(),S[t._proxyContext]=S[t._proxyContext].duplicate({dataset:S[t._proxyContext].state.parentDataset})}ir.commitTransaction=o;function s(_){const[b]=(0,n.getTransactionalDatasetFromLdo)(_);return b.getChanges()}ir.transactionChanges=s;function c(_){return(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset]}ir.getDataset=c;async function f(_){const[b]=(0,n.getTransactionalDatasetFromLdo)(_),S=b.getChanges();return(0,e.changesToSparqlUpdate)(S)}ir.toSparqlUpdate=f;async function h(_,b){const S=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(S,b)}ir.serialize=h;async function p(_){const b=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(b,{})}ir.toTurtle=p;async function m(_){throw new Error("Not Implemented")}ir.toJsonLd=m;async function y(_){const b=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(b,{format:"N-Triples"})}return ir.toNTriples=y,ir}var sF;function she(){return sF||(sF=1,function(t){var e=cp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=cp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(the(),t),n(nhe(),t),n(ohe(),t),n(R8(),t),n(A8(),t),n(SR(),t),n(P8(),t)}(cp)),cp}var Zn=she();const al={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},Cl={Accommodation:al.hospex+"Accommodation",PersonalHospexDocument:al.hospex+"PersonalHospexDocument",offers:al.hospex+"offers",offeredBy:al.hospex+"offeredBy",storage:al.hospex+"storage"},_g={...Object.fromEntries(Object.entries(QM).map(([t,e])=>[t,ZM(e)])),subject:ZM(QM.object.replace("object","subject"))},ol={participation:al.wf+"participation",participant:al.wf+"participant",...Vle},I8={LongChat:al.meeting+"LongChat",...Hle},M8=[{type:"match",subject:"?community",predicate:Pd.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:nu.inbox,pick:"object",target:"?inbox"}],D8=[...M8,{type:"match",subject:"?group",predicate:lB.hasMember,pick:"object",target:"?person"}],H0={type:"match",subject:"?person",predicate:nu.inbox,pick:"object",target:"?inbox"},eh=[{type:"match",subject:"?person",predicate:ZA.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],k8=[...eh,{type:"match",subject:"?person",predicate:Mn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],N8=[...k8,{type:"match",subject:"?person",predicate:ym.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Mn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},H0],F8=[{type:"match",predicate:Jc.type,object:Mn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Mn.forClass,object:Cl.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:Mn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:Pd.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],j8=[...k8,...F8],uhe=[...N8,...F8,{type:"match",subject:"?person",predicate:ym.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},H0,{type:"match",subject:"?person",predicate:Pd.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:Pd.name,pick:"object",target:"?communityName"}],$8=[...j8,{type:"match",subject:"?person",predicate:Cl.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],lhe=[...D8,...$8],che=[{type:"match",subject:"?offer",predicate:Cl.offeredBy,pick:"object",target:"?person"}],fhe=[...eh,{type:"match",subject:"?person",predicate:wl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:ZA.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],dhe=[...eh,H0,{type:"match",subject:"?inbox",predicate:nu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Jc.type,object:_g.Invite,pick:"subject",target:"?inviteNotification"}],hhe=[...eh,H0,{type:"match",subject:"?inbox",predicate:nu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Jc.type,object:_g.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:_g.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:_g.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:_g.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],U8=[...eh,{type:"match",subject:"?person",predicate:ym.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Mn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:Jc.type,object:Mn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Mn.forClass,object:I8.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:Mn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:ol.participation,pick:"object",target:"?participation"}],phe=[...U8,{type:"match",subject:"?participation",predicate:uB.references,pick:"object",target:"?otherChat"}],ghe=[...U8,{type:"match",subject:"?participation",predicate:ol.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:ol.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:ol.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:ol.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:ol.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:uB.references,pick:"object",target:"?otherChat"}],B8=[{type:"match",subject:"?chatContainer",predicate:nu.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:nu.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:nu.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:nu.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:ol.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:ol.message,pick:"object",target:"?message"}],J_=t=>t.termType==="NamedNode"?new Hr(ri(t.value)):void 0,mhe=[...ghe,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:J_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:J_},...B8],yhe=[...phe,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:J_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:J_},...B8],vhe=(t,e)=>{const{variables:n}=ba(ae.useMemo(()=>({query:D8,variables:{community:[e]},fetch:dr}),[e]));return(n.person??[]).includes(t)},gu=t=>{const{store:e,variables:n,isLoading:r}=ba({query:M8,variables:ae.useMemo(()=>({community:[t]}),[t]),fetch:dr}),i=ae.useMemo(()=>Zn.createLdoDataset(e.getQuads(null,null,null,null)).usingType(jce).fromSubject(t),[t,e,n]),a=ae.useMemo(()=>{var p,m;const c=Zn.languagesOf(i,"name"),f=[...((p=c.en)==null?void 0:p.values())??[]][0],h=[...((m=c["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]),o=ae.useMemo(()=>{var p,m;const c=Zn.languagesOf(i,"note"),f=[...((p=c.en)==null?void 0:p.values())??[]][0],h=[...((m=c["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]),s=ae.useMemo(()=>{var p,m;const c=Zn.languagesOf(i,"about"),f=[...((p=c.en)==null?void 0:p.values())??[]][0],h=[...((m=c["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]);return ae.useMemo(()=>{var c,f;return{community:t,logo:((c=i.logo)==null?void 0:c.map(({"@id":h})=>h))??[],name:a,about:s,pun:o,groups:n.group??[],isLoading:r,inbox:(f=n.inbox)==null?void 0:f[0]}},[s,i.logo,t,r,a,o,n.group,n.inbox])},_he="_header_17l15_1",whe="_logoContainer_17l15_7",bhe="_logo_17l15_7",She="_spacer_17l15_16",ov={header:_he,logoContainer:whe,logo:bhe,spacer:She},xhe=()=>{const t=Gd(),e=async()=>{await BZ(),t(RA.signout())};return de.jsx("button",{onClick:e,children:"sign out"})},mu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},yu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},Resource:"http://www.w3.org/ns/ldp#Resource"},q8={schema:mu,shape:"https://example.com/SolidProfile",context:yu},Ehe={schema:mu,shape:"https://example.com/FoafProfile",context:yu},V0={schema:mu,shape:"https://example.com/HospexProfile",context:yu},K0={schema:mu,shape:"https://example.com/Accommodation",context:yu},The={schema:mu,shape:"https://example.com/PublicTypeIndex",context:yu},Che={schema:mu,shape:"https://example.com/PrivateTypeIndex",context:yu},Od={schema:mu,shape:"https://example.com/ChatShape",context:yu},z8={schema:mu,shape:"https://example.com/MessageActivity",context:yu},H8={schema:mu,shape:"https://example.com/ContactInvitationActivity",context:yu};var uF=L8();const Ahe=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}},lF=t=>JSON.parse(JSON.stringify(t,Ahe()));async function FC(t){const e=Zn.transactionChanges(t),n=[`_:mutate a <${Mn.InsertDeletePatch}>`];if(e.added){const i=await uF.datasetToString(e.added,{format:"N3"});n.push(`<${Mn.inserts}> { ${i} }`)}if(e.removed){const i=await uF.datasetToString(e.removed,{format:"N3"});n.push(`<${Mn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}var NE,cF;function V8(){if(cF)return NE;cF=1;var t=U0(),e=vm();function n(r,i,a){(a!==void 0&&!e(r[i],a)||a===void 0&&!(i in r))&&t(r,i,a)}return NE=n,NE}var wg={exports:{}};wg.exports;var fF;function K8(){return fF||(fF=1,function(t,e){var n=$o(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function c(f,h){if(h)return f.slice();var p=f.length,m=s?s(p):new f.constructor(p);return f.copy(m),m}t.exports=c}(wg,wg.exports)),wg.exports}var FE,dF;function xR(){if(dF)return FE;dF=1;var t=kB();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return FE=e,FE}var jE,hF;function G8(){if(hF)return jE;hF=1;var t=xR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return jE=e,jE}var $E,pF;function W8(){if(pF)return $E;pF=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return $E=t,$E}var UE,gF;function Rhe(){if(gF)return UE;gF=1;var t=Uo(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return UE=n,UE}var BE,mF;function ER(){if(mF)return BE;mF=1;var t=$B(),e=t(Object.getPrototypeOf,Object);return BE=e,BE}var qE,yF;function Q8(){if(yF)return qE;yF=1;var t=Rhe(),e=ER(),n=lR();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return qE=r,qE}var zE,vF;function Phe(){if(vF)return zE;vF=1;var t=j0(),e=pu();function n(r){return e(r)&&t(r)}return zE=n,zE}var HE,_F;function Z8(){if(_F)return HE;_F=1;var t=Zd(),e=ER(),n=pu(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,c=o.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=s.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return HE=f,HE}var VE,wF;function J8(){if(wF)return VE;wF=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return VE=t,VE}var KE,bF;function Y8(){if(bF)return KE;bF=1;var t=U0(),e=vm(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var c=a[o];(!(r.call(a,o)&&e(c,s))||s===void 0&&!(o in a))&&t(a,o,s)}return KE=i,KE}var GE,SF;function th(){if(SF)return GE;SF=1;var t=Y8(),e=U0();function n(r,i,a,o){var s=!a;a||(a={});for(var c=-1,f=i.length;++c<f;){var h=i[c],p=o?o(a[h],r[h],h,a,r):void 0;p===void 0&&(p=r[h]),s?e(a,h,p):t(a,h,p)}return a}return GE=n,GE}var WE,xF;function Ohe(){if(xF)return WE;xF=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return WE=t,WE}var QE,EF;function Lhe(){if(EF)return QE;EF=1;var t=Uo(),e=lR(),n=Ohe(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!t(o))return n(o);var s=e(o),c=[];for(var f in o)f=="constructor"&&(s||!i.call(o,f))||c.push(f);return c}return QE=a,QE}var ZE,TF;function xm(){if(TF)return ZE;TF=1;var t=jB(),e=Lhe(),n=j0();function r(i){return n(i)?t(i,!0):e(i)}return ZE=r,ZE}var JE,CF;function Ihe(){if(CF)return JE;CF=1;var t=th(),e=xm();function n(r){return t(r,e(r))}return JE=n,JE}var YE,AF;function Mhe(){if(AF)return YE;AF=1;var t=V8(),e=K8(),n=G8(),r=W8(),i=Q8(),a=N0(),o=Bo(),s=Phe(),c=F0(),f=XA(),h=Uo(),p=Z8(),m=uR(),y=J8(),_=Ihe();function b(S,x,E,A,I,M,D){var j=y(S,E),Q=y(x,E),Y=D.get(Q);if(Y){t(S,E,Y);return}var q=M?M(j,Q,E+"",S,x,D):void 0,Z=q===void 0;if(Z){var fe=o(Q),te=!fe&&c(Q),se=!fe&&!te&&m(Q);q=Q,fe||te||se?o(j)?q=j:s(j)?q=r(j):te?(Z=!1,q=e(Q,!0)):se?(Z=!1,q=n(Q,!0)):q=[]:p(Q)||a(Q)?(q=j,a(j)?q=_(j):(!h(j)||f(j))&&(q=i(Q))):Z=!1}Z&&(D.set(Q,q),I(q,Q,A,M,D),D.delete(Q)),t(S,E,q)}return YE=b,YE}var XE,RF;function Dhe(){if(RF)return XE;RF=1;var t=k0(),e=V8(),n=zB(),r=Mhe(),i=Uo(),a=xm(),o=J8();function s(c,f,h,p,m){c!==f&&n(f,function(y,_){if(m||(m=new t),i(y))r(c,f,_,h,s,p,m);else{var b=p?p(o(c,_),y,_+"",c,f,m):void 0;b===void 0&&(b=y),e(c,_,b)}},a)}return XE=s,XE}var eT,PF;function khe(){if(PF)return eT;PF=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return eT=t,eT}var tT,OF;function X8(){if(OF)return tT;OF=1;var t=khe(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,c=e(o.length-i,0),f=Array(c);++s<c;)f[s]=o[i+s];s=-1;for(var h=Array(i+1);++s<i;)h[s]=o[s];return h[i]=a(f),t(r,this,h)}}return tT=n,tT}var nT,LF;function Nhe(){if(LF)return nT;LF=1;function t(e){return function(){return e}}return nT=t,nT}var rT,IF;function Fhe(){if(IF)return rT;IF=1;var t=Nhe(),e=qB(),n=hR(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return rT=r,rT}var iT,MF;function jhe(){if(MF)return iT;MF=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),c=e-(s-o);if(o=s,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return iT=r,iT}var aT,DF;function eq(){if(DF)return aT;DF=1;var t=Fhe(),e=jhe(),n=e(t);return aT=n,aT}var oT,kF;function $he(){if(kF)return oT;kF=1;var t=hR(),e=X8(),n=eq();function r(i,a){return n(e(i,a,t),i+"")}return oT=r,oT}var sT,NF;function Uhe(){if(NF)return sT;NF=1;var t=vm(),e=j0(),n=iR(),r=Uo();function i(a,o,s){if(!r(s))return!1;var c=typeof o;return(c=="number"?e(s)&&n(o,s.length):c=="string"&&o in s)?t(s[o],a):!1}return sT=i,sT}var uT,FF;function Bhe(){if(FF)return uT;FF=1;var t=$he(),e=Uhe();function n(r){return t(function(i,a){var o=-1,s=a.length,c=s>1?a[s-1]:void 0,f=s>2?a[2]:void 0;for(c=r.length>3&&typeof c=="function"?(s--,c):void 0,f&&e(a[0],a[1],f)&&(c=s<3?void 0:c,s=1),i=Object(i);++o<s;){var h=a[o];h&&r(i,h,o,c)}return i})}return uT=n,uT}var lT,jF;function qhe(){if(jF)return lT;jF=1;var t=Dhe(),e=Bhe(),n=e(function(r,i,a){t(r,i,a)});return lT=n,lT}var zhe=qhe();const Hc=Gr(zhe);class Sl extends Error{constructor(n,r){super(n);Xb(this,"status");Xb(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Sl.prototype)}}var cT,$F;function tq(){if($F)return cT;$F=1;var t=wm();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],c=r(s);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=s}return h}return cT=e,cT}var fT,UF;function Hhe(){if(UF)return fT;UF=1;function t(e,n){return e>n}return fT=t,fT}var dT,BF;function Vhe(){if(BF)return dT;BF=1;var t=tq(),e=Hhe(),n=pR();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return dT=r,dT}var Khe=Vhe();const Ghe=Gr(Khe),Whe=(t,e)=>dr(t,{cache:"no-store",...e}),nq=t=>OB(t,Whe),Qhe=t=>{const e=ae.useMemo(()=>({queries:t.map(r=>Yc(r)).map(r=>({queryKey:["rdfDocument",r],queryFn:()=>nq(r)}))}),[t]);return gA(e)},Zhe=()=>{const t=Ui();return Ea({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await Do(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:nh(t)})},No=t=>{const e=Ui();return Ea({mutationFn:async({uri:r,data:i,language:a="en",method:o="PUT",throwOnHttpError:s=!1})=>{const c=Zn.createLdoDataset();if(Array.isArray(i))i.forEach(y=>{const _=c.usingType(t).fromSubject(y["@id"]);Zn.setLanguagePreferences(a).using(_),Hc(_,y)});else{const y=c.usingType(t).fromSubject(i["@id"]);Zn.setLanguagePreferences(a).using(y),Hc(y,i)}const f=await Zn.toTurtle(c.usingType(t).fromSubject("")),h={"content-type":"text/turtle"};o==="PUT"&&(h["If-None-Match"]="*");const p=await Do(r,{method:o,body:f,headers:h});if(s&&!p.ok)throw new Sl(p.statusText,p);return p.headers.get("location")},onSuccess:nh(e)})},qo=()=>{const t=Ui();return Ea({mutationFn:async({uri:n,patch:r})=>{const i=await Do(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:nh(t,n=>n.status===201)})},tf=t=>{const e=Ui();return Ea({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:o="en"})=>{const s=await Do(n);let c="";s.ok&&(c=await s.text());const h=(await Zn.parseRdf(c,{baseIRI:n})).usingType(t);let p="";if(r){const m=h.fromSubject(r);Zn.setLanguagePreferences(o).using(m),Zn.startTransaction(m),a(m),p=await FC(m)}else if(i){const m=h.matchSubject(i.predicate,i.object,i.graph);Zn.setLanguagePreferences(o).using(m),Zn.startTransaction(m),a(m),p=await FC(m)}return await Do(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:nh(e,n=>n.status===201)})},Jhe=t=>{const e=Ui();return Ea({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const o=await Do(n);let s="";o.ok&&(s=await o.text());const f=(await Zn.parseRdf(s,{baseIRI:n})).usingType(t),h=r(f);Zn.setLanguagePreferences(a).using(h),Zn.startTransaction(h),i(h);const p=await FC(h);return await Do(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:nh(e,n=>n.status===201)})},G0=()=>{const t=Ui();return Ea({mutationFn:async({uri:n})=>{await Do(n,{method:"DELETE"})},onSuccess:nh(t)})},Yhe=(t,e)=>{const n=Wle(t),r=e.getQueryCache().getAll().filter(a=>a.queryKey[0]==="rdfDocument"&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return Ghe(r,a=>a.length)},nh=(t,e=()=>!0)=>(n,r)=>{const i=Yc(r.uri);if(t.invalidateQueries({queryKey:["rdfDocument",i]}),t.invalidateQueries({queryKey:["rdfDocument",cB(i)]}),e(n)){const a=Yhe(i,t);a&&t.invalidateQueries({queryKey:["rdfDocument",a]})}},Fo=(t,e)=>{const n=ba(ae.useMemo(()=>({query:j8,variables:{person:t?[t]:[],community:[e]},fetch:dr}),[e,t])),{variables:r,isLoading:i}=n,a=ba(ae.useMemo(()=>({query:N8,variables:{person:t?[t]:[]},fetch:dr}),[t])),o=ae.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(x=>new ps(n.quads).getQuads(null,null,null,new Hr(x))).map(x=>Zn.createLdoDataset(x).usingType(V0).fromSubject(t)),[n.quads,r.hospexDocumentForCommunity,t]),s=ae.useMemo(()=>{const{quads:_}=a;return Zn.createLdoDataset(_).usingType(Ehe).fromSubject(t)},[a,t]),c=ae.useMemo(()=>Hc({},lF(s),...o.map(_=>lF(_))),[s,o]),f=ae.useMemo(()=>o.map(_=>Zn.languagesOf(_,"note")),[o]),[h]=ae.useMemo(()=>f.map(_=>{var b;return((b=_==null?void 0:_.en)==null?void 0:b.values().next().value)??""}),[f]),p=ae.useMemo(()=>{var _,b;return{id:t,name:c.name??"",photo:(_=c.hasPhoto)==null?void 0:_["@id"],about:h,interests:((b=c.topicInterest)==null?void 0:b.map(S=>S["@id"]))??[]}},[h,c.hasPhoto,c.name,c.topicInterest,t]),m=ae.useMemo(()=>{var _,b;return o.length>0?{id:t,name:o[0].name??"",photo:(_=o[0].hasPhoto)==null?void 0:_["@id"],about:(b=o[0].note)==null?void 0:b[0]}:void 0},[o,t]),y=ae.useMemo(()=>new ps(n.quads).getQuads(new Hr(t),new Hr(wl.topic_interest),null,null).map(_=>({id:_.object.id,document:_.graph.id})),[n,t]);return ae.useMemo(()=>{var _;return[p,i,(_=r.hospexDocumentForCommunity)==null?void 0:_[0],y,m]},[m,y,i,p,r.hospexDocumentForCommunity])},rq=t=>{const{quads:e,isFetched:n}=ba(ae.useMemo(()=>({query:eh,variables:{person:[t]},fetch:dr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[t]));return ae.useMemo(()=>[Zn.createLdoDataset(e).usingType(q8).fromSubject(t),{isFetched:n}],[n,t,e])},Xhe=()=>{const t=tf(V0);return ae.useCallback(async({personId:e,hospexDocument:n,data:r,language:i="en"})=>{await t.mutateAsync({uri:n,subject:e,language:i,transform:a=>{r.name&&(a.name=r.name),r.about&&(a.note=[r.about]),r.photo&&(a.hasPhoto={"@id":r.photo})}})},[t])},epe=()=>{const t=qo();return ae.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${e}> <${wl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])},tpe=()=>{const t=qo();return ae.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.deletes}> { <${e}> <${wl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])};var hT,qF;function npe(){if(qF)return hT;qF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return hT=t,hT}var pT,zF;function rpe(){if(zF)return pT;zF=1;var t=th(),e=_m();function n(r,i){return r&&t(i,e(i),r)}return pT=n,pT}var gT,HF;function ipe(){if(HF)return gT;HF=1;var t=th(),e=xm();function n(r,i){return r&&t(i,e(i),r)}return gT=n,gT}var mT,VF;function ape(){if(VF)return mT;VF=1;var t=th(),e=rR();function n(r,i){return t(r,e(r),i)}return mT=n,mT}var yT,KF;function iq(){if(KF)return yT;KF=1;var t=nR(),e=ER(),n=rR(),r=FB(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)t(s,n(o)),o=e(o);return s}:r;return yT=a,yT}var vT,GF;function ope(){if(GF)return vT;GF=1;var t=th(),e=iq();function n(r,i){return t(r,e(r),i)}return vT=n,vT}var _T,WF;function aq(){if(WF)return _T;WF=1;var t=NB(),e=iq(),n=xm();function r(i){return t(i,n,e)}return _T=r,_T}var wT,QF;function spe(){if(QF)return wT;QF=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return wT=n,wT}var bT,ZF;function upe(){if(ZF)return bT;ZF=1;var t=xR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return bT=e,bT}var ST,JF;function lpe(){if(JF)return ST;JF=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return ST=e,ST}var xT,YF;function cpe(){if(YF)return xT;YF=1;var t=Qd(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return xT=r,xT}var ET,XF;function fpe(){if(XF)return ET;XF=1;var t=xR(),e=upe(),n=lpe(),r=cpe(),i=G8(),a="[object Boolean]",o="[object Date]",s="[object Map]",c="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",j="[object Uint32Array]";function Q(Y,q,Z){var fe=Y.constructor;switch(q){case y:return t(Y);case a:case o:return new fe(+Y);case _:return e(Y,Z);case b:case S:case x:case E:case A:case I:case M:case D:case j:return i(Y,Z);case s:return new fe;case c:case p:return new fe(Y);case f:return n(Y);case h:return new fe;case m:return r(Y)}}return ET=Q,ET}var TT,ej;function dpe(){if(ej)return TT;ej=1;var t=$0(),e=pu(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return TT=r,TT}var CT,tj;function hpe(){if(tj)return CT;tj=1;var t=dpe(),e=oR(),n=sR(),r=n&&n.isMap,i=r?e(r):t;return CT=i,CT}var AT,nj;function ppe(){if(nj)return AT;nj=1;var t=$0(),e=pu(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return AT=r,AT}var RT,rj;function gpe(){if(rj)return RT;rj=1;var t=ppe(),e=oR(),n=sR(),r=n&&n.isSet,i=r?e(r):t;return RT=i,RT}var PT,ij;function oq(){if(ij)return PT;ij=1;var t=k0(),e=npe(),n=Y8(),r=rpe(),i=ipe(),a=K8(),o=W8(),s=ape(),c=ope(),f=UB(),h=aq(),p=$0(),m=spe(),y=fpe(),_=Q8(),b=Bo(),S=F0(),x=hpe(),E=Uo(),A=gpe(),I=_m(),M=xm(),D=1,j=2,Q=4,Y="[object Arguments]",q="[object Array]",Z="[object Boolean]",fe="[object Date]",te="[object Error]",se="[object Function]",pe="[object GeneratorFunction]",be="[object Map]",ce="[object Number]",le="[object Object]",Oe="[object RegExp]",k="[object Set]",ne="[object String]",me="[object Symbol]",H="[object WeakMap]",J="[object ArrayBuffer]",ge="[object DataView]",Ae="[object Float32Array]",Je="[object Float64Array]",Re="[object Int8Array]",Fe="[object Int16Array]",Xe="[object Int32Array]",ie="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",re="[object Uint32Array]",W={};W[Y]=W[q]=W[J]=W[ge]=W[Z]=W[fe]=W[Ae]=W[Je]=W[Re]=W[Fe]=W[Xe]=W[be]=W[ce]=W[le]=W[Oe]=W[k]=W[ne]=W[me]=W[ie]=W[z]=W[$]=W[re]=!0,W[te]=W[se]=W[H]=!1;function he(ye,He,Te,Ne,tt,nt){var gt,Ut=He&D,Se=He&j,Be=He&Q;if(Te&&(gt=tt?Te(ye,Ne,tt,nt):Te(ye)),gt!==void 0)return gt;if(!E(ye))return ye;var X=b(ye);if(X){if(gt=m(ye),!Ut)return o(ye,gt)}else{var B=p(ye),K=B==se||B==pe;if(S(ye))return a(ye,Ut);if(B==le||B==Y||K&&!tt){if(gt=Se||K?{}:_(ye),!Ut)return Se?c(ye,i(gt,ye)):s(ye,r(gt,ye))}else{if(!W[B])return tt?ye:{};gt=y(ye,B,Ut)}}nt||(nt=new t);var V=nt.get(ye);if(V)return V;nt.set(ye,gt),A(ye)?ye.forEach(function(ke){gt.add(he(ke,He,Te,ke,ye,nt))}):x(ye)&&ye.forEach(function(ke,At){gt.set(At,he(ke,He,Te,At,ye,nt))});var je=Be?Se?h:f:Se?M:I,Ze=X?void 0:je(ye);return e(Ze||ye,function(ke,At){Ze&&(At=ke,ke=ye[At]),n(gt,At,he(ke,He,Te,At,ye,nt))}),gt}return PT=he,PT}var OT,aj;function mpe(){if(aj)return OT;aj=1;var t=oq(),e=1,n=4;function r(i){return t(i,e|n)}return OT=r,OT}var ype=mpe();const vpe=Gr(ype),_pe=t=>{const{quads:e,variables:n}=ba(ae.useMemo(()=>({query:yhe,variables:{person:[t]},staleTime:3e4,fetch:dr}),[t])),r=ae.useMemo(()=>{const i=Zn.createLdoDataset(e).usingType(Od);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var h,p,m;const o=a["@id"],s=((h=a.participation)==null?void 0:h.flatMap(y=>{var _;return((_=y.references)==null?void 0:_.flatMap(b=>b["@id"]??[]).filter(b=>!!b))??[]}))??[],c=((p=a.participation)==null?void 0:p.map(y=>y.participant["@id"]))??[],f=[a,...(((m=a.participation)==null?void 0:m.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(_=>({id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"]})).sort((_,b)=>_.createdAt-b.createdAt));return{id:o,related:s,participants:c,messages:f}}).sort((a,o)=>{var s,c;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((c=[...a.messages].pop())==null?void 0:c.createdAt)??0)})},[e,n.chat]);return ae.useMemo(()=>({data:r}),[r])},W0=t=>{const{quads:e,variables:n,isLoading:r}=ba(ae.useMemo(()=>({query:hhe,variables:{person:t?[t]:[]},fetch:dr,staleTime:3e4}),[t])),i=ae.useMemo(()=>(n.longChatNotification??[]).map(a=>{var s,c,f,h;const o=Zn.createLdoDataset(e).usingType(z8).fromSubject(a);return{id:o.object["@id"]??"",message:o.object.content,createdAt:new Date(((s=o.object)==null?void 0:s.created)??o.updated).getTime(),from:((c=o.object.maker)==null?void 0:c["@id"])??((f=o.actor)==null?void 0:f["@id"]),chat:o.target["@id"]??"",otherChats:(h=o.target.participation)==null?void 0:h.flatMap(p=>{var m;return((m=p.references)==null?void 0:m.flatMap(y=>y["@id"]??[]))??[]}),notification:o["@id"],status:"unread"}}),[e,n.longChatNotification]);return ae.useMemo(()=>({isLoading:r,data:i}),[r,i])},wpe=t=>{const{data:e}=_pe(t),{data:n}=W0(t);return{data:ae.useMemo(()=>{const i=vpe(e);n.forEach(a=>{const o=i.find(s=>{var c;return s.related.includes(a.chat)||((c=a.otherChats)==null?void 0:c.includes(s.id))});if(o){o.status="unread";const s=o.messages.findIndex(c=>c.id===a.id);s>-1?o.messages[s]=a:o.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((o,s)=>((o==null?void 0:o.createdAt)??0)-((s==null?void 0:s.createdAt)??0));return i.sort((a,o)=>{var s,c;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((c=[...a.messages].pop())==null?void 0:c.createdAt)??0)}),i},[n,e])}};function Kr(){return Kr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kr.apply(this,arguments)}function Vc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LT={exports:{}},IT,oj;function bpe(){if(oj)return IT;oj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return IT=t,IT}var MT,sj;function Spe(){if(sj)return MT;sj=1;var t=bpe();function e(){}function n(){}return n.resetWarningCache=e,MT=function(){function r(o,s,c,f,h,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},MT}var uj;function sq(){return uj||(uj=1,LT.exports=Spe()()),LT.exports}var zg=mA(),uq=function(e){return!!e&&e[0]==="o"},lj=zg.unstable_batchedUpdates||function(t){return t()},Hf=function(e,n,r){return r===void 0&&(r=1e-4),Math.abs(e-n)<r},Hg=function(e,n){return e===!0||!!(e&&e[n])},fo=function(e,n){return typeof e=="function"?e(n):e},lq="_szhsinMenu",xpe=function(e){return e[lq]},Epe=function(e,n){return Object.defineProperty(n,lq,{value:e})},Q0=function(e,n){return n&&Object.keys(n).forEach(function(r){var i=e[r],a=n[r];typeof a=="function"&&i?e[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:e[r]=a}),e},Tpe=function(e){if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};var n=e.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},DT=function(e){for(;e;){if(e=e.parentNode,!e||e===document.body)return;var n=getComputedStyle(e),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return e}};function cq(t,e){return{"aria-disabled":t||void 0,tabIndex:e?0:-1}}function cj(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var Ld=function(e){var n=e.block,r=e.element,i=e.modifiers,a=e.className;return ae.useMemo(function(){var o=r?n+"__"+r:n,s=o;i&&Object.keys(i).forEach(function(f){var h=i[f];h&&(s+=" "+o+"--"+(h===!0?f:f+"-"+h))});var c=typeof a=="function"?a(i):a;return typeof c=="string"&&(c=c.trim(),c&&(s+=" "+c)),s},[n,r,i,a])},Cpe="szh-menu-container",Rg="szh-menu",Ape="szh-menu-button",Rpe="arrow",Ppe="item",Ope="divider",fq=ae.createContext(),dq=ae.createContext({}),fj=ae.createContext({}),hq=ae.createContext({}),Lpe=ae.createContext({}),pq=ae.createContext({}),gq=ae.createContext({}),Lo=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),mi=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Vg=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Pg=Object.freeze({FIRST:"first",LAST:"last"}),Ipe=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Mpe=["className","isOpen","disabled","children"],Dpe=Epe("MenuButton",ae.forwardRef(function(e,n){var r=e.className,i=e.isOpen,a=e.disabled,o=e.children,s=Vc(e,Mpe),c=ae.useMemo(function(){return{open:i}},[i]);return de.jsx("button",Kr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},s,{ref:n,className:Ld({block:Ape,modifiers:c,className:r}),children:o}))})),kpe=function(e){var n=e.className,r=e.containerRef,i=e.containerProps,a=e.children,o=e.isOpen,s=e.skipOpen,c=e.theming,f=e.transition,h=e.onClose,p=Hg(f,"item"),m=function(b){var S=b.key;switch(S){case Lo.ESC:fo(h,{key:S,reason:Vg.CANCEL});break}},y=function(b){o&&!b.currentTarget.contains(b.relatedTarget||document.activeElement)&&(fo(h,{reason:Vg.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return de.jsx("div",Kr({},Q0({onKeyDown:m,onBlur:y},i),{className:Ld({block:Cpe,modifiers:ae.useMemo(function(){return{theme:c,itemTransition:p}},[c,p]),className:n}),style:Kr({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},Npe=function(e,n){var r=ae.useState(),i=r[0],a=r[1],o=ae.useRef({items:[],hoverIndex:-1,sorted:!1}),s=o.current,c=ae.useCallback(function(h,p){var m=s.items;if(!h)s.items=[];else if(p)m.push(h);else{var y=m.indexOf(h);y>-1&&(m.splice(y,1),h.contains(document.activeElement)&&(n.current.focus(),a()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),f=ae.useCallback(function(h,p,m){var y=s.items,_=s.hoverIndex,b=function(){if(!s.sorted){var A=e.current.querySelectorAll(".szh-menu__item");y.sort(function(I,M){return cj(A,I)-cj(A,M)}),s.sorted=!0}},S=-1,x=void 0;switch(h){case mi.RESET:break;case mi.SET:x=p;break;case mi.UNSET:x=function(A){return A===p?void 0:A};break;case mi.FIRST:b(),S=0,x=y[S];break;case mi.LAST:b(),S=y.length-1,x=y[S];break;case mi.SET_INDEX:b(),S=m,x=y[S];break;case mi.INCREASE:b(),S=_,S<0&&(S=y.indexOf(p)),S++,S>=y.length&&(S=0),x=y[S];break;case mi.DECREASE:b(),S=_,S<0&&(S=y.indexOf(p)),S--,S<0&&(S=y.length-1),x=y[S];break}x||(S=-1),a(x),s.hoverIndex=S},[e,s]);return{hoverItem:i,dispatch:f,updateItems:c}},Fpe=function(e,n,r,i){var a=n.current.getBoundingClientRect(),o=e.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),c=Tpe(i),f=function(S){return S+o.left-s.left-c.left},h=function(S){return S+o.left+a.width-s.right+c.right},p=function(S){return S+o.top-s.top-c.top},m=function(S){return S+o.top+a.height-s.bottom+c.bottom},y=function(S){var x=f(S);if(x<0)S-=x;else{var E=h(S);E>0&&(S-=E,x=f(S),x<0&&(S-=x))}return S},_=function(S){var x=p(S);if(x<0)S-=x;else{var E=m(S);E>0&&(S-=E,x=p(S),x<0&&(S-=x))}return S};return{menuRect:a,containerRect:o,getLeftOverflow:f,getRightOverflow:h,getTopOverflow:p,getBottomOverflow:m,confineHorizontally:y,confineVertically:_}},jpe=function(e){var n=e.arrowRef,r=e.menuY,i=e.anchorRect,a=e.containerRect,o=e.menuRect,s=i.top-a.top-r+i.height/2,c=n.current.offsetHeight*1.25;return s=Math.max(c,s),s=Math.min(s,o.height-c),s},$pe=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeLeftorRightY,o=e.placeLeftX,s=e.placeRightX,c=e.getLeftOverflow,f=e.getRightOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,_=e.direction,b=e.position,S=_,x=a;b!=="initial"&&(x=p(x),b==="anchor"&&(x=Math.min(x,n.bottom-r.top),x=Math.max(x,n.top-r.top-i.height)));var E,A,I;S==="left"?(E=o,b!=="initial"&&(A=c(E),A<0&&(I=f(s),(I<=0||-A>I)&&(E=s,S="right")))):(E=s,b!=="initial"&&(I=f(E),I>0&&(A=c(o),(A>=0||-A<I)&&(E=o,S="left")))),b==="auto"&&(E=h(E));var M=y?jpe({menuY:x,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:M,x:E,y:x,computedDirection:S}},Upe=function(e){var n=e.arrowRef,r=e.menuX,i=e.anchorRect,a=e.containerRect,o=e.menuRect,s=i.left-a.left-r+i.width/2,c=n.current.offsetWidth*1.25;return s=Math.max(c,s),s=Math.min(s,o.width-c),s},Bpe=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeToporBottomX,o=e.placeTopY,s=e.placeBottomY,c=e.getTopOverflow,f=e.getBottomOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,_=e.direction,b=e.position,S=_==="top"?"top":"bottom",x=a;b!=="initial"&&(x=h(x),b==="anchor"&&(x=Math.min(x,n.right-r.left),x=Math.max(x,n.left-r.left-i.width)));var E,A,I;S==="top"?(E=o,b!=="initial"&&(A=c(E),A<0&&(I=f(s),(I<=0||-A>I)&&(E=s,S="bottom")))):(E=s,b!=="initial"&&(I=f(E),I>0&&(A=c(o),(A>=0||-A<I)&&(E=o,S="top")))),b==="auto"&&(E=p(E));var M=y?Upe({menuX:x,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:M,x,y:E,computedDirection:S}},qpe=function(e){var n=e.arrow,r=e.align,i=e.direction,a=e.offsetX,o=e.offsetY,s=e.position,c=e.anchorRect,f=e.arrowRef,h=e.positionHelpers,p=h.menuRect,m=h.containerRect,y=a,_=o;n&&(i==="left"||i==="right"?y+=f.current.offsetWidth:_+=f.current.offsetHeight);var b=c.left-m.left-p.width-y,S=c.right-m.left+y,x=c.top-m.top-p.height-_,E=c.bottom-m.top+_,A,I;r==="end"?(A=c.right-m.left-p.width,I=c.bottom-m.top-p.height):r==="center"?(A=c.left-m.left-(p.width-c.width)/2,I=c.top-m.top-(p.height-c.height)/2):(A=c.left-m.left,I=c.top-m.top),A+=y,I+=_;var M=Kr({},h,{anchorRect:c,placeLeftX:b,placeRightX:S,placeLeftorRightY:I,placeTopY:x,placeBottomY:E,placeToporBottomX:A,arrowRef:f,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return $pe(M);case"top":case"bottom":default:return Bpe(M)}},E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ae.useLayoutEffect:ae.useEffect;function dj(t,e){typeof t=="function"?t(e):t.current=e}var TR=function(e,n){return ae.useMemo(function(){return e?n?function(r){dj(e,r),dj(n,r)}:e:n},[e,n])},zpe=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],Hpe=function(e){var n=e.ariaLabel,r=e.menuClassName,i=e.menuStyle,a=e.arrowClassName,o=e.arrowStyle,s=e.anchorPoint,c=e.anchorRef,f=e.containerRef,h=e.containerProps,p=e.focusProps,m=e.externalRef,y=e.parentScrollingRef,_=e.arrow,b=e.align,S=b===void 0?"start":b,x=e.direction,E=x===void 0?"bottom":x,A=e.position,I=A===void 0?"auto":A,M=e.overflow,D=M===void 0?"visible":M,j=e.setDownOverflow,Q=e.repositionFlag,Y=e.captureFocus,q=Y===void 0?!0:Y,Z=e.state,fe=e.endTransition,te=e.isDisabled,se=e.menuItemFocus,pe=e.offsetX,be=pe===void 0?0:pe,ce=e.offsetY,le=ce===void 0?0:ce,Oe=e.children,k=e.onClose,ne=Vc(e,zpe),me=ae.useState({x:0,y:0}),H=me[0],J=me[1],ge=ae.useState({}),Ae=ge[0],Je=ge[1],Re=ae.useState(),Fe=Re[0],Xe=Re[1],ie=ae.useState(E),z=ie[0],$=ie[1],re=ae.useState(0),W=re[0],he=re[1],ye=ae.useReducer(function(it){return it+1},1),He=ye[0],Te=ye[1],Ne=ae.useContext(pq),tt=Ne.transition,nt=Ne.boundingBoxRef,gt=Ne.boundingBoxPadding,Ut=Ne.rootMenuRef,Se=Ne.rootAnchorRef,Be=Ne.scrollNodesRef,X=Ne.reposition,B=Ne.viewScroll,K=ae.useContext(fj).reposSubmenu||Q,V=ae.useRef(null),je=ae.useRef(),Ze=ae.useRef(),ke=ae.useRef(!1),At=ae.useRef({width:0,height:0}),Ot=ae.useRef(function(){}),Dt=Npe(V,je),Rt=Dt.hoverItem,Bt=Dt.dispatch,Er=Dt.updateItems,fn=uq(Z),dn=Hg(tt,"open"),hr=Hg(tt,"close"),sn=Be.current,un=function(Et){switch(Et.key){case Lo.HOME:Bt(mi.FIRST);break;case Lo.END:Bt(mi.LAST);break;case Lo.UP:Bt(mi.DECREASE,Rt);break;case Lo.DOWN:Bt(mi.INCREASE,Rt);break;case Lo.SPACE:Et.target&&Et.target.className.indexOf(Rg)!==-1&&Et.preventDefault();return;default:return}Et.preventDefault(),Et.stopPropagation()},Ln=function(){Z==="closing"&&Xe(),fo(fe)},or=ae.useCallback(function(it){var Et,It=c?(Et=c.current)==null?void 0:Et.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(It){sn.menu||(sn.menu=(nt?nt.current:DT(Ut.current))||window);var Vt=Fpe(f,V,sn.menu,gt),Yt=qpe({arrow:_,align:S,direction:E,offsetX:be,offsetY:le,position:I,anchorRect:It,arrowRef:Ze,positionHelpers:Vt}),qt=Yt.arrowX,Nt=Yt.arrowY,en=Yt.x,Rn=Yt.y,Kt=Yt.computedDirection,Qt=Vt.menuRect,xn=Qt.height;if(!it&&D!=="visible"){var En=Vt.getTopOverflow,Bn=Vt.getBottomOverflow,Tr,Ur,Br=At.current.height,Rr=Bn(Rn);if(Rr>0||Hf(Rr,0)&&Hf(xn,Br))Tr=xn-Rr,Ur=Rr;else{var Fn=En(Rn);(Fn<0||Hf(Fn,0)&&Hf(xn,Br))&&(Tr=xn+Fn,Ur=0-Fn,Tr>=0&&(Rn-=Fn))}Tr>=0?(xn=Tr,Xe({height:Tr,overflowAmt:Ur})):Xe()}_&&Je({x:qt,y:Nt}),J({x:en,y:Rn}),$(Kt),At.current={width:Qt.width,height:xn}}},[_,S,gt,E,be,le,I,D,s,c,f,nt,Ut,sn]);E_(function(){fn&&(or(),ke.current&&Te()),ke.current=fn,Ot.current=or},[fn,or,K]),E_(function(){Fe&&!j&&(V.current.scrollTop=0)},[Fe,j]),E_(function(){return Er},[Er]),ae.useEffect(function(){var it=sn.menu;if(!(!fn||!it)){if(it=it.addEventListener?it:window,!sn.anchors){sn.anchors=[];for(var Et=DT(Se&&Se.current);Et&&Et!==it;)sn.anchors.push(Et),Et=DT(Et)}var It=B;if(sn.anchors.length&&It==="initial"&&(It="auto"),It!=="initial"){var Vt=function(){It==="auto"?lj(function(){return or(!0)}):fo(k,{reason:Vg.SCROLL})},Yt=sn.anchors.concat(B!=="initial"?it:[]);return Yt.forEach(function(qt){return qt.addEventListener("scroll",Vt)}),function(){return Yt.forEach(function(qt){return qt.removeEventListener("scroll",Vt)})}}}},[Se,sn,fn,k,B,or]);var Le=!!Fe&&Fe.overflowAmt>0;ae.useEffect(function(){if(!(Le||!fn||!y)){var it=function(){return lj(or)},Et=y.current;return Et.addEventListener("scroll",it),function(){return Et.removeEventListener("scroll",it)}}},[fn,Le,y,or]),ae.useEffect(function(){if(!(typeof ResizeObserver!="function"||X==="initial")){var it=new ResizeObserver(function(It){var Vt=It[0],Yt=Vt.borderBoxSize,qt=Vt.target,Nt,en;if(Yt){var Rn=Yt[0]||Yt,Kt=Rn.inlineSize,Qt=Rn.blockSize;Nt=Kt,en=Qt}else{var xn=qt.getBoundingClientRect();Nt=xn.width,en=xn.height}Nt===0||en===0||Hf(Nt,At.current.width,1)&&Hf(en,At.current.height,1)||zg.flushSync(function(){Ot.current(),Te()})}),Et=V.current;return it.observe(Et,{box:"border-box"}),function(){return it.unobserve(Et)}}},[X]),ae.useEffect(function(){if(!fn){Bt(mi.RESET),hr||Xe();return}var it=se||{},Et=it.position,It=it.alwaysUpdate,Vt=function(){Et===Pg.FIRST?Bt(mi.FIRST):Et===Pg.LAST?Bt(mi.LAST):Et>=-1&&Bt(mi.SET_INDEX,void 0,Et)};if(It)Vt();else if(q){var Yt=setTimeout(function(){V.current.contains(document.activeElement)||(je.current.focus(),Vt())},dn?170:100);return function(){return clearTimeout(Yt)}}},[fn,dn,hr,q,se,Bt]);var qe=W>0,wt=ae.useMemo(function(){return{isParentOpen:fn,isSubmenuOpen:qe,setOpenSubmenuCount:he,dispatch:Bt,updateItems:Er}},[fn,qe,Bt,Er]),xt,Lt;Fe&&(j?Lt=Fe.overflowAmt:xt=Fe.height);var zn=ae.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:Lt,parentMenuRef:V,parentDir:z}},[He,D,Lt,z]),Jn=xt>=0?{maxHeight:xt,overflow:D}:void 0,We=ae.useMemo(function(){return{state:Z,dir:z}},[Z,z]),Ee=ae.useMemo(function(){return{dir:z}},[z]),et=Ld({block:Rg,element:Rpe,modifiers:Ee,className:a}),ft=de.jsxs("ul",Kr({role:"menu","aria-label":n},cq(te),Q0({onKeyDown:un,onAnimationEnd:Ln},ne),{ref:TR(m,V),className:Ld({block:Rg,modifiers:We,className:r}),style:Kr({},i,Jn,{margin:0,display:Z==="closed"?"none":void 0,position:"absolute",left:H.x,top:H.y}),children:[de.jsx("div",Kr({tabIndex:-1,style:{position:"absolute",left:0,top:0}},p,{ref:je})),_&&de.jsx("div",{className:et,style:Kr({},o,{position:"absolute",left:Ae.x,top:Ae.y}),ref:Ze}),de.jsx(fj.Provider,{value:zn,children:de.jsx(dq.Provider,{value:wt,children:de.jsx(fq.Provider,{value:Rt,children:Oe})})})]}));return h?de.jsx(kpe,Kr({},h,{isOpen:fn,children:ft})):ft},Vpe=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],Kpe=ae.forwardRef(function(e,n){var r=e["aria-label"],i=e.className,a=e.containerProps,o=e.initialMounted,s=e.unmountOnClose,c=e.transition,f=e.transitionTimeout,h=e.boundingBoxRef,p=e.boundingBoxPadding,m=e.reposition,y=m===void 0?"auto":m,_=e.submenuOpenDelay,b=_===void 0?300:_,S=e.submenuCloseDelay,x=S===void 0?150:S,E=e.skipOpen,A=e.viewScroll,I=A===void 0?"initial":A,M=e.portal,D=e.theming,j=e.onItemClick,Q=Vc(e,Vpe),Y=ae.useRef(null),q=ae.useRef({}),Z=Q.anchorRef,fe=Q.state,te=Q.onClose,se=ae.useMemo(function(){return{initialMounted:o,unmountOnClose:s,transition:c,transitionTimeout:f,boundingBoxRef:h,boundingBoxPadding:p,rootMenuRef:Y,rootAnchorRef:Z,scrollNodesRef:q,reposition:y,viewScroll:I}},[o,s,c,f,Z,h,p,y,I]),pe=ae.useMemo(function(){return{submenuOpenDelay:b,submenuCloseDelay:x}},[b,x]),be=ae.useMemo(function(){return{handleClick:function(Oe,k){Oe.stopPropagation||fo(j,Oe);var ne=Oe.keepOpen;ne===void 0&&(ne=k&&Oe.key===Lo.SPACE),ne||fo(te,{value:Oe.value,key:Oe.key,reason:Vg.CLICK})},handleClose:function(Oe){fo(te,{key:Oe,reason:Vg.CLICK})}}},[j,te]);if(!fe)return null;var ce=de.jsx(pq.Provider,{value:se,children:de.jsx(gq.Provider,{value:pe,children:de.jsx(hq.Provider,{value:be,children:de.jsx(Hpe,Kr({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:Y,containerProps:{className:i,containerRef:Y,containerProps:a,skipOpen:E,theming:D,transition:c,onClose:te}}))})})});return M===!0&&typeof document<"u"?zg.createPortal(ce,document.body):M?M.target?zg.createPortal(ce,M.target):M.stablePosition?null:ce:ce}),kT=0,NT=1,sv=2,FT=3,jT=4,Gpe=5,Wpe=6,mq=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],$T=function(e){return e?Wpe:Gpe},hj=function(e,n,r,i,a){clearTimeout(i.current),n(e),r.current=e,a&&a({state:mq[e]})},Qpe=function(e){var n=e===void 0?{}:e,r=n.enter,i=r===void 0?!0:r,a=n.exit,o=a===void 0?!0:a,s=n.preEnter,c=n.preExit,f=n.timeout,h=n.initialEntered,p=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,_=ae.useState(h?sv:$T(p)),b=_[0],S=_[1],x=ae.useRef(b),E=ae.useRef(),A,I;typeof f=="object"?(A=f.enter,I=f.exit):A=I=f;var M=ae.useCallback(function(){var j;switch(x.current){case NT:case kT:j=sv;break;case jT:case FT:j=$T(m);break}j!==void 0&&hj(j,S,x,E,y)},[y,m]),D=ae.useCallback(function(j){var Q=function q(Z){switch(hj(Z,S,x,E,y),Z){case NT:A>=0&&(E.current=setTimeout(M,A));break;case jT:I>=0&&(E.current=setTimeout(M,I));break;case kT:case FT:E.current=setTimeout(function(){return q(Z+1)},0);break}},Y=x.current<=sv;typeof j!="boolean"&&(j=!Y),j?Y||Q(i?s?kT:NT:sv):Y&&Q(o?c?FT:jT:$T(m))},[M,y,i,o,s,c,A,I,m]);return ae.useEffect(function(){return function(){return clearTimeout(E.current)}},[]),[mq[b],D,M]},Zpe=function(e){var n=e===void 0?{}:e,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,o=n.transition,s=n.transitionTimeout,c=s===void 0?500:s,f=Qpe({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:c,enter:Hg(o,"open"),exit:Hg(o,"close")}),h=f[0],p=f[1],m=f[2];return[{state:Ipe[h],endTransition:m},p]},Jpe=function(e){var n=Zpe(e),r=n[0],i=n[1],a=ae.useState(),o=a[0],s=a[1],c=function(h,p){s({position:h,alwaysUpdate:p}),i(!0)};return[Kr({menuItemFocus:o},r),i,c]},Ype=function(e,n){var r=ae.useRef(n);ae.useEffect(function(){r.current!==n&&fo(e,{open:n}),r.current=n},[e,n])},Xpe=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],ege=ae.forwardRef(function(e,n){var r=e["aria-label"],i=e.menuButton,a=e.instanceRef,o=e.onMenuChange,s=Vc(e,Xpe),c=Jpe(s),f=c[0],h=c[1],p=c[2],m=uq(f.state),y=ae.useRef(!1),_=ae.useRef(null),b=ae.useCallback(function(M){h(!1),M.key&&_.current.focus()},[h]),S=function(D){y.current||p(D.detail===0?Pg.FIRST:void 0)},x=function(D){switch(D.key){case Lo.UP:p(Pg.LAST);break;case Lo.DOWN:p(Pg.FIRST);break;default:return}D.preventDefault()},E=fo(i,{open:m});if(!E||!E.type)throw new Error("Menu requires a menuButton prop.");var A=Kr({ref:TR(E.ref,_)},Q0({onClick:S,onKeyDown:x},E.props));xpe(E.type)==="MenuButton"&&(A.isOpen=m);var I=ae.cloneElement(E,A);return Ype(o,m),ae.useImperativeHandle(a,function(){return{openMenu:p,closeMenu:function(){return h(!1)}}}),de.jsxs(ae.Fragment,{children:[I,de.jsx(Kpe,Kr({},s,f,{"aria-label":r||(typeof E.props.children=="string"?E.props.children:"Menu"),anchorRef:_,ref:n,onClose:b,skipOpen:y}))]})}),tge=function(e,n){var r=ae.memo(n),i=ae.forwardRef(function(a,o){var s=ae.useRef(null);return de.jsx(r,Kr({},a,{itemRef:s,externalRef:o,isHovering:ae.useContext(fq)===s.current}))});return i.displayName="WithHovering("+e+")",i},nge=function(e,n,r){E_(function(){if(!e){var i=n.current;return r(i,!0),function(){r(i)}}},[e,n,r])},rge=function(e,n,r,i){var a=ae.useContext(gq),o=a.submenuCloseDelay,s=ae.useContext(dq),c=s.isParentOpen,f=s.isSubmenuOpen,h=s.dispatch,p=s.updateItems,m=ae.useRef(0),y=function(){!r&&!i&&h(mi.SET,e.current)},_=function(){!i&&h(mi.UNSET,e.current)},b=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&_()},S=function(){f?m.current||(m.current=setTimeout(function(){m.current=0,y()},o)):y()},x=function(A,I){m.current&&(clearTimeout(m.current),m.current=0),!I&&_()};return nge(i,e,p),ae.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),ae.useEffect(function(){r&&c&&n.current&&n.current.focus()},[n,r,c]),{setHover:y,onBlur:b,onPointerMove:S,onPointerLeave:x}},ige=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],age=["setHover"],Vf=tge("MenuItem",function(e){var n=e.className,r=e.value,i=e.href,a=e.type,o=e.checked,s=e.disabled,c=e.children,f=e.onClick,h=e.isHovering,p=e.itemRef,m=e.externalRef,y=Vc(e,ige),_=!!s,b=rge(p,p,h,_),S=b.setHover,x=Vc(b,age),E=ae.useContext(hq),A=ae.useContext(Lpe),I=a==="radio",M=a==="checkbox",D=!!i&&!_&&!I&&!M,j=I?A.value===r:M?!!o:!1,Q=function(se){if(_){se.stopPropagation(),se.preventDefault();return}var pe={value:r,syntheticEvent:se};se.key!==void 0&&(pe.key=se.key),M&&(pe.checked=!j),I&&(pe.name=A.name),fo(f,pe),I&&fo(A.onRadioChange,pe),E.handleClick(pe,M||I)},Y=function(se){if(h)switch(se.key){case Lo.ENTER:case Lo.SPACE:D?p.current.click():Q(se);break}},q=ae.useMemo(function(){return{type:a,disabled:_,hover:h,checked:j,anchor:D}},[a,_,h,j,D]),Z=Q0(Kr({},x,{onPointerDown:S,onKeyDown:Y,onClick:Q}),y),fe=Kr({role:I?"menuitemradio":M?"menuitemcheckbox":"menuitem","aria-checked":I||M?j:void 0},cq(_,h),Z,{ref:TR(m,p),className:Ld({block:Rg,element:Ppe,modifiers:q,className:n}),children:ae.useMemo(function(){return fo(c,q)},[c,q])});return D?de.jsx("li",{role:"presentation",children:de.jsx("a",Kr({href:i},fe))}):de.jsx("li",Kr({},fe))}),oge=["className"],sge=ae.memo(ae.forwardRef(function(e,n){var r=e.className,i=Vc(e,oge);return de.jsx("li",Kr({role:"separator"},i,{ref:n,className:Ld({block:Rg,element:Ope,className:r})}))}));const uge=()=>{const{communityId:t}=Un(),e=ko(Ud),[n]=Fo(e.webId??"",t),{data:r}=W0(e.webId??""),i=ko(PA);return de.jsxs(ege,{menuButton:de.jsx(Dpe,{"data-cy":"menu-button",children:de.jsx(O0,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[de.jsx(Vf,{children:de.jsx(Po,{to:"profile",children:(n==null?void 0:n.name)||"profile"})}),de.jsx(Vf,{children:de.jsx(Po,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:"edit profile"})}),de.jsx(Vf,{children:de.jsxs(Po,{to:"messages",children:["messages",r!=null&&r.length?` (${r.length} new)`:null]})}),de.jsx(Vf,{children:de.jsx(Po,{to:`profile/${encodeURIComponent(e.webId)}/contacts`,children:"contacts"})}),de.jsx(Vf,{children:de.jsx(Po,{to:"host/offers",children:"my hosting"})}),de.jsx(sge,{}),de.jsx(Vf,{children:de.jsx(xhe,{})})]})},lge=()=>{const{communityId:t}=Un(),e=ko(Ud),n=gu(t);return de.jsxs("nav",{className:ov.header,children:[de.jsx(Po,{className:ov.logoContainer,to:"/","data-cy":"header-logo-link",children:de.jsx(vB,{logo:n.logo[0],focusedLogo:n.logo[1],name:n.name||(n.isLoading?"...":"Home"),className:ov.logo})}),de.jsx("div",{className:ov.spacer}),de.jsx(kce,{}),e.isLoggedIn===!0&&de.jsx(uge,{}),e.isLoggedIn===void 0&&de.jsx(de.Fragment,{children:"..."})]})},cge=(t,e="en")=>fm({queryKey:["wikidataSearch",t,e],queryFn:()=>fge(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),fge=async(t,e)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(t)}&language=${e}&limit=20&continue=0&format=json&uselang=${e}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Hc({aliases:[],photos:[]},{...a,id:i})),yq=(t,e="en")=>fm({queryKey:["wikidataEntity",t,e],queryFn:()=>dge(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),dge=async(t,e)=>{var _,b,S;const n=((_=t.match(hge))==null?void 0:_[2])??"";if(!n)return{};const i=await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${e}&format=json&origin=*`)).json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const o=((b=a.labels[e])==null?void 0:b.value)??"",s=((S=a.descriptions[e])==null?void 0:S.value)??"",c=(a.claims.P18??[]).map(x=>x.mainsnak.datavalue.value)[0],f=(a.claims.P154??[]).map(x=>x.mainsnak.datavalue.value)[0],h=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,p=f&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(f)}?width=300`,m=(a.claims.P856??[]).map(x=>x.mainsnak.datavalue.value)[0],y=(a.aliases[e]??[]).map(({value:x})=>x);return{id:n,label:o,aliases:y,description:s,officialWebsite:m,image:p||h}},hge=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,pge="_list_zuate_1",gge="_item_zuate_6",mge="_highlighted_zuate_12",Kg={list:pge,item:gge,highlighted:mge},yge=({ids:t,highlighted:e})=>t.length===0?null:de.jsx("ul",{className:Kg.list,"data-cy":"interests-list",children:t.map(n=>de.jsx("li",{children:de.jsx(vge,{id:n,highlighted:e&&e.includes(n)})},n))}),vge=({id:t,highlighted:e})=>{const{data:n}=yq(t),r={id:t,label:t.split("/").pop(),description:t},i=Hc({},r,n);return de.jsx("span",{className:ii(Kg.item,e&&Kg.highlighted),title:i.description,children:i.label})},Sa=({children:t})=>de.jsx(de.Fragment,{children:t}),_ge=()=>{const{communityId:t}=Un(),e=gu(t),r=wge()&&e.logo.length>=2?e.logo[0]:e.logo[1];return de.jsxs(de.Fragment,{children:[de.jsx("title",{children:e.name}),r&&de.jsx("link",{rel:"icon",href:r}),de.jsx("meta",{name:"description",content:e.about})]})},wge=()=>{const[t,e]=ae.useState(document.hasFocus());return ae.useEffect(()=>{const n=()=>{e(!0)},r=()=>{e(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),t},Bi=()=>ko(Ud),bge=()=>{const t=$d();ae.useEffect(()=>{pm().events.on(ti.SESSION_RESTORED,n=>{t(new URL(n).pathname,{replace:!0})})},[])},Sge=()=>{const t=ko(PA);ae.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",t)},[t])},xge="_box_1dqn9_7",Ege="_row_1dqn9_18",Tge="_header_1dqn9_18",Cge="_content_1dqn9_26",Age="_footer_1dqn9_29",Id={box:xge,row:Ege,header:Tge,content:Cge,footer:Age},Rge=({children:t,page:e})=>de.jsx("div",{className:ii(Id.box,e&&Id.page),children:t}),Pge=({children:t})=>de.jsx("div",{className:ii(Id.row,Id.header),children:t}),Oge=({children:t})=>de.jsx("div",{className:ii(Id.row,Id.content),children:t});function vq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ml(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vq(t))&&(r&&(r+=" "),r+=e);return r}const Gg=t=>typeof t=="number"&&!isNaN(t),$c=t=>typeof t=="string",$a=t=>typeof t=="function",T_=t=>$c(t)||$a(t)?t:null,jC=t=>ae.isValidElement(t)||$c(t)||$a(t)||Gg(t);function Lge(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Z0(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=t;return function(o){let{children:s,position:c,preventExitTransition:f,done:h,nodeRef:p,isIn:m,playToast:y}=o;const _=r?`${e}--${c}`:e,b=r?`${n}--${c}`:n,S=ae.useRef(0);return ae.useLayoutEffect(()=>{const x=p.current,E=_.split(" "),A=I=>{I.target===p.current&&(y(),x.removeEventListener("animationend",A),x.removeEventListener("animationcancel",A),S.current===0&&I.type!=="animationcancel"&&x.classList.remove(...E))};x.classList.add(...E),x.addEventListener("animationend",A),x.addEventListener("animationcancel",A)},[]),ae.useEffect(()=>{const x=p.current,E=()=>{x.removeEventListener("animationend",E),i?Lge(x,h,a):h()};m||(f?E():(S.current=1,x.className+=` ${b}`,x.addEventListener("animationend",E)))},[m]),Gt.createElement(Gt.Fragment,null,s)}}function pj(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const sa=new Map;let Wg=[];const $C=new Set,Ige=t=>$C.forEach(e=>e(t)),_q=()=>sa.size>0;function wq(t,e){var n;if(e)return!((n=sa.get(e))==null||!n.isToastActive(t));let r=!1;return sa.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function bq(t,e){jC(t)&&(_q()||Wg.push({content:t,options:e}),sa.forEach(n=>{n.buildToast(t,e)}))}function gj(t,e){sa.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function Mge(t){const{subscribe:e,getSnapshot:n,setProps:r}=ae.useRef(function(a){const o=a.containerId||1;return{subscribe(s){const c=function(h,p,m){let y=1,_=0,b=[],S=[],x=[],E=p;const A=new Map,I=new Set,M=()=>{x=Array.from(A.values()),I.forEach(Q=>Q())},D=Q=>{S=Q==null?[]:S.filter(Y=>Y!==Q),M()},j=Q=>{const{toastId:Y,onOpen:q,updateId:Z,children:fe}=Q.props,te=Z==null;Q.staleId&&A.delete(Q.staleId),A.set(Y,Q),S=[...S,Q.props.toastId].filter(se=>se!==Q.staleId),M(),m(pj(Q,te?"added":"updated")),te&&$a(q)&&q(ae.isValidElement(fe)&&fe.props)};return{id:h,props:E,observe:Q=>(I.add(Q),()=>I.delete(Q)),toggle:(Q,Y)=>{A.forEach(q=>{Y!=null&&Y!==q.props.toastId||$a(q.toggle)&&q.toggle(Q)})},removeToast:D,toasts:A,clearQueue:()=>{_-=b.length,b=[]},buildToast:(Q,Y)=>{if((me=>{let{containerId:H,toastId:J,updateId:ge}=me;const Ae=H?H!==h:h!==1,Je=A.has(J)&&ge==null;return Ae||Je})(Y))return;const{toastId:q,updateId:Z,data:fe,staleId:te,delay:se}=Y,pe=()=>{D(q)},be=Z==null;be&&_++;const ce={...E,style:E.toastStyle,key:y++,...Object.fromEntries(Object.entries(Y).filter(me=>{let[H,J]=me;return J!=null})),toastId:q,updateId:Z,data:fe,closeToast:pe,isIn:!1,className:T_(Y.className||E.toastClassName),bodyClassName:T_(Y.bodyClassName||E.bodyClassName),progressClassName:T_(Y.progressClassName||E.progressClassName),autoClose:!Y.isLoading&&(le=Y.autoClose,Oe=E.autoClose,le===!1||Gg(le)&&le>0?le:Oe),deleteToast(){const me=A.get(q),{onClose:H,children:J}=me.props;$a(H)&&H(ae.isValidElement(J)&&J.props),m(pj(me,"removed")),A.delete(q),_--,_<0&&(_=0),b.length>0?j(b.shift()):M()}};var le,Oe;ce.closeButton=E.closeButton,Y.closeButton===!1||jC(Y.closeButton)?ce.closeButton=Y.closeButton:Y.closeButton===!0&&(ce.closeButton=!jC(E.closeButton)||E.closeButton);let k=Q;ae.isValidElement(Q)&&!$c(Q.type)?k=ae.cloneElement(Q,{closeToast:pe,toastProps:ce,data:fe}):$a(Q)&&(k=Q({closeToast:pe,toastProps:ce,data:fe}));const ne={content:k,props:ce,staleId:te};E.limit&&E.limit>0&&_>E.limit&&be?b.push(ne):Gg(se)?setTimeout(()=>{j(ne)},se):j(ne)},setProps(Q){E=Q},setToggle:(Q,Y)=>{A.get(Q).toggle=Y},isToastActive:Q=>S.some(Y=>Y===Q),getSnapshot:()=>E.newestOnTop?x.reverse():x}}(o,a,Ige);sa.set(o,c);const f=c.observe(s);return Wg.forEach(h=>bq(h.content,h.options)),Wg=[],()=>{f(),sa.delete(o)}},setProps(s){var c;(c=sa.get(o))==null||c.setProps(s)},getSnapshot(){var s;return(s=sa.get(o))==null?void 0:s.getSnapshot()}}}(t)).current;r(t);const i=ae.useSyncExternalStore(e,n,n);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return i.forEach(s=>{const{position:c}=s.props;o.has(c)||o.set(c,[]),o.get(c).push(s)}),Array.from(o,s=>a(s[0],s[1]))},isToastActive:wq,count:i==null?void 0:i.length}}function Dge(t){const[e,n]=ae.useState(!1),[r,i]=ae.useState(!1),a=ae.useRef(null),o=ae.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:c,closeToast:f,onClick:h,closeOnClick:p}=t;var m,y;function _(){n(!0)}function b(){n(!1)}function S(A){const I=a.current;o.canDrag&&I&&(o.didMove=!0,e&&b(),o.delta=t.draggableDirection==="x"?A.clientX-o.start:A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",x);const A=a.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=sa.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),ae.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||b(),window.addEventListener("focus",_),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",b)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(A){if(t.draggable===!0||t.draggable===A.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",x);const I=a.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(A){const{top:I,bottom:M,left:D,right:j}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=D&&A.clientX<=j&&A.clientY>=I&&A.clientY<=M?b():_()}};return s&&c&&(E.onMouseEnter=b,t.stacked||(E.onMouseLeave=_)),p&&(E.onClick=A=>{h&&h(A),o.canCloseOnClick&&f()}),{playToast:_,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:E}}function kge(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:s,controlledProgress:c,progress:f,rtl:h,isIn:p,theme:m}=t;const y=a||c&&f===0,_={...s,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};c&&(_.transform=`scaleX(${f})`);const b=ml("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),S=$a(o)?o({rtl:h,type:i,defaultClassName:b}):ml(b,o),x={[c&&f>=1?"onTransitionEnd":"onAnimationEnd"]:c&&f<1?null:()=>{p&&r()}};return Gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Gt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:_,...x}))}let Nge=1;const Sq=()=>""+Nge++;function Fge(t){return t&&($c(t.toastId)||Gg(t.toastId))?t.toastId:Sq()}function Og(t,e){return bq(t,e),e.toastId}function Y_(t,e){return{...e,type:e&&e.type||t,toastId:Fge(e)}}function uv(t){return(e,n)=>Og(e,Y_(t,n))}function br(t,e){return Og(t,Y_("default",e))}br.loading=(t,e)=>Og(t,Y_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),br.promise=function(t,e,n){let r,{pending:i,error:a,success:o}=e;i&&(r=$c(i)?br.loading(i,n):br.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,m)=>{if(p==null)return void br.dismiss(r);const y={type:h,...s,...n,data:m},_=$c(p)?{render:p}:p;return r?br.update(r,{...y,..._}):br(_.render,{...y,..._}),m},f=$a(t)?t():t;return f.then(h=>c("success",o,h)).catch(h=>c("error",a,h)),f},br.success=uv("success"),br.info=uv("info"),br.error=uv("error"),br.warning=uv("warning"),br.warn=br.warning,br.dark=(t,e)=>Og(t,Y_("default",{theme:"dark",...e})),br.dismiss=function(t){(function(e){var n;if(_q()){if(e==null||$c(n=e)||Gg(n))sa.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=sa.get(e.containerId);r?r.removeToast(e.id):sa.forEach(i=>{i.removeToast(e.id)})}}else Wg=Wg.filter(r=>e!=null&&r.options.toastId!==e)})(t)},br.clearWaitingQueue=function(t){t===void 0&&(t={}),sa.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},br.isActive=wq,br.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var a;let{containerId:o}=i;return(a=sa.get(o||1))==null?void 0:a.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:Sq()};a.toastId!==t&&(a.staleId=t);const o=a.render||i;delete a.render,Og(o,a)}},br.done=t=>{br.update(t,{progress:1})},br.onChange=function(t){return $C.add(t),()=>{$C.delete(t)}},br.play=t=>gj(!0,t),br.pause=t=>gj(!1,t);const jge=typeof window<"u"?ae.useLayoutEffect:ae.useEffect,lv=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},UT={info:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Gt.createElement("div",{className:"Toastify__spinner"})}},$ge=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=Dge(t),{closeButton:o,children:s,autoClose:c,onClick:f,type:h,hideProgressBar:p,closeToast:m,transition:y,position:_,className:b,style:S,bodyClassName:x,bodyStyle:E,progressClassName:A,progressStyle:I,updateId:M,role:D,progress:j,rtl:Q,toastId:Y,deleteToast:q,isIn:Z,isLoading:fe,closeOnClick:te,theme:se}=t,pe=ml("Toastify__toast",`Toastify__toast-theme--${se}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),be=$a(b)?b({rtl:Q,position:_,type:h,defaultClassName:pe}):ml(pe,b),ce=function(ne){let{theme:me,type:H,isLoading:J,icon:ge}=ne,Ae=null;const Je={theme:me,type:H};return ge===!1||($a(ge)?Ae=ge({...Je,isLoading:J}):ae.isValidElement(ge)?Ae=ae.cloneElement(ge,Je):J?Ae=UT.spinner():(Re=>Re in UT)(H)&&(Ae=UT[H](Je))),Ae}(t),le=!!j||!c,Oe={closeToast:m,type:h,theme:se};let k=null;return o===!1||(k=$a(o)?o(Oe):ae.isValidElement(o)?ae.cloneElement(o,Oe):function(ne){let{closeToast:me,theme:H,ariaLabel:J="close"}=ne;return Gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:ge=>{ge.stopPropagation(),me(ge)},"aria-label":J},Gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Oe)),Gt.createElement(y,{isIn:Z,done:q,position:_,preventExitTransition:n,nodeRef:r,playToast:a},Gt.createElement("div",{id:Y,onClick:f,"data-in":Z,className:be,...i,style:S,ref:r},Gt.createElement("div",{...Z&&{role:D},className:$a(x)?x({type:h}):ml("Toastify__toast-body",x),style:E},ce!=null&&Gt.createElement("div",{className:ml("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!fe})},ce),Gt.createElement("div",null,s)),k,Gt.createElement(kge,{...M&&!le?{key:`pb-${M}`}:{},rtl:Q,theme:se,delay:c,isRunning:e,isIn:Z,closeToast:m,hide:p,type:h,style:I,className:A,controlledProgress:le,progress:j||0})))},J0=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Uge=Z0(J0("bounce",!0)),Bge=Z0(J0("slide",!0));Z0(J0("zoom"));Z0(J0("flip"));const qge={position:"top-right",transition:Uge,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function zge(t){let e={...qge,...t};const n=t.stacked,[r,i]=ae.useState(!0),a=ae.useRef(null),{getToastToRender:o,isToastActive:s,count:c}=Mge(e),{className:f,style:h,rtl:p,containerId:m}=e;function y(b){const S=ml("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":p});return $a(f)?f({position:b,rtl:p,defaultClassName:S}):ml(S,T_(f))}function _(){n&&(i(!0),br.play())}return jge(()=>{if(n){var b;const S=a.current.querySelectorAll('[data-in="true"]'),x=12,E=(b=e.position)==null?void 0:b.includes("top");let A=0,I=0;Array.from(S).reverse().forEach((M,D)=>{const j=M;j.classList.add("Toastify__toast--stacked"),D>0&&(j.dataset.collapsed=`${r}`),j.dataset.pos||(j.dataset.pos=E?"top":"bot");const Q=A*(r?.2:1)+(r?0:x*D);j.style.setProperty("--y",`${E?Q:-1*Q}px`),j.style.setProperty("--g",`${x}`),j.style.setProperty("--s",""+(1-(r?I:0))),A+=j.offsetHeight,I+=.025})}},[r,c,n]),Gt.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),br.pause())},onMouseLeave:_},o((b,S)=>{const x=S.length?{...h}:{...h,pointerEvents:"none"};return Gt.createElement("div",{className:y(b),style:x,key:`container-${b}`},S.map(E=>{let{content:A,props:I}=E;return Gt.createElement($ge,{...I,stacked:n,collapseAll:_,isIn:s(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},A)}))}))}const Hge=()=>{Rce(),bge();const t=Gd(),e=Bi();return Sge(),ae.useEffect(()=>{(async()=>{const n=await qZ({restorePreviousSession:!0});n&&t(RA.signin(n))})()},[t]),de.jsxs(Rge,{children:[de.jsx(_ge,{}),de.jsx(zge,{transition:Bge}),de.jsx(Pge,{children:de.jsx(lge,{})}),de.jsx(Oge,{children:e.isLoggedIn===void 0?de.jsx(de.Fragment,{children:"Loading..."}):de.jsx(v0,{})})]})};function Vge(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Kge=/[ \t\n\f\r]/g;function Gge(t){return typeof t=="object"?t.type==="text"?mj(t.value):!1:mj(t)}function mj(t){return t.replace(Kge,"")===""}class Em{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Em.prototype.property={};Em.prototype.normal={};Em.prototype.space=null;function xq(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Em(n,r,e)}function UC(t){return t.toLowerCase()}class po{constructor(e,n){this.property=e,this.attribute=n}}po.prototype.space=null;po.prototype.boolean=!1;po.prototype.booleanish=!1;po.prototype.overloadedBoolean=!1;po.prototype.number=!1;po.prototype.commaSeparated=!1;po.prototype.spaceSeparated=!1;po.prototype.commaOrSpaceSeparated=!1;po.prototype.mustUseProperty=!1;po.prototype.defined=!1;let Wge=0;const vn=nf(),Yr=nf(),Eq=nf(),Pt=nf(),Sr=nf(),sd=nf(),Na=nf();function nf(){return 2**++Wge}const BC=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Yr,commaOrSpaceSeparated:Na,commaSeparated:sd,number:Pt,overloadedBoolean:Eq,spaceSeparated:Sr},Symbol.toStringTag,{value:"Module"})),BT=Object.keys(BC);class CR extends po{constructor(e,n,r,i){let a=-1;if(super(e,n),yj(this,"space",i),typeof r=="number")for(;++a<BT.length;){const o=BT[a];yj(this,BT[a],(r&BC[o])===BC[o])}}}CR.prototype.defined=!0;function yj(t,e,n){n&&(t[e]=n)}const Qge={}.hasOwnProperty;function rh(t){const e={},n={};let r;for(r in t.properties)if(Qge.call(t.properties,r)){const i=t.properties[r],a=new CR(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[UC(r)]=r,n[UC(a.attribute)]=r}return new Em(e,n,t.space)}const Tq=rh({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Cq=rh({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Aq(t,e){return e in t?t[e]:e}function Rq(t,e){return Aq(t,e.toLowerCase())}const Pq=rh({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Rq,properties:{xmlns:null,xmlnsXLink:null}}),Oq=rh({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:Pt,ariaColIndex:Pt,ariaColSpan:Pt,ariaControls:Sr,ariaCurrent:null,ariaDescribedBy:Sr,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:Sr,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:Sr,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Sr,ariaLevel:Pt,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:Sr,ariaPlaceholder:null,ariaPosInSet:Pt,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:Sr,ariaRowCount:Pt,ariaRowIndex:Pt,ariaRowSpan:Pt,ariaSelected:Yr,ariaSetSize:Pt,ariaSort:null,ariaValueMax:Pt,ariaValueMin:Pt,ariaValueNow:Pt,ariaValueText:null,role:null}}),Zge=rh({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Rq,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sd,acceptCharset:Sr,accessKey:Sr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:Sr,autoFocus:vn,autoPlay:vn,blocking:Sr,capture:vn,charSet:null,checked:vn,cite:null,className:Sr,cols:Pt,colSpan:null,content:null,contentEditable:Yr,controls:vn,controlsList:Sr,coords:Pt|sd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:Eq,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:Sr,height:Pt,hidden:vn,high:Pt,href:null,hrefLang:null,htmlFor:Sr,httpEquiv:Sr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:Sr,itemRef:Sr,itemScope:vn,itemType:Sr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:Pt,manifest:null,max:null,maxLength:Pt,media:null,method:null,min:null,minLength:Pt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:Pt,pattern:null,ping:Sr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:Sr,required:vn,reversed:vn,rows:Pt,rowSpan:Pt,sandbox:Sr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:Pt,sizes:null,slot:null,span:Pt,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pt,step:null,style:null,tabIndex:Pt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Yr,width:Pt,wrap:null,align:null,aLink:null,archive:Sr,axis:null,background:null,bgColor:null,border:Pt,borderColor:null,bottomMargin:Pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:Pt,leftMargin:Pt,link:null,longDesc:null,lowSrc:null,marginHeight:Pt,marginWidth:Pt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:Pt,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:Pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:Pt,security:null,unselectable:null}}),Jge=rh({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Aq,properties:{about:Na,accentHeight:Pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pt,amplitude:Pt,arabicForm:null,ascent:Pt,attributeName:null,attributeType:null,azimuth:Pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pt,by:null,calcMode:null,capHeight:Pt,className:Sr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pt,diffuseConstant:Pt,direction:null,display:null,dur:null,divisor:Pt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pt,enableBackground:null,end:null,event:null,exponent:Pt,externalResourcesRequired:null,fill:null,fillOpacity:Pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sd,g2:sd,glyphName:sd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pt,horizOriginX:Pt,horizOriginY:Pt,id:null,ideographic:Pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pt,k:Pt,k1:Pt,k2:Pt,k3:Pt,k4:Pt,kernelMatrix:Na,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pt,overlineThickness:Pt,paintOrder:null,panose1:null,path:null,pathLength:Pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Sr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pt,pointsAtY:Pt,pointsAtZ:Pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Na,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Na,rev:Na,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Na,requiredFeatures:Na,requiredFonts:Na,requiredFormats:Na,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pt,specularExponent:Pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pt,strikethroughThickness:Pt,string:null,stroke:null,strokeDashArray:Na,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pt,strokeOpacity:Pt,strokeWidth:null,style:null,surfaceScale:Pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Na,tabIndex:Pt,tableValues:null,target:null,targetX:Pt,targetY:Pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Na,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pt,underlineThickness:Pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pt,values:null,vAlphabetic:Pt,vMathematical:Pt,vectorEffect:null,vHanging:Pt,vIdeographic:Pt,version:null,vertAdvY:Pt,vertOriginX:Pt,vertOriginY:Pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Yge=/^data[-\w.:]+$/i,vj=/-[a-z]/g,Xge=/[A-Z]/g;function eme(t,e){const n=UC(e);let r=e,i=po;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Yge.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(vj,nme);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!vj.test(a)){let o=a.replace(Xge,tme);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=CR}return new i(r,e)}function tme(t){return"-"+t.toLowerCase()}function nme(t){return t.charAt(1).toUpperCase()}const rme={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ime=xq([Cq,Tq,Pq,Oq,Zge],"html"),Lq=xq([Cq,Tq,Pq,Oq,Jge],"svg");function ame(t){return t.join(" ").trim()}var cv={exports:{}},qT,_j;function ome(){if(_j)return qT;_j=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,c=`
`,f="/",h="*",p="",m="comment",y="declaration";qT=function(b,S){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];S=S||{};var x=1,E=1;function A(te){var se=te.match(e);se&&(x+=se.length);var pe=te.lastIndexOf(c);E=~pe?te.length-pe:E+te.length}function I(){var te={line:x,column:E};return function(se){return se.position=new M(te),Q(),se}}function M(te){this.start=te,this.end={line:x,column:E},this.source=S.source}M.prototype.content=b;function D(te){var se=new Error(S.source+":"+x+":"+E+": "+te);if(se.reason=te,se.filename=S.source,se.line=x,se.column=E,se.source=b,!S.silent)throw se}function j(te){var se=te.exec(b);if(se){var pe=se[0];return A(pe),b=b.slice(pe.length),se}}function Q(){j(n)}function Y(te){var se;for(te=te||[];se=q();)se!==!1&&te.push(se);return te}function q(){var te=I();if(!(f!=b.charAt(0)||h!=b.charAt(1))){for(var se=2;p!=b.charAt(se)&&(h!=b.charAt(se)||f!=b.charAt(se+1));)++se;if(se+=2,p===b.charAt(se-1))return D("End of comment missing");var pe=b.slice(2,se-2);return E+=2,A(pe),b=b.slice(se),E+=2,te({type:m,comment:pe})}}function Z(){var te=I(),se=j(r);if(se){if(q(),!j(i))return D("property missing ':'");var pe=j(a),be=te({type:y,property:_(se[0].replace(t,p)),value:pe?_(pe[0].replace(t,p)):p});return j(o),be}}function fe(){var te=[];Y(te);for(var se;se=Z();)se!==!1&&(te.push(se),Y(te));return te}return Q(),fe()};function _(b){return b?b.replace(s,p):p}return qT}var wj;function sme(){if(wj)return cv.exports;wj=1;var t=ome();function e(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,o=t(n),s=typeof r=="function",c,f,h=0,p=o.length;h<p;h++)a=o[h],c=a.property,f=a.value,s?r(c,f,a):f&&(i||(i={}),i[c]=f);return i}return cv.exports=e,cv.exports.default=e,cv.exports}var ume=sme();const lme=Gr(ume),Iq=Mq("end"),AR=Mq("start");function Mq(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function cme(t){const e=AR(t),n=Iq(t);if(e&&n)return{start:e,end:n}}function Lg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?bj(t.position):"start"in t||"end"in t?bj(t):"line"in t||"column"in t?qC(t):""}function qC(t){return Sj(t&&t.line)+":"+Sj(t&&t.column)}function bj(t){return qC(t&&t.start)+"-"+qC(t&&t.end)}function Sj(t){return t&&typeof t=="number"?t:1}class la extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Lg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}la.prototype.file="";la.prototype.name="";la.prototype.reason="";la.prototype.message="";la.prototype.stack="";la.prototype.column=void 0;la.prototype.line=void 0;la.prototype.ancestors=void 0;la.prototype.cause=void 0;la.prototype.fatal=void 0;la.prototype.place=void 0;la.prototype.ruleId=void 0;la.prototype.source=void 0;const RR={}.hasOwnProperty,fme=new Map,dme=/[A-Z]/g,hme=/-([a-z])/g,pme=new Set(["table","tbody","thead","tfoot","tr"]),gme=new Set(["td","th"]);function mme(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vme(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yme(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Lq:ime,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Dq(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function Dq(t,e,n){if(e.type==="element"||e.type==="root"){const r=t.schema;let i=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Lq,t.schema=i),t.ancestors.push(e);let a=_me(t,e);const o=wme(t,t.ancestors);let s=t.Fragment;if(t.ancestors.pop(),e.type==="element")if(a&&pme.has(e.tagName)&&(a=a.filter(function(c){return typeof c=="string"?!Gge(c):!0})),RR.call(t.components,e.tagName)){const c=e.tagName;s=t.components[c],typeof s!="string"&&s!==t.Fragment&&t.passNode&&(o.node=e)}else s=e.tagName;if(a.length>0){const c=a.length>1?a:a[0];c&&(o.children=c)}return t.schema=r,t.create(e,s,o,n)}if(e.type==="text")return e.value}function yme(t,e,n){return r;function r(i,a,o,s){const f=Array.isArray(o.children)?n:e;return s?f(a,o,s):f(a,o)}}function vme(t,e){return n;function n(r,i,a,o){const s=Array.isArray(a.children),c=AR(r);return e(i,a,o,s,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function _me(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:fme;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys&&a.type==="element"){const c=i.get(a.tagName)||0;o=a.tagName+"-"+c,i.set(a.tagName,c+1)}const s=Dq(t,a,o);s!==void 0&&n.push(s)}return n}function wme(t,e){const n=e[e.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&RR.call(n.properties,i)){const o=bme(t,e,i,n.properties[i]);if(o){const[s,c]=o;t.tableCellAlignToStyle&&s==="align"&&typeof c=="string"&&gme.has(n.tagName)?a=c:r[s]=c}}if(a){const o=r.style||(r.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function bme(t,e,n,r){const i=eme(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Vge(r):ame(r)),i.property==="style"){let a=typeof r=="object"?r:Sme(t,e,String(r));return t.stylePropertyNameCase==="css"&&(a=xme(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?rme[i.property]||i.property:i.attribute,r]}}function Sme(t,e,n){const r={};try{lme(n,i)}catch(a){if(!t.ignoreInvalidStyle){const o=a,s=new la("Cannot parse `style` attribute",{ancestors:e,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=t.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(hme,Tme)),r[s]=o}}function xme(t){const e={};let n;for(n in t)RR.call(t,n)&&(e[Eme(n)]=t[n]);return e}function Eme(t){let e=t.replace(dme,Cme);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Tme(t,e){return e.toUpperCase()}function Cme(t){return"-"+t.toLowerCase()}const zT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ame={};function Rme(t,e){const n=Ame,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kq(t,r,i)}function kq(t,e,n){if(Pme(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return xj(t.children,e,n)}return Array.isArray(t)?xj(t,e,n):""}function xj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=kq(t[i],e,n);return r.join("")}function Pme(t){return!!(t&&typeof t=="object")}const Ej=document.createElement("i");function PR(t){const e="&"+t+";";Ej.innerHTML=e;const n=Ej.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function gs(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function co(t,e){return t.length>0?(gs(t,t.length,0,e),t):e}const Tj={}.hasOwnProperty;function Ome(t){const e={};let n=-1;for(;++n<t.length;)Lme(e,t[n]);return e}function Lme(t,e){let n;for(n in e){const i=(Tj.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){Tj.call(i,o)||(i[o]=[]);const s=a[o];Ime(i[o],Array.isArray(s)?s:s?[s]:[])}}}function Ime(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);gs(t,0,0,r)}function Nq(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ud(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mme=Al(new RegExp("\\p{P}","u")),us=Al(/[A-Za-z]/),Ua=Al(/[\dA-Za-z]/),Dme=Al(/[#-'*+\--9=?A-Z^-~]/);function zC(t){return t!==null&&(t<32||t===127)}const HC=Al(/\d/),kme=Al(/[\dA-Fa-f]/),Fq=Al(/[!-/:-@[-`{-~]/);function cn(t){return t!==null&&t<-2}function wa(t){return t!==null&&(t<0||t===32)}function Qn(t){return t===-2||t===-1||t===32}function Nme(t){return Fq(t)||Mme(t)}const Fme=Al(/\s/);function Al(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ih(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Ua(t.charCodeAt(n+1))&&Ua(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=t.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function xr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return Qn(c)?(t.enter(n),s(c)):e(c)}function s(c){return Qn(c)&&a++<i?(t.consume(c),s):(t.exit(n),e(c))}}const jme={tokenize:$me};function $me(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),xr(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),a(s)}function a(s){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(s)}function o(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return cn(s)?(t.consume(s),t.exit("chunkText"),a):(t.consume(s),o)}}const Ume={tokenize:Bme},Cj={tokenize:qme};function Bme(t){const e=this,n=[];let r=0,i,a,o;return s;function s(A){if(r<n.length){const I=n[r];return e.containerState=I[1],t.attempt(I[0].continuation,c,f)(A)}return f(A)}function c(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const I=e.events.length;let M=I,D;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){D=e.events[M][1].end;break}x(r);let j=I;for(;j<e.events.length;)e.events[j][1].end=Object.assign({},D),j++;return gs(e.events,M+1,0,e.events.slice(I)),e.events.length=j,f(A)}return s(A)}function f(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return _(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Cj,h,p)(A)}function h(A){return i&&E(),x(r),m(A)}function p(A){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(A)}function m(A){return e.containerState={},t.attempt(Cj,y,_)(A)}function y(A){return r++,n.push([e.currentConstruct,e.containerState]),m(A)}function _(A){if(A===null){i&&E(),x(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),b(A)}function b(A){if(A===null){S(t.exit("chunkFlow"),!0),x(0),t.consume(A);return}return cn(A)?(t.consume(A),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(A),b)}function S(A,I){const M=e.sliceStream(A);if(I&&M.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(M),e.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const j=e.events.length;let Q=j,Y,q;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){if(Y){q=e.events[Q][1].end;break}Y=!0}for(x(r),D=j;D<e.events.length;)e.events[D][1].end=Object.assign({},q),D++;gs(e.events,Q+1,0,e.events.slice(j)),e.events.length=D}}function x(A){let I=n.length;for(;I-- >A;){const M=n[I];e.containerState=M[1],M[0].exit.call(e,t)}n.length=A}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function qme(t,e,n){return xr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Aj(t){if(t===null||wa(t)||Fme(t))return 1;if(Nme(t))return 2}function OR(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const VC={name:"attention",tokenize:Hme,resolveAll:zme};function zme(t,e){let n=-1,r,i,a,o,s,c,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);Rj(p,-c),Rj(m,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},t[r][1].end)},s={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},s.end),f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=co(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=co(f,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),f=co(f,OR(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=co(f,[["exit",a,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=co(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,gs(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Hme(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Aj(r);let a;return o;function o(c){return a=c,t.enter("attentionSequence"),s(c)}function s(c){if(c===a)return t.consume(c),s;const f=t.exit("attentionSequence"),h=Aj(c),p=!h||h===2&&i||n.includes(c),m=!i||i===2&&h||n.includes(r);return f._open=!!(a===42?p:p&&(i||!m)),f._close=!!(a===42?m:m&&(h||!p)),e(c)}}function Rj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Vme={name:"autolink",tokenize:Kme};function Kme(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return us(y)?(t.consume(y),o):f(y)}function o(y){return y===43||y===45||y===46||Ua(y)?(r=1,s(y)):f(y)}function s(y){return y===58?(t.consume(y),r=0,c):(y===43||y===45||y===46||Ua(y))&&r++<32?(t.consume(y),s):(r=0,f(y))}function c(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||zC(y)?n(y):(t.consume(y),c)}function f(y){return y===64?(t.consume(y),h):Dme(y)?(t.consume(y),f):n(y)}function h(y){return Ua(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||Ua(y))&&r++<63){const _=y===45?m:p;return t.consume(y),_}return n(y)}}const Y0={tokenize:Gme,partial:!0};function Gme(t,e,n){return r;function r(a){return Qn(a)?xr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||cn(a)?e(a):n(a)}}const jq={name:"blockQuote",tokenize:Wme,continuation:{tokenize:Qme},exit:Zme};function Wme(t,e,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Qn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function Qme(t,e,n){const r=this;return i;function i(o){return Qn(o)?xr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(jq,e,n)(o)}}function Zme(t){t.exit("blockQuote")}const $q={name:"characterEscape",tokenize:Jme};function Jme(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Fq(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Uq={name:"characterReference",tokenize:Yme};function Yme(t,e,n){const r=this;let i=0,a,o;return s;function s(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),c}function c(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,o=Ua,h(p))}function f(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=kme,h):(t.enter("characterReferenceValue"),a=7,o=HC,h(p))}function h(p){if(p===59&&i){const m=t.exit("characterReferenceValue");return o===Ua&&!PR(r.sliceSerialize(m))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<a?(t.consume(p),h):n(p)}}const Pj={tokenize:eye,partial:!0},Oj={name:"codeFenced",tokenize:Xme,concrete:!0};function Xme(t,e,n){const r=this,i={tokenize:M,partial:!0};let a=0,o=0,s;return c;function c(D){return f(D)}function f(D){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,s=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===s?(o++,t.consume(D),h):o<3?n(D):(t.exit("codeFencedFenceSequence"),Qn(D)?xr(t,p,"whitespace")(D):p(D))}function p(D){return D===null||cn(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(Pj,b,I)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||cn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(D)):Qn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),xr(t,y,"whitespace")(D)):D===96&&D===s?n(D):(t.consume(D),m)}function y(D){return D===null||cn(D)?p(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(D))}function _(D){return D===null||cn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(D)):D===96&&D===s?n(D):(t.consume(D),_)}function b(D){return t.attempt(i,I,S)(D)}function S(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),x}function x(D){return a>0&&Qn(D)?xr(t,E,"linePrefix",a+1)(D):E(D)}function E(D){return D===null||cn(D)?t.check(Pj,b,I)(D):(t.enter("codeFlowValue"),A(D))}function A(D){return D===null||cn(D)?(t.exit("codeFlowValue"),E(D)):(t.consume(D),A)}function I(D){return t.exit("codeFenced"),e(D)}function M(D,j,Q){let Y=0;return q;function q(pe){return D.enter("lineEnding"),D.consume(pe),D.exit("lineEnding"),Z}function Z(pe){return D.enter("codeFencedFence"),Qn(pe)?xr(D,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):fe(pe)}function fe(pe){return pe===s?(D.enter("codeFencedFenceSequence"),te(pe)):Q(pe)}function te(pe){return pe===s?(Y++,D.consume(pe),te):Y>=o?(D.exit("codeFencedFenceSequence"),Qn(pe)?xr(D,se,"whitespace")(pe):se(pe)):Q(pe)}function se(pe){return pe===null||cn(pe)?(D.exit("codeFencedFence"),j(pe)):Q(pe)}}}function eye(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const HT={name:"codeIndented",tokenize:nye},tye={tokenize:rye,partial:!0};function nye(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),xr(t,a,"linePrefix",5)(f)}function a(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(f):n(f)}function o(f){return f===null?c(f):cn(f)?t.attempt(tye,o,c)(f):(t.enter("codeFlowValue"),s(f))}function s(f){return f===null||cn(f)?(t.exit("codeFlowValue"),o(f)):(t.consume(f),s)}function c(f){return t.exit("codeIndented"),e(f)}}function rye(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):cn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):xr(t,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(o):cn(o)?i(o):n(o)}}const iye={name:"codeText",tokenize:sye,resolve:aye,previous:oye};function aye(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function oye(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sye(t,e,n){let r=0,i,a;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),s(p)}function s(p){return p===96?(t.consume(p),r++,s):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):cn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||cn(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),f)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",f(p))}}function Bq(t){const e={};let n=-1,r,i,a,o,s,c,f;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uye(t,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=t[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},t[i][1].start),s=t.slice(i,n),s.unshift(r),gs(t,i,n-i+1,s))}}return!f}function uye(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,c=[],f={};let h,p,m=-1,y=n,_=0,b=0;const S=[b];for(;y;){for(;t[++i][1]!==y;);a.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(b=m+1,S.push(b),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),m=S.length;m--;){const x=s.slice(S[m],S[m+1]),E=a.pop();c.unshift([E,E+x.length-1]),gs(t,E,2,x)}for(m=-1;++m<c.length;)f[_+c[m][0]]=_+c[m][1],_+=c[m][1]-c[m][0]-1;return f}const lye={tokenize:dye,resolve:fye},cye={tokenize:hye,partial:!0};function fye(t){return Bq(t),t}function dye(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):cn(s)?t.check(cye,o,a)(s):(t.consume(s),i)}function a(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function o(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hye(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),xr(t,a,"linePrefix")}function a(o){if(o===null||cn(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function qq(t,e,n,r,i,a,o,s,c){const f=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(x){return x===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(x),t.exit(a),m):x===null||x===32||x===41||zC(x)?n(x):(t.enter(r),t.enter(o),t.enter(s),t.enter("chunkString",{contentType:"string"}),b(x))}function m(x){return x===62?(t.enter(a),t.consume(x),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===62?(t.exit("chunkString"),t.exit(s),m(x)):x===null||x===60||cn(x)?n(x):(t.consume(x),x===92?_:y)}function _(x){return x===60||x===62||x===92?(t.consume(x),y):y(x)}function b(x){return!h&&(x===null||x===41||wa(x))?(t.exit("chunkString"),t.exit(s),t.exit(o),t.exit(r),e(x)):h<f&&x===40?(t.consume(x),h++,b):x===41?(t.consume(x),h--,b):x===null||x===32||x===40||zC(x)?n(x):(t.consume(x),x===92?S:b)}function S(x){return x===40||x===41||x===92?(t.consume(x),b):b(x)}}function zq(t,e,n,r,i,a){const o=this;let s=0,c;return f;function f(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),h}function h(y){return s>999||y===null||y===91||y===93&&!c||y===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):cn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||cn(y)||s++>999?(t.exit("chunkString"),h(y)):(t.consume(y),c||(c=!Qn(y)),y===92?m:p)}function m(y){return y===91||y===92||y===93?(t.consume(y),s++,p):p(y)}}function Hq(t,e,n,r,i,a){let o;return s;function s(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,c):n(m)}function c(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),f(m))}function f(m){return m===o?(t.exit(a),c(o)):m===null?n(m):cn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),xr(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===o||m===null||cn(m)?(t.exit("chunkString"),f(m)):(t.consume(m),m===92?p:h)}function p(m){return m===o||m===92?(t.consume(m),h):h(m)}}function Ig(t,e){let n;return r;function r(i){return cn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Qn(i)?xr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const pye={name:"definition",tokenize:mye},gye={tokenize:yye,partial:!0};function mye(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),o(y)}function o(y){return zq.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=ud(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),c):n(y)}function c(y){return wa(y)?Ig(t,f)(y):f(y)}function f(y){return qq(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(gye,p,p)(y)}function p(y){return Qn(y)?xr(t,m,"whitespace")(y):m(y)}function m(y){return y===null||cn(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function yye(t,e,n){return r;function r(s){return wa(s)?Ig(t,i)(s):n(s)}function i(s){return Hq(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Qn(s)?xr(t,o,"whitespace")(s):o(s)}function o(s){return s===null||cn(s)?e(s):n(s)}}const vye={name:"hardBreakEscape",tokenize:_ye};function _ye(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return cn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const wye={name:"headingAtx",tokenize:Sye,resolve:bye};function bye(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},gs(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Sye(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||wa(h)?(t.exit("atxHeadingSequence"),s(h)):n(h)}function s(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||cn(h)?(t.exit("atxHeading"),e(h)):Qn(h)?xr(t,s,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),s(h))}function f(h){return h===null||h===35||wa(h)?(t.exit("atxHeadingText"),s(h)):(t.consume(h),f)}}const xye=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Lj=["pre","script","style","textarea"],Eye={name:"htmlFlow",tokenize:Rye,resolveTo:Aye,concrete:!0},Tye={tokenize:Oye,partial:!0},Cye={tokenize:Pye,partial:!0};function Aye(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Rye(t,e,n){const r=this;let i,a,o,s,c;return f;function f(H){return h(H)}function h(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),p}function p(H){return H===33?(t.consume(H),m):H===47?(t.consume(H),a=!0,b):H===63?(t.consume(H),i=3,r.interrupt?e:k):us(H)?(t.consume(H),o=String.fromCharCode(H),S):n(H)}function m(H){return H===45?(t.consume(H),i=2,y):H===91?(t.consume(H),i=5,s=0,_):us(H)?(t.consume(H),i=4,r.interrupt?e:k):n(H)}function y(H){return H===45?(t.consume(H),r.interrupt?e:k):n(H)}function _(H){const J="CDATA[";return H===J.charCodeAt(s++)?(t.consume(H),s===J.length?r.interrupt?e:fe:_):n(H)}function b(H){return us(H)?(t.consume(H),o=String.fromCharCode(H),S):n(H)}function S(H){if(H===null||H===47||H===62||wa(H)){const J=H===47,ge=o.toLowerCase();return!J&&!a&&Lj.includes(ge)?(i=1,r.interrupt?e(H):fe(H)):xye.includes(o.toLowerCase())?(i=6,J?(t.consume(H),x):r.interrupt?e(H):fe(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?E(H):A(H))}return H===45||Ua(H)?(t.consume(H),o+=String.fromCharCode(H),S):n(H)}function x(H){return H===62?(t.consume(H),r.interrupt?e:fe):n(H)}function E(H){return Qn(H)?(t.consume(H),E):q(H)}function A(H){return H===47?(t.consume(H),q):H===58||H===95||us(H)?(t.consume(H),I):Qn(H)?(t.consume(H),A):q(H)}function I(H){return H===45||H===46||H===58||H===95||Ua(H)?(t.consume(H),I):M(H)}function M(H){return H===61?(t.consume(H),D):Qn(H)?(t.consume(H),M):A(H)}function D(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),c=H,j):Qn(H)?(t.consume(H),D):Q(H)}function j(H){return H===c?(t.consume(H),c=null,Y):H===null||cn(H)?n(H):(t.consume(H),j)}function Q(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||wa(H)?M(H):(t.consume(H),Q)}function Y(H){return H===47||H===62||Qn(H)?A(H):n(H)}function q(H){return H===62?(t.consume(H),Z):n(H)}function Z(H){return H===null||cn(H)?fe(H):Qn(H)?(t.consume(H),Z):n(H)}function fe(H){return H===45&&i===2?(t.consume(H),be):H===60&&i===1?(t.consume(H),ce):H===62&&i===4?(t.consume(H),ne):H===63&&i===3?(t.consume(H),k):H===93&&i===5?(t.consume(H),Oe):cn(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Tye,me,te)(H)):H===null||cn(H)?(t.exit("htmlFlowData"),te(H)):(t.consume(H),fe)}function te(H){return t.check(Cye,se,me)(H)}function se(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),pe}function pe(H){return H===null||cn(H)?te(H):(t.enter("htmlFlowData"),fe(H))}function be(H){return H===45?(t.consume(H),k):fe(H)}function ce(H){return H===47?(t.consume(H),o="",le):fe(H)}function le(H){if(H===62){const J=o.toLowerCase();return Lj.includes(J)?(t.consume(H),ne):fe(H)}return us(H)&&o.length<8?(t.consume(H),o+=String.fromCharCode(H),le):fe(H)}function Oe(H){return H===93?(t.consume(H),k):fe(H)}function k(H){return H===62?(t.consume(H),ne):H===45&&i===2?(t.consume(H),k):fe(H)}function ne(H){return H===null||cn(H)?(t.exit("htmlFlowData"),me(H)):(t.consume(H),ne)}function me(H){return t.exit("htmlFlow"),e(H)}}function Pye(t,e,n){const r=this;return i;function i(o){return cn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Oye(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Y0,e,n)}}const Lye={name:"htmlText",tokenize:Iye};function Iye(t,e,n){const r=this;let i,a,o;return s;function s(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),c}function c(k){return k===33?(t.consume(k),f):k===47?(t.consume(k),M):k===63?(t.consume(k),A):us(k)?(t.consume(k),Q):n(k)}function f(k){return k===45?(t.consume(k),h):k===91?(t.consume(k),a=0,_):us(k)?(t.consume(k),E):n(k)}function h(k){return k===45?(t.consume(k),y):n(k)}function p(k){return k===null?n(k):k===45?(t.consume(k),m):cn(k)?(o=p,ce(k)):(t.consume(k),p)}function m(k){return k===45?(t.consume(k),y):p(k)}function y(k){return k===62?be(k):k===45?m(k):p(k)}function _(k){const ne="CDATA[";return k===ne.charCodeAt(a++)?(t.consume(k),a===ne.length?b:_):n(k)}function b(k){return k===null?n(k):k===93?(t.consume(k),S):cn(k)?(o=b,ce(k)):(t.consume(k),b)}function S(k){return k===93?(t.consume(k),x):b(k)}function x(k){return k===62?be(k):k===93?(t.consume(k),x):b(k)}function E(k){return k===null||k===62?be(k):cn(k)?(o=E,ce(k)):(t.consume(k),E)}function A(k){return k===null?n(k):k===63?(t.consume(k),I):cn(k)?(o=A,ce(k)):(t.consume(k),A)}function I(k){return k===62?be(k):A(k)}function M(k){return us(k)?(t.consume(k),D):n(k)}function D(k){return k===45||Ua(k)?(t.consume(k),D):j(k)}function j(k){return cn(k)?(o=j,ce(k)):Qn(k)?(t.consume(k),j):be(k)}function Q(k){return k===45||Ua(k)?(t.consume(k),Q):k===47||k===62||wa(k)?Y(k):n(k)}function Y(k){return k===47?(t.consume(k),be):k===58||k===95||us(k)?(t.consume(k),q):cn(k)?(o=Y,ce(k)):Qn(k)?(t.consume(k),Y):be(k)}function q(k){return k===45||k===46||k===58||k===95||Ua(k)?(t.consume(k),q):Z(k)}function Z(k){return k===61?(t.consume(k),fe):cn(k)?(o=Z,ce(k)):Qn(k)?(t.consume(k),Z):Y(k)}function fe(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,te):cn(k)?(o=fe,ce(k)):Qn(k)?(t.consume(k),fe):(t.consume(k),se)}function te(k){return k===i?(t.consume(k),i=void 0,pe):k===null?n(k):cn(k)?(o=te,ce(k)):(t.consume(k),te)}function se(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||wa(k)?Y(k):(t.consume(k),se)}function pe(k){return k===47||k===62||wa(k)?Y(k):n(k)}function be(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function ce(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),le}function le(k){return Qn(k)?xr(t,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Oe(k)}function Oe(k){return t.enter("htmlTextData"),o(k)}}const LR={name:"labelEnd",tokenize:jye,resolveTo:Fye,resolveAll:Nye},Mye={tokenize:$ye},Dye={tokenize:Uye},kye={tokenize:Bye};function Nye(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Fye(t,e){let n=t.length,r=0,i,a,o,s;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},f={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return s=[["enter",c,e],["enter",f,e]],s=co(s,t.slice(a+1,a+r+3)),s=co(s,[["enter",h,e]]),s=co(s,OR(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),s=co(s,[["exit",h,e],t[o-2],t[o-1],["exit",f,e]]),s=co(s,t.slice(o+1)),s=co(s,[["exit",c,e]]),gs(t,a,t.length,s),t}function jye(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(m){return a?a._inactive?p(m):(o=r.parser.defined.includes(ud(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),c):n(m)}function c(m){return m===40?t.attempt(Mye,h,o?h:p)(m):m===91?t.attempt(Dye,h,o?f:p)(m):o?h(m):p(m)}function f(m){return t.attempt(kye,h,p)(m)}function h(m){return e(m)}function p(m){return a._balanced=!0,n(m)}}function $ye(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return wa(p)?Ig(t,a)(p):a(p)}function a(p){return p===41?h(p):qq(t,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return wa(p)?Ig(t,c)(p):h(p)}function s(p){return n(p)}function c(p){return p===34||p===39||p===40?Hq(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return wa(p)?Ig(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Uye(t,e,n){const r=this;return i;function i(s){return zq.call(r,t,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(ud(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function o(s){return n(s)}}function Bye(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const qye={name:"labelStartImage",tokenize:zye,resolveAll:LR.resolveAll};function zye(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),a}function a(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Hye={name:"labelStartLink",tokenize:Vye,resolveAll:LR.resolveAll};function Vye(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const VT={name:"lineEnding",tokenize:Kye};function Kye(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),xr(t,e,"linePrefix")}}const C_={name:"thematicBreak",tokenize:Gye};function Gye(t,e,n){let r=0,i;return a;function a(f){return t.enter("thematicBreak"),o(f)}function o(f){return i=f,s(f)}function s(f){return f===i?(t.enter("thematicBreakSequence"),c(f)):r>=3&&(f===null||cn(f))?(t.exit("thematicBreak"),e(f)):n(f)}function c(f){return f===i?(t.consume(f),r++,c):(t.exit("thematicBreakSequence"),Qn(f)?xr(t,s,"whitespace")(f):s(f))}}const ga={name:"list",tokenize:Zye,continuation:{tokenize:Jye},exit:Xye},Wye={tokenize:eve,partial:!0},Qye={tokenize:Yye,partial:!0};function Zye(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(y){const _=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:HC(y)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(C_,n,f)(y):f(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(y)}return n(y)}function c(y){return HC(y)&&++o<10?(t.consume(y),c):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),f(y)):n(y)}function f(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(Y0,r.interrupt?n:h,t.attempt(Wye,m,p))}function h(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function p(y){return Qn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Jye(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Y0,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xr(t,e,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Qn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Qye,e,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,xr(t,t.attempt(ga,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Yye(t,e,n){const r=this;return xr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function Xye(t){t.exit(this.containerState.type)}function eve(t,e,n){const r=this;return xr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Qn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Ij={name:"setextUnderline",tokenize:nve,resolveTo:tve};function tve(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function nve(t,e,n){const r=this;let i;return a;function a(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=f,o(f)):n(f)}function o(f){return t.enter("setextHeadingLineSequence"),s(f)}function s(f){return f===i?(t.consume(f),s):(t.exit("setextHeadingLineSequence"),Qn(f)?xr(t,c,"lineSuffix")(f):c(f))}function c(f){return f===null||cn(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const rve={tokenize:ive};function ive(t){const e=this,n=t.attempt(Y0,r,t.attempt(this.parser.constructs.flowInitial,i,xr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(lye,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ave={resolveAll:Kq()},ove=Vq("string"),sve=Vq("text");function Vq(t){return{tokenize:e,resolveAll:Kq(t==="text"?uve:void 0)};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,s);return o;function o(h){return f(h)?a(h):s(h)}function s(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return f(h)?(n.exit("data"),a(h)):(n.consume(h),c)}function f(h){if(h===null)return!0;const p=i[h];let m=-1;if(p)for(;++m<p.length;){const y=p[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Kq(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function uve(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,s=0,c;for(;a--;){const f=i[a];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(f===-2)c=!0,s++;else if(f!==-1){a++;break}}if(s){const f={type:n===t.length||c||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}function lve(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const c={consume:E,enter:A,exit:I,attempt:j(M),check:j(D),interrupt:j(D,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:y,sliceSerialize:m,now:_,defineSkip:b,write:p};let h=e.tokenize.call(f,c);return e.resolveAll&&a.push(e),f;function p(Z){return o=co(o,Z),S(),o[o.length-1]!==null?[]:(Q(e,0),f.events=OR(a,f.events,f),f.events)}function m(Z,fe){return fve(y(Z),fe)}function y(Z){return cve(o,Z)}function _(){const{line:Z,column:fe,offset:te,_index:se,_bufferIndex:pe}=r;return{line:Z,column:fe,offset:te,_index:se,_bufferIndex:pe}}function b(Z){i[Z.line]=Z.column,q()}function S(){let Z;for(;r._index<o.length;){const fe=o[r._index];if(typeof fe=="string")for(Z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Z&&r._bufferIndex<fe.length;)x(fe.charCodeAt(r._bufferIndex));else x(fe)}}function x(Z){h=h(Z)}function E(Z){cn(Z)?(r.line++,r.column=1,r.offset+=Z===-3?2:1,q()):Z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=Z}function A(Z,fe){const te=fe||{};return te.type=Z,te.start=_(),f.events.push(["enter",te,f]),s.push(te),te}function I(Z){const fe=s.pop();return fe.end=_(),f.events.push(["exit",fe,f]),fe}function M(Z,fe){Q(Z,fe.from)}function D(Z,fe){fe.restore()}function j(Z,fe){return te;function te(se,pe,be){let ce,le,Oe,k;return Array.isArray(se)?me(se):"tokenize"in se?me([se]):ne(se);function ne(Ae){return Je;function Je(Re){const Fe=Re!==null&&Ae[Re],Xe=Re!==null&&Ae.null,ie=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return me(ie)(Re)}}function me(Ae){return ce=Ae,le=0,Ae.length===0?be:H(Ae[le])}function H(Ae){return Je;function Je(Re){return k=Y(),Oe=Ae,Ae.partial||(f.currentConstruct=Ae),Ae.name&&f.parser.constructs.disable.null.includes(Ae.name)?ge():Ae.tokenize.call(fe?Object.assign(Object.create(f),fe):f,c,J,ge)(Re)}}function J(Ae){return Z(Oe,k),pe}function ge(Ae){return k.restore(),++le<ce.length?H(ce[le]):be}}}function Q(Z,fe){Z.resolveAll&&!a.includes(Z)&&a.push(Z),Z.resolve&&gs(f.events,fe,f.events.length-fe,Z.resolve(f.events.slice(fe),f)),Z.resolveTo&&(f.events=Z.resolveTo(f.events,f))}function Y(){const Z=_(),fe=f.previous,te=f.currentConstruct,se=f.events.length,pe=Array.from(s);return{restore:be,from:se};function be(){r=Z,f.previous=fe,f.currentConstruct=te,f.events.length=se,s=pe,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function cve(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function fve(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const dve={42:ga,43:ga,45:ga,48:ga,49:ga,50:ga,51:ga,52:ga,53:ga,54:ga,55:ga,56:ga,57:ga,62:jq},hve={91:pye},pve={[-2]:HT,[-1]:HT,32:HT},gve={35:wye,42:C_,45:[Ij,C_],60:Eye,61:Ij,95:C_,96:Oj,126:Oj},mve={38:Uq,92:$q},yve={[-5]:VT,[-4]:VT,[-3]:VT,33:qye,38:Uq,42:VC,60:[Vme,Lye],91:Hye,92:[vye,$q],93:LR,95:VC,96:iye},vve={null:[VC,ave]},_ve={null:[42,95]},wve={null:[]},bve=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_ve,contentInitial:hve,disable:wve,document:dve,flow:gve,flowInitial:pve,insideSpan:vve,string:mve,text:yve},Symbol.toStringTag,{value:"Module"}));function Sve(t){const n=Ome([bve,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(jme),document:i(Ume),flow:i(rve),string:i(ove),text:i(sve)};return r;function i(a){return o;function o(s){return lve(r,a,s)}}}function xve(t){for(;!Bq(t););return t}const Mj=/[\0\t\n\r]/g;function Eve(){let t=1,e="",n=!0,r;return i;function i(a,o,s){const c=[];let f,h,p,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(Mj.lastIndex=p,f=Mj.exec(a),m=f&&f.index!==void 0?f.index:a.length,y=a.charCodeAt(m),!f){e=a.slice(p);break}if(y===10&&p===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<m&&(c.push(a.slice(p,m)),t+=m-p),y){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}p=m+1}return s&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const Tve=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Cve(t){return t.replace(Tve,Ave)}function Ave(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Nq(n.slice(a?2:1),a?16:10)}return PR(n)||t}const Gq={}.hasOwnProperty;function Rve(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pve(n)(xve(Sve(n).document().write(Eve()(t,e,!0))))}function Pve(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:a(re),blockQuote:a(Fe),characterEscape:Y,characterReference:Y,codeFenced:a(Xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Xe,o),codeText:a(ie,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:a(z),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a($),hardBreakEscape:a(W),hardBreakTrailing:a(W),htmlFlow:a(he,o),htmlFlowData:Y,htmlText:a(he,o),htmlTextData:Y,image:a(ye),label:o,link:a(He),listItem:a(Ne),listItemValue:m,listOrdered:a(Te,p),listUnordered:a(Te),paragraph:a(tt),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(re),strong:a(nt),thematicBreak:a(Ut)},exit:{atxHeading:c(),atxHeadingSequence:M,autolink:c(),autolinkEmail:Re,autolinkProtocol:Je,blockQuote:c(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:Ae,codeFenced:c(S),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:_,codeFlowValue:q,codeIndented:c(x),codeText:c(pe),codeTextData:q,data:q,definition:c(),definitionDestinationString:I,definitionLabelString:E,definitionTitleString:A,emphasis:c(),hardBreakEscape:c(fe),hardBreakTrailing:c(fe),htmlFlow:c(te),htmlFlowData:q,htmlText:c(se),htmlTextData:q,image:c(ce),label:Oe,labelText:le,lineEnding:Z,link:c(be),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:J,resourceDestinationString:k,resourceTitleString:ne,resource:me,setextHeading:c(Q),setextHeadingLineSequence:j,setextHeadingText:D,strong:c(),thematicBreak:c()}};Wq(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const X={stack:[Be],tokenStack:[],config:e,enter:s,exit:f,buffer:o,resume:h,data:n},B=[];let K=-1;for(;++K<Se.length;)if(Se[K][1].type==="listOrdered"||Se[K][1].type==="listUnordered")if(Se[K][0]==="enter")B.push(K);else{const V=B.pop();K=i(Se,V,K)}for(K=-1;++K<Se.length;){const V=e[Se[K][0]];Gq.call(V,Se[K][1].type)&&V[Se[K][1].type].call(Object.assign({sliceSerialize:Se[K][2].sliceSerialize},X),Se[K][1])}if(X.tokenStack.length>0){const V=X.tokenStack[X.tokenStack.length-1];(V[1]||Dj).call(X,void 0,V[0])}for(Be.position={start:Ju(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:Ju(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<e.transforms.length;)Be=e.transforms[K](Be)||Be;return Be}function i(Se,Be,X){let B=Be-1,K=-1,V=!1,je,Ze,ke,At;for(;++B<=X;){const Ot=Se[B];switch(Ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ot[0]==="enter"?K++:K--,At=void 0;break}case"lineEndingBlank":{Ot[0]==="enter"&&(je&&!At&&!K&&!ke&&(ke=B),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!K&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||K===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(je){let Dt=B;for(Ze=void 0;Dt--;){const Rt=Se[Dt];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Ze&&(Se[Ze][1].type="lineEndingBlank",V=!0),Rt[1].type="lineEnding",Ze=Dt}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}ke&&(!Ze||ke<Ze)&&(je._spread=!0),je.end=Object.assign({},Ze?Se[Ze][1].start:Ot[1].end),Se.splice(Ze||B,0,["exit",je,Ot[2]]),B++,X++}if(Ot[1].type==="listItemPrefix"){const Dt={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start),end:void 0};je=Dt,Se.splice(B,0,["enter",Dt,Ot[2]]),B++,X++,ke=void 0,At=!0}}}return Se[Be][1]._spread=V,X}function a(Se,Be){return X;function X(B){s.call(this,Se(B),B),Be&&Be.call(this,B)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Se,Be,X){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,X]),Se.position={start:Ju(Be.start),end:void 0}}function c(Se){return Be;function Be(X){Se&&Se.call(this,X),f.call(this,X)}}function f(Se,Be){const X=this.stack.pop(),B=this.tokenStack.pop();if(B)B[0].type!==Se.type&&(Be?Be.call(this,Se,B[0]):(B[1]||Dj).call(this,Se,B[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Lg({start:Se.start,end:Se.end})+"): it’s not open");X.position.end=Ju(Se.end)}function h(){return Rme(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function _(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function E(Se){const Be=this.resume(),X=this.stack[this.stack.length-1];X.label=Be,X.identifier=ud(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function I(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function M(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const X=this.sliceSerialize(Se).length;Be.depth=X}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function j(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(Se){const X=this.stack[this.stack.length-1].children;let B=X[X.length-1];(!B||B.type!=="text")&&(B=gt(),B.position={start:Ju(Se.start),end:void 0},X.push(B)),this.stack.push(B)}function q(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=Ju(Se.end)}function Z(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=Be.children[Be.children.length-1];X.position.end=Ju(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Be.type)&&(Y.call(this,Se),q.call(this,Se))}function fe(){this.data.atHardBreak=!0}function te(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function se(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function pe(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function be(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ce(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function le(Se){const Be=this.sliceSerialize(Se),X=this.stack[this.stack.length-2];X.label=Cve(Be),X.identifier=ud(Be).toLowerCase()}function Oe(){const Se=this.stack[this.stack.length-1],Be=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const B=Se.children;X.children=B}else X.alt=Be}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function ne(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function me(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function J(Se){const Be=this.resume(),X=this.stack[this.stack.length-1];X.label=Be,X.identifier=ud(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function ge(Se){this.data.characterReferenceType=Se.type}function Ae(Se){const Be=this.sliceSerialize(Se),X=this.data.characterReferenceType;let B;X?(B=Nq(Be,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):B=PR(Be);const K=this.stack.pop();K.value+=B,K.position.end=Ju(Se.end)}function Je(Se){q.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Re(Se){q.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Fe(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function he(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Te(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Ne(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function Ut(){return{type:"thematicBreak"}}}function Ju(t){return{line:t.line,column:t.column,offset:t.offset}}function Wq(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Wq(t,r):Ove(t,r)}}function Ove(t,e){let n;for(n in e)if(Gq.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Dj(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Lg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Lg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Lg({start:e.start,end:e.end})+") is still open")}function Lve(t){const e=this;e.parser=n;function n(r){return Rve(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Ive(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Mve(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Dve(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function kve(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nve(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fve(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ih(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,s+=1,t.footnoteCounts.set(r,s);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,f),t.applyData(e,f)}function jve(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $ve(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Qq(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Uve(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Qq(t,e);const i={src:ih(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Bve(t,e){const n={src:ih(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qve(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function zve(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Qq(t,e);const i={href:ih(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Hve(t,e){const n={href:ih(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Vve(t,e,n){const r=t.all(e),i=n?Kve(n):Zq(e),a={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const h=r[s];(i||s!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,f),t.applyData(e,f)}function Kve(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Zq(n[r])}return e}function Zq(t){const e=t.spread;return e??t.children.length>1}function Gve(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Wve(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Qve(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Zve(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jve(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=AR(e.children[1]),c=Iq(e.children[e.children.length-1]);s&&c&&(o.position={start:s,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Yve(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:e.children.length;let c=-1;const f=[];for(;++c<s;){const p=e.children[c],m={},y=o?o[c]:void 0;y&&(m.align=y);let _={type:"element",tagName:a,properties:m,children:[]};p&&(_.children=t.all(p),t.patch(p,_),_=t.applyData(p,_)),f.push(_)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function Xve(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const kj=9,Nj=32;function e_e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(Fj(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(Fj(e.slice(i),i>0,!1)),a.join("")}function Fj(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===kj||a===Nj;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===kj||a===Nj;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function t_e(t,e){const n={type:"text",value:e_e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function n_e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const r_e={blockquote:Ive,break:Mve,code:Dve,delete:kve,emphasis:Nve,footnoteReference:Fve,heading:jve,html:$ve,imageReference:Uve,image:Bve,inlineCode:qve,linkReference:zve,link:Hve,listItem:Vve,list:Gve,paragraph:Wve,root:Qve,strong:Zve,table:Jve,tableCell:Xve,tableRow:Yve,text:t_e,thematicBreak:n_e,toml:fv,yaml:fv,definition:fv,footnoteDefinition:fv};function fv(){}const Jq=-1,X0=0,X_=1,e0=2,IR=3,MR=4,DR=5,kR=6,Yq=7,Xq=8,jj=typeof self=="object"?self:globalThis,i_e=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case X0:case Jq:return n(o,i);case X_:{const s=n([],i);for(const c of o)s.push(r(c));return s}case e0:{const s=n({},i);for(const[c,f]of o)s[r(c)]=r(f);return s}case IR:return n(new Date(o),i);case MR:{const{source:s,flags:c}=o;return n(new RegExp(s,c),i)}case DR:{const s=n(new Map,i);for(const[c,f]of o)s.set(r(c),r(f));return s}case kR:{const s=n(new Set,i);for(const c of o)s.add(r(c));return s}case Yq:{const{name:s,message:c}=o;return n(new jj[s](c),i)}case Xq:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new jj[a](o),i)};return r},$j=t=>i_e(new Map,t)(0),Kf="",{toString:a_e}={},{keys:o_e}=Object,ng=t=>{const e=typeof t;if(e!=="object"||!t)return[X0,e];const n=a_e.call(t).slice(8,-1);switch(n){case"Array":return[X_,Kf];case"Object":return[e0,Kf];case"Date":return[IR,Kf];case"RegExp":return[MR,Kf];case"Map":return[DR,Kf];case"Set":return[kR,Kf]}return n.includes("Array")?[X_,n]:n.includes("Error")?[Yq,n]:[e0,n]},dv=([t,e])=>t===X0&&(e==="function"||e==="symbol"),s_e=(t,e,n,r)=>{const i=(o,s)=>{const c=r.push(o)-1;return n.set(s,c),c},a=o=>{if(n.has(o))return n.get(o);let[s,c]=ng(o);switch(s){case X0:{let h=o;switch(c){case"bigint":s=Xq,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([Jq],o)}return i([s,h],o)}case X_:{if(c)return i([c,[...o]],o);const h=[],p=i([s,h],o);for(const m of o)h.push(a(m));return p}case e0:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const h=[],p=i([s,h],o);for(const m of o_e(o))(t||!dv(ng(o[m])))&&h.push([a(m),a(o[m])]);return p}case IR:return i([s,o.toISOString()],o);case MR:{const{source:h,flags:p}=o;return i([s,{source:h,flags:p}],o)}case DR:{const h=[],p=i([s,h],o);for(const[m,y]of o)(t||!(dv(ng(m))||dv(ng(y))))&&h.push([a(m),a(y)]);return p}case kR:{const h=[],p=i([s,h],o);for(const m of o)(t||!dv(ng(m)))&&h.push(a(m));return p}}const{message:f}=o;return i([s,{name:c,message:f}],o)};return a},Uj=(t,{json:e,lossy:n}={})=>{const r=[];return s_e(!(e||n),!!e,new Map,r)(t),r},t0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?$j(Uj(t,e)):structuredClone(t):(t,e)=>$j(Uj(t,e));function u_e(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function l_e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function c_e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||u_e,r=t.options.footnoteBackLabel||l_e,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let c=-1;for(;++c<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[c]);if(!f)continue;const h=t.all(f),p=String(f.identifier).toUpperCase(),m=ih(p.toLowerCase());let y=0;const _=[],b=t.footnoteCounts.get(p);for(;b!==void 0&&++y<=b;){_.length>0&&_.push({type:"text",value:" "});let E=typeof n=="string"?n:n(c,y);typeof E=="string"&&(E={type:"text",value:E}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const E=S.children[S.children.length-1];E&&E.type==="text"?E.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(..._)}else h.push(..._);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(f,x),s.push(x)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...t0(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const e9=function(t){if(t==null)return p_e;if(typeof t=="function")return ew(t);if(typeof t=="object")return Array.isArray(t)?f_e(t):d_e(t);if(typeof t=="string")return h_e(t);throw new Error("Expected function, string, or object as test")};function f_e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=e9(t[n]);return ew(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function d_e(t){const e=t;return ew(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function h_e(t){return ew(e);function e(n){return n&&n.type===t}}function ew(t){return e;function e(n,r,i){return!!(g_e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function p_e(){return!0}function g_e(t){return t!==null&&typeof t=="object"&&"type"in t}const t9=[],m_e=!0,Bj=!1,y_e="skip";function v_e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=e9(i),o=r?-1:1;s(t,void 0,[])();function s(c,f,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=t9,_,b,S;if((!e||a(c,f,h[h.length-1]||void 0))&&(y=__e(n(c,h)),y[0]===Bj))return y;if("children"in c&&c.children){const x=c;if(x.children&&y[0]!==y_e)for(b=(r?x.children.length:-1)+o,S=h.concat(x);b>-1&&b<x.children.length;){const E=x.children[b];if(_=s(E,b,S)(),_[0]===Bj)return _;b=typeof _[1]=="number"?_[1]:b+o}}return y}}}function __e(t){return Array.isArray(t)?t:typeof t=="number"?[m_e,t]:t==null?t9:[t]}function n9(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),v_e(t,a,s,i);function s(c,f){const h=f[f.length-1],p=h?h.children.indexOf(c):void 0;return o(c,p,h)}}const KC={}.hasOwnProperty,w_e={};function b_e(t,e){const n=e||w_e,r=new Map,i=new Map,a=new Map,o={...r_e,...n.handlers},s={all:f,applyData:x_e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:S_e,wrap:T_e};return n9(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();p.has(m)||p.set(m,h)}}),s;function c(h,p){const m=h.type,y=s.handlers[m];if(KC.call(s.handlers,m)&&y)return y(s,h,p);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in h){const{children:b,...S}=h,x=t0(S);return x.children=s.all(h),x}return t0(h)}return(s.options.unknownHandler||E_e)(s,h,p)}function f(h){const p=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const _=s.one(m[y],h);if(_){if(y&&m[y-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=qj(_.value)),!Array.isArray(_)&&_.type==="element")){const b=_.children[0];b&&b.type==="text"&&(b.value=qj(b.value))}Array.isArray(_)?p.push(..._):p.push(_)}}}return p}}function S_e(t,e){t.position&&(e.position=cme(t))}function x_e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,t0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function E_e(t,e){const n=e.data||{},r="value"in e&&!(KC.call(n,"hProperties")||KC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function T_e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function qj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function zj(t,e){const n=b_e(t,e),r=n.one(t,void 0),i=c_e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function C_e(t,e){return t&&"run"in t?async function(n,r){const i=zj(n,e);await t.run(i,r)}:function(n){return zj(n,e||t)}}function Hj(t){if(t)throw t}var KT,Vj;function A_e(){if(Vj)return KT;Vj=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var h=t.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var m;for(m in f);return typeof m>"u"||t.call(f,m)},o=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},s=function(f,h){if(h==="__proto__")if(t.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return KT=function c(){var f,h,p,m,y,_,b=arguments[0],S=1,x=arguments.length,E=!1;for(typeof b=="boolean"&&(E=b,b=arguments[1]||{},S=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});S<x;++S)if(f=arguments[S],f!=null)for(h in f)p=s(b,h),m=s(f,h),b!==m&&(E&&m&&(a(m)||(y=i(m)))?(y?(y=!1,_=p&&i(p)?p:[]):_=p&&a(p)?p:{},o(b,{name:h,newValue:c(E,_,m)})):typeof m<"u"&&o(b,{name:h,newValue:m}));return b},KT}var R_e=A_e();const GT=Gr(R_e);function GC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function P_e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(c,...f){const h=t[++a];let p=-1;if(c){o(c);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?O_e(h,s)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function O_e(t,e){let n;return r;function r(...o){const s=t.length>o.length;let c;s&&o.push(i);try{c=t.apply(this,o)}catch(f){const h=f;if(s&&n)throw h;return i(h)}s||(c instanceof Promise?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...s){n||(n=!0,e(o,...s))}function a(o){i(null,o)}}const es={basename:L_e,dirname:I_e,extname:M_e,join:D_e,sep:"/"};function L_e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function I_e(t){if(Tm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function M_e(t){Tm(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const s=t.codePointAt(e);if(s===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),s===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function D_e(...t){let e=-1,n;for(;++e<t.length;)Tm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":k_e(n)}function k_e(t){Tm(t);const e=t.codePointAt(0)===47;let n=N_e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function N_e(t,e){let n="",r=0,i=-1,a=0,o=-1,s,c;for(;++o<=t.length;){if(o<t.length)s=t.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Tm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const F_e={cwd:j_e};function j_e(){return"/"}function WC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function $_e(t){if(typeof t=="string")t=new URL(t);else if(!WC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return U_e(t)}function U_e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const WT=["history","path","basename","stem","extname","dirname"];class r9{constructor(e){let n;e?WC(e)?n={path:e}:typeof e=="string"||B_e(e)?n={value:e}:n=e:n={},this.cwd=F_e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<WT.length;){const a=WT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)WT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?es.basename(this.path):void 0}set basename(e){ZT(e,"basename"),QT(e,"basename"),this.path=es.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?es.dirname(this.path):void 0}set dirname(e){Kj(this.basename,"dirname"),this.path=es.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?es.extname(this.path):void 0}set extname(e){if(QT(e,"extname"),Kj(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=es.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){WC(e)&&(e=$_e(e)),ZT(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?es.basename(this.path,this.extname):void 0}set stem(e){ZT(e,"stem"),QT(e,"stem"),this.path=es.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new la(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function QT(t,e){if(t&&t.includes(es.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+es.sep+"`")}function ZT(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Kj(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function B_e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const q_e=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const c=Object.getOwnPropertyDescriptor(i,s);c&&Object.defineProperty(a,s,c)}return a},z_e={}.hasOwnProperty;class NR extends q_e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=P_e()}copy(){const e=new NR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(GT(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(XT("data",this.frozen),this.namespace[e]=n,this):z_e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(XT("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=hv(e),r=this.parser||this.Parser;return JT("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),JT("process",this.parser||this.Parser),YT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=hv(e),c=r.parse(s);r.run(c,s,function(h,p,m){if(h||!p||!m)return f(h);const y=p,_=r.stringify(y,m);K_e(_)?m.value=_:m.result=_,f(h,m)});function f(h,p){h||!p?o(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),JT("processSync",this.parser||this.Parser),YT("processSync",this.compiler||this.Compiler),this.process(e,i),Wj("processSync","process",n),r;function i(a,o){n=!0,Hj(a),r=o}}run(e,n,r){Gj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const c=hv(n);i.run(e,c,f);function f(h,p,m){const y=p||e;h?s(h):o?o(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),Wj("runSync","run",r),i;function a(o,s){Hj(o),i=s,r=!0}}stringify(e,n){this.freeze();const r=hv(n),i=this.compiler||this.Compiler;return YT("stringify",i),Gj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(XT("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;c(h,p)}else o(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function o(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(f.plugins),f.settings&&(i.settings=GT(!0,i.settings,f.settings))}function s(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,h){let p=-1,m=-1;for(;++p<r.length;)if(r[p][0]===f){m=p;break}if(m===-1)r.push([f,...h]);else if(h.length>0){let[y,..._]=h;const b=r[m][1];GC(b)&&GC(y)&&(y=GT(!0,b,y)),r[m]=[f,y,..._]}}}}const H_e=new NR().freeze();function JT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function YT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function XT(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gj(t){if(!GC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Wj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function hv(t){return V_e(t)?t:new r9(t)}function V_e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function K_e(t){return typeof t=="string"||G_e(t)}function G_e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const W_e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qj=[],Zj={allowDangerousHtml:!0},Q_e=/^(https?|ircs?|mailto|xmpp)$/i,Z_e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function J_e(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,a=t.components,o=t.disallowedElements,s=t.rehypePlugins||Qj,c=t.remarkPlugins||Qj,f=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Zj}:Zj,h=t.skipHtml,p=t.unwrapDisallowed,m=t.urlTransform||Y_e,y=H_e().use(Lve).use(c).use(C_e,f).use(s),_=new r9;typeof r=="string"&&(_.value=r);for(const E of Z_e)Object.hasOwn(t,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+W_e+E.id,void 0);const b=y.parse(_);let S=y.runSync(b,_);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),n9(S,x),mme(S,{Fragment:de.Fragment,components:a,ignoreInvalidStyle:!0,jsx:de.jsx,jsxs:de.jsxs,passKeys:!0,passNode:!0});function x(E,A,I){if(E.type==="raw"&&I&&typeof A=="number")return h?I.children.splice(A,1):I.children[A]={type:"text",value:E.value},A;if(E.type==="element"){let M;for(M in zT)if(Object.hasOwn(zT,M)&&Object.hasOwn(E.properties,M)){const D=E.properties[M],j=zT[M];(j===null||j.includes(E.tagName))&&(E.properties[M]=m(String(D||""),M,E))}}if(E.type==="element"){let M=e?!e.includes(E.tagName):o?o.includes(E.tagName):!1;if(!M&&n&&typeof A=="number"&&(M=!n(E,A,I)),M&&I&&typeof A=="number")return p&&E.children?I.children.splice(A,1,...E.children):I.children.splice(A,1),A}}}function Y_e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||Q_e.test(t.slice(0,e))?t:""}const X_e="_text_e0nft_1",e0e={text:X_e},t0e=`# About

WIP`,n0e=()=>de.jsx(J_e,{className:e0e.text,children:t0e}),r0e=()=>{const t=ko(Ud),e=$d();ae.useEffect(()=>{if(t.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(t.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&e(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[t.isLoggedIn,e])},Qg=(t,e)=>{const n=vhe(t,e),r=i9(t,e);return ae.useMemo(()=>({isMember:n,...r}),[r,n])},i9=(t,e)=>{const{isLoading:n,variables:r,store:i}=ba({query:uhe,variables:ae.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:dr}),a=r.publicTypeIndex??[],o=r.privateTypeIndex??[],s=r.inbox??[],c=r.hospexDocumentForCommunity??[],f=ae.useMemo(()=>(r.hospexDocument??[]).map(_=>{var x;const b=i.getObjects(t,Pd.member_of,_).map(({value:E})=>{var A;return{uri:E,name:(A=i.getObjects(E,Pd.name,null)[0])==null?void 0:A.value}}),S=i.getObjects(t,Cl.storage,_);return{hospexDocument:_,communities:b,storage:(x=S[0])==null?void 0:x.value}}),[i,t,r]),h=c.length>0?!0:n?void 0:!1,p=a.length>0?!0:n?void 0:!1,m=o.length>0?!0:n?void 0:!1,y=s.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:p,isPrivateTypeIndex:m,isInbox:y,personalHospexDocuments:c,publicTypeIndexes:a,privateTypeIndexes:o,inboxes:s,allHospex:f}},i0e=(t,e)=>{const n=ae.useCallback(async()=>{if(!e)return"mailer not set up";const o=await dr(`${e}/status`);if(!o.ok)throw new Error("Network response was not ok");return o.json()},[e]),{isLoading:r,data:i}=fm({queryKey:["mailerIntegration"],queryFn:n});if(i==="mailer not set up")return!0;if(r||!i)return;const a=i.integrations.filter(o=>o.object===t);return a.length===0?!1:a.some(o=>o.verified)?!0:"unverified"},a0e=(t,e)=>{const n=ae.useCallback(async()=>{if(!e)return"mailer not set up";const a=await dr(`${e}/status/${encodeURIComponent(t)}`);if(a.status===403)return{emailVerified:!1};if(!a.ok)throw new Error("Network response was not ok");return a.json()},[e,t]),{isLoading:r,data:i}=fm({queryKey:["simpleMailerIntegration"],queryFn:n});if(i==="mailer not set up")return!0;if(!(r||!i))return i.emailVerified};var e2,Jj;function o0e(){if(Jj)return e2;Jj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return e2=t,e2}var t2,Yj;function s0e(){if(Yj)return t2;Yj=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return t2=t,t2}var n2,Xj;function u0e(){if(Xj)return n2;Xj=1;var t=dR(),e=s0e();function n(r,i){return i.length<2?r:t(r,e(i,0,-1))}return n2=n,n2}var r2,e4;function l0e(){if(e4)return r2;e4=1;var t=B0(),e=o0e(),n=u0e(),r=bm();function i(a,o){return o=t(o,a),a=n(a,o),a==null||delete a[r(e(o))]}return r2=i,r2}var i2,t4;function c0e(){if(t4)return i2;t4=1;var t=Z8();function e(n){return t(n)?void 0:n}return i2=e,i2}var a2,n4;function f0e(){if(n4)return a2;n4=1;var t=Qd(),e=N0(),n=Bo(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return a2=i,a2}var o2,r4;function d0e(){if(r4)return o2;r4=1;var t=nR(),e=f0e();function n(r,i,a,o,s){var c=-1,f=r.length;for(a||(a=e),s||(s=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,o,s):t(s,h):o||(s[s.length]=h)}return s}return o2=n,o2}var s2,i4;function h0e(){if(i4)return s2;i4=1;var t=d0e();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return s2=e,s2}var u2,a4;function p0e(){if(a4)return u2;a4=1;var t=h0e(),e=X8(),n=eq();function r(i){return n(e(i,void 0,t),i+"")}return u2=r,u2}var l2,o4;function g0e(){if(o4)return l2;o4=1;var t=KB(),e=oq(),n=l0e(),r=B0(),i=th(),a=c0e(),o=p0e(),s=aq(),c=1,f=2,h=4,p=o(function(m,y){var _={};if(m==null)return _;var b=!1;y=t(y,function(x){return x=r(x,m),b||(b=x.length>1),x}),i(m,s(m),_),b&&(_=e(_,c|f|h,a));for(var S=y.length;S--;)n(_,y[S]);return _});return l2=p,l2}var m0e=g0e();const a9=Gr(m0e),y0e=()=>{const t=qo();return ae.useCallback(async({person:e,group:n})=>{const r=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${n}> <${lB.hasMember}> <${e}>. } .`;await t.mutateAsync({uri:n,patch:r})},[t])},v0e=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Group",id:e}}),_0e=async({inbox:t,...e})=>{const n=await dr(t,{method:"POST",body:JSON.stringify(v0e(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Sl("Community inbox responded with error",n);const r=n.headers.get("location");return{...e,status:n.status,group:r}},w0e=()=>{const t=Ui(),{mutateAsync:e}=Ea({mutationFn:_0e,onSuccess:async n=>{n.group&&await t.invalidateQueries({queryKey:["rdfDocument",Yc(n.group)]})}});return e},b0e={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},S0e={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},rf={schema:b0e,shape:"https://example.com/Authorization",context:S0e};let pv;const x0e=new Uint8Array(16);function E0e(){if(!pv&&(pv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pv(x0e)}const Ci=[];for(let t=0;t<256;++t)Ci.push((t+256).toString(16).slice(1));function T0e(t,e=0){return(Ci[t[e+0]]+Ci[t[e+1]]+Ci[t[e+2]]+Ci[t[e+3]]+"-"+Ci[t[e+4]]+Ci[t[e+5]]+"-"+Ci[t[e+6]]+Ci[t[e+7]]+"-"+Ci[t[e+8]]+Ci[t[e+9]]+"-"+Ci[t[e+10]]+Ci[t[e+11]]+Ci[t[e+12]]+Ci[t[e+13]]+Ci[t[e+14]]+Ci[t[e+15]]).toLowerCase()}const C0e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s4={randomUUID:C0e};function yl(t,e,n){if(s4.randomUUID&&!e&&!t)return s4.randomUUID();t=t||{};const r=t.random||(t.rng||E0e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,T0e(r)}const A0e=()=>{const{communityId:t}=Un(),e=P0e(),n=I0e(),r=M0e(),i=L0e(),a=O0e(),o=o9(),s=D0e(),c=k0e(),{webId:f}=Bi();return ae.useCallback(async(h,{person:p,publicTypeIndex:m,privateTypeIndex:y,hospexDocument:_,inbox:b,email:S})=>{h.includes("createHospexProfile")&&await i({uri:_,webId:p,communityId:t}),h.includes("addToHospexProfile")&&await a({uri:_,webId:p}),h.includes("createPrivateTypeIndex")&&await e({webId:p,privateTypeIndex:y}),h.includes("createPublicTypeIndex")&&await n({webId:p,publicTypeIndex:m}),h.includes("createInbox")&&await r({webId:p,inbox:b}),(h.includes("createHospexProfile")||h.includes("createPublicTypeIndex"))&&await o({index:m,type:Cl.PersonalHospexDocument,location:_}),h.includes("integrateEmailNotifications")&&await s({email:S,inbox:b,webId:f}),h.includes("integrateSimpleEmailNotifications")&&await c({email:S,webId:f,hospexDocument:_})},[a,t,i,r,e,n,s,c,o,f])},R0e=async({index:t,type:e,location:n})=>{const i=n.endsWith("/")?Mn.instanceContainer:Mn.instance,a=await Do(t,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${e}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new Sl("Updating type registration failed.",a);const o=yl(),s=await Do(t,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${o}>
          a solid:TypeRegistration;
          solid:forClass <${e}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new Sl("Saving type registration failed.",s)},o9=()=>{const t=Ui();return Ea({mutationFn:R0e,onSuccess:(e,{index:n})=>{t.invalidateQueries({queryKey:["rdfDocument",n]})}}).mutateAsync},P0e=()=>{const t=No(Che),e=qo();return ae.useCallback(async({webId:n,privateTypeIndex:r})=>{await t.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${Mn.InsertDeletePatch}>; <${Mn.inserts}> { <${n}> <${Mn.privateTypeIndex}> <${r}>. }.`;await e.mutateAsync({uri:n,patch:i})},[t,e])},O0e=()=>{const{communityId:t}=Un(),e=tf(V0),n=u9(),r=s9(),i=gu(t);return ae.useCallback(async({uri:a,webId:o})=>{await e.mutateAsync({uri:a,subject:o,transform:s=>{s.memberOf??(s.memberOf=[]),s.memberOf.push({"@id":t}),s.storage2??(s.storage2={"@id":ri(a)}),s["@id"]??(s["@id"]=o)}});try{await n({webId:o,uri:ri(a)},{throwOnHttpError:!0})}catch{await r(ri(a),[{operation:"add",access:["Read"],agentGroups:i.groups,default:!0}])}},[i.groups,t,n,r,e])},s9=()=>{const t=qo();return ae.useCallback(async(e,n)=>{const r=await Tl(e),a=await(await Do(r)).text(),o=Zle(r,a),s=new C0({format:"N-Triples"});for(const f of n){f.agents??(f.agents=[]),f.agentGroups??(f.agentGroups=[]);const h=o.find(_=>{const b=new Set(f.access),S=new Set(_.accesses);return b.size===S.size&&[...b].every(x=>S.has(x))&&f.default?_.defaults.includes(e):_.defaults.length===0}),p=_=>{const b=new URL(_);return b.hash=yl(),b.toString()},m=(h==null?void 0:h.url)??p(r),y=new Hr(m);s.addQuads(f.agentGroups.map(_=>new Ro(y,new Hr(Sn.agentGroup),new Hr(_)))),s.addQuads(f.agents.map(_=>new Ro(y,new Hr(Sn.agent),new Hr(_)))),h||(s.addQuads([new Ro(y,new Hr(Jc.type),new Hr(Sn.Authorization)),new Ro(y,new Hr(Sn.accessTo),new Hr(e)),...f.access.map(_=>new Ro(y,new Hr(Sn.mode),new Hr(Sn[_])))]),f.default&&s.addQuads([new Ro(y,new Hr(Sn.default__workaround),new Hr(e))]))}const c=await new Promise((f,h)=>{s.end((p,m)=>{p?h(p):f(m)})});await t.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${c}
          } .`})},[t])},u9=()=>{const{communityId:t}=Un(),e=No(rf),n=gu(t);return ae.useCallback(async({uri:r,webId:i},a={})=>{const o=ri(r),s=await Tl(o);await e.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agent:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agentGroup:n.groups.map(c=>({"@id":c})),mode:[{"@id":Sn.Read}]}],...a})},[n.groups,e])},L0e=()=>{const t=No(V0),e=u9();return ae.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=ri(n);await t.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await e({uri:n,webId:r})},[e,t])},I0e=()=>{const t=No(The),e=No(rf),n=qo();return ae.useCallback(async({webId:r,publicTypeIndex:i})=>{await t.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await Tl(i);await e.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":wl.Agent}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read}]}]});const o=`_:mutate a <${Mn.InsertDeletePatch}>; <${Mn.inserts}> { <${r}> <${Mn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:o})},[e,t,n])},M0e=()=>{const t=Zhe(),e=No(rf),n=qo();return ae.useCallback(async({webId:r,inbox:i})=>{await t.mutateAsync({uri:i});const a=await Tl(i);await e.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":Sn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${Mn.InsertDeletePatch}>; <${Mn.inserts}> { <${r}> <${nu.inbox}> <${i}>. }.`})},[e,t,n])},D0e=()=>{const{emailNotificationsService:t,emailNotificationsIdentity:e}=Un(),n=async s=>{if(!(await dr(`${t}/inbox`,{method:"post",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=Ui(),{mutate:i}=Ea({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:["mailerIntegration"]})}}),a=ae.useCallback(({webId:s,inbox:c,email:f})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:c,target:f})},[i]),o=tf(rf);return ae.useCallback(async({email:s,inbox:c,webId:f})=>{const h=await Tl(c);await o.mutateAsync({uri:h,subject:h+"#read",transform:p=>{p["@id"]=h+"#read",p.type={"@id":"Authorization"},p.agent=[{"@id":e}],p.accessTo=[{"@id":c}],p.default={"@id":c},p.mode=[{"@id":Sn.Read}]}}),await a({email:s,inbox:c,webId:f})},[e,a,o])},k0e=()=>{const{emailNotificationsService:t}=Un(),e=async o=>{if(!(await dr(`${t}/init`,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(o)})).ok)throw new Error("not ok!")},n=Ui(),r=N0e(),{mutate:i}=Ea({mutationFn:e,onSuccess:()=>{n.invalidateQueries({queryKey:["simpleMailerIntegration"]})}}),a=ae.useCallback(({email:o})=>{i({email:o})},[i]);return ae.useCallback(async({email:o,webId:s,hospexDocument:c})=>{await r({hospexDocument:c,webId:s,email:o}),await a({email:o})},[a,r])},N0e=()=>{const{emailNotificationsIdentity:t}=Un(),e=tf(rf),n=qo(),r=s9();return ae.useCallback(async({hospexDocument:a,webId:o,email:s})=>{const c=ri(a);await r(ri(a),[{operation:"add",access:["Read"],agents:[t],default:!0}]);const f=c+"emailSettings-"+yl(),h=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${o}> <${wl.mbox}> "${s}". } .`;await n.mutateAsync({uri:f,patch:h});const p=await Tl(f);await e.mutateAsync({uri:p,subject:p+"#owner",transform:y=>{y["@id"]=p+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":o}],y.accessTo=[{"@id":f}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]}}),await e.mutateAsync({uri:p,subject:p+"#readWriteMailer",transform:y=>{y["@id"]=p+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":t}],y.accessTo=[{"@id":f}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write}]}});const m=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${o}> <${ym.preferencesFile}> <${f}>. } .`;await n.mutateAsync({uri:a,patch:m})},[t,r,e,n])};var c2,u4;function F0e(){if(u4)return c2;u4=1;function t(e,n){return e<n}return c2=t,c2}var f2,l4;function j0e(){if(l4)return f2;l4=1;var t=tq(),e=pR(),n=F0e();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return f2=r,f2}var $0e=j0e();const U0e=Gr($0e),B0e=t=>{var a;const[e,n]=rq(t),[r]=q0e(t),i=((a=e==null?void 0:e.storage)==null?void 0:a.map(o=>o["@id"]))??[];if(n.isFetched)return i[0]??r},q0e=t=>{const[e,n]=ae.useState([ri(t)]),[r,i]=ae.useState(),a=Qhe(e),o=ae.useMemo(()=>a.map(c=>{var f,h;return(h=(f=c.data)==null?void 0:f.response)==null?void 0:h.headers.get("Link")}),[a]);ae.useEffect(()=>{const c=o.findIndex(f=>f==null?void 0:f.includes(ym.Storage));c>-1?i(e[c]):a.every(f=>f.isSuccess||f.isError)&&n(f=>{const h=U0e(f,p=>p.length);if(h){const p=fB(h);if(!f.includes(p))return[...f,p]}return f})},[o,e,a]);const s=!a.every(c=>c.isSuccess||c.isError)||a.length<e.length;return[r,s]},z0e="_taskList_d3s7e_1",H0e="_storageOptions_d3s7e_7",V0e="_option_d3s7e_10",gv={taskList:z0e,storageOptions:H0e,option:V0e},K0e=({isMember:t,isPublicTypeIndex:e,isPrivateTypeIndex:n,isHospexProfile:r,isInbox:i,isEmailNotifications:a,isSimpleEmailNotifications:o,personalHospexDocuments:s,publicTypeIndexes:c,privateTypeIndexes:f,inboxes:h,isNotificationsInitialized:p,onNotificationsInitialized:m,onNotificationsInitializedTryAgain:y,allHospex:_})=>{const{communityContainer:b,communityId:S}=Un(),x=Bi(),E=A0e(),A=B0e(x.webId??""),I=gu(S),M=y0e(),D=w0e(),[j,Q]=ae.useState(!1),[Y,q]=ae.useState(""),[Z,fe]=ae.useState(""),[te,se]=ae.useState(),pe=`${A}hospex/${b}/card`,be=async ce=>{if(ce.preventDefault(),Q(!0),!e||!n||!r||!i||!a||!o){const le=[];if(e||le.push("createPublicTypeIndex"),n||le.push("createPrivateTypeIndex"),r||(_.length===0?le.push("createHospexProfile"):typeof te=="boolean"&&(te?le.push("addToHospexProfile"):le.push("createHospexProfile"))),i||le.push("createInbox"),a||le.push("integrateEmailNotifications"),o||le.push("integrateSimpleEmailNotifications"),!x.webId)throw new Error("not signed in");if(e&&!c[0])throw new Error("existing public type index not found");if(n&&!f[0])throw new Error("existing private type index not found");const Oe={person:x.webId,publicTypeIndex:e?c[0]:`${A}settings/publicTypeIndex.ttl`,privateTypeIndex:n?f[0]:`${A}settings/privateTypeIndex.ttl`,inbox:i?h[0]:`${A}inbox/`,hospexDocument:r?s[0]:_.length>0?Z:pe,email:Y};await E(le,Oe),m()}t||(I.inbox?await D({actor:x.webId,object:I.community,type:"Join",inbox:I.inbox}):await M({person:x.webId,group:I.groups[0]})),Q(!1)};return j?de.jsx(Sa,{children:"Preparing your Pod..."}):A?de.jsxs("div",{children:[de.jsxs("header",{children:["Welcome to ",I.name||"SolidCouch","!"]}),de.jsx("div",{children:"We would like to set up your Pod:"}),de.jsxs("form",{onSubmit:be,children:[de.jsxs("ul",{className:gv.taskList,children:[!t&&de.jsxs("li",{children:["Join community ",I.name||S]}),!e&&de.jsxs("li",{children:["Create public type index"," ",A+"settings/publicTypeIndex.ttl"]}),!n&&de.jsxs("li",{children:["Create private type index"," ",A+"settings/privateTypeIndex.ttl"]}),!i&&de.jsxs("li",{children:["Create inbox ",A+"inbox/"]}),!r&&_.length===0&&de.jsxs("li",{children:["Setup hospex document and storage ",pe]}),!r&&_.length>0&&de.jsxs("li",{children:[de.jsx("legend",{children:"Setup hospex document and storage"}),de.jsxs("fieldset",{className:gv.storageOptions,children:[de.jsx("legend",{children:"You already seem to be a member of some hospitality exchange (hospex) communities. Would you like to:"}),de.jsxs("div",{className:gv.option,children:[de.jsx("input",{required:!0,type:"radio",id:"new-hospex-document",name:"hospexDocument",value:pe,checked:pe===Z,onChange:ce=>{fe(ce.target.value),se(!1)}})," ",de.jsxs("label",{htmlFor:"new-hospex-document",children:["Set up new data for this community (",new URL(ri(pe)).pathname,")"]})]}),de.jsxs("div",{children:[de.jsxs("legend",{children:["Or use data (profile, hosting offers, etc.) from one of your existing communities?"," ",de.jsx("i",{children:"(Recommended for similar communities)"})]}),_.map(({hospexDocument:ce,communities:le},Oe)=>de.jsxs("div",{className:gv.option,children:[de.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${Oe}`,name:"hospexDocument",value:ce,checked:ce===Z,onChange:()=>{fe(ce),se(!0)}})," ",de.jsxs("label",{htmlFor:`hospexDocument-${Oe}`,children:[le.map(k=>k.name??k.uri).join(", ")," (",new URL(ri(ce)).pathname,")"]})]},ce))]})]})]}),(!a||a==="unverified")&&de.jsxs("li",{children:[!a&&de.jsxs("div",{children:["Setup email notifications"," ",de.jsx("input",{type:"email",placeholder:"Your email",value:Y,onChange:ce=>q(ce.target.value)})]}),a==="unverified"&&de.jsx("div",{children:"Please verify your email"})]}),!o&&de.jsx("li",{children:p?de.jsxs("div",{children:[de.jsx("div",{children:"Please verify your email. It may take a few minutes — check your inbox and Spam folder."}),de.jsxs("div",{children:["Email didn't arrive?"," ",de.jsx(Vr,{secondary:!0,onClick:y,children:"Try again"})]})]}):de.jsxs("div",{children:["Setup simple email notifications"," ",de.jsx("input",{required:!0,type:"email",placeholder:"Your email",value:Y,onChange:ce=>q(ce.target.value)})]})})]}),de.jsx(Vr,{primary:!0,type:"submit",children:"Continue!"})]})]}):de.jsx(Sa,{children:"Searching your storage..."})},G0e=()=>{const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=Un(),r=ko(Ud),[i,a]=ae.useState(!1),o=Qg(r.webId??"",t??""),s=a9(o,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments"]),c=a0e(r.webId,n==="simple"?e:""),f=i0e(o.inboxes[0],n==="solid"?e:"");if(Object.values(o).every(m=>m)&&c===!0&&f===!0)return de.jsx(v0,{});const p=Object.entries(s).filter(([,m])=>m===void 0).map(([m])=>m);return c===void 0&&p.push("isSimpleEmailNotifications"),f===void 0&&p.push("isEmailNotifications"),Object.values(o).some(m=>m===void 0)||c===void 0||f===void 0?de.jsxs(Sa,{children:["Checking ",p.join(", ")]}):de.jsx(K0e,{...o,isSimpleEmailNotifications:c,isEmailNotifications:f,onNotificationsInitialized:()=>a(!0),onNotificationsInitializedTryAgain:()=>a(!1),isNotificationsInitialized:i})};var mv={exports:{}},Yu={},yv={exports:{}},ao={},vv={exports:{}},c4;function l9(){return c4||(c4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(p,m){return m.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function o(p){var m=p.offsetWidth<=0&&p.offsetHeight<=0;if(m&&!p.innerHTML)return!0;try{var y=window.getComputedStyle(p),_=y.getPropertyValue("display");return m?_!==r&&a(p,y):_===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(p){for(var m=p,y=p.getRootNode&&p.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function c(p,m){var y=p.nodeName.toLowerCase(),_=i.test(y)&&!p.disabled||y==="a"&&p.href||m;return _&&s(p)}function f(p){var m=p.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&c(p,!y)}function h(p){var m=[].slice.call(p.querySelectorAll("*"),0).reduce(function(y,_){return y.concat(_.shadowRoot?h(_.shadowRoot):[_])},[]);return m.filter(f)}t.exports=e.default}(vv,vv.exports)),vv.exports}var f4;function W0e(){if(f4)return ao;f4=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.resetState=o,ao.log=s,ao.handleBlur=c,ao.handleFocus=f,ao.markForFocusLater=h,ao.returnFocus=p,ao.popWithoutFocus=m,ao.setupScopedFocus=y,ao.teardownScopedFocus=_;var t=l9(),e=n(t);function n(b){return b&&b.__esModule?b:{default:b}}var r=[],i=null,a=!1;function o(){r=[]}function s(){}function c(){a=!0}function f(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var b=(0,e.default)(i)[0]||i;b.focus()}},0)}}function h(){r.push(document.activeElement)}function p(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=null;try{r.length!==0&&(S=r.pop(),S.focus({preventScroll:b}));return}catch{console.warn(["You tried to return focus to",S,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(b){i=b,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",f))}function _(){i=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",f))}return ao}var _v={exports:{}},d4;function Q0e(){return d4||(d4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=l9(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?a(s.activeElement.shadowRoot):s.activeElement}function o(s,c){var f=(0,r.default)(s);if(!f.length){c.preventDefault();return}var h=void 0,p=c.shiftKey,m=f[0],y=f[f.length-1],_=a();if(s===_){if(!p)return;h=y}if(y===_&&!p&&(h=m),m===_&&p&&(h=y),h){c.preventDefault(),h.focus();return}var b=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=b!=null&&b[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var x=f.indexOf(_);if(x>-1&&(x+=p?-1:1),h=f[x],typeof h>"u"){c.preventDefault(),h=p?y:m,h.focus();return}c.preventDefault(),h.focus()}}t.exports=e.default}(_v,_v.exports)),_v.exports}var So={},d2,h4;function Z0e(){if(h4)return d2;h4=1;var t=function(){};return d2=t,d2}var Jo={},h2={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var p4;function J0e(){return p4||(p4=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(h2)),h2.exports}var g4;function FR(){if(g4)return Jo;g4=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.canUseDOM=Jo.SafeNodeList=Jo.SafeHTMLCollection=void 0;var t=J0e(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return Jo.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Jo.SafeNodeList=r.canUseDOM?window.NodeList:{},Jo.canUseDOM=r.canUseDOM,Jo.default=i,Jo}var m4;function c9(){if(m4)return So;m4=1,Object.defineProperty(So,"__esModule",{value:!0}),So.resetState=a,So.log=o,So.assertNodeList=s,So.setElement=c,So.validateElement=f,So.hide=h,So.show=p,So.documentNotReadyOrSSRTesting=m;var t=Z0e(),e=r(t),n=FR();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function o(){}function s(y,_){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+_+".")}function c(y){var _=y;if(typeof _=="string"&&n.canUseDOM){var b=document.querySelectorAll(_);s(b,_),_=b}return i=_||i,i}function f(y){var _=y||i;return _?Array.isArray(_)||_ instanceof HTMLCollection||_ instanceof NodeList?_:[_]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(y){var _=!0,b=!1,S=void 0;try{for(var x=f(y)[Symbol.iterator](),E;!(_=(E=x.next()).done);_=!0){var A=E.value;A.setAttribute("aria-hidden","true")}}catch(I){b=!0,S=I}finally{try{!_&&x.return&&x.return()}finally{if(b)throw S}}}function p(y){var _=!0,b=!1,S=void 0;try{for(var x=f(y)[Symbol.iterator](),E;!(_=(E=x.next()).done);_=!0){var A=E.value;A.removeAttribute("aria-hidden")}}catch(I){b=!0,S=I}finally{try{!_&&x.return&&x.return()}finally{if(b)throw S}}}function m(){i=null}return So}var pc={},y4;function Y0e(){if(y4)return pc;y4=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.resetState=r,pc.log=i;var t={},e={};function n(f,h){f.classList.remove(h)}function r(){var f=document.getElementsByTagName("html")[0];for(var h in t)n(f,t[h]);var p=document.body;for(var m in e)n(p,e[m]);t={},e={}}function i(){}var a=function(h,p){return h[p]||(h[p]=0),h[p]+=1,p},o=function(h,p){return h[p]&&(h[p]-=1),p},s=function(h,p,m){m.forEach(function(y){a(p,y),h.add(y)})},c=function(h,p,m){m.forEach(function(y){o(p,y),p[y]===0&&h.remove(y)})};return pc.add=function(h,p){return s(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},pc.remove=function(h,p){return c(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},pc}var Gf={},v4;function f9(){if(v4)return Gf;v4=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.log=r,Gf.resetState=i;function t(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var e=function a(){var o=this;t(this,a),this.register=function(s){o.openInstances.indexOf(s)===-1&&(o.openInstances.push(s),o.emit("register"))},this.deregister=function(s){var c=o.openInstances.indexOf(s);c!==-1&&(o.openInstances.splice(c,1),o.emit("deregister"))},this.subscribe=function(s){o.subscribers.push(s)},this.emit=function(s){o.subscribers.forEach(function(c){return c(s,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new e}return Gf.default=n,Gf}var rg={},_4;function X0e(){if(_4)return rg;_4=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.resetState=o,rg.log=s;var t=f9(),e=n(t);function n(h){return h&&h.__esModule?h:{default:h}}var r=void 0,i=void 0,a=[];function o(){for(var h=[r,i],p=0;p<h.length;p++){var m=h[p];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function s(){console.log("bodyTrap ----------"),console.log(a.length);for(var h=[r,i],p=0;p<h.length;p++){var m=h[p],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function c(){a.length!==0&&a[a.length-1].focusContent()}function f(h,p){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",c),i=r.cloneNode(),i.addEventListener("focus",c)),a=p,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(f),rg}var w4;function ewe(){return w4||(w4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(se){for(var pe=1;pe<arguments.length;pe++){var be=arguments[pe];for(var ce in be)Object.prototype.hasOwnProperty.call(be,ce)&&(se[ce]=be[ce])}return se},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},i=function(){function se(pe,be){for(var ce=0;ce<be.length;ce++){var le=be[ce];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(pe,le.key,le)}}return function(pe,be,ce){return be&&se(pe.prototype,be),ce&&se(pe,ce),pe}}(),a=Nd(),o=sq(),s=M(o),c=W0e(),f=I(c),h=Q0e(),p=M(h),m=c9(),y=I(m),_=Y0e(),b=I(_),S=FR(),x=M(S),E=f9(),A=M(E);X0e();function I(se){if(se&&se.__esModule)return se;var pe={};if(se!=null)for(var be in se)Object.prototype.hasOwnProperty.call(se,be)&&(pe[be]=se[be]);return pe.default=se,pe}function M(se){return se&&se.__esModule?se:{default:se}}function D(se,pe){if(!(se instanceof pe))throw new TypeError("Cannot call a class as a function")}function j(se,pe){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:se}function Q(se,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);se.prototype=Object.create(pe&&pe.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(se,pe):se.__proto__=pe)}var Y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},q=function(pe){return pe.code==="Tab"||pe.keyCode===9},Z=function(pe){return pe.code==="Escape"||pe.keyCode===27},fe=0,te=function(se){Q(pe,se);function pe(be){D(this,pe);var ce=j(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,be));return ce.setOverlayRef=function(le){ce.overlay=le,ce.props.overlayRef&&ce.props.overlayRef(le)},ce.setContentRef=function(le){ce.content=le,ce.props.contentRef&&ce.props.contentRef(le)},ce.afterClose=function(){var le=ce.props,Oe=le.appElement,k=le.ariaHideApp,ne=le.htmlOpenClassName,me=le.bodyOpenClassName,H=le.parentSelector,J=H&&H().ownerDocument||document;me&&b.remove(J.body,me),ne&&b.remove(J.getElementsByTagName("html")[0],ne),k&&fe>0&&(fe-=1,fe===0&&y.show(Oe)),ce.props.shouldFocusAfterRender&&(ce.props.shouldReturnFocusAfterClose?(f.returnFocus(ce.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),ce.props.onAfterClose&&ce.props.onAfterClose(),A.default.deregister(ce)},ce.open=function(){ce.beforeOpen(),ce.state.afterOpen&&ce.state.beforeClose?(clearTimeout(ce.closeTimer),ce.setState({beforeClose:!1})):(ce.props.shouldFocusAfterRender&&(f.setupScopedFocus(ce.node),f.markForFocusLater()),ce.setState({isOpen:!0},function(){ce.openAnimationFrame=requestAnimationFrame(function(){ce.setState({afterOpen:!0}),ce.props.isOpen&&ce.props.onAfterOpen&&ce.props.onAfterOpen({overlayEl:ce.overlay,contentEl:ce.content})})}))},ce.close=function(){ce.props.closeTimeoutMS>0?ce.closeWithTimeout():ce.closeWithoutTimeout()},ce.focusContent=function(){return ce.content&&!ce.contentHasFocus()&&ce.content.focus({preventScroll:!0})},ce.closeWithTimeout=function(){var le=Date.now()+ce.props.closeTimeoutMS;ce.setState({beforeClose:!0,closesAt:le},function(){ce.closeTimer=setTimeout(ce.closeWithoutTimeout,ce.state.closesAt-Date.now())})},ce.closeWithoutTimeout=function(){ce.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},ce.afterClose)},ce.handleKeyDown=function(le){q(le)&&(0,p.default)(ce.content,le),ce.props.shouldCloseOnEsc&&Z(le)&&(le.stopPropagation(),ce.requestClose(le))},ce.handleOverlayOnClick=function(le){ce.shouldClose===null&&(ce.shouldClose=!0),ce.shouldClose&&ce.props.shouldCloseOnOverlayClick&&(ce.ownerHandlesClose()?ce.requestClose(le):ce.focusContent()),ce.shouldClose=null},ce.handleContentOnMouseUp=function(){ce.shouldClose=!1},ce.handleOverlayOnMouseDown=function(le){!ce.props.shouldCloseOnOverlayClick&&le.target==ce.overlay&&le.preventDefault()},ce.handleContentOnClick=function(){ce.shouldClose=!1},ce.handleContentOnMouseDown=function(){ce.shouldClose=!1},ce.requestClose=function(le){return ce.ownerHandlesClose()&&ce.props.onRequestClose(le)},ce.ownerHandlesClose=function(){return ce.props.onRequestClose},ce.shouldBeClosed=function(){return!ce.state.isOpen&&!ce.state.beforeClose},ce.contentHasFocus=function(){return document.activeElement===ce.content||ce.content.contains(document.activeElement)},ce.buildClassName=function(le,Oe){var k=(typeof Oe>"u"?"undefined":r(Oe))==="object"?Oe:{base:Y[le],afterOpen:Y[le]+"--after-open",beforeClose:Y[le]+"--before-close"},ne=k.base;return ce.state.afterOpen&&(ne=ne+" "+k.afterOpen),ce.state.beforeClose&&(ne=ne+" "+k.beforeClose),typeof Oe=="string"&&Oe?ne+" "+Oe:ne},ce.attributesFromObject=function(le,Oe){return Object.keys(Oe).reduce(function(k,ne){return k[le+"-"+ne]=Oe[ne],k},{})},ce.state={afterOpen:!1,beforeClose:!1},ce.shouldClose=null,ce.moveFromContentToOverlay=null,ce}return i(pe,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(ce,le){this.props.isOpen&&!ce.isOpen?this.open():!this.props.isOpen&&ce.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!le.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var ce=this.props,le=ce.appElement,Oe=ce.ariaHideApp,k=ce.htmlOpenClassName,ne=ce.bodyOpenClassName,me=ce.parentSelector,H=me&&me().ownerDocument||document;ne&&b.add(H.body,ne),k&&b.add(H.getElementsByTagName("html")[0],k),Oe&&(fe+=1,y.hide(le)),A.default.register(this)}},{key:"render",value:function(){var ce=this.props,le=ce.id,Oe=ce.className,k=ce.overlayClassName,ne=ce.defaultStyles,me=ce.children,H=Oe?{}:ne.content,J=k?{}:ne.overlay;if(this.shouldBeClosed())return null;var ge={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},J,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ae=n({id:le,ref:this.setContentRef,style:n({},H,this.props.style.content),className:this.buildClassName("content",Oe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Je=this.props.contentElement(Ae,me);return this.props.overlayElement(ge,Je)}}]),pe}(a.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(x.default),s.default.instanceOf(S.SafeHTMLCollection),s.default.instanceOf(S.SafeNodeList),s.default.arrayOf(s.default.instanceOf(x.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=te,t.exports=e.default}(yv,yv.exports)),yv.exports}function d9(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function h9(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function p9(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}d9.__suppressDeprecationWarning=!0;h9.__suppressDeprecationWarning=!0;p9.__suppressDeprecationWarning=!0;function twe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=d9,e.componentWillReceiveProps=h9),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=p9;var s=e.componentDidUpdate;e.componentDidUpdate=function(f,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;s.call(this,f,h,m)}}return t}const nwe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:twe},Symbol.toStringTag,{value:"Module"})),rwe=r5(nwe);var b4;function iwe(){if(b4)return Yu;b4=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.bodyOpenClassName=Yu.portalClassName=void 0;var t=Object.assign||function(Z){for(var fe=1;fe<arguments.length;fe++){var te=arguments[fe];for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(Z[se]=te[se])}return Z},e=function(){function Z(fe,te){for(var se=0;se<te.length;se++){var pe=te[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(fe,pe.key,pe)}}return function(fe,te,se){return te&&Z(fe.prototype,te),se&&Z(fe,se),fe}}(),n=Nd(),r=S(n),i=mA(),a=S(i),o=sq(),s=S(o),c=ewe(),f=S(c),h=c9(),p=b(h),m=FR(),y=S(m),_=rwe;function b(Z){if(Z&&Z.__esModule)return Z;var fe={};if(Z!=null)for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&(fe[te]=Z[te]);return fe.default=Z,fe}function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function x(Z,fe){if(!(Z instanceof fe))throw new TypeError("Cannot call a class as a function")}function E(Z,fe){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:Z}function A(Z,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);Z.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,fe):Z.__proto__=fe)}var I=Yu.portalClassName="ReactModalPortal",M=Yu.bodyOpenClassName="ReactModal__Body--open",D=m.canUseDOM&&a.default.createPortal!==void 0,j=function(fe){return document.createElement(fe)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function Y(Z){return Z()}var q=function(Z){A(fe,Z);function fe(){var te,se,pe,be;x(this,fe);for(var ce=arguments.length,le=Array(ce),Oe=0;Oe<ce;Oe++)le[Oe]=arguments[Oe];return be=(se=(pe=E(this,(te=fe.__proto__||Object.getPrototypeOf(fe)).call.apply(te,[this].concat(le))),pe),pe.removePortal=function(){!D&&a.default.unmountComponentAtNode(pe.node);var k=Y(pe.props.parentSelector);k&&k.contains(pe.node)?k.removeChild(pe.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},pe.portalRef=function(k){pe.portal=k},pe.renderPortal=function(k){var ne=Q(),me=ne(pe,r.default.createElement(f.default,t({defaultStyles:fe.defaultStyles},k)),pe.node);pe.portalRef(me)},se),E(pe,be)}return e(fe,[{key:"componentDidMount",value:function(){if(m.canUseDOM){D||(this.node=j("div")),this.node.className=this.props.portalClassName;var se=Y(this.props.parentSelector);se.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(se){var pe=Y(se.parentSelector),be=Y(this.props.parentSelector);return{prevParent:pe,nextParent:be}}},{key:"componentDidUpdate",value:function(se,pe,be){if(m.canUseDOM){var ce=this.props,le=ce.isOpen,Oe=ce.portalClassName;se.portalClassName!==Oe&&(this.node.className=Oe);var k=be.prevParent,ne=be.nextParent;ne!==k&&(k.removeChild(this.node),ne.appendChild(this.node)),!(!se.isOpen&&!le)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var se=this.portal.state,pe=Date.now(),be=se.isOpen&&this.props.closeTimeoutMS&&(se.closesAt||pe+this.props.closeTimeoutMS);be?(se.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,be-pe)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!D)return null;!this.node&&D&&(this.node=j("div"));var se=Q();return se(r.default.createElement(f.default,t({ref:this.portalRef,defaultStyles:fe.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(se){p.setElement(se)}}]),fe}(n.Component);return q.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(m.SafeHTMLCollection),s.default.instanceOf(m.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},q.defaultProps={isOpen:!1,portalClassName:I,bodyOpenClassName:M,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(fe,te){return r.default.createElement("div",fe,te)},contentElement:function(fe,te){return r.default.createElement("div",fe,te)}},q.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,_.polyfill)(q),Yu.default=q,Yu}var S4;function awe(){return S4||(S4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=iwe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,t.exports=e.default}(mv,mv.exports)),mv.exports}var owe=awe();const g9=Gr(owe),swe="_modal_zohdb_1",uwe="_overlay_zohdb_12",x4={modal:swe,overlay:uwe};g9.setAppElement("#root");const tw=({className:t,overlayClassName:e,...n})=>de.jsx(g9,{className:ii(x4.modal,t),overlayClassName:ii(x4.overlay,e),...n}),lwe="_container_1buxd_1",cwe="_content_1buxd_18",fwe="_podOptions_1buxd_18",dwe="_tabs_1buxd_18",hwe="_tabContent_1buxd_38",pwe="_footer_1buxd_41",gwe="_email_1buxd_41",gc={container:lwe,content:cwe,podOptions:fwe,tabs:dwe,tabContent:hwe,footer:pwe,email:gwe},p2=({issuer:t,registration:e,children:n})=>{const r=Gd();return de.jsx(Cce,{secondary:!0,href:e,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(K_.setLastSelectedIssuer(t))},"data-cy":"pod-provider-signup-link",children:n??new URL(t).hostname})},mwe=()=>{const{oidcIssuers:t,communityId:e}=Un(),r=gu(e).name||"SolidCouch";return ae.useMemo(()=>[{id:"show-options",label:"Show me some providers!",content:de.jsxs(de.Fragment,{children:["Here are some Pod providers that work with ",r,":",de.jsx("ul",{children:t.filter(a=>a.registration).map(a=>de.jsx("li",{children:de.jsx(p2,{...a})},a.issuer))})]})},{id:"choose-for-me",label:"Choose for me!",content:de.jsxs(de.Fragment,{children:[de.jsx(p2,{...t.find(a=>a.recommended),children:"Get a Pod at solidcommunity.net 😉"}),de.jsx("br",{}),"It is managed by the Solid community folks, and will be migrated to a"," ",de.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer",children:"modern and open-source Solid server"}),"."]})},{id:"more-control",label:"I want more control",content:de.jsxs(de.Fragment,{children:[de.jsxs("p",{children:["You can ",de.jsx("b",{children:"host your Pod"}),". This will give you full control over your data. However, it's more complicated to set up, and requires maintenance. We recommend"," ",de.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer",children:"Community Solid Server"}),"."]}),de.jsx("p",{children:de.jsxs("i",{children:["Read more about"," ",de.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer",children:"running your own Solid server"}),"."]})}),de.jsx("hr",{}),de.jsxs("p",{children:["If you own a ",de.jsx("b",{children:"domain name"}),", you can have your"," ",de.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer",children:"WebID"})," ","on your domain. This gives you more control over your Solid identity."]}),de.jsxs("p",{children:["Choose option ",de.jsx("i",{children:'"Use my existing WebID to access my Pod"'})," with one of these providers:"]}),de.jsx("ul",{children:t.filter(({server:a,registration:o})=>o&&a==="CSS").map(a=>de.jsx("li",{children:de.jsx(p2,{...a})},a.issuer))}),de.jsx("p",{children:"To complete the process, you must prove that the WebID on your domain belongs to you. Afterwards, the WebID must point to your Profile Document. (This may need more explanation.)"}),de.jsx("p",{children:"Or use your domain to host your own Solid Pod."})]})}],[r,t])},ywe=()=>{var f;const[t,e]=ae.useState(!1),[n,r]=ae.useState(),{communityId:i}=Un(),o=gu(i).name||"SolidCouch",s=h=>{r(h.target.value)},c=mwe();return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{primary:!0,onClick:()=>e(!0),children:"Join"}),de.jsx(tw,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>e(!1),children:de.jsxs("div",{className:gc.container,children:[de.jsxs("div",{className:gc.content,children:["To join ",o,", you need a"," ",de.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer",children:"Solid Pod"}),".",de.jsxs("div",{className:gc.podOptions,children:[de.jsx("div",{className:gc.tabs,children:c.map(h=>de.jsxs(ae.Fragment,{children:[de.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:s}),de.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),de.jsx("div",{className:gc.tabContent,children:de.jsx("p",{children:(f=c.find(h=>h.id===n))==null?void 0:f.content})})]})]}),de.jsxs("div",{className:gc.footer,children:["Do you have troubles joining?"," ",de.jsx("a",{href:"https://matrix.to/#/#ohn:matrix.org",target:"_blank",rel:"noopener noreferrer",children:"Ask for help in our project spaces"})," ","or write us email to"," ",de.jsx("i",{className:gc.email,children:'"support at solidcouch dot org"'})]})]})})]})},vwe=async t=>{const{data:e}=await nq(t);return Zn.createLdoDataset(e).usingType(q8).fromSubject(t).oidcIssuer.flatMap(r=>r["@id"]??[])},_we=async t=>{try{const e=await vwe(t);if(e.length===0)throw new Error("OIDC issuer not found");return e[0]}catch{return t}},wwe=(t,e)=>{var r;const n=new URL(t);return(r=e.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},m9=t=>{const e=t.trim();return e.startsWith("http")?e:`https://${e}`},bwe=(t,e)=>{const n=m9(t);return wwe(n,e)??n},Swe=async(t,e)=>{const n=m9(t),r=await _we(n);return bwe(r,e)??r};var Cm=t=>t.type==="checkbox",rd=t=>t instanceof Date,aa=t=>t==null;const y9=t=>typeof t=="object";var li=t=>!aa(t)&&!Array.isArray(t)&&y9(t)&&!rd(t),v9=t=>li(t)&&t.target?Cm(t.target)?t.target.checked:t.target.value:t,xwe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,_9=(t,e)=>t.has(xwe(e)),Am=t=>Array.isArray(t)?t.filter(Boolean):[],ei=t=>t===void 0,$t=(t,e,n)=>{if(!e||!li(t))return n;const r=Am(e.split(/[,[\].]+?/)).reduce((i,a)=>aa(i)?i:i[a],t);return ei(r)||r===t?ei(t[e])?n:t[e]:r};const n0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ewe=Gt.createContext(null),jR=()=>Gt.useContext(Ewe);var w9=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Io.all&&(e._proxyFormState[o]=!r||Io.all),n&&(n[o]=!0),t[o]}});return i},uo=t=>li(t)&&!Object.keys(t).length,b9=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return uo(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Io.all))},A_=t=>Array.isArray(t)?t:[t],S9=(t,e,n)=>n&&e?t===e:!t||!e||t===e||A_(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function $R(t){const e=Gt.useRef(t);e.current=t,Gt.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Twe(t){const e=jR(),{control:n=e.control,disabled:r,name:i,exact:a}=t,[o,s]=Gt.useState(n._formState),c=Gt.useRef(!0),f=Gt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Gt.useRef(i);return h.current=i,$R({disabled:r,next:p=>c.current&&S9(h.current,p.name,a)&&b9(p,f.current,n._updateFormState)&&s({...n._formState,...p}),subject:n._subjects.state}),Gt.useEffect(()=>{c.current=!0;const p=n._proxyFormState.isDirty&&n._getDirty();return p!==n._formState.isDirty&&n._subjects.state.next({isDirty:p}),f.current.isValid&&n._updateValid(!0),()=>{c.current=!1}},[n]),w9(o,n,f.current,!1)}var cs=t=>typeof t=="string",x9=(t,e,n,r,i)=>cs(t)?(r&&e.watch.add(t),$t(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),$t(n,a))):(r&&(e.watchAll=!0),n),Cwe=t=>{const e=t.constructor&&t.constructor.prototype;return li(e)&&e.hasOwnProperty("isPrototypeOf")},UR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function il(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(UR&&(t instanceof Blob||t instanceof FileList))&&(n||li(t)))if(e=n?[]:{},!Array.isArray(t)&&!Cwe(t))e=t;else for(const r in t)e[r]=il(t[r]);else return t;return e}function Awe(t){const e=jR(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t,s=Gt.useRef(r);s.current=r,$R({disabled:a,subject:n._subjects.watch,next:h=>{S9(s.current,h.name,o)&&f(il(x9(s.current,n._names,h.values||n._formValues,!1,i)))}});const[c,f]=Gt.useState(n._getWatch(r,i));return Gt.useEffect(()=>n._removeUnmounted()),c}function Rwe(t){const e=jR(),{name:n,control:r=e.control,shouldUnregister:i}=t,a=_9(r._names.array,n),o=Awe({control:r,name:n,defaultValue:$t(r._formValues,n,$t(r._defaultValues,n,t.defaultValue)),exact:!0}),s=Twe({control:r,name:n}),c=Gt.useRef(r.register(n,{...t.rules,value:o}));return Gt.useEffect(()=>{const f=(h,p)=>{const m=$t(r._fields,h);m&&(m._f.mount=p)};return f(n,!0),()=>{const h=r._options.shouldUnregister||i;(a?h&&!r._stateFlags.action:h)?r.unregister(n):f(n,!1)}},[n,r,a,i]),{field:{name:n,value:o,onChange:Gt.useCallback(f=>c.current.onChange({target:{value:v9(f),name:n},type:n0.CHANGE}),[n]),onBlur:Gt.useCallback(()=>c.current.onBlur({target:{value:$t(r._formValues,n),name:n},type:n0.BLUR}),[n,r]),ref:f=>{const h=$t(r._fields,n);h&&f&&(h._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:p=>f.setCustomValidity(p),reportValidity:()=>f.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$t(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!$t(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$t(s.touchedFields,n)},error:{enumerable:!0,get:()=>$t(s.errors,n)}})}}const Pwe=t=>t.render(Rwe(t));var E9=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},BR=t=>/^\w*$/.test(t),T9=t=>Am(t.replace(/["|']|\]/g,"").split(/\.|\[/));function yr(t,e,n){let r=-1;const i=BR(e)?[e]:T9(e),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let c=n;if(r!==o){const f=t[s];c=li(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}t[s]=c,t=t[s]}return t}const QC=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=$t(t,r);if(i){const{_f:a,...o}=i;if(a&&e(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else li(o)&&QC(o,e)}}};var E4=t=>({isOnSubmit:!t||t===Io.onSubmit,isOnBlur:t===Io.onBlur,isOnChange:t===Io.onChange,isOnAll:t===Io.all,isOnTouch:t===Io.onTouched}),T4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Owe=(t,e,n)=>{const r=Am($t(t,n));return yr(r,"root",e[n]),yr(t,n,r),t},ld=t=>typeof t=="boolean",qR=t=>t.type==="file",cd=t=>typeof t=="function",r0=t=>{if(!UR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},R_=t=>cs(t)||Gt.isValidElement(t),zR=t=>t.type==="radio",i0=t=>t instanceof RegExp;const C4={value:!1,isValid:!1},A4={value:!0,isValid:!0};var C9=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ei(t[0].attributes.value)?ei(t[0].value)||t[0].value===""?A4:{value:t[0].value,isValid:!0}:A4:C4}return C4};const R4={isValid:!1,value:null};var A9=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,R4):R4;function P4(t,e,n="validate"){if(R_(t)||Array.isArray(t)&&t.every(R_)||ld(t)&&!t)return{type:n,message:R_(t)?t:"",ref:e}}var Wf=t=>li(t)&&!i0(t)?t:{value:t,message:""},O4=async(t,e,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:c,minLength:f,min:h,max:p,pattern:m,validate:y,name:_,valueAsNumber:b,mount:S,disabled:x}=t._f,E=$t(e,_);if(!S||x)return{};const A=o?o[0]:a,I=fe=>{r&&A.reportValidity&&(A.setCustomValidity(ld(fe)?"":fe||""),A.reportValidity())},M={},D=zR(a),j=Cm(a),Q=D||j,Y=(b||qR(a))&&ei(a.value)&&ei(E)||r0(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,q=E9.bind(null,_,n,M),Z=(fe,te,se,pe=Ws.maxLength,be=Ws.minLength)=>{const ce=fe?te:se;M[_]={type:fe?pe:be,message:ce,ref:a,...q(fe?pe:be,ce)}};if(i?!Array.isArray(E)||!E.length:s&&(!Q&&(Y||aa(E))||ld(E)&&!E||j&&!C9(o).isValid||D&&!A9(o).isValid)){const{value:fe,message:te}=R_(s)?{value:!!s,message:s}:Wf(s);if(fe&&(M[_]={type:Ws.required,message:te,ref:A,...q(Ws.required,te)},!n))return I(te),M}if(!Y&&(!aa(h)||!aa(p))){let fe,te;const se=Wf(p),pe=Wf(h);if(!aa(E)&&!isNaN(E)){const be=a.valueAsNumber||E&&+E;aa(se.value)||(fe=be>se.value),aa(pe.value)||(te=be<pe.value)}else{const be=a.valueAsDate||new Date(E),ce=k=>new Date(new Date().toDateString()+" "+k),le=a.type=="time",Oe=a.type=="week";cs(se.value)&&E&&(fe=le?ce(E)>ce(se.value):Oe?E>se.value:be>new Date(se.value)),cs(pe.value)&&E&&(te=le?ce(E)<ce(pe.value):Oe?E<pe.value:be<new Date(pe.value))}if((fe||te)&&(Z(!!fe,se.message,pe.message,Ws.max,Ws.min),!n))return I(M[_].message),M}if((c||f)&&!Y&&(cs(E)||i&&Array.isArray(E))){const fe=Wf(c),te=Wf(f),se=!aa(fe.value)&&E.length>fe.value,pe=!aa(te.value)&&E.length<te.value;if((se||pe)&&(Z(se,fe.message,te.message),!n))return I(M[_].message),M}if(m&&!Y&&cs(E)){const{value:fe,message:te}=Wf(m);if(i0(fe)&&!E.match(fe)&&(M[_]={type:Ws.pattern,message:te,ref:a,...q(Ws.pattern,te)},!n))return I(te),M}if(y){if(cd(y)){const fe=await y(E,e),te=P4(fe,A);if(te&&(M[_]={...te,...q(Ws.validate,te.message)},!n))return I(te.message),M}else if(li(y)){let fe={};for(const te in y){if(!uo(fe)&&!n)break;const se=P4(await y[te](E,e),A,te);se&&(fe={...se,...q(te,se.message)},I(se.message),n&&(M[_]=fe))}if(!uo(fe)&&(M[_]={ref:A,...fe},!n))return M}}return I(!0),M};function Lwe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ei(t)?r++:t[e[r++]];return t}function Iwe(t){for(const e in t)if(!ei(t[e]))return!1;return!0}function Ai(t,e){const n=Array.isArray(e)?e:BR(e)?[e]:T9(e),r=n.length===1?t:Lwe(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(li(r)&&uo(r)||Array.isArray(r)&&Iwe(r))&&Ai(t,n.slice(0,-1)),t}function g2(){let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}}var a0=t=>aa(t)||!y9(t);function Ac(t,e){if(a0(t)||a0(e))return t===e;if(rd(t)&&rd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(rd(a)&&rd(o)||li(a)&&li(o)||Array.isArray(a)&&Array.isArray(o)?!Ac(a,o):a!==o)return!1}}return!0}var R9=t=>t.type==="select-multiple",Mwe=t=>zR(t)||Cm(t),m2=t=>r0(t)&&t.isConnected,P9=t=>{for(const e in t)if(cd(t[e]))return!0;return!1};function o0(t,e={}){const n=Array.isArray(t);if(li(t)||n)for(const r in t)Array.isArray(t[r])||li(t[r])&&!P9(t[r])?(e[r]=Array.isArray(t[r])?[]:{},o0(t[r],e[r])):aa(t[r])||(e[r]=!0);return e}function O9(t,e,n){const r=Array.isArray(t);if(li(t)||r)for(const i in t)Array.isArray(t[i])||li(t[i])&&!P9(t[i])?ei(e)||a0(n[i])?n[i]=Array.isArray(t[i])?o0(t[i],[]):{...o0(t[i])}:O9(t[i],aa(e)?{}:e[i],n[i]):Ac(t[i],e[i])?delete n[i]:n[i]=!0;return n}var y2=(t,e)=>O9(t,e,o0(e)),L9=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ei(t)?t:e?t===""?NaN:t&&+t:n&&cs(t)?new Date(t):r?r(t):t;function v2(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return qR(e)?e.files:zR(e)?A9(t.refs).value:R9(e)?[...e.selectedOptions].map(({value:n})=>n):Cm(e)?C9(t.refs).value:L9(ei(e.value)?t.ref.value:e.value,t)}var Dwe=(t,e,n,r)=>{const i={};for(const a of t){const o=$t(e,a);o&&yr(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ig=t=>ei(t)?t:i0(t)?t.source:li(t)?i0(t.value)?t.value.source:t.value:t,kwe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function L4(t,e,n){const r=$t(t,n);if(r||BR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=$t(e,a),s=$t(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var Nwe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Fwe=(t,e)=>!Am($t(t,e)).length&&Ai(t,e);const jwe={mode:Io.onSubmit,reValidateMode:Io.onChange,shouldFocusError:!0};function $we(t={},e){let n={...jwe,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=li(n.defaultValues)||li(n.values)?il(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:il(o),c={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:g2(),array:g2(),state:g2()},_=E4(n.mode),b=E4(n.reValidateMode),S=n.criteriaMode===Io.all,x=W=>he=>{clearTimeout(p),p=window.setTimeout(W,he)},E=async W=>{if(m.isValid||W){const he=n.resolver?uo((await Y()).errors):await Z(a,!0);he!==i.isValid&&y.state.next({isValid:he})}},A=W=>m.isValidating&&y.state.next({isValidating:W}),I=(W,he=[],ye,He,Te=!0,Ne=!0)=>{if(He&&ye){if(c.action=!0,Ne&&Array.isArray($t(a,W))){const tt=ye($t(a,W),He.argA,He.argB);Te&&yr(a,W,tt)}if(Ne&&Array.isArray($t(i.errors,W))){const tt=ye($t(i.errors,W),He.argA,He.argB);Te&&yr(i.errors,W,tt),Fwe(i.errors,W)}if(m.touchedFields&&Ne&&Array.isArray($t(i.touchedFields,W))){const tt=ye($t(i.touchedFields,W),He.argA,He.argB);Te&&yr(i.touchedFields,W,tt)}m.dirtyFields&&(i.dirtyFields=y2(o,s)),y.state.next({name:W,isDirty:te(W,he),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else yr(s,W,he)},M=(W,he)=>{yr(i.errors,W,he),y.state.next({errors:i.errors})},D=(W,he,ye,He)=>{const Te=$t(a,W);if(Te){const Ne=$t(s,W,ei(ye)?$t(o,W):ye);ei(Ne)||He&&He.defaultChecked||he?yr(s,W,he?Ne:v2(Te._f)):be(W,Ne),c.mount&&E()}},j=(W,he,ye,He,Te)=>{let Ne=!1,tt=!1;const nt={name:W};if(!ye||He){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=te(),Ne=tt!==nt.isDirty);const gt=Ac($t(o,W),he);tt=$t(i.dirtyFields,W),gt?Ai(i.dirtyFields,W):yr(i.dirtyFields,W,!0),nt.dirtyFields=i.dirtyFields,Ne=Ne||m.dirtyFields&&tt!==!gt}if(ye){const gt=$t(i.touchedFields,W);gt||(yr(i.touchedFields,W,ye),nt.touchedFields=i.touchedFields,Ne=Ne||m.touchedFields&&gt!==ye)}return Ne&&Te&&y.state.next(nt),Ne?nt:{}},Q=(W,he,ye,He)=>{const Te=$t(i.errors,W),Ne=m.isValid&&ld(he)&&i.isValid!==he;if(t.delayError&&ye?(h=x(()=>M(W,ye)),h(t.delayError)):(clearTimeout(p),h=null,ye?yr(i.errors,W,ye):Ai(i.errors,W)),(ye?!Ac(Te,ye):Te)||!uo(He)||Ne){const tt={...He,...Ne&&ld(he)?{isValid:he}:{},errors:i.errors,name:W};i={...i,...tt},y.state.next(tt)}A(!1)},Y=async W=>await n.resolver(s,n.context,Dwe(W||f.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),q=async W=>{const{errors:he}=await Y();if(W)for(const ye of W){const He=$t(he,ye);He?yr(i.errors,ye,He):Ai(i.errors,ye)}else i.errors=he;return he},Z=async(W,he,ye={valid:!0})=>{for(const He in W){const Te=W[He];if(Te){const{_f:Ne,...tt}=Te;if(Ne){const nt=f.array.has(Ne.name),gt=await O4(Te,s,S,n.shouldUseNativeValidation,nt);if(gt[Ne.name]&&(ye.valid=!1,he))break;!he&&($t(gt,Ne.name)?nt?Owe(i.errors,gt,Ne.name):yr(i.errors,Ne.name,gt[Ne.name]):Ai(i.errors,Ne.name))}tt&&await Z(tt,he,ye)}}return ye.valid},fe=()=>{for(const W of f.unMount){const he=$t(a,W);he&&(he._f.refs?he._f.refs.every(ye=>!m2(ye)):!m2(he._f.ref))&&Ae(W)}f.unMount=new Set},te=(W,he)=>(W&&he&&yr(s,W,he),!Ac(ne(),o)),se=(W,he,ye)=>x9(W,f,{...c.mount?s:ei(he)?o:cs(W)?{[W]:he}:he},ye,he),pe=W=>Am($t(c.mount?s:o,W,t.shouldUnregister?$t(o,W,[]):[])),be=(W,he,ye={})=>{const He=$t(a,W);let Te=he;if(He){const Ne=He._f;Ne&&(!Ne.disabled&&yr(s,W,L9(he,Ne)),Te=r0(Ne.ref)&&aa(he)?"":he,R9(Ne.ref)?[...Ne.ref.options].forEach(tt=>tt.selected=Te.includes(tt.value)):Ne.refs?Cm(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Te)?!!Te.find(nt=>nt===tt.value):Te===tt.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!Te):Ne.refs.forEach(tt=>tt.checked=tt.value===Te):qR(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Te,Ne.ref.type||y.watch.next({name:W})))}(ye.shouldDirty||ye.shouldTouch)&&j(W,Te,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(W)},ce=(W,he,ye)=>{for(const He in he){const Te=he[He],Ne=`${W}.${He}`,tt=$t(a,Ne);(f.array.has(W)||!a0(Te)||tt&&!tt._f)&&!rd(Te)?ce(Ne,Te,ye):be(Ne,Te,ye)}},le=(W,he,ye={})=>{const He=$t(a,W),Te=f.array.has(W),Ne=il(he);yr(s,W,Ne),Te?(y.array.next({name:W,values:s}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:W,dirtyFields:y2(o,s),isDirty:te(W,Ne)})):He&&!He._f&&!aa(Ne)?ce(W,Ne,ye):be(W,Ne,ye),T4(W,f)&&y.state.next({}),y.watch.next({name:W}),!c.mount&&e()},Oe=async W=>{const he=W.target;let ye=he.name;const He=$t(a,ye),Te=()=>he.type?v2(He._f):v9(W);if(He){let Ne,tt;const nt=Te(),gt=W.type===n0.BLUR||W.type===n0.FOCUS_OUT,Ut=!kwe(He._f)&&!n.resolver&&!$t(i.errors,ye)&&!He._f.deps||Nwe(gt,$t(i.touchedFields,ye),i.isSubmitted,b,_),Se=T4(ye,f,gt);yr(s,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(W),h&&h(0)):He._f.onChange&&He._f.onChange(W);const Be=j(ye,nt,gt,!1),X=!uo(Be)||Se;if(!gt&&y.watch.next({name:ye,type:W.type}),Ut)return m.isValid&&E(),X&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:B}=await Y([ye]),K=L4(i.errors,a,ye),V=L4(B,a,K.name||ye);Ne=V.error,ye=V.name,tt=uo(B)}else Ne=(await O4(He,s,S,n.shouldUseNativeValidation))[ye],Ne?tt=!1:m.isValid&&(tt=await Z(a,!0));He._f.deps&&k(He._f.deps),Q(ye,tt,Ne,Be)}},k=async(W,he={})=>{let ye,He;const Te=A_(W);if(A(!0),n.resolver){const Ne=await q(ei(W)?W:Te);ye=uo(Ne),He=W?!Te.some(tt=>$t(Ne,tt)):ye}else W?(He=(await Promise.all(Te.map(async Ne=>{const tt=$t(a,Ne);return await Z(tt&&tt._f?{[Ne]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&E()):He=ye=await Z(a);return y.state.next({...!cs(W)||m.isValid&&ye!==i.isValid?{}:{name:W},...n.resolver||!W?{isValid:ye}:{},errors:i.errors,isValidating:!1}),he.shouldFocus&&!He&&QC(a,Ne=>Ne&&$t(i.errors,Ne),W?Te:f.mount),He},ne=W=>{const he={...o,...c.mount?s:{}};return ei(W)?he:cs(W)?$t(he,W):W.map(ye=>$t(he,ye))},me=(W,he)=>({invalid:!!$t((he||i).errors,W),isDirty:!!$t((he||i).dirtyFields,W),isTouched:!!$t((he||i).touchedFields,W),error:$t((he||i).errors,W)}),H=W=>{W&&A_(W).forEach(he=>Ai(i.errors,he)),y.state.next({errors:W?i.errors:{}})},J=(W,he,ye)=>{const He=($t(a,W,{_f:{}})._f||{}).ref;yr(i.errors,W,{...he,ref:He}),y.state.next({name:W,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},ge=(W,he)=>cd(W)?y.watch.subscribe({next:ye=>W(se(void 0,he),ye)}):se(W,he,!0),Ae=(W,he={})=>{for(const ye of W?A_(W):f.mount)f.mount.delete(ye),f.array.delete(ye),$t(a,ye)&&(he.keepValue||(Ai(a,ye),Ai(s,ye)),!he.keepError&&Ai(i.errors,ye),!he.keepDirty&&Ai(i.dirtyFields,ye),!he.keepTouched&&Ai(i.touchedFields,ye),!n.shouldUnregister&&!he.keepDefaultValue&&Ai(o,ye));y.watch.next({}),y.state.next({...i,...he.keepDirty?{isDirty:te()}:{}}),!he.keepIsValid&&E()},Je=(W,he={})=>{let ye=$t(a,W);const He=ld(he.disabled);return yr(a,W,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:W}},name:W,mount:!0,...he}}),f.mount.add(W),ye?He&&yr(s,W,he.disabled?void 0:$t(s,W,v2(ye._f))):D(W,!0,he.value),{...He?{disabled:he.disabled}:{},...n.shouldUseNativeValidation?{required:!!he.required,min:ig(he.min),max:ig(he.max),minLength:ig(he.minLength),maxLength:ig(he.maxLength),pattern:ig(he.pattern)}:{},name:W,onChange:Oe,onBlur:Oe,ref:Te=>{if(Te){Je(W,he),ye=$t(a,W);const Ne=ei(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,tt=Mwe(Ne),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Ne):Ne===ye._f.ref)return;yr(a,W,{_f:{...ye._f,...tt?{refs:[...nt.filter(m2),Ne,...Array.isArray($t(o,W))?[{}]:[]],ref:{type:Ne.type,name:W}}:{ref:Ne}}}),D(W,!1,void 0,Ne)}else ye=$t(a,W,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||he.shouldUnregister)&&!(_9(f.array,W)&&c.action)&&f.unMount.add(W)}}},Re=()=>n.shouldFocusError&&QC(a,W=>W&&$t(i.errors,W),f.mount),Fe=(W,he)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=il(s);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Te,values:Ne}=await Y();i.errors=Te,He=Ne}else await Z(a);Ai(i.errors,"root"),uo(i.errors)?(y.state.next({errors:{}}),await W(He,ye)):(he&&await he({...i.errors},ye),Re()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:uo(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Xe=(W,he={})=>{$t(a,W)&&(ei(he.defaultValue)?le(W,$t(o,W)):(le(W,he.defaultValue),yr(o,W,he.defaultValue)),he.keepTouched||Ai(i.touchedFields,W),he.keepDirty||(Ai(i.dirtyFields,W),i.isDirty=he.defaultValue?te(W,$t(o,W)):te()),he.keepError||(Ai(i.errors,W),m.isValid&&E()),y.state.next({...i}))},ie=(W,he={})=>{const ye=W||o,He=il(ye),Te=W&&!uo(W)?He:o;if(he.keepDefaultValues||(o=ye),!he.keepValues){if(he.keepDirtyValues||r)for(const Ne of f.mount)$t(i.dirtyFields,Ne)?yr(Te,Ne,$t(s,Ne)):le(Ne,$t(Te,Ne));else{if(UR&&ei(W))for(const Ne of f.mount){const tt=$t(a,Ne);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(r0(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}s=t.shouldUnregister?he.keepDefaultValues?il(o):{}:He,y.array.next({values:Te}),y.watch.next({values:Te})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!c.mount&&e(),c.mount=!m.isValid||!!he.keepIsValid,c.watch=!!t.shouldUnregister,y.state.next({submitCount:he.keepSubmitCount?i.submitCount:0,isDirty:he.keepDirty||he.keepDirtyValues?i.isDirty:!!(he.keepDefaultValues&&!Ac(W,o)),isSubmitted:he.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:he.keepDirty||he.keepDirtyValues?i.dirtyFields:he.keepDefaultValues&&W?y2(o,W):{},touchedFields:he.keepTouched?i.touchedFields:{},errors:he.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=(W,he)=>ie(cd(W)?W(s):W,he),$=(W,he={})=>{const ye=$t(a,W),He=ye&&ye._f;if(He){const Te=He.refs?He.refs[0]:He.ref;Te.focus&&(Te.focus(),he.shouldSelect&&Te.select())}},re=W=>{i={...i,...W}};return cd(n.defaultValues)&&n.defaultValues().then(W=>{z(W,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Je,unregister:Ae,getFieldState:me,_executeSchema:Y,_focusError:Re,_getWatch:se,_getDirty:te,_updateValid:E,_removeUnmounted:fe,_updateFieldArray:I,_getFieldArray:pe,_reset:ie,_updateFormState:re,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return s},get _stateFlags(){return c},set _stateFlags(W){c=W},get _defaultValues(){return o},get _names(){return f},set _names(W){f=W},get _formState(){return i},set _formState(W){i=W},get _options(){return n},set _options(W){n={...n,...W}}},trigger:k,register:Je,handleSubmit:Fe,watch:ge,setValue:le,getValues:ne,reset:z,resetField:Xe,clearErrors:H,unregister:Ae,setError:J,setFocus:$,getFieldState:me}}function Rm(t={}){const e=Gt.useRef(),[n,r]=Gt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:cd(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...$we(t,()=>r(a=>({...a}))),formState:n});const i=e.current.control;return i._options=t,$R({subject:i._subjects.state,next:a=>{b9(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Gt.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Gt.useEffect(()=>{t.values&&!Ac(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Gt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=w9(n,i),e.current}const Uwe="_providers_kq9gh_1",Bwe="_webIdForm_kq9gh_6",I4={providers:Uwe,webIdForm:Bwe},qwe=()=>{const{oidcIssuers:t,communityId:e}=Un(),[n,r]=ae.useState(!1),[i,a]=ae.useState(!1),o=ko(nU),s=t.some(_=>_.issuer===o),{register:c,handleSubmit:f}=Rm({defaultValues:{webIdOrIssuer:s?"":o}}),h=Gd(),p=gu(e),m=async _=>{const b=o??"";h(K_.setLastSelectedIssuer(_));try{await UZ({oidcIssuer:_,redirectUrl:new URL("/",window.location.href).toString(),clientName:p.name||"SolidCouch",clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(S){h(K_.setLastSelectedIssuer(b)),S instanceof TypeError?alert(`We didn't succeed with redirecting to the issuer at ${_}.
Have you provided correct webId or OIDCIssuer? Or is it down?

Reason: ${S.message}

Error: ${S.toString()}`):alert(`Something went wrong.
Error: ${S}`)}},y=f(async({webIdOrIssuer:_})=>{try{const b=await Swe(_,t);await m(b)}catch(b){alert(`Something went wrong.
Error: ${b}`)}});return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{secondary:!0,onClick:()=>r(!0),children:"Sign in"}),de.jsx(tw,{isOpen:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>r(!1),children:de.jsxs("div",{className:I4.providers,children:["Select your Solid identity provider",o&&de.jsx(Vr,{primary:!0,onClick:()=>m(o),"data-cy":"pod-provider-button",children:o.split("/").slice(2).filter(_=>_).join("/")}),t.filter(_=>_.issuer!==o).filter(_=>_.featured||i).map(({issuer:_})=>de.jsx(Vr,{secondary:!0,onClick:()=>m(_),children:new URL(_).hostname},_)),!i&&de.jsx(Vr,{tertiary:!0,onClick:()=>a(!0),children:"more"}),"or write your own Solid identity provider, or your webId",de.jsxs("form",{className:I4.webIdForm,onSubmit:y,children:[de.jsx("input",{type:"text",placeholder:"Your webId or provider",...c("webIdOrIssuer",{required:"required"})}),de.jsx(Vr,{primary:!0,type:"submit",children:"Continue"})]})]})})]})},zwe="_wrapper_1kkei_1",Hwe="_mainDescription_1kkei_10",Vwe="_pun_1kkei_16",Kwe="_actions_1kkei_20",Gwe="_logo_1kkei_30",Wwe="_spacer_1kkei_35",Qwe="_footer_1kkei_38",Zwe="_footerInfo_1kkei_41",Jwe="_attribution_1kkei_47",Qs={wrapper:zwe,mainDescription:Hwe,pun:Vwe,actions:Kwe,logo:Gwe,spacer:Wwe,footer:Qwe,footerInfo:Zwe,attribution:Jwe},Ywe=()=>{const{communityId:t}=Un(),e=gu(t),n=ae.useMemo(()=>de.jsx(vB,{className:Qs.logo,logo:e.logo[0],focusedLogo:e.logo[1]}),[e.logo]),r=ae.useMemo(()=>e.pun?de.jsx("section",{className:Qs.pun,children:e.pun}):void 0,[e.pun]),i=ae.useMemo(()=>e.about?de.jsx("section",{className:Qs.mainDescription,children:e.about}):null,[e.about]),a=r?de.jsxs(de.Fragment,{children:[r,n,i]}):de.jsxs(de.Fragment,{children:[i,n]});return de.jsxs("div",{className:Qs.wrapper,children:[a,de.jsxs("section",{className:Qs.actions,children:[de.jsx(ywe,{}),de.jsx(qwe,{})]}),de.jsx("div",{className:Qs.spacer}),de.jsxs("footer",{className:Qs.footer,children:[de.jsx("div",{className:Qs.footerInfo,children:"WIP"}),de.jsxs("div",{className:Qs.attribution,children:["Powered by ",de.jsx("a",{href:"https://github.com/solidcouch",children:"SolidCouch"})]})]})]})},Xwe=()=>{r0e();const t=ko(Ud);return t.isLoggedIn===void 0?de.jsx(Sa,{children:"Authenticating..."}):t.isLoggedIn===!1?de.jsx(Ywe,{}):de.jsx(G0e,{})},ebe="_container_1ml33_1",tbe={container:ebe},HR=({webId:t,link:e})=>{const{communityId:n}=Un(),[r]=Fo(t,n),i=de.jsxs("div",{className:tbe.container,children:[de.jsx(O0,{photo:r.photo,size:1}),r==null?void 0:r.name]});return e?de.jsx(Po,{to:`/profile/${encodeURIComponent(t)}`,children:i}):i},I9=t=>{const{quads:e,variables:n,isLoading:r}=ba(ae.useMemo(()=>({query:fhe,variables:{person:[t]},fetch}),[t])),i=ae.useMemo(()=>{const s=new ps(e);return(n.otherPerson??[]).map(c=>{const f=Yc(c),h=s.getObjects(c,ZA.seeAlso,f),p=s.getQuads(c,wl.knows,t,f),m=h.flatMap(y=>s.getQuads(c,wl.knows,t,y));return{webId:c,status:p.length+m.length>0?"confirmed":"request_sent"}})},[t,e,n.otherPerson]),[a,o]=nbe(t);return ae.useMemo(()=>[i.concat(a),{isLoading:r},o],[r,i,o,a])},nbe=t=>{const{quads:e,variables:n,isLoading:r}=ba(ae.useMemo(()=>({query:dhe,variables:{person:[t]},fetch}),[t])),i=ae.useMemo(()=>{const a=n.inviteNotification??[],o=Zn.createLdoDataset(e).usingType(H8);return a.map(s=>o.fromSubject(s)).filter(s=>{var c,f,h,p,m,y,_,b;return((f=(c=s.object)==null?void 0:c.subject)==null?void 0:f["@id"])===((h=s.actor)==null?void 0:h["@id"])&&((m=(p=s.object)==null?void 0:p.object)==null?void 0:m["@id"])===((y=s.target)==null?void 0:y["@id"])&&((b=(_=s.object)==null?void 0:_.relationship)==null?void 0:b["@id"])==="knows"}).map(s=>{var c;return{webId:(c=s.actor)==null?void 0:c["@id"],status:"request_received",notification:s["@id"],invitation:s.content2}})},[e,n.inviteNotification]);return ae.useMemo(()=>[i,{isLoading:r}],[i,r])},rbe=()=>{const t=M9(),e=D9(),n=ibe();return ae.useCallback(async({me:r,other:i,hospexContainer:a,inbox:o,message:s})=>{await t({me:r,other:i}),await n({inbox:o,me:r,other:i,message:s}),await e({person:i,hospexContainer:a})},[t,n,e])},ibe=()=>{const t=No(H8);return ae.useCallback(async({inbox:e,me:n,other:r,message:i})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[t])},abe=()=>{const t=G0();return ae.useCallback(async({notification:e})=>{await t.mutateAsync({uri:e})},[t])},obe=()=>{const t=G0(),e=M9(),n=D9();return ae.useCallback(async({me:r,other:i,notification:a,hospexContainer:o})=>{await e({me:r,other:i}),await t.mutateAsync({uri:a}),await n({person:i,hospexContainer:o})},[e,t,n])},M9=()=>{const t=qo();return ae.useCallback(async({me:e,other:n})=>{await t.mutateAsync({uri:e,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${e}> foaf:knows <${n}>.
          } .`})},[t])},D9=()=>{const t=Jhe(rf);return ae.useCallback(async({person:e,hospexContainer:n})=>{const r=await Tl(n);await t.mutateAsync({uri:r,match:i=>{const o=i.matchSubject(Jc.type,Sn.Authorization).find(s=>{var c;return s.accessTo.length===1&&s.accessTo[0]["@id"]===n&&((c=s.mode)==null?void 0:c.length)===1&&s.mode[0]["@id"]==="Read"});if(!o)throw new Error("subject not found");return o},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":e})}})},[t])},sbe="_contact_axrjx_1",ube="_status_axrjx_10",lbe="_contactList_axrjx_14",bg={contact:sbe,status:ube,contactList:lbe},cbe=({webId:t})=>{const e=Bi(),[n]=I9(e.webId);if(!n)return de.jsx(Sa,{children:"loading..."});const r=n.find(i=>i.webId===t);return r?r.status==="confirmed"?de.jsx(de.Fragment,{children:"Contact exists"}):r.status==="request_sent"?de.jsx(de.Fragment,{children:"Contact request sent"}):r.status==="request_received"?de.jsx(k9,{contact:r}):null:de.jsx(fbe,{webId:t})},k9=({contact:t,children:e})=>{const{communityId:n}=Un(),[r,i]=ae.useState(!1),a=Bi(),o=obe(),s=abe(),c=Qg(a.webId,n),f=async()=>{if(!a.webId)throw new Error("unauthenticated");const p=ri(c.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not set up (too soon?)");await o({me:a.webId,other:t.webId,notification:t.notification,hospexContainer:p}),i(!1)},h=async()=>{if(!a.webId)throw new Error("unauthenticated");await s({notification:t.notification}),i(!1)};return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{primary:!0,onClick:()=>i(!0),children:e??"See contact invitation"}),de.jsxs(tw,{isOpen:r,onRequestClose:()=>i(!1),children:[de.jsx("div",{children:t.invitation}),de.jsx(Vr,{primary:!0,onClick:f,disabled:c.personalHospexDocuments.length===0,children:"Accept"}),de.jsx(Vr,{secondary:!0,onClick:h,children:"Ignore"})]})]})},fbe=({webId:t})=>{const{communityId:e}=Un(),[n,r]=ae.useState(!1),i=Bi(),a=rbe(),o=Qg(i.webId,e),s=Qg(t,e),c=async({invitation:h})=>{if(!i.webId)throw new Error("unauthenticated");const p=ri(o.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not found (too soon?)");const m=ri(s.inboxes[0]);if(!m)throw new Error("inbox not found (too soon?)");await a({me:i.webId,other:t,message:h,hospexContainer:p,inbox:m}),r(!1)},f=async()=>{r(!1)};return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{secondary:!0,onClick:()=>{r(!0)},disabled:o.personalHospexDocuments.length===0||s.inboxes.length===0,children:"Add to my contacts"}),de.jsx(tw,{isOpen:n,onRequestClose:()=>r(!1),children:de.jsx(dbe,{onSubmit:c,onCancel:f})})]})},dbe=({onSubmit:t,onCancel:e})=>{const{register:n,handleSubmit:r}=Rm({defaultValues:{invitation:"Hi! I'd like to add you as a contact!"}}),i=r(async a=>{await t(a)});return de.jsxs("div",{children:[de.jsx("h1",{children:"Add person as a contact"}),de.jsx("div",{children:"Please invite only people you know personally."}),de.jsxs("form",{onSubmit:i,onReset:e,children:[de.jsx("textarea",{...n("invitation")}),de.jsx(Vr,{primary:!0,type:"submit",children:"Send contact invitation"}),de.jsx(Vr,{secondary:!0,type:"reset",children:"Cancel"})]})]})},hbe=()=>{const t=bA().id,e=Bi(),[n]=I9(t);return e.webId?n?de.jsxs("div",{children:[de.jsxs("h1",{children:["Contacts of ",de.jsx(HR,{webId:t,link:!0})]}),de.jsx("ul",{className:bg.contactList,"data-cy":"contact-list",children:n.filter(r=>t===e.webId||r.status==="confirmed").map(r=>de.jsx("li",{children:de.jsx(pbe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):de.jsx(Sa,{children:"fetching contacts"}):de.jsx(Sa,{children:"authenticating"})},pbe=({contact:t})=>de.jsxs("div",{className:bg.contact,"data-cy":"contact",children:[de.jsx(HR,{webId:t.webId,link:!0}),de.jsx("span",{className:bg.spacer}),t.status==="request_sent"&&de.jsx("span",{className:bg.status,children:"pending"}),t.status==="request_received"&&de.jsxs(de.Fragment,{children:[de.jsx(k9,{contact:t,children:"process"}),de.jsx("span",{className:bg.status,children:"pending"})]})]}),fs=async(t,{success:e,error:n,pending:r},i)=>(br.promise(t,{success:e,error:n??{render:({data:a})=>de.jsxs(de.Fragment,{children:["Something went wrong",de.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await t);var _2,M4;function gbe(){if(M4)return _2;M4=1;var t=$o(),e=function(){return t.Date.now()};return _2=e,_2}var w2,D4;function mbe(){if(D4)return w2;D4=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return w2=e,w2}var b2,k4;function ybe(){if(k4)return b2;k4=1;var t=mbe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return b2=n,b2}var S2,N4;function vbe(){if(N4)return S2;N4=1;var t=ybe(),e=Uo(),n=wm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||o.test(f)?s(f.slice(2),p?2:8):i.test(f)?r:+f}return S2=c,S2}var x2,F4;function _be(){if(F4)return x2;F4=1;var t=Uo(),e=gbe(),n=vbe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,c,f){var h,p,m,y,_,b,S=0,x=!1,E=!1,A=!0;if(typeof s!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(x=!!f.leading,E="maxWait"in f,m=E?i(n(f.maxWait)||0,c):m,A="trailing"in f?!!f.trailing:A);function I(te){var se=h,pe=p;return h=p=void 0,S=te,y=s.apply(pe,se),y}function M(te){return S=te,_=setTimeout(Q,c),x?I(te):y}function D(te){var se=te-b,pe=te-S,be=c-se;return E?a(be,m-pe):be}function j(te){var se=te-b,pe=te-S;return b===void 0||se>=c||se<0||E&&pe>=m}function Q(){var te=e();if(j(te))return Y(te);_=setTimeout(Q,D(te))}function Y(te){return _=void 0,A&&h?I(te):(h=p=void 0,y)}function q(){_!==void 0&&clearTimeout(_),S=0,h=b=p=_=void 0}function Z(){return _===void 0?y:Y(e())}function fe(){var te=e(),se=j(te);if(h=arguments,p=this,b=te,se){if(_===void 0)return M(b);if(E)return clearTimeout(_),_=setTimeout(Q,c),I(b)}return _===void 0&&(_=setTimeout(Q,c)),y}return fe.cancel=q,fe.flush=Z,fe}return x2=o,x2}var wbe=_be();const bbe=Gr(wbe);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Sbe(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N9(t){var e=Sbe(t,"string");return Kc(e)==="symbol"?e:String(e)}function Sg(t,e,n){return e=N9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){Sg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xbe(t){if(Array.isArray(t))return t}function Ebe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return s}}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F9(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function Tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function au(t,e){return xbe(t)||Ebe(t,e)||F9(t,e)||Tbe()}function Cbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vu(t,e){if(t==null)return{};var n=Cbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Abe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Rbe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,o=a===void 0?null:a,s=t.inputValue,c=t.menuIsOpen,f=t.onChange,h=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,y=t.value,_=vu(t,Abe),b=ae.useState(s!==void 0?s:n),S=au(b,2),x=S[0],E=S[1],A=ae.useState(c!==void 0?c:i),I=au(A,2),M=I[0],D=I[1],j=ae.useState(y!==void 0?y:o),Q=au(j,2),Y=Q[0],q=Q[1],Z=ae.useCallback(function(le,Oe){typeof f=="function"&&f(le,Oe),q(le)},[f]),fe=ae.useCallback(function(le,Oe){var k;typeof h=="function"&&(k=h(le,Oe)),E(k!==void 0?k:le)},[h]),te=ae.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),se=ae.useCallback(function(){typeof p=="function"&&p(),D(!1)},[p]),pe=s!==void 0?s:x,be=c!==void 0?c:M,ce=y!==void 0?y:Y;return rn(rn({},_),{},{inputValue:pe,menuIsOpen:be,onChange:Z,onInputChange:fe,onMenuClose:se,onMenuOpen:te,value:ce})}function on(){return on=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},on.apply(this,arguments)}function Pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N9(r.key),r)}}function Obe(t,e,n){return $4(t.prototype,e),$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JC(t,e)}function Lbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s0(t)}function Ibe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dbe(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(t)}function kbe(t){var e=Ibe();return function(){var r=s0(t),i;if(e){var a=s0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Dbe(this,i)}}function Nbe(t){if(Array.isArray(t))return ZC(t)}function Fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VR(t){return Nbe(t)||Fbe(t)||F9(t)||jbe()}function $be(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Ube(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Bbe=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ube(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=$be(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ni="-ms-",u0="-moz-",Gn="-webkit-",j9="comm",KR="rule",GR="decl",qbe="@import",$9="@keyframes",zbe=Math.abs,nw=String.fromCharCode,Hbe=Object.assign;function Vbe(t,e){return Oi(t,0)^45?(((e<<2^Oi(t,0))<<2^Oi(t,1))<<2^Oi(t,2))<<2^Oi(t,3):0}function U9(t){return t.trim()}function Kbe(t,e){return(t=e.exec(t))?t[0]:t}function er(t,e,n){return t.replace(e,n)}function YC(t,e){return t.indexOf(e)}function Oi(t,e){return t.charCodeAt(e)|0}function Zg(t,e,n){return t.slice(e,n)}function os(t){return t.length}function WR(t){return t.length}function wv(t,e){return e.push(t),t}function Gbe(t,e){return t.map(e).join("")}var rw=1,Md=1,B9=0,xa=0,ni=0,ah="";function iw(t,e,n,r,i,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:rw,column:Md,length:o,return:""}}function ag(t,e){return Hbe(iw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Wbe(){return ni}function Qbe(){return ni=xa>0?Oi(ah,--xa):0,Md--,ni===10&&(Md=1,rw--),ni}function Ba(){return ni=xa<B9?Oi(ah,xa++):0,Md++,ni===10&&(Md=1,rw++),ni}function ds(){return Oi(ah,xa)}function P_(){return xa}function Pm(t,e){return Zg(ah,t,e)}function Jg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function q9(t){return rw=Md=1,B9=os(ah=t),xa=0,[]}function z9(t){return ah="",t}function O_(t){return U9(Pm(xa-1,XC(t===91?t+2:t===40?t+1:t)))}function Zbe(t){for(;(ni=ds())&&ni<33;)Ba();return Jg(t)>2||Jg(ni)>3?"":" "}function Jbe(t,e){for(;--e&&Ba()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return Pm(t,P_()+(e<6&&ds()==32&&Ba()==32))}function XC(t){for(;Ba();)switch(ni){case t:return xa;case 34:case 39:t!==34&&t!==39&&XC(ni);break;case 40:t===41&&XC(t);break;case 92:Ba();break}return xa}function Ybe(t,e){for(;Ba()&&t+ni!==57;)if(t+ni===84&&ds()===47)break;return"/*"+Pm(e,xa-1)+"*"+nw(t===47?t:Ba())}function Xbe(t){for(;!Jg(ds());)Ba();return Pm(t,xa)}function e1e(t){return z9(L_("",null,null,null,[""],t=q9(t),0,[0],t))}function L_(t,e,n,r,i,a,o,s,c){for(var f=0,h=0,p=o,m=0,y=0,_=0,b=1,S=1,x=1,E=0,A="",I=i,M=a,D=r,j=A;S;)switch(_=E,E=Ba()){case 40:if(_!=108&&Oi(j,p-1)==58){YC(j+=er(O_(E),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:j+=O_(E);break;case 9:case 10:case 13:case 32:j+=Zbe(_);break;case 92:j+=Jbe(P_()-1,7);continue;case 47:switch(ds()){case 42:case 47:wv(t1e(Ybe(Ba(),P_()),e,n),c);break;default:j+="/"}break;case 123*b:s[f++]=os(j)*x;case 125*b:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+h:y>0&&os(j)-p&&wv(y>32?B4(j+";",r,n,p-1):B4(er(j," ","")+";",r,n,p-2),c);break;case 59:j+=";";default:if(wv(D=U4(j,e,n,f,h,i,s,A,I=[],M=[],p),a),E===123)if(h===0)L_(j,e,D,D,I,a,p,s,M);else switch(m===99&&Oi(j,3)===110?100:m){case 100:case 109:case 115:L_(t,D,D,r&&wv(U4(t,D,D,0,0,i,s,A,i,I=[],p),M),i,M,p,s,r?I:M);break;default:L_(j,D,D,D,[""],M,0,s,M)}}f=h=y=0,b=x=1,A=j="",p=o;break;case 58:p=1+os(j),y=_;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&Qbe()==125)continue}switch(j+=nw(E),E*b){case 38:x=h>0?1:(j+="\f",-1);break;case 44:s[f++]=(os(j)-1)*x,x=1;break;case 64:ds()===45&&(j+=O_(Ba())),m=ds(),h=p=os(A=j+=Xbe(P_())),E++;break;case 45:_===45&&os(j)==2&&(b=0)}}return a}function U4(t,e,n,r,i,a,o,s,c,f,h){for(var p=i-1,m=i===0?a:[""],y=WR(m),_=0,b=0,S=0;_<r;++_)for(var x=0,E=Zg(t,p+1,p=zbe(b=o[_])),A=t;x<y;++x)(A=U9(b>0?m[x]+" "+E:er(E,/&\f/g,m[x])))&&(c[S++]=A);return iw(t,e,n,i===0?KR:s,c,f,h)}function t1e(t,e,n){return iw(t,e,n,j9,nw(Wbe()),Zg(t,2,-2),0)}function B4(t,e,n,r){return iw(t,e,n,GR,Zg(t,0,r),Zg(t,r+1,-1),r)}function fd(t,e){for(var n="",r=WR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function n1e(t,e,n,r){switch(t.type){case qbe:case GR:return t.return=t.return||t.value;case j9:return"";case $9:return t.return=t.value+"{"+fd(t.children,r)+"}";case KR:t.value=t.props.join(",")}return os(n=fd(t.children,r))?t.return=t.value+"{"+n+"}":""}function r1e(t){var e=WR(t);return function(n,r,i,a){for(var o="",s=0;s<e;s++)o+=t[s](n,r,i,a)||"";return o}}function i1e(t){return function(e){e.root||(e=e.return)&&t(e)}}function a1e(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var o1e=function(e,n,r){for(var i=0,a=0;i=a,a=ds(),i===38&&a===12&&(n[r]=1),!Jg(a);)Ba();return Pm(e,xa)},s1e=function(e,n){var r=-1,i=44;do switch(Jg(i)){case 0:i===38&&ds()===12&&(n[r]=1),e[r]+=o1e(xa-1,n,r);break;case 2:e[r]+=O_(i);break;case 4:if(i===44){e[++r]=ds()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=nw(i)}while(i=Ba());return e},u1e=function(e,n){return z9(s1e(q9(e),n))},q4=new WeakMap,l1e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!q4.get(r))&&!i){q4.set(e,!0);for(var a=[],o=u1e(n,a),s=r.props,c=0,f=0;c<o.length;c++)for(var h=0;h<s.length;h++,f++)e.props[f]=a[c]?o[c].replace(/&\f/g,s[h]):s[h]+" "+o[c]}}},c1e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function H9(t,e){switch(Vbe(t,e)){case 5103:return Gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+t+u0+t+Ni+t+t;case 6828:case 4268:return Gn+t+Ni+t+t;case 6165:return Gn+t+Ni+"flex-"+t+t;case 5187:return Gn+t+er(t,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+Ni+"flex-$1$2")+t;case 5443:return Gn+t+Ni+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Gn+t+Ni+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Gn+t+Ni+er(t,"shrink","negative")+t;case 5292:return Gn+t+Ni+er(t,"basis","preferred-size")+t;case 6060:return Gn+"box-"+er(t,"-grow","")+Gn+t+Ni+er(t,"grow","positive")+t;case 4554:return Gn+er(t,/([^-])(transform)/g,"$1"+Gn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+Ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(os(t)-1-e>6)switch(Oi(t,e+1)){case 109:if(Oi(t,e+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+u0+(Oi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~YC(t,"stretch")?H9(er(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Oi(t,e+1)!==115)break;case 6444:switch(Oi(t,os(t)-3-(~YC(t,"!important")&&10))){case 107:return er(t,":",":"+Gn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(Oi(t,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+Ni+"$2box$3")+t}break;case 5936:switch(Oi(t,e+11)){case 114:return Gn+t+Ni+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gn+t+Ni+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gn+t+Ni+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gn+t+Ni+t+t}return t}var f1e=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case GR:e.return=H9(e.value,e.length);break;case $9:return fd([ag(e,{value:er(e.value,"@","@"+Gn)})],i);case KR:if(e.length)return Gbe(e.props,function(a){switch(Kbe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fd([ag(e,{props:[er(a,/:(read-\w+)/,":"+u0+"$1")]})],i);case"::placeholder":return fd([ag(e,{props:[er(a,/:(plac\w+)/,":"+Gn+"input-$1")]}),ag(e,{props:[er(a,/:(plac\w+)/,":"+u0+"$1")]}),ag(e,{props:[er(a,/:(plac\w+)/,Ni+"input-$1")]})],i)}return""})}},d1e=[f1e],h1e=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var S=b.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||d1e,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var S=b.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)a[S[x]]=!0;s.push(b)});var c,f=[l1e,c1e];{var h,p=[n1e,i1e(function(b){h.insert(b)})],m=r1e(f.concat(i,p)),y=function(S){return fd(e1e(S),m)};c=function(S,x,E,A){h=E,y(S?S+"{"+x.styles+"}":x.styles),A&&(_.inserted[x.name]=!0)}}var _={key:n,sheet:new Bbe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return _.sheet.hydrate(s),_},E2={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4;function p1e(){if(z4)return Xn;z4=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function A(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case e:switch(M=M.type,M){case c:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case s:case h:case _:case y:case o:return M;default:return D}}case n:return D}}}function I(M){return A(M)===f}return Xn.AsyncMode=c,Xn.ConcurrentMode=f,Xn.ContextConsumer=s,Xn.ContextProvider=o,Xn.Element=e,Xn.ForwardRef=h,Xn.Fragment=r,Xn.Lazy=_,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=p,Xn.isAsyncMode=function(M){return I(M)||A(M)===c},Xn.isConcurrentMode=I,Xn.isContextConsumer=function(M){return A(M)===s},Xn.isContextProvider=function(M){return A(M)===o},Xn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Xn.isForwardRef=function(M){return A(M)===h},Xn.isFragment=function(M){return A(M)===r},Xn.isLazy=function(M){return A(M)===_},Xn.isMemo=function(M){return A(M)===y},Xn.isPortal=function(M){return A(M)===n},Xn.isProfiler=function(M){return A(M)===a},Xn.isStrictMode=function(M){return A(M)===i},Xn.isSuspense=function(M){return A(M)===p},Xn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===m||typeof M=="object"&&M!==null&&(M.$$typeof===_||M.$$typeof===y||M.$$typeof===o||M.$$typeof===s||M.$$typeof===h||M.$$typeof===S||M.$$typeof===x||M.$$typeof===E||M.$$typeof===b)},Xn.typeOf=A,Xn}var H4;function g1e(){return H4||(H4=1,E2.exports=p1e()),E2.exports}var T2,V4;function m1e(){if(V4)return T2;V4=1;var t=g1e(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function o(_){return t.isMemo(_)?i:a[_.$$typeof]||e}var s=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(_,b,S){if(typeof b!="string"){if(m){var x=p(b);x&&x!==m&&y(_,x,S)}var E=c(b);f&&(E=E.concat(f(b)));for(var A=o(_),I=o(b),M=0;M<E.length;++M){var D=E[M];if(!n[D]&&!(S&&S[D])&&!(I&&I[D])&&!(A&&A[D])){var j=h(b,D);try{s(_,D,j)}catch{}}}}return _}return T2=y,T2}m1e();var y1e=!0;function v1e(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var V9=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||y1e===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},_1e=function(e,n,r){V9(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function w1e(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var b1e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S1e=/[A-Z]|^ms/g,x1e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K9=function(e){return e.charCodeAt(1)===45},K4=function(e){return e!=null&&typeof e!="boolean"},C2=a1e(function(t){return K9(t)?t:t.replace(S1e,"-$&").toLowerCase()}),G4=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(x1e,function(r,i,a){return ss={name:i,styles:a,next:ss},i})}return b1e[e]!==1&&!K9(e)&&typeof n=="number"&&n!==0?n+"px":n};function Yg(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ss={name:n.name,styles:n.styles,next:ss},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ss={name:r.name,styles:r.styles,next:ss},r=r.next;var i=n.styles+";";return i}return E1e(t,e,n)}case"function":{if(t!==void 0){var a=ss,o=n(t);return ss=a,Yg(t,e,o)}break}}return n}function E1e(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yg(t,e,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object")K4(o)&&(r+=C2(a)+":"+G4(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var s=0;s<o.length;s++)K4(o[s])&&(r+=C2(a)+":"+G4(a,o[s])+";");else{var c=Yg(t,e,o);switch(a){case"animation":case"animationName":{r+=C2(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var W4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ss,G9=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ss=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=Yg(r,n,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=Yg(r,n,e[s]),i&&(a+=o[s]);W4.lastIndex=0;for(var c="",f;(f=W4.exec(a))!==null;)c+="-"+f[1];var h=w1e(a)+c;return{name:h,styles:a,next:ss}},T1e=function(e){return e()},C1e=Dg.useInsertionEffect?Dg.useInsertionEffect:!1,A1e=C1e||T1e,QR={}.hasOwnProperty,W9=ae.createContext(typeof HTMLElement<"u"?h1e({key:"css"}):null);W9.Provider;var R1e=function(e){return ae.forwardRef(function(n,r){var i=ae.useContext(W9);return e(n,i,r)})},P1e=ae.createContext({}),eA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",O1e=function(e,n){var r={};for(var i in n)QR.call(n,i)&&(r[i]=n[i]);return r[eA]=e,r},L1e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return V9(n,r,i),A1e(function(){return _1e(n,r,i)}),null},I1e=R1e(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[eA],a=[r],o="";typeof t.className=="string"?o=v1e(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var s=G9(a,void 0,ae.useContext(P1e));o+=e.key+"-"+s.name;var c={};for(var f in t)QR.call(t,f)&&f!=="css"&&f!==eA&&(c[f]=t[f]);return c.ref=n,c.className=o,ae.createElement(ae.Fragment,null,ae.createElement(L1e,{cache:e,serialized:s,isStringTag:typeof i=="string"}),ae.createElement(i,c))}),tn=function(e,n){var r=arguments;if(n==null||!QR.call(n,"css"))return ae.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=I1e,a[1]=O1e(e,n);for(var o=2;o<i;o++)a[o]=r[o];return ae.createElement.apply(null,a)};function ZR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return G9(e)}var M1e=function(){var e=ZR.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function D1e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function k1e(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const N1e=["top","right","bottom","left"];N1e.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function ou(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Q9(t){return ou(t).getComputedStyle(t)}function Z9(t){return t instanceof ou(t).Node}function J9(t){return Z9(t)?(t.nodeName||"").toLowerCase():""}let bv;function F1e(){if(bv)return bv;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(bv=t.brands.map(e=>e.brand+"/"+e.version).join(" "),bv):navigator.userAgent}function JR(t){return t instanceof ou(t).HTMLElement}function I_(t){return t instanceof ou(t).Element}function Q4(t){return typeof ShadowRoot>"u"?!1:t instanceof ou(t).ShadowRoot||t instanceof ShadowRoot}function Y9(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Q9(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function j1e(){return/^((?!chrome|android).)*safari/i.test(F1e())}function $1e(t){return["html","body","#document"].includes(J9(t))}const l0=Math.round;function U1e(t){const e=Q9(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=JR(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,s=l0(n)!==a||l0(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function X9(t){return I_(t)?t:t.contextElement}const ez={x:1,y:1};function Z4(t){const e=X9(t);if(!JR(e))return ez;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:a}=U1e(e);let o=(a?l0(n.width):n.width)/r,s=(a?l0(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}function J4(t,e,n,r){var i,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=X9(t);let c=ez;e&&(c=Z4(t));const f=s?ou(s):window,h=j1e()&&n;let p=(o.left+(h&&((i=f.visualViewport)==null?void 0:i.offsetLeft)||0))/c.x,m=(o.top+(h&&((a=f.visualViewport)==null?void 0:a.offsetTop)||0))/c.y,y=o.width/c.x,_=o.height/c.y;if(s){const b=ou(s),S=r;let x=b.frameElement;for(;x&&r&&S!==b;){const E=Z4(x),A=x.getBoundingClientRect(),I=getComputedStyle(x);A.x+=(x.clientLeft+parseFloat(I.paddingLeft))*E.x,A.y+=(x.clientTop+parseFloat(I.paddingTop))*E.y,p*=E.x,m*=E.y,y*=E.x,_*=E.y,p+=A.x,m+=A.y,x=ou(x).frameElement}}return k1e({width:y,height:_,x:p,y:m})}function B1e(t){return((Z9(t)?t.ownerDocument:t.document)||window.document).documentElement}function q1e(t){if(J9(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q4(t)&&t.host||B1e(t);return Q4(e)?e.host:e}function tz(t){const e=q1e(t);return $1e(e)?e.ownerDocument.body:JR(e)&&Y9(e)?e:tz(e)}function M_(t,e){var n;e===void 0&&(e=[]);const r=tz(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=ou(r);return i?e.concat(a,a.visualViewport||[],Y9(r)?r:[]):e.concat(r,M_(r))}function z1e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:s=!1}=r,c=i&&!s,f=c||a?[...I_(t)?M_(t):t.contextElement?M_(t.contextElement):[],...M_(e)]:[];f.forEach(y=>{c&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let h,p=null;o&&(p=new ResizeObserver(()=>{n()}),I_(t)&&!s&&p.observe(t),I_(t)||!t.contextElement||s||p.observe(t.contextElement),p.observe(e));let m=s?J4(t):null;return s&&function y(){const _=J4(t);!m||_.x===m.x&&_.y===m.y&&_.width===m.width&&_.height===m.height||n(),m=_,h=requestAnimationFrame(y)}(),n(),()=>{var y;f.forEach(_=>{c&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),(y=p)==null||y.disconnect(),p=null,s&&cancelAnimationFrame(h)}}var tA=ae.useLayoutEffect,H1e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],c0=function(){};function V1e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function K1e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&a.push("".concat(V1e(t,o)));return a.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var Y4=function(e){return tSe(e)?e.filter(Boolean):Kc(e)==="object"&&e!==null?[e]:[]},nz=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=vu(e,H1e);return rn({},n)},$r=function(e,n,r){var i=e.cx,a=e.getStyles,o=e.getClassNames,s=e.className;return{css:a(n,e),className:i(r??{},o(n,e),s)}};function aw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function G1e(t){return aw(t)?window.innerHeight:t.clientHeight}function rz(t){return aw(t)?window.pageYOffset:t.scrollTop}function f0(t,e){if(aw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function W1e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Q1e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Sv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c0,i=rz(t),a=e-i,o=10,s=0;function c(){s+=o;var f=Q1e(s,i,a,n);f0(t,f),s<n?window.requestAnimationFrame(c):r(t)}c()}function X4(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?f0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&f0(t,Math.max(e.offsetTop-i,0))}function Z1e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function e6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function J1e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var iz=!1,Y1e={get passive(){return iz=!0}},xv=typeof window<"u"?window:{};xv.addEventListener&&xv.removeEventListener&&(xv.addEventListener("p",c0,Y1e),xv.removeEventListener("p",c0,!1));var X1e=iz;function eSe(t){return t!=null}function tSe(t){return Array.isArray(t)}function Ev(t,e,n){return t?e:n}var nSe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(o){var s=au(o,1),c=s[0];return!r.includes(c)});return a.reduce(function(o,s){var c=au(s,2),f=c[0],h=c[1];return o[f]=h,o},{})},rSe=["children","innerProps"],iSe=["children","innerProps"];function aSe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,o=t.isFixedPosition,s=t.controlHeight,c=W1e(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var h=c.getBoundingClientRect(),p=h.height,m=n.getBoundingClientRect(),y=m.bottom,_=m.height,b=m.top,S=n.offsetParent.getBoundingClientRect(),x=S.top,E=o?window.innerHeight:G1e(c),A=rz(c),I=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),D=x-M,j=E-b,Q=D+A,Y=p-A-b,q=y-E+A+I,Z=A+b-M,fe=160;switch(i){case"auto":case"bottom":if(j>=_)return{placement:"bottom",maxHeight:e};if(Y>=_&&!o)return a&&Sv(c,q,fe),{placement:"bottom",maxHeight:e};if(!o&&Y>=r||o&&j>=r){a&&Sv(c,q,fe);var te=o?j-I:Y-I;return{placement:"bottom",maxHeight:te}}if(i==="auto"||o){var se=e,pe=o?D:Q;return pe>=r&&(se=Math.min(pe-I-s,e)),{placement:"top",maxHeight:se}}if(i==="bottom")return a&&f0(c,q),{placement:"bottom",maxHeight:e};break;case"top":if(D>=_)return{placement:"top",maxHeight:e};if(Q>=_&&!o)return a&&Sv(c,Z,fe),{placement:"top",maxHeight:e};if(!o&&Q>=r||o&&D>=r){var be=e;return(!o&&Q>=r||o&&D>=r)&&(be=o?D-M:Q-M),a&&Sv(c,Z,fe),{placement:"top",maxHeight:be}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function oSe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var az=function(e){return e==="auto"?"bottom":e},sSe=function(e,n){var r,i=e.placement,a=e.theme,o=a.borderRadius,s=a.spacing,c=a.colors;return rn((r={label:"menu"},Sg(r,oSe(i),"100%"),Sg(r,"position","absolute"),Sg(r,"width","100%"),Sg(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},oz=ae.createContext(null),uSe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,s=e.menuShouldScrollIntoView,c=e.theme,f=ae.useContext(oz)||{},h=f.setPortalPlacement,p=ae.useRef(null),m=ae.useState(i),y=au(m,2),_=y[0],b=y[1],S=ae.useState(null),x=au(S,2),E=x[0],A=x[1],I=c.spacing.controlHeight;return tA(function(){var M=p.current;if(M){var D=o==="fixed",j=s&&!D,Q=aSe({maxHeight:i,menuEl:M,minHeight:r,placement:a,shouldScroll:j,isFixedPosition:D,controlHeight:I});b(Q.maxHeight),A(Q.placement),h==null||h(Q.placement)}},[i,a,o,s,r,h,I]),n({ref:p,placerProps:rn(rn({},e),{},{placement:E||az(a),maxHeight:_})})},lSe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return tn("div",on({},$r(e,"menu",{menu:!0}),{ref:r},i),n)},cSe=lSe,fSe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return rn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},dSe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return tn("div",on({},$r(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},sz=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return rn({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},hSe=sz,pSe=sz,gSe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=vu(e,rSe);return tn("div",on({},$r(rn(rn({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},mSe=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=vu(e,iSe);return tn("div",on({},$r(rn(rn({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},ySe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},vSe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,o=e.menuPlacement,s=e.menuPosition,c=ae.useRef(null),f=ae.useRef(null),h=ae.useState(az(o)),p=au(h,2),m=p[0],y=p[1],_=ae.useMemo(function(){return{setPortalPlacement:y}},[]),b=ae.useState(null),S=au(b,2),x=S[0],E=S[1],A=ae.useCallback(function(){if(i){var j=Z1e(i),Q=s==="fixed"?0:window.pageYOffset,Y=j[m]+Q;(Y!==(x==null?void 0:x.offset)||j.left!==(x==null?void 0:x.rect.left)||j.width!==(x==null?void 0:x.rect.width))&&E({offset:Y,rect:j})}},[i,s,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);tA(function(){A()},[A]);var I=ae.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&c.current&&(f.current=z1e(i,c.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);tA(function(){I()},[I]);var M=ae.useCallback(function(j){c.current=j,I()},[I]);if(!n&&s!=="fixed"||!x)return null;var D=tn("div",on({ref:M},$r(rn(rn({},e),{},{offset:x.offset,position:s,rect:x.rect}),"menuPortal",{"menu-portal":!0}),a),r);return tn(oz.Provider,{value:_},n?zg.createPortal(D,n):D)},_Se=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},wSe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return tn("div",on({},$r(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},bSe=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,o=e.selectProps.controlShouldRenderValue;return rn({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},SSe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return tn("div",on({},$r(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},xSe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ESe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},$r(e,"indicatorsContainer",{indicators:!0}),r),n)},t6,TSe=["size"],CSe=["innerProps","isRtl","size"],ASe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},uz=function(e){var n=e.size,r=vu(e,TSe);return tn("svg",on({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ASe},r))},YR=function(e){return tn(uz,on({size:20},e),tn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},lz=function(e){return tn(uz,on({size:20},e),tn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cz=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return rn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},RSe=cz,PSe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},$r(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||tn(lz,null))},OSe=cz,LSe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},$r(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||tn(YR,null))},ISe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return rn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},MSe=function(e){var n=e.innerProps;return tn("span",on({},n,$r(e,"indicatorSeparator",{"indicator-separator":!0})))},DSe=M1e(t6||(t6=D1e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),kSe=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,o=a.colors,s=a.spacing.baseUnit;return rn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2})},A2=function(e){var n=e.delay,r=e.offset;return tn("span",{css:ZR({animation:"".concat(DSe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},NSe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,o=vu(e,CSe);return tn("div",on({},$r(rn(rn({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),tn(A2,{delay:0,offset:r}),tn(A2,{delay:160,offset:!0}),tn(A2,{delay:320,offset:!r}))},FSe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,o=a.colors,s=a.borderRadius,c=a.spacing;return rn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},jSe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,o=e.innerProps,s=e.menuIsOpen;return tn("div",on({ref:a},$r(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":r||void 0}),n)},$Se=jSe,USe=["data"],BSe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},qSe=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,o=e.Heading,s=e.headingProps,c=e.innerProps,f=e.label,h=e.theme,p=e.selectProps;return tn("div",on({},$r(e,"group",{group:!0}),c),tn(o,on({},s,{selectProps:p,theme:h,getStyles:i,getClassNames:a,cx:r}),f),tn("div",null,n))},zSe=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return rn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},HSe=function(e){var n=nz(e);n.data;var r=vu(n,USe);return tn("div",on({},$r(e,"groupHeading",{"group-heading":!0}),r))},VSe=qSe,KSe=["innerRef","isDisabled","isHidden","inputClassName"],GSe=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,o=a.spacing,s=a.colors;return rn(rn({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},WSe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},fz={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},WSe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},fz)},QSe=function(e){return rn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},fz)},ZSe=function(e){var n=e.cx,r=e.value,i=nz(e),a=i.innerRef,o=i.isDisabled,s=i.isHidden,c=i.inputClassName,f=vu(i,KSe);return tn("div",on({},$r(e,"input",{"input-container":!0}),{"data-value":r||""}),tn("input",on({className:n({input:!0},c),ref:a,style:QSe(s),disabled:o},f)))},JSe=ZSe,YSe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return rn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},XSe=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,o=e.cropWithEllipsis;return rn({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},exe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors,s=e.isFocused;return rn({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},dz=function(e){var n=e.children,r=e.innerProps;return tn("div",r,n)},txe=dz,nxe=dz;function rxe(t){var e=t.children,n=t.innerProps;return tn("div",on({role:"button"},n),e||tn(YR,{size:14}))}var ixe=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,o=e.isDisabled,s=e.removeProps,c=e.selectProps,f=r.Container,h=r.Label,p=r.Remove;return tn(f,{data:i,innerProps:rn(rn({},$r(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:c},tn(h,{data:i,innerProps:rn({},$r(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),tn(p,{data:i,innerProps:rn(rn({},$r(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:c}))},axe=ixe,oxe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.theme,s=o.spacing,c=o.colors;return rn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:a?c.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?c.primary:c.primary50}})},sxe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.innerRef,s=e.innerProps;return tn("div",on({},$r(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},s),n)},uxe=sxe,lxe=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return rn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},cxe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},$r(e,"placeholder",{placeholder:!0}),r),n)},fxe=cxe,dxe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,o=i.colors;return rn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},hxe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return tn("div",on({},$r(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},pxe=hxe,gxe={ClearIndicator:LSe,Control:$Se,DropdownIndicator:PSe,DownChevron:lz,CrossIcon:YR,Group:VSe,GroupHeading:HSe,IndicatorsContainer:ESe,IndicatorSeparator:MSe,Input:JSe,LoadingIndicator:NSe,Menu:cSe,MenuList:dSe,MenuPortal:vSe,LoadingMessage:mSe,NoOptionsMessage:gSe,MultiValue:axe,MultiValueContainer:txe,MultiValueLabel:nxe,MultiValueRemove:rxe,Option:uxe,Placeholder:fxe,SelectContainer:wSe,SingleValue:pxe,ValueContainer:SSe},mxe=function(e){return rn(rn({},gxe),e.components)},n6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function yxe(t,e){return!!(t===e||n6(t)&&n6(e))}function vxe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!yxe(t[n],e[n]))return!1;return!0}function _xe(t,e){e===void 0&&(e=vxe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var wxe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bxe=function(e){return tn("span",on({css:wxe},e))},r6=bxe,Sxe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,o=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,o=a===void 0?"":a,s=e.selectValue,c=e.isDisabled,f=e.isSelected,h=e.isAppleDevice,p=function(b,S){return b&&b.length?"".concat(b.indexOf(S)+1," of ").concat(b.length):""};if(n==="value"&&s)return"value ".concat(o," focused, ").concat(p(s,r),".");if(n==="menu"&&h){var m=c?" disabled":"",y="".concat(f?" selected":"").concat(m);return"".concat(o).concat(y,", ").concat(p(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},xxe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,s=e.selectValue,c=e.selectProps,f=e.id,h=e.isAppleDevice,p=c.ariaLiveMessages,m=c.getOptionLabel,y=c.inputValue,_=c.isMulti,b=c.isOptionDisabled,S=c.isSearchable,x=c.menuIsOpen,E=c.options,A=c.screenReaderStatus,I=c.tabSelectsValue,M=c.isLoading,D=c["aria-label"],j=c["aria-live"],Q=ae.useMemo(function(){return rn(rn({},Sxe),p||{})},[p]),Y=ae.useMemo(function(){var pe="";if(n&&Q.onChange){var be=n.option,ce=n.options,le=n.removedValue,Oe=n.removedValues,k=n.value,ne=function(Re){return Array.isArray(Re)?null:Re},me=le||be||ne(k),H=me?m(me):"",J=ce||Oe||void 0,ge=J?J.map(m):[],Ae=rn({isDisabled:me&&b(me,s),label:H,labels:ge},n);pe=Q.onChange(Ae)}return pe},[n,Q,b,s,m]),q=ae.useMemo(function(){var pe="",be=r||i,ce=!!(r&&s&&s.includes(r));if(be&&Q.onFocus){var le={focused:be,label:m(be),isDisabled:b(be,s),isSelected:ce,options:a,context:be===r?"menu":"value",selectValue:s,isAppleDevice:h};pe=Q.onFocus(le)}return pe},[r,i,m,b,Q,a,s,h]),Z=ae.useMemo(function(){var pe="";if(x&&E.length&&!M&&Q.onFilter){var be=A({count:a.length});pe=Q.onFilter({inputValue:y,resultsMessage:be})}return pe},[a,y,x,Q,E,A,M]),fe=(n==null?void 0:n.action)==="initial-input-focus",te=ae.useMemo(function(){var pe="";if(Q.guidance){var be=i?"value":x?"menu":"input";pe=Q.guidance({"aria-label":D,context:be,isDisabled:r&&b(r,s),isMulti:_,isSearchable:S,tabSelectsValue:I,isInitialFocus:fe})}return pe},[D,r,i,_,b,S,x,Q,s,I,fe]),se=tn(ae.Fragment,null,tn("span",{id:"aria-selection"},Y),tn("span",{id:"aria-focused"},q),tn("span",{id:"aria-results"},Z),tn("span",{id:"aria-guidance"},te));return tn(ae.Fragment,null,tn(r6,{id:f},fe&&se),tn(r6,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!fe&&se))},Exe=xxe,nA=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Txe=new RegExp("["+nA.map(function(t){return t.letters}).join("")+"]","g"),hz={};for(var R2=0;R2<nA.length;R2++)for(var P2=nA[R2],O2=0;O2<P2.letters.length;O2++)hz[P2.letters[O2]]=P2.base;var pz=function(e){return e.replace(Txe,function(n){return hz[n]})},Cxe=_xe(pz),i6=function(e){return e.replace(/^\s+|\s+$/g,"")},Axe=function(e){return"".concat(e.label," ").concat(e.value)},Rxe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=rn({ignoreCase:!0,ignoreAccents:!0,stringify:Axe,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,c=i.trim,f=i.matchFrom,h=c?i6(r):r,p=c?i6(s(n)):s(n);return a&&(h=h.toLowerCase(),p=p.toLowerCase()),o&&(h=Cxe(h),p=pz(p)),f==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},Pxe=["innerRef"];function Oxe(t){var e=t.innerRef,n=vu(t,Pxe),r=nSe(n,"onExited","in","enter","exit","appear");return tn("input",on({ref:e},r,{css:ZR({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Lxe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Ixe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,o=ae.useRef(!1),s=ae.useRef(!1),c=ae.useRef(0),f=ae.useRef(null),h=ae.useCallback(function(S,x){if(f.current!==null){var E=f.current,A=E.scrollTop,I=E.scrollHeight,M=E.clientHeight,D=f.current,j=x>0,Q=I-M-A,Y=!1;Q>x&&o.current&&(r&&r(S),o.current=!1),j&&s.current&&(a&&a(S),s.current=!1),j&&x>Q?(n&&!o.current&&n(S),D.scrollTop=I,Y=!0,o.current=!0):!j&&-x>A&&(i&&!s.current&&i(S),D.scrollTop=0,Y=!0,s.current=!0),Y&&Lxe(S)}},[n,r,i,a]),p=ae.useCallback(function(S){h(S,S.deltaY)},[h]),m=ae.useCallback(function(S){c.current=S.changedTouches[0].clientY},[]),y=ae.useCallback(function(S){var x=c.current-S.changedTouches[0].clientY;h(S,x)},[h]),_=ae.useCallback(function(S){if(S){var x=X1e?{passive:!1}:!1;S.addEventListener("wheel",p,x),S.addEventListener("touchstart",m,x),S.addEventListener("touchmove",y,x)}},[y,m,p]),b=ae.useCallback(function(S){S&&(S.removeEventListener("wheel",p,!1),S.removeEventListener("touchstart",m,!1),S.removeEventListener("touchmove",y,!1))},[y,m,p]);return ae.useEffect(function(){if(e){var S=f.current;return _(S),function(){b(S)}}},[e,_,b]),function(S){f.current=S}}var a6=["boxSizing","height","overflow","paddingRight","position"],o6={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function s6(t){t.cancelable&&t.preventDefault()}function u6(t){t.stopPropagation()}function l6(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function c6(){return"ontouchstart"in window||navigator.maxTouchPoints}var f6=!!(typeof window<"u"&&window.document&&window.document.createElement),og=0,Qf={capture:!1,passive:!1};function Mxe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=ae.useRef({}),a=ae.useRef(null),o=ae.useCallback(function(c){if(f6){var f=document.body,h=f&&f.style;if(r&&a6.forEach(function(_){var b=h&&h[_];i.current[_]=b}),r&&og<1){var p=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+p||0;Object.keys(o6).forEach(function(_){var b=o6[_];h&&(h[_]=b)}),h&&(h.paddingRight="".concat(y,"px"))}f&&c6()&&(f.addEventListener("touchmove",s6,Qf),c&&(c.addEventListener("touchstart",l6,Qf),c.addEventListener("touchmove",u6,Qf))),og+=1}},[r]),s=ae.useCallback(function(c){if(f6){var f=document.body,h=f&&f.style;og=Math.max(og-1,0),r&&og<1&&a6.forEach(function(p){var m=i.current[p];h&&(h[p]=m)}),f&&c6()&&(f.removeEventListener("touchmove",s6,Qf),c&&(c.removeEventListener("touchstart",l6,Qf),c.removeEventListener("touchmove",u6,Qf)))}},[r]);return ae.useEffect(function(){if(e){var c=a.current;return o(c),function(){s(c)}}},[e,o,s]),function(c){a.current=c}}var Dxe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},kxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Nxe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,o=t.onBottomLeave,s=t.onTopArrive,c=t.onTopLeave,f=Ixe({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:s,onTopLeave:c}),h=Mxe({isEnabled:n}),p=function(y){f(y),h(y)};return tn(ae.Fragment,null,n&&tn("div",{onClick:Dxe,css:kxe}),e(p))}var Fxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},jxe=function(e){var n=e.name,r=e.onFocus;return tn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Fxe,value:"",onChange:function(){}})},$xe=jxe;function XR(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Uxe(){return XR(/^iPhone/i)}function gz(){return XR(/^Mac/i)}function Bxe(){return XR(/^iPad/i)||gz()&&navigator.maxTouchPoints>1}function qxe(){return Uxe()||Bxe()}function zxe(){return gz()||qxe()}var Hxe=function(e){return e.label},Vxe=function(e){return e.label},Kxe=function(e){return e.value},Gxe=function(e){return!!e.isDisabled},Wxe={clearIndicator:OSe,container:_Se,control:FSe,dropdownIndicator:RSe,group:BSe,groupHeading:zSe,indicatorsContainer:xSe,indicatorSeparator:ISe,input:GSe,loadingIndicator:kSe,loadingMessage:pSe,menu:sSe,menuList:fSe,menuPortal:ySe,multiValue:YSe,multiValueLabel:XSe,multiValueRemove:exe,noOptionsMessage:hSe,option:oxe,placeholder:lxe,singleValue:dxe,valueContainer:bSe},Qxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Zxe=4,mz=4,Jxe=38,Yxe=mz*2,Xxe={baseUnit:mz,controlHeight:Jxe,menuGutter:Yxe},L2={borderRadius:Zxe,colors:Qxe,spacing:Xxe},eEe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:e6(),captureMenuScroll:!e6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Rxe(),formatGroupLabel:Hxe,getOptionLabel:Vxe,getOptionValue:Kxe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Gxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!J1e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function d6(t,e,n,r){var i=_z(t,e,n),a=wz(t,e,n),o=vz(t,e),s=d0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:o,value:s,index:r}}function D_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,s){return d6(t,o,e,s)}).filter(function(o){return p6(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=d6(t,n,e,r);return p6(t,a)?a:void 0}).filter(eSe)}function yz(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,VR(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function h6(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,VR(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function tEe(t,e){return yz(D_(t,e))}function p6(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,o=e.label,s=e.value;return(!Sz(t)||!a)&&bz(t,{label:o,value:s,data:i},r)}function nEe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function rEe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var I2=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},vz=function(e,n){return e.getOptionLabel(n)},d0=function(e,n){return e.getOptionValue(n)};function _z(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function wz(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=d0(t,e);return n.some(function(i){return d0(t,i)===r})}function bz(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Sz=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},iEe=1,xz=function(t){Lbe(n,t);var e=kbe(n);function n(r){var i;if(Pbe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=zxe(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,f){var h=i.props,p=h.onChange,m=h.name;f.name=m,i.ariaOnChange(c,f),p(c,f)},i.setValue=function(c,f,h){var p=i.props,m=p.closeMenuOnSelect,y=p.isMulti,_=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:_}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:f,option:h})},i.selectOption=function(c){var f=i.props,h=f.blurInputOnSelect,p=f.isMulti,m=f.name,y=i.state.selectValue,_=p&&i.isOptionSelected(c,y),b=i.isOptionDisabled(c,y);if(_){var S=i.getOptionValue(c);i.setValue(y.filter(function(x){return i.getOptionValue(x)!==S}),"deselect-option",c)}else if(!b)p?i.setValue([].concat(VR(y),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:m});return}h&&i.blurInput()},i.removeValue=function(c){var f=i.props.isMulti,h=i.state.selectValue,p=i.getOptionValue(c),m=h.filter(function(_){return i.getOptionValue(_)!==p}),y=Ev(f,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(Ev(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,f=i.state.selectValue,h=f[f.length-1],p=f.slice(0,f.length-1),m=Ev(c,p,p[0]||null);h&&i.onChange(m,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(c){return I2(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return h6(D_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return K1e.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(c){return vz(i.props,c)},i.getOptionValue=function(c){return d0(i.props,c)},i.getStyles=function(c,f){var h=i.props.unstyled,p=Wxe[c](f,h);p.boxSizing="border-box";var m=i.props.styles[c];return m?m(p,f):p},i.getClassNames=function(c,f){var h,p;return(h=(p=i.props.classNames)[c])===null||h===void 0?void 0:h.call(p,f)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return mxe(i.props)},i.buildCategorizedOptions=function(){return D_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return yz(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,f){i.setState({ariaSelection:rn({value:c},f)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var f=i.props,h=f.isMulti,p=f.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&aw(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var f=c.touches,h=f&&f.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var f=c.touches,h=f&&f.item(0);if(h){var p=Math.abs(h.clientX-i.initialTouchX),m=Math.abs(h.clientY-i.initialTouchY),y=5;i.userIsDragging=p>y||m>y}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var f=i.props.inputValue,h=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var f=i.getFocusableOptions(),h=f.indexOf(c);i.setState({focusedOption:c,focusedOptionId:h>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return Sz(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var f=i.props,h=f.isMulti,p=f.backspaceRemovesValue,m=f.escapeClearsValue,y=f.inputValue,_=f.isClearable,b=f.isDisabled,S=f.menuIsOpen,x=f.onKeyDown,E=f.tabSelectsValue,A=f.openMenuOnFocus,I=i.state,M=I.focusedOption,D=I.focusedValue,j=I.selectValue;if(!b&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!h||y)return;i.focusValue("previous");break;case"ArrowRight":if(!h||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!p)return;h?i.popValue():_&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!S||!E||!M||A&&i.isOptionSelected(M,j))return;i.selectOption(M);break;case"Enter":if(c.keyCode===229)break;if(S){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):_&&m&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++iEe),i.state.selectValue=Y4(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[s],i.state.focusedOptionId=I2(a,o[s])}return i}return Obe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&X4(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,s=a.menuIsOpen,c=this.state.isFocused;(c&&!o&&i.isDisabled||c&&s&&!i.menuIsOpen)&&this.focusInput(),c&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(X4(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,s=o.selectValue,c=o.isFocused,f=this.buildFocusableOptions(),h=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(s[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[h],focusedOptionId:this.getFocusedOptionId(f[h])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,s=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(s);s||(c=-1);var f=o.length-1,h=-1;if(o.length){switch(i){case"previous":c===0?h=0:c===-1?h=f:h=c-1;break;case"next":c>-1&&c<f&&(h=c+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var c=0,f=s.indexOf(o);o||(f=-1),i==="up"?c=f>0?f-1:s.length-1:i==="down"?c=(f+1)%s.length:i==="pageup"?(c=f-a,c<0&&(c=0)):i==="pagedown"?(c=f+a,c>s.length-1&&(c=s.length-1)):i==="last"&&(c=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(L2):rn(rn({},L2),this.props.theme):L2}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,s=this.getClassNames,c=this.getValue,f=this.selectOption,h=this.setValue,p=this.props,m=p.isMulti,y=p.isRtl,_=p.options,b=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:s,getValue:c,hasValue:b,isMulti:m,isRtl:y,options:_,selectOption:f,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return _z(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return wz(this.props,i,a)}},{key:"filterOption",value:function(i,a){return bz(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,s=i.inputId,c=i.inputValue,f=i.tabIndex,h=i.form,p=i.menuIsOpen,m=i.required,y=this.getComponents(),_=y.Input,b=this.state,S=b.inputIsHidden,x=b.ariaSelection,E=this.commonProps,A=s||this.getElementId("input"),I=rn(rn(rn({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?ae.createElement(_,on({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:h,type:"text",value:c},I)):ae.createElement(Oxe,on({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:c0,onFocus:this.onInputFocus,disabled:a,tabIndex:f,inputMode:"none",form:h,value:""},I))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,s=a.MultiValueContainer,c=a.MultiValueLabel,f=a.MultiValueRemove,h=a.SingleValue,p=a.Placeholder,m=this.commonProps,y=this.props,_=y.controlShouldRenderValue,b=y.isDisabled,S=y.isMulti,x=y.inputValue,E=y.placeholder,A=this.state,I=A.selectValue,M=A.focusedValue,D=A.isFocused;if(!this.hasValue()||!_)return x?null:ae.createElement(p,on({},m,{key:"placeholder",isDisabled:b,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),E);if(S)return I.map(function(Q,Y){var q=Q===M,Z="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return ae.createElement(o,on({},m,{components:{Container:s,Label:c,Remove:f},isFocused:q,isDisabled:b,key:Z,index:Y,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(te){te.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(x)return null;var j=I[0];return ae.createElement(h,on({},m,{data:j,isDisabled:b}),this.formatOptionLabel(j,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,s=this.props,c=s.isDisabled,f=s.isLoading,h=this.state.isFocused;if(!this.isClearable()||!a||c||!this.hasValue()||f)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ae.createElement(a,on({},o,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,s=this.props,c=s.isDisabled,f=s.isLoading,h=this.state.isFocused;if(!a||!f)return null;var p={"aria-hidden":"true"};return ae.createElement(a,on({},o,{innerProps:p,isDisabled:c,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var s=this.commonProps,c=this.props.isDisabled,f=this.state.isFocused;return ae.createElement(o,on({},s,{isDisabled:c,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,s=this.props.isDisabled,c=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ae.createElement(a,on({},o,{innerProps:f,isDisabled:s,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,s=a.GroupHeading,c=a.Menu,f=a.MenuList,h=a.MenuPortal,p=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,_=this.commonProps,b=this.state.focusedOption,S=this.props,x=S.captureMenuScroll,E=S.inputValue,A=S.isLoading,I=S.loadingMessage,M=S.minMenuHeight,D=S.maxMenuHeight,j=S.menuIsOpen,Q=S.menuPlacement,Y=S.menuPosition,q=S.menuPortalTarget,Z=S.menuShouldBlockScroll,fe=S.menuShouldScrollIntoView,te=S.noOptionsMessage,se=S.onMenuScrollToTop,pe=S.onMenuScrollToBottom;if(!j)return null;var be=function(H,J){var ge=H.type,Ae=H.data,Je=H.isDisabled,Re=H.isSelected,Fe=H.label,Xe=H.value,ie=b===Ae,z=Je?void 0:function(){return i.onOptionHover(Ae)},$=Je?void 0:function(){return i.selectOption(Ae)},re="".concat(i.getElementId("option"),"-").concat(J),W={id:re,onClick:$,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Re};return ae.createElement(y,on({},_,{innerProps:W,data:Ae,isDisabled:Je,isSelected:Re,key:re,label:Fe,type:ge,value:Xe,isFocused:ie,innerRef:ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},ce;if(this.hasOptions())ce=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var H=me.data,J=me.options,ge=me.index,Ae="".concat(i.getElementId("group"),"-").concat(ge),Je="".concat(Ae,"-heading");return ae.createElement(o,on({},_,{key:Ae,data:H,options:J,Heading:s,headingProps:{id:Je,data:me.data},label:i.formatGroupLabel(me.data)}),me.options.map(function(Re){return be(Re,"".concat(ge,"-").concat(Re.index))}))}else if(me.type==="option")return be(me,"".concat(me.index))});else if(A){var le=I({inputValue:E});if(le===null)return null;ce=ae.createElement(p,_,le)}else{var Oe=te({inputValue:E});if(Oe===null)return null;ce=ae.createElement(m,_,Oe)}var k={minMenuHeight:M,maxMenuHeight:D,menuPlacement:Q,menuPosition:Y,menuShouldScrollIntoView:fe},ne=ae.createElement(uSe,on({},_,k),function(me){var H=me.ref,J=me.placerProps,ge=J.placement,Ae=J.maxHeight;return ae.createElement(c,on({},_,k,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:ge}),ae.createElement(Nxe,{captureEnabled:x,onTopArrive:se,onBottomArrive:pe,lockEnabled:Z},function(Je){return ae.createElement(f,on({},_,{innerRef:function(Fe){i.getMenuListRef(Fe),Je(Fe)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:Ae,focusedOption:b}),ce)}))});return q||Y==="fixed"?ae.createElement(h,on({},_,{appendTo:q,controlElement:this.controlRef,menuPlacement:Q,menuPosition:Y}),ne):ne}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,s=a.isDisabled,c=a.isMulti,f=a.name,h=a.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!s)return ae.createElement($xe,{name:f,onFocus:this.onValueInputFocus});if(!(!f||s))if(c)if(o){var m=p.map(function(b){return i.getOptionValue(b)}).join(o);return ae.createElement("input",{name:f,type:"hidden",value:m})}else{var y=p.length>0?p.map(function(b,S){return ae.createElement("input",{key:"i-".concat(S),name:f,type:"hidden",value:i.getOptionValue(b)})}):ae.createElement("input",{name:f,type:"hidden",value:""});return ae.createElement("div",null,y)}else{var _=p[0]?this.getOptionValue(p[0]):"";return ae.createElement("input",{name:f,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,s=a.focusedOption,c=a.focusedValue,f=a.isFocused,h=a.selectValue,p=this.getFocusableOptions();return ae.createElement(Exe,on({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:s,focusedValue:c,isFocused:f,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,s=i.SelectContainer,c=i.ValueContainer,f=this.props,h=f.className,p=f.id,m=f.isDisabled,y=f.menuIsOpen,_=this.state.isFocused,b=this.commonProps=this.getCommonProps();return ae.createElement(s,on({},b,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:_}),this.renderLiveRegion(),ae.createElement(a,on({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:_,menuIsOpen:y}),ae.createElement(c,on({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),ae.createElement(o,on({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,s=a.clearFocusValueOnUpdate,c=a.inputIsHiddenAfterUpdate,f=a.ariaSelection,h=a.isFocused,p=a.prevWasFocused,m=a.instancePrefix,y=i.options,_=i.value,b=i.menuIsOpen,S=i.inputValue,x=i.isMulti,E=Y4(_),A={};if(o&&(_!==o.value||y!==o.options||b!==o.menuIsOpen||S!==o.inputValue)){var I=b?tEe(i,E):[],M=b?h6(D_(i,E),"".concat(m,"-option")):[],D=s?nEe(a,E):null,j=rEe(a,I),Q=I2(M,j);A={selectValue:E,focusedOption:j,focusedOptionId:Q,focusableOptionsWithIds:M,focusedValue:D,clearFocusValueOnUpdate:!1}}var Y=c!=null&&i!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},q=f,Z=h&&p;return h&&!Z&&(q={value:Ev(x,E,E[0]||null),options:E,action:"initial-input-focus"},Z=!p),(f==null?void 0:f.action)==="initial-input-focus"&&(q=null),rn(rn(rn({},A),Y),{},{prevProps:i,ariaSelection:q,prevWasFocused:Z})}}]),n}(ae.Component);xz.defaultProps=eEe;var aEe=ae.forwardRef(function(t,e){var n=Rbe(t);return ae.createElement(xz,on({ref:e},n))}),oEe=aEe;const sEe=({webId:t})=>{const{communityId:e}=Un(),[,n,,r]=Fo(t,e),[i,a]=ae.useState(""),{data:o,...s}=cge(i),c=tpe(),f=epe(),h=async({id:_,document:b})=>{await fs(c({interest:_,document:b,person:t}),{pending:"Removing interest",success:"Interest removed"})},p=ae.useMemo(()=>bbe(a,500),[]),m=ae.useCallback(_=>p(_),[p]),y=async _=>{_&&await fs(f({interest:_.id,person:t,document:t}),{pending:`Adding ${_.label} to interests`,success:`${_.label} added to interests`})};return n||n===void 0?de.jsx(Sa,{children:"loading interests"}):de.jsxs("div",{children:[de.jsx("ul",{className:Kg.list,"data-cy":"interests-list-edit",children:r.map(({id:_,document:b})=>de.jsx("li",{children:de.jsx(uEe,{id:_,onRemove:()=>h({id:_,document:b})})},_+b))}),de.jsx(oEe,{options:o,filterOption:()=>!0,formatOptionLabel:_=>de.jsxs("div",{title:_.description,children:[_.label,_.aliases.length>0&&` (${_.aliases.join(", ")})`,de.jsx("br",{}),_.description]}),isLoading:s.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:m,onChange:y,className:"cy-select-interests"})]})},uEe=({id:t,onRemove:e})=>{const{data:n}=yq(t),r={id:t,label:t.split("/").pop(),description:t},i=Hc({},r,n);return de.jsxs("span",{title:i.description,className:Kg.item,"data-cy":"edit-interest",children:[i.label," ",de.jsx("button",{onClick:e,children:de.jsx(yB,{})})]})},lEe="_container_6bk5k_1",cEe="_uploadButton_6bk5k_17",Ez={container:lEe,uploadButton:cEe},fEe=()=>{const{communityId:t}=Un(),e=Bi(),n=$d(),[,,r,,i]=Fo(e.webId,t),a=Xhe(),o=nce(),s=tce(),c=async f=>{var y;if(!e.webId)throw new Error("Not signed in (should not happen)");if(!r)throw new Error("Hospex document not found");const h=(y=f.photo)==null?void 0:y[0];let p;const m=i==null?void 0:i.photo;h&&(p=await s.mutateAsync({uri:ri(r),data:h})),await a({hospexDocument:r,personId:e.webId,data:{...f,photo:p},language:"en"}),h&&m&&await o.mutateAsync({uri:m}),n("..")};if(!e.webId)throw new Error("Not signed in (should not happen)");return i?de.jsxs("div",{className:Ez.container,children:[de.jsx(dEe,{initialData:i,onSubmit:f=>fs(c(f),{pending:"Updating profile",success:"Profile updated"})}),de.jsx("label",{children:"Interests"}),de.jsx(sEe,{webId:e.webId})]}):de.jsx(Sa,{children:"Fetching profile"})},dEe=({initialData:t,onSubmit:e})=>{const{register:n,handleSubmit:r,watch:i,setValue:a}=Rm({defaultValues:a9(t,"photo")});ae.useEffect(()=>{typeof t.name=="string"&&a("name",t.name)},[t.name,a]),ae.useEffect(()=>{typeof t.about=="string"&&a("about",t.about)},[t.about,a]);const{data:o}=JA(t.photo),s=r(async p=>{await e(p)}),[c,f]=ae.useState();ae.useEffect(()=>{const p=i(async(m,{name:y})=>{var _;if(y==="photo"){const b=(_=m.photo)==null?void 0:_[0];b&&f(await Gle(b))}});return()=>p.unsubscribe()},[i]);const h=c||o;return de.jsxs("form",{onSubmit:s,children:[de.jsx("label",{htmlFor:"name",children:"Name"}),de.jsx("input",{id:"name",type:"text",...n("name"),placeholder:"Name"}),de.jsx("label",{htmlFor:"photo",children:"Photo"}),de.jsxs("label",{tabIndex:0,htmlFor:"photo",className:Ez.uploadButton,style:h?{backgroundImage:`url(${h})`}:void 0,children:[de.jsx(cce,{}),de.jsx("input",{id:"photo",type:"file",...n("photo"),accept:"image/*"})]}),de.jsx("label",{htmlFor:"about",children:"About me"}),de.jsx("textarea",{id:"about",...n("about")}),de.jsx(Vr,{primary:!0,children:"Save changes"})]})},hEe="_container_14k79_1",pEe={container:hEe},gEe=()=>{const t=Bi(),{data:e}=W0(t.webId);return de.jsxs("div",{className:pEe.container,children:[de.jsxs(jc,{to:"travel",secondary:!0,children:[de.jsx(dce,{size:24})," travel"]}),de.jsxs(jc,{to:"host",secondary:!0,children:[de.jsx(gB,{size:24})," host"]}),de.jsxs(jc,{to:"messages",secondary:!0,children:[de.jsx(yce,{size:24})," messages",e!=null&&e.length?` (${e.length} new)`:null]})]})},mEe="_container_u0fgb_1",M2={container:mEe},Tz=({tabs:t,children:e})=>de.jsxs("div",{className:M2.container,children:[e,de.jsx("nav",{className:M2.navigation,children:t.map(({link:n,label:r})=>de.jsx(kK,{className:({isActive:i})=>i?M2.active:void 0,to:n,children:r},n))})]}),yEe=()=>de.jsx(Tz,{tabs:[],children:de.jsx(v0,{})}),vEe=()=>de.jsx(xA,{to:"offers",replace:!0}),_Ee=()=>de.jsx(de.Fragment,{children:"InvitePeople"});var k_={exports:{}},wEe=k_.exports,g6;function bEe(){return g6||(g6=1,function(t,e){(function(n,r){t.exports=r()})(wEe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",c="hour",f="day",h="week",p="month",m="quarter",y="year",_="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var se=["th","st","nd","rd"],pe=te%100;return"["+te+(se[(pe-20)%10]||se[pe]||se[0])+"]"}},A=function(te,se,pe){var be=String(te);return!be||be.length>=se?te:""+Array(se+1-be.length).join(pe)+te},I={s:A,z:function(te){var se=-te.utcOffset(),pe=Math.abs(se),be=Math.floor(pe/60),ce=pe%60;return(se<=0?"+":"-")+A(be,2,"0")+":"+A(ce,2,"0")},m:function te(se,pe){if(se.date()<pe.date())return-te(pe,se);var be=12*(pe.year()-se.year())+(pe.month()-se.month()),ce=se.clone().add(be,p),le=pe-ce<0,Oe=se.clone().add(be+(le?-1:1),p);return+(-(be+(pe-ce)/(le?ce-Oe:Oe-ce))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:p,y,w:h,d:f,D:_,h:c,m:s,s:o,ms:a,Q:m}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},M="en",D={};D[M]=E;var j=function(te){return te instanceof Z},Q=function te(se,pe,be){var ce;if(!se)return M;if(typeof se=="string"){var le=se.toLowerCase();D[le]&&(ce=le),pe&&(D[le]=pe,ce=le);var Oe=se.split("-");if(!ce&&Oe.length>1)return te(Oe[0])}else{var k=se.name;D[k]=se,ce=k}return!be&&ce&&(M=ce),ce||!be&&M},Y=function(te,se){if(j(te))return te.clone();var pe=typeof se=="object"?se:{};return pe.date=te,pe.args=arguments,new Z(pe)},q=I;q.l=Q,q.i=j,q.w=function(te,se){return Y(te,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var Z=function(){function te(pe){this.$L=Q(pe.locale,null,!0),this.parse(pe)}var se=te.prototype;return se.parse=function(pe){this.$d=function(be){var ce=be.date,le=be.utc;if(ce===null)return new Date(NaN);if(q.u(ce))return new Date;if(ce instanceof Date)return new Date(ce);if(typeof ce=="string"&&!/Z$/i.test(ce)){var Oe=ce.match(S);if(Oe){var k=Oe[2]-1||0,ne=(Oe[7]||"0").substring(0,3);return le?new Date(Date.UTC(Oe[1],k,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,ne)):new Date(Oe[1],k,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,ne)}}return new Date(ce)}(pe),this.$x=pe.x||{},this.init()},se.init=function(){var pe=this.$d;this.$y=pe.getFullYear(),this.$M=pe.getMonth(),this.$D=pe.getDate(),this.$W=pe.getDay(),this.$H=pe.getHours(),this.$m=pe.getMinutes(),this.$s=pe.getSeconds(),this.$ms=pe.getMilliseconds()},se.$utils=function(){return q},se.isValid=function(){return this.$d.toString()!==b},se.isSame=function(pe,be){var ce=Y(pe);return this.startOf(be)<=ce&&ce<=this.endOf(be)},se.isAfter=function(pe,be){return Y(pe)<this.startOf(be)},se.isBefore=function(pe,be){return this.endOf(be)<Y(pe)},se.$g=function(pe,be,ce){return q.u(pe)?this[be]:this.set(ce,pe)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(pe,be){var ce=this,le=!!q.u(be)||be,Oe=q.p(pe),k=function(Re,Fe){var Xe=q.w(ce.$u?Date.UTC(ce.$y,Fe,Re):new Date(ce.$y,Fe,Re),ce);return le?Xe:Xe.endOf(f)},ne=function(Re,Fe){return q.w(ce.toDate()[Re].apply(ce.toDate("s"),(le?[0,0,0,0]:[23,59,59,999]).slice(Fe)),ce)},me=this.$W,H=this.$M,J=this.$D,ge="set"+(this.$u?"UTC":"");switch(Oe){case y:return le?k(1,0):k(31,11);case p:return le?k(1,H):k(0,H+1);case h:var Ae=this.$locale().weekStart||0,Je=(me<Ae?me+7:me)-Ae;return k(le?J-Je:J+(6-Je),H);case f:case _:return ne(ge+"Hours",0);case c:return ne(ge+"Minutes",1);case s:return ne(ge+"Seconds",2);case o:return ne(ge+"Milliseconds",3);default:return this.clone()}},se.endOf=function(pe){return this.startOf(pe,!1)},se.$set=function(pe,be){var ce,le=q.p(pe),Oe="set"+(this.$u?"UTC":""),k=(ce={},ce[f]=Oe+"Date",ce[_]=Oe+"Date",ce[p]=Oe+"Month",ce[y]=Oe+"FullYear",ce[c]=Oe+"Hours",ce[s]=Oe+"Minutes",ce[o]=Oe+"Seconds",ce[a]=Oe+"Milliseconds",ce)[le],ne=le===f?this.$D+(be-this.$W):be;if(le===p||le===y){var me=this.clone().set(_,1);me.$d[k](ne),me.init(),this.$d=me.set(_,Math.min(this.$D,me.daysInMonth())).$d}else k&&this.$d[k](ne);return this.init(),this},se.set=function(pe,be){return this.clone().$set(pe,be)},se.get=function(pe){return this[q.p(pe)]()},se.add=function(pe,be){var ce,le=this;pe=Number(pe);var Oe=q.p(be),k=function(H){var J=Y(le);return q.w(J.date(J.date()+Math.round(H*pe)),le)};if(Oe===p)return this.set(p,this.$M+pe);if(Oe===y)return this.set(y,this.$y+pe);if(Oe===f)return k(1);if(Oe===h)return k(7);var ne=(ce={},ce[s]=r,ce[c]=i,ce[o]=n,ce)[Oe]||1,me=this.$d.getTime()+pe*ne;return q.w(me,this)},se.subtract=function(pe,be){return this.add(-1*pe,be)},se.format=function(pe){var be=this,ce=this.$locale();if(!this.isValid())return ce.invalidDate||b;var le=pe||"YYYY-MM-DDTHH:mm:ssZ",Oe=q.z(this),k=this.$H,ne=this.$m,me=this.$M,H=ce.weekdays,J=ce.months,ge=function(Fe,Xe,ie,z){return Fe&&(Fe[Xe]||Fe(be,le))||ie[Xe].slice(0,z)},Ae=function(Fe){return q.s(k%12||12,Fe,"0")},Je=ce.meridiem||function(Fe,Xe,ie){var z=Fe<12?"AM":"PM";return ie?z.toLowerCase():z},Re={YY:String(this.$y).slice(-2),YYYY:q.s(this.$y,4,"0"),M:me+1,MM:q.s(me+1,2,"0"),MMM:ge(ce.monthsShort,me,J,3),MMMM:ge(J,me),D:this.$D,DD:q.s(this.$D,2,"0"),d:String(this.$W),dd:ge(ce.weekdaysMin,this.$W,H,2),ddd:ge(ce.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(k),HH:q.s(k,2,"0"),h:Ae(1),hh:Ae(2),a:Je(k,ne,!0),A:Je(k,ne,!1),m:String(ne),mm:q.s(ne,2,"0"),s:String(this.$s),ss:q.s(this.$s,2,"0"),SSS:q.s(this.$ms,3,"0"),Z:Oe};return le.replace(x,function(Fe,Xe){return Xe||Re[Fe]||Oe.replace(":","")})},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(pe,be,ce){var le,Oe=q.p(be),k=Y(pe),ne=(k.utcOffset()-this.utcOffset())*r,me=this-k,H=q.m(this,k);return H=(le={},le[y]=H/12,le[p]=H,le[m]=H/3,le[h]=(me-ne)/6048e5,le[f]=(me-ne)/864e5,le[c]=me/i,le[s]=me/r,le[o]=me/n,le)[Oe]||me,ce?H:q.a(H)},se.daysInMonth=function(){return this.endOf(p).$D},se.$locale=function(){return D[this.$L]},se.locale=function(pe,be){if(!pe)return this.$L;var ce=this.clone(),le=Q(pe,be,!0);return le&&(ce.$L=le),ce},se.clone=function(){return q.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},te}(),fe=Z.prototype;return Y.prototype=fe,[["$ms",a],["$s",o],["$m",s],["$H",c],["$W",f],["$M",p],["$y",y],["$D",_]].forEach(function(te){fe[te[1]]=function(se){return this.$g(se,te[0],te[1])}}),Y.extend=function(te,se){return te.$i||(te(se,Z,Y),te.$i=!0),Y},Y.locale=Q,Y.isDayjs=j,Y.unix=function(te){return Y(1e3*te)},Y.en=D[M],Y.Ls=D,Y.p={},Y})}(k_)),k_.exports}var SEe=bEe();const m6=Gr(SEe),xEe=()=>{const t=tf(Od);return ae.useCallback(async({senderId:e,message:n,chat:r})=>{const a=`${ri(r)}${m6().format("YYYY/MM/DD")}/chat.ttl`,o=`${a}#msg-${yl()}`,s=new Date().toISOString();return await t.mutateAsync({uri:ri(r)+m6().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:c=>{c.message??(c.message=[]),c.message.push({"@id":o,created:s,content:n,maker:{"@id":e}})}}),{messageId:o,todayChat:a,createdAt:s}},[t])},EEe=()=>{const t=No(z8);return ae.useCallback(async({inbox:e,senderId:n,messageId:r,chatId:i,updated:a,content:o})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:o,maker:{"@id":n}},target:{"@id":i},updated:a}})},[t])},TEe=()=>{const t=No(Od),e=No(rf),n=o9();return ae.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:o,privateTypeIndex:s})=>{const c=`${o}messages/${yl()}/`,f=`${c}index.ttl`,h=`${f}#this`,p=new Date().toISOString();await t.mutateAsync({uri:f,data:{"@id":h,type:{"@id":"LongChat"},author:{"@id":r},created2:p,title:"Hospex chat channel",participation:[{"@id":`${f}#${yl()}`,dtstart:p,participant:{"@id":r}},{"@id":`${f}#${yl()}`,dtstart:p,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const m=await Tl(c);return await e.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":c}],default:{"@id":c},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":c}],default:{"@id":c},mode:[{"@id":Sn.Read}]}]}),await n({index:s,type:I8.LongChat,location:h}),{chatContainer:c,chatFile:f,chatId:h}},[e,t,n])},CEe=()=>{const t=tf(Od),e=G0();return ae.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await t.mutateAsync({uri:r,subject:r,transform:o=>{var c,f,h;if(!o.participation)throw new Error("no participation");if(o.participation&&o.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const s=(c=o.participation)==null?void 0:c.find(p=>{var m;return((m=p.participant)==null?void 0:m["@id"])===a});if(!s)throw new Error("other person's participation not found");if(((f=s.references)==null?void 0:f.length)===1&&s.references[0]["@id"]===i)throw new Error("already updated");if(s.references&&((h=s.references)==null?void 0:h.length)>0)throw new Error("participation already references some other chat");s.references=[{"@id":i}]}})}catch(o){if(!(o instanceof Error&&o.message==="already updated"))throw o}await e.mutateAsync({uri:n})},[e,t])},AEe=({me:t,userId:e})=>{const{quads:n,variables:r,isLoading:i}=ba(ae.useMemo(()=>({query:mhe,variables:{person:[t],otherPerson:[e]},fetch:dr,staleTime:3e4}),[t,e])),a=ae.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Od);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>p.fromSubject(y)).filter(y=>{var _;return((_=y.participation)==null?void 0:_.length)&&y.participation.length<=2}).flatMap(y=>{var _;return(_=y==null?void 0:y.message)==null?void 0:_.flatMap(b=>{var S;return{id:b["@id"],message:b.content,createdAt:new Date(b.created).getTime(),from:b.maker["@id"],chat:y["@id"],test:(S=y.participation)==null?void 0:S.map(x=>x.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),o=ae.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Od);return(r.chatWithOtherPerson??[]).map(y=>p.fromSubject(y)).filter(y=>{var _;return((_=y.participation)==null?void 0:_.length)&&y.participation.length<=2}).flatMap(y=>{var _,b;return y["@id"]?{myChat:y["@id"],otherChats:(b=(_=y.participation)==null?void 0:_[0].references)==null?void 0:b.flatMap(S=>S["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:s,...c}=W0(t),f=ae.useMemo(()=>s.filter(p=>p.from===e),[s,e]);return[ae.useMemo(()=>{const p=[...a];return f.forEach(m=>{const y=a.findIndex(_=>_.id===m.id);y>-1?p[y]=m:p.push(m)}),p.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,f]),{isLoading:i},c,o]},REe=({from:t,to:e,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:t.id,name:t.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:e.id,name:e.name}}),PEe=t=>async({data:e})=>{if(!(await dr(new URL("notification",t),{method:"POST",body:JSON.stringify(REe(e)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},OEe=({from:t,to:e,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=Un();n??(n=i);const[o]=Fo(t,n),[s]=Fo(e,n),{mutateAsync:c}=Ea({mutationFn:PEe(a)});return ae.useCallback(async f=>{await c({type:r,data:{...f,from:o,to:s}})},[o,c,s,r])};var Cz=Symbol.for("immer-nothing"),y6=Symbol.for("immer-draftable"),Ha=Symbol.for("immer-state");function Mo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Dd=Object.getPrototypeOf;function kd(t){return!!t&&!!t[Ha]}function Gc(t){var e;return t?Az(t)||Array.isArray(t)||!!t[y6]||!!((e=t.constructor)!=null&&e[y6])||sw(t)||uw(t):!1}var LEe=Object.prototype.constructor.toString();function Az(t){if(!t||typeof t!="object")return!1;const e=Dd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===LEe}function Xg(t,e){ow(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function ow(t){const e=t[Ha];return e?e.type_:Array.isArray(t)?1:sw(t)?2:uw(t)?3:0}function rA(t,e){return ow(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Rz(t,e,n){const r=ow(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IEe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sw(t){return t instanceof Map}function uw(t){return t instanceof Set}function Sc(t){return t.copy_||t.base_}function iA(t,e){if(sw(t))return new Map(t);if(uw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Az(t))return Dd(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Ha];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Dd(t),n)}function eP(t,e=!1){return lw(t)||kd(t)||!Gc(t)||(ow(t)>1&&(t.set=t.add=t.clear=t.delete=MEe),Object.freeze(t),e&&Xg(t,(n,r)=>eP(r,!0))),t}function MEe(){Mo(2)}function lw(t){return Object.isFrozen(t)}var DEe={};function Wc(t){const e=DEe[t];return e||Mo(0,t),e}var em;function Pz(){return em}function kEe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v6(t,e){e&&(Wc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function aA(t){oA(t),t.drafts_.forEach(NEe),t.drafts_=null}function oA(t){t===em&&(em=t.parent_)}function _6(t){return em=kEe(em,t)}function NEe(t){const e=t[Ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function w6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ha].modified_&&(aA(e),Mo(4)),Gc(t)&&(t=h0(e,t),e.parent_||p0(e,t)),e.patches_&&Wc("Patches").generateReplacementPatches_(n[Ha].base_,t,e.patches_,e.inversePatches_)):t=h0(e,n,[]),aA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Cz?t:void 0}function h0(t,e,n){if(lw(e))return e;const r=e[Ha];if(!r)return Xg(e,(i,a)=>b6(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return p0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),Xg(a,(s,c)=>b6(t,r,i,s,c,n,o)),p0(t,i,!1),n&&t.patches_&&Wc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function b6(t,e,n,r,i,a,o){if(kd(i)){const s=a&&e&&e.type_!==3&&!rA(e.assigned_,r)?a.concat(r):void 0,c=h0(t,i,s);if(Rz(n,r,c),kd(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Gc(i)&&!lw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;h0(t,i),(!e||!e.scope_.parent_)&&p0(t,i)}}function p0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eP(e,n)}function FEe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Pz(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=tP;n&&(i=[r],a=tm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var tP={get(t,e){if(e===Ha)return t;const n=Sc(t);if(!rA(n,e))return jEe(t,n,e);const r=n[e];return t.finalized_||!Gc(r)?r:r===D2(t.base_,e)?(k2(t),t.copy_[e]=uA(r,t)):r},has(t,e){return e in Sc(t)},ownKeys(t){return Reflect.ownKeys(Sc(t))},set(t,e,n){const r=Oz(Sc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=D2(Sc(t),e),a=i==null?void 0:i[Ha];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IEe(n,i)&&(n!==void 0||rA(t.base_,e)))return!0;k2(t),sA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return D2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,k2(t),sA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Sc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Mo(11)},getPrototypeOf(t){return Dd(t.base_)},setPrototypeOf(){Mo(12)}},tm={};Xg(tP,(t,e)=>{tm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});tm.deleteProperty=function(t,e){return tm.set.call(this,t,e,void 0)};tm.set=function(t,e,n){return tP.set.call(this,t[0],e,n,t[0])};function D2(t,e){const n=t[Ha];return(n?Sc(n):t)[e]}function jEe(t,e,n){var i;const r=Oz(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Oz(t,e){if(!(e in t))return;let n=Dd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Dd(n)}}function sA(t){t.modified_||(t.modified_=!0,t.parent_&&sA(t.parent_))}function k2(t){t.copy_||(t.copy_=iA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $Ee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(c=a,...f){return o.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&Mo(6),r!==void 0&&typeof r!="function"&&Mo(7);let i;if(Gc(e)){const a=_6(this),o=uA(e,void 0);let s=!0;try{i=n(o),s=!1}finally{s?aA(a):oA(a)}return v6(a,r),w6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Cz&&(i=void 0),this.autoFreeze_&&eP(i,!0),r){const a=[],o=[];Wc("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Mo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,c=>e(c,...s));let r,i;return[this.produce(e,n,(o,s)=>{r=o,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gc(t)||Mo(8),kd(t)&&(t=UEe(t));const e=_6(this),n=uA(t,void 0);return n[Ha].isManual_=!0,oA(e),n}finishDraft(t,e){const n=t&&t[Ha];(!n||!n.isManual_)&&Mo(9);const{scope_:r}=n;return v6(r,e),w6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Wc("Patches").applyPatches_;return kd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function uA(t,e){const n=sw(t)?Wc("MapSet").proxyMap_(t,e):uw(t)?Wc("MapSet").proxySet_(t,e):FEe(t,e);return(e?e.scope_:Pz()).drafts_.push(n),n}function UEe(t){return kd(t)||Mo(10,t),Lz(t)}function Lz(t){if(!Gc(t)||lw(t))return t;const e=t[Ha];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=iA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=iA(t,!0);return Xg(n,(r,i)=>{Rz(n,r,Lz(i))}),e&&(e.finalized_=!1),n}var Va=new $Ee,N2=Va.produce;Va.produceWithPatches.bind(Va);Va.setAutoFreeze.bind(Va);Va.setUseStrictShallowCopy.bind(Va);Va.applyPatches.bind(Va);Va.createDraft.bind(Va);Va.finishDraft.bind(Va);const BEe="_messages_1tp4g_1",qEe="_message_1tp4g_1",zEe="_fromMe_1tp4g_13",HEe="_unread_1tp4g_18",VEe="_time_1tp4g_21",KEe="_messageForm_1tp4g_25",Zf={messages:BEe,message:qEe,fromMe:zEe,unread:HEe,time:VEe,messageForm:KEe},GEe=()=>{var se,pe;const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=Un(),r=bA().id,i=Bi(),[a,o]=ae.useState(!1),[s,c,f,h]=AEe({me:i.webId??"",userId:r}),{privateTypeIndexes:p,personalHospexDocuments:m}=Qg(i.webId??"",t),[y]=rq(r),_=(se=y==null?void 0:y.inbox)==null?void 0:se["@id"],b=xEe(),S=EEe(),x=TEe(),E=OEe({from:i.webId,to:r,type:"message"}),A=CEe(),[I,M]=ae.useState({}),D=ae.useRef(new Set);ae.useEffect(()=>{(async()=>{var be;if(s&&i.webId&&((be=h[0])!=null&&be.myChat)){for(const ce of s)if(ce.notification&&!(ce.id in I)&&!D.current.has(ce.id)){D.current.add(ce.id),M(N2(le=>{le[ce.id]="processing"}));try{await A({notificationId:ce.notification,chat:h[0].myChat,otherChat:ce.chat,otherPerson:r}),M(N2(le=>{le[ce.id]="processed"}))}catch{M(N2(le=>{le[ce.id]="errored"}))}}}})()},[i.webId,h,s,I,r,A]);const j=(pe=s.filter(be=>be.notification).find(be=>!!be.chat))==null?void 0:pe.chat,{register:Q,handleSubmit:Y,reset:q}=Rm(),Z=Y(async be=>{var k,ne,me;if(!i.webId)throw new Error("No authenticated user available");if(o(!0),!_)throw new Error("Inbox of the other person not found (probably too soon)");let ce=(k=h[0])==null?void 0:k.myChat;if(!ce){if(!m[0])throw new Error("Hospex not set up (should not happen)");if(!p[0])throw new Error("Private type index not set up (should not happen)");({chatId:ce}=await x({me:i.webId,otherPerson:r,hospexContainer:ri(m[0]),otherChat:((me=(ne=h[0])==null?void 0:ne.otherChats)==null?void 0:me[0])??j??void 0,privateTypeIndex:p[0]}))}const{messageId:le,createdAt:Oe}=await fs(b({senderId:i.webId,message:be.message,chat:ce}),{pending:"Creating message",success:"Message was created"});await fs(S({inbox:_,senderId:i.webId,messageId:le,chatId:ce,updated:Oe,content:be.message}),{pending:"Sending Solid notification",success:"Solid notification was sent"}),q({message:""}),o(!1),e&&n==="simple"&&await fs(E({messageId:le,message:be.message}),{pending:"Sending email notification",success:"Email notification was sent"})}),fe=a||!_,te=!c.isLoading&&!f.isLoading&&!h.some(be=>!!be.myChat);return de.jsxs("div",{children:[de.jsx("pre",{children:(c.isLoading||f.isLoading)&&"Loading"}),"Messages with ",de.jsx(HR,{webId:r,link:!0}),de.jsx("div",{className:Zf.messages,children:(s==null?void 0:s.map(({id:be,message:ce,from:le,createdAt:Oe,status:k})=>de.jsxs("div",{className:ii(Zf.message,le===i.webId&&Zf.fromMe,k==="unread"&&Zf.unread),"data-cy":"message","data-cy-message-from":le===i.webId?"me":"other",children:[ce," ",de.jsx("span",{className:Zf.time,title:new Date(Oe).toLocaleString(),children:new Date(Oe).toLocaleTimeString()})]},be)))??de.jsx("div",{children:de.jsx(Sa,{children:"Loading previous messages"})})}),te&&de.jsx(de.Fragment,{children:"This is a start of your conversation"}),de.jsx("form",{onSubmit:Z,className:Zf.messageForm,children:de.jsxs("fieldset",{disabled:fe,children:[de.jsx("textarea",{...Q("message",{required:!0})}),de.jsx(Vr,{primary:!0,type:"submit",disabled:fe,children:"Send"})]})})]})},WEe=()=>de.jsx(de.Fragment,{children:"MyGuests"}),QEe=()=>de.jsx(de.Fragment,{children:"MyHosts"});/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const mc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.add(n)})},yc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.remove(n)})},Iz=An.Marker.extend({initialize(t,e){An.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const n=this._getIconSVG(t,e);this._locationIcon=An.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const n=t.radius,r=t.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+e+'" /></svg>',w:a,h:a}},setStyle(t){An.setOptions(this,t),this.createIcon()}}),ZEe=Iz.extend({initialize(t,e,n){An.setOptions(this,n),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const n=t.radius,r=t.width+t.weight,i=(n+t.depth+t.weight)*2,a=`M0,0 l${t.width/2},${t.depth} l-${r},0 z`,o=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${o}"><path d="`+a+'" style="'+e+'" /></svg>',w:r,h:i}}}),JEe=An.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:Iz,compassClass:ZEe,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const n=An.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);n.title=e.strings.title,n.href="#",n.setAttribute("role","button");const r=An.DomUtil.create(e.iconElementTag,e.icon,n);if(e.strings.text!==void 0){const i=An.DomUtil.create(e.textElementTag,"leaflet-locate-text",n);i.textContent=e.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",e.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?An.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=An.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=An.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=An.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=An.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new An.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,An.DomEvent.on(this._link,"click",function(r){An.DomEvent.stopPropagation(r),An.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",An.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,n=function(){An.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?An.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&An.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),An.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(o):this._circle=An.circle(e,t,o).addTo(this._layer)}let n,r;if(this.options.metric?(n=t.toFixed(0),r=this.options.strings.metersUnit):(n=(t*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(e,o).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?An.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(e),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,An.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(yc(this._container,"active following"),mc(this._container,"requesting"),yc(this._icon,this.options.icon),mc(this._icon,this.options.iconLoading)):t=="active"?(yc(this._container,"requesting following"),mc(this._container,"active"),yc(this._icon,this.options.iconLoading),mc(this._icon,this.options.icon)):t=="following"&&(yc(this._container,"requesting"),mc(this._container,"active following"),yc(this._icon,this.options.iconLoading),mc(this._icon,this.options.icon))},_cleanClasses(){An.DomUtil.removeClass(this._container,"requesting"),An.DomUtil.removeClass(this._container,"active"),An.DomUtil.removeClass(this._container,"following"),yc(this._icon,this.options.iconLoading),mc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function YEe(t,e){const n=ae.useRef(e);ae.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const XEe=1;function eTe(t){return Object.freeze({__version:XEe,map:t})}function tTe(t,e){return Object.freeze({...t,...e})}const nP=ae.createContext(null);function cw(){const t=ae.use(nP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Mz(t){function e(n,r){const{instance:i,context:a}=t(n).current;ae.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:Gt.createElement(nP,{value:a},o)}return ae.forwardRef(e)}function Dz(t){function e(n,r){const{instance:i}=t(n).current;return ae.useImperativeHandle(r,()=>i),null}return ae.forwardRef(e)}function nTe(t){return function(n){const r=cw(),i=t(n,r),{instance:a}=i.current,o=ae.useRef(n.position),{position:s}=n;return ae.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),ae.useEffect(function(){s!=null&&s!==o.current&&(a.setPosition(s),o.current=s)},[a,s]),i}}function kz(t,e){const n=ae.useRef(void 0);ae.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function rP(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function iP(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function fw(t,e){return e==null?function(r,i){const a=ae.useRef(void 0);return a.current||(a.current=t(r,i)),a}:function(r,i){const a=ae.useRef(void 0);a.current||(a.current=t(r,i));const o=ae.useRef(r),{instance:s}=a.current;return ae.useEffect(function(){o.current!==r&&(e(s,r,o.current),o.current=r)},[s,r,e]),a}}function Nz(t,e){ae.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Fz(t){return function(n){const r=cw(),i=t(rP(n,r),r);return YEe(r.map,n.attribution),kz(i.current,n.eventHandlers),Nz(i.current,r),i}}function rTe(t,e){const n=ae.useRef(void 0);ae.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function iTe(t){return function(n){const r=cw(),i=t(rP(n,r),r);return kz(i.current,n.eventHandlers),Nz(i.current,r),rTe(i.current,n),i}}function aTe(t){function e(i,a){return iP(t(i),a)}const n=fw(e),r=nTe(n);return Dz(r)}function oTe(t,e){const n=fw(t,e),r=Fz(n);return Mz(r)}function sTe(t,e){const n=fw(t,e),r=iTe(n);return Mz(r)}function uTe(t,e){const n=fw(t,e),r=Fz(n);return Dz(r)}function lTe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const jz=aTe(t=>new JEe(t));function aP(){return cw().map}function F2(t,e){const n=aP();return ae.useEffect(function(){return n.on(t,e),function(){n.off(t,e)}},[n,t,e]),n}function cTe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:c,zoom:f,...h},p){const[m]=ae.useState({className:i,id:a,style:s}),[y,_]=ae.useState(null),b=ae.useRef(void 0);ae.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const S=ae.useCallback(E=>{if(E!==null&&!b.current){const A=new An.Map(E,h);b.current=A,n!=null&&f!=null?A.setView(n,f):t!=null&&A.fitBounds(t,e),c!=null&&A.whenReady(c),_(eTe(A))}},[]);ae.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const x=y?Gt.createElement(nP,{value:y},r):o??null;return Gt.createElement("div",{...m,ref:S},x)}const oP=ae.forwardRef(cTe),sP=oTe(function({position:e,...n},r){const i=new An.Marker(e,n);return iP(i,tTe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),uP=uTe(function({url:e,...n},r){const i=new An.TileLayer(e,rP(n,r));return iP(i,r)},function(e,n,r){lTe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),fTe="_mapContainer_zpxie_1",dTe="_description_zpxie_11",lA={mapContainer:fTe,description:dTe},S6=t=>(t%360-180*3)%360+180,Tv=t=>{const e=t.getBounds();return{n:e.getNorth(),s:e.getSouth(),e:e.getEast(),w:e.getWest()}},$z=({onChange:t,onUpdate:e})=>{const n=aP(),r=ae.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),c=Tv(n);t==null||t({lat:o,long:s},c)},[n,t]),i=ae.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),c=S6(s),f={lat:o,long:c};if(Math.abs(c-s)>1){n.setView([o,c],n.getZoom(),{animate:!1});const p=Tv(n);t==null||t(f,p)}const h=Tv(n);e==null||e(f,h)},[n,t,e]),a=ae.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),c=S6(s),f={lat:o,long:c};Math.abs(c-s)>1&&n.setView([o,c],n.getZoom(),{animate:!1});const h=Tv(n);e==null||e(f,h)},[n,e]);return F2("load",a),F2("move",r),F2("moveend",i),ae.useEffect(()=>{n&&a()},[a,n]),null},hTe=({value:t,onChange:e,isInitial:n})=>{const r=ae.useMemo(()=>[t.lat,t.long],[t.lat,t.long]),{tileServer:i}=Un();return de.jsxs(oP,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:ii(lA.mapContainer,"accommodation-map-container-edit"),children:[de.jsx(uP,{url:i}),de.jsx(jz,{strings:{title:"Select my location"},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),de.jsx(sP,{position:r}),de.jsx($z,{onChange:e})]})},pTe="_container_1saps_1",gTe="_header_1saps_10",mTe="_accommodation_1saps_17",yTe="_accommodationForm_1saps_27",vTe="_errorMessage_1saps_34",_Te="_inputError_1saps_39",wTe="_actions_1saps_45",bTe="_addAccommodationButton_1saps_54",lo={container:pTe,header:gTe,accommodation:mTe,accommodationForm:yTe,errorMessage:vTe,inputError:_Te,actions:wTe,addAccommodationButton:bTe};var x6=function(t,e,n){if(t&&"reportValidity"in t){var r=$t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Uz=function(t,e){var n=function(i){var a=e.fields[i];a&&a.ref&&"reportValidity"in a.ref?x6(a.ref,i,t):a.refs&&a.refs.forEach(function(o){return x6(o,i,t)})};for(var r in e.fields)n(r)},STe=function(t,e){e.shouldUseNativeValidation&&Uz(t,e);var n={};for(var r in t){var i=$t(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(xTe(e.names||Object.keys(t),r)){var o=Object.assign({},$t(n,r));yr(o,"root",a),yr(n,r,o)}else yr(n,r,a)}return n},xTe=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},Cv={exports:{}},j2={},Zs={},vc={},$2={},U2={},B2={},E6;function nm(){return E6||(E6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(E){if(super(),!t.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((A,I)=>`${A}${I}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((A,I)=>(I instanceof n&&(A[I.str]=(A[I.str]||0)+1),A),{})}}t._Code=r,t.nil=new r("");function i(x,...E){const A=[x[0]];let I=0;for(;I<E.length;)s(A,E[I]),A.push(x[++I]);return new r(A)}t._=i;const a=new r("+");function o(x,...E){const A=[y(x[0])];let I=0;for(;I<E.length;)A.push(a),s(A,E[I]),A.push(a,y(x[++I]));return c(A),new r(A)}t.str=o;function s(x,E){E instanceof r?x.push(...E._items):E instanceof n?x.push(E):x.push(p(E))}t.addCodeArg=s;function c(x){let E=1;for(;E<x.length-1;){if(x[E]===a){const A=f(x[E-1],x[E+1]);if(A!==void 0){x.splice(E-1,3,A);continue}x[E++]="+"}E++}}function f(x,E){if(E==='""')return x;if(x==='""')return E;if(typeof x=="string")return E instanceof n||x[x.length-1]!=='"'?void 0:typeof E!="string"?`${x.slice(0,-1)}${E}"`:E[0]==='"'?x.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(x instanceof n))return`"${x}${E.slice(1)}`}function h(x,E){return E.emptyStr()?x:x.emptyStr()?E:o`${x}${E}`}t.strConcat=h;function p(x){return typeof x=="number"||typeof x=="boolean"||x===null?x:y(Array.isArray(x)?x.join(","):x)}function m(x){return new r(y(x))}t.stringify=m;function y(x){return JSON.stringify(x).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function _(x){return typeof x=="string"&&t.IDENTIFIER.test(x)?new r(`.${x}`):i`[${x}]`}t.getProperty=_;function b(x){if(typeof x=="string"&&t.IDENTIFIER.test(x))return new r(`${x}`);throw new Error(`CodeGen: invalid export name: ${x}, use explicit $id name mapping`)}t.getEsmExportName=b;function S(x){return new r(x.toString())}t.regexpCode=S}(B2)),B2}var q2={},T6;function C6(){return T6||(T6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=nm();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:f,parent:h}={}){this._names={},this._prefixes=f,this._parent=h}toName(f){return f instanceof e.Name?f:this.name(f)}name(f){return new e.Name(this._newName(f))}_newName(f){const h=this._names[f]||this._nameGroup(f);return`${f}${h.index++}`}_nameGroup(f){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}t.Scope=i;class a extends e.Name{constructor(f,h){super(h),this.prefix=f}setValue(f,{property:h,itemIndex:p}){this.value=f,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class s extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:e.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(f),{prefix:y}=m,_=(p=h.key)!==null&&p!==void 0?p:h.ref;let b=this._values[y];if(b){const E=b.get(_);if(E)return E}else b=this._values[y]=new Map;b.set(_,m);const S=this._scope[y]||(this._scope[y]=[]),x=S.length;return S[x]=h.ref,m.setValue(h,{property:y,itemIndex:x}),m}getValue(f,h){const p=this._values[f];if(p)return p.get(h)}scopeRefs(f,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${f}${p.scopePath}`})}scopeCode(f=this._values,h,p){return this._reduceValues(f,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},h,p)}_reduceValues(f,h,p={},m){let y=e.nil;for(const _ in f){const b=f[_];if(!b)continue;const S=p[_]=p[_]||new Map;b.forEach(x=>{if(S.has(x))return;S.set(x,r.Started);let E=h(x);if(E){const A=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${A} ${x} = ${E};${this.opts._n}`}else if(E=m==null?void 0:m(x))y=(0,e._)`${y}${E}${this.opts._n}`;else throw new n(x);S.set(x,r.Completed)})}return y}}t.ValueScope=s}(q2)),q2}var A6;function On(){return A6||(A6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=nm(),n=C6();var r=nm();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=C6();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(J,ge){return this}}class o extends a{constructor(J,ge,Ae){super(),this.varKind=J,this.name=ge,this.rhs=Ae}render({es5:J,_n:ge}){const Ae=J?n.varKinds.var:this.varKind,Je=this.rhs===void 0?"":` = ${this.rhs}`;return`${Ae} ${this.name}${Je};`+ge}optimizeNames(J,ge){if(J[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,J,ge)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(J,ge,Ae){super(),this.lhs=J,this.rhs=ge,this.sideEffects=Ae}render({_n:J}){return`${this.lhs} = ${this.rhs};`+J}optimizeNames(J,ge){if(!(this.lhs instanceof e.Name&&!J[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,J,ge),this}get names(){const J=this.lhs instanceof e.Name?{}:{...this.lhs.names};return te(J,this.rhs)}}class c extends s{constructor(J,ge,Ae,Je){super(J,Ae,Je),this.op=ge}render({_n:J}){return`${this.lhs} ${this.op}= ${this.rhs};`+J}}class f extends a{constructor(J){super(),this.label=J,this.names={}}render({_n:J}){return`${this.label}:`+J}}class h extends a{constructor(J){super(),this.label=J,this.names={}}render({_n:J}){return`break${this.label?` ${this.label}`:""};`+J}}class p extends a{constructor(J){super(),this.error=J}render({_n:J}){return`throw ${this.error};`+J}get names(){return this.error.names}}class m extends a{constructor(J){super(),this.code=J}render({_n:J}){return`${this.code};`+J}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(J,ge){return this.code=se(this.code,J,ge),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends a{constructor(J=[]){super(),this.nodes=J}render(J){return this.nodes.reduce((ge,Ae)=>ge+Ae.render(J),"")}optimizeNodes(){const{nodes:J}=this;let ge=J.length;for(;ge--;){const Ae=J[ge].optimizeNodes();Array.isArray(Ae)?J.splice(ge,1,...Ae):Ae?J[ge]=Ae:J.splice(ge,1)}return J.length>0?this:void 0}optimizeNames(J,ge){const{nodes:Ae}=this;let Je=Ae.length;for(;Je--;){const Re=Ae[Je];Re.optimizeNames(J,ge)||(pe(J,Re.names),Ae.splice(Je,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((J,ge)=>fe(J,ge.names),{})}}class _ extends y{render(J){return"{"+J._n+super.render(J)+"}"+J._n}}class b extends y{}class S extends _{}S.kind="else";class x extends _{constructor(J,ge){super(ge),this.condition=J}render(J){let ge=`if(${this.condition})`+super.render(J);return this.else&&(ge+="else "+this.else.render(J)),ge}optimizeNodes(){super.optimizeNodes();const J=this.condition;if(J===!0)return this.nodes;let ge=this.else;if(ge){const Ae=ge.optimizeNodes();ge=this.else=Array.isArray(Ae)?new S(Ae):Ae}if(ge)return J===!1?ge instanceof x?ge:ge.nodes:this.nodes.length?this:new x(be(J),ge instanceof x?[ge]:ge.nodes);if(!(J===!1||!this.nodes.length))return this}optimizeNames(J,ge){var Ae;if(this.else=(Ae=this.else)===null||Ae===void 0?void 0:Ae.optimizeNames(J,ge),!!(super.optimizeNames(J,ge)||this.else))return this.condition=se(this.condition,J,ge),this}get names(){const J=super.names;return te(J,this.condition),this.else&&fe(J,this.else.names),J}}x.kind="if";class E extends _{}E.kind="for";class A extends E{constructor(J){super(),this.iteration=J}render(J){return`for(${this.iteration})`+super.render(J)}optimizeNames(J,ge){if(super.optimizeNames(J,ge))return this.iteration=se(this.iteration,J,ge),this}get names(){return fe(super.names,this.iteration.names)}}class I extends E{constructor(J,ge,Ae,Je){super(),this.varKind=J,this.name=ge,this.from=Ae,this.to=Je}render(J){const ge=J.es5?n.varKinds.var:this.varKind,{name:Ae,from:Je,to:Re}=this;return`for(${ge} ${Ae}=${Je}; ${Ae}<${Re}; ${Ae}++)`+super.render(J)}get names(){const J=te(super.names,this.from);return te(J,this.to)}}class M extends E{constructor(J,ge,Ae,Je){super(),this.loop=J,this.varKind=ge,this.name=Ae,this.iterable=Je}render(J){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(J)}optimizeNames(J,ge){if(super.optimizeNames(J,ge))return this.iterable=se(this.iterable,J,ge),this}get names(){return fe(super.names,this.iterable.names)}}class D extends _{constructor(J,ge,Ae){super(),this.name=J,this.args=ge,this.async=Ae}render(J){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(J)}}D.kind="func";class j extends y{render(J){return"return "+super.render(J)}}j.kind="return";class Q extends _{render(J){let ge="try"+super.render(J);return this.catch&&(ge+=this.catch.render(J)),this.finally&&(ge+=this.finally.render(J)),ge}optimizeNodes(){var J,ge;return super.optimizeNodes(),(J=this.catch)===null||J===void 0||J.optimizeNodes(),(ge=this.finally)===null||ge===void 0||ge.optimizeNodes(),this}optimizeNames(J,ge){var Ae,Je;return super.optimizeNames(J,ge),(Ae=this.catch)===null||Ae===void 0||Ae.optimizeNames(J,ge),(Je=this.finally)===null||Je===void 0||Je.optimizeNames(J,ge),this}get names(){const J=super.names;return this.catch&&fe(J,this.catch.names),this.finally&&fe(J,this.finally.names),J}}class Y extends _{constructor(J){super(),this.error=J}render(J){return`catch(${this.error})`+super.render(J)}}Y.kind="catch";class q extends _{render(J){return"finally"+super.render(J)}}q.kind="finally";class Z{constructor(J,ge={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ge,_n:ge.lines?`
`:""},this._extScope=J,this._scope=new n.Scope({parent:J}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(J){return this._scope.name(J)}scopeName(J){return this._extScope.name(J)}scopeValue(J,ge){const Ae=this._extScope.value(J,ge);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(J,ge){return this._extScope.getValue(J,ge)}scopeRefs(J){return this._extScope.scopeRefs(J,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(J,ge,Ae,Je){const Re=this._scope.toName(ge);return Ae!==void 0&&Je&&(this._constants[Re.str]=Ae),this._leafNode(new o(J,Re,Ae)),Re}const(J,ge,Ae){return this._def(n.varKinds.const,J,ge,Ae)}let(J,ge,Ae){return this._def(n.varKinds.let,J,ge,Ae)}var(J,ge,Ae){return this._def(n.varKinds.var,J,ge,Ae)}assign(J,ge,Ae){return this._leafNode(new s(J,ge,Ae))}add(J,ge){return this._leafNode(new c(J,t.operators.ADD,ge))}code(J){return typeof J=="function"?J():J!==e.nil&&this._leafNode(new m(J)),this}object(...J){const ge=["{"];for(const[Ae,Je]of J)ge.length>1&&ge.push(","),ge.push(Ae),(Ae!==Je||this.opts.es5)&&(ge.push(":"),(0,e.addCodeArg)(ge,Je));return ge.push("}"),new e._Code(ge)}if(J,ge,Ae){if(this._blockNode(new x(J)),ge&&Ae)this.code(ge).else().code(Ae).endIf();else if(ge)this.code(ge).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(J){return this._elseNode(new x(J))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(x,S)}_for(J,ge){return this._blockNode(J),ge&&this.code(ge).endFor(),this}for(J,ge){return this._for(new A(J),ge)}forRange(J,ge,Ae,Je,Re=this.opts.es5?n.varKinds.var:n.varKinds.let){const Fe=this._scope.toName(J);return this._for(new I(Re,Fe,ge,Ae),()=>Je(Fe))}forOf(J,ge,Ae,Je=n.varKinds.const){const Re=this._scope.toName(J);if(this.opts.es5){const Fe=ge instanceof e.Name?ge:this.var("_arr",ge);return this.forRange("_i",0,(0,e._)`${Fe}.length`,Xe=>{this.var(Re,(0,e._)`${Fe}[${Xe}]`),Ae(Re)})}return this._for(new M("of",Je,Re,ge),()=>Ae(Re))}forIn(J,ge,Ae,Je=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(J,(0,e._)`Object.keys(${ge})`,Ae);const Re=this._scope.toName(J);return this._for(new M("in",Je,Re,ge),()=>Ae(Re))}endFor(){return this._endBlockNode(E)}label(J){return this._leafNode(new f(J))}break(J){return this._leafNode(new h(J))}return(J){const ge=new j;if(this._blockNode(ge),this.code(J),ge.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(j)}try(J,ge,Ae){if(!ge&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Je=new Q;if(this._blockNode(Je),this.code(J),ge){const Re=this.name("e");this._currNode=Je.catch=new Y(Re),ge(Re)}return Ae&&(this._currNode=Je.finally=new q,this.code(Ae)),this._endBlockNode(Y,q)}throw(J){return this._leafNode(new p(J))}block(J,ge){return this._blockStarts.push(this._nodes.length),J&&this.code(J).endBlock(ge),this}endBlock(J){const ge=this._blockStarts.pop();if(ge===void 0)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-ge;if(Ae<0||J!==void 0&&Ae!==J)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${J} expected`);return this._nodes.length=ge,this}func(J,ge=e.nil,Ae,Je){return this._blockNode(new D(J,ge,Ae)),Je&&this.code(Je).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(J=1){for(;J-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(J){return this._currNode.nodes.push(J),this}_blockNode(J){this._currNode.nodes.push(J),this._nodes.push(J)}_endBlockNode(J,ge){const Ae=this._currNode;if(Ae instanceof J||ge&&Ae instanceof ge)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ge?`${J.kind}/${ge.kind}`:J.kind}"`)}_elseNode(J){const ge=this._currNode;if(!(ge instanceof x))throw new Error('CodeGen: "else" without "if"');return this._currNode=ge.else=J,this}get _root(){return this._nodes[0]}get _currNode(){const J=this._nodes;return J[J.length-1]}set _currNode(J){const ge=this._nodes;ge[ge.length-1]=J}}t.CodeGen=Z;function fe(H,J){for(const ge in J)H[ge]=(H[ge]||0)+(J[ge]||0);return H}function te(H,J){return J instanceof e._CodeOrName?fe(H,J.names):H}function se(H,J,ge){if(H instanceof e.Name)return Ae(H);if(!Je(H))return H;return new e._Code(H._items.reduce((Re,Fe)=>(Fe instanceof e.Name&&(Fe=Ae(Fe)),Fe instanceof e._Code?Re.push(...Fe._items):Re.push(Fe),Re),[]));function Ae(Re){const Fe=ge[Re.str];return Fe===void 0||J[Re.str]!==1?Re:(delete J[Re.str],Fe)}function Je(Re){return Re instanceof e._Code&&Re._items.some(Fe=>Fe instanceof e.Name&&J[Fe.str]===1&&ge[Fe.str]!==void 0)}}function pe(H,J){for(const ge in J)H[ge]=(H[ge]||0)-(J[ge]||0)}function be(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:(0,e._)`!${me(H)}`}t.not=be;const ce=ne(t.operators.AND);function le(...H){return H.reduce(ce)}t.and=le;const Oe=ne(t.operators.OR);function k(...H){return H.reduce(Oe)}t.or=k;function ne(H){return(J,ge)=>J===e.nil?ge:ge===e.nil?J:(0,e._)`${me(J)} ${H} ${me(ge)}`}function me(H){return H instanceof e.Name?H:(0,e._)`(${H})`}}(U2)),U2}var Cn={},R6;function Vn(){if(R6)return Cn;R6=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.checkStrictMode=Cn.getErrorPath=Cn.Type=Cn.useFunc=Cn.setEvaluated=Cn.evaluatedPropsToName=Cn.mergeEvaluated=Cn.eachItem=Cn.unescapeJsonPointer=Cn.escapeJsonPointer=Cn.escapeFragment=Cn.unescapeFragment=Cn.schemaRefOrVal=Cn.schemaHasRulesButRef=Cn.schemaHasRules=Cn.checkUnknownRules=Cn.alwaysValidSchema=Cn.toHash=void 0;const t=On(),e=nm();function n(M){const D={};for(const j of M)D[j]=!0;return D}Cn.toHash=n;function r(M,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(M,D),!a(D,M.self.RULES.all))}Cn.alwaysValidSchema=r;function i(M,D=M.schema){const{opts:j,self:Q}=M;if(!j.strictSchema||typeof D=="boolean")return;const Y=Q.RULES.keywords;for(const q in D)Y[q]||I(M,`unknown keyword: "${q}"`)}Cn.checkUnknownRules=i;function a(M,D){if(typeof M=="boolean")return!M;for(const j in M)if(D[j])return!0;return!1}Cn.schemaHasRules=a;function o(M,D){if(typeof M=="boolean")return!M;for(const j in M)if(j!=="$ref"&&D.all[j])return!0;return!1}Cn.schemaHasRulesButRef=o;function s({topSchemaRef:M,schemaPath:D},j,Q,Y){if(!Y){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${M}${D}${(0,t.getProperty)(Q)}`}Cn.schemaRefOrVal=s;function c(M){return p(decodeURIComponent(M))}Cn.unescapeFragment=c;function f(M){return encodeURIComponent(h(M))}Cn.escapeFragment=f;function h(M){return typeof M=="number"?`${M}`:M.replace(/~/g,"~0").replace(/\//g,"~1")}Cn.escapeJsonPointer=h;function p(M){return M.replace(/~1/g,"/").replace(/~0/g,"~")}Cn.unescapeJsonPointer=p;function m(M,D){if(Array.isArray(M))for(const j of M)D(j);else D(M)}Cn.eachItem=m;function y({mergeNames:M,mergeToName:D,mergeValues:j,resultToName:Q}){return(Y,q,Z,fe)=>{const te=Z===void 0?q:Z instanceof t.Name?(q instanceof t.Name?M(Y,q,Z):D(Y,q,Z),Z):q instanceof t.Name?(D(Y,Z,q),q):j(q,Z);return fe===t.Name&&!(te instanceof t.Name)?Q(Y,te):te}}Cn.mergeEvaluated={props:y({mergeNames:(M,D,j)=>M.if((0,t._)`${j} !== true && ${D} !== undefined`,()=>{M.if((0,t._)`${D} === true`,()=>M.assign(j,!0),()=>M.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${D})`))}),mergeToName:(M,D,j)=>M.if((0,t._)`${j} !== true`,()=>{D===!0?M.assign(j,!0):(M.assign(j,(0,t._)`${j} || {}`),b(M,j,D))}),mergeValues:(M,D)=>M===!0?!0:{...M,...D},resultToName:_}),items:y({mergeNames:(M,D,j)=>M.if((0,t._)`${j} !== true && ${D} !== undefined`,()=>M.assign(j,(0,t._)`${D} === true ? true : ${j} > ${D} ? ${j} : ${D}`)),mergeToName:(M,D,j)=>M.if((0,t._)`${j} !== true`,()=>M.assign(j,D===!0?!0:(0,t._)`${j} > ${D} ? ${j} : ${D}`)),mergeValues:(M,D)=>M===!0?!0:Math.max(M,D),resultToName:(M,D)=>M.var("items",D)})};function _(M,D){if(D===!0)return M.var("props",!0);const j=M.var("props",(0,t._)`{}`);return D!==void 0&&b(M,j,D),j}Cn.evaluatedPropsToName=_;function b(M,D,j){Object.keys(j).forEach(Q=>M.assign((0,t._)`${D}${(0,t.getProperty)(Q)}`,!0))}Cn.setEvaluated=b;const S={};function x(M,D){return M.scopeValue("func",{ref:D,code:S[D.code]||(S[D.code]=new e._Code(D.code))})}Cn.useFunc=x;var E;(function(M){M[M.Num=0]="Num",M[M.Str=1]="Str"})(E||(Cn.Type=E={}));function A(M,D,j){if(M instanceof t.Name){const Q=D===E.Num;return j?Q?(0,t._)`"[" + ${M} + "]"`:(0,t._)`"['" + ${M} + "']"`:Q?(0,t._)`"/" + ${M}`:(0,t._)`"/" + ${M}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(M).toString():"/"+h(M)}Cn.getErrorPath=A;function I(M,D,j=M.opts.strictSchema){if(j){if(D=`strict mode: ${D}`,j===!0)throw new Error(D);M.self.logger.warn(D)}}return Cn.checkStrictMode=I,Cn}var Av={},P6;function _u(){if(P6)return Av;P6=1,Object.defineProperty(Av,"__esModule",{value:!0});const t=On(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Av.default=e,Av}var O6;function Om(){return O6||(O6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=On(),n=Vn(),r=_u();t.keywordError={message:({keyword:S})=>(0,e.str)`must pass "${S}" keyword validation`},t.keyword$DataError={message:({keyword:S,schemaType:x})=>x?(0,e.str)`"${S}" keyword must be ${x} ($data)`:(0,e.str)`"${S}" keyword is invalid ($data)`};function i(S,x=t.keywordError,E,A){const{it:I}=S,{gen:M,compositeRule:D,allErrors:j}=I,Q=p(S,x,E);A??(D||j)?c(M,Q):f(I,(0,e._)`[${Q}]`)}t.reportError=i;function a(S,x=t.keywordError,E){const{it:A}=S,{gen:I,compositeRule:M,allErrors:D}=A,j=p(S,x,E);c(I,j),M||D||f(A,r.default.vErrors)}t.reportExtraError=a;function o(S,x){S.assign(r.default.errors,x),S.if((0,e._)`${r.default.vErrors} !== null`,()=>S.if(x,()=>S.assign((0,e._)`${r.default.vErrors}.length`,x),()=>S.assign(r.default.vErrors,null)))}t.resetErrorsCount=o;function s({gen:S,keyword:x,schemaValue:E,data:A,errsCount:I,it:M}){if(I===void 0)throw new Error("ajv implementation error");const D=S.name("err");S.forRange("i",I,r.default.errors,j=>{S.const(D,(0,e._)`${r.default.vErrors}[${j}]`),S.if((0,e._)`${D}.instancePath === undefined`,()=>S.assign((0,e._)`${D}.instancePath`,(0,e.strConcat)(r.default.instancePath,M.errorPath))),S.assign((0,e._)`${D}.schemaPath`,(0,e.str)`${M.errSchemaPath}/${x}`),M.opts.verbose&&(S.assign((0,e._)`${D}.schema`,E),S.assign((0,e._)`${D}.data`,A))})}t.extendErrors=s;function c(S,x){const E=S.const("err",x);S.if((0,e._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,e._)`[${E}]`),(0,e._)`${r.default.vErrors}.push(${E})`),S.code((0,e._)`${r.default.errors}++`)}function f(S,x){const{gen:E,validateName:A,schemaEnv:I}=S;I.$async?E.throw((0,e._)`new ${S.ValidationError}(${x})`):(E.assign((0,e._)`${A}.errors`,x),E.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(S,x,E){const{createErrors:A}=S.it;return A===!1?(0,e._)`{}`:m(S,x,E)}function m(S,x,E={}){const{gen:A,it:I}=S,M=[y(I,E),_(S,E)];return b(S,x,M),A.object(...M)}function y({errorPath:S},{instancePath:x}){const E=x?(0,e.str)`${S}${(0,n.getErrorPath)(x,n.Type.Str)}`:S;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,E)]}function _({keyword:S,it:{errSchemaPath:x}},{schemaPath:E,parentSchema:A}){let I=A?x:(0,e.str)`${x}/${S}`;return E&&(I=(0,e.str)`${I}${(0,n.getErrorPath)(E,n.Type.Str)}`),[h.schemaPath,I]}function b(S,{params:x,message:E},A){const{keyword:I,data:M,schemaValue:D,it:j}=S,{opts:Q,propertyName:Y,topSchemaRef:q,schemaPath:Z}=j;A.push([h.keyword,I],[h.params,typeof x=="function"?x(S):x||(0,e._)`{}`]),Q.messages&&A.push([h.message,typeof E=="function"?E(S):E]),Q.verbose&&A.push([h.schema,D],[h.parentSchema,(0,e._)`${q}${Z}`],[r.default.data,M]),Y&&A.push([h.propertyName,Y])}}($2)),$2}var L6;function ETe(){if(L6)return vc;L6=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.boolOrEmptySchema=vc.topBoolOrEmptySchema=void 0;const t=Om(),e=On(),n=_u(),r={message:"boolean schema is false"};function i(s){const{gen:c,schema:f,validateName:h}=s;f===!1?o(s,!1):typeof f=="object"&&f.$async===!0?c.return(n.default.data):(c.assign((0,e._)`${h}.errors`,null),c.return(!0))}vc.topBoolOrEmptySchema=i;function a(s,c){const{gen:f,schema:h}=s;h===!1?(f.var(c,!1),o(s)):f.var(c,!0)}vc.boolOrEmptySchema=a;function o(s,c){const{gen:f,data:h}=s,p={gen:f,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,t.reportError)(p,r,void 0,c)}return vc}var xi={},_c={},I6;function Bz(){if(I6)return _c;I6=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.getRules=_c.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}_c.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return _c.getRules=r,_c}var Js={},M6;function qz(){if(M6)return Js;M6=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.shouldUseRule=Js.shouldUseGroup=Js.schemaHasRulesForType=void 0;function t({schema:r,self:i},a){const o=i.RULES.types[a];return o&&o!==!0&&e(r,o)}Js.schemaHasRulesForType=t;function e(r,i){return i.rules.some(a=>n(r,a))}Js.shouldUseGroup=e;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(o=>r[o]!==void 0))}return Js.shouldUseRule=n,Js}var D6;function g0(){if(D6)return xi;D6=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.reportTypeError=xi.checkDataTypes=xi.checkDataType=xi.coerceAndCheckDataType=xi.getJSONTypes=xi.getSchemaTypes=xi.DataType=void 0;const t=Bz(),e=qz(),n=Om(),r=On(),i=Vn();var a;(function(E){E[E.Correct=0]="Correct",E[E.Wrong=1]="Wrong"})(a||(xi.DataType=a={}));function o(E){const A=s(E.type);if(A.includes("null")){if(E.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&E.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');E.nullable===!0&&A.push("null")}return A}xi.getSchemaTypes=o;function s(E){const A=Array.isArray(E)?E:E?[E]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}xi.getJSONTypes=s;function c(E,A){const{gen:I,data:M,opts:D}=E,j=h(A,D.coerceTypes),Q=A.length>0&&!(j.length===0&&A.length===1&&(0,e.schemaHasRulesForType)(E,A[0]));if(Q){const Y=_(A,M,D.strictNumbers,a.Wrong);I.if(Y,()=>{j.length?p(E,A,j):S(E)})}return Q}xi.coerceAndCheckDataType=c;const f=new Set(["string","number","integer","boolean","null"]);function h(E,A){return A?E.filter(I=>f.has(I)||A==="array"&&I==="array"):[]}function p(E,A,I){const{gen:M,data:D,opts:j}=E,Q=M.let("dataType",(0,r._)`typeof ${D}`),Y=M.let("coerced",(0,r._)`undefined`);j.coerceTypes==="array"&&M.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>M.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(_(A,D,j.strictNumbers),()=>M.assign(Y,D))),M.if((0,r._)`${Y} !== undefined`);for(const Z of I)(f.has(Z)||Z==="array"&&j.coerceTypes==="array")&&q(Z);M.else(),S(E),M.endIf(),M.if((0,r._)`${Y} !== undefined`,()=>{M.assign(D,Y),m(E,Y)});function q(Z){switch(Z){case"string":M.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(Y,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(Y,(0,r._)`""`);return;case"number":M.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(Y,(0,r._)`+${D}`);return;case"integer":M.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(Y,(0,r._)`+${D}`);return;case"boolean":M.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(Y,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(Y,!0);return;case"null":M.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),M.assign(Y,null);return;case"array":M.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(Y,(0,r._)`[${D}]`)}}}function m({gen:E,parentData:A,parentDataProperty:I},M){E.if((0,r._)`${A} !== undefined`,()=>E.assign((0,r._)`${A}[${I}]`,M))}function y(E,A,I,M=a.Correct){const D=M===a.Correct?r.operators.EQ:r.operators.NEQ;let j;switch(E){case"null":return(0,r._)`${A} ${D} null`;case"array":j=(0,r._)`Array.isArray(${A})`;break;case"object":j=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":j=Q((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":j=Q();break;default:return(0,r._)`typeof ${A} ${D} ${E}`}return M===a.Correct?j:(0,r.not)(j);function Q(Y=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,Y,I?(0,r._)`isFinite(${A})`:r.nil)}}xi.checkDataType=y;function _(E,A,I,M){if(E.length===1)return y(E[0],A,I,M);let D;const j=(0,i.toHash)(E);if(j.array&&j.object){const Q=(0,r._)`typeof ${A} != "object"`;D=j.null?Q:(0,r._)`!${A} || ${Q}`,delete j.null,delete j.array,delete j.object}else D=r.nil;j.number&&delete j.integer;for(const Q in j)D=(0,r.and)(D,y(Q,A,I,M));return D}xi.checkDataTypes=_;const b={message:({schema:E})=>`must be ${E}`,params:({schema:E,schemaValue:A})=>typeof E=="string"?(0,r._)`{type: ${E}}`:(0,r._)`{type: ${A}}`};function S(E){const A=x(E);(0,n.reportError)(A,b)}xi.reportTypeError=S;function x(E){const{gen:A,data:I,schema:M}=E,D=(0,i.schemaRefOrVal)(E,M,"type");return{gen:A,keyword:"type",data:I,schema:M.type,schemaCode:D,schemaValue:D,parentSchema:M,params:{},it:E}}return xi}var sg={},k6;function TTe(){if(k6)return sg;k6=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.assignDefaults=void 0;const t=On(),e=Vn();function n(i,a){const{properties:o,items:s}=i.schema;if(a==="object"&&o)for(const c in o)r(i,c,o[c].default);else a==="array"&&Array.isArray(s)&&s.forEach((c,f)=>r(i,f,c.default))}sg.assignDefaults=n;function r(i,a,o){const{gen:s,compositeRule:c,data:f,opts:h}=i;if(o===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(c){(0,e.checkStrictMode)(i,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;h.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),s.if(m,(0,t._)`${p} = ${(0,t.stringify)(o)}`)}return sg}var xo={},ar={},N6;function zo(){if(N6)return ar;N6=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.validateUnion=ar.validateArray=ar.usePattern=ar.callValidateCode=ar.schemaProperties=ar.allSchemaProperties=ar.noPropertyInData=ar.propertyInData=ar.isOwnProperty=ar.hasPropFunc=ar.reportMissingProp=ar.checkMissingProp=ar.checkReportMissingProp=void 0;const t=On(),e=Vn(),n=_u(),r=Vn();function i(E,A){const{gen:I,data:M,it:D}=E;I.if(h(I,M,A,D.opts.ownProperties),()=>{E.setParams({missingProperty:(0,t._)`${A}`},!0),E.error()})}ar.checkReportMissingProp=i;function a({gen:E,data:A,it:{opts:I}},M,D){return(0,t.or)(...M.map(j=>(0,t.and)(h(E,A,j,I.ownProperties),(0,t._)`${D} = ${j}`)))}ar.checkMissingProp=a;function o(E,A){E.setParams({missingProperty:A},!0),E.error()}ar.reportMissingProp=o;function s(E){return E.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ar.hasPropFunc=s;function c(E,A,I){return(0,t._)`${s(E)}.call(${A}, ${I})`}ar.isOwnProperty=c;function f(E,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} !== undefined`;return M?(0,t._)`${D} && ${c(E,A,I)}`:D}ar.propertyInData=f;function h(E,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} === undefined`;return M?(0,t.or)(D,(0,t.not)(c(E,A,I))):D}ar.noPropertyInData=h;function p(E){return E?Object.keys(E).filter(A=>A!=="__proto__"):[]}ar.allSchemaProperties=p;function m(E,A){return p(A).filter(I=>!(0,e.alwaysValidSchema)(E,A[I]))}ar.schemaProperties=m;function y({schemaCode:E,data:A,it:{gen:I,topSchemaRef:M,schemaPath:D,errorPath:j},it:Q},Y,q,Z){const fe=Z?(0,t._)`${E}, ${A}, ${M}${D}`:A,te=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,j)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&te.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const se=(0,t._)`${fe}, ${I.object(...te)}`;return q!==t.nil?(0,t._)`${Y}.call(${q}, ${se})`:(0,t._)`${Y}(${se})`}ar.callValidateCode=y;const _=(0,t._)`new RegExp`;function b({gen:E,it:{opts:A}},I){const M=A.unicodeRegExp?"u":"",{regExp:D}=A.code,j=D(I,M);return E.scopeValue("pattern",{key:j.toString(),ref:j,code:(0,t._)`${D.code==="new RegExp"?_:(0,r.useFunc)(E,D)}(${I}, ${M})`})}ar.usePattern=b;function S(E){const{gen:A,data:I,keyword:M,it:D}=E,j=A.name("valid");if(D.allErrors){const Y=A.let("valid",!0);return Q(()=>A.assign(Y,!1)),Y}return A.var(j,!0),Q(()=>A.break()),j;function Q(Y){const q=A.const("len",(0,t._)`${I}.length`);A.forRange("i",0,q,Z=>{E.subschema({keyword:M,dataProp:Z,dataPropType:e.Type.Num},j),A.if((0,t.not)(j),Y)})}}ar.validateArray=S;function x(E){const{gen:A,schema:I,keyword:M,it:D}=E;if(!Array.isArray(I))throw new Error("ajv implementation error");if(I.some(q=>(0,e.alwaysValidSchema)(D,q))&&!D.opts.unevaluated)return;const Q=A.let("valid",!1),Y=A.name("_valid");A.block(()=>I.forEach((q,Z)=>{const fe=E.subschema({keyword:M,schemaProp:Z,compositeRule:!0},Y);A.assign(Q,(0,t._)`${Q} || ${Y}`),E.mergeValidEvaluated(fe,Y)||A.if((0,t.not)(Q))})),E.result(Q,()=>E.reset(),()=>E.error(!0))}return ar.validateUnion=x,ar}var F6;function CTe(){if(F6)return xo;F6=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.validateKeywordUsage=xo.validSchemaType=xo.funcKeywordCode=xo.macroKeywordCode=void 0;const t=On(),e=_u(),n=zo(),r=Om();function i(m,y){const{gen:_,keyword:b,schema:S,parentSchema:x,it:E}=m,A=y.macro.call(E.self,S,x,E),I=f(_,b,A);E.opts.validateSchema!==!1&&E.self.validateSchema(A,!0);const M=_.name("valid");m.subschema({schema:A,schemaPath:t.nil,errSchemaPath:`${E.errSchemaPath}/${b}`,topSchemaRef:I,compositeRule:!0},M),m.pass(M,()=>m.error(!0))}xo.macroKeywordCode=i;function a(m,y){var _;const{gen:b,keyword:S,schema:x,parentSchema:E,$data:A,it:I}=m;c(I,y);const M=!A&&y.compile?y.compile.call(I.self,x,E,I):y.validate,D=f(b,S,M),j=b.let("valid");m.block$data(j,Q),m.ok((_=y.valid)!==null&&_!==void 0?_:j);function Q(){if(y.errors===!1)Z(),y.modifying&&o(m),fe(()=>m.error());else{const te=y.async?Y():q();y.modifying&&o(m),fe(()=>s(m,te))}}function Y(){const te=b.let("ruleErrs",null);return b.try(()=>Z((0,t._)`await `),se=>b.assign(j,!1).if((0,t._)`${se} instanceof ${I.ValidationError}`,()=>b.assign(te,(0,t._)`${se}.errors`),()=>b.throw(se))),te}function q(){const te=(0,t._)`${D}.errors`;return b.assign(te,null),Z(t.nil),te}function Z(te=y.async?(0,t._)`await `:t.nil){const se=I.opts.passContext?e.default.this:e.default.self,pe=!("compile"in y&&!A||y.schema===!1);b.assign(j,(0,t._)`${te}${(0,n.callValidateCode)(m,D,se,pe)}`,y.modifying)}function fe(te){var se;b.if((0,t.not)((se=y.valid)!==null&&se!==void 0?se:j),te)}}xo.funcKeywordCode=a;function o(m){const{gen:y,data:_,it:b}=m;y.if(b.parentData,()=>y.assign(_,(0,t._)`${b.parentData}[${b.parentDataProperty}]`))}function s(m,y){const{gen:_}=m;_.if((0,t._)`Array.isArray(${y})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${y} : ${e.default.vErrors}.concat(${y})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function c({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,y,_){if(_===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function h(m,y,_=!1){return!y.length||y.some(b=>b==="array"?Array.isArray(m):b==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==b||_&&typeof m>"u")}xo.validSchemaType=h;function p({schema:m,opts:y,self:_,errSchemaPath:b},S,x){if(Array.isArray(S.keyword)?!S.keyword.includes(x):S.keyword!==x)throw new Error("ajv implementation error");const E=S.dependencies;if(E!=null&&E.some(A=>!Object.prototype.hasOwnProperty.call(m,A)))throw new Error(`parent schema must have dependencies of ${x}: ${E.join(",")}`);if(S.validateSchema&&!S.validateSchema(m[x])){const I=`keyword "${x}" value is invalid at path "${b}": `+_.errorsText(S.validateSchema.errors);if(y.validateSchema==="log")_.logger.error(I);else throw new Error(I)}}return xo.validateKeywordUsage=p,xo}var Ys={},j6;function ATe(){if(j6)return Ys;j6=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.extendSubschemaMode=Ys.extendSubschemaData=Ys.getSubschema=void 0;const t=On(),e=Vn();function n(a,{keyword:o,schemaProp:s,schema:c,schemaPath:f,errSchemaPath:h,topSchemaRef:p}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const m=a.schema[o];return s===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:m[s],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,e.escapeFragment)(s)}`}}if(c!==void 0){if(f===void 0||h===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:f,topSchemaRef:p,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}Ys.getSubschema=n;function r(a,o,{dataProp:s,dataPropType:c,data:f,dataTypes:h,propertyName:p}){if(f!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=o;if(s!==void 0){const{errorPath:_,dataPathArr:b,opts:S}=o,x=m.let("data",(0,t._)`${o.data}${(0,t.getProperty)(s)}`,!0);y(x),a.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(s,c,S.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${s}`,a.dataPathArr=[...b,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);y(_),p!==void 0&&(a.propertyName=p)}h&&(a.dataTypes=h);function y(_){a.data=_,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,_]}}Ys.extendSubschemaData=r;function i(a,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:c,createErrors:f,allErrors:h}){c!==void 0&&(a.compositeRule=c),f!==void 0&&(a.createErrors=f),h!==void 0&&(a.allErrors=h),a.jtdDiscriminator=o,a.jtdMetadata=s}return Ys.extendSubschemaMode=i,Ys}var ta={},z2,$6;function zz(){return $6||($6=1,z2=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),z2}var H2={exports:{}},U6;function RTe(){if(U6)return H2.exports;U6=1;var t=H2.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var o=typeof a=="function"?a:a.pre||function(){},s=a.post||function(){};e(i,o,s,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,a,o,s,c,f,h,p,m){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,s,c,f,h,p,m);for(var y in o){var _=o[y];if(Array.isArray(_)){if(y in t.arrayKeywords)for(var b=0;b<_.length;b++)e(r,i,a,_[b],s+"/"+y+"/"+b,c,s,y,o,b)}else if(y in t.propsKeywords){if(_&&typeof _=="object")for(var S in _)e(r,i,a,_[S],s+"/"+y+"/"+n(S),c,s,y,o,S)}else(y in t.keywords||r.allKeys&&!(y in t.skipKeywords))&&e(r,i,a,_,s+"/"+y,c,s,y,o)}a(o,s,c,f,h,p,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return H2.exports}var B6;function dw(){if(B6)return ta;B6=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.getSchemaRefs=ta.resolveUrl=ta.normalizeId=ta._getFullPath=ta.getFullPath=ta.inlineRef=void 0;const t=Vn(),e=zz(),n=RTe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(b,S=!0){return typeof b=="boolean"?!0:S===!0?!o(b):S?s(b)<=S:!1}ta.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(b){for(const S in b){if(a.has(S))return!0;const x=b[S];if(Array.isArray(x)&&x.some(o)||typeof x=="object"&&o(x))return!0}return!1}function s(b){let S=0;for(const x in b){if(x==="$ref")return 1/0;if(S++,!r.has(x)&&(typeof b[x]=="object"&&(0,t.eachItem)(b[x],E=>S+=s(E)),S===1/0))return 1/0}return S}function c(b,S="",x){x!==!1&&(S=p(S));const E=b.parse(S);return f(b,E)}ta.getFullPath=c;function f(b,S){return b.serialize(S).split("#")[0]+"#"}ta._getFullPath=f;const h=/#\/?$/;function p(b){return b?b.replace(h,""):""}ta.normalizeId=p;function m(b,S,x){return x=p(x),b.resolve(S,x)}ta.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function _(b,S){if(typeof b=="boolean")return{};const{schemaId:x,uriResolver:E}=this.opts,A=p(b[x]||S),I={"":A},M=c(E,A,!1),D={},j=new Set;return n(b,{allKeys:!0},(q,Z,fe,te)=>{if(te===void 0)return;const se=M+Z;let pe=I[te];typeof q[x]=="string"&&(pe=be.call(this,q[x])),ce.call(this,q.$anchor),ce.call(this,q.$dynamicAnchor),I[Z]=pe;function be(le){const Oe=this.opts.uriResolver.resolve;if(le=p(pe?Oe(pe,le):le),j.has(le))throw Y(le);j.add(le);let k=this.refs[le];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(q,k.schema,le):le!==p(se)&&(le[0]==="#"?(Q(q,D[le],le),D[le]=q):this.refs[le]=se),le}function ce(le){if(typeof le=="string"){if(!y.test(le))throw new Error(`invalid anchor "${le}"`);be.call(this,`#${le}`)}}}),D;function Q(q,Z,fe){if(Z!==void 0&&!e(q,Z))throw Y(fe)}function Y(q){return new Error(`reference "${q}" resolves to more than one schema`)}}return ta.getSchemaRefs=_,ta}var q6;function Lm(){if(q6)return Zs;q6=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.getData=Zs.KeywordCxt=Zs.validateFunctionCode=void 0;const t=ETe(),e=g0(),n=qz(),r=g0(),i=TTe(),a=CTe(),o=ATe(),s=On(),c=_u(),f=dw(),h=Vn(),p=Om();function m(ie){if(M(ie)&&(j(ie),I(ie))){S(ie);return}y(ie,()=>(0,t.topBoolOrEmptySchema)(ie))}Zs.validateFunctionCode=m;function y({gen:ie,validateName:z,schema:$,schemaEnv:re,opts:W},he){W.code.es5?ie.func(z,(0,s._)`${c.default.data}, ${c.default.valCxt}`,re.$async,()=>{ie.code((0,s._)`"use strict"; ${E($,W)}`),b(ie,W),ie.code(he)}):ie.func(z,(0,s._)`${c.default.data}, ${_(W)}`,re.$async,()=>ie.code(E($,W)).code(he))}function _(ie){return(0,s._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${ie.dynamicRef?(0,s._)`, ${c.default.dynamicAnchors}={}`:s.nil}}={}`}function b(ie,z){ie.if(c.default.valCxt,()=>{ie.var(c.default.instancePath,(0,s._)`${c.default.valCxt}.${c.default.instancePath}`),ie.var(c.default.parentData,(0,s._)`${c.default.valCxt}.${c.default.parentData}`),ie.var(c.default.parentDataProperty,(0,s._)`${c.default.valCxt}.${c.default.parentDataProperty}`),ie.var(c.default.rootData,(0,s._)`${c.default.valCxt}.${c.default.rootData}`),z.dynamicRef&&ie.var(c.default.dynamicAnchors,(0,s._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{ie.var(c.default.instancePath,(0,s._)`""`),ie.var(c.default.parentData,(0,s._)`undefined`),ie.var(c.default.parentDataProperty,(0,s._)`undefined`),ie.var(c.default.rootData,c.default.data),z.dynamicRef&&ie.var(c.default.dynamicAnchors,(0,s._)`{}`)})}function S(ie){const{schema:z,opts:$,gen:re}=ie;y(ie,()=>{$.$comment&&z.$comment&&te(ie),q(ie),re.let(c.default.vErrors,null),re.let(c.default.errors,0),$.unevaluated&&x(ie),Q(ie),se(ie)})}function x(ie){const{gen:z,validateName:$}=ie;ie.evaluated=z.const("evaluated",(0,s._)`${$}.evaluated`),z.if((0,s._)`${ie.evaluated}.dynamicProps`,()=>z.assign((0,s._)`${ie.evaluated}.props`,(0,s._)`undefined`)),z.if((0,s._)`${ie.evaluated}.dynamicItems`,()=>z.assign((0,s._)`${ie.evaluated}.items`,(0,s._)`undefined`))}function E(ie,z){const $=typeof ie=="object"&&ie[z.schemaId];return $&&(z.code.source||z.code.process)?(0,s._)`/*# sourceURL=${$} */`:s.nil}function A(ie,z){if(M(ie)&&(j(ie),I(ie))){D(ie,z);return}(0,t.boolOrEmptySchema)(ie,z)}function I({schema:ie,self:z}){if(typeof ie=="boolean")return!ie;for(const $ in ie)if(z.RULES.all[$])return!0;return!1}function M(ie){return typeof ie.schema!="boolean"}function D(ie,z){const{schema:$,gen:re,opts:W}=ie;W.$comment&&$.$comment&&te(ie),Z(ie),fe(ie);const he=re.const("_errs",c.default.errors);Q(ie,he),re.var(z,(0,s._)`${he} === ${c.default.errors}`)}function j(ie){(0,h.checkUnknownRules)(ie),Y(ie)}function Q(ie,z){if(ie.opts.jtd)return be(ie,[],!1,z);const $=(0,e.getSchemaTypes)(ie.schema),re=(0,e.coerceAndCheckDataType)(ie,$);be(ie,$,!re,z)}function Y(ie){const{schema:z,errSchemaPath:$,opts:re,self:W}=ie;z.$ref&&re.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(z,W.RULES)&&W.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function q(ie){const{schema:z,opts:$}=ie;z.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,h.checkStrictMode)(ie,"default is ignored in the schema root")}function Z(ie){const z=ie.schema[ie.opts.schemaId];z&&(ie.baseId=(0,f.resolveUrl)(ie.opts.uriResolver,ie.baseId,z))}function fe(ie){if(ie.schema.$async&&!ie.schemaEnv.$async)throw new Error("async schema in sync schema")}function te({gen:ie,schemaEnv:z,schema:$,errSchemaPath:re,opts:W}){const he=$.$comment;if(W.$comment===!0)ie.code((0,s._)`${c.default.self}.logger.log(${he})`);else if(typeof W.$comment=="function"){const ye=(0,s.str)`${re}/$comment`,He=ie.scopeValue("root",{ref:z.root});ie.code((0,s._)`${c.default.self}.opts.$comment(${he}, ${ye}, ${He}.schema)`)}}function se(ie){const{gen:z,schemaEnv:$,validateName:re,ValidationError:W,opts:he}=ie;$.$async?z.if((0,s._)`${c.default.errors} === 0`,()=>z.return(c.default.data),()=>z.throw((0,s._)`new ${W}(${c.default.vErrors})`)):(z.assign((0,s._)`${re}.errors`,c.default.vErrors),he.unevaluated&&pe(ie),z.return((0,s._)`${c.default.errors} === 0`))}function pe({gen:ie,evaluated:z,props:$,items:re}){$ instanceof s.Name&&ie.assign((0,s._)`${z}.props`,$),re instanceof s.Name&&ie.assign((0,s._)`${z}.items`,re)}function be(ie,z,$,re){const{gen:W,schema:he,data:ye,allErrors:He,opts:Te,self:Ne}=ie,{RULES:tt}=Ne;if(he.$ref&&(Te.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(he,tt))){W.block(()=>Je(ie,"$ref",tt.all.$ref.definition));return}Te.jtd||le(ie,z),W.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(he,gt)&&(gt.type?(W.if((0,r.checkDataType)(gt.type,ye,Te.strictNumbers)),ce(ie,gt),z.length===1&&z[0]===gt.type&&$&&(W.else(),(0,r.reportTypeError)(ie)),W.endIf()):ce(ie,gt),He||W.if((0,s._)`${c.default.errors} === ${re||0}`))}}function ce(ie,z){const{gen:$,schema:re,opts:{useDefaults:W}}=ie;W&&(0,i.assignDefaults)(ie,z.type),$.block(()=>{for(const he of z.rules)(0,n.shouldUseRule)(re,he)&&Je(ie,he.keyword,he.definition,z.type)})}function le(ie,z){ie.schemaEnv.meta||!ie.opts.strictTypes||(Oe(ie,z),ie.opts.allowUnionTypes||k(ie,z),ne(ie,ie.dataTypes))}function Oe(ie,z){if(z.length){if(!ie.dataTypes.length){ie.dataTypes=z;return}z.forEach($=>{H(ie.dataTypes,$)||ge(ie,`type "${$}" not allowed by context "${ie.dataTypes.join(",")}"`)}),J(ie,z)}}function k(ie,z){z.length>1&&!(z.length===2&&z.includes("null"))&&ge(ie,"use allowUnionTypes to allow union type keyword")}function ne(ie,z){const $=ie.self.RULES.all;for(const re in $){const W=$[re];if(typeof W=="object"&&(0,n.shouldUseRule)(ie.schema,W)){const{type:he}=W.definition;he.length&&!he.some(ye=>me(z,ye))&&ge(ie,`missing type "${he.join(",")}" for keyword "${re}"`)}}}function me(ie,z){return ie.includes(z)||z==="number"&&ie.includes("integer")}function H(ie,z){return ie.includes(z)||z==="integer"&&ie.includes("number")}function J(ie,z){const $=[];for(const re of ie.dataTypes)H(z,re)?$.push(re):z.includes("integer")&&re==="number"&&$.push("integer");ie.dataTypes=$}function ge(ie,z){const $=ie.schemaEnv.baseId+ie.errSchemaPath;z+=` at "${$}" (strictTypes)`,(0,h.checkStrictMode)(ie,z,ie.opts.strictTypes)}class Ae{constructor(z,$,re){if((0,a.validateKeywordUsage)(z,$,re),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=re,this.data=z.data,this.schema=z.schema[re],this.$data=$.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(z,this.schema,re,this.$data),this.schemaType=$.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=$,this.$data)this.schemaCode=z.gen.const("vSchema",Xe(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${re} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=z.gen.const("_errs",c.default.errors))}result(z,$,re){this.failResult((0,s.not)(z),$,re)}failResult(z,$,re){this.gen.if(z),re?re():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,$){this.failResult((0,s.not)(z),void 0,$)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:$}=this;this.fail((0,s._)`${$} !== undefined && (${(0,s.or)(this.invalid$data(),z)})`)}error(z,$,re){if($){this.setParams($),this._error(z,re),this.setParams({});return}this._error(z,re)}_error(z,$){(z?p.reportExtraError:p.reportError)(this,this.def.error,$)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,$){$?Object.assign(this.params,z):this.params=z}block$data(z,$,re=s.nil){this.gen.block(()=>{this.check$data(z,re),$()})}check$data(z=s.nil,$=s.nil){if(!this.$data)return;const{gen:re,schemaCode:W,schemaType:he,def:ye}=this;re.if((0,s.or)((0,s._)`${W} === undefined`,$)),z!==s.nil&&re.assign(z,!0),(he.length||ye.validateSchema)&&(re.elseIf(this.invalid$data()),this.$dataError(),z!==s.nil&&re.assign(z,!1)),re.else()}invalid$data(){const{gen:z,schemaCode:$,schemaType:re,def:W,it:he}=this;return(0,s.or)(ye(),He());function ye(){if(re.length){if(!($ instanceof s.Name))throw new Error("ajv implementation error");const Te=Array.isArray(re)?re:[re];return(0,s._)`${(0,r.checkDataTypes)(Te,$,he.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function He(){if(W.validateSchema){const Te=z.scopeValue("validate$data",{ref:W.validateSchema});return(0,s._)`!${Te}(${$})`}return s.nil}}subschema(z,$){const re=(0,o.getSubschema)(this.it,z);(0,o.extendSubschemaData)(re,this.it,z),(0,o.extendSubschemaMode)(re,z);const W={...this.it,...re,items:void 0,props:void 0};return A(W,$),W}mergeEvaluated(z,$){const{it:re,gen:W}=this;re.opts.unevaluated&&(re.props!==!0&&z.props!==void 0&&(re.props=h.mergeEvaluated.props(W,z.props,re.props,$)),re.items!==!0&&z.items!==void 0&&(re.items=h.mergeEvaluated.items(W,z.items,re.items,$)))}mergeValidEvaluated(z,$){const{it:re,gen:W}=this;if(re.opts.unevaluated&&(re.props!==!0||re.items!==!0))return W.if($,()=>this.mergeEvaluated(z,s.Name)),!0}}Zs.KeywordCxt=Ae;function Je(ie,z,$,re){const W=new Ae(ie,$,z);"code"in $?$.code(W,re):W.$data&&$.validate?(0,a.funcKeywordCode)(W,$):"macro"in $?(0,a.macroKeywordCode)(W,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(W,$)}const Re=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(ie,{dataLevel:z,dataNames:$,dataPathArr:re}){let W,he;if(ie==="")return c.default.rootData;if(ie[0]==="/"){if(!Re.test(ie))throw new Error(`Invalid JSON-pointer: ${ie}`);W=ie,he=c.default.rootData}else{const Ne=Fe.exec(ie);if(!Ne)throw new Error(`Invalid JSON-pointer: ${ie}`);const tt=+Ne[1];if(W=Ne[2],W==="#"){if(tt>=z)throw new Error(Te("property/index",tt));return re[z-tt]}if(tt>z)throw new Error(Te("data",tt));if(he=$[z-tt],!W)return he}let ye=he;const He=W.split("/");for(const Ne of He)Ne&&(he=(0,s._)`${he}${(0,s.getProperty)((0,h.unescapeJsonPointer)(Ne))}`,ye=(0,s._)`${ye} && ${he}`);return ye;function Te(Ne,tt){return`Cannot access ${Ne} ${tt} levels up, current level is ${z}`}}return Zs.getData=Xe,Zs}var Rv={},z6;function lP(){if(z6)return Rv;z6=1,Object.defineProperty(Rv,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Rv.default=t,Rv}var Pv={},H6;function cP(){if(H6)return Pv;H6=1,Object.defineProperty(Pv,"__esModule",{value:!0});const t=dw();class e extends Error{constructor(r,i,a,o){super(o||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,a),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Pv.default=e,Pv}var ka={},V6;function fP(){if(V6)return ka;V6=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.resolveSchema=ka.getCompilingSchema=ka.resolveRef=ka.compileSchema=ka.SchemaEnv=void 0;const t=On(),e=lP(),n=_u(),r=dw(),i=Vn(),a=Lm();class o{constructor(x){var E;this.refs={},this.dynamicAnchors={};let A;typeof x.schema=="object"&&(A=x.schema),this.schema=x.schema,this.schemaId=x.schemaId,this.root=x.root||this,this.baseId=(E=x.baseId)!==null&&E!==void 0?E:(0,r.normalizeId)(A==null?void 0:A[x.schemaId||"$id"]),this.schemaPath=x.schemaPath,this.localRefs=x.localRefs,this.meta=x.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}ka.SchemaEnv=o;function s(S){const x=h.call(this,S);if(x)return x;const E=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:A,lines:I}=this.opts.code,{ownProperties:M}=this.opts,D=new t.CodeGen(this.scope,{es5:A,lines:I,ownProperties:M});let j;S.$async&&(j=D.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");S.validateName=Q;const Y={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,t.stringify)(S.schema)}:{ref:S.schema}),validateName:Q,ValidationError:j,schema:S.schema,schemaEnv:S,rootId:E,baseId:S.baseId||E,schemaPath:t.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let q;try{this._compilations.add(S),(0,a.validateFunctionCode)(Y),D.optimize(this.opts.code.optimize);const Z=D.toString();q=`${D.scopeRefs(n.default.scope)}return ${Z}`,this.opts.code.process&&(q=this.opts.code.process(q,S));const te=new Function(`${n.default.self}`,`${n.default.scope}`,q)(this,this.scope.get());if(this.scope.value(Q,{ref:te}),te.errors=null,te.schema=S.schema,te.schemaEnv=S,S.$async&&(te.$async=!0),this.opts.code.source===!0&&(te.source={validateName:Q,validateCode:Z,scopeValues:D._values}),this.opts.unevaluated){const{props:se,items:pe}=Y;te.evaluated={props:se instanceof t.Name?void 0:se,items:pe instanceof t.Name?void 0:pe,dynamicProps:se instanceof t.Name,dynamicItems:pe instanceof t.Name},te.source&&(te.source.evaluated=(0,t.stringify)(te.evaluated))}return S.validate=te,S}catch(Z){throw delete S.validate,delete S.validateName,q&&this.logger.error("Error compiling schema, function code:",q),Z}finally{this._compilations.delete(S)}}ka.compileSchema=s;function c(S,x,E){var A;E=(0,r.resolveUrl)(this.opts.uriResolver,x,E);const I=S.refs[E];if(I)return I;let M=m.call(this,S,E);if(M===void 0){const D=(A=S.localRefs)===null||A===void 0?void 0:A[E],{schemaId:j}=this.opts;D&&(M=new o({schema:D,schemaId:j,root:S,baseId:x}))}if(M!==void 0)return S.refs[E]=f.call(this,M)}ka.resolveRef=c;function f(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:s.call(this,S)}function h(S){for(const x of this._compilations)if(p(x,S))return x}ka.getCompilingSchema=h;function p(S,x){return S.schema===x.schema&&S.root===x.root&&S.baseId===x.baseId}function m(S,x){let E;for(;typeof(E=this.refs[x])=="string";)x=E;return E||this.schemas[x]||y.call(this,S,x)}function y(S,x){const E=this.opts.uriResolver.parse(x),A=(0,r._getFullPath)(this.opts.uriResolver,E);let I=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&A===I)return b.call(this,E,S);const M=(0,r.normalizeId)(A),D=this.refs[M]||this.schemas[M];if(typeof D=="string"){const j=y.call(this,S,D);return typeof(j==null?void 0:j.schema)!="object"?void 0:b.call(this,E,j)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||s.call(this,D),M===(0,r.normalizeId)(x)){const{schema:j}=D,{schemaId:Q}=this.opts,Y=j[Q];return Y&&(I=(0,r.resolveUrl)(this.opts.uriResolver,I,Y)),new o({schema:j,schemaId:Q,root:S,baseId:I})}return b.call(this,E,D)}}ka.resolveSchema=y;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(S,{baseId:x,schema:E,root:A}){var I;if(((I=S.fragment)===null||I===void 0?void 0:I[0])!=="/")return;for(const j of S.fragment.slice(1).split("/")){if(typeof E=="boolean")return;const Q=E[(0,i.unescapeFragment)(j)];if(Q===void 0)return;E=Q;const Y=typeof E=="object"&&E[this.opts.schemaId];!_.has(j)&&Y&&(x=(0,r.resolveUrl)(this.opts.uriResolver,x,Y))}let M;if(typeof E!="boolean"&&E.$ref&&!(0,i.schemaHasRulesButRef)(E,this.RULES)){const j=(0,r.resolveUrl)(this.opts.uriResolver,x,E.$ref);M=y.call(this,A,j)}const{schemaId:D}=this.opts;if(M=M||new o({schema:E,schemaId:D,root:A,baseId:x}),M.schema!==M.root.schema)return M}return ka}const PTe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",OTe="Meta-schema for $data reference (JSON AnySchema extension proposal)",LTe="object",ITe=["$data"],MTe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},DTe=!1,kTe={$id:PTe,description:OTe,type:LTe,required:ITe,properties:MTe,additionalProperties:DTe};var Ov={},xg={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var NTe=xg.exports,K6;function FTe(){return K6||(K6=1,function(t,e){(function(n,r){r(e)})(NTe,function(n){function r(){for(var We=arguments.length,Ee=Array(We),et=0;et<We;et++)Ee[et]=arguments[et];if(Ee.length>1){Ee[0]=Ee[0].slice(0,-1);for(var ft=Ee.length-1,it=1;it<ft;++it)Ee[it]=Ee[it].slice(1,-1);return Ee[ft]=Ee[ft].slice(1),Ee.join("")}else return Ee[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function o(We){return We.toUpperCase()}function s(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function c(We,Ee){var et=We;if(Ee)for(var ft in Ee)et[ft]=Ee[ft];return et}function f(We){var Ee="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Et="[\\:\\/\\?\\#\\[\\]\\@]",It="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Vt=r(Et,It),Yt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qt=We?"[\\uE000-\\uF8FF]":"[]",Nt=r(Ee,et,"[\\-\\.\\_\\~]",Yt);i(Ee+r(Ee,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(Nt,It,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Rn=i(en+"\\."+en+"\\."+en+"\\."+en),Kt=i(ft+"{1,4}"),Qt=i(i(Kt+"\\:"+Kt)+"|"+Rn),xn=i(i(Kt+"\\:")+"{6}"+Qt),En=i("\\:\\:"+i(Kt+"\\:")+"{5}"+Qt),Bn=i(i(Kt)+"?\\:\\:"+i(Kt+"\\:")+"{4}"+Qt),Tr=i(i(i(Kt+"\\:")+"{0,1}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{3}"+Qt),Ur=i(i(i(Kt+"\\:")+"{0,2}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{2}"+Qt),Br=i(i(i(Kt+"\\:")+"{0,3}"+Kt)+"?\\:\\:"+Kt+"\\:"+Qt),Rr=i(i(i(Kt+"\\:")+"{0,4}"+Kt)+"?\\:\\:"+Qt),Fn=i(i(i(Kt+"\\:")+"{0,5}"+Kt)+"?\\:\\:"+Kt),Wr=i(i(i(Kt+"\\:")+"{0,6}"+Kt)+"?\\:\\:"),qi=i([xn,En,Bn,Tr,Ur,Br,Rr,Fn,Wr].join("|")),C=i(i(Nt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(Nt,It,"[\\:]")+"+"),i(i(it+"|"+r(Nt,It))+"*");var T=i(it+"|"+r(Nt,It,"[\\:\\@]"));return i(i(it+"|"+r(Nt,It,"[\\@]"))+"+"),i(i(T+"|"+r("[\\/\\?]",qt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ee,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Nt,It),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Nt,It),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Nt,It),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Nt,It),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Nt,It,"[\\:\\@\\/\\?]",qt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Nt,It,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Nt,It),"g"),UNRESERVED:new RegExp(Nt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Nt,Vt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Rn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+qi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+C+")")+"?\\]?$")}}var h=f(!1),p=f(!0),m=function(){function We(Ee,et){var ft=[],it=!0,Et=!1,It=void 0;try{for(var Vt=Ee[Symbol.iterator](),Yt;!(it=(Yt=Vt.next()).done)&&(ft.push(Yt.value),!(et&&ft.length===et));it=!0);}catch(qt){Et=!0,It=qt}finally{try{!it&&Vt.return&&Vt.return()}finally{if(Et)throw It}}return ft}return function(Ee,et){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return We(Ee,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ee=0,et=Array(We.length);Ee<We.length;Ee++)et[Ee]=We[Ee];return et}else return Array.from(We)},_=2147483647,b=36,S=1,x=26,E=38,A=700,I=72,M=128,D="-",j=/^xn--/,Q=/[^\0-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=b-S,fe=Math.floor,te=String.fromCharCode;function se(We){throw new RangeError(q[We])}function pe(We,Ee){for(var et=[],ft=We.length;ft--;)et[ft]=Ee(We[ft]);return et}function be(We,Ee){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(Y,".");var it=We.split("."),Et=pe(it,Ee).join(".");return ft+Et}function ce(We){for(var Ee=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Et=We.charCodeAt(et++);(Et&64512)==56320?Ee.push(((it&1023)<<10)+(Et&1023)+65536):(Ee.push(it),et--)}else Ee.push(it)}return Ee}var le=function(Ee){return String.fromCodePoint.apply(String,y(Ee))},Oe=function(Ee){return Ee-48<10?Ee-22:Ee-65<26?Ee-65:Ee-97<26?Ee-97:b},k=function(Ee,et){return Ee+22+75*(Ee<26)-((et!=0)<<5)},ne=function(Ee,et,ft){var it=0;for(Ee=ft?fe(Ee/A):Ee>>1,Ee+=fe(Ee/et);Ee>Z*x>>1;it+=b)Ee=fe(Ee/Z);return fe(it+(Z+1)*Ee/(Ee+E))},me=function(Ee){var et=[],ft=Ee.length,it=0,Et=M,It=I,Vt=Ee.lastIndexOf(D);Vt<0&&(Vt=0);for(var Yt=0;Yt<Vt;++Yt)Ee.charCodeAt(Yt)>=128&&se("not-basic"),et.push(Ee.charCodeAt(Yt));for(var qt=Vt>0?Vt+1:0;qt<ft;){for(var Nt=it,en=1,Rn=b;;Rn+=b){qt>=ft&&se("invalid-input");var Kt=Oe(Ee.charCodeAt(qt++));(Kt>=b||Kt>fe((_-it)/en))&&se("overflow"),it+=Kt*en;var Qt=Rn<=It?S:Rn>=It+x?x:Rn-It;if(Kt<Qt)break;var xn=b-Qt;en>fe(_/xn)&&se("overflow"),en*=xn}var En=et.length+1;It=ne(it-Nt,En,Nt==0),fe(it/En)>_-Et&&se("overflow"),Et+=fe(it/En),it%=En,et.splice(it++,0,Et)}return String.fromCodePoint.apply(String,et)},H=function(Ee){var et=[];Ee=ce(Ee);var ft=Ee.length,it=M,Et=0,It=I,Vt=!0,Yt=!1,qt=void 0;try{for(var Nt=Ee[Symbol.iterator](),en;!(Vt=(en=Nt.next()).done);Vt=!0){var Rn=en.value;Rn<128&&et.push(te(Rn))}}catch(Pe){Yt=!0,qt=Pe}finally{try{!Vt&&Nt.return&&Nt.return()}finally{if(Yt)throw qt}}var Kt=et.length,Qt=Kt;for(Kt&&et.push(D);Qt<ft;){var xn=_,En=!0,Bn=!1,Tr=void 0;try{for(var Ur=Ee[Symbol.iterator](),Br;!(En=(Br=Ur.next()).done);En=!0){var Rr=Br.value;Rr>=it&&Rr<xn&&(xn=Rr)}}catch(Pe){Bn=!0,Tr=Pe}finally{try{!En&&Ur.return&&Ur.return()}finally{if(Bn)throw Tr}}var Fn=Qt+1;xn-it>fe((_-Et)/Fn)&&se("overflow"),Et+=(xn-it)*Fn,it=xn;var Wr=!0,qi=!1,C=void 0;try{for(var T=Ee[Symbol.iterator](),R;!(Wr=(R=T.next()).done);Wr=!0){var N=R.value;if(N<it&&++Et>_&&se("overflow"),N==it){for(var G=Et,oe=b;;oe+=b){var _e=oe<=It?S:oe>=It+x?x:oe-It;if(G<_e)break;var Ie=G-_e,xe=b-_e;et.push(te(k(_e+Ie%xe,0))),G=fe(Ie/xe)}et.push(te(k(G,0))),It=ne(Et,Fn,Qt==Kt),Et=0,++Qt}}}catch(Pe){qi=!0,C=Pe}finally{try{!Wr&&T.return&&T.return()}finally{if(qi)throw C}}++Et,++it}return et.join("")},J=function(Ee){return be(Ee,function(et){return j.test(et)?me(et.slice(4).toLowerCase()):et})},ge=function(Ee){return be(Ee,function(et){return Q.test(et)?"xn--"+H(et):et})},Ae={version:"2.1.0",ucs2:{decode:ce,encode:le},decode:me,encode:H,toASCII:ge,toUnicode:J},Je={};function Re(We){var Ee=We.charCodeAt(0),et=void 0;return Ee<16?et="%0"+Ee.toString(16).toUpperCase():Ee<128?et="%"+Ee.toString(16).toUpperCase():Ee<2048?et="%"+(Ee>>6|192).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase():et="%"+(Ee>>12|224).toString(16).toUpperCase()+"%"+(Ee>>6&63|128).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase(),et}function Fe(We){for(var Ee="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ee+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Et=parseInt(We.substr(et+4,2),16);Ee+=String.fromCharCode((it&31)<<6|Et&63)}else Ee+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var It=parseInt(We.substr(et+4,2),16),Vt=parseInt(We.substr(et+7,2),16);Ee+=String.fromCharCode((it&15)<<12|(It&63)<<6|Vt&63)}else Ee+=We.substr(et,9);et+=9}else Ee+=We.substr(et,3),et+=3}return Ee}function Xe(We,Ee){function et(ft){var it=Fe(ft);return it.match(Ee.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_USERINFO,Re).replace(Ee.PCT_ENCODED,o)),We.host!==void 0&&(We.host=String(We.host).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_HOST,Re).replace(Ee.PCT_ENCODED,o)),We.path!==void 0&&(We.path=String(We.path).replace(Ee.PCT_ENCODED,et).replace(We.scheme?Ee.NOT_PATH:Ee.NOT_PATH_NOSCHEME,Re).replace(Ee.PCT_ENCODED,o)),We.query!==void 0&&(We.query=String(We.query).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_QUERY,Re).replace(Ee.PCT_ENCODED,o)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_FRAGMENT,Re).replace(Ee.PCT_ENCODED,o)),We}function ie(We){return We.replace(/^0*(.*)/,"$1")||"0"}function z(We,Ee){var et=We.match(Ee.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(ie).join("."):We}function $(We,Ee){var et=We.match(Ee.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Et=ft[2];if(it){for(var It=it.toLowerCase().split("::").reverse(),Vt=m(It,2),Yt=Vt[0],qt=Vt[1],Nt=qt?qt.split(":").map(ie):[],en=Yt.split(":").map(ie),Rn=Ee.IPV4ADDRESS.test(en[en.length-1]),Kt=Rn?7:8,Qt=en.length-Kt,xn=Array(Kt),En=0;En<Kt;++En)xn[En]=Nt[En]||en[Qt+En]||"";Rn&&(xn[Kt-1]=z(xn[Kt-1],Ee));var Bn=xn.reduce(function(Fn,Wr,qi){if(!Wr||Wr==="0"){var C=Fn[Fn.length-1];C&&C.index+C.length===qi?C.length++:Fn.push({index:qi,length:1})}return Fn},[]),Tr=Bn.sort(function(Fn,Wr){return Wr.length-Fn.length})[0],Ur=void 0;if(Tr&&Tr.length>1){var Br=xn.slice(0,Tr.index),Rr=xn.slice(Tr.index+Tr.length);Ur=Br.join(":")+"::"+Rr.join(":")}else Ur=xn.join(":");return Et&&(Ur+="%"+Et),Ur}else return We}var re=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W="".match(/(){0}/)[1]===void 0;function he(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ee.iri!==!1?p:h;Ee.reference==="suffix"&&(We=(Ee.scheme?Ee.scheme+":":"")+"//"+We);var it=We.match(re);if(it){W?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(z(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ee.reference&&Ee.reference!=="suffix"&&Ee.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ee.reference+" reference.");var Et=Je[(Ee.scheme||et.scheme||"").toLowerCase()];if(!Ee.unicodeSupport&&(!Et||!Et.unicodeSupport)){if(et.host&&(Ee.domainHost||Et&&Et.domainHost))try{et.host=Ae.toASCII(et.host.replace(ft.PCT_ENCODED,Fe).toLowerCase())}catch(It){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+It}Xe(et,h)}else Xe(et,ft);Et&&Et.parse&&Et.parse(et,Ee)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ee){var et=Ee.iri!==!1?p:h,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(z(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Et,It){return"["+Et+(It?"%25"+It:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Te=/^\/\.(\/|$)/,Ne=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ee=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Te))We=We.replace(Te,"/");else if(We.match(Ne))We=We.replace(Ne,"/"),Ee.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ee.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ee.join("")}function gt(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ee.iri?p:h,ft=[],it=Je[(Ee.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ee),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ee.domainHost||it&&it.domainHost)try{We.host=Ee.iri?Ae.toUnicode(We.host):Ae.toASCII(We.host.replace(et.PCT_ENCODED,Fe).toLowerCase())}catch(Vt){We.error=We.error||"Host's domain name can not be converted to "+(Ee.iri?"Unicode":"ASCII")+" via punycode: "+Vt}}Xe(We,et),Ee.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Et=ye(We,Ee);if(Et!==void 0&&(Ee.reference!=="suffix"&&ft.push("//"),ft.push(Et),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var It=We.path;!Ee.absolutePath&&(!it||!it.absolutePath)&&(It=nt(It)),Et===void 0&&(It=It.replace(/^\/\//,"/%2F")),ft.push(It)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function Ut(We,Ee){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=he(gt(We,et),et),Ee=he(gt(Ee,et),et)),et=et||{},!et.tolerant&&Ee.scheme?(it.scheme=Ee.scheme,it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.userinfo!==void 0||Ee.host!==void 0||Ee.port!==void 0?(it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.path?(Ee.path.charAt(0)==="/"?it.path=nt(Ee.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ee.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ee.path:it.path=Ee.path,it.path=nt(it.path)),it.query=Ee.query):(it.path=We.path,Ee.query!==void 0?it.query=Ee.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ee.fragment,it}function Se(We,Ee,et){var ft=c({scheme:"null"},et);return gt(Ut(he(We,ft),he(Ee,ft),ft,!0),ft)}function Be(We,Ee){return typeof We=="string"?We=gt(he(We,Ee),Ee):a(We)==="object"&&(We=he(gt(We,Ee),Ee)),We}function X(We,Ee,et){return typeof We=="string"?We=gt(he(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ee=="string"?Ee=gt(he(Ee,et),et):a(Ee)==="object"&&(Ee=gt(Ee,et)),We===Ee}function B(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.ESCAPE:p.ESCAPE,Re)}function K(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.PCT_ENCODED:p.PCT_ENCODED,Fe)}var V={scheme:"http",domainHost:!0,parse:function(Ee,et){return Ee.host||(Ee.error=Ee.error||"HTTP URIs must have a host."),Ee},serialize:function(Ee,et){var ft=String(Ee.scheme).toLowerCase()==="https";return(Ee.port===(ft?443:80)||Ee.port==="")&&(Ee.port=void 0),Ee.path||(Ee.path="/"),Ee}},je={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function Ze(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ee,et){var ft=Ee;return ft.secure=Ze(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ee,et){if((Ee.port===(Ze(Ee)?443:80)||Ee.port==="")&&(Ee.port=void 0),typeof Ee.secure=="boolean"&&(Ee.scheme=Ee.secure?"wss":"ws",Ee.secure=void 0),Ee.resourceName){var ft=Ee.resourceName.split("?"),it=m(ft,2),Et=it[0],It=it[1];Ee.path=Et&&Et!=="/"?Et:void 0,Ee.query=It,Ee.resourceName=void 0}return Ee.fragment=void 0,Ee}},At={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},Ot={},Dt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Rt="[0-9A-Fa-f]",Bt=i(i("%[EFef]"+Rt+"%"+Rt+Rt+"%"+Rt+Rt)+"|"+i("%[89A-Fa-f]"+Rt+"%"+Rt+Rt)+"|"+i("%"+Rt+Rt)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",dn=r(fn,'[\\"\\\\]'),hr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",sn=new RegExp(Dt,"g"),un=new RegExp(Bt,"g"),Ln=new RegExp(r("[^]",Er,"[\\.]",'[\\"]',dn),"g"),or=new RegExp(r("[^]",Dt,hr),"g"),Le=or;function qe(We){var Ee=Fe(We);return Ee.match(sn)?Ee:We}var wt={scheme:"mailto",parse:function(Ee,et){var ft=Ee,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Et=!1,It={},Vt=ft.query.split("&"),Yt=0,qt=Vt.length;Yt<qt;++Yt){var Nt=Vt[Yt].split("=");switch(Nt[0]){case"to":for(var en=Nt[1].split(","),Rn=0,Kt=en.length;Rn<Kt;++Rn)it.push(en[Rn]);break;case"subject":ft.subject=K(Nt[1],et);break;case"body":ft.body=K(Nt[1],et);break;default:Et=!0,It[K(Nt[0],et)]=K(Nt[1],et);break}}Et&&(ft.headers=It)}ft.query=void 0;for(var Qt=0,xn=it.length;Qt<xn;++Qt){var En=it[Qt].split("@");if(En[0]=K(En[0]),et.unicodeSupport)En[1]=K(En[1],et).toLowerCase();else try{En[1]=Ae.toASCII(K(En[1],et).toLowerCase())}catch(Bn){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+Bn}it[Qt]=En.join("@")}return ft},serialize:function(Ee,et){var ft=Ee,it=s(Ee.to);if(it){for(var Et=0,It=it.length;Et<It;++Et){var Vt=String(it[Et]),Yt=Vt.lastIndexOf("@"),qt=Vt.slice(0,Yt).replace(un,qe).replace(un,o).replace(Ln,Re),Nt=Vt.slice(Yt+1);try{Nt=et.iri?Ae.toUnicode(Nt):Ae.toASCII(K(Nt,et).toLowerCase())}catch(Qt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Qt}it[Et]=qt+"@"+Nt}ft.path=it.join(",")}var en=Ee.headers=Ee.headers||{};Ee.subject&&(en.subject=Ee.subject),Ee.body&&(en.body=Ee.body);var Rn=[];for(var Kt in en)en[Kt]!==Ot[Kt]&&Rn.push(Kt.replace(un,qe).replace(un,o).replace(or,Re)+"="+en[Kt].replace(un,qe).replace(un,o).replace(Le,Re));return Rn.length&&(ft.query=Rn.join("&")),ft}},xt=/^([^\:]+)\:(.*)/,Lt={scheme:"urn",parse:function(Ee,et){var ft=Ee.path&&Ee.path.match(xt),it=Ee;if(ft){var Et=et.scheme||it.scheme||"urn",It=ft[1].toLowerCase(),Vt=ft[2],Yt=Et+":"+(et.nid||It),qt=Je[Yt];it.nid=It,it.nss=Vt,it.path=void 0,qt&&(it=qt.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ee,et){var ft=et.scheme||Ee.scheme||"urn",it=Ee.nid,Et=ft+":"+(et.nid||it),It=Je[Et];It&&(Ee=It.serialize(Ee,et));var Vt=Ee,Yt=Ee.nss;return Vt.path=(it||et.nid)+":"+Yt,Vt}},zn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ee,et){var ft=Ee;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(zn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ee,et){var ft=Ee;return ft.nss=(Ee.uuid||"").toLowerCase(),ft}};Je[V.scheme]=V,Je[je.scheme]=je,Je[ke.scheme]=ke,Je[At.scheme]=At,Je[wt.scheme]=wt,Je[Lt.scheme]=Lt,Je[Jn.scheme]=Jn,n.SCHEMES=Je,n.pctEncChar=Re,n.pctDecChars=Fe,n.parse=he,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=Ut,n.resolve=Se,n.normalize=Be,n.equal=X,n.escapeComponent=B,n.unescapeComponent=K,Object.defineProperty(n,"__esModule",{value:!0})})}(xg,xg.exports)),xg.exports}var G6;function jTe(){if(G6)return Ov;G6=1,Object.defineProperty(Ov,"__esModule",{value:!0});const t=FTe();return t.code='require("ajv/dist/runtime/uri").default',Ov.default=t,Ov}var W6;function $Te(){return W6||(W6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Lm();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=On();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=lP(),i=cP(),a=Bz(),o=fP(),s=On(),c=dw(),f=g0(),h=Vn(),p=kTe,m=jTe(),y=(k,ne)=>new RegExp(k,ne);y.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},x={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function A(k){var ne,me,H,J,ge,Ae,Je,Re,Fe,Xe,ie,z,$,re,W,he,ye,He,Te,Ne,tt,nt,gt,Ut,Se;const Be=k.strict,X=(ne=k.code)===null||ne===void 0?void 0:ne.optimize,B=X===!0||X===void 0?1:X||0,K=(H=(me=k.code)===null||me===void 0?void 0:me.regExp)!==null&&H!==void 0?H:y,V=(J=k.uriResolver)!==null&&J!==void 0?J:m.default;return{strictSchema:(Ae=(ge=k.strictSchema)!==null&&ge!==void 0?ge:Be)!==null&&Ae!==void 0?Ae:!0,strictNumbers:(Re=(Je=k.strictNumbers)!==null&&Je!==void 0?Je:Be)!==null&&Re!==void 0?Re:!0,strictTypes:(Xe=(Fe=k.strictTypes)!==null&&Fe!==void 0?Fe:Be)!==null&&Xe!==void 0?Xe:"log",strictTuples:(z=(ie=k.strictTuples)!==null&&ie!==void 0?ie:Be)!==null&&z!==void 0?z:"log",strictRequired:(re=($=k.strictRequired)!==null&&$!==void 0?$:Be)!==null&&re!==void 0?re:!1,code:k.code?{...k.code,optimize:B,regExp:K}:{optimize:B,regExp:K},loopRequired:(W=k.loopRequired)!==null&&W!==void 0?W:E,loopEnum:(he=k.loopEnum)!==null&&he!==void 0?he:E,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Te=k.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(Ne=k.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(Ut=k.unicodeRegExp)!==null&&Ut!==void 0?Ut:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:V}}class I{constructor(ne={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ne=this.opts={...ne,...A(ne)};const{es5:me,lines:H}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:b,es5:me,lines:H}),this.logger=fe(ne.logger);const J=ne.validateFormats;ne.validateFormats=!1,this.RULES=(0,a.getRules)(),M.call(this,S,ne,"NOT SUPPORTED"),M.call(this,x,ne,"DEPRECATED","warn"),this._metaOpts=q.call(this),ne.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ne.keywords&&Y.call(this,ne.keywords),typeof ne.meta=="object"&&this.addMetaSchema(ne.meta),j.call(this),ne.validateFormats=J}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ne,meta:me,schemaId:H}=this.opts;let J=p;H==="id"&&(J={...p},J.id=J.$id,delete J.$id),me&&ne&&this.addMetaSchema(J,J[H],!1)}defaultMeta(){const{meta:ne,schemaId:me}=this.opts;return this.opts.defaultMeta=typeof ne=="object"?ne[me]||ne:void 0}validate(ne,me){let H;if(typeof ne=="string"){if(H=this.getSchema(ne),!H)throw new Error(`no schema with key or ref "${ne}"`)}else H=this.compile(ne);const J=H(me);return"$async"in H||(this.errors=H.errors),J}compile(ne,me){const H=this._addSchema(ne,me);return H.validate||this._compileSchemaEnv(H)}compileAsync(ne,me){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:H}=this.opts;return J.call(this,ne,me);async function J(Xe,ie){await ge.call(this,Xe.$schema);const z=this._addSchema(Xe,ie);return z.validate||Ae.call(this,z)}async function ge(Xe){Xe&&!this.getSchema(Xe)&&await J.call(this,{$ref:Xe},!0)}async function Ae(Xe){try{return this._compileSchemaEnv(Xe)}catch(ie){if(!(ie instanceof i.default))throw ie;return Je.call(this,ie),await Re.call(this,ie.missingSchema),Ae.call(this,Xe)}}function Je({missingSchema:Xe,missingRef:ie}){if(this.refs[Xe])throw new Error(`AnySchema ${Xe} is loaded but ${ie} cannot be resolved`)}async function Re(Xe){const ie=await Fe.call(this,Xe);this.refs[Xe]||await ge.call(this,ie.$schema),this.refs[Xe]||this.addSchema(ie,Xe,me)}async function Fe(Xe){const ie=this._loading[Xe];if(ie)return ie;try{return await(this._loading[Xe]=H(Xe))}finally{delete this._loading[Xe]}}}addSchema(ne,me,H,J=this.opts.validateSchema){if(Array.isArray(ne)){for(const Ae of ne)this.addSchema(Ae,void 0,H,J);return this}let ge;if(typeof ne=="object"){const{schemaId:Ae}=this.opts;if(ge=ne[Ae],ge!==void 0&&typeof ge!="string")throw new Error(`schema ${Ae} must be string`)}return me=(0,c.normalizeId)(me||ge),this._checkUnique(me),this.schemas[me]=this._addSchema(ne,H,me,J,!0),this}addMetaSchema(ne,me,H=this.opts.validateSchema){return this.addSchema(ne,me,!0,H),this}validateSchema(ne,me){if(typeof ne=="boolean")return!0;let H;if(H=ne.$schema,H!==void 0&&typeof H!="string")throw new Error("$schema must be a string");if(H=H||this.opts.defaultMeta||this.defaultMeta(),!H)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const J=this.validate(H,ne);if(!J&&me){const ge="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(ge);else throw new Error(ge)}return J}getSchema(ne){let me;for(;typeof(me=D.call(this,ne))=="string";)ne=me;if(me===void 0){const{schemaId:H}=this.opts,J=new o.SchemaEnv({schema:{},schemaId:H});if(me=o.resolveSchema.call(this,J,ne),!me)return;this.refs[ne]=me}return me.validate||this._compileSchemaEnv(me)}removeSchema(ne){if(ne instanceof RegExp)return this._removeAllSchemas(this.schemas,ne),this._removeAllSchemas(this.refs,ne),this;switch(typeof ne){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const me=D.call(this,ne);return typeof me=="object"&&this._cache.delete(me.schema),delete this.schemas[ne],delete this.refs[ne],this}case"object":{const me=ne;this._cache.delete(me);let H=ne[this.opts.schemaId];return H&&(H=(0,c.normalizeId)(H),delete this.schemas[H],delete this.refs[H]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ne){for(const me of ne)this.addKeyword(me);return this}addKeyword(ne,me){let H;if(typeof ne=="string")H=ne,typeof me=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),me.keyword=H);else if(typeof ne=="object"&&me===void 0){if(me=ne,H=me.keyword,Array.isArray(H)&&!H.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(se.call(this,H,me),!me)return(0,h.eachItem)(H,ge=>pe.call(this,ge)),this;ce.call(this,me);const J={...me,type:(0,f.getJSONTypes)(me.type),schemaType:(0,f.getJSONTypes)(me.schemaType)};return(0,h.eachItem)(H,J.type.length===0?ge=>pe.call(this,ge,J):ge=>J.type.forEach(Ae=>pe.call(this,ge,J,Ae))),this}getKeyword(ne){const me=this.RULES.all[ne];return typeof me=="object"?me.definition:!!me}removeKeyword(ne){const{RULES:me}=this;delete me.keywords[ne],delete me.all[ne];for(const H of me.rules){const J=H.rules.findIndex(ge=>ge.keyword===ne);J>=0&&H.rules.splice(J,1)}return this}addFormat(ne,me){return typeof me=="string"&&(me=new RegExp(me)),this.formats[ne]=me,this}errorsText(ne=this.errors,{separator:me=", ",dataVar:H="data"}={}){return!ne||ne.length===0?"No errors":ne.map(J=>`${H}${J.instancePath} ${J.message}`).reduce((J,ge)=>J+me+ge)}$dataMetaSchema(ne,me){const H=this.RULES.all;ne=JSON.parse(JSON.stringify(ne));for(const J of me){const ge=J.split("/").slice(1);let Ae=ne;for(const Je of ge)Ae=Ae[Je];for(const Je in H){const Re=H[Je];if(typeof Re!="object")continue;const{$data:Fe}=Re.definition,Xe=Ae[Je];Fe&&Xe&&(Ae[Je]=Oe(Xe))}}return ne}_removeAllSchemas(ne,me){for(const H in ne){const J=ne[H];(!me||me.test(H))&&(typeof J=="string"?delete ne[H]:J&&!J.meta&&(this._cache.delete(J.schema),delete ne[H]))}}_addSchema(ne,me,H,J=this.opts.validateSchema,ge=this.opts.addUsedSchema){let Ae;const{schemaId:Je}=this.opts;if(typeof ne=="object")Ae=ne[Je];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ne!="boolean")throw new Error("schema must be object or boolean")}let Re=this._cache.get(ne);if(Re!==void 0)return Re;H=(0,c.normalizeId)(Ae||H);const Fe=c.getSchemaRefs.call(this,ne,H);return Re=new o.SchemaEnv({schema:ne,schemaId:Je,meta:me,baseId:H,localRefs:Fe}),this._cache.set(Re.schema,Re),ge&&!H.startsWith("#")&&(H&&this._checkUnique(H),this.refs[H]=Re),J&&this.validateSchema(ne,!0),Re}_checkUnique(ne){if(this.schemas[ne]||this.refs[ne])throw new Error(`schema with key or id "${ne}" already exists`)}_compileSchemaEnv(ne){if(ne.meta?this._compileMetaSchema(ne):o.compileSchema.call(this,ne),!ne.validate)throw new Error("ajv implementation error");return ne.validate}_compileMetaSchema(ne){const me=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,ne)}finally{this.opts=me}}}I.ValidationError=r.default,I.MissingRefError=i.default,t.default=I;function M(k,ne,me,H="error"){for(const J in k){const ge=J;ge in ne&&this.logger[H](`${me}: option ${J}. ${k[ge]}`)}}function D(k){return k=(0,c.normalizeId)(k),this.schemas[k]||this.refs[k]}function j(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ne in k)this.addSchema(k[ne],ne)}function Q(){for(const k in this.opts.formats){const ne=this.opts.formats[k];ne&&this.addFormat(k,ne)}}function Y(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ne in k){const me=k[ne];me.keyword||(me.keyword=ne),this.addKeyword(me)}}function q(){const k={...this.opts};for(const ne of _)delete k[ne];return k}const Z={log(){},warn(){},error(){}};function fe(k){if(k===!1)return Z;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const te=/^[a-z_$][a-z0-9_$:-]*$/i;function se(k,ne){const{RULES:me}=this;if((0,h.eachItem)(k,H=>{if(me.keywords[H])throw new Error(`Keyword ${H} is already defined`);if(!te.test(H))throw new Error(`Keyword ${H} has invalid name`)}),!!ne&&ne.$data&&!("code"in ne||"validate"in ne))throw new Error('$data keyword must have "code" or "validate" function')}function pe(k,ne,me){var H;const J=ne==null?void 0:ne.post;if(me&&J)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ge}=this;let Ae=J?ge.post:ge.rules.find(({type:Re})=>Re===me);if(Ae||(Ae={type:me,rules:[]},ge.rules.push(Ae)),ge.keywords[k]=!0,!ne)return;const Je={keyword:k,definition:{...ne,type:(0,f.getJSONTypes)(ne.type),schemaType:(0,f.getJSONTypes)(ne.schemaType)}};ne.before?be.call(this,Ae,Je,ne.before):Ae.rules.push(Je),ge.all[k]=Je,(H=ne.implements)===null||H===void 0||H.forEach(Re=>this.addKeyword(Re))}function be(k,ne,me){const H=k.rules.findIndex(J=>J.keyword===me);H>=0?k.rules.splice(H,0,ne):(k.rules.push(ne),this.logger.warn(`rule ${me} is not defined`))}function ce(k){let{metaSchema:ne}=k;ne!==void 0&&(k.$data&&this.opts.$data&&(ne=Oe(ne)),k.validateSchema=this.compile(ne,!0))}const le={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(k){return{anyOf:[k,le]}}}(j2)),j2}var Lv={},Iv={},Mv={},Q6;function UTe(){if(Q6)return Mv;Q6=1,Object.defineProperty(Mv,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Mv.default=t,Mv}var Xu={},Z6;function BTe(){if(Z6)return Xu;Z6=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.callRef=Xu.getValidate=void 0;const t=cP(),e=zo(),n=On(),r=_u(),i=fP(),a=Vn(),o={keyword:"$ref",schemaType:"string",code(f){const{gen:h,schema:p,it:m}=f,{baseId:y,schemaEnv:_,validateName:b,opts:S,self:x}=m,{root:E}=_;if((p==="#"||p==="#/")&&y===E.baseId)return I();const A=i.resolveRef.call(x,E,y,p);if(A===void 0)throw new t.default(m.opts.uriResolver,y,p);if(A instanceof i.SchemaEnv)return M(A);return D(A);function I(){if(_===E)return c(f,b,_,_.$async);const j=h.scopeValue("root",{ref:E});return c(f,(0,n._)`${j}.validate`,E,E.$async)}function M(j){const Q=s(f,j);c(f,Q,j,j.$async)}function D(j){const Q=h.scopeValue("schema",S.code.source===!0?{ref:j,code:(0,n.stringify)(j)}:{ref:j}),Y=h.name("valid"),q=f.subschema({schema:j,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:p},Y);f.mergeEvaluated(q),f.ok(Y)}}};function s(f,h){const{gen:p}=f;return h.validate?p.scopeValue("validate",{ref:h.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:h})}.validate`}Xu.getValidate=s;function c(f,h,p,m){const{gen:y,it:_}=f,{allErrors:b,schemaEnv:S,opts:x}=_,E=x.passContext?r.default.this:n.nil;m?A():I();function A(){if(!S.$async)throw new Error("async schema referenced by sync schema");const j=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,e.callValidateCode)(f,h,E)}`),D(h),b||y.assign(j,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${_.ValidationError})`,()=>y.throw(Q)),M(Q),b||y.assign(j,!1)}),f.ok(j)}function I(){f.result((0,e.callValidateCode)(f,h,E),()=>D(h),()=>M(h))}function M(j){const Q=(0,n._)`${j}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(j){var Q;if(!_.opts.unevaluated)return;const Y=(Q=p==null?void 0:p.validate)===null||Q===void 0?void 0:Q.evaluated;if(_.props!==!0)if(Y&&!Y.dynamicProps)Y.props!==void 0&&(_.props=a.mergeEvaluated.props(y,Y.props,_.props));else{const q=y.var("props",(0,n._)`${j}.evaluated.props`);_.props=a.mergeEvaluated.props(y,q,_.props,n.Name)}if(_.items!==!0)if(Y&&!Y.dynamicItems)Y.items!==void 0&&(_.items=a.mergeEvaluated.items(y,Y.items,_.items));else{const q=y.var("items",(0,n._)`${j}.evaluated.items`);_.items=a.mergeEvaluated.items(y,q,_.items,n.Name)}}}return Xu.callRef=c,Xu.default=o,Xu}var J6;function qTe(){if(J6)return Iv;J6=1,Object.defineProperty(Iv,"__esModule",{value:!0});const t=UTe(),e=BTe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Iv.default=n,Iv}var Dv={},kv={},Y6;function zTe(){if(Y6)return kv;Y6=1,Object.defineProperty(kv,"__esModule",{value:!0});const t=On(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:a,schemaCode:o})=>(0,t.str)`must be ${n[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:o,data:s,schemaCode:c}=a;a.fail$data((0,t._)`${s} ${n[o].fail} ${c} || isNaN(${s})`)}};return kv.default=i,kv}var Nv={},X6;function HTe(){if(X6)return Nv;X6=1,Object.defineProperty(Nv,"__esModule",{value:!0});const t=On(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:o,it:s}=r,c=s.opts.multipleOfPrecision,f=i.let("res"),h=c?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${c}`:(0,t._)`${f} !== parseInt(${f})`;r.fail$data((0,t._)`(${o} === 0 || (${f} = ${a}/${o}, ${h}))`)}};return Nv.default=n,Nv}var Fv={},jv={},e$;function VTe(){if(e$)return jv;e$=1,Object.defineProperty(jv,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,a;for(;i<n;)r++,a=e.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=e.charCodeAt(i),(a&64512)===56320&&i++);return r}return jv.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',jv}var t$;function KTe(){if(t$)return Fv;t$=1,Object.defineProperty(Fv,"__esModule",{value:!0});const t=On(),e=Vn(),n=VTe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const s=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},code(a){const{keyword:o,data:s,schemaCode:c,it:f}=a,h=o==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${s}.length`:(0,t._)`${(0,e.useFunc)(a.gen,n.default)}(${s})`;a.fail$data((0,t._)`${p} ${h} ${c}`)}};return Fv.default=i,Fv}var $v={},n$;function GTe(){if(n$)return $v;n$=1,Object.defineProperty($v,"__esModule",{value:!0});const t=zo(),e=On(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:a,$data:o,schema:s,schemaCode:c,it:f}=i,h=f.opts.unicodeRegExp?"u":"",p=o?(0,e._)`(new RegExp(${c}, ${h}))`:(0,t.usePattern)(i,s);i.fail$data((0,e._)`!${p}.test(${a})`)}};return $v.default=r,$v}var Uv={},r$;function WTe(){if(r$)return Uv;r$=1,Object.defineProperty(Uv,"__esModule",{value:!0});const t=On(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${a}).length ${s} ${o}`)}};return Uv.default=n,Uv}var Bv={},i$;function QTe(){if(i$)return Bv;i$=1,Object.defineProperty(Bv,"__esModule",{value:!0});const t=zo(),e=On(),n=Vn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:s,schemaCode:c,data:f,$data:h,it:p}=a,{opts:m}=p;if(!h&&s.length===0)return;const y=s.length>=m.loopRequired;if(p.allErrors?_():b(),m.strictRequired){const E=a.parentSchema.properties,{definedProperties:A}=a.it;for(const I of s)if((E==null?void 0:E[I])===void 0&&!A.has(I)){const M=p.schemaEnv.baseId+p.errSchemaPath,D=`required property "${I}" is not defined at "${M}" (strictRequired)`;(0,n.checkStrictMode)(p,D,p.opts.strictRequired)}}function _(){if(y||h)a.block$data(e.nil,S);else for(const E of s)(0,t.checkReportMissingProp)(a,E)}function b(){const E=o.let("missing");if(y||h){const A=o.let("valid",!0);a.block$data(A,()=>x(E,A)),a.ok(A)}else o.if((0,t.checkMissingProp)(a,s,E)),(0,t.reportMissingProp)(a,E),o.else()}function S(){o.forOf("prop",c,E=>{a.setParams({missingProperty:E}),o.if((0,t.noPropertyInData)(o,f,E,m.ownProperties),()=>a.error())})}function x(E,A){a.setParams({missingProperty:E}),o.forOf(E,c,()=>{o.assign(A,(0,t.propertyInData)(o,f,E,m.ownProperties)),o.if((0,e.not)(A),()=>{a.error(),o.break()})},e.nil)}}};return Bv.default=i,Bv}var qv={},a$;function ZTe(){if(a$)return qv;a$=1,Object.defineProperty(qv,"__esModule",{value:!0});const t=On(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${a}.length ${s} ${o}`)}};return qv.default=n,qv}var zv={},Hv={},o$;function dP(){if(o$)return Hv;o$=1,Object.defineProperty(Hv,"__esModule",{value:!0});const t=zz();return t.code='require("ajv/dist/runtime/equal").default',Hv.default=t,Hv}var s$;function JTe(){if(s$)return zv;s$=1,Object.defineProperty(zv,"__esModule",{value:!0});const t=g0(),e=On(),n=Vn(),r=dP(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,e.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,e._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:c,$data:f,schema:h,parentSchema:p,schemaCode:m,it:y}=o;if(!f&&!h)return;const _=s.let("valid"),b=p.items?(0,t.getSchemaTypes)(p.items):[];o.block$data(_,S,(0,e._)`${m} === false`),o.ok(_);function S(){const I=s.let("i",(0,e._)`${c}.length`),M=s.let("j");o.setParams({i:I,j:M}),s.assign(_,!0),s.if((0,e._)`${I} > 1`,()=>(x()?E:A)(I,M))}function x(){return b.length>0&&!b.some(I=>I==="object"||I==="array")}function E(I,M){const D=s.name("item"),j=(0,t.checkDataTypes)(b,D,y.opts.strictNumbers,t.DataType.Wrong),Q=s.const("indices",(0,e._)`{}`);s.for((0,e._)`;${I}--;`,()=>{s.let(D,(0,e._)`${c}[${I}]`),s.if(j,(0,e._)`continue`),b.length>1&&s.if((0,e._)`typeof ${D} == "string"`,(0,e._)`${D} += "_"`),s.if((0,e._)`typeof ${Q}[${D}] == "number"`,()=>{s.assign(M,(0,e._)`${Q}[${D}]`),o.error(),s.assign(_,!1).break()}).code((0,e._)`${Q}[${D}] = ${I}`)})}function A(I,M){const D=(0,n.useFunc)(s,r.default),j=s.name("outer");s.label(j).for((0,e._)`;${I}--;`,()=>s.for((0,e._)`${M} = ${I}; ${M}--;`,()=>s.if((0,e._)`${D}(${c}[${I}], ${c}[${M}])`,()=>{o.error(),s.assign(_,!1).break(j)})))}}};return zv.default=a,zv}var Vv={},u$;function YTe(){if(u$)return Vv;u$=1,Object.defineProperty(Vv,"__esModule",{value:!0});const t=On(),e=Vn(),n=dP(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:s,$data:c,schemaCode:f,schema:h}=a;c||h&&typeof h=="object"?a.fail$data((0,t._)`!${(0,e.useFunc)(o,n.default)}(${s}, ${f})`):a.fail((0,t._)`${h} !== ${s}`)}};return Vv.default=i,Vv}var Kv={},l$;function XTe(){if(l$)return Kv;l$=1,Object.defineProperty(Kv,"__esModule",{value:!0});const t=On(),e=Vn(),n=dP(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:s,$data:c,schema:f,schemaCode:h,it:p}=a;if(!c&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let y;const _=()=>y??(y=(0,e.useFunc)(o,n.default));let b;if(m||c)b=o.let("valid"),a.block$data(b,S);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const E=o.const("vSchema",h);b=(0,t.or)(...f.map((A,I)=>x(E,I)))}a.pass(b);function S(){o.assign(b,!1),o.forOf("v",h,E=>o.if((0,t._)`${_()}(${s}, ${E})`,()=>o.assign(b,!0).break()))}function x(E,A){const I=f[A];return typeof I=="object"&&I!==null?(0,t._)`${_()}(${s}, ${E}[${A}])`:(0,t._)`${s} === ${I}`}}};return Kv.default=i,Kv}var c$;function e2e(){if(c$)return Dv;c$=1,Object.defineProperty(Dv,"__esModule",{value:!0});const t=zTe(),e=HTe(),n=KTe(),r=GTe(),i=WTe(),a=QTe(),o=ZTe(),s=JTe(),c=YTe(),f=XTe(),h=[t.default,e.default,n.default,r.default,i.default,a.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,f.default];return Dv.default=h,Dv}var Gv={},Jf={},f$;function Hz(){if(f$)return Jf;f$=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.validateAdditionalItems=void 0;const t=On(),e=Vn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:s}=a,{items:c}=o;if(!Array.isArray(c)){(0,e.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,c)}};function i(a,o){const{gen:s,schema:c,data:f,keyword:h,it:p}=a;p.items=!0;const m=s.const("len",(0,t._)`${f}.length`);if(c===!1)a.setParams({len:o.length}),a.pass((0,t._)`${m} <= ${o.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(p,c)){const _=s.var("valid",(0,t._)`${m} <= ${o.length}`);s.if((0,t.not)(_),()=>y(_)),a.ok(_)}function y(_){s.forRange("i",o.length,m,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},_),p.allErrors||s.if((0,t.not)(_),()=>s.break())})}}return Jf.validateAdditionalItems=i,Jf.default=r,Jf}var Wv={},Yf={},d$;function Vz(){if(d$)return Yf;d$=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.validateTuple=void 0;const t=On(),e=Vn(),n=zo(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:s}=a;if(Array.isArray(o))return i(a,"additionalItems",o);s.items=!0,!(0,e.alwaysValidSchema)(s,o)&&a.ok((0,n.validateArray)(a))}};function i(a,o,s=a.schema){const{gen:c,parentSchema:f,data:h,keyword:p,it:m}=a;b(f),m.opts.unevaluated&&s.length&&m.items!==!0&&(m.items=e.mergeEvaluated.items(c,s.length,m.items));const y=c.name("valid"),_=c.const("len",(0,t._)`${h}.length`);s.forEach((S,x)=>{(0,e.alwaysValidSchema)(m,S)||(c.if((0,t._)`${_} > ${x}`,()=>a.subschema({keyword:p,schemaProp:x,dataProp:x},y)),a.ok(y))});function b(S){const{opts:x,errSchemaPath:E}=m,A=s.length,I=A===S.minItems&&(A===S.maxItems||S[o]===!1);if(x.strictTuples&&!I){const M=`"${p}" is ${A}-tuple, but minItems or maxItems/${o} are not specified or different at path "${E}"`;(0,e.checkStrictMode)(m,M,x.strictTuples)}}}return Yf.validateTuple=i,Yf.default=r,Yf}var h$;function t2e(){if(h$)return Wv;h$=1,Object.defineProperty(Wv,"__esModule",{value:!0});const t=Vz(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return Wv.default=e,Wv}var Qv={},p$;function n2e(){if(p$)return Qv;p$=1,Object.defineProperty(Qv,"__esModule",{value:!0});const t=On(),e=Vn(),n=zo(),r=Hz(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:c,it:f}=o,{prefixItems:h}=c;f.items=!0,!(0,e.alwaysValidSchema)(f,s)&&(h?(0,r.validateAdditionalItems)(o,h):o.ok((0,n.validateArray)(o)))}};return Qv.default=a,Qv}var Zv={},g$;function r2e(){if(g$)return Zv;g$=1,Object.defineProperty(Zv,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:o,parentSchema:s,data:c,it:f}=i;let h,p;const{minContains:m,maxContains:y}=s;f.opts.next?(h=m===void 0?1:m,p=y):h=1;const _=a.const("len",(0,t._)`${c}.length`);if(i.setParams({min:h,max:p}),p===void 0&&h===0){(0,e.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&h>p){(0,e.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(f,o)){let A=(0,t._)`${_} >= ${h}`;p!==void 0&&(A=(0,t._)`${A} && ${_} <= ${p}`),i.pass(A);return}f.items=!0;const b=a.name("valid");p===void 0&&h===1?x(b,()=>a.if(b,()=>a.break())):h===0?(a.let(b,!0),p!==void 0&&a.if((0,t._)`${c}.length > 0`,S)):(a.let(b,!1),S()),i.result(b,()=>i.reset());function S(){const A=a.name("_valid"),I=a.let("count",0);x(A,()=>a.if(A,()=>E(I)))}function x(A,I){a.forRange("i",0,_,M=>{i.subschema({keyword:"contains",dataProp:M,dataPropType:e.Type.Num,compositeRule:!0},A),I()})}function E(A){a.code((0,t._)`${A}++`),p===void 0?a.if((0,t._)`${A} >= ${h}`,()=>a.assign(b,!0).break()):(a.if((0,t._)`${A} > ${p}`,()=>a.assign(b,!1).break()),h===1?a.assign(b,!0):a.if((0,t._)`${A} >= ${h}`,()=>a.assign(b,!0)))}}};return Zv.default=r,Zv}var V2={},m$;function i2e(){return m$||(m$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=On(),n=Vn(),r=zo();t.error={message:({params:{property:c,depsCount:f,deps:h}})=>{const p=f===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${c} is present`},params:({params:{property:c,depsCount:f,deps:h,missingProperty:p}})=>(0,e._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${f},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[f,h]=a(c);o(c,f),s(c,h)}};function a({schema:c}){const f={},h={};for(const p in c){if(p==="__proto__")continue;const m=Array.isArray(c[p])?f:h;m[p]=c[p]}return[f,h]}function o(c,f=c.schema){const{gen:h,data:p,it:m}=c;if(Object.keys(f).length===0)return;const y=h.let("missing");for(const _ in f){const b=f[_];if(b.length===0)continue;const S=(0,r.propertyInData)(h,p,_,m.opts.ownProperties);c.setParams({property:_,depsCount:b.length,deps:b.join(", ")}),m.allErrors?h.if(S,()=>{for(const x of b)(0,r.checkReportMissingProp)(c,x)}):(h.if((0,e._)`${S} && (${(0,r.checkMissingProp)(c,b,y)})`),(0,r.reportMissingProp)(c,y),h.else())}}t.validatePropertyDeps=o;function s(c,f=c.schema){const{gen:h,data:p,keyword:m,it:y}=c,_=h.name("valid");for(const b in f)(0,n.alwaysValidSchema)(y,f[b])||(h.if((0,r.propertyInData)(h,p,b,y.opts.ownProperties),()=>{const S=c.subschema({keyword:m,schemaProp:b},_);c.mergeValidEvaluated(S,_)},()=>h.var(_,!0)),c.ok(_))}t.validateSchemaDeps=s,t.default=i}(V2)),V2}var Jv={},y$;function a2e(){if(y$)return Jv;y$=1,Object.defineProperty(Jv,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:o,data:s,it:c}=i;if((0,e.alwaysValidSchema)(c,o))return;const f=a.name("valid");a.forIn("key",s,h=>{i.setParams({propertyName:h}),i.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},f),a.if((0,t.not)(f),()=>{i.error(!0),c.allErrors||a.break()})}),i.ok(f)}};return Jv.default=r,Jv}var Yv={},v$;function Kz(){if(v$)return Yv;v$=1,Object.defineProperty(Yv,"__esModule",{value:!0});const t=zo(),e=On(),n=_u(),r=Vn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:c,parentSchema:f,data:h,errsCount:p,it:m}=o;if(!p)throw new Error("ajv implementation error");const{allErrors:y,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,c))return;const b=(0,t.allSchemaProperties)(f.properties),S=(0,t.allSchemaProperties)(f.patternProperties);x(),o.ok((0,e._)`${p} === ${n.default.errors}`);function x(){s.forIn("key",h,D=>{!b.length&&!S.length?I(D):s.if(E(D),()=>I(D))})}function E(D){let j;if(b.length>8){const Q=(0,r.schemaRefOrVal)(m,f.properties,"properties");j=(0,t.isOwnProperty)(s,Q,D)}else b.length?j=(0,e.or)(...b.map(Q=>(0,e._)`${D} === ${Q}`)):j=e.nil;return S.length&&(j=(0,e.or)(j,...S.map(Q=>(0,e._)`${(0,t.usePattern)(o,Q)}.test(${D})`))),(0,e.not)(j)}function A(D){s.code((0,e._)`delete ${h}[${D}]`)}function I(D){if(_.removeAdditional==="all"||_.removeAdditional&&c===!1){A(D);return}if(c===!1){o.setParams({additionalProperty:D}),o.error(),y||s.break();return}if(typeof c=="object"&&!(0,r.alwaysValidSchema)(m,c)){const j=s.name("valid");_.removeAdditional==="failing"?(M(D,j,!1),s.if((0,e.not)(j),()=>{o.reset(),A(D)})):(M(D,j),y||s.if((0,e.not)(j),()=>s.break()))}}function M(D,j,Q){const Y={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(Y,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(Y,j)}}};return Yv.default=a,Yv}var Xv={},_$;function o2e(){if(_$)return Xv;_$=1,Object.defineProperty(Xv,"__esModule",{value:!0});const t=Lm(),e=zo(),n=Vn(),r=Kz(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,parentSchema:c,data:f,it:h}=a;h.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(h,r.default,"additionalProperties"));const p=(0,e.allSchemaProperties)(s);for(const S of p)h.definedProperties.add(S);h.opts.unevaluated&&p.length&&h.props!==!0&&(h.props=n.mergeEvaluated.props(o,(0,n.toHash)(p),h.props));const m=p.filter(S=>!(0,n.alwaysValidSchema)(h,s[S]));if(m.length===0)return;const y=o.name("valid");for(const S of m)_(S)?b(S):(o.if((0,e.propertyInData)(o,f,S,h.opts.ownProperties)),b(S),h.allErrors||o.else().var(y,!0),o.endIf()),a.it.definedProperties.add(S),a.ok(y);function _(S){return h.opts.useDefaults&&!h.compositeRule&&s[S].default!==void 0}function b(S){a.subschema({keyword:"properties",schemaProp:S,dataProp:S},y)}}};return Xv.default=i,Xv}var e_={},w$;function s2e(){if(w$)return e_;w$=1,Object.defineProperty(e_,"__esModule",{value:!0});const t=zo(),e=On(),n=Vn(),r=Vn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,data:c,parentSchema:f,it:h}=a,{opts:p}=h,m=(0,t.allSchemaProperties)(s),y=m.filter(I=>(0,n.alwaysValidSchema)(h,s[I]));if(m.length===0||y.length===m.length&&(!h.opts.unevaluated||h.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,b=o.name("valid");h.props!==!0&&!(h.props instanceof e.Name)&&(h.props=(0,r.evaluatedPropsToName)(o,h.props));const{props:S}=h;x();function x(){for(const I of m)_&&E(I),h.allErrors?A(I):(o.var(b,!0),A(I),o.if(b))}function E(I){for(const M in _)new RegExp(I).test(M)&&(0,n.checkStrictMode)(h,`property ${M} matches pattern ${I} (use allowMatchingProperties)`)}function A(I){o.forIn("key",c,M=>{o.if((0,e._)`${(0,t.usePattern)(a,I)}.test(${M})`,()=>{const D=y.includes(I);D||a.subschema({keyword:"patternProperties",schemaProp:I,dataProp:M,dataPropType:r.Type.Str},b),h.opts.unevaluated&&S!==!0?o.assign((0,e._)`${S}[${M}]`,!0):!D&&!h.allErrors&&o.if((0,e.not)(b),()=>o.break())})})}}};return e_.default=i,e_}var t_={},b$;function u2e(){if(b$)return t_;b$=1,Object.defineProperty(t_,"__esModule",{value:!0});const t=Vn(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,t.alwaysValidSchema)(a,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return t_.default=e,t_}var n_={},S$;function l2e(){if(S$)return n_;S$=1,Object.defineProperty(n_,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:zo().validateUnion,error:{message:"must match a schema in anyOf"}};return n_.default=e,n_}var r_={},x$;function c2e(){if(x$)return r_;x$=1,Object.defineProperty(r_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:o,parentSchema:s,it:c}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&s.discriminator)return;const f=o,h=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");i.setParams({passing:p}),a.block(y),i.result(h,()=>i.reset(),()=>i.error(!0));function y(){f.forEach((_,b)=>{let S;(0,e.alwaysValidSchema)(c,_)?a.var(m,!0):S=i.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},m),b>0&&a.if((0,t._)`${m} && ${h}`).assign(h,!1).assign(p,(0,t._)`[${p}, ${b}]`).else(),a.if(m,()=>{a.assign(h,!0),a.assign(p,b),S&&i.mergeEvaluated(S,t.Name)})})}}};return r_.default=r,r_}var i_={},E$;function f2e(){if(E$)return i_;E$=1,Object.defineProperty(i_,"__esModule",{value:!0});const t=Vn(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((s,c)=>{if((0,t.alwaysValidSchema)(a,s))return;const f=n.subschema({keyword:"allOf",schemaProp:c},o);n.ok(o),n.mergeEvaluated(f)})}};return i_.default=e,i_}var a_={},T$;function d2e(){if(T$)return a_;T$=1,Object.defineProperty(a_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:s,it:c}=a;s.then===void 0&&s.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const f=i(c,"then"),h=i(c,"else");if(!f&&!h)return;const p=o.let("valid",!0),m=o.name("_valid");if(y(),a.reset(),f&&h){const b=o.let("ifClause");a.setParams({ifClause:b}),o.if(m,_("then",b),_("else",b))}else f?o.if(m,_("then")):o.if((0,t.not)(m),_("else"));a.pass(p,()=>a.error(!0));function y(){const b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(b)}function _(b,S){return()=>{const x=a.subschema({keyword:b},m);o.assign(p,m),a.mergeValidEvaluated(x,p),S?o.assign(S,(0,t._)`${b}`):a.setParams({ifClause:b})}}}};function i(a,o){const s=a.schema[o];return s!==void 0&&!(0,e.alwaysValidSchema)(a,s)}return a_.default=r,a_}var o_={},C$;function h2e(){if(C$)return o_;C$=1,Object.defineProperty(o_,"__esModule",{value:!0});const t=Vn(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return o_.default=e,o_}var A$;function p2e(){if(A$)return Gv;A$=1,Object.defineProperty(Gv,"__esModule",{value:!0});const t=Hz(),e=t2e(),n=Vz(),r=n2e(),i=r2e(),a=i2e(),o=a2e(),s=Kz(),c=o2e(),f=s2e(),h=u2e(),p=l2e(),m=c2e(),y=f2e(),_=d2e(),b=h2e();function S(x=!1){const E=[h.default,p.default,m.default,y.default,_.default,b.default,o.default,s.default,a.default,c.default,f.default];return x?E.push(e.default,r.default):E.push(t.default,n.default),E.push(i.default),E}return Gv.default=S,Gv}var s_={},u_={},R$;function g2e(){if(R$)return u_;R$=1,Object.defineProperty(u_,"__esModule",{value:!0});const t=On(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:a,data:o,$data:s,schema:c,schemaCode:f,it:h}=r,{opts:p,errSchemaPath:m,schemaEnv:y,self:_}=h;if(!p.validateFormats)return;s?b():S();function b(){const x=a.scopeValue("formats",{ref:_.formats,code:p.code.formats}),E=a.const("fDef",(0,t._)`${x}[${f}]`),A=a.let("fType"),I=a.let("format");a.if((0,t._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>a.assign(A,(0,t._)`${E}.type || "string"`).assign(I,(0,t._)`${E}.validate`),()=>a.assign(A,(0,t._)`"string"`).assign(I,E)),r.fail$data((0,t.or)(M(),D()));function M(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${I}`}function D(){const j=y.$async?(0,t._)`(${E}.async ? await ${I}(${o}) : ${I}(${o}))`:(0,t._)`${I}(${o})`,Q=(0,t._)`(typeof ${I} == "function" ? ${j} : ${I}.test(${o}))`;return(0,t._)`${I} && ${I} !== true && ${A} === ${i} && !${Q}`}}function S(){const x=_.formats[c];if(!x){M();return}if(x===!0)return;const[E,A,I]=D(x);E===i&&r.pass(j());function M(){if(p.strictSchema===!1){_.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${c}" ignored in schema at path "${m}"`}}function D(Q){const Y=Q instanceof RegExp?(0,t.regexpCode)(Q):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(c)}`:void 0,q=a.scopeValue("formats",{key:c,ref:Q,code:Y});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,t._)`${q}.validate`]:["string",Q,q]}function j(){if(typeof x=="object"&&!(x instanceof RegExp)&&x.async){if(!y.$async)throw new Error("async format in sync schema");return(0,t._)`await ${I}(${o})`}return typeof A=="function"?(0,t._)`${I}(${o})`:(0,t._)`${I}.test(${o})`}}}};return u_.default=n,u_}var P$;function m2e(){if(P$)return s_;P$=1,Object.defineProperty(s_,"__esModule",{value:!0});const e=[g2e().default];return s_.default=e,s_}var wc={},O$;function y2e(){return O$||(O$=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.contentVocabulary=wc.metadataVocabulary=void 0,wc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],wc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),wc}var L$;function v2e(){if(L$)return Lv;L$=1,Object.defineProperty(Lv,"__esModule",{value:!0});const t=qTe(),e=e2e(),n=p2e(),r=m2e(),i=y2e(),a=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return Lv.default=a,Lv}var l_={},ug={},I$;function _2e(){if(I$)return ug;I$=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(ug.DiscrError=t={})),ug}var M$;function w2e(){if(M$)return l_;M$=1,Object.defineProperty(l_,"__esModule",{value:!0});const t=On(),e=_2e(),n=fP(),r=Vn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:s}})=>o===e.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:o,tag:s,tagName:c}})=>(0,t._)`{error: ${o}, tag: ${c}, tagValue: ${s}}`},code(o){const{gen:s,data:c,schema:f,parentSchema:h,it:p}=o,{oneOf:m}=h;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=f.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=s.let("valid",!1),b=s.const("tag",(0,t._)`${c}${(0,t.getProperty)(y)}`);s.if((0,t._)`typeof ${b} == "string"`,()=>S(),()=>o.error(!1,{discrError:e.DiscrError.Tag,tag:b,tagName:y})),o.ok(_);function S(){const A=E();s.if(!1);for(const I in A)s.elseIf((0,t._)`${b} === ${I}`),s.assign(_,x(A[I]));s.else(),o.error(!1,{discrError:e.DiscrError.Mapping,tag:b,tagName:y}),s.endIf()}function x(A){const I=s.name("valid"),M=o.subschema({keyword:"oneOf",schemaProp:A},I);return o.mergeEvaluated(M,t.Name),I}function E(){var A;const I={},M=j(h);let D=!0;for(let q=0;q<m.length;q++){let Z=m[q];Z!=null&&Z.$ref&&!(0,r.schemaHasRulesButRef)(Z,p.self.RULES)&&(Z=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,Z==null?void 0:Z.$ref),Z instanceof n.SchemaEnv&&(Z=Z.schema));const fe=(A=Z==null?void 0:Z.properties)===null||A===void 0?void 0:A[y];if(typeof fe!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(M||j(Z)),Q(fe,q)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return I;function j({required:q}){return Array.isArray(q)&&q.includes(y)}function Q(q,Z){if(q.const)Y(q.const,Z);else if(q.enum)for(const fe of q.enum)Y(fe,Z);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function Y(q,Z){if(typeof q!="string"||q in I)throw new Error(`discriminator: "${y}" values must be unique strings`);I[q]=Z}}}};return l_.default=a,l_}const b2e="http://json-schema.org/draft-07/schema#",S2e="http://json-schema.org/draft-07/schema#",x2e="Core schema meta-schema",E2e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},T2e=["object","boolean"],C2e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},A2e={$schema:b2e,$id:S2e,title:x2e,definitions:E2e,type:T2e,properties:C2e,default:!0};var D$;function Gz(){return D$||(D$=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=$Te(),r=v2e(),i=w2e(),a=A2e,o=["/properties"],s="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(_,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var f=Lm();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var h=On();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=lP();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=cP();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(Cv,Cv.exports)),Cv.exports}var R2e=Gz();const P2e=Gr(R2e);var c_={exports:{}},k$;function O2e(){return k$||(k$=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=Gz(),r=On(),i=nm(),a=Lm(),o=Om(),s=_u(),c="errorMessage",f=new n.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function _(S){return{keyword:c,schemaType:["string","object"],post:!0,code(x){const{gen:E,data:A,schema:I,schemaValue:M,it:D}=x;if(D.createErrors===!1)return;const j=I,Q=r.strConcat(s.default.instancePath,D.errorPath);E.if(n._`${s.default.errors} > 0`,()=>{if(typeof j=="object"){const[H,J]=q(j);J&&Z(J),H&&fe(H),te(Y(j))}const me=typeof j=="string"?j:j._;me&&se(me),S.keepErrors||pe()});function Y({properties:me,items:H}){const J={};if(me){J.props={};for(const ge in me)J.props[ge]=[]}if(H){J.items={};for(let ge=0;ge<H.length;ge++)J.items[ge]=[]}return J}function q(me){let H,J;for(const ge in me){if(ge==="properties"||ge==="items")continue;const Ae=me[ge];if(typeof Ae=="object"){H||(H={});const Je=H[ge]={};for(const Re in Ae)Je[Re]=[]}else J||(J={}),J[ge]=[]}return[H,J]}function Z(me){const H=E.const("emErrors",n.stringify(me)),J=E.const("templates",Oe(me,I));E.forOf("err",s.default.vErrors,Re=>E.if(be(Re,H),()=>E.code(n._`${H}[${Re}.keyword].push(${Re})`).assign(n._`${Re}.${f}`,!0)));const{singleError:ge}=S;if(ge){const Re=E.let("message",n._`""`),Fe=E.let("paramsErrors",n._`[]`);Ae(Xe=>{E.if(Re,()=>E.code(n._`${Re} += ${typeof ge=="string"?ge:";"}`)),E.code(n._`${Re} += ${Je(Xe)}`),E.assign(Fe,n._`${Fe}.concat(${H}[${Xe}])`)}),o.reportError(x,{message:Re,params:n._`{errors: ${Fe}}`})}else Ae(Re=>o.reportError(x,{message:Je(Re),params:n._`{errors: ${H}[${Re}]}`}));function Ae(Re){E.forIn("key",H,Fe=>E.if(n._`${H}[${Fe}].length`,()=>Re(Fe)))}function Je(Re){return n._`${Re} in ${J} ? ${J}[${Re}]() : ${M}[${Re}]`}}function fe(me){const H=E.const("emErrors",n.stringify(me)),J=[];for(const Fe in me)J.push([Fe,Oe(me[Fe],I[Fe])]);const ge=E.const("templates",E.object(...J)),Ae=E.scopeValue("obj",{ref:h,code:n.stringify(h)}),Je=E.let("emPropParams"),Re=E.let("emParamsErrors");E.forOf("err",s.default.vErrors,Fe=>E.if(be(Fe,H),()=>{E.assign(Je,n._`${Ae}[${Fe}.keyword]`),E.assign(Re,n._`${H}[${Fe}.keyword][${Fe}.params[${Je}]]`),E.if(Re,()=>E.code(n._`${Re}.push(${Fe})`).assign(n._`${Fe}.${f}`,!0))})),E.forIn("key",H,Fe=>E.forIn("keyProp",n._`${H}[${Fe}]`,Xe=>{E.assign(Re,n._`${H}[${Fe}][${Xe}]`),E.if(n._`${Re}.length`,()=>{const ie=E.const("tmpl",n._`${ge}[${Fe}] && ${ge}[${Fe}][${Xe}]`);o.reportError(x,{message:n._`${ie} ? ${ie}() : ${M}[${Fe}][${Xe}]`,params:n._`{errors: ${Re}}`})})}))}function te(me){const{props:H,items:J}=me;if(!H&&!J)return;const ge=n._`typeof ${A} == "object"`,Ae=n._`Array.isArray(${A})`,Je=E.let("emErrors");let Re,Fe;const Xe=E.let("templates");H&&J?(Re=E.let("emChildKwd"),E.if(ge),E.if(Ae,()=>{ie(J,I.items),E.assign(Re,n.str`items`)},()=>{ie(H,I.properties),E.assign(Re,n.str`properties`)}),Fe=n._`[${Re}]`):J?(E.if(Ae),ie(J,I.items),Fe=n._`.items`):H&&(E.if(r.and(ge,r.not(Ae))),ie(H,I.properties),Fe=n._`.properties`),E.forOf("err",s.default.vErrors,z=>ce(z,Je,$=>E.code(n._`${Je}[${$}].push(${z})`).assign(n._`${z}.${f}`,!0))),E.forIn("key",Je,z=>E.if(n._`${Je}[${z}].length`,()=>{o.reportError(x,{message:n._`${z} in ${Xe} ? ${Xe}[${z}]() : ${M}${Fe}[${z}]`,params:n._`{errors: ${Je}[${z}]}`}),E.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${Q} + "/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),E.endIf();function ie(z,$){E.assign(Je,n.stringify(z)),E.assign(Xe,Oe(z,$))}}function se(me){const H=E.const("emErrs",n._`[]`);E.forOf("err",s.default.vErrors,J=>E.if(le(J),()=>E.code(n._`${H}.push(${J})`).assign(n._`${J}.${f}`,!0))),E.if(n._`${H}.length`,()=>o.reportError(x,{message:k(me),params:n._`{errors: ${H}}`}))}function pe(){const me=E.const("emErrs",n._`[]`);E.forOf("err",s.default.vErrors,H=>E.if(n._`!${H}.${f}`,()=>E.code(n._`${me}.push(${H})`))),E.assign(s.default.vErrors,me).assign(s.default.errors,n._`${me}.length`)}function be(me,H){return r.and(n._`${me}.keyword !== ${c}`,n._`!${me}.${f}`,n._`${me}.instancePath === ${Q}`,n._`${me}.keyword in ${H}`,n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${D.errSchemaPath.length}))`)}function ce(me,H,J){E.if(r.and(n._`${me}.keyword !== ${c}`,n._`!${me}.${f}`,n._`${me}.instancePath.indexOf(${Q}) === 0`),()=>{const ge=E.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Ae=E.const("emMatches",n._`${ge}.exec(${me}.instancePath.slice(${Q}.length))`),Je=E.const("emChild",n._`${Ae} && ${Ae}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);E.if(n._`${Je} !== undefined && ${Je} in ${H}`,()=>J(Je))})}function le(me){return r.and(n._`${me}.keyword !== ${c}`,n._`!${me}.${f}`,r.or(n._`${me}.instancePath === ${Q}`,r.and(n._`${me}.instancePath.indexOf(${Q}) === 0`,n._`${me}.instancePath[${Q}.length] === "/"`)),n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${me}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Oe(me,H){const J=[];for(const ge in me){const Ae=H[ge];p.test(Ae)&&J.push([ge,ne(Ae)])}return E.object(...J)}function k(me){return p.test(me)?new i._Code(i.safeStringify(me).replace(m,(H,J)=>`" + JSON.stringify(${a.getData(J,D)}) + "`).replace(y,"")):n.stringify(me)}function ne(me){return n._`function(){return ${k(me)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const b=(S,x={})=>{if(!S.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(S.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return S.addKeyword(_(x))};e.default=b,t.exports=b,t.exports.default=b}(c_,c_.exports)),c_.exports}var L2e=O2e();const I2e=Gr(L2e);var M2e=function(t,e){return t.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),t.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),e){var a=n[i].types,o=a&&a[r.keyword];n[i]=E9(i,e,n,r.keyword,o?[].concat(o,r.message||""):r.message)}return n},{})},D2e=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{var o=new P2e(Object.assign({},{allErrors:!0,validateSchema:!0},e));I2e(o);var s=o.compile(Object.assign({$async:n&&n.mode==="async"},t)),c=s(r);return a.shouldUseNativeValidation&&Uz({},a),Promise.resolve(c?{values:r,errors:{}}:{values:{},errors:STe(M2e(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(f){return Promise.reject(f)}}};const k2e={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"string",minLength:1}}},N$=({initialData:t,onSubmit:e,onCancel:n})=>{const{handleSubmit:r,register:i,control:a,formState:{errors:o}}=Rm({defaultValues:Hc({location:{lat:0,long:0}},t),resolver:D2e(k2e)}),s=r(c=>{e(c)});return de.jsxs("form",{onSubmit:s,onReset:n,className:ii(lo.accommodationForm,lo.accommodation),"data-cy":"accommodation-form",children:[de.jsxs("label",{children:["Hosting location (click ",de.jsx(fce,{})," or drag & zoom map)",de.jsx("br",{}),de.jsx(XM,{})," For safety, share only approximate location"," ",de.jsx(XM,{})]}),de.jsx(Pwe,{control:a,name:"location",render:({field:c})=>de.jsx("div",{className:ii(o.location&&lo.inputError),children:de.jsx(hTe,{value:c.value,onChange:c.onChange,isInitial:!t})})}),o.location&&de.jsx("div",{className:lo.errorMessage,children:"Please move map to your hosting location"}),de.jsx("label",{htmlFor:"description",children:"About your hosting"}),de.jsx("textarea",{className:ii(o.description&&lo.inputError),id:"description",placeholder:"Tell others about your place and hosting",...i("description")}),o.description&&de.jsx("div",{className:lo.errorMessage,children:"This field is required"}),de.jsxs("div",{className:lo.actions,children:[de.jsx(Vr,{type:"reset",secondary:!0,children:"Cancel"}),de.jsx(Vr,{type:"submit",primary:!0,children:"Submit"})]})]})},N2e=({location:t})=>{const e=aP();return ae.useEffect(()=>{e.flyTo(t)},[t,e]),null},F2e=t=>{const{tileServer:e}=Un(),n=ae.useMemo(()=>[t.location.lat,t.location.long],[t.location.lat,t.location.long]);return de.jsxs(de.Fragment,{children:[de.jsxs(oP,{className:lA.mapContainer,attributionControl:!1,zoom:12,center:n,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[de.jsx(uP,{url:e}),de.jsx(sP,{position:n}),de.jsx(N2e,{location:n})]}),de.jsxs("div",{className:lA.description,children:[t.description," ",de.jsx("a",{href:t.id,target:"_blank",rel:"noopener noreferrer",children:de.jsx(mB,{})})]})]})},j2e=()=>{const t=No(K0),e=qo();return ae.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const o=yl(),s=a+o,c=`${s}#accommodation`;return await t.mutateAsync({uri:s,data:{"@id":c,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[r.description],location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}}}),await e.mutateAsync({uri:i,patch:`
          _:mutate a <${Mn.InsertDeletePatch}>;
            <${Mn.inserts}> { <${n}> <${Cl.offers}> <${c}>. }.
        `}),{uri:c}},[t,e])},$2e=()=>{const t=qo(),e=G0();return ae.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await t.mutateAsync({uri:i,patch:`
          _:mutate a <${Mn.InsertDeletePatch}>;
            <${Mn.deletes}> { <${r}> <${Cl.offers}> <${n}>. }.
        `}),await e.mutateAsync({uri:n})},[e,t])};var K2,F$;function U2e(){if(F$)return K2;F$=1;for(var t="0123456789bcdefghjkmnpqrstuvwxyz",e={},n=0;n<t.length;n++)e[t.charAt(n)]=n;var r="auto",i=-90,a=90,o=-180,s=180,c=[0,5,7,8,11,12,13,15,16,17,18],f=function(Y,q,Z){if(Z===r){if(typeof Y=="number"||typeof q=="number")throw new Error("string notation required for auto precision.");var fe=Y.split(".")[1].length,te=q.split(".")[1].length,se=Math.max(fe,te);Z=c[se]}else Z===void 0&&(Z=9);for(var pe=[],be=0,ce=0,le=0,Oe=a,k=i,ne=s,me=o,H;pe.length<Z;)if(ce%2===0?(H=(ne+me)/2,q>H?(le=(le<<1)+1,me=H):(le=(le<<1)+0,ne=H)):(H=(Oe+k)/2,Y>H?(le=(le<<1)+1,k=H):(le=(le<<1)+0,Oe=H)),be++,ce++,be===5){var J=t[le];pe.push(J),be=0,le=0}return pe.join("")},h=function(Y,q,Z){Z=Z||52;for(var fe=0,te=a,se=i,pe=s,be=o,ce,le=0;fe<Z;)le*=2,fe%2===0?(ce=(pe+be)/2,q>ce?(le+=1,be=ce):pe=ce):(ce=(te+se)/2,Y>ce?(le+=1,se=ce):te=ce),fe++;return le},p=function(Y){for(var q=!0,Z=a,fe=i,te=s,se=o,pe,be=0,ce=0,le=Y.length;ce<le;ce++){var Oe=Y[ce].toLowerCase();be=e[Oe];for(var k=4;k>=0;k--){var ne=be>>k&1;q?(pe=(te+se)/2,ne===1?se=pe:te=pe):(pe=(Z+fe)/2,ne===1?fe=pe:Z=pe),q=!q}}return[fe,se,Z,te]},m=function(Y,q){q=q||52;for(var Z=a,fe=i,te=s,se=o,pe=0,be=0,ce=q/2,le=0;le<ce;le++)be=y(Y,(ce-le)*2-1),pe=y(Y,(ce-le)*2-2),pe===0?Z=(Z+fe)/2:fe=(Z+fe)/2,be===0?te=(te+se)/2:se=(te+se)/2;return[fe,se,Z,te]};function y(Y,q){return Y/Math.pow(2,q)&1}var _=function(Y){var q=p(Y),Z=(q[0]+q[2])/2,fe=(q[1]+q[3])/2,te=q[2]-Z,se=q[3]-fe;return{latitude:Z,longitude:fe,error:{latitude:te,longitude:se}}},b=function(Y,q){var Z=m(Y,q),fe=(Z[0]+Z[2])/2,te=(Z[1]+Z[3])/2,se=Z[2]-fe,pe=Z[3]-te;return{latitude:fe,longitude:te,error:{latitude:se,longitude:pe}}},S=function(Y,q){var Z=_(Y),fe=Z.latitude+q[0]*Z.error.latitude*2,te=Z.longitude+q[1]*Z.error.longitude*2;return te=D(te),fe=j(fe),f(fe,te,Y.length)},x=function(Y,q,Z){Z=Z||52;var fe=b(Y,Z),te=fe.latitude+q[0]*fe.error.latitude*2,se=fe.longitude+q[1]*fe.error.longitude*2;return se=D(se),te=j(te),h(te,se,Z)},E=function(Y){var q=Y.length,Z=_(Y),fe=Z.latitude,te=Z.longitude,se=Z.error.latitude*2,pe=Z.error.longitude*2,be,ce,le=[Oe(1,0),Oe(1,1),Oe(0,1),Oe(-1,1),Oe(-1,0),Oe(-1,-1),Oe(0,-1),Oe(1,-1)];function Oe(k,ne){return be=fe+k*se,ce=te+ne*pe,ce=D(ce),be=j(be),f(be,ce,q)}return le},A=function(Y,q){q=q||52;var Z=b(Y,q),fe=Z.latitude,te=Z.longitude,se=Z.error.latitude*2,pe=Z.error.longitude*2,be,ce,le=[Oe(1,0),Oe(1,1),Oe(0,1),Oe(-1,1),Oe(-1,0),Oe(-1,-1),Oe(0,-1),Oe(1,-1)];function Oe(k,ne){return be=fe+k*se,ce=te+ne*pe,ce=D(ce),be=j(be),h(be,ce,q)}return le},I=function(Y,q,Z,fe,te){te=te||9;for(var se=f(Y,q,te),pe=f(Z,fe,te),be=_(se),ce=be.error.latitude*2,le=be.error.longitude*2,Oe=p(se),k=p(pe),ne=Math.round((k[0]-Oe[0])/ce),me=Math.round((k[1]-Oe[1])/le),H=[],J=0;J<=ne;J++)for(var ge=0;ge<=me;ge++)H.push(S(se,[J,ge]));return H},M=function(Y,q,Z,fe,te){te=te||52;for(var se=h(Y,q,te),pe=h(Z,fe,te),be=b(se,te),ce=be.error.latitude*2,le=be.error.longitude*2,Oe=m(se,te),k=m(pe,te),ne=Math.round((k[0]-Oe[0])/ce),me=Math.round((k[1]-Oe[1])/le),H=[],J=0;J<=ne;J++)for(var ge=0;ge<=me;ge++)H.push(x(se,[J,ge],te));return H};function D(Y){return Y>s?o+Y%s:Y<o?s+Y%s:Y}function j(Y){return Y>a?a:Y<i?i:Y}var Q={ENCODE_AUTO:r,encode:f,encode_uint64:h,encode_int:h,decode:_,decode_int:b,decode_uint64:b,decode_bbox:p,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:S,neighbor_int:x,neighbors:E,neighbors_int:A,bboxes:I,bboxes_int:M};return K2=Q,K2}var B2e=U2e();const rm=Gr(B2e),q2e=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Document",id:e}}),z2e=t=>async e=>{const n=await dr(new URL("/inbox",t),{method:"POST",body:JSON.stringify(q2e(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Sl("Geoindex responded with error",n);return{...e,status:n.status}},j$=(t="")=>{const e=[];for(let n=1;n<=t.length;n++)e.push(t.substring(0,n));return e},H2e=()=>{const{geoindexService:t}=Un(),e=Ui(),{mutateAsync:n}=Ea({mutationFn:z2e(t),onSuccess:async({previousLocation:a,currentLocation:o})=>{const s=[];if(a){const c=rm.encode(a.lat,a.long,10);s.push(...j$(c))}if(o){const c=rm.encode(o.lat,o.long,10);s.push(...j$(c))}await Promise.allSettled(s.map(c=>e.invalidateQueries({queryKey:["geoindex",c]})))}}),r=!!t,i=ae.useCallback(async a=>await n(a),[n]);return ae.useMemo(()=>[r,i],[r,i])},V2e=(t,e,n="en")=>{const{variables:r,quads:i,isLoading:a}=ba({query:$8,variables:ae.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:dr});return ae.useMemo(()=>{const o=Zn.createLdoDataset(i);return[(r.offer??[]).map(f=>o.usingType(K0).fromSubject(f)).filter(f=>{var h,p;return((h=f==null?void 0:f.location)==null?void 0:h.lat)!==void 0&&((p=f==null?void 0:f.location)==null?void 0:p.long)!==void 0}).map(f=>{var _,b;const h=f&&Zn.languagesOf(f,"description"),p=((_=h==null?void 0:h[n])==null?void 0:_.values().next().value)??"",m=[f.location.lat].flat()[0]??0,y=[f.location.long].flat()[0]??0;return{id:f["@id"]??"",description:p,location:{lat:m,long:y},offeredBy:((b=f.offeredBy)==null?void 0:b["@id"])??""}}),a]},[a,n,i,r.offer])},K2e={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},G2e={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},W2e={schema:K2e,shape:"https://example.com/Accommodation",context:G2e},Q2e=()=>{const t=tf(W2e);return ae.useCallback(async({data:{id:e,...n},language:r="en"})=>{await t.mutateAsync({uri:e,subject:e,language:r,transform:i=>{n.description&&(i.description=[n.description]),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[t])},Z2e=()=>{const{communityId:t}=Un(),e=Bi(),[n,r]=ae.useState(),{personalHospexDocuments:i}=i9(e.webId??"",t),[a]=V2e(e.webId??"",t),o=j2e(),s=Q2e(),c=$2e(),[f,h]=H2e(),p=ae.useCallback(async({uri:b,type:S,previousLocation:x,currentLocation:E})=>{f&&e.webId&&await fs(h({type:S,actor:e.webId,object:b,previousLocation:x,currentLocation:E}),{pending:"Notifying indexing service",success:{render:({data:A})=>{switch(A.status){case 201:return de.jsx(de.Fragment,{children:"Accommodation added to indexing service"});case 200:return de.jsx(de.Fragment,{children:"Accommodation updated in indexing service"});case 204:return de.jsx(de.Fragment,{children:"Accommodation removed from indexing service"});default:return de.jsx(de.Fragment,{children:"Unexpected status code from indexing service"})}}}})},[e.webId,f,h]);if(typeof e.webId!="string")return null;if(!a)return de.jsx(Sa,{children:"Loading..."});const m=async b=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");const{uri:S}=await fs(o({personId:e.webId,data:b,hospexDocument:i[0],hospexContainer:ri(i[0])}),{pending:"Creating accommodation",success:"Accommodation created"});r(void 0),await p({type:"Create",uri:S,currentLocation:b.location})},y=async(b,S)=>{await fs(s({data:b}),{pending:"Updating accommodation",success:"Accommodation updated"}),r(void 0),await p({type:"Update",uri:b.id,currentLocation:b.location,previousLocation:S.location})},_=async({id:b,location:S})=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");globalThis.confirm("Do you really want to delete the accommodation?")&&(await fs(c({id:b,personId:e.webId,hospexDocument:i[0]}),{pending:"Deleting accommodation",success:"Accommodation deleted"}),await p({type:"Delete",uri:b,previousLocation:S}))};return de.jsxs("div",{className:lo.container,children:[de.jsxs("h1",{className:lo.header,children:[de.jsx(gB,{size:32})," My Accommodation Offers"]}),de.jsx("ul",{style:{display:"contents"},children:a.map(b=>n===b.id?de.jsx(N$,{onSubmit:S=>y(S,b),onCancel:()=>{r(void 0)},initialData:b},b.id):de.jsxs("li",{className:lo.accommodation,"data-cy":"offer-accommodation-item",children:[de.jsx(F2e,{...b}),de.jsxs("div",{className:lo.actions,children:[de.jsx(Vr,{secondary:!0,onClick:()=>{r(b.id)},children:"Edit"}),de.jsx(Vr,{danger:!0,onClick:()=>_(b),children:"Delete"})]})]},b.id))}),n==="new"?de.jsx(N$,{onSubmit:m,onCancel:()=>r(void 0)}):de.jsx(Vr,{primary:!0,onClick:()=>r("new"),className:lo.addAccommodationButton,children:"Add Accommodation"})]})},J2e=()=>de.jsx(de.Fragment,{children:"MyTravelPlans"}),Y2e=()=>de.jsx("div",{children:"404"}),X2e=t=>{const{data:e}=JA(t.src);return e?de.jsx("img",{...t,src:e,alt:t.alt??"","data-src":t.src}):null},eCe="_container_16bhv_1",tCe="_name_16bhv_7",nCe="_about_16bhv_14",rCe="_photo_16bhv_17",f_={container:eCe,name:tCe,about:nCe,photo:rCe},iCe=()=>{const{communityId:t}=Un(),e=bA().id,n=Bi(),r=e&&n.webId?e===n.webId:void 0,[i]=Fo(e,t),[a]=Fo(n.webId,t);return de.jsxs("div",{className:f_.container,children:[de.jsx(X2e,{className:f_.photo,src:i.photo,alt:`Profile photo of ${i.name}`,"data-cy":"profile-photo"}),de.jsxs("header",{className:f_.name,"data-cy":"profile-name",children:[i.name," ",de.jsx(Tce,{href:e})]}),de.jsx("section",{className:f_.about,"data-cy":"profile-about",children:i.about}),r&&de.jsxs(jc,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[de.jsx(pce,{})," edit profile"]}),r===!1&&de.jsx(jc,{secondary:!0,to:`/messages/${encodeURIComponent(e)}`,children:"Write a message"}),de.jsx(jc,{tertiary:!0,to:"contacts",children:"contacts"}),r===!1&&de.jsx(cbe,{webId:e}),de.jsx("section",{children:i.interests?de.jsx(yge,{ids:i.interests,highlighted:r?[]:a.interests??[]}):de.jsx(Sa,{children:"loading interests..."})})]})},aCe=()=>{const t=Bi();return t.webId?de.jsx(xA,{to:encodeURIComponent(t.webId),replace:!0}):de.jsx(Sa,{children:"authenticating"})},oCe="_bar_1x3gh_1",sCe="_animate_1x3gh_17",uCe="_progress_1x3gh_1",$$={bar:oCe,animate:sCe,progress:uCe},lCe=({animate:t=!1})=>de.jsx("div",{className:ii($$.bar,t&&$$.animate)}),cCe=async({geohash:t,geoindex:e})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${t}"`)}`,e).toString(),r=await dr(n);if(!r.ok)throw new Sl("geoindex returned invalid response",r);const i=await r.text(),o=new Hd({format:r.headers.get("content-type")??void 0}).parse(i),s=new ps(o);return s.getSubjects("https://example.com/ns#geohash",`"${t}"`,null).map(f=>{const h=s.getObjects(f,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),p=rm.decode(h);return{uri:f.value,geohash:h,location:p}})},fCe=(t,e)=>{const{geoindexService:n}=Un(),[r,i]=ae.useState(0),[a,o]=ae.useState(0),s=!n||r>a,c=ae.useMemo(()=>e?rm.bboxes(e.s,e.w,e.n,e.e,1):[],[e]),f=ae.useMemo(()=>c.map(x=>({queryKey:["geoindex",x],queryFn:()=>cCe({geohash:x,geoindex:n}),staleTime:1/0,enabled:!!n})),[c,n]),h=gA({queries:f,combine:x=>({isError:x.some(E=>E.isError),isPending:x.some(E=>E.isPending),isSuccess:x.every(E=>E.isSuccess),errors:x.filter(E=>E.error).map(E=>E.error),data:x.filter(E=>E.data).flatMap(E=>E.data)})});ae.useEffect(()=>{h.isError&&i(Date.now())},[h.isError]),ae.useEffect(()=>{h.isSuccess&&o(Date.now())},[h.isSuccess]);const p=ae.useMemo(()=>s?{query:lhe,variables:{community:[t]},fetch:dr,store:new ps}:{query:[],variables:{},fetch:dr},[t,s]),{quads:m,isMissing:y}=ba(p),_=ae.useMemo(()=>[Zn.createLdoDataset(m).usingType(K0).matchObject(null,Cl.offers).filter(A=>A.location).map(A=>{var I,M,D;return{id:A["@id"]??"",description:((I=A.description)==null?void 0:I[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((M=A.offeredBy)==null?void 0:M["@id"])??"",name:((D=A.offeredBy)==null?void 0:D.name)??""}}}),y],[y,m]),b=ae.useMemo(()=>[h.data.map(({uri:x,location:E})=>({id:x,location:{lat:E.latitude,long:E.longitude},offeredBy:{id:"",name:""}})),h.isPending],[h.data,h.isPending]);return ae.useMemo(()=>[Jle("id",b[0],_[0]),b[1]||_[1]],[b,_])};var Eg={exports:{}},dCe=Eg.exports,U$;function hCe(){return U$||(U$=1,function(t,e){(function(n,r){r(e)})(dCe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=a,s=this._zoom;if(a.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,o):this._animationAddLayerNonAnimated(a,o)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,o){if(!L.Util.isArray(a))return this.addLayer(a);var s=this._featureGroup,c=this._nonPointGroup,f=this.options.chunkedLoading,h=this.options.chunkInterval,p=this.options.chunkProgress,m=a.length,y=0,_=!0,b;if(this._map){var S=new Date().getTime(),x=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(f&&y%200===0){var I=new Date().getTime()-A;if(I>h)break}if(b=a[y],b instanceof L.LayerGroup){_&&(a=a.slice(),_=!1),this._extractNonGroupLayers(b,a),m=a.length;continue}if(!b.getLatLng){c.addLayer(b),o||this.fire("layeradd",{layer:b});continue}if(!this.hasLayer(b)&&(this._addLayer(b,this._maxZoom),o||this.fire("layeradd",{layer:b}),b.__parent&&b.__parent.getChildCount()===2)){var M=b.__parent.getAllChildMarkers(),D=M[0]===b?M[1]:M[0];s.removeLayer(D)}}p&&p(y,m,new Date().getTime()-S),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(x,this.options.chunkDelay)},this);x()}else for(var E=this._needsClustering;y<m;y++){if(b=a[y],b instanceof L.LayerGroup){_&&(a=a.slice(),_=!1),this._extractNonGroupLayers(b,a),m=a.length;continue}if(!b.getLatLng){c.addLayer(b);continue}this.hasLayer(b)||E.push(b)}return this},removeLayers:function(a){var o,s,c=a.length,f=this._featureGroup,h=this._nonPointGroup,p=!0;if(!this._map){for(o=0;o<c;o++){if(s=a[o],s instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(s,a),c=a.length;continue}this._arraySplice(this._needsClustering,s),h.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=c;for(o=0;o<y;o++){if(s=m[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,m),y=m.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<c;o++){if(s=a[o],s instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(s,a),c=a.length;continue}if(!s.__parent){h.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),f.hasLayer(s)&&(f.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)a.extend(this._needsClustering[o].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,o){var s=this._needsClustering.slice(),c=this._needsRemoving,f,h,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),h=s.length-1;h>=0;h--){for(f=!0,p=c.length-1;p>=0;p--)if(c[p].layer===s[h]){f=!1;break}f&&a.call(o,s[h])}this._nonPointGroup.eachLayer(a,o)},getLayers:function(){var a=[];return this.eachLayer(function(o){a.push(o)}),a},getLayer:function(a){var o=null;return a=parseInt(a,10),this.eachLayer(function(s){L.stamp(s)===a&&(o=s)}),o},hasLayer:function(a){if(!a)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===a)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,o){var s=this._map;typeof o!="function"&&(o=function(){});var c=function(){(s.hasLayer(a)||s.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",c,this),this.off("animationend",c,this),s.hasLayer(a)?o():a.__parent._icon&&(this.once("spiderfied",o,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?o():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",c,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",c,this),this.on("animationend",c,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var o,s,c;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)c=this._needsRemoving[o],c.newlatlng=c.layer._latlng,c.layer._latlng=c.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)c=this._needsRemoving[o],this._removeLayer(c.layer,!0),c.layer._latlng=c.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var o=a;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(a,o){for(var s=a.length-1;s>=0;s--)if(a[s]===o)return a.splice(s,1),!0},_removeFromGridUnclustered:function(a,o){for(var s=this._map,c=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());o>=f&&c[o].removeObject(a,s.project(a.getLatLng(),o));o--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var o=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),o&&a.target.openPopup()}},_moveChild:function(a,o,s){a._latlng=o,this.removeLayer(a),a._latlng=s,this.addLayer(a)},_childMarkerDragEnd:function(a){var o=a.target.__dragStart;delete a.target.__dragStart,o&&this._moveChild(a.target,o,a.target._latlng)},_removeLayer:function(a,o,s){var c=this._gridClusters,f=this._gridUnclustered,h=this._featureGroup,p=this._map,m=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,_=y._markers,b;for(this._arraySplice(_,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)o&&y._childCount<=1?(b=y._markers[0]===a?y._markers[1]:y._markers[0],c[y._zoom].removeObject(y,p.project(y._cLatLng,y._zoom)),f[y._zoom].addObject(b,p.project(b.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(b),b.__parent=y.__parent,y._icon&&(h.removeLayer(y),s||h.addLayer(b))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,o){for(;o;){if(a===o)return!0;o=o.parentNode}return!1},fire:function(a,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,o,s)},listens:function(a,o){return L.FeatureGroup.prototype.listens.call(this,a,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,o)},_defaultIconCreateFunction:function(a){var o=a.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(o||c||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var o=a.layer,s=o;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom,f=this._map;(a||s||c)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,c=s;typeof s!="function"&&(c=function(){return s}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var f=a;f>=o;f--)this._gridClusters[f]=new L.DistanceGrid(c(f)),this._gridUnclustered[f]=new L.DistanceGrid(c(f));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(a,o){var s=this._gridClusters,c=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),h,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);o>=f;o--){h=this._map.project(a.getLatLng(),o);var m=s[o].getNearObject(h);if(m){m._addChild(a),a.__parent=m;return}if(m=c[o].getNearObject(h),m){var y=m.__parent;y&&this._removeLayer(m,!1);var _=new this._markerCluster(this,o,m,a);s[o].addObject(_,this._map.project(_._cLatLng,o)),m.__parent=_,a.__parent=_;var b=_;for(p=o-1;p>y._zoom;p--)b=new this._markerCluster(this,p,b),s[p].addObject(b,this._map.project(m.getLatLng(),p));y._addChild(b),this._removeFromGridUnclustered(m,o);return}c[o].addObject(a,h)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var o=this._maxLat;return o!==void 0&&(a.getNorth()>=o&&(a._northEast.lat=1/0),a.getSouth()<=-o&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,o){if(o===a)this._featureGroup.addLayer(a);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(a,o){var s=a.getLayers(),c=0,f;for(o=o||[];c<s.length;c++){if(f=s[c],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,o);continue}o.push(f)}return o},_overrideMarkerIcon:function(a){var o=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,o){this._animationAddLayerNonAnimated(a,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,o){var s=this._getExpandedVisibleBounds(),c=this._featureGroup,f=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(s,a,f,function(p){var m=p._latlng,y=p._markers,_;for(s.contains(m)||(m=null),p._isSingleParent()&&a+1===o?(c.removeLayer(p),p._recursivelyAddChildrenToMap(null,o,s)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,o,s)),h=y.length-1;h>=0;h--)_=y[h],s.contains(_._latlng)||c.removeLayer(_)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),c.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(s,a,o,function(p){p._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,a,f,function(p){c.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,o){this._animationZoomOutSingle(this._topClusterLevel,a-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,o){var s=this,c=this._featureGroup;c.addLayer(a),o!==a&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(o.getLatLng())),a.clusterHide(),this._enqueue(function(){c.removeLayer(a),a.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,o,s){var c=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(c,f,o+1,s);var h=this;this._forceLayout(),a._recursivelyBecomeVisible(c,s),this._enqueue(function(){if(a._childCount===1){var p=a._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else a._recursively(c,s,f,function(m){m._recursivelyRemoveChildrenFromMap(c,f,o+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,o,s,c){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),c&&this._addChild(c)},getAllChildMarkers:function(a,o){a=a||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(a,o);for(var c=this._markers.length-1;c>=0;c--)o&&this._markers[c].__dragStart||a.push(this._markers[c]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var o=this._childClusters.slice(),s=this._group._map,c=s.getBoundsZoom(this._bounds),f=this._zoom+1,h=s.getZoom(),p;o.length>0&&c>f;){f++;var m=[];for(p=0;p<o.length;p++)m=m.concat(o[p]._childClusters);o=m}c>f?this._group._map.setView(this._latlng,f):c<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(o||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(o||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,o=this._childClusters,s=0,c=0,f=this._childCount,h,p,m,y;if(f!==0){for(this._resetBounds(),h=0;h<a.length;h++)m=a[h]._latlng,this._bounds.extend(m),s+=m.lat,c+=m.lng;for(h=0;h<o.length;h++)p=o[h],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),m=p._wLatLng,y=p._childCount,s+=m.lat*y,c+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/f,c/f),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,o,s){this._recursively(a,this._group._map.getMinZoom(),s-1,function(c){var f=c._markers,h,p;for(h=f.length-1;h>=0;h--)p=f[h],p._icon&&(p._setPos(o),p.clusterHide())},function(c){var f=c._childClusters,h,p;for(h=f.length-1;h>=0;h--)p=f[h],p._icon&&(p._setPos(o),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,o,s,c){this._recursively(a,c,o,function(f){f._recursivelyAnimateChildrenIn(a,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),s),f._isSingleParent()&&s-1===c?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(a,o,s)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(a,o){this._recursively(a,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(a,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(c){if(o!==c._zoom)for(var f=c._markers.length-1;f>=0;f--){var h=c._markers[f];s.contains(h._latlng)&&(a&&(h._backupLatlng=h.getLatLng(),h.setLatLng(a),h.clusterHide&&h.clusterHide()),c._group._featureGroup.addLayer(h))}},function(c){c._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(a-1===this._zoom)for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,o,s,c){var f,h;this._recursively(a,o-1,s-1,function(p){for(h=p._markers.length-1;h>=0;h--)f=p._markers[h],(!c||!c.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(p){for(h=p._childClusters.length-1;h>=0;h--)f=p._childClusters[h],(!c||!c.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(a,o,s,c,f){var h=this._childClusters,p=this._zoom,m,y;if(o<=p&&(c&&c(this),f&&p===s&&f(this)),p<o||p<s)for(m=h.length-1;m>=0;m--)y=h[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,o,s,c,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,o){var s=this._getCoord(o.x),c=this._getCoord(o.y),f=this._grid,h=f[c]=f[c]||{},p=h[s]=h[s]||[],m=L.Util.stamp(a);this._objectPoint[m]=o,p.push(a)},updateObject:function(a,o){this.removeObject(a),this.addObject(a,o)},removeObject:function(a,o){var s=this._getCoord(o.x),c=this._getCoord(o.y),f=this._grid,h=f[c]=f[c]||{},p=h[s]=h[s]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=p.length;m<y;m++)if(p[m]===a)return p.splice(m,1),y===1&&delete h[s],!0},eachObject:function(a,o){var s,c,f,h,p,m,y,_=this._grid;for(s in _){p=_[s];for(c in p)for(m=p[c],f=0,h=m.length;f<h;f++)y=a.call(o,m[f]),y&&(f--,h--)}},getNearObject:function(a){var o=this._getCoord(a.x),s=this._getCoord(a.y),c,f,h,p,m,y,_,b,S=this._objectPoint,x=this._sqCellSize,E=null;for(c=s-1;c<=s+1;c++)if(p=this._grid[c],p){for(f=o-1;f<=o+1;f++)if(m=p[f],m)for(h=0,y=m.length;h<y;h++)_=m[h],b=this._sqDist(S[L.Util.stamp(_)],a),(b<x||b<=x&&E===null)&&(x=b,E=_)}return E},_getCoord:function(a){var o=Math.floor(a/this._cellSize);return isFinite(o)?o:a},_sqDist:function(a,o){var s=o.x-a.x,c=o.y-a.y;return s*s+c*c}},function(){L.QuickHull={getDistant:function(a,o){var s=o[1].lat-o[0].lat,c=o[0].lng-o[1].lng;return c*(a.lat-o[0].lat)+s*(a.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(a,o){var s=0,c=null,f=[],h,p,m;for(h=o.length-1;h>=0;h--){if(p=o[h],m=this.getDistant(p,a),m>0)f.push(p);else continue;m>s&&(s=m,c=p)}return{maxPoint:c,newPoints:f}},buildConvexHull:function(a,o){var s=[],c=this.findMostDistantPointFromBaseLine(a,o);return c.maxPoint?(s=s.concat(this.buildConvexHull([a[0],c.maxPoint],c.newPoints)),s=s.concat(this.buildConvexHull([c.maxPoint,a[1]],c.newPoints)),s):[a[0]]},getConvexHull:function(a){var o=!1,s=!1,c=!1,f=!1,h=null,p=null,m=null,y=null,_=null,b=null,S;for(S=a.length-1;S>=0;S--){var x=a[S];(o===!1||x.lat>o)&&(h=x,o=x.lat),(s===!1||x.lat<s)&&(p=x,s=x.lat),(c===!1||x.lng>c)&&(m=x,c=x.lng),(f===!1||x.lng<f)&&(y=x,f=x.lng)}s!==o?(b=p,_=h):(b=y,_=m);var E=[].concat(this.buildConvexHull([b,_],a),this.buildConvexHull([_,b],a));return E}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),o=[],s,c;for(c=a.length-1;c>=0;c--)s=a[c].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,c=s.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(a.length,c):a.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(a.length,c):(c.y+=10,f=this._generatePointsCircle(a.length,c)),this._animationSpiderfy(a,f)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),c=s/this._2PI,f=this._2PI/a,h=[],p,m;for(c=Math.max(c,35),h.length=a,p=0;p<a;p++)m=this._circleStartAngle+p*f,h[p]=new L.Point(o.x+c*Math.cos(m),o.y+c*Math.sin(m))._round();return h},_generatePointsSpiral:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier,c=s*this._spiralLengthStart,f=s*this._spiralFootSeparation,h=s*this._spiralLengthFactor*this._2PI,p=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(o.x+c*Math.cos(p),o.y+c*Math.sin(p))._round()),p+=f/c+y*5e-4,c+=h/p;return m},_noanimationUnspiderfy:function(){var a=this._group,o=a._map,s=a._featureGroup,c=this.getAllChildMarkers(null,!0),f,h;for(a._ignoreMove=!0,this.setOpacity(1),h=c.length-1;h>=0;h--)f=c[h],s.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(o.removeLayer(f._spiderLeg),delete f._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:c}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,o){var s=this._group,c=s._map,f=s._featureGroup,h=this._group.options.spiderLegPolylineOptions,p,m,y,_;for(s._ignoreMove=!0,p=0;p<a.length;p++)_=c.layerPointToLatLng(o[p]),m=a[p],y=new L.Polyline([this._latlng,_],h),c.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(_),m.setZIndexOffset&&m.setZIndexOffset(1e6),f.addLayer(m);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,o){var s=this,c=this._group,f=c._map,h=c._featureGroup,p=this._latlng,m=f.latLngToLayerPoint(p),y=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),b=_.opacity,S,x,E,A,I,M;for(b===void 0&&(b=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=b,c._ignoreMove=!0,S=0;S<a.length;S++)x=a[S],M=f.layerPointToLatLng(o[S]),E=new L.Polyline([p,M],_),f.addLayer(E),x._spiderLeg=E,y&&(A=E._path,I=A.getTotalLength()+.1,A.style.strokeDasharray=I,A.style.strokeDashoffset=I),x.setZIndexOffset&&x.setZIndexOffset(1e6),x.clusterHide&&x.clusterHide(),h.addLayer(x),x._setPos&&x._setPos(m);for(c._forceLayout(),c._animationStart(),S=a.length-1;S>=0;S--)M=f.layerPointToLatLng(o[S]),x=a[S],x._preSpiderfyLatlng=x._latlng,x.setLatLng(M),x.clusterShow&&x.clusterShow(),y&&(E=x._spiderLeg,A=E._path,A.style.strokeDashoffset=0,E.setStyle({opacity:b}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:s,markers:a})},200)},_animationUnspiderfy:function(a){var o=this,s=this._group,c=s._map,f=s._featureGroup,h=a?c._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):c.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,_,b,S,x,E;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),_=p.length-1;_>=0;_--)y=p[_],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,E=!0,y._setPos&&(y._setPos(h),E=!1),y.clusterHide&&(y.clusterHide(),E=!1),E&&f.removeLayer(y),m&&(b=y._spiderLeg,S=b._path,x=S.getTotalLength()+.1,S.style.strokeDashoffset=x,b.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var A=0;for(_=p.length-1;_>=0;_--)y=p[_],y._spiderLeg&&A++;for(_=p.length-1;_>=0;_--)y=p[_],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&f.removeLayer(y),c.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var o,s;for(o in a)for(s=a[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(a){var o,s;for(o in a)s=a[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(a,o){var s=this.options.icon;return L.setOptions(s,a),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(Eg,Eg.exports)),Eg.exports}hCe();function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}var pCe=["children"];function B$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(n),!0).forEach(function(r){gCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gCe(t,e,n){return(e=mCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mCe(t){var e=yCe(t,"string");return im(e)=="symbol"?e:e+""}function yCe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z$(t,e){return bCe(t)||wCe(t,e)||_Ce(t,e)||vCe()}function vCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ce(t,e){if(t){if(typeof t=="string")return H$(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H$(t,e):void 0}}function H$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return s}}function bCe(t){if(Array.isArray(t))return t}function SCe(t,e){if(t==null)return{};var n,r,i=xCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}NA.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(e){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(e)}});NA.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function ECe(t,e){t.children;var n=SCe(t,pCe),r={},i={};Object.entries(n).forEach(function(o){var s=z$(o,2),c=s[0],f=s[1];return c.startsWith("on")?i[c]=f:r[c]=f});var a=new NA.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var s=z$(o,2),c=s[0],f=s[1],h="cluster".concat(c.substring(2).toLowerCase());a.on(h,f)}),{instance:a,context:q$(q$({},e),{},{layerContainer:a})}}var TCe=sTe(ECe);const CCe=({accommodationId:t})=>{var f;const{communityId:e}=Un(),{quads:n,variables:r,isLoading:i}=ba(ae.useMemo(()=>({query:che,variables:{offer:[t]},fetch:dr}),[t])),[a,,,,o]=Fo(((f=r.person)==null?void 0:f[0])??"",e),s=ae.useMemo(()=>Zn.createLdoDataset(n).usingType(K0).fromSubject(t),[t,n]),c=ae.useMemo(()=>{var y,_,b;if(!s)return;const h=(y=s==null?void 0:s.location)==null?void 0:y.lat,p=(_=s==null?void 0:s.location)==null?void 0:_.long;return{id:s["@id"]??"",description:((b=s.description)==null?void 0:b[0])??"",location:{lat:h,long:p},offeredBy:a??o??{}}},[o,s,a]);return ae.useMemo(()=>[c,{isLoading:i}],[c,i])},ACe="_container_5yist_1",RCe="_person_5yist_6",PCe="_name_5yist_11",OCe="_accommodation_5yist_14",d_={container:ACe,person:RCe,name:PCe,accommodation:OCe},LCe=({accommodationId:t})=>{const{webId:e}=Bi(),[n]=CCe({accommodationId:t}),r=e&&(n==null?void 0:n.offeredBy)&&e!==n.offeredBy.id;return de.jsxs("div",{className:d_.container,children:[n?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:d_.person,children:de.jsxs(Po,{to:`/profile/${encodeURIComponent(n.offeredBy.id)}`,style:{display:"contents"},children:[de.jsx(O0,{...n.offeredBy,size:1.5,square:!0}),de.jsx("span",{className:d_.name,"data-cy":"accommodation-info-name",children:n.offeredBy.name})]})}),de.jsx("div",{className:d_.accommodation,"data-cy":"accommodation-info-description",children:n.description})]}):"loading...",r?de.jsx(jc,{primary:!0,to:`/messages/${encodeURIComponent(n.offeredBy.id)}`,children:"Write a message"}):null]})},ICe="_container_19njf_1",MCe="_offerOverlay_19njf_18",DCe="_closeButton_19njf_28",kCe="_mapContainer_19njf_34",h_={container:ICe,offerOverlay:MCe,closeButton:DCe,mapContainer:kCe},NCe=()=>{const{communityId:t,tileServer:e}=Un(),[n,r]=FK(),i=n.get("hosting"),[a,o]=ae.useState(),[s,c]=fCe(t,a),f=p=>{r({hosting:p})},h=ae.useCallback((p,m)=>o(y=>BB(y,m)?y:m),[]);return de.jsxs(de.Fragment,{children:[c&&de.jsx(lCe,{}),de.jsxs("div",{className:h_.container,children:[i&&de.jsxs("div",{className:h_.offerOverlay,children:[de.jsx("button",{onClick:()=>{r({})},className:h_.closeButton,"aria-label":"Close hosting preview",children:de.jsx(yB,{})}),de.jsx(LCe,{accommodationId:i})]}),de.jsxs(oP,{className:h_.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[de.jsx(uP,{url:e}),de.jsx(jz,{strings:{title:"My location"},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),de.jsx(TCe,{maxClusterRadius:20,children:s?s.map(p=>{var m,y;return de.jsx(sP,{position:[p.location.lat,p.location.long],eventHandlers:{click:()=>{f(p.id)}},icon:p.id===i?xW:EW("geohash-"+rm.encode(p.location.lat,p.location.long,10)),alt:`Accommodation offer from ${((m=p.offeredBy)==null?void 0:m.name)||((y=p.offeredBy)==null?void 0:y.id)}`},p.id)}):null}),de.jsx($z,{onUpdate:h})]})]})]})},FCe=({webId:t,className:e})=>{const{communityId:n}=Un(),[r]=Fo(t,n);return de.jsx(O0,{photo:r.photo,square:!0,size:1.25,className:e})},jCe="_threadList_1lsy0_1",$Ce="_thread_1lsy0_1",UCe="_unread_1lsy0_14",BCe="_content_1lsy0_14",qCe="_avatar_1lsy0_17",ed={threadList:jCe,thread:$Ce,unread:UCe,content:BCe,avatar:qCe},zCe=()=>{const t=Bi(),{data:e}=wpe(t.webId??"");return e?de.jsxs("div",{children:[de.jsx("h1",{children:"Conversations"}),de.jsx("ul",{className:ed.threadList,children:e.map(n=>{const r=n.participants.find(i=>i!==t.webId);return de.jsx("li",{"data-cy":"thread-list-item",children:de.jsx(Po,{to:`/messages/${encodeURIComponent(r??"")}`,children:de.jsx(HCe,{thread:n})})},n.id)})})]}):de.jsx(Sa,{children:"Loading..."})},HCe=({thread:t})=>{const{communityId:e}=Un(),n=Bi(),r=t.participants.find(o=>o!==n.webId),[i]=Fo(r??"",e),a=t.messages[t.messages.length-1];return de.jsxs("div",{className:ii(ed.thread,t.status&&ed.unread),"data-cy":t.status&&"thread-unread",children:[de.jsx(FCe,{webId:r??"",className:ed.avatar}),de.jsxs("div",{children:[de.jsx("div",{className:ed.name,title:i.id,children:i.name}),de.jsx("div",{className:ed.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},VCe=()=>de.jsx(Tz,{tabs:[],children:de.jsx(v0,{})}),KCe=()=>de.jsx(xA,{to:"search",replace:!0}),GCe=LK([{path:"/",element:de.jsx(Hge,{}),children:[{path:"/",element:de.jsx(Xwe,{}),children:[{index:!0,element:de.jsx(gEe,{})},{path:"profile",children:[{index:!0,element:de.jsx(aCe,{})},{path:"edit",element:de.jsx(fEe,{})},{path:":id",element:de.jsx(iCe,{})},{path:":id/contacts",element:de.jsx(hbe,{})}]},{path:"messages",children:[{index:!0,element:de.jsx(zCe,{})},{path:":id",element:de.jsx(GEe,{})}]},{path:"host",element:de.jsx(yEe,{}),children:[{index:!0,element:de.jsx(vEe,{})},{path:"offers",element:de.jsx(Z2e,{})},{path:"invite",element:de.jsx(_Ee,{})},{path:"guests",element:de.jsx(WEe,{})}]},{path:"travel",element:de.jsx(VCe,{}),children:[{index:!0,element:de.jsx(KCe,{})},{path:"search",element:de.jsx(NCe,{})},{path:"plans",element:de.jsx(J2e,{})},{path:"hosts",element:de.jsx(QEe,{})}]}]},{path:"about",element:de.jsx(n0e,{})},{path:"*",element:de.jsx(Y2e,{})}]}]),WCe=new A7({defaultOptions:{queries:{retry:1}}}),QCe=z7.createRoot(document.getElementById("root"));QCe.render(de.jsx(Gt.StrictMode,{children:de.jsx(iV,{store:iU,children:de.jsx(z5,{loading:null,persistor:gW,children:de.jsx(D7,{client:WCe,children:de.jsx(SK,{router:GCe})})})})}));
