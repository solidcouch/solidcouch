var l7=Object.defineProperty;var UL=t=>{throw TypeError(t)};var c7=(t,e,n)=>e in t?l7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var e1=(t,e,n)=>c7(t,typeof e!="symbol"?e+"":e,n),t1=(t,e,n)=>e.has(t)||UL("Cannot "+n);var Qe=(t,e,n)=>(t1(t,e,"read from private field"),n?n.call(t):e.get(t)),Jt=(t,e,n)=>e.has(t)?UL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Mt=(t,e,n,r)=>(t1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ln=(t,e,n)=>(t1(t,e,"access private method"),n);var By=(t,e,n,r)=>({set _(i){Mt(t,e,i,n)},get _(){return Qe(t,e,r)}});function f7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var n1={exports:{}},Gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BL;function d7(){if(BL)return Gh;BL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Gh.Fragment=e,Gh.jsx=n,Gh.jsxs=n,Gh}var qL;function h7(){return qL||(qL=1,n1.exports=d7()),n1.exports}var de=h7(),Qc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uc=typeof window>"u"||"Deno"in globalThis;function ss(){}function p7(t,e){return typeof t=="function"?t(e):t}function W2(t){return typeof t=="number"&&t>=0&&t!==1/0}function a5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function td(t,e){return typeof t=="function"?t(e):t}function Cs(t,e){return typeof t=="function"?t(e):t}function zL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==fA(s,e.options))return!1}else if(!Lg(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function HL(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Bc(e.options.mutationKey)!==Bc(a))return!1}else if(!Lg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bc)(t)}function Bc(t){return JSON.stringify(t,(e,n)=>Q2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Lg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Lg(t[n],e[n])):!1}function dA(t,e){if(t===e)return t;const n=VL(t)&&VL(e);if(n||Q2(t)&&Q2(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let f=0;f<s;f++){const h=n?f:a[f];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,l++):(o[h]=dA(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function N_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function VL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Q2(t){if(!KL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!KL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KL(t){return Object.prototype.toString.call(t)==="[object Object]"}function g7(t){return new Promise(e=>{setTimeout(e,t)})}function Z2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?dA(t,e):e}function m7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function y7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var s5=Symbol();function o5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===s5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Rc,ol,ld,K$,v7=(K$=class extends Qc{constructor(){super();Jt(this,Rc);Jt(this,ol);Jt(this,ld);Mt(this,ld,e=>{if(!Uc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,ol)||this.setEventListener(Qe(this,ld))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,ol))==null||e.call(this),Mt(this,ol,void 0))}setEventListener(e){var n;Mt(this,ld,e),(n=Qe(this,ol))==null||n.call(this),Mt(this,ol,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Qe(this,Rc)!==e&&(Mt(this,Rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Qe(this,Rc)=="boolean"?Qe(this,Rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Rc=new WeakMap,ol=new WeakMap,ld=new WeakMap,K$),hA=new v7,cd,ul,fd,G$,_7=(G$=class extends Qc{constructor(){super();Jt(this,cd,!0);Jt(this,ul);Jt(this,fd);Mt(this,fd,e=>{if(!Uc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,ul)||this.setEventListener(Qe(this,fd))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,ul))==null||e.call(this),Mt(this,ul,void 0))}setEventListener(e){var n;Mt(this,fd,e),(n=Qe(this,ul))==null||n.call(this),Mt(this,ul,e(this.setOnline.bind(this)))}setOnline(e){Qe(this,cd)!==e&&(Mt(this,cd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Qe(this,cd)}},cd=new WeakMap,ul=new WeakMap,fd=new WeakMap,G$),F_=new _7;function J2(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function w7(t){return Math.min(1e3*2**t,3e4)}function u5(t){return(t??"online")==="online"?F_.isOnline():!0}var l5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function r1(t){return t instanceof l5}function c5(t){let e=!1,n=0,r=!1,i;const a=J2(),s=b=>{var S;r||(m(new l5(b)),(S=t.abort)==null||S.call(t))},o=()=>{e=!0},l=()=>{e=!1},f=()=>hA.isFocused()&&(t.networkMode==="always"||F_.isOnline())&&t.canRun(),h=()=>u5(t.networkMode)&&t.canRun(),p=b=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,b),i==null||i(),a.resolve(b))},m=b=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,b),i==null||i(),a.reject(b))},y=()=>new Promise(b=>{var S;i=x=>{(r||f())&&b(x)},(S=t.onPause)==null||S.call(t)}).then(()=>{var b;i=void 0,r||(b=t.onContinue)==null||b.call(t)}),_=()=>{if(r)return;let b;const S=n===0?t.initialPromise:void 0;try{b=S??t.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(p).catch(x=>{var D;if(r)return;const E=t.retry??(Uc?0:3),A=t.retryDelay??w7,I=typeof A=="function"?A(n,x):A,M=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!M){m(x);return}n++,(D=t.onFail)==null||D.call(t,n,x),g7(I).then(()=>f()?void 0:y()).then(()=>{e?m(x):_()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?_():y().then(_),a)}}function b7(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Fr=b7(),Pc,W$,f5=(W$=class{constructor(){Jt(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W2(this.gcTime)&&Mt(this,Pc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uc?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,Pc)&&(clearTimeout(Qe(this,Pc)),Mt(this,Pc,void 0))}},Pc=new WeakMap,W$),dd,hd,as,Fi,rm,Oc,Es,Yo,Q$,S7=(Q$=class extends f5{constructor(e){super();Jt(this,Es);Jt(this,dd);Jt(this,hd);Jt(this,as);Jt(this,Fi);Jt(this,rm);Jt(this,Oc);Mt(this,Oc,!1),Mt(this,rm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Mt(this,as,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Mt(this,dd,x7(this.options)),this.state=e.state??Qe(this,dd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Qe(this,Fi))==null?void 0:e.promise}setOptions(e){this.options={...Qe(this,rm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,as).remove(this)}setData(e,n){const r=Z2(this.state.data,e,this.options);return ln(this,Es,Yo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ln(this,Es,Yo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Qe(this,Fi))==null?void 0:r.promise;return(i=Qe(this,Fi))==null||i.cancel(e),n?n.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,dd))}isActive(){return this.observers.some(e=>Cs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!a5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,Fi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,Fi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Qe(this,as).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Qe(this,Fi)&&(Qe(this,Oc)?Qe(this,Fi).cancel({revert:!0}):Qe(this,Fi).cancelRetry()),this.scheduleGc()),Qe(this,as).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,Es,Yo).call(this,{type:"invalidate"})}fetch(e,n){var l,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Fi))return Qe(this,Fi).continueRetry(),Qe(this,Fi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Mt(this,Oc,!0),r.signal)})},a=()=>{const p=o5(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),Mt(this,Oc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),Mt(this,hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=s.fetchOptions)==null?void 0:f.meta))&&ln(this,Es,Yo).call(this,{type:"fetch",meta:(h=s.fetchOptions)==null?void 0:h.meta});const o=p=>{var m,y,_,b;r1(p)&&p.silent||ln(this,Es,Yo).call(this,{type:"error",error:p}),r1(p)||((y=(m=Qe(this,as).config).onError)==null||y.call(m,p,this),(b=(_=Qe(this,as).config).onSettled)==null||b.call(_,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Mt(this,Fi,c5({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,_,b;if(p===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){o(S);return}(y=(m=Qe(this,as).config).onSuccess)==null||y.call(m,p,this),(b=(_=Qe(this,as).config).onSettled)==null||b.call(_,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(p,m)=>{ln(this,Es,Yo).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ln(this,Es,Yo).call(this,{type:"pause"})},onContinue:()=>{ln(this,Es,Yo).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Qe(this,Fi).start()}},dd=new WeakMap,hd=new WeakMap,as=new WeakMap,Fi=new WeakMap,rm=new WeakMap,Oc=new WeakMap,Es=new WeakSet,Yo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d5(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return r1(i)&&i.revert&&Qe(this,hd)?{...Qe(this,hd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,as).notify({query:this,type:"updated",action:e})})},Q$);function d5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function x7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xs,Z$,E7=(Z$=class extends Qc{constructor(e={}){super();Jt(this,Xs);this.config=e,Mt(this,Xs,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??fA(i,n);let s=this.get(a);return s||(s=new S7({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){Qe(this,Xs).has(e.queryHash)||(Qe(this,Xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Qe(this,Xs).get(e.queryHash);n&&(e.destroy(),n===e&&Qe(this,Xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Qe(this,Xs).get(e)}getAll(){return[...Qe(this,Xs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zL(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>zL(e,r)):n}notify(e){Fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xs=new WeakMap,Z$),eo,ta,Lc,to,el,J$,T7=(J$=class extends f5{constructor(e){super();Jt(this,to);Jt(this,eo);Jt(this,ta);Jt(this,Lc);this.mutationId=e.mutationId,Mt(this,ta,e.mutationCache),Mt(this,eo,[]),this.state=e.state||h5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Qe(this,eo).includes(e)||(Qe(this,eo).push(e),this.clearGcTimeout(),Qe(this,ta).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Mt(this,eo,Qe(this,eo).filter(n=>n!==e)),this.scheduleGc(),Qe(this,ta).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Qe(this,eo).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,ta).remove(this))}continue(){var e;return((e=Qe(this,Lc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,f,h,p,m,y,_,b,S,x,E,A,I,M,D,j;Mt(this,Lc,c5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Q,Y)=>{ln(this,to,el).call(this,{type:"failed",failureCount:Q,error:Y})},onPause:()=>{ln(this,to,el).call(this,{type:"pause"})},onContinue:()=>{ln(this,to,el).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,ta).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,Lc).canStart();try{if(!n){ln(this,to,el).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=Qe(this,ta).config).onMutate)==null?void 0:a.call(i,e,this));const Y=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));Y!==this.state.context&&ln(this,to,el).call(this,{type:"pending",context:Y,variables:e,isPaused:r})}const Q=await Qe(this,Lc).start();return await((f=(l=Qe(this,ta).config).onSuccess)==null?void 0:f.call(l,Q,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,Q,e,this.state.context)),await((y=(m=Qe(this,ta).config).onSettled)==null?void 0:y.call(m,Q,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,Q,null,e,this.state.context)),ln(this,to,el).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((x=(S=Qe(this,ta).config).onError)==null?void 0:x.call(S,Q,e,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,Q,e,this.state.context)),await((M=(I=Qe(this,ta).config).onSettled)==null?void 0:M.call(I,void 0,Q,this.state.variables,this.state.context,this)),await((j=(D=this.options).onSettled)==null?void 0:j.call(D,void 0,Q,e,this.state.context)),Q}finally{ln(this,to,el).call(this,{type:"error",error:Q})}}finally{Qe(this,ta).runNext(this)}}},eo=new WeakMap,ta=new WeakMap,Lc=new WeakMap,to=new WeakSet,el=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fr.batch(()=>{Qe(this,eo).forEach(r=>{r.onMutationUpdate(e)}),Qe(this,ta).notify({mutation:this,type:"updated",action:e})})},J$);function h5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Na,im,Y$,C7=(Y$=class extends Qc{constructor(e={}){super();Jt(this,Na);Jt(this,im);this.config=e,Mt(this,Na,new Map),Mt(this,im,Date.now())}build(e,n,r){const i=new T7({mutationCache:this,mutationId:++By(this,im)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=qy(e),r=Qe(this,Na).get(n)??[];r.push(e),Qe(this,Na).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=qy(e);if(Qe(this,Na).has(n)){const i=(r=Qe(this,Na).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?Qe(this,Na).delete(n):Qe(this,Na).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Qe(this,Na).get(qy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Qe(this,Na).get(qy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Qe(this,Na).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HL(n,r))}findAll(e={}){return this.getAll().filter(n=>HL(e,n))}notify(e){Fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Fr.batch(()=>Promise.all(e.map(n=>n.continue().catch(ss))))}},Na=new WeakMap,im=new WeakMap,Y$);function qy(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function GL(t){return{onFetch:(e,n)=>{var h,p,m,y,_;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],s=((_=e.state.data)==null?void 0:_.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const f=async()=>{let b=!1;const S=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},x=o5(e.options,e.fetchOptions),E=async(A,I,M)=>{if(b)return Promise.reject();if(I==null&&A.pages.length)return Promise.resolve(A);const D={queryKey:e.queryKey,pageParam:I,direction:M?"backward":"forward",meta:e.options.meta};S(D);const j=await x(D),{maxPages:Q}=e.options,Y=M?y7:m7;return{pages:Y(A.pages,j,Q),pageParams:Y(A.pageParams,I,Q)}};if(i&&a.length){const A=i==="backward",I=A?A7:WL,M={pages:a,pageParams:s},D=I(r,M);o=await E(M,D,A)}else{const A=t??a.length;do{const I=l===0?s[0]??r.initialPageParam:WL(r,o);if(l>0&&I==null)break;o=await E(o,I),l++}while(l<A)}return o};e.options.persister?e.fetchFn=()=>{var b,S;return(S=(b=e.options).persister)==null?void 0:S.call(b,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function WL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function A7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nr,ll,cl,pd,gd,fl,md,yd,X$,R7=(X$=class{constructor(t={}){Jt(this,Nr);Jt(this,ll);Jt(this,cl);Jt(this,pd);Jt(this,gd);Jt(this,fl);Jt(this,md);Jt(this,yd);Mt(this,Nr,t.queryCache||new E7),Mt(this,ll,t.mutationCache||new C7),Mt(this,cl,t.defaultOptions||{}),Mt(this,pd,new Map),Mt(this,gd,new Map),Mt(this,fl,0)}mount(){By(this,fl)._++,Qe(this,fl)===1&&(Mt(this,md,hA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,Nr).onFocus())})),Mt(this,yd,F_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,Nr).onOnline())})))}unmount(){var t,e;By(this,fl)._--,Qe(this,fl)===0&&((t=Qe(this,md))==null||t.call(this),Mt(this,md,void 0),(e=Qe(this,yd))==null||e.call(this),Mt(this,yd,void 0))}isFetching(t){return Qe(this,Nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Qe(this,ll).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,Nr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Qe(this,Nr).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(td(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Qe(this,Nr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Qe(this,Nr).get(r.queryHash),a=i==null?void 0:i.state.data,s=p7(e,a);if(s!==void 0)return Qe(this,Nr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Fr.batch(()=>Qe(this,Nr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,Nr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Qe(this,Nr);Fr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Qe(this,Nr),r={type:"active",...t};return Fr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Fr.batch(()=>Qe(this,Nr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ss).catch(ss)}invalidateQueries(t={},e={}){return Fr.batch(()=>{if(Qe(this,Nr).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Fr.batch(()=>Qe(this,Nr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ss)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ss)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Qe(this,Nr).build(this,e);return n.isStaleByTime(td(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ss).catch(ss)}fetchInfiniteQuery(t){return t.behavior=GL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ss).catch(ss)}ensureInfiniteQueryData(t){return t.behavior=GL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return F_.isOnline()?Qe(this,ll).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,Nr)}getMutationCache(){return Qe(this,ll)}getDefaultOptions(){return Qe(this,cl)}setDefaultOptions(t){Mt(this,cl,t)}setQueryDefaults(t,e){Qe(this,pd).set(Bc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Qe(this,pd).values()];let n={};return e.forEach(r=>{Lg(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Qe(this,gd).set(Bc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Qe(this,gd).values()];let n={};return e.forEach(r=>{Lg(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Qe(this,cl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===s5&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Qe(this,cl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Qe(this,Nr).clear(),Qe(this,ll).clear()}},Nr=new WeakMap,ll=new WeakMap,cl=new WeakMap,pd=new WeakMap,gd=new WeakMap,fl=new WeakMap,md=new WeakMap,yd=new WeakMap,X$),ma,kn,am,na,Ic,vd,dl,no,sm,_d,wd,Mc,Dc,hl,bd,tr,ug,Y2,X2,eC,tC,nC,rC,iC,p5,e5,pA=(e5=class extends Qc{constructor(e,n){super();Jt(this,tr);Jt(this,ma);Jt(this,kn);Jt(this,am);Jt(this,na);Jt(this,Ic);Jt(this,vd);Jt(this,dl);Jt(this,no);Jt(this,sm);Jt(this,_d);Jt(this,wd);Jt(this,Mc);Jt(this,Dc);Jt(this,hl);Jt(this,bd,new Set);this.options=n,Mt(this,ma,e),Mt(this,no,null),Mt(this,dl,J2()),this.options.experimental_prefetchInRender||Qe(this,dl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,kn).addObserver(this),QL(Qe(this,kn),this.options)?ln(this,tr,ug).call(this):this.updateResult(),ln(this,tr,tC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aC(Qe(this,kn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aC(Qe(this,kn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ln(this,tr,nC).call(this),ln(this,tr,rC).call(this),Qe(this,kn).removeObserver(this)}setOptions(e,n){const r=this.options,i=Qe(this,kn);if(this.options=Qe(this,ma).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cs(this.options.enabled,Qe(this,kn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ln(this,tr,iC).call(this),Qe(this,kn).setOptions(this.options),r._defaulted&&!N_(this.options,r)&&Qe(this,ma).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,kn),observer:this});const a=this.hasListeners();a&&ZL(Qe(this,kn),i,this.options,r)&&ln(this,tr,ug).call(this),this.updateResult(n),a&&(Qe(this,kn)!==i||Cs(this.options.enabled,Qe(this,kn))!==Cs(r.enabled,Qe(this,kn))||td(this.options.staleTime,Qe(this,kn))!==td(r.staleTime,Qe(this,kn)))&&ln(this,tr,Y2).call(this);const s=ln(this,tr,X2).call(this);a&&(Qe(this,kn)!==i||Cs(this.options.enabled,Qe(this,kn))!==Cs(r.enabled,Qe(this,kn))||s!==Qe(this,hl))&&ln(this,tr,eC).call(this,s)}getOptimisticResult(e){const n=Qe(this,ma).getQueryCache().build(Qe(this,ma),e),r=this.createResult(n,e);return O7(this,r)&&(Mt(this,na,r),Mt(this,vd,this.options),Mt(this,Ic,Qe(this,kn).state)),r}getCurrentResult(){return Qe(this,na)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){Qe(this,bd).add(e)}getCurrentQuery(){return Qe(this,kn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Qe(this,ma).defaultQueryOptions(e),r=Qe(this,ma).getQueryCache().build(Qe(this,ma),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ln(this,tr,ug).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,na)))}createResult(e,n){var j;const r=Qe(this,kn),i=this.options,a=Qe(this,na),s=Qe(this,Ic),o=Qe(this,vd),f=e!==r?e.state:Qe(this,am),{state:h}=e;let p={...h},m=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),Y=!Q&&QL(e,n),q=Q&&ZL(e,r,n,i);(Y||q)&&(p={...p,...d5(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:b,status:S}=p;if(n.select&&p.data!==void 0)if(a&&p.data===(s==null?void 0:s.data)&&n.select===Qe(this,sm))y=Qe(this,_d);else try{Mt(this,sm,n.select),y=n.select(p.data),y=Z2(a==null?void 0:a.data,y,n),Mt(this,_d,y),Mt(this,no,null)}catch(Q){Mt(this,no,Q)}else y=p.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((j=Qe(this,wd))==null?void 0:j.state.data,Qe(this,wd)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),Mt(this,no,null)}catch(Y){Mt(this,no,Y)}Q!==void 0&&(S="success",y=Z2(a==null?void 0:a.data,Q,n),m=!0)}Qe(this,no)&&(_=Qe(this,no),y=Qe(this,_d),b=Date.now(),S="error");const x=p.fetchStatus==="fetching",E=S==="pending",A=S==="error",I=E&&x,M=y!==void 0;return{status:S,fetchStatus:p.fetchStatus,isPending:E,isSuccess:S==="success",isError:A,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:A&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&M,isStale:gA(e,n),refetch:this.refetch,promise:Qe(this,dl)}}updateResult(e){const n=Qe(this,na),r=this.createResult(Qe(this,kn),this.options);if(Mt(this,Ic,Qe(this,kn).state),Mt(this,vd,this.options),Qe(this,Ic).data!==void 0&&Mt(this,wd,Qe(this,kn)),N_(r,n))return;if(this.options.experimental_prefetchInRender){const s=f=>{r.status==="error"?f.reject(r.error):r.data!==void 0&&f.resolve(r.data)},o=()=>{const f=Mt(this,dl,r.promise=J2());s(f)},l=Qe(this,dl);switch(l.status){case"pending":s(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&o();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&o();break}}Mt(this,na,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!Qe(this,bd).size)return!0;const l=new Set(o??Qe(this,bd));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,na)).some(f=>{const h=f;return Qe(this,na)[h]!==n[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),ln(this,tr,p5).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ln(this,tr,tC).call(this)}},ma=new WeakMap,kn=new WeakMap,am=new WeakMap,na=new WeakMap,Ic=new WeakMap,vd=new WeakMap,dl=new WeakMap,no=new WeakMap,sm=new WeakMap,_d=new WeakMap,wd=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,hl=new WeakMap,bd=new WeakMap,tr=new WeakSet,ug=function(e){ln(this,tr,iC).call(this);let n=Qe(this,kn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ss)),n},Y2=function(){ln(this,tr,nC).call(this);const e=td(this.options.staleTime,Qe(this,kn));if(Uc||Qe(this,na).isStale||!W2(e))return;const r=a5(Qe(this,na).dataUpdatedAt,e)+1;Mt(this,Mc,setTimeout(()=>{Qe(this,na).isStale||this.updateResult()},r))},X2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,kn)):this.options.refetchInterval)??!1},eC=function(e){ln(this,tr,rC).call(this),Mt(this,hl,e),!(Uc||Cs(this.options.enabled,Qe(this,kn))===!1||!W2(Qe(this,hl))||Qe(this,hl)===0)&&Mt(this,Dc,setInterval(()=>{(this.options.refetchIntervalInBackground||hA.isFocused())&&ln(this,tr,ug).call(this)},Qe(this,hl)))},tC=function(){ln(this,tr,Y2).call(this),ln(this,tr,eC).call(this,ln(this,tr,X2).call(this))},nC=function(){Qe(this,Mc)&&(clearTimeout(Qe(this,Mc)),Mt(this,Mc,void 0))},rC=function(){Qe(this,Dc)&&(clearInterval(Qe(this,Dc)),Mt(this,Dc,void 0))},iC=function(){const e=Qe(this,ma).getQueryCache().build(Qe(this,ma),this.options);if(e===Qe(this,kn))return;const n=Qe(this,kn);Mt(this,kn,e),Mt(this,am,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},p5=function(e){Fr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Qe(this,na))}),Qe(this,ma).getQueryCache().notify({query:Qe(this,kn),type:"observerResultsUpdated"})})},e5);function P7(t,e){return Cs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QL(t,e){return P7(t,e)||t.state.data!==void 0&&aC(t,e,e.refetchOnMount)}function aC(t,e,n){if(Cs(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gA(t,e)}return!1}function ZL(t,e,n,r){return(t!==e||Cs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gA(t,n)}function gA(t,e){return Cs(e.enabled,t)!==!1&&t.isStaleByTime(td(e.staleTime,t))}function O7(t,e){return!N_(t.getCurrentResult(),e)}function JL(t,e){return t.filter(n=>!e.includes(n))}function L7(t,e,n){const r=t.slice(0);return r[e]=n,r}var kc,Ts,Sd,Fa,Nc,om,um,Va,g5,sC,oC,uC,t5,I7=(t5=class extends Qc{constructor(e,n,r){super();Jt(this,Va);Jt(this,kc);Jt(this,Ts);Jt(this,Sd);Jt(this,Fa);Jt(this,Nc);Jt(this,om);Jt(this,um);Mt(this,kc,e),Mt(this,Sd,[]),Mt(this,Fa,[]),Mt(this,Ts,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,Fa).forEach(e=>{e.subscribe(n=>{ln(this,Va,oC).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,Fa).forEach(e=>{e.destroy()})}setQueries(e,n,r){Mt(this,Sd,e),Fr.batch(()=>{const i=Qe(this,Fa),a=ln(this,Va,sC).call(this,Qe(this,Sd));a.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions,r));const s=a.map(f=>f.observer),o=s.map(f=>f.getCurrentResult()),l=s.some((f,h)=>f!==i[h]);i.length===s.length&&!l||(Mt(this,Fa,s),Mt(this,Ts,o),this.hasListeners()&&(JL(i,s).forEach(f=>{f.destroy()}),JL(s,i).forEach(f=>{f.subscribe(h=>{ln(this,Va,oC).call(this,f,h)})}),ln(this,Va,uC).call(this)))})}getCurrentResult(){return Qe(this,Ts)}getQueries(){return Qe(this,Fa).map(e=>e.getCurrentQuery())}getObservers(){return Qe(this,Fa)}getOptimisticResult(e,n){const r=ln(this,Va,sC).call(this,e),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>ln(this,Va,g5).call(this,a??i,n),()=>r.map((a,s)=>{const o=i[s];return a.defaultedQueryOptions.notifyOnChangeProps?o:a.observer.trackResult(o,l=>{r.forEach(f=>{f.observer.trackProp(l)})})})]}},kc=new WeakMap,Ts=new WeakMap,Sd=new WeakMap,Fa=new WeakMap,Nc=new WeakMap,om=new WeakMap,um=new WeakMap,Va=new WeakSet,g5=function(e,n){return n?((!Qe(this,Nc)||Qe(this,Ts)!==Qe(this,um)||n!==Qe(this,om))&&(Mt(this,om,n),Mt(this,um,Qe(this,Ts)),Mt(this,Nc,dA(Qe(this,Nc),n(e)))),Qe(this,Nc)):e},sC=function(e){const n=Qe(this,Fa),r=new Map(n.map(p=>[p.options.queryHash,p])),i=e.map(p=>Qe(this,kc).defaultQueryOptions(p)),a=i.flatMap(p=>{const m=r.get(p.queryHash);return m!=null?[{defaultedQueryOptions:p,observer:m}]:[]}),s=new Set(a.map(p=>p.defaultedQueryOptions.queryHash)),o=i.filter(p=>!s.has(p.queryHash)),l=p=>{const m=Qe(this,kc).defaultQueryOptions(p);return Qe(this,Fa).find(_=>_.options.queryHash===m.queryHash)??new pA(Qe(this,kc),m)},f=o.map(p=>({defaultedQueryOptions:p,observer:l(p)})),h=(p,m)=>i.indexOf(p.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(f).sort(h)},oC=function(e,n){const r=Qe(this,Fa).indexOf(e);r!==-1&&(Mt(this,Ts,L7(Qe(this,Ts),r,n)),ln(this,Va,uC).call(this))},uC=function(){Fr.batch(()=>{this.listeners.forEach(e=>{e(Qe(this,Ts))})})},t5),pl,gl,ya,eu,au,g_,lC,n5,M7=(n5=class extends Qc{constructor(n,r){super();Jt(this,au);Jt(this,pl);Jt(this,gl);Jt(this,ya);Jt(this,eu);Mt(this,pl,n),this.setOptions(r),this.bindMethods(),ln(this,au,g_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,pl).defaultMutationOptions(n),N_(this.options,r)||Qe(this,pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,ya),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bc(r.mutationKey)!==Bc(this.options.mutationKey)?this.reset():((i=Qe(this,ya))==null?void 0:i.state.status)==="pending"&&Qe(this,ya).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,ya))==null||n.removeObserver(this)}onMutationUpdate(n){ln(this,au,g_).call(this),ln(this,au,lC).call(this,n)}getCurrentResult(){return Qe(this,gl)}reset(){var n;(n=Qe(this,ya))==null||n.removeObserver(this),Mt(this,ya,void 0),ln(this,au,g_).call(this),ln(this,au,lC).call(this)}mutate(n,r){var i;return Mt(this,eu,r),(i=Qe(this,ya))==null||i.removeObserver(this),Mt(this,ya,Qe(this,pl).getMutationCache().build(Qe(this,pl),this.options)),Qe(this,ya).addObserver(this),Qe(this,ya).execute(n)}},pl=new WeakMap,gl=new WeakMap,ya=new WeakMap,eu=new WeakMap,au=new WeakSet,g_=function(){var r;const n=((r=Qe(this,ya))==null?void 0:r.state)??h5();Mt(this,gl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},lC=function(n){Fr.batch(()=>{var r,i,a,s,o,l,f,h;if(Qe(this,eu)&&this.hasListeners()){const p=Qe(this,gl).variables,m=Qe(this,gl).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,eu)).onSuccess)==null||i.call(r,n.data,p,m),(s=(a=Qe(this,eu)).onSettled)==null||s.call(a,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((l=(o=Qe(this,eu)).onError)==null||l.call(o,n.error,p,m),(h=(f=Qe(this,eu)).onSettled)==null||h.call(f,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(Qe(this,gl))})})},n5),i1={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YL;function D7(){if(YL)return wn;YL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function S(k,ne,me){this.props=k,this.context=ne,this.refs=b,this.updater=me||y}S.prototype.isReactComponent={},S.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function x(){}x.prototype=S.prototype;function E(k,ne,me){this.props=k,this.context=ne,this.refs=b,this.updater=me||y}var A=E.prototype=new x;A.constructor=E,_(A,S.prototype),A.isPureReactComponent=!0;var I=Array.isArray,M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function j(k,ne,me,H,J,pe){return me=pe.ref,{$$typeof:t,type:k,key:ne,ref:me!==void 0?me:null,props:pe}}function Q(k,ne){return j(k.type,ne,void 0,void 0,void 0,k.props)}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function q(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(me){return ne[me]})}var Z=/\/+/g;function fe(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):ne.toString(36)}function te(){}function oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ge(k,ne,me,H,J){var pe=typeof k;(pe==="undefined"||pe==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(pe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=k._init,ge(Ae(k._payload),ne,me,H,J)}}if(Ae)return J=J(k),Ae=H===""?"."+fe(k,0):H,I(J)?(me="",Ae!=null&&(me=Ae.replace(Z,"$&/")+"/"),ge(J,ne,me,"",function(Fe){return Fe})):J!=null&&(Y(J)&&(J=Q(J,me+(J.key==null||k&&k.key===J.key?"":(""+J.key).replace(Z,"$&/")+"/")+Ae)),ne.push(J)),1;Ae=0;var Je=H===""?".":H+":";if(I(k))for(var Re=0;Re<k.length;Re++)H=k[Re],pe=Je+fe(H,Re),Ae+=ge(H,ne,me,pe,J);else if(Re=m(k),typeof Re=="function")for(k=Re.call(k),Re=0;!(H=k.next()).done;)H=H.value,pe=Je+fe(H,Re++),Ae+=ge(H,ne,me,pe,J);else if(pe==="object"){if(typeof k.then=="function")return ge(oe(k),ne,me,H,J);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function _e(k,ne,me){if(k==null)return k;var H=[],J=0;return ge(k,H,"","",function(pe){return ne.call(me,pe,J++)}),H}function le(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(me){(k._status===0||k._status===-1)&&(k._status=1,k._result=me)},function(me){(k._status===0||k._status===-1)&&(k._status=2,k._result=me)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Le(){}return wn.Children={map:_e,forEach:function(k,ne,me){_e(k,function(){ne.apply(this,arguments)},me)},count:function(k){var ne=0;return _e(k,function(){ne++}),ne},toArray:function(k){return _e(k,function(ne){return ne})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wn.Component=S,wn.Fragment=n,wn.Profiler=i,wn.PureComponent=E,wn.StrictMode=r,wn.Suspense=l,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wn.act=function(){throw Error("act(...) is not supported in production builds of React.")},wn.cache=function(k){return function(){return k.apply(null,arguments)}},wn.cloneElement=function(k,ne,me){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var H=_({},k.props),J=k.key,pe=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(pe=void 0),ne.key!==void 0&&(J=""+ne.key),ne)!D.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(H[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)H.children=me;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];H.children=Je}return j(k.type,J,void 0,void 0,pe,H)},wn.createContext=function(k){return k={$$typeof:s,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},wn.createElement=function(k,ne,me){var H,J={},pe=null;if(ne!=null)for(H in ne.key!==void 0&&(pe=""+ne.key),ne)D.call(ne,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(J[H]=ne[H]);var Ae=arguments.length-2;if(Ae===1)J.children=me;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];J.children=Je}if(k&&k.defaultProps)for(H in Ae=k.defaultProps,Ae)J[H]===void 0&&(J[H]=Ae[H]);return j(k,pe,void 0,void 0,null,J)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(k){return{$$typeof:o,render:k}},wn.isValidElement=Y,wn.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:le}},wn.memo=function(k,ne){return{$$typeof:f,type:k,compare:ne===void 0?null:ne}},wn.startTransition=function(k){var ne=M.T,me={};M.T=me;try{var H=k(),J=M.S;J!==null&&J(me,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Le,ce)}catch(pe){ce(pe)}finally{M.T=ne}},wn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wn.use=function(k){return M.H.use(k)},wn.useActionState=function(k,ne,me){return M.H.useActionState(k,ne,me)},wn.useCallback=function(k,ne){return M.H.useCallback(k,ne)},wn.useContext=function(k){return M.H.useContext(k)},wn.useDebugValue=function(){},wn.useDeferredValue=function(k,ne){return M.H.useDeferredValue(k,ne)},wn.useEffect=function(k,ne){return M.H.useEffect(k,ne)},wn.useId=function(){return M.H.useId()},wn.useImperativeHandle=function(k,ne,me){return M.H.useImperativeHandle(k,ne,me)},wn.useInsertionEffect=function(k,ne){return M.H.useInsertionEffect(k,ne)},wn.useLayoutEffect=function(k,ne){return M.H.useLayoutEffect(k,ne)},wn.useMemo=function(k,ne){return M.H.useMemo(k,ne)},wn.useOptimistic=function(k,ne){return M.H.useOptimistic(k,ne)},wn.useReducer=function(k,ne,me){return M.H.useReducer(k,ne,me)},wn.useRef=function(k){return M.H.useRef(k)},wn.useState=function(k){return M.H.useState(k)},wn.useSyncExternalStore=function(k,ne,me){return M.H.useSyncExternalStore(k,ne,me)},wn.useTransition=function(){return M.H.useTransition()},wn.version="19.0.0",wn}var XL;function Md(){return XL||(XL=1,i1.exports=D7()),i1.exports}var ae=Md();const Gt=Gr(ae),Ig=f7({__proto__:null,default:Gt},[ae]);var m5=ae.createContext(void 0),xa=t=>{const e=ae.useContext(m5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},k7=({client:t,children:e})=>(ae.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),de.jsx(m5.Provider,{value:t,children:e})),y5=ae.createContext(!1),v5=()=>ae.useContext(y5);y5.Provider;function N7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var F7=ae.createContext(N7()),_5=()=>ae.useContext(F7);function w5(t,e){return typeof t=="function"?t(...e):!!t}function b5(){}var S5=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},x5=t=>{ae.useEffect(()=>{t.clearReset()},[t])},E5=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&w5(n,[t.error,r]),T5=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},C5=(t,e)=>t.isLoading&&t.isFetching&&!e,cC=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,j_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function mA({queries:t,...e},n){const r=xa(),i=v5(),a=_5(),s=ae.useMemo(()=>t.map(_=>{const b=r.defaultQueryOptions(_);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,r,i]);s.forEach(_=>{T5(_),S5(_,a)}),x5(a);const[o]=ae.useState(()=>new I7(r,s,e)),[l,f,h]=o.getOptimisticResult(s,e.combine);ae.useSyncExternalStore(ae.useCallback(_=>i?()=>{}:o.subscribe(Fr.batchCalls(_)),[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),ae.useEffect(()=>{o.setQueries(s,e,{listeners:!1})},[s,e,o]);const m=l.some((_,b)=>cC(s[b],_))?l.flatMap((_,b)=>{const S=s[b];if(S){const x=new pA(r,S);if(cC(S,_))return j_(S,x,a);C5(_,i)&&j_(S,x,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=l.find((_,b)=>{const S=s[b];return S&&E5({result:_,errorResetBoundary:a,throwOnError:S.throwOnError,query:r.getQueryCache().get(S.queryHash)})});if(y!=null&&y.error)throw y.error;return f(h())}function j7(t,e,n){var h,p,m,y,_;const r=xa(),i=v5(),a=_5(),s=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=i?"isRestoring":"optimistic",T5(s),S5(s,a),x5(a);const o=!r.getQueryState(t.queryKey),[l]=ae.useState(()=>new e(r,s)),f=l.getOptimisticResult(s);if(ae.useSyncExternalStore(ae.useCallback(b=>{const S=i?()=>{}:l.subscribe(Fr.batchCalls(b));return l.updateResult(),S},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),ae.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),cC(s,f))throw j_(s,l,a);if(E5({result:f,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw f.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,s,f),s.experimental_prefetchInRender&&!Uc&&C5(f,i)){const b=o?j_(s,l,a):(_=r.getQueryCache().get(s.queryHash))==null?void 0:_.promise;b==null||b.catch(b5).finally(()=>{l.hasListeners()||l.updateResult()})}return s.notifyOnChangeProps?f:l.trackResult(f)}function lm(t,e){return j7(t,pA)}function fs(t,e){const n=xa(),[r]=ae.useState(()=>new M7(n,t));ae.useEffect(()=>{r.setOptions(t)},[r,t]);const i=ae.useSyncExternalStore(ae.useCallback(s=>r.subscribe(Fr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=ae.useCallback((s,o)=>{r.mutate(s,o).catch(b5)},[r]);if(i.error&&w5(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var a1={exports:{}},Wh={},s1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function $7(){return eI||(eI=1,function(t){function e(_e,le){var ce=_e.length;_e.push(le);e:for(;0<ce;){var Le=ce-1>>>1,k=_e[Le];if(0<i(k,le))_e[Le]=le,_e[ce]=k,ce=Le;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var le=_e[0],ce=_e.pop();if(ce!==le){_e[0]=ce;e:for(var Le=0,k=_e.length,ne=k>>>1;Le<ne;){var me=2*(Le+1)-1,H=_e[me],J=me+1,pe=_e[J];if(0>i(H,ce))J<k&&0>i(pe,H)?(_e[Le]=pe,_e[J]=ce,Le=J):(_e[Le]=H,_e[me]=ce,Le=me);else if(J<k&&0>i(pe,ce))_e[Le]=pe,_e[J]=ce,Le=J;else break e}}return le}function i(_e,le){var ce=_e.sortIndex-le.sortIndex;return ce!==0?ce:_e.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],f=[],h=1,p=null,m=3,y=!1,_=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(_e){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=_e)r(f),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(f)}}function I(_e){if(b=!1,A(_e),!_)if(n(l)!==null)_=!0,oe();else{var le=n(f);le!==null&&ge(I,le.startTime-_e)}}var M=!1,D=-1,j=5,Q=-1;function Y(){return!(t.unstable_now()-Q<j)}function q(){if(M){var _e=t.unstable_now();Q=_e;var le=!0;try{e:{_=!1,b&&(b=!1,x(D),D=-1),y=!0;var ce=m;try{t:{for(A(_e),p=n(l);p!==null&&!(p.expirationTime>_e&&Y());){var Le=p.callback;if(typeof Le=="function"){p.callback=null,m=p.priorityLevel;var k=Le(p.expirationTime<=_e);if(_e=t.unstable_now(),typeof k=="function"){p.callback=k,A(_e),le=!0;break t}p===n(l)&&r(l),A(_e)}else r(l);p=n(l)}if(p!==null)le=!0;else{var ne=n(f);ne!==null&&ge(I,ne.startTime-_e),le=!1}}break e}finally{p=null,m=ce,y=!1}le=void 0}}finally{le?Z():M=!1}}}var Z;if(typeof E=="function")Z=function(){E(q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=q,Z=function(){te.postMessage(null)}}else Z=function(){S(q,0)};function oe(){M||(M=!0,Z())}function ge(_e,le){D=S(function(){_e(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,oe())},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_e){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var ce=m;m=le;try{return _e()}finally{m=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,le){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ce=m;m=_e;try{return le()}finally{m=ce}},t.unstable_scheduleCallback=function(_e,le,ce){var Le=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Le+ce:Le):ce=Le,_e){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ce+k,_e={id:h++,callback:le,priorityLevel:_e,startTime:ce,expirationTime:k,sortIndex:-1},ce>Le?(_e.sortIndex=ce,e(f,_e),n(l)===null&&_e===n(f)&&(b?(x(D),D=-1):b=!0,ge(I,ce-Le))):(_e.sortIndex=k,e(l,_e),_||y||(_=!0,oe())),_e},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(_e){var le=m;return function(){var ce=m;m=le;try{return _e.apply(this,arguments)}finally{m=ce}}}}(o1)),o1}var tI;function U7(){return tI||(tI=1,s1.exports=$7()),s1.exports}var u1={exports:{}},ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function B7(){if(nI)return ki;nI=1;var t=Md();function e(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,f){if(l==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ki.createPortal=function(l,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(l,f,null,h)},ki.flushSync=function(l){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=f,r.p=h,r.d.f()}},ki.preconnect=function(l,f){typeof l=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(l,f))},ki.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ki.preinit=function(l,f){if(typeof l=="string"&&f&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(l,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&r.d.X(l,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ki.preinitModule=function(l,f){if(typeof l=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(l)},ki.preload=function(l,f){if(typeof l=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin);r.d.L(l,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ki.preloadModule=function(l,f){if(typeof l=="string")if(f){var h=o(f.as,f.crossOrigin);r.d.m(l,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(l)},ki.requestFormReset=function(l){r.d.r(l)},ki.unstable_batchedUpdates=function(l,f){return l(f)},ki.useFormState=function(l,f,h){return s.H.useFormState(l,f,h)},ki.useFormStatus=function(){return s.H.useHostTransitionStatus()},ki.version="19.0.0",ki}var rI;function yA(){if(rI)return u1.exports;rI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),u1.exports=B7(),u1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function q7(){if(iI)return Wh;iI=1;var t=U7(),e=Md(),n=yA();function r(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}var j=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===j?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case o:return"Portal";case h:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case _:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case x:return c=u.displayName||null,c!==null?c:Q(u.type)||"Memo";case E:c=u._payload,u=u._init;try{return Q(u(c))}catch{}}return null}var Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,Z,fe;function te(u){if(Z===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);Z=c&&c[1]||"",fe=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+u+fe}var oe=!1;function ge(u,c){if(!u||oe)return"";oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(c){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(vt){var pt=vt}Reflect.construct(u,[],Ct)}else{try{Ct.call()}catch(vt){pt=vt}u.call(Ct.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(Ct=u())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=w.DetermineComponentFrameRoot(),ue=F[0],Ce=F[1];if(ue&&Ce){var Ve=ue.split(`
`),at=Ce.split(`
`);for(O=w=0;w<Ve.length&&!Ve[w].includes("DetermineComponentFrameRoot");)w++;for(;O<at.length&&!at[O].includes("DetermineComponentFrameRoot");)O++;if(w===Ve.length||O===at.length)for(w=Ve.length-1,O=at.length-1;1<=w&&0<=O&&Ve[w]!==at[O];)O--;for(;1<=w&&0<=O;w--,O--)if(Ve[w]!==at[O]){if(w!==1||O!==1)do if(w--,O--,0>O||Ve[w]!==at[O]){var _t=`
`+Ve[w].replace(" at new "," at ");return u.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",u.displayName)),_t}while(1<=w&&0<=O);break}}}finally{oe=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?te(g):""}function _e(u){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return u=ge(u.type,!1),u;case 11:return u=ge(u.type.render,!1),u;case 1:return u=ge(u.type,!0),u;default:return""}}function le(u){try{var c="";do c+=_e(u),u=u.return;while(u);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ce(u){var c=u,g=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,c.flags&4098&&(g=c.return),u=c.return;while(u)}return c.tag===3?g:null}function Le(u){if(u.tag===13){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function k(u){if(ce(u)!==u)throw Error(r(188))}function ne(u){var c=u.alternate;if(!c){if(c=ce(u),c===null)throw Error(r(188));return c!==u?null:u}for(var g=u,w=c;;){var O=g.return;if(O===null)break;var F=O.alternate;if(F===null){if(w=O.return,w!==null){g=w;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===g)return k(O),u;if(F===w)return k(O),c;F=F.sibling}throw Error(r(188))}if(g.return!==w.return)g=O,w=F;else{for(var ue=!1,Ce=O.child;Ce;){if(Ce===g){ue=!0,g=O,w=F;break}if(Ce===w){ue=!0,w=O,g=F;break}Ce=Ce.sibling}if(!ue){for(Ce=F.child;Ce;){if(Ce===g){ue=!0,g=F,w=O;break}if(Ce===w){ue=!0,w=F,g=O;break}Ce=Ce.sibling}if(!ue)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:c}function me(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u;for(u=u.child;u!==null;){if(c=me(u),c!==null)return c;u=u.sibling}return null}var H=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ae=[],Je=-1;function Re(u){return{current:u}}function Fe(u){0>Je||(u.current=Ae[Je],Ae[Je]=null,Je--)}function Xe(u,c){Je++,Ae[Je]=u.current,u.current=c}var ie=Re(null),z=Re(null),$=Re(null),re=Re(null);function W(u,c){switch(Xe($,c),Xe(z,u),Xe(ie,null),u=c.nodeType,u){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?gL(c):0;break;default:if(u=u===8?c.parentNode:c,c=u.tagName,u=u.namespaceURI)u=gL(u),c=mL(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Fe(ie),Xe(ie,c)}function he(){Fe(ie),Fe(z),Fe($)}function ye(u){u.memoizedState!==null&&Xe(re,u);var c=ie.current,g=mL(c,u.type);c!==g&&(Xe(z,u),Xe(ie,g))}function He(u){z.current===u&&(Fe(ie),Fe(z)),re.current===u&&(Fe(re),qh._currentValue=pe)}var Te=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,nt=t.unstable_shouldYield,gt=t.unstable_requestPaint,Ut=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,B=t.unstable_NormalPriority,K=t.unstable_LowPriority,V=t.unstable_IdlePriority,je=t.log,Ze=t.unstable_setDisableYieldValue,ke=null,At=null;function Ot(u){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Dt(u){if(typeof je=="function"&&Ze(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ke,u)}catch{}}var Rt=Math.clz32?Math.clz32:fn,Bt=Math.log,Er=Math.LN2;function fn(u){return u>>>=0,u===0?32:31-(Bt(u)/Er|0)|0}var dn=128,dr=4194304;function on(u){var c=u&42;if(c!==0)return c;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function un(u,c){var g=u.pendingLanes;if(g===0)return 0;var w=0,O=u.suspendedLanes,F=u.pingedLanes,ue=u.warmLanes;u=u.finishedLanes!==0;var Ce=g&134217727;return Ce!==0?(g=Ce&~O,g!==0?w=on(g):(F&=Ce,F!==0?w=on(F):u||(ue=Ce&~ue,ue!==0&&(w=on(ue))))):(Ce=g&~O,Ce!==0?w=on(Ce):F!==0?w=on(F):u||(ue=g&~ue,ue!==0&&(w=on(ue)))),w===0?0:c!==0&&c!==w&&!(c&O)&&(O=w&-w,ue=c&-c,O>=ue||O===32&&(ue&4194176)!==0)?c:w}function Ln(u,c){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&c)===0}function sr(u,c){switch(u){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oe(){var u=dn;return dn<<=1,!(dn&4194176)&&(dn=128),u}function qe(){var u=dr;return dr<<=1,!(dr&62914560)&&(dr=4194304),u}function wt(u){for(var c=[],g=0;31>g;g++)c.push(u);return c}function xt(u,c){u.pendingLanes|=c,c!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Lt(u,c,g,w,O,F){var ue=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Ce=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(g=ue&~g;0<g;){var _t=31-Rt(g),Ct=1<<_t;Ce[_t]=0,Ve[_t]=-1;var pt=at[_t];if(pt!==null)for(at[_t]=null,_t=0;_t<pt.length;_t++){var vt=pt[_t];vt!==null&&(vt.lane&=-536870913)}g&=~Ct}w!==0&&qn(u,w,0),F!==0&&O===0&&u.tag!==0&&(u.suspendedLanes|=F&~(ue&~c))}function qn(u,c,g){u.pendingLanes|=c,u.suspendedLanes&=~c;var w=31-Rt(c);u.entangledLanes|=c,u.entanglements[w]=u.entanglements[w]|1073741824|g&4194218}function Jn(u,c){var g=u.entangledLanes|=c;for(u=u.entanglements;g;){var w=31-Rt(g),O=1<<w;O&c|u[w]&c&&(u[w]|=c),g&=~O}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ee(){var u=J.p;return u!==0?u:(u=window.event,u===void 0?32:DL(u.type))}function et(u,c){var g=J.p;try{return J.p=u,c()}finally{J.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Et="__reactProps$"+ft,It="__reactContainer$"+ft,Vt="__reactEvents$"+ft,Yt="__reactListeners$"+ft,qt="__reactHandles$"+ft,Nt="__reactResources$"+ft,en="__reactMarker$"+ft;function Rn(u){delete u[it],delete u[Et],delete u[Vt],delete u[Yt],delete u[qt]}function Kt(u){var c=u[it];if(c)return c;for(var g=u.parentNode;g;){if(c=g[It]||g[it]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(u=_L(u);u!==null;){if(g=u[it])return g;u=_L(u)}return c}u=g,g=u.parentNode}return null}function Qt(u){if(u=u[it]||u[It]){var c=u.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return u}return null}function xn(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u.stateNode;throw Error(r(33))}function En(u){var c=u[Nt];return c||(c=u[Nt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Un(u){u[en]=!0}var Tr=new Set,Ur={};function Br(u,c){Rr(u,c),Rr(u+"Capture",c)}function Rr(u,c){for(Ur[u]=c,u=0;u<c.length;u++)Tr.add(c[u])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bi={},C={};function T(u){return Te.call(C,u)?!0:Te.call(Bi,u)?!1:Wr.test(u)?C[u]=!0:(Bi[u]=!0,!1)}function R(u,c,g){if(T(c))if(g===null)u.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(c);return;case"boolean":var w=c.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){u.removeAttribute(c);return}}u.setAttribute(c,""+g)}}function N(u,c,g){if(g===null)u.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(c);return}u.setAttribute(c,""+g)}}function G(u,c,g,w){if(w===null)u.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(c,g,""+w)}}function se(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var c=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ie(u){var c=we(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,c),w=""+u[c];if(!u.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,F=g.set;return Object.defineProperty(u,c,{configurable:!0,get:function(){return O.call(this)},set:function(ue){w=""+ue,F.call(this,ue)}}),Object.defineProperty(u,c,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(ue){w=""+ue},stopTracking:function(){u._valueTracker=null,delete u[c]}}}}function xe(u){u._valueTracker||(u._valueTracker=Ie(u))}function Pe(u){if(!u)return!1;var c=u._valueTracker;if(!c)return!0;var g=c.getValue(),w="";return u&&(w=we(u)?u.checked?"true":"false":u.value),u=w,u!==g?(c.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ye(u,c,g,w,O,F,ue,Ce){u.name="",ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?u.type=ue:u.removeAttribute("type"),c!=null?ue==="number"?(c===0&&u.value===""||u.value!=c)&&(u.value=""+se(c)):u.value!==""+se(c)&&(u.value=""+se(c)):ue!=="submit"&&ue!=="reset"||u.removeAttribute("value"),c!=null?dt(u,ue,se(c)):g!=null?dt(u,ue,se(g)):w!=null&&u.removeAttribute("value"),O==null&&F!=null&&(u.defaultChecked=!!F),O!=null&&(u.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?u.name=""+se(Ce):u.removeAttribute("name")}function st(u,c,g,w,O,F,ue,Ce){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(u.type=F),c!=null||g!=null){if(!(F!=="submit"&&F!=="reset"||c!=null))return;g=g!=null?""+se(g):"",c=c!=null?""+se(c):g,Ce||c===u.value||(u.value=c),u.defaultValue=c}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,u.checked=Ce?u.checked:!!w,u.defaultChecked=!!w,ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"&&(u.name=ue)}function dt(u,c,g){c==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,c,g,w){if(u=u.options,c){c={};for(var O=0;O<g.length;O++)c["$"+g[O]]=!0;for(g=0;g<u.length;g++)O=c.hasOwnProperty("$"+u[g].value),u[g].selected!==O&&(u[g].selected=O),O&&w&&(u[g].defaultSelected=!0)}else{for(g=""+se(g),c=null,O=0;O<u.length;O++){if(u[O].value===g){u[O].selected=!0,w&&(u[O].defaultSelected=!0);return}c!==null||u[O].disabled||(c=u[O])}c!==null&&(c.selected=!0)}}function be(u,c,g){if(c!=null&&(c=""+se(c),c!==u.value&&(u.value=c),g==null)){u.defaultValue!==c&&(u.defaultValue=c);return}u.defaultValue=g!=null?""+se(g):""}function De(u,c,g,w){if(c==null){if(w!=null){if(g!=null)throw Error(r(92));if(H(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=""),c=g}g=se(c),u.defaultValue=g,w=u.textContent,w===g&&w!==""&&w!==null&&(u.value=w)}function Ue(u,c){if(c){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=c;return}}u.textContent=c}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,c,g){var w=c.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?u.setProperty(c,""):c==="float"?u.cssFloat="":u[c]="":w?u.setProperty(c,g):typeof g!="number"||g===0||Ke.has(c)?c==="float"?u.cssFloat=g:u[c]=(""+g).trim():u[c]=g+"px"}function mt(u,c,g){if(c!=null&&typeof c!="object")throw Error(r(62));if(u=u.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||c!=null&&c.hasOwnProperty(w)||(w.indexOf("--")===0?u.setProperty(w,""):w==="float"?u.cssFloat="":u[w]="");for(var O in c)w=c[O],c.hasOwnProperty(O)&&g[O]!==w&&lt(u,O,w)}else for(var F in c)c.hasOwnProperty(F)&&lt(u,F,c[F])}function Ft(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(u){return pn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var zt=null;function Bn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Mn=null,Fn=null;function Wt(u){var c=Qt(u);if(c&&(u=c.stateNode)){var g=u[Et]||null;e:switch(u=c.stateNode,c.type){case"input":if(Ye(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),c=g.name,g.type==="radio"&&c!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ze(""+c)+'"][type="radio"]'),c=0;c<g.length;c++){var w=g[c];if(w!==u&&w.form===u.form){var O=w[Et]||null;if(!O)throw Error(r(90));Ye(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(c=0;c<g.length;c++)w=g[c],w.form===u.form&&Pe(w)}break e;case"textarea":be(u,g.value,g.defaultValue);break e;case"select":c=g.value,c!=null&&ut(u,!!g.multiple,c,!1)}}}var Kn=!1;function hn(u,c,g){if(Kn)return u(c,g);Kn=!0;try{var w=u(c);return w}finally{if(Kn=!1,(Mn!==null||Fn!==null)&&(by(),Mn&&(c=Mn,u=Fn,Fn=Mn=null,Wt(c),u)))for(c=0;c<u.length;c++)Wt(u[c])}}function Yn(u,c){var g=u.stateNode;if(g===null)return null;var w=g[Et]||null;if(w===null)return null;g=w[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,c,typeof g));return g}var hr=!1;if(Nn)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){hr=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{hr=!1}var or=null,vi=null,qi=null;function la(){if(qi)return qi;var u,c=vi,g=c.length,w,O="value"in or?or.value:or.textContent,F=O.length;for(u=0;u<g&&c[u]===O[u];u++);var ue=g-u;for(w=1;w<=ue&&c[g-w]===O[F-w];w++);return qi=O.slice(u,1<w?1-w:void 0)}function nr(u){var c=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&c===13&&(u=13)):u=c,u===10&&(u=13),32<=u||u===13?u:0}function Ii(){return!0}function ps(){return!1}function rr(u){function c(g,w,O,F,ue){this._reactName=g,this._targetInst=O,this.type=w,this.nativeEvent=F,this.target=ue,this.currentTarget=null;for(var Ce in u)u.hasOwnProperty(Ce)&&(g=u[Ce],this[Ce]=g?g(F):F[Ce]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ii:ps,this.isPropagationStopped=ps,this}return q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),c}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=rr(Ir),zi=q({},Ir,{view:0,detail:0}),wu=rr(zi),Ga,yn,Ta,ur=q({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ta&&(Ta&&u.type==="mousemove"?(Ga=u.screenX-Ta.screenX,yn=u.screenY-Ta.screenY):yn=Ga=0,Ta=u),Ga)},movementY:function(u){return"movementY"in u?u.movementY:yn}}),Mi=rr(ur),ca=q({},ur,{dataTransfer:0}),lr=rr(ca),Hi=q({},zi,{relatedTarget:0}),Wa=rr(Hi),Cr=q({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=rr(Cr),gs=q({},Ir,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ca=rr(gs),ih=q({},Ir,{data:0}),Vi=rr(ih),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(u){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(u):(u=qs[u])?!!c[u]:!1}function nf(){return Mm}var ah=q({},zi,{key:function(u){if(u.key){var c=tf[u.key]||u.key;if(c!=="Unidentified")return c}return u.type==="keypress"?(u=nr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Im[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(u){return u.type==="keypress"?nr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?nr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),pw=rr(ah),Dm=q({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=rr(Dm),gw=q({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),mw=rr(gw),oh=q({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),yw=rr(oh),km=q({},ur,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=rr(km),rf=q({},Ir,{newState:0,oldState:0}),yo=rr(rf),vw=[9,13,27,32],vo=Nn&&"CompositionEvent"in window,ci=null;Nn&&"documentMode"in document&&(ci=document.documentMode);var Fm=Nn&&"TextEvent"in window&&!ci,uh=Nn&&(!vo||ci&&8<ci&&11>=ci),jm=" ",af=!1;function sf(u,c){switch(u){case"keyup":return vw.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var bu=!1;function Um(u,c){switch(u){case"compositionend":return $m(c);case"keypress":return c.which!==32?null:(af=!0,jm);case"textInput":return u=c.data,u===jm&&af?null:u;default:return null}}function _w(u,c){if(bu)return u==="compositionend"||!vo&&sf(u,c)?(u=la(),qi=vi=or=null,bu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return uh&&c.locale!=="ko"?null:c.data;default:return null}}var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c==="input"?!!Aa[u.type]:c==="textarea"}function Bm(u,c,g,w){Mn?Fn?Fn.push(w):Fn=[w]:Mn=w,c=Cy(c,"onChange"),0<c.length&&(g=new Ka("onChange","change",null,g,w),u.push({event:g,listeners:c}))}var Ki=null,Pl=null;function Su(u){cL(u,0)}function of(u){var c=xn(u);if(Pe(c))return u}function xu(u,c){if(u==="change")return c}var lh=!1;if(Nn){var Eu;if(Nn){var ch="oninput"in document;if(!ch){var ms=document.createElement("div");ms.setAttribute("oninput","return;"),ch=typeof ms.oninput=="function"}Eu=ch}else Eu=!1;lh=Eu&&(!document.documentMode||9<document.documentMode)}function Ol(){Ki&&(Ki.detachEvent("onpropertychange",qm),Pl=Ki=null)}function qm(u){if(u.propertyName==="value"&&of(Pl)){var c=[];Bm(c,Pl,u,Bn(u)),hn(Su,c)}}function fh(u,c,g){u==="focusin"?(Ol(),Ki=c,Pl=g,Ki.attachEvent("onpropertychange",qm)):u==="focusout"&&Ol()}function ww(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return of(Pl)}function ys(u,c){if(u==="click")return of(c)}function bw(u,c){if(u==="input"||u==="change")return of(c)}function Tu(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var Gi=typeof Object.is=="function"?Object.is:Tu;function Wi(u,c){if(Gi(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var g=Object.keys(u),w=Object.keys(c);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var O=g[w];if(!Te.call(c,O)||!Gi(u[O],c[O]))return!1}return!0}function Ll(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function dh(u,c){var g=Ll(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=c&&w>=c)return{node:g,offset:c-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Ll(g)}}function uf(u,c){return u&&c?u===c?!0:u&&u.nodeType===3?!1:c&&c.nodeType===3?uf(u,c.parentNode):"contains"in u?u.contains(c):u.compareDocumentPosition?!!(u.compareDocumentPosition(c)&16):!1:!1}function Il(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var c=Me(u.document);c instanceof u.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)u=c.contentWindow;else break;c=Me(u.document)}return c}function Ml(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c&&(c==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||c==="textarea"||u.contentEditable==="true")}function lf(u,c){var g=Il(c);c=u.focusedElem;var w=u.selectionRange;if(g!==c&&c&&c.ownerDocument&&uf(c.ownerDocument.documentElement,c)){if(w!==null&&Ml(c)){if(u=w.start,g=w.end,g===void 0&&(g=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(g,c.value.length);else if(g=(u=c.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var O=c.textContent.length,F=Math.min(w.start,O);w=w.end===void 0?F:Math.min(w.end,O),!g.extend&&F>w&&(O=w,w=F,F=O),O=dh(c,F);var ue=dh(c,w);O&&ue&&(g.rangeCount!==1||g.anchorNode!==O.node||g.anchorOffset!==O.offset||g.focusNode!==ue.node||g.focusOffset!==ue.offset)&&(u=u.createRange(),u.setStart(O.node,O.offset),g.removeAllRanges(),F>w?(g.addRange(u),g.extend(ue.node,ue.offset)):(u.setEnd(ue.node,ue.offset),g.addRange(u)))}}for(u=[],g=c;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<u.length;c++)g=u[c],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Cu=Nn&&"documentMode"in document&&11>=document.documentMode,vs=null,Dl=null,Au=null,hh=!1;function kl(u,c,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;hh||vs==null||vs!==Me(w)||(w=vs,"selectionStart"in w&&Ml(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Au&&Wi(Au,w)||(Au=w,w=Cy(Dl,"onSelect"),0<w.length&&(c=new Ka("onSelect","select",null,c,g),u.push({event:c,listeners:w}),c.target=vs)))}function wo(u,c){var g={};return g[u.toLowerCase()]=c.toLowerCase(),g["Webkit"+u]="webkit"+c,g["Moz"+u]="moz"+c,g}var bo={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},ph={},gh={};Nn&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function So(u){if(ph[u])return ph[u];if(!bo[u])return u;var c=bo[u],g;for(g in c)if(c.hasOwnProperty(g)&&g in gh)return ph[u]=c[g];return u}var Ra=So("animationend"),Nl=So("animationiteration"),zm=So("animationstart"),cf=So("transitionrun"),Sw=So("transitionstart"),Hm=So("transitioncancel"),Vm=So("transitionend"),Ru=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fi(u,c){Ru.set(u,c),Br(c,[u])}var Qi=[],xo=0,mh=0;function fa(){for(var u=xo,c=mh=xo=0;c<u;){var g=Qi[c];Qi[c++]=null;var w=Qi[c];Qi[c++]=null;var O=Qi[c];Qi[c++]=null;var F=Qi[c];if(Qi[c++]=null,w!==null&&O!==null){var ue=w.pending;ue===null?O.next=O:(O.next=ue.next,ue.next=O),w.pending=O}F!==0&&Gm(g,O,F)}}function Fl(u,c,g,w){Qi[xo++]=u,Qi[xo++]=c,Qi[xo++]=g,Qi[xo++]=w,mh|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function ff(u,c,g,w){return Fl(u,c,g,w),Eo(u)}function da(u,c){return Fl(u,null,null,c),Eo(u)}function Gm(u,c,g){u.lanes|=g;var w=u.alternate;w!==null&&(w.lanes|=g);for(var O=!1,F=u.return;F!==null;)F.childLanes|=g,w=F.alternate,w!==null&&(w.childLanes|=g),F.tag===22&&(u=F.stateNode,u===null||u._visibility&1||(O=!0)),u=F,F=F.return;O&&c!==null&&u.tag===3&&(F=u.stateNode,O=31-Rt(g),F=F.hiddenUpdates,u=F[O],u===null?F[O]=[c]:u.push(c),c.lane=g|536870912)}function Eo(u){if(50<kh)throw kh=0,Eb=null,Error(r(185));for(var c=u.return;c!==null;)u=c,c=u.return;return u.tag===3?u.stateNode:null}var Qa={},yh=new WeakMap;function Zi(u,c){if(typeof u=="object"&&u!==null){var g=yh.get(u);return g!==void 0?g:(c={value:u,source:c,stack:le(c)},yh.set(u,c),c)}return{value:u,source:c,stack:le(c)}}var Pu=[],To=0,jl=null,$l=0,Ji=[],Yi=0,Co=null,Za=1,Ja="";function Ao(u,c){Pu[To++]=$l,Pu[To++]=jl,jl=u,$l=c}function d(u,c,g){Ji[Yi++]=Za,Ji[Yi++]=Ja,Ji[Yi++]=Co,Co=u;var w=Za;u=Ja;var O=32-Rt(w)-1;w&=~(1<<O),g+=1;var F=32-Rt(c)+O;if(30<F){var ue=O-O%5;F=(w&(1<<ue)-1).toString(32),w>>=ue,O-=ue,Za=1<<32-Rt(c)+O|g<<O|w,Ja=F+u}else Za=1<<F|g<<O|w,Ja=u}function v(u){u.return!==null&&(Ao(u,1),d(u,1,0))}function P(u){for(;u===jl;)jl=Pu[--To],Pu[To]=null,$l=Pu[--To],Pu[To]=null;for(;u===Co;)Co=Ji[--Yi],Ji[Yi]=null,Ja=Ji[--Yi],Ji[Yi]=null,Za=Ji[--Yi],Ji[Yi]=null}var U=null,ee=null,ve=!1,Ge=null,ot=!1,yt=Error(r(519));function bt(u){var c=Error(r(418,""));throw Ar(Zi(c,u)),yt}function jt(u){var c=u.stateNode,g=u.type,w=u.memoizedProps;switch(c[it]=u,c[Et]=w,g){case"dialog":Dn("cancel",c),Dn("close",c);break;case"iframe":case"object":case"embed":Dn("load",c);break;case"video":case"audio":for(g=0;g<Fh.length;g++)Dn(Fh[g],c);break;case"source":Dn("error",c);break;case"img":case"image":case"link":Dn("error",c),Dn("load",c);break;case"details":Dn("toggle",c);break;case"input":Dn("invalid",c),st(c,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),xe(c);break;case"select":Dn("invalid",c);break;case"textarea":Dn("invalid",c),De(c,w.value,w.defaultValue,w.children),xe(c)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||c.textContent===""+g||w.suppressHydrationWarning===!0||pL(c.textContent,g)?(w.popover!=null&&(Dn("beforetoggle",c),Dn("toggle",c)),w.onScroll!=null&&Dn("scroll",c),w.onScrollEnd!=null&&Dn("scrollend",c),w.onClick!=null&&(c.onclick=Ay),c=!0):c=!1,c||bt(u)}function nn(u){for(U=u.return;U;)switch(U.tag){case 3:case 27:ot=!0;return;case 5:case 13:ot=!1;return;default:U=U.return}}function gn(u){if(u!==U)return!1;if(!ve)return nn(u),ve=!0,!1;var c=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||Bb(u.type,u.memoizedProps)),g=!g),g&&(c=!0),c&&ee&&bt(u),nn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,c=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(c===0){ee=ws(u.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++;u=u.nextSibling}ee=null}}else ee=U?ws(u.stateNode.nextSibling):null;return!0}function qr(){ee=U=null,ve=!1}function Ar(u){Ge===null?Ge=[u]:Ge.push(u)}var di=Error(r(460)),_i=Error(r(474)),zs={then:function(){}};function Wm(u){return u=u.status,u==="fulfilled"||u==="rejected"}function df(){}function Qm(u,c,g){switch(g=u[g],g===void 0?u.push(c):g!==c&&(c.then(df,df),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,u===di?Error(r(483)):u;default:if(typeof c.status=="string")c.then(df,df);else{if(u=_r,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=c,u.status="pending",u.then(function(w){if(c.status==="pending"){var O=c;O.status="fulfilled",O.value=w}},function(w){if(c.status==="pending"){var O=c;O.status="rejected",O.reason=w}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,u===di?Error(r(483)):u}throw Ou=c,di}}var Ou=null;function Zm(){if(Ou===null)throw Error(r(459));var u=Ou;return Ou=null,u}var Ro=null,vr=0;function Po(u){var c=vr;return vr+=1,Ro===null&&(Ro=[]),Qm(Ro,u,c)}function Ul(u,c){c=c.props.ref,u.ref=c!==void 0?c:null}function hf(u,c){throw c.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(c),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u)))}function Jm(u){var c=u._init;return c(u._payload)}function pf(u){function c(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)c(ct,rt),rt=rt.sibling;return null}function w(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function O(ct,rt){return ct=qu(ct,rt),ct.index=0,ct.sibling=null,ct}function F(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function ue(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Ce(ct,rt,ht,St){return rt===null||rt.tag!==6?(rt=mb(ht,ct.mode,St),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,St){var Ht=ht.type;return Ht===l?_t(ct,rt,ht.props.children,St,ht.key):rt!==null&&(rt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===E&&Jm(Ht)===rt.type)?(rt=O(rt,ht.props),Ul(rt,ht),rt.return=ct,rt):(rt=my(ht.type,ht.key,ht.props,null,ct.mode,St),Ul(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,St){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=yb(ht,ct.mode,St),rt.return=ct,rt):(rt=O(rt,ht.children||[]),rt.return=ct,rt)}function _t(ct,rt,ht,St,Ht){return rt===null||rt.tag!==7?(rt=Ql(ht,ct.mode,St,Ht),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ct(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=mb(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case s:return ht=my(rt.type,rt.key,rt.props,null,ct.mode,ht),Ul(ht,rt),ht.return=ct,ht;case o:return rt=yb(rt,ct.mode,ht),rt.return=ct,rt;case E:var St=rt._init;return rt=St(rt._payload),Ct(ct,rt,ht)}if(H(rt)||D(rt))return rt=Ql(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return Ct(ct,Po(rt),ht);if(rt.$$typeof===y)return Ct(ct,hy(ct,rt),ht);hf(ct,rt)}return null}function pt(ct,rt,ht,St){var Ht=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ht!==null?null:Ce(ct,rt,""+ht,St);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case s:return ht.key===Ht?Ve(ct,rt,ht,St):null;case o:return ht.key===Ht?at(ct,rt,ht,St):null;case E:return Ht=ht._init,ht=Ht(ht._payload),pt(ct,rt,ht,St)}if(H(ht)||D(ht))return Ht!==null?null:_t(ct,rt,ht,St,null);if(typeof ht.then=="function")return pt(ct,rt,Po(ht),St);if(ht.$$typeof===y)return pt(ct,rt,hy(ct,ht),St);hf(ct,ht)}return null}function vt(ct,rt,ht,St,Ht){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ct=ct.get(ht)||null,Ce(rt,ct,""+St,Ht);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case s:return ct=ct.get(St.key===null?ht:St.key)||null,Ve(rt,ct,St,Ht);case o:return ct=ct.get(St.key===null?ht:St.key)||null,at(rt,ct,St,Ht);case E:var Pn=St._init;return St=Pn(St._payload),vt(ct,rt,ht,St,Ht)}if(H(St)||D(St))return ct=ct.get(ht)||null,_t(rt,ct,St,Ht,null);if(typeof St.then=="function")return vt(ct,rt,ht,Po(St),Ht);if(St.$$typeof===y)return vt(ct,rt,ht,hy(rt,St),Ht);hf(rt,St)}return null}function Zt(ct,rt,ht,St){for(var Ht=null,Pn=null,Xt=rt,an=rt=0,gi=null;Xt!==null&&an<ht.length;an++){Xt.index>an?(gi=Xt,Xt=null):gi=Xt.sibling;var zn=pt(ct,Xt,ht[an],St);if(zn===null){Xt===null&&(Xt=gi);break}u&&Xt&&zn.alternate===null&&c(ct,Xt),rt=F(zn,rt,an),Pn===null?Ht=zn:Pn.sibling=zn,Pn=zn,Xt=gi}if(an===ht.length)return g(ct,Xt),ve&&Ao(ct,an),Ht;if(Xt===null){for(;an<ht.length;an++)Xt=Ct(ct,ht[an],St),Xt!==null&&(rt=F(Xt,rt,an),Pn===null?Ht=Xt:Pn.sibling=Xt,Pn=Xt);return ve&&Ao(ct,an),Ht}for(Xt=w(Xt);an<ht.length;an++)gi=vt(Xt,ct,an,ht[an],St),gi!==null&&(u&&gi.alternate!==null&&Xt.delete(gi.key===null?an:gi.key),rt=F(gi,rt,an),Pn===null?Ht=gi:Pn.sibling=gi,Pn=gi);return u&&Xt.forEach(function(Qu){return c(ct,Qu)}),ve&&Ao(ct,an),Ht}function mn(ct,rt,ht,St){if(ht==null)throw Error(r(151));for(var Ht=null,Pn=null,Xt=rt,an=rt=0,gi=null,zn=ht.next();Xt!==null&&!zn.done;an++,zn=ht.next()){Xt.index>an?(gi=Xt,Xt=null):gi=Xt.sibling;var Qu=pt(ct,Xt,zn.value,St);if(Qu===null){Xt===null&&(Xt=gi);break}u&&Xt&&Qu.alternate===null&&c(ct,Xt),rt=F(Qu,rt,an),Pn===null?Ht=Qu:Pn.sibling=Qu,Pn=Qu,Xt=gi}if(zn.done)return g(ct,Xt),ve&&Ao(ct,an),Ht;if(Xt===null){for(;!zn.done;an++,zn=ht.next())zn=Ct(ct,zn.value,St),zn!==null&&(rt=F(zn,rt,an),Pn===null?Ht=zn:Pn.sibling=zn,Pn=zn);return ve&&Ao(ct,an),Ht}for(Xt=w(Xt);!zn.done;an++,zn=ht.next())zn=vt(Xt,ct,an,zn.value,St),zn!==null&&(u&&zn.alternate!==null&&Xt.delete(zn.key===null?an:zn.key),rt=F(zn,rt,an),Pn===null?Ht=zn:Pn.sibling=zn,Pn=zn);return u&&Xt.forEach(function(u7){return c(ct,u7)}),ve&&Ao(ct,an),Ht}function kr(ct,rt,ht,St){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case s:e:{for(var Ht=ht.key;rt!==null;){if(rt.key===Ht){if(Ht=ht.type,Ht===l){if(rt.tag===7){g(ct,rt.sibling),St=O(rt,ht.props.children),St.return=ct,ct=St;break e}}else if(rt.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===E&&Jm(Ht)===rt.type){g(ct,rt.sibling),St=O(rt,ht.props),Ul(St,ht),St.return=ct,ct=St;break e}g(ct,rt);break}else c(ct,rt);rt=rt.sibling}ht.type===l?(St=Ql(ht.props.children,ct.mode,St,ht.key),St.return=ct,ct=St):(St=my(ht.type,ht.key,ht.props,null,ct.mode,St),Ul(St,ht),St.return=ct,ct=St)}return ue(ct);case o:e:{for(Ht=ht.key;rt!==null;){if(rt.key===Ht)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),St=O(rt,ht.children||[]),St.return=ct,ct=St;break e}else{g(ct,rt);break}else c(ct,rt);rt=rt.sibling}St=yb(ht,ct.mode,St),St.return=ct,ct=St}return ue(ct);case E:return Ht=ht._init,ht=Ht(ht._payload),kr(ct,rt,ht,St)}if(H(ht))return Zt(ct,rt,ht,St);if(D(ht)){if(Ht=D(ht),typeof Ht!="function")throw Error(r(150));return ht=Ht.call(ht),mn(ct,rt,ht,St)}if(typeof ht.then=="function")return kr(ct,rt,Po(ht),St);if(ht.$$typeof===y)return kr(ct,rt,hy(ct,ht),St);hf(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),St=O(rt,ht),St.return=ct,ct=St):(g(ct,rt),St=mb(ht,ct.mode,St),St.return=ct,ct=St),ue(ct)):g(ct,rt)}return function(ct,rt,ht,St){try{vr=0;var Ht=kr(ct,rt,ht,St);return Ro=null,Ht}catch(Xt){if(Xt===di)throw Xt;var Pn=ts(29,Xt,null,ct.mode);return Pn.lanes=St,Pn.return=ct,Pn}finally{}}}var Hs=pf(!0),Ym=pf(!1),gf=Re(null),Xm=Re(0);function pP(u,c){u=Uo,Xe(Xm,u),Xe(gf,c),Uo=u|c.baseLanes}function xw(){Xe(Xm,Uo),Xe(gf,gf.current)}function Ew(){Uo=Xm.current,Fe(gf),Fe(Xm)}var Ya=Re(null),Vs=null;function Lu(u){var c=u.alternate;Xe(ai,ai.current&1),Xe(Ya,u),Vs===null&&(c===null||gf.current!==null||c.memoizedState!==null)&&(Vs=u)}function gP(u){if(u.tag===22){if(Xe(ai,ai.current),Xe(Ya,u),Vs===null){var c=u.alternate;c!==null&&c.memoizedState!==null&&(Vs=u)}}else Iu()}function Iu(){Xe(ai,ai.current),Xe(Ya,Ya.current)}function Oo(u){Fe(Ya),Vs===u&&(Vs=null),Fe(ai)}var ai=Re(0);function ey(u){for(var c=u;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qz=typeof AbortController<"u"?AbortController:function(){var u=[],c=this.signal={aborted:!1,addEventListener:function(g,w){u.push(w)}};this.abort=function(){c.aborted=!0,u.forEach(function(g){return g()})}},Zz=t.unstable_scheduleCallback,Jz=t.unstable_NormalPriority,si={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tw(){return{controller:new Qz,data:new Map,refCount:0}}function vh(u){u.refCount--,u.refCount===0&&Zz(Jz,function(){u.controller.abort()})}var _h=null,Cw=0,mf=0,yf=null;function Yz(u,c){if(_h===null){var g=_h=[];Cw=0,mf=Ib(),yf={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Cw++,c.then(mP,mP),c}function mP(){if(--Cw===0&&_h!==null){yf!==null&&(yf.status="fulfilled");var u=_h;_h=null,mf=0,yf=null;for(var c=0;c<u.length;c++)(0,u[c])()}}function Xz(u,c){var g=[],w={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return u.then(function(){w.status="fulfilled",w.value=c;for(var O=0;O<g.length;O++)(0,g[O])(c)},function(O){for(w.status="rejected",w.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),w}var yP=Y.S;Y.S=function(u,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Yz(u,c),yP!==null&&yP(u,c)};var Bl=Re(null);function Aw(){var u=Bl.current;return u!==null?u:_r.pooledCache}function ty(u,c){c===null?Xe(Bl,Bl.current):Xe(Bl,c.pool)}function vP(){var u=Aw();return u===null?null:{parent:si._currentValue,pool:u}}var Mu=0,Tn=null,cr=null,Qr=null,ny=!1,vf=!1,ql=!1,ry=0,wh=0,_f=null,eH=0;function zr(){throw Error(r(321))}function Rw(u,c){if(c===null)return!1;for(var g=0;g<c.length&&g<u.length;g++)if(!Gi(u[g],c[g]))return!1;return!0}function Pw(u,c,g,w,O,F){return Mu=F,Tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Y.H=u===null||u.memoizedState===null?zl:Du,ql=!1,F=g(w,O),ql=!1,vf&&(F=wP(c,g,w,O)),_P(u),F}function _P(u){Y.H=Ks;var c=cr!==null&&cr.next!==null;if(Mu=0,Qr=cr=Tn=null,ny=!1,wh=0,_f=null,c)throw Error(r(300));u===null||hi||(u=u.dependencies,u!==null&&dy(u)&&(hi=!0))}function wP(u,c,g,w){Tn=u;var O=0;do{if(vf&&(_f=null),wh=0,vf=!1,25<=O)throw Error(r(301));if(O+=1,Qr=cr=null,u.updateQueue!=null){var F=u.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Y.H=Hl,F=c(g,w)}while(vf);return F}function tH(){var u=Y.H,c=u.useState()[0];return c=typeof c.then=="function"?bh(c):c,u=u.useState()[0],(cr!==null?cr.memoizedState:null)!==u&&(Tn.flags|=1024),c}function Ow(){var u=ry!==0;return ry=0,u}function Lw(u,c,g){c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~g}function Iw(u){if(ny){for(u=u.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}ny=!1}Mu=0,Qr=cr=Tn=null,vf=!1,wh=ry=0,_f=null}function ha(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Tn.memoizedState=Qr=u:Qr=Qr.next=u,Qr}function Zr(){if(cr===null){var u=Tn.alternate;u=u!==null?u.memoizedState:null}else u=cr.next;var c=Qr===null?Tn.memoizedState:Qr.next;if(c!==null)Qr=c,cr=u;else{if(u===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));cr=u,u={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Qr===null?Tn.memoizedState=Qr=u:Qr=Qr.next=u}return Qr}var iy;iy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bh(u){var c=wh;return wh+=1,_f===null&&(_f=[]),u=Qm(_f,u,c),c=Tn,(Qr===null?c.memoizedState:Qr.next)===null&&(c=c.alternate,Y.H=c===null||c.memoizedState===null?zl:Du),u}function ay(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return bh(u);if(u.$$typeof===y)return Di(u)}throw Error(r(438,String(u)))}function Mw(u){var c=null,g=Tn.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var w=Tn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(c={data:w.data.map(function(O){return O.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=iy(),Tn.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(u),w=0;w<u;w++)g[w]=I;return c.index++,g}function Lo(u,c){return typeof c=="function"?c(u):c}function sy(u){var c=Zr();return Dw(c,cr,u)}function Dw(u,c,g){var w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=g;var O=u.baseQueue,F=w.pending;if(F!==null){if(O!==null){var ue=O.next;O.next=F.next,F.next=ue}c.baseQueue=O=F,w.pending=null}if(F=u.baseState,O===null)u.memoizedState=F;else{c=O.next;var Ce=ue=null,Ve=null,at=c,_t=!1;do{var Ct=at.lane&-536870913;if(Ct!==at.lane?(jn&Ct)===Ct:(Mu&Ct)===Ct){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),Ct===mf&&(_t=!0);else if((Mu&pt)===pt){at=at.next,pt===mf&&(_t=!0);continue}else Ct={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=Ct,ue=F):Ve=Ve.next=Ct,Tn.lanes|=pt,zu|=pt;Ct=at.action,ql&&g(F,Ct),F=at.hasEagerState?at.eagerState:g(F,Ct)}else pt={lane:Ct,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=pt,ue=F):Ve=Ve.next=pt,Tn.lanes|=Ct,zu|=Ct;at=at.next}while(at!==null&&at!==c);if(Ve===null?ue=F:Ve.next=Ce,!Gi(F,u.memoizedState)&&(hi=!0,_t&&(g=yf,g!==null)))throw g;u.memoizedState=F,u.baseState=ue,u.baseQueue=Ve,w.lastRenderedState=F}return O===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function kw(u){var c=Zr(),g=c.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var w=g.dispatch,O=g.pending,F=c.memoizedState;if(O!==null){g.pending=null;var ue=O=O.next;do F=u(F,ue.action),ue=ue.next;while(ue!==O);Gi(F,c.memoizedState)||(hi=!0),c.memoizedState=F,c.baseQueue===null&&(c.baseState=F),g.lastRenderedState=F}return[F,w]}function bP(u,c,g){var w=Tn,O=Zr(),F=ve;if(F){if(g===void 0)throw Error(r(407));g=g()}else g=c();var ue=!Gi((cr||O).memoizedState,g);if(ue&&(O.memoizedState=g,hi=!0),O=O.queue,jw(EP.bind(null,w,O,u),[u]),O.getSnapshot!==c||ue||Qr!==null&&Qr.memoizedState.tag&1){if(w.flags|=2048,wf(9,xP.bind(null,w,O,g,c),{destroy:void 0},null),_r===null)throw Error(r(349));F||Mu&60||SP(w,c,g)}return g}function SP(u,c,g){u.flags|=16384,u={getSnapshot:c,value:g},c=Tn.updateQueue,c===null?(c=iy(),Tn.updateQueue=c,c.stores=[u]):(g=c.stores,g===null?c.stores=[u]:g.push(u))}function xP(u,c,g,w){c.value=g,c.getSnapshot=w,TP(c)&&CP(u)}function EP(u,c,g){return g(function(){TP(c)&&CP(u)})}function TP(u){var c=u.getSnapshot;u=u.value;try{var g=c();return!Gi(u,g)}catch{return!0}}function CP(u){var c=da(u,2);c!==null&&Xi(c,u,2)}function Nw(u){var c=ha();if(typeof u=="function"){var g=u;if(u=g(),ql){Dt(!0);try{g()}finally{Dt(!1)}}}return c.memoizedState=c.baseState=u,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:u},c}function AP(u,c,g,w){return u.baseState=g,Dw(u,cr,typeof w=="function"?w:Lo)}function nH(u,c,g,w,O){if(ly(u))throw Error(r(485));if(u=c.action,u!==null){var F={payload:O,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){F.listeners.push(ue)}};Y.T!==null?g(!0):F.isTransition=!1,w(F),g=c.pending,g===null?(F.next=c.pending=F,RP(c,F)):(F.next=g.next,c.pending=g.next=F)}}function RP(u,c){var g=c.action,w=c.payload,O=u.state;if(c.isTransition){var F=Y.T,ue={};Y.T=ue;try{var Ce=g(O,w),Ve=Y.S;Ve!==null&&Ve(ue,Ce),PP(u,c,Ce)}catch(at){Fw(u,c,at)}finally{Y.T=F}}else try{F=g(O,w),PP(u,c,F)}catch(at){Fw(u,c,at)}}function PP(u,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){OP(u,c,w)},function(w){return Fw(u,c,w)}):OP(u,c,g)}function OP(u,c,g){c.status="fulfilled",c.value=g,LP(c),u.state=g,c=u.pending,c!==null&&(g=c.next,g===c?u.pending=null:(g=g.next,c.next=g,RP(u,g)))}function Fw(u,c,g){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do c.status="rejected",c.reason=g,LP(c),c=c.next;while(c!==w)}u.action=null}function LP(u){u=u.listeners;for(var c=0;c<u.length;c++)(0,u[c])()}function IP(u,c){return c}function MP(u,c){if(ve){var g=_r.formState;if(g!==null){e:{var w=Tn;if(ve){if(ee){t:{for(var O=ee,F=ot;O.nodeType!==8;){if(!F){O=null;break t}if(O=ws(O.nextSibling),O===null){O=null;break t}}F=O.data,O=F==="F!"||F==="F"?O:null}if(O){ee=ws(O.nextSibling),w=O.data==="F!";break e}}bt(w)}w=!1}w&&(c=g[0])}}return g=ha(),g.memoizedState=g.baseState=c,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IP,lastRenderedState:c},g.queue=w,g=JP.bind(null,Tn,w),w.dispatch=g,w=Nw(!1),F=zw.bind(null,Tn,!1,w.queue),w=ha(),O={state:c,dispatch:null,action:u,pending:null},w.queue=O,g=nH.bind(null,Tn,O,F,g),O.dispatch=g,w.memoizedState=u,[c,g,!1]}function DP(u){var c=Zr();return kP(c,cr,u)}function kP(u,c,g){c=Dw(u,c,IP)[0],u=sy(Lo)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?bh(c):c;var w=Zr(),O=w.queue,F=O.dispatch;return g!==w.memoizedState&&(Tn.flags|=2048,wf(9,rH.bind(null,O,g),{destroy:void 0},null)),[c,F,u]}function rH(u,c){u.action=c}function NP(u){var c=Zr(),g=cr;if(g!==null)return kP(c,g,u);Zr(),c=c.memoizedState,g=Zr();var w=g.queue.dispatch;return g.memoizedState=u,[c,w,!1]}function wf(u,c,g,w){return u={tag:u,create:c,inst:g,deps:w,next:null},c=Tn.updateQueue,c===null&&(c=iy(),Tn.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,c.lastEffect=u),u}function FP(){return Zr().memoizedState}function oy(u,c,g,w){var O=ha();Tn.flags|=u,O.memoizedState=wf(1|c,g,{destroy:void 0},w===void 0?null:w)}function uy(u,c,g,w){var O=Zr();w=w===void 0?null:w;var F=O.memoizedState.inst;cr!==null&&w!==null&&Rw(w,cr.memoizedState.deps)?O.memoizedState=wf(c,g,F,w):(Tn.flags|=u,O.memoizedState=wf(1|c,g,F,w))}function jP(u,c){oy(8390656,8,u,c)}function jw(u,c){uy(2048,8,u,c)}function $P(u,c){return uy(4,2,u,c)}function UP(u,c){return uy(4,4,u,c)}function BP(u,c){if(typeof c=="function"){u=u();var g=c(u);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function qP(u,c,g){g=g!=null?g.concat([u]):null,uy(4,4,BP.bind(null,c,u),g)}function $w(){}function zP(u,c){var g=Zr();c=c===void 0?null:c;var w=g.memoizedState;return c!==null&&Rw(c,w[1])?w[0]:(g.memoizedState=[u,c],u)}function HP(u,c){var g=Zr();c=c===void 0?null:c;var w=g.memoizedState;if(c!==null&&Rw(c,w[1]))return w[0];if(w=u(),ql){Dt(!0);try{u()}finally{Dt(!1)}}return g.memoizedState=[w,c],w}function Uw(u,c,g){return g===void 0||Mu&1073741824?u.memoizedState=c:(u.memoizedState=g,u=KO(),Tn.lanes|=u,zu|=u,g)}function VP(u,c,g,w){return Gi(g,c)?g:gf.current!==null?(u=Uw(u,g,w),Gi(u,c)||(hi=!0),u):Mu&42?(u=KO(),Tn.lanes|=u,zu|=u,c):(hi=!0,u.memoizedState=g)}function KP(u,c,g,w,O){var F=J.p;J.p=F!==0&&8>F?F:8;var ue=Y.T,Ce={};Y.T=Ce,zw(u,!1,c,g);try{var Ve=O(),at=Y.S;if(at!==null&&at(Ce,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var _t=Xz(Ve,w);Sh(u,c,_t,Ia(u))}else Sh(u,c,w,Ia(u))}catch(Ct){Sh(u,c,{then:function(){},status:"rejected",reason:Ct},Ia())}finally{J.p=F,Y.T=ue}}function iH(){}function Bw(u,c,g,w){if(u.tag!==5)throw Error(r(476));var O=GP(u).queue;KP(u,O,c,pe,g===null?iH:function(){return WP(u),g(w)})}function GP(u){var c=u.memoizedState;if(c!==null)return c;c={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:pe},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:g},next:null},u.memoizedState=c,u=u.alternate,u!==null&&(u.memoizedState=c),c}function WP(u){var c=GP(u).next.queue;Sh(u,c,{},Ia())}function qw(){return Di(qh)}function QP(){return Zr().memoizedState}function ZP(){return Zr().memoizedState}function aH(u){for(var c=u.return;c!==null;){switch(c.tag){case 24:case 3:var g=Ia();u=Fu(g);var w=ju(c,u,g);w!==null&&(Xi(w,c,g),Th(w,c,g)),c={cache:Tw()},u.payload=c;return}c=c.return}}function sH(u,c,g){var w=Ia();g={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ly(u)?YP(c,g):(g=ff(u,c,g,w),g!==null&&(Xi(g,u,w),XP(g,c,w)))}function JP(u,c,g){var w=Ia();Sh(u,c,g,w)}function Sh(u,c,g,w){var O={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ly(u))YP(c,O);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=c.lastRenderedReducer,F!==null))try{var ue=c.lastRenderedState,Ce=F(ue,g);if(O.hasEagerState=!0,O.eagerState=Ce,Gi(Ce,ue))return Fl(u,c,O,0),_r===null&&fa(),!1}catch{}finally{}if(g=ff(u,c,O,w),g!==null)return Xi(g,u,w),XP(g,c,w),!0}return!1}function zw(u,c,g,w){if(w={lane:2,revertLane:Ib(),action:w,hasEagerState:!1,eagerState:null,next:null},ly(u)){if(c)throw Error(r(479))}else c=ff(u,g,w,2),c!==null&&Xi(c,u,2)}function ly(u){var c=u.alternate;return u===Tn||c!==null&&c===Tn}function YP(u,c){vf=ny=!0;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}function XP(u,c,g){if(g&4194176){var w=c.lanes;w&=u.pendingLanes,g|=w,c.lanes=g,Jn(u,g)}}var Ks={readContext:Di,use:ay,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr};Ks.useCacheRefresh=zr,Ks.useMemoCache=zr,Ks.useHostTransitionStatus=zr,Ks.useFormState=zr,Ks.useActionState=zr,Ks.useOptimistic=zr;var zl={readContext:Di,use:ay,useCallback:function(u,c){return ha().memoizedState=[u,c===void 0?null:c],u},useContext:Di,useEffect:jP,useImperativeHandle:function(u,c,g){g=g!=null?g.concat([u]):null,oy(4194308,4,BP.bind(null,c,u),g)},useLayoutEffect:function(u,c){return oy(4194308,4,u,c)},useInsertionEffect:function(u,c){oy(4,2,u,c)},useMemo:function(u,c){var g=ha();c=c===void 0?null:c;var w=u();if(ql){Dt(!0);try{u()}finally{Dt(!1)}}return g.memoizedState=[w,c],w},useReducer:function(u,c,g){var w=ha();if(g!==void 0){var O=g(c);if(ql){Dt(!0);try{g(c)}finally{Dt(!1)}}}else O=c;return w.memoizedState=w.baseState=O,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:O},w.queue=u,u=u.dispatch=sH.bind(null,Tn,u),[w.memoizedState,u]},useRef:function(u){var c=ha();return u={current:u},c.memoizedState=u},useState:function(u){u=Nw(u);var c=u.queue,g=JP.bind(null,Tn,c);return c.dispatch=g,[u.memoizedState,g]},useDebugValue:$w,useDeferredValue:function(u,c){var g=ha();return Uw(g,u,c)},useTransition:function(){var u=Nw(!1);return u=KP.bind(null,Tn,u.queue,!0,!1),ha().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,c,g){var w=Tn,O=ha();if(ve){if(g===void 0)throw Error(r(407));g=g()}else{if(g=c(),_r===null)throw Error(r(349));jn&60||SP(w,c,g)}O.memoizedState=g;var F={value:g,getSnapshot:c};return O.queue=F,jP(EP.bind(null,w,F,u),[u]),w.flags|=2048,wf(9,xP.bind(null,w,F,g,c),{destroy:void 0},null),g},useId:function(){var u=ha(),c=_r.identifierPrefix;if(ve){var g=Ja,w=Za;g=(w&~(1<<32-Rt(w)-1)).toString(32)+g,c=":"+c+"R"+g,g=ry++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=eH++,c=":"+c+"r"+g.toString(32)+":";return u.memoizedState=c},useCacheRefresh:function(){return ha().memoizedState=aH.bind(null,Tn)}};zl.useMemoCache=Mw,zl.useHostTransitionStatus=qw,zl.useFormState=MP,zl.useActionState=MP,zl.useOptimistic=function(u){var c=ha();c.memoizedState=c.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=zw.bind(null,Tn,!0,g),g.dispatch=c,[u,c]};var Du={readContext:Di,use:ay,useCallback:zP,useContext:Di,useEffect:jw,useImperativeHandle:qP,useInsertionEffect:$P,useLayoutEffect:UP,useMemo:HP,useReducer:sy,useRef:FP,useState:function(){return sy(Lo)},useDebugValue:$w,useDeferredValue:function(u,c){var g=Zr();return VP(g,cr.memoizedState,u,c)},useTransition:function(){var u=sy(Lo)[0],c=Zr().memoizedState;return[typeof u=="boolean"?u:bh(u),c]},useSyncExternalStore:bP,useId:QP};Du.useCacheRefresh=ZP,Du.useMemoCache=Mw,Du.useHostTransitionStatus=qw,Du.useFormState=DP,Du.useActionState=DP,Du.useOptimistic=function(u,c){var g=Zr();return AP(g,cr,u,c)};var Hl={readContext:Di,use:ay,useCallback:zP,useContext:Di,useEffect:jw,useImperativeHandle:qP,useInsertionEffect:$P,useLayoutEffect:UP,useMemo:HP,useReducer:kw,useRef:FP,useState:function(){return kw(Lo)},useDebugValue:$w,useDeferredValue:function(u,c){var g=Zr();return cr===null?Uw(g,u,c):VP(g,cr.memoizedState,u,c)},useTransition:function(){var u=kw(Lo)[0],c=Zr().memoizedState;return[typeof u=="boolean"?u:bh(u),c]},useSyncExternalStore:bP,useId:QP};Hl.useCacheRefresh=ZP,Hl.useMemoCache=Mw,Hl.useHostTransitionStatus=qw,Hl.useFormState=NP,Hl.useActionState=NP,Hl.useOptimistic=function(u,c){var g=Zr();return cr!==null?AP(g,cr,u,c):(g.baseState=u,[u,g.queue.dispatch])};function Hw(u,c,g,w){c=u.memoizedState,g=g(w,c),g=g==null?c:q({},c,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Vw={isMounted:function(u){return(u=u._reactInternals)?ce(u)===u:!1},enqueueSetState:function(u,c,g){u=u._reactInternals;var w=Ia(),O=Fu(w);O.payload=c,g!=null&&(O.callback=g),c=ju(u,O,w),c!==null&&(Xi(c,u,w),Th(c,u,w))},enqueueReplaceState:function(u,c,g){u=u._reactInternals;var w=Ia(),O=Fu(w);O.tag=1,O.payload=c,g!=null&&(O.callback=g),c=ju(u,O,w),c!==null&&(Xi(c,u,w),Th(c,u,w))},enqueueForceUpdate:function(u,c){u=u._reactInternals;var g=Ia(),w=Fu(g);w.tag=2,c!=null&&(w.callback=c),c=ju(u,w,g),c!==null&&(Xi(c,u,g),Th(c,u,g))}};function eO(u,c,g,w,O,F,ue){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,F,ue):c.prototype&&c.prototype.isPureReactComponent?!Wi(g,w)||!Wi(O,F):!0}function tO(u,c,g,w){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,w),c.state!==u&&Vw.enqueueReplaceState(c,c.state,null)}function Vl(u,c){var g=c;if("ref"in c){g={};for(var w in c)w!=="ref"&&(g[w]=c[w])}if(u=u.defaultProps){g===c&&(g=q({},g));for(var O in u)g[O]===void 0&&(g[O]=u[O])}return g}var cy=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function nO(u){cy(u)}function rO(u){console.error(u)}function iO(u){cy(u)}function fy(u,c){try{var g=u.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(w){setTimeout(function(){throw w})}}function aO(u,c,g){try{var w=u.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function Kw(u,c,g){return g=Fu(g),g.tag=3,g.payload={element:null},g.callback=function(){fy(u,c)},g}function sO(u){return u=Fu(u),u.tag=3,u}function oO(u,c,g,w){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var F=w.value;u.payload=function(){return O(F)},u.callback=function(){aO(c,g,w)}}var ue=g.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(u.callback=function(){aO(c,g,w),typeof O!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var Ce=w.stack;this.componentDidCatch(w.value,{componentStack:Ce!==null?Ce:""})})}function oH(u,c,g,w,O){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(c=g.alternate,c!==null&&Eh(c,g,O,!0),g=Ya.current,g!==null){switch(g.tag){case 13:return Vs===null?Ab():g.alternate===null&&Dr===0&&(Dr=3),g.flags&=-257,g.flags|=65536,g.lanes=O,w===zs?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([w]):c.add(w),Pb(u,w,O)),!1;case 22:return g.flags|=65536,w===zs?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([w]):g.add(w)),Pb(u,w,O)),!1}throw Error(r(435,g.tag))}return Pb(u,w,O),Ab(),!1}if(ve)return c=Ya.current,c!==null?(!(c.flags&65536)&&(c.flags|=256),c.flags|=65536,c.lanes=O,w!==yt&&(u=Error(r(422),{cause:w}),Ar(Zi(u,g)))):(w!==yt&&(c=Error(r(423),{cause:w}),Ar(Zi(c,g))),u=u.current.alternate,u.flags|=65536,O&=-O,u.lanes|=O,w=Zi(w,g),O=Kw(u.stateNode,w,O),ob(u,O),Dr!==4&&(Dr=2)),!1;var F=Error(r(520),{cause:w});if(F=Zi(F,g),Mh===null?Mh=[F]:Mh.push(F),Dr!==4&&(Dr=2),c===null)return!0;w=Zi(w,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,u=O&-O,g.lanes|=u,u=Kw(g.stateNode,w,u),ob(g,u),!1;case 1:if(c=g.type,F=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Hu===null||!Hu.has(F))))return g.flags|=65536,O&=-O,g.lanes|=O,O=sO(O),oO(O,u,g,w),ob(g,O),!1}g=g.return}while(g!==null);return!1}var uO=Error(r(461)),hi=!1;function wi(u,c,g,w){c.child=u===null?Ym(c,null,g,w):Hs(c,u.child,g,w)}function lO(u,c,g,w,O){g=g.render;var F=c.ref;if("ref"in w){var ue={};for(var Ce in w)Ce!=="ref"&&(ue[Ce]=w[Ce])}else ue=w;return Gl(c),w=Pw(u,c,g,ue,F,O),Ce=Ow(),u!==null&&!hi?(Lw(u,c,O),Io(u,c,O)):(ve&&Ce&&v(c),c.flags|=1,wi(u,c,w,O),c.child)}function cO(u,c,g,w,O){if(u===null){var F=g.type;return typeof F=="function"&&!gb(F)&&F.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=F,fO(u,c,F,w,O)):(u=my(g.type,null,w,c,c.mode,O),u.ref=c.ref,u.return=c,c.child=u)}if(F=u.child,!tb(u,O)){var ue=F.memoizedProps;if(g=g.compare,g=g!==null?g:Wi,g(ue,w)&&u.ref===c.ref)return Io(u,c,O)}return c.flags|=1,u=qu(F,w),u.ref=c.ref,u.return=c,c.child=u}function fO(u,c,g,w,O){if(u!==null){var F=u.memoizedProps;if(Wi(F,w)&&u.ref===c.ref)if(hi=!1,c.pendingProps=w=F,tb(u,O))u.flags&131072&&(hi=!0);else return c.lanes=u.lanes,Io(u,c,O)}return Gw(u,c,g,w,O)}function dO(u,c,g){var w=c.pendingProps,O=w.children,F=(c.stateNode._pendingVisibility&2)!==0,ue=u!==null?u.memoizedState:null;if(xh(u,c),w.mode==="hidden"||F){if(c.flags&128){if(w=ue!==null?ue.baseLanes|g:g,u!==null){for(O=c.child=u.child,F=0;O!==null;)F=F|O.lanes|O.childLanes,O=O.sibling;c.childLanes=F&~w}else c.childLanes=0,c.child=null;return hO(u,c,w,g)}if(g&536870912)c.memoizedState={baseLanes:0,cachePool:null},u!==null&&ty(c,ue!==null?ue.cachePool:null),ue!==null?pP(c,ue):xw(),gP(c);else return c.lanes=c.childLanes=536870912,hO(u,c,ue!==null?ue.baseLanes|g:g,g)}else ue!==null?(ty(c,ue.cachePool),pP(c,ue),Iu(),c.memoizedState=null):(u!==null&&ty(c,null),xw(),Iu());return wi(u,c,O,g),c.child}function hO(u,c,g,w){var O=Aw();return O=O===null?null:{parent:si._currentValue,pool:O},c.memoizedState={baseLanes:g,cachePool:O},u!==null&&ty(c,null),xw(),gP(c),u!==null&&Eh(u,c,w,!0),null}function xh(u,c){var g=c.ref;if(g===null)u!==null&&u.ref!==null&&(c.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(c.flags|=2097664)}}function Gw(u,c,g,w,O){return Gl(c),g=Pw(u,c,g,w,void 0,O),w=Ow(),u!==null&&!hi?(Lw(u,c,O),Io(u,c,O)):(ve&&w&&v(c),c.flags|=1,wi(u,c,g,O),c.child)}function pO(u,c,g,w,O,F){return Gl(c),c.updateQueue=null,g=wP(c,w,g,O),_P(u),w=Ow(),u!==null&&!hi?(Lw(u,c,F),Io(u,c,F)):(ve&&w&&v(c),c.flags|=1,wi(u,c,g,F),c.child)}function gO(u,c,g,w,O){if(Gl(c),c.stateNode===null){var F=Qa,ue=g.contextType;typeof ue=="object"&&ue!==null&&(F=Di(ue)),F=new g(w,F),c.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Vw,c.stateNode=F,F._reactInternals=c,F=c.stateNode,F.props=w,F.state=c.memoizedState,F.refs={},ab(c),ue=g.contextType,F.context=typeof ue=="object"&&ue!==null?Di(ue):Qa,F.state=c.memoizedState,ue=g.getDerivedStateFromProps,typeof ue=="function"&&(Hw(c,g,ue,w),F.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ue=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ue!==F.state&&Vw.enqueueReplaceState(F,F.state,null),Ah(c,w,F,O),Ch(),F.state=c.memoizedState),typeof F.componentDidMount=="function"&&(c.flags|=4194308),w=!0}else if(u===null){F=c.stateNode;var Ce=c.memoizedProps,Ve=Vl(g,Ce);F.props=Ve;var at=F.context,_t=g.contextType;ue=Qa,typeof _t=="object"&&_t!==null&&(ue=Di(_t));var Ct=g.getDerivedStateFromProps;_t=typeof Ct=="function"||typeof F.getSnapshotBeforeUpdate=="function",Ce=c.pendingProps!==Ce,_t||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Ce||at!==ue)&&tO(c,F,w,ue),Nu=!1;var pt=c.memoizedState;F.state=pt,Ah(c,w,F,O),Ch(),at=c.memoizedState,Ce||pt!==at||Nu?(typeof Ct=="function"&&(Hw(c,g,Ct,w),at=c.memoizedState),(Ve=Nu||eO(c,g,Ve,w,pt,at,ue))?(_t||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(c.flags|=4194308)):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=at),F.props=w,F.state=at,F.context=ue,w=Ve):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{F=c.stateNode,sb(u,c),ue=c.memoizedProps,_t=Vl(g,ue),F.props=_t,Ct=c.pendingProps,pt=F.context,at=g.contextType,Ve=Qa,typeof at=="object"&&at!==null&&(Ve=Di(at)),Ce=g.getDerivedStateFromProps,(at=typeof Ce=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ue!==Ct||pt!==Ve)&&tO(c,F,w,Ve),Nu=!1,pt=c.memoizedState,F.state=pt,Ah(c,w,F,O),Ch();var vt=c.memoizedState;ue!==Ct||pt!==vt||Nu||u!==null&&u.dependencies!==null&&dy(u.dependencies)?(typeof Ce=="function"&&(Hw(c,g,Ce,w),vt=c.memoizedState),(_t=Nu||eO(c,g,_t,w,pt,vt,Ve)||u!==null&&u.dependencies!==null&&dy(u.dependencies))?(at||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(w,vt,Ve),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(w,vt,Ve)),typeof F.componentDidUpdate=="function"&&(c.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof F.componentDidUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=vt),F.props=w,F.state=vt,F.context=Ve,w=_t):(typeof F.componentDidUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&pt===u.memoizedState||(c.flags|=1024),w=!1)}return F=w,xh(u,c),w=(c.flags&128)!==0,F||w?(F=c.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:F.render(),c.flags|=1,u!==null&&w?(c.child=Hs(c,u.child,null,O),c.child=Hs(c,null,g,O)):wi(u,c,g,O),c.memoizedState=F.state,u=c.child):u=Io(u,c,O),u}function mO(u,c,g,w){return qr(),c.flags|=256,wi(u,c,g,w),c.child}var Ww={dehydrated:null,treeContext:null,retryLane:0};function Qw(u){return{baseLanes:u,cachePool:vP()}}function Zw(u,c,g){return u=u!==null?u.childLanes&~g:0,c&&(u|=ns),u}function yO(u,c,g){var w=c.pendingProps,O=!1,F=(c.flags&128)!==0,ue;if((ue=F)||(ue=u!==null&&u.memoizedState===null?!1:(ai.current&2)!==0),ue&&(O=!0,c.flags&=-129),ue=(c.flags&32)!==0,c.flags&=-33,u===null){if(ve){if(O?Lu(c):Iu(),ve){var Ce=ee,Ve;if(Ve=Ce){e:{for(Ve=Ce,Ce=ot;Ve.nodeType!==8;){if(!Ce){Ce=null;break e}if(Ve=ws(Ve.nextSibling),Ve===null){Ce=null;break e}}Ce=Ve}Ce!==null?(c.memoizedState={dehydrated:Ce,treeContext:Co!==null?{id:Za,overflow:Ja}:null,retryLane:536870912},Ve=ts(18,null,null,0),Ve.stateNode=Ce,Ve.return=c,c.child=Ve,U=c,ee=null,Ve=!0):Ve=!1}Ve||bt(c)}if(Ce=c.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Ce.data==="$!"?c.lanes=16:c.lanes=536870912,null;Oo(c)}return Ce=w.children,w=w.fallback,O?(Iu(),O=c.mode,Ce=Yw({mode:"hidden",children:Ce},O),w=Ql(w,O,g,null),Ce.return=c,w.return=c,Ce.sibling=w,c.child=Ce,O=c.child,O.memoizedState=Qw(g),O.childLanes=Zw(u,ue,g),c.memoizedState=Ww,w):(Lu(c),Jw(c,Ce))}if(Ve=u.memoizedState,Ve!==null&&(Ce=Ve.dehydrated,Ce!==null)){if(F)c.flags&256?(Lu(c),c.flags&=-257,c=Xw(u,c,g)):c.memoizedState!==null?(Iu(),c.child=u.child,c.flags|=128,c=null):(Iu(),O=w.fallback,Ce=c.mode,w=Yw({mode:"visible",children:w.children},Ce),O=Ql(O,Ce,g,null),O.flags|=2,w.return=c,O.return=c,w.sibling=O,c.child=w,Hs(c,u.child,null,g),w=c.child,w.memoizedState=Qw(g),w.childLanes=Zw(u,ue,g),c.memoizedState=Ww,c=O);else if(Lu(c),Ce.data==="$!"){if(ue=Ce.nextSibling&&Ce.nextSibling.dataset,ue)var at=ue.dgst;ue=at,w=Error(r(419)),w.stack="",w.digest=ue,Ar({value:w,source:null,stack:null}),c=Xw(u,c,g)}else if(hi||Eh(u,c,g,!1),ue=(g&u.childLanes)!==0,hi||ue){if(ue=_r,ue!==null){if(w=g&-g,w&42)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=w&(ue.suspendedLanes|g)?0:w,w!==0&&w!==Ve.retryLane)throw Ve.retryLane=w,da(u,w),Xi(ue,u,w),uO}Ce.data==="$?"||Ab(),c=Xw(u,c,g)}else Ce.data==="$?"?(c.flags|=128,c.child=u.child,c=SH.bind(null,u),Ce._reactRetry=c,c=null):(u=Ve.treeContext,ee=ws(Ce.nextSibling),U=c,ve=!0,Ge=null,ot=!1,u!==null&&(Ji[Yi++]=Za,Ji[Yi++]=Ja,Ji[Yi++]=Co,Za=u.id,Ja=u.overflow,Co=c),c=Jw(c,w.children),c.flags|=4096);return c}return O?(Iu(),O=w.fallback,Ce=c.mode,Ve=u.child,at=Ve.sibling,w=qu(Ve,{mode:"hidden",children:w.children}),w.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?O=qu(at,O):(O=Ql(O,Ce,g,null),O.flags|=2),O.return=c,w.return=c,w.sibling=O,c.child=w,w=O,O=c.child,Ce=u.child.memoizedState,Ce===null?Ce=Qw(g):(Ve=Ce.cachePool,Ve!==null?(at=si._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=vP(),Ce={baseLanes:Ce.baseLanes|g,cachePool:Ve}),O.memoizedState=Ce,O.childLanes=Zw(u,ue,g),c.memoizedState=Ww,w):(Lu(c),g=u.child,u=g.sibling,g=qu(g,{mode:"visible",children:w.children}),g.return=c,g.sibling=null,u!==null&&(ue=c.deletions,ue===null?(c.deletions=[u],c.flags|=16):ue.push(u)),c.child=g,c.memoizedState=null,g)}function Jw(u,c){return c=Yw({mode:"visible",children:c},u.mode),c.return=u,u.child=c}function Yw(u,c){return zO(u,c,0,null)}function Xw(u,c,g){return Hs(c,u.child,null,g),u=Jw(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function vO(u,c,g){u.lanes|=c;var w=u.alternate;w!==null&&(w.lanes|=c),rb(u.return,c,g)}function eb(u,c,g,w,O){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:O}:(F.isBackwards=c,F.rendering=null,F.renderingStartTime=0,F.last=w,F.tail=g,F.tailMode=O)}function _O(u,c,g){var w=c.pendingProps,O=w.revealOrder,F=w.tail;if(wi(u,c,w.children,g),w=ai.current,w&2)w=w&1|2,c.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&vO(u,g,c);else if(u.tag===19)vO(u,g,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(Xe(ai,w),O){case"forwards":for(g=c.child,O=null;g!==null;)u=g.alternate,u!==null&&ey(u)===null&&(O=g),g=g.sibling;g=O,g===null?(O=c.child,c.child=null):(O=g.sibling,g.sibling=null),eb(c,!1,O,g,F);break;case"backwards":for(g=null,O=c.child,c.child=null;O!==null;){if(u=O.alternate,u!==null&&ey(u)===null){c.child=O;break}u=O.sibling,O.sibling=g,g=O,O=u}eb(c,!0,g,null,F);break;case"together":eb(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Io(u,c,g){if(u!==null&&(c.dependencies=u.dependencies),zu|=c.lanes,!(g&c.childLanes))if(u!==null){if(Eh(u,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(u!==null&&c.child!==u.child)throw Error(r(153));if(c.child!==null){for(u=c.child,g=qu(u,u.pendingProps),c.child=g,g.return=c;u.sibling!==null;)u=u.sibling,g=g.sibling=qu(u,u.pendingProps),g.return=c;g.sibling=null}return c.child}function tb(u,c){return u.lanes&c?!0:(u=u.dependencies,!!(u!==null&&dy(u)))}function uH(u,c,g){switch(c.tag){case 3:W(c,c.stateNode.containerInfo),ku(c,si,u.memoizedState.cache),qr();break;case 27:case 5:ye(c);break;case 4:W(c,c.stateNode.containerInfo);break;case 10:ku(c,c.type,c.memoizedProps.value);break;case 13:var w=c.memoizedState;if(w!==null)return w.dehydrated!==null?(Lu(c),c.flags|=128,null):g&c.child.childLanes?yO(u,c,g):(Lu(c),u=Io(u,c,g),u!==null?u.sibling:null);Lu(c);break;case 19:var O=(u.flags&128)!==0;if(w=(g&c.childLanes)!==0,w||(Eh(u,c,g,!1),w=(g&c.childLanes)!==0),O){if(w)return _O(u,c,g);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Xe(ai,ai.current),w)break;return null;case 22:case 23:return c.lanes=0,dO(u,c,g);case 24:ku(c,si,u.memoizedState.cache)}return Io(u,c,g)}function wO(u,c,g){if(u!==null)if(u.memoizedProps!==c.pendingProps)hi=!0;else{if(!tb(u,g)&&!(c.flags&128))return hi=!1,uH(u,c,g);hi=!!(u.flags&131072)}else hi=!1,ve&&c.flags&1048576&&d(c,$l,c.index);switch(c.lanes=0,c.tag){case 16:e:{u=c.pendingProps;var w=c.elementType,O=w._init;if(w=O(w._payload),c.type=w,typeof w=="function")gb(w)?(u=Vl(w,u),c.tag=1,c=gO(null,c,w,u,g)):(c.tag=0,c=Gw(null,c,w,u,g));else{if(w!=null){if(O=w.$$typeof,O===_){c.tag=11,c=lO(null,c,w,u,g);break e}else if(O===x){c.tag=14,c=cO(null,c,w,u,g);break e}}throw c=Q(w)||w,Error(r(306,c,""))}}return c;case 0:return Gw(u,c,c.type,c.pendingProps,g);case 1:return w=c.type,O=Vl(w,c.pendingProps),gO(u,c,w,O,g);case 3:e:{if(W(c,c.stateNode.containerInfo),u===null)throw Error(r(387));var F=c.pendingProps;O=c.memoizedState,w=O.element,sb(u,c),Ah(c,F,null,g);var ue=c.memoizedState;if(F=ue.cache,ku(c,si,F),F!==O.cache&&ib(c,[si],g,!0),Ch(),F=ue.element,O.isDehydrated)if(O={element:F,isDehydrated:!1,cache:ue.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=mO(u,c,F,g);break e}else if(F!==w){w=Zi(Error(r(424)),c),Ar(w),c=mO(u,c,F,g);break e}else for(ee=ws(c.stateNode.containerInfo.firstChild),U=c,ve=!0,Ge=null,ot=!0,g=Ym(c,null,F,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(qr(),F===w){c=Io(u,c,g);break e}wi(u,c,F,g)}c=c.child}return c;case 26:return xh(u,c),u===null?(g=xL(c.type,null,c.pendingProps,null))?c.memoizedState=g:ve||(g=c.type,u=c.pendingProps,w=Ry($.current).createElement(g),w[it]=c,w[Et]=u,bi(w,g,u),Un(w),c.stateNode=w):c.memoizedState=xL(c.type,u.memoizedProps,c.pendingProps,u.memoizedState),null;case 27:return ye(c),u===null&&ve&&(w=c.stateNode=wL(c.type,c.pendingProps,$.current),U=c,ot=!0,ee=ws(w.firstChild)),w=c.pendingProps.children,u!==null||ve?wi(u,c,w,g):c.child=Hs(c,null,w,g),xh(u,c),c.child;case 5:return u===null&&ve&&((O=w=ee)&&(w=jH(w,c.type,c.pendingProps,ot),w!==null?(c.stateNode=w,U=c,ee=ws(w.firstChild),ot=!1,O=!0):O=!1),O||bt(c)),ye(c),O=c.type,F=c.pendingProps,ue=u!==null?u.memoizedProps:null,w=F.children,Bb(O,F)?w=null:ue!==null&&Bb(O,ue)&&(c.flags|=32),c.memoizedState!==null&&(O=Pw(u,c,tH,null,null,g),qh._currentValue=O),xh(u,c),wi(u,c,w,g),c.child;case 6:return u===null&&ve&&((u=g=ee)&&(g=$H(g,c.pendingProps,ot),g!==null?(c.stateNode=g,U=c,ee=null,u=!0):u=!1),u||bt(c)),null;case 13:return yO(u,c,g);case 4:return W(c,c.stateNode.containerInfo),w=c.pendingProps,u===null?c.child=Hs(c,null,w,g):wi(u,c,w,g),c.child;case 11:return lO(u,c,c.type,c.pendingProps,g);case 7:return wi(u,c,c.pendingProps,g),c.child;case 8:return wi(u,c,c.pendingProps.children,g),c.child;case 12:return wi(u,c,c.pendingProps.children,g),c.child;case 10:return w=c.pendingProps,ku(c,c.type,w.value),wi(u,c,w.children,g),c.child;case 9:return O=c.type._context,w=c.pendingProps.children,Gl(c),O=Di(O),w=w(O),c.flags|=1,wi(u,c,w,g),c.child;case 14:return cO(u,c,c.type,c.pendingProps,g);case 15:return fO(u,c,c.type,c.pendingProps,g);case 19:return _O(u,c,g);case 22:return dO(u,c,g);case 24:return Gl(c),w=Di(si),u===null?(O=Aw(),O===null&&(O=_r,F=Tw(),O.pooledCache=F,F.refCount++,F!==null&&(O.pooledCacheLanes|=g),O=F),c.memoizedState={parent:w,cache:O},ab(c),ku(c,si,O)):(u.lanes&g&&(sb(u,c),Ah(c,null,null,g),Ch()),O=u.memoizedState,F=c.memoizedState,O.parent!==w?(O={parent:w,cache:w},c.memoizedState=O,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=O),ku(c,si,w)):(w=F.cache,ku(c,si,w),w!==O.cache&&ib(c,[si],g,!0))),wi(u,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}var nb=Re(null),Kl=null,Mo=null;function ku(u,c,g){Xe(nb,c._currentValue),c._currentValue=g}function Do(u){u._currentValue=nb.current,Fe(nb)}function rb(u,c,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),u===g)break;u=u.return}}function ib(u,c,g,w){var O=u.child;for(O!==null&&(O.return=u);O!==null;){var F=O.dependencies;if(F!==null){var ue=O.child;F=F.firstContext;e:for(;F!==null;){var Ce=F;F=O;for(var Ve=0;Ve<c.length;Ve++)if(Ce.context===c[Ve]){F.lanes|=g,Ce=F.alternate,Ce!==null&&(Ce.lanes|=g),rb(F.return,g,u),w||(ue=null);break e}F=Ce.next}}else if(O.tag===18){if(ue=O.return,ue===null)throw Error(r(341));ue.lanes|=g,F=ue.alternate,F!==null&&(F.lanes|=g),rb(ue,g,u),ue=null}else ue=O.child;if(ue!==null)ue.return=O;else for(ue=O;ue!==null;){if(ue===u){ue=null;break}if(O=ue.sibling,O!==null){O.return=ue.return,ue=O;break}ue=ue.return}O=ue}}function Eh(u,c,g,w){u=null;for(var O=c,F=!1;O!==null;){if(!F){if(O.flags&524288)F=!0;else if(O.flags&262144)break}if(O.tag===10){var ue=O.alternate;if(ue===null)throw Error(r(387));if(ue=ue.memoizedProps,ue!==null){var Ce=O.type;Gi(O.pendingProps.value,ue.value)||(u!==null?u.push(Ce):u=[Ce])}}else if(O===re.current){if(ue=O.alternate,ue===null)throw Error(r(387));ue.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(u!==null?u.push(qh):u=[qh])}O=O.return}u!==null&&ib(c,u,g,w),c.flags|=262144}function dy(u){for(u=u.firstContext;u!==null;){if(!Gi(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Gl(u){Kl=u,Mo=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Di(u){return bO(Kl,u)}function hy(u,c){return Kl===null&&Gl(u),bO(u,c)}function bO(u,c){var g=c._currentValue;if(c={context:c,memoizedValue:g,next:null},Mo===null){if(u===null)throw Error(r(308));Mo=c,u.dependencies={lanes:0,firstContext:c},u.flags|=524288}else Mo=Mo.next=c;return g}var Nu=!1;function ab(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sb(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Fu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ju(u,c,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,Or&2){var O=w.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),w.pending=c,c=Eo(u),Gm(u,null,g),c}return Fl(u,w,c,g),Eo(u)}function Th(u,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194176)!==0)){var w=c.lanes;w&=u.pendingLanes,g|=w,c.lanes=g,Jn(u,g)}}function ob(u,c){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var O=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var ue={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};F===null?O=F=ue:F=F.next=ue,g=g.next}while(g!==null);F===null?O=F=c:F=F.next=c}else O=F=c;g={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:w.shared,callbacks:w.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=c:u.next=c,g.lastBaseUpdate=c}var ub=!1;function Ch(){if(ub){var u=yf;if(u!==null)throw u}}function Ah(u,c,g,w){ub=!1;var O=u.updateQueue;Nu=!1;var F=O.firstBaseUpdate,ue=O.lastBaseUpdate,Ce=O.shared.pending;if(Ce!==null){O.shared.pending=null;var Ve=Ce,at=Ve.next;Ve.next=null,ue===null?F=at:ue.next=at,ue=Ve;var _t=u.alternate;_t!==null&&(_t=_t.updateQueue,Ce=_t.lastBaseUpdate,Ce!==ue&&(Ce===null?_t.firstBaseUpdate=at:Ce.next=at,_t.lastBaseUpdate=Ve))}if(F!==null){var Ct=O.baseState;ue=0,_t=at=Ve=null,Ce=F;do{var pt=Ce.lane&-536870913,vt=pt!==Ce.lane;if(vt?(jn&pt)===pt:(w&pt)===pt){pt!==0&&pt===mf&&(ub=!0),_t!==null&&(_t=_t.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Zt=u,mn=Ce;pt=c;var kr=g;switch(mn.tag){case 1:if(Zt=mn.payload,typeof Zt=="function"){Ct=Zt.call(kr,Ct,pt);break e}Ct=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=mn.payload,pt=typeof Zt=="function"?Zt.call(kr,Ct,pt):Zt,pt==null)break e;Ct=q({},Ct,pt);break e;case 2:Nu=!0}}pt=Ce.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=O.callbacks,vt===null?O.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},_t===null?(at=_t=vt,Ve=Ct):_t=_t.next=vt,ue|=pt;if(Ce=Ce.next,Ce===null){if(Ce=O.shared.pending,Ce===null)break;vt=Ce,Ce=vt.next,vt.next=null,O.lastBaseUpdate=vt,O.shared.pending=null}}while(!0);_t===null&&(Ve=Ct),O.baseState=Ve,O.firstBaseUpdate=at,O.lastBaseUpdate=_t,F===null&&(O.shared.lanes=0),zu|=ue,u.lanes=ue,u.memoizedState=Ct}}function SO(u,c){if(typeof u!="function")throw Error(r(191,u));u.call(c)}function xO(u,c){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)SO(g[u],c)}function Rh(u,c){try{var g=c.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var O=w.next;g=O;do{if((g.tag&u)===u){w=void 0;var F=g.create,ue=g.inst;w=F(),ue.destroy=w}g=g.next}while(g!==O)}}catch(Ce){gr(c,c.return,Ce)}}function $u(u,c,g){try{var w=c.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var F=O.next;w=F;do{if((w.tag&u)===u){var ue=w.inst,Ce=ue.destroy;if(Ce!==void 0){ue.destroy=void 0,O=c;var Ve=g;try{Ce()}catch(at){gr(O,Ve,at)}}}w=w.next}while(w!==F)}}catch(at){gr(c,c.return,at)}}function EO(u){var c=u.updateQueue;if(c!==null){var g=u.stateNode;try{xO(c,g)}catch(w){gr(u,u.return,w)}}}function TO(u,c,g){g.props=Vl(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(w){gr(u,c,w)}}function Wl(u,c){try{var g=u.ref;if(g!==null){var w=u.stateNode;switch(u.tag){case 26:case 27:case 5:var O=w;break;default:O=w}typeof g=="function"?u.refCleanup=g(O):g.current=O}}catch(F){gr(u,c,F)}}function Pa(u,c){var g=u.ref,w=u.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(O){gr(u,c,O)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){gr(u,c,O)}else g.current=null}function CO(u){var c=u.type,g=u.memoizedProps,w=u.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(O){gr(u,u.return,O)}}function AO(u,c,g){try{var w=u.stateNode;MH(w,u.type,g,c),w[Et]=c}catch(O){gr(u,u.return,O)}}function RO(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function lb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||RO(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function cb(u,c,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(u,c):g.insertBefore(u,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(u,g)):(c=g,c.appendChild(u)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=Ay));else if(w!==4&&w!==27&&(u=u.child,u!==null))for(cb(u,c,g),u=u.sibling;u!==null;)cb(u,c,g),u=u.sibling}function py(u,c,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,c?g.insertBefore(u,c):g.appendChild(u);else if(w!==4&&w!==27&&(u=u.child,u!==null))for(py(u,c,g),u=u.sibling;u!==null;)py(u,c,g),u=u.sibling}var ko=!1,Mr=!1,fb=!1,PO=typeof WeakSet=="function"?WeakSet:Set,pi=null,OO=!1;function lH(u,c){if(u=u.containerInfo,$b=Dy,u=Il(u),Ml(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var O=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var ue=0,Ce=-1,Ve=-1,at=0,_t=0,Ct=u,pt=null;t:for(;;){for(var vt;Ct!==g||O!==0&&Ct.nodeType!==3||(Ce=ue+O),Ct!==F||w!==0&&Ct.nodeType!==3||(Ve=ue+w),Ct.nodeType===3&&(ue+=Ct.nodeValue.length),(vt=Ct.firstChild)!==null;)pt=Ct,Ct=vt;for(;;){if(Ct===u)break t;if(pt===g&&++at===O&&(Ce=ue),pt===F&&++_t===w&&(Ve=ue),(vt=Ct.nextSibling)!==null)break;Ct=pt,pt=Ct.parentNode}Ct=vt}g=Ce===-1||Ve===-1?null:{start:Ce,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for(Ub={focusedElem:u,selectionRange:g},Dy=!1,pi=c;pi!==null;)if(c=pi,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,pi=u;else for(;pi!==null;){switch(c=pi,F=c.alternate,u=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&F!==null){u=void 0,g=c,O=F.memoizedProps,F=F.memoizedState,w=g.stateNode;try{var Zt=Vl(g.type,O,g.elementType===g.type);u=w.getSnapshotBeforeUpdate(Zt,F),w.__reactInternalSnapshotBeforeUpdate=u}catch(mn){gr(g,g.return,mn)}}break;case 3:if(u&1024){if(u=c.stateNode.containerInfo,g=u.nodeType,g===9)Hb(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Hb(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=c.sibling,u!==null){u.return=c.return,pi=u;break}pi=c.return}return Zt=OO,OO=!1,Zt}function LO(u,c,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:Fo(u,g),w&4&&Rh(5,g);break;case 1:if(Fo(u,g),w&4)if(u=g.stateNode,c===null)try{u.componentDidMount()}catch(Ce){gr(g,g.return,Ce)}else{var O=Vl(g.type,c.memoizedProps);c=c.memoizedState;try{u.componentDidUpdate(O,c,u.__reactInternalSnapshotBeforeUpdate)}catch(Ce){gr(g,g.return,Ce)}}w&64&&EO(g),w&512&&Wl(g,g.return);break;case 3:if(Fo(u,g),w&64&&(w=g.updateQueue,w!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{xO(w,u)}catch(Ce){gr(g,g.return,Ce)}}break;case 26:Fo(u,g),w&512&&Wl(g,g.return);break;case 27:case 5:Fo(u,g),c===null&&w&4&&CO(g),w&512&&Wl(g,g.return);break;case 12:Fo(u,g);break;case 13:Fo(u,g),w&4&&DO(u,g);break;case 22:if(O=g.memoizedState!==null||ko,!O){c=c!==null&&c.memoizedState!==null||Mr;var F=ko,ue=Mr;ko=O,(Mr=c)&&!ue?Uu(u,g,(g.subtreeFlags&8772)!==0):Fo(u,g),ko=F,Mr=ue}w&512&&(g.memoizedProps.mode==="manual"?Wl(g,g.return):Pa(g,g.return));break;default:Fo(u,g)}}function IO(u){var c=u.alternate;c!==null&&(u.alternate=null,IO(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&Rn(c)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Jr=null,Oa=!1;function No(u,c,g){for(g=g.child;g!==null;)MO(u,c,g),g=g.sibling}function MO(u,c,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ke,g)}catch{}switch(g.tag){case 26:Mr||Pa(g,c),No(u,c,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Mr||Pa(g,c);var w=Jr,O=Oa;for(Jr=g.stateNode,No(u,c,g),g=g.stateNode,c=g.attributes;c.length;)g.removeAttributeNode(c[0]);Rn(g),Jr=w,Oa=O;break;case 5:Mr||Pa(g,c);case 6:O=Jr;var F=Oa;if(Jr=null,No(u,c,g),Jr=O,Oa=F,Jr!==null)if(Oa)try{u=Jr,w=g.stateNode,u.nodeType===8?u.parentNode.removeChild(w):u.removeChild(w)}catch(ue){gr(g,c,ue)}else try{Jr.removeChild(g.stateNode)}catch(ue){gr(g,c,ue)}break;case 18:Jr!==null&&(Oa?(c=Jr,g=g.stateNode,c.nodeType===8?zb(c.parentNode,g):c.nodeType===1&&zb(c,g),Kh(c)):zb(Jr,g.stateNode));break;case 4:w=Jr,O=Oa,Jr=g.stateNode.containerInfo,Oa=!0,No(u,c,g),Jr=w,Oa=O;break;case 0:case 11:case 14:case 15:Mr||$u(2,g,c),Mr||$u(4,g,c),No(u,c,g);break;case 1:Mr||(Pa(g,c),w=g.stateNode,typeof w.componentWillUnmount=="function"&&TO(g,c,w)),No(u,c,g);break;case 21:No(u,c,g);break;case 22:Mr||Pa(g,c),Mr=(w=Mr)||g.memoizedState!==null,No(u,c,g),Mr=w;break;default:No(u,c,g)}}function DO(u,c){if(c.memoizedState===null&&(u=c.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Kh(u)}catch(g){gr(c,c.return,g)}}function cH(u){switch(u.tag){case 13:case 19:var c=u.stateNode;return c===null&&(c=u.stateNode=new PO),c;case 22:return u=u.stateNode,c=u._retryCache,c===null&&(c=u._retryCache=new PO),c;default:throw Error(r(435,u.tag))}}function db(u,c){var g=cH(u);c.forEach(function(w){var O=xH.bind(null,u,w);g.has(w)||(g.add(w),w.then(O,O))})}function Xa(u,c){var g=c.deletions;if(g!==null)for(var w=0;w<g.length;w++){var O=g[w],F=u,ue=c,Ce=ue;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:Jr=Ce.stateNode,Oa=!1;break e;case 3:Jr=Ce.stateNode.containerInfo,Oa=!0;break e;case 4:Jr=Ce.stateNode.containerInfo,Oa=!0;break e}Ce=Ce.return}if(Jr===null)throw Error(r(160));MO(F,ue,O),Jr=null,Oa=!1,F=O.alternate,F!==null&&(F.return=null),O.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)kO(c,u),c=c.sibling}var _s=null;function kO(u,c){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Xa(c,u),es(u),w&4&&($u(3,u,u.return),Rh(3,u),$u(5,u,u.return));break;case 1:Xa(c,u),es(u),w&512&&(Mr||g===null||Pa(g,g.return)),w&64&&ko&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var O=_s;if(Xa(c,u),es(u),w&512&&(Mr||g===null||Pa(g,g.return)),w&4){var F=g!==null?g.memoizedState:null;if(w=u.memoizedState,g===null)if(w===null)if(u.stateNode===null){e:{w=u.type,g=u.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":F=O.getElementsByTagName("title")[0],(!F||F[en]||F[it]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=O.createElement(w),O.head.insertBefore(F,O.querySelector("head > title"))),bi(F,w,g),F[it]=u,Un(F),w=F;break e;case"link":var ue=CL("link","href",O).get(w+(g.href||""));if(ue){for(var Ce=0;Ce<ue.length;Ce++)if(F=ue[Ce],F.getAttribute("href")===(g.href==null?null:g.href)&&F.getAttribute("rel")===(g.rel==null?null:g.rel)&&F.getAttribute("title")===(g.title==null?null:g.title)&&F.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ue.splice(Ce,1);break t}}F=O.createElement(w),bi(F,w,g),O.head.appendChild(F);break;case"meta":if(ue=CL("meta","content",O).get(w+(g.content||""))){for(Ce=0;Ce<ue.length;Ce++)if(F=ue[Ce],F.getAttribute("content")===(g.content==null?null:""+g.content)&&F.getAttribute("name")===(g.name==null?null:g.name)&&F.getAttribute("property")===(g.property==null?null:g.property)&&F.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&F.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ue.splice(Ce,1);break t}}F=O.createElement(w),bi(F,w,g),O.head.appendChild(F);break;default:throw Error(r(468,w))}F[it]=u,Un(F),w=F}u.stateNode=w}else AL(O,u.type,u.stateNode);else u.stateNode=TL(O,w,u.memoizedProps);else F!==w?(F===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):F.count--,w===null?AL(O,u.type,u.stateNode):TL(O,w,u.memoizedProps)):w===null&&u.stateNode!==null&&AO(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(w&4&&u.alternate===null){O=u.stateNode,F=u.memoizedProps;try{for(var Ve=O.firstChild;Ve;){var at=Ve.nextSibling,_t=Ve.nodeName;Ve[en]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||O.removeChild(Ve),Ve=at}for(var Ct=u.type,pt=O.attributes;pt.length;)O.removeAttributeNode(pt[0]);bi(O,Ct,F),O[it]=u,O[Et]=F}catch(Zt){gr(u,u.return,Zt)}}case 5:if(Xa(c,u),es(u),w&512&&(Mr||g===null||Pa(g,g.return)),u.flags&32){O=u.stateNode;try{Ue(O,"")}catch(Zt){gr(u,u.return,Zt)}}w&4&&u.stateNode!=null&&(O=u.memoizedProps,AO(u,O,g!==null?g.memoizedProps:O)),w&1024&&(fb=!0);break;case 6:if(Xa(c,u),es(u),w&4){if(u.stateNode===null)throw Error(r(162));w=u.memoizedProps,g=u.stateNode;try{g.nodeValue=w}catch(Zt){gr(u,u.return,Zt)}}break;case 3:if(Ly=null,O=_s,_s=Py(c.containerInfo),Xa(c,u),_s=O,es(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Kh(c.containerInfo)}catch(Zt){gr(u,u.return,Zt)}fb&&(fb=!1,NO(u));break;case 4:w=_s,_s=Py(u.stateNode.containerInfo),Xa(c,u),es(u),_s=w;break;case 12:Xa(c,u),es(u);break;case 13:Xa(c,u),es(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(bb=Ut()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,db(u,w)));break;case 22:if(w&512&&(Mr||g===null||Pa(g,g.return)),Ve=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,_t=ko,Ct=Mr,ko=_t||Ve,Mr=Ct||at,Xa(c,u),Mr=Ct,ko=_t,es(u),c=u.stateNode,c._current=u,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,w&8192&&(c._visibility=Ve?c._visibility&-2:c._visibility|1,Ve&&(c=ko||Mr,g===null||at||c||bf(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,c=u;;){if(c.tag===5||c.tag===26||c.tag===27){if(g===null){at=g=c;try{if(O=at.stateNode,Ve)F=O.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{ue=at.stateNode,Ce=at.memoizedProps.style;var vt=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;ue.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Zt){gr(at,at.return,Zt)}}}else if(c.tag===6){if(g===null){at=c;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Zt){gr(at,at.return,Zt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===u)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}w&4&&(w=u.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,db(u,g))));break;case 19:Xa(c,u),es(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,db(u,w)));break;case 21:break;default:Xa(c,u),es(u)}}function es(u){var c=u.flags;if(c&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(RO(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 27:var O=w.stateNode,F=lb(u);py(u,F,O);break;case 5:var ue=w.stateNode;w.flags&32&&(Ue(ue,""),w.flags&=-33);var Ce=lb(u);py(u,Ce,ue);break;case 3:case 4:var Ve=w.stateNode.containerInfo,at=lb(u);cb(u,at,Ve);break;default:throw Error(r(161))}}}catch(_t){gr(u,u.return,_t)}u.flags&=-3}c&4096&&(u.flags&=-4097)}function NO(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var c=u;NO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),u=u.sibling}}function Fo(u,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)LO(u,c.alternate,c),c=c.sibling}function bf(u){for(u=u.child;u!==null;){var c=u;switch(c.tag){case 0:case 11:case 14:case 15:$u(4,c,c.return),bf(c);break;case 1:Pa(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&TO(c,c.return,g),bf(c);break;case 26:case 27:case 5:Pa(c,c.return),bf(c);break;case 22:Pa(c,c.return),c.memoizedState===null&&bf(c);break;default:bf(c)}u=u.sibling}}function Uu(u,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var w=c.alternate,O=u,F=c,ue=F.flags;switch(F.tag){case 0:case 11:case 15:Uu(O,F,g),Rh(4,F);break;case 1:if(Uu(O,F,g),w=F,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(at){gr(w,w.return,at)}if(w=F,O=w.updateQueue,O!==null){var Ce=w.stateNode;try{var Ve=O.shared.hiddenCallbacks;if(Ve!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ve.length;O++)SO(Ve[O],Ce)}catch(at){gr(w,w.return,at)}}g&&ue&64&&EO(F),Wl(F,F.return);break;case 26:case 27:case 5:Uu(O,F,g),g&&w===null&&ue&4&&CO(F),Wl(F,F.return);break;case 12:Uu(O,F,g);break;case 13:Uu(O,F,g),g&&ue&4&&DO(O,F);break;case 22:F.memoizedState===null&&Uu(O,F,g),Wl(F,F.return);break;default:Uu(O,F,g)}c=c.sibling}}function hb(u,c){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(u=c.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&vh(g))}function pb(u,c){u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&vh(u))}function Bu(u,c,g,w){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)FO(u,c,g,w),c=c.sibling}function FO(u,c,g,w){var O=c.flags;switch(c.tag){case 0:case 11:case 15:Bu(u,c,g,w),O&2048&&Rh(9,c);break;case 3:Bu(u,c,g,w),O&2048&&(u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&vh(u)));break;case 12:if(O&2048){Bu(u,c,g,w),u=c.stateNode;try{var F=c.memoizedProps,ue=F.id,Ce=F.onPostCommit;typeof Ce=="function"&&Ce(ue,c.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){gr(c,c.return,Ve)}}else Bu(u,c,g,w);break;case 23:break;case 22:F=c.stateNode,c.memoizedState!==null?F._visibility&4?Bu(u,c,g,w):Ph(u,c):F._visibility&4?Bu(u,c,g,w):(F._visibility|=4,Sf(u,c,g,w,(c.subtreeFlags&10256)!==0)),O&2048&&hb(c.alternate,c);break;case 24:Bu(u,c,g,w),O&2048&&pb(c.alternate,c);break;default:Bu(u,c,g,w)}}function Sf(u,c,g,w,O){for(O=O&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var F=u,ue=c,Ce=g,Ve=w,at=ue.flags;switch(ue.tag){case 0:case 11:case 15:Sf(F,ue,Ce,Ve,O),Rh(8,ue);break;case 23:break;case 22:var _t=ue.stateNode;ue.memoizedState!==null?_t._visibility&4?Sf(F,ue,Ce,Ve,O):Ph(F,ue):(_t._visibility|=4,Sf(F,ue,Ce,Ve,O)),O&&at&2048&&hb(ue.alternate,ue);break;case 24:Sf(F,ue,Ce,Ve,O),O&&at&2048&&pb(ue.alternate,ue);break;default:Sf(F,ue,Ce,Ve,O)}c=c.sibling}}function Ph(u,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=u,w=c,O=w.flags;switch(w.tag){case 22:Ph(g,w),O&2048&&hb(w.alternate,w);break;case 24:Ph(g,w),O&2048&&pb(w.alternate,w);break;default:Ph(g,w)}c=c.sibling}}var Oh=8192;function xf(u){if(u.subtreeFlags&Oh)for(u=u.child;u!==null;)jO(u),u=u.sibling}function jO(u){switch(u.tag){case 26:xf(u),u.flags&Oh&&u.memoizedState!==null&&YH(_s,u.memoizedState,u.memoizedProps);break;case 5:xf(u);break;case 3:case 4:var c=_s;_s=Py(u.stateNode.containerInfo),xf(u),_s=c;break;case 22:u.memoizedState===null&&(c=u.alternate,c!==null&&c.memoizedState!==null?(c=Oh,Oh=16777216,xf(u),Oh=c):xf(u));break;default:xf(u)}}function $O(u){var c=u.alternate;if(c!==null&&(u=c.child,u!==null)){c.child=null;do c=u.sibling,u.sibling=null,u=c;while(u!==null)}}function Lh(u){var c=u.deletions;if(u.flags&16){if(c!==null)for(var g=0;g<c.length;g++){var w=c[g];pi=w,BO(w,u)}$O(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)UO(u),u=u.sibling}function UO(u){switch(u.tag){case 0:case 11:case 15:Lh(u),u.flags&2048&&$u(9,u,u.return);break;case 3:Lh(u);break;case 12:Lh(u);break;case 22:var c=u.stateNode;u.memoizedState!==null&&c._visibility&4&&(u.return===null||u.return.tag!==13)?(c._visibility&=-5,gy(u)):Lh(u);break;default:Lh(u)}}function gy(u){var c=u.deletions;if(u.flags&16){if(c!==null)for(var g=0;g<c.length;g++){var w=c[g];pi=w,BO(w,u)}$O(u)}for(u=u.child;u!==null;){switch(c=u,c.tag){case 0:case 11:case 15:$u(8,c,c.return),gy(c);break;case 22:g=c.stateNode,g._visibility&4&&(g._visibility&=-5,gy(c));break;default:gy(c)}u=u.sibling}}function BO(u,c){for(;pi!==null;){var g=pi;switch(g.tag){case 0:case 11:case 15:$u(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:vh(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,pi=w;else e:for(g=u;pi!==null;){w=pi;var O=w.sibling,F=w.return;if(IO(w),w===g){pi=null;break e}if(O!==null){O.return=F,pi=O;break e}pi=F}}}function fH(u,c,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(u,c,g,w){return new fH(u,c,g,w)}function gb(u){return u=u.prototype,!(!u||!u.isReactComponent)}function qu(u,c){var g=u.alternate;return g===null?(g=ts(u.tag,c,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=c,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,c=u.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function qO(u,c){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=c,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,c=g.dependencies,u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),u}function my(u,c,g,w,O,F){var ue=0;if(w=u,typeof u=="function")gb(u)&&(ue=1);else if(typeof u=="string")ue=ZH(u,g,ie.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Ql(g.children,O,F,c);case f:ue=8,O|=24;break;case h:return u=ts(12,g,c,O|2),u.elementType=h,u.lanes=F,u;case b:return u=ts(13,g,c,O),u.elementType=b,u.lanes=F,u;case S:return u=ts(19,g,c,O),u.elementType=S,u.lanes=F,u;case A:return zO(g,O,F,c);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:ue=10;break e;case m:ue=9;break e;case _:ue=11;break e;case x:ue=14;break e;case E:ue=16,w=null;break e}ue=29,g=Error(r(130,u===null?"null":typeof u,"")),w=null}return c=ts(ue,g,c,O),c.elementType=u,c.type=w,c.lanes=F,c}function Ql(u,c,g,w){return u=ts(7,u,w,c),u.lanes=g,u}function zO(u,c,g,w){u=ts(22,u,w,c),u.elementType=A,u.lanes=g;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var F=O._current;if(F===null)throw Error(r(456));if(!(O._pendingVisibility&2)){var ue=da(F,2);ue!==null&&(O._pendingVisibility|=2,Xi(ue,F,2))}},attach:function(){var F=O._current;if(F===null)throw Error(r(456));if(O._pendingVisibility&2){var ue=da(F,2);ue!==null&&(O._pendingVisibility&=-3,Xi(ue,F,2))}}};return u.stateNode=O,u}function mb(u,c,g){return u=ts(6,u,null,c),u.lanes=g,u}function yb(u,c,g){return c=ts(4,u.children!==null?u.children:[],u.key,c),c.lanes=g,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}function jo(u){u.flags|=4}function HO(u,c){if(c.type!=="stylesheet"||c.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!RL(c)){if(c=Ya.current,c!==null&&((jn&4194176)===jn?Vs!==null:(jn&62914560)!==jn&&!(jn&536870912)||c!==Vs))throw Ou=zs,_i;u.flags|=8192}}function yy(u,c){c!==null&&(u.flags|=4),u.flags&16384&&(c=u.tag!==22?qe():536870912,u.lanes|=c,Tf|=c)}function Ih(u,c){if(!ve)switch(u.tailMode){case"hidden":c=u.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Pr(u){var c=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(c)for(var O=u.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags&31457280,w|=O.flags&31457280,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)g|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=w,u.childLanes=g,c}function dH(u,c,g){var w=c.pendingProps;switch(P(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(c),null;case 1:return Pr(c),null;case 3:return g=c.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),c.memoizedState.cache!==w&&(c.flags|=2048),Do(si),he(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(gn(c)?jo(c):u===null||u.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Ge!==null&&(Tb(Ge),Ge=null))),Pr(c),null;case 26:return g=c.memoizedState,u===null?(jo(c),g!==null?(Pr(c),HO(c,g)):(Pr(c),c.flags&=-16777217)):g?g!==u.memoizedState?(jo(c),Pr(c),HO(c,g)):(Pr(c),c.flags&=-16777217):(u.memoizedProps!==w&&jo(c),Pr(c),c.flags&=-16777217),null;case 27:He(c),g=$.current;var O=c.type;if(u!==null&&c.stateNode!=null)u.memoizedProps!==w&&jo(c);else{if(!w){if(c.stateNode===null)throw Error(r(166));return Pr(c),null}u=ie.current,gn(c)?jt(c):(u=wL(O,w,g),c.stateNode=u,jo(c))}return Pr(c),null;case 5:if(He(c),g=c.type,u!==null&&c.stateNode!=null)u.memoizedProps!==w&&jo(c);else{if(!w){if(c.stateNode===null)throw Error(r(166));return Pr(c),null}if(u=ie.current,gn(c))jt(c);else{switch(O=Ry($.current),u){case 1:u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=O.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?u.multiple=!0:w.size&&(u.size=w.size);break;default:u=typeof w.is=="string"?O.createElement(g,{is:w.is}):O.createElement(g)}}u[it]=c,u[Et]=w;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)u.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=u;e:switch(bi(u,g,w),g){case"button":case"input":case"select":case"textarea":u=!!w.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&jo(c)}}return Pr(c),c.flags&=-16777217,null;case 6:if(u&&c.stateNode!=null)u.memoizedProps!==w&&jo(c);else{if(typeof w!="string"&&c.stateNode===null)throw Error(r(166));if(u=$.current,gn(c)){if(u=c.stateNode,g=c.memoizedProps,w=null,O=U,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}u[it]=c,u=!!(u.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||pL(u.nodeValue,g)),u||bt(c)}else u=Ry(u).createTextNode(w),u[it]=c,c.stateNode=u}return Pr(c),null;case 13:if(w=c.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(O=gn(c),w!==null&&w.dehydrated!==null){if(u===null){if(!O)throw Error(r(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[it]=c}else qr(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Pr(c),O=!1}else Ge!==null&&(Tb(Ge),Ge=null),O=!0;if(!O)return c.flags&256?(Oo(c),c):(Oo(c),null)}if(Oo(c),c.flags&128)return c.lanes=g,c;if(g=w!==null,u=u!==null&&u.memoizedState!==null,g){w=c.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var F=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(F=w.memoizedState.cachePool.pool),F!==O&&(w.flags|=2048)}return g!==u&&g&&(c.child.flags|=8192),yy(c,c.updateQueue),Pr(c),null;case 4:return he(),u===null&&Nb(c.stateNode.containerInfo),Pr(c),null;case 10:return Do(c.type),Pr(c),null;case 19:if(Fe(ai),O=c.memoizedState,O===null)return Pr(c),null;if(w=(c.flags&128)!==0,F=O.rendering,F===null)if(w)Ih(O,!1);else{if(Dr!==0||u!==null&&u.flags&128)for(u=c.child;u!==null;){if(F=ey(u),F!==null){for(c.flags|=128,Ih(O,!1),u=F.updateQueue,c.updateQueue=u,yy(c,u),c.subtreeFlags=0,u=g,g=c.child;g!==null;)qO(g,u),g=g.sibling;return Xe(ai,ai.current&1|2),c.child}u=u.sibling}O.tail!==null&&Ut()>vy&&(c.flags|=128,w=!0,Ih(O,!1),c.lanes=4194304)}else{if(!w)if(u=ey(F),u!==null){if(c.flags|=128,w=!0,u=u.updateQueue,c.updateQueue=u,yy(c,u),Ih(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!ve)return Pr(c),null}else 2*Ut()-O.renderingStartTime>vy&&g!==536870912&&(c.flags|=128,w=!0,Ih(O,!1),c.lanes=4194304);O.isBackwards?(F.sibling=c.child,c.child=F):(u=O.last,u!==null?u.sibling=F:c.child=F,O.last=F)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=Ut(),c.sibling=null,u=ai.current,Xe(ai,w?u&1|2:u&1),c):(Pr(c),null);case 22:case 23:return Oo(c),Ew(),w=c.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(c.flags|=8192):w&&(c.flags|=8192),w?g&536870912&&!(c.flags&128)&&(Pr(c),c.subtreeFlags&6&&(c.flags|=8192)):Pr(c),g=c.updateQueue,g!==null&&yy(c,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),w=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),w!==g&&(c.flags|=2048),u!==null&&Fe(Bl),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Do(si),Pr(c),null;case 25:return null}throw Error(r(156,c.tag))}function hH(u,c){switch(P(c),c.tag){case 1:return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return Do(si),he(),u=c.flags,u&65536&&!(u&128)?(c.flags=u&-65537|128,c):null;case 26:case 27:case 5:return He(c),null;case 13:if(Oo(c),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qr()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return Fe(ai),null;case 4:return he(),null;case 10:return Do(c.type),null;case 22:case 23:return Oo(c),Ew(),u!==null&&Fe(Bl),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 24:return Do(si),null;case 25:return null;default:return null}}function VO(u,c){switch(P(c),c.tag){case 3:Do(si),he();break;case 26:case 27:case 5:He(c);break;case 4:he();break;case 13:Oo(c);break;case 19:Fe(ai);break;case 10:Do(c.type);break;case 22:case 23:Oo(c),Ew(),u!==null&&Fe(Bl);break;case 24:Do(si)}}var pH={getCacheForType:function(u){var c=Di(si),g=c.data.get(u);return g===void 0&&(g=u(),c.data.set(u,g)),g}},gH=typeof WeakMap=="function"?WeakMap:Map,Or=0,_r=null,In=null,jn=0,wr=0,La=null,$o=!1,Ef=!1,vb=!1,Uo=0,Dr=0,zu=0,Zl=0,_b=0,ns=0,Tf=0,Mh=null,Gs=null,wb=!1,bb=0,vy=1/0,_y=null,Hu=null,wy=!1,Jl=null,Dh=0,Sb=0,xb=null,kh=0,Eb=null;function Ia(){if(Or&2&&jn!==0)return jn&-jn;if(Y.T!==null){var u=mf;return u!==0?u:Ib()}return Ee()}function KO(){ns===0&&(ns=!(jn&536870912)||ve?Oe():536870912);var u=Ya.current;return u!==null&&(u.flags|=32),ns}function Xi(u,c,g){(u===_r&&wr===2||u.cancelPendingCommit!==null)&&(Cf(u,0),Bo(u,jn,ns,!1)),xt(u,g),(!(Or&2)||u!==_r)&&(u===_r&&(!(Or&2)&&(Zl|=g),Dr===4&&Bo(u,jn,ns,!1)),Ws(u))}function GO(u,c,g){if(Or&6)throw Error(r(327));var w=!g&&(c&60)===0&&(c&u.expiredLanes)===0||Ln(u,c),O=w?vH(u,c):Rb(u,c,!0),F=w;do{if(O===0){Ef&&!w&&Bo(u,c,0,!1);break}else if(O===6)Bo(u,c,0,!$o);else{if(g=u.current.alternate,F&&!mH(g)){O=Rb(u,c,!1),F=!1;continue}if(O===2){if(F=c,u.errorRecoveryDisabledLanes&F)var ue=0;else ue=u.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){c=ue;e:{var Ce=u;O=Mh;var Ve=Ce.current.memoizedState.isDehydrated;if(Ve&&(Cf(Ce,ue).flags|=256),ue=Rb(Ce,ue,!1),ue!==2){if(vb&&!Ve){Ce.errorRecoveryDisabledLanes|=F,Zl|=F,O=4;break e}F=Gs,Gs=O,F!==null&&Tb(F)}O=ue}if(F=!1,O!==2)continue}}if(O===1){Cf(u,0),Bo(u,c,0,!0);break}e:{switch(w=u,O){case 0:case 1:throw Error(r(345));case 4:if((c&4194176)===c){Bo(w,c,ns,!$o);break e}break;case 2:Gs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(w.finishedWork=g,w.finishedLanes=c,(c&62914560)===c&&(F=bb+300-Ut(),10<F)){if(Bo(w,c,ns,!$o),un(w,0)!==0)break e;w.timeoutHandle=yL(WO.bind(null,w,g,Gs,_y,wb,c,ns,Zl,Tf,$o,2,-0,0),F);break e}WO(w,g,Gs,_y,wb,c,ns,Zl,Tf,$o,0,-0,0)}}break}while(!0);Ws(u)}function Tb(u){Gs===null?Gs=u:Gs.push.apply(Gs,u)}function WO(u,c,g,w,O,F,ue,Ce,Ve,at,_t,Ct,pt){var vt=c.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Bh={stylesheets:null,count:0,unsuspend:JH},jO(c),c=XH(),c!==null)){u.cancelPendingCommit=c(tL.bind(null,u,g,w,O,ue,Ce,Ve,1,Ct,pt)),Bo(u,F,ue,!at);return}tL(u,g,w,O,ue,Ce,Ve,_t,Ct,pt)}function mH(u){for(var c=u;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var O=g[w],F=O.getSnapshot;O=O.value;try{if(!Gi(F(),O))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Bo(u,c,g,w){c&=~_b,c&=~Zl,u.suspendedLanes|=c,u.pingedLanes&=~c,w&&(u.warmLanes|=c),w=u.expirationTimes;for(var O=c;0<O;){var F=31-Rt(O),ue=1<<F;w[F]=-1,O&=~ue}g!==0&&qn(u,g,c)}function by(){return Or&6?!0:(Nh(0),!1)}function Cb(){if(In!==null){if(wr===0)var u=In.return;else u=In,Mo=Kl=null,Iw(u),Ro=null,vr=0,u=In;for(;u!==null;)VO(u.alternate,u),u=u.return;In=null}}function Cf(u,c){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,kH(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),Cb(),_r=u,In=g=qu(u.current,null),jn=c,wr=0,La=null,$o=!1,Ef=Ln(u,c),vb=!1,Tf=ns=_b=Zl=zu=Dr=0,Gs=Mh=null,wb=!1,c&8&&(c|=c&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=c;0<w;){var O=31-Rt(w),F=1<<O;c|=u[O],w&=~F}return Uo=c,fa(),g}function QO(u,c){Tn=null,Y.H=Ks,c===di?(c=Zm(),wr=3):c===_i?(c=Zm(),wr=4):wr=c===uO?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,La=c,In===null&&(Dr=1,fy(u,Zi(c,u.current)))}function ZO(){var u=Y.H;return Y.H=Ks,u===null?Ks:u}function JO(){var u=Y.A;return Y.A=pH,u}function Ab(){Dr=4,$o||(jn&4194176)!==jn&&Ya.current!==null||(Ef=!0),!(zu&134217727)&&!(Zl&134217727)||_r===null||Bo(_r,jn,ns,!1)}function Rb(u,c,g){var w=Or;Or|=2;var O=ZO(),F=JO();(_r!==u||jn!==c)&&(_y=null,Cf(u,c)),c=!1;var ue=Dr;e:do try{if(wr!==0&&In!==null){var Ce=In,Ve=La;switch(wr){case 8:Cb(),ue=6;break e;case 3:case 2:case 6:Ya.current===null&&(c=!0);var at=wr;if(wr=0,La=null,Af(u,Ce,Ve,at),g&&Ef){ue=0;break e}break;default:at=wr,wr=0,La=null,Af(u,Ce,Ve,at)}}yH(),ue=Dr;break}catch(_t){QO(u,_t)}while(!0);return c&&u.shellSuspendCounter++,Mo=Kl=null,Or=w,Y.H=O,Y.A=F,In===null&&(_r=null,jn=0,fa()),ue}function yH(){for(;In!==null;)YO(In)}function vH(u,c){var g=Or;Or|=2;var w=ZO(),O=JO();_r!==u||jn!==c?(_y=null,vy=Ut()+500,Cf(u,c)):Ef=Ln(u,c);e:do try{if(wr!==0&&In!==null){c=In;var F=La;t:switch(wr){case 1:wr=0,La=null,Af(u,c,F,1);break;case 2:if(Wm(F)){wr=0,La=null,XO(c);break}c=function(){wr===2&&_r===u&&(wr=7),Ws(u)},F.then(c,c);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:Wm(F)?(wr=0,La=null,XO(c)):(wr=0,La=null,Af(u,c,F,7));break;case 5:var ue=null;switch(In.tag){case 26:ue=In.memoizedState;case 5:case 27:var Ce=In;if(!ue||RL(ue)){wr=0,La=null;var Ve=Ce.sibling;if(Ve!==null)In=Ve;else{var at=Ce.return;at!==null?(In=at,Sy(at)):In=null}break t}}wr=0,La=null,Af(u,c,F,5);break;case 6:wr=0,La=null,Af(u,c,F,6);break;case 8:Cb(),Dr=6;break e;default:throw Error(r(462))}}_H();break}catch(_t){QO(u,_t)}while(!0);return Mo=Kl=null,Y.H=w,Y.A=O,Or=g,In!==null?0:(_r=null,jn=0,fa(),Dr)}function _H(){for(;In!==null&&!nt();)YO(In)}function YO(u){var c=wO(u.alternate,u,Uo);u.memoizedProps=u.pendingProps,c===null?Sy(u):In=c}function XO(u){var c=u,g=c.alternate;switch(c.tag){case 15:case 0:c=pO(g,c,c.pendingProps,c.type,void 0,jn);break;case 11:c=pO(g,c,c.pendingProps,c.type.render,c.ref,jn);break;case 5:Iw(c);default:VO(g,c),c=In=qO(c,Uo),c=wO(g,c,Uo)}u.memoizedProps=u.pendingProps,c===null?Sy(u):In=c}function Af(u,c,g,w){Mo=Kl=null,Iw(c),Ro=null,vr=0;var O=c.return;try{if(oH(u,O,c,g,jn)){Dr=1,fy(u,Zi(g,u.current)),In=null;return}}catch(F){if(O!==null)throw In=O,F;Dr=1,fy(u,Zi(g,u.current)),In=null;return}c.flags&32768?(ve||w===1?u=!0:Ef||jn&536870912?u=!1:($o=u=!0,(w===2||w===3||w===6)&&(w=Ya.current,w!==null&&w.tag===13&&(w.flags|=16384))),eL(c,u)):Sy(c)}function Sy(u){var c=u;do{if(c.flags&32768){eL(c,$o);return}u=c.return;var g=dH(c.alternate,c,Uo);if(g!==null){In=g;return}if(c=c.sibling,c!==null){In=c;return}In=c=u}while(c!==null);Dr===0&&(Dr=5)}function eL(u,c){do{var g=hH(u.alternate,u);if(g!==null){g.flags&=32767,In=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(u=u.sibling,u!==null)){In=u;return}In=u=g}while(u!==null);Dr=6,In=null}function tL(u,c,g,w,O,F,ue,Ce,Ve,at){var _t=Y.T,Ct=J.p;try{J.p=2,Y.T=null,wH(u,c,g,w,Ct,O,F,ue,Ce,Ve,at)}finally{Y.T=_t,J.p=Ct}}function wH(u,c,g,w,O,F,ue,Ce){do Rf();while(Jl!==null);if(Or&6)throw Error(r(327));var Ve=u.finishedWork;if(w=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=mh,Lt(u,w,at,F,ue,Ce),u===_r&&(In=_r=null,jn=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||wy||(wy=!0,Sb=at,xb=g,EH(B,function(){return Rf(),null})),g=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||g?(g=Y.T,Y.T=null,F=J.p,J.p=2,ue=Or,Or|=4,lH(u,Ve),kO(Ve,u),lf(Ub,u.containerInfo),Dy=!!$b,Ub=$b=null,u.current=Ve,LO(u,Ve.alternate,Ve),gt(),Or=ue,J.p=F,Y.T=g):u.current=Ve,wy?(wy=!1,Jl=u,Dh=w):nL(u,at),at=u.pendingLanes,at===0&&(Hu=null),Ot(Ve.stateNode),Ws(u),c!==null)for(O=u.onRecoverableError,Ve=0;Ve<c.length;Ve++)at=c[Ve],O(at.value,{componentStack:at.stack});return Dh&3&&Rf(),at=u.pendingLanes,w&4194218&&at&42?u===Eb?kh++:(kh=0,Eb=u):kh=0,Nh(0),null}function nL(u,c){(u.pooledCacheLanes&=c)===0&&(c=u.pooledCache,c!=null&&(u.pooledCache=null,vh(c)))}function Rf(){if(Jl!==null){var u=Jl,c=Sb;Sb=0;var g=We(Dh),w=Y.T,O=J.p;try{if(J.p=32>g?32:g,Y.T=null,Jl===null)var F=!1;else{g=xb,xb=null;var ue=Jl,Ce=Dh;if(Jl=null,Dh=0,Or&6)throw Error(r(331));var Ve=Or;if(Or|=4,UO(ue.current),FO(ue,ue.current,Ce,g),Or=Ve,Nh(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ke,ue)}catch{}F=!0}return F}finally{J.p=O,Y.T=w,nL(u,c)}}return!1}function rL(u,c,g){c=Zi(g,c),c=Kw(u.stateNode,c,2),u=ju(u,c,2),u!==null&&(xt(u,2),Ws(u))}function gr(u,c,g){if(u.tag===3)rL(u,u,g);else for(;c!==null;){if(c.tag===3){rL(c,u,g);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Hu===null||!Hu.has(w))){u=Zi(g,u),g=sO(2),w=ju(c,g,2),w!==null&&(oO(g,w,c,u),xt(w,2),Ws(w));break}}c=c.return}}function Pb(u,c,g){var w=u.pingCache;if(w===null){w=u.pingCache=new gH;var O=new Set;w.set(c,O)}else O=w.get(c),O===void 0&&(O=new Set,w.set(c,O));O.has(g)||(vb=!0,O.add(g),u=bH.bind(null,u,c,g),c.then(u,u))}function bH(u,c,g){var w=u.pingCache;w!==null&&w.delete(c),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,_r===u&&(jn&g)===g&&(Dr===4||Dr===3&&(jn&62914560)===jn&&300>Ut()-bb?!(Or&2)&&Cf(u,0):_b|=g,Tf===jn&&(Tf=0)),Ws(u)}function iL(u,c){c===0&&(c=qe()),u=da(u,c),u!==null&&(xt(u,c),Ws(u))}function SH(u){var c=u.memoizedState,g=0;c!==null&&(g=c.retryLane),iL(u,g)}function xH(u,c){var g=0;switch(u.tag){case 13:var w=u.stateNode,O=u.memoizedState;O!==null&&(g=O.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(c),iL(u,g)}function EH(u,c){return Ne(u,c)}var xy=null,Pf=null,Ob=!1,Ey=!1,Lb=!1,Yl=0;function Ws(u){u!==Pf&&u.next===null&&(Pf===null?xy=Pf=u:Pf=Pf.next=u),Ey=!0,Ob||(Ob=!0,CH(TH))}function Nh(u,c){if(!Lb&&Ey){Lb=!0;do for(var g=!1,w=xy;w!==null;){if(u!==0){var O=w.pendingLanes;if(O===0)var F=0;else{var ue=w.suspendedLanes,Ce=w.pingedLanes;F=(1<<31-Rt(42|u)+1)-1,F&=O&~(ue&~Ce),F=F&201326677?F&201326677|1:F?F|2:0}F!==0&&(g=!0,oL(w,F))}else F=jn,F=un(w,w===_r?F:0),!(F&3)||Ln(w,F)||(g=!0,oL(w,F));w=w.next}while(g);Lb=!1}}function TH(){Ey=Ob=!1;var u=0;Yl!==0&&(DH()&&(u=Yl),Yl=0);for(var c=Ut(),g=null,w=xy;w!==null;){var O=w.next,F=aL(w,c);F===0?(w.next=null,g===null?xy=O:g.next=O,O===null&&(Pf=g)):(g=w,(u!==0||F&3)&&(Ey=!0)),w=O}Nh(u)}function aL(u,c){for(var g=u.suspendedLanes,w=u.pingedLanes,O=u.expirationTimes,F=u.pendingLanes&-62914561;0<F;){var ue=31-Rt(F),Ce=1<<ue,Ve=O[ue];Ve===-1?(!(Ce&g)||Ce&w)&&(O[ue]=sr(Ce,c)):Ve<=c&&(u.expiredLanes|=Ce),F&=~Ce}if(c=_r,g=jn,g=un(u,u===c?g:0),w=u.callbackNode,g===0||u===c&&wr===2||u.cancelPendingCommit!==null)return w!==null&&w!==null&&tt(w),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||Ln(u,g)){if(c=g&-g,c===u.callbackPriority)return c;switch(w!==null&&tt(w),We(g)){case 2:case 8:g=X;break;case 32:g=B;break;case 268435456:g=V;break;default:g=B}return w=sL.bind(null,u),g=Ne(g,w),u.callbackPriority=c,u.callbackNode=g,c}return w!==null&&w!==null&&tt(w),u.callbackPriority=2,u.callbackNode=null,2}function sL(u,c){var g=u.callbackNode;if(Rf()&&u.callbackNode!==g)return null;var w=jn;return w=un(u,u===_r?w:0),w===0?null:(GO(u,w,c),aL(u,Ut()),u.callbackNode!=null&&u.callbackNode===g?sL.bind(null,u):null)}function oL(u,c){if(Rf())return null;GO(u,c,!0)}function CH(u){NH(function(){Or&6?Ne(Be,u):u()})}function Ib(){return Yl===0&&(Yl=Oe()),Yl}function uL(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:kt(""+u)}function lL(u,c){var g=c.ownerDocument.createElement("input");return g.name=c.name,g.value=c.value,u.id&&g.setAttribute("form",u.id),c.parentNode.insertBefore(g,c),u=new FormData(u),g.parentNode.removeChild(g),u}function AH(u,c,g,w,O){if(c==="submit"&&g&&g.stateNode===O){var F=uL((O[Et]||null).action),ue=w.submitter;ue&&(c=(c=ue[Et]||null)?uL(c.formAction):ue.getAttribute("formAction"),c!==null&&(F=c,ue=null));var Ce=new Ka("action","action",null,w,O);u.push({event:Ce,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Yl!==0){var Ve=ue?lL(O,ue):new FormData(O);Bw(g,{pending:!0,data:Ve,method:O.method,action:F},null,Ve)}}else typeof F=="function"&&(Ce.preventDefault(),Ve=ue?lL(O,ue):new FormData(O),Bw(g,{pending:!0,data:Ve,method:O.method,action:F},F,Ve))},currentTarget:O}]})}}for(var Mb=0;Mb<Km.length;Mb++){var Db=Km[Mb],RH=Db.toLowerCase(),PH=Db[0].toUpperCase()+Db.slice(1);fi(RH,"on"+PH)}fi(Ra,"onAnimationEnd"),fi(Nl,"onAnimationIteration"),fi(zm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(cf,"onTransitionRun"),fi(Sw,"onTransitionStart"),fi(Hm,"onTransitionCancel"),fi(Vm,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fh));function cL(u,c){c=(c&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],O=w.event;w=w.listeners;e:{var F=void 0;if(c)for(var ue=w.length-1;0<=ue;ue--){var Ce=w[ue],Ve=Ce.instance,at=Ce.currentTarget;if(Ce=Ce.listener,Ve!==F&&O.isPropagationStopped())break e;F=Ce,O.currentTarget=at;try{F(O)}catch(_t){cy(_t)}O.currentTarget=null,F=Ve}else for(ue=0;ue<w.length;ue++){if(Ce=w[ue],Ve=Ce.instance,at=Ce.currentTarget,Ce=Ce.listener,Ve!==F&&O.isPropagationStopped())break e;F=Ce,O.currentTarget=at;try{F(O)}catch(_t){cy(_t)}O.currentTarget=null,F=Ve}}}}function Dn(u,c){var g=c[Vt];g===void 0&&(g=c[Vt]=new Set);var w=u+"__bubble";g.has(w)||(fL(c,u,2,!1),g.add(w))}function kb(u,c,g){var w=0;c&&(w|=4),fL(g,u,w,c)}var Ty="_reactListening"+Math.random().toString(36).slice(2);function Nb(u){if(!u[Ty]){u[Ty]=!0,Tr.forEach(function(g){g!=="selectionchange"&&(OH.has(g)||kb(g,!1,u),kb(g,!0,u))});var c=u.nodeType===9?u:u.ownerDocument;c===null||c[Ty]||(c[Ty]=!0,kb("selectionchange",!1,c))}}function fL(u,c,g,w){switch(DL(c)){case 2:var O=n7;break;case 8:O=r7;break;default:O=Qb}g=O.bind(null,c,g,u),O=void 0,!hr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),w?O!==void 0?u.addEventListener(c,g,{capture:!0,passive:O}):u.addEventListener(c,g,!0):O!==void 0?u.addEventListener(c,g,{passive:O}):u.addEventListener(c,g,!1)}function Fb(u,c,g,w,O){var F=w;if(!(c&1)&&!(c&2)&&w!==null)e:for(;;){if(w===null)return;var ue=w.tag;if(ue===3||ue===4){var Ce=w.stateNode.containerInfo;if(Ce===O||Ce.nodeType===8&&Ce.parentNode===O)break;if(ue===4)for(ue=w.return;ue!==null;){var Ve=ue.tag;if((Ve===3||Ve===4)&&(Ve=ue.stateNode.containerInfo,Ve===O||Ve.nodeType===8&&Ve.parentNode===O))return;ue=ue.return}for(;Ce!==null;){if(ue=Kt(Ce),ue===null)return;if(Ve=ue.tag,Ve===5||Ve===6||Ve===26||Ve===27){w=F=ue;continue e}Ce=Ce.parentNode}}w=w.return}hn(function(){var at=F,_t=Bn(g),Ct=[];e:{var pt=Ru.get(u);if(pt!==void 0){var vt=Ka,Zt=u;switch(u){case"keypress":if(nr(g)===0)break e;case"keydown":case"keyup":vt=pw;break;case"focusin":Zt="focus",vt=Wa;break;case"focusout":Zt="blur",vt=Wa;break;case"beforeblur":case"afterblur":vt=Wa;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=mw;break;case Ra:case Nl:case zm:vt=Rl;break;case Vm:vt=yw;break;case"scroll":case"scrollend":vt=wu;break;case"wheel":vt=Nm;break;case"copy":case"cut":case"paste":vt=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=sh;break;case"toggle":case"beforetoggle":vt=yo}var mn=(c&4)!==0,kr=!mn&&(u==="scroll"||u==="scrollend"),ct=mn?pt!==null?pt+"Capture":null:pt;mn=[];for(var rt=at,ht;rt!==null;){var St=rt;if(ht=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ht===null||ct===null||(St=Yn(rt,ct),St!=null&&mn.push(jh(rt,St,ht))),kr)break;rt=rt.return}0<mn.length&&(pt=new vt(pt,Zt,null,g,_t),Ct.push({event:pt,listeners:mn}))}}if(!(c&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==zt&&(Zt=g.relatedTarget||g.fromElement)&&(Kt(Zt)||Zt[It]))break e;if((vt||pt)&&(pt=_t.window===_t?_t:(pt=_t.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Zt=g.relatedTarget||g.toElement,vt=at,Zt=Zt?Kt(Zt):null,Zt!==null&&(kr=ce(Zt),mn=Zt.tag,Zt!==kr||mn!==5&&mn!==27&&mn!==6)&&(Zt=null)):(vt=null,Zt=at),vt!==Zt)){if(mn=Mi,St="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(mn=sh,St="onPointerLeave",ct="onPointerEnter",rt="pointer"),kr=vt==null?pt:xn(vt),ht=Zt==null?pt:xn(Zt),pt=new mn(St,rt+"leave",vt,g,_t),pt.target=kr,pt.relatedTarget=ht,St=null,Kt(_t)===at&&(mn=new mn(ct,rt+"enter",Zt,g,_t),mn.target=ht,mn.relatedTarget=kr,St=mn),kr=St,vt&&Zt)t:{for(mn=vt,ct=Zt,rt=0,ht=mn;ht;ht=Of(ht))rt++;for(ht=0,St=ct;St;St=Of(St))ht++;for(;0<rt-ht;)mn=Of(mn),rt--;for(;0<ht-rt;)ct=Of(ct),ht--;for(;rt--;){if(mn===ct||ct!==null&&mn===ct.alternate)break t;mn=Of(mn),ct=Of(ct)}mn=null}else mn=null;vt!==null&&dL(Ct,pt,vt,mn,!1),Zt!==null&&kr!==null&&dL(Ct,kr,Zt,mn,!0)}}e:{if(pt=at?xn(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Ht=xu;else if(_o(pt))if(lh)Ht=bw;else{Ht=ww;var Pn=fh}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&Ft(at.elementType)&&(Ht=xu):Ht=ys;if(Ht&&(Ht=Ht(u,at))){Bm(Ct,Ht,g,_t);break e}Pn&&Pn(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(Pn=at?xn(at):window,u){case"focusin":(_o(Pn)||Pn.contentEditable==="true")&&(vs=Pn,Dl=at,Au=null);break;case"focusout":Au=Dl=vs=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,kl(Ct,g,_t);break;case"selectionchange":if(Cu)break;case"keydown":case"keyup":kl(Ct,g,_t)}var Xt;if(vo)e:{switch(u){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else bu?sf(u,g)&&(an="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(an="onCompositionStart");an&&(uh&&g.locale!=="ko"&&(bu||an!=="onCompositionStart"?an==="onCompositionEnd"&&bu&&(Xt=la()):(or=_t,vi="value"in or?or.value:or.textContent,bu=!0)),Pn=Cy(at,an),0<Pn.length&&(an=new Vi(an,u,null,g,_t),Ct.push({event:an,listeners:Pn}),Xt?an.data=Xt:(Xt=$m(g),Xt!==null&&(an.data=Xt)))),(Xt=Fm?Um(u,g):_w(u,g))&&(an=Cy(at,"onBeforeInput"),0<an.length&&(Pn=new Vi("onBeforeInput","beforeinput",null,g,_t),Ct.push({event:Pn,listeners:an}),Pn.data=Xt)),AH(Ct,u,at,g,_t)}cL(Ct,c)})}function jh(u,c,g){return{instance:u,listener:c,currentTarget:g}}function Cy(u,c){for(var g=c+"Capture",w=[];u!==null;){var O=u,F=O.stateNode;O=O.tag,O!==5&&O!==26&&O!==27||F===null||(O=Yn(u,g),O!=null&&w.unshift(jh(u,O,F)),O=Yn(u,c),O!=null&&w.push(jh(u,O,F))),u=u.return}return w}function Of(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function dL(u,c,g,w,O){for(var F=c._reactName,ue=[];g!==null&&g!==w;){var Ce=g,Ve=Ce.alternate,at=Ce.stateNode;if(Ce=Ce.tag,Ve!==null&&Ve===w)break;Ce!==5&&Ce!==26&&Ce!==27||at===null||(Ve=at,O?(at=Yn(g,F),at!=null&&ue.unshift(jh(g,at,Ve))):O||(at=Yn(g,F),at!=null&&ue.push(jh(g,at,Ve)))),g=g.return}ue.length!==0&&u.push({event:c,listeners:ue})}var LH=/\r\n?/g,IH=/\u0000|\uFFFD/g;function hL(u){return(typeof u=="string"?u:""+u).replace(LH,`
`).replace(IH,"")}function pL(u,c){return c=hL(c),hL(u)===c}function Ay(){}function fr(u,c,g,w,O,F){switch(g){case"children":typeof w=="string"?c==="body"||c==="textarea"&&w===""||Ue(u,w):(typeof w=="number"||typeof w=="bigint")&&c!=="body"&&Ue(u,""+w);break;case"className":N(u,"class",w);break;case"tabIndex":N(u,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,w);break;case"style":mt(u,w,F);break;case"data":if(c!=="object"){N(u,"data",w);break}case"src":case"href":if(w===""&&(c!=="a"||g!=="href")){u.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=kt(""+w),u.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(g==="formAction"?(c!=="input"&&fr(u,c,"name",O.name,O,null),fr(u,c,"formEncType",O.formEncType,O,null),fr(u,c,"formMethod",O.formMethod,O,null),fr(u,c,"formTarget",O.formTarget,O,null)):(fr(u,c,"encType",O.encType,O,null),fr(u,c,"method",O.method,O,null),fr(u,c,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=kt(""+w),u.setAttribute(g,w);break;case"onClick":w!=null&&(u.onclick=Ay);break;case"onScroll":w!=null&&Dn("scroll",u);break;case"onScrollEnd":w!=null&&Dn("scrollend",u);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":u.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){u.removeAttribute("xlink:href");break}g=kt(""+w),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""+w):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":w===!0?u.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,w):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?u.setAttribute(g,w):u.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?u.removeAttribute(g):u.setAttribute(g,w);break;case"popover":Dn("beforetoggle",u),Dn("toggle",u),R(u,"popover",w);break;case"xlinkActuate":G(u,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":G(u,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":G(u,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":G(u,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":G(u,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":G(u,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":G(u,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":G(u,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":G(u,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":R(u,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tt.get(g)||g,R(u,g,w))}}function jb(u,c,g,w,O,F){switch(g){case"style":mt(u,w,F);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof w=="string"?Ue(u,w):(typeof w=="number"||typeof w=="bigint")&&Ue(u,""+w);break;case"onScroll":w!=null&&Dn("scroll",u);break;case"onScrollEnd":w!=null&&Dn("scrollend",u);break;case"onClick":w!=null&&(u.onclick=Ay);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),c=g.slice(2,O?g.length-7:void 0),F=u[Et]||null,F=F!=null?F[g]:null,typeof F=="function"&&u.removeEventListener(c,F,O),typeof w=="function")){typeof F!="function"&&F!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(c,w,O);break e}g in u?u[g]=w:w===!0?u.setAttribute(g,""):R(u,g,w)}}}function bi(u,c,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",u),Dn("load",u);var w=!1,O=!1,F;for(F in g)if(g.hasOwnProperty(F)){var ue=g[F];if(ue!=null)switch(F){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:fr(u,c,F,ue,g,null)}}O&&fr(u,c,"srcSet",g.srcSet,g,null),w&&fr(u,c,"src",g.src,g,null);return;case"input":Dn("invalid",u);var Ce=F=ue=O=null,Ve=null,at=null;for(w in g)if(g.hasOwnProperty(w)){var _t=g[w];if(_t!=null)switch(w){case"name":O=_t;break;case"type":ue=_t;break;case"checked":Ve=_t;break;case"defaultChecked":at=_t;break;case"value":F=_t;break;case"defaultValue":Ce=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,c));break;default:fr(u,c,w,_t,g,null)}}st(u,F,Ce,Ve,at,ue,O,!1),xe(u);return;case"select":Dn("invalid",u),w=ue=F=null;for(O in g)if(g.hasOwnProperty(O)&&(Ce=g[O],Ce!=null))switch(O){case"value":F=Ce;break;case"defaultValue":ue=Ce;break;case"multiple":w=Ce;default:fr(u,c,O,Ce,g,null)}c=F,g=ue,u.multiple=!!w,c!=null?ut(u,!!w,c,!1):g!=null&&ut(u,!!w,g,!0);return;case"textarea":Dn("invalid",u),F=O=w=null;for(ue in g)if(g.hasOwnProperty(ue)&&(Ce=g[ue],Ce!=null))switch(ue){case"value":w=Ce;break;case"defaultValue":O=Ce;break;case"children":F=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(91));break;default:fr(u,c,ue,Ce,g,null)}De(u,w,O,F),xe(u);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(w=g[Ve],w!=null))switch(Ve){case"selected":u.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:fr(u,c,Ve,w,g,null)}return;case"dialog":Dn("cancel",u),Dn("close",u);break;case"iframe":case"object":Dn("load",u);break;case"video":case"audio":for(w=0;w<Fh.length;w++)Dn(Fh[w],u);break;case"image":Dn("error",u),Dn("load",u);break;case"details":Dn("toggle",u);break;case"embed":case"source":case"link":Dn("error",u),Dn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(w=g[at],w!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:fr(u,c,at,w,g,null)}return;default:if(Ft(c)){for(_t in g)g.hasOwnProperty(_t)&&(w=g[_t],w!==void 0&&jb(u,c,_t,w,g,void 0));return}}for(Ce in g)g.hasOwnProperty(Ce)&&(w=g[Ce],w!=null&&fr(u,c,Ce,w,g,null))}function MH(u,c,g,w){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,F=null,ue=null,Ce=null,Ve=null,at=null,_t=null;for(vt in g){var Ct=g[vt];if(g.hasOwnProperty(vt)&&Ct!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=Ct;default:w.hasOwnProperty(vt)||fr(u,c,vt,null,w,Ct)}}for(var pt in w){var vt=w[pt];if(Ct=g[pt],w.hasOwnProperty(pt)&&(vt!=null||Ct!=null))switch(pt){case"type":F=vt;break;case"name":O=vt;break;case"checked":at=vt;break;case"defaultChecked":_t=vt;break;case"value":ue=vt;break;case"defaultValue":Ce=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,c));break;default:vt!==Ct&&fr(u,c,pt,vt,w,Ct)}}Ye(u,ue,Ce,Ve,at,_t,F,O);return;case"select":vt=ue=Ce=pt=null;for(F in g)if(Ve=g[F],g.hasOwnProperty(F)&&Ve!=null)switch(F){case"value":break;case"multiple":vt=Ve;default:w.hasOwnProperty(F)||fr(u,c,F,null,w,Ve)}for(O in w)if(F=w[O],Ve=g[O],w.hasOwnProperty(O)&&(F!=null||Ve!=null))switch(O){case"value":pt=F;break;case"defaultValue":Ce=F;break;case"multiple":ue=F;default:F!==Ve&&fr(u,c,O,F,w,Ve)}c=Ce,g=ue,w=vt,pt!=null?ut(u,!!g,pt,!1):!!w!=!!g&&(c!=null?ut(u,!!g,c,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Ce in g)if(O=g[Ce],g.hasOwnProperty(Ce)&&O!=null&&!w.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:fr(u,c,Ce,null,w,O)}for(ue in w)if(O=w[ue],F=g[ue],w.hasOwnProperty(ue)&&(O!=null||F!=null))switch(ue){case"value":pt=O;break;case"defaultValue":vt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==F&&fr(u,c,ue,O,w,F)}be(u,pt,vt);return;case"option":for(var Zt in g)if(pt=g[Zt],g.hasOwnProperty(Zt)&&pt!=null&&!w.hasOwnProperty(Zt))switch(Zt){case"selected":u.selected=!1;break;default:fr(u,c,Zt,null,w,pt)}for(Ve in w)if(pt=w[Ve],vt=g[Ve],w.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:fr(u,c,Ve,pt,w,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in g)pt=g[mn],g.hasOwnProperty(mn)&&pt!=null&&!w.hasOwnProperty(mn)&&fr(u,c,mn,null,w,pt);for(at in w)if(pt=w[at],vt=g[at],w.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,c));break;default:fr(u,c,at,pt,w,vt)}return;default:if(Ft(c)){for(var kr in g)pt=g[kr],g.hasOwnProperty(kr)&&pt!==void 0&&!w.hasOwnProperty(kr)&&jb(u,c,kr,void 0,w,pt);for(_t in w)pt=w[_t],vt=g[_t],!w.hasOwnProperty(_t)||pt===vt||pt===void 0&&vt===void 0||jb(u,c,_t,pt,w,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!w.hasOwnProperty(ct)&&fr(u,c,ct,null,w,pt);for(Ct in w)pt=w[Ct],vt=g[Ct],!w.hasOwnProperty(Ct)||pt===vt||pt==null&&vt==null||fr(u,c,Ct,pt,w,vt)}var $b=null,Ub=null;function Ry(u){return u.nodeType===9?u:u.ownerDocument}function gL(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mL(u,c){if(u===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&c==="foreignObject"?0:u}function Bb(u,c){return u==="textarea"||u==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var qb=null;function DH(){var u=window.event;return u&&u.type==="popstate"?u===qb?!1:(qb=u,!0):(qb=null,!1)}var yL=typeof setTimeout=="function"?setTimeout:void 0,kH=typeof clearTimeout=="function"?clearTimeout:void 0,vL=typeof Promise=="function"?Promise:void 0,NH=typeof queueMicrotask=="function"?queueMicrotask:typeof vL<"u"?function(u){return vL.resolve(null).then(u).catch(FH)}:yL;function FH(u){setTimeout(function(){throw u})}function zb(u,c){var g=c,w=0;do{var O=g.nextSibling;if(u.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(w===0){u.removeChild(O),Kh(c);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=O}while(g);Kh(c)}function Hb(u){var c=u.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var g=c;switch(c=c.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Hb(g),Rn(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function jH(u,c,g,w){for(;u.nodeType===1;){var O=g;if(u.nodeName.toLowerCase()!==c.toLowerCase()){if(!w&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(w){if(!u[en])switch(c){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(F=u.getAttribute("rel"),F==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(F!==O.rel||u.getAttribute("href")!==(O.href==null?null:O.href)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||u.getAttribute("title")!==(O.title==null?null:O.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(F=u.getAttribute("src"),(F!==(O.src==null?null:O.src)||u.getAttribute("type")!==(O.type==null?null:O.type)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&F&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(c==="input"&&u.type==="hidden"){var F=O.name==null?null:""+O.name;if(O.type==="hidden"&&u.getAttribute("name")===F)return u}else return u;if(u=ws(u.nextSibling),u===null)break}return null}function $H(u,c,g){if(c==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=ws(u.nextSibling),u===null))return null;return u}function ws(u){for(;u!=null;u=u.nextSibling){var c=u.nodeType;if(c===1||c===3)break;if(c===8){if(c=u.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return u}function _L(u){u=u.previousSibling;for(var c=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return u;c--}else g==="/$"&&c++}u=u.previousSibling}return null}function wL(u,c,g){switch(c=Ry(g),u){case"html":if(u=c.documentElement,!u)throw Error(r(452));return u;case"head":if(u=c.head,!u)throw Error(r(453));return u;case"body":if(u=c.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var rs=new Map,bL=new Set;function Py(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var qo=J.d;J.d={f:UH,r:BH,D:qH,C:zH,L:HH,m:VH,X:GH,S:KH,M:WH};function UH(){var u=qo.f(),c=by();return u||c}function BH(u){var c=Qt(u);c!==null&&c.tag===5&&c.type==="form"?WP(c):qo.r(u)}var Lf=typeof document>"u"?null:document;function SL(u,c,g){var w=Lf;if(w&&typeof c=="string"&&c){var O=ze(c);O='link[rel="'+u+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),bL.has(O)||(bL.add(O),u={rel:u,crossOrigin:g,href:c},w.querySelector(O)===null&&(c=w.createElement("link"),bi(c,"link",u),Un(c),w.head.appendChild(c)))}}function qH(u){qo.D(u),SL("dns-prefetch",u,null)}function zH(u,c){qo.C(u,c),SL("preconnect",u,c)}function HH(u,c,g){qo.L(u,c,g);var w=Lf;if(w&&u&&c){var O='link[rel="preload"][as="'+ze(c)+'"]';c==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+ze(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+ze(g.imageSizes)+'"]')):O+='[href="'+ze(u)+'"]';var F=O;switch(c){case"style":F=If(u);break;case"script":F=Mf(u)}rs.has(F)||(u=q({rel:"preload",href:c==="image"&&g&&g.imageSrcSet?void 0:u,as:c},g),rs.set(F,u),w.querySelector(O)!==null||c==="style"&&w.querySelector($h(F))||c==="script"&&w.querySelector(Uh(F))||(c=w.createElement("link"),bi(c,"link",u),Un(c),w.head.appendChild(c)))}}function VH(u,c){qo.m(u,c);var g=Lf;if(g&&u){var w=c&&typeof c.as=="string"?c.as:"script",O='link[rel="modulepreload"][as="'+ze(w)+'"][href="'+ze(u)+'"]',F=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Mf(u)}if(!rs.has(F)&&(u=q({rel:"modulepreload",href:u},c),rs.set(F,u),g.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Uh(F)))return}w=g.createElement("link"),bi(w,"link",u),Un(w),g.head.appendChild(w)}}}function KH(u,c,g){qo.S(u,c,g);var w=Lf;if(w&&u){var O=En(w).hoistableStyles,F=If(u);c=c||"default";var ue=O.get(F);if(!ue){var Ce={loading:0,preload:null};if(ue=w.querySelector($h(F)))Ce.loading=5;else{u=q({rel:"stylesheet",href:u,"data-precedence":c},g),(g=rs.get(F))&&Vb(u,g);var Ve=ue=w.createElement("link");Un(Ve),bi(Ve,"link",u),Ve._p=new Promise(function(at,_t){Ve.onload=at,Ve.onerror=_t}),Ve.addEventListener("load",function(){Ce.loading|=1}),Ve.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,Oy(ue,c,w)}ue={type:"stylesheet",instance:ue,count:1,state:Ce},O.set(F,ue)}}}function GH(u,c){qo.X(u,c);var g=Lf;if(g&&u){var w=En(g).hoistableScripts,O=Mf(u),F=w.get(O);F||(F=g.querySelector(Uh(O)),F||(u=q({src:u,async:!0},c),(c=rs.get(O))&&Kb(u,c),F=g.createElement("script"),Un(F),bi(F,"link",u),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(O,F))}}function WH(u,c){qo.M(u,c);var g=Lf;if(g&&u){var w=En(g).hoistableScripts,O=Mf(u),F=w.get(O);F||(F=g.querySelector(Uh(O)),F||(u=q({src:u,async:!0,type:"module"},c),(c=rs.get(O))&&Kb(u,c),F=g.createElement("script"),Un(F),bi(F,"link",u),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(O,F))}}function xL(u,c,g,w){var O=(O=$.current)?Py(O):null;if(!O)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(c=If(g.href),g=En(O).hoistableStyles,w=g.get(c),w||(w={type:"style",instance:null,count:0,state:null},g.set(c,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=If(g.href);var F=En(O).hoistableStyles,ue=F.get(u);if(ue||(O=O.ownerDocument||O,ue={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(u,ue),(F=O.querySelector($h(u)))&&!F._p&&(ue.instance=F,ue.state.loading=5),rs.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},rs.set(u,g),F||QH(O,u,g,ue.state))),c&&w===null)throw Error(r(528,""));return ue}if(c&&w!==null)throw Error(r(529,""));return null;case"script":return c=g.async,g=g.src,typeof g=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Mf(g),g=En(O).hoistableScripts,w=g.get(c),w||(w={type:"script",instance:null,count:0,state:null},g.set(c,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function If(u){return'href="'+ze(u)+'"'}function $h(u){return'link[rel="stylesheet"]['+u+"]"}function EL(u){return q({},u,{"data-precedence":u.precedence,precedence:null})}function QH(u,c,g,w){u.querySelector('link[rel="preload"][as="style"]['+c+"]")?w.loading=1:(c=u.createElement("link"),w.preload=c,c.addEventListener("load",function(){return w.loading|=1}),c.addEventListener("error",function(){return w.loading|=2}),bi(c,"link",g),Un(c),u.head.appendChild(c))}function Mf(u){return'[src="'+ze(u)+'"]'}function Uh(u){return"script[async]"+u}function TL(u,c,g){if(c.count++,c.instance===null)switch(c.type){case"style":var w=u.querySelector('style[data-href~="'+ze(g.href)+'"]');if(w)return c.instance=w,Un(w),w;var O=q({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement("style"),Un(w),bi(w,"style",O),Oy(w,g.precedence,u),c.instance=w;case"stylesheet":O=If(g.href);var F=u.querySelector($h(O));if(F)return c.state.loading|=4,c.instance=F,Un(F),F;w=EL(g),(O=rs.get(O))&&Vb(w,O),F=(u.ownerDocument||u).createElement("link"),Un(F);var ue=F;return ue._p=new Promise(function(Ce,Ve){ue.onload=Ce,ue.onerror=Ve}),bi(F,"link",w),c.state.loading|=4,Oy(F,g.precedence,u),c.instance=F;case"script":return F=Mf(g.src),(O=u.querySelector(Uh(F)))?(c.instance=O,Un(O),O):(w=g,(O=rs.get(F))&&(w=q({},g),Kb(w,O)),u=u.ownerDocument||u,O=u.createElement("script"),Un(O),bi(O,"link",w),u.head.appendChild(O),c.instance=O);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&!(c.state.loading&4)&&(w=c.instance,c.state.loading|=4,Oy(w,g.precedence,u));return c.instance}function Oy(u,c,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,F=O,ue=0;ue<w.length;ue++){var Ce=w[ue];if(Ce.dataset.precedence===c)F=Ce;else if(F!==O)break}F?F.parentNode.insertBefore(u,F.nextSibling):(c=g.nodeType===9?g.head:g,c.insertBefore(u,c.firstChild))}function Vb(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.title==null&&(u.title=c.title)}function Kb(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.integrity==null&&(u.integrity=c.integrity)}var Ly=null;function CL(u,c,g){if(Ly===null){var w=new Map,O=Ly=new Map;O.set(g,w)}else O=Ly,w=O.get(g),w||(w=new Map,O.set(g,w));if(w.has(u))return w;for(w.set(u,null),g=g.getElementsByTagName(u),O=0;O<g.length;O++){var F=g[O];if(!(F[en]||F[it]||u==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var ue=F.getAttribute(c)||"";ue=u+ue;var Ce=w.get(ue);Ce?Ce.push(F):w.set(ue,[F])}}return w}function AL(u,c,g){u=u.ownerDocument||u,u.head.insertBefore(g,c==="title"?u.querySelector("head > title"):null)}function ZH(u,c,g){if(g===1||c.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return u=c.disabled,typeof c.precedence=="string"&&u==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function RL(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Bh=null;function JH(){}function YH(u,c,g){if(Bh===null)throw Error(r(475));var w=Bh;if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(c.state.loading&4)){if(c.instance===null){var O=If(g.href),F=u.querySelector($h(O));if(F){u=F._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(w.count++,w=Iy.bind(w),u.then(w,w)),c.state.loading|=4,c.instance=F,Un(F);return}F=u.ownerDocument||u,g=EL(g),(O=rs.get(O))&&Vb(g,O),F=F.createElement("link"),Un(F);var ue=F;ue._p=new Promise(function(Ce,Ve){ue.onload=Ce,ue.onerror=Ve}),bi(F,"link",g),c.instance=F}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(c,u),(u=c.state.preload)&&!(c.state.loading&3)&&(w.count++,c=Iy.bind(w),u.addEventListener("load",c),u.addEventListener("error",c))}}function XH(){if(Bh===null)throw Error(r(475));var u=Bh;return u.stylesheets&&u.count===0&&Gb(u,u.stylesheets),0<u.count?function(c){var g=setTimeout(function(){if(u.stylesheets&&Gb(u,u.stylesheets),u.unsuspend){var w=u.unsuspend;u.unsuspend=null,w()}},6e4);return u.unsuspend=c,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Iy(){if(this.count--,this.count===0){if(this.stylesheets)Gb(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var My=null;function Gb(u,c){u.stylesheets=null,u.unsuspend!==null&&(u.count++,My=new Map,c.forEach(e7,u),My=null,Iy.call(u))}function e7(u,c){if(!(c.state.loading&4)){var g=My.get(u);if(g)var w=g.get(null);else{g=new Map,My.set(u,g);for(var O=u.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<O.length;F++){var ue=O[F];(ue.nodeName==="LINK"||ue.getAttribute("media")!=="not all")&&(g.set(ue.dataset.precedence,ue),w=ue)}w&&g.set(null,w)}O=c.instance,ue=O.getAttribute("data-precedence"),F=g.get(ue)||w,F===w&&g.set(null,O),g.set(ue,O),this.count++,w=Iy.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),F?F.parentNode.insertBefore(O,F.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(O,u.firstChild)),c.state.loading|=4}}var qh={$$typeof:y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function t7(u,c,g,w,O,F,ue,Ce){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=F,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function PL(u,c,g,w,O,F,ue,Ce,Ve,at,_t,Ct){return u=new t7(u,c,g,ue,Ce,Ve,at,Ct),c=1,F===!0&&(c|=24),F=ts(3,null,null,c),u.current=F,F.stateNode=u,c=Tw(),c.refCount++,u.pooledCache=c,c.refCount++,F.memoizedState={element:w,isDehydrated:g,cache:c},ab(F),u}function OL(u){return u?(u=Qa,u):Qa}function LL(u,c,g,w,O,F){O=OL(O),w.context===null?w.context=O:w.pendingContext=O,w=Fu(c),w.payload={element:g},F=F===void 0?null:F,F!==null&&(w.callback=F),g=ju(u,w,c),g!==null&&(Xi(g,u,c),Th(g,u,c))}function IL(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<c?g:c}}function Wb(u,c){IL(u,c),(u=u.alternate)&&IL(u,c)}function ML(u){if(u.tag===13){var c=da(u,67108864);c!==null&&Xi(c,u,67108864),Wb(u,67108864)}}var Dy=!0;function n7(u,c,g,w){var O=Y.T;Y.T=null;var F=J.p;try{J.p=2,Qb(u,c,g,w)}finally{J.p=F,Y.T=O}}function r7(u,c,g,w){var O=Y.T;Y.T=null;var F=J.p;try{J.p=8,Qb(u,c,g,w)}finally{J.p=F,Y.T=O}}function Qb(u,c,g,w){if(Dy){var O=Zb(w);if(O===null)Fb(u,c,w,ky,g),kL(u,w);else if(a7(O,u,c,g,w))w.stopPropagation();else if(kL(u,w),c&4&&-1<i7.indexOf(u)){for(;O!==null;){var F=Qt(O);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var ue=on(F.pendingLanes);if(ue!==0){var Ce=F;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;ue;){var Ve=1<<31-Rt(ue);Ce.entanglements[1]|=Ve,ue&=~Ve}Ws(F),!(Or&6)&&(vy=Ut()+500,Nh(0))}}break;case 13:Ce=da(F,2),Ce!==null&&Xi(Ce,F,2),by(),Wb(F,2)}if(F=Zb(w),F===null&&Fb(u,c,w,ky,g),F===O)break;O=F}O!==null&&w.stopPropagation()}else Fb(u,c,w,null,g)}}function Zb(u){return u=Bn(u),Jb(u)}var ky=null;function Jb(u){if(ky=null,u=Kt(u),u!==null){var c=ce(u);if(c===null)u=null;else{var g=c.tag;if(g===13){if(u=Le(c),u!==null)return u;u=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;u=null}else c!==u&&(u=null)}}return ky=u,null}function DL(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case X:return 8;case B:case K:return 32;case V:return 268435456;default:return 32}default:return 32}}var Yb=!1,Vu=null,Ku=null,Gu=null,zh=new Map,Hh=new Map,Wu=[],i7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kL(u,c){switch(u){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Gu=null;break;case"pointerover":case"pointerout":zh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(c.pointerId)}}function Vh(u,c,g,w,O,F){return u===null||u.nativeEvent!==F?(u={blockedOn:c,domEventName:g,eventSystemFlags:w,nativeEvent:F,targetContainers:[O]},c!==null&&(c=Qt(c),c!==null&&ML(c)),u):(u.eventSystemFlags|=w,c=u.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),u)}function a7(u,c,g,w,O){switch(c){case"focusin":return Vu=Vh(Vu,u,c,g,w,O),!0;case"dragenter":return Ku=Vh(Ku,u,c,g,w,O),!0;case"mouseover":return Gu=Vh(Gu,u,c,g,w,O),!0;case"pointerover":var F=O.pointerId;return zh.set(F,Vh(zh.get(F)||null,u,c,g,w,O)),!0;case"gotpointercapture":return F=O.pointerId,Hh.set(F,Vh(Hh.get(F)||null,u,c,g,w,O)),!0}return!1}function NL(u){var c=Kt(u.target);if(c!==null){var g=ce(c);if(g!==null){if(c=g.tag,c===13){if(c=Le(g),c!==null){u.blockedOn=c,et(u.priority,function(){if(g.tag===13){var w=Ia(),O=da(g,w);O!==null&&Xi(O,g,w),Wb(g,w)}});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ny(u){if(u.blockedOn!==null)return!1;for(var c=u.targetContainers;0<c.length;){var g=Zb(u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);zt=w,g.target.dispatchEvent(w),zt=null}else return c=Qt(g),c!==null&&ML(c),u.blockedOn=g,!1;c.shift()}return!0}function FL(u,c,g){Ny(u)&&g.delete(c)}function s7(){Yb=!1,Vu!==null&&Ny(Vu)&&(Vu=null),Ku!==null&&Ny(Ku)&&(Ku=null),Gu!==null&&Ny(Gu)&&(Gu=null),zh.forEach(FL),Hh.forEach(FL)}function Fy(u,c){u.blockedOn===c&&(u.blockedOn=null,Yb||(Yb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s7)))}var jy=null;function jL(u){jy!==u&&(jy=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jy===u&&(jy=null);for(var c=0;c<u.length;c+=3){var g=u[c],w=u[c+1],O=u[c+2];if(typeof w!="function"){if(Jb(w||g)===null)continue;break}var F=Qt(g);F!==null&&(u.splice(c,3),c-=3,Bw(F,{pending:!0,data:O,method:g.method,action:w},w,O))}}))}function Kh(u){function c(Ve){return Fy(Ve,u)}Vu!==null&&Fy(Vu,u),Ku!==null&&Fy(Ku,u),Gu!==null&&Fy(Gu,u),zh.forEach(c),Hh.forEach(c);for(var g=0;g<Wu.length;g++){var w=Wu[g];w.blockedOn===u&&(w.blockedOn=null)}for(;0<Wu.length&&(g=Wu[0],g.blockedOn===null);)NL(g),g.blockedOn===null&&Wu.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var O=g[w],F=g[w+1],ue=O[Et]||null;if(typeof F=="function")ue||jL(g);else if(ue){var Ce=null;if(F&&F.hasAttribute("formAction")){if(O=F,ue=F[Et]||null)Ce=ue.formAction;else if(Jb(O)!==null)continue}else Ce=ue.action;typeof Ce=="function"?g[w+1]=Ce:(g.splice(w,3),w-=3),jL(g)}}}function Xb(u){this._internalRoot=u}$y.prototype.render=Xb.prototype.render=function(u){var c=this._internalRoot;if(c===null)throw Error(r(409));var g=c.current,w=Ia();LL(g,w,u,c,null,null)},$y.prototype.unmount=Xb.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var c=u.containerInfo;u.tag===0&&Rf(),LL(u.current,2,null,u,null,null),by(),c[It]=null}};function $y(u){this._internalRoot=u}$y.prototype.unstable_scheduleHydration=function(u){if(u){var c=Ee();u={blockedOn:null,target:u,priority:c};for(var g=0;g<Wu.length&&c!==0&&c<Wu[g].priority;g++);Wu.splice(g,0,u),g===0&&NL(u)}};var $L=e.version;if($L!=="19.0.0")throw Error(r(527,$L,"19.0.0"));J.findDOMNode=function(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ne(c),u=u!==null?me(u):null,u=u===null?null:u.stateNode,u};var o7={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:Kt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uy.isDisabled&&Uy.supportsFiber)try{ke=Uy.inject(o7),At=Uy}catch{}}return Wh.createRoot=function(u,c){if(!i(u))throw Error(r(299));var g=!1,w="",O=nO,F=rO,ue=iO,Ce=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(F=c.onCaughtError),c.onRecoverableError!==void 0&&(ue=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Ce=c.unstable_transitionCallbacks)),c=PL(u,1,!1,null,null,g,w,O,F,ue,Ce,null),u[It]=c.current,Nb(u.nodeType===8?u.parentNode:u),new Xb(c)},Wh.hydrateRoot=function(u,c,g){if(!i(u))throw Error(r(299));var w=!1,O="",F=nO,ue=rO,Ce=iO,Ve=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(F=g.onUncaughtError),g.onCaughtError!==void 0&&(ue=g.onCaughtError),g.onRecoverableError!==void 0&&(Ce=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ve=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),c=PL(u,1,!0,c,g??null,w,O,F,ue,Ce,Ve,at),c.context=OL(null),g=c.current,w=Ia(),O=Fu(w),O.callback=null,ju(g,O,w),c.current.lanes=w,xt(c,w),Ws(c),u[It]=c.current,Nb(u),new $y(c)},Wh.version="19.0.0",Wh}var aI;function z7(){if(aI)return a1.exports;aI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a1.exports=q7(),a1.exports}var H7=z7(),l1={exports:{}},c1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI;function V7(){if(sI)return c1;sI=1;var t=Md();function e(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return c1.useSyncExternalStoreWithSelector=function(l,f,h,p,m){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=s(function(){function S(M){if(!x){if(x=!0,E=M,M=p(M),m!==void 0&&_.hasValue){var D=_.value;if(m(D,M))return A=D}return A=M}if(D=A,n(E,M))return D;var j=p(M);return m!==void 0&&m(D,j)?(E=M,D):(E=M,A=j)}var x=!1,E,A,I=h===void 0?null:h;return[function(){return S(f())},I===null?void 0:function(){return S(I())}]},[f,h,p,m]);var b=r(l,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=b},[b]),o(b),b},c1}var oI;function K7(){return oI||(oI=1,l1.exports=V7()),l1.exports}var G7=K7();function W7(t){t()}function Q7(){let t=null,e=null;return{clear(){t=null,e=null},notify(){W7(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uI={notify(){},get:()=>[]};function Z7(t,e){let n,r=uI,i=0,a=!1;function s(b){h();const S=r.subscribe(b);let x=!1;return()=>{x||(x=!0,S(),p())}}function o(){r.notify()}function l(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(l),r=Q7())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uI)}function m(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const _={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:f,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return _}var J7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y7=J7(),X7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eV=X7(),tV=()=>Y7||eV?ae.useLayoutEffect:ae.useEffect,nV=tV(),f1=Symbol.for("react-redux-context"),d1=typeof globalThis<"u"?globalThis:{};function rV(){if(!ae.createContext)return{};const t=d1[f1]??(d1[f1]=new Map);let e=t.get(ae.createContext);return e||(e=ae.createContext(null),t.set(ae.createContext,e)),e}var _l=rV();function iV(t){const{children:e,context:n,serverState:r,store:i}=t,a=ae.useMemo(()=>{const l=Z7(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=ae.useMemo(()=>i.getState(),[i]);nV(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||_l;return ae.createElement(o.Provider,{value:a},e)}var aV=iV;function vA(t=_l){return function(){return ae.useContext(t)}}var A5=vA();function R5(t=_l){const e=t===_l?A5:vA(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var sV=R5();function oV(t=_l){const e=t===_l?sV:R5(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var uV=oV(),lV=(t,e)=>t===e;function cV(t=_l){const e=t===_l?A5:vA(t),n=(r,i={})=>{const{equalityFn:a=lV}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:o,subscription:l,getServerState:f}=s;ae.useRef(!0);const h=ae.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=G7.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,f||o.getState,h,a);return ae.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var fV=cV();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wn.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const lI="popstate";function dV(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Mg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fo(i)}return pV(e,n,null,t)}function _n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hV(){return Math.random().toString(36).substr(2,8)}function cI(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n,r){return n===void 0&&(n=null),Wn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fu(e):e,{state:n,key:e&&e.key||r||hV()})}function fo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Xr.Pop,l=null,f=h();f==null&&(f=0,s.replaceState(Wn({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function p(){o=Xr.Pop;let S=h(),x=S==null?null:S-f;f=S,l&&l({action:o,location:b.location,delta:x})}function m(S,x){o=Xr.Push;let E=Mg(b.location,S,x);f=h()+1;let A=cI(E,f),I=b.createHref(E);try{s.pushState(A,"",I)}catch{i.location.assign(I)}a&&l&&l({action:o,location:b.location,delta:1})}function y(S,x){o=Xr.Replace;let E=Mg(b.location,S,x);f=h();let A=cI(E,f),I=b.createHref(E);s.replaceState(A,"",I),a&&l&&l({action:o,location:b.location,delta:0})}function _(S){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:fo(S);return _n(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let b={get action(){return o},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lI,p),l=S,()=>{i.removeEventListener(lI,p),l=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(S){return s.go(S)}};return b}var Pi;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pi||(Pi={}));function gV(t){return t.index===!0}function P5(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,i)=>{let a=[...e,i],s=typeof r.id=="string"?r.id:a.join("-");return _n(r.index!==!0||!r.children,"Cannot specify children on an index route"),_n(!n.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n.add(s),gV(r)?Wn({},r,{id:s}):Wn({},r,{id:s,children:r.children?P5(r.children,a,n):void 0})})}function lg(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?fu(e):e,i=I5(r.pathname||"/",n);if(i==null)return null;let a=O5(t);mV(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=TV(a[o],RV(i));return s}function O5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_n(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let f=tu([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(_n(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),O5(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:xV(f,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of L5(a.path))i(a,s,l)}),e}function L5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=L5(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function mV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yV=/^:\w+$/,vV=3,_V=2,wV=1,bV=10,SV=-2,fI=t=>t==="*";function xV(t,e){let n=t.split("/"),r=n.length;return n.some(fI)&&(r+=SV),e&&(r+=_V),n.filter(i=>!fI(i)).reduce((i,a)=>i+(yV.test(a)?vV:a===""?wV:bV),r)}function EV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TV(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=CV({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},f);if(!h)return null;Object.assign(r,h.params);let p=o.route;a.push({params:r,pathname:tu([i,h.pathname]),pathnameBase:IV(tu([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=tu([i,h.pathnameBase]))}return a}function CV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((f,h,p)=>{if(h==="*"){let m=o[p]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return f[h]=PV(o[p]||"",h),f},{}),pathname:a,pathnameBase:s,pattern:t}}function AV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RV(t){try{return decodeURI(t)}catch(e){return Dg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PV(t,e){try{return decodeURIComponent(t)}catch(n){return Dg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function I5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fu(t):t;return{pathname:n?n.startsWith("/")?n:LV(n,e):e,search:MV(r),hash:DV(i)}}function LV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function h1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _A(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fu(t):(i=Wn({},t),_n(!i.pathname||!i.pathname.includes("?"),h1("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),h1("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),h1("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(r||s==null)o=n;else{let p=e.length-1;if(s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=OV(i,o),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(f||h)&&(l.pathname+="/"),l}const tu=t=>t.join("/").replace(/\/\/+/g,"/"),IV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class dI extends Error{}class kV{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_n(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,s)=>r=s),this.controller=new AbortController;let i=()=>r(new dI("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((a,s)=>{let[o,l]=s;return Object.assign(a,{[o]:this.trackPromise(o,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof dI?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _n(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:FV(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function NV(t){return t instanceof Promise&&t._tracked===!0}function FV(t){if(!NV(t))return t;if(t._error)throw t._error;return t._data}class wA{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function M5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D5=["post","put","patch","delete"],jV=new Set(D5),$V=["get",...D5],UV=new Set($V),BV=new Set([301,302,303,307,308]),qV=new Set([307,308]),p1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},zV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},hI={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},k5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HV=!k5;function VV(t){_n(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=P5(t.routes),n=null,r=new Set,i=null,a=null,s=null,o=t.hydrationData!=null,l=lg(e,t.history.location,t.basename),f=null;if(l==null){let Se=tl(404,{pathname:t.history.location.pathname}),{matches:Be,route:X}=_I(e);l=Be,f={[X.id]:Se}}let h=!l.some(Se=>Se.route.loader)||t.hydrationData!=null,p,m={historyAction:t.history.action,location:t.history.location,matches:l,initialized:h,navigation:p1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},y=Xr.Pop,_=!1,b,S=!1,x=!1,E=[],A=[],I=new Map,M=0,D=-1,j=new Map,Q=new Set,Y=new Map,q=new Map,Z=null,fe=new Map,te=!1;function oe(){return n=t.history.listen(Se=>{let{action:Be,location:X,delta:B}=Se;if(te){te=!1;return}Dg(Z!=null&&B===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ne({currentLocation:m.location,nextLocation:X,historyAction:Be});if(K&&B!=null){te=!0,t.history.go(B*-1),Te(K,{state:"blocked",location:X,proceed(){Te(K,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),t.history.go(B)},reset(){He(K),le({blockers:new Map(p.state.blockers)})}});return}return ne(Be,X)}),m.initialized||ne(Xr.Pop,m.location),p}function ge(){n&&n(),r.clear(),b&&b.abort(),m.fetchers.forEach((Se,Be)=>z(Be)),m.blockers.forEach((Se,Be)=>He(Be))}function _e(Se){return r.add(Se),()=>r.delete(Se)}function le(Se){m=Wn({},m,Se),r.forEach(Be=>Be(m))}function ce(Se,Be){var X,B;let K=m.actionData!=null&&m.navigation.formMethod!=null&&Xo(m.navigation.formMethod)&&m.navigation.state==="loading"&&((X=Se.state)==null?void 0:X._isRedirect)!==!0,V;Be.actionData?Object.keys(Be.actionData).length>0?V=Be.actionData:V=null:K?V=m.actionData:V=null;let je=Be.loaderData?vI(m.loaderData,Be.loaderData,Be.matches||[],Be.errors):m.loaderData;for(let[ke]of fe)He(ke);let Ze=_===!0||m.navigation.formMethod!=null&&Xo(m.navigation.formMethod)&&((B=Se.state)==null?void 0:B._isRedirect)!==!0;le(Wn({},Be,{actionData:V,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:p1,revalidation:"idle",restoreScrollPosition:Ut(Se,Be.matches||m.matches),preventScrollReset:Ze,blockers:new Map(m.blockers)})),S||y===Xr.Pop||(y===Xr.Push?t.history.push(Se,Se.state):y===Xr.Replace&&t.history.replace(Se,Se.state)),y=Xr.Pop,_=!1,S=!1,x=!1,E=[],A=[]}async function Le(Se,Be){if(typeof Se=="number"){t.history.go(Se);return}let{path:X,submission:B,error:K}=pI(Se,Be),V=m.location,je=Mg(m.location,X,Be&&Be.state);je=Wn({},je,t.history.encodeLocation(je));let Ze=Be&&Be.replace!=null?Be.replace:void 0,ke=Xr.Push;Ze===!0?ke=Xr.Replace:Ze===!1||B!=null&&Xo(B.formMethod)&&B.formAction===m.location.pathname+m.location.search&&(ke=Xr.Replace);let At=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,Ot=Ne({currentLocation:V,nextLocation:je,historyAction:ke});if(Ot){Te(Ot,{state:"blocked",location:je,proceed(){Te(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Le(Se,Be)},reset(){He(Ot),le({blockers:new Map(m.blockers)})}});return}return await ne(ke,je,{submission:B,pendingError:K,preventScrollReset:At,replace:Be&&Be.replace})}function k(){if(Xe(),le({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ne(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ne(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ne(Se,Be,X){b&&b.abort(),b=null,y=Se,S=(X&&X.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),_=(X&&X.preventScrollReset)===!0;let B=X&&X.overrideNavigation,K=lg(e,Be,t.basename);if(!K){let Dt=tl(404,{pathname:Be.pathname}),{matches:Rt,route:Bt}=_I(e);tt(),ce(Be,{matches:Rt,loaderData:{},errors:{[Bt.id]:Dt}});return}if(ZV(m.location,Be)&&!(X&&X.submission&&Xo(X.submission.formMethod))){ce(Be,{matches:K});return}b=new AbortController;let V=Zh(t.history,Be,b.signal,X&&X.submission),je,Ze;if(X&&X.pendingError)Ze={[Yf(K).route.id]:X.pendingError};else if(X&&X.submission&&Xo(X.submission.formMethod)){let Dt=await me(V,Be,X.submission,K,{replace:X.replace});if(Dt.shortCircuited)return;je=Dt.pendingActionData,Ze=Dt.pendingActionError,B=Wn({state:"loading",location:Be},X.submission),V=new Request(V.url,{signal:V.signal})}let{shortCircuited:ke,loaderData:At,errors:Ot}=await H(V,Be,K,B,X&&X.submission,X&&X.replace,je,Ze);ke||(b=null,ce(Be,Wn({matches:K},je?{actionData:je}:{},{loaderData:At,errors:Ot})))}async function me(Se,Be,X,B,K){Xe();let V=Wn({state:"submitting",location:Be},X);le({navigation:V});let je,Ze=xI(B,Be);if(!Ze.route.action)je={type:Pi.error,error:tl(405,{method:Se.method,pathname:Be.pathname,routeId:Ze.route.id})};else if(je=await Qh("action",Se,Ze,B,p.basename),Se.signal.aborted)return{shortCircuited:!0};if(nd(je)){let ke;return K.replace!=null?ke=K.replace:ke=je.location===m.location.pathname+m.location.search,await Re(m,je,{submission:X,replace:ke}),{shortCircuited:!0}}if(xg(je)){let ke=Yf(B,Ze.route.id);return K.replace!==!0&&(y=Xr.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(Tc(je))throw tl(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:je.data}}}async function H(Se,Be,X,B,K,V,je,Ze){let ke=B;ke||(ke=Wn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K));let At=K||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[Ot,Dt]=gI(t.history,m,X,At,Be,x,E,A,je,Ze,Y);if(tt(un=>!(X&&X.some(Ln=>Ln.route.id===un))||Ot&&Ot.some(Ln=>Ln.route.id===un)),Ot.length===0&&Dt.length===0)return ce(Be,Wn({matches:X,loaderData:{},errors:Ze||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!S){Dt.forEach(Ln=>{let sr=m.fetchers.get(Ln.key),Oe={state:"loading",data:sr&&sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Ln.key,Oe)});let un=je||m.actionData;le(Wn({navigation:ke},un?Object.keys(un).length===0?{actionData:null}:{actionData:un}:{},Dt.length>0?{fetchers:new Map(m.fetchers)}:{}))}D=++M,Dt.forEach(un=>I.set(un.key,b));let{results:Rt,loaderResults:Bt,fetcherResults:Er}=await Fe(m.matches,X,Ot,Dt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Dt.forEach(un=>I.delete(un.key));let fn=wI(Rt);if(fn)return await Re(m,fn,{replace:V}),{shortCircuited:!0};let{loaderData:dn,errors:dr}=yI(m,X,Ot,Bt,Ze,Dt,Er,q);q.forEach((un,Ln)=>{un.subscribe(sr=>{(sr||un.done)&&q.delete(Ln)})}),W();let on=he(D);return Wn({loaderData:dn,errors:dr},on||Dt.length>0?{fetchers:new Map(m.fetchers)}:{})}function J(Se){return m.fetchers.get(Se)||zV}function pe(Se,Be,X,B){if(HV)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(Se)&&$(Se);let K=lg(e,X,t.basename);if(!K){ie(Se,Be,tl(404,{pathname:X}));return}let{path:V,submission:je}=pI(X,B,!0),Ze=xI(K,V);if(_=(B&&B.preventScrollReset)===!0,je&&Xo(je.formMethod)){Ae(Se,Be,V,Ze,K,je);return}Y.set(Se,{routeId:Be,path:V,match:Ze,matches:K}),Je(Se,Be,V,Ze,K,je)}async function Ae(Se,Be,X,B,K,V){if(Xe(),Y.delete(Se),!B.route.action){let Lt=tl(405,{method:V.formMethod,pathname:X,routeId:Be});ie(Se,Be,Lt);return}let je=m.fetchers.get(Se),Ze=Wn({state:"submitting"},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),le({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=Zh(t.history,X,ke.signal,V);I.set(Se,ke);let Ot=await Qh("action",At,B,K,p.basename);if(At.signal.aborted){I.get(Se)===ke&&I.delete(Se);return}if(nd(Ot)){I.delete(Se),Q.add(Se);let Lt=Wn({state:"loading"},V,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,Lt),le({fetchers:new Map(m.fetchers)}),Re(m,Ot,{isFetchActionRedirect:!0})}if(xg(Ot)){ie(Se,Be,Ot.error);return}if(Tc(Ot))throw tl(400,{type:"defer-action"});let Dt=m.navigation.location||m.location,Rt=Zh(t.history,Dt,ke.signal),Bt=m.navigation.state!=="idle"?lg(e,m.navigation.location,t.basename):m.matches;_n(Bt,"Didn't find any matches after fetcher action");let Er=++M;j.set(Se,Er);let fn=Wn({state:"loading",data:Ot.data},V,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,fn);let[dn,dr]=gI(t.history,m,Bt,V,Dt,x,E,A,{[B.route.id]:Ot.data},void 0,Y);dr.filter(Lt=>Lt.key!==Se).forEach(Lt=>{let qn=Lt.key,Jn=m.fetchers.get(qn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(qn,We),I.set(qn,ke)}),le({fetchers:new Map(m.fetchers)});let{results:on,loaderResults:un,fetcherResults:Ln}=await Fe(m.matches,Bt,dn,dr,Rt);if(ke.signal.aborted)return;j.delete(Se),I.delete(Se),dr.forEach(Lt=>I.delete(Lt.key));let sr=wI(on);if(sr)return Re(m,sr);let{loaderData:Oe,errors:qe}=yI(m,m.matches,dn,un,void 0,dr,Ln,q),wt={state:"idle",data:Ot.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,wt);let xt=he(Er);m.navigation.state==="loading"&&Er>D?(_n(y,"Expected pending action"),b&&b.abort(),ce(m.navigation.location,{matches:Bt,loaderData:Oe,errors:qe,fetchers:new Map(m.fetchers)})):(le(Wn({errors:qe,loaderData:vI(m.loaderData,Oe,Bt,qe)},xt?{fetchers:new Map(m.fetchers)}:{})),x=!1)}async function Je(Se,Be,X,B,K,V){let je=m.fetchers.get(Se),Ze=Wn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),le({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=Zh(t.history,X,ke.signal);I.set(Se,ke);let Ot=await Qh("loader",At,B,K,p.basename);if(Tc(Ot)&&(Ot=await $5(Ot,At.signal,!0)||Ot),I.get(Se)===ke&&I.delete(Se),At.signal.aborted)return;if(nd(Ot)){await Re(m,Ot);return}if(xg(Ot)){let Rt=Yf(m.matches,Be);m.fetchers.delete(Se),le({fetchers:new Map(m.fetchers),errors:{[Rt.route.id]:Ot.error}});return}_n(!Tc(Ot),"Unhandled fetcher deferred data");let Dt={state:"idle",data:Ot.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,Dt),le({fetchers:new Map(m.fetchers)})}async function Re(Se,Be,X){var B;let{submission:K,replace:V,isFetchActionRedirect:je}=X===void 0?{}:X;Be.revalidate&&(x=!0);let Ze=Mg(Se.location,Be.location,Wn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(_n(Ze,"Expected a location on the redirect navigation"),k5&&typeof((B=window)==null?void 0:B.location)<"u"){let Bt=t.history.createURL(Be.location).origin;if(window.location.origin!==Bt){V?window.location.replace(Be.location):window.location.assign(Be.location);return}}b=null;let ke=V===!0?Xr.Replace:Xr.Push,{formMethod:At,formAction:Ot,formEncType:Dt,formData:Rt}=Se.navigation;!K&&At&&Ot&&Rt&&Dt&&(K={formMethod:At,formAction:Ot,formEncType:Dt,formData:Rt}),qV.has(Be.status)&&K&&Xo(K.formMethod)?await ne(ke,Ze,{submission:Wn({},K,{formAction:Be.location}),preventScrollReset:_}):await ne(ke,Ze,{overrideNavigation:{state:"loading",location:Ze,formMethod:K?K.formMethod:void 0,formAction:K?K.formAction:void 0,formEncType:K?K.formEncType:void 0,formData:K?K.formData:void 0},preventScrollReset:_})}async function Fe(Se,Be,X,B,K){let V=await Promise.all([...X.map(ke=>Qh("loader",K,ke,Be,p.basename)),...B.map(ke=>Qh("loader",Zh(t.history,ke.path,K.signal),ke.match,ke.matches,p.basename))]),je=V.slice(0,X.length),Ze=V.slice(X.length);return await Promise.all([bI(Se,X,je,K.signal,!1,m.loaderData),bI(Se,B.map(ke=>ke.match),Ze,K.signal,!0)]),{results:V,loaderResults:je,fetcherResults:Ze}}function Xe(){x=!0,E.push(...tt()),Y.forEach((Se,Be)=>{I.has(Be)&&(A.push(Be),$(Be))})}function ie(Se,Be,X){let B=Yf(m.matches,Be);z(Se),le({errors:{[B.route.id]:X},fetchers:new Map(m.fetchers)})}function z(Se){I.has(Se)&&$(Se),Y.delete(Se),j.delete(Se),Q.delete(Se),m.fetchers.delete(Se)}function $(Se){let Be=I.get(Se);_n(Be,"Expected fetch controller: "+Se),Be.abort(),I.delete(Se)}function re(Se){for(let Be of Se){let B={state:"idle",data:J(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Be,B)}}function W(){let Se=[];for(let Be of Q){let X=m.fetchers.get(Be);_n(X,"Expected fetcher: "+Be),X.state==="loading"&&(Q.delete(Be),Se.push(Be))}re(Se)}function he(Se){let Be=[];for(let[X,B]of j)if(B<Se){let K=m.fetchers.get(X);_n(K,"Expected fetcher: "+X),K.state==="loading"&&($(X),j.delete(X),Be.push(X))}return re(Be),Be.length>0}function ye(Se,Be){let X=m.blockers.get(Se)||hI;return fe.get(Se)!==Be&&(fe.set(Se,Be),Z==null?Z=Se:Se!==Z&&Dg(!1,"A router only supports one blocker at a time")),X}function He(Se){m.blockers.delete(Se),fe.delete(Se),Z===Se&&(Z=null)}function Te(Se,Be){let X=m.blockers.get(Se)||hI;_n(X.state==="unblocked"&&Be.state==="blocked"||X.state==="blocked"&&Be.state==="blocked"||X.state==="blocked"&&Be.state==="proceeding"||X.state==="blocked"&&Be.state==="unblocked"||X.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+Be.state),m.blockers.set(Se,Be),le({blockers:new Map(m.blockers)})}function Ne(Se){let{currentLocation:Be,nextLocation:X,historyAction:B}=Se;if(Z==null)return;let K=fe.get(Z);_n(K,"Could not find a function for the active blocker");let V=m.blockers.get(Z);if(!(V&&V.state==="proceeding")&&K({currentLocation:Be,nextLocation:X,historyAction:B}))return Z}function tt(Se){let Be=[];return q.forEach((X,B)=>{(!Se||Se(B))&&(X.cancel(),Be.push(B),q.delete(B))}),Be}function nt(Se,Be,X){if(i=Se,s=Be,a=X||(B=>B.key),!o&&m.navigation===p1){o=!0;let B=Ut(m.location,m.matches);B!=null&&le({restoreScrollPosition:B})}return()=>{i=null,s=null,a=null}}function gt(Se,Be){if(i&&a&&s){let X=Be.map(K=>SI(K,m.loaderData)),B=a(Se,X)||Se.key;i[B]=s()}}function Ut(Se,Be){if(i&&a&&s){let X=Be.map(V=>SI(V,m.loaderData)),B=a(Se,X)||Se.key,K=i[B];if(typeof K=="number")return K}return null}return p={get basename(){return t.basename},get state(){return m},get routes(){return e},initialize:oe,subscribe:_e,enableScrollRestoration:nt,navigate:Le,fetch:pe,revalidate:k,createHref:Se=>t.history.createHref(Se),encodeLocation:Se=>t.history.encodeLocation(Se),getFetcher:J,deleteFetcher:z,dispose:ge,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:I,_internalActiveDeferreds:q},p}function KV(t){return t!=null&&"formData"in t}function pI(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:fo(t);if(!e||!KV(e))return{path:r};if(e.formMethod&&!YV(e.formMethod))return{path:r,error:tl(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:j5(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Xo(i.formMethod)))return{path:r,submission:i};let a=fu(r),s=F5(e.formData);return n&&a.search&&U5(a.search)&&s.append("index",""),a.search="?"+s,{path:fo(a),submission:i}}function GV(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function gI(t,e,n,r,i,a,s,o,l,f,h){let p=f?Object.values(f)[0]:l?Object.values(l)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),_=a||m.toString()===y.toString()||m.search!==y.search,b=f?Object.keys(f)[0]:void 0,x=GV(n,b).filter((A,I)=>{if(A.route.loader==null)return!1;if(WV(e.loaderData,e.matches[I],A)||s.some(j=>j===A.route.id))return!0;let M=e.matches[I],D=A;return mI(A,Wn({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:D.params},r,{actionResult:p,defaultShouldRevalidate:_||N5(M,D)}))}),E=[];return h&&h.forEach((A,I)=>{if(n.some(M=>M.route.id===A.routeId))o.includes(I)?E.push(Wn({key:I},A)):mI(A.match,Wn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:_}))&&E.push(Wn({key:I},A));else return}),[x,E]}function WV(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function N5(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function mI(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Qh(t,e,n,r,i,a,s,o){i===void 0&&(i="/"),a===void 0&&(a=!1),s===void 0&&(s=!1);let l,f,h,p=new Promise((y,_)=>h=_),m=()=>h();e.signal.addEventListener("abort",m);try{let y=n.route[t];_n(y,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),f=await Promise.race([y({request:e,params:n.params,context:o}),p]),_n(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){l=Pi.error,f=y}finally{e.signal.removeEventListener("abort",m)}if(JV(f)){let y=f.status;if(BV.has(y)){let S=f.headers.get("Location");if(_n(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!a){let E=new URL(e.url),A=S.startsWith("//")?new URL(E.protocol+S):new URL(S);A.origin===E.origin&&(S=A.pathname+A.search+A.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),A=m0(E).map(M=>M.pathnameBase),I=_A(S,A,new URL(e.url).pathname);if(_n(fo(I),"Unable to resolve redirect location: "+S),i){let M=I.pathname;I.pathname=M==="/"?i:tu([i,M])}S=fo(I)}if(a)throw f.headers.set("Location",S),f;return{type:Pi.redirect,status:y,location:S,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:l||Pi.data,response:f};let _,b=f.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?_=await f.json():_=await f.text(),l===Pi.error?{type:l,error:new wA(y,f.statusText,_),headers:f.headers}:{type:Pi.data,data:_,statusCode:f.status,headers:f.headers}}return l===Pi.error?{type:l,error:f}:f instanceof kV?{type:Pi.deferred,deferredData:f}:{type:Pi.data,data:f}}function Zh(t,e,n,r){let i=t.createURL(j5(e)).toString(),a={signal:n};if(r&&Xo(r.formMethod)){let{formMethod:s,formEncType:o,formData:l}=r;a.method=s.toUpperCase(),a.body=o==="application/x-www-form-urlencoded"?F5(l):l}return new Request(i,a)}function F5(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function QV(t,e,n,r,i){let a={},s=null,o,l=!1,f={};return n.forEach((h,p)=>{let m=e[p].route.id;if(_n(!nd(h),"Cannot handle redirect results in processLoaderData"),xg(h)){let y=Yf(t,m),_=h.error;r&&(_=Object.values(r)[0],r=void 0),s=s||{},s[y.route.id]==null&&(s[y.route.id]=_),a[m]=void 0,l||(l=!0,o=M5(h.error)?h.error.status:500),h.headers&&(f[m]=h.headers)}else Tc(h)?(i.set(m,h.deferredData),a[m]=h.deferredData.data):a[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(o=h.statusCode),h.headers&&(f[m]=h.headers)}),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:f}}function yI(t,e,n,r,i,a,s,o){let{loaderData:l,errors:f}=QV(e,n,r,i,o);for(let h=0;h<a.length;h++){let{key:p,match:m}=a[h];_n(s!==void 0&&s[h]!==void 0,"Did not find corresponding fetcher result");let y=s[h];if(xg(y)){let _=Yf(t.matches,m.route.id);f&&f[_.route.id]||(f=Wn({},f,{[_.route.id]:y.error})),t.fetchers.delete(p)}else if(nd(y))_n(!1,"Unhandled fetcher revalidation redirect");else if(Tc(y))_n(!1,"Unhandled fetcher deferred data");else{let _={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(p,_)}}return{loaderData:l,errors:f}}function vI(t,e,n,r){let i=Wn({},e);for(let a of n){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Yf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function _I(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function tl(t,e){let{pathname:n,routeId:r,method:i,type:a}=e===void 0?{}:e,s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?o="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(o="defer() is not supported in actions")):t===403?(s="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",o='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?o="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new wA(t||500,s,new Error(o),!0)}function wI(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(nd(n))return n}}function j5(t){let e=typeof t=="string"?fu(t):t;return fo(Wn({},e,{hash:""}))}function ZV(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Tc(t){return t.type===Pi.deferred}function xg(t){return t.type===Pi.error}function nd(t){return(t&&t.type)===Pi.redirect}function JV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YV(t){return UV.has(t)}function Xo(t){return jV.has(t)}async function bI(t,e,n,r,i,a){for(let s=0;s<n.length;s++){let o=n[s],l=e[s],f=t.find(p=>p.route.id===l.route.id),h=f!=null&&!N5(f,l)&&(a&&a[l.route.id])!==void 0;Tc(o)&&(i||h)&&await $5(o,r,i).then(p=>{p&&(n[s]=p||n[s])})}}async function $5(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pi.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Pi.error,error:i}}return{type:Pi.data,data:t.deferredData.data}}}function U5(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function SI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function xI(t,e){let n=typeof e=="string"?fu(e).search:e.search;if(t[t.length-1].route.index&&U5(n||""))return t[t.length-1];let r=m0(t);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function XV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const eK=typeof Object.is=="function"?Object.is:XV,{useState:tK,useEffect:nK,useLayoutEffect:rK,useDebugValue:iK}=Ig;function aK(t,e,n){const r=e(),[{inst:i},a]=tK({inst:{value:r,getSnapshot:e}});return rK(()=>{i.value=r,i.getSnapshot=e,g1(i)&&a({inst:i})},[t,r,e]),nK(()=>(g1(i)&&a({inst:i}),t(()=>{g1(i)&&a({inst:i})})),[t]),iK(r),r}function g1(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!eK(n,r)}catch{return!0}}function sK(t,e,n){return e()}const oK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uK=!oK,lK=uK?sK:aK,cK="useSyncExternalStore"in Ig?(t=>t.useSyncExternalStore)(Ig):lK,bA=ae.createContext(null),cm=ae.createContext(null),fm=ae.createContext(null),y0=ae.createContext(null),xl=ae.createContext({outlet:null,matches:[]}),B5=ae.createContext(null);function fK(t,e){let{relative:n}=e===void 0?{}:e;Dd()||_n(!1);let{basename:r,navigator:i}=ae.useContext(fm),{hash:a,pathname:s,search:o}=xA(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:tu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Dd(){return ae.useContext(y0)!=null}function kd(){return Dd()||_n(!1),ae.useContext(y0).location}function Nd(){Dd()||_n(!1);let{basename:t,navigator:e}=ae.useContext(fm),{matches:n}=ae.useContext(xl),{pathname:r}=kd(),i=JSON.stringify(m0(n).map(o=>o.pathnameBase)),a=ae.useRef(!1);return ae.useEffect(()=>{a.current=!0}),ae.useCallback(function(o,l){if(l===void 0&&(l={}),!a.current)return;if(typeof o=="number"){e.go(o);return}let f=_A(o,JSON.parse(i),r,l.relative==="path");t!=="/"&&(f.pathname=f.pathname==="/"?t:tu([t,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[t,e,i,r])}const dK=ae.createContext(null);function hK(t){let e=ae.useContext(xl).outlet;return e&&ae.createElement(dK.Provider,{value:t},e)}function SA(){let{matches:t}=ae.useContext(xl),e=t[t.length-1];return e?e.params:{}}function xA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=ae.useContext(xl),{pathname:i}=kd(),a=JSON.stringify(m0(r).map(s=>s.pathnameBase));return ae.useMemo(()=>_A(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function pK(t,e){Dd()||_n(!1);let{navigator:n}=ae.useContext(fm),r=ae.useContext(cm),{matches:i}=ae.useContext(xl),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=kd(),f;if(e){var h;let b=typeof e=="string"?fu(e):e;o==="/"||(h=b.pathname)!=null&&h.startsWith(o)||_n(!1),f=b}else f=l;let p=f.pathname||"/",m=o==="/"?p:p.slice(o.length)||"/",y=lg(t,{pathname:m}),_=vK(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:tu([o,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?o:tu([o,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r||void 0);return e&&_?ae.createElement(y0.Provider,{value:{location:$_({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Xr.Pop}},_):_}function gK(){let t=SK(),e=M5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:i},n):null,null)}class mK extends ae.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?ae.createElement(xl.Provider,{value:this.props.routeContext},ae.createElement(B5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yK(t){let{routeContext:e,match:n,children:r}=t,i=ae.useContext(bA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ae.createElement(xl.Provider,{value:e},r)}function vK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));a>=0||_n(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,s,o)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,f=n?s.route.errorElement||ae.createElement(gK,null):null,h=e.concat(r.slice(0,o+1)),p=()=>ae.createElement(yK,{match:s,routeContext:{outlet:a,matches:h}},l?f:s.route.element!==void 0?s.route.element:a);return n&&(s.route.errorElement||o===0)?ae.createElement(mK,{location:n.location,component:f,error:l,children:p(),routeContext:{outlet:null,matches:h}}):p()},null)}var EI;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(EI||(EI={}));var U_;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(U_||(U_={}));function _K(t){let e=ae.useContext(cm);return e||_n(!1),e}function wK(t){let e=ae.useContext(xl);return e||_n(!1),e}function bK(t){let e=wK(),n=e.matches[e.matches.length-1];return n.route.id||_n(!1),n.route.id}function SK(){var t;let e=ae.useContext(B5),n=_K(U_.UseRouteError),r=bK(U_.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function xK(t){let{fallbackElement:e,router:n}=t,r=cK(n.subscribe,()=>n.state,()=>n.state),i=ae.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:s=>n.navigate(s),push:(s,o,l)=>n.navigate(s,{state:o,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(s,o,l)=>n.navigate(s,{replace:!0,state:o,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return ae.createElement(ae.Fragment,null,ae.createElement(bA.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},ae.createElement(cm.Provider,{value:r},ae.createElement(TK,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?ae.createElement(CK,null):e))),null)}function EA(t){let{to:e,replace:n,state:r,relative:i}=t;Dd()||_n(!1);let a=ae.useContext(cm),s=Nd();return ae.useEffect(()=>{a&&a.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function v0(t){return hK(t.context)}function EK(t){_n(!1)}function TK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xr.Pop,navigator:a,static:s=!1}=t;Dd()&&_n(!1);let o=e.replace(/^\/*/,"/"),l=ae.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof r=="string"&&(r=fu(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,_=ae.useMemo(()=>{let b=I5(f,o);return b==null?null:{pathname:b,search:h,hash:p,state:m,key:y}},[o,f,h,p,m,y]);return _==null?null:ae.createElement(fm.Provider,{value:l},ae.createElement(y0.Provider,{children:n,value:{location:_,navigationType:i}}))}function CK(t){let{children:e,location:n}=t,r=ae.useContext(bA),i=r&&!e?r.router.routes:fC(e);return pK(i,n)}var TI;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(TI||(TI={}));new Promise(()=>{});function fC(t,e){e===void 0&&(e=[]);let n=[];return ae.Children.forEach(t,(r,i)=>{if(!ae.isValidElement(r))return;if(r.type===ae.Fragment){n.push.apply(n,fC(r.props.children,e));return}r.type!==EK&&_n(!1),!r.props.index||!r.props.children||_n(!1);let a=[...e,i],s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=fC(r.props.children,a)),n.push(s)}),n}function q5(t){return t.map(e=>{let n=$_({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=q5(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function z5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RK(t,e){return t.button===0&&(!e||e==="_self")&&!AK(t)}function dC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function PK(t,e){let n=dC(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const OK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],LK=["aria-current","caseSensitive","className","end","style","to","children"];function IK(t,e){return VV({basename:void 0,history:dV({window:void 0}),hydrationData:MK(),routes:q5(t)}).initialize()}function MK(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=kg({},e,{errors:DK(e.errors)})),e}function DK(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new wA(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const kK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rs=ae.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:f,preventScrollReset:h}=e,p=z5(e,OK),m=typeof f=="string"?f:fo(f),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),_=m,b=!1;if(kK&&y){let A=new URL(window.location.href),I=m.startsWith("//")?new URL(A.protocol+m):new URL(m);I.origin===A.origin?_=I.pathname+I.search+I.hash:b=!0}let S=fK(_,{relative:i}),x=FK(_,{replace:s,state:o,target:l,preventScrollReset:h,relative:i});function E(A){r&&r(A),A.defaultPrevented||x(A)}return ae.createElement("a",kg({},p,{href:y?m:S,onClick:b||a?r:E,ref:n,target:l}))}),NK=ae.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,children:f}=e,h=z5(e,LK),p=xA(l,{relative:h.relative}),m=kd(),y=ae.useContext(cm),{navigator:_}=ae.useContext(fm),b=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,S=m.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase());let E=S===b||!s&&S.startsWith(b)&&S.charAt(b.length)==="/",A=x!=null&&(x===b||!s&&x.startsWith(b)&&x.charAt(b.length)==="/"),I=E?r:void 0,M;typeof a=="function"?M=a({isActive:E,isPending:A}):M=[a,E?"active":null,A?"pending":null].filter(Boolean).join(" ");let D=typeof o=="function"?o({isActive:E,isPending:A}):o;return ae.createElement(Rs,kg({},h,{"aria-current":I,className:M,ref:n,style:D,to:l}),typeof f=="function"?f({isActive:E,isPending:A}):f)});var CI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(CI||(CI={}));var AI;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AI||(AI={}));function FK(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=e===void 0?{}:e,o=Nd(),l=kd(),f=xA(t,{relative:s});return ae.useCallback(h=>{if(RK(h,n)){h.preventDefault();let p=r!==void 0?r:fo(l)===fo(f);o(t,{replace:p,state:i,preventScrollReset:a,relative:s})}},[l,o,f,r,i,n,t,a,s])}function jK(t){let e=ae.useRef(dC(t)),n=ae.useRef(!1),r=kd(),i=ae.useMemo(()=>PK(r.search,n.current?null:e.current),[r.search]),a=Nd(),s=ae.useCallback((o,l)=>{const f=dC(typeof o=="function"?o(i):o);n.current=!0,a("?"+f,l)},[a,i]);return[i,s]}function m_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m_=function(n){return typeof n}:m_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},m_(t)}function $K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BK(t,e,n){return UK(t.prototype,e),t}function qK(t,e){return e&&(m_(e)==="object"||typeof e=="function")?e:y_(t)}function hC(t){return hC=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hC(t)}function y_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pC(t,e)}function v_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H5=function(t){zK(e,t);function e(){var n,r;$K(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=qK(this,(n=hC(e)).call.apply(n,[this].concat(a))),v_(y_(r),"state",{bootstrapped:!1}),v_(y_(r),"_unsubscribe",void 0),v_(y_(r),"handlePersistorState",function(){var o=r.props.persistor,l=o.getState(),f=l.bootstrapped;f&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return BK(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(ae.PureComponent);v_(H5,"defaultProps",{children:null,loading:null});function Ri(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var HK=typeof Symbol=="function"&&Symbol.observable||"@@observable",RI=HK,m1=()=>Math.random().toString(36).substring(7).split("").join("."),VK={INIT:`@@redux/INIT${m1()}`,REPLACE:`@@redux/REPLACE${m1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${m1()}`},B_=VK;function TA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function CA(t,e,n){if(typeof t!="function")throw new Error(Ri(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ri(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ri(1));return n(CA)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function f(){s===a&&(s=new Map,a.forEach((S,x)=>{s.set(x,S)}))}function h(){if(l)throw new Error(Ri(3));return i}function p(S){if(typeof S!="function")throw new Error(Ri(4));if(l)throw new Error(Ri(5));let x=!0;f();const E=o++;return s.set(E,S),function(){if(x){if(l)throw new Error(Ri(6));x=!1,f(),s.delete(E),a=null}}}function m(S){if(!TA(S))throw new Error(Ri(7));if(typeof S.type>"u")throw new Error(Ri(8));if(typeof S.type!="string")throw new Error(Ri(17));if(l)throw new Error(Ri(9));try{l=!0,i=r(i,S)}finally{l=!1}return(a=s).forEach(E=>{E()}),S}function y(S){if(typeof S!="function")throw new Error(Ri(10));r=S,m({type:B_.REPLACE})}function _(){const S=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Ri(11));function E(){const I=x;I.next&&I.next(h())}return E(),{unsubscribe:S(E)}},[RI](){return this}}}return m({type:B_.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:y,[RI]:_}}function KK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:B_.INIT})>"u")throw new Error(Ri(12));if(typeof n(void 0,{type:B_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ri(13))})}function V5(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{KK(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],y=s[p],_=m(y,o);if(typeof _>"u")throw o&&o.type,new Error(Ri(14));f[p]=_,l=l||_!==y}return l=l||r.length!==Object.keys(s).length,l?f:s}}function q_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function GK(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ri(15))};const s={getState:i.getState,dispatch:(l,...f)=>a(l,...f)},o=t.map(l=>l(s));return a=q_(...o)(i.dispatch),{...i,dispatch:a}}}function WK(t){return TA(t)&&"type"in t&&typeof t.type=="string"}var K5=Symbol.for("immer-nothing"),PI=Symbol.for("immer-draftable"),Ba=Symbol.for("immer-state");function Ps(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function qc(t){return!!t&&!!t[Ba]}function su(t){var e;return t?G5(t)||Array.isArray(t)||!!t[PI]||!!((e=t.constructor)!=null&&e[PI])||w0(t)||b0(t):!1}var QK=Object.prototype.constructor.toString();function G5(t){if(!t||typeof t!="object")return!1;const e=xd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===QK}function z_(t,e){_0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function _0(t){const e=t[Ba];return e?e.type_:Array.isArray(t)?1:w0(t)?2:b0(t)?3:0}function gC(t,e){return _0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function W5(t,e,n){const r=_0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function ZK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function w0(t){return t instanceof Map}function b0(t){return t instanceof Set}function bc(t){return t.copy_||t.base_}function mC(t,e){if(w0(t))return new Map(t);if(b0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=G5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ba];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(xd(t),r)}else{const r=xd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function AA(t,e=!1){return S0(t)||qc(t)||!su(t)||(_0(t)>1&&(t.set=t.add=t.clear=t.delete=JK),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>AA(r,!0))),t}function JK(){Ps(2)}function S0(t){return Object.isFrozen(t)}var YK={};function zc(t){const e=YK[t];return e||Ps(0,t),e}var Ng;function Q5(){return Ng}function XK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OI(t,e){e&&(zc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yC(t){vC(t),t.drafts_.forEach(eG),t.drafts_=null}function vC(t){t===Ng&&(Ng=t.parent_)}function LI(t){return Ng=XK(Ng,t)}function eG(t){const e=t[Ba];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function II(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ba].modified_&&(yC(e),Ps(4)),su(t)&&(t=H_(e,t),e.parent_||V_(e,t)),e.patches_&&zc("Patches").generateReplacementPatches_(n[Ba].base_,t,e.patches_,e.inversePatches_)):t=H_(e,n,[]),yC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==K5?t:void 0}function H_(t,e,n){if(S0(e))return e;const r=e[Ba];if(!r)return z_(e,(i,a)=>MI(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return V_(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),z_(a,(o,l)=>MI(t,r,i,o,l,n,s)),V_(t,i,!1),n&&t.patches_&&zc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function MI(t,e,n,r,i,a,s){if(qc(i)){const o=a&&e&&e.type_!==3&&!gC(e.assigned_,r)?a.concat(r):void 0,l=H_(t,i,o);if(W5(n,r,l),qc(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(su(i)&&!S0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;H_(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&V_(t,i)}}function V_(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AA(e,n)}function tG(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Q5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=RA;n&&(i=[r],a=Fg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var RA={get(t,e){if(e===Ba)return t;const n=bc(t);if(!gC(n,e))return nG(t,n,e);const r=n[e];return t.finalized_||!su(r)?r:r===y1(t.base_,e)?(v1(t),t.copy_[e]=wC(r,t)):r},has(t,e){return e in bc(t)},ownKeys(t){return Reflect.ownKeys(bc(t))},set(t,e,n){const r=Z5(bc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=y1(bc(t),e),a=i==null?void 0:i[Ba];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(ZK(n,i)&&(n!==void 0||gC(t.base_,e)))return!0;v1(t),_C(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return y1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,v1(t),_C(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ps(11)},getPrototypeOf(t){return xd(t.base_)},setPrototypeOf(){Ps(12)}},Fg={};z_(RA,(t,e)=>{Fg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fg.deleteProperty=function(t,e){return Fg.set.call(this,t,e,void 0)};Fg.set=function(t,e,n){return RA.set.call(this,t[0],e,n,t[0])};function y1(t,e){const n=t[Ba];return(n?bc(n):t)[e]}function nG(t,e,n){var i;const r=Z5(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Z5(t,e){if(!(e in t))return;let n=xd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xd(n)}}function _C(t){t.modified_||(t.modified_=!0,t.parent_&&_C(t.parent_))}function v1(t){t.copy_||(t.copy_=mC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const s=r;r=n;const o=this;return function(f=s,...h){return o.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&Ps(6),i!==void 0&&typeof i!="function"&&Ps(7);let a;if(su(n)){const s=LI(this),o=wC(n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?yC(s):vC(s)}return OI(s,i),II(a,s)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===K5&&(a=void 0),this.autoFreeze_&&AA(a,!0),i){const s=[],o=[];zc("Patches").generateReplacementPatches_(n,a,s,o),i(s,o)}return a}else Ps(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(o,...l)=>this.produceWithPatches(o,f=>n(f,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){su(e)||Ps(8),qc(e)&&(e=iG(e));const n=LI(this),r=wC(e,void 0);return r[Ba].isManual_=!0,vC(n),r}finishDraft(e,n){const r=e&&e[Ba];(!r||!r.isManual_)&&Ps(9);const{scope_:i}=r;return OI(i,n),II(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=zc("Patches").applyPatches_;return qc(e)?i(e,n):this.produce(e,a=>i(a,n))}};function wC(t,e){const n=w0(t)?zc("MapSet").proxyMap_(t,e):b0(t)?zc("MapSet").proxySet_(t,e):tG(t,e);return(e?e.scope_:Q5()).drafts_.push(n),n}function iG(t){return qc(t)||Ps(10,t),J5(t)}function J5(t){if(!su(t)||S0(t))return t;const e=t[Ba];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=mC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=mC(t,!0);return z_(n,(r,i)=>{W5(n,r,J5(i))}),e&&(e.finalized_=!1),n}var qa=new rG,Y5=qa.produce;qa.produceWithPatches.bind(qa);qa.setAutoFreeze.bind(qa);qa.setUseStrictShallowCopy.bind(qa);qa.applyPatches.bind(qa);qa.createDraft.bind(qa);qa.finishDraft.bind(qa);function X5(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var aG=X5(),sG=X5,oG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?q_:q_.apply(null,arguments)},uG=t=>t&&typeof t.match=="function";function DI(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(nu(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>WK(r)&&r.type===t,n}var eU=class cg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,cg.prototype)}static get[Symbol.species](){return cg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new cg(...e[0].concat(this)):new cg(...e.concat(this))}};function kI(t){return su(t)?Y5(t,()=>{}):t}function NI(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function lG(t){return typeof t=="boolean"}var cG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new eU;return n&&(lG(n)?s.push(aG):s.push(sG(n.extraArgument))),s},fG="RTK_autoBatch",FI=t=>e=>{setTimeout(e,t)},dG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FI(10):t.type==="callback"?t.queueNotification:FI(t.timeout),f=()=>{s=!1,a&&(a=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return o.add(h),()=>{m(),o.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[fG]),a=!i,a&&(s||(s=!0,l(f))),r.dispatch(h)}finally{i=!0}}})},hG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new eU(t);return r&&i.push(dG(typeof r=="object"?r:void 0)),i};function pG(t){const e=cG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t;let o;if(typeof n=="function")o=n;else if(TA(n))o=V5(n);else throw new Error(nu(1));let l;typeof r=="function"?l=r(e):l=e();let f=q_;i&&(f=oG({trace:!1,...typeof i=="object"&&i}));const h=GK(...l),p=hG(h);let m=typeof s=="function"?s(p):p();const y=f(...m);return CA(o,a,y)}function tU(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(nu(28));if(o in e)throw new Error(nu(29));return e[o]=s,i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function gG(t){return typeof t=="function"}function mG(t,e){let[n,r,i]=tU(e),a;if(gG(t))a=()=>kI(t());else{const o=kI(t);a=()=>o}function s(o=a(),l){let f=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(qc(h)){const y=p(h,l);return y===void 0?h:y}else{if(su(h))return Y5(h,m=>p(m,l));{const m=p(h,l);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},o)}return s.getInitialState=a,s}var yG=(t,e)=>uG(t)?t.match(e):t(e);function vG(...t){return e=>t.some(n=>yG(n,e))}var _G=Symbol.for("rtk-slice-createasyncthunk");function wG(t,e){return`${t}/${e}`}function bG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[_G];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(nu(11));const o=(typeof i.reducers=="function"?i.reducers(xG()):i.reducers)||{},l=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,I){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(nu(12));if(M in f.sliceCaseReducersByType)throw new Error(nu(13));return f.sliceCaseReducersByType[M]=I,h},addMatcher(A,I){return f.sliceMatchers.push({matcher:A,reducer:I}),h},exposeAction(A,I){return f.actionCreators[A]=I,h},exposeCaseReducer(A,I){return f.sliceCaseReducersByName[A]=I,h}};l.forEach(A=>{const I=o[A],M={reducerName:A,type:wG(a,A),createNotation:typeof i.reducers=="function"};TG(I)?AG(M,I,h,e):EG(M,I,h)});function p(){const[A={},I=[],M=void 0]=typeof i.extraReducers=="function"?tU(i.extraReducers):[i.extraReducers],D={...A,...f.sliceCaseReducersByType};return mG(i.initialState,j=>{for(let Q in D)j.addCase(Q,D[Q]);for(let Q of f.sliceMatchers)j.addMatcher(Q.matcher,Q.reducer);for(let Q of I)j.addMatcher(Q.matcher,Q.reducer);M&&j.addDefaultCase(M)})}const m=A=>A,y=new Map;let _;function b(A,I){return _||(_=p()),_(A,I)}function S(){return _||(_=p()),_.getInitialState()}function x(A,I=!1){function M(j){let Q=j[A];return typeof Q>"u"&&I&&(Q=S()),Q}function D(j=m){const Q=NI(y,I,()=>new WeakMap);return NI(Q,j,()=>{const Y={};for(const[q,Z]of Object.entries(i.selectors??{}))Y[q]=SG(Z,j,S,I);return Y})}return{reducerPath:A,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const E={name:a,reducer:b,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...x(s),injectInto(A,{reducerPath:I,...M}={}){const D=I??s;return A.inject({reducerPath:D,reducer:b},M),{...E,...x(D,!0)}}};return E}}function SG(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var x0=bG();function xG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function EG({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!CG(r))throw new Error(nu(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?DI(t,s):DI(t))}function TG(t){return t._reducerDefinitionType==="asyncThunk"}function CG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function AG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(nu(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),o&&r.addCase(p.pending,o),l&&r.addCase(p.rejected,l),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||zy,pending:o||zy,rejected:l||zy,settled:f||zy})}function zy(){}function nu(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const RG={},PG=x0({name:"auth",initialState:RG,reducers:{signin:(t,e)=>{t.isLoggedIn=e.payload.isLoggedIn,t.webId=e.payload.webId},setUser:(t,e)=>{t.profile=e.payload},signout:t=>{t.isLoggedIn=!1}}}),{actions:PA,reducer:OG}=PG,Fd=t=>t.auth,LG={},IG=x0({name:"config",initialState:LG,reducers:{setConfig:(t,e)=>{Object.assign(t,e.payload)},resetConfig:()=>({})}}),{actions:bC,reducer:MG}=IG,nU=t=>t.config,DG={},kG=x0({name:"login",initialState:DG,reducers:{setLastSelectedIssuer:(t,e)=>{t.lastSelectedIssuer=e.payload}}}),{actions:K_,reducer:NG}=kG,rU=t=>t.login.lastSelectedIssuer,FG={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},jG=x0({name:"ui",initialState:FG,reducers:{toggleTheme:t=>{t.theme=t.theme==="dark"?"light":"dark"}}}),{actions:$G,reducer:UG}=jG,OA=t=>t.ui.theme;var LA="persist:",IA="persist/FLUSH",E0="persist/REHYDRATE",MA="persist/PAUSE",DA="persist/PERSIST",kA="persist/PURGE",NA="persist/REGISTER",BG=-1;function __(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?__=function(n){return typeof n}:__=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},__(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(n,!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HG(t,e,n,r){r.debug;var i=qG({},n);return t&&__(t)==="object"&&Object.keys(t).forEach(function(a){a!=="_persist"&&e[a]===n[a]&&(i[a]=t[a])}),i}function VG(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,a="".concat(t.keyPrefix!==void 0?t.keyPrefix:LA).concat(t.key),s=t.storage,o;t.serialize===!1?o=function(M){return M}:typeof t.serialize=="function"?o=t.serialize:o=KG;var l=t.writeFailHandler||null,f={},h={},p=[],m=null,y=null,_=function(M){Object.keys(M).forEach(function(D){x(D)&&f[D]!==M[D]&&p.indexOf(D)===-1&&p.push(D)}),Object.keys(f).forEach(function(D){M[D]===void 0&&x(D)&&p.indexOf(D)===-1&&f[D]!==void 0&&p.push(D)}),m===null&&(m=setInterval(b,i)),f=M};function b(){if(p.length===0){m&&clearInterval(m),m=null;return}var I=p.shift(),M=r.reduce(function(D,j){return j.in(D,I,f)},f[I]);if(M!==void 0)try{h[I]=o(M)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete h[I];p.length===0&&S()}function S(){Object.keys(h).forEach(function(I){f[I]===void 0&&delete h[I]}),y=s.setItem(a,o(h)).catch(E)}function x(I){return!(n&&n.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function E(I){l&&l(I)}var A=function(){for(;p.length!==0;)b();return y||Promise.resolve()};return{update:_,flush:A}}function KG(t){return JSON.stringify(t)}function GG(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:LA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(s){return s}:typeof t.deserialize=="function"?i=t.deserialize:i=WG,r.getItem(n).then(function(a){if(a)try{var s={},o=i(a);return Object.keys(o).forEach(function(l){s[l]=e.reduceRight(function(f,h){return h.out(f,l,o)},i(o[l]))}),s}catch(l){throw l}else return})}function WG(t){return JSON.parse(t)}function QG(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:LA).concat(t.key);return e.removeItem(n,ZG)}function ZG(t){}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(n,!0).forEach(function(r){JG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t,e){if(t==null)return{};var n=XG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eW=5e3;function tW(t,e){var n=t.version!==void 0?t.version:BG;t.debug;var r=t.stateReconciler===void 0?HG:t.stateReconciler,i=t.getStoredState||GG,a=t.timeout!==void 0?t.timeout:eW,s=null,o=!1,l=!0,f=function(p){return p._persist.rehydrated&&s&&!l&&s.update(p),p};return function(h,p){var m=h||{},y=m._persist,_=YG(m,["_persist"]),b=_;if(p.type===DA){var S=!1,x=function(Q,Y){S||(p.rehydrate(t.key,Q,Y),S=!0)};if(a&&setTimeout(function(){!S&&x(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},a),l=!1,s||(s=VG(t)),y)return zo({},e(b,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(j){var Q=t.migrate||function(Y,q){return Promise.resolve(Y)};Q(j,n).then(function(Y){x(Y)},function(Y){x(void 0,Y)})},function(j){x(void 0,j)}),zo({},e(b,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===kA)return o=!0,p.result(QG(t)),zo({},e(b,p),{_persist:y});if(p.type===IA)return p.result(s&&s.flush()),zo({},e(b,p),{_persist:y});if(p.type===MA)l=!0;else if(p.type===E0){if(o)return zo({},b,{_persist:zo({},y,{rehydrated:!0})});if(p.key===t.key){var E=e(b,p),A=p.payload,I=r!==!1&&A!==void 0?r(A,h,E,t):E,M=zo({},I,{_persist:zo({},y,{rehydrated:!0})});return f(M)}}}if(!y)return e(h,p);var D=e(b,p);return D===b?h:f(zo({},D,{_persist:y}))}}function UI(t){return iW(t)||rW(t)||nW()}function nW(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function rW(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function iW(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(n,!0).forEach(function(r){aW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iU={registry:[],bootstrapped:!1},sW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iU,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case NA:return SC({},e,{registry:[].concat(UI(e.registry),[n.key])});case E0:var r=e.registry.indexOf(n.key),i=UI(e.registry);return i.splice(r,1),SC({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oW(t,e,n){var r=CA(sW,iU,void 0),i=function(l){r.dispatch({type:NA,key:l})},a=function(l,f,h){var p={type:E0,payload:f,err:h,key:l};t.dispatch(p),r.dispatch(p)},s=SC({},r,{purge:function(){var l=[];return t.dispatch({type:kA,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:IA,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:MA})},persist:function(){t.dispatch({type:DA,register:i,rehydrate:a})}});return s.persist(),s}var Jh={},Hy={},Vy={},qI;function uW(){if(qI)return Vy;qI=1,Vy.__esModule=!0,Vy.default=i;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(o){return typeof o}:t=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(a){if((typeof self>"u"?"undefined":t(self))!=="object"||!(a in self))return!1;try{var s=self[a],o="redux-persist ".concat(a," test");s.setItem(o,"test"),s.getItem(o),s.removeItem(o)}catch{return!1}return!0}function i(a){var s="".concat(a,"Storage");return r(s)?self[s]:n}return Vy}var zI;function lW(){if(zI)return Hy;zI=1,Hy.__esModule=!0,Hy.default=n;var t=e(uW());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,t.default)(r);return{getItem:function(s){return new Promise(function(o,l){o(i.getItem(s))})},setItem:function(s,o){return new Promise(function(l,f){l(i.setItem(s,o))})},removeItem:function(s){return new Promise(function(o,l){o(i.removeItem(s))})}}}return Hy}var HI;function cW(){if(HI)return Jh;HI=1,Jh.__esModule=!0,Jh.default=void 0;var t=e(lW());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return Jh.default=n,Jh}var fW=cW();const dW=Gr(fW),Ky=V5({auth:OG,login:NG,config:MG,ui:UG}),hW=(t,e)=>{if(vG(PA.signout)(e)){let n=Ky(void 0,e);const r=t&&nU(t);r&&(n=Ky(n,bC.setConfig(r)));const i=t&&rU(t);return i&&(n=Ky(n,K_.setLastSelectedIssuer(i))),n}return Ky(t,e)},pW={key:"root",storage:dW,whitelist:["login","config","ui"]},gW=tW(pW,hW),aU=pG({reducer:gW,middleware:t=>t({serializableCheck:{ignoredActions:[IA,E0,MA,DA,kA,NA]}})}),mW=oW(aU),sU="https://solidweb.me/solidcouch/community#us",oU="solidcouch",yW="https://service.notifications.tired.bike",vW="https://id.notifications.tired.bike/profile/card#me",uU="simple",lU="",cU="",VI="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",KI="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var fg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var _W=fg.exports,GI;function wW(){return GI||(GI=1,function(t,e){(function(n,r){r(e)})(_W,function(n){var r="1.9.4";function i(d){var v,P,U,ee;for(P=1,U=arguments.length;P<U;P++){ee=arguments[P];for(v in ee)d[v]=ee[v]}return d}var a=Object.create||function(){function d(){}return function(v){return d.prototype=v,new d}}();function s(d,v){var P=Array.prototype.slice;if(d.bind)return d.bind.apply(d,P.call(arguments,1));var U=P.call(arguments,2);return function(){return d.apply(v,U.length?U.concat(P.call(arguments)):arguments)}}var o=0;function l(d){return"_leaflet_id"in d||(d._leaflet_id=++o),d._leaflet_id}function f(d,v,P){var U,ee,ve,Ge;return Ge=function(){U=!1,ee&&(ve.apply(P,ee),ee=!1)},ve=function(){U?ee=arguments:(d.apply(P,arguments),setTimeout(Ge,v),U=!0)},ve}function h(d,v,P){var U=v[1],ee=v[0],ve=U-ee;return d===U&&P?d:((d-ee)%ve+ve)%ve+ee}function p(){return!1}function m(d,v){if(v===!1)return d;var P=Math.pow(10,v===void 0?6:v);return Math.round(d*P)/P}function y(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _(d){return y(d).split(/\s+/)}function b(d,v){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var P in v)d.options[P]=v[P];return d.options}function S(d,v,P){var U=[];for(var ee in d)U.push(encodeURIComponent(P?ee.toUpperCase():ee)+"="+encodeURIComponent(d[ee]));return(!v||v.indexOf("?")===-1?"?":"&")+U.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function E(d,v){return d.replace(x,function(P,U){var ee=v[U];if(ee===void 0)throw new Error("No value provided for variable "+P);return typeof ee=="function"&&(ee=ee(v)),ee})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function I(d,v){for(var P=0;P<d.length;P++)if(d[P]===v)return P;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var j=0;function Q(d){var v=+new Date,P=Math.max(0,16-(v-j));return j=v+P,window.setTimeout(d,P)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,q=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function Z(d,v,P){if(P&&Y===Q)d.call(v);else return Y.call(window,s(d,v))}function fe(d){d&&q.call(window,d)}var te={__proto__:null,extend:i,create:a,bind:s,get lastId(){return o},stamp:l,throttle:f,wrapNum:h,falseFn:p,formatNum:m,trim:y,splitWords:_,setOptions:b,getParamString:S,template:E,isArray:A,indexOf:I,emptyImageUrl:M,requestFn:Y,cancelFn:q,requestAnimFrame:Z,cancelAnimFrame:fe};function oe(){}oe.extend=function(d){var v=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=v.__super__=this.prototype,U=a(P);U.constructor=v,v.prototype=U;for(var ee in this)Object.prototype.hasOwnProperty.call(this,ee)&&ee!=="prototype"&&ee!=="__super__"&&(v[ee]=this[ee]);return d.statics&&i(v,d.statics),d.includes&&(ge(d.includes),i.apply(null,[U].concat(d.includes))),i(U,d),delete U.statics,delete U.includes,U.options&&(U.options=P.options?a(P.options):{},i(U.options,d.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=U._initHooks.length;ve<Ge;ve++)U._initHooks[ve].call(this)}},v},oe.include=function(d){var v=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=v,this.mergeOptions(d.options)),this},oe.mergeOptions=function(d){return i(this.prototype.options,d),this},oe.addInitHook=function(d){var v=Array.prototype.slice.call(arguments,1),P=typeof d=="function"?d:function(){this[d].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function ge(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var v=0;v<d.length;v++)d[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(d,v,P){if(typeof d=="object")for(var U in d)this._on(U,d[U],v);else{d=_(d);for(var ee=0,ve=d.length;ee<ve;ee++)this._on(d[ee],v,P)}return this},off:function(d,v,P){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var U in d)this._off(U,d[U],v);else{d=_(d);for(var ee=arguments.length===1,ve=0,Ge=d.length;ve<Ge;ve++)ee?this._off(d[ve]):this._off(d[ve],v,P)}return this},_on:function(d,v,P,U){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(d,v,P)===!1){P===this&&(P=void 0);var ee={fn:v,ctx:P};U&&(ee.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(ee)}},_off:function(d,v,P){var U,ee,ve;if(this._events&&(U=this._events[d],!!U)){if(arguments.length===1){if(this._firingCount)for(ee=0,ve=U.length;ee<ve;ee++)U[ee].fn=p;delete this._events[d];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var Ge=this._listens(d,v,P);if(Ge!==!1){var ot=U[Ge];this._firingCount&&(ot.fn=p,this._events[d]=U=U.slice()),U.splice(Ge,1)}}},fire:function(d,v,P){if(!this.listens(d,P))return this;var U=i({},v,{type:d,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var ee=this._events[d];if(ee){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=ee.length;ve<Ge;ve++){var ot=ee[ve],yt=ot.fn;ot.once&&this.off(d,yt,ot.ctx),yt.call(ot.ctx||this,U)}this._firingCount--}}return P&&this._propagateEvent(U),this},listens:function(d,v,P,U){typeof d!="string"&&console.warn('"string" type argument expected');var ee=v;typeof v!="function"&&(U=!!v,ee=void 0,P=void 0);var ve=this._events&&this._events[d];if(ve&&ve.length&&this._listens(d,ee,P)!==!1)return!0;if(U){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(d,v,P,U))return!0}return!1},_listens:function(d,v,P){if(!this._events)return!1;var U=this._events[d]||[];if(!v)return!!U.length;P===this&&(P=void 0);for(var ee=0,ve=U.length;ee<ve;ee++)if(U[ee].fn===v&&U[ee].ctx===P)return ee;return!1},once:function(d,v,P){if(typeof d=="object")for(var U in d)this._on(U,d[U],v,!0);else{d=_(d);for(var ee=0,ve=d.length;ee<ve;ee++)this._on(d[ee],v,P,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[l(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[l(d)],this},_propagateEvent:function(d){for(var v in this._eventParents)this._eventParents[v].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var le=oe.extend(_e);function ce(d,v,P){this.x=P?Math.round(d):d,this.y=P?Math.round(v):v}var Le=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(d){return this.clone()._add(k(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(k(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new ce(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new ce(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(d){d=k(d);var v=d.x-this.x,P=d.y-this.y;return Math.sqrt(v*v+P*P)},equals:function(d){return d=k(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=k(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function k(d,v,P){return d instanceof ce?d:A(d)?new ce(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new ce(d.x,d.y):new ce(d,v,P)}function ne(d,v){if(d)for(var P=v?[d,v]:d,U=0,ee=P.length;U<ee;U++)this.extend(P[U])}ne.prototype={extend:function(d){var v,P;if(!d)return this;if(d instanceof ce||typeof d[0]=="number"||"x"in d)v=P=k(d);else if(d=me(d),v=d.min,P=d.max,!v||!P)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=P.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(d){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var v,P;return typeof d[0]=="number"||d instanceof ce?d=k(d):d=me(d),d instanceof ne?(v=d.min,P=d.max):v=P=d,v.x>=this.min.x&&P.x<=this.max.x&&v.y>=this.min.y&&P.y<=this.max.y},intersects:function(d){d=me(d);var v=this.min,P=this.max,U=d.min,ee=d.max,ve=ee.x>=v.x&&U.x<=P.x,Ge=ee.y>=v.y&&U.y<=P.y;return ve&&Ge},overlaps:function(d){d=me(d);var v=this.min,P=this.max,U=d.min,ee=d.max,ve=ee.x>v.x&&U.x<P.x,Ge=ee.y>v.y&&U.y<P.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var v=this.min,P=this.max,U=Math.abs(v.x-P.x)*d,ee=Math.abs(v.y-P.y)*d;return me(k(v.x-U,v.y-ee),k(P.x+U,P.y+ee))},equals:function(d){return d?(d=me(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function me(d,v){return!d||d instanceof ne?d:new ne(d,v)}function H(d,v){if(d)for(var P=v?[d,v]:d,U=0,ee=P.length;U<ee;U++)this.extend(P[U])}H.prototype={extend:function(d){var v=this._southWest,P=this._northEast,U,ee;if(d instanceof pe)U=d,ee=d;else if(d instanceof H){if(U=d._southWest,ee=d._northEast,!U||!ee)return this}else return d?this.extend(Ae(d)||J(d)):this;return!v&&!P?(this._southWest=new pe(U.lat,U.lng),this._northEast=new pe(ee.lat,ee.lng)):(v.lat=Math.min(U.lat,v.lat),v.lng=Math.min(U.lng,v.lng),P.lat=Math.max(ee.lat,P.lat),P.lng=Math.max(ee.lng,P.lng)),this},pad:function(d){var v=this._southWest,P=this._northEast,U=Math.abs(v.lat-P.lat)*d,ee=Math.abs(v.lng-P.lng)*d;return new H(new pe(v.lat-U,v.lng-ee),new pe(P.lat+U,P.lng+ee))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof pe||"lat"in d?d=Ae(d):d=J(d);var v=this._southWest,P=this._northEast,U,ee;return d instanceof H?(U=d.getSouthWest(),ee=d.getNorthEast()):U=ee=d,U.lat>=v.lat&&ee.lat<=P.lat&&U.lng>=v.lng&&ee.lng<=P.lng},intersects:function(d){d=J(d);var v=this._southWest,P=this._northEast,U=d.getSouthWest(),ee=d.getNorthEast(),ve=ee.lat>=v.lat&&U.lat<=P.lat,Ge=ee.lng>=v.lng&&U.lng<=P.lng;return ve&&Ge},overlaps:function(d){d=J(d);var v=this._southWest,P=this._northEast,U=d.getSouthWest(),ee=d.getNorthEast(),ve=ee.lat>v.lat&&U.lat<P.lat,Ge=ee.lng>v.lng&&U.lng<P.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,v){return d?(d=J(d),this._southWest.equals(d.getSouthWest(),v)&&this._northEast.equals(d.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(d,v){return d instanceof H?d:new H(d,v)}function pe(d,v,P){if(isNaN(d)||isNaN(v))throw new Error("Invalid LatLng object: ("+d+", "+v+")");this.lat=+d,this.lng=+v,P!==void 0&&(this.alt=+P)}pe.prototype={equals:function(d,v){if(!d)return!1;d=Ae(d);var P=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return P<=(v===void 0?1e-9:v)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return Re.distance(this,Ae(d))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(d){var v=180*d/40075017,P=v/Math.cos(Math.PI/180*this.lat);return J([this.lat-v,this.lng-P],[this.lat+v,this.lng+P])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function Ae(d,v,P){return d instanceof pe?d:A(d)&&typeof d[0]!="object"?d.length===3?new pe(d[0],d[1],d[2]):d.length===2?new pe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new pe(d.lat,"lng"in d?d.lng:d.lon,d.alt):v===void 0?null:new pe(d,v,P)}var Je={latLngToPoint:function(d,v){var P=this.projection.project(d),U=this.scale(v);return this.transformation._transform(P,U)},pointToLatLng:function(d,v){var P=this.scale(v),U=this.transformation.untransform(d,P);return this.projection.unproject(U)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var v=this.projection.bounds,P=this.scale(d),U=this.transformation.transform(v.min,P),ee=this.transformation.transform(v.max,P);return new ne(U,ee)},infinite:!1,wrapLatLng:function(d){var v=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,P=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,U=d.alt;return new pe(P,v,U)},wrapLatLngBounds:function(d){var v=d.getCenter(),P=this.wrapLatLng(v),U=v.lat-P.lat,ee=v.lng-P.lng;if(U===0&&ee===0)return d;var ve=d.getSouthWest(),Ge=d.getNorthEast(),ot=new pe(ve.lat-U,ve.lng-ee),yt=new pe(Ge.lat-U,Ge.lng-ee);return new H(ot,yt)}},Re=i({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(d,v){var P=Math.PI/180,U=d.lat*P,ee=v.lat*P,ve=Math.sin((v.lat-d.lat)*P/2),Ge=Math.sin((v.lng-d.lng)*P/2),ot=ve*ve+Math.cos(U)*Math.cos(ee)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*yt}}),Fe=6378137,Xe={R:Fe,MAX_LATITUDE:85.0511287798,project:function(d){var v=Math.PI/180,P=this.MAX_LATITUDE,U=Math.max(Math.min(P,d.lat),-P),ee=Math.sin(U*v);return new ce(this.R*d.lng*v,this.R*Math.log((1+ee)/(1-ee))/2)},unproject:function(d){var v=180/Math.PI;return new pe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*v,d.x*v/this.R)},bounds:function(){var d=Fe*Math.PI;return new ne([-d,-d],[d,d])}()};function ie(d,v,P,U){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=v,this._c=P,this._d=U}ie.prototype={transform:function(d,v){return this._transform(d.clone(),v)},_transform:function(d,v){return v=v||1,d.x=v*(this._a*d.x+this._b),d.y=v*(this._c*d.y+this._d),d},untransform:function(d,v){return v=v||1,new ce((d.x/v-this._b)/this._a,(d.y/v-this._d)/this._c)}};function z(d,v,P,U){return new ie(d,v,P,U)}var $=i({},Re,{code:"EPSG:3857",projection:Xe,transformation:function(){var d=.5/(Math.PI*Xe.R);return z(d,.5,-d,.5)}()}),re=i({},$,{code:"EPSG:900913"});function W(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function he(d,v){var P="",U,ee,ve,Ge,ot,yt;for(U=0,ve=d.length;U<ve;U++){for(ot=d[U],ee=0,Ge=ot.length;ee<Ge;ee++)yt=ot[ee],P+=(ee?"L":"M")+yt.x+" "+yt.y;P+=v?Ee.svg?"z":"x":""}return P||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Te=He&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),Ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&Ut<537&&!("AudioNode"in window),Be=!!window.opera,X=!Ne&&We("chrome"),B=We("gecko")&&!tt&&!Be&&!He,K=!X&&We("safari"),V=We("phantom"),je="OTransition"in ye,Ze=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,At="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,Ot="MozPerspective"in ye,Dt=!window.L_DISABLE_3D&&(ke||At||Ot)&&!je&&!V,Rt=typeof orientation<"u"||We("mobile"),Bt=Rt&&tt,Er=Rt&&At,fn=!window.PointerEvent&&window.MSPointerEvent,dn=!!(window.PointerEvent||fn),dr="ontouchstart"in window||!!window.TouchEvent,on=!window.L_NO_TOUCH&&(dr||dn),un=Rt&&Be,Ln=Rt&&B,sr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oe=function(){var d=!1;try{var v=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return d}(),qe=function(){return!!document.createElement("canvas").getContext}(),wt=!!(document.createElementNS&&W("svg").createSVGRect),xt=!!wt&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lt=!wt&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var v=d.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}}(),qn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ee={ie:He,ielt9:Te,edge:Ne,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:X,gecko:B,safari:K,phantom:V,opera12:je,win:Ze,ie3d:ke,webkit3d:At,gecko3d:Ot,any3d:Dt,mobile:Rt,mobileWebkit:Bt,mobileWebkit3d:Er,msPointer:fn,pointer:dn,touch:on,touchNative:dr,mobileOpera:un,mobileGecko:Ln,retina:sr,passiveEvents:Oe,canvas:qe,svg:wt,vml:Lt,inlineSvg:xt,mac:qn,linux:Jn},et=Ee.msPointer?"MSPointerDown":"pointerdown",ft=Ee.msPointer?"MSPointerMove":"pointermove",it=Ee.msPointer?"MSPointerUp":"pointerup",Et=Ee.msPointer?"MSPointerCancel":"pointercancel",It={touchstart:et,touchmove:ft,touchend:it,touchcancel:Et},Vt={touchstart:Un,touchmove:En,touchend:En,touchcancel:En},Yt={},qt=!1;function Nt(d,v,P){return v==="touchstart"&&xn(),Vt[v]?(P=Vt[v].bind(this,P),d.addEventListener(It[v],P,!1),P):(console.warn("wrong event specified:",v),p)}function en(d,v,P){if(!It[v]){console.warn("wrong event specified:",v);return}d.removeEventListener(It[v],P,!1)}function Rn(d){Yt[d.pointerId]=d}function Kt(d){Yt[d.pointerId]&&(Yt[d.pointerId]=d)}function Qt(d){delete Yt[d.pointerId]}function xn(){qt||(document.addEventListener(et,Rn,!0),document.addEventListener(ft,Kt,!0),document.addEventListener(it,Qt,!0),document.addEventListener(Et,Qt,!0),qt=!0)}function En(d,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var P in Yt)v.touches.push(Yt[P]);v.changedTouches=[v],d(v)}}function Un(d,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&nr(v),En(d,v)}function Tr(d){var v={},P,U;for(U in d)P=d[U],v[U]=P&&P.bind?P.bind(d):P;return d=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var Ur=200;function Br(d,v){d.addEventListener("dblclick",v);var P=0,U;function ee(ve){if(ve.detail!==1){U=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=ps(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var ot=Date.now();ot-P<=Ur?(U++,U===2&&v(Tr(ve))):U=1,P=ot}}}return d.addEventListener("click",ee),{dblclick:v,simDblclick:ee}}function Rr(d,v){d.removeEventListener("dblclick",v.dblclick),d.removeEventListener("click",v.simDblclick)}var Nn=st(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wr=st(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bi=Wr==="webkitTransition"||Wr==="OTransition"?Wr+"End":"transitionend";function C(d){return typeof d=="string"?document.getElementById(d):d}function T(d,v){var P=d.style[v]||d.currentStyle&&d.currentStyle[v];if((!P||P==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(d,null);P=U?U[v]:null}return P==="auto"?null:P}function R(d,v,P){var U=document.createElement(d);return U.className=v||"",P&&P.appendChild(U),U}function N(d){var v=d.parentNode;v&&v.removeChild(d)}function G(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function se(d){var v=d.parentNode;v&&v.lastChild!==d&&v.appendChild(d)}function we(d){var v=d.parentNode;v&&v.firstChild!==d&&v.insertBefore(d,v.firstChild)}function Ie(d,v){if(d.classList!==void 0)return d.classList.contains(v);var P=$e(d);return P.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(P)}function xe(d,v){if(d.classList!==void 0)for(var P=_(v),U=0,ee=P.length;U<ee;U++)d.classList.add(P[U]);else if(!Ie(d,v)){var ve=$e(d);Me(d,(ve?ve+" ":"")+v)}}function Pe(d,v){d.classList!==void 0?d.classList.remove(v):Me(d,y((" "+$e(d)+" ").replace(" "+v+" "," ")))}function Me(d,v){d.className.baseVal===void 0?d.className=v:d.className.baseVal=v}function $e(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function ze(d,v){"opacity"in d.style?d.style.opacity=v:"filter"in d.style&&Ye(d,v)}function Ye(d,v){var P=!1,U="DXImageTransform.Microsoft.Alpha";try{P=d.filters.item(U)}catch{if(v===1)return}v=Math.round(v*100),P?(P.Enabled=v!==100,P.Opacity=v):d.style.filter+=" progid:"+U+"(opacity="+v+")"}function st(d){for(var v=document.documentElement.style,P=0;P<d.length;P++)if(d[P]in v)return d[P];return!1}function dt(d,v,P){var U=v||new ce(0,0);d.style[Nn]=(Ee.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(P?" scale("+P+")":"")}function ut(d,v){d._leaflet_pos=v,Ee.any3d?dt(d,v):(d.style.left=v.x+"px",d.style.top=v.y+"px")}function be(d){return d._leaflet_pos||new ce(0,0)}var De,Ue,Ke;if("onselectstart"in document)De=function(){Wt(window,"selectstart",nr)},Ue=function(){hn(window,"selectstart",nr)};else{var lt=st(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var d=document.documentElement.style;Ke=d[lt],d[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Wt(window,"dragstart",nr)}function Ft(){hn(window,"dragstart",nr)}var Tt,pn;function kt(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(zt(),Tt=d,pn=d.style.outlineStyle,d.style.outlineStyle="none",Wt(window,"keydown",zt))}function zt(){Tt&&(Tt.style.outlineStyle=pn,Tt=void 0,pn=void 0,hn(window,"keydown",zt))}function Bn(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Mn(d){var v=d.getBoundingClientRect();return{x:v.width/d.offsetWidth||1,y:v.height/d.offsetHeight||1,boundingClientRect:v}}var Fn={__proto__:null,TRANSFORM:Nn,TRANSITION:Wr,TRANSITION_END:Bi,get:C,getStyle:T,create:R,remove:N,empty:G,toFront:se,toBack:we,hasClass:Ie,addClass:xe,removeClass:Pe,setClass:Me,getClass:$e,setOpacity:ze,testProp:st,setTransform:dt,setPosition:ut,getPosition:be,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:Ft,preventOutline:kt,restoreOutline:zt,getSizedParentNode:Bn,getScale:Mn};function Wt(d,v,P,U){if(v&&typeof v=="object")for(var ee in v)pr(d,ee,v[ee],P);else{v=_(v);for(var ve=0,Ge=v.length;ve<Ge;ve++)pr(d,v[ve],P,U)}return this}var Kn="_leaflet_events";function hn(d,v,P,U){if(arguments.length===1)Yn(d),delete d[Kn];else if(v&&typeof v=="object")for(var ee in v)or(d,ee,v[ee],P);else if(v=_(v),arguments.length===2)Yn(d,function(ot){return I(v,ot)!==-1});else for(var ve=0,Ge=v.length;ve<Ge;ve++)or(d,v[ve],P,U);return this}function Yn(d,v){for(var P in d[Kn]){var U=P.split(/\d/)[0];(!v||v(U))&&or(d,U,null,null,P)}}var hr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pr(d,v,P,U){var ee=v+l(P)+(U?"_"+l(U):"");if(d[Kn]&&d[Kn][ee])return this;var ve=function(ot){return P.call(U||d,ot||window.event)},Ge=ve;!Ee.touchNative&&Ee.pointer&&v.indexOf("touch")===0?ve=Nt(d,v,ve):Ee.touch&&v==="dblclick"?ve=Br(d,ve):"addEventListener"in d?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?d.addEventListener(hr[v]||v,ve,Ee.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(ve=function(ot){ot=ot||window.event,zi(d,ot)&&Ge(ot)},d.addEventListener(hr[v],ve,!1)):d.addEventListener(v,Ge,!1):d.attachEvent("on"+v,ve),d[Kn]=d[Kn]||{},d[Kn][ee]=ve}function or(d,v,P,U,ee){ee=ee||v+l(P)+(U?"_"+l(U):"");var ve=d[Kn]&&d[Kn][ee];if(!ve)return this;!Ee.touchNative&&Ee.pointer&&v.indexOf("touch")===0?en(d,v,ve):Ee.touch&&v==="dblclick"?Rr(d,ve):"removeEventListener"in d?d.removeEventListener(hr[v]||v,ve,!1):d.detachEvent("on"+v,ve),d[Kn][ee]=null}function vi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function qi(d){return pr(d,"wheel",vi),this}function la(d){return Wt(d,"mousedown touchstart dblclick contextmenu",vi),d._leaflet_disable_click=!0,this}function nr(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ii(d){return nr(d),vi(d),this}function ps(d){if(d.composedPath)return d.composedPath();for(var v=[],P=d.target;P;)v.push(P),P=P.parentNode;return v}function rr(d,v){if(!v)return new ce(d.clientX,d.clientY);var P=Mn(v),U=P.boundingClientRect;return new ce((d.clientX-U.left)/P.x-v.clientLeft,(d.clientY-U.top)/P.y-v.clientTop)}var Ir=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ka(d){return Ee.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Ir:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function zi(d,v){var P=v.relatedTarget;if(!P)return!0;try{for(;P&&P!==d;)P=P.parentNode}catch{return!1}return P!==d}var wu={__proto__:null,on:Wt,off:hn,stopPropagation:vi,disableScrollPropagation:qi,disableClickPropagation:la,preventDefault:nr,stop:Ii,getPropagationPath:ps,getMousePosition:rr,getWheelDelta:Ka,isExternalTarget:zi,addListener:Wt,removeListener:hn},Ga=le.extend({run:function(d,v,P,U){this.stop(),this._el=d,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=be(d),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(d){var v=+new Date-this._startTime,P=this._duration*1e3;v<P?this._runFrame(this._easeOut(v/P),d):(this._runFrame(1),this._complete())},_runFrame:function(d,v){var P=this._startPos.add(this._offset.multiplyBy(d));v&&P._round(),ut(this._el,P),this.fire("step")},_complete:function(){fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),yn=le.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,v){v=b(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(Ae(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wr&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,Bi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,v,P){if(v=v===void 0?this._zoom:this._limitZoom(v),d=this._limitCenter(Ae(d),v,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var U=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,v,P.zoom):this._tryAnimatedPan(d,P.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(d,v,P.pan&&P.pan.noMoveStart),this},setZoom:function(d,v){return this._loaded?this.setView(this.getCenter(),d,{zoom:v}):(this._zoom=d,this)},zoomIn:function(d,v){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,v)},zoomOut:function(d,v){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,v)},setZoomAround:function(d,v,P){var U=this.getZoomScale(v),ee=this.getSize().divideBy(2),ve=d instanceof ce?d:this.latLngToContainerPoint(d),Ge=ve.subtract(ee).multiplyBy(1-1/U),ot=this.containerPointToLatLng(ee.add(Ge));return this.setView(ot,v,{zoom:P})},_getBoundsCenterZoom:function(d,v){v=v||{},d=d.getBounds?d.getBounds():J(d);var P=k(v.paddingTopLeft||v.padding||[0,0]),U=k(v.paddingBottomRight||v.padding||[0,0]),ee=this.getBoundsZoom(d,!1,P.add(U));if(ee=typeof v.maxZoom=="number"?Math.min(v.maxZoom,ee):ee,ee===1/0)return{center:d.getCenter(),zoom:ee};var ve=U.subtract(P).divideBy(2),Ge=this.project(d.getSouthWest(),ee),ot=this.project(d.getNorthEast(),ee),yt=this.unproject(Ge.add(ot).divideBy(2).add(ve),ee);return{center:yt,zoom:ee}},fitBounds:function(d,v){if(d=J(d),!d.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(d,v);return this.setView(P.center,P.zoom,v)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,v){return this.setView(d,this._zoom,{pan:v})},panBy:function(d,v){if(d=k(d).round(),v=v||{},!d.x&&!d.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ga,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,P,v.duration||.25,v.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,v,P){if(P=P||{},P.animate===!1||!Ee.any3d)return this.setView(d,v,P);this._stop();var U=this.project(this.getCenter()),ee=this.project(d),ve=this.getSize(),Ge=this._zoom;d=Ae(d),v=v===void 0?Ge:v;var ot=Math.max(ve.x,ve.y),yt=ot*this.getZoomScale(Ge,v),bt=ee.distanceTo(U)||1,jt=1.42,nn=jt*jt;function gn(vr){var Po=vr?-1:1,Ul=vr?yt:ot,hf=yt*yt-ot*ot+Po*nn*nn*bt*bt,Jm=2*Ul*nn*bt,pf=hf/Jm,Hs=Math.sqrt(pf*pf+1)-pf,Ym=Hs<1e-9?-18:Math.log(Hs);return Ym}function qr(vr){return(Math.exp(vr)-Math.exp(-vr))/2}function Ar(vr){return(Math.exp(vr)+Math.exp(-vr))/2}function di(vr){return qr(vr)/Ar(vr)}var _i=gn(0);function zs(vr){return ot*(Ar(_i)/Ar(_i+jt*vr))}function Wm(vr){return ot*(Ar(_i)*di(_i+jt*vr)-qr(_i))/nn}function df(vr){return 1-Math.pow(1-vr,1.5)}var Qm=Date.now(),Ou=(gn(1)-_i)/jt,Zm=P.duration?1e3*P.duration:1e3*Ou*.8;function Ro(){var vr=(Date.now()-Qm)/Zm,Po=df(vr)*Ou;vr<=1?(this._flyToFrame=Z(Ro,this),this._move(this.unproject(U.add(ee.subtract(U).multiplyBy(Wm(Po)/bt)),Ge),this.getScaleZoom(ot/zs(Po),Ge),{flyTo:!0})):this._move(d,v)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),Ro.call(this),this},flyToBounds:function(d,v){var P=this._getBoundsCenterZoom(d,v);return this.flyTo(P.center,P.zoom,v)},setMaxBounds:function(d){return d=J(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var v=this.options.minZoom;return this.options.minZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var v=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,v){this._enforcingBounds=!0;var P=this.getCenter(),U=this._limitCenter(P,this._zoom,J(d));return P.equals(U)||this.panTo(U,v),this._enforcingBounds=!1,this},panInside:function(d,v){v=v||{};var P=k(v.paddingTopLeft||v.padding||[0,0]),U=k(v.paddingBottomRight||v.padding||[0,0]),ee=this.project(this.getCenter()),ve=this.project(d),Ge=this.getPixelBounds(),ot=me([Ge.min.add(P),Ge.max.subtract(U)]),yt=ot.getSize();if(!ot.contains(ve)){this._enforcingBounds=!0;var bt=ve.subtract(ot.getCenter()),jt=ot.extend(ve).getSize().subtract(yt);ee.x+=bt.x<0?-jt.x:jt.x,ee.y+=bt.y<0?-jt.y:jt.y,this.panTo(this.unproject(ee),v),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),U=v.divideBy(2).round(),ee=P.divideBy(2).round(),ve=U.subtract(ee);return!ve.x&&!ve.y?this:(d.animate&&d.pan?this.panBy(ve):(d.pan&&this._rawPanBy(ve),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=s(this._handleGeolocationResponse,this),P=s(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,P,d):navigator.geolocation.getCurrentPosition(v,P,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var v=d.code,P=d.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var v=d.coords.latitude,P=d.coords.longitude,U=new pe(v,P),ee=U.toBounds(d.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(ee);this.setView(U,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var ot={latlng:U,bounds:ee,timestamp:d.timestamp};for(var yt in d.coords)typeof d.coords[yt]=="number"&&(ot[yt]=d.coords[yt]);this.fire("locationfound",ot)}},addHandler:function(d,v){if(!v)return this;var P=this[d]=new v(this);return this._handlers.push(P),this.options[d]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)N(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,v){var P="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),U=R("div",P,v||this._mapPane);return d&&(this._panes[d]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),v=this.unproject(d.getBottomLeft()),P=this.unproject(d.getTopRight());return new H(v,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,v,P){d=J(d),P=k(P||[0,0]);var U=this.getZoom()||0,ee=this.getMinZoom(),ve=this.getMaxZoom(),Ge=d.getNorthWest(),ot=d.getSouthEast(),yt=this.getSize().subtract(P),bt=me(this.project(ot,U),this.project(Ge,U)).getSize(),jt=Ee.any3d?this.options.zoomSnap:1,nn=yt.x/bt.x,gn=yt.y/bt.y,qr=v?Math.max(nn,gn):Math.min(nn,gn);return U=this.getScaleZoom(qr,U),jt&&(U=Math.round(U/(jt/100))*(jt/100),U=v?Math.ceil(U/jt)*jt:Math.floor(U/jt)*jt),Math.max(ee,Math.min(ve,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,v){var P=this._getTopLeftPoint(d,v);return new ne(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,v){var P=this.options.crs;return v=v===void 0?this._zoom:v,P.scale(d)/P.scale(v)},getScaleZoom:function(d,v){var P=this.options.crs;v=v===void 0?this._zoom:v;var U=P.zoom(d*P.scale(v));return isNaN(U)?1/0:U},project:function(d,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(Ae(d),v)},unproject:function(d,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(k(d),v)},layerPointToLatLng:function(d){var v=k(d).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(d){var v=this.project(Ae(d))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Ae(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(J(d))},distance:function(d,v){return this.options.crs.distance(Ae(d),Ae(v))},containerPointToLayerPoint:function(d){return k(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return k(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var v=this.containerPointToLayerPoint(k(d));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(d)))},mouseEventToContainerPoint:function(d){return rr(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var v=this._container=C(d);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(v,"scroll",this._onScroll,this),this._containerId=l(v)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,xe(d,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=T(d,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(d.markerPane,"leaflet-zoom-hide"),xe(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,v,P){ut(this._mapPane,new ce(0,0));var U=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var ee=this._zoom!==v;this._moveStart(ee,P)._move(d,v)._moveEnd(ee),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(d,v){return d&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(d,v,P,U){v===void 0&&(v=this._zoom);var ee=this._zoom!==v;return this._zoom=v,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),U?P&&P.pinch&&this.fire("zoom",P):((ee||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[l(this._container)]=this;var v=d?hn:Wt;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){fe(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,v){for(var P=[],U,ee=v==="mouseout"||v==="mouseover",ve=d.target||d.srcElement,Ge=!1;ve;){if(U=this._targets[l(ve)],U&&(v==="click"||v==="preclick")&&this._draggableMoved(U)){Ge=!0;break}if(U&&U.listens(v,!0)&&(ee&&!zi(ve,d)||(P.push(U),ee))||ve===this._container)break;ve=ve.parentNode}return!P.length&&!Ge&&!ee&&this.listens(v,!0)&&(P=[this]),P},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var v=d.target||d.srcElement;if(!(!this._loaded||v._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(v))){var P=d.type;P==="mousedown"&&kt(v),this._fireDOMEvent(d,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,v,P){if(d.type==="click"){var U=i({},d);U.type="preclick",this._fireDOMEvent(U,U.type,P)}var ee=this._findEventTargets(d,v);if(P){for(var ve=[],Ge=0;Ge<P.length;Ge++)P[Ge].listens(v,!0)&&ve.push(P[Ge]);ee=ve.concat(ee)}if(ee.length){v==="contextmenu"&&nr(d);var ot=ee[0],yt={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var bt=ot.getLatLng&&(!ot._radius||ot._radius<=10);yt.containerPoint=bt?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(d),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=bt?ot.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<ee.length;Ge++)if(ee[Ge].fire(v,yt,!0),yt.originalEvent._stopped||ee[Ge].options.bubblingMouseEvents===!1&&I(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,v=this._handlers.length;d<v;d++)this._handlers[d].disable()},whenReady:function(d,v){return this._loaded?d.call(v||this,{target:this}):this.on("load",d,v),this},_getMapPanePos:function(){return be(this._mapPane)||new ce(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,v){var P=d&&v!==void 0?this._getNewPixelOrigin(d,v):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,v){var P=this.getSize()._divideBy(2);return this.project(d,v)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,v,P){var U=this._getNewPixelOrigin(P,v);return this.project(d,v)._subtract(U)},_latLngBoundsToNewLayerBounds:function(d,v,P){var U=this._getNewPixelOrigin(P,v);return me([this.project(d.getSouthWest(),v)._subtract(U),this.project(d.getNorthWest(),v)._subtract(U),this.project(d.getSouthEast(),v)._subtract(U),this.project(d.getNorthEast(),v)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,v,P){if(!P)return d;var U=this.project(d,v),ee=this.getSize().divideBy(2),ve=new ne(U.subtract(ee),U.add(ee)),Ge=this._getBoundsOffset(ve,P,v);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?d:this.unproject(U.add(Ge),v)},_limitOffset:function(d,v){if(!v)return d;var P=this.getPixelBounds(),U=new ne(P.min.add(d),P.max.add(d));return d.add(this._getBoundsOffset(U,v))},_getBoundsOffset:function(d,v,P){var U=me(this.project(v.getNorthEast(),P),this.project(v.getSouthWest(),P)),ee=U.min.subtract(d.min),ve=U.max.subtract(d.max),Ge=this._rebound(ee.x,-ve.x),ot=this._rebound(ee.y,-ve.y);return new ce(Ge,ot)},_rebound:function(d,v){return d+v>0?Math.round(d-v)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(v))},_limitZoom:function(d){var v=this.getMinZoom(),P=this.getMaxZoom(),U=Ee.any3d?this.options.zoomSnap:1;return U&&(d=Math.round(d/U)*U),Math.max(v,Math.min(P,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,v){var P=this._getCenterOffset(d)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,v),!0)},_createAnimProxy:function(){var d=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(v){var P=Nn,U=this._proxy.style[P];dt(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),U===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),v=this.getZoom();dt(this._proxy,this.project(d,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,v,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(v),ee=this._getCenterOffset(d)._divideBy(1-1/U);return P.animate!==!0&&!this.getSize().contains(ee)?!1:(Z(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(d,v,!0)},this),!0)},_animateZoom:function(d,v,P,U){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=v,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:v,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ta(d,v){return new yn(d,v)}var ur=oe.extend({options:{position:"topright"},initialize:function(d){b(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var v=this._map;return v&&v.removeControl(this),this.options.position=d,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var v=this._container=this.onAdd(d),P=this.getPosition(),U=d._controlCorners[P];return xe(v,"leaflet-control"),P.indexOf("bottom")!==-1?U.insertBefore(v,U.firstChild):U.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Mi=function(d){return new ur(d)};yn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},v="leaflet-",P=this._controlContainer=R("div",v+"control-container",this._container);function U(ee,ve){var Ge=v+ee+" "+v+ve;d[ee+ve]=R("div",Ge,P)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)N(this._controlCorners[d]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ca=ur.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,v,P,U){return P<U?-1:U<P?1:0}},initialize:function(d,v,P){b(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in d)this._addLayer(d[U],U);for(U in v)this._addLayer(v[U],U,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return ur.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,v){return this._addLayer(d,v),this._map?this._update():this},addOverlay:function(d,v){return this._addLayer(d,v,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var v=this._getLayer(l(d));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",v=this._container=R("div",d),P=this.options.collapsed;v.setAttribute("aria-haspopup",!0),la(v),qi(v);var U=this._section=R("section",d+"-list");P&&(this._map.on("click",this.collapse,this),Wt(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ee=this._layersLink=R("a",d+"-toggle",v);ee.href="#",ee.title="Layers",ee.setAttribute("role","button"),Wt(ee,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){nr(ve),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=R("div",d+"-base",U),this._separator=R("div",d+"-separator",U),this._overlaysList=R("div",d+"-overlays",U),v.appendChild(U)},_getLayer:function(d){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&l(this._layers[v].layer)===d)return this._layers[v]},_addLayer:function(d,v,P){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:v,overlay:P}),this.options.sortLayers&&this._layers.sort(s(function(U,ee){return this.options.sortFunction(U.layer,ee.layer,U.name,ee.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;G(this._baseLayersList),G(this._overlaysList),this._layerControlInputs=[];var d,v,P,U,ee=0;for(P=0;P<this._layers.length;P++)U=this._layers[P],this._addItem(U),v=v||U.overlay,d=d||!U.overlay,ee+=U.overlay?0:1;return this.options.hideSingleBase&&(d=d&&ee>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=v&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var v=this._getLayer(l(d.target)),P=v.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;P&&this._map.fire(P,v)},_createRadioElement:function(d,v){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(v?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=P,U.firstChild},_addItem:function(d){var v=document.createElement("label"),P=this._map.hasLayer(d.layer),U;d.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=P):U=this._createRadioElement("leaflet-base-layers_"+l(this),P),this._layerControlInputs.push(U),U.layerId=l(d.layer),Wt(U,"click",this._onInputClick,this);var ee=document.createElement("span");ee.innerHTML=" "+d.name;var ve=document.createElement("span");v.appendChild(ve),ve.appendChild(U),ve.appendChild(ee);var Ge=d.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,v,P,U=[],ee=[];this._handlingClick=!0;for(var ve=d.length-1;ve>=0;ve--)v=d[ve],P=this._getLayer(v.layerId).layer,v.checked?U.push(P):v.checked||ee.push(P);for(ve=0;ve<ee.length;ve++)this._map.hasLayer(ee[ve])&&this._map.removeLayer(ee[ve]);for(ve=0;ve<U.length;ve++)this._map.hasLayer(U[ve])||this._map.addLayer(U[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,v,P,U=this._map.getZoom(),ee=d.length-1;ee>=0;ee--)v=d[ee],P=this._getLayer(v.layerId).layer,v.disabled=P.options.minZoom!==void 0&&U<P.options.minZoom||P.options.maxZoom!==void 0&&U>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Wt(d,"click",nr),this.expand();var v=this;setTimeout(function(){hn(d,"click",nr),v._preventClick=!1})}}),lr=function(d,v,P){return new ca(d,v,P)},Hi=ur.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var v="leaflet-control-zoom",P=R("div",v+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,v+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,v+"-out",P,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,v,P,U,ee){var ve=R("a",P,U);return ve.innerHTML=d,ve.href="#",ve.title=v,ve.setAttribute("role","button"),ve.setAttribute("aria-label",v),la(ve),Wt(ve,"click",Ii),Wt(ve,"click",ee,this),Wt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var d=this._map,v="leaflet-disabled";Pe(this._zoomInButton,v),Pe(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xe(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xe(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});yn.mergeOptions({zoomControl:!0}),yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hi,this.addControl(this.zoomControl))});var Wa=function(d){return new Hi(d)},Cr=ur.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var v="leaflet-control-scale",P=R("div",v),U=this.options;return this._addScales(U,v+"-line",P),d.on(U.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),P},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,v,P){d.metric&&(this._mScale=R("div",v,P)),d.imperial&&(this._iScale=R("div",v,P))},_update:function(){var d=this._map,v=d.getSize().y/2,P=d.distance(d.containerPointToLatLng([0,v]),d.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(P)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var v=this._getRoundNum(d),P=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,P,v/d)},_updateImperial:function(d){var v=d*3.2808399,P,U,ee;v>5280?(P=v/5280,U=this._getRoundNum(P),this._updateScale(this._iScale,U+" mi",U/P)):(ee=this._getRoundNum(v),this._updateScale(this._iScale,ee+" ft",ee/v))},_updateScale:function(d,v,P){d.style.width=Math.round(this.options.maxWidth*P)+"px",d.innerHTML=v},_getRoundNum:function(d){var v=Math.pow(10,(Math.floor(d)+"").length-1),P=d/v;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,v*P}}),Rl=function(d){return new Cr(d)},gs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ca=ur.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?gs+" ":"")+"Leaflet</a>"},initialize:function(d){b(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=R("div","leaflet-control-attribution"),la(this._container);for(var v in d._layers)d._layers[v].getAttribution&&this.addAttribution(d._layers[v].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var v in this._attributions)this._attributions[v]&&d.push(v);var P=[];this.options.prefix&&P.push(this.options.prefix),d.length&&P.push(d.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});yn.mergeOptions({attributionControl:!0}),yn.addInitHook(function(){this.options.attributionControl&&new Ca().addTo(this)});var ih=function(d){return new Ca(d)};ur.Layers=ca,ur.Zoom=Hi,ur.Scale=Cr,ur.Attribution=Ca,Mi.layers=lr,Mi.zoom=Wa,Mi.scale=Rl,Mi.attribution=ih;var Vi=oe.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vi.addTo=function(d,v){return d.addHandler(v,this),this};var tf={Events:_e},Im=Ee.touch?"touchstart mousedown":"mousedown",qs=le.extend({options:{clickTolerance:3},initialize:function(d,v,P,U){b(this,U),this._element=d,this._dragStartTarget=v||d,this._preventOutline=P},enable:function(){this._enabled||(Wt(this._dragStartTarget,Im,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qs._dragging===this&&this.finishDrag(!0),hn(this._dragStartTarget,Im,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){qs._dragging===this&&this.finishDrag();return}if(!(qs._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(qs._dragging=this,this._preventOutline&&kt(this._element),mt(),De(),!this._moving)){this.fire("down");var v=d.touches?d.touches[0]:d,P=Bn(this._element);this._startPoint=new ce(v.clientX,v.clientY),this._startPos=be(this._element),this._parentScale=Mn(P);var U=d.type==="mousedown";Wt(document,U?"mousemove":"touchmove",this._onMove,this),Wt(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var v=d.touches&&d.touches.length===1?d.touches[0]:d,P=new ce(v.clientX,v.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,nr(d),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hn(document,"mousemove touchmove",this._onMove,this),hn(document,"mouseup touchend touchcancel",this._onUp,this),Ft(),Ue();var v=this._moved&&this._moving;this._moving=!1,qs._dragging=!1,v&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Mm(d,v,P){var U,ee=[1,4,2,8],ve,Ge,ot,yt,bt,jt,nn,gn;for(ve=0,jt=d.length;ve<jt;ve++)d[ve]._code=yo(d[ve],v);for(ot=0;ot<4;ot++){for(nn=ee[ot],U=[],ve=0,jt=d.length,Ge=jt-1;ve<jt;Ge=ve++)yt=d[ve],bt=d[Ge],yt._code&nn?bt._code&nn||(gn=rf(bt,yt,nn,v,P),gn._code=yo(gn,v),U.push(gn)):(bt._code&nn&&(gn=rf(bt,yt,nn,v,P),gn._code=yo(gn,v),U.push(gn)),U.push(yt));d=U}return d}function nf(d,v){var P,U,ee,ve,Ge,ot,yt,bt,jt;if(!d||d.length===0)throw new Error("latlngs not passed");ci(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var nn=Ae([0,0]),gn=J(d),qr=gn.getNorthWest().distanceTo(gn.getSouthWest())*gn.getNorthEast().distanceTo(gn.getNorthWest());qr<1700&&(nn=ah(d));var Ar=d.length,di=[];for(P=0;P<Ar;P++){var _i=Ae(d[P]);di.push(v.project(Ae([_i.lat-nn.lat,_i.lng-nn.lng])))}for(ot=yt=bt=0,P=0,U=Ar-1;P<Ar;U=P++)ee=di[P],ve=di[U],Ge=ee.y*ve.x-ve.y*ee.x,yt+=(ee.x+ve.x)*Ge,bt+=(ee.y+ve.y)*Ge,ot+=Ge*3;ot===0?jt=di[0]:jt=[yt/ot,bt/ot];var zs=v.unproject(k(jt));return Ae([zs.lat+nn.lat,zs.lng+nn.lng])}function ah(d){for(var v=0,P=0,U=0,ee=0;ee<d.length;ee++){var ve=Ae(d[ee]);v+=ve.lat,P+=ve.lng,U++}return Ae([v/U,P/U])}var pw={__proto__:null,clipPolygon:Mm,polygonCenter:nf,centroid:ah};function Dm(d,v){if(!v||!d.length)return d.slice();var P=v*v;return d=yw(d,P),d=mw(d,P),d}function sh(d,v,P){return Math.sqrt(vo(d,v,P,!0))}function gw(d,v,P){return vo(d,v,P)}function mw(d,v){var P=d.length,U=typeof Uint8Array<"u"?Uint8Array:Array,ee=new U(P);ee[0]=ee[P-1]=1,oh(d,ee,v,0,P-1);var ve,Ge=[];for(ve=0;ve<P;ve++)ee[ve]&&Ge.push(d[ve]);return Ge}function oh(d,v,P,U,ee){var ve=0,Ge,ot,yt;for(ot=U+1;ot<=ee-1;ot++)yt=vo(d[ot],d[U],d[ee],!0),yt>ve&&(Ge=ot,ve=yt);ve>P&&(v[Ge]=1,oh(d,v,P,U,Ge),oh(d,v,P,Ge,ee))}function yw(d,v){for(var P=[d[0]],U=1,ee=0,ve=d.length;U<ve;U++)vw(d[U],d[ee])>v&&(P.push(d[U]),ee=U);return ee<ve-1&&P.push(d[ve-1]),P}var km;function Nm(d,v,P,U,ee){var ve=U?km:yo(d,P),Ge=yo(v,P),ot,yt,bt;for(km=Ge;;){if(!(ve|Ge))return[d,v];if(ve&Ge)return!1;ot=ve||Ge,yt=rf(d,v,ot,P,ee),bt=yo(yt,P),ot===ve?(d=yt,ve=bt):(v=yt,Ge=bt)}}function rf(d,v,P,U,ee){var ve=v.x-d.x,Ge=v.y-d.y,ot=U.min,yt=U.max,bt,jt;return P&8?(bt=d.x+ve*(yt.y-d.y)/Ge,jt=yt.y):P&4?(bt=d.x+ve*(ot.y-d.y)/Ge,jt=ot.y):P&2?(bt=yt.x,jt=d.y+Ge*(yt.x-d.x)/ve):P&1&&(bt=ot.x,jt=d.y+Ge*(ot.x-d.x)/ve),new ce(bt,jt,ee)}function yo(d,v){var P=0;return d.x<v.min.x?P|=1:d.x>v.max.x&&(P|=2),d.y<v.min.y?P|=4:d.y>v.max.y&&(P|=8),P}function vw(d,v){var P=v.x-d.x,U=v.y-d.y;return P*P+U*U}function vo(d,v,P,U){var ee=v.x,ve=v.y,Ge=P.x-ee,ot=P.y-ve,yt=Ge*Ge+ot*ot,bt;return yt>0&&(bt=((d.x-ee)*Ge+(d.y-ve)*ot)/yt,bt>1?(ee=P.x,ve=P.y):bt>0&&(ee+=Ge*bt,ve+=ot*bt)),Ge=d.x-ee,ot=d.y-ve,U?Ge*Ge+ot*ot:new ce(ee,ve)}function ci(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Fm(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ci(d)}function uh(d,v){var P,U,ee,ve,Ge,ot,yt,bt;if(!d||d.length===0)throw new Error("latlngs not passed");ci(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var jt=Ae([0,0]),nn=J(d),gn=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());gn<1700&&(jt=ah(d));var qr=d.length,Ar=[];for(P=0;P<qr;P++){var di=Ae(d[P]);Ar.push(v.project(Ae([di.lat-jt.lat,di.lng-jt.lng])))}for(P=0,U=0;P<qr-1;P++)U+=Ar[P].distanceTo(Ar[P+1])/2;if(U===0)bt=Ar[0];else for(P=0,ve=0;P<qr-1;P++)if(Ge=Ar[P],ot=Ar[P+1],ee=Ge.distanceTo(ot),ve+=ee,ve>U){yt=(ve-U)/ee,bt=[ot.x-yt*(ot.x-Ge.x),ot.y-yt*(ot.y-Ge.y)];break}var _i=v.unproject(k(bt));return Ae([_i.lat+jt.lat,_i.lng+jt.lng])}var jm={__proto__:null,simplify:Dm,pointToSegmentDistance:sh,closestPointOnSegment:gw,clipSegment:Nm,_getEdgeIntersection:rf,_getBitCode:yo,_sqClosestPointOnSegment:vo,isFlat:ci,_flat:Fm,polylineCenter:uh},af={project:function(d){return new ce(d.lng,d.lat)},unproject:function(d){return new pe(d.y,d.x)},bounds:new ne([-180,-90],[180,90])},sf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var v=Math.PI/180,P=this.R,U=d.lat*v,ee=this.R_MINOR/P,ve=Math.sqrt(1-ee*ee),Ge=ve*Math.sin(U),ot=Math.tan(Math.PI/4-U/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return U=-P*Math.log(Math.max(ot,1e-10)),new ce(d.lng*v*P,U)},unproject:function(d){for(var v=180/Math.PI,P=this.R,U=this.R_MINOR/P,ee=Math.sqrt(1-U*U),ve=Math.exp(-d.y/P),Ge=Math.PI/2-2*Math.atan(ve),ot=0,yt=.1,bt;ot<15&&Math.abs(yt)>1e-7;ot++)bt=ee*Math.sin(Ge),bt=Math.pow((1-bt)/(1+bt),ee/2),yt=Math.PI/2-2*Math.atan(ve*bt)-Ge,Ge+=yt;return new pe(Ge*v,d.x*v/P)}},$m={__proto__:null,LonLat:af,Mercator:sf,SphericalMercator:Xe},bu=i({},Re,{code:"EPSG:3395",projection:sf,transformation:function(){var d=.5/(Math.PI*sf.R);return z(d,.5,-d,.5)}()}),Um=i({},Re,{code:"EPSG:4326",projection:af,transformation:z(1/180,1,-1/180,.5)}),_w=i({},Je,{projection:af,transformation:z(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,v){var P=v.lng-d.lng,U=v.lat-d.lat;return Math.sqrt(P*P+U*U)},infinite:!0});Je.Earth=Re,Je.EPSG3395=bu,Je.EPSG3857=$,Je.EPSG900913=re,Je.EPSG4326=Um,Je.Simple=_w;var Aa=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[l(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[l(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var v=d.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var P=this.getEvents();v.on(P,this),this.once("remove",function(){v.off(P,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});yn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var v=l(d);return this._layers[v]?this:(this._layers[v]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var v=l(d);return this._layers[v]?(this._loaded&&d.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return l(d)in this._layers},eachLayer:function(d,v){for(var P in this._layers)d.call(v,this._layers[P]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var v=0,P=d.length;v<P;v++)this.addLayer(d[v])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[l(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var v=l(d);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,v=-1/0,P=this._getZoomSpan();for(var U in this._zoomBoundLayers){var ee=this._zoomBoundLayers[U].options;d=ee.minZoom===void 0?d:Math.min(d,ee.minZoom),v=ee.maxZoom===void 0?v:Math.max(v,ee.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=d===1/0?void 0:d,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _o=Aa.extend({initialize:function(d,v){b(this,v),this._layers={};var P,U;if(d)for(P=0,U=d.length;P<U;P++)this.addLayer(d[P])},addLayer:function(d){var v=this.getLayerId(d);return this._layers[v]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var v=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(d){var v=typeof d=="number"?d:this.getLayerId(d);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var v=Array.prototype.slice.call(arguments,1),P,U;for(P in this._layers)U=this._layers[P],U[d]&&U[d].apply(U,v);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,v){for(var P in this._layers)d.call(v,this._layers[P]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return l(d)}}),Bm=function(d,v){return new _o(d,v)},Ki=_o.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),_o.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),_o.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new H;for(var v in this._layers){var P=this._layers[v];d.extend(P.getBounds?P.getBounds():P.getLatLng())}return d}}),Pl=function(d,v){return new Ki(d,v)},Su=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){b(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,v){var P=this._getIconUrl(d);if(!P){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(P,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(U,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(d,v){var P=this.options,U=P[v+"Size"];typeof U=="number"&&(U=[U,U]);var ee=k(U),ve=k(v==="shadow"&&P.shadowAnchor||P.iconAnchor||ee&&ee.divideBy(2,!0));d.className="leaflet-marker-"+v+" "+(P.className||""),ve&&(d.style.marginLeft=-ve.x+"px",d.style.marginTop=-ve.y+"px"),ee&&(d.style.width=ee.x+"px",d.style.height=ee.y+"px")},_createImg:function(d,v){return v=v||document.createElement("img"),v.src=d,v},_getIconUrl:function(d){return Ee.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function of(d){return new Su(d)}var xu=Su.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof xu.imagePath!="string"&&(xu.imagePath=this._detectIconPath()),(this.options.imagePath||xu.imagePath)+Su.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var v=function(P,U,ee){var ve=U.exec(P);return ve&&ve[ee]};return d=v(d,/^url\((['"])?(.+)\1\)$/,2),d&&v(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=R("div","leaflet-default-icon-path",document.body),v=T(d,"background-image")||T(d,"backgroundImage");if(document.body.removeChild(d),v=this._stripUrl(v),v)return v;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),lh=Vi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new qs(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var v=this._marker,P=v._map,U=this._marker.options.autoPanSpeed,ee=this._marker.options.autoPanPadding,ve=be(v._icon),Ge=P.getPixelBounds(),ot=P.getPixelOrigin(),yt=me(Ge.min._subtract(ot).add(ee),Ge.max._subtract(ot).subtract(ee));if(!yt.contains(ve)){var bt=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(U);P.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),ut(v._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=Z(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(fe(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,d)))},_onDrag:function(d){var v=this._marker,P=v._shadow,U=be(v._icon),ee=v._map.layerPointToLatLng(U);P&&ut(P,U),v._latlng=ee,d.latlng=ee,d.oldLatLng=this._oldLatLng,v.fire("move",d).fire("drag",d)},_onDragEnd:function(d){fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),Eu=Aa.extend({options:{icon:new xu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,v){b(this,v),this._latlng=Ae(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var v=this._latlng;return this._latlng=Ae(d),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=d.icon.createIcon(this._icon),U=!1;P!==this._icon&&(this._icon&&this._removeIcon(),U=!0,d.title&&(P.title=d.title),P.tagName==="IMG"&&(P.alt=d.alt||"")),xe(P,v),d.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(P,"focus",this._panOnFocus,this);var ee=d.icon.createShadow(this._shadow),ve=!1;ee!==this._shadow&&(this._removeShadow(),ve=!0),ee&&(xe(ee,v),ee.alt=""),this._shadow=ee,d.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),ee&&ve&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&ut(this._icon,d),this._shadow&&ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),lh)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new lh(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&ze(this._icon,d),this._shadow&&ze(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var v=this.options.icon.options,P=v.iconSize?k(v.iconSize):k(0,0),U=v.iconAnchor?k(v.iconAnchor):k(0,0);d.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:P.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ch(d,v){return new Eu(d,v)}var ms=Aa.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return b(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ol=ms.extend({options:{fill:!0,radius:10},initialize:function(d,v){b(this,v),this._latlng=Ae(d),this._radius=this.options.radius},setLatLng:function(d){var v=this._latlng;return this._latlng=Ae(d),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var v=d&&d.radius||this._radius;return ms.prototype.setStyle.call(this,d),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,v=this._radiusY||d,P=this._clickTolerance(),U=[d+P,v+P];this._pxBounds=new ne(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qm(d,v){return new Ol(d,v)}var fh=Ol.extend({initialize:function(d,v,P){if(typeof v=="number"&&(v=i({},P,{radius:v})),b(this,v),this._latlng=Ae(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:ms.prototype.setStyle,_project:function(){var d=this._latlng.lng,v=this._latlng.lat,P=this._map,U=P.options.crs;if(U.distance===Re.distance){var ee=Math.PI/180,ve=this._mRadius/Re.R/ee,Ge=P.project([v+ve,d]),ot=P.project([v-ve,d]),yt=Ge.add(ot).divideBy(2),bt=P.unproject(yt).lat,jt=Math.acos((Math.cos(ve*ee)-Math.sin(v*ee)*Math.sin(bt*ee))/(Math.cos(v*ee)*Math.cos(bt*ee)))/ee;(isNaN(jt)||jt===0)&&(jt=ve/Math.cos(Math.PI/180*v)),this._point=yt.subtract(P.getPixelOrigin()),this._radius=isNaN(jt)?0:yt.x-P.project([bt,d-jt]).x,this._radiusY=yt.y-Ge.y}else{var nn=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(nn).x}this._updateBounds()}});function ww(d,v,P){return new fh(d,v,P)}var ys=ms.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,v){b(this,v),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var v=1/0,P=null,U=vo,ee,ve,Ge=0,ot=this._parts.length;Ge<ot;Ge++)for(var yt=this._parts[Ge],bt=1,jt=yt.length;bt<jt;bt++){ee=yt[bt-1],ve=yt[bt];var nn=U(d,ee,ve,!0);nn<v&&(v=nn,P=U(d,ee,ve))}return P&&(P.distance=Math.sqrt(v)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,v){return v=v||this._defaultShape(),d=Ae(d),v.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new H,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return ci(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var v=[],P=ci(d),U=0,ee=d.length;U<ee;U++)P?(v[U]=Ae(d[U]),this._bounds.extend(v[U])):v[U]=this._convertLatLngs(d[U]);return v},_project:function(){var d=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),v=new ce(d,d);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(d,v,P){var U=d[0]instanceof pe,ee=d.length,ve,Ge;if(U){for(Ge=[],ve=0;ve<ee;ve++)Ge[ve]=this._map.latLngToLayerPoint(d[ve]),P.extend(Ge[ve]);v.push(Ge)}else for(ve=0;ve<ee;ve++)this._projectLatlngs(d[ve],v,P)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,P,U,ee,ve,Ge,ot,yt;for(P=0,ee=0,ve=this._rings.length;P<ve;P++)for(yt=this._rings[P],U=0,Ge=yt.length;U<Ge-1;U++)ot=Nm(yt[U],yt[U+1],d,U,!0),ot&&(v[ee]=v[ee]||[],v[ee].push(ot[0]),(ot[1]!==yt[U+1]||U===Ge-2)&&(v[ee].push(ot[1]),ee++))}},_simplifyPoints:function(){for(var d=this._parts,v=this.options.smoothFactor,P=0,U=d.length;P<U;P++)d[P]=Dm(d[P],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,v){var P,U,ee,ve,Ge,ot,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(P=0,ve=this._parts.length;P<ve;P++)for(ot=this._parts[P],U=0,Ge=ot.length,ee=Ge-1;U<Ge;ee=U++)if(!(!v&&U===0)&&sh(d,ot[ee],ot[U])<=yt)return!0;return!1}});function bw(d,v){return new ys(d,v)}ys._flat=Fm;var Tu=ys.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var v=ys.prototype._convertLatLngs.call(this,d),P=v.length;return P>=2&&v[0]instanceof pe&&v[0].equals(v[P-1])&&v.pop(),v},_setLatLngs:function(d){ys.prototype._setLatLngs.call(this,d),ci(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ci(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,v=this.options.weight,P=new ce(v,v);if(d=new ne(d.min.subtract(P),d.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,ee=this._rings.length,ve;U<ee;U++)ve=Mm(this._rings[U],d,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var v=!1,P,U,ee,ve,Ge,ot,yt,bt;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(P=this._parts[ve],Ge=0,bt=P.length,ot=bt-1;Ge<bt;ot=Ge++)U=P[Ge],ee=P[ot],U.y>d.y!=ee.y>d.y&&d.x<(ee.x-U.x)*(d.y-U.y)/(ee.y-U.y)+U.x&&(v=!v);return v||ys.prototype._containsPoint.call(this,d,!0)}});function Gi(d,v){return new Tu(d,v)}var Wi=Ki.extend({initialize:function(d,v){b(this,v),this._layers={},d&&this.addData(d)},addData:function(d){var v=A(d)?d:d.features,P,U,ee;if(v){for(P=0,U=v.length;P<U;P++)ee=v[P],(ee.geometries||ee.geometry||ee.features||ee.coordinates)&&this.addData(ee);return this}var ve=this.options;if(ve.filter&&!ve.filter(d))return this;var Ge=Ll(d,ve);return Ge?(Ge.feature=vs(d),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(d,Ge),this.addLayer(Ge)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(v){this._setLayerStyle(v,d)},this)},_setLayerStyle:function(d,v){d.setStyle&&(typeof v=="function"&&(v=v(d.feature)),d.setStyle(v))}});function Ll(d,v){var P=d.type==="Feature"?d.geometry:d,U=P?P.coordinates:null,ee=[],ve=v&&v.pointToLayer,Ge=v&&v.coordsToLatLng||uf,ot,yt,bt,jt;if(!U&&!P)return null;switch(P.type){case"Point":return ot=Ge(U),dh(ve,d,ot,v);case"MultiPoint":for(bt=0,jt=U.length;bt<jt;bt++)ot=Ge(U[bt]),ee.push(dh(ve,d,ot,v));return new Ki(ee);case"LineString":case"MultiLineString":return yt=Il(U,P.type==="LineString"?0:1,Ge),new ys(yt,v);case"Polygon":case"MultiPolygon":return yt=Il(U,P.type==="Polygon"?1:2,Ge),new Tu(yt,v);case"GeometryCollection":for(bt=0,jt=P.geometries.length;bt<jt;bt++){var nn=Ll({geometry:P.geometries[bt],type:"Feature",properties:d.properties},v);nn&&ee.push(nn)}return new Ki(ee);case"FeatureCollection":for(bt=0,jt=P.features.length;bt<jt;bt++){var gn=Ll(P.features[bt],v);gn&&ee.push(gn)}return new Ki(ee);default:throw new Error("Invalid GeoJSON object.")}}function dh(d,v,P,U){return d?d(v,P):new Eu(P,U&&U.markersInheritOptions&&U)}function uf(d){return new pe(d[1],d[0],d[2])}function Il(d,v,P){for(var U=[],ee=0,ve=d.length,Ge;ee<ve;ee++)Ge=v?Il(d[ee],v-1,P):(P||uf)(d[ee]),U.push(Ge);return U}function Ml(d,v){return d=Ae(d),d.alt!==void 0?[m(d.lng,v),m(d.lat,v),m(d.alt,v)]:[m(d.lng,v),m(d.lat,v)]}function lf(d,v,P,U){for(var ee=[],ve=0,Ge=d.length;ve<Ge;ve++)ee.push(v?lf(d[ve],ci(d[ve])?0:v-1,P,U):Ml(d[ve],U));return!v&&P&&ee.length>0&&ee.push(ee[0].slice()),ee}function Cu(d,v){return d.feature?i({},d.feature,{geometry:v}):vs(v)}function vs(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Dl={toGeoJSON:function(d){return Cu(this,{type:"Point",coordinates:Ml(this.getLatLng(),d)})}};Eu.include(Dl),fh.include(Dl),Ol.include(Dl),ys.include({toGeoJSON:function(d){var v=!ci(this._latlngs),P=lf(this._latlngs,v?1:0,!1,d);return Cu(this,{type:(v?"Multi":"")+"LineString",coordinates:P})}}),Tu.include({toGeoJSON:function(d){var v=!ci(this._latlngs),P=v&&!ci(this._latlngs[0]),U=lf(this._latlngs,P?2:v?1:0,!0,d);return v||(U=[U]),Cu(this,{type:(P?"Multi":"")+"Polygon",coordinates:U})}}),_o.include({toMultiPoint:function(d){var v=[];return this.eachLayer(function(P){v.push(P.toGeoJSON(d).geometry.coordinates)}),Cu(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(d){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(d);var P=v==="GeometryCollection",U=[];return this.eachLayer(function(ee){if(ee.toGeoJSON){var ve=ee.toGeoJSON(d);if(P)U.push(ve.geometry);else{var Ge=vs(ve);Ge.type==="FeatureCollection"?U.push.apply(U,Ge.features):U.push(Ge)}}}),P?Cu(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function Au(d,v){return new Wi(d,v)}var hh=Au,kl=Aa.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,v,P){this._url=d,this._bounds=J(v),b(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=J(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",v=this._image=d?this._url:R("img");if(xe(v,"leaflet-image-layer"),this._zoomAnimated&&xe(v,"leaflet-zoom-animated"),this.options.className&&xe(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=s(this.fire,this,"load"),v.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(d){var v=this._map.getZoomScale(d.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;dt(this._image,P,v)},_reset:function(){var d=this._image,v=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=v.getSize();ut(d,v.min),d.style.width=P.x+"px",d.style.height=P.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),wo=function(d,v,P){return new kl(d,v,P)},bo=kl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",v=this._image=d?this._url:R("video");if(xe(v,"leaflet-image-layer"),this._zoomAnimated&&xe(v,"leaflet-zoom-animated"),this.options.className&&xe(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=s(this.fire,this,"load"),d){for(var P=v.getElementsByTagName("source"),U=[],ee=0;ee<P.length;ee++)U.push(P[ee].src);this._url=P.length>0?U:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=R("source");Ge.src=this._url[ve],v.appendChild(Ge)}}});function ph(d,v,P){return new bo(d,v,P)}var gh=kl.extend({_initImage:function(){var d=this._image=this._url;xe(d,"leaflet-image-layer"),this._zoomAnimated&&xe(d,"leaflet-zoom-animated"),this.options.className&&xe(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function So(d,v,P){return new gh(d,v,P)}var Ra=Aa.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,v){d&&(d instanceof pe||A(d))?(this._latlng=Ae(d),b(this,v)):(b(this,d),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(s(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Ae(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(d){var v=this._source;if(!v._map)return!1;if(v instanceof Ki){v=null;var P=this._source._layers;for(var U in P)if(P[U]._map){v=P[U];break}if(!v)return!1;this._source=v}if(!d)if(v.getCenter)d=v.getCenter();else if(v.getLatLng)d=v.getLatLng();else if(v.getBounds)d=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")d.innerHTML=v;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),v=k(this.options.offset),P=this._getAnchor();this._zoomAnimated?ut(this._container,d.add(P)):v=v.add(d).add(P);var U=this._containerBottom=-v.y,ee=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=U+"px",this._container.style.left=ee+"px"}},_getAnchor:function(){return[0,0]}});yn.include({_initOverlay:function(d,v,P,U){var ee=v;return ee instanceof d||(ee=new d(U).setContent(v)),P&&ee.setLatLng(P),ee}}),Aa.include({_initOverlay:function(d,v,P,U){var ee=P;return ee instanceof d?(b(ee,U),ee._source=this):(ee=v&&!U?v:new d(U,this),ee.setContent(P)),ee}});var Nl=Ra.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Ra.prototype.openOn.call(this,d)},onAdd:function(d){Ra.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ms||this._source.on("preclick",vi))},onRemove:function(d){Ra.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ms||this._source.off("preclick",vi))},getEvents:function(){var d=Ra.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",v=this._container=R("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=R("div",d+"-content-wrapper",v);if(this._contentNode=R("div",d+"-content",P),la(v),qi(this._contentNode),Wt(v,"contextmenu",vi),this._tipContainer=R("div",d+"-tip-container",v),this._tip=R("div",d+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=R("a",d+"-close-button",v);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(U,"click",function(ee){nr(ee),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,v=d.style;v.width="",v.whiteSpace="nowrap";var P=d.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),v.width=P+1+"px",v.whiteSpace="",v.height="";var U=d.offsetHeight,ee=this.options.maxHeight,ve="leaflet-popup-scrolled";ee&&U>ee?(v.height=ee+"px",xe(d,ve)):Pe(d,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),P=this._getAnchor();ut(this._container,v.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,v=parseInt(T(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+v,U=this._containerWidth,ee=new ce(this._containerLeft,-P-this._containerBottom);ee._add(be(this._container));var ve=d.layerPointToContainerPoint(ee),Ge=k(this.options.autoPanPadding),ot=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),bt=d.getSize(),jt=0,nn=0;ve.x+U+yt.x>bt.x&&(jt=ve.x+U-bt.x+yt.x),ve.x-jt-ot.x<0&&(jt=ve.x-ot.x),ve.y+P+yt.y>bt.y&&(nn=ve.y+P-bt.y+yt.y),ve.y-nn-ot.y<0&&(nn=ve.y-ot.y),(jt||nn)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([jt,nn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zm=function(d,v){return new Nl(d,v)};yn.mergeOptions({closePopupOnClick:!0}),yn.include({openPopup:function(d,v,P){return this._initOverlay(Nl,d,v,P).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Aa.include({bindPopup:function(d,v){return this._popup=this._initOverlay(Nl,this._popup,d,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ki||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ii(d);var v=d.layer||d.target;if(this._popup._source===v&&!(v instanceof ms)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=v,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var cf=Ra.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Ra.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Ra.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Ra.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",v=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var v,P,U=this._map,ee=this._container,ve=U.latLngToContainerPoint(U.getCenter()),Ge=U.layerPointToContainerPoint(d),ot=this.options.direction,yt=ee.offsetWidth,bt=ee.offsetHeight,jt=k(this.options.offset),nn=this._getAnchor();ot==="top"?(v=yt/2,P=bt):ot==="bottom"?(v=yt/2,P=0):ot==="center"?(v=yt/2,P=bt/2):ot==="right"?(v=0,P=bt/2):ot==="left"?(v=yt,P=bt/2):Ge.x<ve.x?(ot="right",v=0,P=bt/2):(ot="left",v=yt+(jt.x+nn.x)*2,P=bt/2),d=d.subtract(k(v,P,!0)).add(jt).add(nn),Pe(ee,"leaflet-tooltip-right"),Pe(ee,"leaflet-tooltip-left"),Pe(ee,"leaflet-tooltip-top"),Pe(ee,"leaflet-tooltip-bottom"),xe(ee,"leaflet-tooltip-"+ot),ut(ee,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&ze(this._container,d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(v)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sw=function(d,v){return new cf(d,v)};yn.include({openTooltip:function(d,v,P){return this._initOverlay(cf,d,v,P).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Aa.include({bindTooltip:function(d,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cf,this._tooltip,d,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var v=d?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[v](P),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ki||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var v=typeof d.getElement=="function"&&d.getElement();v&&(Wt(v,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Wt(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var v=typeof d.getElement=="function"&&d.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var v=d.latlng,P,U;this._tooltip.options.sticky&&d.originalEvent&&(P=this._map.mouseEventToContainerPoint(d.originalEvent),U=this._map.containerPointToLayerPoint(P),v=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(v)}});var Hm=Su.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var v=d&&d.tagName==="DIV"?d:document.createElement("div"),P=this.options;if(P.html instanceof Element?(G(v),v.appendChild(P.html)):v.innerHTML=P.html!==!1?P.html:"",P.bgPos){var U=k(P.bgPos);v.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function Vm(d){return new Hm(d)}Su.Default=xu;var Ru=Aa.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){b(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),N(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof ce?d:new ce(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var v=this.getPane().children,P=-d(-1/0,1/0),U=0,ee=v.length,ve;U<ee;U++)ve=v[U].style.zIndex,v[U]!==this._container&&ve&&(P=d(P,+ve));isFinite(P)&&(this.options.zIndex=P+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){ze(this._container,this.options.opacity);var d=+new Date,v=!1,P=!1;for(var U in this._tiles){var ee=this._tiles[U];if(!(!ee.current||!ee.loaded)){var ve=Math.min(1,(d-ee.loaded)/200);ze(ee.el,ve),ve<1?v=!0:(ee.active?P=!0:this._onOpaqueTile(ee),ee.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),v&&(fe(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,v=this.options.maxZoom;if(d!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===d?(this._levels[P].el.style.zIndex=v-Math.abs(d-P),this._onUpdateLevel(P)):(N(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var U=this._levels[d],ee=this._map;return U||(U=this._levels[d]={},U.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=v,U.origin=ee.project(ee.unproject(ee.getPixelOrigin()),d).round(),U.zoom=d,this._setZoomTransform(U,ee.getCenter(),ee.getZoom()),p(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,v,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)v=this._tiles[d],v.retain=v.current;for(d in this._tiles)if(v=this._tiles[d],v.current&&!v.active){var U=v.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var v in this._tiles)this._tiles[v].coords.z===d&&this._removeTile(v)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)N(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,v,P,U){var ee=Math.floor(d/2),ve=Math.floor(v/2),Ge=P-1,ot=new ce(+ee,+ve);ot.z=+Ge;var yt=this._tileCoordsToKey(ot),bt=this._tiles[yt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),Ge>U?this._retainParent(ee,ve,Ge,U):!1)},_retainChildren:function(d,v,P,U){for(var ee=2*d;ee<2*d+2;ee++)for(var ve=2*v;ve<2*v+2;ve++){var Ge=new ce(ee,ve);Ge.z=P+1;var ot=this._tileCoordsToKey(Ge),yt=this._tiles[ot];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);P+1<U&&this._retainChildren(ee,ve,P+1,U)}},_resetView:function(d){var v=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var v=this.options;return v.minNativeZoom!==void 0&&d<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<d?v.maxNativeZoom:d},_setView:function(d,v,P,U){var ee=Math.round(v);this.options.maxZoom!==void 0&&ee>this.options.maxZoom||this.options.minZoom!==void 0&&ee<this.options.minZoom?ee=void 0:ee=this._clampZoom(ee);var ve=this.options.updateWhenZooming&&ee!==this._tileZoom;(!U||ve)&&(this._tileZoom=ee,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ee!==void 0&&this._update(d),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(d,v)},_setZoomTransforms:function(d,v){for(var P in this._levels)this._setZoomTransform(this._levels[P],d,v)},_setZoomTransform:function(d,v,P){var U=this._map.getZoomScale(P,d.zoom),ee=d.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(v,P)).round();Ee.any3d?dt(d.el,ee,U):ut(d.el,ee)},_resetGrid:function(){var d=this._map,v=d.options.crs,P=this._tileSize=this.getTileSize(),U=this._tileZoom,ee=this._map.getPixelWorldBounds(this._tileZoom);ee&&(this._globalTileRange=this._pxBoundsToTileRange(ee)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,v.wrapLng[0]],U).x/P.x),Math.ceil(d.project([0,v.wrapLng[1]],U).x/P.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([v.wrapLat[0],0],U).y/P.x),Math.ceil(d.project([v.wrapLat[1],0],U).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var v=this._map,P=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),U=v.getZoomScale(P,this._tileZoom),ee=v.project(d,this._tileZoom).floor(),ve=v.getSize().divideBy(U*2);return new ne(ee.subtract(ve),ee.add(ve))},_update:function(d){var v=this._map;if(v){var P=this._clampZoom(v.getZoom());if(d===void 0&&(d=v.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(d),ee=this._pxBoundsToTileRange(U),ve=ee.getCenter(),Ge=[],ot=this.options.keepBuffer,yt=new ne(ee.getBottomLeft().subtract([ot,-ot]),ee.getTopRight().add([ot,-ot]));if(!(isFinite(ee.min.x)&&isFinite(ee.min.y)&&isFinite(ee.max.x)&&isFinite(ee.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var jt=this._tiles[bt].coords;(jt.z!==this._tileZoom||!yt.contains(new ce(jt.x,jt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(d,P);return}for(var nn=ee.min.y;nn<=ee.max.y;nn++)for(var gn=ee.min.x;gn<=ee.max.x;gn++){var qr=new ce(gn,nn);if(qr.z=this._tileZoom,!!this._isValidTile(qr)){var Ar=this._tiles[this._tileCoordsToKey(qr)];Ar?Ar.current=!0:Ge.push(qr)}}if(Ge.sort(function(_i,zs){return _i.distanceTo(ve)-zs.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for(gn=0;gn<Ge.length;gn++)this._addTile(Ge[gn],di);this._level.el.appendChild(di)}}}},_isValidTile:function(d){var v=this._map.options.crs;if(!v.infinite){var P=this._globalTileRange;if(!v.wrapLng&&(d.x<P.min.x||d.x>P.max.x)||!v.wrapLat&&(d.y<P.min.y||d.y>P.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(d);return J(this.options.bounds).overlaps(U)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var v=this._map,P=this.getTileSize(),U=d.scaleBy(P),ee=U.add(P),ve=v.unproject(U,d.z),Ge=v.unproject(ee,d.z);return[ve,Ge]},_tileCoordsToBounds:function(d){var v=this._tileCoordsToNwSe(d),P=new H(v[0],v[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var v=d.split(":"),P=new ce(+v[0],+v[1]);return P.z=+v[2],P},_removeTile:function(d){var v=this._tiles[d];v&&(N(v.el),delete this._tiles[d],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xe(d,"leaflet-tile");var v=this.getTileSize();d.style.width=v.x+"px",d.style.height=v.y+"px",d.onselectstart=p,d.onmousemove=p,Ee.ielt9&&this.options.opacity<1&&ze(d,this.options.opacity)},_addTile:function(d,v){var P=this._getTilePos(d),U=this._tileCoordsToKey(d),ee=this.createTile(this._wrapCoords(d),s(this._tileReady,this,d));this._initTile(ee),this.createTile.length<2&&Z(s(this._tileReady,this,d,null,ee)),ut(ee,P),this._tiles[U]={el:ee,coords:d,current:!0},v.appendChild(ee),this.fire("tileloadstart",{tile:ee,coords:d})},_tileReady:function(d,v,P){v&&this.fire("tileerror",{error:v,tile:P,coords:d});var U=this._tileCoordsToKey(d);P=this._tiles[U],P&&(P.loaded=+new Date,this._map._fadeAnimated?(ze(P.el,0),fe(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),v||(xe(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var v=new ce(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return v.z=d.z,v},_pxBoundsToTileRange:function(d){var v=this.getTileSize();return new ne(d.min.unscaleBy(v).floor(),d.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Km(d){return new Ru(d)}var fi=Ru.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,v){this._url=d,v=b(this,v),v.detectRetina&&Ee.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,v){return this._url===d&&v===void 0&&(v=!0),this._url=d,v||this.redraw(),this},createTile:function(d,v){var P=document.createElement("img");return Wt(P,"load",s(this._tileOnLoad,this,v,P)),Wt(P,"error",s(this._tileOnError,this,v,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(d),P},getTileUrl:function(d){var v={r:Ee.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-d.y;this.options.tms&&(v.y=P),v["-y"]=P}return E(this._url,i(v,this.options))},_tileOnLoad:function(d,v){Ee.ielt9?setTimeout(s(d,this,null,v),0):d(null,v)},_tileOnError:function(d,v,P){var U=this.options.errorTileUrl;U&&v.getAttribute("src")!==U&&(v.src=U),d(P,v)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,v=this.options.maxZoom,P=this.options.zoomReverse,U=this.options.zoomOffset;return P&&(d=v-d),d+U},_getSubdomain:function(d){var v=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var d,v;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(v=this._tiles[d].el,v.onload=p,v.onerror=p,!v.complete)){v.src=M;var P=this._tiles[d].coords;N(v),delete this._tiles[d],this.fire("tileabort",{tile:v,coords:P})}},_removeTile:function(d){var v=this._tiles[d];if(v)return v.el.setAttribute("src",M),Ru.prototype._removeTile.call(this,d)},_tileReady:function(d,v,P){if(!(!this._map||P&&P.getAttribute("src")===M))return Ru.prototype._tileReady.call(this,d,v,P)}});function Qi(d,v){return new fi(d,v)}var xo=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,v){this._url=d;var P=i({},this.defaultWmsParams);for(var U in v)U in this.options||(P[U]=v[U]);v=b(this,v);var ee=v.detectRetina&&Ee.retina?2:1,ve=this.getTileSize();P.width=ve.x*ee,P.height=ve.y*ee,this.wmsParams=P},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,fi.prototype.onAdd.call(this,d)},getTileUrl:function(d){var v=this._tileCoordsToNwSe(d),P=this._crs,U=me(P.project(v[0]),P.project(v[1])),ee=U.min,ve=U.max,Ge=(this._wmsVersion>=1.3&&this._crs===Um?[ee.y,ee.x,ve.y,ve.x]:[ee.x,ee.y,ve.x,ve.y]).join(","),ot=fi.prototype.getTileUrl.call(this,d);return ot+S(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(d,v){return i(this.wmsParams,d),v||this.redraw(),this}});function mh(d,v){return new xo(d,v)}fi.WMS=xo,Qi.wms=mh;var fa=Aa.extend({options:{padding:.1},initialize:function(d){b(this,d),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,v){var P=this._map.getZoomScale(v,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),ee=this._map.project(this._center,v),ve=U.multiplyBy(-P).add(ee).subtract(this._map._getNewPixelOrigin(d,v));Ee.any3d?dt(this._container,ve,P):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,v=this._map.getSize(),P=this._map.containerPointToLayerPoint(v.multiplyBy(-d)).round();this._bounds=new ne(P,P.add(v.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fl=fa.extend({options:{tolerance:0},getEvents:function(){var d=fa.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Wt(d,"mousemove",this._onMouseMove,this),Wt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){fe(this._redrawRequest),delete this._ctx,N(this._container),hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var v in this._layers)d=this._layers[v],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var d=this._bounds,v=this._container,P=d.getSize(),U=Ee.retina?2:1;ut(v,d.min),v.width=U*P.x,v.height=U*P.y,v.style.width=P.x+"px",v.style.height=P.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[l(d)]=d;var v=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var v=d._order,P=v.next,U=v.prev;P?P.prev=U:this._drawLast=U,U?U.next=P:this._drawFirst=P,delete d._order,delete this._layers[l(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var v=d.options.dashArray.split(/[, ]+/),P=[],U,ee;for(ee=0;ee<v.length;ee++){if(U=Number(v[ee]),isNaN(U))return;P.push(U)}d.options._dashArray=P}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var v=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(d._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(d._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var v=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,v=this._redrawBounds;if(this._ctx.save(),v){var P=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)d=U.layer,(!v||d._pxBounds&&d._pxBounds.intersects(v))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,v){if(this._drawing){var P,U,ee,ve,Ge=d._parts,ot=Ge.length,yt=this._ctx;if(ot){for(yt.beginPath(),P=0;P<ot;P++){for(U=0,ee=Ge[P].length;U<ee;U++)ve=Ge[P][U],yt[U?"lineTo":"moveTo"](ve.x,ve.y);v&&yt.closePath()}this._fillStroke(yt,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var v=d._point,P=this._ctx,U=Math.max(Math.round(d._radius),1),ee=(Math.max(Math.round(d._radiusY),1)||U)/U;ee!==1&&(P.save(),P.scale(1,ee)),P.beginPath(),P.arc(v.x,v.y/ee,U,0,Math.PI*2,!1),ee!==1&&P.restore(),this._fillStroke(P,d)}},_fillStroke:function(d,v){var P=v.options;P.fill&&(d.globalAlpha=P.fillOpacity,d.fillStyle=P.fillColor||P.color,d.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(d.setLineDash&&d.setLineDash(v.options&&v.options._dashArray||[]),d.globalAlpha=P.opacity,d.lineWidth=P.weight,d.strokeStyle=P.color,d.lineCap=P.lineCap,d.lineJoin=P.lineJoin,d.stroke())},_onClick:function(d){for(var v=this._map.mouseEventToLayerPoint(d),P,U,ee=this._drawFirst;ee;ee=ee.next)P=ee.layer,P.options.interactive&&P._containsPoint(v)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(P))&&(U=P);this._fireEvent(U?[U]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,v)}},_handleMouseOut:function(d){var v=this._hoveredLayer;v&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([v],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,v){if(!this._mouseHoverThrottled){for(var P,U,ee=this._drawFirst;ee;ee=ee.next)P=ee.layer,P.options.interactive&&P._containsPoint(v)&&(U=P);U!==this._hoveredLayer&&(this._handleMouseOut(d),U&&(xe(this._container,"leaflet-interactive"),this._fireEvent([U],d,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,v,P){this._map._fireDOMEvent(v,P||v.type,d)},_bringToFront:function(d){var v=d._order;if(v){var P=v.next,U=v.prev;if(P)P.prev=U;else return;U?U.next=P:P&&(this._drawFirst=P),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(d)}},_bringToBack:function(d){var v=d._order;if(v){var P=v.next,U=v.prev;if(U)U.next=P;else return;P?P.prev=U:U&&(this._drawLast=U),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(d)}}});function ff(d){return Ee.canvas?new Fl(d):null}var da=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gm={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fa.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var v=d._container=da("shape");xe(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",d._path=da("path"),v.appendChild(d._path),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){var v=d._container;this._container.appendChild(v),d.options.interactive&&d.addInteractiveTarget(v)},_removePath:function(d){var v=d._container;N(v),d.removeInteractiveTarget(v),delete this._layers[l(d)]},_updateStyle:function(d){var v=d._stroke,P=d._fill,U=d.options,ee=d._container;ee.stroked=!!U.stroke,ee.filled=!!U.fill,U.stroke?(v||(v=d._stroke=da("stroke")),ee.appendChild(v),v.weight=U.weight+"px",v.color=U.color,v.opacity=U.opacity,U.dashArray?v.dashStyle=A(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=U.lineCap.replace("butt","flat"),v.joinstyle=U.lineJoin):v&&(ee.removeChild(v),d._stroke=null),U.fill?(P||(P=d._fill=da("fill")),ee.appendChild(P),P.color=U.fillColor||U.color,P.opacity=U.fillOpacity):P&&(ee.removeChild(P),d._fill=null)},_updateCircle:function(d){var v=d._point.round(),P=Math.round(d._radius),U=Math.round(d._radiusY||P);this._setPath(d,d._empty()?"M0 0":"AL "+v.x+","+v.y+" "+P+","+U+" 0,"+65535*360)},_setPath:function(d,v){d._path.v=v},_bringToFront:function(d){se(d._container)},_bringToBack:function(d){we(d._container)}},Eo=Ee.vml?da:W,Qa=fa.extend({_initContainer:function(){this._container=Eo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Eo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var d=this._bounds,v=d.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,P.setAttribute("width",v.x),P.setAttribute("height",v.y)),ut(P,d.min),P.setAttribute("viewBox",[d.min.x,d.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(d){var v=d._path=Eo("path");d.options.className&&xe(v,d.options.className),d.options.interactive&&xe(v,"leaflet-interactive"),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){N(d._path),d.removeInteractiveTarget(d._path),delete this._layers[l(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var v=d._path,P=d.options;v&&(P.stroke?(v.setAttribute("stroke",P.color),v.setAttribute("stroke-opacity",P.opacity),v.setAttribute("stroke-width",P.weight),v.setAttribute("stroke-linecap",P.lineCap),v.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?v.setAttribute("stroke-dasharray",P.dashArray):v.removeAttribute("stroke-dasharray"),P.dashOffset?v.setAttribute("stroke-dashoffset",P.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),P.fill?(v.setAttribute("fill",P.fillColor||P.color),v.setAttribute("fill-opacity",P.fillOpacity),v.setAttribute("fill-rule",P.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(d,v){this._setPath(d,he(d._parts,v))},_updateCircle:function(d){var v=d._point,P=Math.max(Math.round(d._radius),1),U=Math.max(Math.round(d._radiusY),1)||P,ee="a"+P+","+U+" 0 1,0 ",ve=d._empty()?"M0 0":"M"+(v.x-P)+","+v.y+ee+P*2+",0 "+ee+-P*2+",0 ";this._setPath(d,ve)},_setPath:function(d,v){d._path.setAttribute("d",v)},_bringToFront:function(d){se(d._path)},_bringToBack:function(d){we(d._path)}});Ee.vml&&Qa.include(Gm);function yh(d){return Ee.svg||Ee.vml?new Qa(d):null}yn.include({getRenderer:function(d){var v=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var v=this._paneRenderers[d];return v===void 0&&(v=this._createRenderer({pane:d}),this._paneRenderers[d]=v),v},_createRenderer:function(d){return this.options.preferCanvas&&ff(d)||yh(d)}});var Zi=Tu.extend({initialize:function(d,v){Tu.prototype.initialize.call(this,this._boundsToLatLngs(d),v)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=J(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Pu(d,v){return new Zi(d,v)}Qa.create=Eo,Qa.pointsToPath=he,Wi.geometryToLayer=Ll,Wi.coordsToLatLng=uf,Wi.coordsToLatLngs=Il,Wi.latLngToCoords=Ml,Wi.latLngsToCoords=lf,Wi.getFeature=Cu,Wi.asFeature=vs,yn.mergeOptions({boxZoom:!0});var To=Vi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(d),Wt(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var v=new ne(this._point,this._startPoint),P=v.getSize();ut(this._box,v.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(N(this._box),Pe(this._container,"leaflet-crosshair")),Ue(),Ft(),hn(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var v=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yn.addInitHook("addHandler","boxZoom",To),yn.mergeOptions({doubleClickZoom:!0});var jl=Vi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var v=this._map,P=v.getZoom(),U=v.options.zoomDelta,ee=d.originalEvent.shiftKey?P-U:P+U;v.options.doubleClickZoom==="center"?v.setZoom(ee):v.setZoomAround(d.containerPoint,ee)}});yn.addInitHook("addHandler","doubleClickZoom",jl),yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $l=Vi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new qs(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=J(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var v=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(v),this._prunePositions(v)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,v){return d-(d-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;d.x<v.min.x&&(d.x=this._viscousLimit(d.x,v.min.x)),d.y<v.min.y&&(d.y=this._viscousLimit(d.y,v.min.y)),d.x>v.max.x&&(d.x=this._viscousLimit(d.x,v.max.x)),d.y>v.max.y&&(d.y=this._viscousLimit(d.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,v=Math.round(d/2),P=this._initialWorldOffset,U=this._draggable._newPos.x,ee=(U-v+P)%d+v-P,ve=(U+v+P)%d-v-P,Ge=Math.abs(ee+P)<Math.abs(ve+P)?ee:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(d){var v=this._map,P=v.options,U=!P.inertia||d.noInertia||this._times.length<2;if(v.fire("dragend",d),U)v.fire("moveend");else{this._prunePositions(+new Date);var ee=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=P.easeLinearity,ot=ee.multiplyBy(Ge/ve),yt=ot.distanceTo([0,0]),bt=Math.min(P.inertiaMaxSpeed,yt),jt=ot.multiplyBy(bt/yt),nn=bt/(P.inertiaDeceleration*Ge),gn=jt.multiplyBy(-nn/2).round();!gn.x&&!gn.y?v.fire("moveend"):(gn=v._limitOffset(gn,v.options.maxBounds),Z(function(){v.panBy(gn,{duration:nn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});yn.addInitHook("addHandler","dragging",$l),yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ji=Vi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Wt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,v=document.documentElement,P=d.scrollTop||v.scrollTop,U=d.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(U,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var v=this._panKeys={},P=this.keyCodes,U,ee;for(U=0,ee=P.left.length;U<ee;U++)v[P.left[U]]=[-1*d,0];for(U=0,ee=P.right.length;U<ee;U++)v[P.right[U]]=[d,0];for(U=0,ee=P.down.length;U<ee;U++)v[P.down[U]]=[0,d];for(U=0,ee=P.up.length;U<ee;U++)v[P.up[U]]=[0,-1*d]},_setZoomDelta:function(d){var v=this._zoomKeys={},P=this.keyCodes,U,ee;for(U=0,ee=P.zoomIn.length;U<ee;U++)v[P.zoomIn[U]]=d;for(U=0,ee=P.zoomOut.length;U<ee;U++)v[P.zoomOut[U]]=-d},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var v=d.keyCode,P=this._map,U;if(v in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(U=this._panKeys[v],d.shiftKey&&(U=k(U).multiplyBy(3)),P.options.maxBounds&&(U=P._limitOffset(k(U),P.options.maxBounds)),P.options.worldCopyJump){var ee=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(U)));P.panTo(ee)}else P.panBy(U)}else if(v in this._zoomKeys)P.setZoom(P.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;Ii(d)}}});yn.addInitHook("addHandler","keyboard",Ji),yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yi=Vi.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var v=Ka(d),P=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var U=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),U),Ii(d)},_performZoom:function(){var d=this._map,v=d.getZoom(),P=this._map.options.zoomSnap||0;d._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ee=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,ve=P?Math.ceil(ee/P)*P:ee,Ge=d._limitZoom(v+(this._delta>0?ve:-ve))-v;this._delta=0,this._startTime=null,Ge&&(d.options.scrollWheelZoom==="center"?d.setZoom(v+Ge):d.setZoomAround(this._lastMousePos,v+Ge))}});yn.addInitHook("addHandler","scrollWheelZoom",Yi);var Co=600;yn.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var Za=Vi.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var v=d.touches[0];this._startPos=this._newPos=new ce(v.clientX,v.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",nr),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),Co),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){hn(document,"touchend",nr),hn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)},_onMove:function(d){var v=d.touches[0];this._newPos=new ce(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,v){var P=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});P._simulated=!0,v.target.dispatchEvent(P)}});yn.addInitHook("addHandler","tapHold",Za),yn.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Ja=Vi.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var v=this._map;if(!(!d.touches||d.touches.length!==2||v._animatingZoom||this._zooming)){var P=v.mouseEventToContainerPoint(d.touches[0]),U=v.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(P.add(U)._divideBy(2))),this._startDist=P.distanceTo(U),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),nr(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var v=this._map,P=v.mouseEventToContainerPoint(d.touches[0]),U=v.mouseEventToContainerPoint(d.touches[1]),ee=P.distanceTo(U)/this._startDist;if(this._zoom=v.getScaleZoom(ee,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&ee<1||this._zoom>v.getMaxZoom()&&ee>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,ee===1)return}else{var ve=P._add(U)._divideBy(2)._subtract(this._centerPoint);if(ee===1&&ve.x===0&&ve.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),fe(this._animRequest);var Ge=s(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(Ge,this,!0),nr(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,fe(this._animRequest),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yn.addInitHook("addHandler","touchZoom",Ja),yn.BoxZoom=To,yn.DoubleClickZoom=jl,yn.Drag=$l,yn.Keyboard=Ji,yn.ScrollWheelZoom=Yi,yn.TapHold=Za,yn.TouchZoom=Ja,n.Bounds=ne,n.Browser=Ee,n.CRS=Je,n.Canvas=Fl,n.Circle=fh,n.CircleMarker=Ol,n.Class=oe,n.Control=ur,n.DivIcon=Hm,n.DivOverlay=Ra,n.DomEvent=wu,n.DomUtil=Fn,n.Draggable=qs,n.Evented=le,n.FeatureGroup=Ki,n.GeoJSON=Wi,n.GridLayer=Ru,n.Handler=Vi,n.Icon=Su,n.ImageOverlay=kl,n.LatLng=pe,n.LatLngBounds=H,n.Layer=Aa,n.LayerGroup=_o,n.LineUtil=jm,n.Map=yn,n.Marker=Eu,n.Mixin=tf,n.Path=ms,n.Point=ce,n.PolyUtil=pw,n.Polygon=Tu,n.Polyline=ys,n.Popup=Nl,n.PosAnimation=Ga,n.Projection=$m,n.Rectangle=Zi,n.Renderer=fa,n.SVG=Qa,n.SVGOverlay=gh,n.TileLayer=fi,n.Tooltip=cf,n.Transformation=ie,n.Util=te,n.VideoOverlay=bo,n.bind=s,n.bounds=me,n.canvas=ff,n.circle=ww,n.circleMarker=qm,n.control=Mi,n.divIcon=Vm,n.extend=i,n.featureGroup=Pl,n.geoJSON=Au,n.geoJson=hh,n.gridLayer=Km,n.icon=of,n.imageOverlay=wo,n.latLng=Ae,n.latLngBounds=J,n.layerGroup=Bm,n.map=Ta,n.marker=ch,n.point=k,n.polygon=Gi,n.polyline=bw,n.popup=zm,n.rectangle=Pu,n.setOptions=b,n.stamp=l,n.svg=yh,n.svgOverlay=So,n.tileLayer=Qi,n.tooltip=Sw,n.transformation=z,n.version=r,n.videoOverlay=ph;var Ao=window.L;n.noConflict=function(){return window.L=Ao,this},window.L=n})}(fg,fg.exports)),fg.exports}var An=wW();const FA=Gr(An),bW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",SW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",xW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete An.Icon.Default.prototype._getIconUrl;An.Icon.Default.mergeOptions({iconUrl:SW,iconRetinaUrl:bW,shadowUrl:xW});const fU="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",EW=An.icon({...An.Icon.Default.prototype.options,iconUrl:VI,iconRetinaUrl:VI}),TW=t=>An.icon({...An.Icon.Default.prototype.options,iconUrl:KI,iconRetinaUrl:KI,className:t}),dU=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],CW=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:oU,communityId:sU,darkModeLogoStyle:cU,emailNotificationsIdentity:vW,emailNotificationsService:yW,emailNotificationsType:uU,geoindexService:lU,oidcIssuers:dU,tileServer:fU},Symbol.toStringTag,{value:"Module"})),jd=crypto,jA=t=>t instanceof CryptoKey,oo=new TextEncoder,Ed=new TextDecoder;function hU(...t){const e=t.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}const AW=t=>{let e=t;typeof e=="string"&&(e=oo.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},w_=t=>AW(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),RW=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Fc=t=>{let e=t;e instanceof Uint8Array&&(e=Ed.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return RW(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Li extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Li.code="ERR_JOSE_GENERIC";class xs extends Li{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}xs.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class xC extends Li{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}xC.code="ERR_JWT_EXPIRED";class pU extends Li{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}pU.code="ERR_JOSE_ALG_NOT_ALLOWED";class va extends Li{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}va.code="ERR_JOSE_NOT_SUPPORTED";class PW extends Li{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}PW.code="ERR_JWE_DECRYPTION_FAILED";class OW extends Li{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}OW.code="ERR_JWE_INVALID";class Lr extends Li{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Lr.code="ERR_JWS_INVALID";class T0 extends Li{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}T0.code="ERR_JWT_INVALID";class LW extends Li{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}LW.code="ERR_JWK_INVALID";class $A extends Li{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}$A.code="ERR_JWKS_INVALID";class UA extends Li{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}UA.code="ERR_JWKS_NO_MATCHING_KEY";class gU extends Li{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}gU.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class mU extends Li{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}mU.code="ERR_JWKS_TIMEOUT";class yU extends Li{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}yU.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function Ho(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function Gy(t,e){return t.name===e}function _1(t){return parseInt(t.name.slice(4),10)}function IW(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function MW(t,e){if(e.length&&!e.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const r=e.pop();n+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function DW(t,e,...n){switch(e){case"HS256":case"HS384":case"HS512":{if(!Gy(t.algorithm,"HMAC"))throw Ho("HMAC");const r=parseInt(e.slice(2),10);if(_1(t.algorithm.hash)!==r)throw Ho(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Gy(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Ho("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(_1(t.algorithm.hash)!==r)throw Ho(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Gy(t.algorithm,"RSA-PSS"))throw Ho("RSA-PSS");const r=parseInt(e.slice(2),10);if(_1(t.algorithm.hash)!==r)throw Ho(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Ho("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Gy(t.algorithm,"ECDSA"))throw Ho("ECDSA");const r=IW(e);if(t.algorithm.namedCurve!==r)throw Ho(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}MW(t,n)}function vU(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const EC=(t,...e)=>vU("Key must be ",t,...e);function _U(t,e,...n){return vU(`Key for the ${t} algorithm must be `,e,...n)}const wU=t=>jA(t)?!0:(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",jg=["CryptoKey"],bU=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function kW(t){return typeof t=="object"&&t!==null}function ou(t){if(!kW(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const SU=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function $d(t){return ou(t)&&typeof t.kty=="string"}function NW(t){return t.kty!=="oct"&&typeof t.d=="string"}function FW(t){return t.kty!=="oct"&&typeof t.d>"u"}function jW(t){return $d(t)&&t.kty==="oct"&&typeof t.k=="string"}function $W(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new va('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const xU=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=$W(t),r=[e,t.ext??!1,t.key_ops??n],i={...t};return delete i.alg,delete i.use,jd.subtle.importKey("jwk",i,...r)},EU=t=>Fc(t);let Df,kf;const TU=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",G_=async(t,e,n,r,i=!1)=>{let a=t.get(e);if(a!=null&&a[r])return a[r];const s=await xU({...n,alg:r});return i&&Object.freeze(e),a?a[r]=s:t.set(e,{[r]:s}),s},UW=(t,e)=>{if(TU(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?EU(n.k):(kf||(kf=new WeakMap),G_(kf,t,n,e))}return $d(t)?t.k?Fc(t.k):(kf||(kf=new WeakMap),G_(kf,t,t,e,!0)):t},BW=(t,e)=>{if(TU(t)){let n=t.export({format:"jwk"});return n.k?EU(n.k):(Df||(Df=new WeakMap),G_(Df,t,n,e))}return $d(t)?t.k?Fc(t.k):(Df||(Df=new WeakMap),G_(Df,t,t,e,!0)):t},WI={normalizePublicKey:UW,normalizePrivateKey:BW};async function CU(t,e){if(!ou(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Fc(t.k);case"RSA":if(t.oth!==void 0)throw new va('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return xU({...t,alg:e});default:throw new va('Unsupported "kty" (Key Type) Parameter value')}}const Zf=t=>t==null?void 0:t[Symbol.toStringTag],TC=(t,e,n)=>{var r,i;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((i=(r=e.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},qW=(t,e,n,r)=>{if(!(e instanceof Uint8Array)){if(r&&$d(e)){if(jW(e)&&TC(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!wU(e))throw new TypeError(_U(t,e,...jg,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${Zf(e)} instances for symmetric algorithms must be of type "secret"`)}},zW=(t,e,n,r)=>{if(r&&$d(e))switch(n){case"sign":if(NW(e)&&TC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(FW(e)&&TC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!wU(e))throw new TypeError(_U(t,e,...jg,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${Zf(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function AU(t,e,n,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?qW(e,n,r,t):zW(e,n,r,t)}AU.bind(void 0,!1);const CC=AU.bind(void 0,!0);function RU(t,e,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...e.entries()]):a=e;for(const s of r.crit){if(!a.has(s))throw new va(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new t(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&r[s]===void 0)throw new t(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const HW=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},VW=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:w_(t)};if(!jA(t))throw new TypeError(EC(t,...jg,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:r,use:i,...a}=await jd.subtle.exportKey("jwk",t);return a};async function KW(t){return VW(t)}function PU(t,e){const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new va(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function OU(t,e,n){if(n==="sign"&&(e=await WI.normalizePrivateKey(e,t)),n==="verify"&&(e=await WI.normalizePublicKey(e,t)),jA(e))return DW(e,t,n),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(EC(e,...jg));return jd.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(EC(e,...jg,"Uint8Array","JSON Web Key"))}const GW=async(t,e,n,r)=>{const i=await OU(t,e,"verify");SU(t,i);const a=PU(t,i.algorithm);try{return await jd.subtle.verify(a,i,n,r)}catch{return!1}};async function WW(t,e,n){if(!ou(t))throw new Lr("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new Lr('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new Lr("JWS Protected Header incorrect type");if(t.payload===void 0)throw new Lr("JWS Payload missing");if(typeof t.signature!="string")throw new Lr("JWS Signature missing or incorrect type");if(t.header!==void 0&&!ou(t.header))throw new Lr("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const b=Fc(t.protected);r=JSON.parse(Ed.decode(b))}catch{throw new Lr("JWS Protected Header is invalid")}if(!bU(r,t.header))throw new Lr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},a=RU(Lr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let s=!0;if(a.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new Lr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=i;if(typeof o!="string"||!o)throw new Lr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=HW("algorithms",n.algorithms);if(l&&!l.has(o))throw new pU('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof t.payload!="string")throw new Lr("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new Lr("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof e=="function"?(e=await e(r,t),f=!0,CC(o,e,"verify"),$d(e)&&(e=await CU(e,o))):CC(o,e,"verify");const h=hU(oo.encode(t.protected??""),oo.encode("."),typeof t.payload=="string"?oo.encode(t.payload):t.payload);let p;try{p=Fc(t.signature)}catch{throw new Lr("Failed to base64url decode the signature")}if(!await GW(o,e,p,h))throw new yU;let y;if(s)try{y=Fc(t.payload)}catch{throw new Lr("Failed to base64url decode the payload")}else typeof t.payload=="string"?y=oo.encode(t.payload):y=t.payload;const _={payload:y};return t.protected!==void 0&&(_.protectedHeader=r),t.header!==void 0&&(_.unprotectedHeader=t.header),f?{..._,key:e}:_}async function QW(t,e,n){if(t instanceof Uint8Array&&(t=Ed.decode(t)),typeof t!="string")throw new Lr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:s}=t.split(".");if(s!==3)throw new Lr("Invalid Compact JWS");const o=await WW({payload:i,protected:r,signature:a},e,n),l={payload:o.payload,protectedHeader:o.protectedHeader};return typeof e=="function"?{...l,key:o.key}:l}const nl=t=>Math.floor(t.getTime()/1e3),LU=60,IU=LU*60,BA=IU*24,ZW=BA*7,JW=BA*365.25,YW=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Eg=t=>{const e=YW.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*LU);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*IU);break;case"day":case"days":case"d":i=Math.round(n*BA);break;case"week":case"weeks":case"w":i=Math.round(n*ZW);break;default:i=Math.round(n*JW);break}return e[1]==="-"||e[4]==="ago"?-i:i},QI=t=>t.toLowerCase().replace(/^application\//,""),XW=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,eQ=(t,e,n={})=>{let r;try{r=JSON.parse(Ed.decode(e))}catch{}if(!ou(r))throw new T0("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||QI(t.typ)!==QI(i)))throw new xs('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:s,subject:o,audience:l,maxTokenAge:f}=n,h=[...a];f!==void 0&&h.push("iat"),l!==void 0&&h.push("aud"),o!==void 0&&h.push("sub"),s!==void 0&&h.push("iss");for(const _ of new Set(h.reverse()))if(!(_ in r))throw new xs(`missing required "${_}" claim`,r,_,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(r.iss))throw new xs('unexpected "iss" claim value',r,"iss","check_failed");if(o&&r.sub!==o)throw new xs('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!XW(r.aud,typeof l=="string"?[l]:l))throw new xs('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=Eg(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=nl(m||new Date);if((r.iat!==void 0||f)&&typeof r.iat!="number")throw new xs('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new xs('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+p)throw new xs('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new xs('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-p)throw new xC('"exp" claim timestamp check failed',r,"exp","check_failed")}if(f){const _=y-r.iat,b=typeof f=="number"?f:Eg(f);if(_-p>b)throw new xC('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(_<0-p)throw new xs('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function tQ(t,e,n){var s;const r=await QW(t,e,n);if((s=r.protectedHeader.crit)!=null&&s.includes("b64")&&r.protectedHeader.b64===!1)throw new T0("JWTs MUST NOT use unencoded payload");const a={payload:eQ(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...a,key:r.key}:a}const nQ=async(t,e,n)=>{const r=await OU(t,e,"sign");SU(t,r);const i=await jd.subtle.sign(PU(t,r.algorithm),r,n);return new Uint8Array(i)};class rQ{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Lr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!bU(this._protectedHeader,this._unprotectedHeader))throw new Lr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=RU(Lr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Lr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=r;if(typeof s!="string"||!s)throw new Lr('JWS "alg" (Algorithm) Header Parameter missing or invalid');CC(s,e,"sign");let o=this._payload;a&&(o=oo.encode(w_(o)));let l;this._protectedHeader?l=oo.encode(w_(JSON.stringify(this._protectedHeader))):l=oo.encode("");const f=hU(l,oo.encode("."),o),h=await nQ(s,e,f),p={signature:w_(h),payload:""};return a&&(p.payload=Ed.decode(o)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Ed.decode(l)),p}}class iQ{constructor(e){this._flattened=new rQ(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){const r=await this._flattened.sign(e,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function Xl(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}class aQ{constructor(e={}){if(!ou(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:Xl("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Xl("setNotBefore",nl(e))}:this._payload={...this._payload,nbf:nl(new Date)+Eg(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:Xl("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Xl("setExpirationTime",nl(e))}:this._payload={...this._payload,exp:nl(new Date)+Eg(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:nl(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Xl("setIssuedAt",nl(e))}:typeof e=="string"?this._payload={...this._payload,iat:Xl("setIssuedAt",nl(new Date)+Eg(e))}:this._payload={...this._payload,iat:Xl("setIssuedAt",e)},this}}class sQ extends aQ{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){var i;const r=new iQ(oo.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new T0("JWTs MUST NOT use unencoded payload");return r.sign(e,n)}}function oQ(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new va('Unsupported "alg" value for a JSON Web Key Set')}}function uQ(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(lQ)}function lQ(t){return ou(t)}function MU(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class cQ{constructor(e){if(this._cached=new WeakMap,!uQ(e))throw new $A("JSON Web Key Set malformed");this._jwks=MU(e)}async getKey(e,n){const{alg:r,kid:i}={...e,...n==null?void 0:n.header},a=oQ(r),s=this._jwks.keys.filter(f=>{let h=a===f.kty;if(h&&typeof i=="string"&&(h=i===f.kid),h&&typeof f.alg=="string"&&(h=r===f.alg),h&&typeof f.use=="string"&&(h=f.use==="sig"),h&&Array.isArray(f.key_ops)&&(h=f.key_ops.includes("verify")),h&&r==="EdDSA"&&(h=f.crv==="Ed25519"||f.crv==="Ed448"),h)switch(r){case"ES256":h=f.crv==="P-256";break;case"ES256K":h=f.crv==="secp256k1";break;case"ES384":h=f.crv==="P-384";break;case"ES512":h=f.crv==="P-521";break}return h}),{0:o,length:l}=s;if(l===0)throw new UA;if(l!==1){const f=new gU,{_cached:h}=this;throw f[Symbol.asyncIterator]=async function*(){for(const p of s)try{yield await ZI(h,p,r)}catch{}},f}return ZI(this._cached,o,r)}}async function ZI(t,e,n){const r=t.get(e)||t.set(e,{}).get(e);if(r[n]===void 0){const i=await CU({...e,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new $A("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function JI(t){const e=new cQ(t),n=async(r,i)=>e.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>MU(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const fQ=async(t,e,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},e));const s=await fetch(t.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(o=>{throw a?new mU:o});if(i!==void 0&&clearTimeout(i),s.status!==200)throw new Li("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new Li("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function dQ(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let AC;var p_,r5;(typeof navigator>"u"||!((r5=(p_=navigator.userAgent)==null?void 0:p_.startsWith)!=null&&r5.call(p_,"Mozilla/5.0 ")))&&(AC="jose/v5.9.6");const w1=Symbol();function hQ(t,e){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=e||!("jwks"in t)||!ou(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,ou))}class pQ{constructor(e,n){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[w1])!==void 0&&(this._cache=n==null?void 0:n[w1],hQ(n==null?void 0:n[w1],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=JI(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(e,n)}catch(r){if(r instanceof UA&&this.coolingDown()===!1)return await this.reload(),this._local(e,n);throw r}}async reload(){this._pendingFetch&&dQ()&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);AC&&!e.has("User-Agent")&&(e.set("User-Agent",AC),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=fQ(this._url,this._timeoutDuration,this._options).then(n=>{this._local=JI(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function gQ(t,e){const n=new pQ(t,e),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function b1(t){const e=(t==null?void 0:t.modulusLength)??2048;if(typeof e!="number"||e<2048)throw new va("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}async function mQ(t,e){let n,r;switch(t){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:b1(e)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:b1(e)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:b1(e)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new va("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new va("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return jd.subtle.generateKey(n,!1,r)}async function yQ(t,e){return mQ(t,e)}const Ei=[];for(let t=0;t<256;++t)Ei.push((t+256).toString(16).slice(1));function vQ(t,e=0){return(Ei[t[e+0]]+Ei[t[e+1]]+Ei[t[e+2]]+Ei[t[e+3]]+"-"+Ei[t[e+4]]+Ei[t[e+5]]+"-"+Ei[t[e+6]]+Ei[t[e+7]]+"-"+Ei[t[e+8]]+Ei[t[e+9]]+"-"+Ei[t[e+10]]+Ei[t[e+11]]+Ei[t[e+12]]+Ei[t[e+13]]+Ei[t[e+14]]+Ei[t[e+15]]).toLowerCase()}let S1;const _Q=new Uint8Array(16);function wQ(){if(!S1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");S1=crypto.getRandomValues.bind(crypto)}return S1(_Q)}const bQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),YI={randomUUID:bQ};function DU(t,e,n){if(YI.randomUUID&&!e&&!t)return YI.randomUUID();t=t||{};const r=t.random||(t.rng||wQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vQ(r)}const kU="solidClientAuthn:",W_=["ES256","RS256"],ti={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},XI=5,SQ="openid",xQ="offline_access",EQ="webid",NU=[SQ,xQ,EQ].join(" ");class TQ{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...e)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const n=await this.getProperHandler(e);if(n)return n.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function FU(t,e,n,r){let i,a;try{const{payload:s}=await tQ(t,gQ(new URL(e)),{issuer:n,audience:r});i=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${s}].`)}}function jU(t){try{const e=new URL(t),n=!e.searchParams.has("code")&&!e.searchParams.has("state"),r=e.hash==="";return n&&r}catch{return!1}}function $U(t){const e=new URL(t);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function CQ(t,e){return typeof t=="boolean"?!!t:!!e}class AQ{constructor(e,n){this.storageUtility=e,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=e,this.redirector=n}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:CQ(e.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:e.handleRedirect})}}class RQ{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class PQ{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(e,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class OQ{constructor(e,n){this.handlers=[new RQ(e),new PQ(n)]}async canHandle(){return!0}async handle(e,n){for(const r of this.handlers)await r.canHandle(e,n)&&await r.handle(e,n)}}function UU(){return{isLoggedIn:!1,sessionId:DU(),fetch:(...t)=>fetch(...t)}}async function BU(t,e){await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0})])}class LQ{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,n){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return BU(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function IQ({endSessionEndpoint:t,idTokenHint:e,postLogoutRedirectUri:n,state:r}){const i=new URL(t);return e!==void 0&&i.searchParams.append("id_token_hint",e),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function MQ({endSessionEndpoint:t,idTokenHint:e}){if(t!==void 0)return function({state:r,postLogoutUrl:i}){return IQ({endSessionEndpoint:t,idTokenHint:e,state:r,postLogoutRedirectUri:i})}}function DQ(t){return typeof t=="string"&&["DPoP","Bearer"].includes(t)}function qU(t){try{return new URL(t),!0}catch{return!1}}function kQ(t,e){var n;return(n=e.find(r=>t.includes(r)))!==null&&n!==void 0?n:null}function NQ(t){return t.clientId!==void 0&&!qU(t.clientId)}function FQ(t,e){return e.scopesSupported.includes("webid")&&t.clientId!==void 0&&qU(t.clientId)}function jQ(t){return typeof t=="string"&&["dynamic","static","solid-oidc"].includes(t)}async function $Q(t,e,n,r){let i;if(FQ(t,e))i={clientId:t.clientId,clientName:t.clientName,clientType:"solid-oidc"};else if(NQ(t))i={clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:"static"};else return r.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(t.sessionId,a),i}const eM=(t,e)=>fetch(t,e);let UQ=class{constructor(e,n,r,i,a){this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=eM,this.logout=async(s,o)=>{await this.logoutHandler.handle(s,(o==null?void 0:o.logoutType)==="idp"?{...o,toLogoutUrl:this.boundLogout}:o),this.fetch=eM,delete this.boundLogout},this.getSessionInfo=async s=>this.sessionInfoManager.get(s),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function zU(t,e,n){try{const[r,i,a,s,o]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUrl"),e.getForUser(t,"dpop",{errorIfNull:!0}),e.getForUser(t,"keepAlive")]);await e.deleteForUser(t,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:s==="true",keepAlive:typeof o=="string"?o==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${r}`)}}async function BQ(t,e,n,r,i,a,s,o){n!==void 0&&await t.setForUser(e,{webId:n},{secure:s}),r!==void 0&&await t.setForUser(e,{clientId:r},{secure:s}),await t.setForUser(e,{isLoggedIn:i},{secure:s})}class qQ{constructor(e,n){this.secureStorage=e,this.insecureStorage=n,this.secureStorage=e,this.insecureStorage=n}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${e}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(n))}async get(e,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(e);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${e}] is not stored`);return r}async set(e,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(e,n)}async delete(e,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${e}] is not stored`);return a||void 0}async setForUser(e,n,r){let i;try{i=await this.getUserData(e,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(e,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);delete i[n],await this.setUserData(e,i,r==null?void 0:r.secure)}async deleteAllUserData(e,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class zQ{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,n){this.map[e]=n}async delete(e){delete this.map[e]}}class RC extends Error{constructor(e){super(e)}}class dg extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class HU extends Error{constructor(e,n,r){super(e),this.error=n,this.errorDescription=r}}function HQ(t){const e=new URL(t);return new URL(e.pathname,e.origin).toString()}async function qA(t,e,n){return new sQ({htu:HQ(t),htm:e.toUpperCase(),jti:DU()}).setProtectedHeader({alg:W_[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function VQ(){const{privateKey:t,publicKey:e}=await yQ(W_[0]),n={privateKey:t,publicKey:await KW(e)};return[n.publicKey.alg]=W_,n}const VU=600;function KQ(t){return[401,403].includes(t)}async function GQ(t,e,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${e}`),a.set("DPoP",await qA(t,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function WQ(t,e,n,r){if(n!==void 0)return GQ(t,e,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${e}`),{...r,headers:i}}async function tM(t,e,n,r){return fetch(e,await WQ(e.toString(),t,r,n))}async function QQ(t,e,n){var r;const i=await t.tokenRefresher.refresh(t.sessionId,t.refreshToken,e);return n==null||n.emit(ti.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:VU),typeof i.refreshToken=="string"&&(n==null||n.emit(ti.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const x1=t=>t!==void 0?t-XI>0?t-XI:t:VU;async function ZQ(t,e){var n;let r=t,i;const a=e==null?void 0:e.refreshOptions;if(a!==void 0){const s=async()=>{var o,l,f,h;try{const{accessToken:p,refreshToken:m,expiresIn:y}=await QQ(a,e.dpopKey,e.eventEmitter);r=p,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(s,x1(y)*1e3),(o=e.eventEmitter)===null||o===void 0||o.emit(ti.TIMEOUT_SET,i)}catch(p){p instanceof HU&&((l=e==null?void 0:e.eventEmitter)===null||l===void 0||l.emit(ti.ERROR,p.error,p.errorDescription),(f=e==null?void 0:e.eventEmitter)===null||f===void 0||f.emit(ti.SESSION_EXPIRED)),p instanceof dg&&p.missingFields.includes("access_token")&&((h=e==null?void 0:e.eventEmitter)===null||h===void 0||h.emit(ti.SESSION_EXPIRED))}};i=setTimeout(s,x1(e.expiresIn)*1e3),(n=e.eventEmitter)===null||n===void 0||n.emit(ti.TIMEOUT_SET,i)}else if(e!==void 0&&e.eventEmitter!==void 0){const s=setTimeout(()=>{e.eventEmitter.emit(ti.SESSION_EXPIRED)},x1(e.expiresIn)*1e3);e.eventEmitter.emit(ti.TIMEOUT_SET,s)}return async(s,o)=>{let l=await tM(r,s,o,e==null?void 0:e.dpopKey);const f=!l.ok&&!KQ(l.status);return l.ok||f||l.url!==s&&(e==null?void 0:e.dpopKey)!==void 0&&(l=await tM(r,l.url,o,e.dpopKey)),l}}const Ti=[];for(let t=0;t<256;++t)Ti.push((t+256).toString(16).slice(1));function JQ(t,e=0){return(Ti[t[e+0]]+Ti[t[e+1]]+Ti[t[e+2]]+Ti[t[e+3]]+"-"+Ti[t[e+4]]+Ti[t[e+5]]+"-"+Ti[t[e+6]]+Ti[t[e+7]]+"-"+Ti[t[e+8]]+Ti[t[e+9]]+"-"+Ti[t[e+10]]+Ti[t[e+11]]+Ti[t[e+12]]+Ti[t[e+13]]+Ti[t[e+14]]+Ti[t[e+15]]).toLowerCase()}let E1;const YQ=new Uint8Array(16);function XQ(){if(!E1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");E1=crypto.getRandomValues.bind(crypto)}return E1(YQ)}const eZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nM={randomUUID:eZ};function tZ(t,e,n){if(nM.randomUUID&&!e&&!t)return nM.randomUUID();t=t||{};const r=t.random||(t.rng||XQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,JQ(r)}var Wy={exports:{}},rM;function Ud(){if(rM)return Wy.exports;rM=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,D,j){return Function.prototype.apply.call(M,D,j)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:n=function(M){return Object.getOwnPropertyNames(M)};function r(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(M){return M!==M};function a(){a.init.call(this)}Wy.exports=a,Wy.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");s=I}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function l(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(M){for(var D=[],j=1;j<arguments.length;j++)D.push(arguments[j]);var Q=M==="error",Y=this._events;if(Y!==void 0)Q=Q&&Y.error===void 0;else if(!Q)return!1;if(Q){var q;if(D.length>0&&(q=D[0]),q instanceof Error)throw q;var Z=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw Z.context=q,Z}var fe=Y[M];if(fe===void 0)return!1;if(typeof fe=="function")e(fe,this,D);else for(var te=fe.length,oe=_(fe,te),j=0;j<te;++j)e(oe[j],this,D);return!0};function f(I,M,D,j){var Q,Y,q;if(o(D),Y=I._events,Y===void 0?(Y=I._events=Object.create(null),I._eventsCount=0):(Y.newListener!==void 0&&(I.emit("newListener",M,D.listener?D.listener:D),Y=I._events),q=Y[M]),q===void 0)q=Y[M]=D,++I._eventsCount;else if(typeof q=="function"?q=Y[M]=j?[D,q]:[q,D]:j?q.unshift(D):q.push(D),Q=l(I),Q>0&&q.length>Q&&!q.warned){q.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=I,Z.type=M,Z.count=q.length,r(Z)}return I}a.prototype.addListener=function(M,D){return f(this,M,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,D){return f(this,M,D,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(I,M,D){var j={fired:!1,wrapFn:void 0,target:I,type:M,listener:D},Q=h.bind(j);return Q.listener=D,j.wrapFn=Q,Q}a.prototype.once=function(M,D){return o(D),this.on(M,p(this,M,D)),this},a.prototype.prependOnceListener=function(M,D){return o(D),this.prependListener(M,p(this,M,D)),this},a.prototype.removeListener=function(M,D){var j,Q,Y,q,Z;if(o(D),Q=this._events,Q===void 0)return this;if(j=Q[M],j===void 0)return this;if(j===D||j.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[M],Q.removeListener&&this.emit("removeListener",M,j.listener||D));else if(typeof j!="function"){for(Y=-1,q=j.length-1;q>=0;q--)if(j[q]===D||j[q].listener===D){Z=j[q].listener,Y=q;break}if(Y<0)return this;Y===0?j.shift():b(j,Y),j.length===1&&(Q[M]=j[0]),Q.removeListener!==void 0&&this.emit("removeListener",M,Z||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(M){var D,j,Q;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[M]),this;if(arguments.length===0){var Y=Object.keys(j),q;for(Q=0;Q<Y.length;++Q)q=Y[Q],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=j[M],typeof D=="function")this.removeListener(M,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(M,D[Q]);return this};function m(I,M,D){var j=I._events;if(j===void 0)return[];var Q=j[M];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?S(Q):_(Q,Q.length)}a.prototype.listeners=function(M){return m(this,M,!0)},a.prototype.rawListeners=function(M){return m(this,M,!1)},a.listenerCount=function(I,M){return typeof I.listenerCount=="function"?I.listenerCount(M):y.call(I,M)},a.prototype.listenerCount=y;function y(I){var M=this._events;if(M!==void 0){var D=M[I];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function _(I,M){for(var D=new Array(M),j=0;j<M;++j)D[j]=I[j];return D}function b(I,M){for(;M+1<I.length;M++)I[M]=I[M+1];I.pop()}function S(I){for(var M=new Array(I.length),D=0;D<M.length;++D)M[D]=I[D].listener||I[D];return M}function x(I,M){return new Promise(function(D,j){function Q(q){I.removeListener(M,Y),j(q)}function Y(){typeof I.removeListener=="function"&&I.removeListener("error",Q),D([].slice.call(arguments))}A(I,M,Y,{once:!0}),M!=="error"&&E(I,Q,{once:!0})})}function E(I,M,D){typeof I.on=="function"&&A(I,"error",M,D)}function A(I,M,D,j){if(typeof I.on=="function")j.once?I.once(M,D):I.on(M,D);else if(typeof I.addEventListener=="function")I.addEventListener(M,function Q(Y){j.once&&I.removeEventListener(M,Q),D(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return Wy.exports}var nZ=Ud();const rZ=Gr(nZ);var b_={exports:{}},iZ=b_.exports,iM;function aZ(){return iM||(iM=1,function(t,e){(function(r,i){t.exports=i()})(iZ,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:o})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,s){if(1&s&&(a=i(a)),8&s||4&s&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),2&s&&typeof a!="string")for(var l in a)i.d(o,l,(function(f){return a[f]}).bind(null,l));return o},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),s={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,l=void 0;(r.Log=function(){function f(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f)}return f.reset=function(){l=3,o=s},f.debug=function(){if(l>=4){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.debug.apply(o,Array.from(m))}},f.info=function(){if(l>=3){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.info.apply(o,Array.from(m))}},f.warn=function(){if(l>=2){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.warn.apply(o,Array.from(m))}},f.error=function(){if(l>=1){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.error.apply(o,Array.from(m))}},a(f,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");l=p}},{key:"logger",get:function(){return o},set:function(p){if(!p.debug&&p.info&&(p.debug=p.info),!(p.debug&&p.info&&p.warn&&p.error))throw new Error("Invalid logger");o=p}}]),f}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),s={setInterval:function(f){function h(p,m){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h}(function(f,h){return setInterval(f,h)}),clearInterval:function(f){function h(p){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h}(function(f){return clearInterval(f)})},o=!1,l=null;r.Global=function(){function f(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f)}return f._testing=function(){o=!0},f.setXMLHttpRequest=function(p){l=p},a(f,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!o&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return s}}]),f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(0),o=i(7);function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration";r.MetadataService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.JsonService;if(l(this,h),!p)throw s.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=p,this._jsonService=new m(["application/jwk-set+json"])}return h.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},h.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(s.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(s.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){s.Log.debug("MetadataService.getMetadata: json received");var _=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},_,y),m._settings.metadata})):(s.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},h.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},h.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},h.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},h.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},h.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},h.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},h.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},h.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},h.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return s.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(_){if(s.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),_[m]===void 0){if(y===!0)return void s.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw s.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return _[m]})},h.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(s.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return s.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(_){if(s.Log.debug("MetadataService.getSigningKeys: key set received",_),!_.keys)throw s.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=_.keys,m._settings.signingKeys})})},a(h,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=f))),this._metadataUrl}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),s=i(1);r.UrlUtility=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.addQueryParam=function(f,h,p){return f.indexOf("?")<0&&(f+="?"),f[f.length-1]!=="?"&&(f+="&"),f+=encodeURIComponent(h),f+="=",f+=encodeURIComponent(p)},o.parseUrlFragment=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global;typeof f!="string"&&(f=p.location.href);var m=f.lastIndexOf(h);m>=0&&(f=f.substr(m+1)),h==="?"&&(m=f.indexOf("#"))>=0&&(f=f.substr(0,m));for(var y,_={},b=/([^&=]+)=([^&]*)/g,S=0;y=b.exec(f);)if(_[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),S++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",f),{error:"Response exceeded expected number of parameters"};for(var x in _)return _;return{}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),s=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,s.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(E,A){for(var I=0;I<A.length;I++){var M=A[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,A,I){return A&&x(E.prototype,A),I&&x(E,I),E}}(),o=i(0),l=i(23),f=i(6),h=i(24),p=i(2);function m(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",_="id_token",b="openid",S="client_secret_post";r.OidcClientSettings=function(){function x(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=E.authority,I=E.metadataUrl,M=E.metadata,D=E.signingKeys,j=E.metadataSeed,Q=E.client_id,Y=E.client_secret,q=E.response_type,Z=q===void 0?_:q,fe=E.scope,te=fe===void 0?b:fe,oe=E.redirect_uri,ge=E.post_logout_redirect_uri,_e=E.client_authentication,le=_e===void 0?S:_e,ce=E.prompt,Le=E.display,k=E.max_age,ne=E.ui_locales,me=E.acr_values,H=E.resource,J=E.response_mode,pe=E.filterProtocolClaims,Ae=pe===void 0||pe,Je=E.loadUserInfo,Re=Je===void 0||Je,Fe=E.staleStateAge,Xe=Fe===void 0?900:Fe,ie=E.clockSkew,z=ie===void 0?300:ie,$=E.clockService,re=$===void 0?new l.ClockService:$,W=E.userInfoJwtIssuer,he=W===void 0?"OP":W,ye=E.mergeClaims,He=ye!==void 0&&ye,Te=E.stateStore,Ne=Te===void 0?new f.WebStorageStateStore:Te,tt=E.ResponseValidatorCtor,nt=tt===void 0?h.ResponseValidator:tt,gt=E.MetadataServiceCtor,Ut=gt===void 0?p.MetadataService:gt,Se=E.extraQueryParams,Be=Se===void 0?{}:Se,X=E.extraTokenParams,B=X===void 0?{}:X;m(this,x),this._authority=A,this._metadataUrl=I,this._metadata=M,this._metadataSeed=j,this._signingKeys=D,this._client_id=Q,this._client_secret=Y,this._response_type=Z,this._scope=te,this._redirect_uri=oe,this._post_logout_redirect_uri=ge,this._client_authentication=le,this._prompt=ce,this._display=Le,this._max_age=k,this._ui_locales=ne,this._acr_values=me,this._resource=H,this._response_mode=J,this._filterProtocolClaims=!!Ae,this._loadUserInfo=!!Re,this._staleStateAge=Xe,this._clockSkew=z,this._clockService=re,this._userInfoJwtIssuer=he,this._mergeClaims=!!He,this._stateStore=Ne,this._validator=new nt(this),this._metadataService=new Ut(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(B===void 0?"undefined":a(B))==="object"?B:{}}return x.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},s(x,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),x}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),s=i(1);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.prefix,p=h===void 0?"oidc.":h,m=f.store,y=m===void 0?s.Global.localStorage:m;o(this,l),this._store=y,this._prefix=p}return l.prototype.set=function(h,p){return a.Log.debug("WebStorageStateStore.set",h),h=this._prefix+h,this._store.setItem(h,p),Promise.resolve()},l.prototype.get=function(h){a.Log.debug("WebStorageStateStore.get",h),h=this._prefix+h;var p=this._store.getItem(h);return Promise.resolve(p)},l.prototype.remove=function(h){a.Log.debug("WebStorageStateStore.remove",h),h=this._prefix+h;var p=this._store.getItem(h);return this._store.removeItem(h),Promise.resolve(p)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var h=[],p=0;p<this._store.length;p++){var m=this._store.key(p);m.indexOf(this._prefix)===0&&h.push(m.substr(this._prefix.length))}return Promise.resolve(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),s=i(1);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;o(this,l),f&&Array.isArray(f)?this._contentTypes=f.slice():this._contentTypes=[],this._contentTypes.push("application/json"),p&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=h,this._jwtHandler=p}return l.prototype.getJson=function(h,p){var m=this;if(!h)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",h),new Promise(function(y,_){var b=new m._XMLHttpRequest;b.open("GET",h);var S=m._contentTypes,x=m._jwtHandler;b.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",b.status),b.status===200){var E=b.getResponseHeader("Content-Type");if(E){var A=S.find(function(I){if(E.startsWith(I))return!0});if(A=="application/jwt")return void x(b).then(y,_);if(A)try{return void y(JSON.parse(b.responseText))}catch(I){return a.Log.error("JsonService.getJson: Error parsing JSON response",I.message),void _(I)}}_(Error("Invalid response Content-Type: "+E+", from URL: "+h))}else _(Error(b.statusText+" ("+b.status+")"))},b.onerror=function(){a.Log.error("JsonService.getJson: network error"),_(Error("Network Error"))},p&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),b.setRequestHeader("Authorization","Bearer "+p)),b.send()})},l.prototype.postForm=function(h,p,m){var y=this;if(!h)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",h),new Promise(function(_,b){var S=new y._XMLHttpRequest;S.open("POST",h);var x=y._contentTypes;S.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(D=S.getResponseHeader("Content-Type"))&&x.find(function(j){if(D.startsWith(j))return!0}))try{var M=JSON.parse(S.responseText);if(M&&M.error)return a.Log.error("JsonService.postForm: Error from server: ",M.error),void b(new Error(M.error))}catch(j){return a.Log.error("JsonService.postForm: Error parsing JSON response",j.message),void b(j)}b(Error(S.statusText+" ("+S.status+")"))}else{var D;if((D=S.getResponseHeader("Content-Type"))&&x.find(function(j){if(D.startsWith(j))return!0}))try{return void _(JSON.parse(S.responseText))}catch(j){return a.Log.error("JsonService.postForm: Error parsing JSON response",j.message),void b(j)}b(Error("Invalid response Content-Type: "+D+", from URL: "+h))}},S.onerror=function(){a.Log.error("JsonService.postForm: network error"),b(Error("Network Error"))};var E="";for(var A in p){var I=p[A];I&&(E.length>0&&(E+="&"),E+=encodeURIComponent(A),E+="=",E+=encodeURIComponent(I))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(m)),S.send(E)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),s=i(3),o=i(13);r.SigninRequest=function(){function l(f){var h=f.url,p=f.client_id,m=f.redirect_uri,y=f.response_type,_=f.scope,b=f.authority,S=f.data,x=f.prompt,E=f.display,A=f.max_age,I=f.ui_locales,M=f.id_token_hint,D=f.login_hint,j=f.acr_values,Q=f.resource,Y=f.response_mode,q=f.request,Z=f.request_uri,fe=f.extraQueryParams,te=f.request_type,oe=f.client_secret,ge=f.extraTokenParams,_e=f.skipUserInfo;if(function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!p)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!_)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!b)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var le=l.isOidc(y),ce=l.isCode(y);Y||(Y=l.isCode(y)?"query":null),this.state=new o.SigninState({nonce:le,data:S,client_id:p,authority:b,redirect_uri:m,code_verifier:ce,request_type:te,response_mode:Y,client_secret:oe,scope:_,extraTokenParams:ge,skipUserInfo:_e}),h=s.UrlUtility.addQueryParam(h,"client_id",p),h=s.UrlUtility.addQueryParam(h,"redirect_uri",m),h=s.UrlUtility.addQueryParam(h,"response_type",y),h=s.UrlUtility.addQueryParam(h,"scope",_),h=s.UrlUtility.addQueryParam(h,"state",this.state.id),le&&(h=s.UrlUtility.addQueryParam(h,"nonce",this.state.nonce)),ce&&(h=s.UrlUtility.addQueryParam(h,"code_challenge",this.state.code_challenge),h=s.UrlUtility.addQueryParam(h,"code_challenge_method","S256"));var Le={prompt:x,display:E,max_age:A,ui_locales:I,id_token_hint:M,login_hint:D,acr_values:j,resource:Q,request:q,request_uri:Z,response_mode:Y};for(var k in Le)Le[k]&&(h=s.UrlUtility.addQueryParam(h,k,Le[k]));for(var ne in fe)h=s.UrlUtility.addQueryParam(h,ne,fe[ne]);this.url=h}return l.isOidc=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="id_token"})[0]},l.isOAuth=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="token"})[0]},l.isCode=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),s=i(0),o=function(h){return h&&h.__esModule?h:{default:h}}(i(14));function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}r.State=function(){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.id,m=h.data,y=h.created,_=h.request_type;l(this,f),this._id=p||(0,o.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=_}return f.prototype.toStorageString=function(){return s.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},f.fromStorageString=function(p){return s.Log.debug("State.fromStorageString"),new f(JSON.parse(p))},f.clearStaleState=function(p,m){var y=Date.now()/1e3-m;return p.getAllKeys().then(function(_){s.Log.debug("State.clearStaleState: got keys",_);for(var b=[],S=function(I){var M=_[I];E=p.get(M).then(function(D){var j=!1;if(D)try{var Q=f.fromStorageString(D);s.Log.debug("State.clearStaleState: got item from key: ",M,Q.created),Q.created<=y&&(j=!0)}catch(Y){s.Log.error("State.clearStaleState: Error parsing state for key",M,Y.message),j=!0}else s.Log.debug("State.clearStaleState: no item in storage for key: ",M),j=!0;if(j)return s.Log.debug("State.clearStaleState: removed item for key: ",M),p.remove(M)}),b.push(E)},x=0;x<_.length;x++){var E;S(x)}return s.Log.debug("State.clearStaleState: waiting on promise count:",b.length),Promise.all(b)})},a(f,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function S(x,E){for(var A=0;A<E.length;A++){var I=E[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,E,A){return E&&S(x.prototype,E),A&&S(x,A),x}}(),s=i(0),o=i(5),l=i(12),f=i(8),h=i(34),p=i(35),m=i(36),y=i(13),_=i(9);function b(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function S(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b(this,S),x instanceof o.OidcClientSettings?this._settings=x:this._settings=new o.OidcClientSettings(x)}return S.prototype.createSigninRequest=function(){var E=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.response_type,M=A.scope,D=A.redirect_uri,j=A.data,Q=A.state,Y=A.prompt,q=A.display,Z=A.max_age,fe=A.ui_locales,te=A.id_token_hint,oe=A.login_hint,ge=A.acr_values,_e=A.resource,le=A.request,ce=A.request_uri,Le=A.response_mode,k=A.extraQueryParams,ne=A.extraTokenParams,me=A.request_type,H=A.skipUserInfo,J=arguments[1];s.Log.debug("OidcClient.createSigninRequest");var pe=this._settings.client_id;I=I||this._settings.response_type,M=M||this._settings.scope,D=D||this._settings.redirect_uri,Y=Y||this._settings.prompt,q=q||this._settings.display,Z=Z||this._settings.max_age,fe=fe||this._settings.ui_locales,ge=ge||this._settings.acr_values,_e=_e||this._settings.resource,Le=Le||this._settings.response_mode,k=k||this._settings.extraQueryParams,ne=ne||this._settings.extraTokenParams;var Ae=this._settings.authority;return f.SigninRequest.isCode(I)&&I!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Je){s.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Je);var Re=new f.SigninRequest({url:Je,client_id:pe,redirect_uri:D,response_type:I,scope:M,data:j||Q,authority:Ae,prompt:Y,display:q,max_age:Z,ui_locales:fe,id_token_hint:te,login_hint:oe,acr_values:ge,resource:_e,request:le,request_uri:ce,extraQueryParams:k,extraTokenParams:ne,request_type:me,response_mode:Le,client_secret:E._settings.client_secret,skipUserInfo:H}),Fe=Re.state;return(J=J||E._stateStore).set(Fe.id,Fe.toStorageString()).then(function(){return Re})})},S.prototype.readSigninResponseState=function(E,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSigninResponseState");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type),D=M?"?":"#",j=new h.SigninResponse(E,D);if(!j.state)return s.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var Q=I?A.remove.bind(A):A.get.bind(A);return Q(j.state).then(function(Y){if(!Y)throw s.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(Y),response:j}})},S.prototype.processSigninResponse=function(E,A){var I=this;return s.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(E,A,!0).then(function(M){var D=M.state,j=M.response;return s.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),I._validator.validateSigninResponse(D,j)})},S.prototype.createSignoutRequest=function(){var E=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.id_token_hint,M=A.data,D=A.state,j=A.post_logout_redirect_uri,Q=A.extraQueryParams,Y=A.request_type,q=arguments[1];return s.Log.debug("OidcClient.createSignoutRequest"),j=j||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Z){if(!Z)throw s.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");s.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Z);var fe=new p.SignoutRequest({url:Z,id_token_hint:I,post_logout_redirect_uri:j,data:M||D,extraQueryParams:Q,request_type:Y}),te=fe.state;return te&&(s.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(q=q||E._stateStore).set(te.id,te.toStorageString())),fe})},S.prototype.readSignoutResponseState=function(E,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSignoutResponseState");var M=new m.SignoutResponse(E);if(!M.state)return s.Log.debug("OidcClient.readSignoutResponseState: No state in response"),M.error?(s.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",M.error),Promise.reject(new l.ErrorResponse(M))):Promise.resolve({state:void 0,response:M});var D=M.state;A=A||this._stateStore;var j=I?A.remove.bind(A):A.get.bind(A);return j(D).then(function(Q){if(!Q)throw s.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:_.State.fromStorageString(Q),response:M}})},S.prototype.processSignoutResponse=function(E,A){var I=this;return s.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(E,A,!0).then(function(M){var D=M.state,j=M.response;return D?(s.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),I._validator.validateSignoutResponse(D,j)):(s.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),j)})},S.prototype.clearStaleState=function(E){return s.Log.debug("OidcClient.clearStaleState"),E=E||this._stateStore,_.State.clearStaleState(E,this.settings.staleStateAge)},a(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),s=i(2),o=i(0);function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(l(this,f),!h)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new p,this._metadataService=new m(this._settings)}return f.prototype.exchangeCode=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,_=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||_!="client_secret_basic"?(_=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(b){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),p._jsonService.postForm(b,m,y).then(function(S){return o.Log.debug("TokenClient.exchangeCode: response received"),S})})):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},f.prototype.exchangeRefreshToken=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,_=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(_=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(b){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),p._jsonService.postForm(b,m,y).then(function(S){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function o(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?l:f}r.ErrorResponse=function(l){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.error,m=h.error_description,y=h.error_uri,_=h.state,b=h.session_state;if(s(this,f),!p)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var S=o(this,l.call(this,m||p));return S.name="ErrorResponse",S.error=p,S.error_description=m,S.error_uri=y,S.state=_,S.session_state=b,S}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(f,l),f}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,_,b){return _&&m(y.prototype,_),b&&m(y,b),y}}(),s=i(0),o=i(9),l=i(4),f=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=_.nonce,S=_.authority,x=_.client_id,E=_.redirect_uri,A=_.code_verifier,I=_.response_mode,M=_.client_secret,D=_.scope,j=_.extraTokenParams,Q=_.skipUserInfo;h(this,y);var Y=p(this,m.call(this,arguments[0]));if(b===!0?Y._nonce=(0,f.default)():b&&(Y._nonce=b),A===!0?Y._code_verifier=(0,f.default)()+(0,f.default)()+(0,f.default)():A&&(Y._code_verifier=A),Y.code_verifier){var q=l.JoseUtil.hashString(Y.code_verifier,"SHA256");Y._code_challenge=l.JoseUtil.hexToBase64Url(q)}return Y._redirect_uri=E,Y._authority=S,Y._client_id=x,Y._response_mode=I,Y._client_secret=M,Y._scope=D,Y._extraTokenParams=j,Y._skipUserInfo=Q,Y}return function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}(y,m),y.prototype.toStorageString=function(){return s.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(b){return s.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(b))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(o.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?s:o)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.User=function(){function o(l){var f=l.id_token,h=l.session_state,p=l.access_token,m=l.refresh_token,y=l.token_type,_=l.scope,b=l.profile,S=l.expires_at,x=l.state;(function(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this.id_token=f,this.session_state=h,this.access_token=p,this.refresh_token=m,this.token_type=y,this.scope=_,this.profile=b,this.expires_at=S,this.state=x}return o.prototype.toStorageString=function(){return s.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},o.fromStorageString=function(f){return s.Log.debug("User.fromStorageString"),new o(JSON.parse(f))},a(o,[{key:"expires_in",get:function(){if(this.expires_at){var f=parseInt(Date.now()/1e3);return this.expires_at-f}},set:function(f){var h=parseInt(f);if(typeof h=="number"&&h>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+h}}},{key:"expired",get:function(){var f=this.expires_in;if(f!==void 0)return f<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),s=i(46);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.accessTokenExpiringNotificationTime,p=h===void 0?60:h,m=f.accessTokenExpiringTimer,y=m===void 0?new s.Timer("Access token expiring"):m,_=f.accessTokenExpiredTimer,b=_===void 0?new s.Timer("Access token expired"):_;o(this,l),this._accessTokenExpiringNotificationTime=p,this._accessTokenExpiring=y,this._accessTokenExpired=b}return l.prototype.load=function(h){if(h.access_token&&h.expires_in!==void 0){var p=h.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",p),p>0){var m=p-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=p+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(h){this._accessTokenExpiring.addHandler(h)},l.prototype.removeAccessTokenExpiring=function(h){this._accessTokenExpiring.removeHandler(h)},l.prototype.addAccessTokenExpired=function(h){this._accessTokenExpired.addHandler(h)},l.prototype.removeAccessTokenExpired=function(h){this._accessTokenExpired.removeHandler(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function s(o){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._name=o,this._callbacks=[]}return s.prototype.addHandler=function(l){this._callbacks.push(l)},s.prototype.removeHandler=function(l){var f=this._callbacks.findIndex(function(h){return h===l});f>=0&&this._callbacks.splice(f,1)},s.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var f;(f=this._callbacks)[l].apply(f,arguments)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(0),o=i(19),l=i(1);function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function h(p){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.CheckSessionIFrame,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(f(this,h),!p)throw s.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=p,this._CheckSessionIFrameCtor=y,this._timer=_,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(b){b?m._start(b):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(S){var x={session_state:S.session_state};S.sub&&S.sid&&(x.profile={sub:S.sub,sid:S.sid}),m._start(x)}).catch(function(S){s.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(b){s.Log.error("SessionMonitor ctor: error from getUser:",b.message)}))}return h.prototype._start=function(m){var y=this,_=m.session_state;_&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,s.Log.debug("SessionMonitor._start: session_state:",_,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,s.Log.debug("SessionMonitor._start: session_state:",_,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(_):this._metadataService.getCheckSessionIframe().then(function(b){if(b){s.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=y._client_id,x=y._checkSessionInterval,E=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),S,b,x,E),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(_)})}else s.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(b){s.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",b.message)}))},h.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(s.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(_){var b={session_state:_.session_state};_.sub&&_.sid&&(b.profile={sub:_.sub,sid:_.sid}),m._start(b)}).catch(function(_){s.Log.error("SessionMonitor: error from querySessionStatus:",_.message)})},1e3)},h.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var _=!0;y?y.sub===m._sub?(_=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):s.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):s.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),_&&(m._sub?(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(s.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(h,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function o(l,f,h,p){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];s(this,o),this._callback=l,this._client_id=f,this._url=h,this._interval=p||2e3,this._stopOnError=m;var y=h.indexOf("/",h.indexOf("//")+2);this._frame_origin=h.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=h}return o.prototype.load=function(){var f=this;return new Promise(function(h){f._frame.onload=function(){h()},window.document.body.appendChild(f._frame),f._boundMessageEvent=f._message.bind(f),window.addEventListener("message",f._boundMessageEvent,!1)})},o.prototype._message=function(f){f.origin===this._frame_origin&&f.source===this._frame.contentWindow&&(f.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):f.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+f.data+" message from check session op iframe"))},o.prototype.start=function(f){var h=this;if(this._session_state!==f){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=f;var p=function(){h._frame.contentWindow.postMessage(h._client_id+" "+h._session_state,h._frame_origin)};p(),this._timer=window.setInterval(p,this._interval)}},o.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),s=i(2),o=i(1);function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var f="access_token",h="refresh_token";r.TokenRevocationClient=function(){function p(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(l(this,p),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new _(this._settings)}return p.prototype.revoke=function(y,_){var b=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==f&&S!=h)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(x){if(x){a.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var E=b._settings.client_id,A=b._settings.client_secret;return b._revoke(x,E,A,y,S)}if(_)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},p.prototype._revoke=function(y,_,b,S,x){var E=this;return new Promise(function(A,I){var M=new E._XMLHttpRequestCtor;M.open("POST",y),M.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",M.status),M.status===200?A():I(Error(M.statusText+" ("+M.status+")"))},M.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),I("Network Error")};var D="client_id="+encodeURIComponent(_);b&&(D+="&client_secret="+encodeURIComponent(b)),D+="&token_type_hint="+encodeURIComponent(x),D+="&token="+encodeURIComponent(S),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.send(D)})},p}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.CordovaPopupWindow=function(){function o(l){var f=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(h,p){f._resolve=h,f._reject=p}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,s.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return o.prototype._isInAppBrowserInstalled=function(f){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(h){return f.hasOwnProperty(h)})},o.prototype.navigate=function(f){if(f&&f.url){if(!window.cordova)return this._error("cordova is undefined");var h=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(h)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(f.url,this.target,this.features),this._popup?(s.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},o.prototype._loadStartCallback=function(f){f.url.indexOf(this.redirect_uri)===0&&this._success({url:f.url})},o.prototype._exitCallback=function(f){this._error(f)},o.prototype._success=function(f){this._cleanup(),s.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(f)},o.prototype._error=function(f){this._cleanup(),s.Log.error(f),this._reject(new Error(f))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._popup&&(s.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(o,[{key:"promise",get:function(){return this._promise}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),s=i(10),o=i(5),l=i(6),f=i(37),h=i(38),p=i(16),m=i(2),y=i(48),_=i(49),b=i(19),S=i(20),x=i(18),E=i(1),A=i(15),I=i(50);r.default={Version:I.Version,Log:a.Log,OidcClient:s.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:f.InMemoryWebStorage,UserManager:h.UserManager,AccessTokenEvents:p.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:_.CordovaIFrameNavigator,CheckSessionIFrame:b.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:x.SessionMonitor,Global:E.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=i(0),o=i(2),l=i(25),f=i(11),h=i(12),p=i(4);function m(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function _(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.MetadataService,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f.TokenClient;if(m(this,_),!b)throw s.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=b,this._metadataService=new S(this._settings),this._userInfoService=new x(this._settings),this._joseUtil=E,this._tokenClient=new A(this._settings)}return _.prototype.validateSigninResponse=function(S,x){var E=this;return s.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,x).then(function(A){return s.Log.debug("ResponseValidator.validateSigninResponse: state processed"),E._validateTokens(S,A).then(function(I){return s.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),E._processClaims(S,I).then(function(M){return s.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),M})})})},_.prototype.validateSignoutResponse=function(S,x){return S.id!==x.state?(s.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(s.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),x.state=S.data,x.error?(s.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",x.error),Promise.reject(new h.ErrorResponse(x))):Promise.resolve(x))},_.prototype._processSigninParams=function(S,x){if(S.id!==x.state)return s.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return s.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return s.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return s.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return s.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return s.Log.debug("ResponseValidator._processSigninParams: state validated"),x.state=S.data,x.error?(s.Log.warn("ResponseValidator._processSigninParams: Response was error",x.error),Promise.reject(new h.ErrorResponse(x))):S.nonce&&!x.id_token?(s.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&x.id_token?(s.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!x.code?(s.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&x.code?(s.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(x.scope||(x.scope=S.scope),Promise.resolve(x))},_.prototype._processClaims=function(S,x){var E=this;if(x.isOpenIdConnect){if(s.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),x.profile=this._filterProtocolClaims(x.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&x.access_token)return s.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(x.access_token).then(function(A){return s.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==x.profile.sub?(s.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(x.profile=E._mergeClaims(x.profile,A),s.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",x.profile),x)});s.Log.debug("ResponseValidator._processClaims: not loading user info")}else s.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(x)},_.prototype._mergeClaims=function(S,x){var E=Object.assign({},S);for(var A in x){var I=x[A];Array.isArray(I)||(I=[I]);for(var M=0;M<I.length;M++){var D=I[M];E[A]?Array.isArray(E[A])?E[A].indexOf(D)<0&&E[A].push(D):E[A]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?E[A]=this._mergeClaims(E[A],D):E[A]=[E[A],D]):E[A]=D}}return E},_.prototype._filterProtocolClaims=function(S){s.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var x=Object.assign({},S);return this._settings._filterProtocolClaims?(y.forEach(function(E){delete x[E]}),s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",x)):s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),x},_.prototype._validateTokens=function(S,x){return x.code?(s.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,x)):x.id_token?x.access_token?(s.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,x)):(s.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,x)):(s.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(x))},_.prototype._processCode=function(S,x){var E=this,A={client_id:S.client_id,client_secret:S.client_secret,code:x.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&a(S.extraTokenParams)==="object"&&Object.assign(A,S.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(I){for(var M in I)x[M]=I[M];return x.id_token?(s.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),E._validateIdTokenAttributes(S,x)):(s.Log.debug("ResponseValidator._processCode: token response successful, returning response"),x)})},_.prototype._validateIdTokenAttributes=function(S,x){var E=this;return this._metadataService.getIssuer().then(function(A){var I=S.client_id,M=E._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",M),E._settings.getEpochTime().then(function(D){return E._joseUtil.validateJwtAttributes(x.id_token,A,I,M,D).then(function(j){return S.nonce&&S.nonce!==j.nonce?(s.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):j.sub?(x.profile=j,x):(s.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},_.prototype._validateIdTokenAndAccessToken=function(S,x){var E=this;return this._validateIdToken(S,x).then(function(A){return E._validateAccessToken(A)})},_.prototype._getSigningKeyForJwt=function(S){var x=this;return this._metadataService.getSigningKeys().then(function(E){var A=S.header.kid;if(!E)return s.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var I=void 0;if(A)I=E.filter(function(M){return M.kid===A})[0];else{if((E=x._filterByAlg(E,S.header.alg)).length>1)return s.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));I=E[0]}return Promise.resolve(I)})},_.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var x=this;return this._getSigningKeyForJwt(S).then(function(E){return E?Promise.resolve(E):(x._metadataService.resetSigningKeys(),x._getSigningKeyForJwt(S))})},_.prototype._validateIdToken=function(S,x){var E=this;if(!S.nonce)return s.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(x.id_token);return A&&A.header&&A.payload?S.nonce!==A.payload.nonce?(s.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(I){return s.Log.debug("ResponseValidator._validateIdToken: Received issuer"),E._getSigningKeyForJwtWithSingleRetry(A).then(function(M){if(!M)return s.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=S.client_id,j=E._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",j),E._joseUtil.validateJwt(x.id_token,M,I,D,j).then(function(){return s.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(x.profile=A.payload,x):(s.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(s.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},_.prototype._filterByAlg=function(S,x){var E=null;if(x.startsWith("RS"))E="RSA";else if(x.startsWith("PS"))E="PS";else{if(!x.startsWith("ES"))return s.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",x),[];E="EC"}return s.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",E),S=S.filter(function(A){return A.kty===E}),s.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",E,S.length),S},_.prototype._validateAccessToken=function(S){if(!S.profile)return s.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return s.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return s.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var x=this._joseUtil.parseJwt(S.id_token);if(!x||!x.header)return s.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",x),Promise.reject(new Error("Failed to parse id_token"));var E=x.header.alg;if(!E||E.length!==5)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E),Promise.reject(new Error("Unsupported alg: "+E));var A=E.substr(2,3);if(!A)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,A),Promise.reject(new Error("Unsupported alg: "+E));if((A=parseInt(A))!==256&&A!==384&&A!==512)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,A),Promise.reject(new Error("Unsupported alg: "+E));var I="sha"+A,M=this._joseUtil.hashString(S.access_token,I);if(!M)return s.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",I),Promise.reject(new Error("Failed to validate at_hash"));var D=M.substr(0,M.length/2),j=this._joseUtil.hexToBase64Url(D);return j!==S.profile.at_hash?(s.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",j,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(s.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},_}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),s=i(2),o=i(0),l=i(4);function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(f(this,h),!p)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=_}return h.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(_){return o.Log.debug("UserInfoService.getClaims: received userinfo url",_),y._jsonService.getJson(_,m).then(function(b){return o.Log.debug("UserInfoService.getClaims: claims received",b),b})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},h.prototype._getClaimsFromJwt=function(m){var y=this;try{var _=this._joseUtil.parseJwt(m.responseText);if(!_||!_.header||!_.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",_),Promise.reject(new Error("Failed to parse id_token"));var b=_.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(_.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(x){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+x),y._metadataService.getSigningKeys().then(function(E){if(!E)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(b)A=E.filter(function(D){return D.kid===b})[0];else{if((E=y._filterByAlg(E,_.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=E[0]}if(!A)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=y._settings.client_id,M=y._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",M),y._joseUtil.validateJwt(m.responseText,A,x,I,M,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),_.payload})})})}catch(x){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",x.message),void reject(x)}},h.prototype._filterByAlg=function(m,y){var _=null;if(y.startsWith("RS"))_="RSA";else if(y.startsWith("PS"))_="PS";else{if(!y.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];_="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",_),m=m.filter(function(b){return b.kty===_}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",_,m.length),m},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var s,o,l,f,h,p,m,y,_,b,S,x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},E={userAgent:!1},A={},I=I||(s=Math,l=(o={}).lib={},f=l.Base=function(){function C(){}return{extend:function(R){C.prototype=this;var N=new C;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=l.WordArray=f.extend({init:function(T,R){T=this.words=T||[],this.sigBytes=R??4*T.length},toString:function(T){return(T||m).stringify(this)},concat:function(T){var R=this.words,N=T.words,G=this.sigBytes,se=T.sigBytes;if(this.clamp(),G%4)for(var we=0;we<se;we++){var Ie=N[we>>>2]>>>24-we%4*8&255;R[G+we>>>2]|=Ie<<24-(G+we)%4*8}else for(we=0;we<se;we+=4)R[G+we>>>2]=N[we>>>2];return this.sigBytes+=se,this},clamp:function(){var T=this.words,R=this.sigBytes;T[R>>>2]&=4294967295<<32-R%4*8,T.length=s.ceil(R/4)},clone:function(){var T=f.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var R=[],N=0;N<T;N+=4)R.push(4294967296*s.random()|0);return new h.init(R,T)}}),p=o.enc={},m=p.Hex={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],se=0;se<N;se++){var we=R[se>>>2]>>>24-se%4*8&255;G.push((we>>>4).toString(16)),G.push((15&we).toString(16))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G+=2)N[G>>>3]|=parseInt(T.substr(G,2),16)<<24-G%8*4;return new h.init(N,R/2)}},y=p.Latin1={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],se=0;se<N;se++){var we=R[se>>>2]>>>24-se%4*8&255;G.push(String.fromCharCode(we))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G++)N[G>>>2]|=(255&T.charCodeAt(G))<<24-G%4*8;return new h.init(N,R)}},_=p.Utf8={stringify:function(T){try{return decodeURIComponent(escape(y.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return y.parse(unescape(encodeURIComponent(T)))}},b=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=_.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var R=this._data,N=R.words,G=R.sigBytes,se=this.blockSize,we=G/(4*se),Ie=(we=T?s.ceil(we):s.max((0|we)-this._minBufferSize,0))*se,xe=s.min(4*Ie,G);if(Ie){for(var Pe=0;Pe<Ie;Pe+=se)this._doProcessBlock(N,Pe);var Me=N.splice(0,Ie);R.sigBytes-=xe}return new h.init(Me,xe)},clone:function(){var T=f.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),l.Hasher=b.extend({cfg:f.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(R,N){return new T.init(N).finalize(R)}},_createHmacHelper:function(T){return function(R,N){return new S.HMAC.init(T,N).finalize(R)}}}),S=o.algo={},o);(function(C){var T,R=(T=I).lib,N=R.Base,G=R.WordArray;(T=T.x64={}).Word=N.extend({init:function(we,Ie){this.high=we,this.low=Ie}}),T.WordArray=N.extend({init:function(we,Ie){we=this.words=we||[],this.sigBytes=Ie??8*we.length},toX32:function(){for(var we=this.words,Ie=we.length,xe=[],Pe=0;Pe<Ie;Pe++){var Me=we[Pe];xe.push(Me.high),xe.push(Me.low)}return G.create(xe,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Ie=we.words=this.words.slice(0),xe=Ie.length,Pe=0;Pe<xe;Pe++)Ie[Pe]=Ie[Pe].clone();return we}})})(),function(){var C=I,T=C.lib.WordArray;C.enc.Base64={stringify:function(N){var G=N.words,se=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Ie=0;Ie<se;Ie+=3)for(var xe=(G[Ie>>>2]>>>24-Ie%4*8&255)<<16|(G[Ie+1>>>2]>>>24-(Ie+1)%4*8&255)<<8|G[Ie+2>>>2]>>>24-(Ie+2)%4*8&255,Pe=0;4>Pe&&Ie+.75*Pe<se;Pe++)N.push(we.charAt(xe>>>6*(3-Pe)&63));if(G=we.charAt(64))for(;N.length%4;)N.push(G);return N.join("")},parse:function(N){var G=N.length,se=this._map;(we=se.charAt(64))&&(we=N.indexOf(we))!=-1&&(G=we);for(var we=[],Ie=0,xe=0;xe<G;xe++)if(xe%4){var Pe=se.indexOf(N.charAt(xe-1))<<xe%4*2,Me=se.indexOf(N.charAt(xe))>>>6-xe%4*2;we[Ie>>>2]|=(Pe|Me)<<24-Ie%4*8,Ie++}return T.create(we,Ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(C){for(var T=I,R=(G=T.lib).WordArray,N=G.Hasher,G=T.algo,se=[],we=[],Ie=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Pe=0;64>Pe;){var Me;e:{Me=xe;for(var $e=C.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Pe&&(se[Pe]=Ie(C.pow(xe,.5))),we[Pe]=Ie(C.pow(xe,1/3)),Pe++),xe++}var Ye=[];G=G.SHA256=N.extend({_doReset:function(){this._hash=new R.init(se.slice(0))},_doProcessBlock:function(dt,ut){for(var be=this._hash.words,De=be[0],Ue=be[1],Ke=be[2],lt=be[3],mt=be[4],Ft=be[5],Tt=be[6],pn=be[7],kt=0;64>kt;kt++){if(16>kt)Ye[kt]=0|dt[ut+kt];else{var zt=Ye[kt-15],Bn=Ye[kt-2];Ye[kt]=((zt<<25|zt>>>7)^(zt<<14|zt>>>18)^zt>>>3)+Ye[kt-7]+((Bn<<15|Bn>>>17)^(Bn<<13|Bn>>>19)^Bn>>>10)+Ye[kt-16]}zt=pn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&Ft^~mt&Tt)+we[kt]+Ye[kt],Bn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ke^Ue&Ke),pn=Tt,Tt=Ft,Ft=mt,mt=lt+zt|0,lt=Ke,Ke=Ue,Ue=De,De=zt+Bn|0}be[0]=be[0]+De|0,be[1]=be[1]+Ue|0,be[2]=be[2]+Ke|0,be[3]=be[3]+lt|0,be[4]=be[4]+mt|0,be[5]=be[5]+Ft|0,be[6]=be[6]+Tt|0,be[7]=be[7]+pn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,be=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=C.floor(be/4294967296),ut[15+(De+64>>>9<<4)]=be,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),T.SHA256=N._createHelper(G),T.HmacSHA256=N._createHmacHelper(G)}(Math),function(){function C(){return N.create.apply(N,arguments)}for(var T=I,R=T.lib.Hasher,N=(se=T.x64).Word,G=se.WordArray,se=T.algo,we=[C(1116352408,3609767458),C(1899447441,602891725),C(3049323471,3964484399),C(3921009573,2173295548),C(961987163,4081628472),C(1508970993,3053834265),C(2453635748,2937671579),C(2870763221,3664609560),C(3624381080,2734883394),C(310598401,1164996542),C(607225278,1323610764),C(1426881987,3590304994),C(1925078388,4068182383),C(2162078206,991336113),C(2614888103,633803317),C(3248222580,3479774868),C(3835390401,2666613458),C(4022224774,944711139),C(264347078,2341262773),C(604807628,2007800933),C(770255983,1495990901),C(1249150122,1856431235),C(1555081692,3175218132),C(1996064986,2198950837),C(2554220882,3999719339),C(2821834349,766784016),C(2952996808,2566594879),C(3210313671,3203337956),C(3336571891,1034457026),C(3584528711,2466948901),C(113926993,3758326383),C(338241895,168717936),C(666307205,1188179964),C(773529912,1546045734),C(1294757372,1522805485),C(1396182291,2643833823),C(1695183700,2343527390),C(1986661051,1014477480),C(2177026350,1206759142),C(2456956037,344077627),C(2730485921,1290863460),C(2820302411,3158454273),C(3259730800,3505952657),C(3345764771,106217008),C(3516065817,3606008344),C(3600352804,1432725776),C(4094571909,1467031594),C(275423344,851169720),C(430227734,3100823752),C(506948616,1363258195),C(659060556,3750685593),C(883997877,3785050280),C(958139571,3318307427),C(1322822218,3812723403),C(1537002063,2003034995),C(1747873779,3602036899),C(1955562222,1575990012),C(2024104815,1125592928),C(2227730452,2716904306),C(2361852424,442776044),C(2428436474,593698344),C(2756734187,3733110249),C(3204031479,2999351573),C(3329325298,3815920427),C(3391569614,3928383900),C(3515267271,566280711),C(3940187606,3454069534),C(4118630271,4000239992),C(116418474,1914138554),C(174292421,2731055270),C(289380356,3203993006),C(460393269,320620315),C(685471733,587496836),C(852142971,1086792851),C(1017036298,365543100),C(1126000580,2618297676),C(1288033470,3409855158),C(1501505948,4234509866),C(1607167915,987167468),C(1816402316,1246189591)],Ie=[],xe=0;80>xe;xe++)Ie[xe]=C();se=se.SHA512=R.extend({_doReset:function(){this._hash=new G.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Ue=this._hash.words)[0],Ye=Ue[1],st=Ue[2],dt=Ue[3],ut=Ue[4],be=Ue[5],De=Ue[6],Ue=Ue[7],Ke=ze.high,lt=ze.low,mt=Ye.high,Ft=Ye.low,Tt=st.high,pn=st.low,kt=dt.high,zt=dt.low,Bn=ut.high,Mn=ut.low,Fn=be.high,Wt=be.low,Kn=De.high,hn=De.low,Yn=Ue.high,hr=Ue.low,pr=Ke,or=lt,vi=mt,qi=Ft,la=Tt,nr=pn,Ii=kt,ps=zt,rr=Bn,Ir=Mn,Ka=Fn,zi=Wt,wu=Kn,Ga=hn,yn=Yn,Ta=hr,ur=0;80>ur;ur++){var Mi=Ie[ur];if(16>ur)var ca=Mi.high=0|Me[$e+2*ur],lr=Mi.low=0|Me[$e+2*ur+1];else{ca=((lr=(ca=Ie[ur-15]).high)>>>1|(Hi=ca.low)<<31)^(lr>>>8|Hi<<24)^lr>>>7;var Hi=(Hi>>>1|lr<<31)^(Hi>>>8|lr<<24)^(Hi>>>7|lr<<25),Wa=((lr=(Wa=Ie[ur-2]).high)>>>19|(Cr=Wa.low)<<13)^(lr<<3|Cr>>>29)^lr>>>6,Cr=(Cr>>>19|lr<<13)^(Cr<<3|lr>>>29)^(Cr>>>6|lr<<26),Rl=(lr=Ie[ur-7]).high,gs=(Ca=Ie[ur-16]).high,Ca=Ca.low;ca=(ca=(ca=ca+Rl+((lr=Hi+lr.low)>>>0<Hi>>>0?1:0))+Wa+((lr=lr+Cr)>>>0<Cr>>>0?1:0))+gs+((lr=lr+Ca)>>>0<Ca>>>0?1:0),Mi.high=ca,Mi.low=lr}Rl=rr&Ka^~rr&wu,Ca=Ir&zi^~Ir&Ga,Mi=pr&vi^pr&la^vi&la;var ih=or&qi^or&nr^qi&nr,Vi=(Hi=(pr>>>28|or<<4)^(pr<<30|or>>>2)^(pr<<25|or>>>7),Wa=(or>>>28|pr<<4)^(or<<30|pr>>>2)^(or<<25|pr>>>7),(Cr=we[ur]).high),tf=Cr.low;gs=yn+((rr>>>14|Ir<<18)^(rr>>>18|Ir<<14)^(rr<<23|Ir>>>9))+((Cr=Ta+((Ir>>>14|rr<<18)^(Ir>>>18|rr<<14)^(Ir<<23|rr>>>9)))>>>0<Ta>>>0?1:0),yn=wu,Ta=Ga,wu=Ka,Ga=zi,Ka=rr,zi=Ir,rr=Ii+(gs=(gs=(gs=gs+Rl+((Cr=Cr+Ca)>>>0<Ca>>>0?1:0))+Vi+((Cr=Cr+tf)>>>0<tf>>>0?1:0))+ca+((Cr=Cr+lr)>>>0<lr>>>0?1:0))+((Ir=ps+Cr|0)>>>0<ps>>>0?1:0)|0,Ii=la,ps=nr,la=vi,nr=qi,vi=pr,qi=or,pr=gs+(Mi=Hi+Mi+((lr=Wa+ih)>>>0<Wa>>>0?1:0))+((or=Cr+lr|0)>>>0<Cr>>>0?1:0)|0}lt=ze.low=lt+or,ze.high=Ke+pr+(lt>>>0<or>>>0?1:0),Ft=Ye.low=Ft+qi,Ye.high=mt+vi+(Ft>>>0<qi>>>0?1:0),pn=st.low=pn+nr,st.high=Tt+la+(pn>>>0<nr>>>0?1:0),zt=dt.low=zt+ps,dt.high=kt+Ii+(zt>>>0<ps>>>0?1:0),Mn=ut.low=Mn+Ir,ut.high=Bn+rr+(Mn>>>0<Ir>>>0?1:0),Wt=be.low=Wt+zi,be.high=Fn+Ka+(Wt>>>0<zi>>>0?1:0),hn=De.low=hn+Ga,De.high=Kn+wu+(hn>>>0<Ga>>>0?1:0),hr=Ue.low=hr+Ta,Ue.high=Yn+yn+(hr>>>0<Ta>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Ye=8*Me.sigBytes;return $e[Ye>>>5]|=128<<24-Ye%32,$e[30+(Ye+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Ye+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=R.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),T.SHA512=R._createHelper(se),T.HmacSHA512=R._createHmacHelper(se)}(),function(){var C=I,T=(G=C.x64).Word,R=G.WordArray,N=(G=C.algo).SHA512,G=G.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new T.init(3418070365,3238371032),new T.init(1654270250,914150663),new T.init(2438529370,812702999),new T.init(355462360,4144912697),new T.init(1731405415,4290775857),new T.init(2394180231,1750603025),new T.init(3675008525,1694076839),new T.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});C.SHA384=N._createHelper(G),C.HmacSHA384=N._createHmacHelper(G)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var M,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function j(C){var T,R,N="";for(T=0;T+3<=C.length;T+=3)R=parseInt(C.substring(T,T+3),16),N+=D.charAt(R>>6)+D.charAt(63&R);for(T+1==C.length?(R=parseInt(C.substring(T,T+1),16),N+=D.charAt(R<<2)):T+2==C.length&&(R=parseInt(C.substring(T,T+2),16),N+=D.charAt(R>>2)+D.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(C){var T,R,N,G="",se=0;for(T=0;T<C.length&&C.charAt(T)!="=";++T)(N=D.indexOf(C.charAt(T)))<0||(se==0?(G+=ge(N>>2),R=3&N,se=1):se==1?(G+=ge(R<<2|N>>4),R=15&N,se=2):se==2?(G+=ge(R),G+=ge(N>>2),R=3&N,se=3):(G+=ge(R<<2|N>>4),G+=ge(15&N),se=0));return se==1&&(G+=ge(R<<2)),G}function Y(C){var T,R=Q(C),N=new Array;for(T=0;2*T<R.length;++T)N[T]=parseInt(R.substring(2*T,2*T+2),16);return N}function q(C,T,R){C!=null&&(typeof C=="number"?this.fromNumber(C,T,R):T==null&&typeof C!="string"?this.fromString(C,256):this.fromString(C,T))}function Z(){return new q(null)}E.appName=="Microsoft Internet Explorer"?(q.prototype.am=function(T,R,N,G,se,we){for(var Ie=32767&R,xe=R>>15;--we>=0;){var Pe=32767&this[T],Me=this[T++]>>15,$e=xe*Pe+Me*Ie;se=((Pe=Ie*Pe+((32767&$e)<<15)+N[G]+(1073741823&se))>>>30)+($e>>>15)+xe*Me+(se>>>30),N[G++]=1073741823&Pe}return se},M=30):E.appName!="Netscape"?(q.prototype.am=function(T,R,N,G,se,we){for(;--we>=0;){var Ie=R*this[T++]+N[G]+se;se=Math.floor(Ie/67108864),N[G++]=67108863&Ie}return se},M=26):(q.prototype.am=function(T,R,N,G,se,we){for(var Ie=16383&R,xe=R>>14;--we>=0;){var Pe=16383&this[T],Me=this[T++]>>14,$e=xe*Pe+Me*Ie;se=((Pe=Ie*Pe+((16383&$e)<<14)+N[G]+se)>>28)+($e>>14)+xe*Me,N[G++]=268435455&Pe}return se},M=28),q.prototype.DB=M,q.prototype.DM=(1<<M)-1,q.prototype.DV=1<<M,q.prototype.FV=Math.pow(2,52),q.prototype.F1=52-M,q.prototype.F2=2*M-52;var fe,te,oe=new Array;for(fe=48,te=0;te<=9;++te)oe[fe++]=te;for(fe=97,te=10;te<36;++te)oe[fe++]=te;for(fe=65,te=10;te<36;++te)oe[fe++]=te;function ge(C){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(C)}function _e(C,T){var R=oe[C.charCodeAt(T)];return R??-1}function le(C){var T=Z();return T.fromInt(C),T}function ce(C){var T,R=1;return(T=C>>>16)!=0&&(C=T,R+=16),(T=C>>8)!=0&&(C=T,R+=8),(T=C>>4)!=0&&(C=T,R+=4),(T=C>>2)!=0&&(C=T,R+=2),(T=C>>1)!=0&&(C=T,R+=1),R}function Le(C){this.m=C}function k(C){this.m=C,this.mp=C.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<C.DB-15)-1,this.mt2=2*C.t}function ne(C,T){return C&T}function me(C,T){return C|T}function H(C,T){return C^T}function J(C,T){return C&~T}function pe(C){if(C==0)return-1;var T=0;return!(65535&C)&&(C>>=16,T+=16),!(255&C)&&(C>>=8,T+=8),!(15&C)&&(C>>=4,T+=4),!(3&C)&&(C>>=2,T+=2),!(1&C)&&++T,T}function Ae(C){for(var T=0;C!=0;)C&=C-1,++T;return T}function Je(){}function Re(C){return C}function Fe(C){this.r2=Z(),this.q3=Z(),q.ONE.dlShiftTo(2*C.t,this.r2),this.mu=this.r2.divide(C),this.m=C}Le.prototype.convert=function(T){return T.s<0||T.compareTo(this.m)>=0?T.mod(this.m):T},Le.prototype.revert=function(T){return T},Le.prototype.reduce=function(T){T.divRemTo(this.m,null,T)},Le.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Le.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},k.prototype.convert=function(T){var R=Z();return T.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),T.s<0&&R.compareTo(q.ZERO)>0&&this.m.subTo(R,R),R},k.prototype.revert=function(T){var R=Z();return T.copyTo(R),this.reduce(R),R},k.prototype.reduce=function(T){for(;T.t<=this.mt2;)T[T.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&T[R],G=N*this.mpl+((N*this.mph+(T[R]>>15)*this.mpl&this.um)<<15)&T.DM;for(T[N=R+this.m.t]+=this.m.am(0,G,T,R,0,this.m.t);T[N]>=T.DV;)T[N]-=T.DV,T[++N]++}T.clamp(),T.drShiftTo(this.m.t,T),T.compareTo(this.m)>=0&&T.subTo(this.m,T)},k.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},k.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},q.prototype.copyTo=function(T){for(var R=this.t-1;R>=0;--R)T[R]=this[R];T.t=this.t,T.s=this.s},q.prototype.fromInt=function(T){this.t=1,this.s=T<0?-1:0,T>0?this[0]=T:T<-1?this[0]=T+this.DV:this.t=0},q.prototype.fromString=function(T,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(T,R);N=2}this.t=0,this.s=0;for(var G=T.length,se=!1,we=0;--G>=0;){var Ie=N==8?255&T[G]:_e(T,G);Ie<0?T.charAt(G)=="-"&&(se=!0):(se=!1,we==0?this[this.t++]=Ie:we+N>this.DB?(this[this.t-1]|=(Ie&(1<<this.DB-we)-1)<<we,this[this.t++]=Ie>>this.DB-we):this[this.t-1]|=Ie<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&T[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),se&&q.ZERO.subTo(this,this)},q.prototype.clamp=function(){for(var T=this.s&this.DM;this.t>0&&this[this.t-1]==T;)--this.t},q.prototype.dlShiftTo=function(T,R){var N;for(N=this.t-1;N>=0;--N)R[N+T]=this[N];for(N=T-1;N>=0;--N)R[N]=0;R.t=this.t+T,R.s=this.s},q.prototype.drShiftTo=function(T,R){for(var N=T;N<this.t;++N)R[N-T]=this[N];R.t=Math.max(this.t-T,0),R.s=this.s},q.prototype.lShiftTo=function(T,R){var N,G=T%this.DB,se=this.DB-G,we=(1<<se)-1,Ie=Math.floor(T/this.DB),xe=this.s<<G&this.DM;for(N=this.t-1;N>=0;--N)R[N+Ie+1]=this[N]>>se|xe,xe=(this[N]&we)<<G;for(N=Ie-1;N>=0;--N)R[N]=0;R[Ie]=xe,R.t=this.t+Ie+1,R.s=this.s,R.clamp()},q.prototype.rShiftTo=function(T,R){R.s=this.s;var N=Math.floor(T/this.DB);if(N>=this.t)R.t=0;else{var G=T%this.DB,se=this.DB-G,we=(1<<G)-1;R[0]=this[N]>>G;for(var Ie=N+1;Ie<this.t;++Ie)R[Ie-N-1]|=(this[Ie]&we)<<se,R[Ie-N]=this[Ie]>>G;G>0&&(R[this.t-N-1]|=(this.s&we)<<se),R.t=this.t-N,R.clamp()}},q.prototype.subTo=function(T,R){for(var N=0,G=0,se=Math.min(T.t,this.t);N<se;)G+=this[N]-T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G-=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G-=T[N],R[N++]=G&this.DM,G>>=this.DB;G-=T.s}R.s=G<0?-1:0,G<-1?R[N++]=this.DV+G:G>0&&(R[N++]=G),R.t=N,R.clamp()},q.prototype.multiplyTo=function(T,R){var N=this.abs(),G=T.abs(),se=N.t;for(R.t=se+G.t;--se>=0;)R[se]=0;for(se=0;se<G.t;++se)R[se+N.t]=N.am(0,G[se],R,se,0,N.t);R.s=0,R.clamp(),this.s!=T.s&&q.ZERO.subTo(R,R)},q.prototype.squareTo=function(T){for(var R=this.abs(),N=T.t=2*R.t;--N>=0;)T[N]=0;for(N=0;N<R.t-1;++N){var G=R.am(N,R[N],T,2*N,0,1);(T[N+R.t]+=R.am(N+1,2*R[N],T,2*N+1,G,R.t-N-1))>=R.DV&&(T[N+R.t]-=R.DV,T[N+R.t+1]=1)}T.t>0&&(T[T.t-1]+=R.am(N,R[N],T,2*N,0,1)),T.s=0,T.clamp()},q.prototype.divRemTo=function(T,R,N){var G=T.abs();if(!(G.t<=0)){var se=this.abs();if(se.t<G.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=Z());var we=Z(),Ie=this.s,xe=T.s,Pe=this.DB-ce(G[G.t-1]);Pe>0?(G.lShiftTo(Pe,we),se.lShiftTo(Pe,N)):(G.copyTo(we),se.copyTo(N));var Me=we.t,$e=we[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?we[Me-2]>>this.F2:0),Ye=this.FV/ze,st=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,be=ut-Me,De=R??Z();for(we.dlShiftTo(be,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),q.ONE.dlShiftTo(Me,De),De.subTo(we,we);we.t<Me;)we[we.t++]=0;for(;--be>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Ye+(N[ut-1]+dt)*st);if((N[ut]+=we.am(0,Ue,N,be,0,Me))<Ue)for(we.dlShiftTo(be,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(Me,R),Ie!=xe&&q.ZERO.subTo(R,R)),N.t=Me,N.clamp(),Pe>0&&N.rShiftTo(Pe,N),Ie<0&&q.ZERO.subTo(N,N)}}},q.prototype.invDigit=function(){if(this.t<1)return 0;var T=this[0];if(!(1&T))return 0;var R=3&T;return(R=(R=(R=(R=R*(2-(15&T)*R)&15)*(2-(255&T)*R)&255)*(2-((65535&T)*R&65535))&65535)*(2-T*R%this.DV)%this.DV)>0?this.DV-R:-R},q.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},q.prototype.exp=function(T,R){if(T>4294967295||T<1)return q.ONE;var N=Z(),G=Z(),se=R.convert(this),we=ce(T)-1;for(se.copyTo(N);--we>=0;)if(R.sqrTo(N,G),(T&1<<we)>0)R.mulTo(G,se,N);else{var Ie=N;N=G,G=Ie}return R.revert(N)},q.prototype.toString=function(T){if(this.s<0)return"-"+this.negate().toString(T);var R;if(T==16)R=4;else if(T==8)R=3;else if(T==2)R=1;else if(T==32)R=5;else{if(T!=4)return this.toRadix(T);R=2}var N,G=(1<<R)-1,se=!1,we="",Ie=this.t,xe=this.DB-Ie*this.DB%R;if(Ie-- >0)for(xe<this.DB&&(N=this[Ie]>>xe)>0&&(se=!0,we=ge(N));Ie>=0;)xe<R?(N=(this[Ie]&(1<<xe)-1)<<R-xe,N|=this[--Ie]>>(xe+=this.DB-R)):(N=this[Ie]>>(xe-=R)&G,xe<=0&&(xe+=this.DB,--Ie)),N>0&&(se=!0),se&&(we+=ge(N));return se?we:"0"},q.prototype.negate=function(){var T=Z();return q.ZERO.subTo(this,T),T},q.prototype.abs=function(){return this.s<0?this.negate():this},q.prototype.compareTo=function(T){var R=this.s-T.s;if(R!=0)return R;var N=this.t;if((R=N-T.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-T[N])!=0)return R;return 0},q.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ce(this[this.t-1]^this.s&this.DM)},q.prototype.mod=function(T){var R=Z();return this.abs().divRemTo(T,null,R),this.s<0&&R.compareTo(q.ZERO)>0&&T.subTo(R,R),R},q.prototype.modPowInt=function(T,R){var N;return N=T<256||R.isEven()?new Le(R):new k(R),this.exp(T,N)},q.ZERO=le(0),q.ONE=le(1),Je.prototype.convert=Re,Je.prototype.revert=Re,Je.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N)},Je.prototype.sqrTo=function(T,R){T.squareTo(R)},Fe.prototype.convert=function(T){if(T.s<0||T.t>2*this.m.t)return T.mod(this.m);if(T.compareTo(this.m)<0)return T;var R=Z();return T.copyTo(R),this.reduce(R),R},Fe.prototype.revert=function(T){return T},Fe.prototype.reduce=function(T){for(T.drShiftTo(this.m.t-1,this.r2),T.t>this.m.t+1&&(T.t=this.m.t+1,T.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);T.compareTo(this.r2)<0;)T.dAddOffset(1,this.m.t+1);for(T.subTo(this.r2,T);T.compareTo(this.m)>=0;)T.subTo(this.m,T)},Fe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Fe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)};var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ie=(1<<26)/Xe[Xe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){this.i=0,this.j=0,this.S=new Array}q.prototype.chunkSize=function(T){return Math.floor(Math.LN2*this.DB/Math.log(T))},q.prototype.toRadix=function(T){if(T==null&&(T=10),this.signum()==0||T<2||T>36)return"0";var R=this.chunkSize(T),N=Math.pow(T,R),G=le(N),se=Z(),we=Z(),Ie="";for(this.divRemTo(G,se,we);se.signum()>0;)Ie=(N+we.intValue()).toString(T).substr(1)+Ie,se.divRemTo(G,se,we);return we.intValue().toString(T)+Ie},q.prototype.fromRadix=function(T,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),G=Math.pow(R,N),se=!1,we=0,Ie=0,xe=0;xe<T.length;++xe){var Pe=_e(T,xe);Pe<0?T.charAt(xe)=="-"&&this.signum()==0&&(se=!0):(Ie=R*Ie+Pe,++we>=N&&(this.dMultiply(G),this.dAddOffset(Ie,0),we=0,Ie=0))}we>0&&(this.dMultiply(Math.pow(R,we)),this.dAddOffset(Ie,0)),se&&q.ZERO.subTo(this,this)},q.prototype.fromNumber=function(T,R,N){if(typeof R=="number")if(T<2)this.fromInt(1);else for(this.fromNumber(T,N),this.testBit(T-1)||this.bitwiseTo(q.ONE.shiftLeft(T-1),me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>T&&this.subTo(q.ONE.shiftLeft(T-1),this);else{var G=new Array,se=7&T;G.length=1+(T>>3),R.nextBytes(G),se>0?G[0]&=(1<<se)-1:G[0]=0,this.fromString(G,256)}},q.prototype.bitwiseTo=function(T,R,N){var G,se,we=Math.min(T.t,this.t);for(G=0;G<we;++G)N[G]=R(this[G],T[G]);if(T.t<this.t){for(se=T.s&this.DM,G=we;G<this.t;++G)N[G]=R(this[G],se);N.t=this.t}else{for(se=this.s&this.DM,G=we;G<T.t;++G)N[G]=R(se,T[G]);N.t=T.t}N.s=R(this.s,T.s),N.clamp()},q.prototype.changeBit=function(T,R){var N=q.ONE.shiftLeft(T);return this.bitwiseTo(N,R,N),N},q.prototype.addTo=function(T,R){for(var N=0,G=0,se=Math.min(T.t,this.t);N<se;)G+=this[N]+T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G+=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G+=T[N],R[N++]=G&this.DM,G>>=this.DB;G+=T.s}R.s=G<0?-1:0,G>0?R[N++]=G:G<-1&&(R[N++]=this.DV+G),R.t=N,R.clamp()},q.prototype.dMultiply=function(T){this[this.t]=this.am(0,T-1,this,0,0,this.t),++this.t,this.clamp()},q.prototype.dAddOffset=function(T,R){if(T!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=T;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},q.prototype.multiplyLowerTo=function(T,R,N){var G,se=Math.min(this.t+T.t,R);for(N.s=0,N.t=se;se>0;)N[--se]=0;for(G=N.t-this.t;se<G;++se)N[se+this.t]=this.am(0,T[se],N,se,0,this.t);for(G=Math.min(T.t,R);se<G;++se)this.am(0,T[se],N,se,0,R-se);N.clamp()},q.prototype.multiplyUpperTo=function(T,R,N){--R;var G=N.t=this.t+T.t-R;for(N.s=0;--G>=0;)N[G]=0;for(G=Math.max(R-this.t,0);G<T.t;++G)N[this.t+G-R]=this.am(R-G,T[G],N,0,0,this.t+G-R);N.clamp(),N.drShiftTo(1,N)},q.prototype.modInt=function(T){if(T<=0)return 0;var R=this.DV%T,N=this.s<0?T-1:0;if(this.t>0)if(R==0)N=this[0]%T;else for(var G=this.t-1;G>=0;--G)N=(R*N+this[G])%T;return N},q.prototype.millerRabin=function(T){var R=this.subtract(q.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var G=R.shiftRight(N);(T=T+1>>1)>Xe.length&&(T=Xe.length);for(var se=Z(),we=0;we<T;++we){se.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var Ie=se.modPow(G,this);if(Ie.compareTo(q.ONE)!=0&&Ie.compareTo(R)!=0){for(var xe=1;xe++<N&&Ie.compareTo(R)!=0;)if((Ie=Ie.modPowInt(2,this)).compareTo(q.ONE)==0)return!1;if(Ie.compareTo(R)!=0)return!1}}return!0},q.prototype.clone=function(){var T=Z();return this.copyTo(T),T},q.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},q.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},q.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},q.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},q.prototype.toByteArray=function(){var T=this.t,R=new Array;R[0]=this.s;var N,G=this.DB-T*this.DB%8,se=0;if(T-- >0)for(G<this.DB&&(N=this[T]>>G)!=(this.s&this.DM)>>G&&(R[se++]=N|this.s<<this.DB-G);T>=0;)G<8?(N=(this[T]&(1<<G)-1)<<8-G,N|=this[--T]>>(G+=this.DB-8)):(N=this[T]>>(G-=8)&255,G<=0&&(G+=this.DB,--T)),128&N&&(N|=-256),se==0&&(128&this.s)!=(128&N)&&++se,(se>0||N!=this.s)&&(R[se++]=N);return R},q.prototype.equals=function(T){return this.compareTo(T)==0},q.prototype.min=function(T){return this.compareTo(T)<0?this:T},q.prototype.max=function(T){return this.compareTo(T)>0?this:T},q.prototype.and=function(T){var R=Z();return this.bitwiseTo(T,ne,R),R},q.prototype.or=function(T){var R=Z();return this.bitwiseTo(T,me,R),R},q.prototype.xor=function(T){var R=Z();return this.bitwiseTo(T,H,R),R},q.prototype.andNot=function(T){var R=Z();return this.bitwiseTo(T,J,R),R},q.prototype.not=function(){for(var T=Z(),R=0;R<this.t;++R)T[R]=this.DM&~this[R];return T.t=this.t,T.s=~this.s,T},q.prototype.shiftLeft=function(T){var R=Z();return T<0?this.rShiftTo(-T,R):this.lShiftTo(T,R),R},q.prototype.shiftRight=function(T){var R=Z();return T<0?this.lShiftTo(-T,R):this.rShiftTo(T,R),R},q.prototype.getLowestSetBit=function(){for(var T=0;T<this.t;++T)if(this[T]!=0)return T*this.DB+pe(this[T]);return this.s<0?this.t*this.DB:-1},q.prototype.bitCount=function(){for(var T=0,R=this.s&this.DM,N=0;N<this.t;++N)T+=Ae(this[N]^R);return T},q.prototype.testBit=function(T){var R=Math.floor(T/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<T%this.DB)!=0},q.prototype.setBit=function(T){return this.changeBit(T,me)},q.prototype.clearBit=function(T){return this.changeBit(T,J)},q.prototype.flipBit=function(T){return this.changeBit(T,H)},q.prototype.add=function(T){var R=Z();return this.addTo(T,R),R},q.prototype.subtract=function(T){var R=Z();return this.subTo(T,R),R},q.prototype.multiply=function(T){var R=Z();return this.multiplyTo(T,R),R},q.prototype.divide=function(T){var R=Z();return this.divRemTo(T,R,null),R},q.prototype.remainder=function(T){var R=Z();return this.divRemTo(T,null,R),R},q.prototype.divideAndRemainder=function(T){var R=Z(),N=Z();return this.divRemTo(T,R,N),new Array(R,N)},q.prototype.modPow=function(T,R){var N,G,se=T.bitLength(),we=le(1);if(se<=0)return we;N=se<18?1:se<48?3:se<144?4:se<768?5:6,G=se<8?new Le(R):R.isEven()?new Fe(R):new k(R);var Ie=new Array,xe=3,Pe=N-1,Me=(1<<N)-1;if(Ie[1]=G.convert(this),N>1){var $e=Z();for(G.sqrTo(Ie[1],$e);xe<=Me;)Ie[xe]=Z(),G.mulTo($e,Ie[xe-2],Ie[xe]),xe+=2}var ze,Ye,st=T.t-1,dt=!0,ut=Z();for(se=ce(T[st])-1;st>=0;){for(se>=Pe?ze=T[st]>>se-Pe&Me:(ze=(T[st]&(1<<se+1)-1)<<Pe-se,st>0&&(ze|=T[st-1]>>this.DB+se-Pe)),xe=N;!(1&ze);)ze>>=1,--xe;if((se-=xe)<0&&(se+=this.DB,--st),dt)Ie[ze].copyTo(we),dt=!1;else{for(;xe>1;)G.sqrTo(we,ut),G.sqrTo(ut,we),xe-=2;xe>0?G.sqrTo(we,ut):(Ye=we,we=ut,ut=Ye),G.mulTo(ut,Ie[ze],we)}for(;st>=0&&!(T[st]&1<<se);)G.sqrTo(we,ut),Ye=we,we=ut,ut=Ye,--se<0&&(se=this.DB-1,--st)}return G.revert(we)},q.prototype.modInverse=function(T){var R=T.isEven();if(this.isEven()&&R||T.signum()==0)return q.ZERO;for(var N=T.clone(),G=this.clone(),se=le(1),we=le(0),Ie=le(0),xe=le(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(se.isEven()&&we.isEven()||(se.addTo(this,se),we.subTo(T,we)),se.rShiftTo(1,se)):we.isEven()||we.subTo(T,we),we.rShiftTo(1,we);for(;G.isEven();)G.rShiftTo(1,G),R?(Ie.isEven()&&xe.isEven()||(Ie.addTo(this,Ie),xe.subTo(T,xe)),Ie.rShiftTo(1,Ie)):xe.isEven()||xe.subTo(T,xe),xe.rShiftTo(1,xe);N.compareTo(G)>=0?(N.subTo(G,N),R&&se.subTo(Ie,se),we.subTo(xe,we)):(G.subTo(N,G),R&&Ie.subTo(se,Ie),xe.subTo(we,xe))}return G.compareTo(q.ONE)!=0?q.ZERO:xe.compareTo(T)>=0?xe.subtract(T):xe.signum()<0?(xe.addTo(T,xe),xe.signum()<0?xe.add(T):xe):xe},q.prototype.pow=function(T){return this.exp(T,new Je)},q.prototype.gcd=function(T){var R=this.s<0?this.negate():this.clone(),N=T.s<0?T.negate():T.clone();if(R.compareTo(N)<0){var G=R;R=N,N=G}var se=R.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return R;for(se<we&&(we=se),we>0&&(R.rShiftTo(we,R),N.rShiftTo(we,N));R.signum()>0;)(se=R.getLowestSetBit())>0&&R.rShiftTo(se,R),(se=N.getLowestSetBit())>0&&N.rShiftTo(se,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},q.prototype.isProbablePrime=function(T){var R,N=this.abs();if(N.t==1&&N[0]<=Xe[Xe.length-1]){for(R=0;R<Xe.length;++R)if(N[0]==Xe[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Xe.length;){for(var G=Xe[R],se=R+1;se<Xe.length&&G<ie;)G*=Xe[se++];for(G=N.modInt(G);R<se;)if(G%Xe[R++]==0)return!1}return N.millerRabin(T)},q.prototype.square=function(){var T=Z();return this.squareTo(T),T},z.prototype.init=function(T){var R,N,G;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+T[R%T.length]&255,G=this.S[R],this.S[R]=this.S[N],this.S[N]=G;this.i=0,this.j=0},z.prototype.next=function(){var T;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,T=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=T,this.S[T+this.S[this.i]&255]};var $,re,W;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(T){re[W++]^=255&T,re[W++]^=T>>8&255,re[W++]^=T>>16&255,re[W++]^=T>>24&255,W>=256&&(W-=256)})(new Date().getTime())}if(re==null){var ye;if(re=new Array,W=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var He=A.crypto||A.msCrypto;if(He.getRandomValues){var Te=new Uint8Array(32);for(He.getRandomValues(Te),ye=0;ye<32;++ye)re[W++]=Te[ye]}else if(E.appName=="Netscape"&&E.appVersion<"5"){var Ne=A.crypto.random(32);for(ye=0;ye<Ne.length;++ye)re[W++]=255&Ne.charCodeAt(ye)}}for(;W<256;)ye=Math.floor(65536*Math.random()),re[W++]=ye>>>8,re[W++]=255&ye;W=0,he()}function tt(){if($==null){for(he(),($=function(){return new z}()).init(re),W=0;W<re.length;++W)re[W]=0;W=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(C,T){return new q(C,T)}function Ut(C,T,R){for(var N="",G=0;N.length<T;)N+=R(String.fromCharCode.apply(String,C.concat([(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G]))),G+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(C,T){this.x=T,this.q=C}function X(C,T,R,N){this.curve=C,this.x=T,this.y=R,this.z=N??q.ONE,this.zinv=null}function B(C,T,R){this.q=C,this.a=this.fromBigInteger(T),this.b=this.fromBigInteger(R),this.infinity=new X(this,null,null)}nt.prototype.nextBytes=function(T){var R;for(R=0;R<T.length;++R)T[R]=tt()},Se.prototype.doPublic=function(T){return T.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(T,R){if(this.isPublic=!0,this.isPrivate=!1,typeof T!="string")this.n=T,this.e=R;else{if(!(T!=null&&R!=null&&T.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(T,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(T){var R=function(we,Ie){if(Ie<we.length+11)throw"Message too long for RSA";for(var xe=new Array,Pe=we.length-1;Pe>=0&&Ie>0;){var Me=we.charCodeAt(Pe--);Me<128?xe[--Ie]=Me:Me>127&&Me<2048?(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6|192):(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6&63|128,xe[--Ie]=Me>>12|224)}xe[--Ie]=0;for(var $e=new nt,ze=new Array;Ie>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Ie]=ze[0]}return xe[--Ie]=2,xe[--Ie]=0,new q(xe)}(T,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var G=N.toString(16);return 1&G.length?"0"+G:G},Se.prototype.encryptOAEP=function(T,R,N){var G=function(xe,Pe,Me,$e){var ze=V.crypto.MessageDigest,Ye=V.crypto.Util,st=null;if(Me||(Me="sha1"),typeof Me=="string"&&(st=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(st),Me=function(Tt){return un(Ye.hashHex(Ln(Tt),st))}),xe.length+2*$e+2>Pe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Pe-xe.length-2*$e-2;dt+=1)ut+="\0";var be=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Ue=Ut(De,be.length,Me),Ke=[];for(dt=0;dt<be.length;dt+=1)Ke[dt]=be.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=Ut(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new q(mt.concat(Ke))}(T,this.n.bitLength()+7>>3,R,N);if(G==null)return null;var se=this.doPublic(G);if(se==null)return null;var we=se.toString(16);return 1&we.length?"0"+we:we},Se.prototype.type="RSA",Be.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.x.equals(T.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(T){return new Be(this.q,this.x.add(T.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(T){return new Be(this.q,this.x.subtract(T.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger().modInverse(this.q)).mod(this.q))},X.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.equals=function(T){return T==this||(this.isInfinity()?T.isInfinity():T.isInfinity()?this.isInfinity():!!T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(q.ZERO)&&T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(q.ZERO))},X.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(q.ZERO)&&!this.y.toBigInteger().equals(q.ZERO)},X.prototype.negate=function(){return new X(this.curve,this.x,this.y.negate(),this.z)},X.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;var R=T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q),N=T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q);if(q.ZERO.equals(N))return q.ZERO.equals(R)?this.twice():this.curve.getInfinity();var G=new q("3"),se=this.x.toBigInteger(),we=this.y.toBigInteger(),Ie=(T.x.toBigInteger(),T.y.toBigInteger(),N.square()),xe=Ie.multiply(N),Pe=se.multiply(Ie),Me=R.square().multiply(this.z),$e=Me.subtract(Pe.shiftLeft(1)).multiply(T.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Pe.multiply(G).multiply(R).subtract(we.multiply(xe)).subtract(Me.multiply(R)).multiply(T.z).add(R.multiply(xe)).mod(this.curve.q),Ye=xe.multiply(this.z).multiply(T.z).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Ye)},X.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=new q("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),G=N.multiply(this.z),se=G.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Ie=R.square().multiply(T);q.ZERO.equals(we)||(Ie=Ie.add(this.z.square().multiply(we)));var xe=(Ie=Ie.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(se)).shiftLeft(1).multiply(G).mod(this.curve.q),Pe=Ie.multiply(T).multiply(R).subtract(se.shiftLeft(1)).shiftLeft(2).multiply(se).subtract(Ie.square().multiply(Ie)).mod(this.curve.q),Me=G.square().multiply(G).shiftLeft(3).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Pe),Me)},X.prototype.multiply=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var R,N=T,G=N.multiply(new q("3")),se=this.negate(),we=this,Ie=this.curve.q.subtract(T),xe=Ie.multiply(new q("3")),Pe=new X(this.curve,this.x,this.y),Me=Pe.negate();for(R=G.bitLength()-2;R>0;--R){we=we.twice();var $e=G.testBit(R);$e!=N.testBit(R)&&(we=we.add($e?this:se))}for(R=xe.bitLength()-2;R>0;--R){Pe=Pe.twice();var ze=xe.testBit(R);ze!=Ie.testBit(R)&&(Pe=Pe.add(ze?Pe:Me))}return we},X.prototype.multiplyTwo=function(T,R,N){var G;G=T.bitLength()>N.bitLength()?T.bitLength()-1:N.bitLength()-1;for(var se=this.curve.getInfinity(),we=this.add(R);G>=0;)se=se.twice(),T.testBit(G)?se=N.testBit(G)?se.add(we):se.add(this):N.testBit(G)&&(se=se.add(R)),--G;return se},B.prototype.getQ=function(){return this.q},B.prototype.getA=function(){return this.a},B.prototype.getB=function(){return this.b},B.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.a.equals(T.a)&&this.b.equals(T.b)},B.prototype.getInfinity=function(){return this.infinity},B.prototype.fromBigInteger=function(T){return new Be(this.q,T)},B.prototype.decodePointHex=function(T){switch(parseInt(T.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(T.length-2)/2,N=T.substr(2,R),G=T.substr(R+2,R);return new X(this,this.fromBigInteger(new q(N,16)),this.fromBigInteger(new q(G,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},X.prototype.getEncoded=function(C){var T=function(we,Ie){var xe=we.toByteArrayUnsigned();if(Ie<xe.length)xe=xe.slice(xe.length-Ie);else for(;Ie>xe.length;)xe.unshift(0);return xe},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),G=T(R,32);return C?N.isEven()?G.unshift(2):G.unshift(3):(G.unshift(4),G=G.concat(T(N,32))),G},X.decodeFrom=function(C,T){T[0];var R=T.length-1,N=T.slice(1,1+R/2),G=T.slice(1+R/2,1+R);N.unshift(0),G.unshift(0);var se=new q(N),we=new q(G);return new X(C,C.fromBigInteger(se),C.fromBigInteger(we))},X.decodeFromHex=function(C,T){T.substr(0,2);var R=T.length-2,N=T.substr(2,R/2),G=T.substr(2+R/2,R/2),se=new q(N,16),we=new q(G,16);return new X(C,C.fromBigInteger(se),C.fromBigInteger(we))},X.prototype.add2D=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;if(this.x.equals(C.x))return this.y.equals(C.y)?this.twice():this.curve.getInfinity();var T=C.x.subtract(this.x),R=C.y.subtract(this.y).divide(T),N=R.square().subtract(this.x).subtract(C.x),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new X(this.curve,N,G)},X.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=this.curve.fromBigInteger(q.valueOf(2)),T=this.curve.fromBigInteger(q.valueOf(3)),R=this.x.square().multiply(T).add(this.curve.a).divide(this.y.multiply(C)),N=R.square().subtract(this.x.multiply(C)),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new X(this.curve,N,G)},X.prototype.multiply2D=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var T,R=C,N=R.multiply(new q("3")),G=this.negate(),se=this;for(T=N.bitLength()-2;T>0;--T){se=se.twice();var we=N.testBit(T);we!=R.testBit(T)&&(se=se.add2D(we?this:G))}return se},X.prototype.isOnCurve=function(){var C=this.getX().toBigInteger(),T=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),G=this.curve.getQ(),se=T.multiply(T).mod(G),we=C.multiply(C).multiply(C).add(R.multiply(C)).add(N).mod(G);return se.equals(we)},X.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},X.prototype.validate=function(){var C=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var T=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(T.compareTo(q.ONE)<0||T.compareTo(C.subtract(q.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(q.ONE)<0||R.compareTo(C.subtract(q.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(C).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var K=function(){var C=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),T=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Ie,xe){return Ie?R[Ie]:String.fromCharCode(parseInt(xe,16))}var G=new String(""),se=Object.hasOwnProperty;return function(we,Ie){var xe,Pe,Me=we.match(C),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Ye=[xe],st=1-ze,dt=Me.length;st<dt;++st){var ut;switch(($e=Me[st]).charCodeAt(0)){default:(ut=Ye[0])[Pe||ut.length]=+$e,Pe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(T,N)),ut=Ye[0],!Pe){if(!(ut instanceof Array)){Pe=$e||G;break}Pe=ut.length}ut[Pe]=$e,Pe=void 0;break;case 91:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]=[]),Pe=void 0;break;case 93:Ye.shift();break;case 102:(ut=Ye[0])[Pe||ut.length]=!1,Pe=void 0;break;case 110:(ut=Ye[0])[Pe||ut.length]=null,Pe=void 0;break;case 116:(ut=Ye[0])[Pe||ut.length]=!0,Pe=void 0;break;case 123:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]={}),Pe=void 0;break;case 125:Ye.shift()}}if(ze){if(Ye.length!==1)throw new Error;xe=xe[0]}else if(Ye.length)throw new Error;return Ie&&(xe=function be(De,Ue){var Ke=De[Ue];if(Ke&&(Ke===void 0?"undefined":x(Ke))==="object"){var lt=null;for(var mt in Ke)if(se.call(Ke,mt)&&Ke!==De){var Ft=be(Ke,mt);Ft!==void 0?Ke[mt]=Ft:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ke[lt[Tt]]}return Ie.call(De,Ue,Ke)}({"":xe},"")),xe}}();V!==void 0&&V||(r.KJUR=V={}),V.asn1!==void 0&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(C){var T=C.toString(16);return T.length%2==1&&(T="0"+T),T},this.bigIntToMinTwosComplementsHex=function(C){var T=C.toString(16);if(T.substr(0,1)!="-")T.length%2==1?T="0"+T:T.match(/^[0-7]/)||(T="00"+T);else{var R=T.substr(1).length;R%2==1?R+=1:T.match(/^[0-7]/)||(R+=2);for(var N="",G=0;G<R;G++)N+="f";T=new q(N,16).xor(C).add(q.ONE).toString(16).replace(/^-/,"")}return T},this.getPEMStringFromHex=function(C,T){return wt(C,T)},this.newObject=function(C){var T=V.asn1,R=T.ASN1Object,N=T.DERBoolean,G=T.DERInteger,se=T.DERBitString,we=T.DEROctetString,Ie=T.DERNull,xe=T.DERObjectIdentifier,Pe=T.DEREnumerated,Me=T.DERUTF8String,$e=T.DERNumericString,ze=T.DERPrintableString,Ye=T.DERTeletexString,st=T.DERIA5String,dt=T.DERUTCTime,ut=T.DERGeneralizedTime,be=T.DERVisibleString,De=T.DERBMPString,Ue=T.DERSequence,Ke=T.DERSet,lt=T.DERTaggedObject,mt=T.ASN1Util.newObject;if(C instanceof T.ASN1Object)return C;var Ft=Object.keys(C);if(Ft.length!=1)throw new Error("key of param shall be only one.");var Tt=Ft[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(C[Tt]);if(Tt=="int")return new G(C[Tt]);if(Tt=="bitstr")return new se(C[Tt]);if(Tt=="octstr")return new we(C[Tt]);if(Tt=="null")return new Ie(C[Tt]);if(Tt=="oid")return new xe(C[Tt]);if(Tt=="enum")return new Pe(C[Tt]);if(Tt=="utf8str")return new Me(C[Tt]);if(Tt=="numstr")return new $e(C[Tt]);if(Tt=="prnstr")return new ze(C[Tt]);if(Tt=="telstr")return new Ye(C[Tt]);if(Tt=="ia5str")return new st(C[Tt]);if(Tt=="utctime")return new dt(C[Tt]);if(Tt=="gentime")return new ut(C[Tt]);if(Tt=="visstr")return new be(C[Tt]);if(Tt=="bmpstr")return new De(C[Tt]);if(Tt=="asn1")return new R(C[Tt]);if(Tt=="seq"){for(var pn=C[Tt],kt=[],zt=0;zt<pn.length;zt++){var Bn=mt(pn[zt]);kt.push(Bn)}return new Ue({array:kt})}if(Tt=="set"){for(pn=C[Tt],kt=[],zt=0;zt<pn.length;zt++)Bn=mt(pn[zt]),kt.push(Bn);return new Ke({array:kt})}if(Tt=="tag"){var Mn=C[Tt];if(Object.prototype.toString.call(Mn)==="[object Array]"&&Mn.length==3){var Fn=mt(Mn[2]);return new lt({tag:Mn[0],explicit:Mn[1],obj:Fn})}return new lt(Mn)}},this.jsonToASN1HEX=function(C){return this.newObject(C).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(C){for(var T="",R=parseInt(C.substr(0,2),16),N=(T=Math.floor(R/40)+"."+R%40,""),G=2;G<C.length;G+=2){var se=("00000000"+parseInt(C.substr(G,2),16).toString(2)).slice(-8);N+=se.substr(1,7),se.substr(0,1)=="0"&&(T=T+"."+new q(N,2).toString(10),N="")}return T},V.asn1.ASN1Util.oidIntToHex=function(C){var T=function(xe){var Pe=xe.toString(16);return Pe.length==1&&(Pe="0"+Pe),Pe},R=function(xe){var Pe="",Me=new q(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Ye=0;Ye<$e;Ye++)ze+="0";for(Me=ze+Me,Ye=0;Ye<Me.length-1;Ye+=7){var st=Me.substr(Ye,7);Ye!=Me.length-7&&(st="1"+st),Pe+=T(parseInt(st,2))}return Pe};if(!C.match(/^[0-9.]+$/))throw"malformed oid string: "+C;var N="",G=C.split("."),se=40*parseInt(G[0])+parseInt(G[1]);N+=T(se),G.splice(0,2);for(var we=0;we<G.length;we++)N+=R(G[we]);return N},V.asn1.ASN1Object=function(C){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var T=this.hV.length/2,R=T.toString(16);if(R.length%2==1&&(R="0"+R),T<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+T.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(T){this.params=T},C!=null&&C.tlv!=null&&(this.hTLV=C.tlv,this.isModified=!1)},V.asn1.DERAbstractString=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=dr(this.s).toLowerCase()},this.setStringHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"?this.setString(C):C.str!==void 0?this.setString(C.str):C.hex!==void 0&&this.setStringHex(C.hex))},qt(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(C){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(T){var R=T.getTime()+6e4*T.getTimezoneOffset();return new Date(R)},this.formatDate=function(T,R,N){var G=this.zeroPadding,se=this.localDateToUTC(T),we=String(se.getFullYear());R=="utc"&&(we=we.substr(2,2));var Ie=we+G(String(se.getMonth()+1),2)+G(String(se.getDate()),2)+G(String(se.getHours()),2)+G(String(se.getMinutes()),2)+G(String(se.getSeconds()),2);if(N===!0){var xe=se.getMilliseconds();if(xe!=0){var Pe=G(String(xe),3);Ie=Ie+"."+(Pe=Pe.replace(/[0]+$/,""))}}return Ie+"Z"},this.zeroPadding=function(T,R){return T.length>=R?T:new Array(R-T.length+1).join("0")+T},this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=Rt(T)},this.setByDateValue=function(T,R,N,G,se,we){var Ie=new Date(Date.UTC(T,R-1,N,G,se,we,0));this.setByDate(Ie)},this.getFreshValueHex=function(){return this.hV}},qt(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array=T},this.appendASN1Object=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array.push(T)},this.asn1Array=new Array,C!==void 0&&C.array!==void 0&&(this.asn1Array=C.array)},qt(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(C){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=C==0?"010100":"0101ff"},qt(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(C){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new q(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.bigint!==void 0?this.setByBigInteger(C.bigint):C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},qt(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex="00"+T.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var G="0"+R;this.hTLV=null,this.isModified=!0,this.hV=G+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var G=0;G<=N;G++)R+="0";var se="";for(G=0;G<R.length-1;G+=8){var we=R.substr(G,8),Ie=parseInt(we,2).toString(16);Ie.length==1&&(Ie="0"+Ie),se+=Ie}this.hTLV=null,this.isModified=!0,this.hV="0"+N+se},this.setByBooleanArray=function(R){for(var N="",G=0;G<R.length;G++)R[G]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),G=0;G<R;G++)N[G]=!1;return N},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"&&C.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(C):C.hex!==void 0?this.setHexValueIncludingUnusedBits(C.hex):C.bin!==void 0?this.setByBinaryString(C.bin):C.array!==void 0&&this.setByBooleanArray(C.array))},qt(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex=T.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,C),this.hT="04"},qt(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},qt(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(C){V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.setValueOidString=function(T){var R=function(G){var se=function(ze){var Ye=ze.toString(16);return Ye.length==1&&(Ye="0"+Ye),Ye},we=function(ze){var Ye="",st=parseInt(ze,10).toString(2),dt=7-st.length%7;dt==7&&(dt=0);for(var ut="",be=0;be<dt;be++)ut+="0";for(st=ut+st,be=0;be<st.length-1;be+=7){var De=st.substr(be,7);be!=st.length-7&&(De="1"+De),Ye+=se(parseInt(De,2))}return Ye};try{if(!G.match(/^[0-9.]+$/))return null;var Ie="",xe=G.split("."),Pe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Ie+=se(Pe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Ie+=we(xe[Me]);return Ie}catch{return null}}(T);if(R==null)throw new Error("malformed oid string: "+T);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(T){var R=V.asn1.x509.OID.name2oid(T);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+T);this.setValueOidString(R)},this.setValueNameOrOid=function(T){T.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(T):this.setValueName(T)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(T){typeof T=="string"?this.setValueNameOrOid(T):T.oid!==void 0?this.setValueNameOrOid(T.oid):T.name!==void 0?this.setValueNameOrOid(T.name):T.hex!==void 0&&this.setValueHex(T.hex)},C!==void 0&&this.setByParam(C)},qt(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(C){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new q(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},qt(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(C){V.asn1.DERUTF8String.superclass.constructor.call(this,C),this.hT="0c"},qt(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(C){V.asn1.DERNumericString.superclass.constructor.call(this,C),this.hT="12"},qt(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(C){V.asn1.DERPrintableString.superclass.constructor.call(this,C),this.hT="13"},qt(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(C){V.asn1.DERTeletexString.superclass.constructor.call(this,C),this.hT="14"},qt(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="16"},qt(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERVisibleString=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="1a"},qt(V.asn1.DERVisibleString,V.asn1.DERAbstractString),V.asn1.DERBMPString=function(C){V.asn1.DERBMPString.superclass.constructor.call(this,C),this.hT="1e"},qt(V.asn1.DERBMPString,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(C){V.asn1.DERUTCTime.superclass.constructor.call(this,C),this.hT="17",this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{12}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date))},qt(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(C){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,C),this.hT="18",this.withMillis=!1,this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{14}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date),C.millis===!0&&(this.withMillis=!0))},qt(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(C){V.asn1.DERSequence.superclass.constructor.call(this,C),this.hT="30",this.getFreshValueHex=function(){for(var T="",R=0;R<this.asn1Array.length;R++)T+=this.asn1Array[R].getEncodedHex();return this.hV=T,this.hV}},qt(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(C){V.asn1.DERSet.superclass.constructor.call(this,C),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var T=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];T.push(N.getEncodedHex())}return this.sortFlag==1&&T.sort(),this.hV=T.join(""),this.hV},C!==void 0&&C.sortflag!==void 0&&C.sortflag==0&&(this.sortFlag=!1)},qt(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(C){V.asn1.DERTaggedObject.superclass.constructor.call(this);var T=V.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,G){this.hT=N,this.isExplicit=R,this.asn1Object=G,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=G.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof T.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):x(R.obj)=="object"&&(this.asn1Object=T.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},C!=null&&this.setByParam(C)},qt(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,je,Ze,ke=new function(){};function At(C){for(var T=new Array,R=0;R<C.length;R++)T[R]=C.charCodeAt(R);return T}function Ot(C){for(var T="",R=0;R<C.length;R++)T+=String.fromCharCode(C[R]);return T}function Dt(C){for(var T="",R=0;R<C.length;R++){var N=C[R].toString(16);N.length==1&&(N="0"+N),T+=N}return T}function Rt(C){return Dt(At(C))}function Bt(C){return C=(C=(C=C.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Er(C){return C.length%4==2?C+="==":C.length%4==3&&(C+="="),C=(C=C.replace(/-/g,"+")).replace(/_/g,"/")}function fn(C){return C.length%2==1&&(C="0"+C),Bt(j(C))}function dn(C){return Q(Er(C))}function dr(C){return Jn(Et(C))}function on(C){return decodeURIComponent(We(C))}function un(C){for(var T="",R=0;R<C.length-1;R+=2)T+=String.fromCharCode(parseInt(C.substr(R,2),16));return T}function Ln(C){for(var T="",R=0;R<C.length;R++)T+=("0"+C.charCodeAt(R).toString(16)).slice(-2);return T}function sr(C){return j(C)}function Oe(C){var T=sr(C).replace(/(.{64})/g,`$1\r
`);return T=T.replace(/\r\n$/,"")}function qe(C){return Q(C.replace(/[^0-9A-Za-z\/+=]*/g,""))}function wt(C,T){return"-----BEGIN "+T+`-----\r
`+Oe(C)+`\r
-----END `+T+`-----\r
`}function xt(C,T){if(C.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+T;return qe(C=T!==void 0?(C=C.replace(new RegExp("^[^]*-----BEGIN "+T+"-----"),"")).replace(new RegExp("-----END "+T+"-----[^]*$"),""):(C=C.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Lt(C){var T,R,N,G,se,we,Ie,xe,Pe,Me,$e;if($e=C.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],T=parseInt(xe),xe.length===2&&(50<=T&&T<100?T=1900+T:0<=T&&T<50&&(T=2e3+T)),R=parseInt($e[2])-1,N=parseInt($e[3]),G=parseInt($e[4]),se=parseInt($e[5]),we=parseInt($e[6]),Ie=0,(Pe=$e[7])!==""&&(Me=(Pe.substr(1)+"00").substr(0,3),Ie=parseInt(Me)),Date.UTC(T,R,N,G,se,we,Ie);throw"unsupported zulu format: "+C}function qn(C){return~~(Lt(C)/1e3)}function Jn(C){return C.replace(/%/g,"")}function We(C){return C.replace(/(..)/g,"%$1")}function Ee(C){var T="malformed IPv6 address";if(!C.match(/^[0-9A-Fa-f:]+$/))throw T;var R=(C=C.toLowerCase()).split(":").length-1;if(R<2)throw T;var N=":".repeat(7-R+2),G=(C=C.replace("::",N)).split(":");if(G.length!=8)throw T;for(var se=0;se<8;se++)G[se]=("0000"+G[se]).slice(-4);return G.join("")}function et(C){if(!C.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var T=(C=C.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)T[R]=T[R].replace(/^0+/,""),T[R]==""&&(T[R]="0");var N=(C=":"+T.join(":")+":").match(/:(0:){2,}/g);if(N===null)return C.slice(1,-1);var G="";for(R=0;R<N.length;R++)N[R].length>G.length&&(G=N[R]);return(C=C.replace(G,"::")).slice(1,-1)}function ft(C){var T="malformed hex value";if(!C.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw T;if(C.length!=8)return C.length==32?et(C):C;try{return parseInt(C.substr(0,2),16)+"."+parseInt(C.substr(2,2),16)+"."+parseInt(C.substr(4,2),16)+"."+parseInt(C.substr(6,2),16)}catch{throw T}}function it(C){return C.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),G=parseInt(R.substr(2),16);if(N==0&G<128)return String.fromCharCode(G);if(N<8){var se=128|63&G;return on((192|(7&N)<<3|(192&G)>>6).toString(16)+se.toString(16))}se=128|(15&N)<<2|(192&G)>>6;var we=128|63&G;return on((224|(240&N)>>4).toString(16)+se.toString(16)+we.toString(16))}).join("")}function Et(C){for(var T=encodeURIComponent(C),R="",N=0;N<T.length;N++)T[N]=="%"?(R+=T.substr(N,3),N+=2):R=R+"%"+Rt(T[N]);return R}function It(C){return!(C.length%2!=0||!C.match(/^[0-9a-f]+$/)&&!C.match(/^[0-9A-F]+$/))}function Vt(C){return C.length%2==1?"0"+C:C.substr(0,1)>"7"?"00"+C:C}ke.getLblen=function(C,T){if(C.substr(T+2,1)!="8")return 1;var R=parseInt(C.substr(T+3,1));return R==0?-1:0<R&&R<10?R+1:-2},ke.getL=function(C,T){var R=ke.getLblen(C,T);return R<1?"":C.substr(T+2,2*R)},ke.getVblen=function(C,T){var R;return(R=ke.getL(C,T))==""?-1:(R.substr(0,1)==="8"?new q(R.substr(2),16):new q(R,16)).intValue()},ke.getVidx=function(C,T){var R=ke.getLblen(C,T);return R<0?R:T+2*(R+1)},ke.getV=function(C,T){var R=ke.getVidx(C,T),N=ke.getVblen(C,T);return C.substr(R,2*N)},ke.getTLV=function(C,T){return C.substr(T,2)+ke.getL(C,T)+ke.getV(C,T)},ke.getTLVblen=function(C,T){return 2+2*ke.getLblen(C,T)+2*ke.getVblen(C,T)},ke.getNextSiblingIdx=function(C,T){return ke.getVidx(C,T)+2*ke.getVblen(C,T)},ke.getChildIdx=function(C,T){var R,N,G,se=ke,we=[];R=se.getVidx(C,T),N=2*se.getVblen(C,T),C.substr(T,2)=="03"&&(R+=2,N-=2),G=0;for(var Ie=R;G<=N;){var xe=se.getTLVblen(C,Ie);if((G+=xe)<=N&&we.push(Ie),Ie+=xe,G>=N)break}return we},ke.getNthChildIdx=function(C,T,R){return ke.getChildIdx(C,T)[R]},ke.getIdxbyList=function(C,T,R,N){var G,se,we=ke;return R.length==0?N!==void 0&&C.substr(T,2)!==N?-1:T:(G=R.shift())>=(se=we.getChildIdx(C,T)).length?-1:we.getIdxbyList(C,se[G],R,N)},ke.getIdxbyListEx=function(C,T,R,N){var G,se,we=ke;if(R.length==0)return N!==void 0&&C.substr(T,2)!==N?-1:T;G=R.shift(),se=we.getChildIdx(C,T);for(var Ie=0,xe=0;xe<se.length;xe++){var Pe=C.substr(se[xe],2);if(typeof G=="number"&&!we.isContextTag(Pe)&&Ie==G||typeof G=="string"&&we.isContextTag(Pe,G))return we.getIdxbyListEx(C,se[xe],R,N);we.isContextTag(Pe)||Ie++}return-1},ke.getTLVbyList=function(C,T,R,N){var G=ke,se=G.getIdxbyList(C,T,R,N);return se==-1||se>=C.length?null:G.getTLV(C,se)},ke.getTLVbyListEx=function(C,T,R,N){var G=ke,se=G.getIdxbyListEx(C,T,R,N);return se==-1?null:G.getTLV(C,se)},ke.getVbyList=function(C,T,R,N,G){var se,we,Ie=ke;return(se=Ie.getIdxbyList(C,T,R,N))==-1||se>=C.length?null:(we=Ie.getV(C,se),G===!0&&(we=we.substr(2)),we)},ke.getVbyListEx=function(C,T,R,N,G){var se,we,Ie=ke;return(se=Ie.getIdxbyListEx(C,T,R,N))==-1?null:(we=Ie.getV(C,se),C.substr(se,2)=="03"&&G!==!1&&(we=we.substr(2)),we)},ke.getInt=function(C,T,R){R==null&&(R=-1);try{var N=C.substr(T,2);if(N!="02"&&N!="03")return R;var G=ke.getV(C,T);return N=="02"?parseInt(G,16):function(we){try{var Ie=we.substr(0,2);if(Ie=="00")return parseInt(we.substr(2),16);var xe=parseInt(Ie,16),Pe=we.substr(2),Me=parseInt(Pe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(G)}catch{return R}},ke.getOID=function(C,T,R){R==null&&(R=null);try{return C.substr(T,2)!="06"?R:function(G){if(!It(G))return null;try{var se=[],we=G.substr(0,2),Ie=parseInt(we,16);se[0]=new String(Math.floor(Ie/40)),se[1]=new String(Ie%40);for(var xe=G.substr(2),Pe=[],Me=0;Me<xe.length/2;Me++)Pe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Pe.length;Me++)128&Pe[Me]?ze+=Yt((127&Pe[Me]).toString(2),7):(ze+=Yt((127&Pe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Ye=se.join(".");return $e.length>0&&(Ye=Ye+"."+$e.join(".")),Ye}catch{return null}}(ke.getV(C,T))}catch{return R}},ke.getOIDName=function(C,T,R){R==null&&(R=null);try{var N=ke.getOID(C,T,R);if(N==R)return R;var G=V.asn1.x509.OID.oid2name(N);return G==""?N:G}catch{return R}},ke.getString=function(C,T,R){R==null&&(R=null);try{return un(ke.getV(C,T))}catch{return R}},ke.hextooidstr=function(C){var T=function(ze,Ye){return ze.length>=Ye?ze:new Array(Ye-ze.length+1).join("0")+ze},R=[],N=C.substr(0,2),G=parseInt(N,16);R[0]=new String(Math.floor(G/40)),R[1]=new String(G%40);for(var se=C.substr(2),we=[],Ie=0;Ie<se.length/2;Ie++)we.push(parseInt(se.substr(2*Ie,2),16));var xe=[],Pe="";for(Ie=0;Ie<we.length;Ie++)128&we[Ie]?Pe+=T((127&we[Ie]).toString(2),7):(Pe+=T((127&we[Ie]).toString(2),7),xe.push(new String(parseInt(Pe,2))),Pe="");var Me=R.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(C,T,R,N){var G=ke,se=G.getV,we=G.dump,Ie=G.getChildIdx,xe=C;C instanceof V.asn1.ASN1Object&&(xe=C.getEncodedHex());var Pe=function(Tt,pn){return Tt.length<=2*pn?Tt:Tt.substr(0,pn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-pn,pn)};T===void 0&&(T={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var Me,$e=T.ommit_long_octet;if((Me=xe.substr(R,2))=="01")return(ze=se(xe,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Pe(ze=se(xe,R),$e)+`
`;if(Me=="03"){var ze=se(xe,R);if(G.isASN1HEX(ze.substr(2))){var Ye=N+`BITSTRING, encapsulates
`;return Ye+=we(ze.substr(2),T,0,N+"  ")}return N+"BITSTRING "+Pe(ze,$e)+`
`}if(Me=="04")return ze=se(xe,R),G.isASN1HEX(ze)?(Ye=N+`OCTETSTRING, encapsulates
`,Ye+=we(ze,T,0,N+"  ")):N+"OCTETSTRING "+Pe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var st=se(xe,R),dt=V.asn1.ASN1Util.oidHexToInt(st),ut=V.asn1.x509.OID.oid2name(dt),be=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(se(xe,R))+`
`;if(Me=="0c")return N+"UTF8String '"+on(se(xe,R))+`'
`;if(Me=="13")return N+"PrintableString '"+on(se(xe,R))+`'
`;if(Me=="14")return N+"TeletexString '"+on(se(xe,R))+`'
`;if(Me=="16")return N+"IA5String '"+on(se(xe,R))+`'
`;if(Me=="17")return N+"UTCTime "+on(se(xe,R))+`
`;if(Me=="18")return N+"GeneralizedTime "+on(se(xe,R))+`
`;if(Me=="1a")return N+"VisualString '"+on(se(xe,R))+`'
`;if(Me=="1e")return N+"BMPString '"+it(se(xe,R))+`'
`;if(Me=="30"){if(xe.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Ye=N+`SEQUENCE
`;var De=T;if(((lt=Ie(xe,R)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=G.oidname(se(xe,lt[0]));var Ue=JSON.parse(JSON.stringify(T));Ue.x509ExtName=ut,De=Ue}for(var Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,De,lt[Ke],N+"  ");return Ye}if(Me=="31"){Ye=N+`SET
`;var lt=Ie(xe,R);for(Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,T,lt[Ke],N+"  ");return Ye}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Ye=N+"["+mt+`]
`,lt=Ie(xe,R),Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,T,lt[Ke],N+"  ");return Ye}if(ze=se(xe,R),ke.isASN1HEX(ze)){var Ye=N+"["+mt+`]
`;return Ye+=we(ze,T,0,N+"  ")}return(ze.substr(0,8)=="68747470"||T.x509ExtName==="subjectAltName"&&mt==2)&&(ze=on(ze)),Ye=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+se(xe,R)+`
`},ke.isContextTag=function(C,T){var R,N;C=C.toLowerCase();try{R=parseInt(C,16)}catch{return-1}if(T===void 0)return(192&R)==128;try{return T.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(T.substr(1,T.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},ke.isASN1HEX=function(C){var T=ke;if(C.length%2==1)return!1;var R=T.getVblen(C,0),N=C.substr(0,2),G=T.getL(C,0);return C.length-N.length-G.length==2*R},ke.checkStrictDER=function(C,T,R,N,G){var se=ke;if(R===void 0){if(typeof C!="string")throw new Error("not hex string");if(C=C.toLowerCase(),!V.lang.String.isHex(C))throw new Error("not hex string");R=C.length,G=(N=C.length/2)<128?1:Math.ceil(N.toString(16))+1}if(se.getL(C,T).length>2*G)throw new Error("L of TLV too long: idx="+T);var we=se.getVblen(C,T);if(we>N)throw new Error("value of L too long than hex: idx="+T);var Ie=se.getTLV(C,T),xe=Ie.length-2-se.getL(C,T).length;if(xe!==2*we)throw new Error("V string length and L's value not the same:"+xe+"/"+2*we);if(T===0&&C.length!=Ie.length)throw new Error("total length and TLV length unmatch:"+C.length+"!="+Ie.length);var Pe=C.substr(T,2);if(Pe==="02"){var Me=se.getVidx(C,T);if(C.substr(Me,2)=="00"&&C.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Pe,16)){for(var $e=se.getVblen(C,T),ze=0,Ye=se.getChildIdx(C,T),st=0;st<Ye.length;st++)ze+=se.getTLV(C,Ye[st]).length,se.checkStrictDER(C,Ye[st],R,N,G);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(C){var T=V.asn1;V.lang.String.isHex(C)&&(C=T.ASN1Util.oidHexToInt(C));var R=T.x509.OID.oid2name(C);return R===""&&(R=C),R},V!==void 0&&V||(r.KJUR=V={}),V.lang!==void 0&&V.lang||(V.lang={}),V.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(T){return Bt(a.from(T,"utf8").toString("base64"))},r.b64utoutf8=Ze=function(T){return a.from(Er(T),"base64").toString("utf8")}):(r.utf8tob64u=je=function(T){return fn(Jn(Et(T)))},r.b64utoutf8=Ze=function(T){return decodeURIComponent(We(dn(T)))}),V.lang.String.isInteger=function(C){return!!C.match(/^[0-9]+$/)||!!C.match(/^-[0-9]+$/)},V.lang.String.isHex=function(C){return It(C)},V.lang.String.isBase64=function(C){return!(!(C=C.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||C.length%4!=0)},V.lang.String.isBase64URL=function(C){return!C.match(/[+/=]/)&&(C=Er(C),V.lang.String.isBase64(C))},V.lang.String.isIntegerArray=function(C){return!!(C=C.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},V.lang.String.isPrintable=function(C){return C.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},V.lang.String.isIA5=function(C){return C.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},V.lang.String.isMail=function(C){return C.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Yt=function(T,R,N){return N==null&&(N="0"),T.length>=R?T:new Array(R-T.length+1).join(N)+T};function qt(C,T){var R=function(){};R.prototype=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.superclass=T.prototype,T.prototype.constructor==Object.prototype.constructor&&(T.prototype.constructor=T)}V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:I.algo.MD5,sha1:I.algo.SHA1,sha224:I.algo.SHA224,sha256:I.algo.SHA256,sha384:I.algo.SHA384,sha512:I.algo.SHA512,ripemd160:I.algo.RIPEMD160},this.getDigestInfoHex=function(C,T){if(this.DIGESTINFOHEAD[T]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+T;return this.DIGESTINFOHEAD[T]+C},this.getPaddedDigestInfoHex=function(C,T,R){var N=this.getDigestInfoHex(C,T),G=R/4;if(N.length+22>G)throw"key is too short for SigAlg: keylen="+R+","+T;for(var se="0001",we="00"+N,Ie="",xe=G-se.length-we.length,Pe=0;Pe<xe;Pe+=2)Ie+="ff";return se+Ie+we},this.hashString=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestString(C)},this.hashHex=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestHex(C)},this.sha1=function(C){return this.hashString(C,"sha1")},this.sha256=function(C){return this.hashString(C,"sha256")},this.sha256Hex=function(C){return this.hashHex(C,"sha256")},this.sha512=function(C){return this.hashString(C,"sha512")},this.sha512Hex=function(C){return this.hashHex(C,"sha512")},this.isKey=function(C){return C instanceof Se||C instanceof V.crypto.DSA||C instanceof V.crypto.ECDSA}},V.crypto.Util.md5=function(C){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(C)},V.crypto.Util.ripemd160=function(C){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(C)},V.crypto.Util.SECURERANDOMGEN=new nt,V.crypto.Util.getRandomHexOfNbytes=function(C){var T=new Array(C);return V.crypto.Util.SECURERANDOMGEN.nextBytes(T),Dt(T)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(C){return new q(V.crypto.Util.getRandomHexOfNbytes(C),16)},V.crypto.Util.getRandomHexOfNbits=function(C){var T=C%8,R=new Array((C-T)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<T&255^255)&R[0],Dt(R)},V.crypto.Util.getRandomBigIntegerOfNbits=function(C){return new q(V.crypto.Util.getRandomHexOfNbits(C),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(C){for(var T=C.bitLength();;){var R=V.crypto.Util.getRandomBigIntegerOfNbits(T);if(C.compareTo(R)!=-1)return R}},V.crypto.Util.getRandomBigIntegerMinToMax=function(C,T){var R=C.compareTo(T);if(R==1)throw"biMin is greater than biMax";if(R==0)return C;var N=T.subtract(C);return V.crypto.Util.getRandomBigIntegerZeroToMax(N).add(C)},V.crypto.MessageDigest=function(C){this.setAlgAndProvider=function(T,R){if((T=V.crypto.MessageDigest.getCanonicalAlgName(T))!==null&&R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(T)!=-1&&R=="cryptojs"){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[T].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=I.enc.Hex.parse(N);this.md.update(G)},this.digest=function(){return this.md.finalize().toString(I.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(T)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=sjcl.codec.hex.toBits(N);this.md.update(G)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},C!==void 0&&C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(C){return typeof C=="string"&&(C=(C=C.toLowerCase()).replace(/-/,"")),C},V.crypto.MessageDigest.getHashLength=function(C){var T=V.crypto.MessageDigest,R=T.getCanonicalAlgName(C);if(T.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+C;return T.HASHLENGTH[R]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(C){this.setAlgAndProvider=function(T,R){if((T=T.toLowerCase())==null&&(T="hmacsha1"),(T=T.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+T;R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),this.algProv=T+"/"+R;var N=T.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var G=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=I.algo.HMAC.create(G,this.pass)}catch(se){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+se}this.updateString=function(se){this.mac.update(se)},this.updateHex=function(se){var we=I.enc.Hex.parse(se);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(I.enc.Hex)},this.doFinalString=function(se){return this.updateString(se),this.doFinal()},this.doFinalHex=function(se){return this.updateHex(se),this.doFinal()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(T){if(typeof T=="string"){var R=T;return T.length%2!=1&&T.match(/^[0-9A-Fa-f]+$/)||(R=Ln(T)),void(this.pass=I.enc.Hex.parse(R))}if((T===void 0?"undefined":x(T))!="object")throw"KJUR.crypto.Mac unsupported password type: "+T;if(R=null,T.hex!==void 0){if(T.hex.length%2!=0||!T.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+T.hex;R=T.hex}if(T.utf8!==void 0&&(R=dr(T.utf8)),T.rstr!==void 0&&(R=Ln(T.rstr)),T.b64!==void 0&&(R=Q(T.b64)),T.b64u!==void 0&&(R=dn(T.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+T;this.pass=I.enc.Hex.parse(R)},C!==void 0&&(C.pass!==void 0&&this.setPassword(C.pass),C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(C){var T=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var G="",se=N/4-R.length,we=0;we<se;we++)G+="0";return G+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(G){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+G)}this.init=function(G,se){var we=null;try{we=se===void 0?Nt.getKey(G):Nt.getKey(G,se)}catch(Ie){throw"init failed:"+Ie}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(G){this.md.updateString(G)},this.updateHex=function(G){this.md.updateHex(G)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.prvKey=new V.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(G){return this.updateString(G),this.sign()},this.signHex=function(G){return this.updateHex(G),this.sign()},this.verify=function(G){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.pubKey=new V.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,G,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.ECDSA!==void 0&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.DSA!==void 0&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=C,C!==void 0&&(C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=C.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),C.psssaltlen!==void 0&&(this.pssSaltLen=C.psssaltlen),C.prvkeypem!==void 0)){if(C.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{T=Nt.getKey(C.prvkeypem),this.init(T)}catch(R){throw"fatal error to load pem private key: "+R}}},V.crypto.Cipher=function(C){},V.crypto.Cipher.encrypt=function(C,T,R){if(T instanceof Se&&T.isPublic){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.encrypt(C);if(N==="RSAOAEP")return T.encryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.encryptOAEP(C,"sha"+G[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(C,T,R){if(T instanceof Se&&T.isPrivate){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.decrypt(C);if(N==="RSAOAEP")return T.decryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.decryptOAEP(C,"sha"+G[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(C,T){if(C instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(T)!=-1)return T;if(T==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+T}throw"getAlgByKeyAndName: not supported algorithm name: "+T},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(C){var T=Error,R=q,N=X,G=V.crypto.ECDSA,se=V.crypto.ECParameterDB,we=G.getName,Ie=ke,xe=Ie.getVbyListEx,Pe=Ie.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),Me).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=se.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Ye={};return Ye.x=$e.substr(2,ze),Ye.y=$e.substr(2+ze),Ye},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Ye=this.ecparams.G.multiply(ze),st=Ye.getX().toBigInteger(),dt=Ye.getY().toBigInteger(),ut=this.ecparams.keylen/4,be=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+st.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(be),this.setPublicKeyHex(De),{ecprvhex:be,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Ye=new R(ze,16),st=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(st),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(st);while(be.compareTo(R.ZERO)<=0);var De=ut.modInverse(st).multiply(dt.add(Ye.multiply(be))).mod(st);return G.biRSSigToASN1Sig(be,De)},this.sign=function($e,ze){var Ye=ze,st=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(st),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(st);while(be.compareTo(q.ZERO)<=0);var De=ut.modInverse(st).multiply(dt.add(Ye.multiply(be))).mod(st);return this.serializeSig(be,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Ye){try{var st,dt,ut=G.parseSigHex(ze);st=ut.r,dt=ut.s;var be=N.decodeFromHex(this.ecparams.curve,Ye),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,st,dt,be)}catch{return!1}},this.verify=function($e,ze,Ye){var st,dt,ut;if(Bitcoin.Util.isArray(ze)){var be=this.parseSig(ze);st=be.r,dt=be.s}else{if((ze===void 0?"undefined":x(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";st=ze.r,dt=ze.s}if(Ye instanceof X)ut=Ye;else{if(!Bitcoin.Util.isArray(Ye))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Ye)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,st,dt,ut)},this.verifyRaw=function($e,ze,Ye,st){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(R.ONE)<0||ze.compareTo(dt)>=0||Ye.compareTo(R.ONE)<0||Ye.compareTo(dt)>=0)return!1;var be=Ye.modInverse(dt),De=$e.multiply(be).mod(dt),Ue=ze.multiply(be).mod(dt);return ut.multiply(De).add(st.multiply(Ue)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Ye=$e.toByteArraySigned(),st=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Ye.length),(dt=dt.concat(Ye)).push(2),dt.push(st.length),(dt=dt.concat(st)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ye=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var st=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:R.fromByteArrayUnsigned(Ye),s:R.fromByteArrayUnsigned(st)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Ye=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Ye),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Ye),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Pe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Ye,st;try{ze=xe($e,0,["[0]",0],"06"),Ye=xe($e,0,[1],"04");try{st=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye,st;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Ye=xe($e,0,[2,0,1],"04");try{st=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new T("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Ye=xe($e,0,[1],"03")}catch{throw new T("malformed PKCS#8 ECC public key")}if(this.curveName=we(ze),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ye)},this.readCertPubKeyHex=function($e,ze){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var Ye,st;try{Ye=xe($e,0,[0,5,0,1],"06"),st=xe($e,0,[0,5,1],"03")}catch{throw new T("malformed X.509 certificate ECC public key")}if(this.curveName=we(Ye),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},C!==void 0&&C.curve!==void 0&&(this.curveName=C.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),C!==void 0&&(C.prv!==void 0&&this.setPrivateKeyHex(C.prv),C.pub!==void 0&&this.setPublicKeyHex(C.pub))},V.crypto.ECDSA.parseSigHex=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C);return{r:new q(T.r,16),s:new q(T.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(C){var T=ke,R=T.getChildIdx,N=T.getV;if(T.checkStrictDER(C,0),C.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var G=R(C,0);if(G.length!=2)throw new Error("signature shall have two elements");var se=G[0],we=G[1];if(C.substr(se,2)!="02")throw new Error("1st item not ASN.1 integer");if(C.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(C,se),s:N(C,we)}},V.crypto.ECDSA.asn1SigToConcatSig=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C),R=T.r,N=T.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},V.crypto.ECDSA.concatSigToASN1Sig=function(C){if(C.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var T=C.substr(0,C.length/2),R=C.substr(C.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(T,R)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(C,T){var R=new q(C,16),N=new q(T,16);return V.crypto.ECDSA.biRSSigToASN1Sig(R,N)},V.crypto.ECDSA.biRSSigToASN1Sig=function(C,T){var R=V.asn1,N=new R.DERInteger({bigint:C}),G=new R.DERInteger({bigint:T});return new R.DERSequence({array:[N,G]}).getEncodedHex()},V.crypto.ECDSA.getName=function(C){return C==="2b8104001f"?"secp192k1":C==="2a8648ce3d030107"?"secp256r1":C==="2b8104000a"?"secp256k1":C==="2b81040021"?"secp224r1":C==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(C)!==-1?"secp256r1":"|secp256k1|".indexOf(C)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(C)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(C)!==-1?"secp384r1":null},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var C={},T={};function R(N){return new q(N,16)}this.getByName=function(N){var G=N;if(T[G]!==void 0&&(G=T[N]),C[G]!==void 0)return C[G];throw"unregistered EC curve name: "+G},this.regist=function(N,G,se,we,Ie,xe,Pe,Me,$e,ze,Ye,st){C[N]={};var dt=R(se),ut=R(we),be=R(Ie),De=R(xe),Ue=R(Pe),Ke=new B(dt,ut,be),lt=Ke.decodePointHex("04"+Me+$e);C[N].name=N,C[N].keylen=G,C[N].curve=Ke,C[N].G=lt,C[N].n=De,C[N].h=Ue,C[N].oid=Ye,C[N].info=st;for(var mt=0;mt<ze.length;mt++)T[ze[mt]]=N}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Nt=function(){var C=function(Pe,Me,$e){return T(I.AES,Pe,Me,$e)},T=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),st=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut={};ut.key=st,ut.iv=dt,ut.ciphertext=Ye;var be=Pe.decrypt(ut,st,{iv:dt});return I.enc.Hex.stringify(be)},R=function(Pe,Me,$e){return N(I.AES,Pe,Me,$e)},N=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),st=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut=Pe.encrypt(Ye,st,{iv:dt}),be=I.enc.Hex.parse(ut.toString());return I.enc.Base64.stringify(be)},G={"AES-256-CBC":{proc:C,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:C,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:C,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Pe,Me,$e){return T(I.TripleDES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.TripleDES,Pe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Pe,Me,$e){return T(I.DES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.DES,Pe,Me,$e)},keylen:8,ivlen:8}},se=function(Pe){var Me={},$e=Pe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Pe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Ye=-1,st=0;Pe.indexOf(`\r
\r
`)!=-1&&(Ye=Pe.indexOf(`\r
\r
`),st=2),Pe.indexOf(`

`)!=-1&&(Ye=Pe.indexOf(`

`),st=1);var dt=Pe.indexOf("-----END");if(Ye!=-1&&dt!=-1){var ut=Pe.substring(Ye+2*st,dt-st);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},we=function(Pe,Me,$e){for(var ze=$e.substring(0,16),Ye=I.enc.Hex.parse(ze),st=I.enc.Utf8.parse(Me),dt=G[Pe].keylen+G[Pe].ivlen,ut="",be=null;;){var De=I.algo.MD5.create();if(be!=null&&De.update(be),De.update(st),De.update(Ye),be=De.finalize(),(ut+=I.enc.Hex.stringify(be)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*G[Pe].keylen),Ue.ivhex=ut.substr(2*G[Pe].keylen,2*G[Pe].ivlen),Ue},Ie=function(Pe,Me,$e,ze){var Ye=I.enc.Base64.parse(Pe),st=I.enc.Hex.stringify(Ye);return(0,G[Me].proc)(st,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Pe){return se(Pe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Pe,Me,$e){return we(Pe,Me,$e)},decryptKeyB64:function(Pe,Me,$e,ze){return Ie(Pe,Me,$e,ze)},getDecryptedKeyHex:function(Pe,Me){var $e=se(Pe),ze=$e.cipher,Ye=$e.ivsalt,st=$e.data,dt=we(ze,Me,Ye).keyhex;return Ie(st,ze,dt,Ye)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Pe,Me,$e,ze,Ye){var st="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),G[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Ye!==void 0&&Ye!=null||(Ye=function(be){var De=I.lib.WordArray.random(be);return I.enc.Hex.stringify(De)}(G[ze].ivlen).toUpperCase());var dt=function(be,De,Ue,Ke){return(0,G[De].eproc)(be,Ue,Ke)}(Me,ze,we(ze,$e,Ye).keyhex,Ye);return st="-----BEGIN "+Pe+` PRIVATE KEY-----\r
`,st+=`Proc-Type: 4,ENCRYPTED\r
`,st+="DEK-Info: "+ze+","+Ye+`\r
`,st+=`\r
`,st+=dt.replace(/(.{64})/g,`$1\r
`),st+=`\r
-----END `+Pe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={},st=$e(Pe,0);if(st.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+st.length);Ye.ciphertext=ze(Pe,st[1]);var dt=$e(Pe,st[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Pe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Pe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var be=$e(Pe,ut[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(ze(Pe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ye.encryptionSchemeAlg="TripleDES",Ye.encryptionSchemeIV=ze(Pe,be[1]);var De=$e(Pe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Pe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Pe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Ye.pbkdf2Salt=ze(Pe,Ue[0]);var Ke=ze(Pe,Ue[1]);try{Ye.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Ye},getPBKDF2KeyHexFromParam:function(Pe,Me){var $e=I.enc.Hex.parse(Pe.pbkdf2Salt),ze=Pe.pbkdf2Iter,Ye=I.PBKDF2(Me,$e,{keySize:6,iterations:ze});return I.enc.Hex.stringify(Ye)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Pe,Me){var $e=xt(Pe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Ye=Nt.getPBKDF2KeyHexFromParam(ze,Me),st={};st.ciphertext=I.enc.Hex.parse(ze.ciphertext);var dt=I.enc.Hex.parse(Ye),ut=I.enc.Hex.parse(ze.encryptionSchemeIV),be=I.TripleDES.decrypt(st,dt,{iv:ut});return I.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Pe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Pe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null};if(Pe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var st=$e(Pe,0);if(st.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Pe.substr(st[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Pe,st[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Pe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ye.algoid=ze(Pe,dt[0]),Pe.substr(dt[1],2)=="06"&&(Ye.algparam=ze(Pe,dt[1])),Pe.substr(st[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ye.keyidx=Me.getVidx(Pe,st[2]),Ye},getKeyFromPlainPrivatePKCS8PEM:function(Pe){var Me=xt(Pe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Pe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Pe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new V.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new V.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Pe),Me},_getKeyFromPublicPKCS8Hex:function(Pe){var Me,$e=ke.getVbyList(Pe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new V.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new V.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Pe),Me},parsePublicRawRSAKeyHex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={};if(Pe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var st=$e(Pe,0);if(st.length!=2)throw new Error("malformed RSA key(code:002)");if(Pe.substr(st[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ye.n=ze(Pe,st[0]),Pe.substr(st[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ye.e=ze(Pe,st[1]),Ye},parsePublicPKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null},st=$e(Pe,0);if(st.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+st.length);var dt=st[0];if(Pe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Pe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Pe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ye.algoid=ze(Pe,ut[0]),Pe.substr(ut[1],2)=="06"?Ye.algparam=ze(Pe,ut[1]):Pe.substr(ut[1],2)=="30"&&(Ye.algparam={},Ye.algparam.p=Me.getVbyList(Pe,ut[1],[0],"02"),Ye.algparam.q=Me.getVbyList(Pe,ut[1],[1],"02"),Ye.algparam.g=Me.getVbyList(Pe,ut[1],[2],"02")),Pe.substr(st[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ye.key=ze(Pe,st[1]).substr(2),Ye}}}();Nt.getKey=function(C,T,R){var N=(ut=ke).getChildIdx,G=(ut.getV,ut.getVbyList),se=V.crypto,we=se.ECDSA,Ie=se.DSA,xe=Se,Pe=xt,Me=Nt;if(xe!==void 0&&C instanceof xe||we!==void 0&&C instanceof we||Ie!==void 0&&C instanceof Ie)return C;if(C.curve!==void 0&&C.xy!==void 0&&C.d===void 0)return new we({pub:C.xy,curve:C.curve});if(C.curve!==void 0&&C.d!==void 0)return new we({prv:C.d,curve:C.curve});if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(zt=new xe).setPublic(C.n,C.e),zt;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.co!==void 0&&C.qi===void 0)return(zt=new xe).setPrivateEx(C.n,C.e,C.d,C.p,C.q,C.dp,C.dq,C.co),zt;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p===void 0)return(zt=new xe).setPrivate(C.n,C.e,C.d),zt;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x===void 0)return(zt=new Ie).setPublic(C.p,C.q,C.g,C.y),zt;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x!==void 0)return(zt=new Ie).setPrivate(C.p,C.q,C.g,C.y,C.x),zt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(zt=new xe).setPublic(dn(C.n),dn(C.e)),zt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.qi!==void 0)return(zt=new xe).setPrivateEx(dn(C.n),dn(C.e),dn(C.d),dn(C.p),dn(C.q),dn(C.dp),dn(C.dq),dn(C.qi)),zt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0)return(zt=new xe).setPrivate(dn(C.n),dn(C.e),dn(C.d)),zt;if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d===void 0){var $e=(kt=new we({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);return kt.setPublicKeyHex(ze),kt}if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d!==void 0){$e=(kt=new we({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);var Ye=("0000000000"+dn(C.d)).slice(-$e);return kt.setPublicKeyHex(ze),kt.setPrivateKeyHex(Ye),kt}if(R==="pkcs5prv"){var st,dt=C,ut=ke;if((st=N(dt,0)).length===9)(zt=new xe).readPKCS5PrvKeyHex(dt);else if(st.length===6)(zt=new Ie).readPKCS5PrvKeyHex(dt);else{if(!(st.length>2&&dt.substr(st[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(zt=new we).readPKCS5PrvKeyHex(dt)}return zt}if(R==="pkcs8prv")return zt=Me.getKeyFromPlainPrivatePKCS8Hex(C);if(R==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(C);if(R==="x509pub")return Qt.getPublicKeyFromCertHex(C);if(C.indexOf("-END CERTIFICATE-",0)!=-1||C.indexOf("-END X509 CERTIFICATE-",0)!=-1||C.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Qt.getPublicKeyFromCertPEM(C);if(C.indexOf("-END PUBLIC KEY-")!=-1){var be=xt(C,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(be)}if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var De=Pe(C,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var Ue=G(Fn=Pe(C,"DSA PRIVATE KEY"),0,[1],"02"),Ke=G(Fn,0,[2],"02"),lt=G(Fn,0,[3],"02"),mt=G(Fn,0,[4],"02"),Ft=G(Fn,0,[5],"02");return(zt=new Ie).setPrivate(new q(Ue,16),new q(Ke,16),new q(lt,16),new q(mt,16),new q(Ft,16)),zt}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1)return De=Pe(C,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(C.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(C);if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Tt=Me.getDecryptedKeyHex(C,T),pn=new Se;return pn.readPKCS5PrvKeyHex(Tt),pn}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var kt,zt=G(Fn=Me.getDecryptedKeyHex(C,T),0,[1],"04"),Bn=G(Fn,0,[2,0],"06"),Mn=G(Fn,0,[3,0],"03").substr(2);if(V.crypto.OID.oidhex2name[Bn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Bn);return(kt=new we({curve:V.crypto.OID.oidhex2name[Bn]})).setPublicKeyHex(Mn),kt.setPrivateKeyHex(zt),kt.isPublic=!1,kt}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Fn;return Ue=G(Fn=Me.getDecryptedKeyHex(C,T),0,[1],"02"),Ke=G(Fn,0,[2],"02"),lt=G(Fn,0,[3],"02"),mt=G(Fn,0,[4],"02"),Ft=G(Fn,0,[5],"02"),(zt=new Ie).setPrivate(new q(Ue,16),new q(Ke,16),new q(lt,16),new q(mt,16),new q(Ft,16)),zt}if(C.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(C,T);throw new Error("not supported argument")},Nt.generateKeypair=function(C,T){if(C=="RSA"){var R=T;(we=new Se).generate(R,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new Se,G=we.n.toString(16),se=we.e.toString(16);return N.setPublic(G,se),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}if(C=="EC"){var we,Ie,xe=T,Pe=new V.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(we=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),we.setPrivateKeyHex(Pe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}throw new Error("unknown algorithm: "+C)},Nt.getPEM=function(C,T,R,N,G,se){var we=V,Ie=we.asn1,xe=Ie.DERObjectIdentifier,Pe=Ie.DERInteger,Me=Ie.ASN1Util.newObject,$e=Ie.x509.SubjectPublicKeyInfo,ze=we.crypto,Ye=ze.DSA,st=ze.ECDSA,dt=Se;function ut(kt){return Me({seq:[{int:0},{int:{bigint:kt.n}},{int:kt.e},{int:{bigint:kt.d}},{int:{bigint:kt.p}},{int:{bigint:kt.q}},{int:{bigint:kt.dmp1}},{int:{bigint:kt.dmq1}},{int:{bigint:kt.coeff}}]})}function be(kt){return Me({seq:[{int:1},{octstr:{hex:kt.prvKeyHex}},{tag:["a0",!0,{oid:{name:kt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+kt.pubKeyHex}}]}]})}function De(kt){return Me({seq:[{int:0},{int:{bigint:kt.p}},{int:{bigint:kt.q}},{int:{bigint:kt.g}},{int:{bigint:kt.y}},{int:{bigint:kt.x}}]})}if((dt!==void 0&&C instanceof dt||Ye!==void 0&&C instanceof Ye||st!==void 0&&C instanceof st)&&C.isPublic==1&&(T===void 0||T=="PKCS8PUB"))return wt(mt=new $e(C).getEncodedHex(),"PUBLIC KEY");if(T=="PKCS1PRV"&&dt!==void 0&&C instanceof dt&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=ut(C).getEncodedHex(),"RSA PRIVATE KEY");if(T=="PKCS1PRV"&&st!==void 0&&C instanceof st&&(R===void 0||R==null)&&C.isPrivate==1){var Ue=new xe({name:C.curveName}).getEncodedHex(),Ke=be(C).getEncodedHex(),lt="";return lt+=wt(Ue,"EC PARAMETERS"),lt+=wt(Ke,"EC PRIVATE KEY")}if(T=="PKCS1PRV"&&Ye!==void 0&&C instanceof Ye&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=De(C).getEncodedHex(),"DSA PRIVATE KEY");if(T=="PKCS5PRV"&&dt!==void 0&&C instanceof dt&&R!==void 0&&R!=null&&C.isPrivate==1){var mt=ut(C).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,se)}if(T=="PKCS5PRV"&&st!==void 0&&C instanceof st&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=be(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,se);if(T=="PKCS5PRV"&&Ye!==void 0&&C instanceof Ye&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=De(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,se);var Ft=function(zt,Bn){var Mn=Tt(zt,Bn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Mn.pbkdf2Salt}},{int:Mn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Mn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Mn.ciphertext}}]}).getEncodedHex()},Tt=function(zt,Bn){var Mn=I.lib.WordArray.random(8),Fn=I.lib.WordArray.random(8),Wt=I.PBKDF2(Bn,Mn,{keySize:6,iterations:100}),Kn=I.enc.Hex.parse(zt),hn=I.TripleDES.encrypt(Kn,Wt,{iv:Fn})+"",Yn={};return Yn.ciphertext=hn,Yn.pbkdf2Salt=I.enc.Hex.stringify(Mn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=I.enc.Hex.stringify(Fn),Yn};if(T=="PKCS8PRV"&&dt!=null&&C instanceof dt&&C.isPrivate==1){var pn=ut(C).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY")}if(T=="PKCS8PRV"&&st!==void 0&&C instanceof st&&C.isPrivate==1)return pn=new Me({seq:[{int:1},{octstr:{hex:C.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+C.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:C.curveName}}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY");if(T=="PKCS8PRV"&&Ye!==void 0&&C instanceof Ye&&C.isPrivate==1)return pn=new Pe({bigint:C.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:C.p}},{int:{bigint:C.q}},{int:{bigint:C.g}}]}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Nt.getKeyFromCSRPEM=function(C){var T=xt(C,"CERTIFICATE REQUEST");return Nt.getKeyFromCSRHex(T)},Nt.getKeyFromCSRHex=function(C){var T=Nt.parseCSRHex(C);return Nt.getKey(T.p8pubkeyhex,null,"pkcs8pub")},Nt.parseCSRHex=function(C){var T=ke,R=T.getChildIdx,N=T.getTLV,G={},se=C;if(se.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=R(se,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(se.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Ie=R(se,we[0]);if(Ie.length<3)throw new Error("malformed CSR(code:004)");return G.p8pubkeyhex=N(se,Ie[2]),G},Nt.getKeyID=function(C){var T=Nt,R=ke;typeof C=="string"&&C.indexOf("BEGIN ")!=-1&&(C=T.getKey(C));var N=xt(T.getPEM(C)),G=R.getIdxbyList(N,0,[1]),se=R.getV(N,G).substring(2);return V.crypto.Util.hashHex(se,"sha1")},Nt.getJWKFromKey=function(C){var T={};if(C instanceof Se&&C.isPrivate)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T.d=fn(C.d.toString(16)),T.p=fn(C.p.toString(16)),T.q=fn(C.q.toString(16)),T.dp=fn(C.dmp1.toString(16)),T.dq=fn(C.dmq1.toString(16)),T.qi=fn(C.coeff.toString(16)),T;if(C instanceof Se&&C.isPublic)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T;if(C instanceof V.crypto.ECDSA&&C.isPrivate){if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=C.getPublicKeyXYHex();return T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T.d=fn(C.prvKeyHex),T}if(C instanceof V.crypto.ECDSA&&C.isPublic){var N;if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=C.getPublicKeyXYHex(),T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(C){return ke.getChildIdx(C,0)},Se.getHexValueArrayOfChildrenFromHex=function(C){var T,R=ke.getV,N=R(C,(T=Se.getPosArrayOfChildrenFromHex(C))[0]),G=R(C,T[1]),se=R(C,T[2]),we=R(C,T[3]),Ie=R(C,T[4]),xe=R(C,T[5]),Pe=R(C,T[6]),Me=R(C,T[7]),$e=R(C,T[8]);return(T=new Array).push(N,G,se,we,Ie,xe,Pe,Me,$e),T},Se.prototype.readPrivateKeyFromPEMString=function(C){var T=xt(C),R=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(C){var T=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8])},Se.prototype.readPKCS8PrvKeyHex=function(C){var T,R,N,G,se,we,Ie,xe,Pe=ke,Me=Pe.getVbyListEx;if(Pe.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");try{T=Me(C,0,[2,0,1],"02"),R=Me(C,0,[2,0,2],"02"),N=Me(C,0,[2,0,3],"02"),G=Me(C,0,[2,0,4],"02"),se=Me(C,0,[2,0,5],"02"),we=Me(C,0,[2,0,6],"02"),Ie=Me(C,0,[2,0,7],"02"),xe=Me(C,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(T,R,N,G,se,we,Ie,xe)},Se.prototype.readPKCS5PubKeyHex=function(C){var T=ke,R=T.getV;if(T.isASN1HEX(C)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=T.getChildIdx(C,0);if(N.length!==2||C.substr(N[0],2)!=="02"||C.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var G=R(C,N[0]),se=R(C,N[1]);this.setPublic(G,se)},Se.prototype.readPKCS8PubKeyHex=function(C){var T=ke;if(T.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");if(T.getTLVbyListEx(C,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=T.getTLVbyListEx(C,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(C,T){var R,N;(R=new Qt).readCertHex(C),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function en(C,T){for(var R="",N=T/4-C.length,G=0;G<N;G++)R+="0";return R+C}function Rn(C,T,R){for(var N="",G=0;N.length<T;)N+=un(R(Ln(C+String.fromCharCode.apply(String,[(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G])))),G+=1;return N}function Kt(C){for(var T in V.crypto.Util.DIGESTINFOHEAD){var R=V.crypto.Util.DIGESTINFOHEAD[T],N=R.length;if(C.substring(0,N)==R)return[T,C.substring(N)]}return[]}function Qt(C){var T,R=ke,N=R.getChildIdx,G=R.getV,se=R.getTLV,we=R.getVbyList,Ie=R.getVbyListEx,xe=R.getTLVbyList,Pe=R.getTLVbyListEx,Me=R.getIdxbyList,$e=R.getIdxbyListEx,ze=R.getVidx,Ye=R.getInt,st=R.oidname,dt=R.hextooidstr,ut=xt;try{T=V.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=xe(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var De=xe(be,0,[0]),Ue=Ye(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Ie(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Pe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var De in T)if(be===T[De])return De;return st(Ie(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return Me(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return Nt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new V.crypto.Signature({alg:De});return lt.init(be),lt.updateHex(Ke),lt.verify(Ue)},this.parseExt=function(be){var De,Ue,Ke;if(be===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Ue=N(Ke,De)}else{Ke=xt(be);var lt=Me(Ke,0,[0,3,0,0],"06");if(G(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Ue=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var Ft={critical:!1},Tt=0;N(Ke,Ue[mt]).length===3&&(Ft.critical=!0,Tt=1),Ft.oid=R.hextooidstr(we(Ke,Ue[mt],[0],"06"));var pn=Me(Ke,Ue[mt],[1+Tt]);Ft.vidx=ze(Ke,pn),this.aExtInfo.push(Ft)}},this.getExtInfo=function(be){var De=this.aExtInfo,Ue=be;if(be.match(/^[0-9.]+$/)||(Ue=V.asn1.x509.OID.name2oid(be)),Ue!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Ue)return De[Ke]}},this.getExtBasicConstraints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),be==="3000")return Ke;if(be==="30030101ff")return Ke.cA=!0,Ke;if(be.substr(0,12)==="30060101ff02"){var lt=G(be,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(be).split(","),Ke},this.getExtKeyUsageBin=function(be){if(be===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";be=se(this.hex,De.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var Ue="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(Ue=Ue.slice(-8)),be.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(be){for(var De=this.getExtKeyUsageBin(be),Ue=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Ue.push(Qt.KEYUSAGE_NAME[Ke]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=G(be,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=be.substr(lt[mt],2);if(Ft==="80"&&(Ke.kid={hex:G(be,lt[mt])}),Ft==="a1"){var Tt=se(be,lt[mt]),pn=this.getGeneralNames(Tt);Ke.issuer=pn[0].dn}Ft==="82"&&(Ke.sn={hex:G(be,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++)Ke.array.push(st(G(be,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var De=new Array,Ue=se(this.hex,be.vidx);if(Ue==="")return De;for(var Ke=N(Ue,0),lt=0;lt<Ke.length;lt++)De.push(st(G(Ue,Ke[lt])));return De},this.getExtSubjectAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getExtIssuerAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getGeneralNames=function(be){for(var De=N(be,0),Ue=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(se(be,De[Ke]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(be){var De=be.substr(0,2),Ue=G(be,0),Ke=un(Ue);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var be,De,Ue,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=se(this.hex,Ke.vidx),Ft=N(mt,0),Tt=0;Tt<Ft.length;Tt++)Ue=mt.substr(Ft[Tt],2),be=G(mt,Ft[Tt]),Ue==="81"&&(De=on(be),lt.push(["MAIL",De])),Ue==="82"&&(De=on(be),lt.push(["DNS",De])),Ue==="84"&&(De=Qt.hex2dn(be,0),lt.push(["DN",De])),Ue==="86"&&(De=on(be),lt.push(["URI",De])),Ue==="87"&&(De=ft(be),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=se(be,lt[mt]);Ke.array.push(this.getDistributionPoint(Ft))}return Ke},this.getDistributionPoint=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=se(be,Ue[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=se(be,Ue[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var De=new Array,Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++)try{var lt=on(we(this.hex,Ue[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++){var lt=we(this.hex,Ue[Ke],[0],"06"),mt=we(this.hex,Ue[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(on(mt)),lt==="2b06010505073002"&&De.caissuer.push(on(mt))}return De},this.getExtAuthorityInfoAccess=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=Ie(be,lt[mt],[0],"06"),Tt=on(we(be,lt[mt],[1],"86"));if(Ft=="2b06010505073001")Ke.array.push({ocsp:Tt});else{if(Ft!="2b06010505073002")throw new Error("unknown method: "+Ft);Ke.array.push({caissuer:Tt})}}return Ke},this.getExtCertificatePolicies=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=se(be,lt[mt]),Tt=this.getPolicyInformation(Ft);Ke.array.push(Tt)}return Ke},this.getPolicyInformation=function(be){var De={},Ue=we(be,0,[0],"06");De.policyoid=st(Ue);var Ke=$e(be,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(be,Ke),mt=0;mt<lt.length;mt++){var Ft=se(be,lt[mt]),Tt=this.getPolicyQualifierInfo(Ft);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(be){var De={},Ue=we(be,0,[0],"06");if(Ue==="2b06010505070201"){var Ke=Ie(be,0,[1],"16");De.cps=un(Ke)}else if(Ue==="2b06010505070202"){var lt=xe(be,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=se(be,Ue[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(be){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],De.str=un(G(be,0)),De},this.getExtCRLNumber=function(be,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),be.substr(0,2)=="02")return Ue.num={hex:G(be,0)},Ue;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),be.substr(0,2)=="0a")return Ue.code=parseInt(G(be,0),16),Ue;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ke=G(be,0);return Ue.hex=Ke,Ue},this.getExtOcspNoCheck=function(be,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(be,0);if(lt.length>1){var mt=se(be,lt[1]),Ft=this.getGeneralName(mt);Ft.uri!=null&&(Ke.uri=Ft.uri)}if(lt.length>2){var Tt=se(be,lt[2]);Tt=="0101ff"&&(Ke.reqauth=!0),Tt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(be){for(var De=null,Ue=[],Ke=0;Ke<be.length;Ke++)for(var lt=be[Ke],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ke=0;Ke<Ue.length;Ke++){var Ft=Ue[Ke],Tt=Ft.ds,pn=Ft.value,kt=Ft.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(kt!="CN")return"mixed";if(V.lang.String.isMail(pn))continue;return"mixed"}if(kt=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(be){var De=this.getX500NameArray(be);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getRDN(se(be,Ue[Ke])));return De},this.getRDN=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getAttrTypeAndValue(se(be,Ue[Ke])));return De},this.getAttrTypeAndValue=function(be){var De={type:null,value:null,ds:null},Ue=N(be,0),Ke=we(be,Ue[0],[],"06"),lt=we(be,Ue[1],[]),mt=V.asn1.ASN1Util.oidHexToInt(Ke);return De.type=V.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[be.substr(Ue[1],2)],De.ds!="bmp"?De.value=on(lt):De.value=it(lt),De},this.readCertPEM=function(be){this.readCertHex(ut(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=wt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(be=Pe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=se(be,Ue[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(be){var De=N(be,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+be);var Ue=dt(we(be,0,[0],"06")),Ke=!1;De==3&&xe(be,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(be,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var Ft={extname:Ue,extn:lt};return Ke&&(Ft.critical=!0),Ft},this.findExt=function(be,De){for(var Ue=0;Ue<be.length;Ue++)if(be[Ue].extname==De)return be[Ue];return null},this.updateExtCDPFullURI=function(be,De){var Ue=this.findExt(be,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,Ft=0;Ft<mt.length;Ft++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(be){return"/"+be.map(function(De){return function(Ke){return Ke.map(function(lt){return function(Ft){return Ft.type+"="+Ft.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,De,Ue,Ke=function(Wt){return JSON.stringify(Wt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var hr=hn[Yn];if(Kn+="    policy oid: "+hr.policyoid+`
`,hr.array!==void 0)for(var pr=0;pr<hr.array.length;pr++){var or=hr.array[pr];or.cps!==void 0&&(Kn+="    cps: "+or.cps+`
`)}}return Kn},mt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var hr=hn[Yn];try{hr.dpname.full[0].uri!==void 0&&(Kn+="    "+hr.dpname.full[0].uri+`
`)}catch{}try{hr.dname.full[0].dn.hex!==void 0&&(Kn+="    "+Qt.hex2dn(hr.dpname.full[0].dn.hex)+`
`)}catch{}}return Kn},Ft=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var hr=hn[Yn];hr.caissuer!==void 0&&(Kn+="    caissuer: "+hr.caissuer+`
`),hr.ocsp!==void 0&&(Kn+="    ocsp: "+hr.ocsp+`
`)}return Kn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(be+="    n="+Vt(De.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Vt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Ue.length;Tt++){var pn=Ue[Tt],kt=V.asn1.x509.OID.oid2name(pn.oid);kt===""&&(kt=pn.oid);var zt="";if(pn.critical===!0&&(zt="CRITICAL"),be+="  "+kt+" "+zt+`:
`,kt==="basicConstraints"){var Bn=this.getExtBasicConstraints();Bn.cA===void 0?be+=`    {}
`:(be+="    cA=true",Bn.pathLen!==void 0&&(be+=", pathLen="+Bn.pathLen),be+=`
`)}else if(kt==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(kt==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(kt==="authorityKeyIdentifier"){var Mn=this.getExtAuthorityKeyIdentifier();Mn.kid!==void 0&&(be+="    kid="+Mn.kid.hex+`
`)}else kt==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:kt==="subjectAltName"?be+="    "+Ke(this.getExtSubjectAltName())+`
`:kt==="cRLDistributionPoints"?be+=mt(this.getExtCRLDistributionPoints()):kt==="authorityInfoAccess"?be+=Ft(this.getExtAuthorityInfoAccess()):kt==="certificatePolicies"&&(be+=lt(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof C=="string"&&(C.indexOf("-----BEGIN")!=-1?this.readCertPEM(C):V.lang.String.isHex(C)&&this.readCertHex(C))}Se.prototype.sign=function(C,T){var R=function(G){return V.crypto.Util.hashString(G,T)}(C);return this.signWithMessageHash(R,T)},Se.prototype.signWithMessageHash=function(C,T){var R=gt(V.crypto.Util.getPaddedDigestInfoHex(C,T,this.n.bitLength()),16);return en(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(C,T,R){var N=function(se){return V.crypto.Util.hashHex(se,T)}(Ln(C));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,T,R)},Se.prototype.signWithMessageHashPSS=function(C,T,R){var N,G=un(C),se=G.length,we=this.n.bitLength()-1,Ie=Math.ceil(we/8),xe=function(be){return V.crypto.Util.hashHex(be,T)};if(R===-1||R===void 0)R=se;else if(R===-2)R=Ie-se-2;else if(R<-2)throw new Error("invalid salt length");if(Ie<se+R+2)throw new Error("data too long");var Pe="";R>0&&(Pe=new Array(R),new nt().nextBytes(Pe),Pe=String.fromCharCode.apply(String,Pe));var Me=un(xe(Ln("\0\0\0\0\0\0\0\0"+G+Pe))),$e=[];for(N=0;N<Ie-R-se-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Pe,Ye=Rn(Me,ze.length,xe),st=[];for(N=0;N<ze.length;N+=1)st[N]=ze.charCodeAt(N)^Ye.charCodeAt(N);var dt=65280>>8*Ie-we&255;for(st[0]&=~dt,N=0;N<se;N++)st.push(Me.charCodeAt(N));return st.push(188),en(this.doPrivate(new q(st)).toString(16),this.n.bitLength())},Se.prototype.verify=function(C,T){if((T=T.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(T,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var G=this.doPublic(R).toString(16);if(G.length+3!=N/4)return!1;var se=Kt(G.replace(/^1f+00/,""));if(se.length==0)return!1;var we=se[0];return se[1]==function(xe){return V.crypto.Util.hashString(xe,we)}(C)},Se.prototype.verifyWithMessageHash=function(C,T){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(T,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Kt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==C)},Se.prototype.verifyPSS=function(C,T,R,N){var G=function(we){return V.crypto.Util.hashHex(we,R)}(Ln(C));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(G,T,R,N)},Se.prototype.verifyWithMessageHashPSS=function(C,T,R,N){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var G,se=new q(T,16),we=function(Ue){return V.crypto.Util.hashHex(Ue,R)},Ie=un(C),xe=Ie.length,Pe=this.n.bitLength()-1,Me=Math.ceil(Pe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(se).toByteArray();for(G=0;G<$e.length;G+=1)$e[G]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Ye=$e.substr(ze.length,xe),st=65280>>8*Me-Pe&255;if(ze.charCodeAt(0)&st)throw new Error("bits beyond keysize not zero");var dt=Rn(Ye,ze.length,we),ut=[];for(G=0;G<ze.length;G+=1)ut[G]=ze.charCodeAt(G)^dt.charCodeAt(G);ut[0]&=~st;var be=Me-xe-N-2;for(G=0;G<be;G+=1)if(ut[G]!==0)throw new Error("leftmost octets not zero");if(ut[be]!==1)throw new Error("0x01 marker not found");return Ye===un(we(Ln("\0\0\0\0\0\0\0\0"+Ie+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Qt.hex2dn=function(C,T){T===void 0&&(T=0);var R=new Qt;return ke.getTLV(C,T),R.getX500Name(C).str},Qt.hex2rdn=function(C,T){if(T===void 0&&(T=0),C.substr(T,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=ke.getChildIdx(C,T),G=0;G<N.length;G++)R.push(Qt.hex2attrTypeValue(C,N[G]));return(R=R.map(function(se){return se.replace("+","\\+")})).join("+")},Qt.hex2attrTypeValue=function(C,T){var R=ke,N=R.getV;if(T===void 0&&(T=0),C.substr(T,2)!=="30")throw new Error("malformed attribute type and value");var G=R.getChildIdx(C,T);G.length!==2||C.substr(G[0],2);var se=N(C,G[0]),we=V.asn1.ASN1Util.oidHexToInt(se);return V.asn1.x509.OID.oid2atype(we)+"="+un(N(C,G[1]))},Qt.getPublicKeyFromCertHex=function(C){var T=new Qt;return T.readCertHex(C),T.getPublicKey()},Qt.getPublicKeyFromCertPEM=function(C){var T=new Qt;return T.readCertPEM(C),T.getPublicKey()},Qt.getPublicKeyInfoPropOfCertPEM=function(C){var T,R,N=ke.getVbyList,G={};return G.algparam=null,(T=new Qt).readCertPEM(C),R=T.getPublicKeyHex(),G.keyhex=N(R,0,[1],"03").substr(2),G.algoid=N(R,0,[0,0],"06"),G.algoid==="2a8648ce3d0201"&&(G.algparam=N(R,0,[0,1],"06")),G},Qt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],V!==void 0&&V||(r.KJUR=V={}),V.jws!==void 0&&V.jws||(V.jws={}),V.jws.JWS=function(){var C=V.jws.JWS.isSafeJSONString;this.parseJWS=function(T,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=T.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var G=N[1],se=N[2],we=N[3],Ie=G+"."+se;if(this.parsedJWS={},this.parsedJWS.headB64U=G,this.parsedJWS.payloadB64U=se,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Ie,!R){var xe=dn(we),Pe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Pe}var Me=Ze(G),$e=Ze(se);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!C(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},V.jws.JWS.sign=function(C,T,R,N,G){var se,we,Ie,xe=V,Pe=xe.jws.JWS,Me=Pe.readSafeJSONString,$e=Pe.isSafeJSONString,ze=xe.crypto,Ye=(ze.ECDSA,ze.Mac),st=ze.Signature,dt=JSON;if(typeof T!="string"&&(T===void 0?"undefined":x(T))!="object")throw"spHeader must be JSON string or object: "+T;if((T===void 0?"undefined":x(T))=="object"&&(we=T,se=dt.stringify(we)),typeof T=="string"){if(!$e(se=T))throw"JWS Head is not safe JSON string: "+se;we=Me(se)}if(Ie=R,(R===void 0?"undefined":x(R))=="object"&&(Ie=dt.stringify(R)),C!=""&&C!=null||we.alg===void 0||(C=we.alg),C!=""&&C!=null&&we.alg===void 0&&(we.alg=C,se=dt.stringify(we)),C!==we.alg)throw"alg and sHeader.alg doesn't match: "+C+"!="+we.alg;var ut=null;if(Pe.jwsalg2sigalg[C]===void 0)throw"unsupported alg name: "+C;ut=Pe.jwsalg2sigalg[C];var be=je(se)+"."+je(Ie),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Ye({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(be),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new st({alg:ut})).init(N,G),lt.updateString(be);var Ke=lt.sign();De=V.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new st({alg:ut})).init(N,G),lt.updateString(be),De=lt.sign())}return be+"."+fn(De)},V.jws.JWS.verify=function(C,T,R){var N,G=V,se=G.jws.JWS,we=se.readSafeJSONString,Ie=G.crypto,xe=Ie.ECDSA,Pe=Ie.Mac,Me=Ie.Signature;x(Se)!==void 0&&(N=Se);var $e=C.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Ye=dn($e[2]),st=we(Ze($e[0])),dt=null,ut=null;if(st.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=st.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&T===null)throw"key shall be specified to verify.";if(typeof T=="string"&&T.indexOf("-----BEGIN ")!=-1&&(T=Nt.getKey(T)),!(ut!="RS"&&ut!="PS"||T instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(T instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(se.jwsalg2sigalg[st.alg]===void 0)throw"unsupported alg name: "+dt;if((be=se.jwsalg2sigalg[dt])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(T===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Pe({alg:be,pass:T});return De.updateString(ze),Ye==De.doFinal()}if(be.indexOf("withECDSA")!=-1){var Ue,Ke=null;try{Ke=xe.concatSigToASN1Sig(Ye)}catch{return!1}return(Ue=new Me({alg:be})).init(T),Ue.updateString(ze),Ue.verify(Ke)}return(Ue=new Me({alg:be})).init(T),Ue.updateString(ze),Ue.verify(Ye)},V.jws.JWS.parse=function(C){var T,R,N,G=C.split("."),se={};if(G.length!=2&&G.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return T=G[0],R=G[1],G.length==3&&(N=G[2]),se.headerObj=V.jws.JWS.readSafeJSONString(Ze(T)),se.payloadObj=V.jws.JWS.readSafeJSONString(Ze(R)),se.headerPP=JSON.stringify(se.headerObj,null,"  "),se.payloadObj==null?se.payloadPP=Ze(R):se.payloadPP=JSON.stringify(se.payloadObj,null,"  "),N!==void 0&&(se.sigHex=dn(N)),se},V.jws.JWS.verifyJWT=function(C,T,R){var N=V.jws,G=N.JWS,se=G.readSafeJSONString,we=G.inArray,Ie=G.includedArray,xe=C.split("."),Pe=xe[0],Me=xe[1],$e=(dn(xe[2]),se(Ze(Pe))),ze=se(Ze(Me));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!we($e.alg,R.alg)||ze.iss!==void 0&&x(R.iss)==="object"&&!we(ze.iss,R.iss)||ze.sub!==void 0&&x(R.sub)==="object"&&!we(ze.sub,R.sub))return!1;if(ze.aud!==void 0&&x(R.aud)==="object"){if(typeof ze.aud=="string"){if(!we(ze.aud,R.aud))return!1}else if(x(ze.aud)=="object"&&!Ie(ze.aud,R.aud))return!1}var Ye=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Ye=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+R.gracePeriod<Ye)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Ye<ze.nbf-R.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Ye<ze.iat-R.gracePeriod)&&(ze.jti===void 0||R.jti===void 0||ze.jti===R.jti)&&!!G.verify(C,T,R.alg)},V.jws.JWS.includedArray=function(C,T){var R=V.jws.JWS.inArray;if(C===null||(C===void 0?"undefined":x(C))!=="object"||typeof C.length!="number")return!1;for(var N=0;N<C.length;N++)if(!R(C[N],T))return!1;return!0},V.jws.JWS.inArray=function(C,T){if(T===null||(T===void 0?"undefined":x(T))!=="object"||typeof T.length!="number")return!1;for(var R=0;R<T.length;R++)if(T[R]==C)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(C,T,R){var N=null;try{return((N=K(C))===void 0?"undefined":x(N))!="object"||N.constructor===Array?0:(T&&(T[R]=N),1)}catch{return 0}},V.jws.JWS.readSafeJSONString=function(C){var T=null;try{return((T=K(C))===void 0?"undefined":x(T))!="object"||T.constructor===Array?null:T}catch{return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(C){var T=C.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(T==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return T[1]},V.jws.JWS.getJWKthumbprint=function(C){if(C.kty!=="RSA"&&C.kty!=="EC"&&C.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var T="{";if(C.kty==="RSA"){if(typeof C.n!="string"||typeof C.e!="string")throw"wrong n and e value for RSA key";T+='"e":"'+C.e+'",',T+='"kty":"'+C.kty+'",',T+='"n":"'+C.n+'"}'}else if(C.kty==="EC"){if(typeof C.crv!="string"||typeof C.x!="string"||typeof C.y!="string")throw"wrong crv, x and y value for EC key";T+='"crv":"'+C.crv+'",',T+='"kty":"'+C.kty+'",',T+='"x":"'+C.x+'",',T+='"y":"'+C.y+'"}'}else if(C.kty==="oct"){if(typeof C.k!="string")throw"wrong k value for oct(symmetric) key";T+='"kty":"'+C.kty+'",',T+='"k":"'+C.k+'"}'}var R=Ln(T);return fn(V.crypto.Util.hashHex(R,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(C){var T=V.jws.IntDate,R=T.getNow,N=T.getZulu;if(C=="now")return R();if(C=="now + 1hour")return R()+3600;if(C=="now + 1day")return R()+86400;if(C=="now + 1month")return R()+2592e3;if(C=="now + 1year")return R()+31536e3;if(C.match(/Z$/))return N(C);if(C.match(/^[0-9]+$/))return parseInt(C);throw"unsupported format: "+C},V.jws.IntDate.getZulu=function(C){return qn(C)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(C){return new Date(1e3*C).toUTCString()},V.jws.IntDate.intDate2Zulu=function(C){var T=new Date(1e3*C);return("0000"+T.getUTCFullYear()).slice(-4)+("00"+(T.getUTCMonth()+1)).slice(-2)+("00"+T.getUTCDate()).slice(-2)+("00"+T.getUTCHours()).slice(-2)+("00"+T.getUTCMinutes()).slice(-2)+("00"+T.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=he,r.BigInteger=q,r.RSAKey=Se;var xn=V.crypto.EDSA;r.EDSA=xn;var En=V.crypto.DSA;r.DSA=En;var Un=V.crypto.Signature;r.Signature=Un;var Tr=V.crypto.MessageDigest;r.MessageDigest=Tr;var Ur=V.crypto.Mac;r.Mac=Ur;var Br=V.crypto.Cipher;r.Cipher=Br,r.KEYUTIL=Nt,r.ASN1HEX=ke,r.X509=Qt,r.CryptoJS=I,r.b64tohex=Q,r.b64toBA=Y,r.stoBA=At,r.BAtos=Ot,r.BAtohex=Dt,r.stohex=Rt,r.stob64=function(T){return j(Rt(T))},r.stob64u=function(T){return Bt(j(Rt(T)))},r.b64utos=function(T){return Ot(Y(Er(T)))},r.b64tob64u=Bt,r.b64utob64=Er,r.hex2b64=j,r.hextob64u=fn,r.b64utohex=dn,r.utf8tob64u=je,r.b64utoutf8=Ze,r.utf8tob64=function(T){return j(Jn(Et(T)))},r.b64toutf8=function(T){return decodeURIComponent(We(Q(T)))},r.utf8tohex=dr,r.hextoutf8=on,r.hextorstr=un,r.rstrtohex=Ln,r.hextob64=sr,r.hextob64nl=Oe,r.b64nltohex=qe,r.hextopem=wt,r.pemtohex=xt,r.hextoArrayBuffer=function(T){if(T.length%2!=0)throw"input is not even length";if(T.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(T.length/2),N=new DataView(R),G=0;G<T.length/2;G++)N.setUint8(G,parseInt(T.substr(2*G,2),16));return R},r.ArrayBuffertohex=function(T){for(var R="",N=new DataView(T),G=0;G<T.byteLength;G++)R+=("00"+N.getUint8(G).toString(16)).slice(-2);return R},r.zulutomsec=Lt,r.zulutosec=qn,r.zulutodate=function(T){return new Date(Lt(T))},r.datetozulu=function(T,R,N){var G,se=T.getUTCFullYear();if(R){if(se<1950||2049<se)throw"not proper year for UTCTime: "+se;G=(""+se).slice(-2)}else G=("000"+se).slice(-4);if(G+=("0"+(T.getUTCMonth()+1)).slice(-2),G+=("0"+T.getUTCDate()).slice(-2),G+=("0"+T.getUTCHours()).slice(-2),G+=("0"+T.getUTCMinutes()).slice(-2),G+=("0"+T.getUTCSeconds()).slice(-2),N){var we=T.getUTCMilliseconds();we!==0&&(G+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return G+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ee,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(T){var R="malformed IP address";if(!(T=T.toLowerCase(T)).match(/^[0-9.]+$/)){if(T.match(/^[0-9a-f:]+$/)&&T.indexOf(":")!==-1)return Ee(T);throw R}var N=T.split(".");if(N.length!==4)throw R;var G="";try{for(var se=0;se<4;se++)G+=("0"+parseInt(N[se]).toString(16)).slice(-2);return G}catch{throw R}},r.encodeURIComponentAll=Et,r.newline_toUnix=function(T){return T=T.replace(/\r\n/gm,`
`)},r.newline_toDos=function(T){return T=(T=T.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Vt,r.intarystrtohex=function(T){T=(T=(T=T.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return T.split(/,/).map(function(R,N,G){var se=parseInt(R);if(se<0||255<se)throw"integer not in range 0-255";return("00"+se.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(T,R){var N=T.length;T.length>R.length&&(N=R.length);for(var G=0;G<N;G++)if(T.charCodeAt(G)!=R.charCodeAt(G))return G;return T.length!=R.length?N:-1},r.KJUR=V;var Rr=V.crypto;r.crypto=Rr;var Nn=V.asn1;r.asn1=Nn;var Wr=V.jws;r.jws=Wr;var Bi=V.lang;r.lang=Bi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=i(30),o=i(31),l=i(32);function f(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(ie,z){if(f()<z)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(z)).__proto__=p.prototype:(ie===null&&(ie=new p(z)),ie.length=z),ie}function p(ie,z,$){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(ie,z,$);if(typeof ie=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,ie)}return m(this,ie,z,$)}function m(ie,z,$,re){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function(he,ye,He,Te){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Te||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Te===void 0?new Uint8Array(ye):Te===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Te),p.TYPED_ARRAY_SUPPORT?(he=ye).__proto__=p.prototype:he=b(he,ye),he}(ie,z,$,re):typeof z=="string"?function(he,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!p.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Te=0|x(ye,He),Ne=(he=h(he,Te)).write(ye,He);return Ne!==Te&&(he=he.slice(0,Ne)),he}(ie,z,$):function(he,ye){if(p.isBuffer(ye)){var He=0|S(ye.length);return(he=h(he,He)).length===0||ye.copy(he,0,0,He),he}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Ne){return Ne!=Ne}(ye.length)?h(he,0):b(he,ye);if(ye.type==="Buffer"&&l(ye.data))return b(he,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,z)}function y(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function _(ie,z){if(y(z),ie=h(ie,z<0?0:0|S(z)),!p.TYPED_ARRAY_SUPPORT)for(var $=0;$<z;++$)ie[$]=0;return ie}function b(ie,z){var $=z.length<0?0:0|S(z.length);ie=h(ie,$);for(var re=0;re<$;re+=1)ie[re]=255&z[re];return ie}function S(ie){if(ie>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|ie}function x(ie,z){if(p.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;typeof ie!="string"&&(ie=""+ie);var $=ie.length;if($===0)return 0;for(var re=!1;;)switch(z){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Re(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Fe(ie).length;default:if(re)return Re(ie).length;z=(""+z).toLowerCase(),re=!0}}function E(ie,z,$){var re=!1;if((z===void 0||z<0)&&(z=0),z>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(z>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return le(this,z,$);case"utf8":case"utf-8":return te(this,z,$);case"ascii":return ge(this,z,$);case"latin1":case"binary":return _e(this,z,$);case"base64":return fe(this,z,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,z,$);default:if(re)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),re=!0}}function A(ie,z,$){var re=ie[z];ie[z]=ie[$],ie[$]=re}function I(ie,z,$,re,W){if(ie.length===0)return-1;if(typeof $=="string"?(re=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=W?0:ie.length-1),$<0&&($=ie.length+$),$>=ie.length){if(W)return-1;$=ie.length-1}else if($<0){if(!W)return-1;$=0}if(typeof z=="string"&&(z=p.from(z,re)),p.isBuffer(z))return z.length===0?-1:M(ie,z,$,re,W);if(typeof z=="number")return z&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(ie,z,$):Uint8Array.prototype.lastIndexOf.call(ie,z,$):M(ie,[z],$,re,W);throw new TypeError("val must be string, number or Buffer")}function M(ie,z,$,re,W){var he,ye=1,He=ie.length,Te=z.length;if(re!==void 0&&((re=String(re).toLowerCase())==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(ie.length<2||z.length<2)return-1;ye=2,He/=2,Te/=2,$/=2}function Ne(Ut,Se){return ye===1?Ut[Se]:Ut.readUInt16BE(Se*ye)}if(W){var tt=-1;for(he=$;he<He;he++)if(Ne(ie,he)===Ne(z,tt===-1?0:he-tt)){if(tt===-1&&(tt=he),he-tt+1===Te)return tt*ye}else tt!==-1&&(he-=he-tt),tt=-1}else for($+Te>He&&($=He-Te),he=$;he>=0;he--){for(var nt=!0,gt=0;gt<Te;gt++)if(Ne(ie,he+gt)!==Ne(z,gt)){nt=!1;break}if(nt)return he}return-1}function D(ie,z,$,re){$=Number($)||0;var W=ie.length-$;re?(re=Number(re))>W&&(re=W):re=W;var he=z.length;if(he%2!=0)throw new TypeError("Invalid hex string");re>he/2&&(re=he/2);for(var ye=0;ye<re;++ye){var He=parseInt(z.substr(2*ye,2),16);if(isNaN(He))return ye;ie[$+ye]=He}return ye}function j(ie,z,$,re){return Xe(Re(z,ie.length-$),ie,$,re)}function Q(ie,z,$,re){return Xe(function(he){for(var ye=[],He=0;He<he.length;++He)ye.push(255&he.charCodeAt(He));return ye}(z),ie,$,re)}function Y(ie,z,$,re){return Q(ie,z,$,re)}function q(ie,z,$,re){return Xe(Fe(z),ie,$,re)}function Z(ie,z,$,re){return Xe(function(he,ye){for(var He,Te,Ne,tt=[],nt=0;nt<he.length&&!((ye-=2)<0);++nt)Te=(He=he.charCodeAt(nt))>>8,Ne=He%256,tt.push(Ne),tt.push(Te);return tt}(z,ie.length-$),ie,$,re)}function fe(ie,z,$){return z===0&&$===ie.length?s.fromByteArray(ie):s.fromByteArray(ie.slice(z,$))}function te(ie,z,$){$=Math.min(ie.length,$);for(var re=[],W=z;W<$;){var he,ye,He,Te,Ne=ie[W],tt=null,nt=Ne>239?4:Ne>223?3:Ne>191?2:1;if(W+nt<=$)switch(nt){case 1:Ne<128&&(tt=Ne);break;case 2:(192&(he=ie[W+1]))==128&&(Te=(31&Ne)<<6|63&he)>127&&(tt=Te);break;case 3:he=ie[W+1],ye=ie[W+2],(192&he)==128&&(192&ye)==128&&(Te=(15&Ne)<<12|(63&he)<<6|63&ye)>2047&&(Te<55296||Te>57343)&&(tt=Te);break;case 4:he=ie[W+1],ye=ie[W+2],He=ie[W+3],(192&he)==128&&(192&ye)==128&&(192&He)==128&&(Te=(15&Ne)<<18|(63&he)<<12|(63&ye)<<6|63&He)>65535&&Te<1114112&&(tt=Te)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,re.push(tt>>>10&1023|55296),tt=56320|1023&tt),re.push(tt),W+=nt}return function(Ut){var Se=Ut.length;if(Se<=oe)return String.fromCharCode.apply(String,Ut);for(var Be="",X=0;X<Se;)Be+=String.fromCharCode.apply(String,Ut.slice(X,X+=oe));return Be}(re)}r.Buffer=p,r.SlowBuffer=function(z){return+z!=z&&(z=0),p.alloc(+z)},r.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=f(),p.poolSize=8192,p._augment=function(ie){return ie.__proto__=p.prototype,ie},p.from=function(ie,z,$){return m(null,ie,z,$)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(ie,z,$){return function(W,he,ye,He){return y(he),he<=0?h(W,he):ye!==void 0?typeof He=="string"?h(W,he).fill(ye,He):h(W,he).fill(ye):h(W,he)}(null,ie,z,$)},p.allocUnsafe=function(ie){return _(null,ie)},p.allocUnsafeSlow=function(ie){return _(null,ie)},p.isBuffer=function(z){return!(z==null||!z._isBuffer)},p.compare=function(z,$){if(!p.isBuffer(z)||!p.isBuffer($))throw new TypeError("Arguments must be Buffers");if(z===$)return 0;for(var re=z.length,W=$.length,he=0,ye=Math.min(re,W);he<ye;++he)if(z[he]!==$[he]){re=z[he],W=$[he];break}return re<W?-1:W<re?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,$){if(!l(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);var re;if($===void 0)for($=0,re=0;re<z.length;++re)$+=z[re].length;var W=p.allocUnsafe($),he=0;for(re=0;re<z.length;++re){var ye=z[re];if(!p.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(W,he),he+=ye.length}return W},p.byteLength=x,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<z;$+=2)A(this,$,$+1);return this},p.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<z;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},p.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<z;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},p.prototype.toString=function(){var z=0|this.length;return z===0?"":arguments.length===0?te(this,0,z):E.apply(this,arguments)},p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||p.compare(this,z)===0},p.prototype.inspect=function(){var z="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(z+=" ... ")),"<Buffer "+z+">"},p.prototype.compare=function(z,$,re,W,he){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),re===void 0&&(re=z?z.length:0),W===void 0&&(W=0),he===void 0&&(he=this.length),$<0||re>z.length||W<0||he>this.length)throw new RangeError("out of range index");if(W>=he&&$>=re)return 0;if(W>=he)return-1;if($>=re)return 1;if(this===z)return 0;for(var ye=(he>>>=0)-(W>>>=0),He=(re>>>=0)-($>>>=0),Te=Math.min(ye,He),Ne=this.slice(W,he),tt=z.slice($,re),nt=0;nt<Te;++nt)if(Ne[nt]!==tt[nt]){ye=Ne[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},p.prototype.includes=function(z,$,re){return this.indexOf(z,$,re)!==-1},p.prototype.indexOf=function(z,$,re){return I(this,z,$,re,!0)},p.prototype.lastIndexOf=function(z,$,re){return I(this,z,$,re,!1)},p.prototype.write=function(z,$,re,W){if($===void 0)W="utf8",re=this.length,$=0;else if(re===void 0&&typeof $=="string")W=$,re=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(re)?(re|=0,W===void 0&&(W="utf8")):(W=re,re=void 0)}var he=this.length-$;if((re===void 0||re>he)&&(re=he),z.length>0&&(re<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var ye=!1;;)switch(W){case"hex":return D(this,z,$,re);case"utf8":case"utf-8":return j(this,z,$,re);case"ascii":return Q(this,z,$,re);case"latin1":case"binary":return Y(this,z,$,re);case"base64":return q(this,z,$,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,z,$,re);default:if(ye)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ye=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function ge(ie,z,$){var re="";$=Math.min(ie.length,$);for(var W=z;W<$;++W)re+=String.fromCharCode(127&ie[W]);return re}function _e(ie,z,$){var re="";$=Math.min(ie.length,$);for(var W=z;W<$;++W)re+=String.fromCharCode(ie[W]);return re}function le(ie,z,$){var re=ie.length;(!z||z<0)&&(z=0),(!$||$<0||$>re)&&($=re);for(var W="",he=z;he<$;++he)W+=Je(ie[he]);return W}function ce(ie,z,$){for(var re=ie.slice(z,$),W="",he=0;he<re.length;he+=2)W+=String.fromCharCode(re[he]+256*re[he+1]);return W}function Le(ie,z,$){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+z>$)throw new RangeError("Trying to access beyond buffer length")}function k(ie,z,$,re,W,he){if(!p.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>W||z<he)throw new RangeError('"value" argument is out of bounds');if($+re>ie.length)throw new RangeError("Index out of range")}function ne(ie,z,$,re){z<0&&(z=65535+z+1);for(var W=0,he=Math.min(ie.length-$,2);W<he;++W)ie[$+W]=(z&255<<8*(re?W:1-W))>>>8*(re?W:1-W)}function me(ie,z,$,re){z<0&&(z=4294967295+z+1);for(var W=0,he=Math.min(ie.length-$,4);W<he;++W)ie[$+W]=z>>>8*(re?W:3-W)&255}function H(ie,z,$,re,W,he){if($+re>ie.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function J(ie,z,$,re,W){return W||H(ie,0,$,4),o.write(ie,z,$,re,23,4),$+4}function pe(ie,z,$,re,W){return W||H(ie,0,$,8),o.write(ie,z,$,re,52,8),$+8}p.prototype.slice=function(z,$){var re,W=this.length;if((z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),($=$===void 0?W:~~$)<0?($+=W)<0&&($=0):$>W&&($=W),$<z&&($=z),p.TYPED_ARRAY_SUPPORT)(re=this.subarray(z,$)).__proto__=p.prototype;else{var he=$-z;re=new p(he,void 0);for(var ye=0;ye<he;++ye)re[ye]=this[ye+z]}return re},p.prototype.readUIntLE=function(z,$,re){z|=0,$|=0,re||Le(z,$,this.length);for(var W=this[z],he=1,ye=0;++ye<$&&(he*=256);)W+=this[z+ye]*he;return W},p.prototype.readUIntBE=function(z,$,re){z|=0,$|=0,re||Le(z,$,this.length);for(var W=this[z+--$],he=1;$>0&&(he*=256);)W+=this[z+--$]*he;return W},p.prototype.readUInt8=function(z,$){return $||Le(z,1,this.length),this[z]},p.prototype.readUInt16LE=function(z,$){return $||Le(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUInt16BE=function(z,$){return $||Le(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUInt32LE=function(z,$){return $||Le(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},p.prototype.readUInt32BE=function(z,$){return $||Le(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readIntLE=function(z,$,re){z|=0,$|=0,re||Le(z,$,this.length);for(var W=this[z],he=1,ye=0;++ye<$&&(he*=256);)W+=this[z+ye]*he;return W>=(he*=128)&&(W-=Math.pow(2,8*$)),W},p.prototype.readIntBE=function(z,$,re){z|=0,$|=0,re||Le(z,$,this.length);for(var W=$,he=1,ye=this[z+--W];W>0&&(he*=256);)ye+=this[z+--W]*he;return ye>=(he*=128)&&(ye-=Math.pow(2,8*$)),ye},p.prototype.readInt8=function(z,$){return $||Le(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},p.prototype.readInt16LE=function(z,$){$||Le(z,2,this.length);var re=this[z]|this[z+1]<<8;return 32768&re?4294901760|re:re},p.prototype.readInt16BE=function(z,$){$||Le(z,2,this.length);var re=this[z+1]|this[z]<<8;return 32768&re?4294901760|re:re},p.prototype.readInt32LE=function(z,$){return $||Le(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,$){return $||Le(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readFloatLE=function(z,$){return $||Le(z,4,this.length),o.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,$){return $||Le(z,4,this.length),o.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,$){return $||Le(z,8,this.length),o.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,$){return $||Le(z,8,this.length),o.read(this,z,!1,52,8)},p.prototype.writeUIntLE=function(z,$,re,W){z=+z,$|=0,re|=0,W||k(this,z,$,re,Math.pow(2,8*re)-1,0);var he=1,ye=0;for(this[$]=255&z;++ye<re&&(he*=256);)this[$+ye]=z/he&255;return $+re},p.prototype.writeUIntBE=function(z,$,re,W){z=+z,$|=0,re|=0,W||k(this,z,$,re,Math.pow(2,8*re)-1,0);var he=re-1,ye=1;for(this[$+he]=255&z;--he>=0&&(ye*=256);)this[$+he]=z/ye&255;return $+re},p.prototype.writeUInt8=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,1,255,0),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[$]=255&z,$+1},p.prototype.writeUInt16LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ne(this,z,$,!0),$+2},p.prototype.writeUInt16BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ne(this,z,$,!1),$+2},p.prototype.writeUInt32LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$+3]=z>>>24,this[$+2]=z>>>16,this[$+1]=z>>>8,this[$]=255&z):me(this,z,$,!0),$+4},p.prototype.writeUInt32BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},p.prototype.writeIntLE=function(z,$,re,W){if(z=+z,$|=0,!W){var he=Math.pow(2,8*re-1);k(this,z,$,re,he-1,-he)}var ye=0,He=1,Te=0;for(this[$]=255&z;++ye<re&&(He*=256);)z<0&&Te===0&&this[$+ye-1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+re},p.prototype.writeIntBE=function(z,$,re,W){if(z=+z,$|=0,!W){var he=Math.pow(2,8*re-1);k(this,z,$,re,he-1,-he)}var ye=re-1,He=1,Te=0;for(this[$+ye]=255&z;--ye>=0&&(He*=256);)z<0&&Te===0&&this[$+ye+1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+re},p.prototype.writeInt8=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,1,127,-128),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[$]=255&z,$+1},p.prototype.writeInt16LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ne(this,z,$,!0),$+2},p.prototype.writeInt16BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ne(this,z,$,!1),$+2},p.prototype.writeInt32LE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8,this[$+2]=z>>>16,this[$+3]=z>>>24):me(this,z,$,!0),$+4},p.prototype.writeInt32BE=function(z,$,re){return z=+z,$|=0,re||k(this,z,$,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},p.prototype.writeFloatLE=function(z,$,re){return J(this,z,$,!0,re)},p.prototype.writeFloatBE=function(z,$,re){return J(this,z,$,!1,re)},p.prototype.writeDoubleLE=function(z,$,re){return pe(this,z,$,!0,re)},p.prototype.writeDoubleBE=function(z,$,re){return pe(this,z,$,!1,re)},p.prototype.copy=function(z,$,re,W){if(re||(re=0),W||W===0||(W=this.length),$>=z.length&&($=z.length),$||($=0),W>0&&W<re&&(W=re),W===re||z.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),z.length-$<W-re&&(W=z.length-$+re);var he,ye=W-re;if(this===z&&re<$&&$<W)for(he=ye-1;he>=0;--he)z[he+$]=this[he+re];else if(ye<1e3||!p.TYPED_ARRAY_SUPPORT)for(he=0;he<ye;++he)z[he+$]=this[he+re];else Uint8Array.prototype.set.call(z,this.subarray(re,re+ye),$);return ye},p.prototype.fill=function(z,$,re,W){if(typeof z=="string"){if(typeof $=="string"?(W=$,$=0,re=this.length):typeof re=="string"&&(W=re,re=this.length),z.length===1){var he=z.charCodeAt(0);he<256&&(z=he)}if(W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!p.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else typeof z=="number"&&(z&=255);if($<0||this.length<$||this.length<re)throw new RangeError("Out of range index");if(re<=$)return this;var ye;if($>>>=0,re=re===void 0?this.length:re>>>0,z||(z=0),typeof z=="number")for(ye=$;ye<re;++ye)this[ye]=z;else{var He=p.isBuffer(z)?z:Re(new p(z,W).toString()),Te=He.length;for(ye=0;ye<re-$;++ye)this[ye+$]=He[ye%Te]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g;function Je(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function Re(ie,z){var $;z=z||1/0;for(var re=ie.length,W=null,he=[],ye=0;ye<re;++ye){if(($=ie.charCodeAt(ye))>55295&&$<57344){if(!W){if($>56319){(z-=3)>-1&&he.push(239,191,189);continue}if(ye+1===re){(z-=3)>-1&&he.push(239,191,189);continue}W=$;continue}if($<56320){(z-=3)>-1&&he.push(239,191,189),W=$;continue}$=65536+(W-55296<<10|$-56320)}else W&&(z-=3)>-1&&he.push(239,191,189);if(W=null,$<128){if((z-=1)<0)break;he.push($)}else if($<2048){if((z-=2)<0)break;he.push($>>6|192,63&$|128)}else if($<65536){if((z-=3)<0)break;he.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;he.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return he}function Fe(ie){return s.toByteArray(function($){if(($=function(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")}($).replace(Ae,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(ie))}function Xe(ie,z,$,re){for(var W=0;W<re&&!(W+$>=z.length||W>=ie.length);++W)z[W+$]=ie[W];return W}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(_){var b=p(_),S=b[0],x=b[1];return 3*(S+x)/4-x},r.toByteArray=function(_){var b,S,x=p(_),E=x[0],A=x[1],I=new o(function(Q,Y,q){return 3*(Y+q)/4-q}(0,E,A)),M=0,D=A>0?E-4:E;for(S=0;S<D;S+=4)b=s[_.charCodeAt(S)]<<18|s[_.charCodeAt(S+1)]<<12|s[_.charCodeAt(S+2)]<<6|s[_.charCodeAt(S+3)],I[M++]=b>>16&255,I[M++]=b>>8&255,I[M++]=255&b;return A===2&&(b=s[_.charCodeAt(S)]<<2|s[_.charCodeAt(S+1)]>>4,I[M++]=255&b),A===1&&(b=s[_.charCodeAt(S)]<<10|s[_.charCodeAt(S+1)]<<4|s[_.charCodeAt(S+2)]>>2,I[M++]=b>>8&255,I[M++]=255&b),I},r.fromByteArray=function(_){for(var b,S=_.length,x=S%3,E=[],A=16383,I=0,M=S-x;I<M;I+=A)E.push(m(_,I,I+A>M?M:I+A));return x===1?(b=_[S-1],E.push(a[b>>2]+a[b<<4&63]+"==")):x===2&&(b=(_[S-2]<<8)+_[S-1],E.push(a[b>>10]+a[b>>4&63]+a[b<<2&63]+"=")),E.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=l.length;f<h;++f)a[f]=l[f],s[l.charCodeAt(f)]=f;function p(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");return b===-1&&(b=_),[b,b===_?0:4-b%4]}function m(y,_,b){for(var S,x,E=[],A=_;A<b;A+=3)S=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),E.push(a[(x=S)>>18&63]+a[x>>12&63]+a[x>>6&63]+a[63&x]);return E.join("")}s[45]=62,s[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,s,o,l){var f,h,p=8*l-o-1,m=(1<<p)-1,y=m>>1,_=-7,b=s?l-1:0,S=s?-1:1,x=i[a+b];for(b+=S,f=x&(1<<-_)-1,x>>=-_,_+=p;_>0;f=256*f+i[a+b],b+=S,_-=8);for(h=f&(1<<-_)-1,f>>=-_,_+=o;_>0;h=256*h+i[a+b],b+=S,_-=8);if(f===0)f=1-y;else{if(f===m)return h?NaN:1/0*(x?-1:1);h+=Math.pow(2,o),f-=y}return(x?-1:1)*h*Math.pow(2,f-o)},r.write=function(i,a,s,o,l,f){var h,p,m,y=8*f-l-1,_=(1<<y)-1,b=_>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:f-1,E=o?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(p=isNaN(a)?1:0,h=_):(h=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-h))<1&&(h--,m*=2),(a+=h+b>=1?S/m:S*Math.pow(2,1-b))*m>=2&&(h++,m/=2),h+b>=_?(p=0,h=_):h+b>=1?(p=(a*m-1)*Math.pow(2,l),h+=b):(p=a*Math.pow(2,b-1)*Math.pow(2,l),h=0));l>=8;i[s+x]=255&p,x+=E,p/=256,l-=8);for(h=h<<l|p,y+=l;y>0;i[s+x]=255&h,x+=E,h/=256,y-=8);i[s+x-E]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(o){var l=o.jws,f=o.KeyUtil,h=o.X509,p=o.crypto,m=o.hextob64u,y=o.b64tohex,_=o.AllowedSigningAlgs;return function(){function b(){(function(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")})(this,b)}return b.parseJwt=function(x){a.Log.debug("JoseUtil.parseJwt");try{var E=l.JWS.parse(x);return{header:E.headerObj,payload:E.payloadObj}}catch(A){a.Log.error(A)}},b.validateJwt=function(x,E,A,I,M,D,j){a.Log.debug("JoseUtil.validateJwt");try{if(E.kty==="RSA")if(E.e&&E.n)E=f.getKey(E);else{if(!E.x5c||!E.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",E),Promise.reject(new Error("RSA key missing key material"));var Q=y(E.x5c[0]);E=h.getPublicKeyFromCertHex(Q)}else{if(E.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",E&&E.kty),Promise.reject(new Error(E.kty));if(!(E.crv&&E.x&&E.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",E),Promise.reject(new Error("EC key missing key material"));E=f.getKey(E)}return b._validateJwt(x,E,A,I,M,D,j)}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject("JWT validation failed")}},b.validateJwtAttributes=function(x,E,A,I,M,D){I||(I=0),M||(M=parseInt(Date.now()/1e3));var j=b.parseJwt(x).payload;if(!j.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(j.iss!==E)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",j.iss),Promise.reject(new Error("Invalid issuer in token: "+j.iss));if(!j.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(j.aud===A||Array.isArray(j.aud)&&j.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",j.aud),Promise.reject(new Error("Invalid audience in token: "+j.aud));if(j.azp&&j.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",j.azp),Promise.reject(new Error("Invalid azp in token: "+j.azp));if(!D){var Q=M+I,Y=M-I;if(!j.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<j.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",j.iat),Promise.reject(new Error("iat is in the future: "+j.iat));if(j.nbf&&Q<j.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",j.nbf),Promise.reject(new Error("nbf is in the future: "+j.nbf));if(!j.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(j.exp<Y)return a.Log.error("JoseUtil._validateJwt: exp is in the past",j.exp),Promise.reject(new Error("exp is in the past:"+j.exp))}return Promise.resolve(j)},b._validateJwt=function(x,E,A,I,M,D,j){return b.validateJwtAttributes(x,A,I,M,D,j).then(function(Q){try{return l.JWS.verify(x,E,_)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject(new Error("signature validation failed"))}})},b.hashString=function(x,E){try{return p.Util.hashString(x,E)}catch(A){a.Log.error(A)}},b.hexToBase64Url=function(x){try{return m(x)}catch(E){a.Log.error(E)}},b}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}(),s=i(3);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";o(this,l);var p=s.UrlUtility.parseUrlFragment(f,h);this.error=p.error,this.error_description=p.error_description,this.error_uri=p.error_uri,this.code=p.code,this.state=p.state,this.id_token=p.id_token,this.session_state=p.session_state,this.access_token=p.access_token,this.token_type=p.token_type,this.scope=p.scope,this.profile=void 0,this.expires_in=p.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var p=parseInt(h);if(typeof p=="number"&&p>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+p}}},{key:"expired",get:function(){var h=this.expires_in;if(h!==void 0)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),s=i(3),o=i(9);r.SignoutRequest=function l(f){var h=f.url,p=f.id_token_hint,m=f.post_logout_redirect_uri,y=f.data,_=f.extraQueryParams,b=f.request_type;if(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in p&&(h=s.UrlUtility.addQueryParam(h,"id_token_hint",p)),m&&(h=s.UrlUtility.addQueryParam(h,"post_logout_redirect_uri",m),y&&(this.state=new o.State({data:y,request_type:b}),h=s.UrlUtility.addQueryParam(h,"state",this.state.id))),_)h=s.UrlUtility.addQueryParam(h,S,_[S]);this.url=h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function s(o){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s);var l=a.UrlUtility.parseUrlFragment(o,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.InMemoryWebStorage=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._data={}}return o.prototype.getItem=function(f){return s.Log.debug("InMemoryWebStorage.getItem",f),this._data[f]},o.prototype.setItem=function(f,h){s.Log.debug("InMemoryWebStorage.setItem",f),this._data[f]=h},o.prototype.removeItem=function(f){s.Log.debug("InMemoryWebStorage.removeItem",f),delete this._data[f]},o.prototype.key=function(f){return Object.getOwnPropertyNames(this._data)[f]},a(o,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(I,M){for(var D=0;D<M.length;D++){var j=M[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,M,D){return M&&A(I.prototype,M),D&&A(I,D),I}}(),s=i(0),o=i(10),l=i(39),f=i(15),h=i(45),p=i(47),m=i(18),y=i(8),_=i(20),b=i(11),S=i(4);function x(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function E(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?A:I}r.UserManager=function(A){function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.SilentRenewService,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.TokenRevocationClient,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:b.TokenClient,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;x(this,I),M instanceof l.UserManagerSettings||(M=new l.UserManagerSettings(M));var Z=E(this,A.call(this,M));return Z._events=new h.UserManagerEvents(M),Z._silentRenewService=new D(Z),Z.settings.automaticSilentRenew&&(s.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Z.startSilentRenew()),Z.settings.monitorSession&&(s.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Z._sessionMonitor=new j(Z)),Z._tokenRevocationClient=new Q(Z._settings),Z._tokenClient=new Y(Z._settings),Z._joseUtil=q,Z}return function(D,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);D.prototype=Object.create(j&&j.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(D,j):D.__proto__=j)}(I,A),I.prototype.getUser=function(){var D=this;return this._loadUser().then(function(j){return j?(s.Log.info("UserManager.getUser: user loaded"),D._events.load(j,!1),j):(s.Log.info("UserManager.getUser: user not found in storage"),null)})},I.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){s.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},I.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var j={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,j).then(function(){s.Log.info("UserManager.signinRedirect: successful")})},I.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(j){return j.profile&&j.profile.sub?s.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",j.profile.sub):s.Log.info("UserManager.signinRedirectCallback: no sub"),j})},I.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var j=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return j?(D.redirect_uri=j,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:j,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?s.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):s.Log.info("UserManager.signinPopup: no sub")),Q})):(s.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},I.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(j){return j&&(j.profile&&j.profile.sub?s.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",j.profile.sub):s.Log.info("UserManager.signinPopupCallback: no sub")),j}).catch(function(j){s.Log.error(j.message)})},I.prototype.signinSilent=function(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j=Object.assign({},j),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(j.refresh_token=Q.refresh_token,D._useRefreshToken(j)):(j.request_type="si:s",j.id_token_hint=j.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(s.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),j.current_sub=Q.profile.sub),D._signinSilentIframe(j))})},I.prototype._useRefreshToken=function(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(j).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(Y){if(Y){var q=Promise.resolve();return Q.id_token&&(q=D._validateIdTokenFromTokenRefreshToken(Y.profile,Q.id_token)),q.then(function(){return s.Log.debug("UserManager._useRefreshToken: refresh token response success"),Y.id_token=Q.id_token||Y.id_token,Y.access_token=Q.access_token,Y.refresh_token=Q.refresh_token||Y.refresh_token,Y.expires_in=Q.expires_in,D.storeUser(Y).then(function(){return D._events.load(Y),Y})})}return null}):(s.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(s.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},I.prototype._validateIdTokenFromTokenRefreshToken=function(D,j){var Q=this;return this._metadataService.getIssuer().then(function(Y){return Q.settings.getEpochTime().then(function(q){return Q._joseUtil.validateJwtAttributes(j,Y,Q._settings.client_id,Q._settings.clockSkew,q).then(function(Z){return Z?Z.sub!==D.sub?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Z.auth_time&&Z.auth_time!==D.auth_time?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Z.azp&&Z.azp!==D.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Z.azp&&D.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},I.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return j?(D.redirect_uri=j,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:j,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?s.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):s.Log.info("UserManager.signinSilent: no sub")),Q})):(s.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(j){return j&&(j.profile&&j.profile.sub?s.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",j.profile.sub):s.Log.info("UserManager.signinSilentCallback: no sub")),j})},I.prototype.signinCallback=function(D){var j=this;return this.readSigninResponseState(D).then(function(Q){var Y=Q.state;return Q.response,Y.request_type==="si:r"?j.signinRedirectCallback(D):Y.request_type==="si:p"?j.signinPopupCallback(D):Y.request_type==="si:s"?j.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},I.prototype.signoutCallback=function(D,j){var Q=this;return this.readSignoutResponseState(D).then(function(Y){var q=Y.state,Z=Y.response;return q?q.request_type==="so:r"?Q.signoutRedirectCallback(D):q.request_type==="so:p"?Q.signoutPopupCallback(D,j):Promise.reject(new Error("invalid response_type in state")):Z})},I.prototype.querySessionStatus=function(){var D=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(j=Object.assign({},j)).request_type="si:s";var Q=j.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(j.redirect_uri=Q,j.prompt="none",j.response_type=j.response_type||this.settings.query_status_response_type,j.scope=j.scope||"openid",j.skipUserInfo=!0,this._signinStart(j,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:j.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Y){return D.processSigninResponse(Y.url).then(function(q){if(s.Log.debug("UserManager.querySessionStatus: got signin response"),q.session_state&&q.profile.sub)return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",q.profile.sub),{session_state:q.session_state,sub:q.profile.sub,sid:q.profile.sid};s.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(q){if(q.session_state&&D.settings.monitorAnonymousSession&&(q.message=="login_required"||q.message=="consent_required"||q.message=="interaction_required"||q.message=="account_selection_required"))return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:q.session_state};throw q})})):(s.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype._signin=function(D,j){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,j,Y).then(function(q){return Q._signinEnd(q.url,D)})},I.prototype._signinStart=function(D,j){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j.prepare(Y).then(function(q){return s.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(Z){return s.Log.debug("UserManager._signinStart: got signin request"),Y.url=Z.url,Y.id=Z.state.id,q.navigate(Y)}).catch(function(Z){throw q.close&&(s.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),q.close()),Z})})},I.prototype._signinEnd=function(D){var j=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(Y){s.Log.debug("UserManager._signinEnd: got signin response");var q=new f.User(Y);if(Q.current_sub){if(Q.current_sub!==q.profile.sub)return s.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",q.profile.sub),Promise.reject(new Error("login_required"));s.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return j.storeUser(q).then(function(){return s.Log.debug("UserManager._signinEnd: user stored"),j._events.load(q),q})})},I.prototype._signinCallback=function(D,j){s.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return j.callback(D,void 0,Q)},I.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var j=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;j&&(D.post_logout_redirect_uri=j);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){s.Log.info("UserManager.signoutRedirect: successful")})},I.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(j){return s.Log.info("UserManager.signoutRedirectCallback: successful"),j})},I.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var j=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=j,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:j,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){s.Log.info("UserManager.signoutPopup: successful")})},I.prototype.signoutPopupCallback=function(D,j){return j===void 0&&typeof D=="boolean"&&(j=D,D=null),this._popupNavigator.callback(D,j,"?").then(function(){s.Log.info("UserManager.signoutPopupCallback: successful")})},I.prototype._signout=function(D,j){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,j,Y).then(function(q){return Q._signoutEnd(q.url)})},I.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=this,Q=arguments[1],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(Y).then(function(q){return s.Log.debug("UserManager._signoutStart: got navigator window handle"),j._loadUser().then(function(Z){return s.Log.debug("UserManager._signoutStart: loaded current user from storage"),(j._settings.revokeAccessTokenOnSignout?j._revokeInternal(Z):Promise.resolve()).then(function(){var fe=D.id_token_hint||Z&&Z.id_token;return fe&&(s.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=fe),j.removeUser().then(function(){return s.Log.debug("UserManager._signoutStart: user removed, creating signout request"),j.createSignoutRequest(D).then(function(te){return s.Log.debug("UserManager._signoutStart: got signout request"),Y.url=te.url,te.state&&(Y.id=te.state.id),q.navigate(Y)})})})}).catch(function(Z){throw q.close&&(s.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),q.close()),Z})})},I.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(j){return s.Log.debug("UserManager._signoutEnd: got signout response"),j})},I.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(j){return D._revokeInternal(j,!0).then(function(Q){if(Q)return s.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),j.access_token=null,j.refresh_token=null,j.expires_at=null,j.token_type=null,D.storeUser(j).then(function(){s.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(j)})})}).then(function(){s.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},I.prototype._revokeInternal=function(D,j){var Q=this;if(D){var Y=D.access_token,q=D.refresh_token;return this._revokeAccessTokenInternal(Y,j).then(function(Z){return Q._revokeRefreshTokenInternal(q,j).then(function(fe){return Z||fe||s.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Z||fe})})}return Promise.resolve(!1)},I.prototype._revokeAccessTokenInternal=function(D,j){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,j).then(function(){return!0})},I.prototype._revokeRefreshTokenInternal=function(D,j){return D?this._tokenRevocationClient.revoke(D,j,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},I.prototype.startSilentRenew=function(){this._silentRenewService.start()},I.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},I.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(s.Log.debug("UserManager._loadUser: user storageString loaded"),f.User.fromStorageString(D)):(s.Log.debug("UserManager._loadUser: no user storageString"),null)})},I.prototype.storeUser=function(D){if(D){s.Log.debug("UserManager.storeUser: storing user");var j=D.toStorageString();return this._userStore.set(this._userStoreKey,j)}return s.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(I,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),I}(o.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function b(S,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,x,E){return x&&b(S.prototype,x),E&&b(S,E),S}}(),s=(i(0),i(5)),o=i(40),l=i(41),f=i(43),h=i(6),p=i(1),m=i(8);function y(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function _(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?b:S}r.UserManagerSettings=function(b){function S(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=x.popup_redirect_uri,A=x.popup_post_logout_redirect_uri,I=x.popupWindowFeatures,M=x.popupWindowTarget,D=x.silent_redirect_uri,j=x.silentRequestTimeout,Q=x.automaticSilentRenew,Y=Q!==void 0&&Q,q=x.validateSubOnSilentRenew,Z=q!==void 0&&q,fe=x.includeIdTokenInSilentRenew,te=fe===void 0||fe,oe=x.monitorSession,ge=oe===void 0||oe,_e=x.monitorAnonymousSession,le=_e!==void 0&&_e,ce=x.checkSessionInterval,Le=ce===void 0?2e3:ce,k=x.stopCheckSessionOnError,ne=k===void 0||k,me=x.query_status_response_type,H=x.revokeAccessTokenOnSignout,J=H!==void 0&&H,pe=x.accessTokenExpiringNotificationTime,Ae=pe===void 0?60:pe,Je=x.redirectNavigator,Re=Je===void 0?new o.RedirectNavigator:Je,Fe=x.popupNavigator,Xe=Fe===void 0?new l.PopupNavigator:Fe,ie=x.iframeNavigator,z=ie===void 0?new f.IFrameNavigator:ie,$=x.userStore,re=$===void 0?new h.WebStorageStateStore({store:p.Global.sessionStorage}):$;y(this,S);var W=_(this,b.call(this,arguments[0]));return W._popup_redirect_uri=E,W._popup_post_logout_redirect_uri=A,W._popupWindowFeatures=I,W._popupWindowTarget=M,W._silent_redirect_uri=D,W._silentRequestTimeout=j,W._automaticSilentRenew=Y,W._validateSubOnSilentRenew=Z,W._includeIdTokenInSilentRenew=te,W._accessTokenExpiringNotificationTime=Ae,W._monitorSession=ge,W._monitorAnonymousSession=le,W._checkSessionInterval=Le,W._stopCheckSessionOnError=ne,me?W._query_status_response_type=me:arguments[0]&&arguments[0].response_type?W._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=J,W._redirectNavigator=Re,W._popupNavigator=Xe,W._iframeNavigator=z,W._userStore=re,W}return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}(S,b),a(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(s.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.RedirectNavigator=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(){return Promise.resolve(this)},o.prototype.navigate=function(f){return f&&f.url?(f.useReplaceToNavigate?window.location.replace(f.url):window.location=f.url,Promise.resolve()):(s.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(o,[{key:"url",get:function(){return window.location.href}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),s=i(42);r.PopupNavigator=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(f){var h=new s.PopupWindow(f);return Promise.resolve(h)},o.prototype.callback=function(f,h,p){a.Log.debug("PopupNavigator.callback");try{return s.PopupWindow.notifyOpener(f,h,p),Promise.resolve()}catch(m){return Promise.reject(m)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}(),s=i(0),o=i(3);r.PopupWindow=function(){function l(f){var h=this;(function(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,_){h._resolve=y,h._reject=_});var p=f.popupWindowTarget||"_blank",m=f.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",p,m),this._popup&&(s.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(h){return this._popup?h&&h.url?(s.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=h.id,this._id&&(window["popupCallback_"+h.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=h.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(h){s.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(h)},l.prototype._error=function(h){s.Log.error("PopupWindow.error: ",h),this._cleanup(),this._reject(new Error(h))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(h){s.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!h&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(h,p){this._cleanup(p),h?(s.Log.debug("PopupWindow.callback success"),this._success({url:h})):(s.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(h,p,m){if(window.opener){if(h=h||window.location.href){var y=o.UrlUtility.parseUrlFragment(h,m);if(y.state){var _="popupCallback_"+y.state,b=window.opener[_];b?(s.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),b(h,p)):s.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else s.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else s.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),s=i(44);r.IFrameNavigator=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(f){var h=new s.IFrameWindow(f);return Promise.resolve(h)},o.prototype.callback=function(f){a.Log.debug("IFrameNavigator.callback");try{return s.IFrameWindow.notifyParent(f),Promise.resolve()}catch(h){return Promise.reject(h)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.IFrameWindow=function(){function o(l){var f=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(h,p){f._resolve=h,f._reject=p}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return o.prototype.navigate=function(f){if(f&&f.url){var h=f.silentRequestTimeout||1e4;s.Log.debug("IFrameWindow.navigate: Using timeout of:",h),this._timer=window.setTimeout(this._timeout.bind(this),h),this._frame.src=f.url}else this._error("No url provided");return this.promise},o.prototype._success=function(f){this._cleanup(),s.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(f)},o.prototype._error=function(f){this._cleanup(),s.Log.error(f),this._reject(new Error(f))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._frame&&(s.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},o.prototype._timeout=function(){s.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},o.prototype._message=function(f){if(s.Log.debug("IFrameWindow.message"),this._timer&&f.origin===this._origin&&f.source===this._frame.contentWindow&&typeof f.data=="string"&&(f.data.startsWith("http://")||f.data.startsWith("https://"))){var h=f.data;h?this._success({url:h}):this._error("Invalid response from frame")}},o.notifyParent=function(f){s.Log.debug("IFrameWindow.notifyParent"),(f=f||window.location.href)&&(s.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(f,location.protocol+"//"+location.host))},a(o,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),s=i(16),o=i(17);r.UserManagerEvents=function(l){function f(h){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,f);var p=function(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?y:_}(this,l.call(this,h));return p._userLoaded=new o.Event("User loaded"),p._userUnloaded=new o.Event("User unloaded"),p._silentRenewError=new o.Event("Silent renew error"),p._userSignedIn=new o.Event("User signed in"),p._userSignedOut=new o.Event("User signed out"),p._userSessionChanged=new o.Event("User session changed"),p}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(f,l),f.prototype.load=function(p){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,p),m&&this._userLoaded.raise(p)},f.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},f.prototype.addUserLoaded=function(p){this._userLoaded.addHandler(p)},f.prototype.removeUserLoaded=function(p){this._userLoaded.removeHandler(p)},f.prototype.addUserUnloaded=function(p){this._userUnloaded.addHandler(p)},f.prototype.removeUserUnloaded=function(p){this._userUnloaded.removeHandler(p)},f.prototype.addSilentRenewError=function(p){this._silentRenewError.addHandler(p)},f.prototype.removeSilentRenewError=function(p){this._silentRenewError.removeHandler(p)},f.prototype._raiseSilentRenewError=function(p){a.Log.debug("UserManagerEvents._raiseSilentRenewError",p.message),this._silentRenewError.raise(p)},f.prototype.addUserSignedIn=function(p){this._userSignedIn.addHandler(p)},f.prototype.removeUserSignedIn=function(p){this._userSignedIn.removeHandler(p)},f.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},f.prototype.addUserSignedOut=function(p){this._userSignedOut.addHandler(p)},f.prototype.removeUserSignedOut=function(p){this._userSignedOut.removeHandler(p)},f.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},f.prototype.addUserSessionChanged=function(p){this._userSessionChanged.addHandler(p)},f.prototype.removeUserSessionChanged=function(p){this._userSessionChanged.removeHandler(p)},f.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},f}(s.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function p(m,y){for(var _=0;_<y.length;_++){var b=y[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,y,_){return y&&p(m.prototype,y),_&&p(m,_),m}}(),s=i(0),o=i(1),l=i(17);function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}r.Timer=function(p){function m(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.timer,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;f(this,m);var S=h(this,p.call(this,y));return S._timer=_,S._nowFunc=b||function(){return Date.now()/1e3},S}return function(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}(m,p),m.prototype.init=function(_){_<=0&&(_=1),_=parseInt(_);var b=this.now+_;if(this.expiration===b&&this._timerHandle)s.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),s.Log.debug("Timer.init timer "+this._name+" for duration:",_),this._expiration=b;var S=5;_<S&&(S=_),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},m.prototype.cancel=function(){this._timerHandle&&(s.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var _=this._expiration-this.now;s.Log.debug("Timer.callback; "+this._name+" timer expires in:",_),this._expiration<=this.now&&(this.cancel(),p.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function s(o){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._userManager=o}return s.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},s.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},s.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(f){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(f){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",f.message),l._userManager.events._raiseSilentRenewError(f)})},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function s(){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(l){var f=new a.CordovaPopupWindow(l);return Promise.resolve(f)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function s(){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var f=new a.CordovaPopupWindow(l);return Promise.resolve(f)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(b_)),b_.exports}var PC=aZ();function sZ(t,e){var n,r,i,a;throw t.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=t.error_description)!==null&&r!==void 0?r:""}`):t.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${(i=t.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${t.error} - ${(a=t.error_description)!==null&&a!==void 0?a:""}`)}function oZ(t,e){if(t.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(t.redirect_uris===void 0||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}async function uZ(t,e){var n;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=kQ(e.idTokenSigningAlgValuesSupported,W_),i={client_name:t.clientName,application_type:"web",redirect_uris:[(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},s=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(s.ok){const o=await s.json();return oZ(o,t),{clientId:o.client_id,clientSecret:o.client_secret,idTokenSignedResponseAlg:o.id_token_signed_response_alg,clientType:"dynamic"}}throw s.status===400&&sZ(await s.json(),t),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}function lZ(t){return t.error!==void 0&&typeof t.error=="string"}function aM(t){return t.error_description!==void 0&&typeof t.error_description=="string"}function cZ(t){return t.error_uri!==void 0&&typeof t.error_uri=="string"}function fZ(t){return t.access_token!==void 0&&typeof t.access_token=="string"}function dZ(t){return t.id_token!==void 0&&typeof t.id_token=="string"}function hZ(t){return t.refresh_token!==void 0&&typeof t.refresh_token=="string"}function pZ(t){return t.token_type!==void 0&&typeof t.token_type=="string"}function gZ(t){return t.expires_in===void 0||typeof t.expires_in=="number"}function mZ(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}function KU(t,e){if(lZ(t))throw new HU(`Token endpoint returned error [${t.error}]${aM(t)?`: ${t.error_description}`:""}${cZ(t)?` (see ${t.error_uri})`:""}`,t.error,aM(t)?t.error_description:void 0);if(!fZ(t))throw new dg(["access_token"]);if(!dZ(t))throw new dg(["id_token"]);if(!pZ(t))throw new dg(["token_type"]);if(!gZ(t))throw new dg(["expires_in"]);if(!e&&t.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${t.token_type}].`);return t}async function yZ(t,e,n,r){mZ(t,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await VQ(),i.DPoP=await qA(t.tokenEndpoint,"POST",a)),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const s={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:e.clientId},o={method:"POST",headers:i,body:new URLSearchParams(s).toString()},f=await(await fetch(t.tokenEndpoint,o)).json(),h=KU(f,r),{webId:p,clientId:m}=await FU(h.id_token,t.jwksUri,t.issuer,e.clientId);return{accessToken:h.access_token,idToken:h.id_token,refreshToken:hZ(h)?h.refresh_token:void 0,webId:p,clientId:m,dpopKey:a,expiresIn:h.expires_in}}const vZ=t=>{try{return new URL(t),!0}catch{return!1}};async function _Z(t,e,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:t,scope:NU};let a={};r!==void 0&&(a={DPoP:await qA(e.tokenEndpoint,"POST",r)});let s={};n.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:vZ(n.clientId)&&(i.client_id=n.clientId);const o=await fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...s,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await o.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const f=KU(l,r!==void 0),{webId:h}=await FU(f.id_token,e.jwksUri,e.issuer,n.clientId);return{accessToken:f.access_token,idToken:f.id_token,refreshToken:typeof f.refresh_token=="string"?f.refresh_token:void 0,webId:h,dpopKey:r,expiresIn:f.expires_in}}function wZ(t){const e=$U(t);return e.hash="",t.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function bZ(){await new PC.OidcClient({response_mode:"query"}).clearStaleState(new PC.WebStorageStateStore({}));const e=window.localStorage,n=[];for(let r=0;r<=e.length;r+=1){const i=e.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>e.removeItem(r))}class SZ extends qQ{constructor(e,n){super(e,n)}}class xZ extends UQ{constructor(){super(...arguments),this.login=async(e,n)=>{var r,i;await this.sessionInfoManager.clear(e.sessionId);const a=(r=e.redirectUrl)!==null&&r!==void 0?r:wZ(window.location.href);if(!jU(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:a,clientName:(i=e.clientName)!==null&&i!==void 0?i:e.clientId,eventEmitter:n})},this.validateCurrentSession=async e=>{const n=await this.sessionInfoManager.get(e);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(e,n)=>{try{const r=await this.redirectHandler.handle(e,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(e),n.emit(ti.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(e){const n=$U(e).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function sM(t){return typeof t.oidcIssuer=="string"}function oM(t){return typeof t.redirectUrl=="string"}class EZ{constructor(e,n,r,i){this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(e){return sM(e)&&oM(e)}async handle(e){if(!sM(e))throw new RC(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!oM(e))throw new RC(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const n=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await $Q(e,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class TZ extends AQ{async handle(e){var n;const r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:NU,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=e.prompt)!==null&&n!==void 0?n:"consent"},i=new PC.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const CZ=".well-known/openid-configuration",uM={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function AZ(t){const e={};return Object.keys(t).forEach(n=>{uM[n]&&(e[uM[n].toKey]=t[n])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class zA{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let n;const r=new URL(CZ,e.endsWith("/")?e:`${e}/`).href,i=await fetch(r);try{n=AZ(await i.json())}catch(a){throw new RC(`[${e.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(zA.getLocalStorageKey(e),JSON.stringify(n)),n}}async function RZ(t,e){await BU(t,e),await bZ()}class PZ extends LQ{async get(e){const[n,r,i,a,s,o,l,f]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof s=="string"&&!jU(s)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(f!==void 0&&!DQ(f))throw new Error(`Tokens of type [${f}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&o===void 0))return{sessionId:e,webId:r,isLoggedIn:n==="true",redirectUrl:s,refreshToken:o,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:f??"DPoP"}}async clear(e){return RZ(e,this.storageUtility)}}class OZ{async canHandle(e){try{return new URL(e),!0}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e){return UU()}}class LZ{constructor(e,n,r,i,a){this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(e){try{const n=new URL(e);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const r=new URL(e),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:s,codeVerifier:o,redirectUrl:l,dpop:f}=await zU(a,this.storageUtility,this.issuerConfigFetcher),h=r.searchParams.get("iss");if(typeof h=="string"&&h!==s.issuer)throw new Error(`The value of the iss parameter (${h}) does not match the issuer identifier of the authorization server (${s.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(o===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:a},s),m=Date.now(),y=await yZ(s,p,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:o,redirectUrl:l},f);window.localStorage.removeItem(`oidc.${i}`);let _;y.refreshToken!==void 0&&(_={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const b=await ZQ(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:_,eventEmitter:n,expiresIn:y.expiresIn});await BQ(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const S=await this.sessionInfoManager.get(a);if(!S)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(S,{fetch:b,getLogoutUrl:MQ({idTokenHint:y.idToken,endSessionEndpoint:s.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class IZ extends TQ{constructor(e){super(e)}}class MZ{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,n){this.storage.setItem(e,n)}async delete(e){this.storage.removeItem(e)}}class DZ{redirect(e,n){n&&n.handleRedirect?n.handleRedirect(e):n&&n.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class kZ{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,n){const[r,i,a,s]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]);if(r&&jQ(s))return{clientId:r,clientSecret:i,clientName:a,clientType:s};try{const o=await uZ(e,n),l={clientId:o.clientId,clientType:"dynamic"};return o.clientSecret&&(l.clientSecret=o.clientSecret),o.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=o.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,l,{secure:!1}),o}catch(o){throw new Error(`Client registration failed: [${o}]`)}}}class NZ{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(n!==void 0){const r=new URL(e),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ti.ERROR,i,a)}return UU()}}class FZ{constructor(e,n,r){this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(e,n,r,i){const a=await zU(e,this.storageUtility,this.issuerConfigFetcher),s=await this.clientRegistrar.getClient({sessionId:e},a.issuerConfig);if(n===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const o=await _Z(n,a.issuerConfig,s,r);return o.refreshToken!==void 0&&(i==null||i.emit(ti.NEW_REFRESH_TOKEN,o.refreshToken)),o}}function lM(t){const e=new zQ,n=t.secureStorage||e,r=t.insecureStorage||new MZ,i=new SZ(n,r),a=new zA(i),s=new kZ(i),o=new PZ(i),l=new FZ(i,a,s),f=new DZ,h=new EZ(i,new TZ(i,f),a,s),p=new IZ([new NZ,new LZ(i,o,a,s,l),new OZ]);return new xZ(h,p,new OQ(o,f),o,a)}const T1=`${kU}currentSession`,OC=`${kU}currentUrl`;async function jZ(t,e,n){var r;const i=await e.validateCurrentSession(t);return i!==null?(window.localStorage.setItem(OC,window.location.href),await e.login({sessionId:t,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function $Z(t){return!!(t!=null&&t.isLoggedIn)}class UZ{constructor(e={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(T1),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ti.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,s=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const o=await this.clientAuthentication.handleIncomingRedirect(s,this.events);if($Z(o)){this.setSessionInfo(o);const l=window.localStorage.getItem(OC);l===null?this.events.emit(ti.LOGIN):(window.localStorage.removeItem(OC),this.events.emit(ti.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(T1);if(l!==null&&await jZ(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,o},this.events=new rZ,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=lM({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=lM({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:n??tZ(),isLoggedIn:!1},this.events.on(ti.LOGIN,()=>window.localStorage.setItem(T1,this.info.sessionId)),this.events.on(ti.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ti.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(ti.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let C1;function dm(){return typeof C1>"u"&&(C1=new UZ),C1}const yr=(...t)=>dm().fetch(...t),BZ=(...t)=>dm().login(...t),qZ=(...t)=>dm().logout(...t),zZ=(...t)=>dm().handleIncomingRedirect(...t);var A1,cM;function HZ(){if(cM)return A1;cM=1;var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,o={IDLE:1,URI:2,ATTR:4};function l(_){return _.replace(e,"")}function f(_){return n.test(_)}function h(_,b){for(;f(_[b]);)b++;return b}function p(_){return a.test(_)||!s.test(_)}function m(_,b){return Object.keys(_).length===Object.keys(b).length&&Object.keys(_).every(S=>S in b&&_[S]===b[S])}class y{constructor(b){this.refs=[],b&&this.parse(b)}rel(b){for(var S=[],x=b.toLowerCase(),E=0;E<this.refs.length;E++)typeof this.refs[E].rel=="string"&&this.refs[E].rel.toLowerCase()===x&&S.push(this.refs[E]);return S}get(b,S){b=b.toLowerCase(),S=S.toLowerCase();for(var x=[],E=0;E<this.refs.length;E++)typeof this.refs[E][b]=="string"&&this.refs[E][b].toLowerCase()===S&&x.push(this.refs[E]);return x}set(b){return this.refs.push(b),this}setUnique(b){return this.refs.some(S=>m(S,b))||this.refs.push(b),this}has(b,S){b=b.toLowerCase(),S=S.toLowerCase();for(var x=0;x<this.refs.length;x++)if(typeof this.refs[x][b]=="string"&&this.refs[x][b].toLowerCase()===S)return!0;return!1}parse(b,A){A=A||0,b=A?b.slice(A):b,b=l(b).replace(r,"");for(var x=o.IDLE,E=b.length,A=0,I=null;A<E;)if(x===o.IDLE){if(f(b[A])){A++;continue}else if(b[A]==="<"){I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I));var M=b.indexOf(">",A);if(M===-1)throw new Error("Expected end of URI delimiter at offset "+A);I={uri:b.slice(A+1,M)},A=M,x=o.URI}else throw new Error('Unexpected character "'+b[A]+'" at offset '+A);A++}else if(x===o.URI)if(f(b[A])){A++;continue}else if(b[A]===";")x=o.ATTR,A++;else if(b[A]===",")x=o.IDLE,A++;else throw new Error('Unexpected character "'+b[A]+'" at offset '+A);else if(x===o.ATTR){if(b[A]===";"||f(b[A])){A++;continue}var M=b.indexOf("=",A);M===-1&&(M=b.indexOf(";",A)),M===-1&&(M=b.length);var D=l(b.slice(A,M)).toLowerCase(),j="";if(A=M+1,A=h(b,A),b[A]==='"')for(A++;A<E;){if(b[A]==='"'){A++;break}b[A]==="\\"&&A++,j+=b[A],A++}else{for(var M=A+1;!i.test(b[M])&&M<E;)M++;j=b.slice(A,M),A=M}switch(I[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?I[D]=y.parseExtendedValue(j):(j=D==="type"?j.toLowerCase():j,I[D]!=null?Array.isArray(I[D])?I[D].push(j):I[D]=[I[D],j]:I[D]=j)),b[A]){case",":x=o.IDLE;break;case";":x=o.ATTR;break}A++}else throw new Error('Unknown parser state "'+x+'"');return I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I)),I=null,this}toString(){for(var b=[],S="",x=null,E=0;E<this.refs.length;E++)x=this.refs[E],S=Object.keys(this.refs[E]).reduce(function(A,I){return I==="uri"?A:A+"; "+y.formatAttribute(I,x[I])},"<"+x.uri+">"),b.push(S);return b.join(", ")}}return y.isCompatibleEncoding=function(_){return t.test(_)},y.parse=function(_,b){return new y().parse(_,b)},y.isSingleOccurenceAttr=function(_){return _==="rel"||_==="type"||_==="media"||_==="title"||_==="title*"},y.isTokenAttr=function(_){return _==="rel"||_==="type"||_==="anchor"},y.escapeQuotes=function(_){return _.replace(/"/g,'\\"')},y.expandRelations=function(_){var b=_.rel.split(" ");return b.map(function(S){var x=Object.assign({},_);return x.rel=S,x})},y.parseExtendedValue=function(_){var b=/([^']+)?(?:'([^']*)')?(.+)/.exec(_);return{language:b[2].toLowerCase(),encoding:y.isCompatibleEncoding(b[1])?null:b[1].toLowerCase(),value:y.isCompatibleEncoding(b[1])?decodeURIComponent(b[3]):b[3]}},y.formatExtendedAttribute=function(_,b){var S=(b.encoding||"utf-8").toUpperCase(),x=b.language||"en",E="";return Buffer.isBuffer(b.value)&&y.isCompatibleEncoding(S)?E=b.value.toString(S):Buffer.isBuffer(b.value)?E=b.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):E=encodeURIComponent(b.value),_+"="+S+"'"+x+"'"+E},y.formatAttribute=function(_,b){return Array.isArray(b)?b.map(S=>y.formatAttribute(_,S)).join("; "):_[_.length-1]==="*"||typeof b!="string"?y.formatExtendedAttribute(_,b):(y.isTokenAttr(_)?b=p(b)?'"'+y.escapeQuotes(b)+'"':y.escapeQuotes(b):p(b)&&(b=encodeURIComponent(b),b=b.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),b='"'+b+'"'),_+"="+b)},A1=y,A1}var VZ=HZ();const KZ=Gr(VZ),Yh="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Xh="http://www.w3.org/2001/XMLSchema#",R1="http://www.w3.org/2000/10/swap/",ji={xsd:{decimal:`${Xh}decimal`,boolean:`${Xh}boolean`,double:`${Xh}double`,integer:`${Xh}integer`,string:`${Xh}string`},rdf:{type:`${Yh}type`,nil:`${Yh}nil`,first:`${Yh}first`,rest:`${Yh}rest`,langString:`${Yh}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${R1}reify#forSome`,forAll:`${R1}reify#forAll`},log:{implies:`${R1}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var P1,fM;function GZ(){if(fM)return P1;fM=1;let t;return P1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:og):e=>(t||(t=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),P1}var WZ=GZ();const GU=Gr(WZ),{xsd:Qy}=ji,QZ=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,dM={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},ZZ=/[\x00-\x20<>\\"\{\}\|\^\`]/,JZ={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},YZ=/$0^/;let HA=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in JZ)&&this[n]instanceof RegExp&&(this[n]=YZ)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this._comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let p="",m="",y="",_=null,b=0,S=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(b=1,p="^");break}case"<":if(_=this._unescapedIri.exec(r))p="IRI",m=_[1];else if(_=this._iri.exec(r)){if(m=this._unescape(_[1]),m===null||ZZ.test(m))return s(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",b=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",b=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",b=2);break;case"_":((_=this._blank.exec(r))||n&&(_=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return s(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return s(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(r))&&(p="var",m=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(r))?(p="langcode",m=_[1]):(_=this._keyword.exec(r))&&(p=_[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(r)||n&&(_=this._number.exec(`${r} `)))&&(p="literal",m=_[0],y=typeof _[1]=="string"?Qy.double:typeof _[2]=="string"?Qy.decimal:Qy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(r))?p=_[0].toUpperCase():S=!0;break;case"f":case"t":(_=this._boolean.exec(r))?(p="literal",m=_[0],y=Qy.boolean):S=!0;break;case"a":(_=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(b=1,m="="):(b=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",b=2):(p=h,b=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",b=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(r))?(p="prefix",m=_[1]||""):((_=this._prefixed.exec(r))||n&&(_=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=_[1]||"",m=this._unescape(_[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const x=b||_[0].length,E=a(p,m,y,f,x);this.previousToken=E,this._previousMarker=p,r=r.substr(x,r.length)}function a(o,l,f,h,p){const m=r?i-r.length:i,y=m+p,_={type:o,value:l,prefix:f,line:h,start:m,end:y};return e(null,_),_}function s(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(QZ,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in dM?dM[o]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const s=e.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")GU(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}};function XZ(t){return!!t&&t.termType==="NamedNode"}function eJ(t){return!!t&&t.termType==="BlankNode"}function tJ(t){return!!t&&t.termType==="Literal"}function nJ(t){return!!t&&t.termType==="Variable"}function Td(t){return!!t&&t.termType==="DefaultGraph"}function rJ(t){return Td(t.graph)}function iJ(t,e){return WU({"":t.value||t},e)("")}function WU(t,e){const n=Object.create(null);for(const i in t)r(i,t[i]);e=e||wl;function r(i,a){if(typeof a=="string"){const s=Object.create(null);n[i]=o=>s[o]||(s[o]=e.namedNode(a+o))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const QU=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:rJ,isBlankNode:eJ,isDefaultGraph:Td,isLiteral:tJ,isNamedNode:XZ,isVariable:nJ,prefix:iJ,prefixes:WU},Symbol.toStringTag,{value:"Module"})),{rdf:aJ,xsd:xc}=ji;let hm,sJ=0;const wl={namedNode:oJ,blankNode:uJ,variable:cJ,literal:lJ,defaultGraph:fJ,quad:hM,triple:hM};let go=class ZU{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ZU?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Hr=class extends go{get termType(){return"NamedNode"}},rd=class JU extends go{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new Hr(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?xc.string:aJ.langString}equals(e){return e instanceof JU?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},VA=class extends go{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},KA=class extends go{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},GA=class extends go{constructor(){return super(""),hm||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};hm=new GA;function Cc(t,e,n){if(e=e||wl,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===wl)return new rd(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Cc(t[0],e,!0),Cc(t[1],e,!0),Cc(t[2],e,!0),t[3]&&Cc(t[3],e,!0))}function ra(t,e){if(typeof t=="string")return t;if(t instanceof go&&t.termType!=="Quad")return t.id;if(!t)return hm.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==xc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[ra(t.subject,!0),ra(t.predicate,!0),ra(t.object,!0)];return Td(t.graph)||n.push(ra(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let As=class extends go{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||hm}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function oJ(t){return new Hr(t)}function uJ(t){return new VA(t||`n3-${sJ++}`)}function lJ(t,e){if(typeof e=="string")return new rd(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=xc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?xc.integer:xc.double:(n=xc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===xc.string?new rd(`"${t}"`):new rd(`"${t}"^^${n}`)}function cJ(t){return new KA(t)}function fJ(){return hm}function hM(t,e,n,r){return new As(t,e,n,r)}let pM=0,Bd=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&YU(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new HA({lineMode:l,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){pM=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=O1}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return r+e.substring(s)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${pM++}_`,this._prefixCallback=r||O1,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(s,o)=>{s?a=s:o&&i.push(o)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),a)throw a;return i}this._callback=n,this._lexer.tokenize(e,(i,a)=>{i!==null?(this._callback(i),this._callback=O1):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function O1(){}function YU(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(ji.rdf.first),t.RDF_REST=n(ji.rdf.rest),t.RDF_NIL=n(ji.rdf.nil),t.N3_FORALL=n(ji.r.forAll),t.N3_FORSOME=n(ji.r.forSome),t.ABBREVIATIONS={a:n(ji.rdf.type),"=":n(ji.owl.sameAs),">":n(ji.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}YU(Bd.prototype,wl);const ep=wl.defaultGraph(),{rdf:dJ,xsd:Nf}=ji,gM=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,mM=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,hJ={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let tp=class extends go{equals(e){return e===this}},C0=class{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ep,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${vM(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return ep.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ep.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),gM.test(n)&&(n=n.replace(mM,yM));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(gM.test(n)&&(n=n.replace(mM,yM)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Nf.string)return`"${n}"`}else switch(e.datatype.value){case Nf.string:return`"${n}"`;case Nf.boolean:if(n==="true"||n==="false")return n;break;case Nf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Nf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Nf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===dJ.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Td(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,ep,i):this._writeQuad(e,n,r,i||ep,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=vM(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new tp("[]");case 1:if(i=r[0],!(i.object instanceof tp))return new tp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new tp(`${s}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new tp(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function yM(t){let e=hJ[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function vM(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var L1={exports:{}},I1={exports:{}},M1={},np={},_M;function pJ(){if(_M)return np;_M=1,np.byteLength=o,np.toByteArray=f,np.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=y.indexOf("=");b===-1&&(b=_);var S=b===_?0:4-b%4;return[b,S]}function o(y){var _=s(y),b=_[0],S=_[1];return(b+S)*3/4-S}function l(y,_,b){return(_+b)*3/4-b}function f(y){var _,b=s(y),S=b[0],x=b[1],E=new n(l(y,S,x)),A=0,I=x>0?S-4:S,M;for(M=0;M<I;M+=4)_=e[y.charCodeAt(M)]<<18|e[y.charCodeAt(M+1)]<<12|e[y.charCodeAt(M+2)]<<6|e[y.charCodeAt(M+3)],E[A++]=_>>16&255,E[A++]=_>>8&255,E[A++]=_&255;return x===2&&(_=e[y.charCodeAt(M)]<<2|e[y.charCodeAt(M+1)]>>4,E[A++]=_&255),x===1&&(_=e[y.charCodeAt(M)]<<10|e[y.charCodeAt(M+1)]<<4|e[y.charCodeAt(M+2)]>>2,E[A++]=_>>8&255,E[A++]=_&255),E}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,_,b){for(var S,x=[],E=_;E<b;E+=3)S=(y[E]<<16&16711680)+(y[E+1]<<8&65280)+(y[E+2]&255),x.push(h(S));return x.join("")}function m(y){for(var _,b=y.length,S=b%3,x=[],E=16383,A=0,I=b-S;A<I;A+=E)x.push(p(y,A,A+E>I?I:A+E));return S===1?(_=y[b-1],x.push(t[_>>2]+t[_<<4&63]+"==")):S===2&&(_=(y[b-2]<<8)+y[b-1],x.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),x.join("")}return np}var Zy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var wM;function gJ(){return wM||(wM=1,Zy.read=function(t,e,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,f=l>>1,h=-7,p=n?i-1:0,m=n?-1:1,y=t[e+p];for(p+=m,a=y&(1<<-h)-1,y>>=-h,h+=o;h>0;a=a*256+t[e+p],p+=m,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=r;h>0;s=s*256+t[e+p],p+=m,h-=8);if(a===0)a=1-f;else{if(a===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-f}return(y?-1:1)*s*Math.pow(2,a-r)},Zy.write=function(t,e,n,r,i,a){var s,o,l,f=a*8-i-1,h=(1<<f)-1,p=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,_=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+p>=1?e+=m/l:e+=m*Math.pow(2,1-p),e*l>=2&&(s++,l/=2),s+p>=h?(o=0,s=h):s+p>=1?(o=(e*l-1)*Math.pow(2,i),s=s+p):(o=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+y]=o&255,y+=_,o/=256,i-=8);for(s=s<<i|o,f+=i;f>0;t[n+y]=s&255,y+=_,s/=256,f-=8);t[n+y-_]|=b*128}),Zy}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var bM;function du(){return bM||(bM=1,function(t){const e=pJ(),n=gJ(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const X=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(X,B),X.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(X){if(X>i)throw new RangeError('The value "'+X+'" is invalid for option "size"');const B=new Uint8Array(X);return Object.setPrototypeOf(B,o.prototype),B}function o(X,B,K){if(typeof X=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(X)}return l(X,B,K)}o.poolSize=8192;function l(X,B,K){if(typeof X=="string")return m(X,B);if(ArrayBuffer.isView(X))return _(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(nt(X,ArrayBuffer)||X&&nt(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(X,SharedArrayBuffer)||X&&nt(X.buffer,SharedArrayBuffer)))return b(X,B,K);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=X.valueOf&&X.valueOf();if(V!=null&&V!==X)return o.from(V,B,K);const je=S(X);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return o.from(X[Symbol.toPrimitive]("string"),B,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}o.from=function(X,B,K){return l(X,B,K)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function h(X,B,K){return f(X),X<=0?s(X):B!==void 0?typeof K=="string"?s(X).fill(B,K):s(X).fill(B):s(X)}o.alloc=function(X,B,K){return h(X,B,K)};function p(X){return f(X),s(X<0?0:x(X)|0)}o.allocUnsafe=function(X){return p(X)},o.allocUnsafeSlow=function(X){return p(X)};function m(X,B){if((typeof B!="string"||B==="")&&(B="utf8"),!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const K=A(X,B)|0;let V=s(K);const je=V.write(X,B);return je!==K&&(V=V.slice(0,je)),V}function y(X){const B=X.length<0?0:x(X.length)|0,K=s(B);for(let V=0;V<B;V+=1)K[V]=X[V]&255;return K}function _(X){if(nt(X,Uint8Array)){const B=new Uint8Array(X);return b(B.buffer,B.byteOffset,B.byteLength)}return y(X)}function b(X,B,K){if(B<0||X.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<B+(K||0))throw new RangeError('"length" is outside of buffer bounds');let V;return B===void 0&&K===void 0?V=new Uint8Array(X):K===void 0?V=new Uint8Array(X,B):V=new Uint8Array(X,B,K),Object.setPrototypeOf(V,o.prototype),V}function S(X){if(o.isBuffer(X)){const B=x(X.length)|0,K=s(B);return K.length===0||X.copy(K,0,0,B),K}if(X.length!==void 0)return typeof X.length!="number"||gt(X.length)?s(0):y(X);if(X.type==="Buffer"&&Array.isArray(X.data))return y(X.data)}function x(X){if(X>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return X|0}function E(X){return+X!=X&&(X=0),o.alloc(+X)}o.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==o.prototype},o.compare=function(B,K){if(nt(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),nt(K,Uint8Array)&&(K=o.from(K,K.offset,K.byteLength)),!o.isBuffer(B)||!o.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===K)return 0;let V=B.length,je=K.length;for(let Ze=0,ke=Math.min(V,je);Ze<ke;++Ze)if(B[Ze]!==K[Ze]){V=B[Ze],je=K[Ze];break}return V<je?-1:je<V?1:0},o.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(B,K){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return o.alloc(0);let V;if(K===void 0)for(K=0,V=0;V<B.length;++V)K+=B[V].length;const je=o.allocUnsafe(K);let Ze=0;for(V=0;V<B.length;++V){let ke=B[V];if(nt(ke,Uint8Array))Ze+ke.length>je.length?(o.isBuffer(ke)||(ke=o.from(ke)),ke.copy(je,Ze)):Uint8Array.prototype.set.call(je,ke,Ze);else if(o.isBuffer(ke))ke.copy(je,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=ke.length}return je};function A(X,B){if(o.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||nt(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const K=X.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&K===0)return 0;let je=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return ye(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return Ne(X).length;default:if(je)return V?-1:ye(X).length;B=(""+B).toLowerCase(),je=!0}}o.byteLength=A;function I(X,B,K){let V=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,B>>>=0,K<=B))return"";for(X||(X="utf8");;)switch(X){case"hex":return Le(this,B,K);case"utf8":case"utf-8":return oe(this,B,K);case"ascii":return le(this,B,K);case"latin1":case"binary":return ce(this,B,K);case"base64":return te(this,B,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,B,K);default:if(V)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),V=!0}}o.prototype._isBuffer=!0;function M(X,B,K){const V=X[B];X[B]=X[K],X[K]=V}o.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<B;K+=2)M(this,K,K+1);return this},o.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<B;K+=4)M(this,K,K+3),M(this,K+1,K+2);return this},o.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<B;K+=8)M(this,K,K+7),M(this,K+1,K+6),M(this,K+2,K+5),M(this,K+3,K+4);return this},o.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?oe(this,0,B):I.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(B){if(!o.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:o.compare(this,B)===0},o.prototype.inspect=function(){let B="";const K=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(B+=" ... "),"<Buffer "+B+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(B,K,V,je,Ze){if(nt(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(K===void 0&&(K=0),V===void 0&&(V=B?B.length:0),je===void 0&&(je=0),Ze===void 0&&(Ze=this.length),K<0||V>B.length||je<0||Ze>this.length)throw new RangeError("out of range index");if(je>=Ze&&K>=V)return 0;if(je>=Ze)return-1;if(K>=V)return 1;if(K>>>=0,V>>>=0,je>>>=0,Ze>>>=0,this===B)return 0;let ke=Ze-je,At=V-K;const Ot=Math.min(ke,At),Dt=this.slice(je,Ze),Rt=B.slice(K,V);for(let Bt=0;Bt<Ot;++Bt)if(Dt[Bt]!==Rt[Bt]){ke=Dt[Bt],At=Rt[Bt];break}return ke<At?-1:At<ke?1:0};function D(X,B,K,V,je){if(X.length===0)return-1;if(typeof K=="string"?(V=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,gt(K)&&(K=je?0:X.length-1),K<0&&(K=X.length+K),K>=X.length){if(je)return-1;K=X.length-1}else if(K<0)if(je)K=0;else return-1;if(typeof B=="string"&&(B=o.from(B,V)),o.isBuffer(B))return B.length===0?-1:j(X,B,K,V,je);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(X,B,K):Uint8Array.prototype.lastIndexOf.call(X,B,K):j(X,[B],K,V,je);throw new TypeError("val must be string, number or Buffer")}function j(X,B,K,V,je){let Ze=1,ke=X.length,At=B.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(X.length<2||B.length<2)return-1;Ze=2,ke/=2,At/=2,K/=2}function Ot(Rt,Bt){return Ze===1?Rt[Bt]:Rt.readUInt16BE(Bt*Ze)}let Dt;if(je){let Rt=-1;for(Dt=K;Dt<ke;Dt++)if(Ot(X,Dt)===Ot(B,Rt===-1?0:Dt-Rt)){if(Rt===-1&&(Rt=Dt),Dt-Rt+1===At)return Rt*Ze}else Rt!==-1&&(Dt-=Dt-Rt),Rt=-1}else for(K+At>ke&&(K=ke-At),Dt=K;Dt>=0;Dt--){let Rt=!0;for(let Bt=0;Bt<At;Bt++)if(Ot(X,Dt+Bt)!==Ot(B,Bt)){Rt=!1;break}if(Rt)return Dt}return-1}o.prototype.includes=function(B,K,V){return this.indexOf(B,K,V)!==-1},o.prototype.indexOf=function(B,K,V){return D(this,B,K,V,!0)},o.prototype.lastIndexOf=function(B,K,V){return D(this,B,K,V,!1)};function Q(X,B,K,V){K=Number(K)||0;const je=X.length-K;V?(V=Number(V),V>je&&(V=je)):V=je;const Ze=B.length;V>Ze/2&&(V=Ze/2);let ke;for(ke=0;ke<V;++ke){const At=parseInt(B.substr(ke*2,2),16);if(gt(At))return ke;X[K+ke]=At}return ke}function Y(X,B,K,V){return tt(ye(B,X.length-K),X,K,V)}function q(X,B,K,V){return tt(He(B),X,K,V)}function Z(X,B,K,V){return tt(Ne(B),X,K,V)}function fe(X,B,K,V){return tt(Te(B,X.length-K),X,K,V)}o.prototype.write=function(B,K,V,je){if(K===void 0)je="utf8",V=this.length,K=0;else if(V===void 0&&typeof K=="string")je=K,V=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(V)?(V=V>>>0,je===void 0&&(je="utf8")):(je=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ze=this.length-K;if((V===void 0||V>Ze)&&(V=Ze),B.length>0&&(V<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Q(this,B,K,V);case"utf8":case"utf-8":return Y(this,B,K,V);case"ascii":case"latin1":case"binary":return q(this,B,K,V);case"base64":return Z(this,B,K,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,B,K,V);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(X,B,K){return B===0&&K===X.length?e.fromByteArray(X):e.fromByteArray(X.slice(B,K))}function oe(X,B,K){K=Math.min(X.length,K);const V=[];let je=B;for(;je<K;){const Ze=X[je];let ke=null,At=Ze>239?4:Ze>223?3:Ze>191?2:1;if(je+At<=K){let Ot,Dt,Rt,Bt;switch(At){case 1:Ze<128&&(ke=Ze);break;case 2:Ot=X[je+1],(Ot&192)===128&&(Bt=(Ze&31)<<6|Ot&63,Bt>127&&(ke=Bt));break;case 3:Ot=X[je+1],Dt=X[je+2],(Ot&192)===128&&(Dt&192)===128&&(Bt=(Ze&15)<<12|(Ot&63)<<6|Dt&63,Bt>2047&&(Bt<55296||Bt>57343)&&(ke=Bt));break;case 4:Ot=X[je+1],Dt=X[je+2],Rt=X[je+3],(Ot&192)===128&&(Dt&192)===128&&(Rt&192)===128&&(Bt=(Ze&15)<<18|(Ot&63)<<12|(Dt&63)<<6|Rt&63,Bt>65535&&Bt<1114112&&(ke=Bt))}}ke===null?(ke=65533,At=1):ke>65535&&(ke-=65536,V.push(ke>>>10&1023|55296),ke=56320|ke&1023),V.push(ke),je+=At}return _e(V)}const ge=4096;function _e(X){const B=X.length;if(B<=ge)return String.fromCharCode.apply(String,X);let K="",V=0;for(;V<B;)K+=String.fromCharCode.apply(String,X.slice(V,V+=ge));return K}function le(X,B,K){let V="";K=Math.min(X.length,K);for(let je=B;je<K;++je)V+=String.fromCharCode(X[je]&127);return V}function ce(X,B,K){let V="";K=Math.min(X.length,K);for(let je=B;je<K;++je)V+=String.fromCharCode(X[je]);return V}function Le(X,B,K){const V=X.length;(!B||B<0)&&(B=0),(!K||K<0||K>V)&&(K=V);let je="";for(let Ze=B;Ze<K;++Ze)je+=Ut[X[Ze]];return je}function k(X,B,K){const V=X.slice(B,K);let je="";for(let Ze=0;Ze<V.length-1;Ze+=2)je+=String.fromCharCode(V[Ze]+V[Ze+1]*256);return je}o.prototype.slice=function(B,K){const V=this.length;B=~~B,K=K===void 0?V:~~K,B<0?(B+=V,B<0&&(B=0)):B>V&&(B=V),K<0?(K+=V,K<0&&(K=0)):K>V&&(K=V),K<B&&(K=B);const je=this.subarray(B,K);return Object.setPrototypeOf(je,o.prototype),je};function ne(X,B,K){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+B>K)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=this[B],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[B+ke]*Ze;return je},o.prototype.readUintBE=o.prototype.readUIntBE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=this[B+--K],Ze=1;for(;K>0&&(Ze*=256);)je+=this[B+--K]*Ze;return je},o.prototype.readUint8=o.prototype.readUInt8=function(B,K){return B=B>>>0,K||ne(B,1,this.length),this[B]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(B,K){return B=B>>>0,K||ne(B,2,this.length),this[B]|this[B+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(B,K){return B=B>>>0,K||ne(B,2,this.length),this[B]<<8|this[B+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},o.prototype.readBigUInt64LE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=K+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,Ze=this[++B]+this[++B]*2**8+this[++B]*2**16+V*2**24;return BigInt(je)+(BigInt(Ze)<<BigInt(32))}),o.prototype.readBigUInt64BE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=K*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],Ze=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+V;return(BigInt(je)<<BigInt(32))+BigInt(Ze)}),o.prototype.readIntLE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=this[B],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[B+ke]*Ze;return Ze*=128,je>=Ze&&(je-=Math.pow(2,8*K)),je},o.prototype.readIntBE=function(B,K,V){B=B>>>0,K=K>>>0,V||ne(B,K,this.length);let je=K,Ze=1,ke=this[B+--je];for(;je>0&&(Ze*=256);)ke+=this[B+--je]*Ze;return Ze*=128,ke>=Ze&&(ke-=Math.pow(2,8*K)),ke},o.prototype.readInt8=function(B,K){return B=B>>>0,K||ne(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},o.prototype.readInt16LE=function(B,K){B=B>>>0,K||ne(B,2,this.length);const V=this[B]|this[B+1]<<8;return V&32768?V|4294901760:V},o.prototype.readInt16BE=function(B,K){B=B>>>0,K||ne(B,2,this.length);const V=this[B+1]|this[B]<<8;return V&32768?V|4294901760:V},o.prototype.readInt32LE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},o.prototype.readInt32BE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},o.prototype.readBigInt64LE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(V<<24);return(BigInt(je)<<BigInt(32))+BigInt(K+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),o.prototype.readBigInt64BE=Se(function(B){B=B>>>0,$(B,"offset");const K=this[B],V=this[B+7];(K===void 0||V===void 0)&&re(B,this.length-8);const je=(K<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(je)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+V)}),o.prototype.readFloatLE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),n.read(this,B,!0,23,4)},o.prototype.readFloatBE=function(B,K){return B=B>>>0,K||ne(B,4,this.length),n.read(this,B,!1,23,4)},o.prototype.readDoubleLE=function(B,K){return B=B>>>0,K||ne(B,8,this.length),n.read(this,B,!0,52,8)},o.prototype.readDoubleBE=function(B,K){return B=B>>>0,K||ne(B,8,this.length),n.read(this,B,!1,52,8)};function me(X,B,K,V,je,Ze){if(!o.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>je||B<Ze)throw new RangeError('"value" argument is out of bounds');if(K+V>X.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(B,K,V,je){if(B=+B,K=K>>>0,V=V>>>0,!je){const At=Math.pow(2,8*V)-1;me(this,B,K,V,At,0)}let Ze=1,ke=0;for(this[K]=B&255;++ke<V&&(Ze*=256);)this[K+ke]=B/Ze&255;return K+V},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(B,K,V,je){if(B=+B,K=K>>>0,V=V>>>0,!je){const At=Math.pow(2,8*V)-1;me(this,B,K,V,At,0)}let Ze=V-1,ke=1;for(this[K+Ze]=B&255;--Ze>=0&&(ke*=256);)this[K+Ze]=B/ke&255;return K+V},o.prototype.writeUint8=o.prototype.writeUInt8=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,1,255,0),this[K]=B&255,K+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,65535,0),this[K]=B&255,this[K+1]=B>>>8,K+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,65535,0),this[K]=B>>>8,this[K+1]=B&255,K+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,4294967295,0),this[K+3]=B>>>24,this[K+2]=B>>>16,this[K+1]=B>>>8,this[K]=B&255,K+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,4294967295,0),this[K]=B>>>24,this[K+1]=B>>>16,this[K+2]=B>>>8,this[K+3]=B&255,K+4};function H(X,B,K,V,je){z(B,V,je,X,K,7);let Ze=Number(B&BigInt(4294967295));X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze;let ke=Number(B>>BigInt(32)&BigInt(4294967295));return X[K++]=ke,ke=ke>>8,X[K++]=ke,ke=ke>>8,X[K++]=ke,ke=ke>>8,X[K++]=ke,K}function J(X,B,K,V,je){z(B,V,je,X,K,7);let Ze=Number(B&BigInt(4294967295));X[K+7]=Ze,Ze=Ze>>8,X[K+6]=Ze,Ze=Ze>>8,X[K+5]=Ze,Ze=Ze>>8,X[K+4]=Ze;let ke=Number(B>>BigInt(32)&BigInt(4294967295));return X[K+3]=ke,ke=ke>>8,X[K+2]=ke,ke=ke>>8,X[K+1]=ke,ke=ke>>8,X[K]=ke,K+8}o.prototype.writeBigUInt64LE=Se(function(B,K=0){return H(this,B,K,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Se(function(B,K=0){return J(this,B,K,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(B,K,V,je){if(B=+B,K=K>>>0,!je){const Ot=Math.pow(2,8*V-1);me(this,B,K,V,Ot-1,-Ot)}let Ze=0,ke=1,At=0;for(this[K]=B&255;++Ze<V&&(ke*=256);)B<0&&At===0&&this[K+Ze-1]!==0&&(At=1),this[K+Ze]=(B/ke>>0)-At&255;return K+V},o.prototype.writeIntBE=function(B,K,V,je){if(B=+B,K=K>>>0,!je){const Ot=Math.pow(2,8*V-1);me(this,B,K,V,Ot-1,-Ot)}let Ze=V-1,ke=1,At=0;for(this[K+Ze]=B&255;--Ze>=0&&(ke*=256);)B<0&&At===0&&this[K+Ze+1]!==0&&(At=1),this[K+Ze]=(B/ke>>0)-At&255;return K+V},o.prototype.writeInt8=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,1,127,-128),B<0&&(B=255+B+1),this[K]=B&255,K+1},o.prototype.writeInt16LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,32767,-32768),this[K]=B&255,this[K+1]=B>>>8,K+2},o.prototype.writeInt16BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,2,32767,-32768),this[K]=B>>>8,this[K+1]=B&255,K+2},o.prototype.writeInt32LE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,2147483647,-2147483648),this[K]=B&255,this[K+1]=B>>>8,this[K+2]=B>>>16,this[K+3]=B>>>24,K+4},o.prototype.writeInt32BE=function(B,K,V){return B=+B,K=K>>>0,V||me(this,B,K,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[K]=B>>>24,this[K+1]=B>>>16,this[K+2]=B>>>8,this[K+3]=B&255,K+4},o.prototype.writeBigInt64LE=Se(function(B,K=0){return H(this,B,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Se(function(B,K=0){return J(this,B,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(X,B,K,V,je,Ze){if(K+V>X.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Ae(X,B,K,V,je){return B=+B,K=K>>>0,je||pe(X,B,K,4),n.write(X,B,K,V,23,4),K+4}o.prototype.writeFloatLE=function(B,K,V){return Ae(this,B,K,!0,V)},o.prototype.writeFloatBE=function(B,K,V){return Ae(this,B,K,!1,V)};function Je(X,B,K,V,je){return B=+B,K=K>>>0,je||pe(X,B,K,8),n.write(X,B,K,V,52,8),K+8}o.prototype.writeDoubleLE=function(B,K,V){return Je(this,B,K,!0,V)},o.prototype.writeDoubleBE=function(B,K,V){return Je(this,B,K,!1,V)},o.prototype.copy=function(B,K,V,je){if(!o.isBuffer(B))throw new TypeError("argument should be a Buffer");if(V||(V=0),!je&&je!==0&&(je=this.length),K>=B.length&&(K=B.length),K||(K=0),je>0&&je<V&&(je=V),je===V||B.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),B.length-K<je-V&&(je=B.length-K+V);const Ze=je-V;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,V,je):Uint8Array.prototype.set.call(B,this.subarray(V,je),K),Ze},o.prototype.fill=function(B,K,V,je){if(typeof B=="string"){if(typeof K=="string"?(je=K,K=0,V=this.length):typeof V=="string"&&(je=V,V=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(B.length===1){const ke=B.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(B=ke)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(K<0||this.length<K||this.length<V)throw new RangeError("Out of range index");if(V<=K)return this;K=K>>>0,V=V===void 0?this.length:V>>>0,B||(B=0);let Ze;if(typeof B=="number")for(Ze=K;Ze<V;++Ze)this[Ze]=B;else{const ke=o.isBuffer(B)?B:o.from(B,je),At=ke.length;if(At===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Ze=0;Ze<V-K;++Ze)this[Ze+K]=ke[Ze%At]}return this};const Re={};function Fe(X,B,K){Re[X]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(X,B){return`The "${X}" argument must be of type number. Received type ${typeof B}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(X,B,K){let V=`The value of "${X}" is out of range.`,je=K;return Number.isInteger(K)&&Math.abs(K)>2**32?je=Xe(String(K)):typeof K=="bigint"&&(je=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(je=Xe(je)),je+="n"),V+=` It must be ${B}. Received ${je}`,V},RangeError);function Xe(X){let B="",K=X.length;const V=X[0]==="-"?1:0;for(;K>=V+4;K-=3)B=`_${X.slice(K-3,K)}${B}`;return`${X.slice(0,K)}${B}`}function ie(X,B,K){$(B,"offset"),(X[B]===void 0||X[B+K]===void 0)&&re(B,X.length-(K+1))}function z(X,B,K,V,je,Ze){if(X>K||X<B){const ke=typeof B=="bigint"?"n":"";let At;throw B===0||B===BigInt(0)?At=`>= 0${ke} and < 2${ke} ** ${(Ze+1)*8}${ke}`:At=`>= -(2${ke} ** ${(Ze+1)*8-1}${ke}) and < 2 ** ${(Ze+1)*8-1}${ke}`,new Re.ERR_OUT_OF_RANGE("value",At,X)}ie(V,je,Ze)}function $(X,B){if(typeof X!="number")throw new Re.ERR_INVALID_ARG_TYPE(B,"number",X)}function re(X,B,K){throw Math.floor(X)!==X?($(X,K),new Re.ERR_OUT_OF_RANGE("offset","an integer",X)):B<0?new Re.ERR_BUFFER_OUT_OF_BOUNDS:new Re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,X)}const W=/[^+/0-9A-Za-z-_]/g;function he(X){if(X=X.split("=")[0],X=X.trim().replace(W,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function ye(X,B){B=B||1/0;let K;const V=X.length;let je=null;const Ze=[];for(let ke=0;ke<V;++ke){if(K=X.charCodeAt(ke),K>55295&&K<57344){if(!je){if(K>56319){(B-=3)>-1&&Ze.push(239,191,189);continue}else if(ke+1===V){(B-=3)>-1&&Ze.push(239,191,189);continue}je=K;continue}if(K<56320){(B-=3)>-1&&Ze.push(239,191,189),je=K;continue}K=(je-55296<<10|K-56320)+65536}else je&&(B-=3)>-1&&Ze.push(239,191,189);if(je=null,K<128){if((B-=1)<0)break;Ze.push(K)}else if(K<2048){if((B-=2)<0)break;Ze.push(K>>6|192,K&63|128)}else if(K<65536){if((B-=3)<0)break;Ze.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((B-=4)<0)break;Ze.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return Ze}function He(X){const B=[];for(let K=0;K<X.length;++K)B.push(X.charCodeAt(K)&255);return B}function Te(X,B){let K,V,je;const Ze=[];for(let ke=0;ke<X.length&&!((B-=2)<0);++ke)K=X.charCodeAt(ke),V=K>>8,je=K%256,Ze.push(je),Ze.push(V);return Ze}function Ne(X){return e.toByteArray(he(X))}function tt(X,B,K,V){let je;for(je=0;je<V&&!(je+K>=B.length||je>=X.length);++je)B[je+K]=X[je];return je}function nt(X,B){return X instanceof B||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===B.name}function gt(X){return X!==X}const Ut=function(){const X="0123456789abcdef",B=new Array(256);for(let K=0;K<16;++K){const V=K*16;for(let je=0;je<16;++je)B[V+je]=X[K]+X[je]}return B}();function Se(X){return typeof BigInt>"u"?Be:X}function Be(){throw new Error("BigInt not supported")}}(M1)),M1}var D1,SM;function jr(){return SM||(SM=1,D1={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array}),D1}var k1={exports:{}},rp={exports:{}},xM;function $g(){if(xM)return rp.exports;xM=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return rp.exports=t,rp.exports.AbortSignal=e,rp.exports.default=t,rp.exports}var EM;function oa(){return EM||(EM=1,function(t){const e=du(),{kResistStopPropagation:n,SymbolDispose:r}=jr(),i=globalThis.AbortSignal||$g().AbortSignal,a=globalThis.AbortController||$g().AbortController,s=Object.getPrototypeOf(async function(){}).constructor,o=globalThis.Blob||e.Blob,l=typeof o<"u"?function(y){return y instanceof o}:function(y){return!1},f=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},h=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class p extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let _="";for(let b=0;b<y.length;b++)_+=`    ${y[b].stack}
`;super(_),this.name="AggregateError",this.errors=y}}t.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(..._){y||(y=!0,m.apply(this,_))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((b,S)=>{m=b,y=S}),resolve:m,reject:y}},promisify(m){return new Promise((y,_)=>{m((b,...S)=>b?_(b):y(...S))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[_,b]){const S=y.shift();return b==="f"?S.toFixed(6):b==="j"?JSON.stringify(S):b==="s"&&typeof S=="object"?`${S.constructor!==Object?S.constructor.name:""} {}`.trim():S.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof s},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:l,deprecate(m,y){return m},addAbortListener:Ud().addAbortListener||function(y,_){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);f(y,"signal"),h(_,"listener");let b;return y.aborted?queueMicrotask(()=>_()):(y.addEventListener("abort",_,{__proto__:null,once:!0,[n]:!0}),b=()=>{y.removeEventListener("abort",_)}),{__proto__:null,[r](){var S;(S=b)===null||S===void 0||S()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const _=new a,b=()=>_.abort();return y.forEach(S=>{f(S,"signals"),S.addEventListener("abort",b,{once:!0})}),_.signal.addEventListener("abort",()=>{y.forEach(S=>S.removeEventListener("abort",b))},{once:!0}),_.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(k1)),k1.exports}var Jy={},N1,TM;function Ea(){if(TM)return N1;TM=1;const{format:t,inspect:e,AggregateError:n}=oa(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",l={};function f(S,x){if(!S)throw new l.ERR_INTERNAL_ASSERTION(x)}function h(S){let x="",E=S.length;const A=S[0]==="-"?1:0;for(;E>=A+4;E-=3)x=`_${S.slice(E-3,E)}${x}`;return`${S.slice(0,E)}${x}`}function p(S,x,E){if(typeof x=="function")return f(x.length<=E.length,`Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${x.length}).`),x(...E);const A=(x.match(/%[dfijoOs]/g)||[]).length;return f(A===E.length,`Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${A}).`),E.length===0?x:t(x,...E)}function m(S,x,E){E||(E=Error);class A extends E{constructor(...M){super(p(S,x,M))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=S,A.prototype[i]=!0,l[S]=A}function y(S){const x=o+S.name;return Object.defineProperty(S,"name",{value:x}),S}function _(S,x){if(S&&x&&S!==x){if(Array.isArray(x.errors))return x.errors.push(S),x;const E=new r([x,S],x.message);return E.code=x.code,E}return S||x}class b extends Error{constructor(x="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(x,E),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(S,x,E)=>{f(typeof S=="string","'name' must be a string"),Array.isArray(x)||(x=[x]);let A="The ";S.endsWith(" argument")?A+=`${S} `:A+=`"${S}" ${S.includes(".")?"property":"argument"} `,A+="must be ";const I=[],M=[],D=[];for(const Q of x)f(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?I.push(Q.toLowerCase()):s.test(Q)?M.push(Q):(f(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(M.length>0){const Q=I.indexOf("object");Q!==-1&&(I.splice(I,Q,1),M.push("Object"))}if(I.length>0){switch(I.length){case 1:A+=`of type ${I[0]}`;break;case 2:A+=`one of type ${I[0]} or ${I[1]}`;break;default:{const Q=I.pop();A+=`one of type ${I.join(", ")}, or ${Q}`}}(M.length>0||D.length>0)&&(A+=" or ")}if(M.length>0){switch(M.length){case 1:A+=`an instance of ${M[0]}`;break;case 2:A+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const Q=M.pop();A+=`an instance of ${M.join(", ")}, or ${Q}`}}D.length>0&&(A+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(A+="an "),A+=`${D[0]}`;break;case 2:A+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();A+=`one of ${D.join(", ")}, or ${Q}`}}if(E==null)A+=`. Received ${E}`;else if(typeof E=="function"&&E.name)A+=`. Received function ${E.name}`;else if(typeof E=="object"){var j;if((j=E.constructor)!==null&&j!==void 0&&j.name)A+=`. Received an instance of ${E.constructor.name}`;else{const Q=e(E,{depth:-1});A+=`. Received ${Q}`}}else{let Q=e(E,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),A+=`. Received type ${typeof E} (${Q})`}return A},TypeError),m("ERR_INVALID_ARG_VALUE",(S,x,E="is invalid")=>{let A=e(x);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${E}. Received ${A}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(S,x,E)=>{var A;const I=E!=null&&(A=E.constructor)!==null&&A!==void 0&&A.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${S} to be returned from the "${x}" function but got ${I}.`},TypeError),m("ERR_MISSING_ARGS",(...S)=>{f(S.length>0,"At least one arg needs to be specified");let x;const E=S.length;switch(S=(Array.isArray(S)?S:[S]).map(A=>`"${A}"`).join(" or "),E){case 1:x+=`The ${S[0]} argument`;break;case 2:x+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const A=S.pop();x+=`The ${S.join(", ")}, and ${A} arguments`}break}return`${x} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(S,x,E)=>{f(x,'Missing "range" argument');let A;return Number.isInteger(E)&&Math.abs(E)>2**32?A=h(String(E)):typeof E=="bigint"?(A=String(E),(E>2n**32n||E<-(2n**32n))&&(A=h(A)),A+="n"):A=e(E),`The value of "${S}" is out of range. It must be ${x}. Received ${A}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),N1={AbortError:b,aggregateTwoErrors:y(_),hideStackFrames:y,codes:l},N1}var F1,CM;function pm(){if(CM)return F1;CM=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:o,NumberParseInt:l,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=jr(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:A}}=Ea(),{normalizeEncoding:I}=oa(),{isAsyncFunction:M,isArrayBufferView:D}=oa().types,j={};function Q(Te){return Te===(Te|0)}function Y(Te){return Te===Te>>>0}const q=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function fe(Te,Ne,tt){if(typeof Te>"u"&&(Te=tt),typeof Te=="string"){if(h(q,Te)===null)throw new x(Ne,Te,Z);Te=l(Te,8)}return ge(Te,Ne),Te}const te=_((Te,Ne,tt=o,nt=s)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new E(Ne,`>= ${tt} && <= ${nt}`,Te)}),oe=_((Te,Ne,tt=-2147483648,nt=2147483647)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new E(Ne,`>= ${tt} && <= ${nt}`,Te)}),ge=_((Te,Ne,tt=!1)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);const nt=tt?1:0,gt=4294967295;if(Te<nt||Te>gt)throw new E(Ne,`>= ${nt} && <= ${gt}`,Te)});function _e(Te,Ne){if(typeof Te!="string")throw new S(Ne,"string",Te)}function le(Te,Ne,tt=void 0,nt){if(typeof Te!="number")throw new S(Ne,"number",Te);if(tt!=null&&Te<tt||nt!=null&&Te>nt||(tt!=null||nt!=null)&&a(Te))throw new E(Ne,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Te)}const ce=_((Te,Ne,tt)=>{if(!e(tt,Te)){const gt="must be one of: "+n(r(tt,Ut=>typeof Ut=="string"?`'${Ut}'`:p(Ut)),", ");throw new x(Ne,Te,gt)}});function Le(Te,Ne){if(typeof Te!="boolean")throw new S(Ne,"boolean",Te)}function k(Te,Ne,tt){return Te==null||!f(Te,Ne)?tt:Te[Ne]}const ne=_((Te,Ne,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Te===null||!nt&&t(Te)||typeof Te!="object"&&(!gt||typeof Te!="function"))throw new S(Ne,"Object",Te)}),me=_((Te,Ne)=>{if(Te!=null&&typeof Te!="object"&&typeof Te!="function")throw new S(Ne,"a dictionary",Te)}),H=_((Te,Ne,tt=0)=>{if(!t(Te))throw new S(Ne,"Array",Te);if(Te.length<tt){const nt=`must be longer than ${tt}`;throw new x(Ne,Te,nt)}});function J(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)_e(Te[tt],`${Ne}[${tt}]`)}function pe(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)Le(Te[tt],`${Ne}[${tt}]`)}function Ae(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++){const nt=Te[tt],gt=`${Ne}[${tt}]`;if(nt==null)throw new S(gt,"AbortSignal",nt);ie(nt,gt)}}function Je(Te,Ne="signal"){if(_e(Te,Ne),j[Te]===void 0)throw j[m(Te)]!==void 0?new A(Te+" (signals must use all capital letters)"):new A(Te)}const Re=_((Te,Ne="buffer")=>{if(!D(Te))throw new S(Ne,["Buffer","TypedArray","DataView"],Te)});function Fe(Te,Ne){const tt=I(Ne),nt=Te.length;if(tt==="hex"&&nt%2!==0)throw new x("encoding",Ne,`is invalid for data of length ${nt}`)}function Xe(Te,Ne="Port",tt=!0){if(typeof Te!="number"&&typeof Te!="string"||typeof Te=="string"&&y(Te).length===0||+Te!==+Te>>>0||Te>65535||Te===0&&!tt)throw new b(Ne,Te,tt);return Te|0}const ie=_((Te,Ne)=>{if(Te!==void 0&&(Te===null||typeof Te!="object"||!("aborted"in Te)))throw new S(Ne,"AbortSignal",Te)}),z=_((Te,Ne)=>{if(typeof Te!="function")throw new S(Ne,"Function",Te)}),$=_((Te,Ne)=>{if(typeof Te!="function"||M(Te))throw new S(Ne,"Function",Te)}),re=_((Te,Ne)=>{if(Te!==void 0)throw new S(Ne,"undefined",Te)});function W(Te,Ne,tt){if(!e(tt,Te))throw new S(Ne,`('${n(tt,"|")}')`,Te)}const he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Te,Ne){if(typeof Te>"u"||!h(he,Te))throw new x(Ne,Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Te){if(typeof Te=="string")return ye(Te,"hints"),Te;if(t(Te)){const Ne=Te.length;let tt="";if(Ne===0)return tt;for(let nt=0;nt<Ne;nt++){const gt=Te[nt];ye(gt,"hints"),tt+=gt,nt!==Ne-1&&(tt+=", ")}return tt}throw new x("hints",Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return F1={isInt32:Q,isUint32:Y,parseFileMode:fe,validateArray:H,validateStringArray:J,validateBooleanArray:pe,validateAbortSignalArray:Ae,validateBoolean:Le,validateBuffer:Re,validateDictionary:me,validateEncoding:Fe,validateFunction:z,validateInt32:oe,validateInteger:te,validateNumber:le,validateObject:ne,validateOneOf:ce,validatePlainFunction:$,validatePort:Xe,validateSignalName:Je,validateString:_e,validateUint32:ge,validateUndefined:re,validateUnion:W,validateAbortSignal:ie,validateLinkHeaderValue:He},F1}var Yy={exports:{}},j1={exports:{}},AM;function Zc(){if(AM)return j1.exports;AM=1;var t=j1.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(b){if(e===setTimeout)return setTimeout(b,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(b,0);try{return e(b,0)}catch{try{return e.call(null,b,0)}catch{return e.call(this,b,0)}}}function s(b){if(n===clearTimeout)return clearTimeout(b);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(b);try{return n(b)}catch{try{return n.call(null,b)}catch{return n.call(this,b)}}}var o=[],l=!1,f,h=-1;function p(){!l||!f||(l=!1,f.length?o=f.concat(o):h=-1,o.length&&m())}function m(){if(!l){var b=a(p);l=!0;for(var S=o.length;S;){for(f=o,o=[];++h<S;)f&&f[h].run();h=-1,S=o.length}f=null,l=!1,s(b)}}t.nextTick=function(b){var S=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)S[x-1]=arguments[x];o.push(new y(b,S)),o.length===1&&!l&&a(m)};function y(b,S){this.fun=b,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function _(){}return t.on=_,t.addListener=_,t.once=_,t.off=_,t.removeListener=_,t.removeAllListeners=_,t.emit=_,t.prependListener=_,t.prependOnceListener=_,t.listeners=function(b){return[]},t.binding=function(b){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(b){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},j1.exports}var $1,RM;function hu(){if(RM)return $1;RM=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=jr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),s=n("nodejs.stream.writable"),o=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),f=n("nodejs.webstream.controllerErrorFunction");function h(k,ne=!1){var me;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ne||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((me=k._readableState)===null||me===void 0?void 0:me.readable)!==!1)&&(!k._writableState||k._readableState))}function p(k){var ne;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ne=k._writableState)===null||ne===void 0?void 0:ne.writable)!==!1))}function m(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function _(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function b(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function S(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function x(k){return _(k)||b(k)||S(k)}function E(k,ne){return k==null?!1:ne===!0?typeof k[t]=="function":ne===!1?typeof k[e]=="function":typeof k[t]=="function"||typeof k[e]=="function"}function A(k){if(!y(k))return null;const ne=k._writableState,me=k._readableState,H=ne||me;return!!(k.destroyed||k[r]||H!=null&&H.destroyed)}function I(k){if(!p(k))return null;if(k.writableEnded===!0)return!0;const ne=k._writableState;return ne!=null&&ne.errored?!1:typeof(ne==null?void 0:ne.ended)!="boolean"?null:ne.ended}function M(k,ne){if(!p(k))return null;if(k.writableFinished===!0)return!0;const me=k._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.finished)!="boolean"?null:!!(me.finished||ne===!1&&me.ended===!0&&me.length===0)}function D(k){if(!h(k))return null;if(k.readableEnded===!0)return!0;const ne=k._readableState;return!ne||ne.errored?!1:typeof(ne==null?void 0:ne.ended)!="boolean"?null:ne.ended}function j(k,ne){if(!h(k))return null;const me=k._readableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.endEmitted)!="boolean"?null:!!(me.endEmitted||ne===!1&&me.ended===!0&&me.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:A(k)?!1:h(k)&&k.readable&&!j(k)}function Y(k){return k&&k[s]!=null?k[s]:typeof(k==null?void 0:k.writable)!="boolean"?null:A(k)?!1:p(k)&&k.writable&&!I(k)}function q(k,ne){return y(k)?A(k)?!0:!((ne==null?void 0:ne.readable)!==!1&&Q(k)||(ne==null?void 0:ne.writable)!==!1&&Y(k)):null}function Z(k){var ne,me;return y(k)?k.writableErrored?k.writableErrored:(ne=(me=k._writableState)===null||me===void 0?void 0:me.errored)!==null&&ne!==void 0?ne:null:null}function fe(k){var ne,me;return y(k)?k.readableErrored?k.readableErrored:(ne=(me=k._readableState)===null||me===void 0?void 0:me.errored)!==null&&ne!==void 0?ne:null:null}function te(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ne=k._writableState,me=k._readableState;return typeof(ne==null?void 0:ne.closed)=="boolean"||typeof(me==null?void 0:me.closed)=="boolean"?(ne==null?void 0:ne.closed)||(me==null?void 0:me.closed):typeof k._closed=="boolean"&&oe(k)?k._closed:null}function oe(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function ge(k){return typeof k._sent100=="boolean"&&oe(k)}function _e(k){var ne;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ne=k.req)===null||ne===void 0?void 0:ne.upgradeOrConnect)===void 0}function le(k){if(!y(k))return null;const ne=k._writableState,me=k._readableState,H=ne||me;return!H&&ge(k)||!!(H&&H.autoDestroy&&H.emitClose&&H.closed===!1)}function ce(k){var ne;return!!(k&&((ne=k[o])!==null&&ne!==void 0?ne:k.readableDidRead||k.readableAborted))}function Le(k){var ne,me,H,J,pe,Ae,Je,Re,Fe,Xe;return!!(k&&((ne=(me=(H=(J=(pe=(Ae=k[i])!==null&&Ae!==void 0?Ae:k.readableErrored)!==null&&pe!==void 0?pe:k.writableErrored)!==null&&J!==void 0?J:(Je=k._readableState)===null||Je===void 0?void 0:Je.errorEmitted)!==null&&H!==void 0?H:(Re=k._writableState)===null||Re===void 0?void 0:Re.errorEmitted)!==null&&me!==void 0?me:(Fe=k._readableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&ne!==void 0?ne:!((Xe=k._writableState)===null||Xe===void 0)&&Xe.errored))}return $1={isDestroyed:A,kIsDestroyed:r,isDisturbed:ce,kIsDisturbed:o,isErrored:Le,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:f,kIsWritable:s,isClosed:te,isDuplexNodeStream:m,isFinished:q,isIterable:E,isReadableNodeStream:h,isReadableStream:_,isReadableEnded:D,isReadableFinished:j,isReadableErrored:fe,isNodeStream:y,isWebStream:x,isWritable:Y,isWritableNodeStream:p,isWritableStream:b,isWritableEnded:I,isWritableFinished:M,isWritableErrored:Z,isServerRequest:_e,isServerResponse:ge,willEmitClose:le,isTransformStream:S},$1}var PM;function El(){if(PM)return Yy.exports;PM=1;const t=Zc(),{AbortError:e,codes:n}=Ea(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:s}=oa(),{validateAbortSignal:o,validateFunction:l,validateObject:f,validateBoolean:h}=pm(),{Promise:p,PromisePrototypeThen:m,SymbolDispose:y}=jr(),{isClosed:_,isReadable:b,isReadableNodeStream:S,isReadableStream:x,isReadableFinished:E,isReadableErrored:A,isWritable:I,isWritableNodeStream:M,isWritableStream:D,isWritableFinished:j,isWritableErrored:Q,isNodeStream:Y,willEmitClose:q,kIsClosedPromise:Z}=hu();let fe;function te(ce){return ce.setHeader&&typeof ce.abort=="function"}const oe=()=>{};function ge(ce,Le,k){var ne,me;if(arguments.length===2?(k=Le,Le=a):Le==null?Le=a:f(Le,"options"),l(k,"callback"),o(Le.signal,"options.signal"),k=s(k),x(ce)||D(ce))return _e(ce,Le,k);if(!Y(ce))throw new r("stream",["ReadableStream","WritableStream","Stream"],ce);const H=(ne=Le.readable)!==null&&ne!==void 0?ne:S(ce),J=(me=Le.writable)!==null&&me!==void 0?me:M(ce),pe=ce._writableState,Ae=ce._readableState,Je=()=>{ce.writable||Xe()};let Re=q(ce)&&S(ce)===H&&M(ce)===J,Fe=j(ce,!1);const Xe=()=>{Fe=!0,ce.destroyed&&(Re=!1),!(Re&&(!ce.readable||H))&&(!H||ie)&&k.call(ce)};let ie=E(ce,!1);const z=()=>{ie=!0,ce.destroyed&&(Re=!1),!(Re&&(!ce.writable||J))&&(!J||Fe)&&k.call(ce)},$=Te=>{k.call(ce,Te)};let re=_(ce);const W=()=>{re=!0;const Te=Q(ce)||A(ce);if(Te&&typeof Te!="boolean")return k.call(ce,Te);if(H&&!ie&&S(ce,!0)&&!E(ce,!1))return k.call(ce,new i);if(J&&!Fe&&!j(ce,!1))return k.call(ce,new i);k.call(ce)},he=()=>{re=!0;const Te=Q(ce)||A(ce);if(Te&&typeof Te!="boolean")return k.call(ce,Te);k.call(ce)},ye=()=>{ce.req.on("finish",Xe)};te(ce)?(ce.on("complete",Xe),Re||ce.on("abort",W),ce.req?ye():ce.on("request",ye)):J&&!pe&&(ce.on("end",Je),ce.on("close",Je)),!Re&&typeof ce.aborted=="boolean"&&ce.on("aborted",W),ce.on("end",z),ce.on("finish",Xe),Le.error!==!1&&ce.on("error",$),ce.on("close",W),re?t.nextTick(W):pe!=null&&pe.errorEmitted||Ae!=null&&Ae.errorEmitted?Re||t.nextTick(he):(!H&&(!Re||b(ce))&&(Fe||I(ce)===!1)||!J&&(!Re||I(ce))&&(ie||b(ce)===!1)||Ae&&ce.req&&ce.aborted)&&t.nextTick(he);const He=()=>{k=oe,ce.removeListener("aborted",W),ce.removeListener("complete",Xe),ce.removeListener("abort",W),ce.removeListener("request",ye),ce.req&&ce.req.removeListener("finish",Xe),ce.removeListener("end",Je),ce.removeListener("close",Je),ce.removeListener("finish",Xe),ce.removeListener("end",z),ce.removeListener("error",$),ce.removeListener("close",W)};if(Le.signal&&!re){const Te=()=>{const Ne=k;He(),Ne.call(ce,new e(void 0,{cause:Le.signal.reason}))};if(Le.signal.aborted)t.nextTick(Te);else{fe=fe||oa().addAbortListener;const Ne=fe(Le.signal,Te),tt=k;k=s((...nt)=>{Ne[y](),tt.apply(ce,nt)})}}return He}function _e(ce,Le,k){let ne=!1,me=oe;if(Le.signal)if(me=()=>{ne=!0,k.call(ce,new e(void 0,{cause:Le.signal.reason}))},Le.signal.aborted)t.nextTick(me);else{fe=fe||oa().addAbortListener;const J=fe(Le.signal,me),pe=k;k=s((...Ae)=>{J[y](),pe.apply(ce,Ae)})}const H=(...J)=>{ne||t.nextTick(()=>k.apply(ce,J))};return m(ce[Z].promise,H,H),oe}function le(ce,Le){var k;let ne=!1;return Le===null&&(Le=a),(k=Le)!==null&&k!==void 0&&k.cleanup&&(h(Le.cleanup,"cleanup"),ne=Le.cleanup),new p((me,H)=>{const J=ge(ce,Le,pe=>{ne&&J(),pe?H(pe):me()})})}return Yy.exports=ge,Yy.exports.finished=le,Yy.exports}var U1,OM;function qd(){if(OM)return U1;OM=1;const t=Zc(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Ea(),{Symbol:i}=jr(),{kIsDestroyed:a,isDestroyed:s,isFinished:o,isServerRequest:l}=hu(),f=i("kDestroy"),h=i("kConstruct");function p(q,Z,fe){q&&(q.stack,Z&&!Z.errored&&(Z.errored=q),fe&&!fe.errored&&(fe.errored=q))}function m(q,Z){const fe=this._readableState,te=this._writableState,oe=te||fe;return te!=null&&te.destroyed||fe!=null&&fe.destroyed?(typeof Z=="function"&&Z(),this):(p(q,te,fe),te&&(te.destroyed=!0),fe&&(fe.destroyed=!0),oe.constructed?y(this,q,Z):this.once(f,function(ge){y(this,e(ge,q),Z)}),this)}function y(q,Z,fe){let te=!1;function oe(ge){if(te)return;te=!0;const _e=q._readableState,le=q._writableState;p(ge,le,_e),le&&(le.closed=!0),_e&&(_e.closed=!0),typeof fe=="function"&&fe(ge),ge?t.nextTick(_,q,ge):t.nextTick(b,q)}try{q._destroy(Z||null,oe)}catch(ge){oe(ge)}}function _(q,Z){S(q,Z),b(q)}function b(q){const Z=q._readableState,fe=q._writableState;fe&&(fe.closeEmitted=!0),Z&&(Z.closeEmitted=!0),(fe!=null&&fe.emitClose||Z!=null&&Z.emitClose)&&q.emit("close")}function S(q,Z){const fe=q._readableState,te=q._writableState;te!=null&&te.errorEmitted||fe!=null&&fe.errorEmitted||(te&&(te.errorEmitted=!0),fe&&(fe.errorEmitted=!0),q.emit("error",Z))}function x(){const q=this._readableState,Z=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),Z&&(Z.constructed=!0,Z.destroyed=!1,Z.closed=!1,Z.closeEmitted=!1,Z.errored=null,Z.errorEmitted=!1,Z.finalCalled=!1,Z.prefinished=!1,Z.ended=Z.writable===!1,Z.ending=Z.writable===!1,Z.finished=Z.writable===!1)}function E(q,Z,fe){const te=q._readableState,oe=q._writableState;if(oe!=null&&oe.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||oe!=null&&oe.autoDestroy?q.destroy(Z):Z&&(Z.stack,oe&&!oe.errored&&(oe.errored=Z),te&&!te.errored&&(te.errored=Z),fe?t.nextTick(S,q,Z):S(q,Z))}function A(q,Z){if(typeof q._construct!="function")return;const fe=q._readableState,te=q._writableState;fe&&(fe.constructed=!1),te&&(te.constructed=!1),q.once(h,Z),!(q.listenerCount(h)>1)&&t.nextTick(I,q)}function I(q){let Z=!1;function fe(te){if(Z){E(q,te??new n);return}Z=!0;const oe=q._readableState,ge=q._writableState,_e=ge||oe;oe&&(oe.constructed=!0),ge&&(ge.constructed=!0),_e.destroyed?q.emit(f,te):te?E(q,te,!0):t.nextTick(M,q)}try{q._construct(te=>{t.nextTick(fe,te)})}catch(te){t.nextTick(fe,te)}}function M(q){q.emit(h)}function D(q){return(q==null?void 0:q.setHeader)&&typeof q.abort=="function"}function j(q){q.emit("close")}function Q(q,Z){q.emit("error",Z),t.nextTick(j,q)}function Y(q,Z){!q||s(q)||(!Z&&!o(q)&&(Z=new r),l(q)?(q.socket=null,q.destroy(Z)):D(q)?q.abort():D(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy(Z):typeof q.close=="function"?q.close():Z?t.nextTick(Q,q,Z):t.nextTick(j,q),q.destroyed||(q[a]=!0))}return U1={construct:A,destroyer:Y,destroy:m,undestroy:x,errorOrDestroy:E},U1}var B1,LM;function WA(){if(LM)return B1;LM=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=jr(),{EventEmitter:n}=Ud();function r(a){n.call(this,a)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(a,s){const o=this;function l(b){a.writable&&a.write(b)===!1&&o.pause&&o.pause()}o.on("data",l);function f(){o.readable&&o.resume&&o.resume()}a.on("drain",f),!a._isStdio&&(!s||s.end!==!1)&&(o.on("end",p),o.on("close",m));let h=!1;function p(){h||(h=!0,a.end())}function m(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function y(b){_(),n.listenerCount(this,"error")===0&&this.emit("error",b)}i(o,"error",y),i(a,"error",y);function _(){o.removeListener("data",l),a.removeListener("drain",f),o.removeListener("end",p),o.removeListener("close",m),o.removeListener("error",y),a.removeListener("error",y),o.removeListener("end",_),o.removeListener("close",_),a.removeListener("close",_)}return o.on("end",_),o.on("close",_),a.on("close",_),a.emit("pipe",o),a};function i(a,s,o){if(typeof a.prependListener=="function")return a.prependListener(s,o);!a._events||!a._events[s]?a.on(s,o):t(a._events[s])?a._events[s].unshift(o):a._events[s]=[o,a._events[s]]}return B1={Stream:r,prependListener:i},B1}var q1={exports:{}},IM;function A0(){return IM||(IM=1,function(t){const{SymbolDispose:e}=jr(),{AbortError:n,codes:r}=Ea(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=hu(),o=El(),{ERR_INVALID_ARG_TYPE:l}=r;let f;const h=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new l(m,"AbortSignal",p)};t.exports.addAbortSignal=function(m,y){if(h(m,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[s](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{f=f||oa().addAbortListener;const _=f(p,y);o(m,_[e])}return m}}(q1)),q1.exports}var z1,MM;function mJ(){if(MM)return z1;MM=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=jr(),{Buffer:i}=du(),{inspect:a}=oa();return z1=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(o){const l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let l=this.head,f=""+l.data;for(;(l=l.next)!==null;)f+=o+l.data;return f}concat(o){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(o>>>0);let f=this.head,h=0;for(;f;)n(l,f.data,h),h+=f.data.length,f=f.next;return l}consume(o,l){const f=this.head.data;if(o<f.length){const h=f.slice(0,o);return this.head.data=f.slice(o),h}return o===f.length?this.shift():l?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let l="",f=this.head,h=0;do{const p=f.data;if(o>p.length)l+=p,o-=p.length;else{o===p.length?(l+=p,++h,f.next?this.head=f.next:this.head=this.tail=null):(l+=t(p,0,o),this.head=f,f.data=t(p,o));break}++h}while((f=f.next)!==null);return this.length-=h,l}_getBuffer(o){const l=i.allocUnsafe(o),f=o;let h=this.head,p=0;do{const m=h.data;if(o>m.length)n(l,m,f-o),o-=m.length;else{o===m.length?(n(l,m,f-o),++p,h.next?this.head=h.next:this.head=this.tail=null):(n(l,new r(m.buffer,m.byteOffset,o),f-o),this.head=h,h.data=m.slice(o));break}++p}while((h=h.next)!==null);return this.length-=p,l}[Symbol.for("nodejs.util.inspect.custom")](o,l){return a(this,{...l,depth:0,customInspect:!1})}},z1}var H1,DM;function R0(){if(DM)return H1;DM=1;const{MathFloor:t,NumberIsInteger:e}=jr(),{validateInteger:n}=pm(),{ERR_INVALID_ARG_VALUE:r}=Ea().codes;let i=16*1024,a=16;function s(h,p,m){return h.highWaterMark!=null?h.highWaterMark:p?h[m]:null}function o(h){return h?a:i}function l(h,p){n(p,"value",0),h?a=p:i=p}function f(h,p,m,y){const _=s(p,y,m);if(_!=null){if(!e(_)||_<0){const b=y?`options.${m}`:"options.highWaterMark";throw new r(b,_)}return t(_)}return o(h.objectMode)}return H1={getHighWaterMark:f,getDefaultHighWaterMark:o,setDefaultHighWaterMark:l},H1}var V1={},Xy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var kM;function yJ(){return kM||(kM=1,function(t,e){var n=du(),r=n.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a);function a(s,o,l){return r(s,o,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=r(s);return o!==void 0?typeof l=="string"?f.fill(o,l):f.fill(o):f.fill(0),f},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}(Xy,Xy.exports)),Xy.exports}var NM;function vJ(){if(NM)return V1;NM=1;var t=yJ().Buffer,e=t.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(x){if(!x)return"utf8";for(var E;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(E)return;x=(""+x).toLowerCase(),E=!0}}function r(x){var E=n(x);if(typeof E!="string"&&(t.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return E||x}V1.StringDecoder=i;function i(x){this.encoding=r(x);var E;switch(this.encoding){case"utf16le":this.text=p,this.end=m,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=y,this.end=_,E=3;break;default:this.write=b,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(E)}i.prototype.write=function(x){if(x.length===0)return"";var E,A;if(this.lastNeed){if(E=this.fillLast(x),E===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<x.length?E?E+this.text(x,A):this.text(x,A):E||""},i.prototype.end=h,i.prototype.text=f,i.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function a(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function s(x,E,A){var I=E.length-1;if(I<A)return 0;var M=a(E[I]);return M>=0?(M>0&&(x.lastNeed=M-1),M):--I<A||M===-2?0:(M=a(E[I]),M>=0?(M>0&&(x.lastNeed=M-2),M):--I<A||M===-2?0:(M=a(E[I]),M>=0?(M>0&&(M===2?M=0:x.lastNeed=M-3),M):0))}function o(x,E,A){if((E[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return x.lastNeed=2,""}}function l(x){var E=this.lastTotal-this.lastNeed,A=o(this,x);if(A!==void 0)return A;if(this.lastNeed<=x.length)return x.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,E,0,x.length),this.lastNeed-=x.length}function f(x,E){var A=s(this,x,E);if(!this.lastNeed)return x.toString("utf8",E);this.lastTotal=A;var I=x.length-(A-this.lastNeed);return x.copy(this.lastChar,0,I),x.toString("utf8",E,I)}function h(x){var E=x&&x.length?this.write(x):"";return this.lastNeed?E+"":E}function p(x,E){if((x.length-E)%2===0){var A=x.toString("utf16le",E);if(A){var I=A.charCodeAt(A.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",E,x.length-1)}function m(x){var E=x&&x.length?this.write(x):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,A)}return E}function y(x,E){var A=(x.length-E)%3;return A===0?x.toString("base64",E):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",E,x.length-A))}function _(x){var E=x&&x.length?this.write(x):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function b(x){return x.toString(this.encoding)}function S(x){return x&&x.length?this.write(x):""}return V1}var K1,FM;function XU(){if(FM)return K1;FM=1;const t=Zc(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=jr(),{Buffer:i}=du(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:s}=Ea().codes;function o(l,f,h){let p;if(typeof f=="string"||f instanceof i)return new l({objectMode:!0,...h,read(){this.push(f),this.push(null)}});let m;if(f&&f[n])m=!0,p=f[n]();else if(f&&f[r])m=!1,p=f[r]();else throw new a("iterable",["Iterable"],f);const y=new l({objectMode:!0,highWaterMark:1,...h});let _=!1;y._read=function(){_||(_=!0,S())},y._destroy=function(x,E){e(b(x),()=>t.nextTick(E,x),A=>t.nextTick(E,A||x))};async function b(x){const E=x!=null,A=typeof p.throw=="function";if(E&&A){const{value:I,done:M}=await p.throw(x);if(await I,M)return}if(typeof p.return=="function"){const{value:I}=await p.return();await I}}async function S(){for(;;){try{const{value:x,done:E}=m?await p.next():p.next();if(E)y.push(null);else{const A=x&&typeof x.then=="function"?await x:x;if(A===null)throw _=!1,new s;if(y.push(A))continue;_=!1}}catch(x){y.destroy(x)}break}}return y}return K1=o,K1}var G1,jM;function P0(){if(jM)return G1;jM=1;const t=Zc(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:s,ObjectSetPrototypeOf:o,Promise:l,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:m}=jr();G1=nt,nt.ReadableState=tt;const{EventEmitter:y}=Ud(),{Stream:_,prependListener:b}=WA(),{Buffer:S}=du(),{addAbortSignal:x}=A0(),E=El();let A=oa().debuglog("stream",Oe=>{A=Oe});const I=mJ(),M=qd(),{getHighWaterMark:D,getDefaultHighWaterMark:j}=R0(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:Z,ERR_STREAM_PUSH_AFTER_EOF:fe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te},AbortError:oe}=Ea(),{validateObject:ge}=pm(),_e=m("kPaused"),{StringDecoder:le}=vJ(),ce=XU();o(nt.prototype,_.prototype),o(nt,_);const Le=()=>{},{errorOrDestroy:k}=M,ne=1,me=2,H=4,J=8,pe=16,Ae=32,Je=64,Re=128,Fe=256,Xe=512,ie=1024,z=2048,$=4096,re=8192,W=16384,he=32768,ye=65536,He=1<<17,Te=1<<18;function Ne(Oe){return{enumerable:!1,get(){return(this.state&Oe)!==0},set(qe){qe?this.state|=Oe:this.state&=~Oe}}}a(tt.prototype,{objectMode:Ne(ne),ended:Ne(me),endEmitted:Ne(H),reading:Ne(J),constructed:Ne(pe),sync:Ne(Ae),needReadable:Ne(Je),emittedReadable:Ne(Re),readableListening:Ne(Fe),resumeScheduled:Ne(Xe),errorEmitted:Ne(ie),emitClose:Ne(z),autoDestroy:Ne($),destroyed:Ne(re),closed:Ne(W),closeEmitted:Ne(he),multiAwaitDrain:Ne(ye),readingMore:Ne(He),dataEmitted:Ne(Te)});function tt(Oe,qe,wt){typeof wt!="boolean"&&(wt=qe instanceof uu()),this.state=z|$|pe|Ae,Oe&&Oe.objectMode&&(this.state|=ne),wt&&Oe&&Oe.readableObjectMode&&(this.state|=ne),this.highWaterMark=Oe?D(this,Oe,"readableHighWaterMark",wt):j(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[_e]=null,Oe&&Oe.emitClose===!1&&(this.state&=~z),Oe&&Oe.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Oe&&Oe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Oe&&Oe.encoding&&(this.decoder=new le(Oe.encoding),this.encoding=Oe.encoding)}function nt(Oe){if(!(this instanceof nt))return new nt(Oe);const qe=this instanceof uu();this._readableState=new tt(Oe,this,qe),Oe&&(typeof Oe.read=="function"&&(this._read=Oe.read),typeof Oe.destroy=="function"&&(this._destroy=Oe.destroy),typeof Oe.construct=="function"&&(this._construct=Oe.construct),Oe.signal&&!qe&&x(Oe.signal,this)),_.call(this,Oe),M.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=M.destroy,nt.prototype._undestroy=M.undestroy,nt.prototype._destroy=function(Oe,qe){qe(Oe)},nt.prototype[y.captureRejectionSymbol]=function(Oe){this.destroy(Oe)},nt.prototype[h]=function(){let Oe;return this.destroyed||(Oe=this.readableEnded?null:new oe,this.destroy(Oe)),new l((qe,wt)=>E(this,xt=>xt&&xt!==Oe?wt(xt):qe(null)))},nt.prototype.push=function(Oe,qe){return gt(this,Oe,qe,!1)},nt.prototype.unshift=function(Oe,qe){return gt(this,Oe,qe,!0)};function gt(Oe,qe,wt,xt){A("readableAddChunk",qe);const Lt=Oe._readableState;let qn;if(Lt.state&ne||(typeof qe=="string"?(wt=wt||Lt.defaultEncoding,Lt.encoding!==wt&&(xt&&Lt.encoding?qe=S.from(qe,wt).toString(Lt.encoding):(qe=S.from(qe,wt),wt=""))):qe instanceof S?wt="":_._isUint8Array(qe)?(qe=_._uint8ArrayToBuffer(qe),wt=""):qe!=null&&(qn=new Y("chunk",["string","Buffer","Uint8Array"],qe))),qn)k(Oe,qn);else if(qe===null)Lt.state&=~J,B(Oe,Lt);else if(Lt.state&ne||qe&&qe.length>0)if(xt)if(Lt.state&H)k(Oe,new te);else{if(Lt.destroyed||Lt.errored)return!1;Ut(Oe,Lt,qe,!0)}else if(Lt.ended)k(Oe,new fe);else{if(Lt.destroyed||Lt.errored)return!1;Lt.state&=~J,Lt.decoder&&!wt?(qe=Lt.decoder.write(qe),Lt.objectMode||qe.length!==0?Ut(Oe,Lt,qe,!1):je(Oe,Lt)):Ut(Oe,Lt,qe,!1)}else xt||(Lt.state&=~J,je(Oe,Lt));return!Lt.ended&&(Lt.length<Lt.highWaterMark||Lt.length===0)}function Ut(Oe,qe,wt,xt){qe.flowing&&qe.length===0&&!qe.sync&&Oe.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Oe.emit("data",wt)):(qe.length+=qe.objectMode?1:wt.length,xt?qe.buffer.unshift(wt):qe.buffer.push(wt),qe.state&Je&&K(Oe)),je(Oe,qe)}nt.prototype.isPaused=function(){const Oe=this._readableState;return Oe[_e]===!0||Oe.flowing===!1},nt.prototype.setEncoding=function(Oe){const qe=new le(Oe);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const wt=this._readableState.buffer;let xt="";for(const Lt of wt)xt+=qe.write(Lt);return wt.clear(),xt!==""&&wt.push(xt),this._readableState.length=xt.length,this};const Se=1073741824;function Be(Oe){if(Oe>Se)throw new Z("size","<= 1GiB",Oe);return Oe--,Oe|=Oe>>>1,Oe|=Oe>>>2,Oe|=Oe>>>4,Oe|=Oe>>>8,Oe|=Oe>>>16,Oe++,Oe}function X(Oe,qe){return Oe<=0||qe.length===0&&qe.ended?0:qe.state&ne?1:r(Oe)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Oe<=qe.length?Oe:qe.ended?qe.length:0}nt.prototype.read=function(Oe){A("read",Oe),Oe===void 0?Oe=NaN:n(Oe)||(Oe=i(Oe,10));const qe=this._readableState,wt=Oe;if(Oe>qe.highWaterMark&&(qe.highWaterMark=Be(Oe)),Oe!==0&&(qe.state&=~Re),Oe===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?dr(this):K(this),null;if(Oe=X(Oe,qe),Oe===0&&qe.ended)return qe.length===0&&dr(this),null;let xt=(qe.state&Je)!==0;if(A("need readable",xt),(qe.length===0||qe.length-Oe<qe.highWaterMark)&&(xt=!0,A("length less than watermark",xt)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)xt=!1,A("reading, ended or constructing",xt);else if(xt){A("do read"),qe.state|=J|Ae,qe.length===0&&(qe.state|=Je);try{this._read(qe.highWaterMark)}catch(qn){k(this,qn)}qe.state&=~Ae,qe.reading||(Oe=X(wt,qe))}let Lt;return Oe>0?Lt=dn(Oe,qe):Lt=null,Lt===null?(qe.needReadable=qe.length<=qe.highWaterMark,Oe=0):(qe.length-=Oe,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),wt!==Oe&&qe.ended&&dr(this)),Lt!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",Lt)),Lt};function B(Oe,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const wt=qe.decoder.end();wt&&wt.length&&(qe.buffer.push(wt),qe.length+=qe.objectMode?1:wt.length)}qe.ended=!0,qe.sync?K(Oe):(qe.needReadable=!1,qe.emittedReadable=!0,V(Oe))}}function K(Oe){const qe=Oe._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,t.nextTick(V,Oe))}function V(Oe){const qe=Oe._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Oe.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,Bt(Oe)}function je(Oe,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,t.nextTick(Ze,Oe,qe))}function Ze(Oe,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const wt=qe.length;if(A("maybeReadMore read 0"),Oe.read(0),wt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Oe){throw new q("_read()")},nt.prototype.pipe=function(Oe,qe){const wt=this,xt=this._readableState;xt.pipes.length===1&&(xt.multiAwaitDrain||(xt.multiAwaitDrain=!0,xt.awaitDrainWriters=new f(xt.awaitDrainWriters?[xt.awaitDrainWriters]:[]))),xt.pipes.push(Oe),A("pipe count=%d opts=%j",xt.pipes.length,qe);const qn=(!qe||qe.end!==!1)&&Oe!==t.stdout&&Oe!==t.stderr?We:qt;xt.endEmitted?t.nextTick(qn):wt.once("end",qn),Oe.on("unpipe",Jn);function Jn(Nt,en){A("onunpipe"),Nt===wt&&en&&en.hasUnpiped===!1&&(en.hasUnpiped=!0,ft())}function We(){A("onend"),Oe.end()}let Ee,et=!1;function ft(){A("cleanup"),Oe.removeListener("close",Vt),Oe.removeListener("finish",Yt),Ee&&Oe.removeListener("drain",Ee),Oe.removeListener("error",It),Oe.removeListener("unpipe",Jn),wt.removeListener("end",We),wt.removeListener("end",qt),wt.removeListener("data",Et),et=!0,Ee&&xt.awaitDrainWriters&&(!Oe._writableState||Oe._writableState.needDrain)&&Ee()}function it(){et||(xt.pipes.length===1&&xt.pipes[0]===Oe?(A("false write response, pause",0),xt.awaitDrainWriters=Oe,xt.multiAwaitDrain=!1):xt.pipes.length>1&&xt.pipes.includes(Oe)&&(A("false write response, pause",xt.awaitDrainWriters.size),xt.awaitDrainWriters.add(Oe)),wt.pause()),Ee||(Ee=ke(wt,Oe),Oe.on("drain",Ee))}wt.on("data",Et);function Et(Nt){A("ondata");const en=Oe.write(Nt);A("dest.write",en),en===!1&&it()}function It(Nt){if(A("onerror",Nt),qt(),Oe.removeListener("error",It),Oe.listenerCount("error")===0){const en=Oe._writableState||Oe._readableState;en&&!en.errorEmitted?k(Oe,Nt):Oe.emit("error",Nt)}}b(Oe,"error",It);function Vt(){Oe.removeListener("finish",Yt),qt()}Oe.once("close",Vt);function Yt(){A("onfinish"),Oe.removeListener("close",Vt),qt()}Oe.once("finish",Yt);function qt(){A("unpipe"),wt.unpipe(Oe)}return Oe.emit("pipe",wt),Oe.writableNeedDrain===!0?it():xt.flowing||(A("pipe resume"),wt.resume()),Oe};function ke(Oe,qe){return function(){const xt=Oe._readableState;xt.awaitDrainWriters===qe?(A("pipeOnDrain",1),xt.awaitDrainWriters=null):xt.multiAwaitDrain&&(A("pipeOnDrain",xt.awaitDrainWriters.size),xt.awaitDrainWriters.delete(qe)),(!xt.awaitDrainWriters||xt.awaitDrainWriters.size===0)&&Oe.listenerCount("data")&&Oe.resume()}}nt.prototype.unpipe=function(Oe){const qe=this._readableState,wt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Oe){const Lt=qe.pipes;qe.pipes=[],this.pause();for(let qn=0;qn<Lt.length;qn++)Lt[qn].emit("unpipe",this,{hasUnpiped:!1});return this}const xt=e(qe.pipes,Oe);return xt===-1?this:(qe.pipes.splice(xt,1),qe.pipes.length===0&&this.pause(),Oe.emit("unpipe",this,wt),this)},nt.prototype.on=function(Oe,qe){const wt=_.prototype.on.call(this,Oe,qe),xt=this._readableState;return Oe==="data"?(xt.readableListening=this.listenerCount("readable")>0,xt.flowing!==!1&&this.resume()):Oe==="readable"&&!xt.endEmitted&&!xt.readableListening&&(xt.readableListening=xt.needReadable=!0,xt.flowing=!1,xt.emittedReadable=!1,A("on readable",xt.length,xt.reading),xt.length?K(this):xt.reading||t.nextTick(Ot,this)),wt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Oe,qe){const wt=_.prototype.removeListener.call(this,Oe,qe);return Oe==="readable"&&t.nextTick(At,this),wt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Oe){const qe=_.prototype.removeAllListeners.apply(this,arguments);return(Oe==="readable"||Oe===void 0)&&t.nextTick(At,this),qe};function At(Oe){const qe=Oe._readableState;qe.readableListening=Oe.listenerCount("readable")>0,qe.resumeScheduled&&qe[_e]===!1?qe.flowing=!0:Oe.listenerCount("data")>0?Oe.resume():qe.readableListening||(qe.flowing=null)}function Ot(Oe){A("readable nexttick read 0"),Oe.read(0)}nt.prototype.resume=function(){const Oe=this._readableState;return Oe.flowing||(A("resume"),Oe.flowing=!Oe.readableListening,Dt(this,Oe)),Oe[_e]=!1,this};function Dt(Oe,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,t.nextTick(Rt,Oe,qe))}function Rt(Oe,qe){A("resume",qe.reading),qe.reading||Oe.read(0),qe.resumeScheduled=!1,Oe.emit("resume"),Bt(Oe),qe.flowing&&!qe.reading&&Oe.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_e]=!0,this};function Bt(Oe){const qe=Oe._readableState;for(A("flow",qe.flowing);qe.flowing&&Oe.read()!==null;);}nt.prototype.wrap=function(Oe){let qe=!1;Oe.on("data",xt=>{!this.push(xt)&&Oe.pause&&(qe=!0,Oe.pause())}),Oe.on("end",()=>{this.push(null)}),Oe.on("error",xt=>{k(this,xt)}),Oe.on("close",()=>{this.destroy()}),Oe.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Oe.resume&&(qe=!1,Oe.resume())};const wt=s(Oe);for(let xt=1;xt<wt.length;xt++){const Lt=wt[xt];this[Lt]===void 0&&typeof Oe[Lt]=="function"&&(this[Lt]=Oe[Lt].bind(Oe))}return this},nt.prototype[p]=function(){return Er(this)},nt.prototype.iterator=function(Oe){return Oe!==void 0&&ge(Oe,"options"),Er(this,Oe)};function Er(Oe,qe){typeof Oe.read!="function"&&(Oe=nt.wrap(Oe,{objectMode:!0}));const wt=fn(Oe,qe);return wt.stream=Oe,wt}async function*fn(Oe,qe){let wt=Le;function xt(Jn){this===Oe?(wt(),wt=Le):wt=Jn}Oe.on("readable",xt);let Lt;const qn=E(Oe,{writable:!1},Jn=>{Lt=Jn?Q(Lt,Jn):null,wt(),wt=Le});try{for(;;){const Jn=Oe.destroyed?null:Oe.read();if(Jn!==null)yield Jn;else{if(Lt)throw Lt;if(Lt===null)return;await new l(xt)}}}catch(Jn){throw Lt=Q(Lt,Jn),Lt}finally{(Lt||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(Lt===void 0||Oe._readableState.autoDestroy)?M.destroyer(Oe,null):(Oe.off("readable",xt),qn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Oe=this._readableState;return!!Oe&&Oe.readable!==!1&&!Oe.destroyed&&!Oe.errorEmitted&&!Oe.endEmitted},set(Oe){this._readableState&&(this._readableState.readable=!!Oe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Oe){this._readableState&&(this._readableState.flowing=Oe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Oe){this._readableState&&(this._readableState.destroyed=Oe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_e]!==!1},set(Oe){this[_e]=!!Oe}}}),nt._fromList=dn;function dn(Oe,qe){if(qe.length===0)return null;let wt;return qe.objectMode?wt=qe.buffer.shift():!Oe||Oe>=qe.length?(qe.decoder?wt=qe.buffer.join(""):qe.buffer.length===1?wt=qe.buffer.first():wt=qe.buffer.concat(qe.length),qe.buffer.clear()):wt=qe.buffer.consume(Oe,qe.decoder),wt}function dr(Oe){const qe=Oe._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,t.nextTick(on,qe,Oe))}function on(Oe,qe){if(A("endReadableNT",Oe.endEmitted,Oe.length),!Oe.errored&&!Oe.closeEmitted&&!Oe.endEmitted&&Oe.length===0){if(Oe.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)t.nextTick(un,qe);else if(Oe.autoDestroy){const wt=qe._writableState;(!wt||wt.autoDestroy&&(wt.finished||wt.writable===!1))&&qe.destroy()}}}function un(Oe){Oe.writable&&!Oe.writableEnded&&!Oe.destroyed&&Oe.end()}nt.from=function(Oe,qe){return ce(nt,Oe,qe)};let Ln;function sr(){return Ln===void 0&&(Ln={}),Ln}return nt.fromWeb=function(Oe,qe){return sr().newStreamReadableFromReadableStream(Oe,qe)},nt.toWeb=function(Oe,qe){return sr().newReadableStreamFromStreamReadable(Oe,qe)},nt.wrap=function(Oe,qe){var wt,xt;return new nt({objectMode:(wt=(xt=Oe.readableObjectMode)!==null&&xt!==void 0?xt:Oe.objectMode)!==null&&wt!==void 0?wt:!0,...qe,destroy(Lt,qn){M.destroyer(Oe,Lt),qn(Lt)}}).wrap(Oe)},G1}var W1,$M;function QA(){if($M)return W1;$M=1;const t=Zc(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:f}=jr();W1=ge,ge.WritableState=te;const{EventEmitter:h}=Ud(),p=WA().Stream,{Buffer:m}=du(),y=qd(),{addAbortSignal:_}=A0(),{getHighWaterMark:b,getDefaultHighWaterMark:S}=R0(),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:Y}=Ea().codes,{errorOrDestroy:q}=y;s(ge.prototype,p.prototype),s(ge,p);function Z(){}const fe=l("kOnFinished");function te($,re,W){typeof W!="boolean"&&(W=re instanceof uu()),this.objectMode=!!($&&$.objectMode),W&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?b(this,$,"writableHighWaterMark",W):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!($&&$.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,re),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,oe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[fe]=[]}function oe($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}te.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ge($){const re=this instanceof uu();if(!re&&!r(ge,this))return new ge($);this._writableState=new te($,this,re),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&_($.signal,this)),p.call(this,$),y.construct(this,()=>{const W=this._writableState;W.writing||J(this,W),Re(this,W)})}i(ge,f,{__proto__:null,value:function($){return r(this,$)?!0:this!==ge?!1:$&&$._writableState instanceof te}}),ge.prototype.pipe=function(){q(this,new I)};function _e($,re,W,he){const ye=$._writableState;if(typeof W=="function")he=W,W=ye.defaultEncoding;else{if(!W)W=ye.defaultEncoding;else if(W!=="buffer"&&!m.isEncoding(W))throw new Y(W);typeof he!="function"&&(he=Z)}if(re===null)throw new j;if(!ye.objectMode)if(typeof re=="string")ye.decodeStrings!==!1&&(re=m.from(re,W),W="buffer");else if(re instanceof m)W="buffer";else if(p._isUint8Array(re))re=p._uint8ArrayToBuffer(re),W="buffer";else throw new x("chunk",["string","Buffer","Uint8Array"],re);let He;return ye.ending?He=new Q:ye.destroyed&&(He=new M("write")),He?(t.nextTick(he,He),q($,He,!0),He):(ye.pendingcb++,le($,ye,re,W,he))}ge.prototype.write=function($,re,W){return _e(this,$,re,W)===!0},ge.prototype.cork=function(){this._writableState.corked++},ge.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||J(this,$))},ge.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=o(re)),!m.isEncoding(re))throw new Y(re);return this._writableState.defaultEncoding=re,this};function le($,re,W,he,ye){const He=re.objectMode?1:W.length;re.length+=He;const Te=re.length<re.highWaterMark;return Te||(re.needDrain=!0),re.writing||re.corked||re.errored||!re.constructed?(re.buffered.push({chunk:W,encoding:he,callback:ye}),re.allBuffers&&he!=="buffer"&&(re.allBuffers=!1),re.allNoop&&ye!==Z&&(re.allNoop=!1)):(re.writelen=He,re.writecb=ye,re.writing=!0,re.sync=!0,$._write(W,he,re.onwrite),re.sync=!1),Te&&!re.errored&&!re.destroyed}function ce($,re,W,he,ye,He,Te){re.writelen=he,re.writecb=Te,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):W?$._writev(ye,re.onwrite):$._write(ye,He,re.onwrite),re.sync=!1}function Le($,re,W,he){--re.pendingcb,he(W),H(re),q($,W)}function k($,re){const W=$._writableState,he=W.sync,ye=W.writecb;if(typeof ye!="function"){q($,new A);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,re?(re.stack,W.errored||(W.errored=re),$._readableState&&!$._readableState.errored&&($._readableState.errored=re),he?t.nextTick(Le,$,W,re,ye):Le($,W,re,ye)):(W.buffered.length>W.bufferedIndex&&J($,W),he?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===ye?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:ye,stream:$,state:W},t.nextTick(ne,W.afterWriteTickInfo)):me($,W,1,ye))}function ne({stream:$,state:re,count:W,cb:he}){return re.afterWriteTickInfo=null,me($,re,W,he)}function me($,re,W,he){for(!re.ending&&!$.destroyed&&re.length===0&&re.needDrain&&(re.needDrain=!1,$.emit("drain"));W-- >0;)re.pendingcb--,he();re.destroyed&&H(re),Re($,re)}function H($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var re;const{chunk:He,callback:Te}=$.buffered[ye],Ne=$.objectMode?1:He.length;$.length-=Ne,Te((re=$.errored)!==null&&re!==void 0?re:new M("write"))}const W=$[fe].splice(0);for(let ye=0;ye<W.length;ye++){var he;W[ye]((he=$.errored)!==null&&he!==void 0?he:new M("end"))}oe($)}function J($,re){if(re.corked||re.bufferProcessing||re.destroyed||!re.constructed)return;const{buffered:W,bufferedIndex:he,objectMode:ye}=re,He=W.length-he;if(!He)return;let Te=he;if(re.bufferProcessing=!0,He>1&&$._writev){re.pendingcb-=He-1;const Ne=re.allNoop?Z:nt=>{for(let gt=Te;gt<W.length;++gt)W[gt].callback(nt)},tt=re.allNoop&&Te===0?W:e(W,Te);tt.allBuffers=re.allBuffers,ce($,re,!0,re.length,tt,"",Ne),oe(re)}else{do{const{chunk:Ne,encoding:tt,callback:nt}=W[Te];W[Te++]=null;const gt=ye?1:Ne.length;ce($,re,!1,gt,Ne,tt,nt)}while(Te<W.length&&!re.writing);Te===W.length?oe(re):Te>256?(W.splice(0,Te),re.bufferedIndex=0):re.bufferedIndex=Te}re.bufferProcessing=!1}ge.prototype._write=function($,re,W){if(this._writev)this._writev([{chunk:$,encoding:re}],W);else throw new E("_write()")},ge.prototype._writev=null,ge.prototype.end=function($,re,W){const he=this._writableState;typeof $=="function"?(W=$,$=null,re=null):typeof re=="function"&&(W=re,re=null);let ye;if($!=null){const He=_e(this,$,re);He instanceof n&&(ye=He)}return he.corked&&(he.corked=1,this.uncork()),ye||(!he.errored&&!he.ending?(he.ending=!0,Re(this,he,!0),he.ended=!0):he.finished?ye=new D("end"):he.destroyed&&(ye=new M("end"))),typeof W=="function"&&(ye||he.finished?t.nextTick(W,ye):he[fe].push(W)),this};function pe($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Ae($,re){let W=!1;function he(ye){if(W){q($,ye??A());return}if(W=!0,re.pendingcb--,ye){const He=re[fe].splice(0);for(let Te=0;Te<He.length;Te++)He[Te](ye);q($,ye,re.sync)}else pe(re)&&(re.prefinished=!0,$.emit("prefinish"),re.pendingcb++,t.nextTick(Fe,$,re))}re.sync=!0,re.pendingcb++;try{$._final(he)}catch(ye){he(ye)}re.sync=!1}function Je($,re){!re.prefinished&&!re.finalCalled&&(typeof $._final=="function"&&!re.destroyed?(re.finalCalled=!0,Ae($,re)):(re.prefinished=!0,$.emit("prefinish")))}function Re($,re,W){pe(re)&&(Je($,re),re.pendingcb===0&&(W?(re.pendingcb++,t.nextTick((he,ye)=>{pe(ye)?Fe(he,ye):ye.pendingcb--},$,re)):pe(re)&&(re.pendingcb++,Fe($,re))))}function Fe($,re){re.pendingcb--,re.finished=!0;const W=re[fe].splice(0);for(let he=0;he<W.length;he++)W[he]();if($.emit("finish"),re.autoDestroy){const he=$._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&$.destroy()}}a(ge.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Xe=y.destroy;ge.prototype.destroy=function($,re){const W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[fe].length)&&t.nextTick(H,W),Xe.call(this,$,re),this},ge.prototype._undestroy=y.undestroy,ge.prototype._destroy=function($,re){re($)},ge.prototype[h.captureRejectionSymbol]=function($){this.destroy($)};let ie;function z(){return ie===void 0&&(ie={}),ie}return ge.fromWeb=function($,re){return z().newStreamWritableFromWritableStream($,re)},ge.toWeb=function($){return z().newWritableStreamFromStreamWritable($)},W1}var Q1,UM;function _J(){if(UM)return Q1;UM=1;const t=Zc(),e=du(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:s,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:f,isWritableStream:h}=hu(),p=El(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:_}}=Ea(),{destroyer:b}=qd(),S=uu(),x=P0(),E=QA(),{createDeferredPromise:A}=oa(),I=XU(),M=globalThis.Blob||e.Blob,D=typeof M<"u"?function(te){return te instanceof M}:function(te){return!1},j=globalThis.AbortController||$g().AbortController,{FunctionPrototypeCall:Q}=jr();class Y extends S{constructor(te){super(te),(te==null?void 0:te.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(te==null?void 0:te.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Q1=function fe(te,oe){if(l(te))return te;if(s(te))return Z({readable:te});if(o(te))return Z({writable:te});if(a(te))return Z({writable:!1,readable:!1});if(f(te))return Z({readable:x.fromWeb(te)});if(h(te))return Z({writable:E.fromWeb(te)});if(typeof te=="function"){const{value:_e,write:le,final:ce,destroy:Le}=q(te);if(i(_e))return I(Y,_e,{objectMode:!0,write:le,final:ce,destroy:Le});const k=_e==null?void 0:_e.then;if(typeof k=="function"){let ne;const me=Q(k,_e,H=>{if(H!=null)throw new _("nully","body",H)},H=>{b(ne,H)});return ne=new Y({objectMode:!0,readable:!1,write:le,final(H){ce(async()=>{try{await me,t.nextTick(H,null)}catch(J){t.nextTick(H,J)}})},destroy:Le})}throw new _("Iterable, AsyncIterable or AsyncFunction",oe,_e)}if(D(te))return fe(te.arrayBuffer());if(i(te))return I(Y,te,{objectMode:!0,writable:!1});if(f(te==null?void 0:te.readable)&&h(te==null?void 0:te.writable))return Y.fromWeb(te);if(typeof(te==null?void 0:te.writable)=="object"||typeof(te==null?void 0:te.readable)=="object"){const _e=te!=null&&te.readable?s(te==null?void 0:te.readable)?te==null?void 0:te.readable:fe(te.readable):void 0,le=te!=null&&te.writable?o(te==null?void 0:te.writable)?te==null?void 0:te.writable:fe(te.writable):void 0;return Z({readable:_e,writable:le})}const ge=te==null?void 0:te.then;if(typeof ge=="function"){let _e;return Q(ge,te,le=>{le!=null&&_e.push(le),_e.push(null)},le=>{b(_e,le)}),_e=new Y({objectMode:!0,writable:!1,read(){}})}throw new y(oe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],te)};function q(fe){let{promise:te,resolve:oe}=A();const ge=new j,_e=ge.signal;return{value:fe(async function*(){for(;;){const ce=te;te=null;const{chunk:Le,done:k,cb:ne}=await ce;if(t.nextTick(ne),k)return;if(_e.aborted)throw new m(void 0,{cause:_e.reason});({promise:te,resolve:oe}=A()),yield Le}}(),{signal:_e}),write(ce,Le,k){const ne=oe;oe=null,ne({chunk:ce,done:!1,cb:k})},final(ce){const Le=oe;oe=null,Le({done:!0,cb:ce})},destroy(ce,Le){ge.abort(),Le(ce)}}}function Z(fe){const te=fe.readable&&typeof fe.readable.read!="function"?x.wrap(fe.readable):fe.readable,oe=fe.writable;let ge=!!n(te),_e=!!r(oe),le,ce,Le,k,ne;function me(H){const J=k;k=null,J?J(H):H&&ne.destroy(H)}return ne=new Y({readableObjectMode:!!(te!=null&&te.readableObjectMode),writableObjectMode:!!(oe!=null&&oe.writableObjectMode),readable:ge,writable:_e}),_e&&(p(oe,H=>{_e=!1,H&&b(te,H),me(H)}),ne._write=function(H,J,pe){oe.write(H,J)?pe():le=pe},ne._final=function(H){oe.end(),ce=H},oe.on("drain",function(){if(le){const H=le;le=null,H()}}),oe.on("finish",function(){if(ce){const H=ce;ce=null,H()}})),ge&&(p(te,H=>{ge=!1,H&&b(te,H),me(H)}),te.on("readable",function(){if(Le){const H=Le;Le=null,H()}}),te.on("end",function(){ne.push(null)}),ne._read=function(){for(;;){const H=te.read();if(H===null){Le=ne._read;return}if(!ne.push(H))return}}),ne._destroy=function(H,J){!H&&k!==null&&(H=new m),Le=null,le=null,ce=null,k===null?J(H):(k=J,b(oe,H),b(te,H))},ne}return Q1}var Z1,BM;function uu(){if(BM)return Z1;BM=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=jr();Z1=s;const i=P0(),a=QA();r(s.prototype,i.prototype),r(s,i);{const h=n(a.prototype);for(let p=0;p<h.length;p++){const m=h[p];s.prototype[m]||(s.prototype[m]=a.prototype[m])}}function s(h){if(!(this instanceof s))return new s(h);i.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let o;function l(){return o===void 0&&(o={}),o}s.fromWeb=function(h,p){return l().newStreamDuplexFromReadableWritablePair(h,p)},s.toWeb=function(h){return l().newReadableWritablePairFromDuplex(h)};let f;return s.from=function(h){return f||(f=_J()),f(h,"body")},Z1}var J1,qM;function eB(){if(qM)return J1;qM=1;const{ObjectSetPrototypeOf:t,Symbol:e}=jr();J1=s;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Ea().codes,r=uu(),{getHighWaterMark:i}=R0();t(s.prototype,r.prototype),t(s,r);const a=e("kCallback");function s(f){if(!(this instanceof s))return new s(f);const h=f?i(this,f,"readableHighWaterMark",!0):null;h===0&&(f={...f,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:f.writableHighWaterMark||0}),r.call(this,f),this._readableState.sync=!1,this[a]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function o(f){typeof this._flush=="function"&&!this.destroyed?this._flush((h,p)=>{if(h){f?f(h):this.destroy(h);return}p!=null&&this.push(p),this.push(null),f&&f()}):(this.push(null),f&&f())}function l(){this._final!==o&&o.call(this)}return s.prototype._final=o,s.prototype._transform=function(f,h,p){throw new n("_transform()")},s.prototype._write=function(f,h,p){const m=this._readableState,y=this._writableState,_=m.length;this._transform(f,h,(b,S)=>{if(b){p(b);return}S!=null&&this.push(S),y.ended||_===m.length||m.length<m.highWaterMark?p():this[a]=p})},s.prototype._read=function(){if(this[a]){const f=this[a];this[a]=null,f()}},J1}var Y1,zM;function tB(){if(zM)return Y1;zM=1;const{ObjectSetPrototypeOf:t}=jr();Y1=n;const e=eB();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},Y1}var X1,HM;function ZA(){if(HM)return X1;HM=1;const t=Zc(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=jr(),a=El(),{once:s}=oa(),o=qd(),l=uu(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:b}=Ea(),{validateFunction:S,validateAbortSignal:x}=pm(),{isIterable:E,isReadable:A,isReadableNodeStream:I,isNodeStream:M,isTransformStream:D,isWebStream:j,isReadableStream:Q,isReadableFinished:Y}=hu(),q=globalThis.AbortController||$g().AbortController;let Z,fe,te;function oe(H,J,pe){let Ae=!1;H.on("close",()=>{Ae=!0});const Je=a(H,{readable:J,writable:pe},Re=>{Ae=!Re});return{destroy:Re=>{Ae||(Ae=!0,o.destroyer(H,Re||new y("pipe")))},cleanup:Je}}function ge(H){return S(H[H.length-1],"streams[stream.length - 1]"),H.pop()}function _e(H){if(E(H))return H;if(I(H))return le(H);throw new h("val",["Readable","Iterable","AsyncIterable"],H)}async function*le(H){fe||(fe=P0()),yield*fe.prototype[r].call(H)}async function ce(H,J,pe,{end:Ae}){let Je,Re=null;const Fe=z=>{if(z&&(Je=z),Re){const $=Re;Re=null,$()}},Xe=()=>new n((z,$)=>{Je?$(Je):Re=()=>{Je?$(Je):z()}});J.on("drain",Fe);const ie=a(J,{readable:!1},Fe);try{J.writableNeedDrain&&await Xe();for await(const z of H)J.write(z)||await Xe();Ae&&(J.end(),await Xe()),pe()}catch(z){pe(Je!==z?f(Je,z):z)}finally{ie(),J.off("drain",Fe)}}async function Le(H,J,pe,{end:Ae}){D(J)&&(J=J.writable);const Je=J.getWriter();try{for await(const Re of H)await Je.ready,Je.write(Re).catch(()=>{});await Je.ready,Ae&&await Je.close(),pe()}catch(Re){try{await Je.abort(Re),pe(Re)}catch(Fe){pe(Fe)}}}function k(...H){return ne(H,s(ge(H)))}function ne(H,J,pe){if(H.length===1&&e(H[0])&&(H=H[0]),H.length<2)throw new m("streams");const Ae=new q,Je=Ae.signal,Re=pe==null?void 0:pe.signal,Fe=[];x(Re,"options.signal");function Xe(){ye(new b)}te=te||oa().addAbortListener;let ie;Re&&(ie=te(Re,Xe));let z,$;const re=[];let W=0;function he(nt){ye(nt,--W===0)}function ye(nt,gt){var Ut;if(nt&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z=nt),!(!z&&!gt)){for(;re.length;)re.shift()(z);(Ut=ie)===null||Ut===void 0||Ut[i](),Ae.abort(),gt&&(z||Fe.forEach(Se=>Se()),t.nextTick(J,z,$))}}let He;for(let nt=0;nt<H.length;nt++){const gt=H[nt],Ut=nt<H.length-1,Se=nt>0,Be=Ut||(pe==null?void 0:pe.end)!==!1,X=nt===H.length-1;if(M(gt)){let B=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(K)};var tt=B;if(Be){const{destroy:K,cleanup:V}=oe(gt,Ut,Se);re.push(K),A(gt)&&X&&Fe.push(V)}gt.on("error",B),A(gt)&&X&&Fe.push(()=>{gt.removeListener("error",B)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Je}),!E(He))throw new p("Iterable, AsyncIterable or Stream","source",He)}else E(gt)||I(gt)||D(gt)?He=gt:He=l.from(gt);else if(typeof gt=="function"){if(D(He)){var Te;He=_e((Te=He)===null||Te===void 0?void 0:Te.readable)}else He=_e(He);if(He=gt(He,{signal:Je}),Ut){if(!E(He,!0))throw new p("AsyncIterable",`transform[${nt-1}]`,He)}else{var Ne;Z||(Z=tB());const B=new Z({objectMode:!0}),K=(Ne=He)===null||Ne===void 0?void 0:Ne.then;if(typeof K=="function")W++,K.call(He,Ze=>{$=Ze,Ze!=null&&B.write(Ze),Be&&B.end(),t.nextTick(he)},Ze=>{B.destroy(Ze),t.nextTick(he,Ze)});else if(E(He,!0))W++,ce(He,B,he,{end:Be});else if(Q(He)||D(He)){const Ze=He.readable||He;W++,ce(Ze,B,he,{end:Be})}else throw new p("AsyncIterable or Promise","destination",He);He=B;const{destroy:V,cleanup:je}=oe(He,!1,!0);re.push(V),X&&Fe.push(je)}}else if(M(gt)){if(I(He)){W+=2;const B=me(He,gt,he,{end:Be});A(gt)&&X&&Fe.push(B)}else if(D(He)||Q(He)){const B=He.readable||He;W++,ce(B,gt,he,{end:Be})}else if(E(He))W++,ce(He,gt,he,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(j(gt)){if(I(He))W++,Le(_e(He),gt,he,{end:Be});else if(Q(He)||E(He))W++,Le(He,gt,he,{end:Be});else if(D(He))W++,Le(He.readable,gt,he,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=l.from(gt)}return(Je!=null&&Je.aborted||Re!=null&&Re.aborted)&&t.nextTick(Xe),He}function me(H,J,pe,{end:Ae}){let Je=!1;if(J.on("close",()=>{Je||pe(new _)}),H.pipe(J,{end:!1}),Ae){let Fe=function(){Je=!0,J.end()};var Re=Fe;Y(H)?t.nextTick(Fe):H.once("end",Fe)}else pe();return a(H,{readable:!0,writable:!1},Fe=>{const Xe=H._readableState;Fe&&Fe.code==="ERR_STREAM_PREMATURE_CLOSE"&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?H.once("end",pe).once("error",pe):pe(Fe)}),a(J,{readable:!1,writable:!0},pe)}return X1={pipelineImpl:ne,pipeline:k},X1}var eS,VM;function nB(){if(VM)return eS;VM=1;const{pipeline:t}=ZA(),e=uu(),{destroyer:n}=qd(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:s,isTransformStream:o,isWritableStream:l,isReadableStream:f}=hu(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=Ea(),y=El();return eS=function(...b){if(b.length===0)throw new m("streams");if(b.length===1)return e.from(b[0]);const S=[...b];if(typeof b[0]=="function"&&(b[0]=e.from(b[0])),typeof b[b.length-1]=="function"){const Z=b.length-1;b[Z]=e.from(b[Z])}for(let Z=0;Z<b.length;++Z)if(!(!r(b[Z])&&!s(b[Z]))){if(Z<b.length-1&&!(i(b[Z])||f(b[Z])||o(b[Z])))throw new p(`streams[${Z}]`,S[Z],"must be readable");if(Z>0&&!(a(b[Z])||l(b[Z])||o(b[Z])))throw new p(`streams[${Z}]`,S[Z],"must be writable")}let x,E,A,I,M;function D(Z){const fe=I;I=null,fe?fe(Z):Z?M.destroy(Z):!q&&!Y&&M.destroy()}const j=b[0],Q=t(b,D),Y=!!(a(j)||l(j)||o(j)),q=!!(i(Q)||f(Q)||o(Q));if(M=new e({writableObjectMode:!!(j!=null&&j.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:Y,readable:q}),Y){if(r(j))M._write=function(fe,te,oe){j.write(fe,te)?oe():x=oe},M._final=function(fe){j.end(),E=fe},j.on("drain",function(){if(x){const fe=x;x=null,fe()}});else if(s(j)){const te=(o(j)?j.writable:j).getWriter();M._write=async function(oe,ge,_e){try{await te.ready,te.write(oe).catch(()=>{}),_e()}catch(le){_e(le)}},M._final=async function(oe){try{await te.ready,te.close().catch(()=>{}),E=oe}catch(ge){oe(ge)}}}const Z=o(Q)?Q.readable:Q;y(Z,()=>{if(E){const fe=E;E=null,fe()}})}if(q){if(r(Q))Q.on("readable",function(){if(A){const Z=A;A=null,Z()}}),Q.on("end",function(){M.push(null)}),M._read=function(){for(;;){const Z=Q.read();if(Z===null){A=M._read;return}if(!M.push(Z))return}};else if(s(Q)){const fe=(o(Q)?Q.readable:Q).getReader();M._read=async function(){for(;;)try{const{value:te,done:oe}=await fe.read();if(!M.push(te))return;if(oe){M.push(null);return}}catch{return}}}}return M._destroy=function(Z,fe){!Z&&I!==null&&(Z=new h),A=null,x=null,E=null,I===null?fe(Z):(I=fe,r(Q)&&n(Q,Z))},M},eS}var KM;function wJ(){if(KM)return Jy;KM=1;const t=globalThis.AbortController||$g().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Ea(),{validateAbortSignal:s,validateInteger:o,validateObject:l}=pm(),f=jr().Symbol("kWeak"),h=jr().Symbol("kResistStopPropagation"),{finished:p}=El(),m=nB(),{addAbortSignalNoValidate:y}=A0(),{isWritable:_,isNodeStream:b}=hu(),{deprecate:S}=oa(),{ArrayPrototypePush:x,Boolean:E,MathFloor:A,Number:I,NumberIsNaN:M,Promise:D,PromiseReject:j,PromiseResolve:Q,PromisePrototypeThen:Y,Symbol:q}=jr(),Z=q("kEmpty"),fe=q("kEof");function te(Re,Fe){if(Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal"),b(Re)&&!_(Re))throw new e("stream",Re,"must be writable");const Xe=m(this,Re);return Fe!=null&&Fe.signal&&y(Fe.signal,Xe),Xe}function oe(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal");let Xe=1;(Fe==null?void 0:Fe.concurrency)!=null&&(Xe=A(Fe.concurrency));let ie=Xe-1;return(Fe==null?void 0:Fe.highWaterMark)!=null&&(ie=A(Fe.highWaterMark)),o(Xe,"options.concurrency",1),o(ie,"options.highWaterMark",0),ie+=Xe,(async function*(){const $=oa().AbortSignalAny([Fe==null?void 0:Fe.signal].filter(E)),re=this,W=[],he={signal:$};let ye,He,Te=!1,Ne=0;function tt(){Te=!0,nt()}function nt(){Ne-=1,gt()}function gt(){He&&!Te&&Ne<Xe&&W.length<ie&&(He(),He=null)}async function Ut(){try{for await(let Se of re){if(Te)return;if($.aborted)throw new a;try{if(Se=Re(Se,he),Se===Z)continue;Se=Q(Se)}catch(Be){Se=j(Be)}Ne+=1,Y(Se,nt,tt),W.push(Se),ye&&(ye(),ye=null),!Te&&(W.length>=ie||Ne>=Xe)&&await new D(Be=>{He=Be})}W.push(fe)}catch(Se){const Be=j(Se);Y(Be,nt,tt),W.push(Be)}finally{Te=!0,ye&&(ye(),ye=null)}}Ut();try{for(;;){for(;W.length>0;){const Se=await W[0];if(Se===fe)return;if($.aborted)throw new a;Se!==Z&&(yield Se),W.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Te=!0,He&&(He(),He=null)}}).call(this)}function ge(Re=void 0){return Re!=null&&l(Re,"options"),(Re==null?void 0:Re.signal)!=null&&s(Re.signal,"options.signal"),(async function*(){let Xe=0;for await(const z of this){var ie;if(Re!=null&&(ie=Re.signal)!==null&&ie!==void 0&&ie.aborted)throw new a({cause:Re.signal.reason});yield[Xe++,z]}}).call(this)}async function _e(Re,Fe=void 0){for await(const Xe of k.call(this,Re,Fe))return!0;return!1}async function le(Re,Fe=void 0){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);return!await _e.call(this,async(...Xe)=>!await Re(...Xe),Fe)}async function ce(Re,Fe){for await(const Xe of k.call(this,Re,Fe))return Xe}async function Le(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(ie,z){return await Re(ie,z),Z}for await(const ie of oe.call(this,Xe,Fe));}function k(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(ie,z){return await Re(ie,z)?ie:Z}return oe.call(this,Xe,Fe)}class ne extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function me(Re,Fe,Xe){var ie;if(typeof Re!="function")throw new n("reducer",["Function","AsyncFunction"],Re);Xe!=null&&l(Xe,"options"),(Xe==null?void 0:Xe.signal)!=null&&s(Xe.signal,"options.signal");let z=arguments.length>1;if(Xe!=null&&(ie=Xe.signal)!==null&&ie!==void 0&&ie.aborted){const ye=new a(void 0,{cause:Xe.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(ye)),ye}const $=new t,re=$.signal;if(Xe!=null&&Xe.signal){const ye={once:!0,[f]:this,[h]:!0};Xe.signal.addEventListener("abort",()=>$.abort(),ye)}let W=!1;try{for await(const ye of this){var he;if(W=!0,Xe!=null&&(he=Xe.signal)!==null&&he!==void 0&&he.aborted)throw new a;z?Fe=await Re(Fe,ye,{signal:re}):(Fe=ye,z=!0)}if(!W&&!z)throw new ne}finally{$.abort()}return Fe}async function H(Re){Re!=null&&l(Re,"options"),(Re==null?void 0:Re.signal)!=null&&s(Re.signal,"options.signal");const Fe=[];for await(const ie of this){var Xe;if(Re!=null&&(Xe=Re.signal)!==null&&Xe!==void 0&&Xe.aborted)throw new a(void 0,{cause:Re.signal.reason});x(Fe,ie)}return Fe}function J(Re,Fe){const Xe=oe.call(this,Re,Fe);return(async function*(){for await(const z of Xe)yield*z}).call(this)}function pe(Re){if(Re=I(Re),M(Re))return 0;if(Re<0)throw new i("number",">= 0",Re);return Re}function Ae(Re,Fe=void 0){return Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal"),Re=pe(Re),(async function*(){var ie;if(Fe!=null&&(ie=Fe.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;Re--<=0&&(yield $)}}).call(this)}function Je(Re,Fe=void 0){return Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal"),Re=pe(Re),(async function*(){var ie;if(Fe!=null&&(ie=Fe.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;if(Re-- >0&&(yield $),Re<=0)return}}).call(this)}return Jy.streamReturningOperators={asIndexedPairs:S(ge,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:k,flatMap:J,map:oe,take:Je,compose:te},Jy.promiseReturningOperators={every:le,forEach:Le,reduce:me,toArray:H,some:_e,find:ce},Jy}var tS,GM;function rB(){if(GM)return tS;GM=1;const{ArrayPrototypePop:t,Promise:e}=jr(),{isIterable:n,isNodeStream:r,isWebStream:i}=hu(),{pipelineImpl:a}=ZA(),{finished:s}=El();iB();function o(...l){return new e((f,h)=>{let p,m;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const _=t(l);p=_.signal,m=_.end}a(l,(_,b)=>{_?h(_):f(b)},{signal:p,end:m})})}return tS={finished:s,pipeline:o},tS}var WM;function iB(){if(WM)return I1.exports;WM=1;const{Buffer:t}=du(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=jr(),{promisify:{custom:i}}=oa(),{streamReturningOperators:a,promiseReturningOperators:s}=wJ(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=Ea(),l=nB(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=R0(),{pipeline:p}=ZA(),{destroyer:m}=qd(),y=El(),_=rB(),b=hu(),S=I1.exports=WA().Stream;S.isDestroyed=b.isDestroyed,S.isDisturbed=b.isDisturbed,S.isErrored=b.isErrored,S.isReadable=b.isReadable,S.isWritable=b.isWritable,S.Readable=P0();for(const A of n(a)){let M=function(...D){if(new.target)throw o();return S.Readable.from(r(I,this,D))};var E=M;const I=a[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(S.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(s)){let M=function(...j){if(new.target)throw o();return r(I,this,j)};var E=M;const I=s[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(S.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}S.Writable=QA(),S.Duplex=uu(),S.Transform=eB(),S.PassThrough=tB(),S.pipeline=p;const{addAbortSignal:x}=A0();return S.addAbortSignal=x,S.finished=y,S.destroy=m,S.compose=l,S.setDefaultHighWaterMark=f,S.getDefaultHighWaterMark=h,e(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),e(p,i,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),e(y,i,{__proto__:null,enumerable:!0,get(){return _.finished}}),S.Stream=S,S._isUint8Array=function(I){return I instanceof Uint8Array},S._uint8ArrayToBuffer=function(I){return t.from(I.buffer,I.byteOffset,I.byteLength)},I1.exports}var QM;function aB(){return QM||(QM=1,function(t){const e=iB(),n=rB(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(L1)),L1.exports}var zd=aB();let ho=class{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||wl,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,i=e.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Cc(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(Td(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ra(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Td(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:ra(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,n,r,i){const a=e[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,s,o,l){let f,h,p;const m=this._entities,y=this._termFromId(l,this._factory),_={subject:null,predicate:null,object:null};n&&((f=e,e={})[n]=f[n]);for(const b in e)if(h=e[b]){_[a]=this._termFromId(m[b],this._factory),r&&((f=h,h={})[r]=f[r]);for(const S in h)if(p=h[S]){_[s]=this._termFromId(m[S],this._factory);const x=i?i in p?[i]:[]:Object.keys(p);for(let E=0;E<x.length;E++)_[o]=this._termFromId(m[x[E]],this._factory),yield this._factory.quad(_.subject,_.predicate,_.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,s,o;if((a=e[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(e,n,r,i){let a=0,s,o,l;n&&((s=e,e={})[n]=s[n]);for(const f in e)if(o=e[f]){r&&((s=o,o={})[r]=s[r]);for(const h in o)(l=o[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){if(!bJ(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ra(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const s=this._addToIndex(a.subjects,e,n,r);return this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,s}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ra(i);const a=this._graphs;let s,o,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[e])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,n,r),this._removeFromIndex(s.predicates,n,r,e),this._removeFromIndex(s.objects,r,e,n),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new zd.Readable({objectMode:!0});return a._read=()=>{for(const s of this.readQuads(e,n,r,i))a.push(s);a.push(null)},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l,f;if(!(e&&!(o=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const h in a)(s=a[h])&&(o?f?yield*this._findInIndex(s.objects,f,o,l,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(s.predicates,l,f,null,"predicate","object","subject",h):f?yield*this._findInIndex(s.objects,f,null,null,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new SJ(this,e,n,r,i)}countQuads(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s=0,o,l,f,h;if(e&&!(l=this._termToNumericId(e))||n&&!(f=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(o=a[p])&&(e?r?s+=this._countInIndex(o.objects,h,l,f):s+=this._countInIndex(o.subjects,l,f,h):n?s+=this._countInIndex(o.predicates,f,h,l):s+=this._countInIndex(o.objects,h,l,f));return s}forEach(e,n,r,i,a){this.some(s=>(e(s),!1),n,r,i,a)}every(e,n,r,i,a){let s=!1;const o=!this.some(l=>(s=!0,!e(l)),n,r,i,a);return s&&o}some(e,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(e(s))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,e):this._loopByKey1(s.subjects,o,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,e):this._loopByKey0(s.subjects,o,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,e):this._loopByKey1(s.objects,o,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(s=>(e(s.graph),!0),n,r,i,a)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,ji.rdf.rest,ji.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{const l=[];let f=!1,h,p;const m=o.graph;let y=o.subject;for(;y&&!f;){const _=this.getQuads(null,null,y,null),b=this.getQuads(y,null,null,null);let S,x=null,E=null,A=null;for(let I=0;I<b.length&&!f;I++)S=b[I],S.graph.equals(m)?h?f=i(y,"has non-list arcs out"):S.predicate.value===ji.rdf.first?x?f=i(y,"has multiple rdf:first arcs"):s.push(x=S):S.predicate.value===ji.rdf.rest?E?f=i(y,"has multiple rdf:rest arcs"):s.push(E=S):_.length?f=i(y,"can't be subject and object"):(h=S,p="subject"):f=i(y,"not confined to single graph");for(let I=0;I<_.length&&!f;++I)S=_[I],h?f=i(y,"can't have coreferences"):S.predicate.value===ji.rdf.rest?A?f=i(y,"has incoming rdf:rest arcs"):A=S:(h=S,p="object");x?l.unshift(x.object):f=i(y,"has no list head"),y=A&&A.subject}f?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(s),r}*[Symbol.iterator](){yield*this.readQuads()}};function bJ(t){return typeof t=="string"||t instanceof String}let SJ=class sB extends zd.Readable{constructor(e,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new ho({factory:e._factory});for(const o of e.readQuads(a,i,r,n))s.addQuad(o)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new sB(this.filtered,e,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class oB extends zd.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Bd(e);let r,i;n.parse({on:(a,s)=>{switch(a){case"data":r=s;break;case"end":i=s;break}}},(a,s)=>{a&&this.emit("error",a)||s&&this.push(s)},(a,s)=>{this.emit("prefix",a,s)}),this._transform=(a,s,o)=>{r(a),o()},this._flush=a=>{i(),a()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class uB extends zd.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new C0({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const xJ={Lexer:HA,Parser:Bd,Writer:C0,Store:ho,StreamParser:oB,StreamWriter:uB,Util:QU,DataFactory:wl,Term:go,NamedNode:Hr,Literal:rd,BlankNode:VA,Variable:KA,DefaultGraph:GA,Quad:As,Triple:As,termFromId:Cc,termToId:ra},EJ=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:VA,DataFactory:wl,DefaultGraph:GA,Lexer:HA,Literal:rd,NamedNode:Hr,Parser:Bd,Quad:As,Store:ho,StreamParser:oB,StreamWriter:uB,Term:go,Triple:As,Util:QU,Variable:KA,Writer:C0,default:xJ,termFromId:Cc,termToId:ra},Symbol.toStringTag,{value:"Module"}));var TJ="http://www.w3.org/ns/auth/acl#Access",CJ="http://www.w3.org/ns/auth/acl#Append",AJ="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",RJ="http://www.w3.org/ns/auth/acl#Authorization",PJ="http://www.w3.org/ns/auth/acl#Control",OJ="http://www.w3.org/ns/auth/acl#Origin",LJ="http://www.w3.org/ns/auth/acl#Read",IJ="http://www.w3.org/ns/auth/acl#Write",MJ="http://www.w3.org/ns/auth/acl#accessControl",DJ="http://www.w3.org/ns/auth/acl#accessTo",kJ="http://www.w3.org/ns/auth/acl#accessToClass",NJ="http://www.w3.org/ns/auth/acl#agent",FJ="http://www.w3.org/ns/auth/acl#agentClass",jJ="http://www.w3.org/ns/auth/acl#agentGroup",$J="http://www.w3.org/ns/auth/acl#default",UJ="http://www.w3.org/ns/auth/acl#defaultForNew",BJ="http://www.w3.org/ns/auth/acl#delegates",qJ="http://www.w3.org/ns/auth/acl#mode",zJ="http://www.w3.org/ns/auth/acl#origin",HJ="http://www.w3.org/ns/auth/acl#owner",VJ=Object.freeze({Access:TJ,Append:CJ,AuthenticatedAgent:AJ,Authorization:RJ,Control:PJ,Origin:OJ,Read:LJ,Write:IJ,accessControl:MJ,accessTo:DJ,accessToClass:kJ,agent:NJ,agentClass:FJ,agentGroup:jJ,default__workaround:$J,defaultForNew:UJ,delegates:BJ,mode:qJ,origin:zJ,owner:HJ}),KJ="http://www.w3.org/ns/activitystreams#actor",GJ="http://www.w3.org/ns/activitystreams#attributedTo",WJ="http://www.w3.org/ns/activitystreams#attachment",QJ="http://www.w3.org/ns/activitystreams#attachments",ZJ="http://www.w3.org/ns/activitystreams#author",JJ="http://www.w3.org/ns/activitystreams#bcc",YJ="http://www.w3.org/ns/activitystreams#bto",XJ="http://www.w3.org/ns/activitystreams#cc",eY="http://www.w3.org/ns/activitystreams#context",tY="http://www.w3.org/ns/activitystreams#generator",nY="http://www.w3.org/ns/activitystreams#icon",rY="http://www.w3.org/ns/activitystreams#image",iY="http://www.w3.org/ns/activitystreams#inReplyTo",aY="http://www.w3.org/ns/activitystreams#items",sY="http://www.w3.org/ns/activitystreams#location",oY="http://www.w3.org/ns/activitystreams#object",uY="http://www.w3.org/ns/activitystreams#oneOf",lY="http://www.w3.org/ns/activitystreams#anyOf",cY="http://www.w3.org/ns/activitystreams#preview",fY="http://www.w3.org/ns/activitystreams#provider",dY="http://www.w3.org/ns/activitystreams#replies",hY="http://www.w3.org/ns/activitystreams#result",pY="http://www.w3.org/ns/activitystreams#audience",gY="http://www.w3.org/ns/activitystreams#tag",mY="http://www.w3.org/ns/activitystreams#tags",yY="http://www.w3.org/ns/activitystreams#target",vY="http://www.w3.org/ns/activitystreams#origin",_Y="http://www.w3.org/ns/activitystreams#instrument",wY="http://www.w3.org/ns/activitystreams#to",bY="http://www.w3.org/ns/activitystreams#url",SY="http://www.w3.org/ns/activitystreams#relationship",xY="http://www.w3.org/ns/activitystreams#describes",EY="http://www.w3.org/ns/activitystreams#formerType",TY="http://www.w3.org/ns/activitystreams#accuracy",CY="http://www.w3.org/ns/activitystreams#altitude",AY="http://www.w3.org/ns/activitystreams#content",RY="http://www.w3.org/ns/activitystreams#name",PY="http://www.w3.org/ns/activitystreams#downstreamDuplicates",OY="http://www.w3.org/ns/activitystreams#duration",LY="http://www.w3.org/ns/activitystreams#endTime",IY="http://www.w3.org/ns/activitystreams#height",MY="http://www.w3.org/ns/activitystreams#href",DY="http://www.w3.org/ns/activitystreams#hreflang",kY="http://www.w3.org/ns/activitystreams#id",NY="http://www.w3.org/ns/activitystreams#latitude",FY="http://www.w3.org/ns/activitystreams#longitude",jY="http://www.w3.org/ns/activitystreams#mediaType",$Y="http://www.w3.org/ns/activitystreams#objectType",UY="http://www.w3.org/ns/activitystreams#published",BY="http://www.w3.org/ns/activitystreams#radius",qY="http://www.w3.org/ns/activitystreams#rating",zY="http://www.w3.org/ns/activitystreams#rel",HY="http://www.w3.org/ns/activitystreams#startIndex",VY="http://www.w3.org/ns/activitystreams#startTime",KY="http://www.w3.org/ns/activitystreams#summary",GY="http://www.w3.org/ns/activitystreams#totalItems",WY="http://www.w3.org/ns/activitystreams#units",QY="http://www.w3.org/ns/activitystreams#updated",ZY="http://www.w3.org/ns/activitystreams#upstreamDuplicates",JY="http://www.w3.org/ns/activitystreams#verb",YY="http://www.w3.org/ns/activitystreams#width",XY="http://www.w3.org/ns/activitystreams#deleted",eX="http://www.w3.org/ns/activitystreams#Accept",tX="http://www.w3.org/ns/activitystreams#Activity",nX="http://www.w3.org/ns/activitystreams#Block",rX="http://www.w3.org/ns/activitystreams#IntransitiveActivity",iX="http://www.w3.org/ns/activitystreams#Add",aX="http://www.w3.org/ns/activitystreams#Announce",sX="http://www.w3.org/ns/activitystreams#Application",oX="http://www.w3.org/ns/activitystreams#Arrive",uX="http://www.w3.org/ns/activitystreams#Article",lX="http://www.w3.org/ns/activitystreams#Audio",cX="http://www.w3.org/ns/activitystreams#Collection",fX="http://www.w3.org/ns/activitystreams#CollectionPage",dX="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",hX="http://www.w3.org/ns/activitystreams#Relationship",pX="http://www.w3.org/ns/activitystreams#Create",gX="http://www.w3.org/ns/activitystreams#Delete",mX="http://www.w3.org/ns/activitystreams#Dislike",yX="http://www.w3.org/ns/activitystreams#Document",vX="http://www.w3.org/ns/activitystreams#Event",_X="http://www.w3.org/ns/activitystreams#Flag",wX="http://www.w3.org/ns/activitystreams#Follow",bX="http://www.w3.org/ns/activitystreams#Group",SX="http://www.w3.org/ns/activitystreams#Ignore",xX="http://www.w3.org/ns/activitystreams#Image",EX="http://www.w3.org/ns/activitystreams#Invite",TX="http://www.w3.org/ns/activitystreams#Join",CX="http://www.w3.org/ns/activitystreams#Leave",AX="http://www.w3.org/ns/activitystreams#Like",RX="http://www.w3.org/ns/activitystreams#View",PX="http://www.w3.org/ns/activitystreams#Listen",OX="http://www.w3.org/ns/activitystreams#Read",LX="http://www.w3.org/ns/activitystreams#Move",IX="http://www.w3.org/ns/activitystreams#Travel",MX="http://www.w3.org/ns/activitystreams#Link",DX="http://www.w3.org/ns/activitystreams#Mention",kX="http://www.w3.org/ns/activitystreams#Note",NX="http://www.w3.org/ns/activitystreams#Object",FX="http://www.w3.org/ns/activitystreams#Offer",jX="http://www.w3.org/ns/activitystreams#OrderedCollection",$X="http://www.w3.org/ns/activitystreams#OrderedItems",UX="http://www.w3.org/ns/activitystreams#Page",BX="http://www.w3.org/ns/activitystreams#Person",qX="http://www.w3.org/ns/activitystreams#Organization",zX="http://www.w3.org/ns/activitystreams#Profile",HX="http://www.w3.org/ns/activitystreams#Place",VX="http://www.w3.org/ns/activitystreams#Question",KX="http://www.w3.org/ns/activitystreams#Reject",GX="http://www.w3.org/ns/activitystreams#Remove",WX="http://www.w3.org/ns/activitystreams#Service",QX="http://www.w3.org/ns/activitystreams#TentativeAccept",ZX="http://www.w3.org/ns/activitystreams#TentativeReject",JX="http://www.w3.org/ns/activitystreams#Tombstone",YX="http://www.w3.org/ns/activitystreams#Undo",XX="http://www.w3.org/ns/activitystreams#Update",eee="http://www.w3.org/ns/activitystreams#Video",tee=Object.freeze({actor:KJ,attributedTo:GJ,attachment:WJ,attachments:QJ,author:ZJ,bcc:JJ,bto:YJ,cc:XJ,context:eY,generator:tY,icon:nY,image:rY,inReplyTo:iY,items:aY,location:sY,object:oY,oneOf:uY,anyOf:lY,preview:cY,provider:fY,replies:dY,result:hY,audience:pY,tag:gY,tags:mY,target:yY,origin:vY,instrument:_Y,to:wY,url:bY,relationship:SY,describes:xY,formerType:EY,accuracy:TY,altitude:CY,content:AY,name:RY,downstreamDuplicates:PY,duration:OY,endTime:LY,height:IY,href:MY,hreflang:DY,id:kY,latitude:NY,longitude:FY,mediaType:jY,objectType:$Y,published:UY,radius:BY,rating:qY,rel:zY,startIndex:HY,startTime:VY,summary:KY,totalItems:GY,units:WY,updated:QY,upstreamDuplicates:ZY,verb:JY,width:YY,deleted:XY,Accept:eX,Activity:tX,Block:nX,IntransitiveActivity:rX,Add:iX,Announce:aX,Application:sX,Arrive:oX,Article:uX,Audio:lX,Collection:cX,CollectionPage:fX,OrderedCollectionPage:dX,Relationship:hX,Create:pX,Delete:gX,Dislike:mX,Document:yX,Event:vX,Flag:_X,Follow:wX,Group:bX,Ignore:SX,Image:xX,Invite:EX,Join:TX,Leave:CX,Like:AX,View:RX,Listen:PX,Read:OX,Move:LX,Travel:IX,Link:MX,Mention:DX,Note:kX,Object__workaround:NX,Offer:FX,OrderedCollection:jX,OrderedItems:$X,Page:UX,Person:BX,Organization:qX,Profile:zX,Place:HX,Question:VX,Reject:KX,Remove:GX,Service:WX,TentativeAccept:QX,TentativeReject:ZX,Tombstone:JX,Undo:YX,Update:XX,Video:eee}),nee="http://purl.org/dc/terms/AgentClass",ree="http://purl.org/dc/terms/BibliographicResource",iee="http://purl.org/dc/terms/Box",aee="http://purl.org/dc/terms/FileFormat",see="http://purl.org/dc/terms/Frequency",oee="http://purl.org/dc/terms/ISO3166",uee="http://purl.org/dc/terms/Jurisdiction",lee="http://purl.org/dc/terms/LicenseDocument",cee="http://purl.org/dc/terms/LinguisticSystem",fee="http://purl.org/dc/terms/Location",dee="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",hee="http://purl.org/dc/terms/MediaType",pee="http://purl.org/dc/terms/MediaTypeOrExtent",gee="http://purl.org/dc/terms/MethodOfAccrual",mee="http://purl.org/dc/terms/MethodOfInstruction",yee="http://purl.org/dc/terms/Period",vee="http://purl.org/dc/terms/PeriodOfTime",_ee="http://purl.org/dc/terms/PhysicalMedium",wee="http://purl.org/dc/terms/PhysicalResource",bee="http://purl.org/dc/terms/Point",See="http://purl.org/dc/terms/Policy",xee="http://purl.org/dc/terms/ProvenanceStatement",Eee="http://purl.org/dc/terms/RFC1766",Tee="http://purl.org/dc/terms/RFC3066",Cee="http://purl.org/dc/terms/RFC4646",Aee="http://purl.org/dc/terms/RFC5646",Ree="http://purl.org/dc/terms/RightsStatement",Pee="http://purl.org/dc/terms/SizeOrDuration",Oee="http://purl.org/dc/terms/Standard",Lee="http://purl.org/dc/terms/URI",Iee="http://purl.org/dc/terms/W3CDTF",Mee="http://purl.org/dc/terms/abstract",Dee="http://purl.org/dc/terms/accessRights",kee="http://purl.org/dc/terms/accrualMethod",Nee="http://purl.org/dc/terms/accrualPeriodicity",Fee="http://purl.org/dc/terms/accrualPolicy",jee="http://purl.org/dc/terms/alternative",$ee="http://purl.org/dc/terms/audience",Uee="http://purl.org/dc/terms/available",Bee="http://purl.org/dc/terms/bibliographicCitation",qee="http://purl.org/dc/terms/conformsTo",zee="http://purl.org/dc/terms/contributor",Hee="http://purl.org/dc/terms/coverage",Vee="http://purl.org/dc/terms/created",Kee="http://purl.org/dc/terms/creator",Gee="http://purl.org/dc/terms/date",Wee="http://purl.org/dc/terms/dateAccepted",Qee="http://purl.org/dc/terms/dateCopyrighted",Zee="http://purl.org/dc/terms/dateSubmitted",Jee="http://purl.org/dc/terms/description",Yee="http://purl.org/dc/terms/educationLevel",Xee="http://purl.org/dc/terms/extent",ete="http://purl.org/dc/terms/format",tte="http://purl.org/dc/terms/hasFormat",nte="http://purl.org/dc/terms/hasPart",rte="http://purl.org/dc/terms/hasVersion",ite="http://purl.org/dc/terms/identifier",ate="http://purl.org/dc/terms/instructionalMethod",ste="http://purl.org/dc/terms/isFormatOf",ote="http://purl.org/dc/terms/isPartOf",ute="http://purl.org/dc/terms/isReferencedBy",lte="http://purl.org/dc/terms/isReplacedBy",cte="http://purl.org/dc/terms/isRequiredBy",fte="http://purl.org/dc/terms/isVersionOf",dte="http://purl.org/dc/terms/issued",hte="http://purl.org/dc/terms/language",pte="http://purl.org/dc/terms/license",gte="http://purl.org/dc/terms/mediator",mte="http://purl.org/dc/terms/medium",yte="http://purl.org/dc/terms/modified",vte="http://purl.org/dc/terms/provenance",_te="http://purl.org/dc/terms/publisher",wte="http://purl.org/dc/terms/references",bte="http://purl.org/dc/terms/relation",Ste="http://purl.org/dc/terms/replaces",xte="http://purl.org/dc/terms/requires",Ete="http://purl.org/dc/terms/rights",Tte="http://purl.org/dc/terms/rightsHolder",Cte="http://purl.org/dc/terms/source",Ate="http://purl.org/dc/terms/spatial",Rte="http://purl.org/dc/terms/subject",Pte="http://purl.org/dc/terms/tableOfContents",Ote="http://purl.org/dc/terms/temporal",Lte="http://purl.org/dc/terms/title",Ite="http://purl.org/dc/terms/type",Mte="http://purl.org/dc/terms/valid",Dte=Object.freeze({AgentClass:nee,BibliographicResource:ree,Box:iee,FileFormat:aee,Frequency:see,ISO3166:oee,Jurisdiction:uee,LicenseDocument:lee,LinguisticSystem:cee,Location:fee,LocationPeriodOrJurisdiction:dee,MediaType:hee,MediaTypeOrExtent:pee,MethodOfAccrual:gee,MethodOfInstruction:mee,Period:yee,PeriodOfTime:vee,PhysicalMedium:_ee,PhysicalResource:wee,Point:bee,Policy:See,ProvenanceStatement:xee,RFC1766:Eee,RFC3066:Tee,RFC4646:Cee,RFC5646:Aee,RightsStatement:Ree,SizeOrDuration:Pee,Standard:Oee,URI:Lee,W3CDTF:Iee,abstract:Mee,accessRights:Dee,accrualMethod:kee,accrualPeriodicity:Nee,accrualPolicy:Fee,alternative:jee,audience:$ee,available:Uee,bibliographicCitation:Bee,conformsTo:qee,contributor:zee,coverage:Hee,created:Vee,creator:Kee,date:Gee,dateAccepted:Wee,dateCopyrighted:Qee,dateSubmitted:Zee,description:Jee,educationLevel:Yee,extent:Xee,format:ete,hasFormat:tte,hasPart:nte,hasVersion:rte,identifier:ite,instructionalMethod:ate,isFormatOf:ste,isPartOf:ote,isReferencedBy:ute,isReplacedBy:lte,isRequiredBy:cte,isVersionOf:fte,issued:dte,language:hte,license:pte,mediator:gte,medium:mte,modified:yte,provenance:vte,publisher:_te,references:wte,relation:bte,replaces:Ste,requires:xte,rights:Ete,rightsHolder:Tte,source:Cte,spatial:Ate,subject:Rte,tableOfContents:Pte,temporal:Ote,title:Lte,type:Ite,valid:Mte}),kte="http://xmlns.com/foaf/0.1/Person",Nte="http://xmlns.com/foaf/0.1/Document",Fte="http://xmlns.com/foaf/0.1/Organization",jte="http://xmlns.com/foaf/0.1/Group",$te="http://xmlns.com/foaf/0.1/Agent",Ute="http://xmlns.com/foaf/0.1/Project",Bte="http://xmlns.com/foaf/0.1/Image",qte="http://xmlns.com/foaf/0.1/PersonalProfileDocument",zte="http://xmlns.com/foaf/0.1/OnlineAccount",Hte="http://xmlns.com/foaf/0.1/OnlineGamingAccount",Vte="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Kte="http://xmlns.com/foaf/0.1/OnlineChatAccount",Gte="http://xmlns.com/foaf/0.1/mbox",Wte="http://xmlns.com/foaf/0.1/mbox_sha1sum",Qte="http://xmlns.com/foaf/0.1/gender",Zte="http://xmlns.com/foaf/0.1/geekcode",Jte="http://xmlns.com/foaf/0.1/dnaChecksum",Yte="http://xmlns.com/foaf/0.1/sha1",Xte="http://xmlns.com/foaf/0.1/based_near",ene="http://xmlns.com/foaf/0.1/title",tne="http://xmlns.com/foaf/0.1/nick",nne="http://xmlns.com/foaf/0.1/jabberID",rne="http://xmlns.com/foaf/0.1/aimChatID",ine="http://xmlns.com/foaf/0.1/icqChatID",ane="http://xmlns.com/foaf/0.1/yahooChatID",sne="http://xmlns.com/foaf/0.1/msnChatID",one="http://xmlns.com/foaf/0.1/name",une="http://xmlns.com/foaf/0.1/firstName",lne="http://xmlns.com/foaf/0.1/givenname",cne="http://xmlns.com/foaf/0.1/surname",fne="http://xmlns.com/foaf/0.1/family_name",dne="http://xmlns.com/foaf/0.1/phone",hne="http://xmlns.com/foaf/0.1/homepage",pne="http://xmlns.com/foaf/0.1/weblog",gne="http://xmlns.com/foaf/0.1/tipjar",mne="http://xmlns.com/foaf/0.1/plan",yne="http://xmlns.com/foaf/0.1/made",vne="http://xmlns.com/foaf/0.1/maker",_ne="http://xmlns.com/foaf/0.1/img",wne="http://xmlns.com/foaf/0.1/depiction",bne="http://xmlns.com/foaf/0.1/depicts",Sne="http://xmlns.com/foaf/0.1/thumbnail",xne="http://xmlns.com/foaf/0.1/myersBriggs",Ene="http://xmlns.com/foaf/0.1/workplaceHomepage",Tne="http://xmlns.com/foaf/0.1/workInfoHomepage",Cne="http://xmlns.com/foaf/0.1/schoolHomepage",Ane="http://xmlns.com/foaf/0.1/knows",Rne="http://xmlns.com/foaf/0.1/interest",Pne="http://xmlns.com/foaf/0.1/topic_interest",One="http://xmlns.com/foaf/0.1/publications",Lne="http://xmlns.com/foaf/0.1/currentProject",Ine="http://xmlns.com/foaf/0.1/pastProject",Mne="http://xmlns.com/foaf/0.1/fundedBy",Dne="http://xmlns.com/foaf/0.1/logo",kne="http://xmlns.com/foaf/0.1/topic",Nne="http://xmlns.com/foaf/0.1/primaryTopic",Fne="http://xmlns.com/foaf/0.1/page",jne="http://xmlns.com/foaf/0.1/theme",$ne="http://xmlns.com/foaf/0.1/holdsAccount",Une="http://xmlns.com/foaf/0.1/accountServiceHomepage",Bne="http://xmlns.com/foaf/0.1/accountName",qne="http://xmlns.com/foaf/0.1/member",zne="http://xmlns.com/foaf/0.1/membershipClass",Hne=Object.freeze({Person:kte,Document:Nte,Organization:Fte,Group:jte,Agent:$te,Project:Ute,Image:Bte,PersonalProfileDocument:qte,OnlineAccount:zte,OnlineGamingAccount:Hte,OnlineEcommerceAccount:Vte,OnlineChatAccount:Kte,mbox:Gte,mbox_sha1sum:Wte,gender:Qte,geekcode:Zte,dnaChecksum:Jte,sha1:Yte,based_near:Xte,title:ene,nick:tne,jabberID:nne,aimChatID:rne,icqChatID:ine,yahooChatID:ane,msnChatID:sne,name:one,firstName:une,givenname:lne,surname:cne,family_name:fne,phone:dne,homepage:hne,weblog:pne,tipjar:gne,plan:mne,made:yne,maker:vne,img:_ne,depiction:wne,depicts:bne,thumbnail:Sne,myersBriggs:xne,workplaceHomepage:Ene,workInfoHomepage:Tne,schoolHomepage:Cne,knows:Ane,interest:Rne,topic_interest:Pne,publications:One,currentProject:Lne,pastProject:Ine,fundedBy:Mne,logo:Dne,topic:kne,primaryTopic:Nne,page:Fne,theme:jne,holdsAccount:$ne,accountServiceHomepage:Une,accountName:Bne,member:qne,membershipClass:zne}),Vne="http://www.w3.org/ns/ldp#Resource",Kne="http://www.w3.org/ns/ldp#RDFSource",Gne="http://www.w3.org/ns/ldp#NonRDFSource",Wne="http://www.w3.org/ns/ldp#Container",Qne="http://www.w3.org/ns/ldp#BasicContainer",Zne="http://www.w3.org/ns/ldp#DirectContainer",Jne="http://www.w3.org/ns/ldp#IndirectContainer",Yne="http://www.w3.org/ns/ldp#hasMemberRelation",Xne="http://www.w3.org/ns/ldp#isMemberOfRelation",ere="http://www.w3.org/ns/ldp#membershipResource",tre="http://www.w3.org/ns/ldp#insertedContentRelation",nre="http://www.w3.org/ns/ldp#member",rre="http://www.w3.org/ns/ldp#contains",ire="http://www.w3.org/ns/ldp#constrainedBy",are="http://www.w3.org/ns/ldp#pageSortCriteria",sre="http://www.w3.org/ns/ldp#PageSortCriterion",ore="http://www.w3.org/ns/ldp#pageSortPredicate",ure="http://www.w3.org/ns/ldp#pageSortOrder",lre="http://www.w3.org/ns/ldp#pageSortCollation",cre="http://www.w3.org/ns/ldp#Page",fre="http://www.w3.org/ns/ldp#pageSequence",dre="http://www.w3.org/ns/ldp#inbox",hre=Object.freeze({Resource:Vne,RDFSource:Kne,NonRDFSource:Gne,Container:Wne,BasicContainer:Qne,DirectContainer:Zne,IndirectContainer:Jne,hasMemberRelation:Yne,isMemberOfRelation:Xne,membershipResource:ere,insertedContentRelation:tre,member:nre,contains:rre,constrainedBy:ire,pageSortCriteria:are,PageSortCriterion:sre,pageSortPredicate:ore,pageSortOrder:ure,pageSortCollation:lre,Page:cre,pageSequence:fre,inbox:dre}),pre="http://www.w3.org/ns/pim/meeting#Meeting",gre="http://www.w3.org/ns/pim/meeting#VideoCallPage",mre="http://www.w3.org/ns/pim/meeting#actionItems",yre="http://www.w3.org/ns/pim/meeting#agenda",vre="http://www.w3.org/ns/pim/meeting#attendeeGroup",_re="http://www.w3.org/ns/pim/meeting#chat",wre="http://www.w3.org/ns/pim/meeting#nextMeeting",bre="http://www.w3.org/ns/pim/meeting#previousMeeting",Sre="http://www.w3.org/ns/pim/meeting#sharedNotes",xre="http://www.w3.org/ns/pim/meeting#toolList",Ere="http://www.w3.org/ns/pim/meeting#trip",Tre="http://www.w3.org/ns/pim/meeting#videoCallPage",Cre=Object.freeze({Meeting:pre,VideoCallPage:gre,actionItems:mre,agenda:yre,attendeeGroup:vre,chat:_re,nextMeeting:wre,previousMeeting:bre,sharedNotes:Sre,toolList:xre,trip:Ere,videoCallPage:Tre}),Are="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Rre="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Pre="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",Ore="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Lre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Ire="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Mre="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",Dre="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",kre="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Nre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Fre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",jre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",$re="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",Ure="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",Bre="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",qre="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",zre="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Hre="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",Vre="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Kre="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",Gre="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Wre=Object.freeze({HTML:Are,langString:Rre,PlainLiteral:Pre,type:Ore,Property:Lre,Statement:Ire,subject:Mre,predicate:Dre,object:kre,Bag:Nre,Seq:Fre,Alt:jre,value:$re,List:Ure,first:Bre,rest:qre,XMLLiteral:zre,JSON__workaround:Hre,CompoundLiteral:Vre,language:Kre,direction:Gre}),Qre="http://www.w3.org/2000/01/rdf-schema#Resource",Zre="http://www.w3.org/2000/01/rdf-schema#Class",Jre="http://www.w3.org/2000/01/rdf-schema#subClassOf",Yre="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",Xre="http://www.w3.org/2000/01/rdf-schema#comment",eie="http://www.w3.org/2000/01/rdf-schema#label",tie="http://www.w3.org/2000/01/rdf-schema#domain",nie="http://www.w3.org/2000/01/rdf-schema#range",rie="http://www.w3.org/2000/01/rdf-schema#seeAlso",iie="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",aie="http://www.w3.org/2000/01/rdf-schema#Literal",sie="http://www.w3.org/2000/01/rdf-schema#Container",oie="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",uie="http://www.w3.org/2000/01/rdf-schema#member",lie="http://www.w3.org/2000/01/rdf-schema#Datatype",cie=Object.freeze({Resource:Qre,Class:Zre,subClassOf:Jre,subPropertyOf:Yre,comment:Xre,label:eie,domain:tie,range:nie,seeAlso:rie,isDefinedBy:iie,Literal:aie,Container:sie,ContainerMembershipProperty:oie,member:uie,Datatype:lie}),fie="http://rdfs.org/sioc/ns#Community",die="http://rdfs.org/sioc/ns#Container",hie="http://rdfs.org/sioc/ns#Forum",pie="http://rdfs.org/sioc/ns#Item",gie="http://rdfs.org/sioc/ns#Post",mie="http://rdfs.org/sioc/ns#Role",yie="http://rdfs.org/sioc/ns#Space",vie="http://rdfs.org/sioc/ns#Site",_ie="http://rdfs.org/sioc/ns#Thread",wie="http://rdfs.org/sioc/ns#UserAccount",bie="http://rdfs.org/sioc/ns#Usergroup",Sie="http://rdfs.org/sioc/ns#about",xie="http://rdfs.org/sioc/ns#account_of",Eie="http://rdfs.org/sioc/ns#addressed_to",Tie="http://rdfs.org/sioc/ns#administrator_of",Cie="http://rdfs.org/sioc/ns#attachment",Aie="http://rdfs.org/sioc/ns#avatar",Rie="http://rdfs.org/sioc/ns#container_of",Pie="http://rdfs.org/sioc/ns#content",Oie="http://rdfs.org/sioc/ns#creator_of",Lie="http://rdfs.org/sioc/ns#delivered_at",Iie="http://rdfs.org/sioc/ns#discussion_of",Mie="http://rdfs.org/sioc/ns#email",Die="http://rdfs.org/sioc/ns#email_sha1",kie="http://rdfs.org/sioc/ns#embeds_knowledge",Nie="http://rdfs.org/sioc/ns#feed",Fie="http://rdfs.org/sioc/ns#follows",jie="http://rdfs.org/sioc/ns#function_of",$ie="http://rdfs.org/sioc/ns#generator",Uie="http://rdfs.org/sioc/ns#has_administrator",Bie="http://rdfs.org/sioc/ns#has_container",qie="http://rdfs.org/sioc/ns#has_creator",zie="http://rdfs.org/sioc/ns#has_discussion",Hie="http://rdfs.org/sioc/ns#has_function",Vie="http://rdfs.org/sioc/ns#has_host",Kie="http://rdfs.org/sioc/ns#has_member",Gie="http://rdfs.org/sioc/ns#has_moderator",Wie="http://rdfs.org/sioc/ns#has_modifier",Qie="http://rdfs.org/sioc/ns#has_owner",Zie="http://rdfs.org/sioc/ns#has_parent",Jie="http://rdfs.org/sioc/ns#has_reply",Yie="http://rdfs.org/sioc/ns#has_scope",Xie="http://rdfs.org/sioc/ns#has_space",eae="http://rdfs.org/sioc/ns#has_subscriber",tae="http://rdfs.org/sioc/ns#has_usergroup",nae="http://rdfs.org/sioc/ns#host_of",rae="http://rdfs.org/sioc/ns#id",iae="http://rdfs.org/sioc/ns#ip_address",aae="http://rdfs.org/sioc/ns#last_activity_date",sae="http://rdfs.org/sioc/ns#last_item_date",oae="http://rdfs.org/sioc/ns#last_reply_date",uae="http://rdfs.org/sioc/ns#latest_version",lae="http://rdfs.org/sioc/ns#likes",cae="http://rdfs.org/sioc/ns#link",fae="http://rdfs.org/sioc/ns#links_to",dae="http://rdfs.org/sioc/ns#member_of",hae="http://rdfs.org/sioc/ns#mentions",pae="http://rdfs.org/sioc/ns#moderator_of",gae="http://rdfs.org/sioc/ns#modifier_of",mae="http://rdfs.org/sioc/ns#name",yae="http://rdfs.org/sioc/ns#next_by_date",vae="http://rdfs.org/sioc/ns#next_version",_ae="http://rdfs.org/sioc/ns#note",wae="http://rdfs.org/sioc/ns#num_authors",bae="http://rdfs.org/sioc/ns#num_items",Sae="http://rdfs.org/sioc/ns#num_replies",xae="http://rdfs.org/sioc/ns#num_threads",Eae="http://rdfs.org/sioc/ns#num_views",Tae="http://rdfs.org/sioc/ns#owner_of",Cae="http://rdfs.org/sioc/ns#parent_of",Aae="http://rdfs.org/sioc/ns#previous_by_date",Rae="http://rdfs.org/sioc/ns#previous_version",Pae="http://rdfs.org/sioc/ns#read_at",Oae="http://rdfs.org/sioc/ns#related_to",Lae="http://rdfs.org/sioc/ns#reply_of",Iae="http://rdfs.org/sioc/ns#respond_to",Mae="http://rdfs.org/sioc/ns#scope_of",Dae="http://rdfs.org/sioc/ns#shared_by",kae="http://rdfs.org/sioc/ns#space_of",Nae="http://rdfs.org/sioc/ns#subscriber_of",Fae="http://rdfs.org/sioc/ns#topic",jae="http://rdfs.org/sioc/ns#usergroup_of",$ae=Object.freeze({Community:fie,Container:die,Forum:hie,Item:pie,Post:gie,Role:mie,Space:yie,Site:vie,Thread:_ie,UserAccount:wie,Usergroup:bie,about:Sie,account_of:xie,addressed_to:Eie,administrator_of:Tie,attachment:Cie,avatar:Aie,container_of:Rie,content:Pie,creator_of:Oie,delivered_at:Lie,discussion_of:Iie,email:Mie,email_sha1:Die,embeds_knowledge:kie,feed:Nie,follows:Fie,function_of:jie,generator:$ie,has_administrator:Uie,has_container:Bie,has_creator:qie,has_discussion:zie,has_function:Hie,has_host:Vie,has_member:Kie,has_moderator:Gie,has_modifier:Wie,has_owner:Qie,has_parent:Zie,has_reply:Jie,has_scope:Yie,has_space:Xie,has_subscriber:eae,has_usergroup:tae,host_of:nae,id:rae,ip_address:iae,last_activity_date:aae,last_item_date:sae,last_reply_date:oae,latest_version:uae,likes:lae,link:cae,links_to:fae,member_of:dae,mentions:hae,moderator_of:pae,modifier_of:gae,name:mae,next_by_date:yae,next_version:vae,note:_ae,num_authors:wae,num_items:bae,num_replies:Sae,num_threads:xae,num_views:Eae,owner_of:Tae,parent_of:Cae,previous_by_date:Aae,previous_version:Rae,read_at:Pae,related_to:Oae,reply_of:Lae,respond_to:Iae,scope_of:Mae,shared_by:Dae,space_of:kae,subscriber_of:Nae,topic:Fae,usergroup_of:jae}),Uae="http://www.w3.org/ns/solid/terms#Account",Bae="http://www.w3.org/ns/solid/terms#Inbox",qae="http://www.w3.org/ns/solid/terms#InsertDeletePatch",zae="http://www.w3.org/ns/solid/terms#ListedDocument",Hae="http://www.w3.org/ns/solid/terms#Notification",Vae="http://www.w3.org/ns/solid/terms#Patch",Kae="http://www.w3.org/ns/solid/terms#Timeline",Gae="http://www.w3.org/ns/solid/terms#TypeIndex",Wae="http://www.w3.org/ns/solid/terms#TypeRegistration",Qae="http://www.w3.org/ns/solid/terms#UnlistedDocument",Zae="http://www.w3.org/ns/solid/terms#account",Jae="http://www.w3.org/ns/solid/terms#deletes",Yae="http://www.w3.org/ns/solid/terms#forClass",Xae="http://www.w3.org/ns/solid/terms#inbox",ese="http://www.w3.org/ns/solid/terms#inserts",tse="http://www.w3.org/ns/solid/terms#instance",nse="http://www.w3.org/ns/solid/terms#instanceContainer",rse="http://www.w3.org/ns/solid/terms#loginEndpoint",ise="http://www.w3.org/ns/solid/terms#logoutEndpoint",ase="http://www.w3.org/ns/solid/terms#notification",sse="http://www.w3.org/ns/solid/terms#oidcIssuer",ose="http://www.w3.org/ns/solid/terms#owner",use="http://www.w3.org/ns/solid/terms#patches",lse="http://www.w3.org/ns/solid/terms#privateTypeIndex",cse="http://www.w3.org/ns/solid/terms#publicTypeIndex",fse="http://www.w3.org/ns/solid/terms#read",dse="http://www.w3.org/ns/solid/terms#storageQuota",hse="http://www.w3.org/ns/solid/terms#storageUsage",pse="http://www.w3.org/ns/solid/terms#typeIndex",gse="http://www.w3.org/ns/solid/terms#timeline",mse="http://www.w3.org/ns/solid/terms#where",yse=Object.freeze({Account:Uae,Inbox:Bae,InsertDeletePatch:qae,ListedDocument:zae,Notification:Hae,Patch:Vae,Timeline:Kae,TypeIndex:Gae,TypeRegistration:Wae,UnlistedDocument:Qae,account:Zae,deletes:Jae,forClass:Yae,inbox:Xae,inserts:ese,instance:tse,instanceContainer:nse,loginEndpoint:rse,logoutEndpoint:ise,notification:ase,oidcIssuer:sse,owner:ose,patches:use,privateTypeIndex:lse,publicTypeIndex:cse,read:fse,storageQuota:dse,storageUsage:hse,typeIndex:pse,timeline:gse,where:mse}),vse="http://www.w3.org/ns/pim/space#ControlledStorage",_se="http://www.w3.org/ns/pim/space#PersonalStorage",wse="http://www.w3.org/ns/pim/space#PublicStorage",bse="http://www.w3.org/ns/pim/space#Storage",Sse="http://www.w3.org/ns/pim/space#Workspace",xse="http://www.w3.org/ns/pim/space#masterWorkspace",Ese="http://www.w3.org/ns/pim/space#preferencesFile",Tse="http://www.w3.org/ns/pim/space#storage",Cse="http://www.w3.org/ns/pim/space#uriPrefix",Ase="http://www.w3.org/ns/pim/space#workspace",Rse=Object.freeze({ControlledStorage:vse,PersonalStorage:_se,PublicStorage:wse,Storage:bse,Workspace:Sse,masterWorkspace:xse,preferencesFile:Ese,storage:Tse,uriPrefix:Cse,workspace:Ase}),Pse="http://www.w3.org/2006/vcard/ns#Acquaintance",Ose="http://www.w3.org/2006/vcard/ns#Agent",Lse="http://www.w3.org/2006/vcard/ns#BBS",Ise="http://www.w3.org/2006/vcard/ns#Car",Mse="http://www.w3.org/2006/vcard/ns#Cell",Dse="http://www.w3.org/2006/vcard/ns#Child",kse="http://www.w3.org/2006/vcard/ns#Colleague",Nse="http://www.w3.org/2006/vcard/ns#Contact",Fse="http://www.w3.org/2006/vcard/ns#Coresident",jse="http://www.w3.org/2006/vcard/ns#Coworker",$se="http://www.w3.org/2006/vcard/ns#Crush",Use="http://www.w3.org/2006/vcard/ns#Date",Bse="http://www.w3.org/2006/vcard/ns#Dom",qse="http://www.w3.org/2006/vcard/ns#Emergency",zse="http://www.w3.org/2006/vcard/ns#Fax",Hse="http://www.w3.org/2006/vcard/ns#Female",Vse="http://www.w3.org/2006/vcard/ns#Friend",Kse="http://www.w3.org/2006/vcard/ns#Home",Gse="http://www.w3.org/2006/vcard/ns#ISDN",Wse="http://www.w3.org/2006/vcard/ns#Internet",Qse="http://www.w3.org/2006/vcard/ns#Intl",Zse="http://www.w3.org/2006/vcard/ns#Kin",Jse="http://www.w3.org/2006/vcard/ns#Label",Yse="http://www.w3.org/2006/vcard/ns#Male",Xse="http://www.w3.org/2006/vcard/ns#Me",eoe="http://www.w3.org/2006/vcard/ns#Met",toe="http://www.w3.org/2006/vcard/ns#Modem",noe="http://www.w3.org/2006/vcard/ns#Msg",roe="http://www.w3.org/2006/vcard/ns#Muse",ioe="http://www.w3.org/2006/vcard/ns#Neighbor",aoe="http://www.w3.org/2006/vcard/ns#None",soe="http://www.w3.org/2006/vcard/ns#Other",ooe="http://www.w3.org/2006/vcard/ns#PCS",uoe="http://www.w3.org/2006/vcard/ns#Pager",loe="http://www.w3.org/2006/vcard/ns#Parcel",coe="http://www.w3.org/2006/vcard/ns#Parent",foe="http://www.w3.org/2006/vcard/ns#Postal",doe="http://www.w3.org/2006/vcard/ns#Pref",hoe="http://www.w3.org/2006/vcard/ns#Sibling",poe="http://www.w3.org/2006/vcard/ns#Spouse",goe="http://www.w3.org/2006/vcard/ns#Sweetheart",moe="http://www.w3.org/2006/vcard/ns#Tel",yoe="http://www.w3.org/2006/vcard/ns#Text",voe="http://www.w3.org/2006/vcard/ns#TextPhone",_oe="http://www.w3.org/2006/vcard/ns#Unknown",woe="http://www.w3.org/2006/vcard/ns#Video",boe="http://www.w3.org/2006/vcard/ns#Voice",Soe="http://www.w3.org/2006/vcard/ns#Work",xoe="http://www.w3.org/2006/vcard/ns#X400",Eoe="http://www.w3.org/2006/vcard/ns#adr",Toe="http://www.w3.org/2006/vcard/ns#agent",Coe="http://www.w3.org/2006/vcard/ns#anniversary",Aoe="http://www.w3.org/2006/vcard/ns#bday",Roe="http://www.w3.org/2006/vcard/ns#category",Poe="http://www.w3.org/2006/vcard/ns#class",Ooe="http://www.w3.org/2006/vcard/ns#email",Loe="http://www.w3.org/2006/vcard/ns#geo",Ioe="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Moe="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",Doe="http://www.w3.org/2006/vcard/ns#hasCalendarLink",koe="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Noe="http://www.w3.org/2006/vcard/ns#hasCategory",Foe="http://www.w3.org/2006/vcard/ns#hasCountryName",joe="http://www.w3.org/2006/vcard/ns#hasFN",$oe="http://www.w3.org/2006/vcard/ns#hasFamilyName",Uoe="http://www.w3.org/2006/vcard/ns#hasGender",Boe="http://www.w3.org/2006/vcard/ns#hasGivenName",qoe="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",zoe="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",Hoe="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Voe="http://www.w3.org/2006/vcard/ns#hasLanguage",Koe="http://www.w3.org/2006/vcard/ns#hasLocality",Goe="http://www.w3.org/2006/vcard/ns#hasNickname",Woe="http://www.w3.org/2006/vcard/ns#hasNote",Qoe="http://www.w3.org/2006/vcard/ns#hasOrganizationName",Zoe="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Joe="http://www.w3.org/2006/vcard/ns#hasPostalCode",Yoe="http://www.w3.org/2006/vcard/ns#hasRegion",Xoe="http://www.w3.org/2006/vcard/ns#hasRelated",eue="http://www.w3.org/2006/vcard/ns#hasRole",tue="http://www.w3.org/2006/vcard/ns#hasSource",nue="http://www.w3.org/2006/vcard/ns#hasStreetAddress",rue="http://www.w3.org/2006/vcard/ns#hasTitle",iue="http://www.w3.org/2006/vcard/ns#hasUID",aue="http://www.w3.org/2006/vcard/ns#hasValue",sue="http://www.w3.org/2006/vcard/ns#label",oue="http://www.w3.org/2006/vcard/ns#language",uue="http://www.w3.org/2006/vcard/ns#latitude",lue="http://www.w3.org/2006/vcard/ns#longitude",cue="http://www.w3.org/2006/vcard/ns#mailer",fue="http://www.w3.org/2006/vcard/ns#note",due="http://www.w3.org/2006/vcard/ns#org",hue="http://www.w3.org/2006/vcard/ns#prodid",pue="http://www.w3.org/2006/vcard/ns#rev",gue="http://www.w3.org/2006/vcard/ns#role",mue="http://www.w3.org/2006/vcard/ns#title",yue="http://www.w3.org/2006/vcard/ns#tz",vue="http://www.w3.org/2006/vcard/ns#value",_ue="http://www.w3.org/2006/vcard/ns#Address",wue="http://www.w3.org/2006/vcard/ns#Email",bue="http://www.w3.org/2006/vcard/ns#Group",Sue="http://www.w3.org/2006/vcard/ns#Individual",xue="http://www.w3.org/2006/vcard/ns#Name",Eue="http://www.w3.org/2006/vcard/ns#VCard",Tue="http://www.w3.org/2006/vcard/ns#fn",Cue="http://www.w3.org/2006/vcard/ns#hasAddress",Aue="http://www.w3.org/2006/vcard/ns#hasEmail",Rue="http://www.w3.org/2006/vcard/ns#hasGeo",Pue="http://www.w3.org/2006/vcard/ns#hasKey",Oue="http://www.w3.org/2006/vcard/ns#hasLogo",Lue="http://www.w3.org/2006/vcard/ns#hasName",Iue="http://www.w3.org/2006/vcard/ns#hasPhoto",Mue="http://www.w3.org/2006/vcard/ns#hasSound",Due="http://www.w3.org/2006/vcard/ns#hasTelephone",kue="http://www.w3.org/2006/vcard/ns#hasURL",Nue="http://www.w3.org/2006/vcard/ns#key",Fue="http://www.w3.org/2006/vcard/ns#logo",jue="http://www.w3.org/2006/vcard/ns#n",$ue="http://www.w3.org/2006/vcard/ns#nickname",Uue="http://www.w3.org/2006/vcard/ns#photo",Bue="http://www.w3.org/2006/vcard/ns#sound",que="http://www.w3.org/2006/vcard/ns#tel",zue="http://www.w3.org/2006/vcard/ns#url",Hue="http://www.w3.org/2006/vcard/ns#Location",Vue="http://www.w3.org/2006/vcard/ns#hasMember",Kue="http://www.w3.org/2006/vcard/ns#locality",Gue="http://www.w3.org/2006/vcard/ns#region",Wue="http://www.w3.org/2006/vcard/ns#Organization",Que="http://www.w3.org/2006/vcard/ns#Gender",Zue="http://www.w3.org/2006/vcard/ns#Kind",Jue="http://www.w3.org/2006/vcard/ns#Type",Yue="http://www.w3.org/2006/vcard/ns#TelephoneType",Xue="http://www.w3.org/2006/vcard/ns#RelatedType",ele=Object.freeze({Acquaintance:Pse,Agent:Ose,BBS:Lse,Car:Ise,Cell:Mse,Child:Dse,Colleague:kse,Contact:Nse,Coresident:Fse,Coworker:jse,Crush:$se,Date__workaround:Use,Dom:Bse,Emergency:qse,Fax:zse,Female:Hse,Friend:Vse,Home:Kse,ISDN:Gse,Internet:Wse,Intl__workaround:Qse,Kin:Zse,Label:Jse,Male:Yse,Me:Xse,Met:eoe,Modem:toe,Msg:noe,Muse:roe,Neighbor:ioe,None:aoe,Other:soe,PCS:ooe,Pager:uoe,Parcel:loe,Parent:coe,Postal:foe,Pref:doe,Sibling:hoe,Spouse:poe,Sweetheart:goe,Tel:moe,Text:yoe,TextPhone:voe,Unknown:_oe,Video:woe,Voice:boe,Work:Soe,X400:xoe,adr:Eoe,agent:Toe,anniversary:Coe,bday:Aoe,category:Roe,class__workaround:Poe,email:Ooe,geo:Loe,hasAdditionalName:Ioe,hasCalendarBusy:Moe,hasCalendarLink:Doe,hasCalendarRequest:koe,hasCategory:Noe,hasCountryName:Foe,hasFN:joe,hasFamilyName:$oe,hasGender:Uoe,hasGivenName:Boe,hasHonorificPrefix:qoe,hasHonorificSuffix:zoe,hasInstantMessage:Hoe,hasLanguage:Voe,hasLocality:Koe,hasNickname:Goe,hasNote:Woe,hasOrganizationName:Qoe,hasOrganizationUnit:Zoe,hasPostalCode:Joe,hasRegion:Yoe,hasRelated:Xoe,hasRole:eue,hasSource:tue,hasStreetAddress:nue,hasTitle:rue,hasUID:iue,hasValue:aue,label:sue,language:oue,latitude:uue,longitude:lue,mailer:cue,note:fue,org:due,prodid:hue,rev:pue,role:gue,title:mue,tz:yue,value:vue,Address:_ue,Email:wue,Group:bue,Individual:Sue,Name:xue,VCard:Eue,fn:Tue,hasAddress:Cue,hasEmail:Aue,hasGeo:Rue,hasKey:Pue,hasLogo:Oue,hasName:Lue,hasPhoto:Iue,hasSound:Mue,hasTelephone:Due,hasURL:kue,key:Nue,logo:Fue,n:jue,nickname:$ue,photo:Uue,sound:Bue,tel:que,url:zue,Location:Hue,hasMember:Vue,locality:Kue,region:Gue,Organization:Wue,Gender:Que,Kind:Zue,Type:Jue,TelephoneType:Yue,RelatedType:Xue}),tle="http://www.w3.org/2005/01/wf/flow#ActionItem",nle="http://www.w3.org/2005/01/wf/flow#Change",rle="http://www.w3.org/2005/01/wf/flow#Closed",ile="http://www.w3.org/2005/01/wf/flow#Creation",ale="http://www.w3.org/2005/01/wf/flow#Message",sle="http://www.w3.org/2005/01/wf/flow#NonTerminalState",ole="http://www.w3.org/2005/01/wf/flow#Open",ule="http://www.w3.org/2005/01/wf/flow#Product",lle="http://www.w3.org/2005/01/wf/flow#Task",cle="http://www.w3.org/2005/01/wf/flow#TerminalState",fle="http://www.w3.org/2005/01/wf/flow#Tracker",dle="http://www.w3.org/2005/01/wf/flow#Transition",hle="http://www.w3.org/2005/01/wf/flow#affects",ple="http://www.w3.org/2005/01/wf/flow#allowedTransitions",gle="http://www.w3.org/2005/01/wf/flow#asigneeClass",mle="http://www.w3.org/2005/01/wf/flow#assignee",yle="http://www.w3.org/2005/01/wf/flow#attachment",vle="http://www.w3.org/2005/01/wf/flow#creates",_le="http://www.w3.org/2005/01/wf/flow#dateDue",wle="http://www.w3.org/2005/01/wf/flow#deliverable",ble="http://www.w3.org/2005/01/wf/flow#dependent",Sle="http://www.w3.org/2005/01/wf/flow#description",xle="http://www.w3.org/2005/01/wf/flow#final",Ele="http://www.w3.org/2005/01/wf/flow#goalDescription",Tle="http://www.w3.org/2005/01/wf/flow#initialState",Cle="http://www.w3.org/2005/01/wf/flow#issue",Ale="http://www.w3.org/2005/01/wf/flow#issueCategory",Rle="http://www.w3.org/2005/01/wf/flow#issueClass",Ple="http://www.w3.org/2005/01/wf/flow#message",Ole="http://www.w3.org/2005/01/wf/flow#modifiedBy",Lle="http://www.w3.org/2005/01/wf/flow#recipent",Ile="http://www.w3.org/2005/01/wf/flow#requires",Mle="http://www.w3.org/2005/01/wf/flow#screenShot",Dle="http://www.w3.org/2005/01/wf/flow#sender",kle="http://www.w3.org/2005/01/wf/flow#source",Nle="http://www.w3.org/2005/01/wf/flow#stateStore",Fle="http://www.w3.org/2005/01/wf/flow#subscriber",jle="http://www.w3.org/2005/01/wf/flow#successCriteria",$le="http://www.w3.org/2005/01/wf/flow#task",Ule="http://www.w3.org/2005/01/wf/flow#terminalOutput",Ble="http://www.w3.org/2005/01/wf/flow#testData",qle="http://www.w3.org/2005/01/wf/flow#tracker",zle="http://www.w3.org/2005/01/wf/flow#transactionStore",Hle=Object.freeze({ActionItem:tle,Change:nle,Closed:rle,Creation:ile,Message:ale,NonTerminalState:sle,Open:ole,Product:ule,Task:lle,TerminalState:cle,Tracker:fle,Transition:dle,affects:hle,allowedTransitions:ple,asigneeClass:gle,assignee:mle,attachment:yle,creates:vle,dateDue:_le,deliverable:wle,dependent:ble,description:Sle,final:xle,goalDescription:Ele,initialState:Tle,issue:Cle,issueCategory:Ale,issueClass:Rle,message:Ple,modifiedBy:Ole,recipent:Lle,requires:Ile,screenShot:Mle,sender:Dle,source:kle,stateStore:Nle,subscriber:Fle,successCriteria:jle,task:$le,terminalOutput:Ule,testData:Ble,tracker:qle,transactionStore:zle}),Sn=VJ,ZM=tee,O0=Dte,bl=Hne,ml=hre,Vle=Cre,gm=Wre,JA=cie,Cd=$ae,Hn=yse,mm=Rse,lB=ele,Kle=Hle;const Gle=async(t,e)=>{const n=await globalThis.fetch(t,{method:"GET"});return await yr(n.url,e)},Wle=async t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e(r.result)},r.onerror=i=>n(i)}),ri=t=>{const e=new URL(t);if(e.hash="",e.search="",e.pathname.length===0||e.pathname==="/")return e.toString();const n=e.pathname.split("/").slice(0,-1);return n.push(""),e.pathname=n.join("/"),e.toString()},cB=t=>{const e=ri(t);return e===t?fB(e):e},Qle=t=>Zle(t,cB),fB=t=>{const e=new URL(t);if(e.pathname.length===0||e.pathname==="/")return t;const n=e.pathname.split("/").slice(0,-2);return n.push(""),e.pathname=n.join("/"),e.toString()},lu=async(t,e)=>{try{return await yr(t,e)}catch{return await Gle(t,e)}},Hd=t=>{const e=new URL(t);return e.hash="",e.toString()},JM=t=>{const e=new URL(t);return e.protocol="https",e.toString()},Zle=(t,e)=>{const n=new Set;let r=t;for(;!n.has(r);)n.add(r),r=e(r);return n.delete(t),Array.from(n)},Tl=async t=>{var a;const n=(await yr(t,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${t} does not have any Link headers`);const i=(a=KZ.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${t}`);return new URL(i,t).toString()},Jle=(t,e)=>{const r=new Bd({baseIRI:t}).parse(e),i=new ho(r),a=i.getSubjects(gm.type,Sn.Authorization,null),s={[Sn.Read]:"Read",[Sn.Write]:"Write",[Sn.Append]:"Append",[Sn.Control]:"Control"};return a.map(o=>{const l=i.getObjects(o,Sn.mode,null).map(y=>s[y.value]),f=i.getObjects(o,Sn.agent,null).map(y=>y.value),h=i.getObjects(o,Sn.agentClass,null).map(y=>y.value),p=i.getObjects(o,Sn.agentGroup,null).map(y=>y.value),m=i.getObjects(o,Sn.default__workaround,null).map(y=>y.value);return{url:o.value,accesses:l,agents:f,agentClasses:h,agentGroups:p,defaults:m}})},Yle=(t,...e)=>{const n={};for(const r of e)for(const i of r)n[i[t]]=i;return Object.values(n)},YA=(t="")=>{const e=t&&Hd(t),n=ae.useMemo(()=>["file",e],[e]);return lm({queryKey:n,queryFn:()=>Xle(e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},Xle=async t=>{const e=await yr(t);if(e.ok)return URL.createObjectURL(await e.blob());if(e.status===404)return"";throw new Error(`Fetching ${t} not successful`)},ece=async(t,e)=>{const r=(await yr(t,{method:"POST",body:e})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},tce=async t=>{await yr(t,{method:"DELETE"})},nce=()=>{const t=xa();return fs({mutationFn:async({uri:n,data:r})=>await ece(n,r),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Hd(r.uri)]})}})},rce=()=>{const t=xa();return fs({mutationFn:async({uri:n})=>await tce(n),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Hd(r.uri)]})}})};function dB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ii(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dB(t))&&(r&&(r+=" "),r+=e);return r}var hB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YM=Gt.createContext&&Gt.createContext(hB),ice=["attr","size","title"];function ace(t,e){if(t==null)return{};var n=sce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return e=uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pB(t){return t&&t.map((e,n)=>Gt.createElement(e.tag,Z_({key:n},e.attr),pB(e.child)))}function ds(t){return e=>Gt.createElement(cce,Q_({attr:Z_({},t.attr)},e),pB(t.child))}function cce(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=ace(t,ice),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Gt.createElement("svg",Q_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Z_(Z_({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Gt.createElement("title",null,a),t.children)};return YM!==void 0?Gt.createElement(YM.Consumer,null,n=>e(n)):e(hB)}function fce(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function gB(t){return ds({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(t)}function eD(t){return ds({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function mB(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function dce(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(t)}function hce(t){return ds({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function pce(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function gce(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function mce(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function yB(t){return ds({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function yce(t){return ds({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function vce(t){return ds({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(t)}const _ce="_photo_cmh6k_1",wce="_square_cmh6k_6",nS={photo:_ce,square:wce},L0=({photo:t,size:e=1,square:n,className:r})=>{const{data:i}=YA(t);return i?de.jsx("img",{className:ii(nS.photo,n&&nS.square,r),src:i,alt:"",style:{width:`${e*2}rem`,height:`${e*2}rem`}}):de.jsx(yce,{className:ii(nS.photo,r),size:e*32})},bce="_button_1bmb6_1",Sce="_primary_1bmb6_11",xce="_secondary_1bmb6_20",Ece="_tertiary_1bmb6_28",Tce="_danger_1bmb6_33",aa={button:bce,primary:Sce,secondary:xce,tertiary:Ece,danger:Tce},Vr=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>de.jsx("button",{className:ii(i,aa.button,t&&aa.primary,r&&aa.danger,e&&aa.secondary,n&&aa.tertiary),...a}),jc=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>de.jsx(Rs,{className:ii(i,aa.button,t&&aa.primary,r&&aa.danger,e&&aa.secondary,n&&aa.tertiary),...a}),Cce=t=>de.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:de.jsx(mB,{})}),Ace=({primary:t,secondary:e,tertiary:n,danger:r,className:i,children:a,...s})=>de.jsx("a",{className:ii(i,aa.button,t&&aa.primary,r&&aa.danger,e&&aa.secondary,n&&aa.tertiary),...s,children:a}),Vd=uV,Ms=fV,Rce={...CW,communityId:sU,communityContainer:oU,emailNotificationsType:uU,oidcIssuers:dU,geoindexService:lU,tileServer:fU,darkModeLogoStyle:cU},$n=()=>{const t=Ms(nU);return ae.useMemo(()=>({...Rce,...t}),[t])},Pce=()=>{const t=Vd(),e=$n();ae.useEffect(()=>{window.updateAppConfig=n=>{t(bC.setConfig(n))},window.resetAppConfig=()=>{t(bC.resetConfig())}},[t]),ae.useEffect(()=>{window.appConfig=e},[e])},Oce="_logoContainer_16cvy_1",Lce="_logo_16cvy_1",Ice="_focusedLogo_16cvy_10",Mce="_unfocusedLogo_16cvy_13",Dce="_darkInvert_16cvy_20",ec={logoContainer:Oce,logo:Lce,focusedLogo:Ice,unfocusedLogo:Mce,darkInvert:Dce},vB=({logo:t,focusedLogo:e,name:n,className:r})=>{const{darkModeLogoStyle:i}=$n();return!t&&!n?null:de.jsxs("div",{className:ec.logoContainer,children:[t&&de.jsx("img",{src:t,className:ii(ec.logo,i==="invert"&&ec.darkInvert,e?ec.unfocusedLogo:null,r),alt:n?`logo of ${n}`:""}),e&&de.jsx("img",{src:e,className:ii(ec.logo,i&&ec.darkInvert,ec.focusedLogo,r),alt:n?`focused logo of ${n}`:""}),n?de.jsx("span",{children:n}):null]})},kce={switch:"_switch_1g69w_1"},Nce=()=>{const t=Ms(OA),e=Vd(),n=()=>{e($G.toggleTheme())};return de.jsx("button",{className:kce.switch,onClick:n,"aria-label":t==="dark"?"Switch to light theme":"Switch to dark theme",children:t==="dark"?de.jsx(mce,{}):de.jsx(pce,{})})},Fce={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},jce={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},$ce={schema:jce,shape:"https://example.com/HospexCommunity",context:Fce};var Uce=du();const ip="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ap="http://www.w3.org/2001/XMLSchema#",rS="http://www.w3.org/2000/10/swap/",$i={xsd:{decimal:`${ap}decimal`,boolean:`${ap}boolean`,double:`${ap}double`,integer:`${ap}integer`,string:`${ap}string`},rdf:{type:`${ip}type`,nil:`${ip}nil`,first:`${ip}first`,rest:`${ip}rest`,langString:`${ip}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${rS}reify#forSome`,forAll:`${rS}reify#forAll`},log:{implies:`${rS}log#implies`}},{xsd:ev}=$i,Bce=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,tD={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},qce=/[\x00-\x20<>\\"\{\}\|\^\`]/,zce={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Hce=/$0^/;class Vce{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in zce)&&this[n]instanceof RegExp&&(this[n]=Hce)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this.comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let p="",m="",y="",_=null,b=0,S=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(b=1,p="^");break}case"<":if(_=this._unescapedIri.exec(r))p="IRI",m=_[1];else if(_=this._iri.exec(r)){if(m=this._unescape(_[1]),m===null||qce.test(m))return s(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",b=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",b=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",b=2);break;case"_":((_=this._blank.exec(r))||n&&(_=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return s(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(r))m=_[1];else if({value:m,matchLength:b}=this._parseLiteral(r),m===null)return s(this);(_!==null||b!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(r))&&(p="var",m=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(r))?(p="langcode",m=_[1]):(_=this._keyword.exec(r))&&(p=_[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(r)||n&&(_=this._number.exec(`${r} `)))&&(p="literal",m=_[0],y=typeof _[1]=="string"?ev.double:typeof _[2]=="string"?ev.decimal:ev.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(r))?p=_[0].toUpperCase():S=!0;break;case"f":case"t":(_=this._boolean.exec(r))?(p="literal",m=_[0],y=ev.boolean):S=!0;break;case"a":(_=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(b=1,m="="):(b=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",b=2):(p=h,b=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",b=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(r))?(p="prefix",m=_[1]||""):((_=this._prefixed.exec(r))||n&&(_=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=_[1]||"",m=this._unescape(_[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const x=b||_[0].length,E=a(p,m,y,f,x);this.previousToken=E,this._previousMarker=p,r=r.substr(x,r.length)}function a(o,l,f,h,p){const m=r?i-r.length:i,y=m+p,_={type:o,value:l,prefix:f,line:h,start:m,end:y};return e(null,_),_}function s(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(Bce,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in tD?tD[o]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const s=e.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")GU(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Uce.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:Kce,xsd:Ec}=$i;let Kd,Gce=0;const Sl={namedNode:wB,blankNode:bB,variable:xB,literal:SB,defaultGraph:Jce,quad:LC,triple:LC,fromTerm:pg,fromQuad:EB};class Ns{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Ns?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let ro=class extends Ns{get termType(){return"NamedNode"}},S_=class _B extends Ns{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new ro(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Ec.string:Kce.langString}equals(e){return e instanceof _B?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Wce=class extends Ns{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Qce=class extends Ns{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Zce=class extends Ns{constructor(){return super(""),Kd||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Kd=new Zce;function hg(t,e,n){if(e=e||Sl,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Sl)return new S_(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(hg(t[0],e,!0),hg(t[1],e,!0),hg(t[2],e,!0),t[3]&&hg(t[3],e,!0))}function Xf(t,e){if(typeof t=="string")return t;if(t instanceof Ns&&t.termType!=="Quad")return t.id;if(!t)return Kd.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Ec.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[Xf(t.subject,!0),Xf(t.predicate,!0),Xf(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(Xf(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Js=class extends Ns{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||Kd}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function wB(t){return new ro(t)}function bB(t){return new Wce(t||`n3-${Gce++}`)}function SB(t,e){if(typeof e=="string")return new S_(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Ec.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Ec.integer:Ec.double:(n=Ec.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Ec.string?new S_(`"${t}"`):new S_(`"${t}"^^${n}`)}function xB(t){return new Qce(t)}function Jce(){return Kd}function LC(t,e,n,r){return new Js(t,e,n,r)}function pg(t){if(t instanceof Ns)return t;switch(t.termType){case"NamedNode":return wB(t.value);case"BlankNode":return bB(t.value);case"Variable":return xB(t.value);case"DefaultGraph":return Kd;case"Literal":return SB(t.value,t.language||t.datatype);case"Quad":return EB(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function EB(t){if(t instanceof Js)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return LC(pg(t.subject),pg(t.predicate),pg(t.object),pg(t.graph))}let nD=0;class TB{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&CB(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new Vce({lineMode:l,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){nD=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=tv}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return r+e.substring(s)}parse(e,n,r){let i,a,s;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,s=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${nD++}_`,this._prefixCallback=a||tv,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let f;if(this._callback=(h,p)=>{h?f=h:p&&l.push(p)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),f)throw f;return l}let o=(l,f)=>{l!==null?(this._callback(l),this._callback=tv):this._readCallback&&(this._readCallback=this._readCallback(f))};s&&(this._lexer.comments=!0,o=(l,f)=>{l!==null?(this._callback(l),this._callback=tv):this._readCallback&&(f.type==="comment"?s(f.value):this._readCallback=this._readCallback(f))}),this._callback=i,this._lexer.tokenize(e,o)}}function tv(){}function CB(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n($i.rdf.first),t.RDF_REST=n($i.rdf.rest),t.RDF_NIL=n($i.rdf.nil),t.N3_FORALL=n($i.r.forAll),t.N3_FORSOME=n($i.r.forSome),t.ABBREVIATIONS={a:n($i.rdf.type),"=":n($i.owl.sameAs),">":n($i.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}CB(TB.prototype,Sl);function IC(t){return!!t&&t.termType==="DefaultGraph"}const sp=Sl.defaultGraph(),{rdf:Yce,xsd:Ff}=$i,rD=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,iD=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Xce={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class op extends Ns{equals(e){return e===this}}class AB{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=sp,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${sD(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return sp.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(sp.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){let n="";for(const r of e)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),rD.test(n)&&(n=n.replace(iD,aD));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(rD.test(n)&&(n=n.replace(iD,aD)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Ff.string)return`"${n}"`}else switch(e.datatype.value){case Ff.string:return`"${n}"`;case Ff.boolean:if(n==="true"||n==="false")return n;break;case Ff.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Ff.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Ff.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===Yce.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${IC(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,sp,i):this._writeQuad(e,n,r,i||sp,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=sD(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new op("[]");case 1:if(i=r[0],!(i.object instanceof op))return new op(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new op(`${s}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new op(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function aD(t){let e=Xce[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function sD(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const iS=Symbol("iter");function Tg(t,e,n=4){if(n===0)return Object.assign(t,e);for(const r in e)t[r]=Tg(t[r]||Object.create(null),e[r],n-1);return t}function RB(t,e,n=4){let r=!1;for(const i in t)if(i in e){const a=n===0?null:RB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function PB(t,e,n=4){let r=!1;for(const i in t)if(!(i in e))r=r||Object.create(null),r[i]=n===0?null:Tg({},t[i],n-1);else if(n!==0){const a=PB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class efe{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||Sl}_termFromId(e){if(e[0]==="."){const n=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return hg(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(IC(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Xf(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${IC(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Xf(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class ga{constructor(e,n){this._size=0,this._graphs=Object.create(null),!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||Sl,this._entityIndex=n.entityIndex||new efe({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,n,r,i){const a=e[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,s,o,l){let f,h,p;const m=this._entities,y=this._termFromId(m[l]),_={subject:null,predicate:null,object:null};n&&((f=e,e={})[n]=f[n]);for(const b in e)if(h=e[b]){_[a]=this._termFromId(m[b]),r&&((f=h,h={})[r]=f[r]);for(const S in h)if(p=h[S]){_[s]=this._termFromId(m[S]);const x=i?i in p?[i]:[]:Object.keys(p);for(let E=0;E<x.length;E++)_[o]=this._termFromId(m[x[E]]),yield this._factory.quad(_.subject,_.predicate,_.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,s,o;if((a=e[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(e,n,r,i){let a=0,s,o,l;n&&((s=e,e={})[n]=s[n]);for(const f in e)if(o=e[f]){r&&((s=o,o={})[r]=s[r]);for(const h in o)(l=o[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,e,n,r)?(this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,!0):!1}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||({subject:e,predicate:n,object:r,graph:i}=e),i=i?this._termToNumericId(i):1;const a=this._graphs;let s,o,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[e])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,n,r),this._removeFromIndex(s.predicates,n,r,e),this._removeFromIndex(s.objects,r,e,n),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new zd.Readable({objectMode:!0}),s=this.readQuads(e,n,r,i);return a._read=o=>{for(;--o>=0;){const{done:l,value:f}=s.next();if(l){a.push(null);return}a.push(f)}},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){const a=this._getGraphs(i);let s,o,l,f;if(!(e&&!(o=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const h in a)(s=a[h])&&(o?f?yield*this._findInIndex(s.objects,f,o,l,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(s.predicates,l,f,null,"predicate","object","subject",h):f?yield*this._findInIndex(s.objects,f,null,null,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new rl(this,e,n,r,i,{entityIndex:this._entityIndex})}countQuads(e,n,r,i){const a=this._getGraphs(i);let s=0,o,l,f,h;if(e&&!(l=this._termToNumericId(e))||n&&!(f=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(o=a[p])&&(e?r?s+=this._countInIndex(o.objects,h,l,f):s+=this._countInIndex(o.subjects,l,f,h):n?s+=this._countInIndex(o.predicates,f,h,l):s+=this._countInIndex(o.objects,h,l,f));return s}forEach(e,n,r,i,a){this.some(s=>(e(s,this),!1),n,r,i,a)}every(e,n,r,i,a){return!this.some(s=>!e(s,this),n,r,i,a)}some(e,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(e(s))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,e):this._loopByKey1(s.subjects,o,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,e):this._loopByKey0(s.subjects,o,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,e):this._loopByKey1(s.objects,o,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(s=>(e(s.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,$i.rdf.rest,$i.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{const l=[];let f=!1,h,p;const m=o.graph;let y=o.subject;for(;y&&!f;){const _=this.getQuads(null,null,y,null),b=this.getQuads(y,null,null,null);let S,x=null,E=null,A=null;for(let I=0;I<b.length&&!f;I++)S=b[I],S.graph.equals(m)?h?f=i(y,"has non-list arcs out"):S.predicate.value===$i.rdf.first?x?f=i(y,"has multiple rdf:first arcs"):s.push(x=S):S.predicate.value===$i.rdf.rest?E?f=i(y,"has multiple rdf:rest arcs"):s.push(E=S):_.length?f=i(y,"can't be subject and object"):(h=S,p="subject"):f=i(y,"not confined to single graph");for(let I=0;I<_.length&&!f;++I)S=_[I],h?f=i(y,"can't have coreferences"):S.predicate.value===$i.rdf.rest?A?f=i(y,"has incoming rdf:rest arcs"):A=S:(h=S,p="object");x?l.unshift(x.object):f=i(y,"has no list head"),y=A&&A.subject}f?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(s),r}addAll(e){if(e instanceof rl&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof ga&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=Tg(this._graphs,e._graphs),this._size=null);else for(const n of e)this.add(n);return this}contains(e){if(e instanceof rl&&(e=e.filtered),e===this)return!0;if(!(e instanceof ga)||this._entityIndex!==e._entityIndex)return e.every(f=>this.has(f));const n=this._graphs,r=e._graphs;let i,a,s,o,l;for(const f in r){if(!(i=n[f]))return!1;i=i.subjects;for(const h in a=r[f].subjects){if(!(s=i[h]))return!1;for(const p in o=a[h]){if(!(l=s[p]))return!1;for(const m in o[p])if(!(m in l))return!1}}}return!0}deleteMatches(e,n,r,i){for(const a of this.match(e,n,r,i))this.removeQuad(a);return this}difference(e){if(e&&e instanceof rl&&(e=e.filtered),e===this)return new ga({entityIndex:this._entityIndex});if(e instanceof ga&&e._entityIndex===this._entityIndex){const n=new ga({entityIndex:this._entityIndex}),r=PB(this._graphs,e._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!e.has(n))}equals(e){return e instanceof rl&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const n=new ga({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&n.add(r);return n}intersection(e){if(e instanceof rl&&(e=e.filtered),e===this){const n=new ga({entityIndex:this._entityIndex});return n._graphs=Tg(Object.create(null),this._graphs),n._size=this._size,n}else if(e instanceof ga&&this._entityIndex===e._entityIndex){const n=new ga({entityIndex:this._entityIndex}),r=RB(e._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>e.has(n))}map(e){const n=new ga({entityIndex:this._entityIndex});for(const r of this)n.add(e(r,this));return n}reduce(e,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=e(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new AB().quadsToString(this)}union(e){const n=new ga({entityIndex:this._entityIndex});return n._graphs=Tg(Object.create(null),this._graphs),n._size=this._size,n.addAll(e),n}*[Symbol.iterator](){yield*this.readQuads()}}function Zs(t,e,n=0){const r=e[n];if(r&&!(r in t))return!1;let i=!1;for(const a in r?{[r]:t[r]}:t){const s=n===2?null:Zs(t[a],e,n+1);s!==!1&&(i=i||Object.create(null),i[a]=s)}return i}class rl extends zd.Readable{constructor(e,n,r,i,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a,options:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new ga({factory:e._factory,entityIndex:this.options.entityIndex});let o,l,f;if(a&&!(o=s._termToNumericId(a))||i&&!(l=s._termToNumericId(i))||r&&!(f=s._termToNumericId(r)))return s;const h=e._getGraphs(n);for(const p in h){let m,y,_;!o&&l?(y=Zs(h[p].predicates,[l,f,o]))&&(m=Zs(h[p].subjects,[o,l,f]),_=Zs(h[p].objects,[f,o,l])):f?(_=Zs(h[p].objects,[f,o,l]))&&(m=Zs(h[p].subjects,[o,l,f]),y=Zs(h[p].predicates,[l,f,o])):(m=Zs(h[p].subjects,[o,l,f]))&&(y=Zs(h[p].predicates,[l,f,o]),_=Zs(h[p].objects,[f,o,l])),m&&(s._graphs[p]={subjects:m,predicates:y,objects:_})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[iS]&&(this[iS]=this[Symbol.iterator]());const n=this[iS];for(;--e>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,n,r,i){return this.filtered.deleteMatches(e,n,r,i)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,n,r,i,a){return this.filtered.every(e,n,r,i,a)}filter(e){return this.filtered.filter(e)}forEach(e,n,r,i,a){return this.filtered.forEach(e,n,r,i,a)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,n,r,i,a){return this.filtered.some(e,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,n){return this.filtered.reduce(e,n)}toString(){return new AB().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new rl(this.filtered,e,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function oD(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var XA=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(h){try{f(r.next(h))}catch(p){s(p)}}function l(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?a(h.value):i(h.value).then(o,l)}f((r=r.apply(t,e||[])).next())})};const tfe=t=>(e,n)=>XA(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(e,{method:"GET"});return yield t(r.url,n)}),nfe=t=>(e,n)=>XA(void 0,void 0,void 0,function*(){try{return yield t(e,n)}catch{return yield tfe(t)(e,n)}}),MC=t=>{const e=new URL(t);return e.hash="",e.toString()},OB=(t,e)=>XA(void 0,void 0,void 0,function*(){let n=[],r="",i=-1,a=!1,s;try{const o=MC(t);return s=yield nfe(e)(o),a=s.ok,i=s.status,r=yield s.text(),n=rfe(r,{baseIRI:o}),{data:n,rawData:r,hash:oD(r),ok:a,statusCode:i,response:s}}catch{return a=!1,{data:n,rawData:r,hash:oD(r),ok:a,statusCode:i,response:s}}}),rfe=(t,e)=>{const n=new TB(e),r=Sl.namedNode(e.baseIRI);return n.parse(t).map(({subject:a,predicate:s,object:o})=>Sl.quad(a,s,o,r))},x_=t=>JSON.stringify(t.toJSON()),tc=["subject","predicate","object","graph"],LB={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let Zu=class extends ro{constructor(e){super(LB.variable+"/"+e),this.variable=e}static getVar(e){return e.value.split("/").pop()}};const bn=Object.fromEntries(Object.entries(LB).map(([t,e])=>[t,new ro(e)]));class ife{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let e="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);e+=r.concat(" ")+" ==> "+i.concat(" ")}),e}}add(e){var n,r,i;this.list.add(e),Object.values(e.from).forEach(a=>{a.forEach(s=>{var o,l,f;(o=(l=this.provides)[f=s.value])!==null&&o!==void 0||(l[f]=new Set),this.provides[s.value].add(e)})}),Object.values(e.to).forEach(a=>{a.forEach(s=>{var o,l,f;(o=(l=this.providersOf)[f=s.value])!==null&&o!==void 0||(l[f]=new Set),this.providersOf[s.value].add(e)})}),e.quad&&((n=(r=this.byQuad)[i=x_(e.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[x_(e.quad)].add(e))}remove(e){this.list.delete(e),Object.values(e.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(e)})}),Object.values(e.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(e)})}),e.quad&&this.byQuad[x_(e.quad)].delete(e)}}class uD{constructor(e,n,r=new ga){this.moves=new ife,this.store=r,this.query=e,Object.entries(n).forEach(([i,a])=>{a.forEach(s=>{const o=new ro(s);this.moves.add({from:{},to:{[i]:new Set([o])},step:-1}),this.addVariable(i,o)})})}getMissingResources(){return this.getResources("missing")}removeVariable(e,n){var r;if(this.store.removeQuad(new Js(n,bn.variable,new Zu(e),bn.meta)),n.termType==="NamedNode"){const s=new ro(MC(n.value));this.store.removeQuad(new Js(n,bn.resource,s,bn.meta)),this.store.removeQuads(this.store.getQuads(s,bn.status,null,bn.meta)),this.removeResource(s.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(s=>{var o;return Array.from((o=s.from[e])!==null&&o!==void 0?o:[]).some(l=>l.equals(n))});for(const s of a){const o=s.to;this.moves.remove(s);for(const l in o)o[l].forEach(f=>{var h;Array.from((h=this.moves.providersOf[f.value])!==null&&h!==void 0?h:new Set).filter(m=>{var y;return Array.from((y=m.to[l])!==null&&y!==void 0?y:[]).some(_=>_.equals(f))}).length===0&&this.removeVariable(l,f)})}}addResource(e,n,r="success"){const i=new ro(e),a=this.store.getQuads(null,null,null,i),[s,o]=afe(n,a);s.forEach(p=>this.addQuad(p)),o.forEach(p=>this.removeQuad(p));const l=new Js(i,bn.status,bn.missing,bn.meta),f=new Js(i,bn.status,bn.added,bn.meta),h=new Js(i,bn.status,bn.failed,bn.meta);this.store.removeQuads([l,f,h]),r==="success"&&this.store.addQuad(f),r==="error"&&this.store.addQuad(h)}addQuad(e){this.store.addQuad(e);const n=Object.fromEntries(tc.map(a=>[a,this.store.getObjects(e[a],bn.variable,bn.meta)])),r=(a,s)=>{const o=a[s],l=e[s];return!!(!o||o.startsWith("?")&&n[s].some(f=>f.equals(new Zu(o.slice(1))))||o===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>tc.every(s=>r(a,s))).map(([a,s])=>[+a,s]);for(const[a,s]of i){const o={};for(const f of tc){const h=s[f];h!=null&&h.startsWith("?")&&(o[h.slice(1)]=new Set([e[f]]))}const l={[s.target.slice(1)]:new Set([e[s.pick]])};this.moves.add({step:a,from:o,to:l,quad:e}),this.addVariable(s.target.slice(1),e[s.pick])}}removeResource(e){this.store.getQuads(null,null,null,new ro(e)).forEach(r=>this.removeQuad(r))}removeQuad(e){var n;this.store.removeQuad(e),((n=this.moves.byQuad[x_(e)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const s in a)a[s].forEach(o=>{Array.from(this.moves.providersOf[o.value]).filter(f=>{var h;return Array.from((h=f.to[s])!==null&&h!==void 0?h:[]).some(p=>p.equals(o))}).length===0&&this.removeVariable(s,o)})})}hopFromVariable(e,n){const r=`?${e}`;this.query.map((a,s)=>[a,s]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&tc.some(s=>a[s]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,s])=>{var o;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:s}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(h,p)=>{let m=new Set;const y=h[p];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new ro(y));else if(y.slice(1)===e)m.add(n);else{const _=this.store.getSubjects(bn.variable,new Zu(y.slice(1)),bn.meta);m=new Set(_)}return m},f=Object.fromEntries(tc.map(h=>[h,l(a,h)]));for(const h of f.subject)for(const p of f.predicate)for(const m of f.object)for(const y of f.graph){const _=this.store.getQuads(h,p,m,y);for(const b of _){const S=a.target.slice(1),x=b[a.pick],E={};for(const I of tc)!((o=a[I])===null||o===void 0)&&o.startsWith("?")&&(E[a[I].slice(1)]=new Set([h]));const A={[S]:new Set([x])};this.moves.add({from:E,to:A,step:s,quad:b}),this.addVariable(S,x)}}}})}addVariable(e,n){if(this.store.has(new Js(n,bn.variable,new Zu(e),bn.meta)))return;this.store.addQuads([new Js(n,bn.variable,new Zu(e),bn.meta)]);let r;n.termType==="NamedNode"&&(r=new ro(MC(n.value)),this.store.addQuads([new Js(n,bn.resource,r,bn.meta)]));const i=`?${e}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),s=this.query.some(l=>typeof l!="function"&&l.type==="match"&&tc.some(f=>l[f]===i));r&&(a||s)&&this.store.match(r,bn.status,null,bn.meta).size===0&&this.store.addQuad(r,bn.status,bn.missing,bn.meta),this.hopFromVariable(e,n)}getVariable(e){return this.store.getSubjects(bn.variable,new Zu(e),bn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,bn.variable,null,bn.meta).reduce((e,n)=>{var r,i;return(r=e[i=Zu.getVar(n.object)])!==null&&r!==void 0||(e[i]=new Set),e[Zu.getVar(n.object)].add(n.subject.value),e},{})}getResources(e){if(!e)return this.store.getObjects(null,bn.resource,bn.meta).map(r=>r.value);const n=e==="missing"?bn.missing:e==="failed"?bn.failed:bn.added;return this.store.getSubjects(bn.status,n,bn.meta).map(r=>r.value)}}const afe=(t,e)=>{if(e.length===0)return[t,[]];if(t.length===0)return[[],e];const n=t.filter(i=>!e.some(a=>i.equals(a))),r=e.filter(i=>!t.some(a=>i.equals(a)));return[n,r]};var aS,lD;function sfe(){if(lD)return aS;lD=1;function t(){this.__data__=[],this.size=0}return aS=t,aS}var sS,cD;function ym(){if(cD)return sS;cD=1;function t(e,n){return e===n||e!==e&&n!==n}return sS=t,sS}var oS,fD;function I0(){if(fD)return oS;fD=1;var t=ym();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return oS=e,oS}var uS,dD;function ofe(){if(dD)return uS;dD=1;var t=I0(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return uS=r,uS}var lS,hD;function ufe(){if(hD)return lS;hD=1;var t=I0();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return lS=e,lS}var cS,pD;function lfe(){if(pD)return cS;pD=1;var t=I0();function e(n){return t(this.__data__,n)>-1}return cS=e,cS}var fS,gD;function cfe(){if(gD)return fS;gD=1;var t=I0();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return fS=e,fS}var dS,mD;function M0(){if(mD)return dS;mD=1;var t=sfe(),e=ofe(),n=ufe(),r=lfe(),i=cfe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,dS=a,dS}var hS,yD;function ffe(){if(yD)return hS;yD=1;var t=M0();function e(){this.__data__=new t,this.size=0}return hS=e,hS}var pS,vD;function dfe(){if(vD)return pS;vD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return pS=t,pS}var gS,_D;function hfe(){if(_D)return gS;_D=1;function t(e){return this.__data__.get(e)}return gS=t,gS}var mS,wD;function pfe(){if(wD)return mS;wD=1;function t(e){return this.__data__.has(e)}return mS=t,mS}var yS,bD;function IB(){if(bD)return yS;bD=1;var t=typeof og=="object"&&og&&og.Object===Object&&og;return yS=t,yS}var vS,SD;function Fs(){if(SD)return vS;SD=1;var t=IB(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return vS=n,vS}var _S,xD;function Gd(){if(xD)return _S;xD=1;var t=Fs(),e=t.Symbol;return _S=e,_S}var wS,ED;function gfe(){if(ED)return wS;ED=1;var t=Gd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(o?s[i]=l:delete s[i]),h}return wS=a,wS}var bS,TD;function mfe(){if(TD)return bS;TD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return bS=n,bS}var SS,CD;function Wd(){if(CD)return SS;CD=1;var t=Gd(),e=gfe(),n=mfe(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?e(o):n(o)}return SS=s,SS}var xS,AD;function js(){if(AD)return xS;AD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return xS=t,xS}var ES,RD;function eR(){if(RD)return ES;RD=1;var t=Wd(),e=js(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==a}return ES=s,ES}var TS,PD;function yfe(){if(PD)return TS;PD=1;var t=Fs(),e=t["__core-js_shared__"];return TS=e,TS}var CS,OD;function vfe(){if(OD)return CS;OD=1;var t=yfe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return CS=n,CS}var AS,LD;function MB(){if(LD)return AS;LD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return AS=n,AS}var RS,ID;function _fe(){if(ID)return RS;ID=1;var t=eR(),e=vfe(),n=js(),r=MB(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,f=o.hasOwnProperty,h=RegExp("^"+l.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||e(m))return!1;var y=t(m)?h:a;return y.test(r(m))}return RS=p,RS}var PS,MD;function wfe(){if(MD)return PS;MD=1;function t(e,n){return e==null?void 0:e[n]}return PS=t,PS}var OS,DD;function Jc(){if(DD)return OS;DD=1;var t=_fe(),e=wfe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return OS=n,OS}var LS,kD;function tR(){if(kD)return LS;kD=1;var t=Jc(),e=Fs(),n=t(e,"Map");return LS=n,LS}var IS,ND;function D0(){if(ND)return IS;ND=1;var t=Jc(),e=t(Object,"create");return IS=e,IS}var MS,FD;function bfe(){if(FD)return MS;FD=1;var t=D0();function e(){this.__data__=t?t(null):{},this.size=0}return MS=e,MS}var DS,jD;function Sfe(){if(jD)return DS;jD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return DS=t,DS}var kS,$D;function xfe(){if($D)return kS;$D=1;var t=D0(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return r.call(s,a)?s[a]:void 0}return kS=i,kS}var NS,UD;function Efe(){if(UD)return NS;UD=1;var t=D0(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return NS=r,NS}var FS,BD;function Tfe(){if(BD)return FS;BD=1;var t=D0(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return FS=n,FS}var jS,qD;function Cfe(){if(qD)return jS;qD=1;var t=bfe(),e=Sfe(),n=xfe(),r=Efe(),i=Tfe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,jS=a,jS}var $S,zD;function Afe(){if(zD)return $S;zD=1;var t=Cfe(),e=M0(),n=tR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return $S=r,$S}var US,HD;function Rfe(){if(HD)return US;HD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return US=t,US}var BS,VD;function k0(){if(VD)return BS;VD=1;var t=Rfe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return BS=e,BS}var qS,KD;function Pfe(){if(KD)return qS;KD=1;var t=k0();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return qS=e,qS}var zS,GD;function Ofe(){if(GD)return zS;GD=1;var t=k0();function e(n){return t(this,n).get(n)}return zS=e,zS}var HS,WD;function Lfe(){if(WD)return HS;WD=1;var t=k0();function e(n){return t(this,n).has(n)}return HS=e,HS}var VS,QD;function Ife(){if(QD)return VS;QD=1;var t=k0();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return VS=e,VS}var KS,ZD;function nR(){if(ZD)return KS;ZD=1;var t=Afe(),e=Pfe(),n=Ofe(),r=Lfe(),i=Ife();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,KS=a,KS}var GS,JD;function Mfe(){if(JD)return GS;JD=1;var t=M0(),e=tR(),n=nR(),r=200;function i(a,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(a,s),this.size=o.size,this}return GS=i,GS}var WS,YD;function N0(){if(YD)return WS;YD=1;var t=M0(),e=ffe(),n=dfe(),r=hfe(),i=pfe(),a=Mfe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,WS=s,WS}var QS,XD;function Dfe(){if(XD)return QS;XD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return QS=e,QS}var ZS,ek;function kfe(){if(ek)return ZS;ek=1;function t(e){return this.__data__.has(e)}return ZS=t,ZS}var JS,tk;function Nfe(){if(tk)return JS;tk=1;var t=nR(),e=Dfe(),n=kfe();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,JS=r,JS}var YS,nk;function Ffe(){if(nk)return YS;nk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return YS=t,YS}var XS,rk;function jfe(){if(rk)return XS;rk=1;function t(e,n){return e.has(n)}return XS=t,XS}var ex,ik;function DB(){if(ik)return ex;ik=1;var t=Nfe(),e=Ffe(),n=jfe(),r=1,i=2;function a(s,o,l,f,h,p){var m=l&r,y=s.length,_=o.length;if(y!=_&&!(m&&_>y))return!1;var b=p.get(s),S=p.get(o);if(b&&S)return b==o&&S==s;var x=-1,E=!0,A=l&i?new t:void 0;for(p.set(s,o),p.set(o,s);++x<y;){var I=s[x],M=o[x];if(f)var D=m?f(M,I,x,o,s,p):f(I,M,x,s,o,p);if(D!==void 0){if(D)continue;E=!1;break}if(A){if(!e(o,function(j,Q){if(!n(A,Q)&&(I===j||h(I,j,l,f,p)))return A.push(Q)})){E=!1;break}}else if(!(I===M||h(I,M,l,f,p))){E=!1;break}}return p.delete(s),p.delete(o),E}return ex=a,ex}var tx,ak;function kB(){if(ak)return tx;ak=1;var t=Fs(),e=t.Uint8Array;return tx=e,tx}var nx,sk;function $fe(){if(sk)return nx;sk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return nx=t,nx}var rx,ok;function Ufe(){if(ok)return rx;ok=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return rx=t,rx}var ix,uk;function Bfe(){if(uk)return ix;uk=1;var t=Gd(),e=kB(),n=ym(),r=DB(),i=$fe(),a=Ufe(),s=1,o=2,l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",_="[object Set]",b="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function M(D,j,Q,Y,q,Z,fe){switch(Q){case E:if(D.byteLength!=j.byteLength||D.byteOffset!=j.byteOffset)return!1;D=D.buffer,j=j.buffer;case x:return!(D.byteLength!=j.byteLength||!Z(new e(D),new e(j)));case l:case f:case m:return n(+D,+j);case h:return D.name==j.name&&D.message==j.message;case y:case b:return D==j+"";case p:var te=i;case _:var oe=Y&s;if(te||(te=a),D.size!=j.size&&!oe)return!1;var ge=fe.get(D);if(ge)return ge==j;Y|=o,fe.set(D,j);var _e=r(te(D),te(j),Y,q,Z,fe);return fe.delete(D),_e;case S:if(I)return I.call(D)==I.call(j)}return!1}return ix=M,ix}var ax,lk;function rR(){if(lk)return ax;lk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return ax=t,ax}var sx,ck;function $s(){if(ck)return sx;ck=1;var t=Array.isArray;return sx=t,sx}var ox,fk;function NB(){if(fk)return ox;fk=1;var t=rR(),e=$s();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return ox=n,ox}var ux,dk;function qfe(){if(dk)return ux;dk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var o=e[r];n(o,r,e)&&(s[a++]=o)}return s}return ux=t,ux}var lx,hk;function FB(){if(hk)return lx;hk=1;function t(){return[]}return lx=t,lx}var cx,pk;function iR(){if(pk)return cx;pk=1;var t=qfe(),e=FB(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return r.call(s,o)}))}:e;return cx=a,cx}var fx,gk;function zfe(){if(gk)return fx;gk=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return fx=t,fx}var dx,mk;function pu(){if(mk)return dx;mk=1;function t(e){return e!=null&&typeof e=="object"}return dx=t,dx}var hx,yk;function Hfe(){if(yk)return hx;yk=1;var t=Wd(),e=pu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return hx=r,hx}var px,vk;function F0(){if(vk)return px;vk=1;var t=Hfe(),e=pu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return px=a,px}var gg={exports:{}},gx,_k;function Vfe(){if(_k)return gx;_k=1;function t(){return!1}return gx=t,gx}gg.exports;var wk;function j0(){return wk||(wk=1,function(t,e){var n=Fs(),r=Vfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,f=l||r;t.exports=f}(gg,gg.exports)),gg.exports}var mx,bk;function aR(){if(bk)return mx;bk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return mx=n,mx}var yx,Sk;function sR(){if(Sk)return yx;Sk=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return yx=e,yx}var vx,xk;function Kfe(){if(xk)return vx;xk=1;var t=Wd(),e=sR(),n=pu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",_="[object String]",b="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",j="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",Z={};Z[E]=Z[A]=Z[I]=Z[M]=Z[D]=Z[j]=Z[Q]=Z[Y]=Z[q]=!0,Z[r]=Z[i]=Z[S]=Z[a]=Z[x]=Z[s]=Z[o]=Z[l]=Z[f]=Z[h]=Z[p]=Z[m]=Z[y]=Z[_]=Z[b]=!1;function fe(te){return n(te)&&e(te.length)&&!!Z[t(te)]}return vx=fe,vx}var _x,Ek;function oR(){if(Ek)return _x;Ek=1;function t(e){return function(n){return e(n)}}return _x=t,_x}var mg={exports:{}};mg.exports;var Tk;function uR(){return Tk||(Tk=1,function(t,e){var n=IB(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(mg,mg.exports)),mg.exports}var wx,Ck;function lR(){if(Ck)return wx;Ck=1;var t=Kfe(),e=oR(),n=uR(),r=n&&n.isTypedArray,i=r?e(r):t;return wx=i,wx}var bx,Ak;function jB(){if(Ak)return bx;Ak=1;var t=zfe(),e=F0(),n=$s(),r=j0(),i=aR(),a=lR(),s=Object.prototype,o=s.hasOwnProperty;function l(f,h){var p=n(f),m=!p&&e(f),y=!p&&!m&&r(f),_=!p&&!m&&!y&&a(f),b=p||m||y||_,S=b?t(f.length,String):[],x=S.length;for(var E in f)(h||o.call(f,E))&&!(b&&(E=="length"||y&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,x)))&&S.push(E);return S}return bx=l,bx}var Sx,Rk;function cR(){if(Rk)return Sx;Rk=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Sx=e,Sx}var xx,Pk;function $B(){if(Pk)return xx;Pk=1;function t(e,n){return function(r){return e(n(r))}}return xx=t,xx}var Ex,Ok;function Gfe(){if(Ok)return Ex;Ok=1;var t=$B(),e=t(Object.keys,Object);return Ex=e,Ex}var Tx,Lk;function Wfe(){if(Lk)return Tx;Lk=1;var t=cR(),e=Gfe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return Tx=i,Tx}var Cx,Ik;function $0(){if(Ik)return Cx;Ik=1;var t=eR(),e=sR();function n(r){return r!=null&&e(r.length)&&!t(r)}return Cx=n,Cx}var Ax,Mk;function vm(){if(Mk)return Ax;Mk=1;var t=jB(),e=Wfe(),n=$0();function r(i){return n(i)?t(i):e(i)}return Ax=r,Ax}var Rx,Dk;function UB(){if(Dk)return Rx;Dk=1;var t=NB(),e=iR(),n=vm();function r(i){return t(i,n,e)}return Rx=r,Rx}var Px,kk;function Qfe(){if(kk)return Px;kk=1;var t=UB(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o,l,f,h){var p=o&e,m=t(a),y=m.length,_=t(s),b=_.length;if(y!=b&&!p)return!1;for(var S=y;S--;){var x=m[S];if(!(p?x in s:r.call(s,x)))return!1}var E=h.get(a),A=h.get(s);if(E&&A)return E==s&&A==a;var I=!0;h.set(a,s),h.set(s,a);for(var M=p;++S<y;){x=m[S];var D=a[x],j=s[x];if(l)var Q=p?l(j,D,x,s,a,h):l(D,j,x,a,s,h);if(!(Q===void 0?D===j||f(D,j,o,l,h):Q)){I=!1;break}M||(M=x=="constructor")}if(I&&!M){var Y=a.constructor,q=s.constructor;Y!=q&&"constructor"in a&&"constructor"in s&&!(typeof Y=="function"&&Y instanceof Y&&typeof q=="function"&&q instanceof q)&&(I=!1)}return h.delete(a),h.delete(s),I}return Px=i,Px}var Ox,Nk;function Zfe(){if(Nk)return Ox;Nk=1;var t=Jc(),e=Fs(),n=t(e,"DataView");return Ox=n,Ox}var Lx,Fk;function Jfe(){if(Fk)return Lx;Fk=1;var t=Jc(),e=Fs(),n=t(e,"Promise");return Lx=n,Lx}var Ix,jk;function Yfe(){if(jk)return Ix;jk=1;var t=Jc(),e=Fs(),n=t(e,"Set");return Ix=n,Ix}var Mx,$k;function Xfe(){if($k)return Mx;$k=1;var t=Jc(),e=Fs(),n=t(e,"WeakMap");return Mx=n,Mx}var Dx,Uk;function U0(){if(Uk)return Dx;Uk=1;var t=Zfe(),e=tR(),n=Jfe(),r=Yfe(),i=Xfe(),a=Wd(),s=MB(),o="[object Map]",l="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=s(t),_=s(e),b=s(n),S=s(r),x=s(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=m||e&&E(new e)!=o||n&&E(n.resolve())!=f||r&&E(new r)!=h||i&&E(new i)!=p)&&(E=function(A){var I=a(A),M=I==l?A.constructor:void 0,D=M?s(M):"";if(D)switch(D){case y:return m;case _:return o;case b:return f;case S:return h;case x:return p}return I}),Dx=E,Dx}var kx,Bk;function ede(){if(Bk)return kx;Bk=1;var t=N0(),e=DB(),n=Bfe(),r=Qfe(),i=U0(),a=$s(),s=j0(),o=lR(),l=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function _(b,S,x,E,A,I){var M=a(b),D=a(S),j=M?h:i(b),Q=D?h:i(S);j=j==f?p:j,Q=Q==f?p:Q;var Y=j==p,q=Q==p,Z=j==Q;if(Z&&s(b)){if(!s(S))return!1;M=!0,Y=!1}if(Z&&!Y)return I||(I=new t),M||o(b)?e(b,S,x,E,A,I):n(b,S,j,x,E,A,I);if(!(x&l)){var fe=Y&&y.call(b,"__wrapped__"),te=q&&y.call(S,"__wrapped__");if(fe||te){var oe=fe?b.value():b,ge=te?S.value():S;return I||(I=new t),A(oe,ge,x,E,I)}}return Z?(I||(I=new t),r(b,S,x,E,A,I)):!1}return kx=_,kx}var Nx,qk;function fR(){if(qk)return Nx;qk=1;var t=ede(),e=pu();function n(r,i,a,s,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,o)}return Nx=n,Nx}var Fx,zk;function tde(){if(zk)return Fx;zk=1;var t=fR();function e(n,r){return t(n,r)}return Fx=e,Fx}var nde=tde();const BB=Gr(nde);var jx,Hk;function qB(){if(Hk)return jx;Hk=1;var t=Jc(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return jx=e,jx}var $x,Vk;function B0(){if(Vk)return $x;Vk=1;var t=qB();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return $x=e,$x}var Ux,Kk;function rde(){if(Kk)return Ux;Kk=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),l=o.length;l--;){var f=o[e?l:++a];if(r(s[f],f,s)===!1)break}return n}}return Ux=t,Ux}var Bx,Gk;function zB(){if(Gk)return Bx;Gk=1;var t=rde(),e=t();return Bx=e,Bx}var qx,Wk;function ide(){if(Wk)return qx;Wk=1;var t=zB(),e=vm();function n(r,i){return r&&t(r,i,e)}return qx=n,qx}var zx,Qk;function ade(){if(Qk)return zx;Qk=1;var t=N0(),e=fR(),n=1,r=2;function i(a,s,o,l){var f=o.length,h=f,p=!l;if(a==null)return!h;for(a=Object(a);f--;){var m=o[f];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++f<h;){m=o[f];var y=m[0],_=a[y],b=m[1];if(p&&m[2]){if(_===void 0&&!(y in a))return!1}else{var S=new t;if(l)var x=l(_,b,y,a,s,S);if(!(x===void 0?e(b,_,n|r,l,S):x))return!1}}return!0}return zx=i,zx}var Hx,Zk;function HB(){if(Zk)return Hx;Zk=1;var t=js();function e(n){return n===n&&!t(n)}return Hx=e,Hx}var Vx,Jk;function sde(){if(Jk)return Vx;Jk=1;var t=HB(),e=vm();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],o=r[s];i[a]=[s,o,t(o)]}return i}return Vx=n,Vx}var Kx,Yk;function VB(){if(Yk)return Kx;Yk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Kx=t,Kx}var Gx,Xk;function ode(){if(Xk)return Gx;Xk=1;var t=ade(),e=sde(),n=VB();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Gx=r,Gx}var Wx,eN;function _m(){if(eN)return Wx;eN=1;var t=Wd(),e=pu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Wx=r,Wx}var Qx,tN;function dR(){if(tN)return Qx;tN=1;var t=$s(),e=_m(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Qx=i,Qx}var Zx,nN;function ude(){if(nN)return Zx;nN=1;var t=nR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var f=r.apply(this,s);return a.cache=l.set(o,f)||l,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,Zx=n,Zx}var Jx,rN;function lde(){if(rN)return Jx;rN=1;var t=ude(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Jx=n,Jx}var Yx,iN;function cde(){if(iN)return Yx;iN=1;var t=lde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,f){a.push(l?f.replace(n,"$1"):o||s)}),a});return Yx=r,Yx}var Xx,aN;function KB(){if(aN)return Xx;aN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Xx=t,Xx}var eE,sN;function fde(){if(sN)return eE;sN=1;var t=Gd(),e=KB(),n=$s(),r=_m(),i=1/0,a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var f=l+"";return f=="0"&&1/l==-i?"-0":f}return eE=o,eE}var tE,oN;function dde(){if(oN)return tE;oN=1;var t=fde();function e(n){return n==null?"":t(n)}return tE=e,tE}var nE,uN;function q0(){if(uN)return nE;uN=1;var t=$s(),e=dR(),n=cde(),r=dde();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return nE=i,nE}var rE,lN;function wm(){if(lN)return rE;lN=1;var t=_m(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return rE=n,rE}var iE,cN;function hR(){if(cN)return iE;cN=1;var t=q0(),e=wm();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return iE=n,iE}var aE,fN;function hde(){if(fN)return aE;fN=1;var t=hR();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return aE=e,aE}var sE,dN;function pde(){if(dN)return sE;dN=1;function t(e,n){return e!=null&&n in Object(e)}return sE=t,sE}var oE,hN;function gde(){if(hN)return oE;hN=1;var t=q0(),e=F0(),n=$s(),r=aR(),i=sR(),a=wm();function s(o,l,f){l=t(l,o);for(var h=-1,p=l.length,m=!1;++h<p;){var y=a(l[h]);if(!(m=o!=null&&f(o,y)))break;o=o[y]}return m||++h!=p?m:(p=o==null?0:o.length,!!p&&i(p)&&r(y,p)&&(n(o)||e(o)))}return oE=s,oE}var uE,pN;function mde(){if(pN)return uE;pN=1;var t=pde(),e=gde();function n(r,i){return r!=null&&e(r,i,t)}return uE=n,uE}var lE,gN;function yde(){if(gN)return lE;gN=1;var t=fR(),e=hde(),n=mde(),r=dR(),i=HB(),a=VB(),s=wm(),o=1,l=2;function f(h,p){return r(h)&&i(p)?a(s(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?n(m,h):t(p,y,o|l)}}return lE=f,lE}var cE,mN;function pR(){if(mN)return cE;mN=1;function t(e){return e}return cE=t,cE}var fE,yN;function vde(){if(yN)return fE;yN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return fE=t,fE}var dE,vN;function _de(){if(vN)return dE;vN=1;var t=hR();function e(n){return function(r){return t(r,n)}}return dE=e,dE}var hE,_N;function wde(){if(_N)return hE;_N=1;var t=vde(),e=_de(),n=dR(),r=wm();function i(a){return n(a)?t(r(a)):e(a)}return hE=i,hE}var pE,wN;function gR(){if(wN)return pE;wN=1;var t=ode(),e=yde(),n=pR(),r=$s(),i=wde();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return pE=a,pE}var gE,bN;function bde(){if(bN)return gE;bN=1;var t=B0(),e=ide(),n=gR();function r(i,a){var s={};return a=n(a,3),e(i,function(o,l,f){t(s,l,a(o,l,f))}),s}return gE=r,gE}var Sde=bde();const SN=Gr(Sde);var xde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ede=()=>({}),Tde=(t,e)=>{if(t.length!==e.length)return!1;const n=new Set(t);return e.every(r=>n.has(r))},wa=({query:t,variables:e,fetch:n,getQueryKey:r=s=>["rdfDocument",s],staleTime:i=1/0,getAdditionalData:a=Ede})=>{const s=ae.useMemo(()=>SN(e,j=>new Set(j)),[e]),[o,l]=ae.useState([]),[f,h]=ae.useState({}),[p,m]=ae.useState(new ho),[y,_]=ae.useState([]),[b,S]=ae.useState(!1),x=ae.useCallback(j=>{var Q;return Object.assign(Object.assign({},(Q=a(j))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(j.map((Y,q)=>[o[q],Y==null?void 0:Y.data])),pending:j.some(Y=>Y.isPending)})},[a,o]),E=mA({queries:o.map(j=>({queryKey:r(j),queryFn:()=>OB(j,n),staleTime:i})),combine:x}),A=ae.useRef(new uD(t,s)),I=ae.useRef(E.data);ae.useEffect(()=>{A.current=new uD(t,s);const j=A.current.getMissingResources();l(j),m(A.current.store),I.current={}},[t,s]),ae.useEffect(()=>{if(!E)return;for(const q in E.data){const Z=E.data[q];if(!Z)continue;const fe=I.current[q];(fe==null?void 0:fe.hash)!==Z.hash&&A.current.addResource(q,Z.data,Z.ok?"success":"error")}const j=A.current.getMissingResources();S(j.length>0),l(q=>{const Z=[];for(const fe of j)q.includes(fe)||Z.push(fe);return Z.length===0?q:Z.concat(q)});const Q=SN(A.current.getAllVariables(),q=>Array.from(q));h(q=>BB(Q,q)?q:Q),m(A.current.store);const Y=[...A.current.store];_(q=>Tde(q,Y)?q:Y),I.current=E.data},[E]);const M=E,D=xde(M,["data","pending"]);return ae.useMemo(()=>Object.assign({store:p,quads:y,variables:f,qas:A.current,isLoading:E==null?void 0:E.pending,isMissing:b},D),[b,y,p,f,D,E==null?void 0:E.pending])};var up={},lp={},nv={},nc={},cp={},rv={},fp={},mE={},yE={},Si={},dp={},hp={},xN;function GB(){if(xN)return hp;xN=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.BlankNode=void 0;let t=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return hp.BlankNode=t,hp}var pp={},gp={},EN;function WB(){if(EN)return gp;EN=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.DefaultGraph=void 0;let t=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return gp.DefaultGraph=t,t.INSTANCE=new t,gp}var mp={},yp={},TN;function mR(){if(TN)return yp;TN=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.NamedNode=void 0;let t=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return yp.NamedNode=t,yp}var CN;function QB(){if(CN)return mp;CN=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.Literal=void 0;const t=mR();let e=class DC{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=DC.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=DC.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return mp.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),mp}var vp={},AN;function ZB(){if(AN)return vp;AN=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.Quad=void 0;let t=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return vp.Quad=t,vp}var _p={},RN;function JB(){if(RN)return _p;RN=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.Variable=void 0;let t=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return _p.Variable=t,_p}var PN;function Cde(){if(PN)return pp;PN=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.DataFactory=void 0;const t=GB(),e=WB(),n=QB(),r=mR(),i=ZB(),a=JB();let s=0,o=class{constructor(f){this.blankNodeCounter=0,f=f||{},this.blankNodePrefix=f.blankNodePrefix||`df_${s++}_`}namedNode(f){return new r.NamedNode(f)}blankNode(f){return new t.BlankNode(f||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(f,h){return new n.Literal(f,h)}variable(f){return new a.Variable(f)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(f,h,p,m){return new i.Quad(f,h,p,m||this.defaultGraph())}fromTerm(f){switch(f.termType){case"NamedNode":return this.namedNode(f.value);case"BlankNode":return this.blankNode(f.value);case"Literal":return f.language?this.literal(f.value,f.language):f.datatype.equals(n.Literal.XSD_STRING)?this.literal(f.value):this.literal(f.value,this.fromTerm(f.datatype));case"Variable":return this.variable(f.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(f.subject),this.fromTerm(f.predicate),this.fromTerm(f.object),this.fromTerm(f.graph))}}fromQuad(f){return this.fromTerm(f)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return pp.DataFactory=o,pp}var ON;function Ade(){return ON||(ON=1,function(t){var e=dp.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=dp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(GB(),t),n(Cde(),t),n(WB(),t),n(QB(),t),n(mR(),t),n(ZB(),t),n(JB(),t)}(dp)),dp}var LN;function Rde(){if(LN)return Si;LN=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.stringQuadToQuad=Si.quadToStringQuad=Si.stringToTerm=Si.getLiteralLanguage=Si.getLiteralType=Si.getLiteralValue=Si.termToString=void 0;const t=Ade(),e=new t.DataFactory;function n(f){if(f)switch(f.termType){case"NamedNode":return f.value;case"BlankNode":return"_:"+f.value;case"Literal":const h=f;return'"'+h.value+'"'+(h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+h.datatype.value:"")+(h.language?"@"+h.language:"");case"Quad":return`<<${n(f.subject)} ${n(f.predicate)} ${n(f.object)}${f.graph.termType==="DefaultGraph"?"":" "+n(f.graph)}>>`;case"Variable":return"?"+f.value;case"DefaultGraph":return f.value}}Si.termToString=n;function r(f){const h=/^"([^]*)"/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]}Si.getLiteralValue=r;function i(f){const h=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]||(h[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Si.getLiteralType=i;function a(f){const h=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]?h[1].toLowerCase():""}Si.getLiteralLanguage=a;function s(f,h){if(h=h||e,!f||!f.length)return h.defaultGraph();switch(f[0]){case"_":return h.blankNode(f.substr(2));case"?":if(!h.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return h.variable(f.substr(1));case'"':const p=a(f),m=h.namedNode(i(f));return h.literal(r(f),p||m);case"<":default:if(f[0]==="<"&&f.length>4&&f[1]==="<"&&f[f.length-1]===">"&&f[f.length-2]===">"){const y=f.slice(2,-2).trim();let _=[],b=0,S=0,x=!1;for(let E=0;E<y.length;E++){const A=y[E];if(A==="<"&&b++,A===">"){if(b===0)throw new Error("Found closing tag without opening tag in "+f);b--}if(A==='"'){let I=!1,M=E;for(;M-- >0&&y[M]==="\\";)I=!I;I||(x=!x)}if(A===" "&&!x&&b===0){for(_.push(y.slice(S,E));y[E+1]===" ";)E+=1;S=E+1}}if(b!==0)throw new Error("Found opening tag without closing tag in "+f);if(_.push(y.slice(S,y.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+f);return _=_.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),h.quad(s(_[0]),s(_[1]),s(_[2]),_[3]?s(_[3]):void 0)}return h.namedNode(f)}}Si.stringToTerm=s;function o(f){return{subject:n(f.subject),predicate:n(f.predicate),object:n(f.object),graph:n(f.graph)}}Si.quadToStringQuad=o;function l(f,h){return h=h||e,h.quad(s(f.subject,h),s(f.predicate,h),s(f.object,h),s(f.graph,h))}return Si.stringQuadToQuad=l,Si}var IN;function yR(){return IN||(IN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Rde();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(yE)),yE}var MN;function Pde(){return MN||(MN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=yR();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return s(S)}t.subjectNodeToString=n;function r(S){return s(S)}t.predicateNodeToString=r;function i(S){return s(S)}t.objectNodeToString=i;function a(S){return s(S)}t.grpahNodeToString=a;function s(S){return(0,e.termToString)(S)}t.nodeToString=s;function o(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=o;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=l;function f(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function _(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function b(S){try{const x=JSON.parse(S);return[x.subject!=null?f(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=b}(mE)),mE}var wp={},vE,DN;function Ode(){if(DN)return vE;DN=1;class t{constructor(n){this.value=n||"b"+ ++t.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="BlankNode",t.nextId=0,vE=t,vE}var _E,kN;function YB(){if(kN)return _E;kN=1;class t{equals(n){return!!n&&n.termType===this.termType}}return t.prototype.termType="DefaultGraph",t.prototype.value="",_E=t,_E}var wE,NN;function Lde(){if(NN)return wE;NN=1;function t(e){if(!e)return null;if(e.termType==="BlankNode")return this.blankNode(e.value);if(e.termType==="DefaultGraph")return this.defaultGraph();if(e.termType==="Literal")return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if(e.termType==="NamedNode")return this.namedNode(e.value);if(e.termType==="Quad"){const n=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),i=this.fromTerm(e.object),a=this.fromTerm(e.graph);return this.quad(n,r,i,a)}if(e.termType==="Variable")return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}return wE=t,wE}var bE,FN;function XB(){if(FN)return bE;FN=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="NamedNode",bE=t,bE}var SE,jN;function Ide(){if(jN)return SE;jN=1;const t=XB();class e{constructor(r,i,a){this.value=r,this.datatype=e.stringDatatype,this.language="",i?(this.language=i,this.datatype=e.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return e.prototype.termType="Literal",e.langStringDatatype=new t("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.stringDatatype=new t("http://www.w3.org/2001/XMLSchema#string"),SE=e,SE}var xE,$N;function Mde(){if($N)return xE;$N=1;const t=YB();class e{constructor(r,i,a,s){this.subject=r,this.predicate=i,this.object=a,s?this.graph=s:this.graph=new t}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return e.prototype.termType="Quad",e.prototype.value="",xE=e,xE}var EE,UN;function Dde(){if(UN)return EE;UN=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="Variable",EE=t,EE}var TE,BN;function kde(){if(BN)return TE;BN=1;const t=Ode(),e=YB(),n=Lde(),r=Ide(),i=XB(),a=Mde(),s=Dde();function o(x){return new i(x)}function l(x){return new t(x)}function f(x,E){return typeof E=="string"?E.indexOf(":")===-1?new r(x,E):new r(x,null,S.namedNode(E)):new r(x,null,E)}function h(x){return new s(x)}function p(){return S.defaultGraphInstance}function m(x,E,A){return S.quad(x,E,A)}function y(x,E,A,I){return new a(x,E,A,I||S.defaultGraphInstance)}function _(x){return n.call(S,x)}function b(x){return n.call(S,x)}const S={namedNode:o,blankNode:l,literal:f,variable:h,defaultGraph:p,triple:m,quad:y,fromTerm:_,fromQuad:b,defaultGraphInstance:new e};return TE=S,TE}var CE,qN;function yi(){return qN||(qN=1,CE=kde()),CE}var rc={};const Qd=i5(EJ);var zN;function e8(){if(zN)return rc;zN=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.datasetToJsonLd=rc.datasetToString=void 0;const t=Qd;function e(r,i){const a=new t.Writer(i),s=[];for(const o of r)s.push(o);return a.quadsToString(s)}rc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return rc.datasetToJsonLd=n,rc}var HN;function Nde(){if(HN)return wp;HN=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.changesToSparqlUpdate=void 0;const t=yi(),e=e8();async function n(r){let i="";if(r.removed){const a=r.removed.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return wp.changesToSparqlUpdate=n,wp}var bp={},VN;function Fde(){if(VN)return bp;VN=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.serializedToQuads=void 0;const t=Qd;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return bp.serializedToQuads=e,bp}var KN;function t8(){return KN||(KN=1,function(t){var e=fp.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=fp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Pde(),t),n(Nde(),t),n(e8(),t),n(Fde(),t)}(fp)),fp}var GN;function n8(){if(GN)return rv;GN=1,Object.defineProperty(rv,"__esModule",{value:!0});const t=t8(),e=aB();let n=class kC{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new kC(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,s,o){const l=this.match(i,a,s,o);for(const f of l)this.dataset.delete(f);return this}difference(i){const a=this.createBlankDataset();for(const s of this)i.has(s)||a.add(s);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const s of this)i(s,this)&&a.add(s);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,s)=>{i.on("data",o=>{this.add(o)}).on("end",()=>{a(this)}).on("error",o=>s(o))})}intersection(i){const a=this.createBlankDataset(),s=this.size<i.size?this:i,o=this.size<i.size?i:this;for(const l of s)o.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const s of this)a.add(i(s,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const s=this[Symbol.iterator]();let o=s.next(),l=a;for(;!o.done;)l=i(l,o.value,this),o=s.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new e.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,t.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const s of this)a.add(s);for(const s of i)a.add(s);return a}match(i,a,s,o){return new kC(this.dataset.match(i,a,s,o),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return rv.default=n,rv}var WN;function r8(){if(WN)return cp;WN=1;var t=cp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cp,"__esModule",{value:!0});const e=t(n8());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new e.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return cp.default=n,cp}var AE,QN;function jde(){if(QN)return AE;QN=1;function t(s){return typeof s=="string"||s instanceof String}const e="http://www.w3.org/2001/XMLSchema#string";function n(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let o,l,f,h;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==e?`^^${s.datatype.value}`:""}`;case"Quad":return o=i(n(s.subject)),l=i(n(s.predicate)),f=i(n(s.object)),h=s.graph.termType==="DefaultGraph"?"":` ${n(s.graph)}`,`<<${o} ${l} ${f}${h}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(s){return s.replace(r,(o,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(o){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,o)for(const l of o)this.add(l)}get size(){let o=this._size;if(o!==null)return o;o=0;const l=this._graphs;let f,h;for(const p in l)for(const m in f=l[p].subjects)for(const y in h=f[m])o+=Object.keys(h[y]).length;return this._size=o,this._size}add(o){let l=n(o.subject),f=n(o.predicate),h=n(o.object);const p=n(o.graph);let m=this._graphs[p];m||(m=this._graphs[p]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,_=this._entities;return l=y[l]||(y[_[++this._id]=l]=this._id),f=y[f]||(y[_[++this._id]=f]=this._id),h=y[h]||(y[_[++this._id]=h]=this._id),this._addToIndex(m.subjects,l,f,h),this._addToIndex(m.predicates,f,h,l),this._addToIndex(m.objects,h,l,f),this._setQuad(l,f,h,p,o),this._size=null,this}delete(o){let l=n(o.subject),f=n(o.predicate),h=n(o.object);const p=n(o.graph),m=this._ids,y=this._graphs;let _,b,S;if(!(l=m[l])||!(f=m[f])||!(h=m[h])||!(_=y[p])||!(b=_.subjects[l])||!(S=b[f])||!(h in S))return this;this._removeFromIndex(_.subjects,l,f,h),this._removeFromIndex(_.predicates,f,h,l),this._removeFromIndex(_.objects,h,l,f),this._size!==null&&this._size--,this._deleteQuad(l,f,h,p);for(l in _.subjects)return this;return delete y[p],this}has(o){const l=n(o.subject),f=n(o.predicate),h=n(o.object),p=n(o.graph),m=this._graphs[p];if(!m)return!1;const y=this._ids;let _,b,S;return t(l)&&!(_=y[l])||t(f)&&!(b=y[f])||t(h)&&!(S=y[h])?!1:this._countInIndex(m.objects,S,_,b)===1}match(o,l,f,h){return this._createDataset(this._match(o,l,f,h))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(o,l,f,h){const p=o[l]||(o[l]={}),m=p[f]||(p[f]={}),y=h in m;return y||(m[h]=null),!y}_removeFromIndex(o,l,f,h){const p=o[l],m=p[f];delete m[h];for(const y in m)return;delete p[f];for(const y in p)return;delete o[l]}_findInIndex(o,l,f,h,p,m,y,_,b,S){let x,E,A;l&&((x=o,o={})[l]=x[l]);for(const I in o)if(E=o[I],E){f&&((x=E,E={})[f]=x[f]);for(const M in E)if(A=E[M],A){const D=h?h in A?[h]:[]:Object.keys(A);for(let j=0;j<D.length;j++){const Q={[p]:I,[m]:M,[y]:D[j]},Y=this._getQuad(Q.subject,Q.predicate,Q.object,_);if(S)S.push(Y);else if(b(Y))return!0}}}return S}_countInIndex(o,l,f,h){let p=0,m,y,_;l&&((m=o,o={})[l]=m[l]);for(const b in o)if(y=o[b],y){f&&((m=y,y={})[f]=m[f]);for(const S in y)_=y[S],_&&(h?h in _&&p++:p+=Object.keys(_).length)}return p}_getGraphs(o){return t(o)?{[o]:this._graphs[o]}:this._graphs}_match(o,l,f,h){o=o&&n(o),l=l&&n(l),f=f&&n(f),h=h&&n(h);const p=[],m=this._getGraphs(h),y=this._ids;let _,b,S,x;if(t(o)&&!(b=y[o])||t(l)&&!(S=y[l])||t(f)&&!(x=y[f]))return p;for(const E in m)_=m[E],_&&(b?x?this._findInIndex(_.objects,x,b,S,"object","subject","predicate",E,null,p):this._findInIndex(_.subjects,b,S,null,"subject","predicate","object",E,null,p):S?this._findInIndex(_.predicates,S,x,null,"predicate","object","subject",E,null,p):x?this._findInIndex(_.objects,x,null,null,"object","subject","predicate",E,null,p):this._findInIndex(_.subjects,null,null,null,"subject","predicate","object",E,null,p));return p}_getQuad(o,l,f,h){return this._quads.get(this._toId(o,l,f,h))}_setQuad(o,l,f,h,p){this._quads.set(this._toId(o,l,f,h),p)}_deleteQuad(o,l,f,h){this._quads.delete(this._toId(o,l,f,h))}_createDataset(o){return new this.constructor(o)}_toId(o,l,f,h){return`${o}:${l}:${f}:${h}`}}return AE=a,AE}var RE,ZN;function $de(){if(ZN)return RE;ZN=1;const t=yi(),e=jde();function n(r){return new e(r)}return RE=Object.assign({dataset:n},t),RE}var JN;function i8(){if(JN)return nc;JN=1;var t=nc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nc,"__esModule",{value:!0}),nc.createExtendedDatasetFactory=void 0;const e=t(r8()),n=$de();function r(){const a={dataset:s=>(0,n.dataset)(Array.isArray(s)?s:s==null?void 0:s.toArray())};return new e.default(a)}nc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return nc.default=i,nc}var iv={},YN;function a8(){if(YN)return iv;YN=1,Object.defineProperty(iv,"__esModule",{value:!0});const t=t8();async function e(n,r,i){const a=await(0,t.serializedToQuads)(r,i);return n.dataset(a)}return iv.default=e,iv}var Sp={},XN;function Ude(){if(XN)return Sp;XN=1;var t=Sp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Sp,"__esModule",{value:!0});const e=t(a8()),n=i8();async function r(i,a){const s=(0,n.createExtendedDatasetFactory)();return(0,e.default)(s,i,a)}return Sp.default=r,Sp}var e3;function Yc(){return e3||(e3=1,function(t){var e=nv.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createDatasetFactory=t.createDataset=void 0;var n=i8();Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return e(n).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=a8();Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return e(r).default}});var i=Ude();Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return e(i).default}});var a=n8();Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return e(a).default}});var s=r8();Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return e(s).default}})}(nv)),nv}var ic={},xp={},Ep={},Vo={},Tp={},Cp={},Ap={},PE={},t3;function Bde(){return t3||(t3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=yR();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return s(S)}t.subjectNodeToString=n;function r(S){return s(S)}t.predicateNodeToString=r;function i(S){return s(S)}t.objectNodeToString=i;function a(S){return s(S)}t.grpahNodeToString=a;function s(S){return(0,e.termToString)(S)}t.nodeToString=s;function o(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=o;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=l;function f(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function _(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function b(S){try{const x=JSON.parse(S);return[x.subject!=null?f(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=b}(PE)),PE}var Rp={},ac={},n3;function s8(){if(n3)return ac;n3=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.datasetToJsonLd=ac.datasetToString=void 0;const t=Qd;function e(r,i){const a=new t.Writer(i),s=[];for(const o of r)s.push(o);return a.quadsToString(s)}ac.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return ac.datasetToJsonLd=n,ac}var r3;function qde(){if(r3)return Rp;r3=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.changesToSparqlUpdate=void 0;const t=yi(),e=s8();async function n(r){let i="";if(r.removed){const a=r.removed.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Rp.changesToSparqlUpdate=n,Rp}var Pp={},i3;function zde(){if(i3)return Pp;i3=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.serializedToQuads=void 0;const t=Qd;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return Pp.serializedToQuads=e,Pp}var a3;function Hde(){return a3||(a3=1,function(t){var e=Ap.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=Ap.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Bde(),t),n(qde(),t),n(s8(),t),n(zde(),t)}(Ap)),Ap}var s3;function vR(){if(s3)return Cp;s3=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.SubscribableDataset=void 0;const t=Ud(),e=Hde(),n=Yc();let r=class extends n.ExtendedDataset{constructor(a,s,o){super(o||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=s,this.eventEmitter=new t.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const s of a)super.add(s);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(s=>{super.delete(s)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,s,o,l){const f=super.match(a,s,o,l);for(const h of f)super.delete(h);return this.triggerSubscriptionForQuads({removed:f}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const s={},o=l=>{const f=a[l];f==null||f.forEach(h=>{const p=h;[[null,null,null,null],[p.subject,null,null,null],[p.subject,p.predicate,null,null],[p.subject,null,p.object,null],[null,p.predicate,null,null],[null,p.predicate,p.object,null],[null,null,p.object,null],[p.subject,p.predicate,p.object,null],[null,null,null,p.graph],[p.subject,null,null,p.graph],[p.subject,p.predicate,null,p.graph],[p.subject,null,p.object,p.graph],[null,p.predicate,null,p.graph],[null,p.predicate,p.object,p.graph],[null,null,p.object,p.graph],[p.subject,p.predicate,p.object,p.graph]].forEach(y=>{var b;const _=(0,e.quadMatchToString)(y);this.eventEmitter.listenerCount(_)>0&&(s[_]||(s[_]={}),s[_][l]||(s[_][l]=this.datasetFactory.dataset()),(b=s[_][l])==null||b.add(h))})})};o("added"),o("removed"),Object.entries(s).forEach(([l,f])=>{this.eventEmitter.emit(l,f)})}addListener(a,s){return this.on(a,s)}emit(a,s){return this.eventEmitter.emit((0,e.quadMatchToString)(a),s)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,e.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,e.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,e.quadMatchToString)(a))}off(a,s){this.removeListener(a,s)}on(a,s){var l;const o=(0,e.quadMatchToString)(a);return this.listenerHashMap.has(s)||this.listenerHashMap.set(s,new Set),(l=this.listenerHashMap.get(s))==null||l.add(o),this.eventEmitter.on(o,s),this}once(a,s){return this.eventEmitter.once((0,e.quadMatchToString)(a),s),this}prependListener(a,s){return this.eventEmitter.prependListener((0,e.quadMatchToString)(a),s),this}prependOnceListener(a,s){return this.eventEmitter.prependOnceListener((0,e.quadMatchToString)(a),s),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,e.quadMatchToString)(a)),this}removeListener(a,s){return this.eventEmitter.removeListener((0,e.quadMatchToString)(a),s),this}removeListenerFromAllEvents(a){const s=this.listenerHashMap.get(a);return s&&s.forEach(o=>{this.eventEmitter.off(o,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,e.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Cp.SubscribableDataset=r,Cp}var o3;function o8(){if(o3)return Tp;o3=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.SubscribableDatasetFactory=void 0;const t=vR();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new t.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Tp.SubscribableDatasetFactory=e,Tp}var Op={},Lp={},Ip={},u3;function u8(){if(u3)return Ip;u3=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.mergeDatasetChanges=void 0;function t(e,n){var r,i,a,s;if(n.added){e.added?e.added.addAll(n.added):e.added=n.added;const o=(r=e.removed)==null?void 0:r.intersection(n.added);o&&o.size>0&&(e.removed=(i=e.removed)==null?void 0:i.difference(o))}if(n.removed){e.removed?e.removed.addAll(n.removed):e.removed=n.removed;const o=(a=e.added)==null?void 0:a.intersection(n.removed);o&&o.size>0&&(e.added=(s=e.added)==null?void 0:s.difference(o))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}return Ip.mergeDatasetChanges=t,Ip}var Mp={},l3;function l8(){if(l3)return Mp;l3=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.updateDatasetInBulk=void 0;function t(e,n){e.bulk?e.bulk(n):(n.added&&e.addAll(n.added),n.removed&&n.removed.forEach(r=>{e.delete(r)}))}return Mp.updateDatasetInBulk=t,Mp}var c3;function c8(){if(c3)return Lp;c3=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.TransactionDataset=void 0;const t=u8(),e=vR(),n=l8();let r=class extends e.SubscribableDataset{constructor(a,s,o){super(s,o,s.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,s,o,l){this.checkIfTransactionCommitted();const f=this.match(a,s,o,l);for(const h of f)this.delete(h);return this}match(a,s,o,l){let f=this.parentDataset.match(a,s,o,l);return this.datasetChanges.removed&&(f=f.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(f=f.union(this.datasetChanges.added.match(a,s,o,l))),f}get size(){var a,s;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((s=this.datasetChanges.removed)==null?void 0:s.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var s,o;return!((s=this.datasetChanges.removed)!=null&&s.has(a))&&(((o=this.datasetChanges.added)==null?void 0:o.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let s=a.next();const o=this.parentDataset[Symbol.iterator]();let l=o.next();return{next:()=>{if(!s||!s.done){const f=s;return s=a.next(),f}for(;!l.done;){const f=l;if(l=o.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(f.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(f.value)))return f}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,t.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,s;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(s=this.datasetChanges.removed)==null?void 0:s.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return Lp.TransactionDataset=r,Lp}var f3;function f8(){if(f3)return Op;f3=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.TransactionDatasetFactory=void 0;const t=c8();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new t.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Op.TransactionDatasetFactory=e,Op}var d3;function d8(){if(d3)return Vo;d3=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.createSubscribableDataset=Vo.createSubscribableDatasetFactory=Vo.createTransactionDatasetFactory=void 0;const t=Yc(),e=o8(),n=f8(),r={dataset:o=>(0,t.createDataset)(o)};function i(){return new n.TransactionDatasetFactory(r)}Vo.createTransactionDatasetFactory=i;function a(){return new e.SubscribableDatasetFactory(r,i())}Vo.createSubscribableDatasetFactory=a;function s(o){return a().dataset(o)}return Vo.createSubscribableDataset=s,Vo}var Dp={},h3;function Vde(){if(h3)return Dp;h3=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.createWrapperSubscribableDatasetFromSerializedInput=void 0;const t=Yc(),e=d8();async function n(r,i){const a=(0,e.createSubscribableDatasetFactory)();return(0,t.createDatasetFromSerializedInput)(a,r,i)}return Dp.createWrapperSubscribableDatasetFromSerializedInput=n,Dp}var OE={},p3;function Kde(){return p3||(p3=1,Object.defineProperty(OE,"__esModule",{value:!0})),OE}var g3;function bm(){return g3||(g3=1,function(t){var e=Ep.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,l)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),n=Ep.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializedToSubscribableDataset=void 0,n(d8(),t);var r=Vde();Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(c8(),t),n(f8(),t),n(vR(),t),n(o8(),t),n(Kde(),t),n(u8(),t),n(l8(),t)}(Ep)),Ep}var jf={},kp={},Np={},Fp={},m3;function h8(){if(m3)return Fp;m3=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.ContextUtil=void 0;const t={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let e=class{constructor(r){this.context=r,this.iriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="string"?this.iriToKeyMap[this.keyIdToIri(a)]=i:typeof a=="object"&&a["@id"]&&(this.iriToKeyMap[this.keyIdToIri(a["@id"])]=i)})}keyToIri(r){if(this.context[r]){if(typeof this.context[r]=="string")return this.keyIdToIri(this.context[r]);if(this.context[r]&&this.context[r]["@id"])return this.keyIdToIri(this.context[r]["@id"])}else return r;return r}keyIdToIri(r){return t[r]?t[r]:r}iriToKey(r){return this.iriToKeyMap[r]?this.iriToKeyMap[r]:r}getType(r){return typeof this.context[r]=="object"&&this.context[r]["@type"]?this.context[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@container"]&&this.context[r]["@container"]==="@set")}isLangString(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@type"]&&this.context[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Fp.ContextUtil=e,Fp}var jp={},y3;function p8(){if(y3)return jp;y3=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.JsonldDatasetProxyBuilder=void 0;const t=yi();let e=class NC{constructor(r){this.proxyContext=r}write(...r){return new NC(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new NC(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,t.namedNode)(r["@id"]):(0,t.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([s,o])=>{a[s]=o}),a}};return jp.JsonldDatasetProxyBuilder=e,jp}var $p={},Up={},sc={},v3;function z0(){if(v3)return sc;v3=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.nodeToJsonldRepresentation=sc.literalToJsonldRepresentation=void 0;function t(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}sc.literalToJsonldRepresentation=t;function e(n,r){if(n.termType==="Literal")return t(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return sc.nodeToJsonldRepresentation=e,sc}var oc={},uc={},Ko={},lc={},oi={},_3;function mo(){return _3||(_3=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi._writeGraphs=oi._proxyContext=oi._getUnderlyingArrayTarget=oi._getUnderlyingDataset=oi._getNodeAtIndex=oi._isSubjectOriented=oi._getUnderlyingMatch=oi._getUnderlyingNode=void 0,oi._getUnderlyingNode=Symbol("_getUnderlyingNode"),oi._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),oi._isSubjectOriented=Symbol("_isSubjectOriented"),oi._getNodeAtIndex=Symbol("_getNodeAtIndex"),oi._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),oi._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),oi._proxyContext=Symbol("_proxyContext"),oi._writeGraphs=Symbol("_writeGraphs")),oi}var w3;function _R(){if(w3)return lc;w3=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.getNodeFromRawValue=lc.getNodeFromRawObject=void 0;const t=yi(),e=mo();function n(i,a){return i[e._getUnderlyingNode]?i[e._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,t.namedNode)(a.keyToIri(i["@id"])):i["@id"]:(0,t.blankNode)()}lc.getNodeFromRawObject=n;function r(i,a,s){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const o=s.contextUtil.getType(i);return o==="@id"?(0,t.namedNode)(a.toString()):(0,t.literal)(a.toString(),o)}else return n(a,s.contextUtil)}return lc.getNodeFromRawValue=r,lc}var cc={},b3;function Zd(){if(b3)return cc;b3=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.getSubjectProxyFromObject=cc.isSubjectProxy=void 0;const t=mo();function e(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[t._writeGraphs]!="object"||typeof i[t._getUnderlyingDataset]!="object"||typeof i[t._getUnderlyingNode]!="object"||typeof i[t._proxyContext]!="object")}cc.isSubjectProxy=e;function n(r){const i=r;if(!e(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return cc.getSubjectProxyFromObject=n,cc}var fc={},S3;function H0(){if(S3)return fc;S3=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.NodeSet=fc.nodeToString=void 0;function t(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}fc.nodeToString=t;let e=class{constructor(){this.set=new Set,this.map={}}add(r){const i=t(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(t(r))}delete(r){const i=t(r);return delete this.map[i],this.set.delete(t(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return fc.NodeSet=e,fc}var ui={},x3;function Jd(){if(x3)return ui;x3=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.literalLanguageToLanguageKey=ui.languageKeyToLiteralLanguage=ui.getLanguageKeyForWriteOperation=ui.filterQuadsByLanguageOrdering=ui.quadsToLanguageQuadMap=ui.isLanguageLiteral=ui.languageDeleteMatch=ui.languageMatch=void 0;const t=Yc();function e(f,h,p,m){const y=o(m);return f.match(h,p).filter(_=>r(_.object)&&_.object.language===y)}ui.languageMatch=e;function n(f,h,p,m){e(f,h,p,m).forEach(_=>{f.delete(_)})}ui.languageDeleteMatch=n;function r(f){return f.termType==="Literal"&&(f.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||f.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}ui.isLanguageLiteral=r;function i(f){const h={};return f.forEach(p=>{const m=p.object;if(r(m)){const y=l(m.language);h[y]||(h[y]=(0,t.createDataset)()),h[y].add(p)}}),h}ui.quadsToLanguageQuadMap=i;function a(f,h){const p=i(f),m=new Set(h),y=new Set(Object.keys(p));for(const _ of h){if(y.has(_))return p[_];if(_==="@other"){for(const b of y)if(!m.has(b))return p[b]}}return(0,t.createDataset)()}ui.filterQuadsByLanguageOrdering=a;function s(f){return f.find(h=>h!=="@other")}ui.getLanguageKeyForWriteOperation=s;function o(f){return f==="@none"?"":f}ui.languageKeyToLiteralLanguage=o;function l(f){return f===""?"@none":f}return ui.literalLanguageToLanguageKey=l,ui}var E3;function wR(){if(E3)return Ko;E3=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.addObjectToDataset=Ko.addRawObjectToDatasetRecursive=Ko.addRawValueToDatasetRecursive=void 0;const t=yi(),e=_R(),n=Zd(),r=H0(),i=Jd();function a(l,f,h,p,m,y){const{dataset:_,contextUtil:b}=y,S=(0,t.namedNode)(b.keyToIri(f)),x=(0,e.getNodeFromRawValue)(f,h,y);if(x==null)_.deleteMatches(l,S);else if(x.termType==="Literal"){let E=x;if(b.isLangString(f)){const A=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!A)return;E=(0,t.literal)(x.value,(0,i.languageKeyToLiteralLanguage)(A))}y.writeGraphs.forEach(A=>{y.dataset.add((0,t.quad)(l,S,E,A))})}else if(y.writeGraphs.forEach(E=>{_.add((0,t.quad)(l,S,x,E))}),!(0,n.isSubjectProxy)(h)){const E=typeof h=="object"?{...h,"@id":x}:{"@id":x};s(E,p,m,y)}}Ko.addRawValueToDatasetRecursive=a;function s(l,f,h,p){if((0,n.isSubjectProxy)(l))return l;const{dataset:m}=p,y=(0,e.getNodeFromRawObject)(l,p.contextUtil);return f.has(y)||(f.add(y),Object.entries(l).forEach(([_,b])=>{if(_==="@id")return;const S=(0,t.namedNode)(p.contextUtil.keyToIri(_));if(h)if(p.contextUtil.isLangString(_)){const x=(0,i.getLanguageKeyForWriteOperation)(p.languageOrdering);x&&(0,i.languageDeleteMatch)(m,y,S,x)}else m.deleteMatches(y,S);Array.isArray(b)?b.forEach(x=>{a(y,_,x,f,!0,p)}):a(y,_,b,f,!0,p)})),p.createSubjectProxy(y)}Ko.addRawObjectToDatasetRecursive=s;function o(l,f,h){return s(l,new r.NodeSet,f,h)}return Ko.addObjectToDataset=o,Ko}var T3;function bR(){if(T3)return uc;T3=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.modifyArray=uc.checkArrayModification=void 0;const t=yi(),e=bm(),n=Yc(),r=wR(),i=_R(),a=H0();function s(l,f,h){if(l[2])for(const p of f){if(p===void 0)return;if(typeof p!="object")throw new Error(`Cannot add a literal "${p}"(${typeof p}) to a subject-oriented collection.`);const m=new e.TransactionDataset(h.dataset,(0,n.createDatasetFactory)(),(0,e.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(p,!1,h.duplicate({writeGraphs:[(0,t.defaultGraph)()]})),!(m.match((0,i.getNodeFromRawObject)(p,h.contextUtil),l[0][1],l[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(l[0][0])}, ${(0,a.nodeToString)(l[0][1])}, ${(0,a.nodeToString)(l[0][2])}, ${(0,a.nodeToString)(l[0][3])})`)}else if(!l[0][0]||!l[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}uc.checkArrayModification=s;function o(l,f){const{target:h,toAdd:p,quadsToDelete:m,modifyCoreArray:y,key:_}=l,{dataset:b,contextUtil:S}=f;if(s(h,p||[],f),m){const A=b.match(...h[0]).toArray();m(A).forEach(M=>{h[2]?b.deleteMatches(M.subject,void 0,void 0):b.delete(M)})}const x=p==null?void 0:p.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,f):A).filter(A=>A!=null);!h[2]&&h[0][0]&&h[0][1]&&x&&(0,r.addObjectToDataset)({"@id":h[0][0],[S.iriToKey(h[0][1].value)]:x},!1,f);const E=x?x.map(A=>(0,i.getNodeFromRawValue)(_,A,f)).filter(A=>A!=null):[];return y(h[1],E)}return uc.modifyArray=o,uc}var C3;function g8(){if(C3)return oc;C3=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.arrayMethodsBuilders=oc.methodNames=void 0;const t=z0(),e=bR();return oc.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),oc.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,s,o)=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:l=>{const f=[...l],h=new Set(l.copyWithin(a,s,o));return f.filter(p=>!h.has(p))},modifyCoreArray:l=>(l.copyWithin(a,s,o),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,s,o)=>(0,e.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:l=>l.slice(s,o),modifyCoreArray:(l,f)=>(l.fill(f[0],s,o),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const s=a.pop();return s?(0,t.nodeToJsonldRepresentation)(s,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(s,o)=>(s.push(...o),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const s=a.shift();return s?(0,t.nodeToJsonldRepresentation)(s,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((s,o)=>a((0,t.nodeToJsonldRepresentation)(s,i),(0,t.nodeToJsonldRepresentation)(o,i))):n&&n[1].sort((s,o)=>{const l=(0,t.nodeToJsonldRepresentation)(s,i),f=(0,t.nodeToJsonldRepresentation)(o,i);return l>f?1:f>l?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,s,...o)=>(0,e.modifyArray)({target:n,key:r,toAdd:o,quadsToDelete:l=>l.splice(a,s),modifyCoreArray:(l,f)=>l.splice(a,s||0,...f).map(p=>(0,t.nodeToJsonldRepresentation)(p,i))},i),unshift:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(s,o)=>(s.unshift(...o),i.createArrayProxy(n[0],n[2]).length)},i)},oc}var A3;function m8(){if(A3)return Up;A3=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.createArrayHandler=void 0;const t=yi(),e=z0(),n=g8(),r=mo(),i=bR(),a=H0(),s=Jd();function o(h,p){let m=p.dataset.match(...h[0]);h[3]&&(m=(0,s.filterQuadsByLanguageOrdering)(m,p.languageOrdering));const y=new a.NodeSet;m.toArray().forEach(b=>{h[2]?y.add(b.subject):y.add(b.object)});const _=[];h[1].forEach(b=>{y.has(b)&&(_.push(b),y.delete(b))}),y.toArray().forEach(b=>{_.push(b)}),h[1]=_}function l(h,p){return h[1].map(m=>(0,e.nodeToJsonldRepresentation)(m,p))}function f(h){return{get(p,m,...y){switch(m){case r._getUnderlyingDataset:return h.dataset;case r._getUnderlyingMatch:return p[0];case r._isSubjectOriented:return p[2];case r._getUnderlyingArrayTarget:return p;case r._proxyContext:return h;case r._getNodeAtIndex:return b=>(o(p,h),p[1][b])}o(p,h);const _=l(p,h);return n.methodNames.has(m)?n.arrayMethodsBuilders[m](p,m,h):Reflect.get(_,m,...y)},getOwnPropertyDescriptor(p,m,...y){o(p,h);const _=l(p,h);return Reflect.getOwnPropertyDescriptor(_,m,...y)},ownKeys(p,...m){o(p,h);const y=l(p,h);return Reflect.ownKeys(y,...m)},getPrototypeOf(p,...m){o(p,h);const y=l(p,h);return Reflect.getPrototypeOf(y,...m)},has(p,...m){o(p,h);const y=l(p,h);return Reflect.has(y,...m)},set(p,m,y,..._){if(m===r._proxyContext)return h=y,!0;if(o(p,h),typeof m!="symbol"&&!isNaN(parseInt(m))){const b=parseInt(m);return(0,i.modifyArray)({target:p,key:m,toAdd:[y],quadsToDelete(S){return S[b]?[S[b]]:[]},modifyCoreArray(S,x){return S[b]=x[0],!0}},h)}return Reflect.set(p[1],m,..._)},deleteProperty(p,m){const{dataset:y}=h;if(typeof m!="symbol"&&!isNaN(parseInt(m))){const _=y.match(...p[0]).toArray()[parseInt(m)];if(!_)return!0;const b=p[2]?_.subject:_.object;if(b.termType==="Literal"){const S=p[0][0],x=p[0][1];return S&&x&&y.delete((0,t.quad)(S,x,b)),!0}else if(b.termType==="NamedNode"||b.termType==="BlankNode")return y.deleteMatches(b,void 0,void 0),y.deleteMatches(void 0,void 0,b),!0}return!0}}}return Up.createArrayHandler=f,Up}var Bp={},qp={},R3;function y8(){if(R3)return qp;R3=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.deleteValueFromDataset=void 0;const t=yi();function e(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const s=n["@id"],o=(0,t.namedNode)(i.contextUtil.keyToIri(r));if(r==="@id")a.push(n["@id"]);else{const l=i.dataset.match(s,o);if(l.size===0)return!0;a.push(...l.toArray().map(f=>f.object))}return a.forEach(l=>{if(l.termType==="Literal")return i.dataset.delete((0,t.quad)(s,o,l)),!0;if(l.termType==="NamedNode")return i.dataset.deleteMatches(l,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,l),!0}),!0}return qp.deleteValueFromDataset=e,qp}var zp={},P3;function v8(){if(P3)return zp;P3=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.getValueForKey=void 0;const t=yi(),e=z0(),n=Jd();function r(i,a,s){const{contextUtil:o,dataset:l}=s;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:o.iriToKey(i["@id"].value);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const f=i["@id"],h=(0,t.namedNode)(o.keyToIri(a));if(o.isArray(a))return s.createArrayProxy([f,h,null,null],!1,void 0,o.isLangString(a));let p=l.match(f,h);if(o.isLangString(a)&&(p=(0,n.filterQuadsByLanguageOrdering)(p,s.languageOrdering)),p.size!==0)return p.size===1?(0,e.nodeToJsonldRepresentation)(p.toArray()[0].object,s):s.createArrayProxy([f,h,null,null])}return zp.getValueForKey=r,zp}var O3;function _8(){if(O3)return Bp;O3=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.createSubjectHandler=void 0;const t=yi(),e=wR(),n=y8(),r=mo(),i=v8();function a(s){let o=s;return{get(l,f){switch(f){case r._getUnderlyingDataset:return o.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return o;case r._writeGraphs:return o.writeGraphs;case"@context":return o.contextUtil.context}return(0,i.getValueForKey)(l,f,o)},getOwnPropertyDescriptor(l,f){return{value:(0,i.getValueForKey)(l,f,o),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const f=l["@id"],h=o.dataset.match(f),p=new Set(["@id"]);return h.toArray().forEach(m=>{p.add(o.contextUtil.iriToKey(m.predicate.value))}),Array.from(p)},set:(l,f,h)=>{if(f===r._proxyContext)return o=h,!0;if(f==="@id"&&typeof h=="string"){const p=o.dataset.match(l["@id"]).toArray(),m=p.map(b=>(0,t.quad)((0,t.namedNode)(h),b.predicate,b.object,b.graph));p.forEach(b=>o.dataset.delete(b)),o.dataset.addAll(m);const y=o.dataset.match(void 0,void 0,l["@id"]).toArray(),_=y.map(b=>(0,t.quad)(b.subject,b.predicate,(0,t.namedNode)(h),b.graph));y.forEach(b=>o.dataset.delete(b)),o.dataset.addAll(_),l["@id"]=(0,t.namedNode)(h)}return(0,e.addObjectToDataset)({"@id":l["@id"],[f]:h},!0,o),!0},deleteProperty(l,f){return(0,n.deleteValueFromDataset)(l,f,o)}}}return Bp.createSubjectHandler=a,Bp}var L3;function b8(){if(L3)return $p;L3=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.ProxyContext=void 0;const t=m8(),e=_8(),n=mo();let r=class w8{constructor(a){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=a.dataset,this.contextUtil=a.contextUtil,this.writeGraphs=a.writeGraphs,this.languageOrdering=a.languageOrdering,this.state=a.state||{},a.prefilledArrayTargets&&a.prefilledArrayTargets.forEach(s=>{this.createArrayProxy(s[0],s[2],s)})}createSubjectProxy(a){if(!this.subjectMap.has(a.value)){const s=new Proxy({"@id":a},this.createSubjectHandler());this.subjectMap.set(a.value,s)}return this.subjectMap.get(a.value)}createSubjectHandler(){return(0,e.createSubjectHandler)(this)}getArrayKey(...a){var s,o,l,f;return`${((s=a[0])==null?void 0:s.value)||"undefined"}|${((o=a[1])==null?void 0:o.value)||"undefined"}|${((l=a[2])==null?void 0:l.value)||"undefined"}|${((f=a[3])==null?void 0:f.value)||"undefined"}`}createArrayProxy(a,s=!1,o,l){const f=this.getArrayKey(...a);if(!this.arrayMap.has(f)){const h=new Proxy(o||[a,[],s,l],this.createArrayHandler());this.arrayMap.set(f,h)}return this.arrayMap.get(f)}createArrayHandler(){return(0,t.createArrayHandler)(this)}duplicate(a){const s=[];this.arrayMap.forEach(l=>{s.push(l[n._getUnderlyingArrayTarget])});const o={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:s,...a};return new w8(o)}};return $p.ProxyContext=r,$p}var I3;function M3(){if(I3)return Np;I3=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.jsonldDatasetProxy=void 0;const t=yi(),e=h8(),n=p8(),r=b8();function i(a,s){const o=new e.ContextUtil(s),l=new r.ProxyContext({dataset:a,contextUtil:o,writeGraphs:[(0,t.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return Np.jsonldDatasetProxy=i,Np}var Hp={},Vp={},dc={},Kp={},D3;function S8(){if(D3)return Kp;D3=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.isArrayProxy=void 0;const t=mo();function e(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[t._getUnderlyingDataset]!="object"||typeof r[t._getUnderlyingMatch]!="object"||typeof r[t._getNodeAtIndex]!="function"||typeof r[t._getUnderlyingArrayTarget]!="object")}return Kp.isArrayProxy=e,Kp}var k3;function x8(){if(k3)return dc;k3=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.getProxyFromObject=dc.isProxy=void 0;const t=S8(),e=Zd();function n(i){return(0,e.isSubjectProxy)(i)||(0,t.isArrayProxy)(i)}dc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return dc.getProxyFromObject=r,dc}var N3;function SR(){if(N3)return Vp;N3=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.createInteractOptions=void 0;const t=Zd(),e=mo(),n=x8();function r(i,a){return{using(...s){const o=[];return s.forEach(l=>{const f=(0,n.getProxyFromObject)(l),h=f[e._proxyContext];f[e._proxyContext]=f[e._proxyContext].duplicate({[i]:a}),o.push(()=>{f[e._proxyContext]=h})}),function(){o.forEach(f=>f())}},usingCopy(...s){return s.map(o=>{const l=(0,t.getSubjectProxyFromObject)(o);return l[e._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[e._getUnderlyingNode])})}}}return Vp.createInteractOptions=r,Vp}var F3;function Gde(){if(F3)return Hp;F3=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.write=void 0;const t=SR();function e(...n){return(0,t.createInteractOptions)("writeGraphs",n)}return Hp.write=e,Hp}var Gp={},j3;function Wde(){if(j3)return Gp;j3=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.graphOf=void 0;const t=yi(),e=Zd(),n=mo();function r(i,a,s){const o=(0,e.getSubjectProxyFromObject)(i),l=o[n._proxyContext],f=o[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(a));let p;if(s==null)p=null;else if(typeof s=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[s])throw new Error(`Index ${s} does not exist.`);(0,e.isSubjectProxy)(y[s])&&(p=y[s][1]),p=y[n._getNodeAtIndex](s)}else p=(0,e.getSubjectProxyFromObject)(s)[n._getUnderlyingNode];return o[n._getUnderlyingDataset].match(f,h,p).toArray().map(y=>y.graph)}return Gp.graphOf=r,Gp}var Wp={},$3;function Qde(){if($3)return Wp;$3=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.setLanguagePreferences=void 0;const t=SR();function e(...n){return(0,t.createInteractOptions)("languageOrdering",n)}return Wp.setLanguagePreferences=e,Wp}var Qp={},$f={},av={},U3;function E8(){if(U3)return av;U3=1;var t;Object.defineProperty(av,"__esModule",{value:!0});const e=yi(),n=Jd();class r{constructor(a,s,o,l){this[t]="LanguageSet",this.subject=a,this.predicate=s,this.languageKey=o,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,e.literal)(a):(0,e.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(s=>{this.proxyContext.dataset.add((0,e.quad)(this.subject,this.predicate,(0,e.literal)(a,this.languageKey),s))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const s=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),s}forEach(a,s){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,s||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const s of a)yield[s.object.value,s.object.value]}*keys(){const a=this.matchThis();for(const s of a)yield s.object.value}*values(){const a=this.matchThis();for(const s of a)yield s.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const s of a)yield s.object.value}}return av.default=r,t=Symbol.toStringTag,av}var B3;function T8(){if(B3)return $f;B3=1;var t=$f.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($f,"__esModule",{value:!0}),$f.createLanguageMapProxy=void 0;const e=yi(),n=Jd(),r=t(E8());function i(a,s,o,l){const f={},h=p=>{Object.keys(p).forEach(_=>delete p[_]);const m=o.dataset.match(a,s),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([_,b])=>{const S=b.toArray().map(x=>x.object.value);l?p[_]=new Set(S):p[_]=S[0]})};return h(f),new Proxy(f,{get:(p,m)=>(h(p),typeof m!="string"?Reflect.get(p,m):l?new r.default(a,s,m,o):Reflect.get(p,m)),set:(p,m,y)=>{const _=(0,n.languageKeyToLiteralLanguage)(m);return l||(0,n.languageDeleteMatch)(o.dataset,a,s,_),o.writeGraphs.forEach(b=>{o.dataset.add((0,e.quad)(a,s,(0,e.literal)(y,_),b))}),Reflect.set(p,m,y)},deleteProperty:(p,m)=>((0,n.languageDeleteMatch)(o.dataset,a,s,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(p,m))})}return $f.createLanguageMapProxy=i,$f}var q3;function Zde(){if(q3)return Qp;q3=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.languagesOf=void 0;const t=yi(),e=Zd(),n=mo(),r=T8();function i(a,s){const o=(0,e.getSubjectProxyFromObject)(a),l=o[n._proxyContext],f=o[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(s));return(0,r.createLanguageMapProxy)(f,h,l,l.contextUtil.isArray(s))}return Qp.languagesOf=i,Qp}var LE={},z3;function Jde(){return z3||(z3=1,Object.defineProperty(LE,"__esModule",{value:!0})),LE}var IE={},H3;function Yde(){return H3||(H3=1,Object.defineProperty(IE,"__esModule",{value:!0})),IE}var ME={},V3;function Xde(){return V3||(V3=1,Object.defineProperty(ME,"__esModule",{value:!0})),ME}var DE={},K3;function ehe(){return K3||(K3=1,Object.defineProperty(DE,"__esModule",{value:!0})),DE}var G3;function Ug(){return G3||(G3=1,function(t){var e=kp.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,l)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),n=kp.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0});const r=M3();t.default=r.jsonldDatasetProxy,n(mo(),t),n(h8(),t),n(b8(),t),n(p8(),t),n(M3(),t),n(Gde(),t),n(Wde(),t),n(Qde(),t),n(Zde(),t),n(T8(),t),n(E8(),t),n(Jde(),t),n(Jd(),t),n(m8(),t),n(g8(),t),n(Yde(),t),n(bR(),t),n(S8(),t),n(_8(),t),n(Xde(),t),n(v8(),t),n(y8(),t),n(Zd(),t),n(wR(),t),n(z0(),t),n(ehe(),t),n(_R(),t),n(H0(),t),n(x8(),t),n(SR(),t)}(kp)),kp}var Zp={},Ma={},W3;function C8(){if(W3)return Ma;W3=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.getTransactionalDatasetFromLdo=Ma.isTransactionalDataset=Ma.canDatasetStartTransaction=Ma.normalizeNodeNames=Ma.normalizeNodeName=void 0;const t=yi(),e=Ug();function n(o){return typeof o=="string"?(0,t.namedNode)(o):o}Ma.normalizeNodeName=n;function r(o){return o.map(l=>n(l))}Ma.normalizeNodeNames=r;function i(o){return typeof o.startTransaction=="function"}Ma.canDatasetStartTransaction=i;function a(o){return typeof o.commit=="function"}Ma.isTransactionalDataset=a;function s(o){const l=(0,e.getProxyFromObject)(o),f=l[e._getUnderlyingDataset];if(!a(f)||!l[e._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[f,l]}return Ma.getTransactionalDatasetFromLdo=s,Ma}var Q3;function xR(){if(Q3)return Zp;Q3=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.LdoBuilder=void 0;const t=C8();let e=class FC{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,t.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new FC(this.jsonldDatasetProxyBuilder.write(...(0,t.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new FC(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return Zp.LdoBuilder=e,Zp}var Uf={},Z3;function A8(){if(Z3)return Uf;Z3=1;var t=Uf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.LdoTransactionDataset=void 0;const e=bm(),n=xR(),r=t(Ug());let i=class extends e.TransactionDataset{usingType(s){const o=(0,r.default)(this,s.context);return new n.LdoBuilder(o,s)}};return Uf.LdoTransactionDataset=i,Uf}var J3;function R8(){if(J3)return jf;J3=1;var t=jf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(jf,"__esModule",{value:!0}),jf.LdoDataset=void 0;const e=t(Ug()),n=bm(),r=xR(),i=A8();let a=class extends n.SubscribableDataset{usingType(o){const l=(0,e.default)(this,o.context);return new r.LdoBuilder(l,o)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return jf.LdoDataset=a,jf}var Y3;function the(){if(Y3)return xp;Y3=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.LdoDatasetFactory=void 0;const t=bm(),e=R8();let n=class extends t.SubscribableDatasetFactory{dataset(i){return new e.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return xp.LdoDatasetFactory=n,xp}var X3;function P8(){if(X3)return ic;X3=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.createLdoDataset=ic.createLdoDatasetFactory=void 0;const t=Yc(),e=the(),n=bm();function r(){const a={dataset:s=>(0,t.createDataset)(s)};return new e.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}ic.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return ic.createLdoDataset=i,ic}var eF;function nhe(){if(eF)return lp;eF=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.parseRdf=void 0;const t=Yc(),e=P8();async function n(r,i){const a=(0,e.createLdoDatasetFactory)();return typeof r=="string"?await(0,t.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,e.createLdoDataset)(r):await(0,t.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/json-ld"})}return lp.parseRdf=n,lp}var kE={},tF;function rhe(){return tF||(tF=1,Object.defineProperty(kE,"__esModule",{value:!0})),kE}var ir={},Jp={},NE={},nF;function ihe(){return nF||(nF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=yR();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return s(S)}t.subjectNodeToString=n;function r(S){return s(S)}t.predicateNodeToString=r;function i(S){return s(S)}t.objectNodeToString=i;function a(S){return s(S)}t.grpahNodeToString=a;function s(S){return(0,e.termToString)(S)}t.nodeToString=s;function o(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=o;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=l;function f(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function _(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function b(S){try{const x=JSON.parse(S);return[x.subject!=null?f(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=b}(NE)),NE}var Yp={},hc={},rF;function O8(){if(rF)return hc;rF=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.datasetToJsonLd=hc.datasetToString=void 0;const t=Qd;function e(r,i){const a=new t.Writer(i),s=[];for(const o of r)s.push(o);return a.quadsToString(s)}hc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return hc.datasetToJsonLd=n,hc}var iF;function ahe(){if(iF)return Yp;iF=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.changesToSparqlUpdate=void 0;const t=yi(),e=O8();async function n(r){let i="";if(r.removed){const a=r.removed.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Yp.changesToSparqlUpdate=n,Yp}var Xp={},aF;function she(){if(aF)return Xp;aF=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.serializedToQuads=void 0;const t=Qd;async function e(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return Xp.serializedToQuads=e,Xp}var sF;function L8(){return sF||(sF=1,function(t){var e=Jp.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=Jp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(ihe(),t),n(ahe(),t),n(O8(),t),n(she(),t)}(Jp)),Jp}var oF;function ohe(){if(oF)return ir;oF=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.toNTriples=ir.toJsonLd=ir.toTurtle=ir.serialize=ir.toSparqlUpdate=ir.getDataset=ir.transactionChanges=ir.commitTransaction=ir.startTransaction=ir.write=ir.setLanguagePreferences=ir.languagesOf=ir.graphOf=void 0;const t=Ug(),e=L8(),n=C8(),r=Ug();ir.graphOf=r.graphOf,ir.languagesOf=r.languagesOf,ir.setLanguagePreferences=r.setLanguagePreferences;function i(..._){return(0,t.write)(...(0,n.normalizeNodeNames)(_))}ir.write=i;function a(_){const b=(0,t.getProxyFromObject)(_),S=b[t._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(S))throw new Error("Object is not transactable.");b[t._proxyContext]=b[t._proxyContext].duplicate({dataset:S.startTransaction(),state:{parentDataset:S}})}ir.startTransaction=a;function s(_){const[b,S]=(0,n.getTransactionalDatasetFromLdo)(_);b.commit(),S[t._proxyContext]=S[t._proxyContext].duplicate({dataset:S[t._proxyContext].state.parentDataset})}ir.commitTransaction=s;function o(_){const[b]=(0,n.getTransactionalDatasetFromLdo)(_);return b.getChanges()}ir.transactionChanges=o;function l(_){return(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset]}ir.getDataset=l;async function f(_){const[b]=(0,n.getTransactionalDatasetFromLdo)(_),S=b.getChanges();return(0,e.changesToSparqlUpdate)(S)}ir.toSparqlUpdate=f;async function h(_,b){const S=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(S,b)}ir.serialize=h;async function p(_){const b=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(b,{})}ir.toTurtle=p;async function m(_){throw new Error("Not Implemented")}ir.toJsonLd=m;async function y(_){const b=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(b,{format:"N-Triples"})}return ir.toNTriples=y,ir}var uF;function uhe(){return uF||(uF=1,function(t){var e=up.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=up.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(nhe(),t),n(rhe(),t),n(ohe(),t),n(R8(),t),n(A8(),t),n(xR(),t),n(P8(),t)}(up)),up}var Zn=uhe();const al={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},Cl={Accommodation:al.hospex+"Accommodation",PersonalHospexDocument:al.hospex+"PersonalHospexDocument",offers:al.hospex+"offers",offeredBy:al.hospex+"offeredBy",storage:al.hospex+"storage"},yg={...Object.fromEntries(Object.entries(ZM).map(([t,e])=>[t,JM(e)])),subject:JM(ZM.object.replace("object","subject"))},sl={participation:al.wf+"participation",participant:al.wf+"participant",...Kle},lhe={LongChat:al.meeting+"LongChat",...Vle},I8=[{type:"match",subject:"?community",predicate:Cd.has_usergroup,pick:"object",target:"?group"}],M8=[...I8,{type:"match",subject:"?group",predicate:lB.hasMember,pick:"object",target:"?person"}],V0={type:"match",subject:"?person",predicate:ml.inbox,pick:"object",target:"?inbox"},Yd=[{type:"match",subject:"?person",predicate:JA.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],D8=[...Yd,{type:"match",subject:"?person",predicate:Hn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],k8=[...D8,{type:"match",subject:"?person",predicate:mm.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Hn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},V0],N8=[{type:"match",subject:"?publicTypeIndex",predicate:O0.references,pick:"object",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Hn.forClass,object:Cl.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:Hn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:Cd.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],F8=[...D8,...N8],che=[...k8,...N8,{type:"match",subject:"?person",predicate:mm.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},V0,{type:"match",subject:"?person",predicate:Cd.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:Cd.name,pick:"object",target:"?communityName"}],j8=[...F8,{type:"match",subject:"?person",predicate:Cl.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],fhe=[...M8,...j8],dhe=[{type:"match",subject:"?offer",predicate:Cl.offeredBy,pick:"object",target:"?person"}],hhe=[...Yd,{type:"match",subject:"?person",predicate:bl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:JA.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],phe=[...Yd,V0,{type:"match",subject:"?inbox",predicate:ml.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:gm.type,object:yg.Invite,pick:"subject",target:"?inviteNotification"}],ghe=[...Yd,V0,{type:"match",subject:"?inbox",predicate:ml.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:gm.type,object:yg.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:yg.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:yg.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:yg.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],$8=[...Yd,{type:"match",subject:"?person",predicate:mm.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Hn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",subject:"?privateTypeIndex",predicate:O0.references,pick:"object",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Hn.forClass,object:lhe.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:Hn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:sl.participation,pick:"object",target:"?participation"}],mhe=[...$8,{type:"match",subject:"?participation",predicate:O0.references,pick:"object",target:"?otherChat"}],yhe=[...$8,{type:"match",subject:"?participation",predicate:sl.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:sl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:sl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:sl.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:sl.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:O0.references,pick:"object",target:"?otherChat"}],U8=[{type:"match",subject:"?chatContainer",predicate:ml.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:ml.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:ml.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:ml.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:sl.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:sl.message,pick:"object",target:"?message"}],J_=t=>t.termType==="NamedNode"?new Hr(ri(t.value)):void 0,vhe=[...yhe,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:J_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:J_},...U8],_he=[...mhe,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:J_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:J_},...U8],whe=(t,e)=>{const{variables:n}=wa(ae.useMemo(()=>({query:M8,variables:{community:[e]},fetch:yr}),[e]));return(n.person??[]).includes(t)},gu=t=>{const{store:e,variables:n,isLoading:r}=wa({query:I8,variables:ae.useMemo(()=>({community:[t]}),[t]),fetch:yr}),i=ae.useMemo(()=>Zn.createLdoDataset(e.getQuads(null,null,null,null)).usingType($ce).fromSubject(t),[t,e,n]),a=ae.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"name"),f=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]),s=ae.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"note"),f=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]),o=ae.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"about"),f=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]);return ae.useMemo(()=>{var l;return{community:t,logo:((l=i.logo)==null?void 0:l.map(({"@id":f})=>f))??[],name:a,about:o,pun:s,groups:n.group??[],isLoading:r}},[o,i.logo,t,r,a,s,n.group])},bhe="_header_17l15_1",She="_logoContainer_17l15_7",xhe="_logo_17l15_7",Ehe="_spacer_17l15_16",sv={header:bhe,logoContainer:She,logo:xhe,spacer:Ehe},The=()=>{const t=Vd(),e=async()=>{await qZ(),t(PA.signout())};return de.jsx("button",{onClick:e,children:"sign out"})},mu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},Resource:"http://www.w3.org/ns/ldp#Resource"},yu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/TypeRegistration",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/TypeRegistration",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},B8={schema:yu,shape:"https://example.com/SolidProfile",context:mu},Che={schema:yu,shape:"https://example.com/FoafProfile",context:mu},K0={schema:yu,shape:"https://example.com/HospexProfile",context:mu},G0={schema:yu,shape:"https://example.com/Accommodation",context:mu},q8={schema:yu,shape:"https://example.com/PublicTypeIndex",context:mu},z8={schema:yu,shape:"https://example.com/PrivateTypeIndex",context:mu},Ad={schema:yu,shape:"https://example.com/ChatShape",context:mu},H8={schema:yu,shape:"https://example.com/MessageActivity",context:mu},V8={schema:yu,shape:"https://example.com/ContactInvitationActivity",context:mu};var lF=L8();const Ahe=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}},cF=t=>JSON.parse(JSON.stringify(t,Ahe()));async function jC(t){const e=Zn.transactionChanges(t),n=[`_:mutate a <${Hn.InsertDeletePatch}>`];if(e.added){const i=await lF.datasetToString(e.added,{format:"N3"});n.push(`<${Hn.inserts}> { ${i} }`)}if(e.removed){const i=await lF.datasetToString(e.removed,{format:"N3"});n.push(`<${Hn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}var FE,fF;function K8(){if(fF)return FE;fF=1;var t=B0(),e=ym();function n(r,i,a){(a!==void 0&&!e(r[i],a)||a===void 0&&!(i in r))&&t(r,i,a)}return FE=n,FE}var vg={exports:{}};vg.exports;var dF;function G8(){return dF||(dF=1,function(t,e){var n=Fs(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(f,h){if(h)return f.slice();var p=f.length,m=o?o(p):new f.constructor(p);return f.copy(m),m}t.exports=l}(vg,vg.exports)),vg.exports}var jE,hF;function ER(){if(hF)return jE;hF=1;var t=kB();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return jE=e,jE}var $E,pF;function W8(){if(pF)return $E;pF=1;var t=ER();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return $E=e,$E}var UE,gF;function Q8(){if(gF)return UE;gF=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return UE=t,UE}var BE,mF;function Rhe(){if(mF)return BE;mF=1;var t=js(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return BE=n,BE}var qE,yF;function TR(){if(yF)return qE;yF=1;var t=$B(),e=t(Object.getPrototypeOf,Object);return qE=e,qE}var zE,vF;function Z8(){if(vF)return zE;vF=1;var t=Rhe(),e=TR(),n=cR();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return zE=r,zE}var HE,_F;function Phe(){if(_F)return HE;_F=1;var t=$0(),e=pu();function n(r){return e(r)&&t(r)}return HE=n,HE}var VE,wF;function J8(){if(wF)return VE;wF=1;var t=Wd(),e=TR(),n=pu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=o.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==l}return VE=f,VE}var KE,bF;function Y8(){if(bF)return KE;bF=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return KE=t,KE}var GE,SF;function X8(){if(SF)return GE;SF=1;var t=B0(),e=ym(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return GE=i,GE}var WE,xF;function Xd(){if(xF)return WE;xF=1;var t=X8(),e=B0();function n(r,i,a,s){var o=!a;a||(a={});for(var l=-1,f=i.length;++l<f;){var h=i[l],p=s?s(a[h],r[h],h,a,r):void 0;p===void 0&&(p=r[h]),o?e(a,h,p):t(a,h,p)}return a}return WE=n,WE}var QE,EF;function Ohe(){if(EF)return QE;EF=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return QE=t,QE}var ZE,TF;function Lhe(){if(TF)return ZE;TF=1;var t=js(),e=cR(),n=Ohe(),r=Object.prototype,i=r.hasOwnProperty;function a(s){if(!t(s))return n(s);var o=e(s),l=[];for(var f in s)f=="constructor"&&(o||!i.call(s,f))||l.push(f);return l}return ZE=a,ZE}var JE,CF;function Sm(){if(CF)return JE;CF=1;var t=jB(),e=Lhe(),n=$0();function r(i){return n(i)?t(i,!0):e(i)}return JE=r,JE}var YE,AF;function Ihe(){if(AF)return YE;AF=1;var t=Xd(),e=Sm();function n(r){return t(r,e(r))}return YE=n,YE}var XE,RF;function Mhe(){if(RF)return XE;RF=1;var t=K8(),e=G8(),n=W8(),r=Q8(),i=Z8(),a=F0(),s=$s(),o=Phe(),l=j0(),f=eR(),h=js(),p=J8(),m=lR(),y=Y8(),_=Ihe();function b(S,x,E,A,I,M,D){var j=y(S,E),Q=y(x,E),Y=D.get(Q);if(Y){t(S,E,Y);return}var q=M?M(j,Q,E+"",S,x,D):void 0,Z=q===void 0;if(Z){var fe=s(Q),te=!fe&&l(Q),oe=!fe&&!te&&m(Q);q=Q,fe||te||oe?s(j)?q=j:o(j)?q=r(j):te?(Z=!1,q=e(Q,!0)):oe?(Z=!1,q=n(Q,!0)):q=[]:p(Q)||a(Q)?(q=j,a(j)?q=_(j):(!h(j)||f(j))&&(q=i(Q))):Z=!1}Z&&(D.set(Q,q),I(q,Q,A,M,D),D.delete(Q)),t(S,E,q)}return XE=b,XE}var eT,PF;function Dhe(){if(PF)return eT;PF=1;var t=N0(),e=K8(),n=zB(),r=Mhe(),i=js(),a=Sm(),s=Y8();function o(l,f,h,p,m){l!==f&&n(f,function(y,_){if(m||(m=new t),i(y))r(l,f,_,h,o,p,m);else{var b=p?p(s(l,_),y,_+"",l,f,m):void 0;b===void 0&&(b=y),e(l,_,b)}},a)}return eT=o,eT}var tT,OF;function khe(){if(OF)return tT;OF=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return tT=t,tT}var nT,LF;function eq(){if(LF)return nT;LF=1;var t=khe(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),f=Array(l);++o<l;)f[o]=s[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=s[o];return h[i]=a(f),t(r,this,h)}}return nT=n,nT}var rT,IF;function Nhe(){if(IF)return rT;IF=1;function t(e){return function(){return e}}return rT=t,rT}var iT,MF;function Fhe(){if(MF)return iT;MF=1;var t=Nhe(),e=qB(),n=pR(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return iT=r,iT}var aT,DF;function jhe(){if(DF)return aT;DF=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return aT=r,aT}var sT,kF;function tq(){if(kF)return sT;kF=1;var t=Fhe(),e=jhe(),n=e(t);return sT=n,sT}var oT,NF;function $he(){if(NF)return oT;NF=1;var t=pR(),e=eq(),n=tq();function r(i,a){return n(e(i,a,t),i+"")}return oT=r,oT}var uT,FF;function Uhe(){if(FF)return uT;FF=1;var t=ym(),e=$0(),n=aR(),r=js();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return uT=i,uT}var lT,jF;function Bhe(){if(jF)return lT;jF=1;var t=$he(),e=Uhe();function n(r){return t(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,f=o>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,f&&e(a[0],a[1],f)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var h=a[s];h&&r(i,h,s,l)}return i})}return lT=n,lT}var cT,$F;function qhe(){if($F)return cT;$F=1;var t=Dhe(),e=Bhe(),n=e(function(r,i,a){t(r,i,a)});return cT=n,cT}var zhe=qhe();const Hc=Gr(zhe);class xm extends Error{constructor(n,r){super(n);e1(this,"status");e1(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,xm.prototype)}}var fT,UF;function nq(){if(UF)return fT;UF=1;var t=_m();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],l=r(o);if(l!=null&&(f===void 0?l===l&&!t(l):i(l,f)))var f=l,h=o}return h}return fT=e,fT}var dT,BF;function Hhe(){if(BF)return dT;BF=1;function t(e,n){return e>n}return dT=t,dT}var hT,qF;function Vhe(){if(qF)return hT;qF=1;var t=nq(),e=Hhe(),n=gR();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return hT=r,hT}var Khe=Vhe();const Ghe=Gr(Khe),Whe=(t,e)=>yr(t,{cache:"no-store",...e}),rq=t=>OB(t,Whe),Qhe=t=>{const e=ae.useMemo(()=>({queries:t.map(r=>Hd(r)).map(r=>({queryKey:["rdfDocument",r],queryFn:()=>rq(r)}))}),[t]);return mA(e)},Zhe=()=>{const t=xa();return fs({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await lu(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:eh(t)})},Ds=t=>{const e=xa();return fs({mutationFn:async({uri:r,data:i,language:a="en",method:s="PUT",throwOnHttpError:o=!1})=>{const l=Zn.createLdoDataset();if(Array.isArray(i))i.forEach(y=>{const _=l.usingType(t).fromSubject(y["@id"]);Zn.setLanguagePreferences(a).using(_),Hc(_,y)});else{const y=l.usingType(t).fromSubject(i["@id"]);Zn.setLanguagePreferences(a).using(y),Hc(y,i)}const f=await Zn.toTurtle(l.usingType(t).fromSubject("")),h={"content-type":"text/turtle"};s==="PUT"&&(h["If-None-Match"]="*");const p=await lu(r,{method:s,body:f,headers:h});if(o&&!p.ok)throw new xm(p.statusText,p);return p.headers.get("location")},onSuccess:eh(e)})},Us=()=>{const t=xa();return fs({mutationFn:async({uri:n,patch:r})=>{const i=await lu(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:eh(t,n=>n.status===201)})},cu=t=>{const e=xa();return fs({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:s="en"})=>{const o=await lu(n);let l="";o.ok&&(l=await o.text());const h=(await Zn.parseRdf(l,{baseIRI:n})).usingType(t);let p="";if(r){const m=h.fromSubject(r);Zn.setLanguagePreferences(s).using(m),Zn.startTransaction(m),a(m),p=await jC(m)}else if(i){const m=h.matchSubject(i.predicate,i.object,i.graph);Zn.setLanguagePreferences(s).using(m),Zn.startTransaction(m),a(m),p=await jC(m)}return await lu(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:eh(e,n=>n.status===201)})},Jhe=t=>{const e=xa();return fs({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const s=await lu(n);let o="";s.ok&&(o=await s.text());const f=(await Zn.parseRdf(o,{baseIRI:n})).usingType(t),h=r(f);Zn.setLanguagePreferences(a).using(h),Zn.startTransaction(h),i(h);const p=await jC(h);return await lu(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:eh(e,n=>n.status===201)})},W0=()=>{const t=xa();return fs({mutationFn:async({uri:n})=>{await lu(n,{method:"DELETE"})},onSuccess:eh(t)})},Yhe=(t,e)=>{const n=Qle(t),r=e.getQueryCache().getAll().filter(a=>a.queryKey[0]==="rdfDocument"&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return Ghe(r,a=>a.length)},eh=(t,e=()=>!0)=>(n,r)=>{const i=Hd(r.uri);if(t.invalidateQueries({queryKey:["rdfDocument",i]}),t.invalidateQueries({queryKey:["rdfDocument",cB(i)]}),e(n)){const a=Yhe(i,t);a&&t.invalidateQueries({queryKey:["rdfDocument",a]})}},ks=(t,e)=>{const n=wa(ae.useMemo(()=>({query:F8,variables:{person:t?[t]:[],community:[e]},fetch:yr}),[e,t])),{variables:r,isLoading:i}=n,a=wa(ae.useMemo(()=>({query:k8,variables:{person:t?[t]:[]},fetch:yr}),[t])),s=ae.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(x=>new ho(n.quads).getQuads(null,null,null,new Hr(x))).map(x=>Zn.createLdoDataset(x).usingType(K0).fromSubject(t)),[n.quads,r.hospexDocumentForCommunity,t]),o=ae.useMemo(()=>{const{quads:_}=a;return Zn.createLdoDataset(_).usingType(Che).fromSubject(t)},[a,t]),l=ae.useMemo(()=>Hc({},cF(o),...s.map(_=>cF(_))),[o,s]),f=ae.useMemo(()=>s.map(_=>Zn.languagesOf(_,"note")),[s]),[h]=ae.useMemo(()=>f.map(_=>{var b;return((b=_==null?void 0:_.en)==null?void 0:b.values().next().value)??""}),[f]),p=ae.useMemo(()=>{var _,b;return{id:t,name:l.name??"",photo:(_=l.hasPhoto)==null?void 0:_["@id"],about:h,interests:((b=l.topicInterest)==null?void 0:b.map(S=>S["@id"]))??[]}},[h,l.hasPhoto,l.name,l.topicInterest,t]),m=ae.useMemo(()=>{var _,b;return s.length>0?{id:t,name:s[0].name??"",photo:(_=s[0].hasPhoto)==null?void 0:_["@id"],about:(b=s[0].note)==null?void 0:b[0]}:void 0},[s,t]),y=ae.useMemo(()=>new ho(n.quads).getQuads(new Hr(t),new Hr(bl.topic_interest),null,null).map(_=>({id:_.object.id,document:_.graph.id})),[n,t]);return ae.useMemo(()=>{var _;return[p,i,(_=r.hospexDocumentForCommunity)==null?void 0:_[0],y,m]},[m,y,i,p,r.hospexDocumentForCommunity])},iq=t=>{const{quads:e,isFetched:n}=wa(ae.useMemo(()=>({query:Yd,variables:{person:[t]},fetch:yr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[t]));return ae.useMemo(()=>[Zn.createLdoDataset(e).usingType(B8).fromSubject(t),{isFetched:n}],[n,t,e])},Xhe=()=>{const t=cu(K0);return ae.useCallback(async({personId:e,hospexDocument:n,data:r,language:i="en"})=>{await t.mutateAsync({uri:n,subject:e,language:i,transform:a=>{r.name&&(a.name=r.name),r.about&&(a.note=[r.about]),r.photo&&(a.hasPhoto={"@id":r.photo})}})},[t])},epe=()=>{const t=Us();return ae.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${e}> <${bl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])},tpe=()=>{const t=Us();return ae.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.deletes}> { <${e}> <${bl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])};var pT,zF;function npe(){if(zF)return pT;zF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return pT=t,pT}var gT,HF;function rpe(){if(HF)return gT;HF=1;var t=Xd(),e=vm();function n(r,i){return r&&t(i,e(i),r)}return gT=n,gT}var mT,VF;function ipe(){if(VF)return mT;VF=1;var t=Xd(),e=Sm();function n(r,i){return r&&t(i,e(i),r)}return mT=n,mT}var yT,KF;function ape(){if(KF)return yT;KF=1;var t=Xd(),e=iR();function n(r,i){return t(r,e(r),i)}return yT=n,yT}var vT,GF;function aq(){if(GF)return vT;GF=1;var t=rR(),e=TR(),n=iR(),r=FB(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return vT=a,vT}var _T,WF;function spe(){if(WF)return _T;WF=1;var t=Xd(),e=aq();function n(r,i){return t(r,e(r),i)}return _T=n,_T}var wT,QF;function sq(){if(QF)return wT;QF=1;var t=NB(),e=aq(),n=Sm();function r(i){return t(i,n,e)}return wT=r,wT}var bT,ZF;function ope(){if(ZF)return bT;ZF=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return bT=n,bT}var ST,JF;function upe(){if(JF)return ST;JF=1;var t=ER();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return ST=e,ST}var xT,YF;function lpe(){if(YF)return xT;YF=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return xT=e,xT}var ET,XF;function cpe(){if(XF)return ET;XF=1;var t=Gd(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ET=r,ET}var TT,ej;function fpe(){if(ej)return TT;ej=1;var t=ER(),e=upe(),n=lpe(),r=cpe(),i=W8(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",j="[object Uint32Array]";function Q(Y,q,Z){var fe=Y.constructor;switch(q){case y:return t(Y);case a:case s:return new fe(+Y);case _:return e(Y,Z);case b:case S:case x:case E:case A:case I:case M:case D:case j:return i(Y,Z);case o:return new fe;case l:case p:return new fe(Y);case f:return n(Y);case h:return new fe;case m:return r(Y)}}return TT=Q,TT}var CT,tj;function dpe(){if(tj)return CT;tj=1;var t=U0(),e=pu(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return CT=r,CT}var AT,nj;function hpe(){if(nj)return AT;nj=1;var t=dpe(),e=oR(),n=uR(),r=n&&n.isMap,i=r?e(r):t;return AT=i,AT}var RT,rj;function ppe(){if(rj)return RT;rj=1;var t=U0(),e=pu(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return RT=r,RT}var PT,ij;function gpe(){if(ij)return PT;ij=1;var t=ppe(),e=oR(),n=uR(),r=n&&n.isSet,i=r?e(r):t;return PT=i,PT}var OT,aj;function oq(){if(aj)return OT;aj=1;var t=N0(),e=npe(),n=X8(),r=rpe(),i=ipe(),a=G8(),s=Q8(),o=ape(),l=spe(),f=UB(),h=sq(),p=U0(),m=ope(),y=fpe(),_=Z8(),b=$s(),S=j0(),x=hpe(),E=js(),A=gpe(),I=vm(),M=Sm(),D=1,j=2,Q=4,Y="[object Arguments]",q="[object Array]",Z="[object Boolean]",fe="[object Date]",te="[object Error]",oe="[object Function]",ge="[object GeneratorFunction]",_e="[object Map]",le="[object Number]",ce="[object Object]",Le="[object RegExp]",k="[object Set]",ne="[object String]",me="[object Symbol]",H="[object WeakMap]",J="[object ArrayBuffer]",pe="[object DataView]",Ae="[object Float32Array]",Je="[object Float64Array]",Re="[object Int8Array]",Fe="[object Int16Array]",Xe="[object Int32Array]",ie="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",re="[object Uint32Array]",W={};W[Y]=W[q]=W[J]=W[pe]=W[Z]=W[fe]=W[Ae]=W[Je]=W[Re]=W[Fe]=W[Xe]=W[_e]=W[le]=W[ce]=W[Le]=W[k]=W[ne]=W[me]=W[ie]=W[z]=W[$]=W[re]=!0,W[te]=W[oe]=W[H]=!1;function he(ye,He,Te,Ne,tt,nt){var gt,Ut=He&D,Se=He&j,Be=He&Q;if(Te&&(gt=tt?Te(ye,Ne,tt,nt):Te(ye)),gt!==void 0)return gt;if(!E(ye))return ye;var X=b(ye);if(X){if(gt=m(ye),!Ut)return s(ye,gt)}else{var B=p(ye),K=B==oe||B==ge;if(S(ye))return a(ye,Ut);if(B==ce||B==Y||K&&!tt){if(gt=Se||K?{}:_(ye),!Ut)return Se?l(ye,i(gt,ye)):o(ye,r(gt,ye))}else{if(!W[B])return tt?ye:{};gt=y(ye,B,Ut)}}nt||(nt=new t);var V=nt.get(ye);if(V)return V;nt.set(ye,gt),A(ye)?ye.forEach(function(ke){gt.add(he(ke,He,Te,ke,ye,nt))}):x(ye)&&ye.forEach(function(ke,At){gt.set(At,he(ke,He,Te,At,ye,nt))});var je=Be?Se?h:f:Se?M:I,Ze=X?void 0:je(ye);return e(Ze||ye,function(ke,At){Ze&&(At=ke,ke=ye[At]),n(gt,At,he(ke,He,Te,At,ye,nt))}),gt}return OT=he,OT}var LT,sj;function mpe(){if(sj)return LT;sj=1;var t=oq(),e=1,n=4;function r(i){return t(i,e|n)}return LT=r,LT}var ype=mpe();const vpe=Gr(ype),_pe=t=>{const{quads:e,variables:n}=wa(ae.useMemo(()=>({query:_he,variables:{person:[t]},staleTime:3e4,fetch:yr}),[t])),r=ae.useMemo(()=>{const i=Zn.createLdoDataset(e).usingType(Ad);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var h,p,m;const s=a["@id"],o=((h=a.participation)==null?void 0:h.flatMap(y=>{var _;return((_=y.references)==null?void 0:_.flatMap(b=>b["@id"]??[]).filter(b=>!!b))??[]}))??[],l=((p=a.participation)==null?void 0:p.map(y=>y.participant["@id"]))??[],f=[a,...(((m=a.participation)==null?void 0:m.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(_=>({id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"]})).sort((_,b)=>_.createdAt-b.createdAt));return{id:s,related:o,participants:l,messages:f}}).sort((a,s)=>{var o,l;return(((o=[...s.messages].pop())==null?void 0:o.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[e,n.chat]);return ae.useMemo(()=>({data:r}),[r])},Q0=t=>{const{quads:e,variables:n,isLoading:r}=wa(ae.useMemo(()=>({query:ghe,variables:{person:t?[t]:[]},fetch:yr,staleTime:3e4}),[t])),i=ae.useMemo(()=>(n.longChatNotification??[]).map(a=>{var o,l,f,h;const s=Zn.createLdoDataset(e).usingType(H8).fromSubject(a);return{id:s.object["@id"]??"",message:s.object.content,createdAt:new Date(((o=s.object)==null?void 0:o.created)??s.updated).getTime(),from:((l=s.object.maker)==null?void 0:l["@id"])??((f=s.actor)==null?void 0:f["@id"]),chat:s.target["@id"]??"",otherChats:(h=s.target.participation)==null?void 0:h.flatMap(p=>{var m;return((m=p.references)==null?void 0:m.flatMap(y=>y["@id"]??[]))??[]}),notification:s["@id"],status:"unread"}}),[e,n.longChatNotification]);return ae.useMemo(()=>({isLoading:r,data:i}),[r,i])},wpe=t=>{const{data:e}=_pe(t),{data:n}=Q0(t);return{data:ae.useMemo(()=>{const i=vpe(e);n.forEach(a=>{const s=i.find(o=>{var l;return o.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(o.id))});if(s){s.status="unread";const o=s.messages.findIndex(l=>l.id===a.id);o>-1?s.messages[o]=a:s.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((s,o)=>((s==null?void 0:s.createdAt)??0)-((o==null?void 0:o.createdAt)??0));return i.sort((a,s)=>{var o,l;return(((o=[...s.messages].pop())==null?void 0:o.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,e])}};function Kr(){return Kr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kr.apply(this,arguments)}function Vc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var IT={exports:{}},MT,oj;function bpe(){if(oj)return MT;oj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return MT=t,MT}var DT,uj;function Spe(){if(uj)return DT;uj=1;var t=bpe();function e(){}function n(){}return n.resetWarningCache=e,DT=function(){function r(s,o,l,f,h,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},DT}var lj;function uq(){return lj||(lj=1,IT.exports=Spe()()),IT.exports}var Bg=yA(),lq=function(e){return!!e&&e[0]==="o"},cj=Bg.unstable_batchedUpdates||function(t){return t()},Bf=function(e,n,r){return r===void 0&&(r=1e-4),Math.abs(e-n)<r},qg=function(e,n){return e===!0||!!(e&&e[n])},cs=function(e,n){return typeof e=="function"?e(n):e},cq="_szhsinMenu",xpe=function(e){return e[cq]},Epe=function(e,n){return Object.defineProperty(n,cq,{value:e})},Z0=function(e,n){return n&&Object.keys(n).forEach(function(r){var i=e[r],a=n[r];typeof a=="function"&&i?e[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:e[r]=a}),e},Tpe=function(e){if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};var n=e.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},kT=function(e){for(;e;){if(e=e.parentNode,!e||e===document.body)return;var n=getComputedStyle(e),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return e}};function fq(t,e){return{"aria-disabled":t||void 0,tabIndex:e?0:-1}}function fj(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var Rd=function(e){var n=e.block,r=e.element,i=e.modifiers,a=e.className;return ae.useMemo(function(){var s=r?n+"__"+r:n,o=s;i&&Object.keys(i).forEach(function(f){var h=i[f];h&&(o+=" "+s+"--"+(h===!0?f:f+"-"+h))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(o+=" "+l)),o},[n,r,i,a])},Cpe="szh-menu-container",Cg="szh-menu",Ape="szh-menu-button",Rpe="arrow",Ppe="item",Ope="divider",dq=ae.createContext(),hq=ae.createContext({}),dj=ae.createContext({}),pq=ae.createContext({}),Lpe=ae.createContext({}),gq=ae.createContext({}),mq=ae.createContext({}),Os=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),mi=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),zg=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Ag=Object.freeze({FIRST:"first",LAST:"last"}),Ipe=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Mpe=["className","isOpen","disabled","children"],Dpe=Epe("MenuButton",ae.forwardRef(function(e,n){var r=e.className,i=e.isOpen,a=e.disabled,s=e.children,o=Vc(e,Mpe),l=ae.useMemo(function(){return{open:i}},[i]);return de.jsx("button",Kr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},o,{ref:n,className:Rd({block:Ape,modifiers:l,className:r}),children:s}))})),kpe=function(e){var n=e.className,r=e.containerRef,i=e.containerProps,a=e.children,s=e.isOpen,o=e.skipOpen,l=e.theming,f=e.transition,h=e.onClose,p=qg(f,"item"),m=function(b){var S=b.key;switch(S){case Os.ESC:cs(h,{key:S,reason:zg.CANCEL});break}},y=function(b){s&&!b.currentTarget.contains(b.relatedTarget||document.activeElement)&&(cs(h,{reason:zg.BLUR}),o&&(o.current=!0,setTimeout(function(){return o.current=!1},300)))};return de.jsx("div",Kr({},Z0({onKeyDown:m,onBlur:y},i),{className:Rd({block:Cpe,modifiers:ae.useMemo(function(){return{theme:l,itemTransition:p}},[l,p]),className:n}),style:Kr({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},Npe=function(e,n){var r=ae.useState(),i=r[0],a=r[1],s=ae.useRef({items:[],hoverIndex:-1,sorted:!1}),o=s.current,l=ae.useCallback(function(h,p){var m=o.items;if(!h)o.items=[];else if(p)m.push(h);else{var y=m.indexOf(h);y>-1&&(m.splice(y,1),h.contains(document.activeElement)&&(n.current.focus(),a()))}o.hoverIndex=-1,o.sorted=!1},[o,n]),f=ae.useCallback(function(h,p,m){var y=o.items,_=o.hoverIndex,b=function(){if(!o.sorted){var A=e.current.querySelectorAll(".szh-menu__item");y.sort(function(I,M){return fj(A,I)-fj(A,M)}),o.sorted=!0}},S=-1,x=void 0;switch(h){case mi.RESET:break;case mi.SET:x=p;break;case mi.UNSET:x=function(A){return A===p?void 0:A};break;case mi.FIRST:b(),S=0,x=y[S];break;case mi.LAST:b(),S=y.length-1,x=y[S];break;case mi.SET_INDEX:b(),S=m,x=y[S];break;case mi.INCREASE:b(),S=_,S<0&&(S=y.indexOf(p)),S++,S>=y.length&&(S=0),x=y[S];break;case mi.DECREASE:b(),S=_,S<0&&(S=y.indexOf(p)),S--,S<0&&(S=y.length-1),x=y[S];break}x||(S=-1),a(x),o.hoverIndex=S},[e,o]);return{hoverItem:i,dispatch:f,updateItems:l}},Fpe=function(e,n,r,i){var a=n.current.getBoundingClientRect(),s=e.current.getBoundingClientRect(),o=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=Tpe(i),f=function(S){return S+s.left-o.left-l.left},h=function(S){return S+s.left+a.width-o.right+l.right},p=function(S){return S+s.top-o.top-l.top},m=function(S){return S+s.top+a.height-o.bottom+l.bottom},y=function(S){var x=f(S);if(x<0)S-=x;else{var E=h(S);E>0&&(S-=E,x=f(S),x<0&&(S-=x))}return S},_=function(S){var x=p(S);if(x<0)S-=x;else{var E=m(S);E>0&&(S-=E,x=p(S),x<0&&(S-=x))}return S};return{menuRect:a,containerRect:s,getLeftOverflow:f,getRightOverflow:h,getTopOverflow:p,getBottomOverflow:m,confineHorizontally:y,confineVertically:_}},jpe=function(e){var n=e.arrowRef,r=e.menuY,i=e.anchorRect,a=e.containerRect,s=e.menuRect,o=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return o=Math.max(l,o),o=Math.min(o,s.height-l),o},$pe=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeLeftorRightY,s=e.placeLeftX,o=e.placeRightX,l=e.getLeftOverflow,f=e.getRightOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,_=e.direction,b=e.position,S=_,x=a;b!=="initial"&&(x=p(x),b==="anchor"&&(x=Math.min(x,n.bottom-r.top),x=Math.max(x,n.top-r.top-i.height)));var E,A,I;S==="left"?(E=s,b!=="initial"&&(A=l(E),A<0&&(I=f(o),(I<=0||-A>I)&&(E=o,S="right")))):(E=o,b!=="initial"&&(I=f(E),I>0&&(A=l(s),(A>=0||-A<I)&&(E=s,S="left")))),b==="auto"&&(E=h(E));var M=y?jpe({menuY:x,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:M,x:E,y:x,computedDirection:S}},Upe=function(e){var n=e.arrowRef,r=e.menuX,i=e.anchorRect,a=e.containerRect,s=e.menuRect,o=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return o=Math.max(l,o),o=Math.min(o,s.width-l),o},Bpe=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeToporBottomX,s=e.placeTopY,o=e.placeBottomY,l=e.getTopOverflow,f=e.getBottomOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,_=e.direction,b=e.position,S=_==="top"?"top":"bottom",x=a;b!=="initial"&&(x=h(x),b==="anchor"&&(x=Math.min(x,n.right-r.left),x=Math.max(x,n.left-r.left-i.width)));var E,A,I;S==="top"?(E=s,b!=="initial"&&(A=l(E),A<0&&(I=f(o),(I<=0||-A>I)&&(E=o,S="bottom")))):(E=o,b!=="initial"&&(I=f(E),I>0&&(A=l(s),(A>=0||-A<I)&&(E=s,S="top")))),b==="auto"&&(E=p(E));var M=y?Upe({menuX:x,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:M,x,y:E,computedDirection:S}},qpe=function(e){var n=e.arrow,r=e.align,i=e.direction,a=e.offsetX,s=e.offsetY,o=e.position,l=e.anchorRect,f=e.arrowRef,h=e.positionHelpers,p=h.menuRect,m=h.containerRect,y=a,_=s;n&&(i==="left"||i==="right"?y+=f.current.offsetWidth:_+=f.current.offsetHeight);var b=l.left-m.left-p.width-y,S=l.right-m.left+y,x=l.top-m.top-p.height-_,E=l.bottom-m.top+_,A,I;r==="end"?(A=l.right-m.left-p.width,I=l.bottom-m.top-p.height):r==="center"?(A=l.left-m.left-(p.width-l.width)/2,I=l.top-m.top-(p.height-l.height)/2):(A=l.left-m.left,I=l.top-m.top),A+=y,I+=_;var M=Kr({},h,{anchorRect:l,placeLeftX:b,placeRightX:S,placeLeftorRightY:I,placeTopY:x,placeBottomY:E,placeToporBottomX:A,arrowRef:f,arrow:n,direction:i,position:o});switch(i){case"left":case"right":return $pe(M);case"top":case"bottom":default:return Bpe(M)}},E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ae.useLayoutEffect:ae.useEffect;function hj(t,e){typeof t=="function"?t(e):t.current=e}var CR=function(e,n){return ae.useMemo(function(){return e?n?function(r){hj(e,r),hj(n,r)}:e:n},[e,n])},zpe=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],Hpe=function(e){var n=e.ariaLabel,r=e.menuClassName,i=e.menuStyle,a=e.arrowClassName,s=e.arrowStyle,o=e.anchorPoint,l=e.anchorRef,f=e.containerRef,h=e.containerProps,p=e.focusProps,m=e.externalRef,y=e.parentScrollingRef,_=e.arrow,b=e.align,S=b===void 0?"start":b,x=e.direction,E=x===void 0?"bottom":x,A=e.position,I=A===void 0?"auto":A,M=e.overflow,D=M===void 0?"visible":M,j=e.setDownOverflow,Q=e.repositionFlag,Y=e.captureFocus,q=Y===void 0?!0:Y,Z=e.state,fe=e.endTransition,te=e.isDisabled,oe=e.menuItemFocus,ge=e.offsetX,_e=ge===void 0?0:ge,le=e.offsetY,ce=le===void 0?0:le,Le=e.children,k=e.onClose,ne=Vc(e,zpe),me=ae.useState({x:0,y:0}),H=me[0],J=me[1],pe=ae.useState({}),Ae=pe[0],Je=pe[1],Re=ae.useState(),Fe=Re[0],Xe=Re[1],ie=ae.useState(E),z=ie[0],$=ie[1],re=ae.useState(0),W=re[0],he=re[1],ye=ae.useReducer(function(it){return it+1},1),He=ye[0],Te=ye[1],Ne=ae.useContext(gq),tt=Ne.transition,nt=Ne.boundingBoxRef,gt=Ne.boundingBoxPadding,Ut=Ne.rootMenuRef,Se=Ne.rootAnchorRef,Be=Ne.scrollNodesRef,X=Ne.reposition,B=Ne.viewScroll,K=ae.useContext(dj).reposSubmenu||Q,V=ae.useRef(null),je=ae.useRef(),Ze=ae.useRef(),ke=ae.useRef(!1),At=ae.useRef({width:0,height:0}),Ot=ae.useRef(function(){}),Dt=Npe(V,je),Rt=Dt.hoverItem,Bt=Dt.dispatch,Er=Dt.updateItems,fn=lq(Z),dn=qg(tt,"open"),dr=qg(tt,"close"),on=Be.current,un=function(Et){switch(Et.key){case Os.HOME:Bt(mi.FIRST);break;case Os.END:Bt(mi.LAST);break;case Os.UP:Bt(mi.DECREASE,Rt);break;case Os.DOWN:Bt(mi.INCREASE,Rt);break;case Os.SPACE:Et.target&&Et.target.className.indexOf(Cg)!==-1&&Et.preventDefault();return;default:return}Et.preventDefault(),Et.stopPropagation()},Ln=function(){Z==="closing"&&Xe(),cs(fe)},sr=ae.useCallback(function(it){var Et,It=l?(Et=l.current)==null?void 0:Et.getBoundingClientRect():o?{left:o.x,right:o.x,top:o.y,bottom:o.y,width:0,height:0}:null;if(It){on.menu||(on.menu=(nt?nt.current:kT(Ut.current))||window);var Vt=Fpe(f,V,on.menu,gt),Yt=qpe({arrow:_,align:S,direction:E,offsetX:_e,offsetY:ce,position:I,anchorRect:It,arrowRef:Ze,positionHelpers:Vt}),qt=Yt.arrowX,Nt=Yt.arrowY,en=Yt.x,Rn=Yt.y,Kt=Yt.computedDirection,Qt=Vt.menuRect,xn=Qt.height;if(!it&&D!=="visible"){var En=Vt.getTopOverflow,Un=Vt.getBottomOverflow,Tr,Ur,Br=At.current.height,Rr=Un(Rn);if(Rr>0||Bf(Rr,0)&&Bf(xn,Br))Tr=xn-Rr,Ur=Rr;else{var Nn=En(Rn);(Nn<0||Bf(Nn,0)&&Bf(xn,Br))&&(Tr=xn+Nn,Ur=0-Nn,Tr>=0&&(Rn-=Nn))}Tr>=0?(xn=Tr,Xe({height:Tr,overflowAmt:Ur})):Xe()}_&&Je({x:qt,y:Nt}),J({x:en,y:Rn}),$(Kt),At.current={width:Qt.width,height:xn}}},[_,S,gt,E,_e,ce,I,D,o,l,f,nt,Ut,on]);E_(function(){fn&&(sr(),ke.current&&Te()),ke.current=fn,Ot.current=sr},[fn,sr,K]),E_(function(){Fe&&!j&&(V.current.scrollTop=0)},[Fe,j]),E_(function(){return Er},[Er]),ae.useEffect(function(){var it=on.menu;if(!(!fn||!it)){if(it=it.addEventListener?it:window,!on.anchors){on.anchors=[];for(var Et=kT(Se&&Se.current);Et&&Et!==it;)on.anchors.push(Et),Et=kT(Et)}var It=B;if(on.anchors.length&&It==="initial"&&(It="auto"),It!=="initial"){var Vt=function(){It==="auto"?cj(function(){return sr(!0)}):cs(k,{reason:zg.SCROLL})},Yt=on.anchors.concat(B!=="initial"?it:[]);return Yt.forEach(function(qt){return qt.addEventListener("scroll",Vt)}),function(){return Yt.forEach(function(qt){return qt.removeEventListener("scroll",Vt)})}}}},[Se,on,fn,k,B,sr]);var Oe=!!Fe&&Fe.overflowAmt>0;ae.useEffect(function(){if(!(Oe||!fn||!y)){var it=function(){return cj(sr)},Et=y.current;return Et.addEventListener("scroll",it),function(){return Et.removeEventListener("scroll",it)}}},[fn,Oe,y,sr]),ae.useEffect(function(){if(!(typeof ResizeObserver!="function"||X==="initial")){var it=new ResizeObserver(function(It){var Vt=It[0],Yt=Vt.borderBoxSize,qt=Vt.target,Nt,en;if(Yt){var Rn=Yt[0]||Yt,Kt=Rn.inlineSize,Qt=Rn.blockSize;Nt=Kt,en=Qt}else{var xn=qt.getBoundingClientRect();Nt=xn.width,en=xn.height}Nt===0||en===0||Bf(Nt,At.current.width,1)&&Bf(en,At.current.height,1)||Bg.flushSync(function(){Ot.current(),Te()})}),Et=V.current;return it.observe(Et,{box:"border-box"}),function(){return it.unobserve(Et)}}},[X]),ae.useEffect(function(){if(!fn){Bt(mi.RESET),dr||Xe();return}var it=oe||{},Et=it.position,It=it.alwaysUpdate,Vt=function(){Et===Ag.FIRST?Bt(mi.FIRST):Et===Ag.LAST?Bt(mi.LAST):Et>=-1&&Bt(mi.SET_INDEX,void 0,Et)};if(It)Vt();else if(q){var Yt=setTimeout(function(){V.current.contains(document.activeElement)||(je.current.focus(),Vt())},dn?170:100);return function(){return clearTimeout(Yt)}}},[fn,dn,dr,q,oe,Bt]);var qe=W>0,wt=ae.useMemo(function(){return{isParentOpen:fn,isSubmenuOpen:qe,setOpenSubmenuCount:he,dispatch:Bt,updateItems:Er}},[fn,qe,Bt,Er]),xt,Lt;Fe&&(j?Lt=Fe.overflowAmt:xt=Fe.height);var qn=ae.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:Lt,parentMenuRef:V,parentDir:z}},[He,D,Lt,z]),Jn=xt>=0?{maxHeight:xt,overflow:D}:void 0,We=ae.useMemo(function(){return{state:Z,dir:z}},[Z,z]),Ee=ae.useMemo(function(){return{dir:z}},[z]),et=Rd({block:Cg,element:Rpe,modifiers:Ee,className:a}),ft=de.jsxs("ul",Kr({role:"menu","aria-label":n},fq(te),Z0({onKeyDown:un,onAnimationEnd:Ln},ne),{ref:CR(m,V),className:Rd({block:Cg,modifiers:We,className:r}),style:Kr({},i,Jn,{margin:0,display:Z==="closed"?"none":void 0,position:"absolute",left:H.x,top:H.y}),children:[de.jsx("div",Kr({tabIndex:-1,style:{position:"absolute",left:0,top:0}},p,{ref:je})),_&&de.jsx("div",{className:et,style:Kr({},s,{position:"absolute",left:Ae.x,top:Ae.y}),ref:Ze}),de.jsx(dj.Provider,{value:qn,children:de.jsx(hq.Provider,{value:wt,children:de.jsx(dq.Provider,{value:Rt,children:Le})})})]}));return h?de.jsx(kpe,Kr({},h,{isOpen:fn,children:ft})):ft},Vpe=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],Kpe=ae.forwardRef(function(e,n){var r=e["aria-label"],i=e.className,a=e.containerProps,s=e.initialMounted,o=e.unmountOnClose,l=e.transition,f=e.transitionTimeout,h=e.boundingBoxRef,p=e.boundingBoxPadding,m=e.reposition,y=m===void 0?"auto":m,_=e.submenuOpenDelay,b=_===void 0?300:_,S=e.submenuCloseDelay,x=S===void 0?150:S,E=e.skipOpen,A=e.viewScroll,I=A===void 0?"initial":A,M=e.portal,D=e.theming,j=e.onItemClick,Q=Vc(e,Vpe),Y=ae.useRef(null),q=ae.useRef({}),Z=Q.anchorRef,fe=Q.state,te=Q.onClose,oe=ae.useMemo(function(){return{initialMounted:s,unmountOnClose:o,transition:l,transitionTimeout:f,boundingBoxRef:h,boundingBoxPadding:p,rootMenuRef:Y,rootAnchorRef:Z,scrollNodesRef:q,reposition:y,viewScroll:I}},[s,o,l,f,Z,h,p,y,I]),ge=ae.useMemo(function(){return{submenuOpenDelay:b,submenuCloseDelay:x}},[b,x]),_e=ae.useMemo(function(){return{handleClick:function(Le,k){Le.stopPropagation||cs(j,Le);var ne=Le.keepOpen;ne===void 0&&(ne=k&&Le.key===Os.SPACE),ne||cs(te,{value:Le.value,key:Le.key,reason:zg.CLICK})},handleClose:function(Le){cs(te,{key:Le,reason:zg.CLICK})}}},[j,te]);if(!fe)return null;var le=de.jsx(gq.Provider,{value:oe,children:de.jsx(mq.Provider,{value:ge,children:de.jsx(pq.Provider,{value:_e,children:de.jsx(Hpe,Kr({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:Y,containerProps:{className:i,containerRef:Y,containerProps:a,skipOpen:E,theming:D,transition:l,onClose:te}}))})})});return M===!0&&typeof document<"u"?Bg.createPortal(le,document.body):M?M.target?Bg.createPortal(le,M.target):M.stablePosition?null:le:le}),NT=0,FT=1,ov=2,jT=3,$T=4,Gpe=5,Wpe=6,yq=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],UT=function(e){return e?Wpe:Gpe},pj=function(e,n,r,i,a){clearTimeout(i.current),n(e),r.current=e,a&&a({state:yq[e]})},Qpe=function(e){var n=e===void 0?{}:e,r=n.enter,i=r===void 0?!0:r,a=n.exit,s=a===void 0?!0:a,o=n.preEnter,l=n.preExit,f=n.timeout,h=n.initialEntered,p=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,_=ae.useState(h?ov:UT(p)),b=_[0],S=_[1],x=ae.useRef(b),E=ae.useRef(),A,I;typeof f=="object"?(A=f.enter,I=f.exit):A=I=f;var M=ae.useCallback(function(){var j;switch(x.current){case FT:case NT:j=ov;break;case $T:case jT:j=UT(m);break}j!==void 0&&pj(j,S,x,E,y)},[y,m]),D=ae.useCallback(function(j){var Q=function q(Z){switch(pj(Z,S,x,E,y),Z){case FT:A>=0&&(E.current=setTimeout(M,A));break;case $T:I>=0&&(E.current=setTimeout(M,I));break;case NT:case jT:E.current=setTimeout(function(){return q(Z+1)},0);break}},Y=x.current<=ov;typeof j!="boolean"&&(j=!Y),j?Y||Q(i?o?NT:FT:ov):Y&&Q(s?l?jT:$T:UT(m))},[M,y,i,s,o,l,A,I,m]);return ae.useEffect(function(){return function(){return clearTimeout(E.current)}},[]),[yq[b],D,M]},Zpe=function(e){var n=e===void 0?{}:e,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,s=n.transition,o=n.transitionTimeout,l=o===void 0?500:o,f=Qpe({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:qg(s,"open"),exit:qg(s,"close")}),h=f[0],p=f[1],m=f[2];return[{state:Ipe[h],endTransition:m},p]},Jpe=function(e){var n=Zpe(e),r=n[0],i=n[1],a=ae.useState(),s=a[0],o=a[1],l=function(h,p){o({position:h,alwaysUpdate:p}),i(!0)};return[Kr({menuItemFocus:s},r),i,l]},Ype=function(e,n){var r=ae.useRef(n);ae.useEffect(function(){r.current!==n&&cs(e,{open:n}),r.current=n},[e,n])},Xpe=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],ege=ae.forwardRef(function(e,n){var r=e["aria-label"],i=e.menuButton,a=e.instanceRef,s=e.onMenuChange,o=Vc(e,Xpe),l=Jpe(o),f=l[0],h=l[1],p=l[2],m=lq(f.state),y=ae.useRef(!1),_=ae.useRef(null),b=ae.useCallback(function(M){h(!1),M.key&&_.current.focus()},[h]),S=function(D){y.current||p(D.detail===0?Ag.FIRST:void 0)},x=function(D){switch(D.key){case Os.UP:p(Ag.LAST);break;case Os.DOWN:p(Ag.FIRST);break;default:return}D.preventDefault()},E=cs(i,{open:m});if(!E||!E.type)throw new Error("Menu requires a menuButton prop.");var A=Kr({ref:CR(E.ref,_)},Z0({onClick:S,onKeyDown:x},E.props));xpe(E.type)==="MenuButton"&&(A.isOpen=m);var I=ae.cloneElement(E,A);return Ype(s,m),ae.useImperativeHandle(a,function(){return{openMenu:p,closeMenu:function(){return h(!1)}}}),de.jsxs(ae.Fragment,{children:[I,de.jsx(Kpe,Kr({},o,f,{"aria-label":r||(typeof E.props.children=="string"?E.props.children:"Menu"),anchorRef:_,ref:n,onClose:b,skipOpen:y}))]})}),tge=function(e,n){var r=ae.memo(n),i=ae.forwardRef(function(a,s){var o=ae.useRef(null);return de.jsx(r,Kr({},a,{itemRef:o,externalRef:s,isHovering:ae.useContext(dq)===o.current}))});return i.displayName="WithHovering("+e+")",i},nge=function(e,n,r){E_(function(){if(!e){var i=n.current;return r(i,!0),function(){r(i)}}},[e,n,r])},rge=function(e,n,r,i){var a=ae.useContext(mq),s=a.submenuCloseDelay,o=ae.useContext(hq),l=o.isParentOpen,f=o.isSubmenuOpen,h=o.dispatch,p=o.updateItems,m=ae.useRef(0),y=function(){!r&&!i&&h(mi.SET,e.current)},_=function(){!i&&h(mi.UNSET,e.current)},b=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&_()},S=function(){f?m.current||(m.current=setTimeout(function(){m.current=0,y()},s)):y()},x=function(A,I){m.current&&(clearTimeout(m.current),m.current=0),!I&&_()};return nge(i,e,p),ae.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),ae.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:b,onPointerMove:S,onPointerLeave:x}},ige=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],age=["setHover"],qf=tge("MenuItem",function(e){var n=e.className,r=e.value,i=e.href,a=e.type,s=e.checked,o=e.disabled,l=e.children,f=e.onClick,h=e.isHovering,p=e.itemRef,m=e.externalRef,y=Vc(e,ige),_=!!o,b=rge(p,p,h,_),S=b.setHover,x=Vc(b,age),E=ae.useContext(pq),A=ae.useContext(Lpe),I=a==="radio",M=a==="checkbox",D=!!i&&!_&&!I&&!M,j=I?A.value===r:M?!!s:!1,Q=function(oe){if(_){oe.stopPropagation(),oe.preventDefault();return}var ge={value:r,syntheticEvent:oe};oe.key!==void 0&&(ge.key=oe.key),M&&(ge.checked=!j),I&&(ge.name=A.name),cs(f,ge),I&&cs(A.onRadioChange,ge),E.handleClick(ge,M||I)},Y=function(oe){if(h)switch(oe.key){case Os.ENTER:case Os.SPACE:D?p.current.click():Q(oe);break}},q=ae.useMemo(function(){return{type:a,disabled:_,hover:h,checked:j,anchor:D}},[a,_,h,j,D]),Z=Z0(Kr({},x,{onPointerDown:S,onKeyDown:Y,onClick:Q}),y),fe=Kr({role:I?"menuitemradio":M?"menuitemcheckbox":"menuitem","aria-checked":I||M?j:void 0},fq(_,h),Z,{ref:CR(m,p),className:Rd({block:Cg,element:Ppe,modifiers:q,className:n}),children:ae.useMemo(function(){return cs(l,q)},[l,q])});return D?de.jsx("li",{role:"presentation",children:de.jsx("a",Kr({href:i},fe))}):de.jsx("li",Kr({},fe))}),sge=["className"],oge=ae.memo(ae.forwardRef(function(e,n){var r=e.className,i=Vc(e,sge);return de.jsx("li",Kr({role:"separator"},i,{ref:n,className:Rd({block:Cg,element:Ope,className:r})}))}));const uge=()=>{const{communityId:t}=$n(),e=Ms(Fd),[n]=ks(e.webId??"",t),{data:r}=Q0(e.webId??""),i=Ms(OA);return de.jsxs(ege,{menuButton:de.jsx(Dpe,{"data-cy":"menu-button",children:de.jsx(L0,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[de.jsx(qf,{children:de.jsx(Rs,{to:"profile",children:(n==null?void 0:n.name)||"profile"})}),de.jsx(qf,{children:de.jsx(Rs,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:"edit profile"})}),de.jsx(qf,{children:de.jsxs(Rs,{to:"messages",children:["messages",r!=null&&r.length?` (${r.length} new)`:null]})}),de.jsx(qf,{children:de.jsx(Rs,{to:`profile/${encodeURIComponent(e.webId)}/contacts`,children:"contacts"})}),de.jsx(qf,{children:de.jsx(Rs,{to:"host/offers",children:"my hosting"})}),de.jsx(oge,{}),de.jsx(qf,{children:de.jsx(The,{})})]})},lge=()=>{const{communityId:t}=$n(),e=Ms(Fd),n=gu(t);return de.jsxs("nav",{className:sv.header,children:[de.jsx(Rs,{className:sv.logoContainer,to:"/","data-cy":"header-logo-link",children:de.jsx(vB,{logo:n.logo[0],focusedLogo:n.logo[1],name:n.name||(n.isLoading?"...":"Home"),className:sv.logo})}),de.jsx("div",{className:sv.spacer}),de.jsx(Nce,{}),e.isLoggedIn===!0&&de.jsx(uge,{}),e.isLoggedIn===void 0&&de.jsx(de.Fragment,{children:"..."})]})},cge=(t,e="en")=>lm({queryKey:["wikidataSearch",t,e],queryFn:()=>fge(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),fge=async(t,e)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(t)}&language=${e}&limit=20&continue=0&format=json&uselang=${e}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Hc({aliases:[],photos:[]},{...a,id:i})),vq=(t,e="en")=>lm({queryKey:["wikidataEntity",t,e],queryFn:()=>dge(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),dge=async(t,e)=>{var _,b,S;const n=((_=t.match(hge))==null?void 0:_[2])??"";if(!n)return{};const i=await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${e}&format=json&origin=*`)).json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const s=((b=a.labels[e])==null?void 0:b.value)??"",o=((S=a.descriptions[e])==null?void 0:S.value)??"",l=(a.claims.P18??[]).map(x=>x.mainsnak.datavalue.value)[0],f=(a.claims.P154??[]).map(x=>x.mainsnak.datavalue.value)[0],h=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,p=f&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(f)}?width=300`,m=(a.claims.P856??[]).map(x=>x.mainsnak.datavalue.value)[0],y=(a.aliases[e]??[]).map(({value:x})=>x);return{id:n,label:s,aliases:y,description:o,officialWebsite:m,image:p||h}},hge=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,pge="_list_zuate_1",gge="_item_zuate_6",mge="_highlighted_zuate_12",Hg={list:pge,item:gge,highlighted:mge},yge=({ids:t,highlighted:e})=>t.length===0?null:de.jsx("ul",{className:Hg.list,"data-cy":"interests-list",children:t.map(n=>de.jsx("li",{children:de.jsx(vge,{id:n,highlighted:e&&e.includes(n)})},n))}),vge=({id:t,highlighted:e})=>{const{data:n}=vq(t),r={id:t,label:t.split("/").pop(),description:t},i=Hc({},r,n);return de.jsx("span",{className:ii(Hg.item,e&&Hg.highlighted),title:i.description,children:i.label})},ba=({children:t})=>de.jsx(de.Fragment,{children:t}),_ge=()=>{const{communityId:t}=$n(),e=gu(t),r=wge()&&e.logo.length>=2?e.logo[0]:e.logo[1];return de.jsxs(de.Fragment,{children:[de.jsx("title",{children:e.name}),r&&de.jsx("link",{rel:"icon",href:r}),de.jsx("meta",{name:"description",content:e.about})]})},wge=()=>{const[t,e]=ae.useState(document.hasFocus());return ae.useEffect(()=>{const n=()=>{e(!0)},r=()=>{e(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),t},Ui=()=>Ms(Fd),bge=()=>{const t=Nd();ae.useEffect(()=>{dm().events.on(ti.SESSION_RESTORED,n=>{t(new URL(n).pathname,{replace:!0})})},[])},Sge=()=>{const t=Ms(OA);ae.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",t)},[t])},xge="_box_1dqn9_7",Ege="_row_1dqn9_18",Tge="_header_1dqn9_18",Cge="_content_1dqn9_26",Age="_footer_1dqn9_29",Pd={box:xge,row:Ege,header:Tge,content:Cge,footer:Age},Rge=({children:t,page:e})=>de.jsx("div",{className:ii(Pd.box,e&&Pd.page),children:t}),Pge=({children:t})=>de.jsx("div",{className:ii(Pd.row,Pd.header),children:t}),Oge=({children:t})=>de.jsx("div",{className:ii(Pd.row,Pd.content),children:t});function _q(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_q(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yl(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_q(t))&&(r&&(r+=" "),r+=e);return r}const Vg=t=>typeof t=="number"&&!isNaN(t),$c=t=>typeof t=="string",ja=t=>typeof t=="function",T_=t=>$c(t)||ja(t)?t:null,$C=t=>ae.isValidElement(t)||$c(t)||ja(t)||Vg(t);function Lge(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function J0(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=t;return function(s){let{children:o,position:l,preventExitTransition:f,done:h,nodeRef:p,isIn:m,playToast:y}=s;const _=r?`${e}--${l}`:e,b=r?`${n}--${l}`:n,S=ae.useRef(0);return ae.useLayoutEffect(()=>{const x=p.current,E=_.split(" "),A=I=>{I.target===p.current&&(y(),x.removeEventListener("animationend",A),x.removeEventListener("animationcancel",A),S.current===0&&I.type!=="animationcancel"&&x.classList.remove(...E))};x.classList.add(...E),x.addEventListener("animationend",A),x.addEventListener("animationcancel",A)},[]),ae.useEffect(()=>{const x=p.current,E=()=>{x.removeEventListener("animationend",E),i?Lge(x,h,a):h()};m||(f?E():(S.current=1,x.className+=` ${b}`,x.addEventListener("animationend",E)))},[m]),Gt.createElement(Gt.Fragment,null,o)}}function gj(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const sa=new Map;let Kg=[];const UC=new Set,Ige=t=>UC.forEach(e=>e(t)),wq=()=>sa.size>0;function bq(t,e){var n;if(e)return!((n=sa.get(e))==null||!n.isToastActive(t));let r=!1;return sa.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Sq(t,e){$C(t)&&(wq()||Kg.push({content:t,options:e}),sa.forEach(n=>{n.buildToast(t,e)}))}function mj(t,e){sa.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function Mge(t){const{subscribe:e,getSnapshot:n,setProps:r}=ae.useRef(function(a){const s=a.containerId||1;return{subscribe(o){const l=function(h,p,m){let y=1,_=0,b=[],S=[],x=[],E=p;const A=new Map,I=new Set,M=()=>{x=Array.from(A.values()),I.forEach(Q=>Q())},D=Q=>{S=Q==null?[]:S.filter(Y=>Y!==Q),M()},j=Q=>{const{toastId:Y,onOpen:q,updateId:Z,children:fe}=Q.props,te=Z==null;Q.staleId&&A.delete(Q.staleId),A.set(Y,Q),S=[...S,Q.props.toastId].filter(oe=>oe!==Q.staleId),M(),m(gj(Q,te?"added":"updated")),te&&ja(q)&&q(ae.isValidElement(fe)&&fe.props)};return{id:h,props:E,observe:Q=>(I.add(Q),()=>I.delete(Q)),toggle:(Q,Y)=>{A.forEach(q=>{Y!=null&&Y!==q.props.toastId||ja(q.toggle)&&q.toggle(Q)})},removeToast:D,toasts:A,clearQueue:()=>{_-=b.length,b=[]},buildToast:(Q,Y)=>{if((me=>{let{containerId:H,toastId:J,updateId:pe}=me;const Ae=H?H!==h:h!==1,Je=A.has(J)&&pe==null;return Ae||Je})(Y))return;const{toastId:q,updateId:Z,data:fe,staleId:te,delay:oe}=Y,ge=()=>{D(q)},_e=Z==null;_e&&_++;const le={...E,style:E.toastStyle,key:y++,...Object.fromEntries(Object.entries(Y).filter(me=>{let[H,J]=me;return J!=null})),toastId:q,updateId:Z,data:fe,closeToast:ge,isIn:!1,className:T_(Y.className||E.toastClassName),bodyClassName:T_(Y.bodyClassName||E.bodyClassName),progressClassName:T_(Y.progressClassName||E.progressClassName),autoClose:!Y.isLoading&&(ce=Y.autoClose,Le=E.autoClose,ce===!1||Vg(ce)&&ce>0?ce:Le),deleteToast(){const me=A.get(q),{onClose:H,children:J}=me.props;ja(H)&&H(ae.isValidElement(J)&&J.props),m(gj(me,"removed")),A.delete(q),_--,_<0&&(_=0),b.length>0?j(b.shift()):M()}};var ce,Le;le.closeButton=E.closeButton,Y.closeButton===!1||$C(Y.closeButton)?le.closeButton=Y.closeButton:Y.closeButton===!0&&(le.closeButton=!$C(E.closeButton)||E.closeButton);let k=Q;ae.isValidElement(Q)&&!$c(Q.type)?k=ae.cloneElement(Q,{closeToast:ge,toastProps:le,data:fe}):ja(Q)&&(k=Q({closeToast:ge,toastProps:le,data:fe}));const ne={content:k,props:le,staleId:te};E.limit&&E.limit>0&&_>E.limit&&_e?b.push(ne):Vg(oe)?setTimeout(()=>{j(ne)},oe):j(ne)},setProps(Q){E=Q},setToggle:(Q,Y)=>{A.get(Q).toggle=Y},isToastActive:Q=>S.some(Y=>Y===Q),getSnapshot:()=>E.newestOnTop?x.reverse():x}}(s,a,Ige);sa.set(s,l);const f=l.observe(o);return Kg.forEach(h=>Sq(h.content,h.options)),Kg=[],()=>{f(),sa.delete(s)}},setProps(o){var l;(l=sa.get(s))==null||l.setProps(o)},getSnapshot(){var o;return(o=sa.get(s))==null?void 0:o.getSnapshot()}}}(t)).current;r(t);const i=ae.useSyncExternalStore(e,n,n);return{getToastToRender:function(a){if(!i)return[];const s=new Map;return i.forEach(o=>{const{position:l}=o.props;s.has(l)||s.set(l,[]),s.get(l).push(o)}),Array.from(s,o=>a(o[0],o[1]))},isToastActive:bq,count:i==null?void 0:i.length}}function Dge(t){const[e,n]=ae.useState(!1),[r,i]=ae.useState(!1),a=ae.useRef(null),s=ae.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:f,onClick:h,closeOnClick:p}=t;var m,y;function _(){n(!0)}function b(){n(!1)}function S(A){const I=a.current;s.canDrag&&I&&(s.didMove=!0,e&&b(),s.delta=t.draggableDirection==="x"?A.clientX-s.start:A.clientY-s.start,s.start!==A.clientX&&(s.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function x(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",x);const A=a.current;if(s.canDrag&&s.didMove&&A){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=sa.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),ae.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||b(),window.addEventListener("focus",_),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",b)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(A){if(t.draggable===!0||t.draggable===A.pointerType){s.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",x);const I=a.current;s.canCloseOnClick=!0,s.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(s.start=A.clientX,s.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(s.start=A.clientY,s.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(A){const{top:I,bottom:M,left:D,right:j}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=D&&A.clientX<=j&&A.clientY>=I&&A.clientY<=M?b():_()}};return o&&l&&(E.onMouseEnter=b,t.stacked||(E.onMouseLeave=_)),p&&(E.onClick=A=>{h&&h(A),s.canCloseOnClick&&f()}),{playToast:_,pauseToast:b,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:E}}function kge(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:a,className:s,style:o,controlledProgress:l,progress:f,rtl:h,isIn:p,theme:m}=t;const y=a||l&&f===0,_={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(_.transform=`scaleX(${f})`);const b=yl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),S=ja(s)?s({rtl:h,type:i,defaultClassName:b}):yl(b,s),x={[l&&f>=1?"onTransitionEnd":"onAnimationEnd"]:l&&f<1?null:()=>{p&&r()}};return Gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Gt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:_,...x}))}let Nge=1;const xq=()=>""+Nge++;function Fge(t){return t&&($c(t.toastId)||Vg(t.toastId))?t.toastId:xq()}function Rg(t,e){return Sq(t,e),e.toastId}function Y_(t,e){return{...e,type:e&&e.type||t,toastId:Fge(e)}}function uv(t){return(e,n)=>Rg(e,Y_(t,n))}function br(t,e){return Rg(t,Y_("default",e))}br.loading=(t,e)=>Rg(t,Y_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),br.promise=function(t,e,n){let r,{pending:i,error:a,success:s}=e;i&&(r=$c(i)?br.loading(i,n):br.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,m)=>{if(p==null)return void br.dismiss(r);const y={type:h,...o,...n,data:m},_=$c(p)?{render:p}:p;return r?br.update(r,{...y,..._}):br(_.render,{...y,..._}),m},f=ja(t)?t():t;return f.then(h=>l("success",s,h)).catch(h=>l("error",a,h)),f},br.success=uv("success"),br.info=uv("info"),br.error=uv("error"),br.warning=uv("warning"),br.warn=br.warning,br.dark=(t,e)=>Rg(t,Y_("default",{theme:"dark",...e})),br.dismiss=function(t){(function(e){var n;if(wq()){if(e==null||$c(n=e)||Vg(n))sa.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=sa.get(e.containerId);r?r.removeToast(e.id):sa.forEach(i=>{i.removeToast(e.id)})}}else Kg=Kg.filter(r=>e!=null&&r.options.toastId!==e)})(t)},br.clearWaitingQueue=function(t){t===void 0&&(t={}),sa.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},br.isActive=bq,br.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var a;let{containerId:s}=i;return(a=sa.get(s||1))==null?void 0:a.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:xq()};a.toastId!==t&&(a.staleId=t);const s=a.render||i;delete a.render,Rg(s,a)}},br.done=t=>{br.update(t,{progress:1})},br.onChange=function(t){return UC.add(t),()=>{UC.delete(t)}},br.play=t=>mj(!0,t),br.pause=t=>mj(!1,t);const jge=typeof window<"u"?ae.useLayoutEffect:ae.useEffect,lv=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},BT={info:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Gt.createElement(lv,{...t},Gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Gt.createElement("div",{className:"Toastify__spinner"})}},$ge=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=Dge(t),{closeButton:s,children:o,autoClose:l,onClick:f,type:h,hideProgressBar:p,closeToast:m,transition:y,position:_,className:b,style:S,bodyClassName:x,bodyStyle:E,progressClassName:A,progressStyle:I,updateId:M,role:D,progress:j,rtl:Q,toastId:Y,deleteToast:q,isIn:Z,isLoading:fe,closeOnClick:te,theme:oe}=t,ge=yl("Toastify__toast",`Toastify__toast-theme--${oe}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),_e=ja(b)?b({rtl:Q,position:_,type:h,defaultClassName:ge}):yl(ge,b),le=function(ne){let{theme:me,type:H,isLoading:J,icon:pe}=ne,Ae=null;const Je={theme:me,type:H};return pe===!1||(ja(pe)?Ae=pe({...Je,isLoading:J}):ae.isValidElement(pe)?Ae=ae.cloneElement(pe,Je):J?Ae=BT.spinner():(Re=>Re in BT)(H)&&(Ae=BT[H](Je))),Ae}(t),ce=!!j||!l,Le={closeToast:m,type:h,theme:oe};let k=null;return s===!1||(k=ja(s)?s(Le):ae.isValidElement(s)?ae.cloneElement(s,Le):function(ne){let{closeToast:me,theme:H,ariaLabel:J="close"}=ne;return Gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:pe=>{pe.stopPropagation(),me(pe)},"aria-label":J},Gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Le)),Gt.createElement(y,{isIn:Z,done:q,position:_,preventExitTransition:n,nodeRef:r,playToast:a},Gt.createElement("div",{id:Y,onClick:f,"data-in":Z,className:_e,...i,style:S,ref:r},Gt.createElement("div",{...Z&&{role:D},className:ja(x)?x({type:h}):yl("Toastify__toast-body",x),style:E},le!=null&&Gt.createElement("div",{className:yl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!fe})},le),Gt.createElement("div",null,o)),k,Gt.createElement(kge,{...M&&!ce?{key:`pb-${M}`}:{},rtl:Q,theme:oe,delay:l,isRunning:e,isIn:Z,closeToast:m,hide:p,type:h,style:I,className:A,controlledProgress:ce,progress:j||0})))},Y0=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Uge=J0(Y0("bounce",!0)),Bge=J0(Y0("slide",!0));J0(Y0("zoom"));J0(Y0("flip"));const qge={position:"top-right",transition:Uge,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function zge(t){let e={...qge,...t};const n=t.stacked,[r,i]=ae.useState(!0),a=ae.useRef(null),{getToastToRender:s,isToastActive:o,count:l}=Mge(e),{className:f,style:h,rtl:p,containerId:m}=e;function y(b){const S=yl("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":p});return ja(f)?f({position:b,rtl:p,defaultClassName:S}):yl(S,T_(f))}function _(){n&&(i(!0),br.play())}return jge(()=>{if(n){var b;const S=a.current.querySelectorAll('[data-in="true"]'),x=12,E=(b=e.position)==null?void 0:b.includes("top");let A=0,I=0;Array.from(S).reverse().forEach((M,D)=>{const j=M;j.classList.add("Toastify__toast--stacked"),D>0&&(j.dataset.collapsed=`${r}`),j.dataset.pos||(j.dataset.pos=E?"top":"bot");const Q=A*(r?.2:1)+(r?0:x*D);j.style.setProperty("--y",`${E?Q:-1*Q}px`),j.style.setProperty("--g",`${x}`),j.style.setProperty("--s",""+(1-(r?I:0))),A+=j.offsetHeight,I+=.025})}},[r,l,n]),Gt.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),br.pause())},onMouseLeave:_},s((b,S)=>{const x=S.length?{...h}:{...h,pointerEvents:"none"};return Gt.createElement("div",{className:y(b),style:x,key:`container-${b}`},S.map(E=>{let{content:A,props:I}=E;return Gt.createElement($ge,{...I,stacked:n,collapseAll:_,isIn:o(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},A)}))}))}const Hge=()=>{Pce(),bge();const t=Vd(),e=Ui();return Sge(),ae.useEffect(()=>{(async()=>{const n=await zZ({restorePreviousSession:!0});n&&t(PA.signin(n))})()},[t]),de.jsxs(Rge,{children:[de.jsx(_ge,{}),de.jsx(zge,{transition:Bge}),de.jsx(Pge,{children:de.jsx(lge,{})}),de.jsx(Oge,{children:e.isLoggedIn===void 0?de.jsx(de.Fragment,{children:"Loading..."}):de.jsx(v0,{})})]})};function Vge(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Kge=/[ \t\n\f\r]/g;function Gge(t){return typeof t=="object"?t.type==="text"?yj(t.value):!1:yj(t)}function yj(t){return t.replace(Kge,"")===""}class Em{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Em.prototype.property={};Em.prototype.normal={};Em.prototype.space=null;function Eq(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Em(n,r,e)}function BC(t){return t.toLowerCase()}class hs{constructor(e,n){this.property=e,this.attribute=n}}hs.prototype.space=null;hs.prototype.boolean=!1;hs.prototype.booleanish=!1;hs.prototype.overloadedBoolean=!1;hs.prototype.number=!1;hs.prototype.commaSeparated=!1;hs.prototype.spaceSeparated=!1;hs.prototype.commaOrSpaceSeparated=!1;hs.prototype.mustUseProperty=!1;hs.prototype.defined=!1;let Wge=0;const vn=Xc(),Yr=Xc(),Tq=Xc(),Pt=Xc(),Sr=Xc(),id=Xc(),ka=Xc();function Xc(){return 2**++Wge}const qC=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Yr,commaOrSpaceSeparated:ka,commaSeparated:id,number:Pt,overloadedBoolean:Tq,spaceSeparated:Sr},Symbol.toStringTag,{value:"Module"})),qT=Object.keys(qC);class AR extends hs{constructor(e,n,r,i){let a=-1;if(super(e,n),vj(this,"space",i),typeof r=="number")for(;++a<qT.length;){const s=qT[a];vj(this,qT[a],(r&qC[s])===qC[s])}}}AR.prototype.defined=!0;function vj(t,e,n){n&&(t[e]=n)}const Qge={}.hasOwnProperty;function th(t){const e={},n={};let r;for(r in t.properties)if(Qge.call(t.properties,r)){const i=t.properties[r],a=new AR(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[BC(r)]=r,n[BC(a.attribute)]=r}return new Em(e,n,t.space)}const Cq=th({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Aq=th({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Rq(t,e){return e in t?t[e]:e}function Pq(t,e){return Rq(t,e.toLowerCase())}const Oq=th({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Pq,properties:{xmlns:null,xmlnsXLink:null}}),Lq=th({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:Pt,ariaColIndex:Pt,ariaColSpan:Pt,ariaControls:Sr,ariaCurrent:null,ariaDescribedBy:Sr,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:Sr,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:Sr,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Sr,ariaLevel:Pt,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:Sr,ariaPlaceholder:null,ariaPosInSet:Pt,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:Sr,ariaRowCount:Pt,ariaRowIndex:Pt,ariaRowSpan:Pt,ariaSelected:Yr,ariaSetSize:Pt,ariaSort:null,ariaValueMax:Pt,ariaValueMin:Pt,ariaValueNow:Pt,ariaValueText:null,role:null}}),Zge=th({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Pq,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:id,acceptCharset:Sr,accessKey:Sr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:Sr,autoFocus:vn,autoPlay:vn,blocking:Sr,capture:vn,charSet:null,checked:vn,cite:null,className:Sr,cols:Pt,colSpan:null,content:null,contentEditable:Yr,controls:vn,controlsList:Sr,coords:Pt|id,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:Tq,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:Sr,height:Pt,hidden:vn,high:Pt,href:null,hrefLang:null,htmlFor:Sr,httpEquiv:Sr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:Sr,itemRef:Sr,itemScope:vn,itemType:Sr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:Pt,manifest:null,max:null,maxLength:Pt,media:null,method:null,min:null,minLength:Pt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:Pt,pattern:null,ping:Sr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:Sr,required:vn,reversed:vn,rows:Pt,rowSpan:Pt,sandbox:Sr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:Pt,sizes:null,slot:null,span:Pt,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pt,step:null,style:null,tabIndex:Pt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Yr,width:Pt,wrap:null,align:null,aLink:null,archive:Sr,axis:null,background:null,bgColor:null,border:Pt,borderColor:null,bottomMargin:Pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:Pt,leftMargin:Pt,link:null,longDesc:null,lowSrc:null,marginHeight:Pt,marginWidth:Pt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:Pt,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:Pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:Pt,security:null,unselectable:null}}),Jge=th({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Rq,properties:{about:ka,accentHeight:Pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pt,amplitude:Pt,arabicForm:null,ascent:Pt,attributeName:null,attributeType:null,azimuth:Pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pt,by:null,calcMode:null,capHeight:Pt,className:Sr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pt,diffuseConstant:Pt,direction:null,display:null,dur:null,divisor:Pt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pt,enableBackground:null,end:null,event:null,exponent:Pt,externalResourcesRequired:null,fill:null,fillOpacity:Pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:id,g2:id,glyphName:id,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pt,horizOriginX:Pt,horizOriginY:Pt,id:null,ideographic:Pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pt,k:Pt,k1:Pt,k2:Pt,k3:Pt,k4:Pt,kernelMatrix:ka,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pt,overlineThickness:Pt,paintOrder:null,panose1:null,path:null,pathLength:Pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Sr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pt,pointsAtY:Pt,pointsAtZ:Pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ka,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ka,rev:ka,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ka,requiredFeatures:ka,requiredFonts:ka,requiredFormats:ka,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pt,specularExponent:Pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pt,strikethroughThickness:Pt,string:null,stroke:null,strokeDashArray:ka,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pt,strokeOpacity:Pt,strokeWidth:null,style:null,surfaceScale:Pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ka,tabIndex:Pt,tableValues:null,target:null,targetX:Pt,targetY:Pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ka,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pt,underlineThickness:Pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pt,values:null,vAlphabetic:Pt,vMathematical:Pt,vectorEffect:null,vHanging:Pt,vIdeographic:Pt,version:null,vertAdvY:Pt,vertOriginX:Pt,vertOriginY:Pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Yge=/^data[-\w.:]+$/i,_j=/-[a-z]/g,Xge=/[A-Z]/g;function eme(t,e){const n=BC(e);let r=e,i=hs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Yge.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(_j,nme);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!_j.test(a)){let s=a.replace(Xge,tme);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=AR}return new i(r,e)}function tme(t){return"-"+t.toLowerCase()}function nme(t){return t.charAt(1).toUpperCase()}const rme={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ime=Eq([Aq,Cq,Oq,Lq,Zge],"html"),Iq=Eq([Aq,Cq,Oq,Lq,Jge],"svg");function ame(t){return t.join(" ").trim()}var cv={exports:{}},zT,wj;function sme(){if(wj)return zT;wj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,f="/",h="*",p="",m="comment",y="declaration";zT=function(b,S){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];S=S||{};var x=1,E=1;function A(te){var oe=te.match(e);oe&&(x+=oe.length);var ge=te.lastIndexOf(l);E=~ge?te.length-ge:E+te.length}function I(){var te={line:x,column:E};return function(oe){return oe.position=new M(te),Q(),oe}}function M(te){this.start=te,this.end={line:x,column:E},this.source=S.source}M.prototype.content=b;function D(te){var oe=new Error(S.source+":"+x+":"+E+": "+te);if(oe.reason=te,oe.filename=S.source,oe.line=x,oe.column=E,oe.source=b,!S.silent)throw oe}function j(te){var oe=te.exec(b);if(oe){var ge=oe[0];return A(ge),b=b.slice(ge.length),oe}}function Q(){j(n)}function Y(te){var oe;for(te=te||[];oe=q();)oe!==!1&&te.push(oe);return te}function q(){var te=I();if(!(f!=b.charAt(0)||h!=b.charAt(1))){for(var oe=2;p!=b.charAt(oe)&&(h!=b.charAt(oe)||f!=b.charAt(oe+1));)++oe;if(oe+=2,p===b.charAt(oe-1))return D("End of comment missing");var ge=b.slice(2,oe-2);return E+=2,A(ge),b=b.slice(oe),E+=2,te({type:m,comment:ge})}}function Z(){var te=I(),oe=j(r);if(oe){if(q(),!j(i))return D("property missing ':'");var ge=j(a),_e=te({type:y,property:_(oe[0].replace(t,p)),value:ge?_(ge[0].replace(t,p)):p});return j(s),_e}}function fe(){var te=[];Y(te);for(var oe;oe=Z();)oe!==!1&&(te.push(oe),Y(te));return te}return Q(),fe()};function _(b){return b?b.replace(o,p):p}return zT}var bj;function ome(){if(bj)return cv.exports;bj=1;var t=sme();function e(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,s=t(n),o=typeof r=="function",l,f,h=0,p=s.length;h<p;h++)a=s[h],l=a.property,f=a.value,o?r(l,f,a):f&&(i||(i={}),i[l]=f);return i}return cv.exports=e,cv.exports.default=e,cv.exports}var ume=ome();const lme=Gr(ume),Mq=Dq("end"),RR=Dq("start");function Dq(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function cme(t){const e=RR(t),n=Mq(t);if(e&&n)return{start:e,end:n}}function Pg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Sj(t.position):"start"in t||"end"in t?Sj(t):"line"in t||"column"in t?zC(t):""}function zC(t){return xj(t&&t.line)+":"+xj(t&&t.column)}function Sj(t){return zC(t&&t.start)+"-"+zC(t&&t.end)}function xj(t){return t&&typeof t=="number"?t:1}class ua extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=Pg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ua.prototype.file="";ua.prototype.name="";ua.prototype.reason="";ua.prototype.message="";ua.prototype.stack="";ua.prototype.column=void 0;ua.prototype.line=void 0;ua.prototype.ancestors=void 0;ua.prototype.cause=void 0;ua.prototype.fatal=void 0;ua.prototype.place=void 0;ua.prototype.ruleId=void 0;ua.prototype.source=void 0;const PR={}.hasOwnProperty,fme=new Map,dme=/[A-Z]/g,hme=/-([a-z])/g,pme=new Set(["table","tbody","thead","tfoot","tr"]),gme=new Set(["td","th"]);function mme(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vme(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yme(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Iq:ime,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=kq(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function kq(t,e,n){if(e.type==="element"||e.type==="root"){const r=t.schema;let i=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Iq,t.schema=i),t.ancestors.push(e);let a=_me(t,e);const s=wme(t,t.ancestors);let o=t.Fragment;if(t.ancestors.pop(),e.type==="element")if(a&&pme.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Gge(l):!0})),PR.call(t.components,e.tagName)){const l=e.tagName;o=t.components[l],typeof o!="string"&&o!==t.Fragment&&t.passNode&&(s.node=e)}else o=e.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(s.children=l)}return t.schema=r,t.create(e,o,s,n)}if(e.type==="text")return e.value}function yme(t,e,n){return r;function r(i,a,s,o){const f=Array.isArray(s.children)?n:e;return o?f(a,s,o):f(a,s)}}function vme(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=RR(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function _me(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:fme;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;s=a.tagName+"-"+l,i.set(a.tagName,l+1)}const o=kq(t,a,s);o!==void 0&&n.push(o)}return n}function wme(t,e){const n=e[e.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&PR.call(n.properties,i)){const s=bme(t,e,i,n.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&gme.has(n.tagName)?a=l:r[o]=l}}if(a){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function bme(t,e,n,r){const i=eme(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Vge(r):ame(r)),i.property==="style"){let a=typeof r=="object"?r:Sme(t,e,String(r));return t.stylePropertyNameCase==="css"&&(a=xme(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?rme[i.property]||i.property:i.attribute,r]}}function Sme(t,e,n){const r={};try{lme(n,i)}catch(a){if(!t.ignoreInvalidStyle){const s=a,o=new ua("Cannot parse `style` attribute",{ancestors:e,cause:s,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw o.file=t.filePath||void 0,o.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",o}}return r;function i(a,s){let o=a;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(hme,Tme)),r[o]=s}}function xme(t){const e={};let n;for(n in t)PR.call(t,n)&&(e[Eme(n)]=t[n]);return e}function Eme(t){let e=t.replace(dme,Cme);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Tme(t,e){return e.toUpperCase()}function Cme(t){return"-"+t.toLowerCase()}const HT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ame={};function Rme(t,e){const n=Ame,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Nq(t,r,i)}function Nq(t,e,n){if(Pme(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ej(t.children,e,n)}return Array.isArray(t)?Ej(t,e,n):""}function Ej(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Nq(t[i],e,n);return r.join("")}function Pme(t){return!!(t&&typeof t=="object")}const Tj=document.createElement("i");function OR(t){const e="&"+t+";";Tj.innerHTML=e;const n=Tj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function po(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function ls(t,e){return t.length>0?(po(t,t.length,0,e),t):e}const Cj={}.hasOwnProperty;function Ome(t){const e={};let n=-1;for(;++n<t.length;)Lme(e,t[n]);return e}function Lme(t,e){let n;for(n in e){const i=(Cj.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){Cj.call(i,s)||(i[s]=[]);const o=a[s];Ime(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Ime(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);po(t,0,0,r)}function Fq(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ad(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mme=Al(new RegExp("\\p{P}","u")),so=Al(/[A-Za-z]/),$a=Al(/[\dA-Za-z]/),Dme=Al(/[#-'*+\--9=?A-Z^-~]/);function HC(t){return t!==null&&(t<32||t===127)}const VC=Al(/\d/),kme=Al(/[\dA-Fa-f]/),jq=Al(/[!-/:-@[-`{-~]/);function cn(t){return t!==null&&t<-2}function _a(t){return t!==null&&(t<0||t===32)}function Qn(t){return t===-2||t===-1||t===32}function Nme(t){return jq(t)||Mme(t)}const Fme=Al(/\s/);function Al(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function nh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&$a(t.charCodeAt(n+1))&&$a(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function xr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Qn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Qn(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const jme={tokenize:$me};function $me(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),xr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return cn(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Ume={tokenize:Bme},Aj={tokenize:qme};function Bme(t){const e=this,n=[];let r=0,i,a,s;return o;function o(A){if(r<n.length){const I=n[r];return e.containerState=I[1],t.attempt(I[0].continuation,l,f)(A)}return f(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const I=e.events.length;let M=I,D;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){D=e.events[M][1].end;break}x(r);let j=I;for(;j<e.events.length;)e.events[j][1].end=Object.assign({},D),j++;return po(e.events,M+1,0,e.events.slice(I)),e.events.length=j,f(A)}return o(A)}function f(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return _(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Aj,h,p)(A)}function h(A){return i&&E(),x(r),m(A)}function p(A){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,_(A)}function m(A){return e.containerState={},t.attempt(Aj,y,_)(A)}function y(A){return r++,n.push([e.currentConstruct,e.containerState]),m(A)}function _(A){if(A===null){i&&E(),x(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),b(A)}function b(A){if(A===null){S(t.exit("chunkFlow"),!0),x(0),t.consume(A);return}return cn(A)?(t.consume(A),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(A),b)}function S(A,I){const M=e.sliceStream(A);if(I&&M.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(M),e.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<s&&(!i.events[D][1].end||i.events[D][1].end.offset>s))return;const j=e.events.length;let Q=j,Y,q;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){if(Y){q=e.events[Q][1].end;break}Y=!0}for(x(r),D=j;D<e.events.length;)e.events[D][1].end=Object.assign({},q),D++;po(e.events,Q+1,0,e.events.slice(j)),e.events.length=D}}function x(A){let I=n.length;for(;I-- >A;){const M=n[I];e.containerState=M[1],M[0].exit.call(e,t)}n.length=A}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function qme(t,e,n){return xr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rj(t){if(t===null||_a(t)||Fme(t))return 1;if(Nme(t))return 2}function LR(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const KC={name:"attention",tokenize:Hme,resolveAll:zme};function zme(t,e){let n=-1,r,i,a,s,o,l,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);Pj(p,-l),Pj(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},o.end),f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=ls(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=ls(f,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),f=ls(f,LR(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=ls(f,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=ls(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,po(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Hme(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Rj(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const f=t.exit("attentionSequence"),h=Rj(l),p=!h||h===2&&i||n.includes(l),m=!i||i===2&&h||n.includes(r);return f._open=!!(a===42?p:p&&(i||!m)),f._close=!!(a===42?m:m&&(h||!p)),e(l)}}function Pj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Vme={name:"autolink",tokenize:Kme};function Kme(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return so(y)?(t.consume(y),s):f(y)}function s(y){return y===43||y===45||y===46||$a(y)?(r=1,o(y)):f(y)}function o(y){return y===58?(t.consume(y),r=0,l):(y===43||y===45||y===46||$a(y))&&r++<32?(t.consume(y),o):(r=0,f(y))}function l(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||HC(y)?n(y):(t.consume(y),l)}function f(y){return y===64?(t.consume(y),h):Dme(y)?(t.consume(y),f):n(y)}function h(y){return $a(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||$a(y))&&r++<63){const _=y===45?m:p;return t.consume(y),_}return n(y)}}const X0={tokenize:Gme,partial:!0};function Gme(t,e,n){return r;function r(a){return Qn(a)?xr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||cn(a)?e(a):n(a)}}const $q={name:"blockQuote",tokenize:Wme,continuation:{tokenize:Qme},exit:Zme};function Wme(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Qn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Qme(t,e,n){const r=this;return i;function i(s){return Qn(s)?xr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt($q,e,n)(s)}}function Zme(t){t.exit("blockQuote")}const Uq={name:"characterEscape",tokenize:Jme};function Jme(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return jq(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Bq={name:"characterReference",tokenize:Yme};function Yme(t,e,n){const r=this;let i=0,a,s;return o;function o(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),l}function l(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,s=$a,h(p))}function f(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=kme,h):(t.enter("characterReferenceValue"),a=7,s=VC,h(p))}function h(p){if(p===59&&i){const m=t.exit("characterReferenceValue");return s===$a&&!OR(r.sliceSerialize(m))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),h):n(p)}}const Oj={tokenize:eye,partial:!0},Lj={name:"codeFenced",tokenize:Xme,concrete:!0};function Xme(t,e,n){const r=this,i={tokenize:M,partial:!0};let a=0,s=0,o;return l;function l(D){return f(D)}function f(D){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===o?(s++,t.consume(D),h):s<3?n(D):(t.exit("codeFencedFenceSequence"),Qn(D)?xr(t,p,"whitespace")(D):p(D))}function p(D){return D===null||cn(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(Oj,b,I)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||cn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(D)):Qn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),xr(t,y,"whitespace")(D)):D===96&&D===o?n(D):(t.consume(D),m)}function y(D){return D===null||cn(D)?p(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(D))}function _(D){return D===null||cn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(D)):D===96&&D===o?n(D):(t.consume(D),_)}function b(D){return t.attempt(i,I,S)(D)}function S(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),x}function x(D){return a>0&&Qn(D)?xr(t,E,"linePrefix",a+1)(D):E(D)}function E(D){return D===null||cn(D)?t.check(Oj,b,I)(D):(t.enter("codeFlowValue"),A(D))}function A(D){return D===null||cn(D)?(t.exit("codeFlowValue"),E(D)):(t.consume(D),A)}function I(D){return t.exit("codeFenced"),e(D)}function M(D,j,Q){let Y=0;return q;function q(ge){return D.enter("lineEnding"),D.consume(ge),D.exit("lineEnding"),Z}function Z(ge){return D.enter("codeFencedFence"),Qn(ge)?xr(D,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):fe(ge)}function fe(ge){return ge===o?(D.enter("codeFencedFenceSequence"),te(ge)):Q(ge)}function te(ge){return ge===o?(Y++,D.consume(ge),te):Y>=s?(D.exit("codeFencedFenceSequence"),Qn(ge)?xr(D,oe,"whitespace")(ge):oe(ge)):Q(ge)}function oe(ge){return ge===null||cn(ge)?(D.exit("codeFencedFence"),j(ge)):Q(ge)}}}function eye(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const VT={name:"codeIndented",tokenize:nye},tye={tokenize:rye,partial:!0};function nye(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),xr(t,a,"linePrefix",5)(f)}function a(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(f):n(f)}function s(f){return f===null?l(f):cn(f)?t.attempt(tye,s,l)(f):(t.enter("codeFlowValue"),o(f))}function o(f){return f===null||cn(f)?(t.exit("codeFlowValue"),s(f)):(t.consume(f),o)}function l(f){return t.exit("codeIndented"),e(f)}}function rye(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):cn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):xr(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):cn(s)?i(s):n(s)}}const iye={name:"codeText",tokenize:oye,resolve:aye,previous:sye};function aye(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function sye(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oye(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),o(p)}function o(p){return p===96?(t.consume(p),r++,o):(t.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),l):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):cn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),l):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||cn(p)?(t.exit("codeTextData"),l(p)):(t.consume(p),f)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",f(p))}}function qq(t){const e={};let n=-1,r,i,a,s,o,l,f;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uye(t,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=t[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},t[i][1].start),o=t.slice(i,n),o.unshift(r),po(t,i,n-i+1,o))}}return!f}function uye(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],f={};let h,p,m=-1,y=n,_=0,b=0;const S=[b];for(;y;){for(;t[++i][1]!==y;);a.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(b=m+1,S.push(b),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),m=S.length;m--;){const x=o.slice(S[m],S[m+1]),E=a.pop();l.unshift([E,E+x.length-1]),po(t,E,2,x)}for(m=-1;++m<l.length;)f[_+l[m][0]]=_+l[m][1],_+=l[m][1]-l[m][0]-1;return f}const lye={tokenize:dye,resolve:fye},cye={tokenize:hye,partial:!0};function fye(t){return qq(t),t}function dye(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):cn(o)?t.check(cye,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hye(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),xr(t,a,"linePrefix")}function a(s){if(s===null||cn(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function zq(t,e,n,r,i,a,s,o,l){const f=l||Number.POSITIVE_INFINITY;let h=0;return p;function p(x){return x===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(x),t.exit(a),m):x===null||x===32||x===41||HC(x)?n(x):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),b(x))}function m(x){return x===62?(t.enter(a),t.consume(x),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===62?(t.exit("chunkString"),t.exit(o),m(x)):x===null||x===60||cn(x)?n(x):(t.consume(x),x===92?_:y)}function _(x){return x===60||x===62||x===92?(t.consume(x),y):y(x)}function b(x){return!h&&(x===null||x===41||_a(x))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(x)):h<f&&x===40?(t.consume(x),h++,b):x===41?(t.consume(x),h--,b):x===null||x===32||x===40||HC(x)?n(x):(t.consume(x),x===92?S:b)}function S(x){return x===40||x===41||x===92?(t.consume(x),b):b(x)}}function Hq(t,e,n,r,i,a){const s=this;let o=0,l;return f;function f(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),h}function h(y){return o>999||y===null||y===91||y===93&&!l||y===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):cn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||cn(y)||o++>999?(t.exit("chunkString"),h(y)):(t.consume(y),l||(l=!Qn(y)),y===92?m:p)}function m(y){return y===91||y===92||y===93?(t.consume(y),o++,p):p(y)}}function Vq(t,e,n,r,i,a){let s;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),s=m===40?41:m,l):n(m)}function l(m){return m===s?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),f(m))}function f(m){return m===s?(t.exit(a),l(s)):m===null?n(m):cn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),xr(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===s||m===null||cn(m)?(t.exit("chunkString"),f(m)):(t.consume(m),m===92?p:h)}function p(m){return m===s||m===92?(t.consume(m),h):h(m)}}function Og(t,e){let n;return r;function r(i){return cn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Qn(i)?xr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const pye={name:"definition",tokenize:mye},gye={tokenize:yye,partial:!0};function mye(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),s(y)}function s(y){return Hq.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return i=ad(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),l):n(y)}function l(y){return _a(y)?Og(t,f)(y):f(y)}function f(y){return zq(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(gye,p,p)(y)}function p(y){return Qn(y)?xr(t,m,"whitespace")(y):m(y)}function m(y){return y===null||cn(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function yye(t,e,n){return r;function r(o){return _a(o)?Og(t,i)(o):n(o)}function i(o){return Vq(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Qn(o)?xr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||cn(o)?e(o):n(o)}}const vye={name:"hardBreakEscape",tokenize:_ye};function _ye(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return cn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const wye={name:"headingAtx",tokenize:Sye,resolve:bye};function bye(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},po(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function Sye(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||_a(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||cn(h)?(t.exit("atxHeading"),e(h)):Qn(h)?xr(t,o,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function f(h){return h===null||h===35||_a(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),f)}}const xye=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ij=["pre","script","style","textarea"],Eye={name:"htmlFlow",tokenize:Rye,resolveTo:Aye,concrete:!0},Tye={tokenize:Oye,partial:!0},Cye={tokenize:Pye,partial:!0};function Aye(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Rye(t,e,n){const r=this;let i,a,s,o,l;return f;function f(H){return h(H)}function h(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),p}function p(H){return H===33?(t.consume(H),m):H===47?(t.consume(H),a=!0,b):H===63?(t.consume(H),i=3,r.interrupt?e:k):so(H)?(t.consume(H),s=String.fromCharCode(H),S):n(H)}function m(H){return H===45?(t.consume(H),i=2,y):H===91?(t.consume(H),i=5,o=0,_):so(H)?(t.consume(H),i=4,r.interrupt?e:k):n(H)}function y(H){return H===45?(t.consume(H),r.interrupt?e:k):n(H)}function _(H){const J="CDATA[";return H===J.charCodeAt(o++)?(t.consume(H),o===J.length?r.interrupt?e:fe:_):n(H)}function b(H){return so(H)?(t.consume(H),s=String.fromCharCode(H),S):n(H)}function S(H){if(H===null||H===47||H===62||_a(H)){const J=H===47,pe=s.toLowerCase();return!J&&!a&&Ij.includes(pe)?(i=1,r.interrupt?e(H):fe(H)):xye.includes(s.toLowerCase())?(i=6,J?(t.consume(H),x):r.interrupt?e(H):fe(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?E(H):A(H))}return H===45||$a(H)?(t.consume(H),s+=String.fromCharCode(H),S):n(H)}function x(H){return H===62?(t.consume(H),r.interrupt?e:fe):n(H)}function E(H){return Qn(H)?(t.consume(H),E):q(H)}function A(H){return H===47?(t.consume(H),q):H===58||H===95||so(H)?(t.consume(H),I):Qn(H)?(t.consume(H),A):q(H)}function I(H){return H===45||H===46||H===58||H===95||$a(H)?(t.consume(H),I):M(H)}function M(H){return H===61?(t.consume(H),D):Qn(H)?(t.consume(H),M):A(H)}function D(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),l=H,j):Qn(H)?(t.consume(H),D):Q(H)}function j(H){return H===l?(t.consume(H),l=null,Y):H===null||cn(H)?n(H):(t.consume(H),j)}function Q(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||_a(H)?M(H):(t.consume(H),Q)}function Y(H){return H===47||H===62||Qn(H)?A(H):n(H)}function q(H){return H===62?(t.consume(H),Z):n(H)}function Z(H){return H===null||cn(H)?fe(H):Qn(H)?(t.consume(H),Z):n(H)}function fe(H){return H===45&&i===2?(t.consume(H),_e):H===60&&i===1?(t.consume(H),le):H===62&&i===4?(t.consume(H),ne):H===63&&i===3?(t.consume(H),k):H===93&&i===5?(t.consume(H),Le):cn(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Tye,me,te)(H)):H===null||cn(H)?(t.exit("htmlFlowData"),te(H)):(t.consume(H),fe)}function te(H){return t.check(Cye,oe,me)(H)}function oe(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),ge}function ge(H){return H===null||cn(H)?te(H):(t.enter("htmlFlowData"),fe(H))}function _e(H){return H===45?(t.consume(H),k):fe(H)}function le(H){return H===47?(t.consume(H),s="",ce):fe(H)}function ce(H){if(H===62){const J=s.toLowerCase();return Ij.includes(J)?(t.consume(H),ne):fe(H)}return so(H)&&s.length<8?(t.consume(H),s+=String.fromCharCode(H),ce):fe(H)}function Le(H){return H===93?(t.consume(H),k):fe(H)}function k(H){return H===62?(t.consume(H),ne):H===45&&i===2?(t.consume(H),k):fe(H)}function ne(H){return H===null||cn(H)?(t.exit("htmlFlowData"),me(H)):(t.consume(H),ne)}function me(H){return t.exit("htmlFlow"),e(H)}}function Pye(t,e,n){const r=this;return i;function i(s){return cn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function Oye(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(X0,e,n)}}const Lye={name:"htmlText",tokenize:Iye};function Iye(t,e,n){const r=this;let i,a,s;return o;function o(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),l}function l(k){return k===33?(t.consume(k),f):k===47?(t.consume(k),M):k===63?(t.consume(k),A):so(k)?(t.consume(k),Q):n(k)}function f(k){return k===45?(t.consume(k),h):k===91?(t.consume(k),a=0,_):so(k)?(t.consume(k),E):n(k)}function h(k){return k===45?(t.consume(k),y):n(k)}function p(k){return k===null?n(k):k===45?(t.consume(k),m):cn(k)?(s=p,le(k)):(t.consume(k),p)}function m(k){return k===45?(t.consume(k),y):p(k)}function y(k){return k===62?_e(k):k===45?m(k):p(k)}function _(k){const ne="CDATA[";return k===ne.charCodeAt(a++)?(t.consume(k),a===ne.length?b:_):n(k)}function b(k){return k===null?n(k):k===93?(t.consume(k),S):cn(k)?(s=b,le(k)):(t.consume(k),b)}function S(k){return k===93?(t.consume(k),x):b(k)}function x(k){return k===62?_e(k):k===93?(t.consume(k),x):b(k)}function E(k){return k===null||k===62?_e(k):cn(k)?(s=E,le(k)):(t.consume(k),E)}function A(k){return k===null?n(k):k===63?(t.consume(k),I):cn(k)?(s=A,le(k)):(t.consume(k),A)}function I(k){return k===62?_e(k):A(k)}function M(k){return so(k)?(t.consume(k),D):n(k)}function D(k){return k===45||$a(k)?(t.consume(k),D):j(k)}function j(k){return cn(k)?(s=j,le(k)):Qn(k)?(t.consume(k),j):_e(k)}function Q(k){return k===45||$a(k)?(t.consume(k),Q):k===47||k===62||_a(k)?Y(k):n(k)}function Y(k){return k===47?(t.consume(k),_e):k===58||k===95||so(k)?(t.consume(k),q):cn(k)?(s=Y,le(k)):Qn(k)?(t.consume(k),Y):_e(k)}function q(k){return k===45||k===46||k===58||k===95||$a(k)?(t.consume(k),q):Z(k)}function Z(k){return k===61?(t.consume(k),fe):cn(k)?(s=Z,le(k)):Qn(k)?(t.consume(k),Z):Y(k)}function fe(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,te):cn(k)?(s=fe,le(k)):Qn(k)?(t.consume(k),fe):(t.consume(k),oe)}function te(k){return k===i?(t.consume(k),i=void 0,ge):k===null?n(k):cn(k)?(s=te,le(k)):(t.consume(k),te)}function oe(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||_a(k)?Y(k):(t.consume(k),oe)}function ge(k){return k===47||k===62||_a(k)?Y(k):n(k)}function _e(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function le(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),ce}function ce(k){return Qn(k)?xr(t,Le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Le(k)}function Le(k){return t.enter("htmlTextData"),s(k)}}const IR={name:"labelEnd",tokenize:jye,resolveTo:Fye,resolveAll:Nye},Mye={tokenize:$ye},Dye={tokenize:Uye},kye={tokenize:Bye};function Nye(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Fye(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},f={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[s][1].end)},h={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return o=[["enter",l,e],["enter",f,e]],o=ls(o,t.slice(a+1,a+r+3)),o=ls(o,[["enter",h,e]]),o=ls(o,LR(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=ls(o,[["exit",h,e],t[s-2],t[s-1],["exit",f,e]]),o=ls(o,t.slice(s+1)),o=ls(o,[["exit",l,e]]),po(t,a,t.length,o),t}function jye(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(m){return a?a._inactive?p(m):(s=r.parser.defined.includes(ad(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(Mye,h,s?h:p)(m):m===91?t.attempt(Dye,h,s?f:p)(m):s?h(m):p(m)}function f(m){return t.attempt(kye,h,p)(m)}function h(m){return e(m)}function p(m){return a._balanced=!0,n(m)}}function $ye(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return _a(p)?Og(t,a)(p):a(p)}function a(p){return p===41?h(p):zq(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return _a(p)?Og(t,l)(p):h(p)}function o(p){return n(p)}function l(p){return p===34||p===39||p===40?Vq(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return _a(p)?Og(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function Uye(t,e,n){const r=this;return i;function i(o){return Hq.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ad(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function Bye(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const qye={name:"labelStartImage",tokenize:zye,resolveAll:IR.resolveAll};function zye(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Hye={name:"labelStartLink",tokenize:Vye,resolveAll:IR.resolveAll};function Vye(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const KT={name:"lineEnding",tokenize:Kye};function Kye(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),xr(t,e,"linePrefix")}}const C_={name:"thematicBreak",tokenize:Gye};function Gye(t,e,n){let r=0,i;return a;function a(f){return t.enter("thematicBreak"),s(f)}function s(f){return i=f,o(f)}function o(f){return f===i?(t.enter("thematicBreakSequence"),l(f)):r>=3&&(f===null||cn(f))?(t.exit("thematicBreak"),e(f)):n(f)}function l(f){return f===i?(t.consume(f),r++,l):(t.exit("thematicBreakSequence"),Qn(f)?xr(t,o,"whitespace")(f):o(f))}}const pa={name:"list",tokenize:Zye,continuation:{tokenize:Jye},exit:Xye},Wye={tokenize:eve,partial:!0},Qye={tokenize:Yye,partial:!0};function Zye(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(y){const _=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:VC(y)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(C_,n,f)(y):f(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(y)}return n(y)}function l(y){return VC(y)&&++s<10?(t.consume(y),l):(!r.interrupt||s<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),f(y)):n(y)}function f(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(X0,r.interrupt?n:h,t.attempt(Wye,m,p))}function h(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function p(y){return Qn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Jye(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(X0,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xr(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Qn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Qye,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,xr(t,t.attempt(pa,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Yye(t,e,n){const r=this;return xr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function Xye(t){t.exit(this.containerState.type)}function eve(t,e,n){const r=this;return xr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Qn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Mj={name:"setextUnderline",tokenize:nve,resolveTo:tve};function tve(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function nve(t,e,n){const r=this;let i;return a;function a(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=f,s(f)):n(f)}function s(f){return t.enter("setextHeadingLineSequence"),o(f)}function o(f){return f===i?(t.consume(f),o):(t.exit("setextHeadingLineSequence"),Qn(f)?xr(t,l,"lineSuffix")(f):l(f))}function l(f){return f===null||cn(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const rve={tokenize:ive};function ive(t){const e=this,n=t.attempt(X0,r,t.attempt(this.parser.constructs.flowInitial,i,xr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(lye,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const ave={resolveAll:Gq()},sve=Kq("string"),ove=Kq("text");function Kq(t){return{tokenize:e,resolveAll:Gq(t==="text"?uve:void 0)};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(h){return f(h)?a(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return f(h)?(n.exit("data"),a(h)):(n.consume(h),l)}function f(h){if(h===null)return!0;const p=i[h];let m=-1;if(p)for(;++m<p.length;){const y=p[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Gq(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function uve(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const f=i[a];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(f===-2)l=!0,o++;else if(f!==-1){a++;break}}if(o){const f={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}function lve(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:E,enter:A,exit:I,attempt:j(M),check:j(D),interrupt:j(D,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:y,sliceSerialize:m,now:_,defineSkip:b,write:p};let h=e.tokenize.call(f,l);return e.resolveAll&&a.push(e),f;function p(Z){return s=ls(s,Z),S(),s[s.length-1]!==null?[]:(Q(e,0),f.events=LR(a,f.events,f),f.events)}function m(Z,fe){return fve(y(Z),fe)}function y(Z){return cve(s,Z)}function _(){const{line:Z,column:fe,offset:te,_index:oe,_bufferIndex:ge}=r;return{line:Z,column:fe,offset:te,_index:oe,_bufferIndex:ge}}function b(Z){i[Z.line]=Z.column,q()}function S(){let Z;for(;r._index<s.length;){const fe=s[r._index];if(typeof fe=="string")for(Z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Z&&r._bufferIndex<fe.length;)x(fe.charCodeAt(r._bufferIndex));else x(fe)}}function x(Z){h=h(Z)}function E(Z){cn(Z)?(r.line++,r.column=1,r.offset+=Z===-3?2:1,q()):Z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=Z}function A(Z,fe){const te=fe||{};return te.type=Z,te.start=_(),f.events.push(["enter",te,f]),o.push(te),te}function I(Z){const fe=o.pop();return fe.end=_(),f.events.push(["exit",fe,f]),fe}function M(Z,fe){Q(Z,fe.from)}function D(Z,fe){fe.restore()}function j(Z,fe){return te;function te(oe,ge,_e){let le,ce,Le,k;return Array.isArray(oe)?me(oe):"tokenize"in oe?me([oe]):ne(oe);function ne(Ae){return Je;function Je(Re){const Fe=Re!==null&&Ae[Re],Xe=Re!==null&&Ae.null,ie=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return me(ie)(Re)}}function me(Ae){return le=Ae,ce=0,Ae.length===0?_e:H(Ae[ce])}function H(Ae){return Je;function Je(Re){return k=Y(),Le=Ae,Ae.partial||(f.currentConstruct=Ae),Ae.name&&f.parser.constructs.disable.null.includes(Ae.name)?pe():Ae.tokenize.call(fe?Object.assign(Object.create(f),fe):f,l,J,pe)(Re)}}function J(Ae){return Z(Le,k),ge}function pe(Ae){return k.restore(),++ce<le.length?H(le[ce]):_e}}}function Q(Z,fe){Z.resolveAll&&!a.includes(Z)&&a.push(Z),Z.resolve&&po(f.events,fe,f.events.length-fe,Z.resolve(f.events.slice(fe),f)),Z.resolveTo&&(f.events=Z.resolveTo(f.events,f))}function Y(){const Z=_(),fe=f.previous,te=f.currentConstruct,oe=f.events.length,ge=Array.from(o);return{restore:_e,from:oe};function _e(){r=Z,f.previous=fe,f.currentConstruct=te,f.events.length=oe,o=ge,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function cve(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function fve(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const dve={42:pa,43:pa,45:pa,48:pa,49:pa,50:pa,51:pa,52:pa,53:pa,54:pa,55:pa,56:pa,57:pa,62:$q},hve={91:pye},pve={[-2]:VT,[-1]:VT,32:VT},gve={35:wye,42:C_,45:[Mj,C_],60:Eye,61:Mj,95:C_,96:Lj,126:Lj},mve={38:Bq,92:Uq},yve={[-5]:KT,[-4]:KT,[-3]:KT,33:qye,38:Bq,42:KC,60:[Vme,Lye],91:Hye,92:[vye,Uq],93:IR,95:KC,96:iye},vve={null:[KC,ave]},_ve={null:[42,95]},wve={null:[]},bve=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_ve,contentInitial:hve,disable:wve,document:dve,flow:gve,flowInitial:pve,insideSpan:vve,string:mve,text:yve},Symbol.toStringTag,{value:"Module"}));function Sve(t){const n=Ome([bve,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(jme),document:i(Ume),flow:i(rve),string:i(sve),text:i(ove)};return r;function i(a){return s;function s(o){return lve(r,a,o)}}}function xve(t){for(;!qq(t););return t}const Dj=/[\0\t\n\r]/g;function Eve(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let f,h,p,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(Dj.lastIndex=p,f=Dj.exec(a),m=f&&f.index!==void 0?f.index:a.length,y=a.charCodeAt(m),!f){e=a.slice(p);break}if(y===10&&p===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<m&&(l.push(a.slice(p,m)),t+=m-p),y){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}p=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Tve=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Cve(t){return t.replace(Tve,Ave)}function Ave(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Fq(n.slice(a?2:1),a?16:10)}return OR(n)||t}const Wq={}.hasOwnProperty;function Rve(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pve(n)(xve(Sve(n).document().write(Eve()(t,e,!0))))}function Pve(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:a(re),blockQuote:a(Fe),characterEscape:Y,characterReference:Y,codeFenced:a(Xe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Xe,s),codeText:a(ie,s),codeTextData:Y,data:Y,codeFlowValue:Y,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a($),hardBreakEscape:a(W),hardBreakTrailing:a(W),htmlFlow:a(he,s),htmlFlowData:Y,htmlText:a(he,s),htmlTextData:Y,image:a(ye),label:s,link:a(He),listItem:a(Ne),listItemValue:m,listOrdered:a(Te,p),listUnordered:a(Te),paragraph:a(tt),reference:H,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(re),strong:a(nt),thematicBreak:a(Ut)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:Re,autolinkProtocol:Je,blockQuote:l(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:Ae,codeFenced:l(S),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:_,codeFlowValue:q,codeIndented:l(x),codeText:l(ge),codeTextData:q,data:q,definition:l(),definitionDestinationString:I,definitionLabelString:E,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(fe),hardBreakTrailing:l(fe),htmlFlow:l(te),htmlFlowData:q,htmlText:l(oe),htmlTextData:q,image:l(le),label:Le,labelText:ce,lineEnding:Z,link:l(_e),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:k,resourceTitleString:ne,resource:me,setextHeading:l(Q),setextHeadingLineSequence:j,setextHeadingText:D,strong:l(),thematicBreak:l()}};Qq(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const X={stack:[Be],tokenStack:[],config:e,enter:o,exit:f,buffer:s,resume:h,data:n},B=[];let K=-1;for(;++K<Se.length;)if(Se[K][1].type==="listOrdered"||Se[K][1].type==="listUnordered")if(Se[K][0]==="enter")B.push(K);else{const V=B.pop();K=i(Se,V,K)}for(K=-1;++K<Se.length;){const V=e[Se[K][0]];Wq.call(V,Se[K][1].type)&&V[Se[K][1].type].call(Object.assign({sliceSerialize:Se[K][2].sliceSerialize},X),Se[K][1])}if(X.tokenStack.length>0){const V=X.tokenStack[X.tokenStack.length-1];(V[1]||kj).call(X,void 0,V[0])}for(Be.position={start:Ju(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:Ju(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<e.transforms.length;)Be=e.transforms[K](Be)||Be;return Be}function i(Se,Be,X){let B=Be-1,K=-1,V=!1,je,Ze,ke,At;for(;++B<=X;){const Ot=Se[B];switch(Ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ot[0]==="enter"?K++:K--,At=void 0;break}case"lineEndingBlank":{Ot[0]==="enter"&&(je&&!At&&!K&&!ke&&(ke=B),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!K&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||K===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(je){let Dt=B;for(Ze=void 0;Dt--;){const Rt=Se[Dt];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Ze&&(Se[Ze][1].type="lineEndingBlank",V=!0),Rt[1].type="lineEnding",Ze=Dt}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}ke&&(!Ze||ke<Ze)&&(je._spread=!0),je.end=Object.assign({},Ze?Se[Ze][1].start:Ot[1].end),Se.splice(Ze||B,0,["exit",je,Ot[2]]),B++,X++}if(Ot[1].type==="listItemPrefix"){const Dt={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start),end:void 0};je=Dt,Se.splice(B,0,["enter",Dt,Ot[2]]),B++,X++,ke=void 0,At=!0}}}return Se[Be][1]._spread=V,X}function a(Se,Be){return X;function X(B){o.call(this,Se(B),B),Be&&Be.call(this,B)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Se,Be,X){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,X]),Se.position={start:Ju(Be.start),end:void 0}}function l(Se){return Be;function Be(X){Se&&Se.call(this,X),f.call(this,X)}}function f(Se,Be){const X=this.stack.pop(),B=this.tokenStack.pop();if(B)B[0].type!==Se.type&&(Be?Be.call(this,Se,B[0]):(B[1]||kj).call(this,Se,B[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Pg({start:Se.start,end:Se.end})+"): its not open");X.position.end=Ju(Se.end)}function h(){return Rme(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function _(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function E(Se){const Be=this.resume(),X=this.stack[this.stack.length-1];X.label=Be,X.identifier=ad(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function I(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function M(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const X=this.sliceSerialize(Se).length;Be.depth=X}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function j(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(Se){const X=this.stack[this.stack.length-1].children;let B=X[X.length-1];(!B||B.type!=="text")&&(B=gt(),B.position={start:Ju(Se.start),end:void 0},X.push(B)),this.stack.push(B)}function q(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=Ju(Se.end)}function Z(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=Be.children[Be.children.length-1];X.position.end=Ju(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Be.type)&&(Y.call(this,Se),q.call(this,Se))}function fe(){this.data.atHardBreak=!0}function te(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function oe(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function ge(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function _e(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function le(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ce(Se){const Be=this.sliceSerialize(Se),X=this.stack[this.stack.length-2];X.label=Cve(Be),X.identifier=ad(Be).toLowerCase()}function Le(){const Se=this.stack[this.stack.length-1],Be=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const B=Se.children;X.children=B}else X.alt=Be}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function ne(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function me(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function J(Se){const Be=this.resume(),X=this.stack[this.stack.length-1];X.label=Be,X.identifier=ad(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function pe(Se){this.data.characterReferenceType=Se.type}function Ae(Se){const Be=this.sliceSerialize(Se),X=this.data.characterReferenceType;let B;X?(B=Fq(Be,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):B=OR(Be);const K=this.stack.pop();K.value+=B,K.position.end=Ju(Se.end)}function Je(Se){q.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Re(Se){q.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Fe(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function he(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Te(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Ne(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function Ut(){return{type:"thematicBreak"}}}function Ju(t){return{line:t.line,column:t.column,offset:t.offset}}function Qq(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Qq(t,r):Ove(t,r)}}function Ove(t,e){let n;for(n in e)if(Wq.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function kj(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Pg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Pg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Pg({start:e.start,end:e.end})+") is still open")}function Lve(t){const e=this;e.parser=n;function n(r){return Rve(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Ive(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Mve(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Dve(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function kve(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nve(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fve(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=nh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const f={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,f),t.applyData(e,f)}function jve(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $ve(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Zq(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Uve(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Zq(t,e);const i={src:nh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Bve(t,e){const n={src:nh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qve(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function zve(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Zq(t,e);const i={href:nh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Hve(t,e){const n={href:nh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Vve(t,e,n){const r=t.all(e),i=n?Kve(n):Jq(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,f),t.applyData(e,f)}function Kve(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Jq(n[r])}return e}function Jq(t){const e=t.spread;return e??t.children.length>1}function Gve(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Wve(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Qve(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Zve(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jve(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=RR(e.children[1]),l=Mq(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Yve(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const f=[];for(;++l<o;){const p=e.children[l],m={},y=s?s[l]:void 0;y&&(m.align=y);let _={type:"element",tagName:a,properties:m,children:[]};p&&(_.children=t.all(p),t.patch(p,_),_=t.applyData(p,_)),f.push(_)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function Xve(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Nj=9,Fj=32;function e_e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(jj(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(jj(e.slice(i),i>0,!1)),a.join("")}function jj(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===Nj||a===Fj;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===Nj||a===Fj;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function t_e(t,e){const n={type:"text",value:e_e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function n_e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const r_e={blockquote:Ive,break:Mve,code:Dve,delete:kve,emphasis:Nve,footnoteReference:Fve,heading:jve,html:$ve,imageReference:Uve,image:Bve,inlineCode:qve,linkReference:zve,link:Hve,listItem:Vve,list:Gve,paragraph:Wve,root:Qve,strong:Zve,table:Jve,tableCell:Xve,tableRow:Yve,text:t_e,thematicBreak:n_e,toml:fv,yaml:fv,definition:fv,footnoteDefinition:fv};function fv(){}const Yq=-1,ew=0,X_=1,e0=2,MR=3,DR=4,kR=5,NR=6,Xq=7,e9=8,$j=typeof self=="object"?self:globalThis,i_e=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case ew:case Yq:return n(s,i);case X_:{const o=n([],i);for(const l of s)o.push(r(l));return o}case e0:{const o=n({},i);for(const[l,f]of s)o[r(l)]=r(f);return o}case MR:return n(new Date(s),i);case DR:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case kR:{const o=n(new Map,i);for(const[l,f]of s)o.set(r(l),r(f));return o}case NR:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case Xq:{const{name:o,message:l}=s;return n(new $j[o](l),i)}case e9:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new $j[a](s),i)};return r},Uj=t=>i_e(new Map,t)(0),zf="",{toString:a_e}={},{keys:s_e}=Object,eg=t=>{const e=typeof t;if(e!=="object"||!t)return[ew,e];const n=a_e.call(t).slice(8,-1);switch(n){case"Array":return[X_,zf];case"Object":return[e0,zf];case"Date":return[MR,zf];case"RegExp":return[DR,zf];case"Map":return[kR,zf];case"Set":return[NR,zf]}return n.includes("Array")?[X_,n]:n.includes("Error")?[Xq,n]:[e0,n]},dv=([t,e])=>t===ew&&(e==="function"||e==="symbol"),o_e=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=eg(s);switch(o){case ew:{let h=s;switch(l){case"bigint":o=e9,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([Yq],s)}return i([o,h],s)}case X_:{if(l)return i([l,[...s]],s);const h=[],p=i([o,h],s);for(const m of s)h.push(a(m));return p}case e0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],p=i([o,h],s);for(const m of s_e(s))(t||!dv(eg(s[m])))&&h.push([a(m),a(s[m])]);return p}case MR:return i([o,s.toISOString()],s);case DR:{const{source:h,flags:p}=s;return i([o,{source:h,flags:p}],s)}case kR:{const h=[],p=i([o,h],s);for(const[m,y]of s)(t||!(dv(eg(m))||dv(eg(y))))&&h.push([a(m),a(y)]);return p}case NR:{const h=[],p=i([o,h],s);for(const m of s)(t||!dv(eg(m)))&&h.push(a(m));return p}}const{message:f}=s;return i([o,{name:l,message:f}],s)};return a},Bj=(t,{json:e,lossy:n}={})=>{const r=[];return o_e(!(e||n),!!e,new Map,r)(t),r},t0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Uj(Bj(t,e)):structuredClone(t):(t,e)=>Uj(Bj(t,e));function u_e(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function l_e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function c_e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||u_e,r=t.options.footnoteBackLabel||l_e,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[l]);if(!f)continue;const h=t.all(f),p=String(f.identifier).toUpperCase(),m=nh(p.toLowerCase());let y=0;const _=[],b=t.footnoteCounts.get(p);for(;b!==void 0&&++y<=b;){_.length>0&&_.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,y);typeof E=="string"&&(E={type:"text",value:E}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const E=S.children[S.children.length-1];E&&E.type==="text"?E.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(..._)}else h.push(..._);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(f,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...t0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const t9=function(t){if(t==null)return p_e;if(typeof t=="function")return tw(t);if(typeof t=="object")return Array.isArray(t)?f_e(t):d_e(t);if(typeof t=="string")return h_e(t);throw new Error("Expected function, string, or object as test")};function f_e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=t9(t[n]);return tw(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function d_e(t){const e=t;return tw(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function h_e(t){return tw(e);function e(n){return n&&n.type===t}}function tw(t){return e;function e(n,r,i){return!!(g_e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function p_e(){return!0}function g_e(t){return t!==null&&typeof t=="object"&&"type"in t}const n9=[],m_e=!0,qj=!1,y_e="skip";function v_e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=t9(i),s=r?-1:1;o(t,void 0,[])();function o(l,f,h){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=n9,_,b,S;if((!e||a(l,f,h[h.length-1]||void 0))&&(y=__e(n(l,h)),y[0]===qj))return y;if("children"in l&&l.children){const x=l;if(x.children&&y[0]!==y_e)for(b=(r?x.children.length:-1)+s,S=h.concat(x);b>-1&&b<x.children.length;){const E=x.children[b];if(_=o(E,b,S)(),_[0]===qj)return _;b=typeof _[1]=="number"?_[1]:b+s}}return y}}}function __e(t){return Array.isArray(t)?t:typeof t=="number"?[m_e,t]:t==null?n9:[t]}function r9(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),v_e(t,a,o,i);function o(l,f){const h=f[f.length-1],p=h?h.children.indexOf(l):void 0;return s(l,p,h)}}const GC={}.hasOwnProperty,w_e={};function b_e(t,e){const n=e||w_e,r=new Map,i=new Map,a=new Map,s={...r_e,...n.handlers},o={all:f,applyData:x_e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:S_e,wrap:T_e};return r9(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();p.has(m)||p.set(m,h)}}),o;function l(h,p){const m=h.type,y=o.handlers[m];if(GC.call(o.handlers,m)&&y)return y(o,h,p);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in h){const{children:b,...S}=h,x=t0(S);return x.children=o.all(h),x}return t0(h)}return(o.options.unknownHandler||E_e)(o,h,p)}function f(h){const p=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const _=o.one(m[y],h);if(_){if(y&&m[y-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=zj(_.value)),!Array.isArray(_)&&_.type==="element")){const b=_.children[0];b&&b.type==="text"&&(b.value=zj(b.value))}Array.isArray(_)?p.push(..._):p.push(_)}}}return p}}function S_e(t,e){t.position&&(e.position=cme(t))}function x_e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,t0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function E_e(t,e){const n=e.data||{},r="value"in e&&!(GC.call(n,"hProperties")||GC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function T_e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function zj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Hj(t,e){const n=b_e(t,e),r=n.one(t,void 0),i=c_e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function C_e(t,e){return t&&"run"in t?async function(n,r){const i=Hj(n,e);await t.run(i,r)}:function(n){return Hj(n,e||t)}}function Vj(t){if(t)throw t}var GT,Kj;function A_e(){if(Kj)return GT;Kj=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var h=t.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var m;for(m in f);return typeof m>"u"||t.call(f,m)},s=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},o=function(f,h){if(h==="__proto__")if(t.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return GT=function l(){var f,h,p,m,y,_,b=arguments[0],S=1,x=arguments.length,E=!1;for(typeof b=="boolean"&&(E=b,b=arguments[1]||{},S=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});S<x;++S)if(f=arguments[S],f!=null)for(h in f)p=o(b,h),m=o(f,h),b!==m&&(E&&m&&(a(m)||(y=i(m)))?(y?(y=!1,_=p&&i(p)?p:[]):_=p&&a(p)?p:{},s(b,{name:h,newValue:l(E,_,m)})):typeof m<"u"&&s(b,{name:h,newValue:m}));return b},GT}var R_e=A_e();const WT=Gr(R_e);function WC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function P_e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...f){const h=t[++a];let p=-1;if(l){s(l);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?O_e(h,o)(...f):s(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function O_e(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(f){const h=f;if(o&&n)throw h;return i(h)}o||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Ys={basename:L_e,dirname:I_e,extname:M_e,join:D_e,sep:"/"};function L_e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function I_e(t){if(Tm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function M_e(t){Tm(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function D_e(...t){let e=-1,n;for(;++e<t.length;)Tm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":k_e(n)}function k_e(t){Tm(t);const e=t.codePointAt(0)===47;let n=N_e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function N_e(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Tm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const F_e={cwd:j_e};function j_e(){return"/"}function QC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function $_e(t){if(typeof t=="string")t=new URL(t);else if(!QC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return U_e(t)}function U_e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const QT=["history","path","basename","stem","extname","dirname"];class i9{constructor(e){let n;e?QC(e)?n={path:e}:typeof e=="string"||B_e(e)?n={value:e}:n=e:n={},this.cwd=F_e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<QT.length;){const a=QT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)QT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ys.basename(this.path):void 0}set basename(e){JT(e,"basename"),ZT(e,"basename"),this.path=Ys.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ys.dirname(this.path):void 0}set dirname(e){Gj(this.basename,"dirname"),this.path=Ys.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ys.extname(this.path):void 0}set extname(e){if(ZT(e,"extname"),Gj(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ys.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){QC(e)&&(e=$_e(e)),JT(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ys.basename(this.path,this.extname):void 0}set stem(e){JT(e,"stem"),ZT(e,"stem"),this.path=Ys.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ua(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ZT(t,e){if(t&&t.includes(Ys.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ys.sep+"`")}function JT(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Gj(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function B_e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const q_e=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const s=Object.getOwnPropertyNames(i);for(const o of s){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(a,o,l)}return a},z_e={}.hasOwnProperty;class FR extends q_e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=P_e()}copy(){const e=new FR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(WT(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(e2("data",this.frozen),this.namespace[e]=n,this):z_e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(e2("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=hv(e),r=this.parser||this.Parser;return YT("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),YT("process",this.parser||this.Parser),XT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=hv(e),l=r.parse(o);r.run(l,o,function(h,p,m){if(h||!p||!m)return f(h);const y=p,_=r.stringify(y,m);K_e(_)?m.value=_:m.result=_,f(h,m)});function f(h,p){h||!p?s(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),YT("processSync",this.parser||this.Parser),XT("processSync",this.compiler||this.Compiler),this.process(e,i),Qj("processSync","process",n),r;function i(a,s){n=!0,Vj(a),r=s}}run(e,n,r){Wj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=hv(n);i.run(e,l,f);function f(h,p,m){const y=p||e;h?o(h):s?s(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),Qj("runSync","run",r),i;function a(s,o){Vj(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=hv(n),i=this.compiler||this.Compiler;return XT("stringify",i),Wj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(e2("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")l(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;l(h,p)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(f.plugins),f.settings&&(i.settings=WT(!0,i.settings,f.settings))}function o(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function l(f,h){let p=-1,m=-1;for(;++p<r.length;)if(r[p][0]===f){m=p;break}if(m===-1)r.push([f,...h]);else if(h.length>0){let[y,..._]=h;const b=r[m][1];WC(b)&&WC(y)&&(y=WT(!0,b,y)),r[m]=[f,y,..._]}}}}const H_e=new FR().freeze();function YT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function XT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function e2(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Wj(t){if(!WC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Qj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function hv(t){return V_e(t)?t:new i9(t)}function V_e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function K_e(t){return typeof t=="string"||G_e(t)}function G_e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const W_e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Zj=[],Jj={allowDangerousHtml:!0},Q_e=/^(https?|ircs?|mailto|xmpp)$/i,Z_e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function J_e(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,a=t.components,s=t.disallowedElements,o=t.rehypePlugins||Zj,l=t.remarkPlugins||Zj,f=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Jj}:Jj,h=t.skipHtml,p=t.unwrapDisallowed,m=t.urlTransform||Y_e,y=H_e().use(Lve).use(l).use(C_e,f).use(o),_=new i9;typeof r=="string"&&(_.value=r);for(const E of Z_e)Object.hasOwn(t,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+W_e+E.id,void 0);const b=y.parse(_);let S=y.runSync(b,_);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),r9(S,x),mme(S,{Fragment:de.Fragment,components:a,ignoreInvalidStyle:!0,jsx:de.jsx,jsxs:de.jsxs,passKeys:!0,passNode:!0});function x(E,A,I){if(E.type==="raw"&&I&&typeof A=="number")return h?I.children.splice(A,1):I.children[A]={type:"text",value:E.value},A;if(E.type==="element"){let M;for(M in HT)if(Object.hasOwn(HT,M)&&Object.hasOwn(E.properties,M)){const D=E.properties[M],j=HT[M];(j===null||j.includes(E.tagName))&&(E.properties[M]=m(String(D||""),M,E))}}if(E.type==="element"){let M=e?!e.includes(E.tagName):s?s.includes(E.tagName):!1;if(!M&&n&&typeof A=="number"&&(M=!n(E,A,I)),M&&I&&typeof A=="number")return p&&E.children?I.children.splice(A,1,...E.children):I.children.splice(A,1),A}}}function Y_e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||Q_e.test(t.slice(0,e))?t:""}const X_e="_text_e0nft_1",e0e={text:X_e},t0e=`# About

WIP`,n0e=()=>de.jsx(J_e,{className:e0e.text,children:t0e}),r0e=()=>{const t=Ms(Fd),e=Nd();ae.useEffect(()=>{if(t.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(t.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&e(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[t.isLoggedIn,e])},Gg=(t,e)=>{const n=whe(t,e),r=a9(t,e);return ae.useMemo(()=>({isMember:n,...r}),[r,n])},a9=(t,e)=>{const{isLoading:n,variables:r,store:i}=wa({query:che,variables:ae.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:yr}),a=r.publicTypeIndex??[],s=r.privateTypeIndex??[],o=r.inbox??[],l=r.hospexDocumentForCommunity??[],f=ae.useMemo(()=>(r.hospexDocument??[]).map(_=>{var x;const b=i.getObjects(t,Cd.member_of,_).map(({value:E})=>{var A;return{uri:E,name:(A=i.getObjects(E,Cd.name,null)[0])==null?void 0:A.value}}),S=i.getObjects(t,Cl.storage,_);return{hospexDocument:_,communities:b,storage:(x=S[0])==null?void 0:x.value}}),[i,t,r]),h=l.length>0?!0:n?void 0:!1,p=a.length>0?!0:n?void 0:!1,m=s.length>0?!0:n?void 0:!1,y=o.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:p,isPrivateTypeIndex:m,isInbox:y,personalHospexDocuments:l,publicTypeIndexes:a,privateTypeIndexes:s,inboxes:o,allHospex:f}},i0e=(t,e)=>{const n=ae.useCallback(async()=>{if(!e)return"mailer not set up";const s=await yr(`${e}/status`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},[e]),{isLoading:r,data:i}=lm({queryKey:["mailerIntegration"],queryFn:n});if(i==="mailer not set up")return!0;if(r||!i)return;const a=i.integrations.filter(s=>s.object===t);return a.length===0?!1:a.some(s=>s.verified)?!0:"unverified"},a0e=(t,e)=>{const n=ae.useCallback(async()=>{if(!e)return"mailer not set up";const a=await yr(`${e}/status/${encodeURIComponent(t)}`);if(a.status===403)return{emailVerified:!1};if(!a.ok)throw new Error("Network response was not ok");return a.json()},[e,t]),{isLoading:r,data:i}=lm({queryKey:["simpleMailerIntegration"],queryFn:n});if(i==="mailer not set up")return!0;if(!(r||!i))return i.emailVerified};var t2,Yj;function s0e(){if(Yj)return t2;Yj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return t2=t,t2}var n2,Xj;function o0e(){if(Xj)return n2;Xj=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return n2=t,n2}var r2,e4;function u0e(){if(e4)return r2;e4=1;var t=hR(),e=o0e();function n(r,i){return i.length<2?r:t(r,e(i,0,-1))}return r2=n,r2}var i2,t4;function l0e(){if(t4)return i2;t4=1;var t=q0(),e=s0e(),n=u0e(),r=wm();function i(a,s){return s=t(s,a),a=n(a,s),a==null||delete a[r(e(s))]}return i2=i,i2}var a2,n4;function c0e(){if(n4)return a2;n4=1;var t=J8();function e(n){return t(n)?void 0:n}return a2=e,a2}var s2,r4;function f0e(){if(r4)return s2;r4=1;var t=Gd(),e=F0(),n=$s(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return s2=i,s2}var o2,i4;function d0e(){if(i4)return o2;i4=1;var t=rR(),e=f0e();function n(r,i,a,s,o){var l=-1,f=r.length;for(a||(a=e),o||(o=[]);++l<f;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,s,o):t(o,h):s||(o[o.length]=h)}return o}return o2=n,o2}var u2,a4;function h0e(){if(a4)return u2;a4=1;var t=d0e();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return u2=e,u2}var l2,s4;function p0e(){if(s4)return l2;s4=1;var t=h0e(),e=eq(),n=tq();function r(i){return n(e(i,void 0,t),i+"")}return l2=r,l2}var c2,o4;function g0e(){if(o4)return c2;o4=1;var t=KB(),e=oq(),n=l0e(),r=q0(),i=Xd(),a=c0e(),s=p0e(),o=sq(),l=1,f=2,h=4,p=s(function(m,y){var _={};if(m==null)return _;var b=!1;y=t(y,function(x){return x=r(x,m),b||(b=x.length>1),x}),i(m,o(m),_),b&&(_=e(_,l|f|h,a));for(var S=y.length;S--;)n(_,y[S]);return _});return c2=p,c2}var m0e=g0e();const s9=Gr(m0e),y0e=()=>{const t=Us();return ae.useCallback(async({person:e,group:n})=>{const r=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${n}> <${lB.hasMember}> <${e}>. } .`;await t.mutateAsync({uri:n,patch:r})},[t])},v0e={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},_0e={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},ef={schema:_0e,shape:"https://example.com/Authorization",context:v0e};let pv;const w0e=new Uint8Array(16);function b0e(){if(!pv&&(pv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pv(w0e)}const Ci=[];for(let t=0;t<256;++t)Ci.push((t+256).toString(16).slice(1));function S0e(t,e=0){return(Ci[t[e+0]]+Ci[t[e+1]]+Ci[t[e+2]]+Ci[t[e+3]]+"-"+Ci[t[e+4]]+Ci[t[e+5]]+"-"+Ci[t[e+6]]+Ci[t[e+7]]+"-"+Ci[t[e+8]]+Ci[t[e+9]]+"-"+Ci[t[e+10]]+Ci[t[e+11]]+Ci[t[e+12]]+Ci[t[e+13]]+Ci[t[e+14]]+Ci[t[e+15]]).toLowerCase()}const x0e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u4={randomUUID:x0e};function vl(t,e,n){if(u4.randomUUID&&!e&&!t)return u4.randomUUID();t=t||{};const r=t.random||(t.rng||b0e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,S0e(r)}const E0e=()=>{const{communityId:t}=$n(),e=T0e(),n=R0e(),r=P0e(),i=A0e(),a=C0e(),s=o9(),o=O0e(),l=L0e(),{webId:f}=Ui();return ae.useCallback(async(h,{person:p,publicTypeIndex:m,privateTypeIndex:y,hospexDocument:_,inbox:b,email:S})=>{h.includes("createHospexProfile")&&await i({uri:_,webId:p,communityId:t}),h.includes("addToHospexProfile")&&await a({uri:_,webId:p}),h.includes("createPrivateTypeIndex")&&await e({webId:p,privateTypeIndex:y}),h.includes("createPublicTypeIndex")&&await n({webId:p,publicTypeIndex:m}),h.includes("createInbox")&&await r({webId:p,inbox:b}),(h.includes("createHospexProfile")||h.includes("createPublicTypeIndex"))&&await s({index:m,type:Cl.PersonalHospexDocument,location:_}),h.includes("integrateEmailNotifications")&&await o({email:S,inbox:b,webId:f}),h.includes("integrateSimpleEmailNotifications")&&await l({email:S,webId:f,hospexDocument:_})},[a,t,i,r,e,n,o,l,s,f])},o9=(t=!1)=>{const e=cu(z8),n=cu(q8),r=t?e:n;return ae.useCallback(async({index:i,type:a,location:s})=>{const o=l=>{var m;let f=((m=l.references)==null?void 0:m.findIndex(y=>y.forClass.some(_=>_["@id"]===a)))??-1;f===-1&&(l.references??(l.references=[]),f=l.references.push({"@id":i+"#"+vl(),type:{"@id":"TypeRegistration"},forClass:[{"@id":a}]})-1);const h=s.endsWith("/"),p=l.references[f];h?(p.instanceContainer??(p.instanceContainer=[]),p.instanceContainer.push({"@id":s})):(p.instance??(p.instance=[]),p.instance.push({"@id":s}))};await r.mutateAsync({uri:i,subject:i,transform:o})},[r])},T0e=()=>{const t=Ds(z8),e=Us();return ae.useCallback(async({webId:n,privateTypeIndex:r})=>{await t.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${Hn.InsertDeletePatch}>; <${Hn.inserts}> { <${n}> <${Hn.privateTypeIndex}> <${r}>. }.`;await e.mutateAsync({uri:n,patch:i})},[t,e])},C0e=()=>{const{communityId:t}=$n(),e=cu(K0),n=l9(),r=u9(),i=gu(t);return ae.useCallback(async({uri:a,webId:s})=>{await e.mutateAsync({uri:a,subject:s,transform:o=>{o.memberOf??(o.memberOf=[]),o.memberOf.push({"@id":t}),o.storage2??(o.storage2={"@id":ri(a)}),o["@id"]??(o["@id"]=s)}});try{await n({webId:s,uri:ri(a)},{throwOnHttpError:!0})}catch{await r(ri(a),[{operation:"add",access:["Read"],agentGroups:i.groups,default:!0}])}},[i.groups,t,n,r,e])},u9=()=>{const t=Us();return ae.useCallback(async(e,n)=>{const r=await Tl(e),a=await(await lu(r)).text(),s=Jle(r,a),o=new C0({format:"N-Triples"});for(const f of n){f.agents??(f.agents=[]),f.agentGroups??(f.agentGroups=[]);const h=s.find(_=>{const b=new Set(f.access),S=new Set(_.accesses);return b.size===S.size&&[...b].every(x=>S.has(x))&&f.default?_.defaults.includes(e):_.defaults.length===0}),p=_=>{const b=new URL(_);return b.hash=vl(),b.toString()},m=(h==null?void 0:h.url)??p(r),y=new Hr(m);o.addQuads(f.agentGroups.map(_=>new As(y,new Hr(Sn.agentGroup),new Hr(_)))),o.addQuads(f.agents.map(_=>new As(y,new Hr(Sn.agent),new Hr(_)))),h||(o.addQuads([new As(y,new Hr(gm.type),new Hr(Sn.Authorization)),new As(y,new Hr(Sn.accessTo),new Hr(e)),...f.access.map(_=>new As(y,new Hr(Sn.mode),new Hr(Sn[_])))]),f.default&&o.addQuads([new As(y,new Hr(Sn.default__workaround),new Hr(e))]))}const l=await new Promise((f,h)=>{o.end((p,m)=>{p?h(p):f(m)})});await t.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${l}
          } .`})},[t])},l9=()=>{const{communityId:t}=$n(),e=Ds(ef),n=gu(t);return ae.useCallback(async({uri:r,webId:i},a={})=>{const s=ri(r),o=await Tl(s);await e.mutateAsync({uri:o,data:[{"@id":o+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":s}],default:{"@id":s},agent:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":o+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":s}],default:{"@id":s},agentGroup:n.groups.map(l=>({"@id":l})),mode:[{"@id":Sn.Read}]}],...a})},[n.groups,e])},A0e=()=>{const t=Ds(K0),e=l9();return ae.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=ri(n);await t.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await e({uri:n,webId:r})},[e,t])},R0e=()=>{const t=Ds(q8),e=Ds(ef),n=Us();return ae.useCallback(async({webId:r,publicTypeIndex:i})=>{await t.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await Tl(i);await e.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":bl.Agent}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read}]}]});const s=`_:mutate a <${Hn.InsertDeletePatch}>; <${Hn.inserts}> { <${r}> <${Hn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:s})},[e,t,n])},P0e=()=>{const t=Zhe(),e=Ds(ef),n=Us();return ae.useCallback(async({webId:r,inbox:i})=>{await t.mutateAsync({uri:i});const a=await Tl(i);await e.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":Sn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${Hn.InsertDeletePatch}>; <${Hn.inserts}> { <${r}> <${ml.inbox}> <${i}>. }.`})},[e,t,n])},O0e=()=>{const{emailNotificationsService:t,emailNotificationsIdentity:e}=$n(),n=async o=>{if(!(await yr(`${t}/inbox`,{method:"post",headers:{"content-type":"application/ld+json"},body:JSON.stringify(o)})).ok)throw new Error("not ok!")},r=xa(),{mutate:i}=fs({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:["mailerIntegration"]})}}),a=ae.useCallback(({webId:o,inbox:l,email:f})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:o,object:l,target:f})},[i]),s=cu(ef);return ae.useCallback(async({email:o,inbox:l,webId:f})=>{const h=await Tl(l);await s.mutateAsync({uri:h,subject:h+"#read",transform:p=>{p["@id"]=h+"#read",p.type={"@id":"Authorization"},p.agent=[{"@id":e}],p.accessTo=[{"@id":l}],p.default={"@id":l},p.mode=[{"@id":Sn.Read}]}}),await a({email:o,inbox:l,webId:f})},[e,a,s])},L0e=()=>{const{emailNotificationsService:t}=$n(),e=async s=>{if(!(await yr(`${t}/init`,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},n=xa(),r=I0e(),{mutate:i}=fs({mutationFn:e,onSuccess:()=>{n.invalidateQueries({queryKey:["simpleMailerIntegration"]})}}),a=ae.useCallback(({email:s})=>{i({email:s})},[i]);return ae.useCallback(async({email:s,webId:o,hospexDocument:l})=>{await r({hospexDocument:l,webId:o,email:s}),await a({email:s})},[a,r])},I0e=()=>{const{emailNotificationsIdentity:t}=$n(),e=cu(ef),n=Us(),r=u9();return ae.useCallback(async({hospexDocument:a,webId:s,email:o})=>{const l=ri(a);await r(ri(a),[{operation:"add",access:["Read"],agents:[t],default:!0}]);const f=l+"emailSettings-"+vl(),h=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${s}> <${bl.mbox}> "${o}". } .`;await n.mutateAsync({uri:f,patch:h});const p=await Tl(f);await e.mutateAsync({uri:p,subject:p+"#owner",transform:y=>{y["@id"]=p+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":s}],y.accessTo=[{"@id":f}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]}}),await e.mutateAsync({uri:p,subject:p+"#readWriteMailer",transform:y=>{y["@id"]=p+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":t}],y.accessTo=[{"@id":f}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write}]}});const m=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${s}> <${mm.preferencesFile}> <${f}>. } .`;await n.mutateAsync({uri:a,patch:m})},[t,r,e,n])};var f2,l4;function M0e(){if(l4)return f2;l4=1;function t(e,n){return e<n}return f2=t,f2}var d2,c4;function D0e(){if(c4)return d2;c4=1;var t=nq(),e=gR(),n=M0e();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return d2=r,d2}var k0e=D0e();const N0e=Gr(k0e),F0e=t=>{var a;const[e,n]=iq(t),[r]=j0e(t),i=((a=e==null?void 0:e.storage)==null?void 0:a.map(s=>s["@id"]))??[];if(n.isFetched)return i[0]??r},j0e=t=>{const[e,n]=ae.useState([ri(t)]),[r,i]=ae.useState(),a=Qhe(e),s=ae.useMemo(()=>a.map(l=>{var f,h;return(h=(f=l.data)==null?void 0:f.response)==null?void 0:h.headers.get("Link")}),[a]);ae.useEffect(()=>{const l=s.findIndex(f=>f==null?void 0:f.includes(mm.Storage));l>-1?i(e[l]):a.every(f=>f.isSuccess||f.isError)&&n(f=>{const h=N0e(f,p=>p.length);if(h){const p=fB(h);if(!f.includes(p))return[...f,p]}return f})},[s,e,a]);const o=!a.every(l=>l.isSuccess||l.isError)||a.length<e.length;return[r,o]},$0e="_taskList_d3s7e_1",U0e="_storageOptions_d3s7e_7",B0e="_option_d3s7e_10",gv={taskList:$0e,storageOptions:U0e,option:B0e},q0e=({isMember:t,isPublicTypeIndex:e,isPrivateTypeIndex:n,isHospexProfile:r,isInbox:i,isEmailNotifications:a,isSimpleEmailNotifications:s,personalHospexDocuments:o,publicTypeIndexes:l,privateTypeIndexes:f,inboxes:h,isNotificationsInitialized:p,onNotificationsInitialized:m,onNotificationsInitializedTryAgain:y,allHospex:_})=>{const{communityContainer:b,communityId:S}=$n(),x=Ui(),E=E0e(),A=F0e(x.webId??""),I=gu(S),M=y0e(),[D,j]=ae.useState(!1),[Q,Y]=ae.useState(""),[q,Z]=ae.useState(""),[fe,te]=ae.useState(),oe=`${A}hospex/${b}/card`,ge=async _e=>{if(_e.preventDefault(),j(!0),!e||!n||!r||!i||!a||!s){const le=[];if(e||le.push("createPublicTypeIndex"),n||le.push("createPrivateTypeIndex"),r||(_.length===0?le.push("createHospexProfile"):typeof fe=="boolean"&&(fe?le.push("addToHospexProfile"):le.push("createHospexProfile"))),i||le.push("createInbox"),a||le.push("integrateEmailNotifications"),s||le.push("integrateSimpleEmailNotifications"),!x.webId)throw new Error("not signed in");if(e&&!l[0])throw new Error("existing public type index not found");if(n&&!f[0])throw new Error("existing private type index not found");const ce={person:x.webId,publicTypeIndex:e?l[0]:`${A}settings/publicTypeIndex.ttl`,privateTypeIndex:n?f[0]:`${A}settings/privateTypeIndex.ttl`,inbox:i?h[0]:`${A}inbox/`,hospexDocument:r?o[0]:_.length>0?q:oe,email:Q};await E(le,ce),m()}t||await M({person:x.webId,group:I.groups[0]}),j(!1)};return D?de.jsx(ba,{children:"Preparing your Pod..."}):A?de.jsxs("div",{children:[de.jsxs("header",{children:["Welcome to ",I.name||"SolidCouch","!"]}),de.jsx("div",{children:"We would like to set up your Pod:"}),de.jsxs("form",{onSubmit:ge,children:[de.jsxs("ul",{className:gv.taskList,children:[!t&&de.jsxs("li",{children:["Join community ",I.name||S]}),!e&&de.jsxs("li",{children:["Create public type index"," ",A+"settings/publicTypeIndex.ttl"]}),!n&&de.jsxs("li",{children:["Create private type index"," ",A+"settings/privateTypeIndex.ttl"]}),!i&&de.jsxs("li",{children:["Create inbox ",A+"inbox/"]}),!r&&_.length===0&&de.jsxs("li",{children:["Setup hospex document and storage ",oe]}),!r&&_.length>0&&de.jsxs("li",{children:[de.jsx("legend",{children:"Setup hospex document and storage"}),de.jsxs("fieldset",{className:gv.storageOptions,children:[de.jsx("legend",{children:"You already seem to be a member of some hospitality exchange (hospex) communities. Would you like to:"}),de.jsxs("div",{className:gv.option,children:[de.jsx("input",{required:!0,type:"radio",id:"new-hospex-document",name:"hospexDocument",value:oe,checked:oe===q,onChange:_e=>{Z(_e.target.value),te(!1)}})," ",de.jsxs("label",{htmlFor:"new-hospex-document",children:["Set up new data for this community (",new URL(ri(oe)).pathname,")"]})]}),de.jsxs("div",{children:[de.jsxs("legend",{children:["Or use data (profile, hosting offers, etc.) from one of your existing communities?"," ",de.jsx("i",{children:"(Recommended for similar communities)"})]}),_.map(({hospexDocument:_e,communities:le},ce)=>de.jsxs("div",{className:gv.option,children:[de.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${ce}`,name:"hospexDocument",value:_e,checked:_e===q,onChange:()=>{Z(_e),te(!0)}})," ",de.jsxs("label",{htmlFor:`hospexDocument-${ce}`,children:[le.map(Le=>Le.name??Le.uri).join(", ")," (",new URL(ri(_e)).pathname,")"]})]},_e))]})]})]}),(!a||a==="unverified")&&de.jsxs("li",{children:[!a&&de.jsxs("div",{children:["Setup email notifications"," ",de.jsx("input",{type:"email",placeholder:"Your email",value:Q,onChange:_e=>Y(_e.target.value)})]}),a==="unverified"&&de.jsx("div",{children:"Please verify your email"})]}),!s&&de.jsx("li",{children:p?de.jsxs("div",{children:[de.jsx("div",{children:"Please verify your email. It may take a few minutes  check your inbox and Spam folder."}),de.jsxs("div",{children:["Email didn't arrive?"," ",de.jsx(Vr,{secondary:!0,onClick:y,children:"Try again"})]})]}):de.jsxs("div",{children:["Setup simple email notifications"," ",de.jsx("input",{required:!0,type:"email",placeholder:"Your email",value:Q,onChange:_e=>Y(_e.target.value)})]})})]}),de.jsx(Vr,{primary:!0,type:"submit",children:"Continue!"})]})]}):de.jsx(ba,{children:"Searching your storage..."})},z0e=()=>{const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=$n(),r=Ms(Fd),[i,a]=ae.useState(!1),s=Gg(r.webId??"",t??""),o=s9(s,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments"]),l=a0e(r.webId,n==="simple"?e:""),f=i0e(s.inboxes[0],n==="solid"?e:"");if(Object.values(s).every(m=>m)&&l===!0&&f===!0)return de.jsx(v0,{});const p=Object.entries(o).filter(([,m])=>m===void 0).map(([m])=>m);return l===void 0&&p.push("isSimpleEmailNotifications"),f===void 0&&p.push("isEmailNotifications"),Object.values(s).some(m=>m===void 0)||l===void 0||f===void 0?de.jsxs(ba,{children:["Checking ",p.join(", ")]}):de.jsx(q0e,{...s,isSimpleEmailNotifications:l,isEmailNotifications:f,onNotificationsInitialized:()=>a(!0),onNotificationsInitializedTryAgain:()=>a(!1),isNotificationsInitialized:i})};var mv={exports:{}},Yu={},yv={exports:{}},is={},vv={exports:{}},f4;function c9(){return f4||(f4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(p,m){return m.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function s(p){var m=p.offsetWidth<=0&&p.offsetHeight<=0;if(m&&!p.innerHTML)return!0;try{var y=window.getComputedStyle(p),_=y.getPropertyValue("display");return m?_!==r&&a(p,y):_===n}catch{return console.warn("Failed to inspect element style"),!1}}function o(p){for(var m=p,y=p.getRootNode&&p.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),s(m))return!1;m=m.parentNode}return!0}function l(p,m){var y=p.nodeName.toLowerCase(),_=i.test(y)&&!p.disabled||y==="a"&&p.href||m;return _&&o(p)}function f(p){var m=p.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&l(p,!y)}function h(p){var m=[].slice.call(p.querySelectorAll("*"),0).reduce(function(y,_){return y.concat(_.shadowRoot?h(_.shadowRoot):[_])},[]);return m.filter(f)}t.exports=e.default}(vv,vv.exports)),vv.exports}var d4;function H0e(){if(d4)return is;d4=1,Object.defineProperty(is,"__esModule",{value:!0}),is.resetState=s,is.log=o,is.handleBlur=l,is.handleFocus=f,is.markForFocusLater=h,is.returnFocus=p,is.popWithoutFocus=m,is.setupScopedFocus=y,is.teardownScopedFocus=_;var t=c9(),e=n(t);function n(b){return b&&b.__esModule?b:{default:b}}var r=[],i=null,a=!1;function s(){r=[]}function o(){}function l(){a=!0}function f(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var b=(0,e.default)(i)[0]||i;b.focus()}},0)}}function h(){r.push(document.activeElement)}function p(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=null;try{r.length!==0&&(S=r.pop(),S.focus({preventScroll:b}));return}catch{console.warn(["You tried to return focus to",S,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(b){i=b,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",f))}function _(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",f))}return is}var _v={exports:{}},h4;function V0e(){return h4||(h4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=c9(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return o.activeElement.shadowRoot?a(o.activeElement.shadowRoot):o.activeElement}function s(o,l){var f=(0,r.default)(o);if(!f.length){l.preventDefault();return}var h=void 0,p=l.shiftKey,m=f[0],y=f[f.length-1],_=a();if(o===_){if(!p)return;h=y}if(y===_&&!p&&(h=m),m===_&&p&&(h=y),h){l.preventDefault(),h.focus();return}var b=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=b!=null&&b[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var x=f.indexOf(_);if(x>-1&&(x+=p?-1:1),h=f[x],typeof h>"u"){l.preventDefault(),h=p?y:m,h.focus();return}l.preventDefault(),h.focus()}}t.exports=e.default}(_v,_v.exports)),_v.exports}var bs={},h2,p4;function K0e(){if(p4)return h2;p4=1;var t=function(){};return h2=t,h2}var Qs={},p2={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var g4;function G0e(){return g4||(g4=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(p2)),p2.exports}var m4;function jR(){if(m4)return Qs;m4=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.canUseDOM=Qs.SafeNodeList=Qs.SafeHTMLCollection=void 0;var t=G0e(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return Qs.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Qs.SafeNodeList=r.canUseDOM?window.NodeList:{},Qs.canUseDOM=r.canUseDOM,Qs.default=i,Qs}var y4;function f9(){if(y4)return bs;y4=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.resetState=a,bs.log=s,bs.assertNodeList=o,bs.setElement=l,bs.validateElement=f,bs.hide=h,bs.show=p,bs.documentNotReadyOrSSRTesting=m;var t=K0e(),e=r(t),n=jR();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function s(){}function o(y,_){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+_+".")}function l(y){var _=y;if(typeof _=="string"&&n.canUseDOM){var b=document.querySelectorAll(_);o(b,_),_=b}return i=_||i,i}function f(y){var _=y||i;return _?Array.isArray(_)||_ instanceof HTMLCollection||_ instanceof NodeList?_:[_]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(y){var _=!0,b=!1,S=void 0;try{for(var x=f(y)[Symbol.iterator](),E;!(_=(E=x.next()).done);_=!0){var A=E.value;A.setAttribute("aria-hidden","true")}}catch(I){b=!0,S=I}finally{try{!_&&x.return&&x.return()}finally{if(b)throw S}}}function p(y){var _=!0,b=!1,S=void 0;try{for(var x=f(y)[Symbol.iterator](),E;!(_=(E=x.next()).done);_=!0){var A=E.value;A.removeAttribute("aria-hidden")}}catch(I){b=!0,S=I}finally{try{!_&&x.return&&x.return()}finally{if(b)throw S}}}function m(){i=null}return bs}var pc={},v4;function W0e(){if(v4)return pc;v4=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.resetState=r,pc.log=i;var t={},e={};function n(f,h){f.classList.remove(h)}function r(){var f=document.getElementsByTagName("html")[0];for(var h in t)n(f,t[h]);var p=document.body;for(var m in e)n(p,e[m]);t={},e={}}function i(){}var a=function(h,p){return h[p]||(h[p]=0),h[p]+=1,p},s=function(h,p){return h[p]&&(h[p]-=1),p},o=function(h,p,m){m.forEach(function(y){a(p,y),h.add(y)})},l=function(h,p,m){m.forEach(function(y){s(p,y),p[y]===0&&h.remove(y)})};return pc.add=function(h,p){return o(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},pc.remove=function(h,p){return l(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},pc}var Hf={},_4;function d9(){if(_4)return Hf;_4=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.log=r,Hf.resetState=i;function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function a(){var s=this;t(this,a),this.register=function(o){s.openInstances.indexOf(o)===-1&&(s.openInstances.push(o),s.emit("register"))},this.deregister=function(o){var l=s.openInstances.indexOf(o);l!==-1&&(s.openInstances.splice(l,1),s.emit("deregister"))},this.subscribe=function(o){s.subscribers.push(o)},this.emit=function(o){s.subscribers.forEach(function(l){return l(o,s.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new e}return Hf.default=n,Hf}var tg={},w4;function Q0e(){if(w4)return tg;w4=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.resetState=s,tg.log=o;var t=d9(),e=n(t);function n(h){return h&&h.__esModule?h:{default:h}}var r=void 0,i=void 0,a=[];function s(){for(var h=[r,i],p=0;p<h.length;p++){var m=h[p];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function o(){console.log("bodyTrap ----------"),console.log(a.length);for(var h=[r,i],p=0;p<h.length;p++){var m=h[p],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function f(h,p){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=p,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(f),tg}var b4;function Z0e(){return b4||(b4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(oe){for(var ge=1;ge<arguments.length;ge++){var _e=arguments[ge];for(var le in _e)Object.prototype.hasOwnProperty.call(_e,le)&&(oe[le]=_e[le])}return oe},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},i=function(){function oe(ge,_e){for(var le=0;le<_e.length;le++){var ce=_e[le];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ge,ce.key,ce)}}return function(ge,_e,le){return _e&&oe(ge.prototype,_e),le&&oe(ge,le),ge}}(),a=Md(),s=uq(),o=M(s),l=H0e(),f=I(l),h=V0e(),p=M(h),m=f9(),y=I(m),_=W0e(),b=I(_),S=jR(),x=M(S),E=d9(),A=M(E);Q0e();function I(oe){if(oe&&oe.__esModule)return oe;var ge={};if(oe!=null)for(var _e in oe)Object.prototype.hasOwnProperty.call(oe,_e)&&(ge[_e]=oe[_e]);return ge.default=oe,ge}function M(oe){return oe&&oe.__esModule?oe:{default:oe}}function D(oe,ge){if(!(oe instanceof ge))throw new TypeError("Cannot call a class as a function")}function j(oe,ge){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge&&(typeof ge=="object"||typeof ge=="function")?ge:oe}function Q(oe,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);oe.prototype=Object.create(ge&&ge.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ge):oe.__proto__=ge)}var Y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},q=function(ge){return ge.code==="Tab"||ge.keyCode===9},Z=function(ge){return ge.code==="Escape"||ge.keyCode===27},fe=0,te=function(oe){Q(ge,oe);function ge(_e){D(this,ge);var le=j(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,_e));return le.setOverlayRef=function(ce){le.overlay=ce,le.props.overlayRef&&le.props.overlayRef(ce)},le.setContentRef=function(ce){le.content=ce,le.props.contentRef&&le.props.contentRef(ce)},le.afterClose=function(){var ce=le.props,Le=ce.appElement,k=ce.ariaHideApp,ne=ce.htmlOpenClassName,me=ce.bodyOpenClassName,H=ce.parentSelector,J=H&&H().ownerDocument||document;me&&b.remove(J.body,me),ne&&b.remove(J.getElementsByTagName("html")[0],ne),k&&fe>0&&(fe-=1,fe===0&&y.show(Le)),le.props.shouldFocusAfterRender&&(le.props.shouldReturnFocusAfterClose?(f.returnFocus(le.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),le.props.onAfterClose&&le.props.onAfterClose(),A.default.deregister(le)},le.open=function(){le.beforeOpen(),le.state.afterOpen&&le.state.beforeClose?(clearTimeout(le.closeTimer),le.setState({beforeClose:!1})):(le.props.shouldFocusAfterRender&&(f.setupScopedFocus(le.node),f.markForFocusLater()),le.setState({isOpen:!0},function(){le.openAnimationFrame=requestAnimationFrame(function(){le.setState({afterOpen:!0}),le.props.isOpen&&le.props.onAfterOpen&&le.props.onAfterOpen({overlayEl:le.overlay,contentEl:le.content})})}))},le.close=function(){le.props.closeTimeoutMS>0?le.closeWithTimeout():le.closeWithoutTimeout()},le.focusContent=function(){return le.content&&!le.contentHasFocus()&&le.content.focus({preventScroll:!0})},le.closeWithTimeout=function(){var ce=Date.now()+le.props.closeTimeoutMS;le.setState({beforeClose:!0,closesAt:ce},function(){le.closeTimer=setTimeout(le.closeWithoutTimeout,le.state.closesAt-Date.now())})},le.closeWithoutTimeout=function(){le.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},le.afterClose)},le.handleKeyDown=function(ce){q(ce)&&(0,p.default)(le.content,ce),le.props.shouldCloseOnEsc&&Z(ce)&&(ce.stopPropagation(),le.requestClose(ce))},le.handleOverlayOnClick=function(ce){le.shouldClose===null&&(le.shouldClose=!0),le.shouldClose&&le.props.shouldCloseOnOverlayClick&&(le.ownerHandlesClose()?le.requestClose(ce):le.focusContent()),le.shouldClose=null},le.handleContentOnMouseUp=function(){le.shouldClose=!1},le.handleOverlayOnMouseDown=function(ce){!le.props.shouldCloseOnOverlayClick&&ce.target==le.overlay&&ce.preventDefault()},le.handleContentOnClick=function(){le.shouldClose=!1},le.handleContentOnMouseDown=function(){le.shouldClose=!1},le.requestClose=function(ce){return le.ownerHandlesClose()&&le.props.onRequestClose(ce)},le.ownerHandlesClose=function(){return le.props.onRequestClose},le.shouldBeClosed=function(){return!le.state.isOpen&&!le.state.beforeClose},le.contentHasFocus=function(){return document.activeElement===le.content||le.content.contains(document.activeElement)},le.buildClassName=function(ce,Le){var k=(typeof Le>"u"?"undefined":r(Le))==="object"?Le:{base:Y[ce],afterOpen:Y[ce]+"--after-open",beforeClose:Y[ce]+"--before-close"},ne=k.base;return le.state.afterOpen&&(ne=ne+" "+k.afterOpen),le.state.beforeClose&&(ne=ne+" "+k.beforeClose),typeof Le=="string"&&Le?ne+" "+Le:ne},le.attributesFromObject=function(ce,Le){return Object.keys(Le).reduce(function(k,ne){return k[ce+"-"+ne]=Le[ne],k},{})},le.state={afterOpen:!1,beforeClose:!1},le.shouldClose=null,le.moveFromContentToOverlay=null,le}return i(ge,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(le,ce){this.props.isOpen&&!le.isOpen?this.open():!this.props.isOpen&&le.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ce.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var le=this.props,ce=le.appElement,Le=le.ariaHideApp,k=le.htmlOpenClassName,ne=le.bodyOpenClassName,me=le.parentSelector,H=me&&me().ownerDocument||document;ne&&b.add(H.body,ne),k&&b.add(H.getElementsByTagName("html")[0],k),Le&&(fe+=1,y.hide(ce)),A.default.register(this)}},{key:"render",value:function(){var le=this.props,ce=le.id,Le=le.className,k=le.overlayClassName,ne=le.defaultStyles,me=le.children,H=Le?{}:ne.content,J=k?{}:ne.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},J,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ae=n({id:ce,ref:this.setContentRef,style:n({},H,this.props.style.content),className:this.buildClassName("content",Le),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Je=this.props.contentElement(Ae,me);return this.props.overlayElement(pe,Je)}}]),ge}(a.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:o.default.bool.isRequired,defaultStyles:o.default.shape({content:o.default.object,overlay:o.default.object}),style:o.default.shape({content:o.default.object,overlay:o.default.object}),className:o.default.oneOfType([o.default.string,o.default.object]),overlayClassName:o.default.oneOfType([o.default.string,o.default.object]),parentSelector:o.default.func,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,ariaHideApp:o.default.bool,appElement:o.default.oneOfType([o.default.instanceOf(x.default),o.default.instanceOf(S.SafeHTMLCollection),o.default.instanceOf(S.SafeNodeList),o.default.arrayOf(o.default.instanceOf(x.default))]),onAfterOpen:o.default.func,onAfterClose:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,role:o.default.string,contentLabel:o.default.string,aria:o.default.object,data:o.default.object,children:o.default.node,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func,testId:o.default.string},e.default=te,t.exports=e.default}(yv,yv.exports)),yv.exports}function h9(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function p9(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function g9(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}h9.__suppressDeprecationWarning=!0;p9.__suppressDeprecationWarning=!0;g9.__suppressDeprecationWarning=!0;function J0e(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=h9,e.componentWillReceiveProps=p9),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=g9;var o=e.componentDidUpdate;e.componentDidUpdate=function(f,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;o.call(this,f,h,m)}}return t}const Y0e=Object.freeze(Object.defineProperty({__proto__:null,polyfill:J0e},Symbol.toStringTag,{value:"Module"})),X0e=i5(Y0e);var S4;function ewe(){if(S4)return Yu;S4=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.bodyOpenClassName=Yu.portalClassName=void 0;var t=Object.assign||function(Z){for(var fe=1;fe<arguments.length;fe++){var te=arguments[fe];for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(Z[oe]=te[oe])}return Z},e=function(){function Z(fe,te){for(var oe=0;oe<te.length;oe++){var ge=te[oe];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(fe,ge.key,ge)}}return function(fe,te,oe){return te&&Z(fe.prototype,te),oe&&Z(fe,oe),fe}}(),n=Md(),r=S(n),i=yA(),a=S(i),s=uq(),o=S(s),l=Z0e(),f=S(l),h=f9(),p=b(h),m=jR(),y=S(m),_=X0e;function b(Z){if(Z&&Z.__esModule)return Z;var fe={};if(Z!=null)for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&(fe[te]=Z[te]);return fe.default=Z,fe}function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function x(Z,fe){if(!(Z instanceof fe))throw new TypeError("Cannot call a class as a function")}function E(Z,fe){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:Z}function A(Z,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);Z.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,fe):Z.__proto__=fe)}var I=Yu.portalClassName="ReactModalPortal",M=Yu.bodyOpenClassName="ReactModal__Body--open",D=m.canUseDOM&&a.default.createPortal!==void 0,j=function(fe){return document.createElement(fe)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function Y(Z){return Z()}var q=function(Z){A(fe,Z);function fe(){var te,oe,ge,_e;x(this,fe);for(var le=arguments.length,ce=Array(le),Le=0;Le<le;Le++)ce[Le]=arguments[Le];return _e=(oe=(ge=E(this,(te=fe.__proto__||Object.getPrototypeOf(fe)).call.apply(te,[this].concat(ce))),ge),ge.removePortal=function(){!D&&a.default.unmountComponentAtNode(ge.node);var k=Y(ge.props.parentSelector);k&&k.contains(ge.node)?k.removeChild(ge.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ge.portalRef=function(k){ge.portal=k},ge.renderPortal=function(k){var ne=Q(),me=ne(ge,r.default.createElement(f.default,t({defaultStyles:fe.defaultStyles},k)),ge.node);ge.portalRef(me)},oe),E(ge,_e)}return e(fe,[{key:"componentDidMount",value:function(){if(m.canUseDOM){D||(this.node=j("div")),this.node.className=this.props.portalClassName;var oe=Y(this.props.parentSelector);oe.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(oe){var ge=Y(oe.parentSelector),_e=Y(this.props.parentSelector);return{prevParent:ge,nextParent:_e}}},{key:"componentDidUpdate",value:function(oe,ge,_e){if(m.canUseDOM){var le=this.props,ce=le.isOpen,Le=le.portalClassName;oe.portalClassName!==Le&&(this.node.className=Le);var k=_e.prevParent,ne=_e.nextParent;ne!==k&&(k.removeChild(this.node),ne.appendChild(this.node)),!(!oe.isOpen&&!ce)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var oe=this.portal.state,ge=Date.now(),_e=oe.isOpen&&this.props.closeTimeoutMS&&(oe.closesAt||ge+this.props.closeTimeoutMS);_e?(oe.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,_e-ge)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!D)return null;!this.node&&D&&(this.node=j("div"));var oe=Q();return oe(r.default.createElement(f.default,t({ref:this.portalRef,defaultStyles:fe.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(oe){p.setElement(oe)}}]),fe}(n.Component);return q.propTypes={isOpen:o.default.bool.isRequired,style:o.default.shape({content:o.default.object,overlay:o.default.object}),portalClassName:o.default.string,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,className:o.default.oneOfType([o.default.string,o.default.shape({base:o.default.string.isRequired,afterOpen:o.default.string.isRequired,beforeClose:o.default.string.isRequired})]),overlayClassName:o.default.oneOfType([o.default.string,o.default.shape({base:o.default.string.isRequired,afterOpen:o.default.string.isRequired,beforeClose:o.default.string.isRequired})]),appElement:o.default.oneOfType([o.default.instanceOf(y.default),o.default.instanceOf(m.SafeHTMLCollection),o.default.instanceOf(m.SafeNodeList),o.default.arrayOf(o.default.instanceOf(y.default))]),onAfterOpen:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,ariaHideApp:o.default.bool,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,parentSelector:o.default.func,aria:o.default.object,data:o.default.object,role:o.default.string,contentLabel:o.default.string,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func},q.defaultProps={isOpen:!1,portalClassName:I,bodyOpenClassName:M,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(fe,te){return r.default.createElement("div",fe,te)},contentElement:function(fe,te){return r.default.createElement("div",fe,te)}},q.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,_.polyfill)(q),Yu.default=q,Yu}var x4;function twe(){return x4||(x4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=ewe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,t.exports=e.default}(mv,mv.exports)),mv.exports}var nwe=twe();const m9=Gr(nwe),rwe="_modal_zohdb_1",iwe="_overlay_zohdb_12",E4={modal:rwe,overlay:iwe};m9.setAppElement("#root");const nw=({className:t,overlayClassName:e,...n})=>de.jsx(m9,{className:ii(E4.modal,t),overlayClassName:ii(E4.overlay,e),...n}),awe="_container_1buxd_1",swe="_content_1buxd_18",owe="_podOptions_1buxd_18",uwe="_tabs_1buxd_18",lwe="_tabContent_1buxd_38",cwe="_footer_1buxd_41",fwe="_email_1buxd_41",gc={container:awe,content:swe,podOptions:owe,tabs:uwe,tabContent:lwe,footer:cwe,email:fwe},g2=({issuer:t,registration:e,children:n})=>{const r=Vd();return de.jsx(Ace,{secondary:!0,href:e,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(K_.setLastSelectedIssuer(t))},"data-cy":"pod-provider-signup-link",children:n??new URL(t).hostname})},dwe=()=>{const{oidcIssuers:t,communityId:e}=$n(),r=gu(e).name||"SolidCouch";return ae.useMemo(()=>[{id:"show-options",label:"Show me some providers!",content:de.jsxs(de.Fragment,{children:["Here are some Pod providers that work with ",r,":",de.jsx("ul",{children:t.filter(a=>a.registration).map(a=>de.jsx("li",{children:de.jsx(g2,{...a})},a.issuer))})]})},{id:"choose-for-me",label:"Choose for me!",content:de.jsxs(de.Fragment,{children:[de.jsx(g2,{...t.find(a=>a.recommended),children:"Get a Pod at solidcommunity.net "}),de.jsx("br",{}),"It is managed by the Solid community folks, and will be migrated to a"," ",de.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer",children:"modern and open-source Solid server"}),"."]})},{id:"more-control",label:"I want more control",content:de.jsxs(de.Fragment,{children:[de.jsxs("p",{children:["You can ",de.jsx("b",{children:"host your Pod"}),". This will give you full control over your data. However, it's more complicated to set up, and requires maintenance. We recommend"," ",de.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer",children:"Community Solid Server"}),"."]}),de.jsx("p",{children:de.jsxs("i",{children:["Read more about"," ",de.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer",children:"running your own Solid server"}),"."]})}),de.jsx("hr",{}),de.jsxs("p",{children:["If you own a ",de.jsx("b",{children:"domain name"}),", you can have your"," ",de.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer",children:"WebID"})," ","on your domain. This gives you more control over your Solid identity."]}),de.jsxs("p",{children:["Choose option ",de.jsx("i",{children:'"Use my existing WebID to access my Pod"'})," with one of these providers:"]}),de.jsx("ul",{children:t.filter(({server:a,registration:s})=>s&&a==="CSS").map(a=>de.jsx("li",{children:de.jsx(g2,{...a})},a.issuer))}),de.jsx("p",{children:"To complete the process, you must prove that the WebID on your domain belongs to you. Afterwards, the WebID must point to your Profile Document. (This may need more explanation.)"}),de.jsx("p",{children:"Or use your domain to host your own Solid Pod."})]})}],[r,t])},hwe=()=>{var f;const[t,e]=ae.useState(!1),[n,r]=ae.useState(),{communityId:i}=$n(),s=gu(i).name||"SolidCouch",o=h=>{r(h.target.value)},l=dwe();return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{primary:!0,onClick:()=>e(!0),children:"Join"}),de.jsx(nw,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>e(!1),children:de.jsxs("div",{className:gc.container,children:[de.jsxs("div",{className:gc.content,children:["To join ",s,", you need a"," ",de.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer",children:"Solid Pod"}),".",de.jsxs("div",{className:gc.podOptions,children:[de.jsx("div",{className:gc.tabs,children:l.map(h=>de.jsxs(ae.Fragment,{children:[de.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:o}),de.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),de.jsx("div",{className:gc.tabContent,children:de.jsx("p",{children:(f=l.find(h=>h.id===n))==null?void 0:f.content})})]})]}),de.jsxs("div",{className:gc.footer,children:["Do you have troubles joining?"," ",de.jsx("a",{href:"https://matrix.to/#/#ohn:matrix.org",target:"_blank",rel:"noopener noreferrer",children:"Ask for help in our project spaces"})," ","or write us email to"," ",de.jsx("i",{className:gc.email,children:'"support at solidcouch dot org"'})]})]})})]})},pwe=async t=>{const{data:e}=await rq(t);return Zn.createLdoDataset(e).usingType(B8).fromSubject(t).oidcIssuer.flatMap(r=>r["@id"]??[])},gwe=async t=>{try{const e=await pwe(t);if(e.length===0)throw new Error("OIDC issuer not found");return e[0]}catch{return t}},mwe=(t,e)=>{var r;const n=new URL(t);return(r=e.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},y9=t=>{const e=t.trim();return e.startsWith("http")?e:`https://${e}`},ywe=(t,e)=>{const n=y9(t);return mwe(n,e)??n},vwe=async(t,e)=>{const n=y9(t),r=await gwe(n);return ywe(r,e)??r};var Cm=t=>t.type==="checkbox",ed=t=>t instanceof Date,ia=t=>t==null;const v9=t=>typeof t=="object";var li=t=>!ia(t)&&!Array.isArray(t)&&v9(t)&&!ed(t),_9=t=>li(t)&&t.target?Cm(t.target)?t.target.checked:t.target.value:t,_we=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,w9=(t,e)=>t.has(_we(e)),Am=t=>Array.isArray(t)?t.filter(Boolean):[],ei=t=>t===void 0,$t=(t,e,n)=>{if(!e||!li(t))return n;const r=Am(e.split(/[,[\].]+?/)).reduce((i,a)=>ia(i)?i:i[a],t);return ei(r)||r===t?ei(t[e])?n:t[e]:r};const n0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wwe=Gt.createContext(null),$R=()=>Gt.useContext(wwe);var b9=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Ls.all&&(e._proxyFormState[s]=!r||Ls.all),n&&(n[s]=!0),t[s]}});return i},os=t=>li(t)&&!Object.keys(t).length,S9=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return os(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!r||Ls.all))},A_=t=>Array.isArray(t)?t:[t],x9=(t,e,n)=>n&&e?t===e:!t||!e||t===e||A_(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function UR(t){const e=Gt.useRef(t);e.current=t,Gt.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function bwe(t){const e=$R(),{control:n=e.control,disabled:r,name:i,exact:a}=t,[s,o]=Gt.useState(n._formState),l=Gt.useRef(!0),f=Gt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Gt.useRef(i);return h.current=i,UR({disabled:r,next:p=>l.current&&x9(h.current,p.name,a)&&S9(p,f.current,n._updateFormState)&&o({...n._formState,...p}),subject:n._subjects.state}),Gt.useEffect(()=>{l.current=!0;const p=n._proxyFormState.isDirty&&n._getDirty();return p!==n._formState.isDirty&&n._subjects.state.next({isDirty:p}),f.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),b9(s,n,f.current,!1)}var uo=t=>typeof t=="string",E9=(t,e,n,r,i)=>uo(t)?(r&&e.watch.add(t),$t(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),$t(n,a))):(r&&(e.watchAll=!0),n),Swe=t=>{const e=t.constructor&&t.constructor.prototype;return li(e)&&e.hasOwnProperty("isPrototypeOf")},BR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function il(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(BR&&(t instanceof Blob||t instanceof FileList))&&(n||li(t)))if(e=n?[]:{},!Array.isArray(t)&&!Swe(t))e=t;else for(const r in t)e[r]=il(t[r]);else return t;return e}function xwe(t){const e=$R(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:s}=t,o=Gt.useRef(r);o.current=r,UR({disabled:a,subject:n._subjects.watch,next:h=>{x9(o.current,h.name,s)&&f(il(E9(o.current,n._names,h.values||n._formValues,!1,i)))}});const[l,f]=Gt.useState(n._getWatch(r,i));return Gt.useEffect(()=>n._removeUnmounted()),l}function Ewe(t){const e=$R(),{name:n,control:r=e.control,shouldUnregister:i}=t,a=w9(r._names.array,n),s=xwe({control:r,name:n,defaultValue:$t(r._formValues,n,$t(r._defaultValues,n,t.defaultValue)),exact:!0}),o=bwe({control:r,name:n}),l=Gt.useRef(r.register(n,{...t.rules,value:s}));return Gt.useEffect(()=>{const f=(h,p)=>{const m=$t(r._fields,h);m&&(m._f.mount=p)};return f(n,!0),()=>{const h=r._options.shouldUnregister||i;(a?h&&!r._stateFlags.action:h)?r.unregister(n):f(n,!1)}},[n,r,a,i]),{field:{name:n,value:s,onChange:Gt.useCallback(f=>l.current.onChange({target:{value:_9(f),name:n},type:n0.CHANGE}),[n]),onBlur:Gt.useCallback(()=>l.current.onBlur({target:{value:$t(r._formValues,n),name:n},type:n0.BLUR}),[n,r]),ref:f=>{const h=$t(r._fields,n);h&&f&&(h._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:p=>f.setCustomValidity(p),reportValidity:()=>f.reportValidity()})}},formState:o,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$t(o.errors,n)},isDirty:{enumerable:!0,get:()=>!!$t(o.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$t(o.touchedFields,n)},error:{enumerable:!0,get:()=>$t(o.errors,n)}})}}const Twe=t=>t.render(Ewe(t));var T9=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},qR=t=>/^\w*$/.test(t),C9=t=>Am(t.replace(/["|']|\]/g,"").split(/\.|\[/));function mr(t,e,n){let r=-1;const i=qR(e)?[e]:C9(e),a=i.length,s=a-1;for(;++r<a;){const o=i[r];let l=n;if(r!==s){const f=t[o];l=li(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}t[o]=l,t=t[o]}return t}const ZC=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=$t(t,r);if(i){const{_f:a,...s}=i;if(a&&e(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else li(s)&&ZC(s,e)}}};var T4=t=>({isOnSubmit:!t||t===Ls.onSubmit,isOnBlur:t===Ls.onBlur,isOnChange:t===Ls.onChange,isOnAll:t===Ls.all,isOnTouch:t===Ls.onTouched}),C4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Cwe=(t,e,n)=>{const r=Am($t(t,n));return mr(r,"root",e[n]),mr(t,n,r),t},sd=t=>typeof t=="boolean",zR=t=>t.type==="file",od=t=>typeof t=="function",r0=t=>{if(!BR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},R_=t=>uo(t)||Gt.isValidElement(t),HR=t=>t.type==="radio",i0=t=>t instanceof RegExp;const A4={value:!1,isValid:!1},R4={value:!0,isValid:!0};var A9=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ei(t[0].attributes.value)?ei(t[0].value)||t[0].value===""?R4:{value:t[0].value,isValid:!0}:R4:A4}return A4};const P4={isValid:!1,value:null};var R9=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,P4):P4;function O4(t,e,n="validate"){if(R_(t)||Array.isArray(t)&&t.every(R_)||sd(t)&&!t)return{type:n,message:R_(t)?t:"",ref:e}}var Vf=t=>li(t)&&!i0(t)?t:{value:t,message:""},L4=async(t,e,n,r,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:f,min:h,max:p,pattern:m,validate:y,name:_,valueAsNumber:b,mount:S,disabled:x}=t._f,E=$t(e,_);if(!S||x)return{};const A=s?s[0]:a,I=fe=>{r&&A.reportValidity&&(A.setCustomValidity(sd(fe)?"":fe||""),A.reportValidity())},M={},D=HR(a),j=Cm(a),Q=D||j,Y=(b||zR(a))&&ei(a.value)&&ei(E)||r0(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,q=T9.bind(null,_,n,M),Z=(fe,te,oe,ge=Go.maxLength,_e=Go.minLength)=>{const le=fe?te:oe;M[_]={type:fe?ge:_e,message:le,ref:a,...q(fe?ge:_e,le)}};if(i?!Array.isArray(E)||!E.length:o&&(!Q&&(Y||ia(E))||sd(E)&&!E||j&&!A9(s).isValid||D&&!R9(s).isValid)){const{value:fe,message:te}=R_(o)?{value:!!o,message:o}:Vf(o);if(fe&&(M[_]={type:Go.required,message:te,ref:A,...q(Go.required,te)},!n))return I(te),M}if(!Y&&(!ia(h)||!ia(p))){let fe,te;const oe=Vf(p),ge=Vf(h);if(!ia(E)&&!isNaN(E)){const _e=a.valueAsNumber||E&&+E;ia(oe.value)||(fe=_e>oe.value),ia(ge.value)||(te=_e<ge.value)}else{const _e=a.valueAsDate||new Date(E),le=k=>new Date(new Date().toDateString()+" "+k),ce=a.type=="time",Le=a.type=="week";uo(oe.value)&&E&&(fe=ce?le(E)>le(oe.value):Le?E>oe.value:_e>new Date(oe.value)),uo(ge.value)&&E&&(te=ce?le(E)<le(ge.value):Le?E<ge.value:_e<new Date(ge.value))}if((fe||te)&&(Z(!!fe,oe.message,ge.message,Go.max,Go.min),!n))return I(M[_].message),M}if((l||f)&&!Y&&(uo(E)||i&&Array.isArray(E))){const fe=Vf(l),te=Vf(f),oe=!ia(fe.value)&&E.length>fe.value,ge=!ia(te.value)&&E.length<te.value;if((oe||ge)&&(Z(oe,fe.message,te.message),!n))return I(M[_].message),M}if(m&&!Y&&uo(E)){const{value:fe,message:te}=Vf(m);if(i0(fe)&&!E.match(fe)&&(M[_]={type:Go.pattern,message:te,ref:a,...q(Go.pattern,te)},!n))return I(te),M}if(y){if(od(y)){const fe=await y(E,e),te=O4(fe,A);if(te&&(M[_]={...te,...q(Go.validate,te.message)},!n))return I(te.message),M}else if(li(y)){let fe={};for(const te in y){if(!os(fe)&&!n)break;const oe=O4(await y[te](E,e),A,te);oe&&(fe={...oe,...q(te,oe.message)},I(oe.message),n&&(M[_]=fe))}if(!os(fe)&&(M[_]={ref:A,...fe},!n))return M}}return I(!0),M};function Awe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ei(t)?r++:t[e[r++]];return t}function Rwe(t){for(const e in t)if(!ei(t[e]))return!1;return!0}function Ai(t,e){const n=Array.isArray(e)?e:qR(e)?[e]:C9(e),r=n.length===1?t:Awe(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(li(r)&&os(r)||Array.isArray(r)&&Rwe(r))&&Ai(t,n.slice(0,-1)),t}function m2(){let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}}var a0=t=>ia(t)||!v9(t);function Ac(t,e){if(a0(t)||a0(e))return t===e;if(ed(t)&&ed(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(ed(a)&&ed(s)||li(a)&&li(s)||Array.isArray(a)&&Array.isArray(s)?!Ac(a,s):a!==s)return!1}}return!0}var P9=t=>t.type==="select-multiple",Pwe=t=>HR(t)||Cm(t),y2=t=>r0(t)&&t.isConnected,O9=t=>{for(const e in t)if(od(t[e]))return!0;return!1};function s0(t,e={}){const n=Array.isArray(t);if(li(t)||n)for(const r in t)Array.isArray(t[r])||li(t[r])&&!O9(t[r])?(e[r]=Array.isArray(t[r])?[]:{},s0(t[r],e[r])):ia(t[r])||(e[r]=!0);return e}function L9(t,e,n){const r=Array.isArray(t);if(li(t)||r)for(const i in t)Array.isArray(t[i])||li(t[i])&&!O9(t[i])?ei(e)||a0(n[i])?n[i]=Array.isArray(t[i])?s0(t[i],[]):{...s0(t[i])}:L9(t[i],ia(e)?{}:e[i],n[i]):Ac(t[i],e[i])?delete n[i]:n[i]=!0;return n}var v2=(t,e)=>L9(t,e,s0(e)),I9=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ei(t)?t:e?t===""?NaN:t&&+t:n&&uo(t)?new Date(t):r?r(t):t;function _2(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return zR(e)?e.files:HR(e)?R9(t.refs).value:P9(e)?[...e.selectedOptions].map(({value:n})=>n):Cm(e)?A9(t.refs).value:I9(ei(e.value)?t.ref.value:e.value,t)}var Owe=(t,e,n,r)=>{const i={};for(const a of t){const s=$t(e,a);s&&mr(i,a,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ng=t=>ei(t)?t:i0(t)?t.source:li(t)?i0(t.value)?t.value.source:t.value:t,Lwe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function I4(t,e,n){const r=$t(t,n);if(r||qR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=$t(e,a),o=$t(t,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:n}}var Iwe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Mwe=(t,e)=>!Am($t(t,e)).length&&Ai(t,e);const Dwe={mode:Ls.onSubmit,reValidateMode:Ls.onChange,shouldFocusError:!0};function kwe(t={},e){let n={...Dwe,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},s=li(n.defaultValues)||li(n.values)?il(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:il(s),l={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:m2(),array:m2(),state:m2()},_=T4(n.mode),b=T4(n.reValidateMode),S=n.criteriaMode===Ls.all,x=W=>he=>{clearTimeout(p),p=window.setTimeout(W,he)},E=async W=>{if(m.isValid||W){const he=n.resolver?os((await Y()).errors):await Z(a,!0);he!==i.isValid&&y.state.next({isValid:he})}},A=W=>m.isValidating&&y.state.next({isValidating:W}),I=(W,he=[],ye,He,Te=!0,Ne=!0)=>{if(He&&ye){if(l.action=!0,Ne&&Array.isArray($t(a,W))){const tt=ye($t(a,W),He.argA,He.argB);Te&&mr(a,W,tt)}if(Ne&&Array.isArray($t(i.errors,W))){const tt=ye($t(i.errors,W),He.argA,He.argB);Te&&mr(i.errors,W,tt),Mwe(i.errors,W)}if(m.touchedFields&&Ne&&Array.isArray($t(i.touchedFields,W))){const tt=ye($t(i.touchedFields,W),He.argA,He.argB);Te&&mr(i.touchedFields,W,tt)}m.dirtyFields&&(i.dirtyFields=v2(s,o)),y.state.next({name:W,isDirty:te(W,he),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else mr(o,W,he)},M=(W,he)=>{mr(i.errors,W,he),y.state.next({errors:i.errors})},D=(W,he,ye,He)=>{const Te=$t(a,W);if(Te){const Ne=$t(o,W,ei(ye)?$t(s,W):ye);ei(Ne)||He&&He.defaultChecked||he?mr(o,W,he?Ne:_2(Te._f)):_e(W,Ne),l.mount&&E()}},j=(W,he,ye,He,Te)=>{let Ne=!1,tt=!1;const nt={name:W};if(!ye||He){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=te(),Ne=tt!==nt.isDirty);const gt=Ac($t(s,W),he);tt=$t(i.dirtyFields,W),gt?Ai(i.dirtyFields,W):mr(i.dirtyFields,W,!0),nt.dirtyFields=i.dirtyFields,Ne=Ne||m.dirtyFields&&tt!==!gt}if(ye){const gt=$t(i.touchedFields,W);gt||(mr(i.touchedFields,W,ye),nt.touchedFields=i.touchedFields,Ne=Ne||m.touchedFields&&gt!==ye)}return Ne&&Te&&y.state.next(nt),Ne?nt:{}},Q=(W,he,ye,He)=>{const Te=$t(i.errors,W),Ne=m.isValid&&sd(he)&&i.isValid!==he;if(t.delayError&&ye?(h=x(()=>M(W,ye)),h(t.delayError)):(clearTimeout(p),h=null,ye?mr(i.errors,W,ye):Ai(i.errors,W)),(ye?!Ac(Te,ye):Te)||!os(He)||Ne){const tt={...He,...Ne&&sd(he)?{isValid:he}:{},errors:i.errors,name:W};i={...i,...tt},y.state.next(tt)}A(!1)},Y=async W=>await n.resolver(o,n.context,Owe(W||f.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),q=async W=>{const{errors:he}=await Y();if(W)for(const ye of W){const He=$t(he,ye);He?mr(i.errors,ye,He):Ai(i.errors,ye)}else i.errors=he;return he},Z=async(W,he,ye={valid:!0})=>{for(const He in W){const Te=W[He];if(Te){const{_f:Ne,...tt}=Te;if(Ne){const nt=f.array.has(Ne.name),gt=await L4(Te,o,S,n.shouldUseNativeValidation,nt);if(gt[Ne.name]&&(ye.valid=!1,he))break;!he&&($t(gt,Ne.name)?nt?Cwe(i.errors,gt,Ne.name):mr(i.errors,Ne.name,gt[Ne.name]):Ai(i.errors,Ne.name))}tt&&await Z(tt,he,ye)}}return ye.valid},fe=()=>{for(const W of f.unMount){const he=$t(a,W);he&&(he._f.refs?he._f.refs.every(ye=>!y2(ye)):!y2(he._f.ref))&&Ae(W)}f.unMount=new Set},te=(W,he)=>(W&&he&&mr(o,W,he),!Ac(ne(),s)),oe=(W,he,ye)=>E9(W,f,{...l.mount?o:ei(he)?s:uo(W)?{[W]:he}:he},ye,he),ge=W=>Am($t(l.mount?o:s,W,t.shouldUnregister?$t(s,W,[]):[])),_e=(W,he,ye={})=>{const He=$t(a,W);let Te=he;if(He){const Ne=He._f;Ne&&(!Ne.disabled&&mr(o,W,I9(he,Ne)),Te=r0(Ne.ref)&&ia(he)?"":he,P9(Ne.ref)?[...Ne.ref.options].forEach(tt=>tt.selected=Te.includes(tt.value)):Ne.refs?Cm(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Te)?!!Te.find(nt=>nt===tt.value):Te===tt.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!Te):Ne.refs.forEach(tt=>tt.checked=tt.value===Te):zR(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Te,Ne.ref.type||y.watch.next({name:W})))}(ye.shouldDirty||ye.shouldTouch)&&j(W,Te,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(W)},le=(W,he,ye)=>{for(const He in he){const Te=he[He],Ne=`${W}.${He}`,tt=$t(a,Ne);(f.array.has(W)||!a0(Te)||tt&&!tt._f)&&!ed(Te)?le(Ne,Te,ye):_e(Ne,Te,ye)}},ce=(W,he,ye={})=>{const He=$t(a,W),Te=f.array.has(W),Ne=il(he);mr(o,W,Ne),Te?(y.array.next({name:W,values:o}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:W,dirtyFields:v2(s,o),isDirty:te(W,Ne)})):He&&!He._f&&!ia(Ne)?le(W,Ne,ye):_e(W,Ne,ye),C4(W,f)&&y.state.next({}),y.watch.next({name:W}),!l.mount&&e()},Le=async W=>{const he=W.target;let ye=he.name;const He=$t(a,ye),Te=()=>he.type?_2(He._f):_9(W);if(He){let Ne,tt;const nt=Te(),gt=W.type===n0.BLUR||W.type===n0.FOCUS_OUT,Ut=!Lwe(He._f)&&!n.resolver&&!$t(i.errors,ye)&&!He._f.deps||Iwe(gt,$t(i.touchedFields,ye),i.isSubmitted,b,_),Se=C4(ye,f,gt);mr(o,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(W),h&&h(0)):He._f.onChange&&He._f.onChange(W);const Be=j(ye,nt,gt,!1),X=!os(Be)||Se;if(!gt&&y.watch.next({name:ye,type:W.type}),Ut)return m.isValid&&E(),X&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:B}=await Y([ye]),K=I4(i.errors,a,ye),V=I4(B,a,K.name||ye);Ne=V.error,ye=V.name,tt=os(B)}else Ne=(await L4(He,o,S,n.shouldUseNativeValidation))[ye],Ne?tt=!1:m.isValid&&(tt=await Z(a,!0));He._f.deps&&k(He._f.deps),Q(ye,tt,Ne,Be)}},k=async(W,he={})=>{let ye,He;const Te=A_(W);if(A(!0),n.resolver){const Ne=await q(ei(W)?W:Te);ye=os(Ne),He=W?!Te.some(tt=>$t(Ne,tt)):ye}else W?(He=(await Promise.all(Te.map(async Ne=>{const tt=$t(a,Ne);return await Z(tt&&tt._f?{[Ne]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&E()):He=ye=await Z(a);return y.state.next({...!uo(W)||m.isValid&&ye!==i.isValid?{}:{name:W},...n.resolver||!W?{isValid:ye}:{},errors:i.errors,isValidating:!1}),he.shouldFocus&&!He&&ZC(a,Ne=>Ne&&$t(i.errors,Ne),W?Te:f.mount),He},ne=W=>{const he={...s,...l.mount?o:{}};return ei(W)?he:uo(W)?$t(he,W):W.map(ye=>$t(he,ye))},me=(W,he)=>({invalid:!!$t((he||i).errors,W),isDirty:!!$t((he||i).dirtyFields,W),isTouched:!!$t((he||i).touchedFields,W),error:$t((he||i).errors,W)}),H=W=>{W&&A_(W).forEach(he=>Ai(i.errors,he)),y.state.next({errors:W?i.errors:{}})},J=(W,he,ye)=>{const He=($t(a,W,{_f:{}})._f||{}).ref;mr(i.errors,W,{...he,ref:He}),y.state.next({name:W,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},pe=(W,he)=>od(W)?y.watch.subscribe({next:ye=>W(oe(void 0,he),ye)}):oe(W,he,!0),Ae=(W,he={})=>{for(const ye of W?A_(W):f.mount)f.mount.delete(ye),f.array.delete(ye),$t(a,ye)&&(he.keepValue||(Ai(a,ye),Ai(o,ye)),!he.keepError&&Ai(i.errors,ye),!he.keepDirty&&Ai(i.dirtyFields,ye),!he.keepTouched&&Ai(i.touchedFields,ye),!n.shouldUnregister&&!he.keepDefaultValue&&Ai(s,ye));y.watch.next({}),y.state.next({...i,...he.keepDirty?{isDirty:te()}:{}}),!he.keepIsValid&&E()},Je=(W,he={})=>{let ye=$t(a,W);const He=sd(he.disabled);return mr(a,W,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:W}},name:W,mount:!0,...he}}),f.mount.add(W),ye?He&&mr(o,W,he.disabled?void 0:$t(o,W,_2(ye._f))):D(W,!0,he.value),{...He?{disabled:he.disabled}:{},...n.shouldUseNativeValidation?{required:!!he.required,min:ng(he.min),max:ng(he.max),minLength:ng(he.minLength),maxLength:ng(he.maxLength),pattern:ng(he.pattern)}:{},name:W,onChange:Le,onBlur:Le,ref:Te=>{if(Te){Je(W,he),ye=$t(a,W);const Ne=ei(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,tt=Pwe(Ne),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Ne):Ne===ye._f.ref)return;mr(a,W,{_f:{...ye._f,...tt?{refs:[...nt.filter(y2),Ne,...Array.isArray($t(s,W))?[{}]:[]],ref:{type:Ne.type,name:W}}:{ref:Ne}}}),D(W,!1,void 0,Ne)}else ye=$t(a,W,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||he.shouldUnregister)&&!(w9(f.array,W)&&l.action)&&f.unMount.add(W)}}},Re=()=>n.shouldFocusError&&ZC(a,W=>W&&$t(i.errors,W),f.mount),Fe=(W,he)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=il(o);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Te,values:Ne}=await Y();i.errors=Te,He=Ne}else await Z(a);Ai(i.errors,"root"),os(i.errors)?(y.state.next({errors:{}}),await W(He,ye)):(he&&await he({...i.errors},ye),Re()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:os(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Xe=(W,he={})=>{$t(a,W)&&(ei(he.defaultValue)?ce(W,$t(s,W)):(ce(W,he.defaultValue),mr(s,W,he.defaultValue)),he.keepTouched||Ai(i.touchedFields,W),he.keepDirty||(Ai(i.dirtyFields,W),i.isDirty=he.defaultValue?te(W,$t(s,W)):te()),he.keepError||(Ai(i.errors,W),m.isValid&&E()),y.state.next({...i}))},ie=(W,he={})=>{const ye=W||s,He=il(ye),Te=W&&!os(W)?He:s;if(he.keepDefaultValues||(s=ye),!he.keepValues){if(he.keepDirtyValues||r)for(const Ne of f.mount)$t(i.dirtyFields,Ne)?mr(Te,Ne,$t(o,Ne)):ce(Ne,$t(Te,Ne));else{if(BR&&ei(W))for(const Ne of f.mount){const tt=$t(a,Ne);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(r0(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}o=t.shouldUnregister?he.keepDefaultValues?il(s):{}:He,y.array.next({values:Te}),y.watch.next({values:Te})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!m.isValid||!!he.keepIsValid,l.watch=!!t.shouldUnregister,y.state.next({submitCount:he.keepSubmitCount?i.submitCount:0,isDirty:he.keepDirty||he.keepDirtyValues?i.isDirty:!!(he.keepDefaultValues&&!Ac(W,s)),isSubmitted:he.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:he.keepDirty||he.keepDirtyValues?i.dirtyFields:he.keepDefaultValues&&W?v2(s,W):{},touchedFields:he.keepTouched?i.touchedFields:{},errors:he.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=(W,he)=>ie(od(W)?W(o):W,he),$=(W,he={})=>{const ye=$t(a,W),He=ye&&ye._f;if(He){const Te=He.refs?He.refs[0]:He.ref;Te.focus&&(Te.focus(),he.shouldSelect&&Te.select())}},re=W=>{i={...i,...W}};return od(n.defaultValues)&&n.defaultValues().then(W=>{z(W,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Je,unregister:Ae,getFieldState:me,_executeSchema:Y,_focusError:Re,_getWatch:oe,_getDirty:te,_updateValid:E,_removeUnmounted:fe,_updateFieldArray:I,_getFieldArray:ge,_reset:ie,_updateFormState:re,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return o},get _stateFlags(){return l},set _stateFlags(W){l=W},get _defaultValues(){return s},get _names(){return f},set _names(W){f=W},get _formState(){return i},set _formState(W){i=W},get _options(){return n},set _options(W){n={...n,...W}}},trigger:k,register:Je,handleSubmit:Fe,watch:pe,setValue:ce,getValues:ne,reset:z,resetField:Xe,clearErrors:H,unregister:Ae,setError:J,setFocus:$,getFieldState:me}}function Rm(t={}){const e=Gt.useRef(),[n,r]=Gt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:od(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...kwe(t,()=>r(a=>({...a}))),formState:n});const i=e.current.control;return i._options=t,UR({subject:i._subjects.state,next:a=>{S9(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Gt.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Gt.useEffect(()=>{t.values&&!Ac(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Gt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=b9(n,i),e.current}const Nwe="_providers_kq9gh_1",Fwe="_webIdForm_kq9gh_6",M4={providers:Nwe,webIdForm:Fwe},jwe=()=>{const{oidcIssuers:t,communityId:e}=$n(),[n,r]=ae.useState(!1),[i,a]=ae.useState(!1),s=Ms(rU),o=t.some(_=>_.issuer===s),{register:l,handleSubmit:f}=Rm({defaultValues:{webIdOrIssuer:o?"":s}}),h=Vd(),p=gu(e),m=async _=>{const b=s??"";h(K_.setLastSelectedIssuer(_));try{await BZ({oidcIssuer:_,redirectUrl:new URL("/",window.location.href).toString(),clientName:p.name||"SolidCouch",clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(S){h(K_.setLastSelectedIssuer(b)),S instanceof TypeError?alert(`We didn't succeed with redirecting to the issuer at ${_}.
Have you provided correct webId or OIDCIssuer? Or is it down?

Reason: ${S.message}

Error: ${S.toString()}`):alert(`Something went wrong.
Error: ${S}`)}},y=f(async({webIdOrIssuer:_})=>{try{const b=await vwe(_,t);await m(b)}catch(b){alert(`Something went wrong.
Error: ${b}`)}});return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{secondary:!0,onClick:()=>r(!0),children:"Sign in"}),de.jsx(nw,{isOpen:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>r(!1),children:de.jsxs("div",{className:M4.providers,children:["Select your Solid identity provider",s&&de.jsx(Vr,{primary:!0,onClick:()=>m(s),"data-cy":"pod-provider-button",children:s.split("/").slice(2).filter(_=>_).join("/")}),t.filter(_=>_.issuer!==s).filter(_=>_.featured||i).map(({issuer:_})=>de.jsx(Vr,{secondary:!0,onClick:()=>m(_),children:new URL(_).hostname},_)),!i&&de.jsx(Vr,{tertiary:!0,onClick:()=>a(!0),children:"more"}),"or write your own Solid identity provider, or your webId",de.jsxs("form",{className:M4.webIdForm,onSubmit:y,children:[de.jsx("input",{type:"text",placeholder:"Your webId or provider",...l("webIdOrIssuer",{required:"required"})}),de.jsx(Vr,{primary:!0,type:"submit",children:"Continue"})]})]})})]})},$we="_wrapper_1kkei_1",Uwe="_mainDescription_1kkei_10",Bwe="_pun_1kkei_16",qwe="_actions_1kkei_20",zwe="_logo_1kkei_30",Hwe="_spacer_1kkei_35",Vwe="_footer_1kkei_38",Kwe="_footerInfo_1kkei_41",Gwe="_attribution_1kkei_47",Wo={wrapper:$we,mainDescription:Uwe,pun:Bwe,actions:qwe,logo:zwe,spacer:Hwe,footer:Vwe,footerInfo:Kwe,attribution:Gwe},Wwe=()=>{const{communityId:t}=$n(),e=gu(t),n=ae.useMemo(()=>de.jsx(vB,{className:Wo.logo,logo:e.logo[0],focusedLogo:e.logo[1]}),[e.logo]),r=ae.useMemo(()=>e.pun?de.jsx("section",{className:Wo.pun,children:e.pun}):void 0,[e.pun]),i=ae.useMemo(()=>e.about?de.jsx("section",{className:Wo.mainDescription,children:e.about}):null,[e.about]),a=r?de.jsxs(de.Fragment,{children:[r,n,i]}):de.jsxs(de.Fragment,{children:[i,n]});return de.jsxs("div",{className:Wo.wrapper,children:[a,de.jsxs("section",{className:Wo.actions,children:[de.jsx(hwe,{}),de.jsx(jwe,{})]}),de.jsx("div",{className:Wo.spacer}),de.jsxs("footer",{className:Wo.footer,children:[de.jsx("div",{className:Wo.footerInfo,children:"WIP"}),de.jsxs("div",{className:Wo.attribution,children:["Powered by ",de.jsx("a",{href:"https://github.com/solidcouch",children:"SolidCouch"})]})]})]})},Qwe=()=>{r0e();const t=Ms(Fd);return t.isLoggedIn===void 0?de.jsx(ba,{children:"Authenticating..."}):t.isLoggedIn===!1?de.jsx(Wwe,{}):de.jsx(z0e,{})},Zwe="_container_1ml33_1",Jwe={container:Zwe},VR=({webId:t,link:e})=>{const{communityId:n}=$n(),[r]=ks(t,n),i=de.jsxs("div",{className:Jwe.container,children:[de.jsx(L0,{photo:r.photo,size:1}),r==null?void 0:r.name]});return e?de.jsx(Rs,{to:`/profile/${encodeURIComponent(t)}`,children:i}):i},M9=t=>{const{quads:e,variables:n,isLoading:r}=wa(ae.useMemo(()=>({query:hhe,variables:{person:[t]},fetch}),[t])),i=ae.useMemo(()=>{const o=new ho(e);return(n.otherPerson??[]).map(l=>{const f=Hd(l),h=o.getObjects(l,JA.seeAlso,f),p=o.getQuads(l,bl.knows,t,f),m=h.flatMap(y=>o.getQuads(l,bl.knows,t,y));return{webId:l,status:p.length+m.length>0?"confirmed":"request_sent"}})},[t,e,n.otherPerson]),[a,s]=Ywe(t);return ae.useMemo(()=>[i.concat(a),{isLoading:r},s],[r,i,s,a])},Ywe=t=>{const{quads:e,variables:n,isLoading:r}=wa(ae.useMemo(()=>({query:phe,variables:{person:[t]},fetch}),[t])),i=ae.useMemo(()=>{const a=n.inviteNotification??[],s=Zn.createLdoDataset(e).usingType(V8);return a.map(o=>s.fromSubject(o)).filter(o=>{var l,f,h,p,m,y,_,b;return((f=(l=o.object)==null?void 0:l.subject)==null?void 0:f["@id"])===((h=o.actor)==null?void 0:h["@id"])&&((m=(p=o.object)==null?void 0:p.object)==null?void 0:m["@id"])===((y=o.target)==null?void 0:y["@id"])&&((b=(_=o.object)==null?void 0:_.relationship)==null?void 0:b["@id"])==="knows"}).map(o=>{var l;return{webId:(l=o.actor)==null?void 0:l["@id"],status:"request_received",notification:o["@id"],invitation:o.content2}})},[e,n.inviteNotification]);return ae.useMemo(()=>[i,{isLoading:r}],[i,r])},Xwe=()=>{const t=D9(),e=k9(),n=ebe();return ae.useCallback(async({me:r,other:i,hospexContainer:a,inbox:s,message:o})=>{await t({me:r,other:i}),await n({inbox:s,me:r,other:i,message:o}),await e({person:i,hospexContainer:a})},[t,n,e])},ebe=()=>{const t=Ds(V8);return ae.useCallback(async({inbox:e,me:n,other:r,message:i})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[t])},tbe=()=>{const t=W0();return ae.useCallback(async({notification:e})=>{await t.mutateAsync({uri:e})},[t])},nbe=()=>{const t=W0(),e=D9(),n=k9();return ae.useCallback(async({me:r,other:i,notification:a,hospexContainer:s})=>{await e({me:r,other:i}),await t.mutateAsync({uri:a}),await n({person:i,hospexContainer:s})},[e,t,n])},D9=()=>{const t=Us();return ae.useCallback(async({me:e,other:n})=>{await t.mutateAsync({uri:e,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${e}> foaf:knows <${n}>.
          } .`})},[t])},k9=()=>{const t=Jhe(ef);return ae.useCallback(async({person:e,hospexContainer:n})=>{const r=await Tl(n);await t.mutateAsync({uri:r,match:i=>{const s=i.matchSubject(gm.type,Sn.Authorization).find(o=>{var l;return o.accessTo.length===1&&o.accessTo[0]["@id"]===n&&((l=o.mode)==null?void 0:l.length)===1&&o.mode[0]["@id"]==="Read"});if(!s)throw new Error("subject not found");return s},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":e})}})},[t])},rbe="_contact_axrjx_1",ibe="_status_axrjx_10",abe="_contactList_axrjx_14",_g={contact:rbe,status:ibe,contactList:abe},sbe=({webId:t})=>{const e=Ui(),[n]=M9(e.webId);if(!n)return de.jsx(ba,{children:"loading..."});const r=n.find(i=>i.webId===t);return r?r.status==="confirmed"?de.jsx(de.Fragment,{children:"Contact exists"}):r.status==="request_sent"?de.jsx(de.Fragment,{children:"Contact request sent"}):r.status==="request_received"?de.jsx(N9,{contact:r}):null:de.jsx(obe,{webId:t})},N9=({contact:t,children:e})=>{const{communityId:n}=$n(),[r,i]=ae.useState(!1),a=Ui(),s=nbe(),o=tbe(),l=Gg(a.webId,n),f=async()=>{if(!a.webId)throw new Error("unauthenticated");const p=ri(l.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not set up (too soon?)");await s({me:a.webId,other:t.webId,notification:t.notification,hospexContainer:p}),i(!1)},h=async()=>{if(!a.webId)throw new Error("unauthenticated");await o({notification:t.notification}),i(!1)};return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{primary:!0,onClick:()=>i(!0),children:e??"See contact invitation"}),de.jsxs(nw,{isOpen:r,onRequestClose:()=>i(!1),children:[de.jsx("div",{children:t.invitation}),de.jsx(Vr,{primary:!0,onClick:f,disabled:l.personalHospexDocuments.length===0,children:"Accept"}),de.jsx(Vr,{secondary:!0,onClick:h,children:"Ignore"})]})]})},obe=({webId:t})=>{const{communityId:e}=$n(),[n,r]=ae.useState(!1),i=Ui(),a=Xwe(),s=Gg(i.webId,e),o=Gg(t,e),l=async({invitation:h})=>{if(!i.webId)throw new Error("unauthenticated");const p=ri(s.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not found (too soon?)");const m=ri(o.inboxes[0]);if(!m)throw new Error("inbox not found (too soon?)");await a({me:i.webId,other:t,message:h,hospexContainer:p,inbox:m}),r(!1)},f=async()=>{r(!1)};return de.jsxs(de.Fragment,{children:[de.jsx(Vr,{secondary:!0,onClick:()=>{r(!0)},disabled:s.personalHospexDocuments.length===0||o.inboxes.length===0,children:"Add to my contacts"}),de.jsx(nw,{isOpen:n,onRequestClose:()=>r(!1),children:de.jsx(ube,{onSubmit:l,onCancel:f})})]})},ube=({onSubmit:t,onCancel:e})=>{const{register:n,handleSubmit:r}=Rm({defaultValues:{invitation:"Hi! I'd like to add you as a contact!"}}),i=r(async a=>{await t(a)});return de.jsxs("div",{children:[de.jsx("h1",{children:"Add person as a contact"}),de.jsx("div",{children:"Please invite only people you know personally."}),de.jsxs("form",{onSubmit:i,onReset:e,children:[de.jsx("textarea",{...n("invitation")}),de.jsx(Vr,{primary:!0,type:"submit",children:"Send contact invitation"}),de.jsx(Vr,{secondary:!0,type:"reset",children:"Cancel"})]})]})},lbe=()=>{const t=SA().id,e=Ui(),[n]=M9(t);return e.webId?n?de.jsxs("div",{children:[de.jsxs("h1",{children:["Contacts of ",de.jsx(VR,{webId:t,link:!0})]}),de.jsx("ul",{className:_g.contactList,"data-cy":"contact-list",children:n.filter(r=>t===e.webId||r.status==="confirmed").map(r=>de.jsx("li",{children:de.jsx(cbe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):de.jsx(ba,{children:"fetching contacts"}):de.jsx(ba,{children:"authenticating"})},cbe=({contact:t})=>de.jsxs("div",{className:_g.contact,"data-cy":"contact",children:[de.jsx(VR,{webId:t.webId,link:!0}),de.jsx("span",{className:_g.spacer}),t.status==="request_sent"&&de.jsx("span",{className:_g.status,children:"pending"}),t.status==="request_received"&&de.jsxs(de.Fragment,{children:[de.jsx(N9,{contact:t,children:"process"}),de.jsx("span",{className:_g.status,children:"pending"})]})]}),lo=async(t,{success:e,error:n,pending:r},i)=>(br.promise(t,{success:e,error:n??{render:({data:a})=>de.jsxs(de.Fragment,{children:["Something went wrong",de.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await t);var w2,D4;function fbe(){if(D4)return w2;D4=1;var t=Fs(),e=function(){return t.Date.now()};return w2=e,w2}var b2,k4;function dbe(){if(k4)return b2;k4=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return b2=e,b2}var S2,N4;function hbe(){if(N4)return S2;N4=1;var t=dbe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return S2=n,S2}var x2,F4;function pbe(){if(F4)return x2;F4=1;var t=hbe(),e=js(),n=_m(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?o(f.slice(2),p?2:8):i.test(f)?r:+f}return x2=l,x2}var E2,j4;function gbe(){if(j4)return E2;j4=1;var t=js(),e=fbe(),n=pbe(),r="Expected a function",i=Math.max,a=Math.min;function s(o,l,f){var h,p,m,y,_,b,S=0,x=!1,E=!1,A=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(f)&&(x=!!f.leading,E="maxWait"in f,m=E?i(n(f.maxWait)||0,l):m,A="trailing"in f?!!f.trailing:A);function I(te){var oe=h,ge=p;return h=p=void 0,S=te,y=o.apply(ge,oe),y}function M(te){return S=te,_=setTimeout(Q,l),x?I(te):y}function D(te){var oe=te-b,ge=te-S,_e=l-oe;return E?a(_e,m-ge):_e}function j(te){var oe=te-b,ge=te-S;return b===void 0||oe>=l||oe<0||E&&ge>=m}function Q(){var te=e();if(j(te))return Y(te);_=setTimeout(Q,D(te))}function Y(te){return _=void 0,A&&h?I(te):(h=p=void 0,y)}function q(){_!==void 0&&clearTimeout(_),S=0,h=b=p=_=void 0}function Z(){return _===void 0?y:Y(e())}function fe(){var te=e(),oe=j(te);if(h=arguments,p=this,b=te,oe){if(_===void 0)return M(b);if(E)return clearTimeout(_),_=setTimeout(Q,l),I(b)}return _===void 0&&(_=setTimeout(Q,l)),y}return fe.cancel=q,fe.flush=Z,fe}return E2=s,E2}var mbe=gbe();const ybe=Gr(mbe);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function vbe(t,e){if(Kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F9(t){var e=vbe(t,"string");return Kc(e)==="symbol"?e:String(e)}function wg(t,e,n){return e=F9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _be(t){if(Array.isArray(t))return t}function wbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){f=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j9(t,e){if(t){if(typeof t=="string")return JC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(t,e)}}function bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ru(t,e){return _be(t)||wbe(t,e)||j9(t,e)||bbe()}function Sbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vu(t,e){if(t==null)return{};var n=Sbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var xbe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ebe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,s=a===void 0?null:a,o=t.inputValue,l=t.menuIsOpen,f=t.onChange,h=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,y=t.value,_=vu(t,xbe),b=ae.useState(o!==void 0?o:n),S=ru(b,2),x=S[0],E=S[1],A=ae.useState(l!==void 0?l:i),I=ru(A,2),M=I[0],D=I[1],j=ae.useState(y!==void 0?y:s),Q=ru(j,2),Y=Q[0],q=Q[1],Z=ae.useCallback(function(ce,Le){typeof f=="function"&&f(ce,Le),q(ce)},[f]),fe=ae.useCallback(function(ce,Le){var k;typeof h=="function"&&(k=h(ce,Le)),E(k!==void 0?k:ce)},[h]),te=ae.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),oe=ae.useCallback(function(){typeof p=="function"&&p(),D(!1)},[p]),ge=o!==void 0?o:x,_e=l!==void 0?l:M,le=y!==void 0?y:Y;return rn(rn({},_),{},{inputValue:ge,menuIsOpen:_e,onChange:Z,onInputChange:fe,onMenuClose:oe,onMenuOpen:te,value:le})}function sn(){return sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}function Tbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F9(r.key),r)}}function Cbe(t,e,n){return U4(t.prototype,e),U4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YC(t,e){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YC(t,e)}function Abe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YC(t,e)}function o0(t){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o0(t)}function Rbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Obe(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pbe(t)}function Lbe(t){var e=Rbe();return function(){var r=o0(t),i;if(e){var a=o0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Obe(this,i)}}function Ibe(t){if(Array.isArray(t))return JC(t)}function Mbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KR(t){return Ibe(t)||Mbe(t)||j9(t)||Dbe()}function kbe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Nbe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Fbe=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Nbe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=kbe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ni="-ms-",u0="-moz-",Gn="-webkit-",$9="comm",GR="rule",WR="decl",jbe="@import",U9="@keyframes",$be=Math.abs,rw=String.fromCharCode,Ube=Object.assign;function Bbe(t,e){return Oi(t,0)^45?(((e<<2^Oi(t,0))<<2^Oi(t,1))<<2^Oi(t,2))<<2^Oi(t,3):0}function B9(t){return t.trim()}function qbe(t,e){return(t=e.exec(t))?t[0]:t}function er(t,e,n){return t.replace(e,n)}function XC(t,e){return t.indexOf(e)}function Oi(t,e){return t.charCodeAt(e)|0}function Wg(t,e,n){return t.slice(e,n)}function io(t){return t.length}function QR(t){return t.length}function wv(t,e){return e.push(t),t}function zbe(t,e){return t.map(e).join("")}var iw=1,Od=1,q9=0,Sa=0,ni=0,rh="";function aw(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:iw,column:Od,length:s,return:""}}function rg(t,e){return Ube(aw("",null,null,"",null,null,0),t,{length:-t.length},e)}function Hbe(){return ni}function Vbe(){return ni=Sa>0?Oi(rh,--Sa):0,Od--,ni===10&&(Od=1,iw--),ni}function Ua(){return ni=Sa<q9?Oi(rh,Sa++):0,Od++,ni===10&&(Od=1,iw++),ni}function co(){return Oi(rh,Sa)}function P_(){return Sa}function Pm(t,e){return Wg(rh,t,e)}function Qg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z9(t){return iw=Od=1,q9=io(rh=t),Sa=0,[]}function H9(t){return rh="",t}function O_(t){return B9(Pm(Sa-1,eA(t===91?t+2:t===40?t+1:t)))}function Kbe(t){for(;(ni=co())&&ni<33;)Ua();return Qg(t)>2||Qg(ni)>3?"":" "}function Gbe(t,e){for(;--e&&Ua()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return Pm(t,P_()+(e<6&&co()==32&&Ua()==32))}function eA(t){for(;Ua();)switch(ni){case t:return Sa;case 34:case 39:t!==34&&t!==39&&eA(ni);break;case 40:t===41&&eA(t);break;case 92:Ua();break}return Sa}function Wbe(t,e){for(;Ua()&&t+ni!==57;)if(t+ni===84&&co()===47)break;return"/*"+Pm(e,Sa-1)+"*"+rw(t===47?t:Ua())}function Qbe(t){for(;!Qg(co());)Ua();return Pm(t,Sa)}function Zbe(t){return H9(L_("",null,null,null,[""],t=z9(t),0,[0],t))}function L_(t,e,n,r,i,a,s,o,l){for(var f=0,h=0,p=s,m=0,y=0,_=0,b=1,S=1,x=1,E=0,A="",I=i,M=a,D=r,j=A;S;)switch(_=E,E=Ua()){case 40:if(_!=108&&Oi(j,p-1)==58){XC(j+=er(O_(E),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:j+=O_(E);break;case 9:case 10:case 13:case 32:j+=Kbe(_);break;case 92:j+=Gbe(P_()-1,7);continue;case 47:switch(co()){case 42:case 47:wv(Jbe(Wbe(Ua(),P_()),e,n),l);break;default:j+="/"}break;case 123*b:o[f++]=io(j)*x;case 125*b:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+h:y>0&&io(j)-p&&wv(y>32?q4(j+";",r,n,p-1):q4(er(j," ","")+";",r,n,p-2),l);break;case 59:j+=";";default:if(wv(D=B4(j,e,n,f,h,i,o,A,I=[],M=[],p),a),E===123)if(h===0)L_(j,e,D,D,I,a,p,o,M);else switch(m===99&&Oi(j,3)===110?100:m){case 100:case 109:case 115:L_(t,D,D,r&&wv(B4(t,D,D,0,0,i,o,A,i,I=[],p),M),i,M,p,o,r?I:M);break;default:L_(j,D,D,D,[""],M,0,o,M)}}f=h=y=0,b=x=1,A=j="",p=s;break;case 58:p=1+io(j),y=_;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&Vbe()==125)continue}switch(j+=rw(E),E*b){case 38:x=h>0?1:(j+="\f",-1);break;case 44:o[f++]=(io(j)-1)*x,x=1;break;case 64:co()===45&&(j+=O_(Ua())),m=co(),h=p=io(A=j+=Qbe(P_())),E++;break;case 45:_===45&&io(j)==2&&(b=0)}}return a}function B4(t,e,n,r,i,a,s,o,l,f,h){for(var p=i-1,m=i===0?a:[""],y=QR(m),_=0,b=0,S=0;_<r;++_)for(var x=0,E=Wg(t,p+1,p=$be(b=s[_])),A=t;x<y;++x)(A=B9(b>0?m[x]+" "+E:er(E,/&\f/g,m[x])))&&(l[S++]=A);return aw(t,e,n,i===0?GR:o,l,f,h)}function Jbe(t,e,n){return aw(t,e,n,$9,rw(Hbe()),Wg(t,2,-2),0)}function q4(t,e,n,r){return aw(t,e,n,WR,Wg(t,0,r),Wg(t,r+1,-1),r)}function ud(t,e){for(var n="",r=QR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Ybe(t,e,n,r){switch(t.type){case jbe:case WR:return t.return=t.return||t.value;case $9:return"";case U9:return t.return=t.value+"{"+ud(t.children,r)+"}";case GR:t.value=t.props.join(",")}return io(n=ud(t.children,r))?t.return=t.value+"{"+n+"}":""}function Xbe(t){var e=QR(t);return function(n,r,i,a){for(var s="",o=0;o<e;o++)s+=t[o](n,r,i,a)||"";return s}}function e1e(t){return function(e){e.root||(e=e.return)&&t(e)}}function t1e(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var n1e=function(e,n,r){for(var i=0,a=0;i=a,a=co(),i===38&&a===12&&(n[r]=1),!Qg(a);)Ua();return Pm(e,Sa)},r1e=function(e,n){var r=-1,i=44;do switch(Qg(i)){case 0:i===38&&co()===12&&(n[r]=1),e[r]+=n1e(Sa-1,n,r);break;case 2:e[r]+=O_(i);break;case 4:if(i===44){e[++r]=co()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=rw(i)}while(i=Ua());return e},i1e=function(e,n){return H9(r1e(z9(e),n))},z4=new WeakMap,a1e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!z4.get(r))&&!i){z4.set(e,!0);for(var a=[],s=i1e(n,a),o=r.props,l=0,f=0;l<s.length;l++)for(var h=0;h<o.length;h++,f++)e.props[f]=a[l]?s[l].replace(/&\f/g,o[h]):o[h]+" "+s[l]}}},s1e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function V9(t,e){switch(Bbe(t,e)){case 5103:return Gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+t+u0+t+Ni+t+t;case 6828:case 4268:return Gn+t+Ni+t+t;case 6165:return Gn+t+Ni+"flex-"+t+t;case 5187:return Gn+t+er(t,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+Ni+"flex-$1$2")+t;case 5443:return Gn+t+Ni+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Gn+t+Ni+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Gn+t+Ni+er(t,"shrink","negative")+t;case 5292:return Gn+t+Ni+er(t,"basis","preferred-size")+t;case 6060:return Gn+"box-"+er(t,"-grow","")+Gn+t+Ni+er(t,"grow","positive")+t;case 4554:return Gn+er(t,/([^-])(transform)/g,"$1"+Gn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+Ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(io(t)-1-e>6)switch(Oi(t,e+1)){case 109:if(Oi(t,e+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+u0+(Oi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~XC(t,"stretch")?V9(er(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Oi(t,e+1)!==115)break;case 6444:switch(Oi(t,io(t)-3-(~XC(t,"!important")&&10))){case 107:return er(t,":",":"+Gn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(Oi(t,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+Ni+"$2box$3")+t}break;case 5936:switch(Oi(t,e+11)){case 114:return Gn+t+Ni+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gn+t+Ni+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gn+t+Ni+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gn+t+Ni+t+t}return t}var o1e=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case WR:e.return=V9(e.value,e.length);break;case U9:return ud([rg(e,{value:er(e.value,"@","@"+Gn)})],i);case GR:if(e.length)return zbe(e.props,function(a){switch(qbe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ud([rg(e,{props:[er(a,/:(read-\w+)/,":"+u0+"$1")]})],i);case"::placeholder":return ud([rg(e,{props:[er(a,/:(plac\w+)/,":"+Gn+"input-$1")]}),rg(e,{props:[er(a,/:(plac\w+)/,":"+u0+"$1")]}),rg(e,{props:[er(a,/:(plac\w+)/,Ni+"input-$1")]})],i)}return""})}},u1e=[o1e],l1e=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var S=b.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||u1e,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var S=b.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)a[S[x]]=!0;o.push(b)});var l,f=[a1e,s1e];{var h,p=[Ybe,e1e(function(b){h.insert(b)})],m=Xbe(f.concat(i,p)),y=function(S){return ud(Zbe(S),m)};l=function(S,x,E,A){h=E,y(S?S+"{"+x.styles+"}":x.styles),A&&(_.inserted[x.name]=!0)}}var _={key:n,sheet:new Fbe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return _.sheet.hydrate(o),_},T2={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function c1e(){if(H4)return Xn;H4=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function A(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case e:switch(M=M.type,M){case l:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case o:case h:case _:case y:case s:return M;default:return D}}case n:return D}}}function I(M){return A(M)===f}return Xn.AsyncMode=l,Xn.ConcurrentMode=f,Xn.ContextConsumer=o,Xn.ContextProvider=s,Xn.Element=e,Xn.ForwardRef=h,Xn.Fragment=r,Xn.Lazy=_,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=p,Xn.isAsyncMode=function(M){return I(M)||A(M)===l},Xn.isConcurrentMode=I,Xn.isContextConsumer=function(M){return A(M)===o},Xn.isContextProvider=function(M){return A(M)===s},Xn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Xn.isForwardRef=function(M){return A(M)===h},Xn.isFragment=function(M){return A(M)===r},Xn.isLazy=function(M){return A(M)===_},Xn.isMemo=function(M){return A(M)===y},Xn.isPortal=function(M){return A(M)===n},Xn.isProfiler=function(M){return A(M)===a},Xn.isStrictMode=function(M){return A(M)===i},Xn.isSuspense=function(M){return A(M)===p},Xn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===m||typeof M=="object"&&M!==null&&(M.$$typeof===_||M.$$typeof===y||M.$$typeof===s||M.$$typeof===o||M.$$typeof===h||M.$$typeof===S||M.$$typeof===x||M.$$typeof===E||M.$$typeof===b)},Xn.typeOf=A,Xn}var V4;function f1e(){return V4||(V4=1,T2.exports=c1e()),T2.exports}var C2,K4;function d1e(){if(K4)return C2;K4=1;var t=f1e(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function s(_){return t.isMemo(_)?i:a[_.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(_,b,S){if(typeof b!="string"){if(m){var x=p(b);x&&x!==m&&y(_,x,S)}var E=l(b);f&&(E=E.concat(f(b)));for(var A=s(_),I=s(b),M=0;M<E.length;++M){var D=E[M];if(!n[D]&&!(S&&S[D])&&!(I&&I[D])&&!(A&&A[D])){var j=h(b,D);try{o(_,D,j)}catch{}}}}return _}return C2=y,C2}d1e();var h1e=!0;function p1e(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var K9=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||h1e===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},g1e=function(e,n,r){K9(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function m1e(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var y1e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},v1e=/[A-Z]|^ms/g,_1e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,G9=function(e){return e.charCodeAt(1)===45},G4=function(e){return e!=null&&typeof e!="boolean"},A2=t1e(function(t){return G9(t)?t:t.replace(v1e,"-$&").toLowerCase()}),W4=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_1e,function(r,i,a){return ao={name:i,styles:a,next:ao},i})}return y1e[e]!==1&&!G9(e)&&typeof n=="number"&&n!==0?n+"px":n};function Zg(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ao={name:n.name,styles:n.styles,next:ao},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ao={name:r.name,styles:r.styles,next:ao},r=r.next;var i=n.styles+";";return i}return w1e(t,e,n)}case"function":{if(t!==void 0){var a=ao,s=n(t);return ao=a,Zg(t,e,s)}break}}return n}function w1e(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Zg(t,e,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object")G4(s)&&(r+=A2(a)+":"+W4(a,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&e==null)for(var o=0;o<s.length;o++)G4(s[o])&&(r+=A2(a)+":"+W4(a,s[o])+";");else{var l=Zg(t,e,s);switch(a){case"animation":case"animationName":{r+=A2(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var Q4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ao,W9=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ao=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,a+=Zg(r,n,s)):a+=s[0];for(var o=1;o<e.length;o++)a+=Zg(r,n,e[o]),i&&(a+=s[o]);Q4.lastIndex=0;for(var l="",f;(f=Q4.exec(a))!==null;)l+="-"+f[1];var h=m1e(a)+l;return{name:h,styles:a,next:ao}},b1e=function(e){return e()},S1e=Ig.useInsertionEffect?Ig.useInsertionEffect:!1,x1e=S1e||b1e,ZR={}.hasOwnProperty,Q9=ae.createContext(typeof HTMLElement<"u"?l1e({key:"css"}):null);Q9.Provider;var E1e=function(e){return ae.forwardRef(function(n,r){var i=ae.useContext(Q9);return e(n,i,r)})},T1e=ae.createContext({}),tA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",C1e=function(e,n){var r={};for(var i in n)ZR.call(n,i)&&(r[i]=n[i]);return r[tA]=e,r},A1e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return K9(n,r,i),x1e(function(){return g1e(n,r,i)}),null},R1e=E1e(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[tA],a=[r],s="";typeof t.className=="string"?s=p1e(e.registered,a,t.className):t.className!=null&&(s=t.className+" ");var o=W9(a,void 0,ae.useContext(T1e));s+=e.key+"-"+o.name;var l={};for(var f in t)ZR.call(t,f)&&f!=="css"&&f!==tA&&(l[f]=t[f]);return l.ref=n,l.className=s,ae.createElement(ae.Fragment,null,ae.createElement(A1e,{cache:e,serialized:o,isStringTag:typeof i=="string"}),ae.createElement(i,l))}),tn=function(e,n){var r=arguments;if(n==null||!ZR.call(n,"css"))return ae.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=R1e,a[1]=C1e(e,n);for(var s=2;s<i;s++)a[s]=r[s];return ae.createElement.apply(null,a)};function JR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W9(e)}var P1e=function(){var e=JR.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function O1e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function L1e(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const I1e=["top","right","bottom","left"];I1e.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function iu(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Z9(t){return iu(t).getComputedStyle(t)}function J9(t){return t instanceof iu(t).Node}function Y9(t){return J9(t)?(t.nodeName||"").toLowerCase():""}let bv;function M1e(){if(bv)return bv;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(bv=t.brands.map(e=>e.brand+"/"+e.version).join(" "),bv):navigator.userAgent}function YR(t){return t instanceof iu(t).HTMLElement}function I_(t){return t instanceof iu(t).Element}function Z4(t){return typeof ShadowRoot>"u"?!1:t instanceof iu(t).ShadowRoot||t instanceof ShadowRoot}function X9(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Z9(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function D1e(){return/^((?!chrome|android).)*safari/i.test(M1e())}function k1e(t){return["html","body","#document"].includes(Y9(t))}const l0=Math.round;function N1e(t){const e=Z9(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=YR(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=l0(n)!==a||l0(r)!==s;return o&&(n=a,r=s),{width:n,height:r,fallback:o}}function ez(t){return I_(t)?t:t.contextElement}const tz={x:1,y:1};function J4(t){const e=ez(t);if(!YR(e))return tz;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:a}=N1e(e);let s=(a?l0(n.width):n.width)/r,o=(a?l0(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}function Y4(t,e,n,r){var i,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=ez(t);let l=tz;e&&(l=J4(t));const f=o?iu(o):window,h=D1e()&&n;let p=(s.left+(h&&((i=f.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,m=(s.top+(h&&((a=f.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=s.width/l.x,_=s.height/l.y;if(o){const b=iu(o),S=r;let x=b.frameElement;for(;x&&r&&S!==b;){const E=J4(x),A=x.getBoundingClientRect(),I=getComputedStyle(x);A.x+=(x.clientLeft+parseFloat(I.paddingLeft))*E.x,A.y+=(x.clientTop+parseFloat(I.paddingTop))*E.y,p*=E.x,m*=E.y,y*=E.x,_*=E.y,p+=A.x,m+=A.y,x=iu(x).frameElement}}return L1e({width:y,height:_,x:p,y:m})}function F1e(t){return((J9(t)?t.ownerDocument:t.document)||window.document).documentElement}function j1e(t){if(Y9(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Z4(t)&&t.host||F1e(t);return Z4(e)?e.host:e}function nz(t){const e=j1e(t);return k1e(e)?e.ownerDocument.body:YR(e)&&X9(e)?e:nz(e)}function M_(t,e){var n;e===void 0&&(e=[]);const r=nz(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=iu(r);return i?e.concat(a,a.visualViewport||[],X9(r)?r:[]):e.concat(r,M_(r))}function $1e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:o=!1}=r,l=i&&!o,f=l||a?[...I_(t)?M_(t):t.contextElement?M_(t.contextElement):[],...M_(e)]:[];f.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let h,p=null;s&&(p=new ResizeObserver(()=>{n()}),I_(t)&&!o&&p.observe(t),I_(t)||!t.contextElement||o||p.observe(t.contextElement),p.observe(e));let m=o?Y4(t):null;return o&&function y(){const _=Y4(t);!m||_.x===m.x&&_.y===m.y&&_.width===m.width&&_.height===m.height||n(),m=_,h=requestAnimationFrame(y)}(),n(),()=>{var y;f.forEach(_=>{l&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),(y=p)==null||y.disconnect(),p=null,o&&cancelAnimationFrame(h)}}var nA=ae.useLayoutEffect,U1e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],c0=function(){};function B1e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function q1e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&a.push("".concat(B1e(t,s)));return a.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var X4=function(e){return J1e(e)?e.filter(Boolean):Kc(e)==="object"&&e!==null?[e]:[]},rz=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=vu(e,U1e);return rn({},n)},$r=function(e,n,r){var i=e.cx,a=e.getStyles,s=e.getClassNames,o=e.className;return{css:a(n,e),className:i(r??{},s(n,e),o)}};function sw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function z1e(t){return sw(t)?window.innerHeight:t.clientHeight}function iz(t){return sw(t)?window.pageYOffset:t.scrollTop}function f0(t,e){if(sw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function H1e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function V1e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Sv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c0,i=iz(t),a=e-i,s=10,o=0;function l(){o+=s;var f=V1e(o,i,a,n);f0(t,f),o<n?window.requestAnimationFrame(l):r(t)}l()}function e6(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?f0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&f0(t,Math.max(e.offsetTop-i,0))}function K1e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function t6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function G1e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var az=!1,W1e={get passive(){return az=!0}},xv=typeof window<"u"?window:{};xv.addEventListener&&xv.removeEventListener&&(xv.addEventListener("p",c0,W1e),xv.removeEventListener("p",c0,!1));var Q1e=az;function Z1e(t){return t!=null}function J1e(t){return Array.isArray(t)}function Ev(t,e,n){return t?e:n}var Y1e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(s){var o=ru(s,1),l=o[0];return!r.includes(l)});return a.reduce(function(s,o){var l=ru(o,2),f=l[0],h=l[1];return s[f]=h,s},{})},X1e=["children","innerProps"],eSe=["children","innerProps"];function tSe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,s=t.isFixedPosition,o=t.controlHeight,l=H1e(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var h=l.getBoundingClientRect(),p=h.height,m=n.getBoundingClientRect(),y=m.bottom,_=m.height,b=m.top,S=n.offsetParent.getBoundingClientRect(),x=S.top,E=s?window.innerHeight:z1e(l),A=iz(l),I=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),D=x-M,j=E-b,Q=D+A,Y=p-A-b,q=y-E+A+I,Z=A+b-M,fe=160;switch(i){case"auto":case"bottom":if(j>=_)return{placement:"bottom",maxHeight:e};if(Y>=_&&!s)return a&&Sv(l,q,fe),{placement:"bottom",maxHeight:e};if(!s&&Y>=r||s&&j>=r){a&&Sv(l,q,fe);var te=s?j-I:Y-I;return{placement:"bottom",maxHeight:te}}if(i==="auto"||s){var oe=e,ge=s?D:Q;return ge>=r&&(oe=Math.min(ge-I-o,e)),{placement:"top",maxHeight:oe}}if(i==="bottom")return a&&f0(l,q),{placement:"bottom",maxHeight:e};break;case"top":if(D>=_)return{placement:"top",maxHeight:e};if(Q>=_&&!s)return a&&Sv(l,Z,fe),{placement:"top",maxHeight:e};if(!s&&Q>=r||s&&D>=r){var _e=e;return(!s&&Q>=r||s&&D>=r)&&(_e=s?D-M:Q-M),a&&Sv(l,Z,fe),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function nSe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var sz=function(e){return e==="auto"?"bottom":e},rSe=function(e,n){var r,i=e.placement,a=e.theme,s=a.borderRadius,o=a.spacing,l=a.colors;return rn((r={label:"menu"},wg(r,nSe(i),"100%"),wg(r,"position","absolute"),wg(r,"width","100%"),wg(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},oz=ae.createContext(null),iSe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,f=ae.useContext(oz)||{},h=f.setPortalPlacement,p=ae.useRef(null),m=ae.useState(i),y=ru(m,2),_=y[0],b=y[1],S=ae.useState(null),x=ru(S,2),E=x[0],A=x[1],I=l.spacing.controlHeight;return nA(function(){var M=p.current;if(M){var D=s==="fixed",j=o&&!D,Q=tSe({maxHeight:i,menuEl:M,minHeight:r,placement:a,shouldScroll:j,isFixedPosition:D,controlHeight:I});b(Q.maxHeight),A(Q.placement),h==null||h(Q.placement)}},[i,a,s,o,r,h,I]),n({ref:p,placerProps:rn(rn({},e),{},{placement:E||sz(a),maxHeight:_})})},aSe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return tn("div",sn({},$r(e,"menu",{menu:!0}),{ref:r},i),n)},sSe=aSe,oSe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return rn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},uSe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return tn("div",sn({},$r(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},uz=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return rn({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},lSe=uz,cSe=uz,fSe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=vu(e,X1e);return tn("div",sn({},$r(rn(rn({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},dSe=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=vu(e,eSe);return tn("div",sn({},$r(rn(rn({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},hSe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},pSe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,s=e.menuPlacement,o=e.menuPosition,l=ae.useRef(null),f=ae.useRef(null),h=ae.useState(sz(s)),p=ru(h,2),m=p[0],y=p[1],_=ae.useMemo(function(){return{setPortalPlacement:y}},[]),b=ae.useState(null),S=ru(b,2),x=S[0],E=S[1],A=ae.useCallback(function(){if(i){var j=K1e(i),Q=o==="fixed"?0:window.pageYOffset,Y=j[m]+Q;(Y!==(x==null?void 0:x.offset)||j.left!==(x==null?void 0:x.rect.left)||j.width!==(x==null?void 0:x.rect.width))&&E({offset:Y,rect:j})}},[i,o,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);nA(function(){A()},[A]);var I=ae.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&l.current&&(f.current=$1e(i,l.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);nA(function(){I()},[I]);var M=ae.useCallback(function(j){l.current=j,I()},[I]);if(!n&&o!=="fixed"||!x)return null;var D=tn("div",sn({ref:M},$r(rn(rn({},e),{},{offset:x.offset,position:o,rect:x.rect}),"menuPortal",{"menu-portal":!0}),a),r);return tn(oz.Provider,{value:_},n?Bg.createPortal(D,n):D)},gSe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},mSe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return tn("div",sn({},$r(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},ySe=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return rn({alignItems:"center",display:i&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},vSe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return tn("div",sn({},$r(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},_Se=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},wSe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"indicatorsContainer",{indicators:!0}),r),n)},n6,bSe=["size"],SSe=["innerProps","isRtl","size"],xSe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},lz=function(e){var n=e.size,r=vu(e,bSe);return tn("svg",sn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:xSe},r))},XR=function(e){return tn(lz,sn({size:20},e),tn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},cz=function(e){return tn(lz,sn({size:20},e),tn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},fz=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return rn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2,":hover":{color:r?s.neutral80:s.neutral40}})},ESe=fz,TSe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||tn(cz,null))},CSe=fz,ASe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||tn(XR,null))},RSe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return rn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:a*2,marginTop:a*2})},PSe=function(e){var n=e.innerProps;return tn("span",sn({},n,$r(e,"indicatorSeparator",{"indicator-separator":!0})))},OSe=P1e(n6||(n6=O1e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),LSe=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,s=a.colors,o=a.spacing.baseUnit;return rn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2})},R2=function(e){var n=e.delay,r=e.offset;return tn("span",{css:JR({animation:"".concat(OSe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ISe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,s=vu(e,SSe);return tn("div",sn({},$r(rn(rn({},s),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),tn(R2,{delay:0,offset:r}),tn(R2,{delay:160,offset:!0}),tn(R2,{delay:320,offset:!r}))},MSe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,s=a.colors,o=a.borderRadius,l=a.spacing;return rn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},DSe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,s=e.innerProps,o=e.menuIsOpen;return tn("div",sn({ref:a},$r(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),s,{"aria-disabled":r||void 0}),n)},kSe=DSe,NSe=["data"],FSe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},jSe=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,s=e.Heading,o=e.headingProps,l=e.innerProps,f=e.label,h=e.theme,p=e.selectProps;return tn("div",sn({},$r(e,"group",{group:!0}),l),tn(s,sn({},o,{selectProps:p,theme:h,getStyles:i,getClassNames:a,cx:r}),f),tn("div",null,n))},$Se=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return rn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},USe=function(e){var n=rz(e);n.data;var r=vu(n,NSe);return tn("div",sn({},$r(e,"groupHeading",{"group-heading":!0}),r))},BSe=jSe,qSe=["innerRef","isDisabled","isHidden","inputClassName"],zSe=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,s=a.spacing,o=a.colors;return rn(rn({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},HSe),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:o.neutral80})},dz={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},HSe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dz)},VSe=function(e){return rn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dz)},KSe=function(e){var n=e.cx,r=e.value,i=rz(e),a=i.innerRef,s=i.isDisabled,o=i.isHidden,l=i.inputClassName,f=vu(i,qSe);return tn("div",sn({},$r(e,"input",{"input-container":!0}),{"data-value":r||""}),tn("input",sn({className:n({input:!0},l),ref:a,style:VSe(o),disabled:s},f)))},GSe=KSe,WSe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors;return rn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},QSe=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return rn({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ZSe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors,o=e.isFocused;return rn({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:o?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},hz=function(e){var n=e.children,r=e.innerProps;return tn("div",r,n)},JSe=hz,YSe=hz;function XSe(t){var e=t.children,n=t.innerProps;return tn("div",sn({role:"button"},n),e||tn(XR,{size:14}))}var exe=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,s=e.isDisabled,o=e.removeProps,l=e.selectProps,f=r.Container,h=r.Label,p=r.Remove;return tn(f,{data:i,innerProps:rn(rn({},$r(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:l},tn(h,{data:i,innerProps:rn({},$r(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),tn(p,{data:i,innerProps:rn(rn({},$r(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:l}))},txe=exe,nxe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.theme,o=s.spacing,l=s.colors;return rn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},rxe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.innerRef,o=e.innerProps;return tn("div",sn({},$r(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:s,"aria-disabled":r},o),n)},ixe=rxe,axe=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return rn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},sxe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"placeholder",{placeholder:!0}),r),n)},oxe=sxe,uxe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,s=i.colors;return rn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},lxe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return tn("div",sn({},$r(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},cxe=lxe,fxe={ClearIndicator:ASe,Control:kSe,DropdownIndicator:TSe,DownChevron:cz,CrossIcon:XR,Group:BSe,GroupHeading:USe,IndicatorsContainer:wSe,IndicatorSeparator:PSe,Input:GSe,LoadingIndicator:ISe,Menu:sSe,MenuList:uSe,MenuPortal:pSe,LoadingMessage:dSe,NoOptionsMessage:fSe,MultiValue:txe,MultiValueContainer:JSe,MultiValueLabel:YSe,MultiValueRemove:XSe,Option:ixe,Placeholder:oxe,SelectContainer:mSe,SingleValue:cxe,ValueContainer:vSe},dxe=function(e){return rn(rn({},fxe),e.components)},r6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function hxe(t,e){return!!(t===e||r6(t)&&r6(e))}function pxe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!hxe(t[n],e[n]))return!1;return!0}function gxe(t,e){e===void 0&&(e=pxe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var mxe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},yxe=function(e){return tn("span",sn({css:mxe},e))},i6=yxe,vxe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,s=a===void 0?"":a,o=e.selectValue,l=e.isDisabled,f=e.isSelected,h=e.isAppleDevice,p=function(b,S){return b&&b.length?"".concat(b.indexOf(S)+1," of ").concat(b.length):""};if(n==="value"&&o)return"value ".concat(s," focused, ").concat(p(o,r),".");if(n==="menu"&&h){var m=l?" disabled":"",y="".concat(f?" selected":"").concat(m);return"".concat(s).concat(y,", ").concat(p(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},_xe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,s=e.isFocused,o=e.selectValue,l=e.selectProps,f=e.id,h=e.isAppleDevice,p=l.ariaLiveMessages,m=l.getOptionLabel,y=l.inputValue,_=l.isMulti,b=l.isOptionDisabled,S=l.isSearchable,x=l.menuIsOpen,E=l.options,A=l.screenReaderStatus,I=l.tabSelectsValue,M=l.isLoading,D=l["aria-label"],j=l["aria-live"],Q=ae.useMemo(function(){return rn(rn({},vxe),p||{})},[p]),Y=ae.useMemo(function(){var ge="";if(n&&Q.onChange){var _e=n.option,le=n.options,ce=n.removedValue,Le=n.removedValues,k=n.value,ne=function(Re){return Array.isArray(Re)?null:Re},me=ce||_e||ne(k),H=me?m(me):"",J=le||Le||void 0,pe=J?J.map(m):[],Ae=rn({isDisabled:me&&b(me,o),label:H,labels:pe},n);ge=Q.onChange(Ae)}return ge},[n,Q,b,o,m]),q=ae.useMemo(function(){var ge="",_e=r||i,le=!!(r&&o&&o.includes(r));if(_e&&Q.onFocus){var ce={focused:_e,label:m(_e),isDisabled:b(_e,o),isSelected:le,options:a,context:_e===r?"menu":"value",selectValue:o,isAppleDevice:h};ge=Q.onFocus(ce)}return ge},[r,i,m,b,Q,a,o,h]),Z=ae.useMemo(function(){var ge="";if(x&&E.length&&!M&&Q.onFilter){var _e=A({count:a.length});ge=Q.onFilter({inputValue:y,resultsMessage:_e})}return ge},[a,y,x,Q,E,A,M]),fe=(n==null?void 0:n.action)==="initial-input-focus",te=ae.useMemo(function(){var ge="";if(Q.guidance){var _e=i?"value":x?"menu":"input";ge=Q.guidance({"aria-label":D,context:_e,isDisabled:r&&b(r,o),isMulti:_,isSearchable:S,tabSelectsValue:I,isInitialFocus:fe})}return ge},[D,r,i,_,b,S,x,Q,o,I,fe]),oe=tn(ae.Fragment,null,tn("span",{id:"aria-selection"},Y),tn("span",{id:"aria-focused"},q),tn("span",{id:"aria-results"},Z),tn("span",{id:"aria-guidance"},te));return tn(ae.Fragment,null,tn(i6,{id:f},fe&&oe),tn(i6,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!fe&&oe))},wxe=_xe,rA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],bxe=new RegExp("["+rA.map(function(t){return t.letters}).join("")+"]","g"),pz={};for(var P2=0;P2<rA.length;P2++)for(var O2=rA[P2],L2=0;L2<O2.letters.length;L2++)pz[O2.letters[L2]]=O2.base;var gz=function(e){return e.replace(bxe,function(n){return pz[n]})},Sxe=gxe(gz),a6=function(e){return e.replace(/^\s+|\s+$/g,"")},xxe=function(e){return"".concat(e.label," ").concat(e.value)},Exe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=rn({ignoreCase:!0,ignoreAccents:!0,stringify:xxe,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,s=i.ignoreAccents,o=i.stringify,l=i.trim,f=i.matchFrom,h=l?a6(r):r,p=l?a6(o(n)):o(n);return a&&(h=h.toLowerCase(),p=p.toLowerCase()),s&&(h=Sxe(h),p=gz(p)),f==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},Txe=["innerRef"];function Cxe(t){var e=t.innerRef,n=vu(t,Txe),r=Y1e(n,"onExited","in","enter","exit","appear");return tn("input",sn({ref:e},r,{css:JR({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Axe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Rxe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,s=ae.useRef(!1),o=ae.useRef(!1),l=ae.useRef(0),f=ae.useRef(null),h=ae.useCallback(function(S,x){if(f.current!==null){var E=f.current,A=E.scrollTop,I=E.scrollHeight,M=E.clientHeight,D=f.current,j=x>0,Q=I-M-A,Y=!1;Q>x&&s.current&&(r&&r(S),s.current=!1),j&&o.current&&(a&&a(S),o.current=!1),j&&x>Q?(n&&!s.current&&n(S),D.scrollTop=I,Y=!0,s.current=!0):!j&&-x>A&&(i&&!o.current&&i(S),D.scrollTop=0,Y=!0,o.current=!0),Y&&Axe(S)}},[n,r,i,a]),p=ae.useCallback(function(S){h(S,S.deltaY)},[h]),m=ae.useCallback(function(S){l.current=S.changedTouches[0].clientY},[]),y=ae.useCallback(function(S){var x=l.current-S.changedTouches[0].clientY;h(S,x)},[h]),_=ae.useCallback(function(S){if(S){var x=Q1e?{passive:!1}:!1;S.addEventListener("wheel",p,x),S.addEventListener("touchstart",m,x),S.addEventListener("touchmove",y,x)}},[y,m,p]),b=ae.useCallback(function(S){S&&(S.removeEventListener("wheel",p,!1),S.removeEventListener("touchstart",m,!1),S.removeEventListener("touchmove",y,!1))},[y,m,p]);return ae.useEffect(function(){if(e){var S=f.current;return _(S),function(){b(S)}}},[e,_,b]),function(S){f.current=S}}var s6=["boxSizing","height","overflow","paddingRight","position"],o6={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function u6(t){t.cancelable&&t.preventDefault()}function l6(t){t.stopPropagation()}function c6(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function f6(){return"ontouchstart"in window||navigator.maxTouchPoints}var d6=!!(typeof window<"u"&&window.document&&window.document.createElement),ig=0,Kf={capture:!1,passive:!1};function Pxe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=ae.useRef({}),a=ae.useRef(null),s=ae.useCallback(function(l){if(d6){var f=document.body,h=f&&f.style;if(r&&s6.forEach(function(_){var b=h&&h[_];i.current[_]=b}),r&&ig<1){var p=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+p||0;Object.keys(o6).forEach(function(_){var b=o6[_];h&&(h[_]=b)}),h&&(h.paddingRight="".concat(y,"px"))}f&&f6()&&(f.addEventListener("touchmove",u6,Kf),l&&(l.addEventListener("touchstart",c6,Kf),l.addEventListener("touchmove",l6,Kf))),ig+=1}},[r]),o=ae.useCallback(function(l){if(d6){var f=document.body,h=f&&f.style;ig=Math.max(ig-1,0),r&&ig<1&&s6.forEach(function(p){var m=i.current[p];h&&(h[p]=m)}),f&&f6()&&(f.removeEventListener("touchmove",u6,Kf),l&&(l.removeEventListener("touchstart",c6,Kf),l.removeEventListener("touchmove",l6,Kf)))}},[r]);return ae.useEffect(function(){if(e){var l=a.current;return s(l),function(){o(l)}}},[e,s,o]),function(l){a.current=l}}var Oxe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Lxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ixe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,s=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,f=Rxe({isEnabled:i,onBottomArrive:a,onBottomLeave:s,onTopArrive:o,onTopLeave:l}),h=Pxe({isEnabled:n}),p=function(y){f(y),h(y)};return tn(ae.Fragment,null,n&&tn("div",{onClick:Oxe,css:Lxe}),e(p))}var Mxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Dxe=function(e){var n=e.name,r=e.onFocus;return tn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Mxe,value:"",onChange:function(){}})},kxe=Dxe;function eP(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Nxe(){return eP(/^iPhone/i)}function mz(){return eP(/^Mac/i)}function Fxe(){return eP(/^iPad/i)||mz()&&navigator.maxTouchPoints>1}function jxe(){return Nxe()||Fxe()}function $xe(){return mz()||jxe()}var Uxe=function(e){return e.label},Bxe=function(e){return e.label},qxe=function(e){return e.value},zxe=function(e){return!!e.isDisabled},Hxe={clearIndicator:CSe,container:gSe,control:MSe,dropdownIndicator:ESe,group:FSe,groupHeading:$Se,indicatorsContainer:_Se,indicatorSeparator:RSe,input:zSe,loadingIndicator:LSe,loadingMessage:cSe,menu:rSe,menuList:oSe,menuPortal:hSe,multiValue:WSe,multiValueLabel:QSe,multiValueRemove:ZSe,noOptionsMessage:lSe,option:nxe,placeholder:axe,singleValue:uxe,valueContainer:ySe},Vxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Kxe=4,yz=4,Gxe=38,Wxe=yz*2,Qxe={baseUnit:yz,controlHeight:Gxe,menuGutter:Wxe},I2={borderRadius:Kxe,colors:Vxe,spacing:Qxe},Zxe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:t6(),captureMenuScroll:!t6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Exe(),formatGroupLabel:Uxe,getOptionLabel:Bxe,getOptionValue:qxe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:zxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!G1e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function h6(t,e,n,r){var i=wz(t,e,n),a=bz(t,e,n),s=_z(t,e),o=d0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:s,value:o,index:r}}function D_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,o){return h6(t,s,e,o)}).filter(function(s){return g6(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=h6(t,n,e,r);return g6(t,a)?a:void 0}).filter(Z1e)}function vz(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,KR(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function p6(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,KR(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Jxe(t,e){return vz(D_(t,e))}function g6(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,s=e.label,o=e.value;return(!xz(t)||!a)&&Sz(t,{label:s,value:o,data:i},r)}function Yxe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function Xxe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var M2=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},_z=function(e,n){return e.getOptionLabel(n)},d0=function(e,n){return e.getOptionValue(n)};function wz(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function bz(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=d0(t,e);return n.some(function(i){return d0(t,i)===r})}function Sz(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var xz=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},eEe=1,Ez=function(t){Abe(n,t);var e=Lbe(n);function n(r){var i;if(Tbe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=$xe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,f){var h=i.props,p=h.onChange,m=h.name;f.name=m,i.ariaOnChange(l,f),p(l,f)},i.setValue=function(l,f,h){var p=i.props,m=p.closeMenuOnSelect,y=p.isMulti,_=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:_}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:f,option:h})},i.selectOption=function(l){var f=i.props,h=f.blurInputOnSelect,p=f.isMulti,m=f.name,y=i.state.selectValue,_=p&&i.isOptionSelected(l,y),b=i.isOptionDisabled(l,y);if(_){var S=i.getOptionValue(l);i.setValue(y.filter(function(x){return i.getOptionValue(x)!==S}),"deselect-option",l)}else if(!b)p?i.setValue([].concat(KR(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}h&&i.blurInput()},i.removeValue=function(l){var f=i.props.isMulti,h=i.state.selectValue,p=i.getOptionValue(l),m=h.filter(function(_){return i.getOptionValue(_)!==p}),y=Ev(f,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Ev(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,f=i.state.selectValue,h=f[f.length-1],p=f.slice(0,f.length-1),m=Ev(l,p,p[0]||null);h&&i.onChange(m,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(l){return M2(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return p6(D_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,f=new Array(l),h=0;h<l;h++)f[h]=arguments[h];return q1e.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(l){return _z(i.props,l)},i.getOptionValue=function(l){return d0(i.props,l)},i.getStyles=function(l,f){var h=i.props.unstyled,p=Hxe[l](f,h);p.boxSizing="border-box";var m=i.props.styles[l];return m?m(p,f):p},i.getClassNames=function(l,f){var h,p;return(h=(p=i.props.classNames)[l])===null||h===void 0?void 0:h.call(p,f)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return dxe(i.props)},i.buildCategorizedOptions=function(){return D_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return vz(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,f){i.setState({ariaSelection:rn({value:l},f)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var f=i.props,h=f.isMulti,p=f.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&sw(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var f=l.touches,h=f&&f.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var f=l.touches,h=f&&f.item(0);if(h){var p=Math.abs(h.clientX-i.initialTouchX),m=Math.abs(h.clientY-i.initialTouchY),y=5;i.userIsDragging=p>y||m>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var f=i.props.inputValue,h=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var f=i.getFocusableOptions(),h=f.indexOf(l);i.setState({focusedOption:l,focusedOptionId:h>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return xz(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var f=i.props,h=f.isMulti,p=f.backspaceRemovesValue,m=f.escapeClearsValue,y=f.inputValue,_=f.isClearable,b=f.isDisabled,S=f.menuIsOpen,x=f.onKeyDown,E=f.tabSelectsValue,A=f.openMenuOnFocus,I=i.state,M=I.focusedOption,D=I.focusedValue,j=I.selectValue;if(!b&&!(typeof x=="function"&&(x(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!h||y)return;i.focusValue("previous");break;case"ArrowRight":if(!h||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!p)return;h?i.popValue():_&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!S||!E||!M||A&&i.isOptionSelected(M,j))return;i.selectOption(M);break;case"Enter":if(l.keyCode===229)break;if(S){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):_&&m&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++eEe),i.state.selectValue=X4(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=s[o],i.state.focusedOptionId=M2(a,s[o])}return i}return Cbe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&e6(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isDisabled,o=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(e6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,s=this.state,o=s.selectValue,l=s.isFocused,f=this.buildFocusableOptions(),h=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(o[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[h],focusedOptionId:this.getFocusedOptionId(f[h])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,s=a.selectValue,o=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(o);o||(l=-1);var f=s.length-1,h=-1;if(s.length){switch(i){case"previous":l===0?h=0:l===-1?h=f:h=l-1;break;case"next":l>-1&&l<f&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:s[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,s=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,f=o.indexOf(s);s||(f=-1),i==="up"?l=f>0?f-1:o.length-1:i==="down"?l=(f+1)%o.length:i==="pageup"?(l=f-a,l<0&&(l=0)):i==="pagedown"?(l=f+a,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(I2):rn(rn({},I2),this.props.theme):I2}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,s=this.getStyles,o=this.getClassNames,l=this.getValue,f=this.selectOption,h=this.setValue,p=this.props,m=p.isMulti,y=p.isRtl,_=p.options,b=this.hasValue();return{clearValue:i,cx:a,getStyles:s,getClassNames:o,getValue:l,hasValue:b,isMulti:m,isRtl:y,options:_,selectOption:f,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,s=i.isMulti;return a===void 0?s:a}},{key:"isOptionDisabled",value:function(i,a){return wz(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return bz(this.props,i,a)}},{key:"filterOption",value:function(i,a){return Sz(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:s,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,s=i.isSearchable,o=i.inputId,l=i.inputValue,f=i.tabIndex,h=i.form,p=i.menuIsOpen,m=i.required,y=this.getComponents(),_=y.Input,b=this.state,S=b.inputIsHidden,x=b.ariaSelection,E=this.commonProps,A=o||this.getElementId("input"),I=rn(rn(rn({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?ae.createElement(_,sn({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:h,type:"text",value:l},I)):ae.createElement(Cxe,sn({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:c0,onFocus:this.onInputFocus,disabled:a,tabIndex:f,inputMode:"none",form:h,value:""},I))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),s=a.MultiValue,o=a.MultiValueContainer,l=a.MultiValueLabel,f=a.MultiValueRemove,h=a.SingleValue,p=a.Placeholder,m=this.commonProps,y=this.props,_=y.controlShouldRenderValue,b=y.isDisabled,S=y.isMulti,x=y.inputValue,E=y.placeholder,A=this.state,I=A.selectValue,M=A.focusedValue,D=A.isFocused;if(!this.hasValue()||!_)return x?null:ae.createElement(p,sn({},m,{key:"placeholder",isDisabled:b,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),E);if(S)return I.map(function(Q,Y){var q=Q===M,Z="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return ae.createElement(s,sn({},m,{components:{Container:o,Label:l,Remove:f},isFocused:q,isDisabled:b,key:Z,index:Y,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(te){te.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(x)return null;var j=I[0];return ae.createElement(h,sn({},m,{data:j,isDisabled:b}),this.formatOptionLabel(j,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,f=o.isLoading,h=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||f)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ae.createElement(a,sn({},s,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,f=o.isLoading,h=this.state.isFocused;if(!a||!f)return null;var p={"aria-hidden":"true"};return ae.createElement(a,sn({},s,{innerProps:p,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,s=i.IndicatorSeparator;if(!a||!s)return null;var o=this.commonProps,l=this.props.isDisabled,f=this.state.isFocused;return ae.createElement(s,sn({},o,{isDisabled:l,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var s=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ae.createElement(a,sn({},s,{innerProps:f,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),s=a.Group,o=a.GroupHeading,l=a.Menu,f=a.MenuList,h=a.MenuPortal,p=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,_=this.commonProps,b=this.state.focusedOption,S=this.props,x=S.captureMenuScroll,E=S.inputValue,A=S.isLoading,I=S.loadingMessage,M=S.minMenuHeight,D=S.maxMenuHeight,j=S.menuIsOpen,Q=S.menuPlacement,Y=S.menuPosition,q=S.menuPortalTarget,Z=S.menuShouldBlockScroll,fe=S.menuShouldScrollIntoView,te=S.noOptionsMessage,oe=S.onMenuScrollToTop,ge=S.onMenuScrollToBottom;if(!j)return null;var _e=function(H,J){var pe=H.type,Ae=H.data,Je=H.isDisabled,Re=H.isSelected,Fe=H.label,Xe=H.value,ie=b===Ae,z=Je?void 0:function(){return i.onOptionHover(Ae)},$=Je?void 0:function(){return i.selectOption(Ae)},re="".concat(i.getElementId("option"),"-").concat(J),W={id:re,onClick:$,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Re};return ae.createElement(y,sn({},_,{innerProps:W,data:Ae,isDisabled:Je,isSelected:Re,key:re,label:Fe,type:pe,value:Xe,isFocused:ie,innerRef:ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},le;if(this.hasOptions())le=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var H=me.data,J=me.options,pe=me.index,Ae="".concat(i.getElementId("group"),"-").concat(pe),Je="".concat(Ae,"-heading");return ae.createElement(s,sn({},_,{key:Ae,data:H,options:J,Heading:o,headingProps:{id:Je,data:me.data},label:i.formatGroupLabel(me.data)}),me.options.map(function(Re){return _e(Re,"".concat(pe,"-").concat(Re.index))}))}else if(me.type==="option")return _e(me,"".concat(me.index))});else if(A){var ce=I({inputValue:E});if(ce===null)return null;le=ae.createElement(p,_,ce)}else{var Le=te({inputValue:E});if(Le===null)return null;le=ae.createElement(m,_,Le)}var k={minMenuHeight:M,maxMenuHeight:D,menuPlacement:Q,menuPosition:Y,menuShouldScrollIntoView:fe},ne=ae.createElement(iSe,sn({},_,k),function(me){var H=me.ref,J=me.placerProps,pe=J.placement,Ae=J.maxHeight;return ae.createElement(l,sn({},_,k,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:pe}),ae.createElement(Ixe,{captureEnabled:x,onTopArrive:oe,onBottomArrive:ge,lockEnabled:Z},function(Je){return ae.createElement(f,sn({},_,{innerRef:function(Fe){i.getMenuListRef(Fe),Je(Fe)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:Ae,focusedOption:b}),le)}))});return q||Y==="fixed"?ae.createElement(h,sn({},_,{appendTo:q,controlElement:this.controlRef,menuPlacement:Q,menuPosition:Y}),ne):ne}},{key:"renderFormField",value:function(){var i=this,a=this.props,s=a.delimiter,o=a.isDisabled,l=a.isMulti,f=a.name,h=a.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!o)return ae.createElement(kxe,{name:f,onFocus:this.onValueInputFocus});if(!(!f||o))if(l)if(s){var m=p.map(function(b){return i.getOptionValue(b)}).join(s);return ae.createElement("input",{name:f,type:"hidden",value:m})}else{var y=p.length>0?p.map(function(b,S){return ae.createElement("input",{key:"i-".concat(S),name:f,type:"hidden",value:i.getOptionValue(b)})}):ae.createElement("input",{name:f,type:"hidden",value:""});return ae.createElement("div",null,y)}else{var _=p[0]?this.getOptionValue(p[0]):"";return ae.createElement("input",{name:f,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,s=a.ariaSelection,o=a.focusedOption,l=a.focusedValue,f=a.isFocused,h=a.selectValue,p=this.getFocusableOptions();return ae.createElement(wxe,sn({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:o,focusedValue:l,isFocused:f,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,s=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,f=this.props,h=f.className,p=f.id,m=f.isDisabled,y=f.menuIsOpen,_=this.state.isFocused,b=this.commonProps=this.getCommonProps();return ae.createElement(o,sn({},b,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:_}),this.renderLiveRegion(),ae.createElement(a,sn({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:_,menuIsOpen:y}),ae.createElement(l,sn({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),ae.createElement(s,sn({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var s=a.prevProps,o=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,f=a.ariaSelection,h=a.isFocused,p=a.prevWasFocused,m=a.instancePrefix,y=i.options,_=i.value,b=i.menuIsOpen,S=i.inputValue,x=i.isMulti,E=X4(_),A={};if(s&&(_!==s.value||y!==s.options||b!==s.menuIsOpen||S!==s.inputValue)){var I=b?Jxe(i,E):[],M=b?p6(D_(i,E),"".concat(m,"-option")):[],D=o?Yxe(a,E):null,j=Xxe(a,I),Q=M2(M,j);A={selectValue:E,focusedOption:j,focusedOptionId:Q,focusableOptionsWithIds:M,focusedValue:D,clearFocusValueOnUpdate:!1}}var Y=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},q=f,Z=h&&p;return h&&!Z&&(q={value:Ev(x,E,E[0]||null),options:E,action:"initial-input-focus"},Z=!p),(f==null?void 0:f.action)==="initial-input-focus"&&(q=null),rn(rn(rn({},A),Y),{},{prevProps:i,ariaSelection:q,prevWasFocused:Z})}}]),n}(ae.Component);Ez.defaultProps=Zxe;var tEe=ae.forwardRef(function(t,e){var n=Ebe(t);return ae.createElement(Ez,sn({ref:e},n))}),nEe=tEe;const rEe=({webId:t})=>{const{communityId:e}=$n(),[,n,,r]=ks(t,e),[i,a]=ae.useState(""),{data:s,...o}=cge(i),l=tpe(),f=epe(),h=async({id:_,document:b})=>{await lo(l({interest:_,document:b,person:t}),{pending:"Removing interest",success:"Interest removed"})},p=ae.useMemo(()=>ybe(a,500),[]),m=ae.useCallback(_=>p(_),[p]),y=async _=>{_&&await lo(f({interest:_.id,person:t,document:t}),{pending:`Adding ${_.label} to interests`,success:`${_.label} added to interests`})};return n||n===void 0?de.jsx(ba,{children:"loading interests"}):de.jsxs("div",{children:[de.jsx("ul",{className:Hg.list,"data-cy":"interests-list-edit",children:r.map(({id:_,document:b})=>de.jsx("li",{children:de.jsx(iEe,{id:_,onRemove:()=>h({id:_,document:b})})},_+b))}),de.jsx(nEe,{options:s,filterOption:()=>!0,formatOptionLabel:_=>de.jsxs("div",{title:_.description,children:[_.label,_.aliases.length>0&&` (${_.aliases.join(", ")})`,de.jsx("br",{}),_.description]}),isLoading:o.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:m,onChange:y,className:"cy-select-interests"})]})},iEe=({id:t,onRemove:e})=>{const{data:n}=vq(t),r={id:t,label:t.split("/").pop(),description:t},i=Hc({},r,n);return de.jsxs("span",{title:i.description,className:Hg.item,"data-cy":"edit-interest",children:[i.label," ",de.jsx("button",{onClick:e,children:de.jsx(yB,{})})]})},aEe="_container_6bk5k_1",sEe="_uploadButton_6bk5k_17",Tz={container:aEe,uploadButton:sEe},oEe=()=>{const{communityId:t}=$n(),e=Ui(),n=Nd(),[,,r,,i]=ks(e.webId,t),a=Xhe(),s=rce(),o=nce(),l=async f=>{var y;if(!e.webId)throw new Error("Not signed in (should not happen)");if(!r)throw new Error("Hospex document not found");const h=(y=f.photo)==null?void 0:y[0];let p;const m=i==null?void 0:i.photo;h&&(p=await o.mutateAsync({uri:ri(r),data:h})),await a({hospexDocument:r,personId:e.webId,data:{...f,photo:p},language:"en"}),h&&m&&await s.mutateAsync({uri:m}),n("..")};if(!e.webId)throw new Error("Not signed in (should not happen)");return i?de.jsxs("div",{className:Tz.container,children:[de.jsx(uEe,{initialData:i,onSubmit:f=>lo(l(f),{pending:"Updating profile",success:"Profile updated"})}),de.jsx("label",{children:"Interests"}),de.jsx(rEe,{webId:e.webId})]}):de.jsx(ba,{children:"Fetching profile"})},uEe=({initialData:t,onSubmit:e})=>{const{register:n,handleSubmit:r,watch:i,setValue:a}=Rm({defaultValues:s9(t,"photo")});ae.useEffect(()=>{typeof t.name=="string"&&a("name",t.name)},[t.name,a]),ae.useEffect(()=>{typeof t.about=="string"&&a("about",t.about)},[t.about,a]);const{data:s}=YA(t.photo),o=r(async p=>{await e(p)}),[l,f]=ae.useState();ae.useEffect(()=>{const p=i(async(m,{name:y})=>{var _;if(y==="photo"){const b=(_=m.photo)==null?void 0:_[0];b&&f(await Wle(b))}});return()=>p.unsubscribe()},[i]);const h=l||s;return de.jsxs("form",{onSubmit:o,children:[de.jsx("label",{htmlFor:"name",children:"Name"}),de.jsx("input",{id:"name",type:"text",...n("name"),placeholder:"Name"}),de.jsx("label",{htmlFor:"photo",children:"Photo"}),de.jsxs("label",{tabIndex:0,htmlFor:"photo",className:Tz.uploadButton,style:h?{backgroundImage:`url(${h})`}:void 0,children:[de.jsx(fce,{}),de.jsx("input",{id:"photo",type:"file",...n("photo"),accept:"image/*"})]}),de.jsx("label",{htmlFor:"about",children:"About me"}),de.jsx("textarea",{id:"about",...n("about")}),de.jsx(Vr,{primary:!0,children:"Save changes"})]})},lEe="_container_14k79_1",cEe={container:lEe},fEe=()=>{const t=Ui(),{data:e}=Q0(t.webId);return de.jsxs("div",{className:cEe.container,children:[de.jsxs(jc,{to:"travel",secondary:!0,children:[de.jsx(hce,{size:24})," travel"]}),de.jsxs(jc,{to:"host",secondary:!0,children:[de.jsx(gB,{size:24})," host"]}),de.jsxs(jc,{to:"messages",secondary:!0,children:[de.jsx(vce,{size:24})," messages",e!=null&&e.length?` (${e.length} new)`:null]})]})},dEe="_container_u0fgb_1",D2={container:dEe},Cz=({tabs:t,children:e})=>de.jsxs("div",{className:D2.container,children:[e,de.jsx("nav",{className:D2.navigation,children:t.map(({link:n,label:r})=>de.jsx(NK,{className:({isActive:i})=>i?D2.active:void 0,to:n,children:r},n))})]}),hEe=()=>de.jsx(Cz,{tabs:[],children:de.jsx(v0,{})}),pEe=()=>de.jsx(EA,{to:"offers",replace:!0}),gEe=()=>de.jsx(de.Fragment,{children:"InvitePeople"});var k_={exports:{}},mEe=k_.exports,m6;function yEe(){return m6||(m6=1,function(t,e){(function(n,r){t.exports=r()})(mEe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",f="day",h="week",p="month",m="quarter",y="year",_="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var oe=["th","st","nd","rd"],ge=te%100;return"["+te+(oe[(ge-20)%10]||oe[ge]||oe[0])+"]"}},A=function(te,oe,ge){var _e=String(te);return!_e||_e.length>=oe?te:""+Array(oe+1-_e.length).join(ge)+te},I={s:A,z:function(te){var oe=-te.utcOffset(),ge=Math.abs(oe),_e=Math.floor(ge/60),le=ge%60;return(oe<=0?"+":"-")+A(_e,2,"0")+":"+A(le,2,"0")},m:function te(oe,ge){if(oe.date()<ge.date())return-te(ge,oe);var _e=12*(ge.year()-oe.year())+(ge.month()-oe.month()),le=oe.clone().add(_e,p),ce=ge-le<0,Le=oe.clone().add(_e+(ce?-1:1),p);return+(-(_e+(ge-le)/(ce?le-Le:Le-le))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:p,y,w:h,d:f,D:_,h:l,m:o,s,ms:a,Q:m}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},M="en",D={};D[M]=E;var j=function(te){return te instanceof Z},Q=function te(oe,ge,_e){var le;if(!oe)return M;if(typeof oe=="string"){var ce=oe.toLowerCase();D[ce]&&(le=ce),ge&&(D[ce]=ge,le=ce);var Le=oe.split("-");if(!le&&Le.length>1)return te(Le[0])}else{var k=oe.name;D[k]=oe,le=k}return!_e&&le&&(M=le),le||!_e&&M},Y=function(te,oe){if(j(te))return te.clone();var ge=typeof oe=="object"?oe:{};return ge.date=te,ge.args=arguments,new Z(ge)},q=I;q.l=Q,q.i=j,q.w=function(te,oe){return Y(te,{locale:oe.$L,utc:oe.$u,x:oe.$x,$offset:oe.$offset})};var Z=function(){function te(ge){this.$L=Q(ge.locale,null,!0),this.parse(ge)}var oe=te.prototype;return oe.parse=function(ge){this.$d=function(_e){var le=_e.date,ce=_e.utc;if(le===null)return new Date(NaN);if(q.u(le))return new Date;if(le instanceof Date)return new Date(le);if(typeof le=="string"&&!/Z$/i.test(le)){var Le=le.match(S);if(Le){var k=Le[2]-1||0,ne=(Le[7]||"0").substring(0,3);return ce?new Date(Date.UTC(Le[1],k,Le[3]||1,Le[4]||0,Le[5]||0,Le[6]||0,ne)):new Date(Le[1],k,Le[3]||1,Le[4]||0,Le[5]||0,Le[6]||0,ne)}}return new Date(le)}(ge),this.$x=ge.x||{},this.init()},oe.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},oe.$utils=function(){return q},oe.isValid=function(){return this.$d.toString()!==b},oe.isSame=function(ge,_e){var le=Y(ge);return this.startOf(_e)<=le&&le<=this.endOf(_e)},oe.isAfter=function(ge,_e){return Y(ge)<this.startOf(_e)},oe.isBefore=function(ge,_e){return this.endOf(_e)<Y(ge)},oe.$g=function(ge,_e,le){return q.u(ge)?this[_e]:this.set(le,ge)},oe.unix=function(){return Math.floor(this.valueOf()/1e3)},oe.valueOf=function(){return this.$d.getTime()},oe.startOf=function(ge,_e){var le=this,ce=!!q.u(_e)||_e,Le=q.p(ge),k=function(Re,Fe){var Xe=q.w(le.$u?Date.UTC(le.$y,Fe,Re):new Date(le.$y,Fe,Re),le);return ce?Xe:Xe.endOf(f)},ne=function(Re,Fe){return q.w(le.toDate()[Re].apply(le.toDate("s"),(ce?[0,0,0,0]:[23,59,59,999]).slice(Fe)),le)},me=this.$W,H=this.$M,J=this.$D,pe="set"+(this.$u?"UTC":"");switch(Le){case y:return ce?k(1,0):k(31,11);case p:return ce?k(1,H):k(0,H+1);case h:var Ae=this.$locale().weekStart||0,Je=(me<Ae?me+7:me)-Ae;return k(ce?J-Je:J+(6-Je),H);case f:case _:return ne(pe+"Hours",0);case l:return ne(pe+"Minutes",1);case o:return ne(pe+"Seconds",2);case s:return ne(pe+"Milliseconds",3);default:return this.clone()}},oe.endOf=function(ge){return this.startOf(ge,!1)},oe.$set=function(ge,_e){var le,ce=q.p(ge),Le="set"+(this.$u?"UTC":""),k=(le={},le[f]=Le+"Date",le[_]=Le+"Date",le[p]=Le+"Month",le[y]=Le+"FullYear",le[l]=Le+"Hours",le[o]=Le+"Minutes",le[s]=Le+"Seconds",le[a]=Le+"Milliseconds",le)[ce],ne=ce===f?this.$D+(_e-this.$W):_e;if(ce===p||ce===y){var me=this.clone().set(_,1);me.$d[k](ne),me.init(),this.$d=me.set(_,Math.min(this.$D,me.daysInMonth())).$d}else k&&this.$d[k](ne);return this.init(),this},oe.set=function(ge,_e){return this.clone().$set(ge,_e)},oe.get=function(ge){return this[q.p(ge)]()},oe.add=function(ge,_e){var le,ce=this;ge=Number(ge);var Le=q.p(_e),k=function(H){var J=Y(ce);return q.w(J.date(J.date()+Math.round(H*ge)),ce)};if(Le===p)return this.set(p,this.$M+ge);if(Le===y)return this.set(y,this.$y+ge);if(Le===f)return k(1);if(Le===h)return k(7);var ne=(le={},le[o]=r,le[l]=i,le[s]=n,le)[Le]||1,me=this.$d.getTime()+ge*ne;return q.w(me,this)},oe.subtract=function(ge,_e){return this.add(-1*ge,_e)},oe.format=function(ge){var _e=this,le=this.$locale();if(!this.isValid())return le.invalidDate||b;var ce=ge||"YYYY-MM-DDTHH:mm:ssZ",Le=q.z(this),k=this.$H,ne=this.$m,me=this.$M,H=le.weekdays,J=le.months,pe=function(Fe,Xe,ie,z){return Fe&&(Fe[Xe]||Fe(_e,ce))||ie[Xe].slice(0,z)},Ae=function(Fe){return q.s(k%12||12,Fe,"0")},Je=le.meridiem||function(Fe,Xe,ie){var z=Fe<12?"AM":"PM";return ie?z.toLowerCase():z},Re={YY:String(this.$y).slice(-2),YYYY:q.s(this.$y,4,"0"),M:me+1,MM:q.s(me+1,2,"0"),MMM:pe(le.monthsShort,me,J,3),MMMM:pe(J,me),D:this.$D,DD:q.s(this.$D,2,"0"),d:String(this.$W),dd:pe(le.weekdaysMin,this.$W,H,2),ddd:pe(le.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(k),HH:q.s(k,2,"0"),h:Ae(1),hh:Ae(2),a:Je(k,ne,!0),A:Je(k,ne,!1),m:String(ne),mm:q.s(ne,2,"0"),s:String(this.$s),ss:q.s(this.$s,2,"0"),SSS:q.s(this.$ms,3,"0"),Z:Le};return ce.replace(x,function(Fe,Xe){return Xe||Re[Fe]||Le.replace(":","")})},oe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},oe.diff=function(ge,_e,le){var ce,Le=q.p(_e),k=Y(ge),ne=(k.utcOffset()-this.utcOffset())*r,me=this-k,H=q.m(this,k);return H=(ce={},ce[y]=H/12,ce[p]=H,ce[m]=H/3,ce[h]=(me-ne)/6048e5,ce[f]=(me-ne)/864e5,ce[l]=me/i,ce[o]=me/r,ce[s]=me/n,ce)[Le]||me,le?H:q.a(H)},oe.daysInMonth=function(){return this.endOf(p).$D},oe.$locale=function(){return D[this.$L]},oe.locale=function(ge,_e){if(!ge)return this.$L;var le=this.clone(),ce=Q(ge,_e,!0);return ce&&(le.$L=ce),le},oe.clone=function(){return q.w(this.$d,this)},oe.toDate=function(){return new Date(this.valueOf())},oe.toJSON=function(){return this.isValid()?this.toISOString():null},oe.toISOString=function(){return this.$d.toISOString()},oe.toString=function(){return this.$d.toUTCString()},te}(),fe=Z.prototype;return Y.prototype=fe,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",f],["$M",p],["$y",y],["$D",_]].forEach(function(te){fe[te[1]]=function(oe){return this.$g(oe,te[0],te[1])}}),Y.extend=function(te,oe){return te.$i||(te(oe,Z,Y),te.$i=!0),Y},Y.locale=Q,Y.isDayjs=j,Y.unix=function(te){return Y(1e3*te)},Y.en=D[M],Y.Ls=D,Y.p={},Y})}(k_)),k_.exports}var vEe=yEe();const y6=Gr(vEe),_Ee=()=>{const t=cu(Ad);return ae.useCallback(async({senderId:e,message:n,chat:r})=>{const a=`${ri(r)}${y6().format("YYYY/MM/DD")}/chat.ttl`,s=`${a}#msg-${vl()}`,o=new Date().toISOString();return await t.mutateAsync({uri:ri(r)+y6().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message??(l.message=[]),l.message.push({"@id":s,created:o,content:n,maker:{"@id":e}})}}),{messageId:s,todayChat:a,createdAt:o}},[t])},wEe=()=>{const t=Ds(H8);return ae.useCallback(async({inbox:e,senderId:n,messageId:r,chatId:i,updated:a,content:s})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:s,maker:{"@id":n}},target:{"@id":i},updated:a}})},[t])},bEe=()=>{const t=Ds(Ad),e=Ds(ef),n=o9(!0);return ae.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:s,privateTypeIndex:o})=>{const l=`${s}messages/${vl()}/`,f=`${l}index.ttl`,h=`${f}#this`,p=new Date().toISOString();await t.mutateAsync({uri:f,data:{"@id":h,type:{"@id":"LongChat"},author:{"@id":r},created2:p,title:"Hospex chat channel",participation:[{"@id":`${f}#${vl()}`,dtstart:p,participant:{"@id":r}},{"@id":`${f}#${vl()}`,dtstart:p,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const m=await Tl(l);return await e.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Sn.Read}]}]}),await n({index:o,type:"LongChat",location:h}),{chatContainer:l,chatFile:f,chatId:h}},[e,t,n])},SEe=()=>{const t=cu(Ad),e=W0();return ae.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await t.mutateAsync({uri:r,subject:r,transform:s=>{var l,f,h;if(!s.participation)throw new Error("no participation");if(s.participation&&s.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const o=(l=s.participation)==null?void 0:l.find(p=>{var m;return((m=p.participant)==null?void 0:m["@id"])===a});if(!o)throw new Error("other person's participation not found");if(((f=o.references)==null?void 0:f.length)===1&&o.references[0]["@id"]===i)throw new Error("already updated");if(o.references&&((h=o.references)==null?void 0:h.length)>0)throw new Error("participation already references some other chat");o.references=[{"@id":i}]}})}catch(s){if(!(s instanceof Error&&s.message==="already updated"))throw s}await e.mutateAsync({uri:n})},[e,t])},xEe=({me:t,userId:e})=>{const{quads:n,variables:r,isLoading:i}=wa(ae.useMemo(()=>({query:vhe,variables:{person:[t],otherPerson:[e]},fetch:yr,staleTime:3e4}),[t,e])),a=ae.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Ad);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>p.fromSubject(y)).filter(y=>{var _;return((_=y.participation)==null?void 0:_.length)&&y.participation.length<=2}).flatMap(y=>{var _;return(_=y==null?void 0:y.message)==null?void 0:_.flatMap(b=>{var S;return{id:b["@id"],message:b.content,createdAt:new Date(b.created).getTime(),from:b.maker["@id"],chat:y["@id"],test:(S=y.participation)==null?void 0:S.map(x=>x.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),s=ae.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Ad);return(r.chatWithOtherPerson??[]).map(y=>p.fromSubject(y)).filter(y=>{var _;return((_=y.participation)==null?void 0:_.length)&&y.participation.length<=2}).flatMap(y=>{var _,b;return y["@id"]?{myChat:y["@id"],otherChats:(b=(_=y.participation)==null?void 0:_[0].references)==null?void 0:b.flatMap(S=>S["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:o,...l}=Q0(t),f=ae.useMemo(()=>o.filter(p=>p.from===e),[o,e]);return[ae.useMemo(()=>{const p=[...a];return f.forEach(m=>{const y=a.findIndex(_=>_.id===m.id);y>-1?p[y]=m:p.push(m)}),p.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,f]),{isLoading:i},l,s]},EEe=({from:t,to:e,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:t.id,name:t.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:e.id,name:e.name}}),TEe=t=>async({data:e})=>{if(!(await yr(new URL("notification",t),{method:"POST",body:JSON.stringify(EEe(e)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},CEe=({from:t,to:e,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=$n();n??(n=i);const[s]=ks(t,n),[o]=ks(e,n),{mutateAsync:l}=fs({mutationFn:TEe(a)});return ae.useCallback(async f=>{await l({type:r,data:{...f,from:s,to:o}})},[s,l,o,r])};var Az=Symbol.for("immer-nothing"),v6=Symbol.for("immer-draftable"),za=Symbol.for("immer-state");function Is(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ld=Object.getPrototypeOf;function Id(t){return!!t&&!!t[za]}function Gc(t){var e;return t?Rz(t)||Array.isArray(t)||!!t[v6]||!!((e=t.constructor)!=null&&e[v6])||uw(t)||lw(t):!1}var AEe=Object.prototype.constructor.toString();function Rz(t){if(!t||typeof t!="object")return!1;const e=Ld(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===AEe}function Jg(t,e){ow(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function ow(t){const e=t[za];return e?e.type_:Array.isArray(t)?1:uw(t)?2:lw(t)?3:0}function iA(t,e){return ow(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Pz(t,e,n){const r=ow(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function REe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function uw(t){return t instanceof Map}function lw(t){return t instanceof Set}function Sc(t){return t.copy_||t.base_}function aA(t,e){if(uw(t))return new Map(t);if(lw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Rz(t))return Ld(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[za];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],s=n[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[a]})}return Object.create(Ld(t),n)}function tP(t,e=!1){return cw(t)||Id(t)||!Gc(t)||(ow(t)>1&&(t.set=t.add=t.clear=t.delete=PEe),Object.freeze(t),e&&Jg(t,(n,r)=>tP(r,!0))),t}function PEe(){Is(2)}function cw(t){return Object.isFrozen(t)}var OEe={};function Wc(t){const e=OEe[t];return e||Is(0,t),e}var Yg;function Oz(){return Yg}function LEe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _6(t,e){e&&(Wc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sA(t){oA(t),t.drafts_.forEach(IEe),t.drafts_=null}function oA(t){t===Yg&&(Yg=t.parent_)}function w6(t){return Yg=LEe(Yg,t)}function IEe(t){const e=t[za];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function b6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[za].modified_&&(sA(e),Is(4)),Gc(t)&&(t=h0(e,t),e.parent_||p0(e,t)),e.patches_&&Wc("Patches").generateReplacementPatches_(n[za].base_,t,e.patches_,e.inversePatches_)):t=h0(e,n,[]),sA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Az?t:void 0}function h0(t,e,n){if(cw(e))return e;const r=e[za];if(!r)return Jg(e,(i,a)=>S6(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return p0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),Jg(a,(o,l)=>S6(t,r,i,o,l,n,s)),p0(t,i,!1),n&&t.patches_&&Wc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function S6(t,e,n,r,i,a,s){if(Id(i)){const o=a&&e&&e.type_!==3&&!iA(e.assigned_,r)?a.concat(r):void 0,l=h0(t,i,o);if(Pz(n,r,l),Id(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Gc(i)&&!cw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;h0(t,i),(!e||!e.scope_.parent_)&&p0(t,i)}}function p0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&tP(e,n)}function MEe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Oz(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=nP;n&&(i=[r],a=Xg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var nP={get(t,e){if(e===za)return t;const n=Sc(t);if(!iA(n,e))return DEe(t,n,e);const r=n[e];return t.finalized_||!Gc(r)?r:r===k2(t.base_,e)?(N2(t),t.copy_[e]=lA(r,t)):r},has(t,e){return e in Sc(t)},ownKeys(t){return Reflect.ownKeys(Sc(t))},set(t,e,n){const r=Lz(Sc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=k2(Sc(t),e),a=i==null?void 0:i[za];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(REe(n,i)&&(n!==void 0||iA(t.base_,e)))return!0;N2(t),uA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return k2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,N2(t),uA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Sc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Is(11)},getPrototypeOf(t){return Ld(t.base_)},setPrototypeOf(){Is(12)}},Xg={};Jg(nP,(t,e)=>{Xg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xg.deleteProperty=function(t,e){return Xg.set.call(this,t,e,void 0)};Xg.set=function(t,e,n){return nP.set.call(this,t[0],e,n,t[0])};function k2(t,e){const n=t[za];return(n?Sc(n):t)[e]}function DEe(t,e,n){var i;const r=Lz(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Lz(t,e){if(!(e in t))return;let n=Ld(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ld(n)}}function uA(t){t.modified_||(t.modified_=!0,t.parent_&&uA(t.parent_))}function N2(t){t.copy_||(t.copy_=aA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kEe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...f){return s.produce(l,h=>n.call(this,h,...f))}}typeof n!="function"&&Is(6),r!==void 0&&typeof r!="function"&&Is(7);let i;if(Gc(e)){const a=w6(this),s=lA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?sA(a):oA(a)}return _6(a,r),b6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Az&&(i=void 0),this.autoFreeze_&&tP(i,!0),r){const a=[],s=[];Wc("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Is(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gc(t)||Is(8),Id(t)&&(t=NEe(t));const e=w6(this),n=lA(t,void 0);return n[za].isManual_=!0,oA(e),n}finishDraft(t,e){const n=t&&t[za];(!n||!n.isManual_)&&Is(9);const{scope_:r}=n;return _6(r,e),b6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Wc("Patches").applyPatches_;return Id(t)?r(t,e):this.produce(t,i=>r(i,e))}};function lA(t,e){const n=uw(t)?Wc("MapSet").proxyMap_(t,e):lw(t)?Wc("MapSet").proxySet_(t,e):MEe(t,e);return(e?e.scope_:Oz()).drafts_.push(n),n}function NEe(t){return Id(t)||Is(10,t),Iz(t)}function Iz(t){if(!Gc(t)||cw(t))return t;const e=t[za];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=aA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=aA(t,!0);return Jg(n,(r,i)=>{Pz(n,r,Iz(i))}),e&&(e.finalized_=!1),n}var Ha=new kEe,F2=Ha.produce;Ha.produceWithPatches.bind(Ha);Ha.setAutoFreeze.bind(Ha);Ha.setUseStrictShallowCopy.bind(Ha);Ha.applyPatches.bind(Ha);Ha.createDraft.bind(Ha);Ha.finishDraft.bind(Ha);const FEe="_messages_1tp4g_1",jEe="_message_1tp4g_1",$Ee="_fromMe_1tp4g_13",UEe="_unread_1tp4g_18",BEe="_time_1tp4g_21",qEe="_messageForm_1tp4g_25",Gf={messages:FEe,message:jEe,fromMe:$Ee,unread:UEe,time:BEe,messageForm:qEe},zEe=()=>{var oe,ge;const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=$n(),r=SA().id,i=Ui(),[a,s]=ae.useState(!1),[o,l,f,h]=xEe({me:i.webId??"",userId:r}),{privateTypeIndexes:p,personalHospexDocuments:m}=Gg(i.webId??"",t),[y]=iq(r),_=(oe=y==null?void 0:y.inbox)==null?void 0:oe["@id"],b=_Ee(),S=wEe(),x=bEe(),E=CEe({from:i.webId,to:r,type:"message"}),A=SEe(),[I,M]=ae.useState({}),D=ae.useRef(new Set);ae.useEffect(()=>{(async()=>{var _e;if(o&&i.webId&&((_e=h[0])!=null&&_e.myChat)){for(const le of o)if(le.notification&&!(le.id in I)&&!D.current.has(le.id)){D.current.add(le.id),M(F2(ce=>{ce[le.id]="processing"}));try{await A({notificationId:le.notification,chat:h[0].myChat,otherChat:le.chat,otherPerson:r}),M(F2(ce=>{ce[le.id]="processed"}))}catch{M(F2(ce=>{ce[le.id]="errored"}))}}}})()},[i.webId,h,o,I,r,A]);const j=(ge=o.filter(_e=>_e.notification).find(_e=>!!_e.chat))==null?void 0:ge.chat,{register:Q,handleSubmit:Y,reset:q}=Rm(),Z=Y(async _e=>{var k,ne,me;if(!i.webId)throw new Error("No authenticated user available");if(s(!0),!_)throw new Error("Inbox of the other person not found (probably too soon)");let le=(k=h[0])==null?void 0:k.myChat;if(!le){if(!m[0])throw new Error("Hospex not set up (should not happen)");if(!p[0])throw new Error("Private type index not set up (should not happen)");({chatId:le}=await x({me:i.webId,otherPerson:r,hospexContainer:ri(m[0]),otherChat:((me=(ne=h[0])==null?void 0:ne.otherChats)==null?void 0:me[0])??j??void 0,privateTypeIndex:p[0]}))}const{messageId:ce,createdAt:Le}=await lo(b({senderId:i.webId,message:_e.message,chat:le}),{pending:"Creating message",success:"Message was created"});await lo(S({inbox:_,senderId:i.webId,messageId:ce,chatId:le,updated:Le,content:_e.message}),{pending:"Sending Solid notification",success:"Solid notification was sent"}),q({message:""}),s(!1),e&&n==="simple"&&await lo(E({messageId:ce,message:_e.message}),{pending:"Sending email notification",success:"Email notification was sent"})}),fe=a||!_,te=!l.isLoading&&!f.isLoading&&!h.some(_e=>!!_e.myChat);return de.jsxs("div",{children:[de.jsx("pre",{children:(l.isLoading||f.isLoading)&&"Loading"}),"Messages with ",de.jsx(VR,{webId:r,link:!0}),de.jsx("div",{className:Gf.messages,children:(o==null?void 0:o.map(({id:_e,message:le,from:ce,createdAt:Le,status:k})=>de.jsxs("div",{className:ii(Gf.message,ce===i.webId&&Gf.fromMe,k==="unread"&&Gf.unread),"data-cy":"message","data-cy-message-from":ce===i.webId?"me":"other",children:[le," ",de.jsx("span",{className:Gf.time,title:new Date(Le).toLocaleString(),children:new Date(Le).toLocaleTimeString()})]},_e)))??de.jsx("div",{children:de.jsx(ba,{children:"Loading previous messages"})})}),te&&de.jsx(de.Fragment,{children:"This is a start of your conversation"}),de.jsx("form",{onSubmit:Z,className:Gf.messageForm,children:de.jsxs("fieldset",{disabled:fe,children:[de.jsx("textarea",{...Q("message",{required:!0})}),de.jsx(Vr,{primary:!0,type:"submit",disabled:fe,children:"Send"})]})})]})},HEe=()=>de.jsx(de.Fragment,{children:"MyGuests"}),VEe=()=>de.jsx(de.Fragment,{children:"MyHosts"});/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const mc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.add(n)})},yc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.remove(n)})},Mz=An.Marker.extend({initialize(t,e){An.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const n=this._getIconSVG(t,e);this._locationIcon=An.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const n=t.radius,r=t.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+e+'" /></svg>',w:a,h:a}},setStyle(t){An.setOptions(this,t),this.createIcon()}}),KEe=Mz.extend({initialize(t,e,n){An.setOptions(this,n),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const n=t.radius,r=t.width+t.weight,i=(n+t.depth+t.weight)*2,a=`M0,0 l${t.width/2},${t.depth} l-${r},0 z`,s=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${s}"><path d="`+a+'" style="'+e+'" /></svg>',w:r,h:i}}}),GEe=An.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:Mz,compassClass:KEe,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const n=An.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);n.title=e.strings.title,n.href="#",n.setAttribute("role","button");const r=An.DomUtil.create(e.iconElementTag,e.icon,n);if(e.strings.text!==void 0){const i=An.DomUtil.create(e.textElementTag,"leaflet-locate-text",n);i.textContent=e.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",e.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?An.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=An.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=An.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=An.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=An.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new An.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,An.DomEvent.on(this._link,"click",function(r){An.DomEvent.stopPropagation(r),An.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",An.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,n=function(){An.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?An.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&An.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),An.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const s=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(s):this._circle=An.circle(e,t,s).addTo(this._layer)}let n,r;if(this.options.metric?(n=t.toFixed(0),r=this.options.strings.metersUnit):(n=(t*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const s=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(s)):this._marker=new this.options.markerClass(e,s).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?An.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(e),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,An.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(yc(this._container,"active following"),mc(this._container,"requesting"),yc(this._icon,this.options.icon),mc(this._icon,this.options.iconLoading)):t=="active"?(yc(this._container,"requesting following"),mc(this._container,"active"),yc(this._icon,this.options.iconLoading),mc(this._icon,this.options.icon)):t=="following"&&(yc(this._container,"requesting"),mc(this._container,"active following"),yc(this._icon,this.options.iconLoading),mc(this._icon,this.options.icon))},_cleanClasses(){An.DomUtil.removeClass(this._container,"requesting"),An.DomUtil.removeClass(this._container,"active"),An.DomUtil.removeClass(this._container,"following"),yc(this._icon,this.options.iconLoading),mc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function WEe(t,e){const n=ae.useRef(e);ae.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const QEe=1;function ZEe(t){return Object.freeze({__version:QEe,map:t})}function JEe(t,e){return Object.freeze({...t,...e})}const rP=ae.createContext(null);function fw(){const t=ae.use(rP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Dz(t){function e(n,r){const{instance:i,context:a}=t(n).current;ae.useImperativeHandle(r,()=>i);const{children:s}=n;return s==null?null:Gt.createElement(rP,{value:a},s)}return ae.forwardRef(e)}function kz(t){function e(n,r){const{instance:i}=t(n).current;return ae.useImperativeHandle(r,()=>i),null}return ae.forwardRef(e)}function YEe(t){return function(n){const r=fw(),i=t(n,r),{instance:a}=i.current,s=ae.useRef(n.position),{position:o}=n;return ae.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),ae.useEffect(function(){o!=null&&o!==s.current&&(a.setPosition(o),s.current=o)},[a,o]),i}}function Nz(t,e){const n=ae.useRef(void 0);ae.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function iP(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function aP(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function dw(t,e){return e==null?function(r,i){const a=ae.useRef(void 0);return a.current||(a.current=t(r,i)),a}:function(r,i){const a=ae.useRef(void 0);a.current||(a.current=t(r,i));const s=ae.useRef(r),{instance:o}=a.current;return ae.useEffect(function(){s.current!==r&&(e(o,r,s.current),s.current=r)},[o,r,e]),a}}function Fz(t,e){ae.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function jz(t){return function(n){const r=fw(),i=t(iP(n,r),r);return WEe(r.map,n.attribution),Nz(i.current,n.eventHandlers),Fz(i.current,r),i}}function XEe(t,e){const n=ae.useRef(void 0);ae.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function eTe(t){return function(n){const r=fw(),i=t(iP(n,r),r);return Nz(i.current,n.eventHandlers),Fz(i.current,r),XEe(i.current,n),i}}function tTe(t){function e(i,a){return aP(t(i),a)}const n=dw(e),r=YEe(n);return kz(r)}function nTe(t,e){const n=dw(t,e),r=jz(n);return Dz(r)}function rTe(t,e){const n=dw(t,e),r=eTe(n);return Dz(r)}function iTe(t,e){const n=dw(t,e),r=jz(n);return kz(r)}function aTe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const $z=tTe(t=>new GEe(t));function sP(){return fw().map}function j2(t,e){const n=sP();return ae.useEffect(function(){return n.on(t,e),function(){n.off(t,e)}},[n,t,e]),n}function sTe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:s,style:o,whenReady:l,zoom:f,...h},p){const[m]=ae.useState({className:i,id:a,style:o}),[y,_]=ae.useState(null),b=ae.useRef(void 0);ae.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const S=ae.useCallback(E=>{if(E!==null&&!b.current){const A=new An.Map(E,h);b.current=A,n!=null&&f!=null?A.setView(n,f):t!=null&&A.fitBounds(t,e),l!=null&&A.whenReady(l),_(ZEe(A))}},[]);ae.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const x=y?Gt.createElement(rP,{value:y},r):s??null;return Gt.createElement("div",{...m,ref:S},x)}const oP=ae.forwardRef(sTe),uP=nTe(function({position:e,...n},r){const i=new An.Marker(e,n);return aP(i,JEe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),lP=iTe(function({url:e,...n},r){const i=new An.TileLayer(e,iP(n,r));return aP(i,r)},function(e,n,r){aTe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),oTe="_mapContainer_fuu1s_1",uTe="_description_fuu1s_7",cA={mapContainer:oTe,description:uTe},x6=t=>(t%360-180*3)%360+180,Tv=t=>{const e=t.getBounds();return{n:e.getNorth(),s:e.getSouth(),e:e.getEast(),w:e.getWest()}},Uz=({onChange:t,onUpdate:e})=>{const n=sP(),r=ae.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=Tv(n);t==null||t({lat:s,long:o},l)},[n,t]),i=ae.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=x6(o),f={lat:s,long:l};if(Math.abs(l-o)>1){n.setView([s,l],n.getZoom(),{animate:!1});const p=Tv(n);t==null||t(f,p)}const h=Tv(n);e==null||e(f,h)},[n,t,e]),a=ae.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=x6(o),f={lat:s,long:l};Math.abs(l-o)>1&&n.setView([s,l],n.getZoom(),{animate:!1});const h=Tv(n);e==null||e(f,h)},[n,e]);return j2("load",a),j2("move",r),j2("moveend",i),ae.useEffect(()=>{n&&a()},[a,n]),null},lTe=({value:t,onChange:e,isInitial:n})=>{const r=ae.useMemo(()=>[t.lat,t.long],[t.lat,t.long]),{tileServer:i}=$n();return de.jsxs(oP,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:ii(cA.mapContainer,"accommodation-map-container-edit"),children:[de.jsx(lP,{url:i}),de.jsx($z,{strings:{title:"Select my location"},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),de.jsx(uP,{position:r}),de.jsx(Uz,{onChange:e})]})},cTe="_container_1saps_1",fTe="_header_1saps_10",dTe="_accommodation_1saps_17",hTe="_accommodationForm_1saps_27",pTe="_errorMessage_1saps_34",gTe="_inputError_1saps_39",mTe="_actions_1saps_45",yTe="_addAccommodationButton_1saps_54",us={container:cTe,header:fTe,accommodation:dTe,accommodationForm:hTe,errorMessage:pTe,inputError:gTe,actions:mTe,addAccommodationButton:yTe};var E6=function(t,e,n){if(t&&"reportValidity"in t){var r=$t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Bz=function(t,e){var n=function(i){var a=e.fields[i];a&&a.ref&&"reportValidity"in a.ref?E6(a.ref,i,t):a.refs&&a.refs.forEach(function(s){return E6(s,i,t)})};for(var r in e.fields)n(r)},vTe=function(t,e){e.shouldUseNativeValidation&&Bz(t,e);var n={};for(var r in t){var i=$t(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(_Te(e.names||Object.keys(t),r)){var s=Object.assign({},$t(n,r));mr(s,"root",a),mr(n,r,s)}else mr(n,r,a)}return n},_Te=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},Cv={exports:{}},$2={},Qo={},vc={},U2={},B2={},q2={},T6;function em(){return T6||(T6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(E){if(super(),!t.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((A,I)=>`${A}${I}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((A,I)=>(I instanceof n&&(A[I.str]=(A[I.str]||0)+1),A),{})}}t._Code=r,t.nil=new r("");function i(x,...E){const A=[x[0]];let I=0;for(;I<E.length;)o(A,E[I]),A.push(x[++I]);return new r(A)}t._=i;const a=new r("+");function s(x,...E){const A=[y(x[0])];let I=0;for(;I<E.length;)A.push(a),o(A,E[I]),A.push(a,y(x[++I]));return l(A),new r(A)}t.str=s;function o(x,E){E instanceof r?x.push(...E._items):E instanceof n?x.push(E):x.push(p(E))}t.addCodeArg=o;function l(x){let E=1;for(;E<x.length-1;){if(x[E]===a){const A=f(x[E-1],x[E+1]);if(A!==void 0){x.splice(E-1,3,A);continue}x[E++]="+"}E++}}function f(x,E){if(E==='""')return x;if(x==='""')return E;if(typeof x=="string")return E instanceof n||x[x.length-1]!=='"'?void 0:typeof E!="string"?`${x.slice(0,-1)}${E}"`:E[0]==='"'?x.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(x instanceof n))return`"${x}${E.slice(1)}`}function h(x,E){return E.emptyStr()?x:x.emptyStr()?E:s`${x}${E}`}t.strConcat=h;function p(x){return typeof x=="number"||typeof x=="boolean"||x===null?x:y(Array.isArray(x)?x.join(","):x)}function m(x){return new r(y(x))}t.stringify=m;function y(x){return JSON.stringify(x).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function _(x){return typeof x=="string"&&t.IDENTIFIER.test(x)?new r(`.${x}`):i`[${x}]`}t.getProperty=_;function b(x){if(typeof x=="string"&&t.IDENTIFIER.test(x))return new r(`${x}`);throw new Error(`CodeGen: invalid export name: ${x}, use explicit $id name mapping`)}t.getEsmExportName=b;function S(x){return new r(x.toString())}t.regexpCode=S}(q2)),q2}var z2={},C6;function A6(){return C6||(C6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=em();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:f,parent:h}={}){this._names={},this._prefixes=f,this._parent=h}toName(f){return f instanceof e.Name?f:this.name(f)}name(f){return new e.Name(this._newName(f))}_newName(f){const h=this._names[f]||this._nameGroup(f);return`${f}${h.index++}`}_nameGroup(f){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}t.Scope=i;class a extends e.Name{constructor(f,h){super(h),this.prefix=f}setValue(f,{property:h,itemIndex:p}){this.value=f,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=a;const s=(0,e._)`\n`;class o extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?s:e.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(f),{prefix:y}=m,_=(p=h.key)!==null&&p!==void 0?p:h.ref;let b=this._values[y];if(b){const E=b.get(_);if(E)return E}else b=this._values[y]=new Map;b.set(_,m);const S=this._scope[y]||(this._scope[y]=[]),x=S.length;return S[x]=h.ref,m.setValue(h,{property:y,itemIndex:x}),m}getValue(f,h){const p=this._values[f];if(p)return p.get(h)}scopeRefs(f,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${f}${p.scopePath}`})}scopeCode(f=this._values,h,p){return this._reduceValues(f,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},h,p)}_reduceValues(f,h,p={},m){let y=e.nil;for(const _ in f){const b=f[_];if(!b)continue;const S=p[_]=p[_]||new Map;b.forEach(x=>{if(S.has(x))return;S.set(x,r.Started);let E=h(x);if(E){const A=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${A} ${x} = ${E};${this.opts._n}`}else if(E=m==null?void 0:m(x))y=(0,e._)`${y}${E}${this.opts._n}`;else throw new n(x);S.set(x,r.Completed)})}return y}}t.ValueScope=o}(z2)),z2}var R6;function On(){return R6||(R6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=em(),n=A6();var r=em();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=A6();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(J,pe){return this}}class s extends a{constructor(J,pe,Ae){super(),this.varKind=J,this.name=pe,this.rhs=Ae}render({es5:J,_n:pe}){const Ae=J?n.varKinds.var:this.varKind,Je=this.rhs===void 0?"":` = ${this.rhs}`;return`${Ae} ${this.name}${Je};`+pe}optimizeNames(J,pe){if(J[this.name.str])return this.rhs&&(this.rhs=oe(this.rhs,J,pe)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends a{constructor(J,pe,Ae){super(),this.lhs=J,this.rhs=pe,this.sideEffects=Ae}render({_n:J}){return`${this.lhs} = ${this.rhs};`+J}optimizeNames(J,pe){if(!(this.lhs instanceof e.Name&&!J[this.lhs.str]&&!this.sideEffects))return this.rhs=oe(this.rhs,J,pe),this}get names(){const J=this.lhs instanceof e.Name?{}:{...this.lhs.names};return te(J,this.rhs)}}class l extends o{constructor(J,pe,Ae,Je){super(J,Ae,Je),this.op=pe}render({_n:J}){return`${this.lhs} ${this.op}= ${this.rhs};`+J}}class f extends a{constructor(J){super(),this.label=J,this.names={}}render({_n:J}){return`${this.label}:`+J}}class h extends a{constructor(J){super(),this.label=J,this.names={}}render({_n:J}){return`break${this.label?` ${this.label}`:""};`+J}}class p extends a{constructor(J){super(),this.error=J}render({_n:J}){return`throw ${this.error};`+J}get names(){return this.error.names}}class m extends a{constructor(J){super(),this.code=J}render({_n:J}){return`${this.code};`+J}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(J,pe){return this.code=oe(this.code,J,pe),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends a{constructor(J=[]){super(),this.nodes=J}render(J){return this.nodes.reduce((pe,Ae)=>pe+Ae.render(J),"")}optimizeNodes(){const{nodes:J}=this;let pe=J.length;for(;pe--;){const Ae=J[pe].optimizeNodes();Array.isArray(Ae)?J.splice(pe,1,...Ae):Ae?J[pe]=Ae:J.splice(pe,1)}return J.length>0?this:void 0}optimizeNames(J,pe){const{nodes:Ae}=this;let Je=Ae.length;for(;Je--;){const Re=Ae[Je];Re.optimizeNames(J,pe)||(ge(J,Re.names),Ae.splice(Je,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((J,pe)=>fe(J,pe.names),{})}}class _ extends y{render(J){return"{"+J._n+super.render(J)+"}"+J._n}}class b extends y{}class S extends _{}S.kind="else";class x extends _{constructor(J,pe){super(pe),this.condition=J}render(J){let pe=`if(${this.condition})`+super.render(J);return this.else&&(pe+="else "+this.else.render(J)),pe}optimizeNodes(){super.optimizeNodes();const J=this.condition;if(J===!0)return this.nodes;let pe=this.else;if(pe){const Ae=pe.optimizeNodes();pe=this.else=Array.isArray(Ae)?new S(Ae):Ae}if(pe)return J===!1?pe instanceof x?pe:pe.nodes:this.nodes.length?this:new x(_e(J),pe instanceof x?[pe]:pe.nodes);if(!(J===!1||!this.nodes.length))return this}optimizeNames(J,pe){var Ae;if(this.else=(Ae=this.else)===null||Ae===void 0?void 0:Ae.optimizeNames(J,pe),!!(super.optimizeNames(J,pe)||this.else))return this.condition=oe(this.condition,J,pe),this}get names(){const J=super.names;return te(J,this.condition),this.else&&fe(J,this.else.names),J}}x.kind="if";class E extends _{}E.kind="for";class A extends E{constructor(J){super(),this.iteration=J}render(J){return`for(${this.iteration})`+super.render(J)}optimizeNames(J,pe){if(super.optimizeNames(J,pe))return this.iteration=oe(this.iteration,J,pe),this}get names(){return fe(super.names,this.iteration.names)}}class I extends E{constructor(J,pe,Ae,Je){super(),this.varKind=J,this.name=pe,this.from=Ae,this.to=Je}render(J){const pe=J.es5?n.varKinds.var:this.varKind,{name:Ae,from:Je,to:Re}=this;return`for(${pe} ${Ae}=${Je}; ${Ae}<${Re}; ${Ae}++)`+super.render(J)}get names(){const J=te(super.names,this.from);return te(J,this.to)}}class M extends E{constructor(J,pe,Ae,Je){super(),this.loop=J,this.varKind=pe,this.name=Ae,this.iterable=Je}render(J){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(J)}optimizeNames(J,pe){if(super.optimizeNames(J,pe))return this.iterable=oe(this.iterable,J,pe),this}get names(){return fe(super.names,this.iterable.names)}}class D extends _{constructor(J,pe,Ae){super(),this.name=J,this.args=pe,this.async=Ae}render(J){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(J)}}D.kind="func";class j extends y{render(J){return"return "+super.render(J)}}j.kind="return";class Q extends _{render(J){let pe="try"+super.render(J);return this.catch&&(pe+=this.catch.render(J)),this.finally&&(pe+=this.finally.render(J)),pe}optimizeNodes(){var J,pe;return super.optimizeNodes(),(J=this.catch)===null||J===void 0||J.optimizeNodes(),(pe=this.finally)===null||pe===void 0||pe.optimizeNodes(),this}optimizeNames(J,pe){var Ae,Je;return super.optimizeNames(J,pe),(Ae=this.catch)===null||Ae===void 0||Ae.optimizeNames(J,pe),(Je=this.finally)===null||Je===void 0||Je.optimizeNames(J,pe),this}get names(){const J=super.names;return this.catch&&fe(J,this.catch.names),this.finally&&fe(J,this.finally.names),J}}class Y extends _{constructor(J){super(),this.error=J}render(J){return`catch(${this.error})`+super.render(J)}}Y.kind="catch";class q extends _{render(J){return"finally"+super.render(J)}}q.kind="finally";class Z{constructor(J,pe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...pe,_n:pe.lines?`
`:""},this._extScope=J,this._scope=new n.Scope({parent:J}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(J){return this._scope.name(J)}scopeName(J){return this._extScope.name(J)}scopeValue(J,pe){const Ae=this._extScope.value(J,pe);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(J,pe){return this._extScope.getValue(J,pe)}scopeRefs(J){return this._extScope.scopeRefs(J,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(J,pe,Ae,Je){const Re=this._scope.toName(pe);return Ae!==void 0&&Je&&(this._constants[Re.str]=Ae),this._leafNode(new s(J,Re,Ae)),Re}const(J,pe,Ae){return this._def(n.varKinds.const,J,pe,Ae)}let(J,pe,Ae){return this._def(n.varKinds.let,J,pe,Ae)}var(J,pe,Ae){return this._def(n.varKinds.var,J,pe,Ae)}assign(J,pe,Ae){return this._leafNode(new o(J,pe,Ae))}add(J,pe){return this._leafNode(new l(J,t.operators.ADD,pe))}code(J){return typeof J=="function"?J():J!==e.nil&&this._leafNode(new m(J)),this}object(...J){const pe=["{"];for(const[Ae,Je]of J)pe.length>1&&pe.push(","),pe.push(Ae),(Ae!==Je||this.opts.es5)&&(pe.push(":"),(0,e.addCodeArg)(pe,Je));return pe.push("}"),new e._Code(pe)}if(J,pe,Ae){if(this._blockNode(new x(J)),pe&&Ae)this.code(pe).else().code(Ae).endIf();else if(pe)this.code(pe).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(J){return this._elseNode(new x(J))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(x,S)}_for(J,pe){return this._blockNode(J),pe&&this.code(pe).endFor(),this}for(J,pe){return this._for(new A(J),pe)}forRange(J,pe,Ae,Je,Re=this.opts.es5?n.varKinds.var:n.varKinds.let){const Fe=this._scope.toName(J);return this._for(new I(Re,Fe,pe,Ae),()=>Je(Fe))}forOf(J,pe,Ae,Je=n.varKinds.const){const Re=this._scope.toName(J);if(this.opts.es5){const Fe=pe instanceof e.Name?pe:this.var("_arr",pe);return this.forRange("_i",0,(0,e._)`${Fe}.length`,Xe=>{this.var(Re,(0,e._)`${Fe}[${Xe}]`),Ae(Re)})}return this._for(new M("of",Je,Re,pe),()=>Ae(Re))}forIn(J,pe,Ae,Je=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(J,(0,e._)`Object.keys(${pe})`,Ae);const Re=this._scope.toName(J);return this._for(new M("in",Je,Re,pe),()=>Ae(Re))}endFor(){return this._endBlockNode(E)}label(J){return this._leafNode(new f(J))}break(J){return this._leafNode(new h(J))}return(J){const pe=new j;if(this._blockNode(pe),this.code(J),pe.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(j)}try(J,pe,Ae){if(!pe&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Je=new Q;if(this._blockNode(Je),this.code(J),pe){const Re=this.name("e");this._currNode=Je.catch=new Y(Re),pe(Re)}return Ae&&(this._currNode=Je.finally=new q,this.code(Ae)),this._endBlockNode(Y,q)}throw(J){return this._leafNode(new p(J))}block(J,pe){return this._blockStarts.push(this._nodes.length),J&&this.code(J).endBlock(pe),this}endBlock(J){const pe=this._blockStarts.pop();if(pe===void 0)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-pe;if(Ae<0||J!==void 0&&Ae!==J)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${J} expected`);return this._nodes.length=pe,this}func(J,pe=e.nil,Ae,Je){return this._blockNode(new D(J,pe,Ae)),Je&&this.code(Je).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(J=1){for(;J-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(J){return this._currNode.nodes.push(J),this}_blockNode(J){this._currNode.nodes.push(J),this._nodes.push(J)}_endBlockNode(J,pe){const Ae=this._currNode;if(Ae instanceof J||pe&&Ae instanceof pe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${pe?`${J.kind}/${pe.kind}`:J.kind}"`)}_elseNode(J){const pe=this._currNode;if(!(pe instanceof x))throw new Error('CodeGen: "else" without "if"');return this._currNode=pe.else=J,this}get _root(){return this._nodes[0]}get _currNode(){const J=this._nodes;return J[J.length-1]}set _currNode(J){const pe=this._nodes;pe[pe.length-1]=J}}t.CodeGen=Z;function fe(H,J){for(const pe in J)H[pe]=(H[pe]||0)+(J[pe]||0);return H}function te(H,J){return J instanceof e._CodeOrName?fe(H,J.names):H}function oe(H,J,pe){if(H instanceof e.Name)return Ae(H);if(!Je(H))return H;return new e._Code(H._items.reduce((Re,Fe)=>(Fe instanceof e.Name&&(Fe=Ae(Fe)),Fe instanceof e._Code?Re.push(...Fe._items):Re.push(Fe),Re),[]));function Ae(Re){const Fe=pe[Re.str];return Fe===void 0||J[Re.str]!==1?Re:(delete J[Re.str],Fe)}function Je(Re){return Re instanceof e._Code&&Re._items.some(Fe=>Fe instanceof e.Name&&J[Fe.str]===1&&pe[Fe.str]!==void 0)}}function ge(H,J){for(const pe in J)H[pe]=(H[pe]||0)-(J[pe]||0)}function _e(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:(0,e._)`!${me(H)}`}t.not=_e;const le=ne(t.operators.AND);function ce(...H){return H.reduce(le)}t.and=ce;const Le=ne(t.operators.OR);function k(...H){return H.reduce(Le)}t.or=k;function ne(H){return(J,pe)=>J===e.nil?pe:pe===e.nil?J:(0,e._)`${me(J)} ${H} ${me(pe)}`}function me(H){return H instanceof e.Name?H:(0,e._)`(${H})`}}(B2)),B2}var Cn={},P6;function Vn(){if(P6)return Cn;P6=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.checkStrictMode=Cn.getErrorPath=Cn.Type=Cn.useFunc=Cn.setEvaluated=Cn.evaluatedPropsToName=Cn.mergeEvaluated=Cn.eachItem=Cn.unescapeJsonPointer=Cn.escapeJsonPointer=Cn.escapeFragment=Cn.unescapeFragment=Cn.schemaRefOrVal=Cn.schemaHasRulesButRef=Cn.schemaHasRules=Cn.checkUnknownRules=Cn.alwaysValidSchema=Cn.toHash=void 0;const t=On(),e=em();function n(M){const D={};for(const j of M)D[j]=!0;return D}Cn.toHash=n;function r(M,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(M,D),!a(D,M.self.RULES.all))}Cn.alwaysValidSchema=r;function i(M,D=M.schema){const{opts:j,self:Q}=M;if(!j.strictSchema||typeof D=="boolean")return;const Y=Q.RULES.keywords;for(const q in D)Y[q]||I(M,`unknown keyword: "${q}"`)}Cn.checkUnknownRules=i;function a(M,D){if(typeof M=="boolean")return!M;for(const j in M)if(D[j])return!0;return!1}Cn.schemaHasRules=a;function s(M,D){if(typeof M=="boolean")return!M;for(const j in M)if(j!=="$ref"&&D.all[j])return!0;return!1}Cn.schemaHasRulesButRef=s;function o({topSchemaRef:M,schemaPath:D},j,Q,Y){if(!Y){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${M}${D}${(0,t.getProperty)(Q)}`}Cn.schemaRefOrVal=o;function l(M){return p(decodeURIComponent(M))}Cn.unescapeFragment=l;function f(M){return encodeURIComponent(h(M))}Cn.escapeFragment=f;function h(M){return typeof M=="number"?`${M}`:M.replace(/~/g,"~0").replace(/\//g,"~1")}Cn.escapeJsonPointer=h;function p(M){return M.replace(/~1/g,"/").replace(/~0/g,"~")}Cn.unescapeJsonPointer=p;function m(M,D){if(Array.isArray(M))for(const j of M)D(j);else D(M)}Cn.eachItem=m;function y({mergeNames:M,mergeToName:D,mergeValues:j,resultToName:Q}){return(Y,q,Z,fe)=>{const te=Z===void 0?q:Z instanceof t.Name?(q instanceof t.Name?M(Y,q,Z):D(Y,q,Z),Z):q instanceof t.Name?(D(Y,Z,q),q):j(q,Z);return fe===t.Name&&!(te instanceof t.Name)?Q(Y,te):te}}Cn.mergeEvaluated={props:y({mergeNames:(M,D,j)=>M.if((0,t._)`${j} !== true && ${D} !== undefined`,()=>{M.if((0,t._)`${D} === true`,()=>M.assign(j,!0),()=>M.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${D})`))}),mergeToName:(M,D,j)=>M.if((0,t._)`${j} !== true`,()=>{D===!0?M.assign(j,!0):(M.assign(j,(0,t._)`${j} || {}`),b(M,j,D))}),mergeValues:(M,D)=>M===!0?!0:{...M,...D},resultToName:_}),items:y({mergeNames:(M,D,j)=>M.if((0,t._)`${j} !== true && ${D} !== undefined`,()=>M.assign(j,(0,t._)`${D} === true ? true : ${j} > ${D} ? ${j} : ${D}`)),mergeToName:(M,D,j)=>M.if((0,t._)`${j} !== true`,()=>M.assign(j,D===!0?!0:(0,t._)`${j} > ${D} ? ${j} : ${D}`)),mergeValues:(M,D)=>M===!0?!0:Math.max(M,D),resultToName:(M,D)=>M.var("items",D)})};function _(M,D){if(D===!0)return M.var("props",!0);const j=M.var("props",(0,t._)`{}`);return D!==void 0&&b(M,j,D),j}Cn.evaluatedPropsToName=_;function b(M,D,j){Object.keys(j).forEach(Q=>M.assign((0,t._)`${D}${(0,t.getProperty)(Q)}`,!0))}Cn.setEvaluated=b;const S={};function x(M,D){return M.scopeValue("func",{ref:D,code:S[D.code]||(S[D.code]=new e._Code(D.code))})}Cn.useFunc=x;var E;(function(M){M[M.Num=0]="Num",M[M.Str=1]="Str"})(E||(Cn.Type=E={}));function A(M,D,j){if(M instanceof t.Name){const Q=D===E.Num;return j?Q?(0,t._)`"[" + ${M} + "]"`:(0,t._)`"['" + ${M} + "']"`:Q?(0,t._)`"/" + ${M}`:(0,t._)`"/" + ${M}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(M).toString():"/"+h(M)}Cn.getErrorPath=A;function I(M,D,j=M.opts.strictSchema){if(j){if(D=`strict mode: ${D}`,j===!0)throw new Error(D);M.self.logger.warn(D)}}return Cn.checkStrictMode=I,Cn}var Av={},O6;function _u(){if(O6)return Av;O6=1,Object.defineProperty(Av,"__esModule",{value:!0});const t=On(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Av.default=e,Av}var L6;function Om(){return L6||(L6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=On(),n=Vn(),r=_u();t.keywordError={message:({keyword:S})=>(0,e.str)`must pass "${S}" keyword validation`},t.keyword$DataError={message:({keyword:S,schemaType:x})=>x?(0,e.str)`"${S}" keyword must be ${x} ($data)`:(0,e.str)`"${S}" keyword is invalid ($data)`};function i(S,x=t.keywordError,E,A){const{it:I}=S,{gen:M,compositeRule:D,allErrors:j}=I,Q=p(S,x,E);A??(D||j)?l(M,Q):f(I,(0,e._)`[${Q}]`)}t.reportError=i;function a(S,x=t.keywordError,E){const{it:A}=S,{gen:I,compositeRule:M,allErrors:D}=A,j=p(S,x,E);l(I,j),M||D||f(A,r.default.vErrors)}t.reportExtraError=a;function s(S,x){S.assign(r.default.errors,x),S.if((0,e._)`${r.default.vErrors} !== null`,()=>S.if(x,()=>S.assign((0,e._)`${r.default.vErrors}.length`,x),()=>S.assign(r.default.vErrors,null)))}t.resetErrorsCount=s;function o({gen:S,keyword:x,schemaValue:E,data:A,errsCount:I,it:M}){if(I===void 0)throw new Error("ajv implementation error");const D=S.name("err");S.forRange("i",I,r.default.errors,j=>{S.const(D,(0,e._)`${r.default.vErrors}[${j}]`),S.if((0,e._)`${D}.instancePath === undefined`,()=>S.assign((0,e._)`${D}.instancePath`,(0,e.strConcat)(r.default.instancePath,M.errorPath))),S.assign((0,e._)`${D}.schemaPath`,(0,e.str)`${M.errSchemaPath}/${x}`),M.opts.verbose&&(S.assign((0,e._)`${D}.schema`,E),S.assign((0,e._)`${D}.data`,A))})}t.extendErrors=o;function l(S,x){const E=S.const("err",x);S.if((0,e._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,e._)`[${E}]`),(0,e._)`${r.default.vErrors}.push(${E})`),S.code((0,e._)`${r.default.errors}++`)}function f(S,x){const{gen:E,validateName:A,schemaEnv:I}=S;I.$async?E.throw((0,e._)`new ${S.ValidationError}(${x})`):(E.assign((0,e._)`${A}.errors`,x),E.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(S,x,E){const{createErrors:A}=S.it;return A===!1?(0,e._)`{}`:m(S,x,E)}function m(S,x,E={}){const{gen:A,it:I}=S,M=[y(I,E),_(S,E)];return b(S,x,M),A.object(...M)}function y({errorPath:S},{instancePath:x}){const E=x?(0,e.str)`${S}${(0,n.getErrorPath)(x,n.Type.Str)}`:S;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,E)]}function _({keyword:S,it:{errSchemaPath:x}},{schemaPath:E,parentSchema:A}){let I=A?x:(0,e.str)`${x}/${S}`;return E&&(I=(0,e.str)`${I}${(0,n.getErrorPath)(E,n.Type.Str)}`),[h.schemaPath,I]}function b(S,{params:x,message:E},A){const{keyword:I,data:M,schemaValue:D,it:j}=S,{opts:Q,propertyName:Y,topSchemaRef:q,schemaPath:Z}=j;A.push([h.keyword,I],[h.params,typeof x=="function"?x(S):x||(0,e._)`{}`]),Q.messages&&A.push([h.message,typeof E=="function"?E(S):E]),Q.verbose&&A.push([h.schema,D],[h.parentSchema,(0,e._)`${q}${Z}`],[r.default.data,M]),Y&&A.push([h.propertyName,Y])}}(U2)),U2}var I6;function wTe(){if(I6)return vc;I6=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.boolOrEmptySchema=vc.topBoolOrEmptySchema=void 0;const t=Om(),e=On(),n=_u(),r={message:"boolean schema is false"};function i(o){const{gen:l,schema:f,validateName:h}=o;f===!1?s(o,!1):typeof f=="object"&&f.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${h}.errors`,null),l.return(!0))}vc.topBoolOrEmptySchema=i;function a(o,l){const{gen:f,schema:h}=o;h===!1?(f.var(l,!1),s(o)):f.var(l,!0)}vc.boolOrEmptySchema=a;function s(o,l){const{gen:f,data:h}=o,p={gen:f,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(p,r,void 0,l)}return vc}var xi={},_c={},M6;function qz(){if(M6)return _c;M6=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.getRules=_c.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}_c.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return _c.getRules=r,_c}var Zo={},D6;function zz(){if(D6)return Zo;D6=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.shouldUseRule=Zo.shouldUseGroup=Zo.schemaHasRulesForType=void 0;function t({schema:r,self:i},a){const s=i.RULES.types[a];return s&&s!==!0&&e(r,s)}Zo.schemaHasRulesForType=t;function e(r,i){return i.rules.some(a=>n(r,a))}Zo.shouldUseGroup=e;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(s=>r[s]!==void 0))}return Zo.shouldUseRule=n,Zo}var k6;function g0(){if(k6)return xi;k6=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.reportTypeError=xi.checkDataTypes=xi.checkDataType=xi.coerceAndCheckDataType=xi.getJSONTypes=xi.getSchemaTypes=xi.DataType=void 0;const t=qz(),e=zz(),n=Om(),r=On(),i=Vn();var a;(function(E){E[E.Correct=0]="Correct",E[E.Wrong=1]="Wrong"})(a||(xi.DataType=a={}));function s(E){const A=o(E.type);if(A.includes("null")){if(E.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&E.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');E.nullable===!0&&A.push("null")}return A}xi.getSchemaTypes=s;function o(E){const A=Array.isArray(E)?E:E?[E]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}xi.getJSONTypes=o;function l(E,A){const{gen:I,data:M,opts:D}=E,j=h(A,D.coerceTypes),Q=A.length>0&&!(j.length===0&&A.length===1&&(0,e.schemaHasRulesForType)(E,A[0]));if(Q){const Y=_(A,M,D.strictNumbers,a.Wrong);I.if(Y,()=>{j.length?p(E,A,j):S(E)})}return Q}xi.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function h(E,A){return A?E.filter(I=>f.has(I)||A==="array"&&I==="array"):[]}function p(E,A,I){const{gen:M,data:D,opts:j}=E,Q=M.let("dataType",(0,r._)`typeof ${D}`),Y=M.let("coerced",(0,r._)`undefined`);j.coerceTypes==="array"&&M.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>M.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(_(A,D,j.strictNumbers),()=>M.assign(Y,D))),M.if((0,r._)`${Y} !== undefined`);for(const Z of I)(f.has(Z)||Z==="array"&&j.coerceTypes==="array")&&q(Z);M.else(),S(E),M.endIf(),M.if((0,r._)`${Y} !== undefined`,()=>{M.assign(D,Y),m(E,Y)});function q(Z){switch(Z){case"string":M.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(Y,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(Y,(0,r._)`""`);return;case"number":M.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(Y,(0,r._)`+${D}`);return;case"integer":M.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(Y,(0,r._)`+${D}`);return;case"boolean":M.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(Y,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(Y,!0);return;case"null":M.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),M.assign(Y,null);return;case"array":M.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(Y,(0,r._)`[${D}]`)}}}function m({gen:E,parentData:A,parentDataProperty:I},M){E.if((0,r._)`${A} !== undefined`,()=>E.assign((0,r._)`${A}[${I}]`,M))}function y(E,A,I,M=a.Correct){const D=M===a.Correct?r.operators.EQ:r.operators.NEQ;let j;switch(E){case"null":return(0,r._)`${A} ${D} null`;case"array":j=(0,r._)`Array.isArray(${A})`;break;case"object":j=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":j=Q((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":j=Q();break;default:return(0,r._)`typeof ${A} ${D} ${E}`}return M===a.Correct?j:(0,r.not)(j);function Q(Y=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,Y,I?(0,r._)`isFinite(${A})`:r.nil)}}xi.checkDataType=y;function _(E,A,I,M){if(E.length===1)return y(E[0],A,I,M);let D;const j=(0,i.toHash)(E);if(j.array&&j.object){const Q=(0,r._)`typeof ${A} != "object"`;D=j.null?Q:(0,r._)`!${A} || ${Q}`,delete j.null,delete j.array,delete j.object}else D=r.nil;j.number&&delete j.integer;for(const Q in j)D=(0,r.and)(D,y(Q,A,I,M));return D}xi.checkDataTypes=_;const b={message:({schema:E})=>`must be ${E}`,params:({schema:E,schemaValue:A})=>typeof E=="string"?(0,r._)`{type: ${E}}`:(0,r._)`{type: ${A}}`};function S(E){const A=x(E);(0,n.reportError)(A,b)}xi.reportTypeError=S;function x(E){const{gen:A,data:I,schema:M}=E,D=(0,i.schemaRefOrVal)(E,M,"type");return{gen:A,keyword:"type",data:I,schema:M.type,schemaCode:D,schemaValue:D,parentSchema:M,params:{},it:E}}return xi}var ag={},N6;function bTe(){if(N6)return ag;N6=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.assignDefaults=void 0;const t=On(),e=Vn();function n(i,a){const{properties:s,items:o}=i.schema;if(a==="object"&&s)for(const l in s)r(i,l,s[l].default);else a==="array"&&Array.isArray(o)&&o.forEach((l,f)=>r(i,f,l.default))}ag.assignDefaults=n;function r(i,a,s){const{gen:o,compositeRule:l,data:f,opts:h}=i;if(s===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(l){(0,e.checkStrictMode)(i,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;h.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),o.if(m,(0,t._)`${p} = ${(0,t.stringify)(s)}`)}return ag}var Ss={},ar={},F6;function Bs(){if(F6)return ar;F6=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.validateUnion=ar.validateArray=ar.usePattern=ar.callValidateCode=ar.schemaProperties=ar.allSchemaProperties=ar.noPropertyInData=ar.propertyInData=ar.isOwnProperty=ar.hasPropFunc=ar.reportMissingProp=ar.checkMissingProp=ar.checkReportMissingProp=void 0;const t=On(),e=Vn(),n=_u(),r=Vn();function i(E,A){const{gen:I,data:M,it:D}=E;I.if(h(I,M,A,D.opts.ownProperties),()=>{E.setParams({missingProperty:(0,t._)`${A}`},!0),E.error()})}ar.checkReportMissingProp=i;function a({gen:E,data:A,it:{opts:I}},M,D){return(0,t.or)(...M.map(j=>(0,t.and)(h(E,A,j,I.ownProperties),(0,t._)`${D} = ${j}`)))}ar.checkMissingProp=a;function s(E,A){E.setParams({missingProperty:A},!0),E.error()}ar.reportMissingProp=s;function o(E){return E.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ar.hasPropFunc=o;function l(E,A,I){return(0,t._)`${o(E)}.call(${A}, ${I})`}ar.isOwnProperty=l;function f(E,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} !== undefined`;return M?(0,t._)`${D} && ${l(E,A,I)}`:D}ar.propertyInData=f;function h(E,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} === undefined`;return M?(0,t.or)(D,(0,t.not)(l(E,A,I))):D}ar.noPropertyInData=h;function p(E){return E?Object.keys(E).filter(A=>A!=="__proto__"):[]}ar.allSchemaProperties=p;function m(E,A){return p(A).filter(I=>!(0,e.alwaysValidSchema)(E,A[I]))}ar.schemaProperties=m;function y({schemaCode:E,data:A,it:{gen:I,topSchemaRef:M,schemaPath:D,errorPath:j},it:Q},Y,q,Z){const fe=Z?(0,t._)`${E}, ${A}, ${M}${D}`:A,te=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,j)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&te.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const oe=(0,t._)`${fe}, ${I.object(...te)}`;return q!==t.nil?(0,t._)`${Y}.call(${q}, ${oe})`:(0,t._)`${Y}(${oe})`}ar.callValidateCode=y;const _=(0,t._)`new RegExp`;function b({gen:E,it:{opts:A}},I){const M=A.unicodeRegExp?"u":"",{regExp:D}=A.code,j=D(I,M);return E.scopeValue("pattern",{key:j.toString(),ref:j,code:(0,t._)`${D.code==="new RegExp"?_:(0,r.useFunc)(E,D)}(${I}, ${M})`})}ar.usePattern=b;function S(E){const{gen:A,data:I,keyword:M,it:D}=E,j=A.name("valid");if(D.allErrors){const Y=A.let("valid",!0);return Q(()=>A.assign(Y,!1)),Y}return A.var(j,!0),Q(()=>A.break()),j;function Q(Y){const q=A.const("len",(0,t._)`${I}.length`);A.forRange("i",0,q,Z=>{E.subschema({keyword:M,dataProp:Z,dataPropType:e.Type.Num},j),A.if((0,t.not)(j),Y)})}}ar.validateArray=S;function x(E){const{gen:A,schema:I,keyword:M,it:D}=E;if(!Array.isArray(I))throw new Error("ajv implementation error");if(I.some(q=>(0,e.alwaysValidSchema)(D,q))&&!D.opts.unevaluated)return;const Q=A.let("valid",!1),Y=A.name("_valid");A.block(()=>I.forEach((q,Z)=>{const fe=E.subschema({keyword:M,schemaProp:Z,compositeRule:!0},Y);A.assign(Q,(0,t._)`${Q} || ${Y}`),E.mergeValidEvaluated(fe,Y)||A.if((0,t.not)(Q))})),E.result(Q,()=>E.reset(),()=>E.error(!0))}return ar.validateUnion=x,ar}var j6;function STe(){if(j6)return Ss;j6=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.validateKeywordUsage=Ss.validSchemaType=Ss.funcKeywordCode=Ss.macroKeywordCode=void 0;const t=On(),e=_u(),n=Bs(),r=Om();function i(m,y){const{gen:_,keyword:b,schema:S,parentSchema:x,it:E}=m,A=y.macro.call(E.self,S,x,E),I=f(_,b,A);E.opts.validateSchema!==!1&&E.self.validateSchema(A,!0);const M=_.name("valid");m.subschema({schema:A,schemaPath:t.nil,errSchemaPath:`${E.errSchemaPath}/${b}`,topSchemaRef:I,compositeRule:!0},M),m.pass(M,()=>m.error(!0))}Ss.macroKeywordCode=i;function a(m,y){var _;const{gen:b,keyword:S,schema:x,parentSchema:E,$data:A,it:I}=m;l(I,y);const M=!A&&y.compile?y.compile.call(I.self,x,E,I):y.validate,D=f(b,S,M),j=b.let("valid");m.block$data(j,Q),m.ok((_=y.valid)!==null&&_!==void 0?_:j);function Q(){if(y.errors===!1)Z(),y.modifying&&s(m),fe(()=>m.error());else{const te=y.async?Y():q();y.modifying&&s(m),fe(()=>o(m,te))}}function Y(){const te=b.let("ruleErrs",null);return b.try(()=>Z((0,t._)`await `),oe=>b.assign(j,!1).if((0,t._)`${oe} instanceof ${I.ValidationError}`,()=>b.assign(te,(0,t._)`${oe}.errors`),()=>b.throw(oe))),te}function q(){const te=(0,t._)`${D}.errors`;return b.assign(te,null),Z(t.nil),te}function Z(te=y.async?(0,t._)`await `:t.nil){const oe=I.opts.passContext?e.default.this:e.default.self,ge=!("compile"in y&&!A||y.schema===!1);b.assign(j,(0,t._)`${te}${(0,n.callValidateCode)(m,D,oe,ge)}`,y.modifying)}function fe(te){var oe;b.if((0,t.not)((oe=y.valid)!==null&&oe!==void 0?oe:j),te)}}Ss.funcKeywordCode=a;function s(m){const{gen:y,data:_,it:b}=m;y.if(b.parentData,()=>y.assign(_,(0,t._)`${b.parentData}[${b.parentDataProperty}]`))}function o(m,y){const{gen:_}=m;_.if((0,t._)`Array.isArray(${y})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${y} : ${e.default.vErrors}.concat(${y})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,y,_){if(_===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function h(m,y,_=!1){return!y.length||y.some(b=>b==="array"?Array.isArray(m):b==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==b||_&&typeof m>"u")}Ss.validSchemaType=h;function p({schema:m,opts:y,self:_,errSchemaPath:b},S,x){if(Array.isArray(S.keyword)?!S.keyword.includes(x):S.keyword!==x)throw new Error("ajv implementation error");const E=S.dependencies;if(E!=null&&E.some(A=>!Object.prototype.hasOwnProperty.call(m,A)))throw new Error(`parent schema must have dependencies of ${x}: ${E.join(",")}`);if(S.validateSchema&&!S.validateSchema(m[x])){const I=`keyword "${x}" value is invalid at path "${b}": `+_.errorsText(S.validateSchema.errors);if(y.validateSchema==="log")_.logger.error(I);else throw new Error(I)}}return Ss.validateKeywordUsage=p,Ss}var Jo={},$6;function xTe(){if($6)return Jo;$6=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.extendSubschemaMode=Jo.extendSubschemaData=Jo.getSubschema=void 0;const t=On(),e=Vn();function n(a,{keyword:s,schemaProp:o,schema:l,schemaPath:f,errSchemaPath:h,topSchemaRef:p}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return o===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[o],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,e.escapeFragment)(o)}`}}if(l!==void 0){if(f===void 0||h===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:p,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}Jo.getSubschema=n;function r(a,s,{dataProp:o,dataPropType:l,data:f,dataTypes:h,propertyName:p}){if(f!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(o!==void 0){const{errorPath:_,dataPathArr:b,opts:S}=s,x=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(o)}`,!0);y(x),a.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(o,l,S.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${o}`,a.dataPathArr=[...b,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);y(_),p!==void 0&&(a.propertyName=p)}h&&(a.dataTypes=h);function y(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}Jo.extendSubschemaData=r;function i(a,{jtdDiscriminator:s,jtdMetadata:o,compositeRule:l,createErrors:f,allErrors:h}){l!==void 0&&(a.compositeRule=l),f!==void 0&&(a.createErrors=f),h!==void 0&&(a.allErrors=h),a.jtdDiscriminator=s,a.jtdMetadata=o}return Jo.extendSubschemaMode=i,Jo}var ea={},H2,U6;function Hz(){return U6||(U6=1,H2=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}),H2}var V2={exports:{}},B6;function ETe(){if(B6)return V2.exports;B6=1;var t=V2.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var s=typeof a=="function"?a:a.pre||function(){},o=a.post||function(){};e(i,s,o,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,a,s,o,l,f,h,p,m){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,o,l,f,h,p,m);for(var y in s){var _=s[y];if(Array.isArray(_)){if(y in t.arrayKeywords)for(var b=0;b<_.length;b++)e(r,i,a,_[b],o+"/"+y+"/"+b,l,o,y,s,b)}else if(y in t.propsKeywords){if(_&&typeof _=="object")for(var S in _)e(r,i,a,_[S],o+"/"+y+"/"+n(S),l,o,y,s,S)}else(y in t.keywords||r.allKeys&&!(y in t.skipKeywords))&&e(r,i,a,_,o+"/"+y,l,o,y,s)}a(s,o,l,f,h,p,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return V2.exports}var q6;function hw(){if(q6)return ea;q6=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.getSchemaRefs=ea.resolveUrl=ea.normalizeId=ea._getFullPath=ea.getFullPath=ea.inlineRef=void 0;const t=Vn(),e=Hz(),n=ETe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(b,S=!0){return typeof b=="boolean"?!0:S===!0?!s(b):S?o(b)<=S:!1}ea.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(b){for(const S in b){if(a.has(S))return!0;const x=b[S];if(Array.isArray(x)&&x.some(s)||typeof x=="object"&&s(x))return!0}return!1}function o(b){let S=0;for(const x in b){if(x==="$ref")return 1/0;if(S++,!r.has(x)&&(typeof b[x]=="object"&&(0,t.eachItem)(b[x],E=>S+=o(E)),S===1/0))return 1/0}return S}function l(b,S="",x){x!==!1&&(S=p(S));const E=b.parse(S);return f(b,E)}ea.getFullPath=l;function f(b,S){return b.serialize(S).split("#")[0]+"#"}ea._getFullPath=f;const h=/#\/?$/;function p(b){return b?b.replace(h,""):""}ea.normalizeId=p;function m(b,S,x){return x=p(x),b.resolve(S,x)}ea.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function _(b,S){if(typeof b=="boolean")return{};const{schemaId:x,uriResolver:E}=this.opts,A=p(b[x]||S),I={"":A},M=l(E,A,!1),D={},j=new Set;return n(b,{allKeys:!0},(q,Z,fe,te)=>{if(te===void 0)return;const oe=M+Z;let ge=I[te];typeof q[x]=="string"&&(ge=_e.call(this,q[x])),le.call(this,q.$anchor),le.call(this,q.$dynamicAnchor),I[Z]=ge;function _e(ce){const Le=this.opts.uriResolver.resolve;if(ce=p(ge?Le(ge,ce):ce),j.has(ce))throw Y(ce);j.add(ce);let k=this.refs[ce];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(q,k.schema,ce):ce!==p(oe)&&(ce[0]==="#"?(Q(q,D[ce],ce),D[ce]=q):this.refs[ce]=oe),ce}function le(ce){if(typeof ce=="string"){if(!y.test(ce))throw new Error(`invalid anchor "${ce}"`);_e.call(this,`#${ce}`)}}}),D;function Q(q,Z,fe){if(Z!==void 0&&!e(q,Z))throw Y(fe)}function Y(q){return new Error(`reference "${q}" resolves to more than one schema`)}}return ea.getSchemaRefs=_,ea}var z6;function Lm(){if(z6)return Qo;z6=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.getData=Qo.KeywordCxt=Qo.validateFunctionCode=void 0;const t=wTe(),e=g0(),n=zz(),r=g0(),i=bTe(),a=STe(),s=xTe(),o=On(),l=_u(),f=hw(),h=Vn(),p=Om();function m(ie){if(M(ie)&&(j(ie),I(ie))){S(ie);return}y(ie,()=>(0,t.topBoolOrEmptySchema)(ie))}Qo.validateFunctionCode=m;function y({gen:ie,validateName:z,schema:$,schemaEnv:re,opts:W},he){W.code.es5?ie.func(z,(0,o._)`${l.default.data}, ${l.default.valCxt}`,re.$async,()=>{ie.code((0,o._)`"use strict"; ${E($,W)}`),b(ie,W),ie.code(he)}):ie.func(z,(0,o._)`${l.default.data}, ${_(W)}`,re.$async,()=>ie.code(E($,W)).code(he))}function _(ie){return(0,o._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ie.dynamicRef?(0,o._)`, ${l.default.dynamicAnchors}={}`:o.nil}}={}`}function b(ie,z){ie.if(l.default.valCxt,()=>{ie.var(l.default.instancePath,(0,o._)`${l.default.valCxt}.${l.default.instancePath}`),ie.var(l.default.parentData,(0,o._)`${l.default.valCxt}.${l.default.parentData}`),ie.var(l.default.parentDataProperty,(0,o._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ie.var(l.default.rootData,(0,o._)`${l.default.valCxt}.${l.default.rootData}`),z.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,o._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ie.var(l.default.instancePath,(0,o._)`""`),ie.var(l.default.parentData,(0,o._)`undefined`),ie.var(l.default.parentDataProperty,(0,o._)`undefined`),ie.var(l.default.rootData,l.default.data),z.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,o._)`{}`)})}function S(ie){const{schema:z,opts:$,gen:re}=ie;y(ie,()=>{$.$comment&&z.$comment&&te(ie),q(ie),re.let(l.default.vErrors,null),re.let(l.default.errors,0),$.unevaluated&&x(ie),Q(ie),oe(ie)})}function x(ie){const{gen:z,validateName:$}=ie;ie.evaluated=z.const("evaluated",(0,o._)`${$}.evaluated`),z.if((0,o._)`${ie.evaluated}.dynamicProps`,()=>z.assign((0,o._)`${ie.evaluated}.props`,(0,o._)`undefined`)),z.if((0,o._)`${ie.evaluated}.dynamicItems`,()=>z.assign((0,o._)`${ie.evaluated}.items`,(0,o._)`undefined`))}function E(ie,z){const $=typeof ie=="object"&&ie[z.schemaId];return $&&(z.code.source||z.code.process)?(0,o._)`/*# sourceURL=${$} */`:o.nil}function A(ie,z){if(M(ie)&&(j(ie),I(ie))){D(ie,z);return}(0,t.boolOrEmptySchema)(ie,z)}function I({schema:ie,self:z}){if(typeof ie=="boolean")return!ie;for(const $ in ie)if(z.RULES.all[$])return!0;return!1}function M(ie){return typeof ie.schema!="boolean"}function D(ie,z){const{schema:$,gen:re,opts:W}=ie;W.$comment&&$.$comment&&te(ie),Z(ie),fe(ie);const he=re.const("_errs",l.default.errors);Q(ie,he),re.var(z,(0,o._)`${he} === ${l.default.errors}`)}function j(ie){(0,h.checkUnknownRules)(ie),Y(ie)}function Q(ie,z){if(ie.opts.jtd)return _e(ie,[],!1,z);const $=(0,e.getSchemaTypes)(ie.schema),re=(0,e.coerceAndCheckDataType)(ie,$);_e(ie,$,!re,z)}function Y(ie){const{schema:z,errSchemaPath:$,opts:re,self:W}=ie;z.$ref&&re.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(z,W.RULES)&&W.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function q(ie){const{schema:z,opts:$}=ie;z.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,h.checkStrictMode)(ie,"default is ignored in the schema root")}function Z(ie){const z=ie.schema[ie.opts.schemaId];z&&(ie.baseId=(0,f.resolveUrl)(ie.opts.uriResolver,ie.baseId,z))}function fe(ie){if(ie.schema.$async&&!ie.schemaEnv.$async)throw new Error("async schema in sync schema")}function te({gen:ie,schemaEnv:z,schema:$,errSchemaPath:re,opts:W}){const he=$.$comment;if(W.$comment===!0)ie.code((0,o._)`${l.default.self}.logger.log(${he})`);else if(typeof W.$comment=="function"){const ye=(0,o.str)`${re}/$comment`,He=ie.scopeValue("root",{ref:z.root});ie.code((0,o._)`${l.default.self}.opts.$comment(${he}, ${ye}, ${He}.schema)`)}}function oe(ie){const{gen:z,schemaEnv:$,validateName:re,ValidationError:W,opts:he}=ie;$.$async?z.if((0,o._)`${l.default.errors} === 0`,()=>z.return(l.default.data),()=>z.throw((0,o._)`new ${W}(${l.default.vErrors})`)):(z.assign((0,o._)`${re}.errors`,l.default.vErrors),he.unevaluated&&ge(ie),z.return((0,o._)`${l.default.errors} === 0`))}function ge({gen:ie,evaluated:z,props:$,items:re}){$ instanceof o.Name&&ie.assign((0,o._)`${z}.props`,$),re instanceof o.Name&&ie.assign((0,o._)`${z}.items`,re)}function _e(ie,z,$,re){const{gen:W,schema:he,data:ye,allErrors:He,opts:Te,self:Ne}=ie,{RULES:tt}=Ne;if(he.$ref&&(Te.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(he,tt))){W.block(()=>Je(ie,"$ref",tt.all.$ref.definition));return}Te.jtd||ce(ie,z),W.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(he,gt)&&(gt.type?(W.if((0,r.checkDataType)(gt.type,ye,Te.strictNumbers)),le(ie,gt),z.length===1&&z[0]===gt.type&&$&&(W.else(),(0,r.reportTypeError)(ie)),W.endIf()):le(ie,gt),He||W.if((0,o._)`${l.default.errors} === ${re||0}`))}}function le(ie,z){const{gen:$,schema:re,opts:{useDefaults:W}}=ie;W&&(0,i.assignDefaults)(ie,z.type),$.block(()=>{for(const he of z.rules)(0,n.shouldUseRule)(re,he)&&Je(ie,he.keyword,he.definition,z.type)})}function ce(ie,z){ie.schemaEnv.meta||!ie.opts.strictTypes||(Le(ie,z),ie.opts.allowUnionTypes||k(ie,z),ne(ie,ie.dataTypes))}function Le(ie,z){if(z.length){if(!ie.dataTypes.length){ie.dataTypes=z;return}z.forEach($=>{H(ie.dataTypes,$)||pe(ie,`type "${$}" not allowed by context "${ie.dataTypes.join(",")}"`)}),J(ie,z)}}function k(ie,z){z.length>1&&!(z.length===2&&z.includes("null"))&&pe(ie,"use allowUnionTypes to allow union type keyword")}function ne(ie,z){const $=ie.self.RULES.all;for(const re in $){const W=$[re];if(typeof W=="object"&&(0,n.shouldUseRule)(ie.schema,W)){const{type:he}=W.definition;he.length&&!he.some(ye=>me(z,ye))&&pe(ie,`missing type "${he.join(",")}" for keyword "${re}"`)}}}function me(ie,z){return ie.includes(z)||z==="number"&&ie.includes("integer")}function H(ie,z){return ie.includes(z)||z==="integer"&&ie.includes("number")}function J(ie,z){const $=[];for(const re of ie.dataTypes)H(z,re)?$.push(re):z.includes("integer")&&re==="number"&&$.push("integer");ie.dataTypes=$}function pe(ie,z){const $=ie.schemaEnv.baseId+ie.errSchemaPath;z+=` at "${$}" (strictTypes)`,(0,h.checkStrictMode)(ie,z,ie.opts.strictTypes)}class Ae{constructor(z,$,re){if((0,a.validateKeywordUsage)(z,$,re),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=re,this.data=z.data,this.schema=z.schema[re],this.$data=$.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(z,this.schema,re,this.$data),this.schemaType=$.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=$,this.$data)this.schemaCode=z.gen.const("vSchema",Xe(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${re} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=z.gen.const("_errs",l.default.errors))}result(z,$,re){this.failResult((0,o.not)(z),$,re)}failResult(z,$,re){this.gen.if(z),re?re():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,$){this.failResult((0,o.not)(z),void 0,$)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:$}=this;this.fail((0,o._)`${$} !== undefined && (${(0,o.or)(this.invalid$data(),z)})`)}error(z,$,re){if($){this.setParams($),this._error(z,re),this.setParams({});return}this._error(z,re)}_error(z,$){(z?p.reportExtraError:p.reportError)(this,this.def.error,$)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,$){$?Object.assign(this.params,z):this.params=z}block$data(z,$,re=o.nil){this.gen.block(()=>{this.check$data(z,re),$()})}check$data(z=o.nil,$=o.nil){if(!this.$data)return;const{gen:re,schemaCode:W,schemaType:he,def:ye}=this;re.if((0,o.or)((0,o._)`${W} === undefined`,$)),z!==o.nil&&re.assign(z,!0),(he.length||ye.validateSchema)&&(re.elseIf(this.invalid$data()),this.$dataError(),z!==o.nil&&re.assign(z,!1)),re.else()}invalid$data(){const{gen:z,schemaCode:$,schemaType:re,def:W,it:he}=this;return(0,o.or)(ye(),He());function ye(){if(re.length){if(!($ instanceof o.Name))throw new Error("ajv implementation error");const Te=Array.isArray(re)?re:[re];return(0,o._)`${(0,r.checkDataTypes)(Te,$,he.opts.strictNumbers,r.DataType.Wrong)}`}return o.nil}function He(){if(W.validateSchema){const Te=z.scopeValue("validate$data",{ref:W.validateSchema});return(0,o._)`!${Te}(${$})`}return o.nil}}subschema(z,$){const re=(0,s.getSubschema)(this.it,z);(0,s.extendSubschemaData)(re,this.it,z),(0,s.extendSubschemaMode)(re,z);const W={...this.it,...re,items:void 0,props:void 0};return A(W,$),W}mergeEvaluated(z,$){const{it:re,gen:W}=this;re.opts.unevaluated&&(re.props!==!0&&z.props!==void 0&&(re.props=h.mergeEvaluated.props(W,z.props,re.props,$)),re.items!==!0&&z.items!==void 0&&(re.items=h.mergeEvaluated.items(W,z.items,re.items,$)))}mergeValidEvaluated(z,$){const{it:re,gen:W}=this;if(re.opts.unevaluated&&(re.props!==!0||re.items!==!0))return W.if($,()=>this.mergeEvaluated(z,o.Name)),!0}}Qo.KeywordCxt=Ae;function Je(ie,z,$,re){const W=new Ae(ie,$,z);"code"in $?$.code(W,re):W.$data&&$.validate?(0,a.funcKeywordCode)(W,$):"macro"in $?(0,a.macroKeywordCode)(W,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(W,$)}const Re=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(ie,{dataLevel:z,dataNames:$,dataPathArr:re}){let W,he;if(ie==="")return l.default.rootData;if(ie[0]==="/"){if(!Re.test(ie))throw new Error(`Invalid JSON-pointer: ${ie}`);W=ie,he=l.default.rootData}else{const Ne=Fe.exec(ie);if(!Ne)throw new Error(`Invalid JSON-pointer: ${ie}`);const tt=+Ne[1];if(W=Ne[2],W==="#"){if(tt>=z)throw new Error(Te("property/index",tt));return re[z-tt]}if(tt>z)throw new Error(Te("data",tt));if(he=$[z-tt],!W)return he}let ye=he;const He=W.split("/");for(const Ne of He)Ne&&(he=(0,o._)`${he}${(0,o.getProperty)((0,h.unescapeJsonPointer)(Ne))}`,ye=(0,o._)`${ye} && ${he}`);return ye;function Te(Ne,tt){return`Cannot access ${Ne} ${tt} levels up, current level is ${z}`}}return Qo.getData=Xe,Qo}var Rv={},H6;function cP(){if(H6)return Rv;H6=1,Object.defineProperty(Rv,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Rv.default=t,Rv}var Pv={},V6;function fP(){if(V6)return Pv;V6=1,Object.defineProperty(Pv,"__esModule",{value:!0});const t=hw();class e extends Error{constructor(r,i,a,s){super(s||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,a),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Pv.default=e,Pv}var Da={},K6;function dP(){if(K6)return Da;K6=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.resolveSchema=Da.getCompilingSchema=Da.resolveRef=Da.compileSchema=Da.SchemaEnv=void 0;const t=On(),e=cP(),n=_u(),r=hw(),i=Vn(),a=Lm();class s{constructor(x){var E;this.refs={},this.dynamicAnchors={};let A;typeof x.schema=="object"&&(A=x.schema),this.schema=x.schema,this.schemaId=x.schemaId,this.root=x.root||this,this.baseId=(E=x.baseId)!==null&&E!==void 0?E:(0,r.normalizeId)(A==null?void 0:A[x.schemaId||"$id"]),this.schemaPath=x.schemaPath,this.localRefs=x.localRefs,this.meta=x.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}Da.SchemaEnv=s;function o(S){const x=h.call(this,S);if(x)return x;const E=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:A,lines:I}=this.opts.code,{ownProperties:M}=this.opts,D=new t.CodeGen(this.scope,{es5:A,lines:I,ownProperties:M});let j;S.$async&&(j=D.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");S.validateName=Q;const Y={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,t.stringify)(S.schema)}:{ref:S.schema}),validateName:Q,ValidationError:j,schema:S.schema,schemaEnv:S,rootId:E,baseId:S.baseId||E,schemaPath:t.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let q;try{this._compilations.add(S),(0,a.validateFunctionCode)(Y),D.optimize(this.opts.code.optimize);const Z=D.toString();q=`${D.scopeRefs(n.default.scope)}return ${Z}`,this.opts.code.process&&(q=this.opts.code.process(q,S));const te=new Function(`${n.default.self}`,`${n.default.scope}`,q)(this,this.scope.get());if(this.scope.value(Q,{ref:te}),te.errors=null,te.schema=S.schema,te.schemaEnv=S,S.$async&&(te.$async=!0),this.opts.code.source===!0&&(te.source={validateName:Q,validateCode:Z,scopeValues:D._values}),this.opts.unevaluated){const{props:oe,items:ge}=Y;te.evaluated={props:oe instanceof t.Name?void 0:oe,items:ge instanceof t.Name?void 0:ge,dynamicProps:oe instanceof t.Name,dynamicItems:ge instanceof t.Name},te.source&&(te.source.evaluated=(0,t.stringify)(te.evaluated))}return S.validate=te,S}catch(Z){throw delete S.validate,delete S.validateName,q&&this.logger.error("Error compiling schema, function code:",q),Z}finally{this._compilations.delete(S)}}Da.compileSchema=o;function l(S,x,E){var A;E=(0,r.resolveUrl)(this.opts.uriResolver,x,E);const I=S.refs[E];if(I)return I;let M=m.call(this,S,E);if(M===void 0){const D=(A=S.localRefs)===null||A===void 0?void 0:A[E],{schemaId:j}=this.opts;D&&(M=new s({schema:D,schemaId:j,root:S,baseId:x}))}if(M!==void 0)return S.refs[E]=f.call(this,M)}Da.resolveRef=l;function f(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:o.call(this,S)}function h(S){for(const x of this._compilations)if(p(x,S))return x}Da.getCompilingSchema=h;function p(S,x){return S.schema===x.schema&&S.root===x.root&&S.baseId===x.baseId}function m(S,x){let E;for(;typeof(E=this.refs[x])=="string";)x=E;return E||this.schemas[x]||y.call(this,S,x)}function y(S,x){const E=this.opts.uriResolver.parse(x),A=(0,r._getFullPath)(this.opts.uriResolver,E);let I=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&A===I)return b.call(this,E,S);const M=(0,r.normalizeId)(A),D=this.refs[M]||this.schemas[M];if(typeof D=="string"){const j=y.call(this,S,D);return typeof(j==null?void 0:j.schema)!="object"?void 0:b.call(this,E,j)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||o.call(this,D),M===(0,r.normalizeId)(x)){const{schema:j}=D,{schemaId:Q}=this.opts,Y=j[Q];return Y&&(I=(0,r.resolveUrl)(this.opts.uriResolver,I,Y)),new s({schema:j,schemaId:Q,root:S,baseId:I})}return b.call(this,E,D)}}Da.resolveSchema=y;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(S,{baseId:x,schema:E,root:A}){var I;if(((I=S.fragment)===null||I===void 0?void 0:I[0])!=="/")return;for(const j of S.fragment.slice(1).split("/")){if(typeof E=="boolean")return;const Q=E[(0,i.unescapeFragment)(j)];if(Q===void 0)return;E=Q;const Y=typeof E=="object"&&E[this.opts.schemaId];!_.has(j)&&Y&&(x=(0,r.resolveUrl)(this.opts.uriResolver,x,Y))}let M;if(typeof E!="boolean"&&E.$ref&&!(0,i.schemaHasRulesButRef)(E,this.RULES)){const j=(0,r.resolveUrl)(this.opts.uriResolver,x,E.$ref);M=y.call(this,A,j)}const{schemaId:D}=this.opts;if(M=M||new s({schema:E,schemaId:D,root:A,baseId:x}),M.schema!==M.root.schema)return M}return Da}const TTe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",CTe="Meta-schema for $data reference (JSON AnySchema extension proposal)",ATe="object",RTe=["$data"],PTe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},OTe=!1,LTe={$id:TTe,description:CTe,type:ATe,required:RTe,properties:PTe,additionalProperties:OTe};var Ov={},bg={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var ITe=bg.exports,G6;function MTe(){return G6||(G6=1,function(t,e){(function(n,r){r(e)})(ITe,function(n){function r(){for(var We=arguments.length,Ee=Array(We),et=0;et<We;et++)Ee[et]=arguments[et];if(Ee.length>1){Ee[0]=Ee[0].slice(0,-1);for(var ft=Ee.length-1,it=1;it<ft;++it)Ee[it]=Ee[it].slice(1,-1);return Ee[ft]=Ee[ft].slice(1),Ee.join("")}else return Ee[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function s(We){return We.toUpperCase()}function o(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,Ee){var et=We;if(Ee)for(var ft in Ee)et[ft]=Ee[ft];return et}function f(We){var Ee="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Et="[\\:\\/\\?\\#\\[\\]\\@]",It="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Vt=r(Et,It),Yt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qt=We?"[\\uE000-\\uF8FF]":"[]",Nt=r(Ee,et,"[\\-\\.\\_\\~]",Yt);i(Ee+r(Ee,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(Nt,It,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Rn=i(en+"\\."+en+"\\."+en+"\\."+en),Kt=i(ft+"{1,4}"),Qt=i(i(Kt+"\\:"+Kt)+"|"+Rn),xn=i(i(Kt+"\\:")+"{6}"+Qt),En=i("\\:\\:"+i(Kt+"\\:")+"{5}"+Qt),Un=i(i(Kt)+"?\\:\\:"+i(Kt+"\\:")+"{4}"+Qt),Tr=i(i(i(Kt+"\\:")+"{0,1}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{3}"+Qt),Ur=i(i(i(Kt+"\\:")+"{0,2}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{2}"+Qt),Br=i(i(i(Kt+"\\:")+"{0,3}"+Kt)+"?\\:\\:"+Kt+"\\:"+Qt),Rr=i(i(i(Kt+"\\:")+"{0,4}"+Kt)+"?\\:\\:"+Qt),Nn=i(i(i(Kt+"\\:")+"{0,5}"+Kt)+"?\\:\\:"+Kt),Wr=i(i(i(Kt+"\\:")+"{0,6}"+Kt)+"?\\:\\:"),Bi=i([xn,En,Un,Tr,Ur,Br,Rr,Nn,Wr].join("|")),C=i(i(Nt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(Nt,It,"[\\:]")+"+"),i(i(it+"|"+r(Nt,It))+"*");var T=i(it+"|"+r(Nt,It,"[\\:\\@]"));return i(i(it+"|"+r(Nt,It,"[\\@]"))+"+"),i(i(T+"|"+r("[\\/\\?]",qt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ee,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Nt,It),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Nt,It),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Nt,It),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Nt,It),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Nt,It,"[\\:\\@\\/\\?]",qt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Nt,It,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Nt,It),"g"),UNRESERVED:new RegExp(Nt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Nt,Vt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Rn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Bi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+C+")")+"?\\]?$")}}var h=f(!1),p=f(!0),m=function(){function We(Ee,et){var ft=[],it=!0,Et=!1,It=void 0;try{for(var Vt=Ee[Symbol.iterator](),Yt;!(it=(Yt=Vt.next()).done)&&(ft.push(Yt.value),!(et&&ft.length===et));it=!0);}catch(qt){Et=!0,It=qt}finally{try{!it&&Vt.return&&Vt.return()}finally{if(Et)throw It}}return ft}return function(Ee,et){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return We(Ee,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ee=0,et=Array(We.length);Ee<We.length;Ee++)et[Ee]=We[Ee];return et}else return Array.from(We)},_=2147483647,b=36,S=1,x=26,E=38,A=700,I=72,M=128,D="-",j=/^xn--/,Q=/[^\0-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=b-S,fe=Math.floor,te=String.fromCharCode;function oe(We){throw new RangeError(q[We])}function ge(We,Ee){for(var et=[],ft=We.length;ft--;)et[ft]=Ee(We[ft]);return et}function _e(We,Ee){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(Y,".");var it=We.split("."),Et=ge(it,Ee).join(".");return ft+Et}function le(We){for(var Ee=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Et=We.charCodeAt(et++);(Et&64512)==56320?Ee.push(((it&1023)<<10)+(Et&1023)+65536):(Ee.push(it),et--)}else Ee.push(it)}return Ee}var ce=function(Ee){return String.fromCodePoint.apply(String,y(Ee))},Le=function(Ee){return Ee-48<10?Ee-22:Ee-65<26?Ee-65:Ee-97<26?Ee-97:b},k=function(Ee,et){return Ee+22+75*(Ee<26)-((et!=0)<<5)},ne=function(Ee,et,ft){var it=0;for(Ee=ft?fe(Ee/A):Ee>>1,Ee+=fe(Ee/et);Ee>Z*x>>1;it+=b)Ee=fe(Ee/Z);return fe(it+(Z+1)*Ee/(Ee+E))},me=function(Ee){var et=[],ft=Ee.length,it=0,Et=M,It=I,Vt=Ee.lastIndexOf(D);Vt<0&&(Vt=0);for(var Yt=0;Yt<Vt;++Yt)Ee.charCodeAt(Yt)>=128&&oe("not-basic"),et.push(Ee.charCodeAt(Yt));for(var qt=Vt>0?Vt+1:0;qt<ft;){for(var Nt=it,en=1,Rn=b;;Rn+=b){qt>=ft&&oe("invalid-input");var Kt=Le(Ee.charCodeAt(qt++));(Kt>=b||Kt>fe((_-it)/en))&&oe("overflow"),it+=Kt*en;var Qt=Rn<=It?S:Rn>=It+x?x:Rn-It;if(Kt<Qt)break;var xn=b-Qt;en>fe(_/xn)&&oe("overflow"),en*=xn}var En=et.length+1;It=ne(it-Nt,En,Nt==0),fe(it/En)>_-Et&&oe("overflow"),Et+=fe(it/En),it%=En,et.splice(it++,0,Et)}return String.fromCodePoint.apply(String,et)},H=function(Ee){var et=[];Ee=le(Ee);var ft=Ee.length,it=M,Et=0,It=I,Vt=!0,Yt=!1,qt=void 0;try{for(var Nt=Ee[Symbol.iterator](),en;!(Vt=(en=Nt.next()).done);Vt=!0){var Rn=en.value;Rn<128&&et.push(te(Rn))}}catch(Pe){Yt=!0,qt=Pe}finally{try{!Vt&&Nt.return&&Nt.return()}finally{if(Yt)throw qt}}var Kt=et.length,Qt=Kt;for(Kt&&et.push(D);Qt<ft;){var xn=_,En=!0,Un=!1,Tr=void 0;try{for(var Ur=Ee[Symbol.iterator](),Br;!(En=(Br=Ur.next()).done);En=!0){var Rr=Br.value;Rr>=it&&Rr<xn&&(xn=Rr)}}catch(Pe){Un=!0,Tr=Pe}finally{try{!En&&Ur.return&&Ur.return()}finally{if(Un)throw Tr}}var Nn=Qt+1;xn-it>fe((_-Et)/Nn)&&oe("overflow"),Et+=(xn-it)*Nn,it=xn;var Wr=!0,Bi=!1,C=void 0;try{for(var T=Ee[Symbol.iterator](),R;!(Wr=(R=T.next()).done);Wr=!0){var N=R.value;if(N<it&&++Et>_&&oe("overflow"),N==it){for(var G=Et,se=b;;se+=b){var we=se<=It?S:se>=It+x?x:se-It;if(G<we)break;var Ie=G-we,xe=b-we;et.push(te(k(we+Ie%xe,0))),G=fe(Ie/xe)}et.push(te(k(G,0))),It=ne(Et,Nn,Qt==Kt),Et=0,++Qt}}}catch(Pe){Bi=!0,C=Pe}finally{try{!Wr&&T.return&&T.return()}finally{if(Bi)throw C}}++Et,++it}return et.join("")},J=function(Ee){return _e(Ee,function(et){return j.test(et)?me(et.slice(4).toLowerCase()):et})},pe=function(Ee){return _e(Ee,function(et){return Q.test(et)?"xn--"+H(et):et})},Ae={version:"2.1.0",ucs2:{decode:le,encode:ce},decode:me,encode:H,toASCII:pe,toUnicode:J},Je={};function Re(We){var Ee=We.charCodeAt(0),et=void 0;return Ee<16?et="%0"+Ee.toString(16).toUpperCase():Ee<128?et="%"+Ee.toString(16).toUpperCase():Ee<2048?et="%"+(Ee>>6|192).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase():et="%"+(Ee>>12|224).toString(16).toUpperCase()+"%"+(Ee>>6&63|128).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase(),et}function Fe(We){for(var Ee="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ee+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Et=parseInt(We.substr(et+4,2),16);Ee+=String.fromCharCode((it&31)<<6|Et&63)}else Ee+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var It=parseInt(We.substr(et+4,2),16),Vt=parseInt(We.substr(et+7,2),16);Ee+=String.fromCharCode((it&15)<<12|(It&63)<<6|Vt&63)}else Ee+=We.substr(et,9);et+=9}else Ee+=We.substr(et,3),et+=3}return Ee}function Xe(We,Ee){function et(ft){var it=Fe(ft);return it.match(Ee.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_USERINFO,Re).replace(Ee.PCT_ENCODED,s)),We.host!==void 0&&(We.host=String(We.host).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_HOST,Re).replace(Ee.PCT_ENCODED,s)),We.path!==void 0&&(We.path=String(We.path).replace(Ee.PCT_ENCODED,et).replace(We.scheme?Ee.NOT_PATH:Ee.NOT_PATH_NOSCHEME,Re).replace(Ee.PCT_ENCODED,s)),We.query!==void 0&&(We.query=String(We.query).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_QUERY,Re).replace(Ee.PCT_ENCODED,s)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_FRAGMENT,Re).replace(Ee.PCT_ENCODED,s)),We}function ie(We){return We.replace(/^0*(.*)/,"$1")||"0"}function z(We,Ee){var et=We.match(Ee.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(ie).join("."):We}function $(We,Ee){var et=We.match(Ee.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Et=ft[2];if(it){for(var It=it.toLowerCase().split("::").reverse(),Vt=m(It,2),Yt=Vt[0],qt=Vt[1],Nt=qt?qt.split(":").map(ie):[],en=Yt.split(":").map(ie),Rn=Ee.IPV4ADDRESS.test(en[en.length-1]),Kt=Rn?7:8,Qt=en.length-Kt,xn=Array(Kt),En=0;En<Kt;++En)xn[En]=Nt[En]||en[Qt+En]||"";Rn&&(xn[Kt-1]=z(xn[Kt-1],Ee));var Un=xn.reduce(function(Nn,Wr,Bi){if(!Wr||Wr==="0"){var C=Nn[Nn.length-1];C&&C.index+C.length===Bi?C.length++:Nn.push({index:Bi,length:1})}return Nn},[]),Tr=Un.sort(function(Nn,Wr){return Wr.length-Nn.length})[0],Ur=void 0;if(Tr&&Tr.length>1){var Br=xn.slice(0,Tr.index),Rr=xn.slice(Tr.index+Tr.length);Ur=Br.join(":")+"::"+Rr.join(":")}else Ur=xn.join(":");return Et&&(Ur+="%"+Et),Ur}else return We}var re=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W="".match(/(){0}/)[1]===void 0;function he(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ee.iri!==!1?p:h;Ee.reference==="suffix"&&(We=(Ee.scheme?Ee.scheme+":":"")+"//"+We);var it=We.match(re);if(it){W?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(z(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ee.reference&&Ee.reference!=="suffix"&&Ee.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ee.reference+" reference.");var Et=Je[(Ee.scheme||et.scheme||"").toLowerCase()];if(!Ee.unicodeSupport&&(!Et||!Et.unicodeSupport)){if(et.host&&(Ee.domainHost||Et&&Et.domainHost))try{et.host=Ae.toASCII(et.host.replace(ft.PCT_ENCODED,Fe).toLowerCase())}catch(It){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+It}Xe(et,h)}else Xe(et,ft);Et&&Et.parse&&Et.parse(et,Ee)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ee){var et=Ee.iri!==!1?p:h,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(z(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Et,It){return"["+Et+(It?"%25"+It:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Te=/^\/\.(\/|$)/,Ne=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ee=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Te))We=We.replace(Te,"/");else if(We.match(Ne))We=We.replace(Ne,"/"),Ee.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ee.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ee.join("")}function gt(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ee.iri?p:h,ft=[],it=Je[(Ee.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ee),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ee.domainHost||it&&it.domainHost)try{We.host=Ee.iri?Ae.toUnicode(We.host):Ae.toASCII(We.host.replace(et.PCT_ENCODED,Fe).toLowerCase())}catch(Vt){We.error=We.error||"Host's domain name can not be converted to "+(Ee.iri?"Unicode":"ASCII")+" via punycode: "+Vt}}Xe(We,et),Ee.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Et=ye(We,Ee);if(Et!==void 0&&(Ee.reference!=="suffix"&&ft.push("//"),ft.push(Et),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var It=We.path;!Ee.absolutePath&&(!it||!it.absolutePath)&&(It=nt(It)),Et===void 0&&(It=It.replace(/^\/\//,"/%2F")),ft.push(It)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function Ut(We,Ee){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=he(gt(We,et),et),Ee=he(gt(Ee,et),et)),et=et||{},!et.tolerant&&Ee.scheme?(it.scheme=Ee.scheme,it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.userinfo!==void 0||Ee.host!==void 0||Ee.port!==void 0?(it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.path?(Ee.path.charAt(0)==="/"?it.path=nt(Ee.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ee.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ee.path:it.path=Ee.path,it.path=nt(it.path)),it.query=Ee.query):(it.path=We.path,Ee.query!==void 0?it.query=Ee.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ee.fragment,it}function Se(We,Ee,et){var ft=l({scheme:"null"},et);return gt(Ut(he(We,ft),he(Ee,ft),ft,!0),ft)}function Be(We,Ee){return typeof We=="string"?We=gt(he(We,Ee),Ee):a(We)==="object"&&(We=he(gt(We,Ee),Ee)),We}function X(We,Ee,et){return typeof We=="string"?We=gt(he(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ee=="string"?Ee=gt(he(Ee,et),et):a(Ee)==="object"&&(Ee=gt(Ee,et)),We===Ee}function B(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.ESCAPE:p.ESCAPE,Re)}function K(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.PCT_ENCODED:p.PCT_ENCODED,Fe)}var V={scheme:"http",domainHost:!0,parse:function(Ee,et){return Ee.host||(Ee.error=Ee.error||"HTTP URIs must have a host."),Ee},serialize:function(Ee,et){var ft=String(Ee.scheme).toLowerCase()==="https";return(Ee.port===(ft?443:80)||Ee.port==="")&&(Ee.port=void 0),Ee.path||(Ee.path="/"),Ee}},je={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function Ze(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ee,et){var ft=Ee;return ft.secure=Ze(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ee,et){if((Ee.port===(Ze(Ee)?443:80)||Ee.port==="")&&(Ee.port=void 0),typeof Ee.secure=="boolean"&&(Ee.scheme=Ee.secure?"wss":"ws",Ee.secure=void 0),Ee.resourceName){var ft=Ee.resourceName.split("?"),it=m(ft,2),Et=it[0],It=it[1];Ee.path=Et&&Et!=="/"?Et:void 0,Ee.query=It,Ee.resourceName=void 0}return Ee.fragment=void 0,Ee}},At={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},Ot={},Dt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Rt="[0-9A-Fa-f]",Bt=i(i("%[EFef]"+Rt+"%"+Rt+Rt+"%"+Rt+Rt)+"|"+i("%[89A-Fa-f]"+Rt+"%"+Rt+Rt)+"|"+i("%"+Rt+Rt)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",dn=r(fn,'[\\"\\\\]'),dr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",on=new RegExp(Dt,"g"),un=new RegExp(Bt,"g"),Ln=new RegExp(r("[^]",Er,"[\\.]",'[\\"]',dn),"g"),sr=new RegExp(r("[^]",Dt,dr),"g"),Oe=sr;function qe(We){var Ee=Fe(We);return Ee.match(on)?Ee:We}var wt={scheme:"mailto",parse:function(Ee,et){var ft=Ee,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Et=!1,It={},Vt=ft.query.split("&"),Yt=0,qt=Vt.length;Yt<qt;++Yt){var Nt=Vt[Yt].split("=");switch(Nt[0]){case"to":for(var en=Nt[1].split(","),Rn=0,Kt=en.length;Rn<Kt;++Rn)it.push(en[Rn]);break;case"subject":ft.subject=K(Nt[1],et);break;case"body":ft.body=K(Nt[1],et);break;default:Et=!0,It[K(Nt[0],et)]=K(Nt[1],et);break}}Et&&(ft.headers=It)}ft.query=void 0;for(var Qt=0,xn=it.length;Qt<xn;++Qt){var En=it[Qt].split("@");if(En[0]=K(En[0]),et.unicodeSupport)En[1]=K(En[1],et).toLowerCase();else try{En[1]=Ae.toASCII(K(En[1],et).toLowerCase())}catch(Un){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+Un}it[Qt]=En.join("@")}return ft},serialize:function(Ee,et){var ft=Ee,it=o(Ee.to);if(it){for(var Et=0,It=it.length;Et<It;++Et){var Vt=String(it[Et]),Yt=Vt.lastIndexOf("@"),qt=Vt.slice(0,Yt).replace(un,qe).replace(un,s).replace(Ln,Re),Nt=Vt.slice(Yt+1);try{Nt=et.iri?Ae.toUnicode(Nt):Ae.toASCII(K(Nt,et).toLowerCase())}catch(Qt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Qt}it[Et]=qt+"@"+Nt}ft.path=it.join(",")}var en=Ee.headers=Ee.headers||{};Ee.subject&&(en.subject=Ee.subject),Ee.body&&(en.body=Ee.body);var Rn=[];for(var Kt in en)en[Kt]!==Ot[Kt]&&Rn.push(Kt.replace(un,qe).replace(un,s).replace(sr,Re)+"="+en[Kt].replace(un,qe).replace(un,s).replace(Oe,Re));return Rn.length&&(ft.query=Rn.join("&")),ft}},xt=/^([^\:]+)\:(.*)/,Lt={scheme:"urn",parse:function(Ee,et){var ft=Ee.path&&Ee.path.match(xt),it=Ee;if(ft){var Et=et.scheme||it.scheme||"urn",It=ft[1].toLowerCase(),Vt=ft[2],Yt=Et+":"+(et.nid||It),qt=Je[Yt];it.nid=It,it.nss=Vt,it.path=void 0,qt&&(it=qt.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ee,et){var ft=et.scheme||Ee.scheme||"urn",it=Ee.nid,Et=ft+":"+(et.nid||it),It=Je[Et];It&&(Ee=It.serialize(Ee,et));var Vt=Ee,Yt=Ee.nss;return Vt.path=(it||et.nid)+":"+Yt,Vt}},qn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ee,et){var ft=Ee;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(qn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ee,et){var ft=Ee;return ft.nss=(Ee.uuid||"").toLowerCase(),ft}};Je[V.scheme]=V,Je[je.scheme]=je,Je[ke.scheme]=ke,Je[At.scheme]=At,Je[wt.scheme]=wt,Je[Lt.scheme]=Lt,Je[Jn.scheme]=Jn,n.SCHEMES=Je,n.pctEncChar=Re,n.pctDecChars=Fe,n.parse=he,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=Ut,n.resolve=Se,n.normalize=Be,n.equal=X,n.escapeComponent=B,n.unescapeComponent=K,Object.defineProperty(n,"__esModule",{value:!0})})}(bg,bg.exports)),bg.exports}var W6;function DTe(){if(W6)return Ov;W6=1,Object.defineProperty(Ov,"__esModule",{value:!0});const t=MTe();return t.code='require("ajv/dist/runtime/uri").default',Ov.default=t,Ov}var Q6;function kTe(){return Q6||(Q6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Lm();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=On();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=cP(),i=fP(),a=qz(),s=dP(),o=On(),l=hw(),f=g0(),h=Vn(),p=LTe,m=DTe(),y=(k,ne)=>new RegExp(k,ne);y.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},x={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function A(k){var ne,me,H,J,pe,Ae,Je,Re,Fe,Xe,ie,z,$,re,W,he,ye,He,Te,Ne,tt,nt,gt,Ut,Se;const Be=k.strict,X=(ne=k.code)===null||ne===void 0?void 0:ne.optimize,B=X===!0||X===void 0?1:X||0,K=(H=(me=k.code)===null||me===void 0?void 0:me.regExp)!==null&&H!==void 0?H:y,V=(J=k.uriResolver)!==null&&J!==void 0?J:m.default;return{strictSchema:(Ae=(pe=k.strictSchema)!==null&&pe!==void 0?pe:Be)!==null&&Ae!==void 0?Ae:!0,strictNumbers:(Re=(Je=k.strictNumbers)!==null&&Je!==void 0?Je:Be)!==null&&Re!==void 0?Re:!0,strictTypes:(Xe=(Fe=k.strictTypes)!==null&&Fe!==void 0?Fe:Be)!==null&&Xe!==void 0?Xe:"log",strictTuples:(z=(ie=k.strictTuples)!==null&&ie!==void 0?ie:Be)!==null&&z!==void 0?z:"log",strictRequired:(re=($=k.strictRequired)!==null&&$!==void 0?$:Be)!==null&&re!==void 0?re:!1,code:k.code?{...k.code,optimize:B,regExp:K}:{optimize:B,regExp:K},loopRequired:(W=k.loopRequired)!==null&&W!==void 0?W:E,loopEnum:(he=k.loopEnum)!==null&&he!==void 0?he:E,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Te=k.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(Ne=k.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(Ut=k.unicodeRegExp)!==null&&Ut!==void 0?Ut:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:V}}class I{constructor(ne={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ne=this.opts={...ne,...A(ne)};const{es5:me,lines:H}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:b,es5:me,lines:H}),this.logger=fe(ne.logger);const J=ne.validateFormats;ne.validateFormats=!1,this.RULES=(0,a.getRules)(),M.call(this,S,ne,"NOT SUPPORTED"),M.call(this,x,ne,"DEPRECATED","warn"),this._metaOpts=q.call(this),ne.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ne.keywords&&Y.call(this,ne.keywords),typeof ne.meta=="object"&&this.addMetaSchema(ne.meta),j.call(this),ne.validateFormats=J}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ne,meta:me,schemaId:H}=this.opts;let J=p;H==="id"&&(J={...p},J.id=J.$id,delete J.$id),me&&ne&&this.addMetaSchema(J,J[H],!1)}defaultMeta(){const{meta:ne,schemaId:me}=this.opts;return this.opts.defaultMeta=typeof ne=="object"?ne[me]||ne:void 0}validate(ne,me){let H;if(typeof ne=="string"){if(H=this.getSchema(ne),!H)throw new Error(`no schema with key or ref "${ne}"`)}else H=this.compile(ne);const J=H(me);return"$async"in H||(this.errors=H.errors),J}compile(ne,me){const H=this._addSchema(ne,me);return H.validate||this._compileSchemaEnv(H)}compileAsync(ne,me){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:H}=this.opts;return J.call(this,ne,me);async function J(Xe,ie){await pe.call(this,Xe.$schema);const z=this._addSchema(Xe,ie);return z.validate||Ae.call(this,z)}async function pe(Xe){Xe&&!this.getSchema(Xe)&&await J.call(this,{$ref:Xe},!0)}async function Ae(Xe){try{return this._compileSchemaEnv(Xe)}catch(ie){if(!(ie instanceof i.default))throw ie;return Je.call(this,ie),await Re.call(this,ie.missingSchema),Ae.call(this,Xe)}}function Je({missingSchema:Xe,missingRef:ie}){if(this.refs[Xe])throw new Error(`AnySchema ${Xe} is loaded but ${ie} cannot be resolved`)}async function Re(Xe){const ie=await Fe.call(this,Xe);this.refs[Xe]||await pe.call(this,ie.$schema),this.refs[Xe]||this.addSchema(ie,Xe,me)}async function Fe(Xe){const ie=this._loading[Xe];if(ie)return ie;try{return await(this._loading[Xe]=H(Xe))}finally{delete this._loading[Xe]}}}addSchema(ne,me,H,J=this.opts.validateSchema){if(Array.isArray(ne)){for(const Ae of ne)this.addSchema(Ae,void 0,H,J);return this}let pe;if(typeof ne=="object"){const{schemaId:Ae}=this.opts;if(pe=ne[Ae],pe!==void 0&&typeof pe!="string")throw new Error(`schema ${Ae} must be string`)}return me=(0,l.normalizeId)(me||pe),this._checkUnique(me),this.schemas[me]=this._addSchema(ne,H,me,J,!0),this}addMetaSchema(ne,me,H=this.opts.validateSchema){return this.addSchema(ne,me,!0,H),this}validateSchema(ne,me){if(typeof ne=="boolean")return!0;let H;if(H=ne.$schema,H!==void 0&&typeof H!="string")throw new Error("$schema must be a string");if(H=H||this.opts.defaultMeta||this.defaultMeta(),!H)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const J=this.validate(H,ne);if(!J&&me){const pe="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(pe);else throw new Error(pe)}return J}getSchema(ne){let me;for(;typeof(me=D.call(this,ne))=="string";)ne=me;if(me===void 0){const{schemaId:H}=this.opts,J=new s.SchemaEnv({schema:{},schemaId:H});if(me=s.resolveSchema.call(this,J,ne),!me)return;this.refs[ne]=me}return me.validate||this._compileSchemaEnv(me)}removeSchema(ne){if(ne instanceof RegExp)return this._removeAllSchemas(this.schemas,ne),this._removeAllSchemas(this.refs,ne),this;switch(typeof ne){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const me=D.call(this,ne);return typeof me=="object"&&this._cache.delete(me.schema),delete this.schemas[ne],delete this.refs[ne],this}case"object":{const me=ne;this._cache.delete(me);let H=ne[this.opts.schemaId];return H&&(H=(0,l.normalizeId)(H),delete this.schemas[H],delete this.refs[H]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ne){for(const me of ne)this.addKeyword(me);return this}addKeyword(ne,me){let H;if(typeof ne=="string")H=ne,typeof me=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),me.keyword=H);else if(typeof ne=="object"&&me===void 0){if(me=ne,H=me.keyword,Array.isArray(H)&&!H.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(oe.call(this,H,me),!me)return(0,h.eachItem)(H,pe=>ge.call(this,pe)),this;le.call(this,me);const J={...me,type:(0,f.getJSONTypes)(me.type),schemaType:(0,f.getJSONTypes)(me.schemaType)};return(0,h.eachItem)(H,J.type.length===0?pe=>ge.call(this,pe,J):pe=>J.type.forEach(Ae=>ge.call(this,pe,J,Ae))),this}getKeyword(ne){const me=this.RULES.all[ne];return typeof me=="object"?me.definition:!!me}removeKeyword(ne){const{RULES:me}=this;delete me.keywords[ne],delete me.all[ne];for(const H of me.rules){const J=H.rules.findIndex(pe=>pe.keyword===ne);J>=0&&H.rules.splice(J,1)}return this}addFormat(ne,me){return typeof me=="string"&&(me=new RegExp(me)),this.formats[ne]=me,this}errorsText(ne=this.errors,{separator:me=", ",dataVar:H="data"}={}){return!ne||ne.length===0?"No errors":ne.map(J=>`${H}${J.instancePath} ${J.message}`).reduce((J,pe)=>J+me+pe)}$dataMetaSchema(ne,me){const H=this.RULES.all;ne=JSON.parse(JSON.stringify(ne));for(const J of me){const pe=J.split("/").slice(1);let Ae=ne;for(const Je of pe)Ae=Ae[Je];for(const Je in H){const Re=H[Je];if(typeof Re!="object")continue;const{$data:Fe}=Re.definition,Xe=Ae[Je];Fe&&Xe&&(Ae[Je]=Le(Xe))}}return ne}_removeAllSchemas(ne,me){for(const H in ne){const J=ne[H];(!me||me.test(H))&&(typeof J=="string"?delete ne[H]:J&&!J.meta&&(this._cache.delete(J.schema),delete ne[H]))}}_addSchema(ne,me,H,J=this.opts.validateSchema,pe=this.opts.addUsedSchema){let Ae;const{schemaId:Je}=this.opts;if(typeof ne=="object")Ae=ne[Je];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ne!="boolean")throw new Error("schema must be object or boolean")}let Re=this._cache.get(ne);if(Re!==void 0)return Re;H=(0,l.normalizeId)(Ae||H);const Fe=l.getSchemaRefs.call(this,ne,H);return Re=new s.SchemaEnv({schema:ne,schemaId:Je,meta:me,baseId:H,localRefs:Fe}),this._cache.set(Re.schema,Re),pe&&!H.startsWith("#")&&(H&&this._checkUnique(H),this.refs[H]=Re),J&&this.validateSchema(ne,!0),Re}_checkUnique(ne){if(this.schemas[ne]||this.refs[ne])throw new Error(`schema with key or id "${ne}" already exists`)}_compileSchemaEnv(ne){if(ne.meta?this._compileMetaSchema(ne):s.compileSchema.call(this,ne),!ne.validate)throw new Error("ajv implementation error");return ne.validate}_compileMetaSchema(ne){const me=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,ne)}finally{this.opts=me}}}I.ValidationError=r.default,I.MissingRefError=i.default,t.default=I;function M(k,ne,me,H="error"){for(const J in k){const pe=J;pe in ne&&this.logger[H](`${me}: option ${J}. ${k[pe]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function j(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ne in k)this.addSchema(k[ne],ne)}function Q(){for(const k in this.opts.formats){const ne=this.opts.formats[k];ne&&this.addFormat(k,ne)}}function Y(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ne in k){const me=k[ne];me.keyword||(me.keyword=ne),this.addKeyword(me)}}function q(){const k={...this.opts};for(const ne of _)delete k[ne];return k}const Z={log(){},warn(){},error(){}};function fe(k){if(k===!1)return Z;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const te=/^[a-z_$][a-z0-9_$:-]*$/i;function oe(k,ne){const{RULES:me}=this;if((0,h.eachItem)(k,H=>{if(me.keywords[H])throw new Error(`Keyword ${H} is already defined`);if(!te.test(H))throw new Error(`Keyword ${H} has invalid name`)}),!!ne&&ne.$data&&!("code"in ne||"validate"in ne))throw new Error('$data keyword must have "code" or "validate" function')}function ge(k,ne,me){var H;const J=ne==null?void 0:ne.post;if(me&&J)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:pe}=this;let Ae=J?pe.post:pe.rules.find(({type:Re})=>Re===me);if(Ae||(Ae={type:me,rules:[]},pe.rules.push(Ae)),pe.keywords[k]=!0,!ne)return;const Je={keyword:k,definition:{...ne,type:(0,f.getJSONTypes)(ne.type),schemaType:(0,f.getJSONTypes)(ne.schemaType)}};ne.before?_e.call(this,Ae,Je,ne.before):Ae.rules.push(Je),pe.all[k]=Je,(H=ne.implements)===null||H===void 0||H.forEach(Re=>this.addKeyword(Re))}function _e(k,ne,me){const H=k.rules.findIndex(J=>J.keyword===me);H>=0?k.rules.splice(H,0,ne):(k.rules.push(ne),this.logger.warn(`rule ${me} is not defined`))}function le(k){let{metaSchema:ne}=k;ne!==void 0&&(k.$data&&this.opts.$data&&(ne=Le(ne)),k.validateSchema=this.compile(ne,!0))}const ce={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Le(k){return{anyOf:[k,ce]}}}($2)),$2}var Lv={},Iv={},Mv={},Z6;function NTe(){if(Z6)return Mv;Z6=1,Object.defineProperty(Mv,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Mv.default=t,Mv}var Xu={},J6;function FTe(){if(J6)return Xu;J6=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.callRef=Xu.getValidate=void 0;const t=fP(),e=Bs(),n=On(),r=_u(),i=dP(),a=Vn(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:h,schema:p,it:m}=f,{baseId:y,schemaEnv:_,validateName:b,opts:S,self:x}=m,{root:E}=_;if((p==="#"||p==="#/")&&y===E.baseId)return I();const A=i.resolveRef.call(x,E,y,p);if(A===void 0)throw new t.default(m.opts.uriResolver,y,p);if(A instanceof i.SchemaEnv)return M(A);return D(A);function I(){if(_===E)return l(f,b,_,_.$async);const j=h.scopeValue("root",{ref:E});return l(f,(0,n._)`${j}.validate`,E,E.$async)}function M(j){const Q=o(f,j);l(f,Q,j,j.$async)}function D(j){const Q=h.scopeValue("schema",S.code.source===!0?{ref:j,code:(0,n.stringify)(j)}:{ref:j}),Y=h.name("valid"),q=f.subschema({schema:j,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:p},Y);f.mergeEvaluated(q),f.ok(Y)}}};function o(f,h){const{gen:p}=f;return h.validate?p.scopeValue("validate",{ref:h.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:h})}.validate`}Xu.getValidate=o;function l(f,h,p,m){const{gen:y,it:_}=f,{allErrors:b,schemaEnv:S,opts:x}=_,E=x.passContext?r.default.this:n.nil;m?A():I();function A(){if(!S.$async)throw new Error("async schema referenced by sync schema");const j=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,e.callValidateCode)(f,h,E)}`),D(h),b||y.assign(j,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${_.ValidationError})`,()=>y.throw(Q)),M(Q),b||y.assign(j,!1)}),f.ok(j)}function I(){f.result((0,e.callValidateCode)(f,h,E),()=>D(h),()=>M(h))}function M(j){const Q=(0,n._)`${j}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(j){var Q;if(!_.opts.unevaluated)return;const Y=(Q=p==null?void 0:p.validate)===null||Q===void 0?void 0:Q.evaluated;if(_.props!==!0)if(Y&&!Y.dynamicProps)Y.props!==void 0&&(_.props=a.mergeEvaluated.props(y,Y.props,_.props));else{const q=y.var("props",(0,n._)`${j}.evaluated.props`);_.props=a.mergeEvaluated.props(y,q,_.props,n.Name)}if(_.items!==!0)if(Y&&!Y.dynamicItems)Y.items!==void 0&&(_.items=a.mergeEvaluated.items(y,Y.items,_.items));else{const q=y.var("items",(0,n._)`${j}.evaluated.items`);_.items=a.mergeEvaluated.items(y,q,_.items,n.Name)}}}return Xu.callRef=l,Xu.default=s,Xu}var Y6;function jTe(){if(Y6)return Iv;Y6=1,Object.defineProperty(Iv,"__esModule",{value:!0});const t=NTe(),e=FTe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Iv.default=n,Iv}var Dv={},kv={},X6;function $Te(){if(X6)return kv;X6=1,Object.defineProperty(kv,"__esModule",{value:!0});const t=On(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:s,data:o,schemaCode:l}=a;a.fail$data((0,t._)`${o} ${n[s].fail} ${l} || isNaN(${o})`)}};return kv.default=i,kv}var Nv={},e$;function UTe(){if(e$)return Nv;e$=1,Object.defineProperty(Nv,"__esModule",{value:!0});const t=On(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:s,it:o}=r,l=o.opts.multipleOfPrecision,f=i.let("res"),h=l?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${l}`:(0,t._)`${f} !== parseInt(${f})`;r.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${h}))`)}};return Nv.default=n,Nv}var Fv={},jv={},t$;function BTe(){if(t$)return jv;t$=1,Object.defineProperty(jv,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,a;for(;i<n;)r++,a=e.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=e.charCodeAt(i),(a&64512)===56320&&i++);return r}return jv.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',jv}var n$;function qTe(){if(n$)return Fv;n$=1,Object.defineProperty(Fv,"__esModule",{value:!0});const t=On(),e=Vn(),n=BTe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:s}){const o=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},code(a){const{keyword:s,data:o,schemaCode:l,it:f}=a,h=s==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(a.gen,n.default)}(${o})`;a.fail$data((0,t._)`${p} ${h} ${l}`)}};return Fv.default=i,Fv}var $v={},r$;function zTe(){if(r$)return $v;r$=1,Object.defineProperty($v,"__esModule",{value:!0});const t=Bs(),e=On(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:a,$data:s,schema:o,schemaCode:l,it:f}=i,h=f.opts.unicodeRegExp?"u":"",p=s?(0,e._)`(new RegExp(${l}, ${h}))`:(0,t.usePattern)(i,o);i.fail$data((0,e._)`!${p}.test(${a})`)}};return $v.default=r,$v}var Uv={},i$;function HTe(){if(i$)return Uv;i$=1,Object.defineProperty(Uv,"__esModule",{value:!0});const t=On(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:s}=r,o=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${a}).length ${o} ${s}`)}};return Uv.default=n,Uv}var Bv={},a$;function VTe(){if(a$)return Bv;a$=1,Object.defineProperty(Bv,"__esModule",{value:!0});const t=Bs(),e=On(),n=Vn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){const{gen:s,schema:o,schemaCode:l,data:f,$data:h,it:p}=a,{opts:m}=p;if(!h&&o.length===0)return;const y=o.length>=m.loopRequired;if(p.allErrors?_():b(),m.strictRequired){const E=a.parentSchema.properties,{definedProperties:A}=a.it;for(const I of o)if((E==null?void 0:E[I])===void 0&&!A.has(I)){const M=p.schemaEnv.baseId+p.errSchemaPath,D=`required property "${I}" is not defined at "${M}" (strictRequired)`;(0,n.checkStrictMode)(p,D,p.opts.strictRequired)}}function _(){if(y||h)a.block$data(e.nil,S);else for(const E of o)(0,t.checkReportMissingProp)(a,E)}function b(){const E=s.let("missing");if(y||h){const A=s.let("valid",!0);a.block$data(A,()=>x(E,A)),a.ok(A)}else s.if((0,t.checkMissingProp)(a,o,E)),(0,t.reportMissingProp)(a,E),s.else()}function S(){s.forOf("prop",l,E=>{a.setParams({missingProperty:E}),s.if((0,t.noPropertyInData)(s,f,E,m.ownProperties),()=>a.error())})}function x(E,A){a.setParams({missingProperty:E}),s.forOf(E,l,()=>{s.assign(A,(0,t.propertyInData)(s,f,E,m.ownProperties)),s.if((0,e.not)(A),()=>{a.error(),s.break()})},e.nil)}}};return Bv.default=i,Bv}var qv={},s$;function KTe(){if(s$)return qv;s$=1,Object.defineProperty(qv,"__esModule",{value:!0});const t=On(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:s}=r,o=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${a}.length ${o} ${s}`)}};return qv.default=n,qv}var zv={},Hv={},o$;function hP(){if(o$)return Hv;o$=1,Object.defineProperty(Hv,"__esModule",{value:!0});const t=Hz();return t.code='require("ajv/dist/runtime/equal").default',Hv.default=t,Hv}var u$;function GTe(){if(u$)return zv;u$=1,Object.defineProperty(zv,"__esModule",{value:!0});const t=g0(),e=On(),n=Vn(),r=hP(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${s} are identical)`,params:({params:{i:s,j:o}})=>(0,e._)`{i: ${s}, j: ${o}}`},code(s){const{gen:o,data:l,$data:f,schema:h,parentSchema:p,schemaCode:m,it:y}=s;if(!f&&!h)return;const _=o.let("valid"),b=p.items?(0,t.getSchemaTypes)(p.items):[];s.block$data(_,S,(0,e._)`${m} === false`),s.ok(_);function S(){const I=o.let("i",(0,e._)`${l}.length`),M=o.let("j");s.setParams({i:I,j:M}),o.assign(_,!0),o.if((0,e._)`${I} > 1`,()=>(x()?E:A)(I,M))}function x(){return b.length>0&&!b.some(I=>I==="object"||I==="array")}function E(I,M){const D=o.name("item"),j=(0,t.checkDataTypes)(b,D,y.opts.strictNumbers,t.DataType.Wrong),Q=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${I}--;`,()=>{o.let(D,(0,e._)`${l}[${I}]`),o.if(j,(0,e._)`continue`),b.length>1&&o.if((0,e._)`typeof ${D} == "string"`,(0,e._)`${D} += "_"`),o.if((0,e._)`typeof ${Q}[${D}] == "number"`,()=>{o.assign(M,(0,e._)`${Q}[${D}]`),s.error(),o.assign(_,!1).break()}).code((0,e._)`${Q}[${D}] = ${I}`)})}function A(I,M){const D=(0,n.useFunc)(o,r.default),j=o.name("outer");o.label(j).for((0,e._)`;${I}--;`,()=>o.for((0,e._)`${M} = ${I}; ${M}--;`,()=>o.if((0,e._)`${D}(${l}[${I}], ${l}[${M}])`,()=>{s.error(),o.assign(_,!1).break(j)})))}}};return zv.default=a,zv}var Vv={},l$;function WTe(){if(l$)return Vv;l$=1,Object.defineProperty(Vv,"__esModule",{value:!0});const t=On(),e=Vn(),n=hP(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},code(a){const{gen:s,data:o,$data:l,schemaCode:f,schema:h}=a;l||h&&typeof h=="object"?a.fail$data((0,t._)`!${(0,e.useFunc)(s,n.default)}(${o}, ${f})`):a.fail((0,t._)`${h} !== ${o}`)}};return Vv.default=i,Vv}var Kv={},c$;function QTe(){if(c$)return Kv;c$=1,Object.defineProperty(Kv,"__esModule",{value:!0});const t=On(),e=Vn(),n=hP(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},code(a){const{gen:s,data:o,$data:l,schema:f,schemaCode:h,it:p}=a;if(!l&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let y;const _=()=>y??(y=(0,e.useFunc)(s,n.default));let b;if(m||l)b=s.let("valid"),a.block$data(b,S);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const E=s.const("vSchema",h);b=(0,t.or)(...f.map((A,I)=>x(E,I)))}a.pass(b);function S(){s.assign(b,!1),s.forOf("v",h,E=>s.if((0,t._)`${_()}(${o}, ${E})`,()=>s.assign(b,!0).break()))}function x(E,A){const I=f[A];return typeof I=="object"&&I!==null?(0,t._)`${_()}(${o}, ${E}[${A}])`:(0,t._)`${o} === ${I}`}}};return Kv.default=i,Kv}var f$;function ZTe(){if(f$)return Dv;f$=1,Object.defineProperty(Dv,"__esModule",{value:!0});const t=$Te(),e=UTe(),n=qTe(),r=zTe(),i=HTe(),a=VTe(),s=KTe(),o=GTe(),l=WTe(),f=QTe(),h=[t.default,e.default,n.default,r.default,i.default,a.default,s.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,f.default];return Dv.default=h,Dv}var Gv={},Wf={},d$;function Vz(){if(d$)return Wf;d$=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.validateAdditionalItems=void 0;const t=On(),e=Vn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{parentSchema:s,it:o}=a,{items:l}=s;if(!Array.isArray(l)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,s){const{gen:o,schema:l,data:f,keyword:h,it:p}=a;p.items=!0;const m=o.const("len",(0,t._)`${f}.length`);if(l===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(p,l)){const _=o.var("valid",(0,t._)`${m} <= ${s.length}`);o.if((0,t.not)(_),()=>y(_)),a.ok(_)}function y(_){o.forRange("i",s.length,m,b=>{a.subschema({keyword:h,dataProp:b,dataPropType:e.Type.Num},_),p.allErrors||o.if((0,t.not)(_),()=>o.break())})}}return Wf.validateAdditionalItems=i,Wf.default=r,Wf}var Wv={},Qf={},h$;function Kz(){if(h$)return Qf;h$=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.validateTuple=void 0;const t=On(),e=Vn(),n=Bs(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:o}=a;if(Array.isArray(s))return i(a,"additionalItems",s);o.items=!0,!(0,e.alwaysValidSchema)(o,s)&&a.ok((0,n.validateArray)(a))}};function i(a,s,o=a.schema){const{gen:l,parentSchema:f,data:h,keyword:p,it:m}=a;b(f),m.opts.unevaluated&&o.length&&m.items!==!0&&(m.items=e.mergeEvaluated.items(l,o.length,m.items));const y=l.name("valid"),_=l.const("len",(0,t._)`${h}.length`);o.forEach((S,x)=>{(0,e.alwaysValidSchema)(m,S)||(l.if((0,t._)`${_} > ${x}`,()=>a.subschema({keyword:p,schemaProp:x,dataProp:x},y)),a.ok(y))});function b(S){const{opts:x,errSchemaPath:E}=m,A=o.length,I=A===S.minItems&&(A===S.maxItems||S[s]===!1);if(x.strictTuples&&!I){const M=`"${p}" is ${A}-tuple, but minItems or maxItems/${s} are not specified or different at path "${E}"`;(0,e.checkStrictMode)(m,M,x.strictTuples)}}}return Qf.validateTuple=i,Qf.default=r,Qf}var p$;function JTe(){if(p$)return Wv;p$=1,Object.defineProperty(Wv,"__esModule",{value:!0});const t=Kz(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return Wv.default=e,Wv}var Qv={},g$;function YTe(){if(g$)return Qv;g$=1,Object.defineProperty(Qv,"__esModule",{value:!0});const t=On(),e=Vn(),n=Bs(),r=Vz(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{schema:o,parentSchema:l,it:f}=s,{prefixItems:h}=l;f.items=!0,!(0,e.alwaysValidSchema)(f,o)&&(h?(0,r.validateAdditionalItems)(s,h):s.ok((0,n.validateArray)(s)))}};return Qv.default=a,Qv}var Zv={},m$;function XTe(){if(m$)return Zv;m$=1,Object.defineProperty(Zv,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:s,parentSchema:o,data:l,it:f}=i;let h,p;const{minContains:m,maxContains:y}=o;f.opts.next?(h=m===void 0?1:m,p=y):h=1;const _=a.const("len",(0,t._)`${l}.length`);if(i.setParams({min:h,max:p}),p===void 0&&h===0){(0,e.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&h>p){(0,e.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(f,s)){let A=(0,t._)`${_} >= ${h}`;p!==void 0&&(A=(0,t._)`${A} && ${_} <= ${p}`),i.pass(A);return}f.items=!0;const b=a.name("valid");p===void 0&&h===1?x(b,()=>a.if(b,()=>a.break())):h===0?(a.let(b,!0),p!==void 0&&a.if((0,t._)`${l}.length > 0`,S)):(a.let(b,!1),S()),i.result(b,()=>i.reset());function S(){const A=a.name("_valid"),I=a.let("count",0);x(A,()=>a.if(A,()=>E(I)))}function x(A,I){a.forRange("i",0,_,M=>{i.subschema({keyword:"contains",dataProp:M,dataPropType:e.Type.Num,compositeRule:!0},A),I()})}function E(A){a.code((0,t._)`${A}++`),p===void 0?a.if((0,t._)`${A} >= ${h}`,()=>a.assign(b,!0).break()):(a.if((0,t._)`${A} > ${p}`,()=>a.assign(b,!1).break()),h===1?a.assign(b,!0):a.if((0,t._)`${A} >= ${h}`,()=>a.assign(b,!0)))}}};return Zv.default=r,Zv}var K2={},y$;function e2e(){return y$||(y$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=On(),n=Vn(),r=Bs();t.error={message:({params:{property:l,depsCount:f,deps:h}})=>{const p=f===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:h,missingProperty:p}})=>(0,e._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${f},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[f,h]=a(l);s(l,f),o(l,h)}};function a({schema:l}){const f={},h={};for(const p in l){if(p==="__proto__")continue;const m=Array.isArray(l[p])?f:h;m[p]=l[p]}return[f,h]}function s(l,f=l.schema){const{gen:h,data:p,it:m}=l;if(Object.keys(f).length===0)return;const y=h.let("missing");for(const _ in f){const b=f[_];if(b.length===0)continue;const S=(0,r.propertyInData)(h,p,_,m.opts.ownProperties);l.setParams({property:_,depsCount:b.length,deps:b.join(", ")}),m.allErrors?h.if(S,()=>{for(const x of b)(0,r.checkReportMissingProp)(l,x)}):(h.if((0,e._)`${S} && (${(0,r.checkMissingProp)(l,b,y)})`),(0,r.reportMissingProp)(l,y),h.else())}}t.validatePropertyDeps=s;function o(l,f=l.schema){const{gen:h,data:p,keyword:m,it:y}=l,_=h.name("valid");for(const b in f)(0,n.alwaysValidSchema)(y,f[b])||(h.if((0,r.propertyInData)(h,p,b,y.opts.ownProperties),()=>{const S=l.subschema({keyword:m,schemaProp:b},_);l.mergeValidEvaluated(S,_)},()=>h.var(_,!0)),l.ok(_))}t.validateSchemaDeps=o,t.default=i}(K2)),K2}var Jv={},v$;function t2e(){if(v$)return Jv;v$=1,Object.defineProperty(Jv,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:s,data:o,it:l}=i;if((0,e.alwaysValidSchema)(l,s))return;const f=a.name("valid");a.forIn("key",o,h=>{i.setParams({propertyName:h}),i.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},f),a.if((0,t.not)(f),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(f)}};return Jv.default=r,Jv}var Yv={},_$;function Gz(){if(_$)return Yv;_$=1,Object.defineProperty(Yv,"__esModule",{value:!0});const t=Bs(),e=On(),n=_u(),r=Vn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,e._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:o,schema:l,parentSchema:f,data:h,errsCount:p,it:m}=s;if(!p)throw new Error("ajv implementation error");const{allErrors:y,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const b=(0,t.allSchemaProperties)(f.properties),S=(0,t.allSchemaProperties)(f.patternProperties);x(),s.ok((0,e._)`${p} === ${n.default.errors}`);function x(){o.forIn("key",h,D=>{!b.length&&!S.length?I(D):o.if(E(D),()=>I(D))})}function E(D){let j;if(b.length>8){const Q=(0,r.schemaRefOrVal)(m,f.properties,"properties");j=(0,t.isOwnProperty)(o,Q,D)}else b.length?j=(0,e.or)(...b.map(Q=>(0,e._)`${D} === ${Q}`)):j=e.nil;return S.length&&(j=(0,e.or)(j,...S.map(Q=>(0,e._)`${(0,t.usePattern)(s,Q)}.test(${D})`))),(0,e.not)(j)}function A(D){o.code((0,e._)`delete ${h}[${D}]`)}function I(D){if(_.removeAdditional==="all"||_.removeAdditional&&l===!1){A(D);return}if(l===!1){s.setParams({additionalProperty:D}),s.error(),y||o.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const j=o.name("valid");_.removeAdditional==="failing"?(M(D,j,!1),o.if((0,e.not)(j),()=>{s.reset(),A(D)})):(M(D,j),y||o.if((0,e.not)(j),()=>o.break()))}}function M(D,j,Q){const Y={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(Y,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(Y,j)}}};return Yv.default=a,Yv}var Xv={},w$;function n2e(){if(w$)return Xv;w$=1,Object.defineProperty(Xv,"__esModule",{value:!0});const t=Lm(),e=Bs(),n=Vn(),r=Gz(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:o,parentSchema:l,data:f,it:h}=a;h.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(h,r.default,"additionalProperties"));const p=(0,e.allSchemaProperties)(o);for(const S of p)h.definedProperties.add(S);h.opts.unevaluated&&p.length&&h.props!==!0&&(h.props=n.mergeEvaluated.props(s,(0,n.toHash)(p),h.props));const m=p.filter(S=>!(0,n.alwaysValidSchema)(h,o[S]));if(m.length===0)return;const y=s.name("valid");for(const S of m)_(S)?b(S):(s.if((0,e.propertyInData)(s,f,S,h.opts.ownProperties)),b(S),h.allErrors||s.else().var(y,!0),s.endIf()),a.it.definedProperties.add(S),a.ok(y);function _(S){return h.opts.useDefaults&&!h.compositeRule&&o[S].default!==void 0}function b(S){a.subschema({keyword:"properties",schemaProp:S,dataProp:S},y)}}};return Xv.default=i,Xv}var e_={},b$;function r2e(){if(b$)return e_;b$=1,Object.defineProperty(e_,"__esModule",{value:!0});const t=Bs(),e=On(),n=Vn(),r=Vn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:o,data:l,parentSchema:f,it:h}=a,{opts:p}=h,m=(0,t.allSchemaProperties)(o),y=m.filter(I=>(0,n.alwaysValidSchema)(h,o[I]));if(m.length===0||y.length===m.length&&(!h.opts.unevaluated||h.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,b=s.name("valid");h.props!==!0&&!(h.props instanceof e.Name)&&(h.props=(0,r.evaluatedPropsToName)(s,h.props));const{props:S}=h;x();function x(){for(const I of m)_&&E(I),h.allErrors?A(I):(s.var(b,!0),A(I),s.if(b))}function E(I){for(const M in _)new RegExp(I).test(M)&&(0,n.checkStrictMode)(h,`property ${M} matches pattern ${I} (use allowMatchingProperties)`)}function A(I){s.forIn("key",l,M=>{s.if((0,e._)`${(0,t.usePattern)(a,I)}.test(${M})`,()=>{const D=y.includes(I);D||a.subschema({keyword:"patternProperties",schemaProp:I,dataProp:M,dataPropType:r.Type.Str},b),h.opts.unevaluated&&S!==!0?s.assign((0,e._)`${S}[${M}]`,!0):!D&&!h.allErrors&&s.if((0,e.not)(b),()=>s.break())})})}}};return e_.default=i,e_}var t_={},S$;function i2e(){if(S$)return t_;S$=1,Object.defineProperty(t_,"__esModule",{value:!0});const t=Vn(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,t.alwaysValidSchema)(a,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return t_.default=e,t_}var n_={},x$;function a2e(){if(x$)return n_;x$=1,Object.defineProperty(n_,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Bs().validateUnion,error:{message:"must match a schema in anyOf"}};return n_.default=e,n_}var r_={},E$;function s2e(){if(E$)return r_;E$=1,Object.defineProperty(r_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:s,parentSchema:o,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;const f=s,h=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");i.setParams({passing:p}),a.block(y),i.result(h,()=>i.reset(),()=>i.error(!0));function y(){f.forEach((_,b)=>{let S;(0,e.alwaysValidSchema)(l,_)?a.var(m,!0):S=i.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},m),b>0&&a.if((0,t._)`${m} && ${h}`).assign(h,!1).assign(p,(0,t._)`[${p}, ${b}]`).else(),a.if(m,()=>{a.assign(h,!0),a.assign(p,b),S&&i.mergeEvaluated(S,t.Name)})})}}};return r_.default=r,r_}var i_={},T$;function o2e(){if(T$)return i_;T$=1,Object.defineProperty(i_,"__esModule",{value:!0});const t=Vn(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((o,l)=>{if((0,t.alwaysValidSchema)(a,o))return;const f=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(f)})}};return i_.default=e,i_}var a_={},C$;function u2e(){if(C$)return a_;C$=1,Object.defineProperty(a_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:s,parentSchema:o,it:l}=a;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const f=i(l,"then"),h=i(l,"else");if(!f&&!h)return;const p=s.let("valid",!0),m=s.name("_valid");if(y(),a.reset(),f&&h){const b=s.let("ifClause");a.setParams({ifClause:b}),s.if(m,_("then",b),_("else",b))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(p,()=>a.error(!0));function y(){const b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(b)}function _(b,S){return()=>{const x=a.subschema({keyword:b},m);s.assign(p,m),a.mergeValidEvaluated(x,p),S?s.assign(S,(0,t._)`${b}`):a.setParams({ifClause:b})}}}};function i(a,s){const o=a.schema[s];return o!==void 0&&!(0,e.alwaysValidSchema)(a,o)}return a_.default=r,a_}var s_={},A$;function l2e(){if(A$)return s_;A$=1,Object.defineProperty(s_,"__esModule",{value:!0});const t=Vn(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return s_.default=e,s_}var R$;function c2e(){if(R$)return Gv;R$=1,Object.defineProperty(Gv,"__esModule",{value:!0});const t=Vz(),e=JTe(),n=Kz(),r=YTe(),i=XTe(),a=e2e(),s=t2e(),o=Gz(),l=n2e(),f=r2e(),h=i2e(),p=a2e(),m=s2e(),y=o2e(),_=u2e(),b=l2e();function S(x=!1){const E=[h.default,p.default,m.default,y.default,_.default,b.default,s.default,o.default,a.default,l.default,f.default];return x?E.push(e.default,r.default):E.push(t.default,n.default),E.push(i.default),E}return Gv.default=S,Gv}var o_={},u_={},P$;function f2e(){if(P$)return u_;P$=1,Object.defineProperty(u_,"__esModule",{value:!0});const t=On(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:a,data:s,$data:o,schema:l,schemaCode:f,it:h}=r,{opts:p,errSchemaPath:m,schemaEnv:y,self:_}=h;if(!p.validateFormats)return;o?b():S();function b(){const x=a.scopeValue("formats",{ref:_.formats,code:p.code.formats}),E=a.const("fDef",(0,t._)`${x}[${f}]`),A=a.let("fType"),I=a.let("format");a.if((0,t._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>a.assign(A,(0,t._)`${E}.type || "string"`).assign(I,(0,t._)`${E}.validate`),()=>a.assign(A,(0,t._)`"string"`).assign(I,E)),r.fail$data((0,t.or)(M(),D()));function M(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${I}`}function D(){const j=y.$async?(0,t._)`(${E}.async ? await ${I}(${s}) : ${I}(${s}))`:(0,t._)`${I}(${s})`,Q=(0,t._)`(typeof ${I} == "function" ? ${j} : ${I}.test(${s}))`;return(0,t._)`${I} && ${I} !== true && ${A} === ${i} && !${Q}`}}function S(){const x=_.formats[l];if(!x){M();return}if(x===!0)return;const[E,A,I]=D(x);E===i&&r.pass(j());function M(){if(p.strictSchema===!1){_.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function D(Q){const Y=Q instanceof RegExp?(0,t.regexpCode)(Q):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(l)}`:void 0,q=a.scopeValue("formats",{key:l,ref:Q,code:Y});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,t._)`${q}.validate`]:["string",Q,q]}function j(){if(typeof x=="object"&&!(x instanceof RegExp)&&x.async){if(!y.$async)throw new Error("async format in sync schema");return(0,t._)`await ${I}(${s})`}return typeof A=="function"?(0,t._)`${I}(${s})`:(0,t._)`${I}.test(${s})`}}}};return u_.default=n,u_}var O$;function d2e(){if(O$)return o_;O$=1,Object.defineProperty(o_,"__esModule",{value:!0});const e=[f2e().default];return o_.default=e,o_}var wc={},L$;function h2e(){return L$||(L$=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.contentVocabulary=wc.metadataVocabulary=void 0,wc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],wc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),wc}var I$;function p2e(){if(I$)return Lv;I$=1,Object.defineProperty(Lv,"__esModule",{value:!0});const t=jTe(),e=ZTe(),n=c2e(),r=d2e(),i=h2e(),a=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return Lv.default=a,Lv}var l_={},sg={},M$;function g2e(){if(M$)return sg;M$=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(sg.DiscrError=t={})),sg}var D$;function m2e(){if(D$)return l_;D$=1,Object.defineProperty(l_,"__esModule",{value:!0});const t=On(),e=g2e(),n=dP(),r=Vn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:o}})=>s===e.DiscrError.Tag?`tag "${o}" must be string`:`value of tag "${o}" must be in oneOf`,params:({params:{discrError:s,tag:o,tagName:l}})=>(0,t._)`{error: ${s}, tag: ${l}, tagValue: ${o}}`},code(s){const{gen:o,data:l,schema:f,parentSchema:h,it:p}=s,{oneOf:m}=h;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=f.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=o.let("valid",!1),b=o.const("tag",(0,t._)`${l}${(0,t.getProperty)(y)}`);o.if((0,t._)`typeof ${b} == "string"`,()=>S(),()=>s.error(!1,{discrError:e.DiscrError.Tag,tag:b,tagName:y})),s.ok(_);function S(){const A=E();o.if(!1);for(const I in A)o.elseIf((0,t._)`${b} === ${I}`),o.assign(_,x(A[I]));o.else(),s.error(!1,{discrError:e.DiscrError.Mapping,tag:b,tagName:y}),o.endIf()}function x(A){const I=o.name("valid"),M=s.subschema({keyword:"oneOf",schemaProp:A},I);return s.mergeEvaluated(M,t.Name),I}function E(){var A;const I={},M=j(h);let D=!0;for(let q=0;q<m.length;q++){let Z=m[q];Z!=null&&Z.$ref&&!(0,r.schemaHasRulesButRef)(Z,p.self.RULES)&&(Z=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,Z==null?void 0:Z.$ref),Z instanceof n.SchemaEnv&&(Z=Z.schema));const fe=(A=Z==null?void 0:Z.properties)===null||A===void 0?void 0:A[y];if(typeof fe!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(M||j(Z)),Q(fe,q)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return I;function j({required:q}){return Array.isArray(q)&&q.includes(y)}function Q(q,Z){if(q.const)Y(q.const,Z);else if(q.enum)for(const fe of q.enum)Y(fe,Z);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function Y(q,Z){if(typeof q!="string"||q in I)throw new Error(`discriminator: "${y}" values must be unique strings`);I[q]=Z}}}};return l_.default=a,l_}const y2e="http://json-schema.org/draft-07/schema#",v2e="http://json-schema.org/draft-07/schema#",_2e="Core schema meta-schema",w2e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},b2e=["object","boolean"],S2e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},x2e={$schema:y2e,$id:v2e,title:_2e,definitions:w2e,type:b2e,properties:S2e,default:!0};var k$;function Wz(){return k$||(k$=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=kTe(),r=p2e(),i=m2e(),a=x2e,s=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(a,s):a;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=Lm();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var h=On();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=cP();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=fP();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(Cv,Cv.exports)),Cv.exports}var E2e=Wz();const T2e=Gr(E2e);var c_={exports:{}},N$;function C2e(){return N$||(N$=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=Wz(),r=On(),i=em(),a=Lm(),s=Om(),o=_u(),l="errorMessage",f=new n.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function _(S){return{keyword:l,schemaType:["string","object"],post:!0,code(x){const{gen:E,data:A,schema:I,schemaValue:M,it:D}=x;if(D.createErrors===!1)return;const j=I,Q=r.strConcat(o.default.instancePath,D.errorPath);E.if(n._`${o.default.errors} > 0`,()=>{if(typeof j=="object"){const[H,J]=q(j);J&&Z(J),H&&fe(H),te(Y(j))}const me=typeof j=="string"?j:j._;me&&oe(me),S.keepErrors||ge()});function Y({properties:me,items:H}){const J={};if(me){J.props={};for(const pe in me)J.props[pe]=[]}if(H){J.items={};for(let pe=0;pe<H.length;pe++)J.items[pe]=[]}return J}function q(me){let H,J;for(const pe in me){if(pe==="properties"||pe==="items")continue;const Ae=me[pe];if(typeof Ae=="object"){H||(H={});const Je=H[pe]={};for(const Re in Ae)Je[Re]=[]}else J||(J={}),J[pe]=[]}return[H,J]}function Z(me){const H=E.const("emErrors",n.stringify(me)),J=E.const("templates",Le(me,I));E.forOf("err",o.default.vErrors,Re=>E.if(_e(Re,H),()=>E.code(n._`${H}[${Re}.keyword].push(${Re})`).assign(n._`${Re}.${f}`,!0)));const{singleError:pe}=S;if(pe){const Re=E.let("message",n._`""`),Fe=E.let("paramsErrors",n._`[]`);Ae(Xe=>{E.if(Re,()=>E.code(n._`${Re} += ${typeof pe=="string"?pe:";"}`)),E.code(n._`${Re} += ${Je(Xe)}`),E.assign(Fe,n._`${Fe}.concat(${H}[${Xe}])`)}),s.reportError(x,{message:Re,params:n._`{errors: ${Fe}}`})}else Ae(Re=>s.reportError(x,{message:Je(Re),params:n._`{errors: ${H}[${Re}]}`}));function Ae(Re){E.forIn("key",H,Fe=>E.if(n._`${H}[${Fe}].length`,()=>Re(Fe)))}function Je(Re){return n._`${Re} in ${J} ? ${J}[${Re}]() : ${M}[${Re}]`}}function fe(me){const H=E.const("emErrors",n.stringify(me)),J=[];for(const Fe in me)J.push([Fe,Le(me[Fe],I[Fe])]);const pe=E.const("templates",E.object(...J)),Ae=E.scopeValue("obj",{ref:h,code:n.stringify(h)}),Je=E.let("emPropParams"),Re=E.let("emParamsErrors");E.forOf("err",o.default.vErrors,Fe=>E.if(_e(Fe,H),()=>{E.assign(Je,n._`${Ae}[${Fe}.keyword]`),E.assign(Re,n._`${H}[${Fe}.keyword][${Fe}.params[${Je}]]`),E.if(Re,()=>E.code(n._`${Re}.push(${Fe})`).assign(n._`${Fe}.${f}`,!0))})),E.forIn("key",H,Fe=>E.forIn("keyProp",n._`${H}[${Fe}]`,Xe=>{E.assign(Re,n._`${H}[${Fe}][${Xe}]`),E.if(n._`${Re}.length`,()=>{const ie=E.const("tmpl",n._`${pe}[${Fe}] && ${pe}[${Fe}][${Xe}]`);s.reportError(x,{message:n._`${ie} ? ${ie}() : ${M}[${Fe}][${Xe}]`,params:n._`{errors: ${Re}}`})})}))}function te(me){const{props:H,items:J}=me;if(!H&&!J)return;const pe=n._`typeof ${A} == "object"`,Ae=n._`Array.isArray(${A})`,Je=E.let("emErrors");let Re,Fe;const Xe=E.let("templates");H&&J?(Re=E.let("emChildKwd"),E.if(pe),E.if(Ae,()=>{ie(J,I.items),E.assign(Re,n.str`items`)},()=>{ie(H,I.properties),E.assign(Re,n.str`properties`)}),Fe=n._`[${Re}]`):J?(E.if(Ae),ie(J,I.items),Fe=n._`.items`):H&&(E.if(r.and(pe,r.not(Ae))),ie(H,I.properties),Fe=n._`.properties`),E.forOf("err",o.default.vErrors,z=>le(z,Je,$=>E.code(n._`${Je}[${$}].push(${z})`).assign(n._`${z}.${f}`,!0))),E.forIn("key",Je,z=>E.if(n._`${Je}[${z}].length`,()=>{s.reportError(x,{message:n._`${z} in ${Xe} ? ${Xe}[${z}]() : ${M}${Fe}[${z}]`,params:n._`{errors: ${Je}[${z}]}`}),E.assign(n._`${o.default.vErrors}[${o.default.errors}-1].instancePath`,n._`${Q} + "/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),E.endIf();function ie(z,$){E.assign(Je,n.stringify(z)),E.assign(Xe,Le(z,$))}}function oe(me){const H=E.const("emErrs",n._`[]`);E.forOf("err",o.default.vErrors,J=>E.if(ce(J),()=>E.code(n._`${H}.push(${J})`).assign(n._`${J}.${f}`,!0))),E.if(n._`${H}.length`,()=>s.reportError(x,{message:k(me),params:n._`{errors: ${H}}`}))}function ge(){const me=E.const("emErrs",n._`[]`);E.forOf("err",o.default.vErrors,H=>E.if(n._`!${H}.${f}`,()=>E.code(n._`${me}.push(${H})`))),E.assign(o.default.vErrors,me).assign(o.default.errors,n._`${me}.length`)}function _e(me,H){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${f}`,n._`${me}.instancePath === ${Q}`,n._`${me}.keyword in ${H}`,n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${D.errSchemaPath.length}))`)}function le(me,H,J){E.if(r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${f}`,n._`${me}.instancePath.indexOf(${Q}) === 0`),()=>{const pe=E.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Ae=E.const("emMatches",n._`${pe}.exec(${me}.instancePath.slice(${Q}.length))`),Je=E.const("emChild",n._`${Ae} && ${Ae}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);E.if(n._`${Je} !== undefined && ${Je} in ${H}`,()=>J(Je))})}function ce(me){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${f}`,r.or(n._`${me}.instancePath === ${Q}`,r.and(n._`${me}.instancePath.indexOf(${Q}) === 0`,n._`${me}.instancePath[${Q}.length] === "/"`)),n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${me}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Le(me,H){const J=[];for(const pe in me){const Ae=H[pe];p.test(Ae)&&J.push([pe,ne(Ae)])}return E.object(...J)}function k(me){return p.test(me)?new i._Code(i.safeStringify(me).replace(m,(H,J)=>`" + JSON.stringify(${a.getData(J,D)}) + "`).replace(y,"")):n.stringify(me)}function ne(me){return n._`function(){return ${k(me)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const b=(S,x={})=>{if(!S.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(S.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return S.addKeyword(_(x))};e.default=b,t.exports=b,t.exports.default=b}(c_,c_.exports)),c_.exports}var A2e=C2e();const R2e=Gr(A2e);var P2e=function(t,e){return t.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),t.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),e){var a=n[i].types,s=a&&a[r.keyword];n[i]=T9(i,e,n,r.keyword,s?[].concat(s,r.message||""):r.message)}return n},{})},O2e=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{var s=new T2e(Object.assign({},{allErrors:!0,validateSchema:!0},e));R2e(s);var o=s.compile(Object.assign({$async:n&&n.mode==="async"},t)),l=o(r);return a.shouldUseNativeValidation&&Bz({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:vTe(P2e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(f){return Promise.reject(f)}}};const L2e={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"string",minLength:1}}},F$=({initialData:t,onSubmit:e,onCancel:n})=>{const{handleSubmit:r,register:i,control:a,formState:{errors:s}}=Rm({defaultValues:Hc({location:{lat:0,long:0}},t),resolver:O2e(L2e)}),o=r(l=>{e(l)});return de.jsxs("form",{onSubmit:o,onReset:n,className:ii(us.accommodationForm,us.accommodation),"data-cy":"accommodation-form",children:[de.jsxs("label",{children:["Hosting location (click ",de.jsx(dce,{})," or drag & zoom map)",de.jsx("br",{}),de.jsx(eD,{})," For safety, share only approximate location"," ",de.jsx(eD,{})]}),de.jsx(Twe,{control:a,name:"location",render:({field:l})=>de.jsx("div",{className:ii(s.location&&us.inputError),children:de.jsx(lTe,{value:l.value,onChange:l.onChange,isInitial:!t})})}),s.location&&de.jsx("div",{className:us.errorMessage,children:"Please move map to your hosting location"}),de.jsx("label",{htmlFor:"description",children:"About your hosting"}),de.jsx("textarea",{className:ii(s.description&&us.inputError),id:"description",placeholder:"Tell others about your place and hosting",...i("description")}),s.description&&de.jsx("div",{className:us.errorMessage,children:"This field is required"}),de.jsxs("div",{className:us.actions,children:[de.jsx(Vr,{type:"reset",secondary:!0,children:"Cancel"}),de.jsx(Vr,{type:"submit",primary:!0,children:"Submit"})]})]})},I2e=({location:t})=>{const e=sP();return ae.useEffect(()=>{e.flyTo(t)},[t,e]),null},M2e=t=>{const{tileServer:e}=$n(),n=ae.useMemo(()=>[t.location.lat,t.location.long],[t.location.lat,t.location.long]);return de.jsxs(de.Fragment,{children:[de.jsxs(oP,{className:cA.mapContainer,attributionControl:!1,zoom:12,center:n,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[de.jsx(lP,{url:e}),de.jsx(uP,{position:n}),de.jsx(I2e,{location:n})]}),de.jsxs("div",{className:cA.description,children:[t.description," ",de.jsx("a",{href:t.id,target:"_blank",rel:"noopener noreferrer",children:de.jsx(mB,{})})]})]})},D2e=()=>{const t=Ds(G0),e=Us();return ae.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const s=vl(),o=a+s,l=`${o}#accommodation`;return await t.mutateAsync({uri:o,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[r.description],location:{"@id":`${o}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}}}),await e.mutateAsync({uri:i,patch:`
          _:mutate a <${Hn.InsertDeletePatch}>;
            <${Hn.inserts}> { <${n}> <${Cl.offers}> <${l}>. }.
        `}),{uri:l}},[t,e])},k2e=()=>{const t=Us(),e=W0();return ae.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await t.mutateAsync({uri:i,patch:`
          _:mutate a <${Hn.InsertDeletePatch}>;
            <${Hn.deletes}> { <${r}> <${Cl.offers}> <${n}>. }.
        `}),await e.mutateAsync({uri:n})},[e,t])};var G2,j$;function N2e(){if(j$)return G2;j$=1;for(var t="0123456789bcdefghjkmnpqrstuvwxyz",e={},n=0;n<t.length;n++)e[t.charAt(n)]=n;var r="auto",i=-90,a=90,s=-180,o=180,l=[0,5,7,8,11,12,13,15,16,17,18],f=function(Y,q,Z){if(Z===r){if(typeof Y=="number"||typeof q=="number")throw new Error("string notation required for auto precision.");var fe=Y.split(".")[1].length,te=q.split(".")[1].length,oe=Math.max(fe,te);Z=l[oe]}else Z===void 0&&(Z=9);for(var ge=[],_e=0,le=0,ce=0,Le=a,k=i,ne=o,me=s,H;ge.length<Z;)if(le%2===0?(H=(ne+me)/2,q>H?(ce=(ce<<1)+1,me=H):(ce=(ce<<1)+0,ne=H)):(H=(Le+k)/2,Y>H?(ce=(ce<<1)+1,k=H):(ce=(ce<<1)+0,Le=H)),_e++,le++,_e===5){var J=t[ce];ge.push(J),_e=0,ce=0}return ge.join("")},h=function(Y,q,Z){Z=Z||52;for(var fe=0,te=a,oe=i,ge=o,_e=s,le,ce=0;fe<Z;)ce*=2,fe%2===0?(le=(ge+_e)/2,q>le?(ce+=1,_e=le):ge=le):(le=(te+oe)/2,Y>le?(ce+=1,oe=le):te=le),fe++;return ce},p=function(Y){for(var q=!0,Z=a,fe=i,te=o,oe=s,ge,_e=0,le=0,ce=Y.length;le<ce;le++){var Le=Y[le].toLowerCase();_e=e[Le];for(var k=4;k>=0;k--){var ne=_e>>k&1;q?(ge=(te+oe)/2,ne===1?oe=ge:te=ge):(ge=(Z+fe)/2,ne===1?fe=ge:Z=ge),q=!q}}return[fe,oe,Z,te]},m=function(Y,q){q=q||52;for(var Z=a,fe=i,te=o,oe=s,ge=0,_e=0,le=q/2,ce=0;ce<le;ce++)_e=y(Y,(le-ce)*2-1),ge=y(Y,(le-ce)*2-2),ge===0?Z=(Z+fe)/2:fe=(Z+fe)/2,_e===0?te=(te+oe)/2:oe=(te+oe)/2;return[fe,oe,Z,te]};function y(Y,q){return Y/Math.pow(2,q)&1}var _=function(Y){var q=p(Y),Z=(q[0]+q[2])/2,fe=(q[1]+q[3])/2,te=q[2]-Z,oe=q[3]-fe;return{latitude:Z,longitude:fe,error:{latitude:te,longitude:oe}}},b=function(Y,q){var Z=m(Y,q),fe=(Z[0]+Z[2])/2,te=(Z[1]+Z[3])/2,oe=Z[2]-fe,ge=Z[3]-te;return{latitude:fe,longitude:te,error:{latitude:oe,longitude:ge}}},S=function(Y,q){var Z=_(Y),fe=Z.latitude+q[0]*Z.error.latitude*2,te=Z.longitude+q[1]*Z.error.longitude*2;return te=D(te),fe=j(fe),f(fe,te,Y.length)},x=function(Y,q,Z){Z=Z||52;var fe=b(Y,Z),te=fe.latitude+q[0]*fe.error.latitude*2,oe=fe.longitude+q[1]*fe.error.longitude*2;return oe=D(oe),te=j(te),h(te,oe,Z)},E=function(Y){var q=Y.length,Z=_(Y),fe=Z.latitude,te=Z.longitude,oe=Z.error.latitude*2,ge=Z.error.longitude*2,_e,le,ce=[Le(1,0),Le(1,1),Le(0,1),Le(-1,1),Le(-1,0),Le(-1,-1),Le(0,-1),Le(1,-1)];function Le(k,ne){return _e=fe+k*oe,le=te+ne*ge,le=D(le),_e=j(_e),f(_e,le,q)}return ce},A=function(Y,q){q=q||52;var Z=b(Y,q),fe=Z.latitude,te=Z.longitude,oe=Z.error.latitude*2,ge=Z.error.longitude*2,_e,le,ce=[Le(1,0),Le(1,1),Le(0,1),Le(-1,1),Le(-1,0),Le(-1,-1),Le(0,-1),Le(1,-1)];function Le(k,ne){return _e=fe+k*oe,le=te+ne*ge,le=D(le),_e=j(_e),h(_e,le,q)}return ce},I=function(Y,q,Z,fe,te){te=te||9;for(var oe=f(Y,q,te),ge=f(Z,fe,te),_e=_(oe),le=_e.error.latitude*2,ce=_e.error.longitude*2,Le=p(oe),k=p(ge),ne=Math.round((k[0]-Le[0])/le),me=Math.round((k[1]-Le[1])/ce),H=[],J=0;J<=ne;J++)for(var pe=0;pe<=me;pe++)H.push(S(oe,[J,pe]));return H},M=function(Y,q,Z,fe,te){te=te||52;for(var oe=h(Y,q,te),ge=h(Z,fe,te),_e=b(oe,te),le=_e.error.latitude*2,ce=_e.error.longitude*2,Le=m(oe,te),k=m(ge,te),ne=Math.round((k[0]-Le[0])/le),me=Math.round((k[1]-Le[1])/ce),H=[],J=0;J<=ne;J++)for(var pe=0;pe<=me;pe++)H.push(x(oe,[J,pe],te));return H};function D(Y){return Y>o?s+Y%o:Y<s?o+Y%o:Y}function j(Y){return Y>a?a:Y<i?i:Y}var Q={ENCODE_AUTO:r,encode:f,encode_uint64:h,encode_int:h,decode:_,decode_int:b,decode_uint64:b,decode_bbox:p,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:S,neighbor_int:x,neighbors:E,neighbors_int:A,bboxes:I,bboxes_int:M};return G2=Q,G2}var F2e=N2e();const tm=Gr(F2e),j2e=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Document",id:e}}),$2e=t=>async e=>{const n=await yr(new URL("/inbox",t),{method:"POST",body:JSON.stringify(j2e(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new xm("Geoindex responded with error",n);return{...e,status:n.status}},$$=(t="")=>{const e=[];for(let n=1;n<=t.length;n++)e.push(t.substring(0,n));return e},U2e=()=>{const{geoindexService:t}=$n(),e=xa(),{mutateAsync:n}=fs({mutationFn:$2e(t),onSuccess:async({previousLocation:a,currentLocation:s})=>{const o=[];if(a){const l=tm.encode(a.lat,a.long,10);o.push(...$$(l))}if(s){const l=tm.encode(s.lat,s.long,10);o.push(...$$(l))}await Promise.allSettled(o.map(l=>e.invalidateQueries({queryKey:["geoindex",l]})))}}),r=!!t,i=ae.useCallback(async a=>await n(a),[n]);return ae.useMemo(()=>[r,i],[r,i])},B2e=(t,e,n="en")=>{const{variables:r,quads:i,isLoading:a}=wa({query:j8,variables:ae.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:yr});return ae.useMemo(()=>{const s=Zn.createLdoDataset(i);return[(r.offer??[]).map(f=>s.usingType(G0).fromSubject(f)).filter(f=>{var h,p;return((h=f==null?void 0:f.location)==null?void 0:h.lat)!==void 0&&((p=f==null?void 0:f.location)==null?void 0:p.long)!==void 0}).map(f=>{var _,b;const h=f&&Zn.languagesOf(f,"description"),p=((_=h==null?void 0:h[n])==null?void 0:_.values().next().value)??"",m=[f.location.lat].flat()[0]??0,y=[f.location.long].flat()[0]??0;return{id:f["@id"]??"",description:p,location:{lat:m,long:y},offeredBy:((b=f.offeredBy)==null?void 0:b["@id"])??""}}),a]},[a,n,i,r.offer])},q2e={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},z2e={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},H2e={schema:z2e,shape:"https://example.com/Accommodation",context:q2e},V2e=()=>{const t=cu(H2e);return ae.useCallback(async({data:{id:e,...n},language:r="en"})=>{await t.mutateAsync({uri:e,subject:e,language:r,transform:i=>{n.description&&(i.description=[n.description]),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[t])},K2e=()=>{const{communityId:t}=$n(),e=Ui(),[n,r]=ae.useState(),{personalHospexDocuments:i}=a9(e.webId??"",t),[a]=B2e(e.webId??"",t),s=D2e(),o=V2e(),l=k2e(),[f,h]=U2e(),p=ae.useCallback(async({uri:b,type:S,previousLocation:x,currentLocation:E})=>{f&&e.webId&&await lo(h({type:S,actor:e.webId,object:b,previousLocation:x,currentLocation:E}),{pending:"Notifying indexing service",success:{render:({data:A})=>{switch(A.status){case 201:return de.jsx(de.Fragment,{children:"Accommodation added to indexing service"});case 200:return de.jsx(de.Fragment,{children:"Accommodation updated in indexing service"});case 204:return de.jsx(de.Fragment,{children:"Accommodation removed from indexing service"});default:return de.jsx(de.Fragment,{children:"Unexpected status code from indexing service"})}}}})},[e.webId,f,h]);if(typeof e.webId!="string")return null;if(!a)return de.jsx(ba,{children:"Loading..."});const m=async b=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");const{uri:S}=await lo(s({personId:e.webId,data:b,hospexDocument:i[0],hospexContainer:ri(i[0])}),{pending:"Creating accommodation",success:"Accommodation created"});r(void 0),await p({type:"Create",uri:S,currentLocation:b.location})},y=async(b,S)=>{await lo(o({data:b}),{pending:"Updating accommodation",success:"Accommodation updated"}),r(void 0),await p({type:"Update",uri:b.id,currentLocation:b.location,previousLocation:S.location})},_=async({id:b,location:S})=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");globalThis.confirm("Do you really want to delete the accommodation?")&&(await lo(l({id:b,personId:e.webId,hospexDocument:i[0]}),{pending:"Deleting accommodation",success:"Accommodation deleted"}),await p({type:"Delete",uri:b,previousLocation:S}))};return de.jsxs("div",{className:us.container,children:[de.jsxs("h1",{className:us.header,children:[de.jsx(gB,{size:32})," My Accommodation Offers"]}),de.jsx("ul",{style:{display:"contents"},children:a.map(b=>n===b.id?de.jsx(F$,{onSubmit:S=>y(S,b),onCancel:()=>{r(void 0)},initialData:b},b.id):de.jsxs("li",{className:us.accommodation,"data-cy":"offer-accommodation-item",children:[de.jsx(M2e,{...b}),de.jsxs("div",{className:us.actions,children:[de.jsx(Vr,{secondary:!0,onClick:()=>{r(b.id)},children:"Edit"}),de.jsx(Vr,{danger:!0,onClick:()=>_(b),children:"Delete"})]})]},b.id))}),n==="new"?de.jsx(F$,{onSubmit:m,onCancel:()=>r(void 0)}):de.jsx(Vr,{primary:!0,onClick:()=>r("new"),className:us.addAccommodationButton,children:"Add Accommodation"})]})},G2e=()=>de.jsx(de.Fragment,{children:"MyTravelPlans"}),W2e=()=>de.jsx("div",{children:"404"}),Q2e=t=>{const{data:e}=YA(t.src);return e?de.jsx("img",{...t,src:e,alt:t.alt??"","data-src":t.src}):null},Z2e="_container_16bhv_1",J2e="_name_16bhv_7",Y2e="_about_16bhv_14",X2e="_photo_16bhv_17",f_={container:Z2e,name:J2e,about:Y2e,photo:X2e},eCe=()=>{const{communityId:t}=$n(),e=SA().id,n=Ui(),r=e&&n.webId?e===n.webId:void 0,[i]=ks(e,t),[a]=ks(n.webId,t);return de.jsxs("div",{className:f_.container,children:[de.jsx(Q2e,{className:f_.photo,src:i.photo,alt:`Profile photo of ${i.name}`,"data-cy":"profile-photo"}),de.jsxs("header",{className:f_.name,"data-cy":"profile-name",children:[i.name," ",de.jsx(Cce,{href:e})]}),de.jsx("section",{className:f_.about,"data-cy":"profile-about",children:i.about}),r&&de.jsxs(jc,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[de.jsx(gce,{})," edit profile"]}),r===!1&&de.jsx(jc,{secondary:!0,to:`/messages/${encodeURIComponent(e)}`,children:"Write a message"}),de.jsx(jc,{tertiary:!0,to:"contacts",children:"contacts"}),r===!1&&de.jsx(sbe,{webId:e}),de.jsx("section",{children:i.interests?de.jsx(yge,{ids:i.interests,highlighted:r?[]:a.interests??[]}):de.jsx(ba,{children:"loading interests..."})})]})},tCe=()=>{const t=Ui();return t.webId?de.jsx(EA,{to:encodeURIComponent(t.webId),replace:!0}):de.jsx(ba,{children:"authenticating"})},nCe="_bar_1x3gh_1",rCe="_animate_1x3gh_17",iCe="_progress_1x3gh_1",U$={bar:nCe,animate:rCe,progress:iCe},aCe=({animate:t=!1})=>de.jsx("div",{className:ii(U$.bar,t&&U$.animate)}),sCe=async({geohash:t,geoindex:e})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${t}"`)}`,e).toString(),r=await yr(n);if(!r.ok)throw new xm("geoindex returned invalid response",r);const i=await r.text(),s=new Bd({format:r.headers.get("content-type")??void 0}).parse(i),o=new ho(s);return o.getSubjects("https://example.com/ns#geohash",`"${t}"`,null).map(f=>{const h=o.getObjects(f,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),p=tm.decode(h);return{uri:f.value,geohash:h,location:p}})},oCe=(t,e)=>{const{geoindexService:n}=$n(),[r,i]=ae.useState(0),[a,s]=ae.useState(0),o=!n||r>a,l=ae.useMemo(()=>e?tm.bboxes(e.s,e.w,e.n,e.e,1):[],[e]),f=ae.useMemo(()=>l.map(x=>({queryKey:["geoindex",x],queryFn:()=>sCe({geohash:x,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),h=mA({queries:f,combine:x=>({isError:x.some(E=>E.isError),isPending:x.some(E=>E.isPending),isSuccess:x.every(E=>E.isSuccess),errors:x.filter(E=>E.error).map(E=>E.error),data:x.filter(E=>E.data).flatMap(E=>E.data)})});ae.useEffect(()=>{h.isError&&i(Date.now())},[h.isError]),ae.useEffect(()=>{h.isSuccess&&s(Date.now())},[h.isSuccess]);const p=ae.useMemo(()=>o?{query:fhe,variables:{community:[t]},fetch:yr,store:new ho}:{query:[],variables:{},fetch:yr},[t,o]),{quads:m,isMissing:y}=wa(p),_=ae.useMemo(()=>[Zn.createLdoDataset(m).usingType(G0).matchObject(null,Cl.offers).filter(A=>A.location).map(A=>{var I,M,D;return{id:A["@id"]??"",description:((I=A.description)==null?void 0:I[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((M=A.offeredBy)==null?void 0:M["@id"])??"",name:((D=A.offeredBy)==null?void 0:D.name)??""}}}),y],[y,m]),b=ae.useMemo(()=>[h.data.map(({uri:x,location:E})=>({id:x,location:{lat:E.latitude,long:E.longitude},offeredBy:{id:"",name:""}})),h.isPending],[h.data,h.isPending]);return ae.useMemo(()=>[Yle("id",b[0],_[0]),b[1]||_[1]],[b,_])};var Sg={exports:{}},uCe=Sg.exports,B$;function lCe(){return B$||(B$=1,function(t,e){(function(n,r){r(e)})(uCe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=a,o=this._zoom;if(a.__parent)for(;s.__parent._zoom>=o;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,s):this._animationAddLayerNonAnimated(a,s)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,s){if(!L.Util.isArray(a))return this.addLayer(a);var o=this._featureGroup,l=this._nonPointGroup,f=this.options.chunkedLoading,h=this.options.chunkInterval,p=this.options.chunkProgress,m=a.length,y=0,_=!0,b;if(this._map){var S=new Date().getTime(),x=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(f&&y%200===0){var I=new Date().getTime()-A;if(I>h)break}if(b=a[y],b instanceof L.LayerGroup){_&&(a=a.slice(),_=!1),this._extractNonGroupLayers(b,a),m=a.length;continue}if(!b.getLatLng){l.addLayer(b),s||this.fire("layeradd",{layer:b});continue}if(!this.hasLayer(b)&&(this._addLayer(b,this._maxZoom),s||this.fire("layeradd",{layer:b}),b.__parent&&b.__parent.getChildCount()===2)){var M=b.__parent.getAllChildMarkers(),D=M[0]===b?M[1]:M[0];o.removeLayer(D)}}p&&p(y,m,new Date().getTime()-S),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(x,this.options.chunkDelay)},this);x()}else for(var E=this._needsClustering;y<m;y++){if(b=a[y],b instanceof L.LayerGroup){_&&(a=a.slice(),_=!1),this._extractNonGroupLayers(b,a),m=a.length;continue}if(!b.getLatLng){l.addLayer(b);continue}this.hasLayer(b)||E.push(b)}return this},removeLayers:function(a){var s,o,l=a.length,f=this._featureGroup,h=this._nonPointGroup,p=!0;if(!this._map){for(s=0;s<l;s++){if(o=a[s],o instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}this._arraySplice(this._needsClustering,o),h.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=l;for(s=0;s<y;s++){if(o=m[s],o instanceof L.LayerGroup){this._extractNonGroupLayers(o,m),y=m.length;continue}this._unspiderfyLayer(o)}}for(s=0;s<l;s++){if(o=a[s],o instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}if(!o.__parent){h.removeLayer(o),this.fire("layerremove",{layer:o});continue}this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),f.hasLayer(o)&&(f.removeLayer(o),o.clusterShow&&o.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)a.extend(this._needsClustering[s].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,s){var o=this._needsClustering.slice(),l=this._needsRemoving,f,h,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),h=o.length-1;h>=0;h--){for(f=!0,p=l.length-1;p>=0;p--)if(l[p].layer===o[h]){f=!1;break}f&&a.call(s,o[h])}this._nonPointGroup.eachLayer(a,s)},getLayers:function(){var a=[];return this.eachLayer(function(s){a.push(s)}),a},getLayer:function(a){var s=null;return a=parseInt(a,10),this.eachLayer(function(o){L.stamp(o)===a&&(s=o)}),s},hasLayer:function(a){if(!a)return!1;var s,o=this._needsClustering;for(s=o.length-1;s>=0;s--)if(o[s]===a)return!0;for(o=this._needsRemoving,s=o.length-1;s>=0;s--)if(o[s].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,s){var o=this._map;typeof s!="function"&&(s=function(){});var l=function(){(o.hasLayer(a)||o.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),o.hasLayer(a)?s():a.__parent._icon&&(this.once("spiderfied",s,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?s():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var s,o,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,s=0,o=this._needsRemoving.length;s<o;s++)l=this._needsRemoving[s],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(s=0,o=this._needsRemoving.length;s<o;s++)l=this._needsRemoving[s],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),o=this._needsClustering,this._needsClustering=[],this.addLayers(o,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var s=a;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(a,s){for(var o=a.length-1;o>=0;o--)if(a[o]===s)return a.splice(o,1),!0},_removeFromGridUnclustered:function(a,s){for(var o=this._map,l=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());s>=f&&l[s].removeObject(a,o.project(a.getLatLng(),s));s--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var s=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),s&&a.target.openPopup()}},_moveChild:function(a,s,o){a._latlng=s,this.removeLayer(a),a._latlng=o,this.addLayer(a)},_childMarkerDragEnd:function(a){var s=a.target.__dragStart;delete a.target.__dragStart,s&&this._moveChild(a.target,s,a.target._latlng)},_removeLayer:function(a,s,o){var l=this._gridClusters,f=this._gridUnclustered,h=this._featureGroup,p=this._map,m=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,_=y._markers,b;for(this._arraySplice(_,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)s&&y._childCount<=1?(b=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,p.project(y._cLatLng,y._zoom)),f[y._zoom].addObject(b,p.project(b.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(b),b.__parent=y.__parent,y._icon&&(h.removeLayer(y),o||h.addLayer(b))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,s){for(;s;){if(a===s)return!0;s=s.parentNode}return!1},fire:function(a,s,o){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,s,o)},listens:function(a,s){return L.FeatureGroup.prototype.listens.call(this,a,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,s)},_defaultIconCreateFunction:function(a){var s=a.getChildCount(),o=" marker-cluster-";return s<10?o+="small":s<100?o+="medium":o+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+o,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,s=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(s||l||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var s=a.layer,o=s;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;o._childClusters.length===1;)o=o._childClusters[0];o._zoom===this._maxZoom&&o._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,f=this._map;(a||o||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,l=o;typeof o!="function"&&(l=function(){return o}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var f=a;f>=s;f--)this._gridClusters[f]=new L.DistanceGrid(l(f)),this._gridUnclustered[f]=new L.DistanceGrid(l(f));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(a,s){var o=this._gridClusters,l=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),h,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);s>=f;s--){h=this._map.project(a.getLatLng(),s);var m=o[s].getNearObject(h);if(m){m._addChild(a),a.__parent=m;return}if(m=l[s].getNearObject(h),m){var y=m.__parent;y&&this._removeLayer(m,!1);var _=new this._markerCluster(this,s,m,a);o[s].addObject(_,this._map.project(_._cLatLng,s)),m.__parent=_,a.__parent=_;var b=_;for(p=s-1;p>y._zoom;p--)b=new this._markerCluster(this,p,b),o[p].addObject(b,this._map.project(m.getLatLng(),p));y._addChild(b),this._removeFromGridUnclustered(m,s);return}l[s].addObject(a,h)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var s=this._maxLat;return s!==void 0&&(a.getNorth()>=s&&(a._northEast.lat=1/0),a.getSouth()<=-s&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,s){if(s===a)this._featureGroup.addLayer(a);else if(s._childCount===2){s._addToMap();var o=s.getAllChildMarkers();this._featureGroup.removeLayer(o[0]),this._featureGroup.removeLayer(o[1])}else s._updateIcon()},_extractNonGroupLayers:function(a,s){var o=a.getLayers(),l=0,f;for(s=s||[];l<o.length;l++){if(f=o[l],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,s);continue}s.push(f)}return s},_overrideMarkerIcon:function(a){var s=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,s){this._animationAddLayerNonAnimated(a,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,s){var o=this._getExpandedVisibleBounds(),l=this._featureGroup,f=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(o,a,f,function(p){var m=p._latlng,y=p._markers,_;for(o.contains(m)||(m=null),p._isSingleParent()&&a+1===s?(l.removeLayer(p),p._recursivelyAddChildrenToMap(null,s,o)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,s,o)),h=y.length-1;h>=0;h--)_=y[h],o.contains(_._latlng)||l.removeLayer(_)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(o,s),l.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(o,a,s,function(p){p._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(o,a,f,function(p){l.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,s){this._animationZoomOutSingle(this._topClusterLevel,a-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,s){var o=this,l=this._featureGroup;l.addLayer(a),s!==a&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(s.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),o._animationEnd()})):(this._forceLayout(),o._animationStart(),o._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,s,o){var l=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,f,s+1,o);var h=this;this._forceLayout(),a._recursivelyBecomeVisible(l,o),this._enqueue(function(){if(a._childCount===1){var p=a._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else a._recursively(l,o,f,function(m){m._recursivelyRemoveChildrenFromMap(l,f,s+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,s,o,l){L.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,o&&this._addChild(o),l&&this._addChild(l)},getAllChildMarkers:function(a,s){a=a||[];for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o].getAllChildMarkers(a,s);for(var l=this._markers.length-1;l>=0;l--)s&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var s=this._childClusters.slice(),o=this._group._map,l=o.getBoundsZoom(this._bounds),f=this._zoom+1,h=o.getZoom(),p;s.length>0&&l>f;){f++;var m=[];for(p=0;p<s.length;p++)m=m.concat(s[p]._childClusters);s=m}l>f?this._group._map.setView(this._latlng,f):l<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(s||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(s||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,s=this._childClusters,o=0,l=0,f=this._childCount,h,p,m,y;if(f!==0){for(this._resetBounds(),h=0;h<a.length;h++)m=a[h]._latlng,this._bounds.extend(m),o+=m.lat,l+=m.lng;for(h=0;h<s.length;h++)p=s[h],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),m=p._wLatLng,y=p._childCount,o+=m.lat*y,l+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(o/f,l/f),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,s,o){this._recursively(a,this._group._map.getMinZoom(),o-1,function(l){var f=l._markers,h,p;for(h=f.length-1;h>=0;h--)p=f[h],p._icon&&(p._setPos(s),p.clusterHide())},function(l){var f=l._childClusters,h,p;for(h=f.length-1;h>=0;h--)p=f[h],p._icon&&(p._setPos(s),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,s,o,l){this._recursively(a,l,s,function(f){f._recursivelyAnimateChildrenIn(a,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),o),f._isSingleParent()&&o-1===l?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(a,s,o)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(a,s){this._recursively(a,this._group._map.getMinZoom(),s,null,function(o){o.clusterShow()})},_recursivelyAddChildrenToMap:function(a,s,o){this._recursively(o,this._group._map.getMinZoom()-1,s,function(l){if(s!==l._zoom)for(var f=l._markers.length-1;f>=0;f--){var h=l._markers[f];o.contains(h._latlng)&&(a&&(h._backupLatlng=h.getLatLng(),h.setLatLng(a),h.clusterHide&&h.clusterHide()),l._group._featureGroup.addLayer(h))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var s=this._markers.length-1;s>=0;s--){var o=this._markers[s];o._backupLatlng&&(o.setLatLng(o._backupLatlng),delete o._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,s,o,l){var f,h;this._recursively(a,s-1,o-1,function(p){for(h=p._markers.length-1;h>=0;h--)f=p._markers[h],(!l||!l.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(p){for(h=p._childClusters.length-1;h>=0;h--)f=p._childClusters[h],(!l||!l.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(a,s,o,l,f){var h=this._childClusters,p=this._zoom,m,y;if(s<=p&&(l&&l(this),f&&p===o&&f(this)),p<s||p<o)for(m=h.length-1;m>=0;m--)y=h[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,s,o,l,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,s){var o=this._getCoord(s.x),l=this._getCoord(s.y),f=this._grid,h=f[l]=f[l]||{},p=h[o]=h[o]||[],m=L.Util.stamp(a);this._objectPoint[m]=s,p.push(a)},updateObject:function(a,s){this.removeObject(a),this.addObject(a,s)},removeObject:function(a,s){var o=this._getCoord(s.x),l=this._getCoord(s.y),f=this._grid,h=f[l]=f[l]||{},p=h[o]=h[o]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=p.length;m<y;m++)if(p[m]===a)return p.splice(m,1),y===1&&delete h[o],!0},eachObject:function(a,s){var o,l,f,h,p,m,y,_=this._grid;for(o in _){p=_[o];for(l in p)for(m=p[l],f=0,h=m.length;f<h;f++)y=a.call(s,m[f]),y&&(f--,h--)}},getNearObject:function(a){var s=this._getCoord(a.x),o=this._getCoord(a.y),l,f,h,p,m,y,_,b,S=this._objectPoint,x=this._sqCellSize,E=null;for(l=o-1;l<=o+1;l++)if(p=this._grid[l],p){for(f=s-1;f<=s+1;f++)if(m=p[f],m)for(h=0,y=m.length;h<y;h++)_=m[h],b=this._sqDist(S[L.Util.stamp(_)],a),(b<x||b<=x&&E===null)&&(x=b,E=_)}return E},_getCoord:function(a){var s=Math.floor(a/this._cellSize);return isFinite(s)?s:a},_sqDist:function(a,s){var o=s.x-a.x,l=s.y-a.y;return o*o+l*l}},function(){L.QuickHull={getDistant:function(a,s){var o=s[1].lat-s[0].lat,l=s[0].lng-s[1].lng;return l*(a.lat-s[0].lat)+o*(a.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(a,s){var o=0,l=null,f=[],h,p,m;for(h=s.length-1;h>=0;h--){if(p=s[h],m=this.getDistant(p,a),m>0)f.push(p);else continue;m>o&&(o=m,l=p)}return{maxPoint:l,newPoints:f}},buildConvexHull:function(a,s){var o=[],l=this.findMostDistantPointFromBaseLine(a,s);return l.maxPoint?(o=o.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),o=o.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),o):[a[0]]},getConvexHull:function(a){var s=!1,o=!1,l=!1,f=!1,h=null,p=null,m=null,y=null,_=null,b=null,S;for(S=a.length-1;S>=0;S--){var x=a[S];(s===!1||x.lat>s)&&(h=x,s=x.lat),(o===!1||x.lat<o)&&(p=x,o=x.lat),(l===!1||x.lng>l)&&(m=x,l=x.lng),(f===!1||x.lng<f)&&(y=x,f=x.lng)}o!==s?(b=p,_=h):(b=y,_=m);var E=[].concat(this.buildConvexHull([b,_],a),this.buildConvexHull([_,b],a));return E}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),s=[],o,l;for(l=a.length-1;l>=0;l--)o=a[l].getLatLng(),s.push(o);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),s=this._group,o=s._map,l=o.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(a.length,l):(l.y+=10,f=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,f)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,s){var o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=o/this._2PI,f=this._2PI/a,h=[],p,m;for(l=Math.max(l,35),h.length=a,p=0;p<a;p++)m=this._circleStartAngle+p*f,h[p]=new L.Point(s.x+l*Math.cos(m),s.y+l*Math.sin(m))._round();return h},_generatePointsSpiral:function(a,s){var o=this._group.options.spiderfyDistanceMultiplier,l=o*this._spiralLengthStart,f=o*this._spiralFootSeparation,h=o*this._spiralLengthFactor*this._2PI,p=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(s.x+l*Math.cos(p),s.y+l*Math.sin(p))._round()),p+=f/l+y*5e-4,l+=h/p;return m},_noanimationUnspiderfy:function(){var a=this._group,s=a._map,o=a._featureGroup,l=this.getAllChildMarkers(null,!0),f,h;for(a._ignoreMove=!0,this.setOpacity(1),h=l.length-1;h>=0;h--)f=l[h],o.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(s.removeLayer(f._spiderLeg),delete f._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,s){var o=this._group,l=o._map,f=o._featureGroup,h=this._group.options.spiderLegPolylineOptions,p,m,y,_;for(o._ignoreMove=!0,p=0;p<a.length;p++)_=l.layerPointToLatLng(s[p]),m=a[p],y=new L.Polyline([this._latlng,_],h),l.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(_),m.setZIndexOffset&&m.setZIndexOffset(1e6),f.addLayer(m);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,s){var o=this,l=this._group,f=l._map,h=l._featureGroup,p=this._latlng,m=f.latLngToLayerPoint(p),y=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),b=_.opacity,S,x,E,A,I,M;for(b===void 0&&(b=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=b,l._ignoreMove=!0,S=0;S<a.length;S++)x=a[S],M=f.layerPointToLatLng(s[S]),E=new L.Polyline([p,M],_),f.addLayer(E),x._spiderLeg=E,y&&(A=E._path,I=A.getTotalLength()+.1,A.style.strokeDasharray=I,A.style.strokeDashoffset=I),x.setZIndexOffset&&x.setZIndexOffset(1e6),x.clusterHide&&x.clusterHide(),h.addLayer(x),x._setPos&&x._setPos(m);for(l._forceLayout(),l._animationStart(),S=a.length-1;S>=0;S--)M=f.layerPointToLatLng(s[S]),x=a[S],x._preSpiderfyLatlng=x._latlng,x.setLatLng(M),x.clusterShow&&x.clusterShow(),y&&(E=x._spiderLeg,A=E._path,A.style.strokeDashoffset=0,E.setStyle({opacity:b}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:o,markers:a})},200)},_animationUnspiderfy:function(a){var s=this,o=this._group,l=o._map,f=o._featureGroup,h=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,_,b,S,x,E;for(o._ignoreMove=!0,o._animationStart(),this.setOpacity(1),_=p.length-1;_>=0;_--)y=p[_],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,E=!0,y._setPos&&(y._setPos(h),E=!1),y.clusterHide&&(y.clusterHide(),E=!1),E&&f.removeLayer(y),m&&(b=y._spiderLeg,S=b._path,x=S.getTotalLength()+.1,S.style.strokeDashoffset=x,b.setStyle({opacity:0})));o._ignoreMove=!1,setTimeout(function(){var A=0;for(_=p.length-1;_>=0;_--)y=p[_],y._spiderLeg&&A++;for(_=p.length-1;_>=0;_--)y=p[_],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&f.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);o._animationEnd(),o.fire("unspiderfied",{cluster:s,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var s,o;for(s in a)for(o=a[s].__parent;o;)o._iconNeedsUpdate=!0,o=o.__parent},_refreshSingleMarkerModeMarkers:function(a){var s,o;for(s in a)o=a[s],this.hasLayer(o)&&o.setIcon(this._overrideMarkerIcon(o))}}),L.Marker.include({refreshIconOptions:function(a,s){var o=this.options.icon;return L.setOptions(o,a),this.setIcon(o),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(Sg,Sg.exports)),Sg.exports}lCe();function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}var cCe=["children"];function q$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(n),!0).forEach(function(r){fCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fCe(t,e,n){return(e=dCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dCe(t){var e=hCe(t,"string");return nm(e)=="symbol"?e:e+""}function hCe(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H$(t,e){return yCe(t)||mCe(t,e)||gCe(t,e)||pCe()}function pCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gCe(t,e){if(t){if(typeof t=="string")return V$(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V$(t,e):void 0}}function V$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){f=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function yCe(t){if(Array.isArray(t))return t}function vCe(t,e){if(t==null)return{};var n,r,i=_Ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}FA.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(e){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(e)}});FA.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function wCe(t,e){t.children;var n=vCe(t,cCe),r={},i={};Object.entries(n).forEach(function(s){var o=H$(s,2),l=o[0],f=o[1];return l.startsWith("on")?i[l]=f:r[l]=f});var a=new FA.MarkerClusterGroup(r);return Object.entries(i).forEach(function(s){var o=H$(s,2),l=o[0],f=o[1],h="cluster".concat(l.substring(2).toLowerCase());a.on(h,f)}),{instance:a,context:z$(z$({},e),{},{layerContainer:a})}}var bCe=rTe(wCe);const SCe=({accommodationId:t})=>{var f;const{communityId:e}=$n(),{quads:n,variables:r,isLoading:i}=wa(ae.useMemo(()=>({query:dhe,variables:{offer:[t]},fetch:yr}),[t])),[a,,,,s]=ks(((f=r.person)==null?void 0:f[0])??"",e),o=ae.useMemo(()=>Zn.createLdoDataset(n).usingType(G0).fromSubject(t),[t,n]),l=ae.useMemo(()=>{var y,_,b;if(!o)return;const h=(y=o==null?void 0:o.location)==null?void 0:y.lat,p=(_=o==null?void 0:o.location)==null?void 0:_.long;return{id:o["@id"]??"",description:((b=o.description)==null?void 0:b[0])??"",location:{lat:h,long:p},offeredBy:a??s??{}}},[s,o,a]);return ae.useMemo(()=>[l,{isLoading:i}],[l,i])},xCe="_container_5yist_1",ECe="_person_5yist_6",TCe="_name_5yist_11",CCe="_accommodation_5yist_14",d_={container:xCe,person:ECe,name:TCe,accommodation:CCe},ACe=({accommodationId:t})=>{const{webId:e}=Ui(),[n]=SCe({accommodationId:t}),r=e&&(n==null?void 0:n.offeredBy)&&e!==n.offeredBy.id;return de.jsxs("div",{className:d_.container,children:[n?de.jsxs(de.Fragment,{children:[de.jsx("div",{className:d_.person,children:de.jsxs(Rs,{to:`/profile/${encodeURIComponent(n.offeredBy.id)}`,style:{display:"contents"},children:[de.jsx(L0,{...n.offeredBy,size:1.5,square:!0}),de.jsx("span",{className:d_.name,"data-cy":"accommodation-info-name",children:n.offeredBy.name})]})}),de.jsx("div",{className:d_.accommodation,"data-cy":"accommodation-info-description",children:n.description})]}):"loading...",r?de.jsx(jc,{primary:!0,to:`/messages/${encodeURIComponent(n.offeredBy.id)}`,children:"Write a message"}):null]})},RCe="_container_19njf_1",PCe="_offerOverlay_19njf_18",OCe="_closeButton_19njf_28",LCe="_mapContainer_19njf_34",h_={container:RCe,offerOverlay:PCe,closeButton:OCe,mapContainer:LCe},ICe=()=>{const{communityId:t,tileServer:e}=$n(),[n,r]=jK(),i=n.get("hosting"),[a,s]=ae.useState(),[o,l]=oCe(t,a),f=p=>{r({hosting:p})},h=ae.useCallback((p,m)=>s(y=>BB(y,m)?y:m),[]);return de.jsxs(de.Fragment,{children:[l&&de.jsx(aCe,{}),de.jsxs("div",{className:h_.container,children:[i&&de.jsxs("div",{className:h_.offerOverlay,children:[de.jsx("button",{onClick:()=>{r({})},className:h_.closeButton,"aria-label":"Close hosting preview",children:de.jsx(yB,{})}),de.jsx(ACe,{accommodationId:i})]}),de.jsxs(oP,{className:h_.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[de.jsx(lP,{url:e}),de.jsx($z,{strings:{title:"My location"},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),de.jsx(bCe,{maxClusterRadius:20,children:o?o.map(p=>{var m,y;return de.jsx(uP,{position:[p.location.lat,p.location.long],eventHandlers:{click:()=>{f(p.id)}},icon:p.id===i?EW:TW("geohash-"+tm.encode(p.location.lat,p.location.long,10)),alt:`Accommodation offer from ${((m=p.offeredBy)==null?void 0:m.name)||((y=p.offeredBy)==null?void 0:y.id)}`},p.id)}):null}),de.jsx(Uz,{onUpdate:h})]})]})]})},MCe=({webId:t,className:e})=>{const{communityId:n}=$n(),[r]=ks(t,n);return de.jsx(L0,{photo:r.photo,square:!0,size:1.25,className:e})},DCe="_threadList_1lsy0_1",kCe="_thread_1lsy0_1",NCe="_unread_1lsy0_14",FCe="_content_1lsy0_14",jCe="_avatar_1lsy0_17",Jf={threadList:DCe,thread:kCe,unread:NCe,content:FCe,avatar:jCe},$Ce=()=>{const t=Ui(),{data:e}=wpe(t.webId??"");return e?de.jsxs("div",{children:[de.jsx("h1",{children:"Conversations"}),de.jsx("ul",{className:Jf.threadList,children:e.map(n=>{const r=n.participants.find(i=>i!==t.webId);return de.jsx("li",{"data-cy":"thread-list-item",children:de.jsx(Rs,{to:`/messages/${encodeURIComponent(r??"")}`,children:de.jsx(UCe,{thread:n})})},n.id)})})]}):de.jsx(ba,{children:"Loading..."})},UCe=({thread:t})=>{const{communityId:e}=$n(),n=Ui(),r=t.participants.find(s=>s!==n.webId),[i]=ks(r??"",e),a=t.messages[t.messages.length-1];return de.jsxs("div",{className:ii(Jf.thread,t.status&&Jf.unread),"data-cy":t.status&&"thread-unread",children:[de.jsx(MCe,{webId:r??"",className:Jf.avatar}),de.jsxs("div",{children:[de.jsx("div",{className:Jf.name,title:i.id,children:i.name}),de.jsx("div",{className:Jf.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},BCe=()=>de.jsx(Cz,{tabs:[],children:de.jsx(v0,{})}),qCe=()=>de.jsx(EA,{to:"search",replace:!0}),zCe=IK([{path:"/",element:de.jsx(Hge,{}),children:[{path:"/",element:de.jsx(Qwe,{}),children:[{index:!0,element:de.jsx(fEe,{})},{path:"profile",children:[{index:!0,element:de.jsx(tCe,{})},{path:"edit",element:de.jsx(oEe,{})},{path:":id",element:de.jsx(eCe,{})},{path:":id/contacts",element:de.jsx(lbe,{})}]},{path:"messages",children:[{index:!0,element:de.jsx($Ce,{})},{path:":id",element:de.jsx(zEe,{})}]},{path:"host",element:de.jsx(hEe,{}),children:[{index:!0,element:de.jsx(pEe,{})},{path:"offers",element:de.jsx(K2e,{})},{path:"invite",element:de.jsx(gEe,{})},{path:"guests",element:de.jsx(HEe,{})}]},{path:"travel",element:de.jsx(BCe,{}),children:[{index:!0,element:de.jsx(qCe,{})},{path:"search",element:de.jsx(ICe,{})},{path:"plans",element:de.jsx(G2e,{})},{path:"hosts",element:de.jsx(VEe,{})}]}]},{path:"about",element:de.jsx(n0e,{})},{path:"*",element:de.jsx(W2e,{})}]}]),HCe=new R7({defaultOptions:{queries:{retry:1}}}),VCe=H7.createRoot(document.getElementById("root"));VCe.render(de.jsx(Gt.StrictMode,{children:de.jsx(aV,{store:aU,children:de.jsx(H5,{loading:null,persistor:mW,children:de.jsx(k7,{client:HCe,children:de.jsx(xK,{router:zCe})})})})}));
