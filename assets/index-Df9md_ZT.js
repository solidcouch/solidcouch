var PQ=Object.defineProperty;var RD=e=>{throw TypeError(e)};var OQ=(e,t,n)=>t in e?PQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nn=(e,t,n)=>OQ(e,typeof t!="symbol"?t+"":t,n),BS=(e,t,n)=>t.has(e)||RD("Cannot "+n);var Qe=(e,t,n)=>(BS(e,t,"read from private field"),n?n.call(e):t.get(e)),Xt=(e,t,n)=>t.has(e)?RD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ft=(e,t,n,r)=>(BS(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),fn=(e,t,n)=>(BS(e,t,"access private method"),n);var Xv=(e,t,n,r)=>({set _(i){Ft(e,t,i,n)},get _(){return Qe(e,t,r)}});function LQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var US={exports:{}},eg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function IQ(){if(AD)return eg;AD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return eg.Fragment=t,eg.jsx=n,eg.jsxs=n,eg}var PD;function MQ(){return PD||(PD=1,US.exports=IQ()),US.exports}var U=MQ(),jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cf=typeof window>"u"||"Deno"in globalThis;function Co(){}function DQ(e,t){return typeof e=="function"?e(t):e}function ZR(e){return typeof e=="number"&&e>=0&&e!==1/0}function OU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xd(e,t){return typeof e=="function"?e(t):e}function Go(e,t){return typeof e=="function"?e(t):e}function OD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==SP(o,t.options))return!1}else if(!zm(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function LD(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Tf(t.options.mutationKey)!==Tf(a))return!1}else if(!zm(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function SP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Tf)(e)}function Tf(e){return JSON.stringify(e,(t,n)=>JR(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!zm(e[n],t[n])):!1}function xP(e,t){if(e===t)return e;const n=ID(e)&&ID(t);if(n||JR(e)&&JR(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,l++):(s[d]=xP(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&l++)}return i===o&&l===i?e:s}return t}function tw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ID(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JR(e){if(!MD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!MD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function MD(e){return Object.prototype.toString.call(e)==="[object Object]"}function kQ(e){return new Promise(t=>{setTimeout(t,e)})}function XR(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?xP(e,t):t}function NQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function FQ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var LU=Symbol();function IU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===LU?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var hf,jl,uh,yU,jQ=(yU=class extends jf{constructor(){super();Xt(this,hf);Xt(this,jl);Xt(this,uh);Ft(this,uh,t=>{if(!Cf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,jl)||this.setEventListener(Qe(this,uh))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,jl))==null||t.call(this),Ft(this,jl,void 0))}setEventListener(t){var n;Ft(this,uh,t),(n=Qe(this,jl))==null||n.call(this),Ft(this,jl,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Qe(this,hf)!==t&&(Ft(this,hf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Qe(this,hf)=="boolean"?Qe(this,hf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},hf=new WeakMap,jl=new WeakMap,uh=new WeakMap,yU),EP=new jQ,lh,$l,ch,vU,$Q=(vU=class extends jf{constructor(){super();Xt(this,lh,!0);Xt(this,$l);Xt(this,ch);Ft(this,ch,t=>{if(!Cf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,$l)||this.setEventListener(Qe(this,ch))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,$l))==null||t.call(this),Ft(this,$l,void 0))}setEventListener(t){var n;Ft(this,ch,t),(n=Qe(this,$l))==null||n.call(this),Ft(this,$l,t(this.setOnline.bind(this)))}setOnline(t){Qe(this,lh)!==t&&(Ft(this,lh,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Qe(this,lh)}},lh=new WeakMap,$l=new WeakMap,ch=new WeakMap,vU),nw=new $Q;function YR(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function BQ(e){return Math.min(1e3*2**e,3e4)}function MU(e){return(e??"online")==="online"?nw.isOnline():!0}var DU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qS(e){return e instanceof DU}function kU(e){let t=!1,n=0,r=!1,i;const a=YR(),o=_=>{var S;r||(g(new DU(_)),(S=e.abort)==null||S.call(e))},s=()=>{t=!0},l=()=>{t=!1},c=()=>EP.isFocused()&&(e.networkMode==="always"||nw.isOnline())&&e.canRun(),d=()=>MU(e.networkMode)&&e.canRun(),h=_=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,_),i==null||i(),a.resolve(_))},g=_=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,_),i==null||i(),a.reject(_))},y=()=>new Promise(_=>{var S;i=w=>{(r||c())&&_(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var _;i=void 0,r||(_=e.onContinue)==null||_.call(e)}),v=()=>{if(r)return;let _;const S=n===0?e.initialPromise:void 0;try{_=S??e.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(h).catch(w=>{var D;if(r)return;const x=e.retry??(Cf?0:3),R=e.retryDelay??BQ,P=typeof R=="function"?R(n,w):R,O=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(t||!O){g(w);return}n++,(D=e.onFail)==null||D.call(e,n,w),kQ(P).then(()=>c()?void 0:y()).then(()=>{t?g(w):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():y().then(v),a)}}function UQ(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Gr=UQ(),pf,_U,NU=(_U=class{constructor(){Xt(this,pf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZR(this.gcTime)&&Ft(this,pf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cf?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,pf)&&(clearTimeout(Qe(this,pf)),Ft(this,pf,void 0))}},pf=new WeakMap,_U),fh,dh,Eo,Wi,py,gf,Vo,Su,wU,qQ=(wU=class extends NU{constructor(t){super();Xt(this,Vo);Xt(this,fh);Xt(this,dh);Xt(this,Eo);Xt(this,Wi);Xt(this,py);Xt(this,gf);Ft(this,gf,!1),Ft(this,py,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ft(this,Eo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ft(this,fh,zQ(this.options)),this.state=t.state??Qe(this,fh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Qe(this,Wi))==null?void 0:t.promise}setOptions(t){this.options={...Qe(this,py),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,Eo).remove(this)}setData(t,n){const r=XR(this.state.data,t,this.options);return fn(this,Vo,Su).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){fn(this,Vo,Su).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Qe(this,Wi))==null?void 0:r.promise;return(i=Qe(this,Wi))==null||i.cancel(t),n?n.then(Co).catch(Co):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,fh))}isActive(){return this.observers.some(t=>Go(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!OU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Wi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Wi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Qe(this,Eo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Qe(this,Wi)&&(Qe(this,gf)?Qe(this,Wi).cancel({revert:!0}):Qe(this,Wi).cancelRetry()),this.scheduleGc()),Qe(this,Eo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fn(this,Vo,Su).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Wi))return Qe(this,Wi).continueRetry(),Qe(this,Wi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ft(this,gf,!0),r.signal)})},a=()=>{const h=IU(this.options,n),g={queryKey:this.queryKey,meta:this.meta};return i(g),Ft(this,gf,!1),this.options.persister?this.options.persister(h,g,this):h(g)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Ft(this,dh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&fn(this,Vo,Su).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const s=h=>{var g,y,v,_;qS(h)&&h.silent||fn(this,Vo,Su).call(this,{type:"error",error:h}),qS(h)||((y=(g=Qe(this,Eo).config).onError)==null||y.call(g,h,this),(_=(v=Qe(this,Eo).config).onSettled)==null||_.call(v,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ft(this,Wi,kU({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var g,y,v,_;if(h===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){s(S);return}(y=(g=Qe(this,Eo).config).onSuccess)==null||y.call(g,h,this),(_=(v=Qe(this,Eo).config).onSettled)==null||_.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(h,g)=>{fn(this,Vo,Su).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{fn(this,Vo,Su).call(this,{type:"pause"})},onContinue:()=>{fn(this,Vo,Su).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Qe(this,Wi).start()}},fh=new WeakMap,dh=new WeakMap,Eo=new WeakMap,Wi=new WeakMap,py=new WeakMap,gf=new WeakMap,Vo=new WeakSet,Su=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...FU(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return qS(i)&&i.revert&&Qe(this,dh)?{...Qe(this,dh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,Eo).notify({query:this,type:"updated",action:t})})},wU);function FU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bs,bU,HQ=(bU=class extends jf{constructor(t={}){super();Xt(this,bs);this.config=t,Ft(this,bs,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??SP(i,n);let o=this.get(a);return o||(o=new qQ({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Qe(this,bs).has(t.queryHash)||(Qe(this,bs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Qe(this,bs).get(t.queryHash);n&&(t.destroy(),n===t&&Qe(this,bs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Qe(this,bs).get(t)}getAll(){return[...Qe(this,bs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OD(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>OD(t,r)):n}notify(t){Gr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bs=new WeakMap,bU),Ss,da,mf,xs,Al,SU,VQ=(SU=class extends NU{constructor(t){super();Xt(this,xs);Xt(this,Ss);Xt(this,da);Xt(this,mf);this.mutationId=t.mutationId,Ft(this,da,t.mutationCache),Ft(this,Ss,[]),this.state=t.state||jU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Qe(this,Ss).includes(t)||(Qe(this,Ss).push(t),this.clearGcTimeout(),Qe(this,da).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ft(this,Ss,Qe(this,Ss).filter(n=>n!==t)),this.scheduleGc(),Qe(this,da).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Qe(this,Ss).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,da).remove(this))}continue(){var t;return((t=Qe(this,mf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,s,l,c,d,h,g,y,v,_,S,w,x,R,P,O,D,F;Ft(this,mf,kU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,Y)=>{fn(this,xs,Al).call(this,{type:"failed",failureCount:Q,error:Y})},onPause:()=>{fn(this,xs,Al).call(this,{type:"pause"})},onContinue:()=>{fn(this,xs,Al).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,da).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,mf).canStart();try{if(!n){fn(this,xs,Al).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=Qe(this,da).config).onMutate)==null?void 0:a.call(i,t,this));const Y=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,t));Y!==this.state.context&&fn(this,xs,Al).call(this,{type:"pending",context:Y,variables:t,isPaused:r})}const Q=await Qe(this,mf).start();return await((c=(l=Qe(this,da).config).onSuccess)==null?void 0:c.call(l,Q,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,Q,t,this.state.context)),await((y=(g=Qe(this,da).config).onSettled)==null?void 0:y.call(g,Q,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,Q,null,t,this.state.context)),fn(this,xs,Al).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((w=(S=Qe(this,da).config).onError)==null?void 0:w.call(S,Q,t,this.state.context,this)),await((R=(x=this.options).onError)==null?void 0:R.call(x,Q,t,this.state.context)),await((O=(P=Qe(this,da).config).onSettled)==null?void 0:O.call(P,void 0,Q,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,Q,t,this.state.context)),Q}finally{fn(this,xs,Al).call(this,{type:"error",error:Q})}}finally{Qe(this,da).runNext(this)}}},Ss=new WeakMap,da=new WeakMap,mf=new WeakMap,xs=new WeakSet,Al=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Gr.batch(()=>{Qe(this,Ss).forEach(r=>{r.onMutationUpdate(t)}),Qe(this,da).notify({mutation:this,type:"updated",action:t})})},SU);function jU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ga,gy,xU,KQ=(xU=class extends jf{constructor(t={}){super();Xt(this,Ga);Xt(this,gy);this.config=t,Ft(this,Ga,new Map),Ft(this,gy,Date.now())}build(t,n,r){const i=new VQ({mutationCache:this,mutationId:++Xv(this,gy)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Yv(t),r=Qe(this,Ga).get(n)??[];r.push(t),Qe(this,Ga).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Yv(t);if(Qe(this,Ga).has(n)){const i=(r=Qe(this,Ga).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?Qe(this,Ga).delete(n):Qe(this,Ga).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Qe(this,Ga).get(Yv(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Qe(this,Ga).get(Yv(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Qe(this,Ga).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>LD(n,r))}findAll(t={}){return this.getAll().filter(n=>LD(t,n))}notify(t){Gr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Gr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Co))))}},Ga=new WeakMap,gy=new WeakMap,xU);function Yv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function DD(e){return{onFetch:(t,n)=>{var d,h,g,y,v;const r=t.options,i=(g=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const S=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},w=IU(t.options,t.fetchOptions),x=async(R,P,O)=>{if(_)return Promise.reject();if(P==null&&R.pages.length)return Promise.resolve(R);const D={queryKey:t.queryKey,pageParam:P,direction:O?"backward":"forward",meta:t.options.meta};S(D);const F=await w(D),{maxPages:Q}=t.options,Y=O?FQ:NQ;return{pages:Y(R.pages,F,Q),pageParams:Y(R.pageParams,P,Q)}};if(i&&a.length){const R=i==="backward",P=R?GQ:kD,O={pages:a,pageParams:o},D=P(r,O);s=await x(O,D,R)}else{const R=e??a.length;do{const P=l===0?o[0]??r.initialPageParam:kD(r,s);if(l>0&&P==null)break;s=await x(s,P),l++}while(l<R)}return s};t.options.persister?t.fetchFn=()=>{var _,S;return(S=(_=t.options).persister)==null?void 0:S.call(_,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function kD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function GQ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Kr,Bl,Ul,hh,ph,ql,gh,mh,EU,WQ=(EU=class{constructor(e={}){Xt(this,Kr);Xt(this,Bl);Xt(this,Ul);Xt(this,hh);Xt(this,ph);Xt(this,ql);Xt(this,gh);Xt(this,mh);Ft(this,Kr,e.queryCache||new HQ),Ft(this,Bl,e.mutationCache||new KQ),Ft(this,Ul,e.defaultOptions||{}),Ft(this,hh,new Map),Ft(this,ph,new Map),Ft(this,ql,0)}mount(){Xv(this,ql)._++,Qe(this,ql)===1&&(Ft(this,gh,EP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,Kr).onFocus())})),Ft(this,mh,nw.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,Kr).onOnline())})))}unmount(){var e,t;Xv(this,ql)._--,Qe(this,ql)===0&&((e=Qe(this,gh))==null||e.call(this),Ft(this,gh,void 0),(t=Qe(this,mh))==null||t.call(this),Ft(this,mh,void 0))}isFetching(e){return Qe(this,Kr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Qe(this,Bl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,Kr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Qe(this,Kr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Xd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Qe(this,Kr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Qe(this,Kr).get(r.queryHash),a=i==null?void 0:i.state.data,o=DQ(t,a);if(o!==void 0)return Qe(this,Kr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Gr.batch(()=>Qe(this,Kr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,Kr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Qe(this,Kr);Gr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Qe(this,Kr),r={type:"active",...e};return Gr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Gr.batch(()=>Qe(this,Kr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Co).catch(Co)}invalidateQueries(e={},t={}){return Gr.batch(()=>{if(Qe(this,Kr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Gr.batch(()=>Qe(this,Kr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Co)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Co)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Qe(this,Kr).build(this,t);return n.isStaleByTime(Xd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Co).catch(Co)}fetchInfiniteQuery(e){return e.behavior=DD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Co).catch(Co)}ensureInfiniteQueryData(e){return e.behavior=DD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nw.isOnline()?Qe(this,Bl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,Kr)}getMutationCache(){return Qe(this,Bl)}getDefaultOptions(){return Qe(this,Ul)}setDefaultOptions(e){Ft(this,Ul,e)}setQueryDefaults(e,t){Qe(this,hh).set(Tf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Qe(this,hh).values()];let n={};return t.forEach(r=>{zm(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Qe(this,ph).set(Tf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Qe(this,ph).values()];let n={};return t.forEach(r=>{zm(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Qe(this,Ul).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=SP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===LU&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Qe(this,Ul).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Qe(this,Kr).clear(),Qe(this,Bl).clear()}},Kr=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,hh=new WeakMap,ph=new WeakMap,ql=new WeakMap,gh=new WeakMap,mh=new WeakMap,EU),Pa,$n,my,ha,yf,yh,zl,Es,yy,vh,_h,vf,_f,Hl,wh,ir,ym,eA,tA,nA,rA,iA,aA,oA,$U,CU,CP=(CU=class extends jf{constructor(t,n){super();Xt(this,ir);Xt(this,Pa);Xt(this,$n);Xt(this,my);Xt(this,ha);Xt(this,yf);Xt(this,yh);Xt(this,zl);Xt(this,Es);Xt(this,yy);Xt(this,vh);Xt(this,_h);Xt(this,vf);Xt(this,_f);Xt(this,Hl);Xt(this,wh,new Set);this.options=n,Ft(this,Pa,t),Ft(this,Es,null),Ft(this,zl,YR()),this.options.experimental_prefetchInRender||Qe(this,zl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,$n).addObserver(this),ND(Qe(this,$n),this.options)?fn(this,ir,ym).call(this):this.updateResult(),fn(this,ir,rA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sA(Qe(this,$n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sA(Qe(this,$n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fn(this,ir,iA).call(this),fn(this,ir,aA).call(this),Qe(this,$n).removeObserver(this)}setOptions(t,n){const r=this.options,i=Qe(this,$n);if(this.options=Qe(this,Pa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Go(this.options.enabled,Qe(this,$n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");fn(this,ir,oA).call(this),Qe(this,$n).setOptions(this.options),r._defaulted&&!tw(this.options,r)&&Qe(this,Pa).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,$n),observer:this});const a=this.hasListeners();a&&FD(Qe(this,$n),i,this.options,r)&&fn(this,ir,ym).call(this),this.updateResult(n),a&&(Qe(this,$n)!==i||Go(this.options.enabled,Qe(this,$n))!==Go(r.enabled,Qe(this,$n))||Xd(this.options.staleTime,Qe(this,$n))!==Xd(r.staleTime,Qe(this,$n)))&&fn(this,ir,eA).call(this);const o=fn(this,ir,tA).call(this);a&&(Qe(this,$n)!==i||Go(this.options.enabled,Qe(this,$n))!==Go(r.enabled,Qe(this,$n))||o!==Qe(this,Hl))&&fn(this,ir,nA).call(this,o)}getOptimisticResult(t){const n=Qe(this,Pa).getQueryCache().build(Qe(this,Pa),t),r=this.createResult(n,t);return ZQ(this,r)&&(Ft(this,ha,r),Ft(this,yh,this.options),Ft(this,yf,Qe(this,$n).state)),r}getCurrentResult(){return Qe(this,ha)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){Qe(this,wh).add(t)}getCurrentQuery(){return Qe(this,$n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Qe(this,Pa).defaultQueryOptions(t),r=Qe(this,Pa).getQueryCache().build(Qe(this,Pa),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return fn(this,ir,ym).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,ha)))}createResult(t,n){var F;const r=Qe(this,$n),i=this.options,a=Qe(this,ha),o=Qe(this,yf),s=Qe(this,yh),c=t!==r?t.state:Qe(this,my),{state:d}=t;let h={...d},g=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),Y=!Q&&ND(t,n),q=Q&&FD(t,r,n,i);(Y||q)&&(h={...h,...FU(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:S}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===Qe(this,yy))y=Qe(this,vh);else try{Ft(this,yy,n.select),y=n.select(h.data),y=XR(a==null?void 0:a.data,y,n),Ft(this,vh,y),Ft(this,Es,null)}catch(Q){Ft(this,Es,Q)}else y=h.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((F=Qe(this,_h))==null?void 0:F.state.data,Qe(this,_h)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),Ft(this,Es,null)}catch(Y){Ft(this,Es,Y)}Q!==void 0&&(S="success",y=XR(a==null?void 0:a.data,Q,n),g=!0)}Qe(this,Es)&&(v=Qe(this,Es),y=Qe(this,vh),_=Date.now(),S="error");const w=h.fetchStatus==="fetching",x=S==="pending",R=S==="error",P=x&&w,O=y!==void 0;return{status:S,fetchStatus:h.fetchStatus,isPending:x,isSuccess:S==="success",isError:R,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:R&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:R&&O,isStale:TP(t,n),refetch:this.refetch,promise:Qe(this,zl)}}updateResult(t){const n=Qe(this,ha),r=this.createResult(Qe(this,$n),this.options);if(Ft(this,yf,Qe(this,$n).state),Ft(this,yh,this.options),Qe(this,yf).data!==void 0&&Ft(this,_h,Qe(this,$n)),tw(r,n))return;if(this.options.experimental_prefetchInRender){const o=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},s=()=>{const c=Ft(this,zl,r.promise=YR());o(c)},l=Qe(this,zl);switch(l.status){case"pending":o(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&s();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&s();break}}Ft(this,ha,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!Qe(this,wh).size)return!0;const l=new Set(s??Qe(this,wh));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,ha)).some(c=>{const d=c;return Qe(this,ha)[d]!==n[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),fn(this,ir,$U).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fn(this,ir,rA).call(this)}},Pa=new WeakMap,$n=new WeakMap,my=new WeakMap,ha=new WeakMap,yf=new WeakMap,yh=new WeakMap,zl=new WeakMap,Es=new WeakMap,yy=new WeakMap,vh=new WeakMap,_h=new WeakMap,vf=new WeakMap,_f=new WeakMap,Hl=new WeakMap,wh=new WeakMap,ir=new WeakSet,ym=function(t){fn(this,ir,oA).call(this);let n=Qe(this,$n).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Co)),n},eA=function(){fn(this,ir,iA).call(this);const t=Xd(this.options.staleTime,Qe(this,$n));if(Cf||Qe(this,ha).isStale||!ZR(t))return;const r=OU(Qe(this,ha).dataUpdatedAt,t)+1;Ft(this,vf,setTimeout(()=>{Qe(this,ha).isStale||this.updateResult()},r))},tA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,$n)):this.options.refetchInterval)??!1},nA=function(t){fn(this,ir,aA).call(this),Ft(this,Hl,t),!(Cf||Go(this.options.enabled,Qe(this,$n))===!1||!ZR(Qe(this,Hl))||Qe(this,Hl)===0)&&Ft(this,_f,setInterval(()=>{(this.options.refetchIntervalInBackground||EP.isFocused())&&fn(this,ir,ym).call(this)},Qe(this,Hl)))},rA=function(){fn(this,ir,eA).call(this),fn(this,ir,nA).call(this,fn(this,ir,tA).call(this))},iA=function(){Qe(this,vf)&&(clearTimeout(Qe(this,vf)),Ft(this,vf,void 0))},aA=function(){Qe(this,_f)&&(clearInterval(Qe(this,_f)),Ft(this,_f,void 0))},oA=function(){const t=Qe(this,Pa).getQueryCache().build(Qe(this,Pa),this.options);if(t===Qe(this,$n))return;const n=Qe(this,$n);Ft(this,$n,t),Ft(this,my,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$U=function(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Qe(this,ha))}),Qe(this,Pa).getQueryCache().notify({query:Qe(this,$n),type:"observerResultsUpdated"})})},CU);function QQ(e,t){return Go(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ND(e,t){return QQ(e,t)||e.state.data!==void 0&&sA(e,t,t.refetchOnMount)}function sA(e,t,n){if(Go(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&TP(e,t)}return!1}function FD(e,t,n,r){return(e!==t||Go(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&TP(e,n)}function TP(e,t){return Go(t.enabled,e)!==!1&&e.isStaleByTime(Xd(t.staleTime,e))}function ZQ(e,t){return!tw(e.getCurrentResult(),t)}function jD(e,t){return e.filter(n=>!t.includes(n))}function JQ(e,t,n){const r=e.slice(0);return r[t]=n,r}var wf,Ko,bh,Wa,bf,vy,_y,uo,BU,uA,lA,cA,TU,XQ=(TU=class extends jf{constructor(t,n,r){super();Xt(this,uo);Xt(this,wf);Xt(this,Ko);Xt(this,bh);Xt(this,Wa);Xt(this,bf);Xt(this,vy);Xt(this,_y);Ft(this,wf,t),Ft(this,bh,[]),Ft(this,Wa,[]),Ft(this,Ko,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,Wa).forEach(t=>{t.subscribe(n=>{fn(this,uo,lA).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,Wa).forEach(t=>{t.destroy()})}setQueries(t,n,r){Ft(this,bh,t),Gr.batch(()=>{const i=Qe(this,Wa),a=fn(this,uo,uA).call(this,Qe(this,bh));a.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const o=a.map(c=>c.observer),s=o.map(c=>c.getCurrentResult()),l=o.some((c,d)=>c!==i[d]);i.length===o.length&&!l||(Ft(this,Wa,o),Ft(this,Ko,s),this.hasListeners()&&(jD(i,o).forEach(c=>{c.destroy()}),jD(o,i).forEach(c=>{c.subscribe(d=>{fn(this,uo,lA).call(this,c,d)})}),fn(this,uo,cA).call(this)))})}getCurrentResult(){return Qe(this,Ko)}getQueries(){return Qe(this,Wa).map(t=>t.getCurrentQuery())}getObservers(){return Qe(this,Wa)}getOptimisticResult(t,n){const r=fn(this,uo,uA).call(this,t),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>fn(this,uo,BU).call(this,a??i,n),()=>r.map((a,o)=>{const s=i[o];return a.defaultedQueryOptions.notifyOnChangeProps?s:a.observer.trackResult(s,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},wf=new WeakMap,Ko=new WeakMap,bh=new WeakMap,Wa=new WeakMap,bf=new WeakMap,vy=new WeakMap,_y=new WeakMap,uo=new WeakSet,BU=function(t,n){return n?((!Qe(this,bf)||Qe(this,Ko)!==Qe(this,_y)||n!==Qe(this,vy))&&(Ft(this,vy,n),Ft(this,_y,Qe(this,Ko)),Ft(this,bf,xP(Qe(this,bf),n(t)))),Qe(this,bf)):t},uA=function(t){const n=Qe(this,Wa),r=new Map(n.map(h=>[h.options.queryHash,h])),i=t.map(h=>Qe(this,wf).defaultQueryOptions(h)),a=i.flatMap(h=>{const g=r.get(h.queryHash);return g!=null?[{defaultedQueryOptions:h,observer:g}]:[]}),o=new Set(a.map(h=>h.defaultedQueryOptions.queryHash)),s=i.filter(h=>!o.has(h.queryHash)),l=h=>{const g=Qe(this,wf).defaultQueryOptions(h);return Qe(this,Wa).find(v=>v.options.queryHash===g.queryHash)??new CP(Qe(this,wf),g)},c=s.map(h=>({defaultedQueryOptions:h,observer:l(h)})),d=(h,g)=>i.indexOf(h.defaultedQueryOptions)-i.indexOf(g.defaultedQueryOptions);return a.concat(c).sort(d)},lA=function(t,n){const r=Qe(this,Wa).indexOf(t);r!==-1&&(Ft(this,Ko,JQ(Qe(this,Ko),r,n)),fn(this,uo,cA).call(this))},cA=function(){Gr.batch(()=>{this.listeners.forEach(t=>{t(Qe(this,Ko))})})},TU),Vl,Kl,Oa,Cu,Lu,L0,fA,RU,YQ=(RU=class extends jf{constructor(n,r){super();Xt(this,Lu);Xt(this,Vl);Xt(this,Kl);Xt(this,Oa);Xt(this,Cu);Ft(this,Vl,n),this.setOptions(r),this.bindMethods(),fn(this,Lu,L0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,Vl).defaultMutationOptions(n),tw(this.options,r)||Qe(this,Vl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,Oa),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Tf(r.mutationKey)!==Tf(this.options.mutationKey)?this.reset():((i=Qe(this,Oa))==null?void 0:i.state.status)==="pending"&&Qe(this,Oa).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,Oa))==null||n.removeObserver(this)}onMutationUpdate(n){fn(this,Lu,L0).call(this),fn(this,Lu,fA).call(this,n)}getCurrentResult(){return Qe(this,Kl)}reset(){var n;(n=Qe(this,Oa))==null||n.removeObserver(this),Ft(this,Oa,void 0),fn(this,Lu,L0).call(this),fn(this,Lu,fA).call(this)}mutate(n,r){var i;return Ft(this,Cu,r),(i=Qe(this,Oa))==null||i.removeObserver(this),Ft(this,Oa,Qe(this,Vl).getMutationCache().build(Qe(this,Vl),this.options)),Qe(this,Oa).addObserver(this),Qe(this,Oa).execute(n)}},Vl=new WeakMap,Kl=new WeakMap,Oa=new WeakMap,Cu=new WeakMap,Lu=new WeakSet,L0=function(){var r;const n=((r=Qe(this,Oa))==null?void 0:r.state)??jU();Ft(this,Kl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fA=function(n){Gr.batch(()=>{var r,i,a,o,s,l,c,d;if(Qe(this,Cu)&&this.hasListeners()){const h=Qe(this,Kl).variables,g=Qe(this,Kl).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,Cu)).onSuccess)==null||i.call(r,n.data,h,g),(o=(a=Qe(this,Cu)).onSettled)==null||o.call(a,n.data,null,h,g)):(n==null?void 0:n.type)==="error"&&((l=(s=Qe(this,Cu)).onError)==null||l.call(s,n.error,h,g),(d=(c=Qe(this,Cu)).onSettled)==null||d.call(c,void 0,n.error,h,g))}this.listeners.forEach(h=>{h(Qe(this,Kl))})})},RU),zS={exports:{}},Sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function eZ(){if($D)return Sn;$D=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function g(k){return k===null||typeof k!="object"?null:(k=h&&k[h]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function S(k,re,ge){this.props=k,this.context=re,this.refs=_,this.updater=ge||y}S.prototype.isReactComponent={},S.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function w(){}w.prototype=S.prototype;function x(k,re,ge){this.props=k,this.context=re,this.refs=_,this.updater=ge||y}var R=x.prototype=new w;R.constructor=x,v(R,S.prototype),R.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(k,re,ge,W,ee,pe){return ge=pe.ref,{$$typeof:e,type:k,key:re,ref:ge!==void 0?ge:null,props:pe}}function Q(k,re){return F(k.type,re,void 0,void 0,void 0,k.props)}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function q(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ge){return re[ge]})}var X=/\/+/g;function le(k,re){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):re.toString(36)}function te(){}function oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function he(k,re,ge,W,ee){var pe=typeof k;(pe==="undefined"||pe==="boolean")&&(k=null);var Te=!1;if(k===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(k.$$typeof){case e:case t:Te=!0;break;case d:return Te=k._init,he(Te(k._payload),re,ge,W,ee)}}if(Te)return ee=ee(k),Te=W===""?"."+le(k,0):W,P(ee)?(ge="",Te!=null&&(ge=Te.replace(X,"$&/")+"/"),he(ee,re,ge,"",function($e){return $e})):ee!=null&&(Y(ee)&&(ee=Q(ee,ge+(ee.key==null||k&&k.key===ee.key?"":(""+ee.key).replace(X,"$&/")+"/")+Te)),re.push(ee)),1;Te=0;var Je=W===""?".":W+":";if(P(k))for(var Ae=0;Ae<k.length;Ae++)W=k[Ae],pe=Je+le(W,Ae),Te+=he(W,re,ge,pe,ee);else if(Ae=g(k),typeof Ae=="function")for(k=Ae.call(k),Ae=0;!(W=k.next()).done;)W=W.value,pe=Je+le(W,Ae++),Te+=he(W,re,ge,pe,ee);else if(pe==="object"){if(typeof k.then=="function")return he(oe(k),re,ge,W,ee);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ve(k,re,ge){if(k==null)return k;var W=[],ee=0;return he(k,W,"","",function(pe){return re.call(ge,pe,ee++)}),W}function de(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(ge){(k._status===0||k._status===-1)&&(k._status=1,k._result=ge)},function(ge){(k._status===0||k._status===-1)&&(k._status=2,k._result=ge)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var se=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Re(){}return Sn.Children={map:ve,forEach:function(k,re,ge){ve(k,function(){re.apply(this,arguments)},ge)},count:function(k){var re=0;return ve(k,function(){re++}),re},toArray:function(k){return ve(k,function(re){return re})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Sn.Component=S,Sn.Fragment=n,Sn.Profiler=i,Sn.PureComponent=x,Sn.StrictMode=r,Sn.Suspense=l,Sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Sn.act=function(){throw Error("act(...) is not supported in production builds of React.")},Sn.cache=function(k){return function(){return k.apply(null,arguments)}},Sn.cloneElement=function(k,re,ge){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var W=v({},k.props),ee=k.key,pe=void 0;if(re!=null)for(Te in re.ref!==void 0&&(pe=void 0),re.key!==void 0&&(ee=""+re.key),re)!D.call(re,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&re.ref===void 0||(W[Te]=re[Te]);var Te=arguments.length-2;if(Te===1)W.children=ge;else if(1<Te){for(var Je=Array(Te),Ae=0;Ae<Te;Ae++)Je[Ae]=arguments[Ae+2];W.children=Je}return F(k.type,ee,void 0,void 0,pe,W)},Sn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},Sn.createElement=function(k,re,ge){var W,ee={},pe=null;if(re!=null)for(W in re.key!==void 0&&(pe=""+re.key),re)D.call(re,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ee[W]=re[W]);var Te=arguments.length-2;if(Te===1)ee.children=ge;else if(1<Te){for(var Je=Array(Te),Ae=0;Ae<Te;Ae++)Je[Ae]=arguments[Ae+2];ee.children=Je}if(k&&k.defaultProps)for(W in Te=k.defaultProps,Te)ee[W]===void 0&&(ee[W]=Te[W]);return F(k,pe,void 0,void 0,null,ee)},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(k){return{$$typeof:s,render:k}},Sn.isValidElement=Y,Sn.lazy=function(k){return{$$typeof:d,_payload:{_status:-1,_result:k},_init:de}},Sn.memo=function(k,re){return{$$typeof:c,type:k,compare:re===void 0?null:re}},Sn.startTransition=function(k){var re=O.T,ge={};O.T=ge;try{var W=k(),ee=O.S;ee!==null&&ee(ge,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Re,se)}catch(pe){se(pe)}finally{O.T=re}},Sn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Sn.use=function(k){return O.H.use(k)},Sn.useActionState=function(k,re,ge){return O.H.useActionState(k,re,ge)},Sn.useCallback=function(k,re){return O.H.useCallback(k,re)},Sn.useContext=function(k){return O.H.useContext(k)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(k,re){return O.H.useDeferredValue(k,re)},Sn.useEffect=function(k,re){return O.H.useEffect(k,re)},Sn.useId=function(){return O.H.useId()},Sn.useImperativeHandle=function(k,re,ge){return O.H.useImperativeHandle(k,re,ge)},Sn.useInsertionEffect=function(k,re){return O.H.useInsertionEffect(k,re)},Sn.useLayoutEffect=function(k,re){return O.H.useLayoutEffect(k,re)},Sn.useMemo=function(k,re){return O.H.useMemo(k,re)},Sn.useOptimistic=function(k,re){return O.H.useOptimistic(k,re)},Sn.useReducer=function(k,re,ge){return O.H.useReducer(k,re,ge)},Sn.useRef=function(k){return O.H.useRef(k)},Sn.useState=function(k){return O.H.useState(k)},Sn.useSyncExternalStore=function(k,re,ge){return O.H.useSyncExternalStore(k,re,ge)},Sn.useTransition=function(){return O.H.useTransition()},Sn.version="19.0.0",Sn}var BD;function Nh(){return BD||(BD=1,zS.exports=eZ()),zS.exports}var V=Nh();const Ot=Mr(V),Sh=LQ({__proto__:null,default:Ot},[V]);var UU=V.createContext(void 0),Ui=e=>{const t=V.useContext(UU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tZ=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),U.jsx(UU.Provider,{value:e,children:t})),qU=V.createContext(!1),zU=()=>V.useContext(qU);qU.Provider;function nZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rZ=V.createContext(nZ()),HU=()=>V.useContext(rZ);function VU(e,t){return typeof e=="function"?e(...t):!!e}function KU(){}var GU=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},WU=e=>{V.useEffect(()=>{e.clearReset()},[e])},QU=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&VU(n,[e.error,r]),ZU=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},JU=(e,t)=>e.isLoading&&e.isFetching&&!t,dA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Hm({queries:e,...t},n){const r=Ui(),i=zU(),a=HU(),o=V.useMemo(()=>e.map(v=>{const _=r.defaultQueryOptions(v);return _._optimisticResults=i?"isRestoring":"optimistic",_}),[e,r,i]);o.forEach(v=>{ZU(v),GU(v,a)}),WU(a);const[s]=V.useState(()=>new XQ(r,o,t)),[l,c,d]=s.getOptimisticResult(o,t.combine);V.useSyncExternalStore(V.useCallback(v=>i?()=>{}:s.subscribe(Gr.batchCalls(v)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),V.useEffect(()=>{s.setQueries(o,t,{listeners:!1})},[o,t,s]);const g=l.some((v,_)=>dA(o[_],v))?l.flatMap((v,_)=>{const S=o[_];if(S){const w=new CP(r,S);if(dA(S,v))return rw(S,w,a);JU(v,i)&&rw(S,w,a)}return[]}):[];if(g.length>0)throw Promise.all(g);const y=l.find((v,_)=>{const S=o[_];return S&&QU({result:v,errorResetBoundary:a,throwOnError:S.throwOnError,query:r.getQueryCache().get(S.queryHash)})});if(y!=null&&y.error)throw y.error;return c(d())}function iZ(e,t,n){var d,h,g,y,v;const r=Ui(),i=zU(),a=HU(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",ZU(o),GU(o,a),WU(a);const s=!r.getQueryState(e.queryKey),[l]=V.useState(()=>new t(r,o)),c=l.getOptimisticResult(o);if(V.useSyncExternalStore(V.useCallback(_=>{const S=i?()=>{}:l.subscribe(Gr.batchCalls(_));return l.updateResult(),S},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),V.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),dA(o,c))throw rw(o,l,a);if(QU({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((y=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,c),o.experimental_prefetchInRender&&!Cf&&JU(c,i)){const _=s?rw(o,l,a):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;_==null||_.catch(KU).finally(()=>{l.hasListeners()||l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function wy(e,t){return iZ(e,CP)}function lo(e,t){const n=Ui(),[r]=V.useState(()=>new YQ(n,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const i=V.useSyncExternalStore(V.useCallback(o=>r.subscribe(Gr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=V.useCallback((o,s)=>{r.mutate(o,s).catch(KU)},[r]);if(i.error&&VU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var HS={exports:{}},tg={},VS={exports:{}},KS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD;function aZ(){return UD||(UD=1,function(e){function t(ve,de){var se=ve.length;ve.push(de);e:for(;0<se;){var Re=se-1>>>1,k=ve[Re];if(0<i(k,de))ve[Re]=de,ve[se]=k,se=Re;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var de=ve[0],se=ve.pop();if(se!==de){ve[0]=se;e:for(var Re=0,k=ve.length,re=k>>>1;Re<re;){var ge=2*(Re+1)-1,W=ve[ge],ee=ge+1,pe=ve[ee];if(0>i(W,se))ee<k&&0>i(pe,W)?(ve[Re]=pe,ve[ee]=se,Re=ee):(ve[Re]=W,ve[ge]=se,Re=ge);else if(ee<k&&0>i(pe,se))ve[Re]=pe,ve[ee]=se,Re=ee;else break e}}return de}function i(ve,de){var se=ve.sortIndex-de.sortIndex;return se!==0?se:ve.id-de.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,g=3,y=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function R(ve){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=ve)r(c),de.sortIndex=de.expirationTime,t(l,de);else break;de=n(c)}}function P(ve){if(_=!1,R(ve),!v)if(n(l)!==null)v=!0,oe();else{var de=n(c);de!==null&&he(P,de.startTime-ve)}}var O=!1,D=-1,F=5,Q=-1;function Y(){return!(e.unstable_now()-Q<F)}function q(){if(O){var ve=e.unstable_now();Q=ve;var de=!0;try{e:{v=!1,_&&(_=!1,w(D),D=-1),y=!0;var se=g;try{t:{for(R(ve),h=n(l);h!==null&&!(h.expirationTime>ve&&Y());){var Re=h.callback;if(typeof Re=="function"){h.callback=null,g=h.priorityLevel;var k=Re(h.expirationTime<=ve);if(ve=e.unstable_now(),typeof k=="function"){h.callback=k,R(ve),de=!0;break t}h===n(l)&&r(l),R(ve)}else r(l);h=n(l)}if(h!==null)de=!0;else{var re=n(c);re!==null&&he(P,re.startTime-ve),de=!1}}break e}finally{h=null,g=se,y=!1}de=void 0}}finally{de?X():O=!1}}}var X;if(typeof x=="function")X=function(){x(q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,te=le.port2;le.port1.onmessage=q,X=function(){te.postMessage(null)}}else X=function(){S(q,0)};function oe(){O||(O=!0,X())}function he(ve,de){D=S(function(){ve(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,oe())},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(ve){switch(g){case 1:case 2:case 3:var de=3;break;default:de=g}var se=g;g=de;try{return ve()}finally{g=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,de){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var se=g;g=ve;try{return de()}finally{g=se}},e.unstable_scheduleCallback=function(ve,de,se){var Re=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Re+se:Re):se=Re,ve){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=se+k,ve={id:d++,callback:de,priorityLevel:ve,startTime:se,expirationTime:k,sortIndex:-1},se>Re?(ve.sortIndex=se,t(c,ve),n(l)===null&&ve===n(c)&&(_?(w(D),D=-1):_=!0,he(P,se-Re))):(ve.sortIndex=k,t(l,ve),v||y||(v=!0,oe())),ve},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(ve){var de=g;return function(){var se=g;g=de;try{return ve.apply(this,arguments)}finally{g=se}}}}(KS)),KS}var qD;function oZ(){return qD||(qD=1,VS.exports=aZ()),VS.exports}var GS={exports:{}},Ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD;function sZ(){if(zD)return Ki;zD=1;var e=Nh();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ki.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(l,c,null,d)},Ki.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Ki.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Ki.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ki.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ki.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Ki.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ki.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Ki.requestFormReset=function(l){r.d.r(l)},Ki.unstable_batchedUpdates=function(l,c){return l(c)},Ki.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Ki.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ki.version="19.0.0",Ki}var HD;function RP(){if(HD)return GS.exports;HD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),GS.exports=sZ(),GS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function uZ(){if(VD)return tg;VD=1;var e=oZ(),t=Nh(),n=RP();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=O&&u[O]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case s:return"Portal";case d:return"Profiler";case c:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case g:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case w:return f=u.displayName||null,f!==null?f:Q(u.type)||"Memo";case x:f=u._payload,u=u._init;try{return Q(u(f))}catch{}}return null}var Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,X,le;function te(u){if(X===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);X=f&&f[1]||"",le=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+u+le}var oe=!1;function he(u,f){if(!u||oe)return"";oe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(f){var Pt=function(){throw Error()};if(Object.defineProperty(Pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pt,[])}catch(_t){var mt=_t}Reflect.construct(u,[],Pt)}else{try{Pt.call()}catch(_t){mt=_t}u.call(Pt.prototype)}}else{try{throw Error()}catch(_t){mt=_t}(Pt=u())&&typeof Pt.catch=="function"&&Pt.catch(function(){})}}catch(_t){if(_t&&mt&&typeof _t.stack=="string")return[_t.stack,mt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=E.DetermineComponentFrameRoot(),ce=j[0],Ce=j[1];if(ce&&Ce){var Ve=ce.split(`
`),it=Ce.split(`
`);for(M=E=0;E<Ve.length&&!Ve[E].includes("DetermineComponentFrameRoot");)E++;for(;M<it.length&&!it[M].includes("DetermineComponentFrameRoot");)M++;if(E===Ve.length||M===it.length)for(E=Ve.length-1,M=it.length-1;1<=E&&0<=M&&Ve[E]!==it[M];)M--;for(;1<=E&&0<=M;E--,M--)if(Ve[E]!==it[M]){if(E!==1||M!==1)do if(E--,M--,0>M||Ve[E]!==it[M]){var bt=`
`+Ve[E].replace(" at new "," at ");return u.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",u.displayName)),bt}while(1<=E&&0<=M);break}}}finally{oe=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?te(m):""}function ve(u){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return u=he(u.type,!1),u;case 11:return u=he(u.type.render,!1),u;case 1:return u=he(u.type,!0),u;default:return""}}function de(u){try{var f="";do f+=ve(u),u=u.return;while(u);return f}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function se(u){var f=u,m=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(m=f.return),u=f.return;while(u)}return f.tag===3?m:null}function Re(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function k(u){if(se(u)!==u)throw Error(r(188))}function re(u){var f=u.alternate;if(!f){if(f=se(u),f===null)throw Error(r(188));return f!==u?null:u}for(var m=u,E=f;;){var M=m.return;if(M===null)break;var j=M.alternate;if(j===null){if(E=M.return,E!==null){m=E;continue}break}if(M.child===j.child){for(j=M.child;j;){if(j===m)return k(M),u;if(j===E)return k(M),f;j=j.sibling}throw Error(r(188))}if(m.return!==E.return)m=M,E=j;else{for(var ce=!1,Ce=M.child;Ce;){if(Ce===m){ce=!0,m=M,E=j;break}if(Ce===E){ce=!0,E=M,m=j;break}Ce=Ce.sibling}if(!ce){for(Ce=j.child;Ce;){if(Ce===m){ce=!0,m=j,E=M;break}if(Ce===E){ce=!0,E=j,m=M;break}Ce=Ce.sibling}if(!ce)throw Error(r(189))}}if(m.alternate!==E)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:f}function ge(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=ge(u),f!==null)return f;u=u.sibling}return null}var W=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Te=[],Je=-1;function Ae(u){return{current:u}}function $e(u){0>Je||(u.current=Te[Je],Te[Je]=null,Je--)}function Xe(u,f){Je++,Te[Je]=u.current,u.current=f}var ae=Ae(null),H=Ae(null),B=Ae(null),ie=Ae(null);function fe(u,f){switch(Xe(B,f),Xe(H,u),Xe(ae,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?nD(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=nD(u),f=rD(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}$e(ae),Xe(ae,f)}function Pe(){$e(ae),$e(H),$e(B)}function Ie(u){u.memoizedState!==null&&Xe(ie,u);var f=ae.current,m=rD(f,u.type);f!==m&&(Xe(H,u),Xe(ae,m))}function tt(u){H.current===u&&($e(ae),$e(H)),ie.current===u&&($e(ie),Qp._currentValue=pe)}var De=Object.prototype.hasOwnProperty,ot=e.unstable_scheduleCallback,gt=e.unstable_cancelCallback,_e=e.unstable_shouldYield,Be=e.unstable_requestPaint,at=e.unstable_now,me=e.unstable_getCurrentPriorityLevel,Ee=e.unstable_ImmediatePriority,J=e.unstable_UserBlockingPriority,$=e.unstable_NormalPriority,K=e.unstable_LowPriority,G=e.unstable_IdlePriority,ke=e.log,Ze=e.unstable_setDisableYieldValue,Fe=null,At=null;function Mt(u){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Fe,u,void 0,(u.current.flags&128)===128)}catch{}}function Nt(u){if(typeof ke=="function"&&Ze(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Fe,u)}catch{}}var Lt=Math.clz32?Math.clz32:hn,zt=Math.log,Pr=Math.LN2;function hn(u){return u>>>=0,u===0?32:31-(zt(u)/Pr|0)|0}var pn=128,yr=4194304;function ln(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function cn(u,f){var m=u.pendingLanes;if(m===0)return 0;var E=0,M=u.suspendedLanes,j=u.pingedLanes,ce=u.warmLanes;u=u.finishedLanes!==0;var Ce=m&134217727;return Ce!==0?(m=Ce&~M,m!==0?E=ln(m):(j&=Ce,j!==0?E=ln(j):u||(ce=Ce&~ce,ce!==0&&(E=ln(ce))))):(Ce=m&~M,Ce!==0?E=ln(Ce):j!==0?E=ln(j):u||(ce=m&~ce,ce!==0&&(E=ln(ce)))),E===0?0:f!==0&&f!==E&&!(f&M)&&(M=E&-E,ce=f&-f,M>=ce||M===32&&(ce&4194176)!==0)?f:E}function Dn(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function cr(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var u=pn;return pn<<=1,!(pn&4194176)&&(pn=128),u}function ze(){var u=yr;return yr<<=1,!(yr&62914560)&&(yr=4194304),u}function St(u){for(var f=[],m=0;31>m;m++)f.push(u);return f}function Ct(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Dt(u,f,m,E,M,j){var ce=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var Ce=u.entanglements,Ve=u.expirationTimes,it=u.hiddenUpdates;for(m=ce&~m;0<m;){var bt=31-Lt(m),Pt=1<<bt;Ce[bt]=0,Ve[bt]=-1;var mt=it[bt];if(mt!==null)for(it[bt]=null,bt=0;bt<mt.length;bt++){var _t=mt[bt];_t!==null&&(_t.lane&=-536870913)}m&=~Pt}E!==0&&Vn(u,E,0),j!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=j&~(ce&~f))}function Vn(u,f,m){u.pendingLanes|=f,u.suspendedLanes&=~f;var E=31-Lt(f);u.entangledLanes|=f,u.entanglements[E]=u.entanglements[E]|1073741824|m&4194218}function Xn(u,f){var m=u.entangledLanes|=f;for(u=u.entanglements;m;){var E=31-Lt(m),M=1<<E;M&f|u[E]&f&&(u[E]|=f),m&=~M}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function xe(){var u=ee.p;return u!==0?u:(u=window.event,u===void 0?32:bD(u.type))}function et(u,f){var m=ee.p;try{return ee.p=u,f()}finally{ee.p=m}}var dt=Math.random().toString(36).slice(2),rt="__reactFiber$"+dt,Tt="__reactProps$"+dt,kt="__reactContainer$"+dt,Gt="__reactEvents$"+dt,Yt="__reactListeners$"+dt,Ht="__reactHandles$"+dt,$t="__reactResources$"+dt,tn="__reactMarker$"+dt;function Ln(u){delete u[rt],delete u[Tt],delete u[Gt],delete u[Yt],delete u[Ht]}function Wt(u){var f=u[rt];if(f)return f;for(var m=u.parentNode;m;){if(f=m[kt]||m[rt]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(u=oD(u);u!==null;){if(m=u[rt])return m;u=oD(u)}return f}u=m,m=u.parentNode}return null}function Zt(u){if(u=u[rt]||u[kt]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function Cn(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function Tn(u){var f=u[$t];return f||(f=u[$t]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function zn(u){u[tn]=!0}var Or=new Set,Jr={};function Xr(u,f){Dr(u,f),Dr(u+"Capture",f)}function Dr(u,f){for(Jr[u]=f,u=0;u<f.length;u++)Or.add(f[u])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xi={},T={};function C(u){return De.call(T,u)?!0:De.call(Xi,u)?!1:ai.test(u)?T[u]=!0:(Xi[u]=!0,!1)}function A(u,f,m){if(C(f))if(m===null)u.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var E=f.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+m)}}function N(u,f,m){if(m===null)u.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+m)}}function Z(u,f,m,E){if(E===null)u.removeAttribute(m);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(f,m,""+E)}}function ue(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Me(u){var f=we(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),E=""+u[f];if(!u.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var M=m.get,j=m.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return M.call(this)},set:function(ce){E=""+ce,j.call(this,ce)}}),Object.defineProperty(u,f,{enumerable:m.enumerable}),{getValue:function(){return E},setValue:function(ce){E=""+ce},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Se(u){u._valueTracker||(u._valueTracker=Me(u))}function Oe(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var m=f.getValue(),E="";return u&&(E=we(u)?u.checked?"true":"false":u.value),u=E,u!==m?(f.setValue(u),!0):!1}function Ne(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Ue=/[\n"\\]/g;function He(u){return u.replace(Ue,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ye(u,f,m,E,M,j,ce,Ce){u.name="",ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?u.type=ce:u.removeAttribute("type"),f!=null?ce==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+ue(f)):u.value!==""+ue(f)&&(u.value=""+ue(f)):ce!=="submit"&&ce!=="reset"||u.removeAttribute("value"),f!=null?ht(u,ce,ue(f)):m!=null?ht(u,ce,ue(m)):E!=null&&u.removeAttribute("value"),M==null&&j!=null&&(u.defaultChecked=!!j),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?u.name=""+ue(Ce):u.removeAttribute("name")}function st(u,f,m,E,M,j,ce,Ce){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),f!=null||m!=null){if(!(j!=="submit"&&j!=="reset"||f!=null))return;m=m!=null?""+ue(m):"",f=f!=null?""+ue(f):m,Ce||f===u.value||(u.value=f),u.defaultValue=f}E=E??M,E=typeof E!="function"&&typeof E!="symbol"&&!!E,u.checked=Ce?u.checked:!!E,u.defaultChecked=!!E,ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"&&(u.name=ce)}function ht(u,f,m){f==="number"&&Ne(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function lt(u,f,m,E){if(u=u.options,f){f={};for(var M=0;M<m.length;M++)f["$"+m[M]]=!0;for(m=0;m<u.length;m++)M=f.hasOwnProperty("$"+u[m].value),u[m].selected!==M&&(u[m].selected=M),M&&E&&(u[m].defaultSelected=!0)}else{for(m=""+ue(m),f=null,M=0;M<u.length;M++){if(u[M].value===m){u[M].selected=!0,E&&(u[M].defaultSelected=!0);return}f!==null||u[M].disabled||(f=u[M])}f!==null&&(f.selected=!0)}}function be(u,f,m){if(f!=null&&(f=""+ue(f),f!==u.value&&(u.value=f),m==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=m!=null?""+ue(m):""}function je(u,f,m,E){if(f==null){if(E!=null){if(m!=null)throw Error(r(92));if(W(E)){if(1<E.length)throw Error(r(93));E=E[0]}m=E}m==null&&(m=""),f=m}m=ue(f),u.defaultValue=m,E=u.textContent,E===m&&E!==""&&E!==null&&(u.value=E)}function qe(u,f){if(f){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=f;return}}u.textContent=f}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ct(u,f,m){var E=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?E?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":E?u.setProperty(f,m):typeof m!="number"||m===0||Ke.has(f)?f==="float"?u.cssFloat=m:u[f]=(""+m).trim():u[f]=m+"px"}function yt(u,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,m!=null){for(var E in m)!m.hasOwnProperty(E)||f!=null&&f.hasOwnProperty(E)||(E.indexOf("--")===0?u.setProperty(E,""):E==="float"?u.cssFloat="":u[E]="");for(var M in f)E=f[M],f.hasOwnProperty(M)&&m[M]!==E&&ct(u,M,E)}else for(var j in f)f.hasOwnProperty(j)&&ct(u,j,f[j])}function Ut(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(u){return mn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Vt=null;function Hn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Fn=null,Un=null;function Qt(u){var f=Zt(u);if(f&&(u=f.stateNode)){var m=u[Tt]||null;e:switch(u=f.stateNode,f.type){case"input":if(Ye(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+He(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var E=m[f];if(E!==u&&E.form===u.form){var M=E[Tt]||null;if(!M)throw Error(r(90));Ye(E,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<m.length;f++)E=m[f],E.form===u.form&&Oe(E)}break e;case"textarea":be(u,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&lt(u,!!m.multiple,f,!1)}}}var Wn=!1;function gn(u,f,m){if(Wn)return u(f,m);Wn=!0;try{var E=u(f);return E}finally{if(Wn=!1,(Fn!==null||Un!==null)&&(Iv(),Fn&&(f=Fn,u=Un,Un=Fn=null,Qt(f),u)))for(f=0;f<u.length;f++)Qt(u[f])}}function Yn(u,f){var m=u.stateNode;if(m===null)return null;var E=m[Tt]||null;if(E===null)return null;m=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var vr=!1;if(Bn)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){vr=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{vr=!1}var fr=null,Ti=null,Yi=null;function Sa(){if(Yi)return Yi;var u,f=Ti,m=f.length,E,M="value"in fr?fr.value:fr.textContent,j=M.length;for(u=0;u<m&&f[u]===M[u];u++);var ce=m-u;for(E=1;E<=ce&&f[m-E]===M[j-E];E++);return Yi=M.slice(u,1<E?1-E:void 0)}function or(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function zi(){return!0}function ko(){return!1}function sr(u){function f(m,E,M,j,ce){this._reactName=m,this._targetInst=M,this.type=E,this.nativeEvent=j,this.target=ce,this.currentTarget=null;for(var Ce in u)u.hasOwnProperty(Ce)&&(m=u[Ce],this[Ce]=m?m(j):j[Ce]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?zi:ko,this.isPropagationStopped=ko,this}return q(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),f}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=sr(qr),ea=q({},qr,{view:0,detail:0}),Wu=sr(ea),fo,_n,Na,dr=q({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Na&&(Na&&u.type==="mousemove"?(fo=u.screenX-Na.screenX,_n=u.screenY-Na.screenY):_n=fo=0,Na=u),fo)},movementY:function(u){return"movementY"in u?u.movementY:_n}}),Hi=sr(dr),xa=q({},dr,{dataTransfer:0}),hr=sr(xa),ta=q({},ea,{relatedTarget:0}),ho=sr(ta),Lr=q({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=sr(Lr),No=q({},qr,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Fa=sr(No),fp=q({},qr,{data:0}),na=sr(fp),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=cs[u])?!!f[u]:!1}function Jf(){return Hy}var dp=q({},ea,{key:function(u){if(u.key){var f=Zf[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=or(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?zy[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(u){return u.type==="keypress"?or(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?or(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),e1=sr(dp),Vy=q({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hp=sr(Vy),t1=q({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),n1=sr(t1),pp=q({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r1=sr(pp),Ky=q({},dr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=sr(Ky),Xf=q({},qr,{newState:0,oldState:0}),Us=sr(Xf),i1=[9,13,27,32],qs=Bn&&"CompositionEvent"in window,_i=null;Bn&&"documentMode"in document&&(_i=document.documentMode);var Wy=Bn&&"TextEvent"in window&&!_i,gp=Bn&&(!qs||_i&&8<_i&&11>=_i),Qy=" ",Yf=!1;function ed(u,f){switch(u){case"keyup":return i1.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Qu=!1;function Jy(u,f){switch(u){case"compositionend":return Zy(f);case"keypress":return f.which!==32?null:(Yf=!0,Qy);case"textInput":return u=f.data,u===Qy&&Yf?null:u;default:return null}}function a1(u,f){if(Qu)return u==="compositionend"||!qs&&ed(u,f)?(u=Sa(),Yi=Ti=fr=null,Qu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return gp&&f.locale!=="ko"?null:f.data;default:return null}}var ja={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zs(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!ja[u.type]:f==="textarea"}function Xy(u,f,m,E){Fn?Un?Un.push(E):Un=[E]:Fn=E,f=Fv(f,"onChange"),0<f.length&&(m=new co("onChange","change",null,m,E),u.push({event:m,listeners:f}))}var ra=null,hc=null;function Zu(u){JM(u,0)}function td(u){var f=Cn(u);if(Oe(f))return u}function Ju(u,f){if(u==="change")return f}var mp=!1;if(Bn){var Xu;if(Bn){var yp="oninput"in document;if(!yp){var Fo=document.createElement("div");Fo.setAttribute("oninput","return;"),yp=typeof Fo.oninput=="function"}Xu=yp}else Xu=!1;mp=Xu&&(!document.documentMode||9<document.documentMode)}function pc(){ra&&(ra.detachEvent("onpropertychange",Yy),hc=ra=null)}function Yy(u){if(u.propertyName==="value"&&td(hc)){var f=[];Xy(f,hc,u,Hn(u)),gn(Zu,f)}}function vp(u,f,m){u==="focusin"?(pc(),ra=f,hc=m,ra.attachEvent("onpropertychange",Yy)):u==="focusout"&&pc()}function o1(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return td(hc)}function jo(u,f){if(u==="click")return td(f)}function s1(u,f){if(u==="input"||u==="change")return td(f)}function Yu(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ia=typeof Object.is=="function"?Object.is:Yu;function aa(u,f){if(ia(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var m=Object.keys(u),E=Object.keys(f);if(m.length!==E.length)return!1;for(E=0;E<m.length;E++){var M=m[E];if(!De.call(f,M)||!ia(u[M],f[M]))return!1}return!0}function gc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function _p(u,f){var m=gc(u);u=0;for(var E;m;){if(m.nodeType===3){if(E=u+m.textContent.length,u<=f&&E>=f)return{node:m,offset:f-u};u=E}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=gc(m)}}function nd(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?nd(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function mc(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Ne(u.document);f instanceof u.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)u=f.contentWindow;else break;f=Ne(u.document)}return f}function yc(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function rd(u,f){var m=mc(f);f=u.focusedElem;var E=u.selectionRange;if(m!==f&&f&&f.ownerDocument&&nd(f.ownerDocument.documentElement,f)){if(E!==null&&yc(f)){if(u=E.start,m=E.end,m===void 0&&(m=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(m,f.value.length);else if(m=(u=f.ownerDocument||document)&&u.defaultView||window,m.getSelection){m=m.getSelection();var M=f.textContent.length,j=Math.min(E.start,M);E=E.end===void 0?j:Math.min(E.end,M),!m.extend&&j>E&&(M=E,E=j,j=M),M=_p(f,j);var ce=_p(f,E);M&&ce&&(m.rangeCount!==1||m.anchorNode!==M.node||m.anchorOffset!==M.offset||m.focusNode!==ce.node||m.focusOffset!==ce.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),m.removeAllRanges(),j>E?(m.addRange(u),m.extend(ce.node,ce.offset)):(u.setEnd(ce.node,ce.offset),m.addRange(u)))}}for(u=[],m=f;m=m.parentNode;)m.nodeType===1&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)m=u[f],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var el=Bn&&"documentMode"in document&&11>=document.documentMode,$o=null,vc=null,tl=null,wp=!1;function _c(u,f,m){var E=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;wp||$o==null||$o!==Ne(E)||(E=$o,"selectionStart"in E&&yc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),tl&&aa(tl,E)||(tl=E,E=Fv(vc,"onSelect"),0<E.length&&(f=new co("onSelect","select",null,f,m),u.push({event:f,listeners:E}),f.target=$o)))}function Hs(u,f){var m={};return m[u.toLowerCase()]=f.toLowerCase(),m["Webkit"+u]="webkit"+f,m["Moz"+u]="moz"+f,m}var Vs={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},bp={},Sp={};Bn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Ks(u){if(bp[u])return bp[u];if(!Vs[u])return u;var f=Vs[u],m;for(m in f)if(f.hasOwnProperty(m)&&m in Sp)return bp[u]=f[m];return u}var $a=Ks("animationend"),wc=Ks("animationiteration"),ev=Ks("animationstart"),id=Ks("transitionrun"),u1=Ks("transitionstart"),tv=Ks("transitioncancel"),nv=Ks("transitionend"),nl=new Map,rv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wi(u,f){nl.set(u,f),Xr(f,[u])}var oa=[],Gs=0,xp=0;function Ea(){for(var u=Gs,f=xp=Gs=0;f<u;){var m=oa[f];oa[f++]=null;var E=oa[f];oa[f++]=null;var M=oa[f];oa[f++]=null;var j=oa[f];if(oa[f++]=null,E!==null&&M!==null){var ce=E.pending;ce===null?M.next=M:(M.next=ce.next,ce.next=M),E.pending=M}j!==0&&iv(m,M,j)}}function bc(u,f,m,E){oa[Gs++]=u,oa[Gs++]=f,oa[Gs++]=m,oa[Gs++]=E,xp|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function ad(u,f,m,E){return bc(u,f,m,E),Ws(u)}function Ca(u,f){return bc(u,null,null,f),Ws(u)}function iv(u,f,m){u.lanes|=m;var E=u.alternate;E!==null&&(E.lanes|=m);for(var M=!1,j=u.return;j!==null;)j.childLanes|=m,E=j.alternate,E!==null&&(E.childLanes|=m),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(M=!0)),u=j,j=j.return;M&&f!==null&&u.tag===3&&(j=u.stateNode,M=31-Lt(m),j=j.hiddenUpdates,u=j[M],u===null?j[M]=[f]:u.push(f),f.lane=m|536870912)}function Ws(u){if(50<qp)throw qp=0,cS=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var po={},Ep=new WeakMap;function sa(u,f){if(typeof u=="object"&&u!==null){var m=Ep.get(u);return m!==void 0?m:(f={value:u,source:f,stack:de(f)},Ep.set(u,f),f)}return{value:u,source:f,stack:de(f)}}var rl=[],Qs=0,Sc=null,xc=0,ua=[],la=0,Zs=null,go=1,mo="";function Js(u,f){rl[Qs++]=xc,rl[Qs++]=Sc,Sc=u,xc=f}function p(u,f,m){ua[la++]=go,ua[la++]=mo,ua[la++]=Zs,Zs=u;var E=go;u=mo;var M=32-Lt(E)-1;E&=~(1<<M),m+=1;var j=32-Lt(f)+M;if(30<j){var ce=M-M%5;j=(E&(1<<ce)-1).toString(32),E>>=ce,M-=ce,go=1<<32-Lt(f)+M|m<<M|E,mo=j+u}else go=1<<j|m<<M|E,mo=u}function b(u){u.return!==null&&(Js(u,1),p(u,1,0))}function I(u){for(;u===Sc;)Sc=rl[--Qs],rl[Qs]=null,xc=rl[--Qs],rl[Qs]=null;for(;u===Zs;)Zs=ua[--la],ua[la]=null,mo=ua[--la],ua[la]=null,go=ua[--la],ua[la]=null}var z=null,ne=null,ye=!1,Ge=null,ut=!1,vt=Error(r(519));function xt(u){var f=Error(r(418,""));throw Ir(sa(f,u)),vt}function qt(u){var f=u.stateNode,m=u.type,E=u.memoizedProps;switch(f[rt]=u,f[Tt]=E,m){case"dialog":jn("cancel",f),jn("close",f);break;case"iframe":case"object":case"embed":jn("load",f);break;case"video":case"audio":for(m=0;m<Hp.length;m++)jn(Hp[m],f);break;case"source":jn("error",f);break;case"img":case"image":case"link":jn("error",f),jn("load",f);break;case"details":jn("toggle",f);break;case"input":jn("invalid",f),st(f,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Se(f);break;case"select":jn("invalid",f);break;case"textarea":jn("invalid",f),je(f,E.value,E.defaultValue,E.children),Se(f)}m=E.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||E.suppressHydrationWarning===!0||tD(f.textContent,m)?(E.popover!=null&&(jn("beforetoggle",f),jn("toggle",f)),E.onScroll!=null&&jn("scroll",f),E.onScrollEnd!=null&&jn("scrollend",f),E.onClick!=null&&(f.onclick=jv),f=!0):f=!1,f||xt(u)}function an(u){for(z=u.return;z;)switch(z.tag){case 3:case 27:ut=!0;return;case 5:case 13:ut=!1;return;default:z=z.return}}function yn(u){if(u!==z)return!1;if(!ye)return an(u),ye=!0,!1;var f=!1,m;if((m=u.tag!==3&&u.tag!==27)&&((m=u.tag===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||RS(u.type,u.memoizedProps)),m=!m),m&&(f=!0),f&&ne&&xt(u),an(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(m=u.data,m==="/$"){if(f===0){ne=Uo(u.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++;u=u.nextSibling}ne=null}}else ne=z?Uo(u.stateNode.nextSibling):null;return!0}function Yr(){ne=z=null,ye=!1}function Ir(u){Ge===null?Ge=[u]:Ge.push(u)}var bi=Error(r(460)),Ri=Error(r(474)),fs={then:function(){}};function av(u){return u=u.status,u==="fulfilled"||u==="rejected"}function od(){}function ov(u,f,m){switch(m=u[m],m===void 0?u.push(f):m!==f&&(f.then(od,od),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===bi?Error(r(483)):u;default:if(typeof f.status=="string")f.then(od,od);else{if(u=Sr,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(E){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=E}},function(E){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=E}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===bi?Error(r(483)):u}throw il=f,bi}}var il=null;function sv(){if(il===null)throw Error(r(459));var u=il;return il=null,u}var Xs=null,br=0;function Ys(u){var f=br;return br+=1,Xs===null&&(Xs=[]),ov(Xs,u,f)}function Ec(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function sd(u,f){throw f.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function uv(u){var f=u._init;return f(u._payload)}function ud(u){function f(ft,nt){if(u){var pt=ft.deletions;pt===null?(ft.deletions=[nt],ft.flags|=16):pt.push(nt)}}function m(ft,nt){if(!u)return null;for(;nt!==null;)f(ft,nt),nt=nt.sibling;return null}function E(ft){for(var nt=new Map;ft!==null;)ft.key!==null?nt.set(ft.key,ft):nt.set(ft.index,ft),ft=ft.sibling;return nt}function M(ft,nt){return ft=ml(ft,nt),ft.index=0,ft.sibling=null,ft}function j(ft,nt,pt){return ft.index=pt,u?(pt=ft.alternate,pt!==null?(pt=pt.index,pt<nt?(ft.flags|=33554434,nt):pt):(ft.flags|=33554434,nt)):(ft.flags|=1048576,nt)}function ce(ft){return u&&ft.alternate===null&&(ft.flags|=33554434),ft}function Ce(ft,nt,pt,Et){return nt===null||nt.tag!==6?(nt=nS(pt,ft.mode,Et),nt.return=ft,nt):(nt=M(nt,pt),nt.return=ft,nt)}function Ve(ft,nt,pt,Et){var Kt=pt.type;return Kt===l?bt(ft,nt,pt.props.children,Et,pt.key):nt!==null&&(nt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&uv(Kt)===nt.type)?(nt=M(nt,pt.props),Ec(nt,pt),nt.return=ft,nt):(nt=Rv(pt.type,pt.key,pt.props,null,ft.mode,Et),Ec(nt,pt),nt.return=ft,nt)}function it(ft,nt,pt,Et){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==pt.containerInfo||nt.stateNode.implementation!==pt.implementation?(nt=rS(pt,ft.mode,Et),nt.return=ft,nt):(nt=M(nt,pt.children||[]),nt.return=ft,nt)}function bt(ft,nt,pt,Et,Kt){return nt===null||nt.tag!==7?(nt=Mc(pt,ft.mode,Et,Kt),nt.return=ft,nt):(nt=M(nt,pt),nt.return=ft,nt)}function Pt(ft,nt,pt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=nS(""+nt,ft.mode,pt),nt.return=ft,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case o:return pt=Rv(nt.type,nt.key,nt.props,null,ft.mode,pt),Ec(pt,nt),pt.return=ft,pt;case s:return nt=rS(nt,ft.mode,pt),nt.return=ft,nt;case x:var Et=nt._init;return nt=Et(nt._payload),Pt(ft,nt,pt)}if(W(nt)||D(nt))return nt=Mc(nt,ft.mode,pt,null),nt.return=ft,nt;if(typeof nt.then=="function")return Pt(ft,Ys(nt),pt);if(nt.$$typeof===y)return Pt(ft,Ev(ft,nt),pt);sd(ft,nt)}return null}function mt(ft,nt,pt,Et){var Kt=nt!==null?nt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Kt!==null?null:Ce(ft,nt,""+pt,Et);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case o:return pt.key===Kt?Ve(ft,nt,pt,Et):null;case s:return pt.key===Kt?it(ft,nt,pt,Et):null;case x:return Kt=pt._init,pt=Kt(pt._payload),mt(ft,nt,pt,Et)}if(W(pt)||D(pt))return Kt!==null?null:bt(ft,nt,pt,Et,null);if(typeof pt.then=="function")return mt(ft,nt,Ys(pt),Et);if(pt.$$typeof===y)return mt(ft,nt,Ev(ft,pt),Et);sd(ft,pt)}return null}function _t(ft,nt,pt,Et,Kt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return ft=ft.get(pt)||null,Ce(nt,ft,""+Et,Kt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case o:return ft=ft.get(Et.key===null?pt:Et.key)||null,Ve(nt,ft,Et,Kt);case s:return ft=ft.get(Et.key===null?pt:Et.key)||null,it(nt,ft,Et,Kt);case x:var In=Et._init;return Et=In(Et._payload),_t(ft,nt,pt,Et,Kt)}if(W(Et)||D(Et))return ft=ft.get(pt)||null,bt(nt,ft,Et,Kt,null);if(typeof Et.then=="function")return _t(ft,nt,pt,Ys(Et),Kt);if(Et.$$typeof===y)return _t(ft,nt,pt,Ev(nt,Et),Kt);sd(nt,Et)}return null}function Jt(ft,nt,pt,Et){for(var Kt=null,In=null,en=nt,sn=nt=0,Ei=null;en!==null&&sn<pt.length;sn++){en.index>sn?(Ei=en,en=null):Ei=en.sibling;var Kn=mt(ft,en,pt[sn],Et);if(Kn===null){en===null&&(en=Ei);break}u&&en&&Kn.alternate===null&&f(ft,en),nt=j(Kn,nt,sn),In===null?Kt=Kn:In.sibling=Kn,In=Kn,en=Ei}if(sn===pt.length)return m(ft,en),ye&&Js(ft,sn),Kt;if(en===null){for(;sn<pt.length;sn++)en=Pt(ft,pt[sn],Et),en!==null&&(nt=j(en,nt,sn),In===null?Kt=en:In.sibling=en,In=en);return ye&&Js(ft,sn),Kt}for(en=E(en);sn<pt.length;sn++)Ei=_t(en,ft,sn,pt[sn],Et),Ei!==null&&(u&&Ei.alternate!==null&&en.delete(Ei.key===null?sn:Ei.key),nt=j(Ei,nt,sn),In===null?Kt=Ei:In.sibling=Ei,In=Ei);return u&&en.forEach(function(xl){return f(ft,xl)}),ye&&Js(ft,sn),Kt}function vn(ft,nt,pt,Et){if(pt==null)throw Error(r(151));for(var Kt=null,In=null,en=nt,sn=nt=0,Ei=null,Kn=pt.next();en!==null&&!Kn.done;sn++,Kn=pt.next()){en.index>sn?(Ei=en,en=null):Ei=en.sibling;var xl=mt(ft,en,Kn.value,Et);if(xl===null){en===null&&(en=Ei);break}u&&en&&xl.alternate===null&&f(ft,en),nt=j(xl,nt,sn),In===null?Kt=xl:In.sibling=xl,In=xl,en=Ei}if(Kn.done)return m(ft,en),ye&&Js(ft,sn),Kt;if(en===null){for(;!Kn.done;sn++,Kn=pt.next())Kn=Pt(ft,Kn.value,Et),Kn!==null&&(nt=j(Kn,nt,sn),In===null?Kt=Kn:In.sibling=Kn,In=Kn);return ye&&Js(ft,sn),Kt}for(en=E(en);!Kn.done;sn++,Kn=pt.next())Kn=_t(en,ft,sn,Kn.value,Et),Kn!==null&&(u&&Kn.alternate!==null&&en.delete(Kn.key===null?sn:Kn.key),nt=j(Kn,nt,sn),In===null?Kt=Kn:In.sibling=Kn,In=Kn);return u&&en.forEach(function(AQ){return f(ft,AQ)}),ye&&Js(ft,sn),Kt}function Vr(ft,nt,pt,Et){if(typeof pt=="object"&&pt!==null&&pt.type===l&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case o:e:{for(var Kt=pt.key;nt!==null;){if(nt.key===Kt){if(Kt=pt.type,Kt===l){if(nt.tag===7){m(ft,nt.sibling),Et=M(nt,pt.props.children),Et.return=ft,ft=Et;break e}}else if(nt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&uv(Kt)===nt.type){m(ft,nt.sibling),Et=M(nt,pt.props),Ec(Et,pt),Et.return=ft,ft=Et;break e}m(ft,nt);break}else f(ft,nt);nt=nt.sibling}pt.type===l?(Et=Mc(pt.props.children,ft.mode,Et,pt.key),Et.return=ft,ft=Et):(Et=Rv(pt.type,pt.key,pt.props,null,ft.mode,Et),Ec(Et,pt),Et.return=ft,ft=Et)}return ce(ft);case s:e:{for(Kt=pt.key;nt!==null;){if(nt.key===Kt)if(nt.tag===4&&nt.stateNode.containerInfo===pt.containerInfo&&nt.stateNode.implementation===pt.implementation){m(ft,nt.sibling),Et=M(nt,pt.children||[]),Et.return=ft,ft=Et;break e}else{m(ft,nt);break}else f(ft,nt);nt=nt.sibling}Et=rS(pt,ft.mode,Et),Et.return=ft,ft=Et}return ce(ft);case x:return Kt=pt._init,pt=Kt(pt._payload),Vr(ft,nt,pt,Et)}if(W(pt))return Jt(ft,nt,pt,Et);if(D(pt)){if(Kt=D(pt),typeof Kt!="function")throw Error(r(150));return pt=Kt.call(pt),vn(ft,nt,pt,Et)}if(typeof pt.then=="function")return Vr(ft,nt,Ys(pt),Et);if(pt.$$typeof===y)return Vr(ft,nt,Ev(ft,pt),Et);sd(ft,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint"?(pt=""+pt,nt!==null&&nt.tag===6?(m(ft,nt.sibling),Et=M(nt,pt),Et.return=ft,ft=Et):(m(ft,nt),Et=nS(pt,ft.mode,Et),Et.return=ft,ft=Et),ce(ft)):m(ft,nt)}return function(ft,nt,pt,Et){try{br=0;var Kt=Vr(ft,nt,pt,Et);return Xs=null,Kt}catch(en){if(en===bi)throw en;var In=wo(29,en,null,ft.mode);return In.lanes=Et,In.return=ft,In}finally{}}}var ds=ud(!0),lv=ud(!1),ld=Ae(null),cv=Ae(0);function tI(u,f){u=cu,Xe(cv,u),Xe(ld,f),cu=u|f.baseLanes}function l1(){Xe(cv,cu),Xe(ld,ld.current)}function c1(){cu=cv.current,$e(ld),$e(cv)}var yo=Ae(null),hs=null;function al(u){var f=u.alternate;Xe(hi,hi.current&1),Xe(yo,u),hs===null&&(f===null||ld.current!==null||f.memoizedState!==null)&&(hs=u)}function nI(u){if(u.tag===22){if(Xe(hi,hi.current),Xe(yo,u),hs===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(hs=u)}}else ol()}function ol(){Xe(hi,hi.current),Xe(yo,yo.current)}function eu(u){$e(yo),hs===u&&(hs=null),$e(hi)}var hi=Ae(0);function fv(u){for(var f=u;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var gW=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(m,E){u.push(E)}};this.abort=function(){f.aborted=!0,u.forEach(function(m){return m()})}},mW=e.unstable_scheduleCallback,yW=e.unstable_NormalPriority,pi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function f1(){return{controller:new gW,data:new Map,refCount:0}}function Cp(u){u.refCount--,u.refCount===0&&mW(yW,function(){u.controller.abort()})}var Tp=null,d1=0,cd=0,fd=null;function vW(u,f){if(Tp===null){var m=Tp=[];d1=0,cd=vS(),fd={status:"pending",value:void 0,then:function(E){m.push(E)}}}return d1++,f.then(rI,rI),f}function rI(){if(--d1===0&&Tp!==null){fd!==null&&(fd.status="fulfilled");var u=Tp;Tp=null,cd=0,fd=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function _W(u,f){var m=[],E={status:"pending",value:null,reason:null,then:function(M){m.push(M)}};return u.then(function(){E.status="fulfilled",E.value=f;for(var M=0;M<m.length;M++)(0,m[M])(f)},function(M){for(E.status="rejected",E.reason=M,M=0;M<m.length;M++)(0,m[M])(void 0)}),E}var iI=Y.S;Y.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&vW(u,f),iI!==null&&iI(u,f)};var Cc=Ae(null);function h1(){var u=Cc.current;return u!==null?u:Sr.pooledCache}function dv(u,f){f===null?Xe(Cc,Cc.current):Xe(Cc,f.pool)}function aI(){var u=h1();return u===null?null:{parent:pi._currentValue,pool:u}}var sl=0,An=null,pr=null,oi=null,hv=!1,dd=!1,Tc=!1,pv=0,Rp=0,hd=null,wW=0;function ei(){throw Error(r(321))}function p1(u,f){if(f===null)return!1;for(var m=0;m<f.length&&m<u.length;m++)if(!ia(u[m],f[m]))return!1;return!0}function g1(u,f,m,E,M,j){return sl=j,An=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Y.H=u===null||u.memoizedState===null?Rc:ul,Tc=!1,j=m(E,M),Tc=!1,dd&&(j=sI(f,m,E,M)),oI(u),j}function oI(u){Y.H=ps;var f=pr!==null&&pr.next!==null;if(sl=0,oi=pr=An=null,hv=!1,Rp=0,hd=null,f)throw Error(r(300));u===null||Si||(u=u.dependencies,u!==null&&xv(u)&&(Si=!0))}function sI(u,f,m,E){An=u;var M=0;do{if(dd&&(hd=null),Rp=0,dd=!1,25<=M)throw Error(r(301));if(M+=1,oi=pr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=Ac,j=f(m,E)}while(dd);return j}function bW(){var u=Y.H,f=u.useState()[0];return f=typeof f.then=="function"?Ap(f):f,u=u.useState()[0],(pr!==null?pr.memoizedState:null)!==u&&(An.flags|=1024),f}function m1(){var u=pv!==0;return pv=0,u}function y1(u,f,m){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~m}function v1(u){if(hv){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}hv=!1}sl=0,oi=pr=An=null,dd=!1,Rp=pv=0,hd=null}function Ta(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?An.memoizedState=oi=u:oi=oi.next=u,oi}function si(){if(pr===null){var u=An.alternate;u=u!==null?u.memoizedState:null}else u=pr.next;var f=oi===null?An.memoizedState:oi.next;if(f!==null)oi=f,pr=u;else{if(u===null)throw An.alternate===null?Error(r(467)):Error(r(310));pr=u,u={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},oi===null?An.memoizedState=oi=u:oi=oi.next=u}return oi}var gv;gv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ap(u){var f=Rp;return Rp+=1,hd===null&&(hd=[]),u=ov(hd,u,f),f=An,(oi===null?f.memoizedState:oi.next)===null&&(f=f.alternate,Y.H=f===null||f.memoizedState===null?Rc:ul),u}function mv(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ap(u);if(u.$$typeof===y)return Vi(u)}throw Error(r(438,String(u)))}function _1(u){var f=null,m=An.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var E=An.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(f={data:E.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=gv(),An.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(u),E=0;E<u;E++)m[E]=P;return f.index++,m}function tu(u,f){return typeof f=="function"?f(u):f}function yv(u){var f=si();return w1(f,pr,u)}function w1(u,f,m){var E=u.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=m;var M=u.baseQueue,j=E.pending;if(j!==null){if(M!==null){var ce=M.next;M.next=j.next,j.next=ce}f.baseQueue=M=j,E.pending=null}if(j=u.baseState,M===null)u.memoizedState=j;else{f=M.next;var Ce=ce=null,Ve=null,it=f,bt=!1;do{var Pt=it.lane&-536870913;if(Pt!==it.lane?(qn&Pt)===Pt:(sl&Pt)===Pt){var mt=it.revertLane;if(mt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),Pt===cd&&(bt=!0);else if((sl&mt)===mt){it=it.next,mt===cd&&(bt=!0);continue}else Pt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Ve===null?(Ce=Ve=Pt,ce=j):Ve=Ve.next=Pt,An.lanes|=mt,yl|=mt;Pt=it.action,Tc&&m(j,Pt),j=it.hasEagerState?it.eagerState:m(j,Pt)}else mt={lane:Pt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Ve===null?(Ce=Ve=mt,ce=j):Ve=Ve.next=mt,An.lanes|=Pt,yl|=Pt;it=it.next}while(it!==null&&it!==f);if(Ve===null?ce=j:Ve.next=Ce,!ia(j,u.memoizedState)&&(Si=!0,bt&&(m=fd,m!==null)))throw m;u.memoizedState=j,u.baseState=ce,u.baseQueue=Ve,E.lastRenderedState=j}return M===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function b1(u){var f=si(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var E=m.dispatch,M=m.pending,j=f.memoizedState;if(M!==null){m.pending=null;var ce=M=M.next;do j=u(j,ce.action),ce=ce.next;while(ce!==M);ia(j,f.memoizedState)||(Si=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),m.lastRenderedState=j}return[j,E]}function uI(u,f,m){var E=An,M=si(),j=ye;if(j){if(m===void 0)throw Error(r(407));m=m()}else m=f();var ce=!ia((pr||M).memoizedState,m);if(ce&&(M.memoizedState=m,Si=!0),M=M.queue,E1(fI.bind(null,E,M,u),[u]),M.getSnapshot!==f||ce||oi!==null&&oi.memoizedState.tag&1){if(E.flags|=2048,pd(9,cI.bind(null,E,M,m,f),{destroy:void 0},null),Sr===null)throw Error(r(349));j||sl&60||lI(E,f,m)}return m}function lI(u,f,m){u.flags|=16384,u={getSnapshot:f,value:m},f=An.updateQueue,f===null?(f=gv(),An.updateQueue=f,f.stores=[u]):(m=f.stores,m===null?f.stores=[u]:m.push(u))}function cI(u,f,m,E){f.value=m,f.getSnapshot=E,dI(f)&&hI(u)}function fI(u,f,m){return m(function(){dI(f)&&hI(u)})}function dI(u){var f=u.getSnapshot;u=u.value;try{var m=f();return!ia(u,m)}catch{return!0}}function hI(u){var f=Ca(u,2);f!==null&&ca(f,u,2)}function S1(u){var f=Ta();if(typeof u=="function"){var m=u;if(u=m(),Tc){Nt(!0);try{m()}finally{Nt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:u},f}function pI(u,f,m,E){return u.baseState=m,w1(u,pr,typeof E=="function"?E:tu)}function SW(u,f,m,E,M){if(wv(u))throw Error(r(485));if(u=f.action,u!==null){var j={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){j.listeners.push(ce)}};Y.T!==null?m(!0):j.isTransition=!1,E(j),m=f.pending,m===null?(j.next=f.pending=j,gI(f,j)):(j.next=m.next,f.pending=m.next=j)}}function gI(u,f){var m=f.action,E=f.payload,M=u.state;if(f.isTransition){var j=Y.T,ce={};Y.T=ce;try{var Ce=m(M,E),Ve=Y.S;Ve!==null&&Ve(ce,Ce),mI(u,f,Ce)}catch(it){x1(u,f,it)}finally{Y.T=j}}else try{j=m(M,E),mI(u,f,j)}catch(it){x1(u,f,it)}}function mI(u,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(E){yI(u,f,E)},function(E){return x1(u,f,E)}):yI(u,f,m)}function yI(u,f,m){f.status="fulfilled",f.value=m,vI(f),u.state=m,f=u.pending,f!==null&&(m=f.next,m===f?u.pending=null:(m=m.next,f.next=m,gI(u,m)))}function x1(u,f,m){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do f.status="rejected",f.reason=m,vI(f),f=f.next;while(f!==E)}u.action=null}function vI(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function _I(u,f){return f}function wI(u,f){if(ye){var m=Sr.formState;if(m!==null){e:{var E=An;if(ye){if(ne){t:{for(var M=ne,j=ut;M.nodeType!==8;){if(!j){M=null;break t}if(M=Uo(M.nextSibling),M===null){M=null;break t}}j=M.data,M=j==="F!"||j==="F"?M:null}if(M){ne=Uo(M.nextSibling),E=M.data==="F!";break e}}xt(E)}E=!1}E&&(f=m[0])}}return m=Ta(),m.memoizedState=m.baseState=f,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_I,lastRenderedState:f},m.queue=E,m=jI.bind(null,An,E),E.dispatch=m,E=S1(!1),j=P1.bind(null,An,!1,E.queue),E=Ta(),M={state:f,dispatch:null,action:u,pending:null},E.queue=M,m=SW.bind(null,An,M,j,m),M.dispatch=m,E.memoizedState=u,[f,m,!1]}function bI(u){var f=si();return SI(f,pr,u)}function SI(u,f,m){f=w1(u,f,_I)[0],u=yv(tu)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Ap(f):f;var E=si(),M=E.queue,j=M.dispatch;return m!==E.memoizedState&&(An.flags|=2048,pd(9,xW.bind(null,M,m),{destroy:void 0},null)),[f,j,u]}function xW(u,f){u.action=f}function xI(u){var f=si(),m=pr;if(m!==null)return SI(f,m,u);si(),f=f.memoizedState,m=si();var E=m.queue.dispatch;return m.memoizedState=u,[f,E,!1]}function pd(u,f,m,E){return u={tag:u,create:f,inst:m,deps:E,next:null},f=An.updateQueue,f===null&&(f=gv(),An.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=u.next=u:(E=m.next,m.next=u,u.next=E,f.lastEffect=u),u}function EI(){return si().memoizedState}function vv(u,f,m,E){var M=Ta();An.flags|=u,M.memoizedState=pd(1|f,m,{destroy:void 0},E===void 0?null:E)}function _v(u,f,m,E){var M=si();E=E===void 0?null:E;var j=M.memoizedState.inst;pr!==null&&E!==null&&p1(E,pr.memoizedState.deps)?M.memoizedState=pd(f,m,j,E):(An.flags|=u,M.memoizedState=pd(1|f,m,j,E))}function CI(u,f){vv(8390656,8,u,f)}function E1(u,f){_v(2048,8,u,f)}function TI(u,f){return _v(4,2,u,f)}function RI(u,f){return _v(4,4,u,f)}function AI(u,f){if(typeof f=="function"){u=u();var m=f(u);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function PI(u,f,m){m=m!=null?m.concat([u]):null,_v(4,4,AI.bind(null,f,u),m)}function C1(){}function OI(u,f){var m=si();f=f===void 0?null:f;var E=m.memoizedState;return f!==null&&p1(f,E[1])?E[0]:(m.memoizedState=[u,f],u)}function LI(u,f){var m=si();f=f===void 0?null:f;var E=m.memoizedState;if(f!==null&&p1(f,E[1]))return E[0];if(E=u(),Tc){Nt(!0);try{u()}finally{Nt(!1)}}return m.memoizedState=[E,f],E}function T1(u,f,m){return m===void 0||sl&1073741824?u.memoizedState=f:(u.memoizedState=m,u=MM(),An.lanes|=u,yl|=u,m)}function II(u,f,m,E){return ia(m,f)?m:ld.current!==null?(u=T1(u,m,E),ia(u,f)||(Si=!0),u):sl&42?(u=MM(),An.lanes|=u,yl|=u,f):(Si=!0,u.memoizedState=m)}function MI(u,f,m,E,M){var j=ee.p;ee.p=j!==0&&8>j?j:8;var ce=Y.T,Ce={};Y.T=Ce,P1(u,!1,f,m);try{var Ve=M(),it=Y.S;if(it!==null&&it(Ce,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var bt=_W(Ve,E);Pp(u,f,bt,za(u))}else Pp(u,f,E,za(u))}catch(Pt){Pp(u,f,{then:function(){},status:"rejected",reason:Pt},za())}finally{ee.p=j,Y.T=ce}}function EW(){}function R1(u,f,m,E){if(u.tag!==5)throw Error(r(476));var M=DI(u).queue;MI(u,M,f,pe,m===null?EW:function(){return kI(u),m(E)})}function DI(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:pe},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:m},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function kI(u){var f=DI(u).next.queue;Pp(u,f,{},za())}function A1(){return Vi(Qp)}function NI(){return si().memoizedState}function FI(){return si().memoizedState}function CW(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var m=za();u=fl(m);var E=dl(f,u,m);E!==null&&(ca(E,f,m),Ip(E,f,m)),f={cache:f1()},u.payload=f;return}f=f.return}}function TW(u,f,m){var E=za();m={lane:E,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},wv(u)?$I(f,m):(m=ad(u,f,m,E),m!==null&&(ca(m,u,E),BI(m,f,E)))}function jI(u,f,m){var E=za();Pp(u,f,m,E)}function Pp(u,f,m,E){var M={lane:E,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(wv(u))$I(f,M);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var ce=f.lastRenderedState,Ce=j(ce,m);if(M.hasEagerState=!0,M.eagerState=Ce,ia(Ce,ce))return bc(u,f,M,0),Sr===null&&Ea(),!1}catch{}finally{}if(m=ad(u,f,M,E),m!==null)return ca(m,u,E),BI(m,f,E),!0}return!1}function P1(u,f,m,E){if(E={lane:2,revertLane:vS(),action:E,hasEagerState:!1,eagerState:null,next:null},wv(u)){if(f)throw Error(r(479))}else f=ad(u,m,E,2),f!==null&&ca(f,u,2)}function wv(u){var f=u.alternate;return u===An||f!==null&&f===An}function $I(u,f){dd=hv=!0;var m=u.pending;m===null?f.next=f:(f.next=m.next,m.next=f),u.pending=f}function BI(u,f,m){if(m&4194176){var E=f.lanes;E&=u.pendingLanes,m|=E,f.lanes=m,Xn(u,m)}}var ps={readContext:Vi,use:mv,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei};ps.useCacheRefresh=ei,ps.useMemoCache=ei,ps.useHostTransitionStatus=ei,ps.useFormState=ei,ps.useActionState=ei,ps.useOptimistic=ei;var Rc={readContext:Vi,use:mv,useCallback:function(u,f){return Ta().memoizedState=[u,f===void 0?null:f],u},useContext:Vi,useEffect:CI,useImperativeHandle:function(u,f,m){m=m!=null?m.concat([u]):null,vv(4194308,4,AI.bind(null,f,u),m)},useLayoutEffect:function(u,f){return vv(4194308,4,u,f)},useInsertionEffect:function(u,f){vv(4,2,u,f)},useMemo:function(u,f){var m=Ta();f=f===void 0?null:f;var E=u();if(Tc){Nt(!0);try{u()}finally{Nt(!1)}}return m.memoizedState=[E,f],E},useReducer:function(u,f,m){var E=Ta();if(m!==void 0){var M=m(f);if(Tc){Nt(!0);try{m(f)}finally{Nt(!1)}}}else M=f;return E.memoizedState=E.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},E.queue=u,u=u.dispatch=TW.bind(null,An,u),[E.memoizedState,u]},useRef:function(u){var f=Ta();return u={current:u},f.memoizedState=u},useState:function(u){u=S1(u);var f=u.queue,m=jI.bind(null,An,f);return f.dispatch=m,[u.memoizedState,m]},useDebugValue:C1,useDeferredValue:function(u,f){var m=Ta();return T1(m,u,f)},useTransition:function(){var u=S1(!1);return u=MI.bind(null,An,u.queue,!0,!1),Ta().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,m){var E=An,M=Ta();if(ye){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),Sr===null)throw Error(r(349));qn&60||lI(E,f,m)}M.memoizedState=m;var j={value:m,getSnapshot:f};return M.queue=j,CI(fI.bind(null,E,j,u),[u]),E.flags|=2048,pd(9,cI.bind(null,E,j,m,f),{destroy:void 0},null),m},useId:function(){var u=Ta(),f=Sr.identifierPrefix;if(ye){var m=mo,E=go;m=(E&~(1<<32-Lt(E)-1)).toString(32)+m,f=":"+f+"R"+m,m=pv++,0<m&&(f+="H"+m.toString(32)),f+=":"}else m=wW++,f=":"+f+"r"+m.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return Ta().memoizedState=CW.bind(null,An)}};Rc.useMemoCache=_1,Rc.useHostTransitionStatus=A1,Rc.useFormState=wI,Rc.useActionState=wI,Rc.useOptimistic=function(u){var f=Ta();f.memoizedState=f.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=P1.bind(null,An,!0,m),m.dispatch=f,[u,f]};var ul={readContext:Vi,use:mv,useCallback:OI,useContext:Vi,useEffect:E1,useImperativeHandle:PI,useInsertionEffect:TI,useLayoutEffect:RI,useMemo:LI,useReducer:yv,useRef:EI,useState:function(){return yv(tu)},useDebugValue:C1,useDeferredValue:function(u,f){var m=si();return II(m,pr.memoizedState,u,f)},useTransition:function(){var u=yv(tu)[0],f=si().memoizedState;return[typeof u=="boolean"?u:Ap(u),f]},useSyncExternalStore:uI,useId:NI};ul.useCacheRefresh=FI,ul.useMemoCache=_1,ul.useHostTransitionStatus=A1,ul.useFormState=bI,ul.useActionState=bI,ul.useOptimistic=function(u,f){var m=si();return pI(m,pr,u,f)};var Ac={readContext:Vi,use:mv,useCallback:OI,useContext:Vi,useEffect:E1,useImperativeHandle:PI,useInsertionEffect:TI,useLayoutEffect:RI,useMemo:LI,useReducer:b1,useRef:EI,useState:function(){return b1(tu)},useDebugValue:C1,useDeferredValue:function(u,f){var m=si();return pr===null?T1(m,u,f):II(m,pr.memoizedState,u,f)},useTransition:function(){var u=b1(tu)[0],f=si().memoizedState;return[typeof u=="boolean"?u:Ap(u),f]},useSyncExternalStore:uI,useId:NI};Ac.useCacheRefresh=FI,Ac.useMemoCache=_1,Ac.useHostTransitionStatus=A1,Ac.useFormState=xI,Ac.useActionState=xI,Ac.useOptimistic=function(u,f){var m=si();return pr!==null?pI(m,pr,u,f):(m.baseState=u,[u,m.queue.dispatch])};function O1(u,f,m,E){f=u.memoizedState,m=m(E,f),m=m==null?f:q({},f,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var L1={isMounted:function(u){return(u=u._reactInternals)?se(u)===u:!1},enqueueSetState:function(u,f,m){u=u._reactInternals;var E=za(),M=fl(E);M.payload=f,m!=null&&(M.callback=m),f=dl(u,M,E),f!==null&&(ca(f,u,E),Ip(f,u,E))},enqueueReplaceState:function(u,f,m){u=u._reactInternals;var E=za(),M=fl(E);M.tag=1,M.payload=f,m!=null&&(M.callback=m),f=dl(u,M,E),f!==null&&(ca(f,u,E),Ip(f,u,E))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var m=za(),E=fl(m);E.tag=2,f!=null&&(E.callback=f),f=dl(u,E,m),f!==null&&(ca(f,u,m),Ip(f,u,m))}};function UI(u,f,m,E,M,j,ce){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,j,ce):f.prototype&&f.prototype.isPureReactComponent?!aa(m,E)||!aa(M,j):!0}function qI(u,f,m,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,E),f.state!==u&&L1.enqueueReplaceState(f,f.state,null)}function Pc(u,f){var m=f;if("ref"in f){m={};for(var E in f)E!=="ref"&&(m[E]=f[E])}if(u=u.defaultProps){m===f&&(m=q({},m));for(var M in u)m[M]===void 0&&(m[M]=u[M])}return m}var bv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function zI(u){bv(u)}function HI(u){console.error(u)}function VI(u){bv(u)}function Sv(u,f){try{var m=u.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(E){setTimeout(function(){throw E})}}function KI(u,f,m){try{var E=u.onCaughtError;E(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function I1(u,f,m){return m=fl(m),m.tag=3,m.payload={element:null},m.callback=function(){Sv(u,f)},m}function GI(u){return u=fl(u),u.tag=3,u}function WI(u,f,m,E){var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var j=E.value;u.payload=function(){return M(j)},u.callback=function(){KI(f,m,E)}}var ce=m.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(u.callback=function(){KI(f,m,E),typeof M!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var Ce=E.stack;this.componentDidCatch(E.value,{componentStack:Ce!==null?Ce:""})})}function RW(u,f,m,E,M){if(m.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(f=m.alternate,f!==null&&Lp(f,m,M,!0),m=yo.current,m!==null){switch(m.tag){case 13:return hs===null?hS():m.alternate===null&&Hr===0&&(Hr=3),m.flags&=-257,m.flags|=65536,m.lanes=M,E===fs?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([E]):f.add(E),gS(u,E,M)),!1;case 22:return m.flags|=65536,E===fs?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([E])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([E]):m.add(E)),gS(u,E,M)),!1}throw Error(r(435,m.tag))}return gS(u,E,M),hS(),!1}if(ye)return f=yo.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=M,E!==vt&&(u=Error(r(422),{cause:E}),Ir(sa(u,m)))):(E!==vt&&(f=Error(r(423),{cause:E}),Ir(sa(f,m))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,E=sa(E,m),M=I1(u.stateNode,E,M),G1(u,M),Hr!==4&&(Hr=2)),!1;var j=Error(r(520),{cause:E});if(j=sa(j,m),Bp===null?Bp=[j]:Bp.push(j),Hr!==4&&(Hr=2),f===null)return!0;E=sa(E,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,u=M&-M,m.lanes|=u,u=I1(m.stateNode,E,u),G1(m,u),!1;case 1:if(f=m.type,j=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(vl===null||!vl.has(j))))return m.flags|=65536,M&=-M,m.lanes|=M,M=GI(M),WI(M,u,m,E),G1(m,M),!1}m=m.return}while(m!==null);return!1}var QI=Error(r(461)),Si=!1;function Ai(u,f,m,E){f.child=u===null?lv(f,null,m,E):ds(f,u.child,m,E)}function ZI(u,f,m,E,M){m=m.render;var j=f.ref;if("ref"in E){var ce={};for(var Ce in E)Ce!=="ref"&&(ce[Ce]=E[Ce])}else ce=E;return Lc(f),E=g1(u,f,m,ce,j,M),Ce=m1(),u!==null&&!Si?(y1(u,f,M),nu(u,f,M)):(ye&&Ce&&b(f),f.flags|=1,Ai(u,f,E,M),f.child)}function JI(u,f,m,E,M){if(u===null){var j=m.type;return typeof j=="function"&&!tS(j)&&j.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=j,XI(u,f,j,E,M)):(u=Rv(m.type,null,E,f,f.mode,M),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,!U1(u,M)){var ce=j.memoizedProps;if(m=m.compare,m=m!==null?m:aa,m(ce,E)&&u.ref===f.ref)return nu(u,f,M)}return f.flags|=1,u=ml(j,E),u.ref=f.ref,u.return=f,f.child=u}function XI(u,f,m,E,M){if(u!==null){var j=u.memoizedProps;if(aa(j,E)&&u.ref===f.ref)if(Si=!1,f.pendingProps=E=j,U1(u,M))u.flags&131072&&(Si=!0);else return f.lanes=u.lanes,nu(u,f,M)}return M1(u,f,m,E,M)}function YI(u,f,m){var E=f.pendingProps,M=E.children,j=(f.stateNode._pendingVisibility&2)!==0,ce=u!==null?u.memoizedState:null;if(Op(u,f),E.mode==="hidden"||j){if(f.flags&128){if(E=ce!==null?ce.baseLanes|m:m,u!==null){for(M=f.child=u.child,j=0;M!==null;)j=j|M.lanes|M.childLanes,M=M.sibling;f.childLanes=j&~E}else f.childLanes=0,f.child=null;return eM(u,f,E,m)}if(m&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&dv(f,ce!==null?ce.cachePool:null),ce!==null?tI(f,ce):l1(),nI(f);else return f.lanes=f.childLanes=536870912,eM(u,f,ce!==null?ce.baseLanes|m:m,m)}else ce!==null?(dv(f,ce.cachePool),tI(f,ce),ol(),f.memoizedState=null):(u!==null&&dv(f,null),l1(),ol());return Ai(u,f,M,m),f.child}function eM(u,f,m,E){var M=h1();return M=M===null?null:{parent:pi._currentValue,pool:M},f.memoizedState={baseLanes:m,cachePool:M},u!==null&&dv(f,null),l1(),nI(f),u!==null&&Lp(u,f,E,!0),null}function Op(u,f){var m=f.ref;if(m===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(f.flags|=2097664)}}function M1(u,f,m,E,M){return Lc(f),m=g1(u,f,m,E,void 0,M),E=m1(),u!==null&&!Si?(y1(u,f,M),nu(u,f,M)):(ye&&E&&b(f),f.flags|=1,Ai(u,f,m,M),f.child)}function tM(u,f,m,E,M,j){return Lc(f),f.updateQueue=null,m=sI(f,E,m,M),oI(u),E=m1(),u!==null&&!Si?(y1(u,f,j),nu(u,f,j)):(ye&&E&&b(f),f.flags|=1,Ai(u,f,m,j),f.child)}function nM(u,f,m,E,M){if(Lc(f),f.stateNode===null){var j=po,ce=m.contextType;typeof ce=="object"&&ce!==null&&(j=Vi(ce)),j=new m(E,j),f.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=L1,f.stateNode=j,j._reactInternals=f,j=f.stateNode,j.props=E,j.state=f.memoizedState,j.refs={},V1(f),ce=m.contextType,j.context=typeof ce=="object"&&ce!==null?Vi(ce):po,j.state=f.memoizedState,ce=m.getDerivedStateFromProps,typeof ce=="function"&&(O1(f,m,ce,E),j.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ce=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ce!==j.state&&L1.enqueueReplaceState(j,j.state,null),Dp(f,E,j,M),Mp(),j.state=f.memoizedState),typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!0}else if(u===null){j=f.stateNode;var Ce=f.memoizedProps,Ve=Pc(m,Ce);j.props=Ve;var it=j.context,bt=m.contextType;ce=po,typeof bt=="object"&&bt!==null&&(ce=Vi(bt));var Pt=m.getDerivedStateFromProps;bt=typeof Pt=="function"||typeof j.getSnapshotBeforeUpdate=="function",Ce=f.pendingProps!==Ce,bt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Ce||it!==ce)&&qI(f,j,E,ce),cl=!1;var mt=f.memoizedState;j.state=mt,Dp(f,E,j,M),Mp(),it=f.memoizedState,Ce||mt!==it||cl?(typeof Pt=="function"&&(O1(f,m,Pt,E),it=f.memoizedState),(Ve=cl||UI(f,m,Ve,E,mt,it,ce))?(bt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=it),j.props=E,j.state=it,j.context=ce,E=Ve):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{j=f.stateNode,K1(u,f),ce=f.memoizedProps,bt=Pc(m,ce),j.props=bt,Pt=f.pendingProps,mt=j.context,it=m.contextType,Ve=po,typeof it=="object"&&it!==null&&(Ve=Vi(it)),Ce=m.getDerivedStateFromProps,(it=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ce!==Pt||mt!==Ve)&&qI(f,j,E,Ve),cl=!1,mt=f.memoizedState,j.state=mt,Dp(f,E,j,M),Mp();var _t=f.memoizedState;ce!==Pt||mt!==_t||cl||u!==null&&u.dependencies!==null&&xv(u.dependencies)?(typeof Ce=="function"&&(O1(f,m,Ce,E),_t=f.memoizedState),(bt=cl||UI(f,m,bt,E,mt,_t,Ve)||u!==null&&u.dependencies!==null&&xv(u.dependencies))?(it||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(E,_t,Ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(E,_t,Ve)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||ce===u.memoizedProps&&mt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ce===u.memoizedProps&&mt===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=_t),j.props=E,j.state=_t,j.context=Ve,E=bt):(typeof j.componentDidUpdate!="function"||ce===u.memoizedProps&&mt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ce===u.memoizedProps&&mt===u.memoizedState||(f.flags|=1024),E=!1)}return j=E,Op(u,f),E=(f.flags&128)!==0,j||E?(j=f.stateNode,m=E&&typeof m.getDerivedStateFromError!="function"?null:j.render(),f.flags|=1,u!==null&&E?(f.child=ds(f,u.child,null,M),f.child=ds(f,null,m,M)):Ai(u,f,m,M),f.memoizedState=j.state,u=f.child):u=nu(u,f,M),u}function rM(u,f,m,E){return Yr(),f.flags|=256,Ai(u,f,m,E),f.child}var D1={dehydrated:null,treeContext:null,retryLane:0};function k1(u){return{baseLanes:u,cachePool:aI()}}function N1(u,f,m){return u=u!==null?u.childLanes&~m:0,f&&(u|=bo),u}function iM(u,f,m){var E=f.pendingProps,M=!1,j=(f.flags&128)!==0,ce;if((ce=j)||(ce=u!==null&&u.memoizedState===null?!1:(hi.current&2)!==0),ce&&(M=!0,f.flags&=-129),ce=(f.flags&32)!==0,f.flags&=-33,u===null){if(ye){if(M?al(f):ol(),ye){var Ce=ne,Ve;if(Ve=Ce){e:{for(Ve=Ce,Ce=ut;Ve.nodeType!==8;){if(!Ce){Ce=null;break e}if(Ve=Uo(Ve.nextSibling),Ve===null){Ce=null;break e}}Ce=Ve}Ce!==null?(f.memoizedState={dehydrated:Ce,treeContext:Zs!==null?{id:go,overflow:mo}:null,retryLane:536870912},Ve=wo(18,null,null,0),Ve.stateNode=Ce,Ve.return=f,f.child=Ve,z=f,ne=null,Ve=!0):Ve=!1}Ve||xt(f)}if(Ce=f.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Ce.data==="$!"?f.lanes=16:f.lanes=536870912,null;eu(f)}return Ce=E.children,E=E.fallback,M?(ol(),M=f.mode,Ce=j1({mode:"hidden",children:Ce},M),E=Mc(E,M,m,null),Ce.return=f,E.return=f,Ce.sibling=E,f.child=Ce,M=f.child,M.memoizedState=k1(m),M.childLanes=N1(u,ce,m),f.memoizedState=D1,E):(al(f),F1(f,Ce))}if(Ve=u.memoizedState,Ve!==null&&(Ce=Ve.dehydrated,Ce!==null)){if(j)f.flags&256?(al(f),f.flags&=-257,f=$1(u,f,m)):f.memoizedState!==null?(ol(),f.child=u.child,f.flags|=128,f=null):(ol(),M=E.fallback,Ce=f.mode,E=j1({mode:"visible",children:E.children},Ce),M=Mc(M,Ce,m,null),M.flags|=2,E.return=f,M.return=f,E.sibling=M,f.child=E,ds(f,u.child,null,m),E=f.child,E.memoizedState=k1(m),E.childLanes=N1(u,ce,m),f.memoizedState=D1,f=M);else if(al(f),Ce.data==="$!"){if(ce=Ce.nextSibling&&Ce.nextSibling.dataset,ce)var it=ce.dgst;ce=it,E=Error(r(419)),E.stack="",E.digest=ce,Ir({value:E,source:null,stack:null}),f=$1(u,f,m)}else if(Si||Lp(u,f,m,!1),ce=(m&u.childLanes)!==0,Si||ce){if(ce=Sr,ce!==null){if(E=m&-m,E&42)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=E&(ce.suspendedLanes|m)?0:E,E!==0&&E!==Ve.retryLane)throw Ve.retryLane=E,Ca(u,E),ca(ce,u,E),QI}Ce.data==="$?"||hS(),f=$1(u,f,m)}else Ce.data==="$?"?(f.flags|=128,f.child=u.child,f=qW.bind(null,u),Ce._reactRetry=f,f=null):(u=Ve.treeContext,ne=Uo(Ce.nextSibling),z=f,ye=!0,Ge=null,ut=!1,u!==null&&(ua[la++]=go,ua[la++]=mo,ua[la++]=Zs,go=u.id,mo=u.overflow,Zs=f),f=F1(f,E.children),f.flags|=4096);return f}return M?(ol(),M=E.fallback,Ce=f.mode,Ve=u.child,it=Ve.sibling,E=ml(Ve,{mode:"hidden",children:E.children}),E.subtreeFlags=Ve.subtreeFlags&31457280,it!==null?M=ml(it,M):(M=Mc(M,Ce,m,null),M.flags|=2),M.return=f,E.return=f,E.sibling=M,f.child=E,E=M,M=f.child,Ce=u.child.memoizedState,Ce===null?Ce=k1(m):(Ve=Ce.cachePool,Ve!==null?(it=pi._currentValue,Ve=Ve.parent!==it?{parent:it,pool:it}:Ve):Ve=aI(),Ce={baseLanes:Ce.baseLanes|m,cachePool:Ve}),M.memoizedState=Ce,M.childLanes=N1(u,ce,m),f.memoizedState=D1,E):(al(f),m=u.child,u=m.sibling,m=ml(m,{mode:"visible",children:E.children}),m.return=f,m.sibling=null,u!==null&&(ce=f.deletions,ce===null?(f.deletions=[u],f.flags|=16):ce.push(u)),f.child=m,f.memoizedState=null,m)}function F1(u,f){return f=j1({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function j1(u,f){return OM(u,f,0,null)}function $1(u,f,m){return ds(f,u.child,null,m),u=F1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function aM(u,f,m){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),z1(u.return,f,m)}function B1(u,f,m,E,M){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:m,tailMode:M}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=E,j.tail=m,j.tailMode=M)}function oM(u,f,m){var E=f.pendingProps,M=E.revealOrder,j=E.tail;if(Ai(u,f,E.children,m),E=hi.current,E&2)E=E&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&aM(u,m,f);else if(u.tag===19)aM(u,m,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(Xe(hi,E),M){case"forwards":for(m=f.child,M=null;m!==null;)u=m.alternate,u!==null&&fv(u)===null&&(M=m),m=m.sibling;m=M,m===null?(M=f.child,f.child=null):(M=m.sibling,m.sibling=null),B1(f,!1,M,m,j);break;case"backwards":for(m=null,M=f.child,f.child=null;M!==null;){if(u=M.alternate,u!==null&&fv(u)===null){f.child=M;break}u=M.sibling,M.sibling=m,m=M,M=u}B1(f,!0,m,null,j);break;case"together":B1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function nu(u,f,m){if(u!==null&&(f.dependencies=u.dependencies),yl|=f.lanes,!(m&f.childLanes))if(u!==null){if(Lp(u,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,m=ml(u,u.pendingProps),f.child=m,m.return=f;u.sibling!==null;)u=u.sibling,m=m.sibling=ml(u,u.pendingProps),m.return=f;m.sibling=null}return f.child}function U1(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&xv(u)))}function AW(u,f,m){switch(f.tag){case 3:fe(f,f.stateNode.containerInfo),ll(f,pi,u.memoizedState.cache),Yr();break;case 27:case 5:Ie(f);break;case 4:fe(f,f.stateNode.containerInfo);break;case 10:ll(f,f.type,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(al(f),f.flags|=128,null):m&f.child.childLanes?iM(u,f,m):(al(f),u=nu(u,f,m),u!==null?u.sibling:null);al(f);break;case 19:var M=(u.flags&128)!==0;if(E=(m&f.childLanes)!==0,E||(Lp(u,f,m,!1),E=(m&f.childLanes)!==0),M){if(E)return oM(u,f,m);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Xe(hi,hi.current),E)break;return null;case 22:case 23:return f.lanes=0,YI(u,f,m);case 24:ll(f,pi,u.memoizedState.cache)}return nu(u,f,m)}function sM(u,f,m){if(u!==null)if(u.memoizedProps!==f.pendingProps)Si=!0;else{if(!U1(u,m)&&!(f.flags&128))return Si=!1,AW(u,f,m);Si=!!(u.flags&131072)}else Si=!1,ye&&f.flags&1048576&&p(f,xc,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var E=f.elementType,M=E._init;if(E=M(E._payload),f.type=E,typeof E=="function")tS(E)?(u=Pc(E,u),f.tag=1,f=nM(null,f,E,u,m)):(f.tag=0,f=M1(null,f,E,u,m));else{if(E!=null){if(M=E.$$typeof,M===v){f.tag=11,f=ZI(null,f,E,u,m);break e}else if(M===w){f.tag=14,f=JI(null,f,E,u,m);break e}}throw f=Q(E)||E,Error(r(306,f,""))}}return f;case 0:return M1(u,f,f.type,f.pendingProps,m);case 1:return E=f.type,M=Pc(E,f.pendingProps),nM(u,f,E,M,m);case 3:e:{if(fe(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var j=f.pendingProps;M=f.memoizedState,E=M.element,K1(u,f),Dp(f,j,null,m);var ce=f.memoizedState;if(j=ce.cache,ll(f,pi,j),j!==M.cache&&H1(f,[pi],m,!0),Mp(),j=ce.element,M.isDehydrated)if(M={element:j,isDehydrated:!1,cache:ce.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=rM(u,f,j,m);break e}else if(j!==E){E=sa(Error(r(424)),f),Ir(E),f=rM(u,f,j,m);break e}else for(ne=Uo(f.stateNode.containerInfo.firstChild),z=f,ye=!0,Ge=null,ut=!0,m=lv(f,null,j,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Yr(),j===E){f=nu(u,f,m);break e}Ai(u,f,j,m)}f=f.child}return f;case 26:return Op(u,f),u===null?(m=cD(f.type,null,f.pendingProps,null))?f.memoizedState=m:ye||(m=f.type,u=f.pendingProps,E=$v(B.current).createElement(m),E[rt]=f,E[Tt]=u,Pi(E,m,u),zn(E),f.stateNode=E):f.memoizedState=cD(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Ie(f),u===null&&ye&&(E=f.stateNode=sD(f.type,f.pendingProps,B.current),z=f,ut=!0,ne=Uo(E.firstChild)),E=f.pendingProps.children,u!==null||ye?Ai(u,f,E,m):f.child=ds(f,null,E,m),Op(u,f),f.child;case 5:return u===null&&ye&&((M=E=ne)&&(E=iQ(E,f.type,f.pendingProps,ut),E!==null?(f.stateNode=E,z=f,ne=Uo(E.firstChild),ut=!1,M=!0):M=!1),M||xt(f)),Ie(f),M=f.type,j=f.pendingProps,ce=u!==null?u.memoizedProps:null,E=j.children,RS(M,j)?E=null:ce!==null&&RS(M,ce)&&(f.flags|=32),f.memoizedState!==null&&(M=g1(u,f,bW,null,null,m),Qp._currentValue=M),Op(u,f),Ai(u,f,E,m),f.child;case 6:return u===null&&ye&&((u=m=ne)&&(m=aQ(m,f.pendingProps,ut),m!==null?(f.stateNode=m,z=f,ne=null,u=!0):u=!1),u||xt(f)),null;case 13:return iM(u,f,m);case 4:return fe(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=ds(f,null,E,m):Ai(u,f,E,m),f.child;case 11:return ZI(u,f,f.type,f.pendingProps,m);case 7:return Ai(u,f,f.pendingProps,m),f.child;case 8:return Ai(u,f,f.pendingProps.children,m),f.child;case 12:return Ai(u,f,f.pendingProps.children,m),f.child;case 10:return E=f.pendingProps,ll(f,f.type,E.value),Ai(u,f,E.children,m),f.child;case 9:return M=f.type._context,E=f.pendingProps.children,Lc(f),M=Vi(M),E=E(M),f.flags|=1,Ai(u,f,E,m),f.child;case 14:return JI(u,f,f.type,f.pendingProps,m);case 15:return XI(u,f,f.type,f.pendingProps,m);case 19:return oM(u,f,m);case 22:return YI(u,f,m);case 24:return Lc(f),E=Vi(pi),u===null?(M=h1(),M===null&&(M=Sr,j=f1(),M.pooledCache=j,j.refCount++,j!==null&&(M.pooledCacheLanes|=m),M=j),f.memoizedState={parent:E,cache:M},V1(f),ll(f,pi,M)):(u.lanes&m&&(K1(u,f),Dp(f,null,null,m),Mp()),M=u.memoizedState,j=f.memoizedState,M.parent!==E?(M={parent:E,cache:E},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),ll(f,pi,E)):(E=j.cache,ll(f,pi,E),E!==M.cache&&H1(f,[pi],m,!0))),Ai(u,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var q1=Ae(null),Oc=null,ru=null;function ll(u,f,m){Xe(q1,f._currentValue),f._currentValue=m}function iu(u){u._currentValue=q1.current,$e(q1)}function z1(u,f,m){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===m)break;u=u.return}}function H1(u,f,m,E){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var j=M.dependencies;if(j!==null){var ce=M.child;j=j.firstContext;e:for(;j!==null;){var Ce=j;j=M;for(var Ve=0;Ve<f.length;Ve++)if(Ce.context===f[Ve]){j.lanes|=m,Ce=j.alternate,Ce!==null&&(Ce.lanes|=m),z1(j.return,m,u),E||(ce=null);break e}j=Ce.next}}else if(M.tag===18){if(ce=M.return,ce===null)throw Error(r(341));ce.lanes|=m,j=ce.alternate,j!==null&&(j.lanes|=m),z1(ce,m,u),ce=null}else ce=M.child;if(ce!==null)ce.return=M;else for(ce=M;ce!==null;){if(ce===u){ce=null;break}if(M=ce.sibling,M!==null){M.return=ce.return,ce=M;break}ce=ce.return}M=ce}}function Lp(u,f,m,E){u=null;for(var M=f,j=!1;M!==null;){if(!j){if(M.flags&524288)j=!0;else if(M.flags&262144)break}if(M.tag===10){var ce=M.alternate;if(ce===null)throw Error(r(387));if(ce=ce.memoizedProps,ce!==null){var Ce=M.type;ia(M.pendingProps.value,ce.value)||(u!==null?u.push(Ce):u=[Ce])}}else if(M===ie.current){if(ce=M.alternate,ce===null)throw Error(r(387));ce.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Qp):u=[Qp])}M=M.return}u!==null&&H1(f,u,m,E),f.flags|=262144}function xv(u){for(u=u.firstContext;u!==null;){if(!ia(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Lc(u){Oc=u,ru=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Vi(u){return uM(Oc,u)}function Ev(u,f){return Oc===null&&Lc(u),uM(u,f)}function uM(u,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},ru===null){if(u===null)throw Error(r(308));ru=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else ru=ru.next=f;return m}var cl=!1;function V1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function K1(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function fl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function dl(u,f,m){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,Nr&2){var M=E.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),E.pending=f,f=Ws(u),iv(u,null,m),f}return bc(u,E,f,m),Ws(u)}function Ip(u,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194176)!==0)){var E=f.lanes;E&=u.pendingLanes,m|=E,f.lanes=m,Xn(u,m)}}function G1(u,f){var m=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,m===E)){var M=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var ce={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};j===null?M=j=ce:j=j.next=ce,m=m.next}while(m!==null);j===null?M=j=f:j=j.next=f}else M=j=f;m={baseState:E.baseState,firstBaseUpdate:M,lastBaseUpdate:j,shared:E.shared,callbacks:E.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=f}var W1=!1;function Mp(){if(W1){var u=fd;if(u!==null)throw u}}function Dp(u,f,m,E){W1=!1;var M=u.updateQueue;cl=!1;var j=M.firstBaseUpdate,ce=M.lastBaseUpdate,Ce=M.shared.pending;if(Ce!==null){M.shared.pending=null;var Ve=Ce,it=Ve.next;Ve.next=null,ce===null?j=it:ce.next=it,ce=Ve;var bt=u.alternate;bt!==null&&(bt=bt.updateQueue,Ce=bt.lastBaseUpdate,Ce!==ce&&(Ce===null?bt.firstBaseUpdate=it:Ce.next=it,bt.lastBaseUpdate=Ve))}if(j!==null){var Pt=M.baseState;ce=0,bt=it=Ve=null,Ce=j;do{var mt=Ce.lane&-536870913,_t=mt!==Ce.lane;if(_t?(qn&mt)===mt:(E&mt)===mt){mt!==0&&mt===cd&&(W1=!0),bt!==null&&(bt=bt.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Jt=u,vn=Ce;mt=f;var Vr=m;switch(vn.tag){case 1:if(Jt=vn.payload,typeof Jt=="function"){Pt=Jt.call(Vr,Pt,mt);break e}Pt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=vn.payload,mt=typeof Jt=="function"?Jt.call(Vr,Pt,mt):Jt,mt==null)break e;Pt=q({},Pt,mt);break e;case 2:cl=!0}}mt=Ce.callback,mt!==null&&(u.flags|=64,_t&&(u.flags|=8192),_t=M.callbacks,_t===null?M.callbacks=[mt]:_t.push(mt))}else _t={lane:mt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},bt===null?(it=bt=_t,Ve=Pt):bt=bt.next=_t,ce|=mt;if(Ce=Ce.next,Ce===null){if(Ce=M.shared.pending,Ce===null)break;_t=Ce,Ce=_t.next,_t.next=null,M.lastBaseUpdate=_t,M.shared.pending=null}}while(!0);bt===null&&(Ve=Pt),M.baseState=Ve,M.firstBaseUpdate=it,M.lastBaseUpdate=bt,j===null&&(M.shared.lanes=0),yl|=ce,u.lanes=ce,u.memoizedState=Pt}}function lM(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function cM(u,f){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)lM(m[u],f)}function kp(u,f){try{var m=f.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var M=E.next;m=M;do{if((m.tag&u)===u){E=void 0;var j=m.create,ce=m.inst;E=j(),ce.destroy=E}m=m.next}while(m!==M)}}catch(Ce){wr(f,f.return,Ce)}}function hl(u,f,m){try{var E=f.updateQueue,M=E!==null?E.lastEffect:null;if(M!==null){var j=M.next;E=j;do{if((E.tag&u)===u){var ce=E.inst,Ce=ce.destroy;if(Ce!==void 0){ce.destroy=void 0,M=f;var Ve=m;try{Ce()}catch(it){wr(M,Ve,it)}}}E=E.next}while(E!==j)}}catch(it){wr(f,f.return,it)}}function fM(u){var f=u.updateQueue;if(f!==null){var m=u.stateNode;try{cM(f,m)}catch(E){wr(u,u.return,E)}}}function dM(u,f,m){m.props=Pc(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(E){wr(u,f,E)}}function Ic(u,f){try{var m=u.ref;if(m!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var M=E;break;default:M=E}typeof m=="function"?u.refCleanup=m(M):m.current=M}}catch(j){wr(u,f,j)}}function Ba(u,f){var m=u.ref,E=u.refCleanup;if(m!==null)if(typeof E=="function")try{E()}catch(M){wr(u,f,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(M){wr(u,f,M)}else m.current=null}function hM(u){var f=u.type,m=u.memoizedProps,E=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&E.focus();break e;case"img":m.src?E.src=m.src:m.srcSet&&(E.srcset=m.srcSet)}}catch(M){wr(u,u.return,M)}}function pM(u,f,m){try{var E=u.stateNode;YW(E,u.type,m,f),E[Tt]=f}catch(M){wr(u,u.return,M)}}function gM(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function Q1(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||gM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Z1(u,f,m){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?m.nodeType===8?m.parentNode.insertBefore(u,f):m.insertBefore(u,f):(m.nodeType===8?(f=m.parentNode,f.insertBefore(u,m)):(f=m,f.appendChild(u)),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=jv));else if(E!==4&&E!==27&&(u=u.child,u!==null))for(Z1(u,f,m),u=u.sibling;u!==null;)Z1(u,f,m),u=u.sibling}function Cv(u,f,m){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?m.insertBefore(u,f):m.appendChild(u);else if(E!==4&&E!==27&&(u=u.child,u!==null))for(Cv(u,f,m),u=u.sibling;u!==null;)Cv(u,f,m),u=u.sibling}var au=!1,zr=!1,J1=!1,mM=typeof WeakSet=="function"?WeakSet:Set,xi=null,yM=!1;function PW(u,f){if(u=u.containerInfo,CS=Vv,u=mc(u),yc(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var E=m.getSelection&&m.getSelection();if(E&&E.rangeCount!==0){m=E.anchorNode;var M=E.anchorOffset,j=E.focusNode;E=E.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var ce=0,Ce=-1,Ve=-1,it=0,bt=0,Pt=u,mt=null;t:for(;;){for(var _t;Pt!==m||M!==0&&Pt.nodeType!==3||(Ce=ce+M),Pt!==j||E!==0&&Pt.nodeType!==3||(Ve=ce+E),Pt.nodeType===3&&(ce+=Pt.nodeValue.length),(_t=Pt.firstChild)!==null;)mt=Pt,Pt=_t;for(;;){if(Pt===u)break t;if(mt===m&&++it===M&&(Ce=ce),mt===j&&++bt===E&&(Ve=ce),(_t=Pt.nextSibling)!==null)break;Pt=mt,mt=Pt.parentNode}Pt=_t}m=Ce===-1||Ve===-1?null:{start:Ce,end:Ve}}else m=null}m=m||{start:0,end:0}}else m=null;for(TS={focusedElem:u,selectionRange:m},Vv=!1,xi=f;xi!==null;)if(f=xi,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,xi=u;else for(;xi!==null;){switch(f=xi,j=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,m=f,M=j.memoizedProps,j=j.memoizedState,E=m.stateNode;try{var Jt=Pc(m.type,M,m.elementType===m.type);u=E.getSnapshotBeforeUpdate(Jt,j),E.__reactInternalSnapshotBeforeUpdate=u}catch(vn){wr(m,m.return,vn)}}break;case 3:if(u&1024){if(u=f.stateNode.containerInfo,m=u.nodeType,m===9)OS(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":OS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,xi=u;break}xi=f.return}return Jt=yM,yM=!1,Jt}function vM(u,f,m){var E=m.flags;switch(m.tag){case 0:case 11:case 15:su(u,m),E&4&&kp(5,m);break;case 1:if(su(u,m),E&4)if(u=m.stateNode,f===null)try{u.componentDidMount()}catch(Ce){wr(m,m.return,Ce)}else{var M=Pc(m.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(M,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Ce){wr(m,m.return,Ce)}}E&64&&fM(m),E&512&&Ic(m,m.return);break;case 3:if(su(u,m),E&64&&(E=m.updateQueue,E!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{cM(E,u)}catch(Ce){wr(m,m.return,Ce)}}break;case 26:su(u,m),E&512&&Ic(m,m.return);break;case 27:case 5:su(u,m),f===null&&E&4&&hM(m),E&512&&Ic(m,m.return);break;case 12:su(u,m);break;case 13:su(u,m),E&4&&bM(u,m);break;case 22:if(M=m.memoizedState!==null||au,!M){f=f!==null&&f.memoizedState!==null||zr;var j=au,ce=zr;au=M,(zr=f)&&!ce?pl(u,m,(m.subtreeFlags&8772)!==0):su(u,m),au=j,zr=ce}E&512&&(m.memoizedProps.mode==="manual"?Ic(m,m.return):Ba(m,m.return));break;default:su(u,m)}}function _M(u){var f=u.alternate;f!==null&&(u.alternate=null,_M(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Ln(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ui=null,Ua=!1;function ou(u,f,m){for(m=m.child;m!==null;)wM(u,f,m),m=m.sibling}function wM(u,f,m){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Fe,m)}catch{}switch(m.tag){case 26:zr||Ba(m,f),ou(u,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:zr||Ba(m,f);var E=ui,M=Ua;for(ui=m.stateNode,ou(u,f,m),m=m.stateNode,f=m.attributes;f.length;)m.removeAttributeNode(f[0]);Ln(m),ui=E,Ua=M;break;case 5:zr||Ba(m,f);case 6:M=ui;var j=Ua;if(ui=null,ou(u,f,m),ui=M,Ua=j,ui!==null)if(Ua)try{u=ui,E=m.stateNode,u.nodeType===8?u.parentNode.removeChild(E):u.removeChild(E)}catch(ce){wr(m,f,ce)}else try{ui.removeChild(m.stateNode)}catch(ce){wr(m,f,ce)}break;case 18:ui!==null&&(Ua?(f=ui,m=m.stateNode,f.nodeType===8?PS(f.parentNode,m):f.nodeType===1&&PS(f,m),Yp(f)):PS(ui,m.stateNode));break;case 4:E=ui,M=Ua,ui=m.stateNode.containerInfo,Ua=!0,ou(u,f,m),ui=E,Ua=M;break;case 0:case 11:case 14:case 15:zr||hl(2,m,f),zr||hl(4,m,f),ou(u,f,m);break;case 1:zr||(Ba(m,f),E=m.stateNode,typeof E.componentWillUnmount=="function"&&dM(m,f,E)),ou(u,f,m);break;case 21:ou(u,f,m);break;case 22:zr||Ba(m,f),zr=(E=zr)||m.memoizedState!==null,ou(u,f,m),zr=E;break;default:ou(u,f,m)}}function bM(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Yp(u)}catch(m){wr(f,f.return,m)}}function OW(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new mM),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new mM),f;default:throw Error(r(435,u.tag))}}function X1(u,f){var m=OW(u);f.forEach(function(E){var M=zW.bind(null,u,E);m.has(E)||(m.add(E),E.then(M,M))})}function vo(u,f){var m=f.deletions;if(m!==null)for(var E=0;E<m.length;E++){var M=m[E],j=u,ce=f,Ce=ce;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:ui=Ce.stateNode,Ua=!1;break e;case 3:ui=Ce.stateNode.containerInfo,Ua=!0;break e;case 4:ui=Ce.stateNode.containerInfo,Ua=!0;break e}Ce=Ce.return}if(ui===null)throw Error(r(160));wM(j,ce,M),ui=null,Ua=!1,j=M.alternate,j!==null&&(j.return=null),M.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)SM(f,u),f=f.sibling}var Bo=null;function SM(u,f){var m=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:vo(f,u),_o(u),E&4&&(hl(3,u,u.return),kp(3,u),hl(5,u,u.return));break;case 1:vo(f,u),_o(u),E&512&&(zr||m===null||Ba(m,m.return)),E&64&&au&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?E:m.concat(E))));break;case 26:var M=Bo;if(vo(f,u),_o(u),E&512&&(zr||m===null||Ba(m,m.return)),E&4){var j=m!==null?m.memoizedState:null;if(E=u.memoizedState,m===null)if(E===null)if(u.stateNode===null){e:{E=u.type,m=u.memoizedProps,M=M.ownerDocument||M;t:switch(E){case"title":j=M.getElementsByTagName("title")[0],(!j||j[tn]||j[rt]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=M.createElement(E),M.head.insertBefore(j,M.querySelector("head > title"))),Pi(j,E,m),j[rt]=u,zn(j),E=j;break e;case"link":var ce=hD("link","href",M).get(E+(m.href||""));if(ce){for(var Ce=0;Ce<ce.length;Ce++)if(j=ce[Ce],j.getAttribute("href")===(m.href==null?null:m.href)&&j.getAttribute("rel")===(m.rel==null?null:m.rel)&&j.getAttribute("title")===(m.title==null?null:m.title)&&j.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){ce.splice(Ce,1);break t}}j=M.createElement(E),Pi(j,E,m),M.head.appendChild(j);break;case"meta":if(ce=hD("meta","content",M).get(E+(m.content||""))){for(Ce=0;Ce<ce.length;Ce++)if(j=ce[Ce],j.getAttribute("content")===(m.content==null?null:""+m.content)&&j.getAttribute("name")===(m.name==null?null:m.name)&&j.getAttribute("property")===(m.property==null?null:m.property)&&j.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&j.getAttribute("charset")===(m.charSet==null?null:m.charSet)){ce.splice(Ce,1);break t}}j=M.createElement(E),Pi(j,E,m),M.head.appendChild(j);break;default:throw Error(r(468,E))}j[rt]=u,zn(j),E=j}u.stateNode=E}else pD(M,u.type,u.stateNode);else u.stateNode=dD(M,E,u.memoizedProps);else j!==E?(j===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):j.count--,E===null?pD(M,u.type,u.stateNode):dD(M,E,u.memoizedProps)):E===null&&u.stateNode!==null&&pM(u,u.memoizedProps,m.memoizedProps)}break;case 27:if(E&4&&u.alternate===null){M=u.stateNode,j=u.memoizedProps;try{for(var Ve=M.firstChild;Ve;){var it=Ve.nextSibling,bt=Ve.nodeName;Ve[tn]||bt==="HEAD"||bt==="BODY"||bt==="SCRIPT"||bt==="STYLE"||bt==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||M.removeChild(Ve),Ve=it}for(var Pt=u.type,mt=M.attributes;mt.length;)M.removeAttributeNode(mt[0]);Pi(M,Pt,j),M[rt]=u,M[Tt]=j}catch(Jt){wr(u,u.return,Jt)}}case 5:if(vo(f,u),_o(u),E&512&&(zr||m===null||Ba(m,m.return)),u.flags&32){M=u.stateNode;try{qe(M,"")}catch(Jt){wr(u,u.return,Jt)}}E&4&&u.stateNode!=null&&(M=u.memoizedProps,pM(u,M,m!==null?m.memoizedProps:M)),E&1024&&(J1=!0);break;case 6:if(vo(f,u),_o(u),E&4){if(u.stateNode===null)throw Error(r(162));E=u.memoizedProps,m=u.stateNode;try{m.nodeValue=E}catch(Jt){wr(u,u.return,Jt)}}break;case 3:if(qv=null,M=Bo,Bo=Bv(f.containerInfo),vo(f,u),Bo=M,_o(u),E&4&&m!==null&&m.memoizedState.isDehydrated)try{Yp(f.containerInfo)}catch(Jt){wr(u,u.return,Jt)}J1&&(J1=!1,xM(u));break;case 4:E=Bo,Bo=Bv(u.stateNode.containerInfo),vo(f,u),_o(u),Bo=E;break;case 12:vo(f,u),_o(u);break;case 13:vo(f,u),_o(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(sS=at()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,X1(u,E)));break;case 22:if(E&512&&(zr||m===null||Ba(m,m.return)),Ve=u.memoizedState!==null,it=m!==null&&m.memoizedState!==null,bt=au,Pt=zr,au=bt||Ve,zr=Pt||it,vo(f,u),zr=Pt,au=bt,_o(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,E&8192&&(f._visibility=Ve?f._visibility&-2:f._visibility|1,Ve&&(f=au||zr,m===null||it||f||gd(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(m=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(m===null){it=m=f;try{if(M=it.stateNode,Ve)j=M.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{ce=it.stateNode,Ce=it.memoizedProps.style;var _t=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;ce.style.display=_t==null||typeof _t=="boolean"?"":(""+_t).trim()}}catch(Jt){wr(it,it.return,Jt)}}}else if(f.tag===6){if(m===null){it=f;try{it.stateNode.nodeValue=Ve?"":it.memoizedProps}catch(Jt){wr(it,it.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}E&4&&(E=u.updateQueue,E!==null&&(m=E.retryQueue,m!==null&&(E.retryQueue=null,X1(u,m))));break;case 19:vo(f,u),_o(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,X1(u,E)));break;case 21:break;default:vo(f,u),_o(u)}}function _o(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var m=u.return;m!==null;){if(gM(m)){var E=m;break e}m=m.return}throw Error(r(160))}switch(E.tag){case 27:var M=E.stateNode,j=Q1(u);Cv(u,j,M);break;case 5:var ce=E.stateNode;E.flags&32&&(qe(ce,""),E.flags&=-33);var Ce=Q1(u);Cv(u,Ce,ce);break;case 3:case 4:var Ve=E.stateNode.containerInfo,it=Q1(u);Z1(u,it,Ve);break;default:throw Error(r(161))}}}catch(bt){wr(u,u.return,bt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function xM(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;xM(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function su(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)vM(u,f.alternate,f),f=f.sibling}function gd(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:hl(4,f,f.return),gd(f);break;case 1:Ba(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&dM(f,f.return,m),gd(f);break;case 26:case 27:case 5:Ba(f,f.return),gd(f);break;case 22:Ba(f,f.return),f.memoizedState===null&&gd(f);break;default:gd(f)}u=u.sibling}}function pl(u,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var E=f.alternate,M=u,j=f,ce=j.flags;switch(j.tag){case 0:case 11:case 15:pl(M,j,m),kp(4,j);break;case 1:if(pl(M,j,m),E=j,M=E.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(it){wr(E,E.return,it)}if(E=j,M=E.updateQueue,M!==null){var Ce=E.stateNode;try{var Ve=M.shared.hiddenCallbacks;if(Ve!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ve.length;M++)lM(Ve[M],Ce)}catch(it){wr(E,E.return,it)}}m&&ce&64&&fM(j),Ic(j,j.return);break;case 26:case 27:case 5:pl(M,j,m),m&&E===null&&ce&4&&hM(j),Ic(j,j.return);break;case 12:pl(M,j,m);break;case 13:pl(M,j,m),m&&ce&4&&bM(M,j);break;case 22:j.memoizedState===null&&pl(M,j,m),Ic(j,j.return);break;default:pl(M,j,m)}f=f.sibling}}function Y1(u,f){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&Cp(m))}function eS(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Cp(u))}function gl(u,f,m,E){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)EM(u,f,m,E),f=f.sibling}function EM(u,f,m,E){var M=f.flags;switch(f.tag){case 0:case 11:case 15:gl(u,f,m,E),M&2048&&kp(9,f);break;case 3:gl(u,f,m,E),M&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Cp(u)));break;case 12:if(M&2048){gl(u,f,m,E),u=f.stateNode;try{var j=f.memoizedProps,ce=j.id,Ce=j.onPostCommit;typeof Ce=="function"&&Ce(ce,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){wr(f,f.return,Ve)}}else gl(u,f,m,E);break;case 23:break;case 22:j=f.stateNode,f.memoizedState!==null?j._visibility&4?gl(u,f,m,E):Np(u,f):j._visibility&4?gl(u,f,m,E):(j._visibility|=4,md(u,f,m,E,(f.subtreeFlags&10256)!==0)),M&2048&&Y1(f.alternate,f);break;case 24:gl(u,f,m,E),M&2048&&eS(f.alternate,f);break;default:gl(u,f,m,E)}}function md(u,f,m,E,M){for(M=M&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var j=u,ce=f,Ce=m,Ve=E,it=ce.flags;switch(ce.tag){case 0:case 11:case 15:md(j,ce,Ce,Ve,M),kp(8,ce);break;case 23:break;case 22:var bt=ce.stateNode;ce.memoizedState!==null?bt._visibility&4?md(j,ce,Ce,Ve,M):Np(j,ce):(bt._visibility|=4,md(j,ce,Ce,Ve,M)),M&&it&2048&&Y1(ce.alternate,ce);break;case 24:md(j,ce,Ce,Ve,M),M&&it&2048&&eS(ce.alternate,ce);break;default:md(j,ce,Ce,Ve,M)}f=f.sibling}}function Np(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=u,E=f,M=E.flags;switch(E.tag){case 22:Np(m,E),M&2048&&Y1(E.alternate,E);break;case 24:Np(m,E),M&2048&&eS(E.alternate,E);break;default:Np(m,E)}f=f.sibling}}var Fp=8192;function yd(u){if(u.subtreeFlags&Fp)for(u=u.child;u!==null;)CM(u),u=u.sibling}function CM(u){switch(u.tag){case 26:yd(u),u.flags&Fp&&u.memoizedState!==null&&vQ(Bo,u.memoizedState,u.memoizedProps);break;case 5:yd(u);break;case 3:case 4:var f=Bo;Bo=Bv(u.stateNode.containerInfo),yd(u),Bo=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Fp,Fp=16777216,yd(u),Fp=f):yd(u));break;default:yd(u)}}function TM(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function jp(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var m=0;m<f.length;m++){var E=f[m];xi=E,AM(E,u)}TM(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)RM(u),u=u.sibling}function RM(u){switch(u.tag){case 0:case 11:case 15:jp(u),u.flags&2048&&hl(9,u,u.return);break;case 3:jp(u);break;case 12:jp(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,Tv(u)):jp(u);break;default:jp(u)}}function Tv(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var m=0;m<f.length;m++){var E=f[m];xi=E,AM(E,u)}TM(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:hl(8,f,f.return),Tv(f);break;case 22:m=f.stateNode,m._visibility&4&&(m._visibility&=-5,Tv(f));break;default:Tv(f)}u=u.sibling}}function AM(u,f){for(;xi!==null;){var m=xi;switch(m.tag){case 0:case 11:case 15:hl(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var E=m.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Cp(m.memoizedState.cache)}if(E=m.child,E!==null)E.return=m,xi=E;else e:for(m=u;xi!==null;){E=xi;var M=E.sibling,j=E.return;if(_M(E),E===m){xi=null;break e}if(M!==null){M.return=j,xi=M;break e}xi=j}}}function LW(u,f,m,E){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(u,f,m,E){return new LW(u,f,m,E)}function tS(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ml(u,f){var m=u.alternate;return m===null?(m=wo(u.tag,f,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=f,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&31457280,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,f=u.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function PM(u,f){u.flags&=31457282;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,f=m.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Rv(u,f,m,E,M,j){var ce=0;if(E=u,typeof u=="function")tS(u)&&(ce=1);else if(typeof u=="string")ce=mQ(u,m,ae.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Mc(m.children,M,j,f);case c:ce=8,M|=24;break;case d:return u=wo(12,m,f,M|2),u.elementType=d,u.lanes=j,u;case _:return u=wo(13,m,f,M),u.elementType=_,u.lanes=j,u;case S:return u=wo(19,m,f,M),u.elementType=S,u.lanes=j,u;case R:return OM(m,M,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case h:case y:ce=10;break e;case g:ce=9;break e;case v:ce=11;break e;case w:ce=14;break e;case x:ce=16,E=null;break e}ce=29,m=Error(r(130,u===null?"null":typeof u,"")),E=null}return f=wo(ce,m,f,M),f.elementType=u,f.type=E,f.lanes=j,f}function Mc(u,f,m,E){return u=wo(7,u,E,f),u.lanes=m,u}function OM(u,f,m,E){u=wo(22,u,E,f),u.elementType=R,u.lanes=m;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=M._current;if(j===null)throw Error(r(456));if(!(M._pendingVisibility&2)){var ce=Ca(j,2);ce!==null&&(M._pendingVisibility|=2,ca(ce,j,2))}},attach:function(){var j=M._current;if(j===null)throw Error(r(456));if(M._pendingVisibility&2){var ce=Ca(j,2);ce!==null&&(M._pendingVisibility&=-3,ca(ce,j,2))}}};return u.stateNode=M,u}function nS(u,f,m){return u=wo(6,u,null,f),u.lanes=m,u}function rS(u,f,m){return f=wo(4,u.children!==null?u.children:[],u.key,f),f.lanes=m,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function uu(u){u.flags|=4}function LM(u,f){if(f.type!=="stylesheet"||f.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!gD(f)){if(f=yo.current,f!==null&&((qn&4194176)===qn?hs!==null:(qn&62914560)!==qn&&!(qn&536870912)||f!==hs))throw il=fs,Ri;u.flags|=8192}}function Av(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?ze():536870912,u.lanes|=f,_d|=f)}function $p(u,f){if(!ye)switch(u.tailMode){case"hidden":f=u.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function kr(u){var f=u.alternate!==null&&u.alternate.child===u.child,m=0,E=0;if(f)for(var M=u.child;M!==null;)m|=M.lanes|M.childLanes,E|=M.subtreeFlags&31457280,E|=M.flags&31457280,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)m|=M.lanes|M.childLanes,E|=M.subtreeFlags,E|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=E,u.childLanes=m,f}function IW(u,f,m){var E=f.pendingProps;switch(I(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(f),null;case 1:return kr(f),null;case 3:return m=f.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),iu(pi),Pe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(yn(f)?uu(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ge!==null&&(fS(Ge),Ge=null))),kr(f),null;case 26:return m=f.memoizedState,u===null?(uu(f),m!==null?(kr(f),LM(f,m)):(kr(f),f.flags&=-16777217)):m?m!==u.memoizedState?(uu(f),kr(f),LM(f,m)):(kr(f),f.flags&=-16777217):(u.memoizedProps!==E&&uu(f),kr(f),f.flags&=-16777217),null;case 27:tt(f),m=B.current;var M=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==E&&uu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return kr(f),null}u=ae.current,yn(f)?qt(f):(u=sD(M,E,m),f.stateNode=u,uu(f))}return kr(f),null;case 5:if(tt(f),m=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==E&&uu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return kr(f),null}if(u=ae.current,yn(f))qt(f);else{switch(M=$v(B.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof E.is=="string"?M.createElement("select",{is:E.is}):M.createElement("select"),E.multiple?u.multiple=!0:E.size&&(u.size=E.size);break;default:u=typeof E.is=="string"?M.createElement(m,{is:E.is}):M.createElement(m)}}u[rt]=f,u[Tt]=E;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=u;e:switch(Pi(u,m,E),m){case"button":case"input":case"select":case"textarea":u=!!E.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&uu(f)}}return kr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==E&&uu(f);else{if(typeof E!="string"&&f.stateNode===null)throw Error(r(166));if(u=B.current,yn(f)){if(u=f.stateNode,m=f.memoizedProps,E=null,M=z,M!==null)switch(M.tag){case 27:case 5:E=M.memoizedProps}u[rt]=f,u=!!(u.nodeValue===m||E!==null&&E.suppressHydrationWarning===!0||tD(u.nodeValue,m)),u||xt(f)}else u=$v(u).createTextNode(E),u[rt]=f,f.stateNode=u}return kr(f),null;case 13:if(E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=yn(f),E!==null&&E.dehydrated!==null){if(u===null){if(!M)throw Error(r(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[rt]=f}else Yr(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;kr(f),M=!1}else Ge!==null&&(fS(Ge),Ge=null),M=!0;if(!M)return f.flags&256?(eu(f),f):(eu(f),null)}if(eu(f),f.flags&128)return f.lanes=m,f;if(m=E!==null,u=u!==null&&u.memoizedState!==null,m){E=f.child,M=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(M=E.alternate.memoizedState.cachePool.pool);var j=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(j=E.memoizedState.cachePool.pool),j!==M&&(E.flags|=2048)}return m!==u&&m&&(f.child.flags|=8192),Av(f,f.updateQueue),kr(f),null;case 4:return Pe(),u===null&&SS(f.stateNode.containerInfo),kr(f),null;case 10:return iu(f.type),kr(f),null;case 19:if($e(hi),M=f.memoizedState,M===null)return kr(f),null;if(E=(f.flags&128)!==0,j=M.rendering,j===null)if(E)$p(M,!1);else{if(Hr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=fv(u),j!==null){for(f.flags|=128,$p(M,!1),u=j.updateQueue,f.updateQueue=u,Av(f,u),f.subtreeFlags=0,u=m,m=f.child;m!==null;)PM(m,u),m=m.sibling;return Xe(hi,hi.current&1|2),f.child}u=u.sibling}M.tail!==null&&at()>Pv&&(f.flags|=128,E=!0,$p(M,!1),f.lanes=4194304)}else{if(!E)if(u=fv(j),u!==null){if(f.flags|=128,E=!0,u=u.updateQueue,f.updateQueue=u,Av(f,u),$p(M,!0),M.tail===null&&M.tailMode==="hidden"&&!j.alternate&&!ye)return kr(f),null}else 2*at()-M.renderingStartTime>Pv&&m!==536870912&&(f.flags|=128,E=!0,$p(M,!1),f.lanes=4194304);M.isBackwards?(j.sibling=f.child,f.child=j):(u=M.last,u!==null?u.sibling=j:f.child=j,M.last=j)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=at(),f.sibling=null,u=hi.current,Xe(hi,E?u&1|2:u&1),f):(kr(f),null);case 22:case 23:return eu(f),c1(),E=f.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(f.flags|=8192):E&&(f.flags|=8192),E?m&536870912&&!(f.flags&128)&&(kr(f),f.subtreeFlags&6&&(f.flags|=8192)):kr(f),m=f.updateQueue,m!==null&&Av(f,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==m&&(f.flags|=2048),u!==null&&$e(Cc),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),iu(pi),kr(f),null;case 25:return null}throw Error(r(156,f.tag))}function MW(u,f){switch(I(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return iu(pi),Pe(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return tt(f),null;case 13:if(eu(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Yr()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return $e(hi),null;case 4:return Pe(),null;case 10:return iu(f.type),null;case 22:case 23:return eu(f),c1(),u!==null&&$e(Cc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return iu(pi),null;case 25:return null;default:return null}}function IM(u,f){switch(I(f),f.tag){case 3:iu(pi),Pe();break;case 26:case 27:case 5:tt(f);break;case 4:Pe();break;case 13:eu(f);break;case 19:$e(hi);break;case 10:iu(f.type);break;case 22:case 23:eu(f),c1(),u!==null&&$e(Cc);break;case 24:iu(pi)}}var DW={getCacheForType:function(u){var f=Vi(pi),m=f.data.get(u);return m===void 0&&(m=u(),f.data.set(u,m)),m}},kW=typeof WeakMap=="function"?WeakMap:Map,Nr=0,Sr=null,kn=null,qn=0,xr=0,qa=null,lu=!1,vd=!1,iS=!1,cu=0,Hr=0,yl=0,Dc=0,aS=0,bo=0,_d=0,Bp=null,gs=null,oS=!1,sS=0,Pv=1/0,Ov=null,vl=null,Lv=!1,kc=null,Up=0,uS=0,lS=null,qp=0,cS=null;function za(){if(Nr&2&&qn!==0)return qn&-qn;if(Y.T!==null){var u=cd;return u!==0?u:vS()}return xe()}function MM(){bo===0&&(bo=!(qn&536870912)||ye?Le():536870912);var u=yo.current;return u!==null&&(u.flags|=32),bo}function ca(u,f,m){(u===Sr&&xr===2||u.cancelPendingCommit!==null)&&(wd(u,0),fu(u,qn,bo,!1)),Ct(u,m),(!(Nr&2)||u!==Sr)&&(u===Sr&&(!(Nr&2)&&(Dc|=m),Hr===4&&fu(u,qn,bo,!1)),ms(u))}function DM(u,f,m){if(Nr&6)throw Error(r(327));var E=!m&&(f&60)===0&&(f&u.expiredLanes)===0||Dn(u,f),M=E?jW(u,f):pS(u,f,!0),j=E;do{if(M===0){vd&&!E&&fu(u,f,0,!1);break}else if(M===6)fu(u,f,0,!lu);else{if(m=u.current.alternate,j&&!NW(m)){M=pS(u,f,!1),j=!1;continue}if(M===2){if(j=f,u.errorRecoveryDisabledLanes&j)var ce=0;else ce=u.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){f=ce;e:{var Ce=u;M=Bp;var Ve=Ce.current.memoizedState.isDehydrated;if(Ve&&(wd(Ce,ce).flags|=256),ce=pS(Ce,ce,!1),ce!==2){if(iS&&!Ve){Ce.errorRecoveryDisabledLanes|=j,Dc|=j,M=4;break e}j=gs,gs=M,j!==null&&fS(j)}M=ce}if(j=!1,M!==2)continue}}if(M===1){wd(u,0),fu(u,f,0,!0);break}e:{switch(E=u,M){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){fu(E,f,bo,!lu);break e}break;case 2:gs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=m,E.finishedLanes=f,(f&62914560)===f&&(j=sS+300-at(),10<j)){if(fu(E,f,bo,!lu),cn(E,0)!==0)break e;E.timeoutHandle=iD(kM.bind(null,E,m,gs,Ov,oS,f,bo,Dc,_d,lu,2,-0,0),j);break e}kM(E,m,gs,Ov,oS,f,bo,Dc,_d,lu,0,-0,0)}}break}while(!0);ms(u)}function fS(u){gs===null?gs=u:gs.push.apply(gs,u)}function kM(u,f,m,E,M,j,ce,Ce,Ve,it,bt,Pt,mt){var _t=f.subtreeFlags;if((_t&8192||(_t&16785408)===16785408)&&(Wp={stylesheets:null,count:0,unsuspend:yQ},CM(f),f=_Q(),f!==null)){u.cancelPendingCommit=f(qM.bind(null,u,m,E,M,ce,Ce,Ve,1,Pt,mt)),fu(u,j,ce,!it);return}qM(u,m,E,M,ce,Ce,Ve,bt,Pt,mt)}function NW(u){for(var f=u;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var E=0;E<m.length;E++){var M=m[E],j=M.getSnapshot;M=M.value;try{if(!ia(j(),M))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function fu(u,f,m,E){f&=~aS,f&=~Dc,u.suspendedLanes|=f,u.pingedLanes&=~f,E&&(u.warmLanes|=f),E=u.expirationTimes;for(var M=f;0<M;){var j=31-Lt(M),ce=1<<j;E[j]=-1,M&=~ce}m!==0&&Vn(u,m,f)}function Iv(){return Nr&6?!0:(zp(0),!1)}function dS(){if(kn!==null){if(xr===0)var u=kn.return;else u=kn,ru=Oc=null,v1(u),Xs=null,br=0,u=kn;for(;u!==null;)IM(u.alternate,u),u=u.return;kn=null}}function wd(u,f){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,tQ(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),dS(),Sr=u,kn=m=ml(u.current,null),qn=f,xr=0,qa=null,lu=!1,vd=Dn(u,f),iS=!1,_d=bo=aS=Dc=yl=Hr=0,gs=Bp=null,oS=!1,f&8&&(f|=f&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=f;0<E;){var M=31-Lt(E),j=1<<M;f|=u[M],E&=~j}return cu=f,Ea(),m}function NM(u,f){An=null,Y.H=ps,f===bi?(f=sv(),xr=3):f===Ri?(f=sv(),xr=4):xr=f===QI?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,qa=f,kn===null&&(Hr=1,Sv(u,sa(f,u.current)))}function FM(){var u=Y.H;return Y.H=ps,u===null?ps:u}function jM(){var u=Y.A;return Y.A=DW,u}function hS(){Hr=4,lu||(qn&4194176)!==qn&&yo.current!==null||(vd=!0),!(yl&134217727)&&!(Dc&134217727)||Sr===null||fu(Sr,qn,bo,!1)}function pS(u,f,m){var E=Nr;Nr|=2;var M=FM(),j=jM();(Sr!==u||qn!==f)&&(Ov=null,wd(u,f)),f=!1;var ce=Hr;e:do try{if(xr!==0&&kn!==null){var Ce=kn,Ve=qa;switch(xr){case 8:dS(),ce=6;break e;case 3:case 2:case 6:yo.current===null&&(f=!0);var it=xr;if(xr=0,qa=null,bd(u,Ce,Ve,it),m&&vd){ce=0;break e}break;default:it=xr,xr=0,qa=null,bd(u,Ce,Ve,it)}}FW(),ce=Hr;break}catch(bt){NM(u,bt)}while(!0);return f&&u.shellSuspendCounter++,ru=Oc=null,Nr=E,Y.H=M,Y.A=j,kn===null&&(Sr=null,qn=0,Ea()),ce}function FW(){for(;kn!==null;)$M(kn)}function jW(u,f){var m=Nr;Nr|=2;var E=FM(),M=jM();Sr!==u||qn!==f?(Ov=null,Pv=at()+500,wd(u,f)):vd=Dn(u,f);e:do try{if(xr!==0&&kn!==null){f=kn;var j=qa;t:switch(xr){case 1:xr=0,qa=null,bd(u,f,j,1);break;case 2:if(av(j)){xr=0,qa=null,BM(f);break}f=function(){xr===2&&Sr===u&&(xr=7),ms(u)},j.then(f,f);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:av(j)?(xr=0,qa=null,BM(f)):(xr=0,qa=null,bd(u,f,j,7));break;case 5:var ce=null;switch(kn.tag){case 26:ce=kn.memoizedState;case 5:case 27:var Ce=kn;if(!ce||gD(ce)){xr=0,qa=null;var Ve=Ce.sibling;if(Ve!==null)kn=Ve;else{var it=Ce.return;it!==null?(kn=it,Mv(it)):kn=null}break t}}xr=0,qa=null,bd(u,f,j,5);break;case 6:xr=0,qa=null,bd(u,f,j,6);break;case 8:dS(),Hr=6;break e;default:throw Error(r(462))}}$W();break}catch(bt){NM(u,bt)}while(!0);return ru=Oc=null,Y.H=E,Y.A=M,Nr=m,kn!==null?0:(Sr=null,qn=0,Ea(),Hr)}function $W(){for(;kn!==null&&!_e();)$M(kn)}function $M(u){var f=sM(u.alternate,u,cu);u.memoizedProps=u.pendingProps,f===null?Mv(u):kn=f}function BM(u){var f=u,m=f.alternate;switch(f.tag){case 15:case 0:f=tM(m,f,f.pendingProps,f.type,void 0,qn);break;case 11:f=tM(m,f,f.pendingProps,f.type.render,f.ref,qn);break;case 5:v1(f);default:IM(m,f),f=kn=PM(f,cu),f=sM(m,f,cu)}u.memoizedProps=u.pendingProps,f===null?Mv(u):kn=f}function bd(u,f,m,E){ru=Oc=null,v1(f),Xs=null,br=0;var M=f.return;try{if(RW(u,M,f,m,qn)){Hr=1,Sv(u,sa(m,u.current)),kn=null;return}}catch(j){if(M!==null)throw kn=M,j;Hr=1,Sv(u,sa(m,u.current)),kn=null;return}f.flags&32768?(ye||E===1?u=!0:vd||qn&536870912?u=!1:(lu=u=!0,(E===2||E===3||E===6)&&(E=yo.current,E!==null&&E.tag===13&&(E.flags|=16384))),UM(f,u)):Mv(f)}function Mv(u){var f=u;do{if(f.flags&32768){UM(f,lu);return}u=f.return;var m=IW(f.alternate,f,cu);if(m!==null){kn=m;return}if(f=f.sibling,f!==null){kn=f;return}kn=f=u}while(f!==null);Hr===0&&(Hr=5)}function UM(u,f){do{var m=MW(u.alternate,u);if(m!==null){m.flags&=32767,kn=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(u=u.sibling,u!==null)){kn=u;return}kn=u=m}while(u!==null);Hr=6,kn=null}function qM(u,f,m,E,M,j,ce,Ce,Ve,it){var bt=Y.T,Pt=ee.p;try{ee.p=2,Y.T=null,BW(u,f,m,E,Pt,M,j,ce,Ce,Ve,it)}finally{Y.T=bt,ee.p=Pt}}function BW(u,f,m,E,M,j,ce,Ce){do Sd();while(kc!==null);if(Nr&6)throw Error(r(327));var Ve=u.finishedWork;if(E=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var it=Ve.lanes|Ve.childLanes;if(it|=xp,Dt(u,E,it,j,ce,Ce),u===Sr&&(kn=Sr=null,qn=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||Lv||(Lv=!0,uS=it,lS=m,HW($,function(){return Sd(),null})),m=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||m?(m=Y.T,Y.T=null,j=ee.p,ee.p=2,ce=Nr,Nr|=4,PW(u,Ve),SM(Ve,u),rd(TS,u.containerInfo),Vv=!!CS,TS=CS=null,u.current=Ve,vM(u,Ve.alternate,Ve),Be(),Nr=ce,ee.p=j,Y.T=m):u.current=Ve,Lv?(Lv=!1,kc=u,Up=E):zM(u,it),it=u.pendingLanes,it===0&&(vl=null),Mt(Ve.stateNode),ms(u),f!==null)for(M=u.onRecoverableError,Ve=0;Ve<f.length;Ve++)it=f[Ve],M(it.value,{componentStack:it.stack});return Up&3&&Sd(),it=u.pendingLanes,E&4194218&&it&42?u===cS?qp++:(qp=0,cS=u):qp=0,zp(0),null}function zM(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Cp(f)))}function Sd(){if(kc!==null){var u=kc,f=uS;uS=0;var m=We(Up),E=Y.T,M=ee.p;try{if(ee.p=32>m?32:m,Y.T=null,kc===null)var j=!1;else{m=lS,lS=null;var ce=kc,Ce=Up;if(kc=null,Up=0,Nr&6)throw Error(r(331));var Ve=Nr;if(Nr|=4,RM(ce.current),EM(ce,ce.current,Ce,m),Nr=Ve,zp(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Fe,ce)}catch{}j=!0}return j}finally{ee.p=M,Y.T=E,zM(u,f)}}return!1}function HM(u,f,m){f=sa(m,f),f=I1(u.stateNode,f,2),u=dl(u,f,2),u!==null&&(Ct(u,2),ms(u))}function wr(u,f,m){if(u.tag===3)HM(u,u,m);else for(;f!==null;){if(f.tag===3){HM(f,u,m);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(vl===null||!vl.has(E))){u=sa(m,u),m=GI(2),E=dl(f,m,2),E!==null&&(WI(m,E,f,u),Ct(E,2),ms(E));break}}f=f.return}}function gS(u,f,m){var E=u.pingCache;if(E===null){E=u.pingCache=new kW;var M=new Set;E.set(f,M)}else M=E.get(f),M===void 0&&(M=new Set,E.set(f,M));M.has(m)||(iS=!0,M.add(m),u=UW.bind(null,u,f,m),f.then(u,u))}function UW(u,f,m){var E=u.pingCache;E!==null&&E.delete(f),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,Sr===u&&(qn&m)===m&&(Hr===4||Hr===3&&(qn&62914560)===qn&&300>at()-sS?!(Nr&2)&&wd(u,0):aS|=m,_d===qn&&(_d=0)),ms(u)}function VM(u,f){f===0&&(f=ze()),u=Ca(u,f),u!==null&&(Ct(u,f),ms(u))}function qW(u){var f=u.memoizedState,m=0;f!==null&&(m=f.retryLane),VM(u,m)}function zW(u,f){var m=0;switch(u.tag){case 13:var E=u.stateNode,M=u.memoizedState;M!==null&&(m=M.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(f),VM(u,m)}function HW(u,f){return ot(u,f)}var Dv=null,xd=null,mS=!1,kv=!1,yS=!1,Nc=0;function ms(u){u!==xd&&u.next===null&&(xd===null?Dv=xd=u:xd=xd.next=u),kv=!0,mS||(mS=!0,KW(VW))}function zp(u,f){if(!yS&&kv){yS=!0;do for(var m=!1,E=Dv;E!==null;){if(u!==0){var M=E.pendingLanes;if(M===0)var j=0;else{var ce=E.suspendedLanes,Ce=E.pingedLanes;j=(1<<31-Lt(42|u)+1)-1,j&=M&~(ce&~Ce),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(m=!0,WM(E,j))}else j=qn,j=cn(E,E===Sr?j:0),!(j&3)||Dn(E,j)||(m=!0,WM(E,j));E=E.next}while(m);yS=!1}}function VW(){kv=mS=!1;var u=0;Nc!==0&&(eQ()&&(u=Nc),Nc=0);for(var f=at(),m=null,E=Dv;E!==null;){var M=E.next,j=KM(E,f);j===0?(E.next=null,m===null?Dv=M:m.next=M,M===null&&(xd=m)):(m=E,(u!==0||j&3)&&(kv=!0)),E=M}zp(u)}function KM(u,f){for(var m=u.suspendedLanes,E=u.pingedLanes,M=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var ce=31-Lt(j),Ce=1<<ce,Ve=M[ce];Ve===-1?(!(Ce&m)||Ce&E)&&(M[ce]=cr(Ce,f)):Ve<=f&&(u.expiredLanes|=Ce),j&=~Ce}if(f=Sr,m=qn,m=cn(u,u===f?m:0),E=u.callbackNode,m===0||u===f&&xr===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&gt(E),u.callbackNode=null,u.callbackPriority=0;if(!(m&3)||Dn(u,m)){if(f=m&-m,f===u.callbackPriority)return f;switch(E!==null&&gt(E),We(m)){case 2:case 8:m=J;break;case 32:m=$;break;case 268435456:m=G;break;default:m=$}return E=GM.bind(null,u),m=ot(m,E),u.callbackPriority=f,u.callbackNode=m,f}return E!==null&&E!==null&&gt(E),u.callbackPriority=2,u.callbackNode=null,2}function GM(u,f){var m=u.callbackNode;if(Sd()&&u.callbackNode!==m)return null;var E=qn;return E=cn(u,u===Sr?E:0),E===0?null:(DM(u,E,f),KM(u,at()),u.callbackNode!=null&&u.callbackNode===m?GM.bind(null,u):null)}function WM(u,f){if(Sd())return null;DM(u,f,!0)}function KW(u){nQ(function(){Nr&6?ot(Ee,u):u()})}function vS(){return Nc===0&&(Nc=Le()),Nc}function QM(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:jt(""+u)}function ZM(u,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,u.id&&m.setAttribute("form",u.id),f.parentNode.insertBefore(m,f),u=new FormData(u),m.parentNode.removeChild(m),u}function GW(u,f,m,E,M){if(f==="submit"&&m&&m.stateNode===M){var j=QM((M[Tt]||null).action),ce=E.submitter;ce&&(f=(f=ce[Tt]||null)?QM(f.formAction):ce.getAttribute("formAction"),f!==null&&(j=f,ce=null));var Ce=new co("action","action",null,E,M);u.push({event:Ce,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Nc!==0){var Ve=ce?ZM(M,ce):new FormData(M);R1(m,{pending:!0,data:Ve,method:M.method,action:j},null,Ve)}}else typeof j=="function"&&(Ce.preventDefault(),Ve=ce?ZM(M,ce):new FormData(M),R1(m,{pending:!0,data:Ve,method:M.method,action:j},j,Ve))},currentTarget:M}]})}}for(var _S=0;_S<rv.length;_S++){var wS=rv[_S],WW=wS.toLowerCase(),QW=wS[0].toUpperCase()+wS.slice(1);wi(WW,"on"+QW)}wi($a,"onAnimationEnd"),wi(wc,"onAnimationIteration"),wi(ev,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(id,"onTransitionRun"),wi(u1,"onTransitionStart"),wi(tv,"onTransitionCancel"),wi(nv,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hp));function JM(u,f){f=(f&4)!==0;for(var m=0;m<u.length;m++){var E=u[m],M=E.event;E=E.listeners;e:{var j=void 0;if(f)for(var ce=E.length-1;0<=ce;ce--){var Ce=E[ce],Ve=Ce.instance,it=Ce.currentTarget;if(Ce=Ce.listener,Ve!==j&&M.isPropagationStopped())break e;j=Ce,M.currentTarget=it;try{j(M)}catch(bt){bv(bt)}M.currentTarget=null,j=Ve}else for(ce=0;ce<E.length;ce++){if(Ce=E[ce],Ve=Ce.instance,it=Ce.currentTarget,Ce=Ce.listener,Ve!==j&&M.isPropagationStopped())break e;j=Ce,M.currentTarget=it;try{j(M)}catch(bt){bv(bt)}M.currentTarget=null,j=Ve}}}}function jn(u,f){var m=f[Gt];m===void 0&&(m=f[Gt]=new Set);var E=u+"__bubble";m.has(E)||(XM(f,u,2,!1),m.add(E))}function bS(u,f,m){var E=0;f&&(E|=4),XM(m,u,E,f)}var Nv="_reactListening"+Math.random().toString(36).slice(2);function SS(u){if(!u[Nv]){u[Nv]=!0,Or.forEach(function(m){m!=="selectionchange"&&(ZW.has(m)||bS(m,!1,u),bS(m,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Nv]||(f[Nv]=!0,bS("selectionchange",!1,f))}}function XM(u,f,m,E){switch(bD(f)){case 2:var M=SQ;break;case 8:M=xQ;break;default:M=kS}m=M.bind(null,f,m,u),M=void 0,!vr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),E?M!==void 0?u.addEventListener(f,m,{capture:!0,passive:M}):u.addEventListener(f,m,!0):M!==void 0?u.addEventListener(f,m,{passive:M}):u.addEventListener(f,m,!1)}function xS(u,f,m,E,M){var j=E;if(!(f&1)&&!(f&2)&&E!==null)e:for(;;){if(E===null)return;var ce=E.tag;if(ce===3||ce===4){var Ce=E.stateNode.containerInfo;if(Ce===M||Ce.nodeType===8&&Ce.parentNode===M)break;if(ce===4)for(ce=E.return;ce!==null;){var Ve=ce.tag;if((Ve===3||Ve===4)&&(Ve=ce.stateNode.containerInfo,Ve===M||Ve.nodeType===8&&Ve.parentNode===M))return;ce=ce.return}for(;Ce!==null;){if(ce=Wt(Ce),ce===null)return;if(Ve=ce.tag,Ve===5||Ve===6||Ve===26||Ve===27){E=j=ce;continue e}Ce=Ce.parentNode}}E=E.return}gn(function(){var it=j,bt=Hn(m),Pt=[];e:{var mt=nl.get(u);if(mt!==void 0){var _t=co,Jt=u;switch(u){case"keypress":if(or(m)===0)break e;case"keydown":case"keyup":_t=e1;break;case"focusin":Jt="focus",_t=ho;break;case"focusout":Jt="blur",_t=ho;break;case"beforeblur":case"afterblur":_t=ho;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=n1;break;case $a:case wc:case ev:_t=dc;break;case nv:_t=r1;break;case"scroll":case"scrollend":_t=Wu;break;case"wheel":_t=Gy;break;case"copy":case"cut":case"paste":_t=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=hp;break;case"toggle":case"beforetoggle":_t=Us}var vn=(f&4)!==0,Vr=!vn&&(u==="scroll"||u==="scrollend"),ft=vn?mt!==null?mt+"Capture":null:mt;vn=[];for(var nt=it,pt;nt!==null;){var Et=nt;if(pt=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||pt===null||ft===null||(Et=Yn(nt,ft),Et!=null&&vn.push(Vp(nt,Et,pt))),Vr)break;nt=nt.return}0<vn.length&&(mt=new _t(mt,Jt,null,m,bt),Pt.push({event:mt,listeners:vn}))}}if(!(f&7)){e:{if(mt=u==="mouseover"||u==="pointerover",_t=u==="mouseout"||u==="pointerout",mt&&m!==Vt&&(Jt=m.relatedTarget||m.fromElement)&&(Wt(Jt)||Jt[kt]))break e;if((_t||mt)&&(mt=bt.window===bt?bt:(mt=bt.ownerDocument)?mt.defaultView||mt.parentWindow:window,_t?(Jt=m.relatedTarget||m.toElement,_t=it,Jt=Jt?Wt(Jt):null,Jt!==null&&(Vr=se(Jt),vn=Jt.tag,Jt!==Vr||vn!==5&&vn!==27&&vn!==6)&&(Jt=null)):(_t=null,Jt=it),_t!==Jt)){if(vn=Hi,Et="onMouseLeave",ft="onMouseEnter",nt="mouse",(u==="pointerout"||u==="pointerover")&&(vn=hp,Et="onPointerLeave",ft="onPointerEnter",nt="pointer"),Vr=_t==null?mt:Cn(_t),pt=Jt==null?mt:Cn(Jt),mt=new vn(Et,nt+"leave",_t,m,bt),mt.target=Vr,mt.relatedTarget=pt,Et=null,Wt(bt)===it&&(vn=new vn(ft,nt+"enter",Jt,m,bt),vn.target=pt,vn.relatedTarget=Vr,Et=vn),Vr=Et,_t&&Jt)t:{for(vn=_t,ft=Jt,nt=0,pt=vn;pt;pt=Ed(pt))nt++;for(pt=0,Et=ft;Et;Et=Ed(Et))pt++;for(;0<nt-pt;)vn=Ed(vn),nt--;for(;0<pt-nt;)ft=Ed(ft),pt--;for(;nt--;){if(vn===ft||ft!==null&&vn===ft.alternate)break t;vn=Ed(vn),ft=Ed(ft)}vn=null}else vn=null;_t!==null&&YM(Pt,mt,_t,vn,!1),Jt!==null&&Vr!==null&&YM(Pt,Vr,Jt,vn,!0)}}e:{if(mt=it?Cn(it):window,_t=mt.nodeName&&mt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&mt.type==="file")var Kt=Ju;else if(zs(mt))if(mp)Kt=s1;else{Kt=o1;var In=vp}else _t=mt.nodeName,!_t||_t.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?it&&Ut(it.elementType)&&(Kt=Ju):Kt=jo;if(Kt&&(Kt=Kt(u,it))){Xy(Pt,Kt,m,bt);break e}In&&In(u,mt,it),u==="focusout"&&it&&mt.type==="number"&&it.memoizedProps.value!=null&&ht(mt,"number",mt.value)}switch(In=it?Cn(it):window,u){case"focusin":(zs(In)||In.contentEditable==="true")&&($o=In,vc=it,tl=null);break;case"focusout":tl=vc=$o=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,_c(Pt,m,bt);break;case"selectionchange":if(el)break;case"keydown":case"keyup":_c(Pt,m,bt)}var en;if(qs)e:{switch(u){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else Qu?ed(u,m)&&(sn="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(sn="onCompositionStart");sn&&(gp&&m.locale!=="ko"&&(Qu||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&Qu&&(en=Sa()):(fr=bt,Ti="value"in fr?fr.value:fr.textContent,Qu=!0)),In=Fv(it,sn),0<In.length&&(sn=new na(sn,u,null,m,bt),Pt.push({event:sn,listeners:In}),en?sn.data=en:(en=Zy(m),en!==null&&(sn.data=en)))),(en=Wy?Jy(u,m):a1(u,m))&&(sn=Fv(it,"onBeforeInput"),0<sn.length&&(In=new na("onBeforeInput","beforeinput",null,m,bt),Pt.push({event:In,listeners:sn}),In.data=en)),GW(Pt,u,it,m,bt)}JM(Pt,f)})}function Vp(u,f,m){return{instance:u,listener:f,currentTarget:m}}function Fv(u,f){for(var m=f+"Capture",E=[];u!==null;){var M=u,j=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||j===null||(M=Yn(u,m),M!=null&&E.unshift(Vp(u,M,j)),M=Yn(u,f),M!=null&&E.push(Vp(u,M,j))),u=u.return}return E}function Ed(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function YM(u,f,m,E,M){for(var j=f._reactName,ce=[];m!==null&&m!==E;){var Ce=m,Ve=Ce.alternate,it=Ce.stateNode;if(Ce=Ce.tag,Ve!==null&&Ve===E)break;Ce!==5&&Ce!==26&&Ce!==27||it===null||(Ve=it,M?(it=Yn(m,j),it!=null&&ce.unshift(Vp(m,it,Ve))):M||(it=Yn(m,j),it!=null&&ce.push(Vp(m,it,Ve)))),m=m.return}ce.length!==0&&u.push({event:f,listeners:ce})}var JW=/\r\n?/g,XW=/\u0000|\uFFFD/g;function eD(u){return(typeof u=="string"?u:""+u).replace(JW,`
`).replace(XW,"")}function tD(u,f){return f=eD(f),eD(u)===f}function jv(){}function gr(u,f,m,E,M,j){switch(m){case"children":typeof E=="string"?f==="body"||f==="textarea"&&E===""||qe(u,E):(typeof E=="number"||typeof E=="bigint")&&f!=="body"&&qe(u,""+E);break;case"className":N(u,"class",E);break;case"tabIndex":N(u,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,m,E);break;case"style":yt(u,E,j);break;case"data":if(f!=="object"){N(u,"data",E);break}case"src":case"href":if(E===""&&(f!=="a"||m!=="href")){u.removeAttribute(m);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(m);break}E=jt(""+E),u.setAttribute(m,E);break;case"action":case"formAction":if(typeof E=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(m==="formAction"?(f!=="input"&&gr(u,f,"name",M.name,M,null),gr(u,f,"formEncType",M.formEncType,M,null),gr(u,f,"formMethod",M.formMethod,M,null),gr(u,f,"formTarget",M.formTarget,M,null)):(gr(u,f,"encType",M.encType,M,null),gr(u,f,"method",M.method,M,null),gr(u,f,"target",M.target,M,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(m);break}E=jt(""+E),u.setAttribute(m,E);break;case"onClick":E!=null&&(u.onclick=jv);break;case"onScroll":E!=null&&jn("scroll",u);break;case"onScrollEnd":E!=null&&jn("scrollend",u);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(m=E.__html,m!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":u.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){u.removeAttribute("xlink:href");break}m=jt(""+E),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(m,""+E):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":E===!0?u.setAttribute(m,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(m,E):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?u.setAttribute(m,E):u.removeAttribute(m);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?u.removeAttribute(m):u.setAttribute(m,E);break;case"popover":jn("beforetoggle",u),jn("toggle",u),A(u,"popover",E);break;case"xlinkActuate":Z(u,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Z(u,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Z(u,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Z(u,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Z(u,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Z(u,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Z(u,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Z(u,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Z(u,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":A(u,"is",E);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Rt.get(m)||m,A(u,m,E))}}function ES(u,f,m,E,M,j){switch(m){case"style":yt(u,E,j);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(m=E.__html,m!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof E=="string"?qe(u,E):(typeof E=="number"||typeof E=="bigint")&&qe(u,""+E);break;case"onScroll":E!=null&&jn("scroll",u);break;case"onScrollEnd":E!=null&&jn("scrollend",u);break;case"onClick":E!=null&&(u.onclick=jv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(M=m.endsWith("Capture"),f=m.slice(2,M?m.length-7:void 0),j=u[Tt]||null,j=j!=null?j[m]:null,typeof j=="function"&&u.removeEventListener(f,j,M),typeof E=="function")){typeof j!="function"&&j!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(f,E,M);break e}m in u?u[m]=E:E===!0?u.setAttribute(m,""):A(u,m,E)}}}function Pi(u,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jn("error",u),jn("load",u);var E=!1,M=!1,j;for(j in m)if(m.hasOwnProperty(j)){var ce=m[j];if(ce!=null)switch(j){case"src":E=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:gr(u,f,j,ce,m,null)}}M&&gr(u,f,"srcSet",m.srcSet,m,null),E&&gr(u,f,"src",m.src,m,null);return;case"input":jn("invalid",u);var Ce=j=ce=M=null,Ve=null,it=null;for(E in m)if(m.hasOwnProperty(E)){var bt=m[E];if(bt!=null)switch(E){case"name":M=bt;break;case"type":ce=bt;break;case"checked":Ve=bt;break;case"defaultChecked":it=bt;break;case"value":j=bt;break;case"defaultValue":Ce=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(r(137,f));break;default:gr(u,f,E,bt,m,null)}}st(u,j,Ce,Ve,it,ce,M,!1),Se(u);return;case"select":jn("invalid",u),E=ce=j=null;for(M in m)if(m.hasOwnProperty(M)&&(Ce=m[M],Ce!=null))switch(M){case"value":j=Ce;break;case"defaultValue":ce=Ce;break;case"multiple":E=Ce;default:gr(u,f,M,Ce,m,null)}f=j,m=ce,u.multiple=!!E,f!=null?lt(u,!!E,f,!1):m!=null&&lt(u,!!E,m,!0);return;case"textarea":jn("invalid",u),j=M=E=null;for(ce in m)if(m.hasOwnProperty(ce)&&(Ce=m[ce],Ce!=null))switch(ce){case"value":E=Ce;break;case"defaultValue":M=Ce;break;case"children":j=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(91));break;default:gr(u,f,ce,Ce,m,null)}je(u,E,M,j),Se(u);return;case"option":for(Ve in m)if(m.hasOwnProperty(Ve)&&(E=m[Ve],E!=null))switch(Ve){case"selected":u.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:gr(u,f,Ve,E,m,null)}return;case"dialog":jn("cancel",u),jn("close",u);break;case"iframe":case"object":jn("load",u);break;case"video":case"audio":for(E=0;E<Hp.length;E++)jn(Hp[E],u);break;case"image":jn("error",u),jn("load",u);break;case"details":jn("toggle",u);break;case"embed":case"source":case"link":jn("error",u),jn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in m)if(m.hasOwnProperty(it)&&(E=m[it],E!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:gr(u,f,it,E,m,null)}return;default:if(Ut(f)){for(bt in m)m.hasOwnProperty(bt)&&(E=m[bt],E!==void 0&&ES(u,f,bt,E,m,void 0));return}}for(Ce in m)m.hasOwnProperty(Ce)&&(E=m[Ce],E!=null&&gr(u,f,Ce,E,m,null))}function YW(u,f,m,E){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,j=null,ce=null,Ce=null,Ve=null,it=null,bt=null;for(_t in m){var Pt=m[_t];if(m.hasOwnProperty(_t)&&Pt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":Ve=Pt;default:E.hasOwnProperty(_t)||gr(u,f,_t,null,E,Pt)}}for(var mt in E){var _t=E[mt];if(Pt=m[mt],E.hasOwnProperty(mt)&&(_t!=null||Pt!=null))switch(mt){case"type":j=_t;break;case"name":M=_t;break;case"checked":it=_t;break;case"defaultChecked":bt=_t;break;case"value":ce=_t;break;case"defaultValue":Ce=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,f));break;default:_t!==Pt&&gr(u,f,mt,_t,E,Pt)}}Ye(u,ce,Ce,Ve,it,bt,j,M);return;case"select":_t=ce=Ce=mt=null;for(j in m)if(Ve=m[j],m.hasOwnProperty(j)&&Ve!=null)switch(j){case"value":break;case"multiple":_t=Ve;default:E.hasOwnProperty(j)||gr(u,f,j,null,E,Ve)}for(M in E)if(j=E[M],Ve=m[M],E.hasOwnProperty(M)&&(j!=null||Ve!=null))switch(M){case"value":mt=j;break;case"defaultValue":Ce=j;break;case"multiple":ce=j;default:j!==Ve&&gr(u,f,M,j,E,Ve)}f=Ce,m=ce,E=_t,mt!=null?lt(u,!!m,mt,!1):!!E!=!!m&&(f!=null?lt(u,!!m,f,!0):lt(u,!!m,m?[]:"",!1));return;case"textarea":_t=mt=null;for(Ce in m)if(M=m[Ce],m.hasOwnProperty(Ce)&&M!=null&&!E.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:gr(u,f,Ce,null,E,M)}for(ce in E)if(M=E[ce],j=m[ce],E.hasOwnProperty(ce)&&(M!=null||j!=null))switch(ce){case"value":mt=M;break;case"defaultValue":_t=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==j&&gr(u,f,ce,M,E,j)}be(u,mt,_t);return;case"option":for(var Jt in m)if(mt=m[Jt],m.hasOwnProperty(Jt)&&mt!=null&&!E.hasOwnProperty(Jt))switch(Jt){case"selected":u.selected=!1;break;default:gr(u,f,Jt,null,E,mt)}for(Ve in E)if(mt=E[Ve],_t=m[Ve],E.hasOwnProperty(Ve)&&mt!==_t&&(mt!=null||_t!=null))switch(Ve){case"selected":u.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:gr(u,f,Ve,mt,E,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vn in m)mt=m[vn],m.hasOwnProperty(vn)&&mt!=null&&!E.hasOwnProperty(vn)&&gr(u,f,vn,null,E,mt);for(it in E)if(mt=E[it],_t=m[it],E.hasOwnProperty(it)&&mt!==_t&&(mt!=null||_t!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,f));break;default:gr(u,f,it,mt,E,_t)}return;default:if(Ut(f)){for(var Vr in m)mt=m[Vr],m.hasOwnProperty(Vr)&&mt!==void 0&&!E.hasOwnProperty(Vr)&&ES(u,f,Vr,void 0,E,mt);for(bt in E)mt=E[bt],_t=m[bt],!E.hasOwnProperty(bt)||mt===_t||mt===void 0&&_t===void 0||ES(u,f,bt,mt,E,_t);return}}for(var ft in m)mt=m[ft],m.hasOwnProperty(ft)&&mt!=null&&!E.hasOwnProperty(ft)&&gr(u,f,ft,null,E,mt);for(Pt in E)mt=E[Pt],_t=m[Pt],!E.hasOwnProperty(Pt)||mt===_t||mt==null&&_t==null||gr(u,f,Pt,mt,E,_t)}var CS=null,TS=null;function $v(u){return u.nodeType===9?u:u.ownerDocument}function nD(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rD(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function RS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var AS=null;function eQ(){var u=window.event;return u&&u.type==="popstate"?u===AS?!1:(AS=u,!0):(AS=null,!1)}var iD=typeof setTimeout=="function"?setTimeout:void 0,tQ=typeof clearTimeout=="function"?clearTimeout:void 0,aD=typeof Promise=="function"?Promise:void 0,nQ=typeof queueMicrotask=="function"?queueMicrotask:typeof aD<"u"?function(u){return aD.resolve(null).then(u).catch(rQ)}:iD;function rQ(u){setTimeout(function(){throw u})}function PS(u,f){var m=f,E=0;do{var M=m.nextSibling;if(u.removeChild(m),M&&M.nodeType===8)if(m=M.data,m==="/$"){if(E===0){u.removeChild(M),Yp(f);return}E--}else m!=="$"&&m!=="$?"&&m!=="$!"||E++;m=M}while(m);Yp(f)}function OS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":OS(m),Ln(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function iQ(u,f,m,E){for(;u.nodeType===1;){var M=m;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!E&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(E){if(!u[tn])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==M.rel||u.getAttribute("href")!==(M.href==null?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var j=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=Uo(u.nextSibling),u===null)break}return null}function aQ(u,f,m){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Uo(u.nextSibling),u===null))return null;return u}function Uo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function oD(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return u;f--}else m==="/$"&&f++}u=u.previousSibling}return null}function sD(u,f,m){switch(f=$v(m),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var So=new Map,uD=new Set;function Bv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var du=ee.d;ee.d={f:oQ,r:sQ,D:uQ,C:lQ,L:cQ,m:fQ,X:hQ,S:dQ,M:pQ};function oQ(){var u=du.f(),f=Iv();return u||f}function sQ(u){var f=Zt(u);f!==null&&f.tag===5&&f.type==="form"?kI(f):du.r(u)}var Cd=typeof document>"u"?null:document;function lD(u,f,m){var E=Cd;if(E&&typeof f=="string"&&f){var M=He(f);M='link[rel="'+u+'"][href="'+M+'"]',typeof m=="string"&&(M+='[crossorigin="'+m+'"]'),uD.has(M)||(uD.add(M),u={rel:u,crossOrigin:m,href:f},E.querySelector(M)===null&&(f=E.createElement("link"),Pi(f,"link",u),zn(f),E.head.appendChild(f)))}}function uQ(u){du.D(u),lD("dns-prefetch",u,null)}function lQ(u,f){du.C(u,f),lD("preconnect",u,f)}function cQ(u,f,m){du.L(u,f,m);var E=Cd;if(E&&u&&f){var M='link[rel="preload"][as="'+He(f)+'"]';f==="image"&&m&&m.imageSrcSet?(M+='[imagesrcset="'+He(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(M+='[imagesizes="'+He(m.imageSizes)+'"]')):M+='[href="'+He(u)+'"]';var j=M;switch(f){case"style":j=Td(u);break;case"script":j=Rd(u)}So.has(j)||(u=q({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:u,as:f},m),So.set(j,u),E.querySelector(M)!==null||f==="style"&&E.querySelector(Kp(j))||f==="script"&&E.querySelector(Gp(j))||(f=E.createElement("link"),Pi(f,"link",u),zn(f),E.head.appendChild(f)))}}function fQ(u,f){du.m(u,f);var m=Cd;if(m&&u){var E=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+He(E)+'"][href="'+He(u)+'"]',j=M;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Rd(u)}if(!So.has(j)&&(u=q({rel:"modulepreload",href:u},f),So.set(j,u),m.querySelector(M)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Gp(j)))return}E=m.createElement("link"),Pi(E,"link",u),zn(E),m.head.appendChild(E)}}}function dQ(u,f,m){du.S(u,f,m);var E=Cd;if(E&&u){var M=Tn(E).hoistableStyles,j=Td(u);f=f||"default";var ce=M.get(j);if(!ce){var Ce={loading:0,preload:null};if(ce=E.querySelector(Kp(j)))Ce.loading=5;else{u=q({rel:"stylesheet",href:u,"data-precedence":f},m),(m=So.get(j))&&LS(u,m);var Ve=ce=E.createElement("link");zn(Ve),Pi(Ve,"link",u),Ve._p=new Promise(function(it,bt){Ve.onload=it,Ve.onerror=bt}),Ve.addEventListener("load",function(){Ce.loading|=1}),Ve.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,Uv(ce,f,E)}ce={type:"stylesheet",instance:ce,count:1,state:Ce},M.set(j,ce)}}}function hQ(u,f){du.X(u,f);var m=Cd;if(m&&u){var E=Tn(m).hoistableScripts,M=Rd(u),j=E.get(M);j||(j=m.querySelector(Gp(M)),j||(u=q({src:u,async:!0},f),(f=So.get(M))&&IS(u,f),j=m.createElement("script"),zn(j),Pi(j,"link",u),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function pQ(u,f){du.M(u,f);var m=Cd;if(m&&u){var E=Tn(m).hoistableScripts,M=Rd(u),j=E.get(M);j||(j=m.querySelector(Gp(M)),j||(u=q({src:u,async:!0,type:"module"},f),(f=So.get(M))&&IS(u,f),j=m.createElement("script"),zn(j),Pi(j,"link",u),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function cD(u,f,m,E){var M=(M=B.current)?Bv(M):null;if(!M)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=Td(m.href),m=Tn(M).hoistableStyles,E=m.get(f),E||(E={type:"style",instance:null,count:0,state:null},m.set(f,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=Td(m.href);var j=Tn(M).hoistableStyles,ce=j.get(u);if(ce||(M=M.ownerDocument||M,ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,ce),(j=M.querySelector(Kp(u)))&&!j._p&&(ce.instance=j,ce.state.loading=5),So.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},So.set(u,m),j||gQ(M,u,m,ce.state))),f&&E===null)throw Error(r(528,""));return ce}if(f&&E!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Rd(m),m=Tn(M).hoistableScripts,E=m.get(f),E||(E={type:"script",instance:null,count:0,state:null},m.set(f,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Td(u){return'href="'+He(u)+'"'}function Kp(u){return'link[rel="stylesheet"]['+u+"]"}function fD(u){return q({},u,{"data-precedence":u.precedence,precedence:null})}function gQ(u,f,m,E){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?E.loading=1:(f=u.createElement("link"),E.preload=f,f.addEventListener("load",function(){return E.loading|=1}),f.addEventListener("error",function(){return E.loading|=2}),Pi(f,"link",m),zn(f),u.head.appendChild(f))}function Rd(u){return'[src="'+He(u)+'"]'}function Gp(u){return"script[async]"+u}function dD(u,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var E=u.querySelector('style[data-href~="'+He(m.href)+'"]');if(E)return f.instance=E,zn(E),E;var M=q({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return E=(u.ownerDocument||u).createElement("style"),zn(E),Pi(E,"style",M),Uv(E,m.precedence,u),f.instance=E;case"stylesheet":M=Td(m.href);var j=u.querySelector(Kp(M));if(j)return f.state.loading|=4,f.instance=j,zn(j),j;E=fD(m),(M=So.get(M))&&LS(E,M),j=(u.ownerDocument||u).createElement("link"),zn(j);var ce=j;return ce._p=new Promise(function(Ce,Ve){ce.onload=Ce,ce.onerror=Ve}),Pi(j,"link",E),f.state.loading|=4,Uv(j,m.precedence,u),f.instance=j;case"script":return j=Rd(m.src),(M=u.querySelector(Gp(j)))?(f.instance=M,zn(M),M):(E=m,(M=So.get(j))&&(E=q({},m),IS(E,M)),u=u.ownerDocument||u,M=u.createElement("script"),zn(M),Pi(M,"link",E),u.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(E=f.instance,f.state.loading|=4,Uv(E,m.precedence,u));return f.instance}function Uv(u,f,m){for(var E=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=E.length?E[E.length-1]:null,j=M,ce=0;ce<E.length;ce++){var Ce=E[ce];if(Ce.dataset.precedence===f)j=Ce;else if(j!==M)break}j?j.parentNode.insertBefore(u,j.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(u,f.firstChild))}function LS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function IS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var qv=null;function hD(u,f,m){if(qv===null){var E=new Map,M=qv=new Map;M.set(m,E)}else M=qv,E=M.get(m),E||(E=new Map,M.set(m,E));if(E.has(u))return E;for(E.set(u,null),m=m.getElementsByTagName(u),M=0;M<m.length;M++){var j=m[M];if(!(j[tn]||j[rt]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var ce=j.getAttribute(f)||"";ce=u+ce;var Ce=E.get(ce);Ce?Ce.push(j):E.set(ce,[j])}}return E}function pD(u,f,m){u=u.ownerDocument||u,u.head.insertBefore(m,f==="title"?u.querySelector("head > title"):null)}function mQ(u,f,m){if(m===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function gD(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Wp=null;function yQ(){}function vQ(u,f,m){if(Wp===null)throw Error(r(475));var E=Wp;if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var M=Td(m.href),j=u.querySelector(Kp(M));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(E.count++,E=zv.bind(E),u.then(E,E)),f.state.loading|=4,f.instance=j,zn(j);return}j=u.ownerDocument||u,m=fD(m),(M=So.get(M))&&LS(m,M),j=j.createElement("link"),zn(j);var ce=j;ce._p=new Promise(function(Ce,Ve){ce.onload=Ce,ce.onerror=Ve}),Pi(j,"link",m),f.instance=j}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(f,u),(u=f.state.preload)&&!(f.state.loading&3)&&(E.count++,f=zv.bind(E),u.addEventListener("load",f),u.addEventListener("error",f))}}function _Q(){if(Wp===null)throw Error(r(475));var u=Wp;return u.stylesheets&&u.count===0&&MS(u,u.stylesheets),0<u.count?function(f){var m=setTimeout(function(){if(u.stylesheets&&MS(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(m)}}:null}function zv(){if(this.count--,this.count===0){if(this.stylesheets)MS(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Hv=null;function MS(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Hv=new Map,f.forEach(wQ,u),Hv=null,zv.call(u))}function wQ(u,f){if(!(f.state.loading&4)){var m=Hv.get(u);if(m)var E=m.get(null);else{m=new Map,Hv.set(u,m);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<M.length;j++){var ce=M[j];(ce.nodeName==="LINK"||ce.getAttribute("media")!=="not all")&&(m.set(ce.dataset.precedence,ce),E=ce)}E&&m.set(null,E)}M=f.instance,ce=M.getAttribute("data-precedence"),j=m.get(ce)||E,j===E&&m.set(null,M),m.set(ce,M),this.count++,E=zv.bind(this),M.addEventListener("load",E),M.addEventListener("error",E),j?j.parentNode.insertBefore(M,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),f.state.loading|=4}}var Qp={$$typeof:y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function bQ(u,f,m,E,M,j,ce,Ce){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=E,this.onUncaughtError=M,this.onCaughtError=j,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function mD(u,f,m,E,M,j,ce,Ce,Ve,it,bt,Pt){return u=new bQ(u,f,m,ce,Ce,Ve,it,Pt),f=1,j===!0&&(f|=24),j=wo(3,null,null,f),u.current=j,j.stateNode=u,f=f1(),f.refCount++,u.pooledCache=f,f.refCount++,j.memoizedState={element:E,isDehydrated:m,cache:f},V1(j),u}function yD(u){return u?(u=po,u):po}function vD(u,f,m,E,M,j){M=yD(M),E.context===null?E.context=M:E.pendingContext=M,E=fl(f),E.payload={element:m},j=j===void 0?null:j,j!==null&&(E.callback=j),m=dl(u,E,f),m!==null&&(ca(m,u,f),Ip(m,u,f))}function _D(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<f?m:f}}function DS(u,f){_D(u,f),(u=u.alternate)&&_D(u,f)}function wD(u){if(u.tag===13){var f=Ca(u,67108864);f!==null&&ca(f,u,67108864),DS(u,67108864)}}var Vv=!0;function SQ(u,f,m,E){var M=Y.T;Y.T=null;var j=ee.p;try{ee.p=2,kS(u,f,m,E)}finally{ee.p=j,Y.T=M}}function xQ(u,f,m,E){var M=Y.T;Y.T=null;var j=ee.p;try{ee.p=8,kS(u,f,m,E)}finally{ee.p=j,Y.T=M}}function kS(u,f,m,E){if(Vv){var M=NS(E);if(M===null)xS(u,f,E,Kv,m),SD(u,E);else if(CQ(M,u,f,m,E))E.stopPropagation();else if(SD(u,E),f&4&&-1<EQ.indexOf(u)){for(;M!==null;){var j=Zt(M);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var ce=ln(j.pendingLanes);if(ce!==0){var Ce=j;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;ce;){var Ve=1<<31-Lt(ce);Ce.entanglements[1]|=Ve,ce&=~Ve}ms(j),!(Nr&6)&&(Pv=at()+500,zp(0))}}break;case 13:Ce=Ca(j,2),Ce!==null&&ca(Ce,j,2),Iv(),DS(j,2)}if(j=NS(E),j===null&&xS(u,f,E,Kv,m),j===M)break;M=j}M!==null&&E.stopPropagation()}else xS(u,f,E,null,m)}}function NS(u){return u=Hn(u),FS(u)}var Kv=null;function FS(u){if(Kv=null,u=Wt(u),u!==null){var f=se(u);if(f===null)u=null;else{var m=f.tag;if(m===13){if(u=Re(f),u!==null)return u;u=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Kv=u,null}function bD(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Ee:return 2;case J:return 8;case $:case K:return 32;case G:return 268435456;default:return 32}default:return 32}}var jS=!1,_l=null,wl=null,bl=null,Zp=new Map,Jp=new Map,Sl=[],EQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SD(u,f){switch(u){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Zp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jp.delete(f.pointerId)}}function Xp(u,f,m,E,M,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:m,eventSystemFlags:E,nativeEvent:j,targetContainers:[M]},f!==null&&(f=Zt(f),f!==null&&wD(f)),u):(u.eventSystemFlags|=E,f=u.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),u)}function CQ(u,f,m,E,M){switch(f){case"focusin":return _l=Xp(_l,u,f,m,E,M),!0;case"dragenter":return wl=Xp(wl,u,f,m,E,M),!0;case"mouseover":return bl=Xp(bl,u,f,m,E,M),!0;case"pointerover":var j=M.pointerId;return Zp.set(j,Xp(Zp.get(j)||null,u,f,m,E,M)),!0;case"gotpointercapture":return j=M.pointerId,Jp.set(j,Xp(Jp.get(j)||null,u,f,m,E,M)),!0}return!1}function xD(u){var f=Wt(u.target);if(f!==null){var m=se(f);if(m!==null){if(f=m.tag,f===13){if(f=Re(m),f!==null){u.blockedOn=f,et(u.priority,function(){if(m.tag===13){var E=za(),M=Ca(m,E);M!==null&&ca(M,m,E),DS(m,E)}});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gv(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var m=NS(u.nativeEvent);if(m===null){m=u.nativeEvent;var E=new m.constructor(m.type,m);Vt=E,m.target.dispatchEvent(E),Vt=null}else return f=Zt(m),f!==null&&wD(f),u.blockedOn=m,!1;f.shift()}return!0}function ED(u,f,m){Gv(u)&&m.delete(f)}function TQ(){jS=!1,_l!==null&&Gv(_l)&&(_l=null),wl!==null&&Gv(wl)&&(wl=null),bl!==null&&Gv(bl)&&(bl=null),Zp.forEach(ED),Jp.forEach(ED)}function Wv(u,f){u.blockedOn===f&&(u.blockedOn=null,jS||(jS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TQ)))}var Qv=null;function CD(u){Qv!==u&&(Qv=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qv===u&&(Qv=null);for(var f=0;f<u.length;f+=3){var m=u[f],E=u[f+1],M=u[f+2];if(typeof E!="function"){if(FS(E||m)===null)continue;break}var j=Zt(m);j!==null&&(u.splice(f,3),f-=3,R1(j,{pending:!0,data:M,method:m.method,action:E},E,M))}}))}function Yp(u){function f(Ve){return Wv(Ve,u)}_l!==null&&Wv(_l,u),wl!==null&&Wv(wl,u),bl!==null&&Wv(bl,u),Zp.forEach(f),Jp.forEach(f);for(var m=0;m<Sl.length;m++){var E=Sl[m];E.blockedOn===u&&(E.blockedOn=null)}for(;0<Sl.length&&(m=Sl[0],m.blockedOn===null);)xD(m),m.blockedOn===null&&Sl.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(E=0;E<m.length;E+=3){var M=m[E],j=m[E+1],ce=M[Tt]||null;if(typeof j=="function")ce||CD(m);else if(ce){var Ce=null;if(j&&j.hasAttribute("formAction")){if(M=j,ce=j[Tt]||null)Ce=ce.formAction;else if(FS(M)!==null)continue}else Ce=ce.action;typeof Ce=="function"?m[E+1]=Ce:(m.splice(E,3),E-=3),CD(m)}}}function $S(u){this._internalRoot=u}Zv.prototype.render=$S.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,E=za();vD(m,E,u,f,null,null)},Zv.prototype.unmount=$S.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&Sd(),vD(u.current,2,null,u,null,null),Iv(),f[kt]=null}};function Zv(u){this._internalRoot=u}Zv.prototype.unstable_scheduleHydration=function(u){if(u){var f=xe();u={blockedOn:null,target:u,priority:f};for(var m=0;m<Sl.length&&f!==0&&f<Sl[m].priority;m++);Sl.splice(m,0,u),m===0&&xD(u)}};var TD=t.version;if(TD!=="19.0.0")throw Error(r(527,TD,"19.0.0"));ee.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=re(f),u=u!==null?ge(u):null,u=u===null?null:u.stateNode,u};var RQ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:Wt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jv.isDisabled&&Jv.supportsFiber)try{Fe=Jv.inject(RQ),At=Jv}catch{}}return tg.createRoot=function(u,f){if(!i(u))throw Error(r(299));var m=!1,E="",M=zI,j=HI,ce=VI,Ce=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(ce=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ce=f.unstable_transitionCallbacks)),f=mD(u,1,!1,null,null,m,E,M,j,ce,Ce,null),u[kt]=f.current,SS(u.nodeType===8?u.parentNode:u),new $S(f)},tg.hydrateRoot=function(u,f,m){if(!i(u))throw Error(r(299));var E=!1,M="",j=zI,ce=HI,Ce=VI,Ve=null,it=null;return m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(j=m.onUncaughtError),m.onCaughtError!==void 0&&(ce=m.onCaughtError),m.onRecoverableError!==void 0&&(Ce=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Ve=m.unstable_transitionCallbacks),m.formState!==void 0&&(it=m.formState)),f=mD(u,1,!0,f,m??null,E,M,j,ce,Ce,Ve,it),f.context=yD(null),m=f.current,E=za(),M=fl(E),M.callback=null,dl(m,M,E),f.current.lanes=E,Ct(f,E),ms(f),u[kt]=f.current,SS(u),new Zv(f)},tg.version="19.0.0",tg}var KD;function lZ(){if(KD)return HS.exports;KD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),HS.exports=uZ(),HS.exports}var cZ=lZ(),WS={exports:{}},QS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function fZ(){if(GD)return QS;GD=1;var e=Nh();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return QS.useSyncExternalStoreWithSelector=function(l,c,d,h,g){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function S(O){if(!w){if(w=!0,x=O,O=h(O),g!==void 0&&v.hasValue){var D=v.value;if(g(D,O))return R=D}return R=O}if(D=R,n(x,O))return D;var F=h(O);return g!==void 0&&g(D,F)?(x=O,D):(x=O,R=F)}var w=!1,x,R,P=d===void 0?null:d;return[function(){return S(c())},P===null?void 0:function(){return S(P())}]},[c,d,h,g]);var _=r(l,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=_},[_]),s(_),_},QS}var WD;function dZ(){return WD||(WD=1,WS.exports=fZ()),WS.exports}var hZ=dZ();function pZ(e){e()}function gZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var QD={notify(){},get:()=>[]};function mZ(e,t){let n,r=QD,i=0,a=!1;function o(_){d();const S=r.subscribe(_);let w=!1;return()=>{w||(w=!0,S(),h())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=gZ())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=QD)}function g(){a||(a=!0,d())}function y(){a&&(a=!1,h())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return v}var yZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vZ=yZ(),_Z=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wZ=_Z(),bZ=()=>vZ||wZ?V.useLayoutEffect:V.useEffect,SZ=bZ(),ZS=Symbol.for("react-redux-context"),JS=typeof globalThis<"u"?globalThis:{};function xZ(){if(!V.createContext)return{};const e=JS[ZS]??(JS[ZS]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var Jl=xZ();function EZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=V.useMemo(()=>{const l=mZ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=V.useMemo(()=>i.getState(),[i]);SZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Jl;return V.createElement(s.Provider,{value:a},t)}var CZ=EZ;function AP(e=Jl){return function(){return V.useContext(e)}}var XU=AP();function YU(e=Jl){const t=e===Jl?XU:AP(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var TZ=YU();function RZ(e=Jl){const t=e===Jl?TZ:YU(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var AZ=RZ(),PZ=(e,t)=>e===t;function OZ(e=Jl){const t=e===Jl?XU:AP(e),n=(r,i={})=>{const{equalityFn:a=PZ}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:s,subscription:l,getServerState:c}=o;V.useRef(!0);const d=V.useCallback({[r.name](g){return r(g)}}[r.name],[r]),h=hZ.useSyncExternalStoreWithSelector(l.addNestedSub,s.getState,c||s.getState,d,a);return V.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var LZ=OZ();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}var ci;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ci||(ci={}));const ZD="popstate";function IZ(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Vm("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ds(i)}return DZ(t,n,null,e)}function bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MZ(){return Math.random().toString(36).substr(2,8)}function JD(e,t){return{usr:e.state,key:e.key,idx:t}}function Vm(e,t,n,r){return n===void 0&&(n=null),Zn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$u(t):t,{state:n,key:t&&t.key||r||MZ()})}function Ds(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DZ(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ci.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Zn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){s=ci.Pop;let S=d(),w=S==null?null:S-c;c=S,l&&l({action:s,location:_.location,delta:w})}function g(S,w){s=ci.Push;let x=Vm(_.location,S,w);c=d()+1;let R=JD(x,c),P=_.createHref(x);try{o.pushState(R,"",P)}catch{i.location.assign(P)}a&&l&&l({action:s,location:_.location,delta:1})}function y(S,w){s=ci.Replace;let x=Vm(_.location,S,w);c=d();let R=JD(x,c),P=_.createHref(x);o.replaceState(R,"",P),a&&l&&l({action:s,location:_.location,delta:0})}function v(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:Ds(S);return bn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let _={get action(){return s},get location(){return e(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZD,h),l=S,()=>{i.removeEventListener(ZD,h),l=null}},createHref(S){return t(i,S)},createURL:v,encodeLocation(S){let w=v(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:y,go(S){return o.go(S)}};return _}var ji;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ji||(ji={}));function kZ(e){return e.index===!0}function eq(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,i)=>{let a=[...t,i],o=typeof r.id=="string"?r.id:a.join("-");return bn(r.index!==!0||!r.children,"Cannot specify children on an index route"),bn(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),kZ(r)?Zn({},r,{id:o}):Zn({},r,{id:o,children:r.children?eq(r.children,a,n):void 0})})}function vm(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?$u(t):t,i=rq(r.pathname||"/",n);if(i==null)return null;let a=tq(e);NZ(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=VZ(a[s],WZ(i));return o}function tq(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ru([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(bn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tq(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:zZ(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of nq(a.path))i(a,o,l)}),t}function nq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=nq(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function NZ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HZ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FZ=/^:\w+$/,jZ=3,$Z=2,BZ=1,UZ=10,qZ=-2,XD=e=>e==="*";function zZ(e,t){let n=e.split("/"),r=n.length;return n.some(XD)&&(r+=qZ),t&&(r+=$Z),n.filter(i=>!XD(i)).reduce((i,a)=>i+(FZ.test(a)?jZ:a===""?BZ:UZ),r)}function HZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function VZ(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=KZ({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=s.route;a.push({params:r,pathname:Ru([i,d.pathname]),pathnameBase:XZ(Ru([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ru([i,d.pathnameBase]))}return a}function KZ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GZ(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let g=s[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}return c[d]=QZ(s[h]||"",d),c},{}),pathname:a,pathnameBase:o,pattern:e}}function GZ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Km(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WZ(e){try{return decodeURI(e)}catch(t){return Km(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function QZ(e,t){try{return decodeURIComponent(e)}catch(n){return Km(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function rq(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Km(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZZ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$u(e):e;return{pathname:n?n.startsWith("/")?n:JZ(n,t):t,search:YZ(r),hash:eJ(i)}}function JZ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function XS(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function PP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$u(e):(i=Zn({},e),bn(!i.pathname||!i.pathname.includes("?"),XS("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),XS("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),XS("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let h=t.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}s=h>=0?t[h]:"/"}let l=ZZ(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ru=e=>e.join("/").replace(/\/\/+/g,"/"),XZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class YD extends Error{}class tJ{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],bn(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let i=()=>r(new YD("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((a,o)=>{let[s,l]=o;return Object.assign(a,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){return this.controller.signal.aborted&&r instanceof YD?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{t.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return bn(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:rJ(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function nJ(e){return e instanceof Promise&&e._tracked===!0}function rJ(e){if(!nJ(e))return e;if(e._error)throw e._error;return e._data}class OP{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function iq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aq=["post","put","patch","delete"],iJ=new Set(aq),aJ=["get",...aq],oJ=new Set(aJ),sJ=new Set([301,302,303,307,308]),uJ=new Set([307,308]),YS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},lJ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ek={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},oq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cJ=!oq;function fJ(e){bn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=eq(e.routes),n=null,r=new Set,i=null,a=null,o=null,s=e.hydrationData!=null,l=vm(t,e.history.location,e.basename),c=null;if(l==null){let me=Pl(404,{pathname:e.history.location.pathname}),{matches:Ee,route:J}=ok(t);l=Ee,c={[J.id]:me}}let d=!l.some(me=>me.route.loader)||e.hydrationData!=null,h,g={historyAction:e.history.action,location:e.history.location,matches:l,initialized:d,navigation:YS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map,blockers:new Map},y=ci.Pop,v=!1,_,S=!1,w=!1,x=[],R=[],P=new Map,O=0,D=-1,F=new Map,Q=new Set,Y=new Map,q=new Map,X=null,le=new Map,te=!1;function oe(){return n=e.history.listen(me=>{let{action:Ee,location:J,delta:$}=me;if(te){te=!1;return}Km(X!=null&&$===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=ot({currentLocation:g.location,nextLocation:J,historyAction:Ee});if(K&&$!=null){te=!0,e.history.go($*-1),De(K,{state:"blocked",location:J,proceed(){De(K,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),e.history.go($)},reset(){tt(K),de({blockers:new Map(h.state.blockers)})}});return}return re(Ee,J)}),g.initialized||re(ci.Pop,g.location),h}function he(){n&&n(),r.clear(),_&&_.abort(),g.fetchers.forEach((me,Ee)=>H(Ee)),g.blockers.forEach((me,Ee)=>tt(Ee))}function ve(me){return r.add(me),()=>r.delete(me)}function de(me){g=Zn({},g,me),r.forEach(Ee=>Ee(g))}function se(me,Ee){var J,$;let K=g.actionData!=null&&g.navigation.formMethod!=null&&Eu(g.navigation.formMethod)&&g.navigation.state==="loading"&&((J=me.state)==null?void 0:J._isRedirect)!==!0,G;Ee.actionData?Object.keys(Ee.actionData).length>0?G=Ee.actionData:G=null:K?G=g.actionData:G=null;let ke=Ee.loaderData?ak(g.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):g.loaderData;for(let[Fe]of le)tt(Fe);let Ze=v===!0||g.navigation.formMethod!=null&&Eu(g.navigation.formMethod)&&(($=me.state)==null?void 0:$._isRedirect)!==!0;de(Zn({},Ee,{actionData:G,loaderData:ke,historyAction:y,location:me,initialized:!0,navigation:YS,revalidation:"idle",restoreScrollPosition:at(me,Ee.matches||g.matches),preventScrollReset:Ze,blockers:new Map(g.blockers)})),S||y===ci.Pop||(y===ci.Push?e.history.push(me,me.state):y===ci.Replace&&e.history.replace(me,me.state)),y=ci.Pop,v=!1,S=!1,w=!1,x=[],R=[]}async function Re(me,Ee){if(typeof me=="number"){e.history.go(me);return}let{path:J,submission:$,error:K}=tk(me,Ee),G=g.location,ke=Vm(g.location,J,Ee&&Ee.state);ke=Zn({},ke,e.history.encodeLocation(ke));let Ze=Ee&&Ee.replace!=null?Ee.replace:void 0,Fe=ci.Push;Ze===!0?Fe=ci.Replace:Ze===!1||$!=null&&Eu($.formMethod)&&$.formAction===g.location.pathname+g.location.search&&(Fe=ci.Replace);let At=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,Mt=ot({currentLocation:G,nextLocation:ke,historyAction:Fe});if(Mt){De(Mt,{state:"blocked",location:ke,proceed(){De(Mt,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),Re(me,Ee)},reset(){tt(Mt),de({blockers:new Map(g.blockers)})}});return}return await re(Fe,ke,{submission:$,pendingError:K,preventScrollReset:At,replace:Ee&&Ee.replace})}function k(){if(Xe(),de({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){re(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}re(y||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function re(me,Ee,J){_&&_.abort(),_=null,y=me,S=(J&&J.startUninterruptedRevalidation)===!0,Be(g.location,g.matches),v=(J&&J.preventScrollReset)===!0;let $=J&&J.overrideNavigation,K=vm(t,Ee,e.basename);if(!K){let Nt=Pl(404,{pathname:Ee.pathname}),{matches:Lt,route:zt}=ok(t);gt(),se(Ee,{matches:Lt,loaderData:{},errors:{[zt.id]:Nt}});return}if(mJ(g.location,Ee)&&!(J&&J.submission&&Eu(J.submission.formMethod))){se(Ee,{matches:K});return}_=new AbortController;let G=rg(e.history,Ee,_.signal,J&&J.submission),ke,Ze;if(J&&J.pendingError)Ze={[Qd(K).route.id]:J.pendingError};else if(J&&J.submission&&Eu(J.submission.formMethod)){let Nt=await ge(G,Ee,J.submission,K,{replace:J.replace});if(Nt.shortCircuited)return;ke=Nt.pendingActionData,Ze=Nt.pendingActionError,$=Zn({state:"loading",location:Ee},J.submission),G=new Request(G.url,{signal:G.signal})}let{shortCircuited:Fe,loaderData:At,errors:Mt}=await W(G,Ee,K,$,J&&J.submission,J&&J.replace,ke,Ze);Fe||(_=null,se(Ee,Zn({matches:K},ke?{actionData:ke}:{},{loaderData:At,errors:Mt})))}async function ge(me,Ee,J,$,K){Xe();let G=Zn({state:"submitting",location:Ee},J);de({navigation:G});let ke,Ze=ck($,Ee);if(!Ze.route.action)ke={type:ji.error,error:Pl(405,{method:me.method,pathname:Ee.pathname,routeId:Ze.route.id})};else if(ke=await ng("action",me,Ze,$,h.basename),me.signal.aborted)return{shortCircuited:!0};if(Yd(ke)){let Fe;return K.replace!=null?Fe=K.replace:Fe=ke.location===g.location.pathname+g.location.search,await Ae(g,ke,{submission:J,replace:Fe}),{shortCircuited:!0}}if(Mm(ke)){let Fe=Qd($,Ze.route.id);return K.replace!==!0&&(y=ci.Push),{pendingActionData:{},pendingActionError:{[Fe.route.id]:ke.error}}}if(cf(ke))throw Pl(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:ke.data}}}async function W(me,Ee,J,$,K,G,ke,Ze){let Fe=$;Fe||(Fe=Zn({state:"loading",location:Ee,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K));let At=K||(Fe.formMethod&&Fe.formAction&&Fe.formData&&Fe.formEncType?{formMethod:Fe.formMethod,formAction:Fe.formAction,formData:Fe.formData,formEncType:Fe.formEncType}:void 0),[Mt,Nt]=nk(e.history,g,J,At,Ee,w,x,R,ke,Ze,Y);if(gt(cn=>!(J&&J.some(Dn=>Dn.route.id===cn))||Mt&&Mt.some(Dn=>Dn.route.id===cn)),Mt.length===0&&Nt.length===0)return se(Ee,Zn({matches:J,loaderData:{},errors:Ze||null},ke?{actionData:ke}:{})),{shortCircuited:!0};if(!S){Nt.forEach(Dn=>{let cr=g.fetchers.get(Dn.key),Le={state:"loading",data:cr&&cr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Dn.key,Le)});let cn=ke||g.actionData;de(Zn({navigation:Fe},cn?Object.keys(cn).length===0?{actionData:null}:{actionData:cn}:{},Nt.length>0?{fetchers:new Map(g.fetchers)}:{}))}D=++O,Nt.forEach(cn=>P.set(cn.key,_));let{results:Lt,loaderResults:zt,fetcherResults:Pr}=await $e(g.matches,J,Mt,Nt,me);if(me.signal.aborted)return{shortCircuited:!0};Nt.forEach(cn=>P.delete(cn.key));let hn=sk(Lt);if(hn)return await Ae(g,hn,{replace:G}),{shortCircuited:!0};let{loaderData:pn,errors:yr}=ik(g,J,Mt,zt,Ze,Nt,Pr,q);q.forEach((cn,Dn)=>{cn.subscribe(cr=>{(cr||cn.done)&&q.delete(Dn)})}),fe();let ln=Pe(D);return Zn({loaderData:pn,errors:yr},ln||Nt.length>0?{fetchers:new Map(g.fetchers)}:{})}function ee(me){return g.fetchers.get(me)||lJ}function pe(me,Ee,J,$){if(cJ)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(me)&&B(me);let K=vm(t,J,e.basename);if(!K){ae(me,Ee,Pl(404,{pathname:J}));return}let{path:G,submission:ke}=tk(J,$,!0),Ze=ck(K,G);if(v=($&&$.preventScrollReset)===!0,ke&&Eu(ke.formMethod)){Te(me,Ee,G,Ze,K,ke);return}Y.set(me,{routeId:Ee,path:G,match:Ze,matches:K}),Je(me,Ee,G,Ze,K,ke)}async function Te(me,Ee,J,$,K,G){if(Xe(),Y.delete(me),!$.route.action){let Dt=Pl(405,{method:G.formMethod,pathname:J,routeId:Ee});ae(me,Ee,Dt);return}let ke=g.fetchers.get(me),Ze=Zn({state:"submitting"},G,{data:ke&&ke.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(me,Ze),de({fetchers:new Map(g.fetchers)});let Fe=new AbortController,At=rg(e.history,J,Fe.signal,G);P.set(me,Fe);let Mt=await ng("action",At,$,K,h.basename);if(At.signal.aborted){P.get(me)===Fe&&P.delete(me);return}if(Yd(Mt)){P.delete(me),Q.add(me);let Dt=Zn({state:"loading"},G,{data:void 0," _hasFetcherDoneAnything ":!0});return g.fetchers.set(me,Dt),de({fetchers:new Map(g.fetchers)}),Ae(g,Mt,{isFetchActionRedirect:!0})}if(Mm(Mt)){ae(me,Ee,Mt.error);return}if(cf(Mt))throw Pl(400,{type:"defer-action"});let Nt=g.navigation.location||g.location,Lt=rg(e.history,Nt,Fe.signal),zt=g.navigation.state!=="idle"?vm(t,g.navigation.location,e.basename):g.matches;bn(zt,"Didn't find any matches after fetcher action");let Pr=++O;F.set(me,Pr);let hn=Zn({state:"loading",data:Mt.data},G,{" _hasFetcherDoneAnything ":!0});g.fetchers.set(me,hn);let[pn,yr]=nk(e.history,g,zt,G,Nt,w,x,R,{[$.route.id]:Mt.data},void 0,Y);yr.filter(Dt=>Dt.key!==me).forEach(Dt=>{let Vn=Dt.key,Xn=g.fetchers.get(Vn),We={state:"loading",data:Xn&&Xn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Vn,We),P.set(Vn,Fe)}),de({fetchers:new Map(g.fetchers)});let{results:ln,loaderResults:cn,fetcherResults:Dn}=await $e(g.matches,zt,pn,yr,Lt);if(Fe.signal.aborted)return;F.delete(me),P.delete(me),yr.forEach(Dt=>P.delete(Dt.key));let cr=sk(ln);if(cr)return Ae(g,cr);let{loaderData:Le,errors:ze}=ik(g,g.matches,pn,cn,void 0,yr,Dn,q),St={state:"idle",data:Mt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(me,St);let Ct=Pe(Pr);g.navigation.state==="loading"&&Pr>D?(bn(y,"Expected pending action"),_&&_.abort(),se(g.navigation.location,{matches:zt,loaderData:Le,errors:ze,fetchers:new Map(g.fetchers)})):(de(Zn({errors:ze,loaderData:ak(g.loaderData,Le,zt,ze)},Ct?{fetchers:new Map(g.fetchers)}:{})),w=!1)}async function Je(me,Ee,J,$,K,G){let ke=g.fetchers.get(me),Ze=Zn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G,{data:ke&&ke.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(me,Ze),de({fetchers:new Map(g.fetchers)});let Fe=new AbortController,At=rg(e.history,J,Fe.signal);P.set(me,Fe);let Mt=await ng("loader",At,$,K,h.basename);if(cf(Mt)&&(Mt=await cq(Mt,At.signal,!0)||Mt),P.get(me)===Fe&&P.delete(me),At.signal.aborted)return;if(Yd(Mt)){await Ae(g,Mt);return}if(Mm(Mt)){let Lt=Qd(g.matches,Ee);g.fetchers.delete(me),de({fetchers:new Map(g.fetchers),errors:{[Lt.route.id]:Mt.error}});return}bn(!cf(Mt),"Unhandled fetcher deferred data");let Nt={state:"idle",data:Mt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(me,Nt),de({fetchers:new Map(g.fetchers)})}async function Ae(me,Ee,J){var $;let{submission:K,replace:G,isFetchActionRedirect:ke}=J===void 0?{}:J;Ee.revalidate&&(w=!0);let Ze=Vm(me.location,Ee.location,Zn({_isRedirect:!0},ke?{_isFetchActionRedirect:!0}:{}));if(bn(Ze,"Expected a location on the redirect navigation"),oq&&typeof(($=window)==null?void 0:$.location)<"u"){let zt=e.history.createURL(Ee.location).origin;if(window.location.origin!==zt){G?window.location.replace(Ee.location):window.location.assign(Ee.location);return}}_=null;let Fe=G===!0?ci.Replace:ci.Push,{formMethod:At,formAction:Mt,formEncType:Nt,formData:Lt}=me.navigation;!K&&At&&Mt&&Lt&&Nt&&(K={formMethod:At,formAction:Mt,formEncType:Nt,formData:Lt}),uJ.has(Ee.status)&&K&&Eu(K.formMethod)?await re(Fe,Ze,{submission:Zn({},K,{formAction:Ee.location}),preventScrollReset:v}):await re(Fe,Ze,{overrideNavigation:{state:"loading",location:Ze,formMethod:K?K.formMethod:void 0,formAction:K?K.formAction:void 0,formEncType:K?K.formEncType:void 0,formData:K?K.formData:void 0},preventScrollReset:v})}async function $e(me,Ee,J,$,K){let G=await Promise.all([...J.map(Fe=>ng("loader",K,Fe,Ee,h.basename)),...$.map(Fe=>ng("loader",rg(e.history,Fe.path,K.signal),Fe.match,Fe.matches,h.basename))]),ke=G.slice(0,J.length),Ze=G.slice(J.length);return await Promise.all([uk(me,J,ke,K.signal,!1,g.loaderData),uk(me,$.map(Fe=>Fe.match),Ze,K.signal,!0)]),{results:G,loaderResults:ke,fetcherResults:Ze}}function Xe(){w=!0,x.push(...gt()),Y.forEach((me,Ee)=>{P.has(Ee)&&(R.push(Ee),B(Ee))})}function ae(me,Ee,J){let $=Qd(g.matches,Ee);H(me),de({errors:{[$.route.id]:J},fetchers:new Map(g.fetchers)})}function H(me){P.has(me)&&B(me),Y.delete(me),F.delete(me),Q.delete(me),g.fetchers.delete(me)}function B(me){let Ee=P.get(me);bn(Ee,"Expected fetch controller: "+me),Ee.abort(),P.delete(me)}function ie(me){for(let Ee of me){let $={state:"idle",data:ee(Ee).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Ee,$)}}function fe(){let me=[];for(let Ee of Q){let J=g.fetchers.get(Ee);bn(J,"Expected fetcher: "+Ee),J.state==="loading"&&(Q.delete(Ee),me.push(Ee))}ie(me)}function Pe(me){let Ee=[];for(let[J,$]of F)if($<me){let K=g.fetchers.get(J);bn(K,"Expected fetcher: "+J),K.state==="loading"&&(B(J),F.delete(J),Ee.push(J))}return ie(Ee),Ee.length>0}function Ie(me,Ee){let J=g.blockers.get(me)||ek;return le.get(me)!==Ee&&(le.set(me,Ee),X==null?X=me:me!==X&&Km(!1,"A router only supports one blocker at a time")),J}function tt(me){g.blockers.delete(me),le.delete(me),X===me&&(X=null)}function De(me,Ee){let J=g.blockers.get(me)||ek;bn(J.state==="unblocked"&&Ee.state==="blocked"||J.state==="blocked"&&Ee.state==="blocked"||J.state==="blocked"&&Ee.state==="proceeding"||J.state==="blocked"&&Ee.state==="unblocked"||J.state==="proceeding"&&Ee.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+Ee.state),g.blockers.set(me,Ee),de({blockers:new Map(g.blockers)})}function ot(me){let{currentLocation:Ee,nextLocation:J,historyAction:$}=me;if(X==null)return;let K=le.get(X);bn(K,"Could not find a function for the active blocker");let G=g.blockers.get(X);if(!(G&&G.state==="proceeding")&&K({currentLocation:Ee,nextLocation:J,historyAction:$}))return X}function gt(me){let Ee=[];return q.forEach((J,$)=>{(!me||me($))&&(J.cancel(),Ee.push($),q.delete($))}),Ee}function _e(me,Ee,J){if(i=me,o=Ee,a=J||($=>$.key),!s&&g.navigation===YS){s=!0;let $=at(g.location,g.matches);$!=null&&de({restoreScrollPosition:$})}return()=>{i=null,o=null,a=null}}function Be(me,Ee){if(i&&a&&o){let J=Ee.map(K=>lk(K,g.loaderData)),$=a(me,J)||me.key;i[$]=o()}}function at(me,Ee){if(i&&a&&o){let J=Ee.map(G=>lk(G,g.loaderData)),$=a(me,J)||me.key,K=i[$];if(typeof K=="number")return K}return null}return h={get basename(){return e.basename},get state(){return g},get routes(){return t},initialize:oe,subscribe:ve,enableScrollRestoration:_e,navigate:Re,fetch:pe,revalidate:k,createHref:me=>e.history.createHref(me),encodeLocation:me=>e.history.encodeLocation(me),getFetcher:ee,deleteFetcher:H,dispose:he,getBlocker:Ie,deleteBlocker:tt,_internalFetchControllers:P,_internalActiveDeferreds:q},h}function dJ(e){return e!=null&&"formData"in e}function tk(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Ds(e);if(!t||!dJ(t))return{path:r};if(t.formMethod&&!vJ(t.formMethod))return{path:r,error:Pl(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:lq(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},Eu(i.formMethod)))return{path:r,submission:i};let a=$u(r),o=uq(t.formData);return n&&a.search&&fq(a.search)&&o.append("index",""),a.search="?"+o,{path:Ds(a),submission:i}}function hJ(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function nk(e,t,n,r,i,a,o,s,l,c,d){let h=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,g=e.createURL(t.location),y=e.createURL(i),v=a||g.toString()===y.toString()||g.search!==y.search,_=c?Object.keys(c)[0]:void 0,w=hJ(n,_).filter((R,P)=>{if(R.route.loader==null)return!1;if(pJ(t.loaderData,t.matches[P],R)||o.some(F=>F===R.route.id))return!0;let O=t.matches[P],D=R;return rk(R,Zn({currentUrl:g,currentParams:O.params,nextUrl:y,nextParams:D.params},r,{actionResult:h,defaultShouldRevalidate:v||sq(O,D)}))}),x=[];return d&&d.forEach((R,P)=>{if(n.some(O=>O.route.id===R.routeId))s.includes(P)?x.push(Zn({key:P},R)):rk(R.match,Zn({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:v}))&&x.push(Zn({key:P},R));else return}),[w,x]}function pJ(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function sq(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function rk(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function ng(e,t,n,r,i,a,o,s){i===void 0&&(i="/"),a===void 0&&(a=!1),o===void 0&&(o=!1);let l,c,d,h=new Promise((y,v)=>d=v),g=()=>d();t.signal.addEventListener("abort",g);try{let y=n.route[e];bn(y,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),c=await Promise.race([y({request:t,params:n.params,context:s}),h]),bn(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=ji.error,c=y}finally{t.signal.removeEventListener("abort",g)}if(yJ(c)){let y=c.status;if(sJ.has(y)){let S=c.headers.get("Location");if(bn(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!a){let x=new URL(t.url),R=S.startsWith("//")?new URL(x.protocol+S):new URL(S);R.origin===x.origin&&(S=R.pathname+R.search+R.hash)}}else{let x=r.slice(0,r.indexOf(n)+1),R=Kw(x).map(O=>O.pathnameBase),P=PP(S,R,new URL(t.url).pathname);if(bn(Ds(P),"Unable to resolve redirect location: "+S),i){let O=P.pathname;P.pathname=O==="/"?i:Ru([i,O])}S=Ds(P)}if(a)throw c.headers.set("Location",S),c;return{type:ji.redirect,status:y,location:S,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||ji.data,response:c};let v,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await c.json():v=await c.text(),l===ji.error?{type:l,error:new OP(y,c.statusText,v),headers:c.headers}:{type:ji.data,data:v,statusCode:c.status,headers:c.headers}}return l===ji.error?{type:l,error:c}:c instanceof tJ?{type:ji.deferred,deferredData:c}:{type:ji.data,data:c}}function rg(e,t,n,r){let i=e.createURL(lq(t)).toString(),a={signal:n};if(r&&Eu(r.formMethod)){let{formMethod:o,formEncType:s,formData:l}=r;a.method=o.toUpperCase(),a.body=s==="application/x-www-form-urlencoded"?uq(l):l}return new Request(i,a)}function uq(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function gJ(e,t,n,r,i){let a={},o=null,s,l=!1,c={};return n.forEach((d,h)=>{let g=t[h].route.id;if(bn(!Yd(d),"Cannot handle redirect results in processLoaderData"),Mm(d)){let y=Qd(e,g),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),a[g]=void 0,l||(l=!0,s=iq(d.error)?d.error.status:500),d.headers&&(c[g]=d.headers)}else cf(d)?(i.set(g,d.deferredData),a[g]=d.deferredData.data):a[g]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(c[g]=d.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function ik(e,t,n,r,i,a,o,s){let{loaderData:l,errors:c}=gJ(t,n,r,i,s);for(let d=0;d<a.length;d++){let{key:h,match:g}=a[d];bn(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let y=o[d];if(Mm(y)){let v=Qd(e.matches,g.route.id);c&&c[v.route.id]||(c=Zn({},c,{[v.route.id]:y.error})),e.fetchers.delete(h)}else if(Yd(y))bn(!1,"Unhandled fetcher revalidation redirect");else if(cf(y))bn(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,v)}}return{loaderData:l,errors:c}}function ak(e,t,n,r){let i=Zn({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Qd(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function ok(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pl(e,t){let{pathname:n,routeId:r,method:i,type:a}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(s="defer() is not supported in actions")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new OP(e||500,o,new Error(s),!0)}function sk(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Yd(n))return n}}function lq(e){let t=typeof e=="string"?$u(e):e;return Ds(Zn({},t,{hash:""}))}function mJ(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function cf(e){return e.type===ji.deferred}function Mm(e){return e.type===ji.error}function Yd(e){return(e&&e.type)===ji.redirect}function yJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function vJ(e){return oJ.has(e)}function Eu(e){return iJ.has(e)}async function uk(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o],c=e.find(h=>h.route.id===l.route.id),d=c!=null&&!sq(c,l)&&(a&&a[l.route.id])!==void 0;cf(s)&&(i||d)&&await cq(s,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function cq(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ji.data,data:e.deferredData.unwrappedData}}catch(i){return{type:ji.error,error:i}}return{type:ji.data,data:e.deferredData.data}}}function fq(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function lk(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function ck(e,t){let n=typeof t=="string"?$u(t).search:t.search;if(e[e.length-1].route.index&&fq(n||""))return e[e.length-1];let r=Kw(e);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(this,arguments)}function _J(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const wJ=typeof Object.is=="function"?Object.is:_J,{useState:bJ,useEffect:SJ,useLayoutEffect:xJ,useDebugValue:EJ}=Sh;function CJ(e,t,n){const r=t(),[{inst:i},a]=bJ({inst:{value:r,getSnapshot:t}});return xJ(()=>{i.value=r,i.getSnapshot=t,ex(i)&&a({inst:i})},[e,r,t]),SJ(()=>(ex(i)&&a({inst:i}),e(()=>{ex(i)&&a({inst:i})})),[e]),EJ(r),r}function ex(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!wJ(n,r)}catch{return!0}}function TJ(e,t,n){return t()}const RJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AJ=!RJ,PJ=AJ?TJ:CJ,OJ="useSyncExternalStore"in Sh?(e=>e.useSyncExternalStore)(Sh):PJ,LP=V.createContext(null),by=V.createContext(null),Sy=V.createContext(null),Gw=V.createContext(null),ac=V.createContext({outlet:null,matches:[]}),dq=V.createContext(null);function LJ(e,t){let{relative:n}=t===void 0?{}:t;Fh()||bn(!1);let{basename:r,navigator:i}=V.useContext(Sy),{hash:a,pathname:o,search:s}=MP(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ru([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Fh(){return V.useContext(Gw)!=null}function jh(){return Fh()||bn(!1),V.useContext(Gw).location}function $f(){Fh()||bn(!1);let{basename:e,navigator:t}=V.useContext(Sy),{matches:n}=V.useContext(ac),{pathname:r}=jh(),i=JSON.stringify(Kw(n).map(s=>s.pathnameBase)),a=V.useRef(!1);return V.useEffect(()=>{a.current=!0}),V.useCallback(function(s,l){if(l===void 0&&(l={}),!a.current)return;if(typeof s=="number"){t.go(s);return}let c=PP(s,JSON.parse(i),r,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:Ru([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,i,r])}const IJ=V.createContext(null);function MJ(e){let t=V.useContext(ac).outlet;return t&&V.createElement(IJ.Provider,{value:e},t)}function IP(){let{matches:e}=V.useContext(ac),t=e[e.length-1];return t?t.params:{}}function MP(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=V.useContext(ac),{pathname:i}=jh(),a=JSON.stringify(Kw(r).map(o=>o.pathnameBase));return V.useMemo(()=>PP(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function DJ(e,t){Fh()||bn(!1);let{navigator:n}=V.useContext(Sy),r=V.useContext(by),{matches:i}=V.useContext(ac),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=jh(),c;if(t){var d;let _=typeof t=="string"?$u(t):t;s==="/"||(d=_.pathname)!=null&&d.startsWith(s)||bn(!1),c=_}else c=l;let h=c.pathname||"/",g=s==="/"?h:h.slice(s.length)||"/",y=vm(e,{pathname:g}),v=jJ(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Ru([s,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?s:Ru([s,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return t&&v?V.createElement(Gw.Provider,{value:{location:iw({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ci.Pop}},v):v}function kJ(){let e=qJ(),t=iq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,null)}class NJ extends V.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(ac.Provider,{value:this.props.routeContext},V.createElement(dq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FJ(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(LP);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ac.Provider,{value:t},r)}function jJ(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||bn(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,s)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||V.createElement(kJ,null):null,d=t.concat(r.slice(0,s+1)),h=()=>V.createElement(FJ,{match:o,routeContext:{outlet:a,matches:d}},l?c:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||s===0)?V.createElement(NJ,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var fk;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(fk||(fk={}));var aw;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(aw||(aw={}));function $J(e){let t=V.useContext(by);return t||bn(!1),t}function BJ(e){let t=V.useContext(ac);return t||bn(!1),t}function UJ(e){let t=BJ(),n=t.matches[t.matches.length-1];return n.route.id||bn(!1),n.route.id}function qJ(){var e;let t=V.useContext(dq),n=$J(aw.UseRouteError),r=UJ(aw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function zJ(e){let{fallbackElement:t,router:n}=e,r=OJ(n.subscribe,()=>n.state,()=>n.state),i=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,s,l)=>n.navigate(o,{state:s,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,s,l)=>n.navigate(o,{replace:!0,state:s,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return V.createElement(V.Fragment,null,V.createElement(LP.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},V.createElement(by.Provider,{value:r},V.createElement(VJ,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?V.createElement(KJ,null):t))),null)}function DP(e){let{to:t,replace:n,state:r,relative:i}=e;Fh()||bn(!1);let a=V.useContext(by),o=$f();return V.useEffect(()=>{a&&a.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Ww(e){return MJ(e.context)}function HJ(e){bn(!1)}function VJ(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ci.Pop,navigator:a,static:o=!1}=e;Fh()&&bn(!1);let s=t.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=$u(r));let{pathname:c="/",search:d="",hash:h="",state:g=null,key:y="default"}=r,v=V.useMemo(()=>{let _=rq(c,s);return _==null?null:{pathname:_,search:d,hash:h,state:g,key:y}},[s,c,d,h,g,y]);return v==null?null:V.createElement(Sy.Provider,{value:l},V.createElement(Gw.Provider,{children:n,value:{location:v,navigationType:i}}))}function KJ(e){let{children:t,location:n}=e,r=V.useContext(LP),i=r&&!t?r.router.routes:hA(t);return DJ(i,n)}var dk;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(dk||(dk={}));new Promise(()=>{});function hA(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;if(r.type===V.Fragment){n.push.apply(n,hA(r.props.children,t));return}r.type!==HJ&&bn(!1),!r.props.index||!r.props.children||bn(!1);let a=[...t,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=hA(r.props.children,a)),n.push(o)}),n}function hq(e){return e.map(t=>{let n=iw({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=hq(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gm.apply(this,arguments)}function pq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WJ(e,t){return e.button===0&&(!t||t==="_self")&&!GJ(e)}function pA(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function QJ(e,t){let n=pA(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const ZJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],JJ=["aria-current","caseSensitive","className","end","style","to","children"];function XJ(e,t){return fJ({basename:void 0,history:IZ({window:void 0}),hydrationData:YJ(),routes:hq(e)}).initialize()}function YJ(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Gm({},t,{errors:eX(t.errors)})),t}function eX(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new OP(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const tX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qo=V.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d}=t,h=pq(t,ZJ),g=typeof c=="string"?c:Ds(c),y=/^[a-z+]+:\/\//i.test(g)||g.startsWith("//"),v=g,_=!1;if(tX&&y){let R=new URL(window.location.href),P=g.startsWith("//")?new URL(R.protocol+g):new URL(g);P.origin===R.origin?v=P.pathname+P.search+P.hash:_=!0}let S=LJ(v,{relative:i}),w=rX(v,{replace:o,state:s,target:l,preventScrollReset:d,relative:i});function x(R){r&&r(R),R.defaultPrevented||w(R)}return V.createElement("a",Gm({},h,{href:y?g:S,onClick:_||a?r:x,ref:n,target:l}))}),nX=V.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,children:c}=t,d=pq(t,JJ),h=MP(l,{relative:d.relative}),g=jh(),y=V.useContext(by),{navigator:v}=V.useContext(Sy),_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,S=g.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase());let x=S===_||!o&&S.startsWith(_)&&S.charAt(_.length)==="/",R=w!=null&&(w===_||!o&&w.startsWith(_)&&w.charAt(_.length)==="/"),P=x?r:void 0,O;typeof a=="function"?O=a({isActive:x,isPending:R}):O=[a,x?"active":null,R?"pending":null].filter(Boolean).join(" ");let D=typeof s=="function"?s({isActive:x,isPending:R}):s;return V.createElement(Qo,Gm({},d,{"aria-current":P,className:O,ref:n,style:D,to:l}),typeof c=="function"?c({isActive:x,isPending:R}):c)});var hk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(hk||(hk={}));var pk;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pk||(pk={}));function rX(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=t===void 0?{}:t,s=$f(),l=jh(),c=MP(e,{relative:o});return V.useCallback(d=>{if(WJ(d,n)){d.preventDefault();let h=r!==void 0?r:Ds(l)===Ds(c);s(e,{replace:h,state:i,preventScrollReset:a,relative:o})}},[l,s,c,r,i,n,e,a,o])}function iX(e){let t=V.useRef(pA(e)),n=V.useRef(!1),r=jh(),i=V.useMemo(()=>QJ(r.search,n.current?null:t.current),[r.search]),a=$f(),o=V.useCallback((s,l)=>{const c=pA(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}function I0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I0=function(n){return typeof n}:I0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},I0(e)}function aX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sX(e,t,n){return oX(e.prototype,t),e}function uX(e,t){return t&&(I0(t)==="object"||typeof t=="function")?t:M0(e)}function gA(e){return gA=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gA(e)}function M0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mA(e,t)}function mA(e,t){return mA=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},mA(e,t)}function D0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gq=function(e){lX(t,e);function t(){var n,r;aX(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=uX(this,(n=gA(t)).call.apply(n,[this].concat(a))),D0(M0(r),"state",{bootstrapped:!1}),D0(M0(r),"_unsubscribe",void 0),D0(M0(r),"handlePersistorState",function(){var s=r.props.persistor,l=s.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return sX(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(V.PureComponent);D0(gq,"defaultProps",{children:null,loading:null});const cX="modulepreload",fX=function(e){return"/"+e},gk={},mk=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fX(l),l in gk)return;gk[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cX,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},dX=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},oc=AZ,$r=LZ,mq="https://solidweb.me/solidcouch/community#us",yq="solidcouch",hX="https://service.notifications.tired.bike",pX="https://id.notifications.tired.bike/profile/card#me",vq="simple",_q="",wq="",bq="SolidCouch",gX="0.3.0",k0="06af4ba28495f538643bc09ba1a491ead2d5c0a2",mX=k0==null?void 0:k0.slice(0,7),yk="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",vk="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var _m={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var yX=_m.exports,_k;function vX(){return _k||(_k=1,function(e,t){(function(n,r){r(t)})(yX,function(n){var r="1.9.4";function i(p){var b,I,z,ne;for(I=1,z=arguments.length;I<z;I++){ne=arguments[I];for(b in ne)p[b]=ne[b]}return p}var a=Object.create||function(){function p(){}return function(b){return p.prototype=b,new p}}();function o(p,b){var I=Array.prototype.slice;if(p.bind)return p.bind.apply(p,I.call(arguments,1));var z=I.call(arguments,2);return function(){return p.apply(b,z.length?z.concat(I.call(arguments)):arguments)}}var s=0;function l(p){return"_leaflet_id"in p||(p._leaflet_id=++s),p._leaflet_id}function c(p,b,I){var z,ne,ye,Ge;return Ge=function(){z=!1,ne&&(ye.apply(I,ne),ne=!1)},ye=function(){z?ne=arguments:(p.apply(I,arguments),setTimeout(Ge,b),z=!0)},ye}function d(p,b,I){var z=b[1],ne=b[0],ye=z-ne;return p===z&&I?p:((p-ne)%ye+ye)%ye+ne}function h(){return!1}function g(p,b){if(b===!1)return p;var I=Math.pow(10,b===void 0?6:b);return Math.round(p*I)/I}function y(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function v(p){return y(p).split(/\s+/)}function _(p,b){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?a(p.options):{});for(var I in b)p.options[I]=b[I];return p.options}function S(p,b,I){var z=[];for(var ne in p)z.push(encodeURIComponent(I?ne.toUpperCase():ne)+"="+encodeURIComponent(p[ne]));return(!b||b.indexOf("?")===-1?"?":"&")+z.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function x(p,b){return p.replace(w,function(I,z){var ne=b[z];if(ne===void 0)throw new Error("No value provided for variable "+I);return typeof ne=="function"&&(ne=ne(b)),ne})}var R=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function P(p,b){for(var I=0;I<p.length;I++)if(p[I]===b)return I;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var F=0;function Q(p){var b=+new Date,I=Math.max(0,16-(b-F));return F=b+I,window.setTimeout(p,I)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,q=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function X(p,b,I){if(I&&Y===Q)p.call(b);else return Y.call(window,o(p,b))}function le(p){p&&q.call(window,p)}var te={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:c,wrapNum:d,falseFn:h,formatNum:g,trim:y,splitWords:v,setOptions:_,getParamString:S,template:x,isArray:R,indexOf:P,emptyImageUrl:O,requestFn:Y,cancelFn:q,requestAnimFrame:X,cancelAnimFrame:le};function oe(){}oe.extend=function(p){var b=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=b.__super__=this.prototype,z=a(I);z.constructor=b,b.prototype=z;for(var ne in this)Object.prototype.hasOwnProperty.call(this,ne)&&ne!=="prototype"&&ne!=="__super__"&&(b[ne]=this[ne]);return p.statics&&i(b,p.statics),p.includes&&(he(p.includes),i.apply(null,[z].concat(p.includes))),i(z,p),delete z.statics,delete z.includes,z.options&&(z.options=I.options?a(I.options):{},i(z.options,p.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var ye=0,Ge=z._initHooks.length;ye<Ge;ye++)z._initHooks[ye].call(this)}},b},oe.include=function(p){var b=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=b,this.mergeOptions(p.options)),this},oe.mergeOptions=function(p){return i(this.prototype.options,p),this},oe.addInitHook=function(p){var b=Array.prototype.slice.call(arguments,1),I=typeof p=="function"?p:function(){this[p].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function he(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=R(p)?p:[p];for(var b=0;b<p.length;b++)p[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ve={on:function(p,b,I){if(typeof p=="object")for(var z in p)this._on(z,p[z],b);else{p=v(p);for(var ne=0,ye=p.length;ne<ye;ne++)this._on(p[ne],b,I)}return this},off:function(p,b,I){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var z in p)this._off(z,p[z],b);else{p=v(p);for(var ne=arguments.length===1,ye=0,Ge=p.length;ye<Ge;ye++)ne?this._off(p[ye]):this._off(p[ye],b,I)}return this},_on:function(p,b,I,z){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(p,b,I)===!1){I===this&&(I=void 0);var ne={fn:b,ctx:I};z&&(ne.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(ne)}},_off:function(p,b,I){var z,ne,ye;if(this._events&&(z=this._events[p],!!z)){if(arguments.length===1){if(this._firingCount)for(ne=0,ye=z.length;ne<ye;ne++)z[ne].fn=h;delete this._events[p];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var Ge=this._listens(p,b,I);if(Ge!==!1){var ut=z[Ge];this._firingCount&&(ut.fn=h,this._events[p]=z=z.slice()),z.splice(Ge,1)}}},fire:function(p,b,I){if(!this.listens(p,I))return this;var z=i({},b,{type:p,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var ne=this._events[p];if(ne){this._firingCount=this._firingCount+1||1;for(var ye=0,Ge=ne.length;ye<Ge;ye++){var ut=ne[ye],vt=ut.fn;ut.once&&this.off(p,vt,ut.ctx),vt.call(ut.ctx||this,z)}this._firingCount--}}return I&&this._propagateEvent(z),this},listens:function(p,b,I,z){typeof p!="string"&&console.warn('"string" type argument expected');var ne=b;typeof b!="function"&&(z=!!b,ne=void 0,I=void 0);var ye=this._events&&this._events[p];if(ye&&ye.length&&this._listens(p,ne,I)!==!1)return!0;if(z){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(p,b,I,z))return!0}return!1},_listens:function(p,b,I){if(!this._events)return!1;var z=this._events[p]||[];if(!b)return!!z.length;I===this&&(I=void 0);for(var ne=0,ye=z.length;ne<ye;ne++)if(z[ne].fn===b&&z[ne].ctx===I)return ne;return!1},once:function(p,b,I){if(typeof p=="object")for(var z in p)this._on(z,p[z],b,!0);else{p=v(p);for(var ne=0,ye=p.length;ne<ye;ne++)this._on(p[ne],b,I,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[l(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[l(p)],this},_propagateEvent:function(p){for(var b in this._eventParents)this._eventParents[b].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};ve.addEventListener=ve.on,ve.removeEventListener=ve.clearAllEventListeners=ve.off,ve.addOneTimeEventListener=ve.once,ve.fireEvent=ve.fire,ve.hasEventListeners=ve.listens;var de=oe.extend(ve);function se(p,b,I){this.x=I?Math.round(p):p,this.y=I?Math.round(b):b}var Re=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(p){return this.clone()._add(k(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(k(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new se(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new se(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(p){p=k(p);var b=p.x-this.x,I=p.y-this.y;return Math.sqrt(b*b+I*I)},equals:function(p){return p=k(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=k(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function k(p,b,I){return p instanceof se?p:R(p)?new se(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new se(p.x,p.y):new se(p,b,I)}function re(p,b){if(p)for(var I=b?[p,b]:p,z=0,ne=I.length;z<ne;z++)this.extend(I[z])}re.prototype={extend:function(p){var b,I;if(!p)return this;if(p instanceof se||typeof p[0]=="number"||"x"in p)b=I=k(p);else if(p=ge(p),b=p.min,I=p.max,!b||!I)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=I.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(p){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var b,I;return typeof p[0]=="number"||p instanceof se?p=k(p):p=ge(p),p instanceof re?(b=p.min,I=p.max):b=I=p,b.x>=this.min.x&&I.x<=this.max.x&&b.y>=this.min.y&&I.y<=this.max.y},intersects:function(p){p=ge(p);var b=this.min,I=this.max,z=p.min,ne=p.max,ye=ne.x>=b.x&&z.x<=I.x,Ge=ne.y>=b.y&&z.y<=I.y;return ye&&Ge},overlaps:function(p){p=ge(p);var b=this.min,I=this.max,z=p.min,ne=p.max,ye=ne.x>b.x&&z.x<I.x,Ge=ne.y>b.y&&z.y<I.y;return ye&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var b=this.min,I=this.max,z=Math.abs(b.x-I.x)*p,ne=Math.abs(b.y-I.y)*p;return ge(k(b.x-z,b.y-ne),k(I.x+z,I.y+ne))},equals:function(p){return p?(p=ge(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function ge(p,b){return!p||p instanceof re?p:new re(p,b)}function W(p,b){if(p)for(var I=b?[p,b]:p,z=0,ne=I.length;z<ne;z++)this.extend(I[z])}W.prototype={extend:function(p){var b=this._southWest,I=this._northEast,z,ne;if(p instanceof pe)z=p,ne=p;else if(p instanceof W){if(z=p._southWest,ne=p._northEast,!z||!ne)return this}else return p?this.extend(Te(p)||ee(p)):this;return!b&&!I?(this._southWest=new pe(z.lat,z.lng),this._northEast=new pe(ne.lat,ne.lng)):(b.lat=Math.min(z.lat,b.lat),b.lng=Math.min(z.lng,b.lng),I.lat=Math.max(ne.lat,I.lat),I.lng=Math.max(ne.lng,I.lng)),this},pad:function(p){var b=this._southWest,I=this._northEast,z=Math.abs(b.lat-I.lat)*p,ne=Math.abs(b.lng-I.lng)*p;return new W(new pe(b.lat-z,b.lng-ne),new pe(I.lat+z,I.lng+ne))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof pe||"lat"in p?p=Te(p):p=ee(p);var b=this._southWest,I=this._northEast,z,ne;return p instanceof W?(z=p.getSouthWest(),ne=p.getNorthEast()):z=ne=p,z.lat>=b.lat&&ne.lat<=I.lat&&z.lng>=b.lng&&ne.lng<=I.lng},intersects:function(p){p=ee(p);var b=this._southWest,I=this._northEast,z=p.getSouthWest(),ne=p.getNorthEast(),ye=ne.lat>=b.lat&&z.lat<=I.lat,Ge=ne.lng>=b.lng&&z.lng<=I.lng;return ye&&Ge},overlaps:function(p){p=ee(p);var b=this._southWest,I=this._northEast,z=p.getSouthWest(),ne=p.getNorthEast(),ye=ne.lat>b.lat&&z.lat<I.lat,Ge=ne.lng>b.lng&&z.lng<I.lng;return ye&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,b){return p?(p=ee(p),this._southWest.equals(p.getSouthWest(),b)&&this._northEast.equals(p.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(p,b){return p instanceof W?p:new W(p,b)}function pe(p,b,I){if(isNaN(p)||isNaN(b))throw new Error("Invalid LatLng object: ("+p+", "+b+")");this.lat=+p,this.lng=+b,I!==void 0&&(this.alt=+I)}pe.prototype={equals:function(p,b){if(!p)return!1;p=Te(p);var I=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return I<=(b===void 0?1e-9:b)},toString:function(p){return"LatLng("+g(this.lat,p)+", "+g(this.lng,p)+")"},distanceTo:function(p){return Ae.distance(this,Te(p))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(p){var b=180*p/40075017,I=b/Math.cos(Math.PI/180*this.lat);return ee([this.lat-b,this.lng-I],[this.lat+b,this.lng+I])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function Te(p,b,I){return p instanceof pe?p:R(p)&&typeof p[0]!="object"?p.length===3?new pe(p[0],p[1],p[2]):p.length===2?new pe(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new pe(p.lat,"lng"in p?p.lng:p.lon,p.alt):b===void 0?null:new pe(p,b,I)}var Je={latLngToPoint:function(p,b){var I=this.projection.project(p),z=this.scale(b);return this.transformation._transform(I,z)},pointToLatLng:function(p,b){var I=this.scale(b),z=this.transformation.untransform(p,I);return this.projection.unproject(z)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var b=this.projection.bounds,I=this.scale(p),z=this.transformation.transform(b.min,I),ne=this.transformation.transform(b.max,I);return new re(z,ne)},infinite:!1,wrapLatLng:function(p){var b=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,I=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,z=p.alt;return new pe(I,b,z)},wrapLatLngBounds:function(p){var b=p.getCenter(),I=this.wrapLatLng(b),z=b.lat-I.lat,ne=b.lng-I.lng;if(z===0&&ne===0)return p;var ye=p.getSouthWest(),Ge=p.getNorthEast(),ut=new pe(ye.lat-z,ye.lng-ne),vt=new pe(Ge.lat-z,Ge.lng-ne);return new W(ut,vt)}},Ae=i({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(p,b){var I=Math.PI/180,z=p.lat*I,ne=b.lat*I,ye=Math.sin((b.lat-p.lat)*I/2),Ge=Math.sin((b.lng-p.lng)*I/2),ut=ye*ye+Math.cos(z)*Math.cos(ne)*Ge*Ge,vt=2*Math.atan2(Math.sqrt(ut),Math.sqrt(1-ut));return this.R*vt}}),$e=6378137,Xe={R:$e,MAX_LATITUDE:85.0511287798,project:function(p){var b=Math.PI/180,I=this.MAX_LATITUDE,z=Math.max(Math.min(I,p.lat),-I),ne=Math.sin(z*b);return new se(this.R*p.lng*b,this.R*Math.log((1+ne)/(1-ne))/2)},unproject:function(p){var b=180/Math.PI;return new pe((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*b,p.x*b/this.R)},bounds:function(){var p=$e*Math.PI;return new re([-p,-p],[p,p])}()};function ae(p,b,I,z){if(R(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=b,this._c=I,this._d=z}ae.prototype={transform:function(p,b){return this._transform(p.clone(),b)},_transform:function(p,b){return b=b||1,p.x=b*(this._a*p.x+this._b),p.y=b*(this._c*p.y+this._d),p},untransform:function(p,b){return b=b||1,new se((p.x/b-this._b)/this._a,(p.y/b-this._d)/this._c)}};function H(p,b,I,z){return new ae(p,b,I,z)}var B=i({},Ae,{code:"EPSG:3857",projection:Xe,transformation:function(){var p=.5/(Math.PI*Xe.R);return H(p,.5,-p,.5)}()}),ie=i({},B,{code:"EPSG:900913"});function fe(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function Pe(p,b){var I="",z,ne,ye,Ge,ut,vt;for(z=0,ye=p.length;z<ye;z++){for(ut=p[z],ne=0,Ge=ut.length;ne<Ge;ne++)vt=ut[ne],I+=(ne?"L":"M")+vt.x+" "+vt.y;I+=b?xe.svg?"z":"x":""}return I||"M0 0"}var Ie=document.documentElement.style,tt="ActiveXObject"in window,De=tt&&!document.addEventListener,ot="msLaunchUri"in navigator&&!("documentMode"in document),gt=We("webkit"),_e=We("android"),Be=We("android 2")||We("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=_e&&We("Google")&&at<537&&!("AudioNode"in window),Ee=!!window.opera,J=!ot&&We("chrome"),$=We("gecko")&&!gt&&!Ee&&!tt,K=!J&&We("safari"),G=We("phantom"),ke="OTransition"in Ie,Ze=navigator.platform.indexOf("Win")===0,Fe=tt&&"transition"in Ie,At="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,Mt="MozPerspective"in Ie,Nt=!window.L_DISABLE_3D&&(Fe||At||Mt)&&!ke&&!G,Lt=typeof orientation<"u"||We("mobile"),zt=Lt&&gt,Pr=Lt&&At,hn=!window.PointerEvent&&window.MSPointerEvent,pn=!!(window.PointerEvent||hn),yr="ontouchstart"in window||!!window.TouchEvent,ln=!window.L_NO_TOUCH&&(yr||pn),cn=Lt&&Ee,Dn=Lt&&$,cr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Le=function(){var p=!1;try{var b=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",h,b),window.removeEventListener("testPassiveEventSupport",h,b)}catch{}return p}(),ze=function(){return!!document.createElement("canvas").getContext}(),St=!!(document.createElementNS&&fe("svg").createSVGRect),Ct=!!St&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Dt=!St&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var b=p.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Vn=navigator.platform.indexOf("Mac")===0,Xn=navigator.platform.indexOf("Linux")===0;function We(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var xe={ie:tt,ielt9:De,edge:ot,webkit:gt,android:_e,android23:Be,androidStock:me,opera:Ee,chrome:J,gecko:$,safari:K,phantom:G,opera12:ke,win:Ze,ie3d:Fe,webkit3d:At,gecko3d:Mt,any3d:Nt,mobile:Lt,mobileWebkit:zt,mobileWebkit3d:Pr,msPointer:hn,pointer:pn,touch:ln,touchNative:yr,mobileOpera:cn,mobileGecko:Dn,retina:cr,passiveEvents:Le,canvas:ze,svg:St,vml:Dt,inlineSvg:Ct,mac:Vn,linux:Xn},et=xe.msPointer?"MSPointerDown":"pointerdown",dt=xe.msPointer?"MSPointerMove":"pointermove",rt=xe.msPointer?"MSPointerUp":"pointerup",Tt=xe.msPointer?"MSPointerCancel":"pointercancel",kt={touchstart:et,touchmove:dt,touchend:rt,touchcancel:Tt},Gt={touchstart:zn,touchmove:Tn,touchend:Tn,touchcancel:Tn},Yt={},Ht=!1;function $t(p,b,I){return b==="touchstart"&&Cn(),Gt[b]?(I=Gt[b].bind(this,I),p.addEventListener(kt[b],I,!1),I):(console.warn("wrong event specified:",b),h)}function tn(p,b,I){if(!kt[b]){console.warn("wrong event specified:",b);return}p.removeEventListener(kt[b],I,!1)}function Ln(p){Yt[p.pointerId]=p}function Wt(p){Yt[p.pointerId]&&(Yt[p.pointerId]=p)}function Zt(p){delete Yt[p.pointerId]}function Cn(){Ht||(document.addEventListener(et,Ln,!0),document.addEventListener(dt,Wt,!0),document.addEventListener(rt,Zt,!0),document.addEventListener(Tt,Zt,!0),Ht=!0)}function Tn(p,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var I in Yt)b.touches.push(Yt[I]);b.changedTouches=[b],p(b)}}function zn(p,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&or(b),Tn(p,b)}function Or(p){var b={},I,z;for(z in p)I=p[z],b[z]=I&&I.bind?I.bind(p):I;return p=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Jr=200;function Xr(p,b){p.addEventListener("dblclick",b);var I=0,z;function ne(ye){if(ye.detail!==1){z=ye.detail;return}if(!(ye.pointerType==="mouse"||ye.sourceCapabilities&&!ye.sourceCapabilities.firesTouchEvents)){var Ge=ko(ye);if(!(Ge.some(function(vt){return vt instanceof HTMLLabelElement&&vt.attributes.for})&&!Ge.some(function(vt){return vt instanceof HTMLInputElement||vt instanceof HTMLSelectElement}))){var ut=Date.now();ut-I<=Jr?(z++,z===2&&b(Or(ye))):z=1,I=ut}}}return p.addEventListener("click",ne),{dblclick:b,simDblclick:ne}}function Dr(p,b){p.removeEventListener("dblclick",b.dblclick),p.removeEventListener("click",b.simDblclick)}var Bn=st(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ai=st(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xi=ai==="webkitTransition"||ai==="OTransition"?ai+"End":"transitionend";function T(p){return typeof p=="string"?document.getElementById(p):p}function C(p,b){var I=p.style[b]||p.currentStyle&&p.currentStyle[b];if((!I||I==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(p,null);I=z?z[b]:null}return I==="auto"?null:I}function A(p,b,I){var z=document.createElement(p);return z.className=b||"",I&&I.appendChild(z),z}function N(p){var b=p.parentNode;b&&b.removeChild(p)}function Z(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function ue(p){var b=p.parentNode;b&&b.lastChild!==p&&b.appendChild(p)}function we(p){var b=p.parentNode;b&&b.firstChild!==p&&b.insertBefore(p,b.firstChild)}function Me(p,b){if(p.classList!==void 0)return p.classList.contains(b);var I=Ue(p);return I.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(I)}function Se(p,b){if(p.classList!==void 0)for(var I=v(b),z=0,ne=I.length;z<ne;z++)p.classList.add(I[z]);else if(!Me(p,b)){var ye=Ue(p);Ne(p,(ye?ye+" ":"")+b)}}function Oe(p,b){p.classList!==void 0?p.classList.remove(b):Ne(p,y((" "+Ue(p)+" ").replace(" "+b+" "," ")))}function Ne(p,b){p.className.baseVal===void 0?p.className=b:p.className.baseVal=b}function Ue(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function He(p,b){"opacity"in p.style?p.style.opacity=b:"filter"in p.style&&Ye(p,b)}function Ye(p,b){var I=!1,z="DXImageTransform.Microsoft.Alpha";try{I=p.filters.item(z)}catch{if(b===1)return}b=Math.round(b*100),I?(I.Enabled=b!==100,I.Opacity=b):p.style.filter+=" progid:"+z+"(opacity="+b+")"}function st(p){for(var b=document.documentElement.style,I=0;I<p.length;I++)if(p[I]in b)return p[I];return!1}function ht(p,b,I){var z=b||new se(0,0);p.style[Bn]=(xe.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(I?" scale("+I+")":"")}function lt(p,b){p._leaflet_pos=b,xe.any3d?ht(p,b):(p.style.left=b.x+"px",p.style.top=b.y+"px")}function be(p){return p._leaflet_pos||new se(0,0)}var je,qe,Ke;if("onselectstart"in document)je=function(){Qt(window,"selectstart",or)},qe=function(){gn(window,"selectstart",or)};else{var ct=st(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);je=function(){if(ct){var p=document.documentElement.style;Ke=p[ct],p[ct]="none"}},qe=function(){ct&&(document.documentElement.style[ct]=Ke,Ke=void 0)}}function yt(){Qt(window,"dragstart",or)}function Ut(){gn(window,"dragstart",or)}var Rt,mn;function jt(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Vt(),Rt=p,mn=p.style.outlineStyle,p.style.outlineStyle="none",Qt(window,"keydown",Vt))}function Vt(){Rt&&(Rt.style.outlineStyle=mn,Rt=void 0,mn=void 0,gn(window,"keydown",Vt))}function Hn(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Fn(p){var b=p.getBoundingClientRect();return{x:b.width/p.offsetWidth||1,y:b.height/p.offsetHeight||1,boundingClientRect:b}}var Un={__proto__:null,TRANSFORM:Bn,TRANSITION:ai,TRANSITION_END:Xi,get:T,getStyle:C,create:A,remove:N,empty:Z,toFront:ue,toBack:we,hasClass:Me,addClass:Se,removeClass:Oe,setClass:Ne,getClass:Ue,setOpacity:He,testProp:st,setTransform:ht,setPosition:lt,getPosition:be,get disableTextSelection(){return je},get enableTextSelection(){return qe},disableImageDrag:yt,enableImageDrag:Ut,preventOutline:jt,restoreOutline:Vt,getSizedParentNode:Hn,getScale:Fn};function Qt(p,b,I,z){if(b&&typeof b=="object")for(var ne in b)_r(p,ne,b[ne],I);else{b=v(b);for(var ye=0,Ge=b.length;ye<Ge;ye++)_r(p,b[ye],I,z)}return this}var Wn="_leaflet_events";function gn(p,b,I,z){if(arguments.length===1)Yn(p),delete p[Wn];else if(b&&typeof b=="object")for(var ne in b)fr(p,ne,b[ne],I);else if(b=v(b),arguments.length===2)Yn(p,function(ut){return P(b,ut)!==-1});else for(var ye=0,Ge=b.length;ye<Ge;ye++)fr(p,b[ye],I,z);return this}function Yn(p,b){for(var I in p[Wn]){var z=I.split(/\d/)[0];(!b||b(z))&&fr(p,z,null,null,I)}}var vr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _r(p,b,I,z){var ne=b+l(I)+(z?"_"+l(z):"");if(p[Wn]&&p[Wn][ne])return this;var ye=function(ut){return I.call(z||p,ut||window.event)},Ge=ye;!xe.touchNative&&xe.pointer&&b.indexOf("touch")===0?ye=$t(p,b,ye):xe.touch&&b==="dblclick"?ye=Xr(p,ye):"addEventListener"in p?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?p.addEventListener(vr[b]||b,ye,xe.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(ye=function(ut){ut=ut||window.event,ea(p,ut)&&Ge(ut)},p.addEventListener(vr[b],ye,!1)):p.addEventListener(b,Ge,!1):p.attachEvent("on"+b,ye),p[Wn]=p[Wn]||{},p[Wn][ne]=ye}function fr(p,b,I,z,ne){ne=ne||b+l(I)+(z?"_"+l(z):"");var ye=p[Wn]&&p[Wn][ne];if(!ye)return this;!xe.touchNative&&xe.pointer&&b.indexOf("touch")===0?tn(p,b,ye):xe.touch&&b==="dblclick"?Dr(p,ye):"removeEventListener"in p?p.removeEventListener(vr[b]||b,ye,!1):p.detachEvent("on"+b,ye),p[Wn][ne]=null}function Ti(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Yi(p){return _r(p,"wheel",Ti),this}function Sa(p){return Qt(p,"mousedown touchstart dblclick contextmenu",Ti),p._leaflet_disable_click=!0,this}function or(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function zi(p){return or(p),Ti(p),this}function ko(p){if(p.composedPath)return p.composedPath();for(var b=[],I=p.target;I;)b.push(I),I=I.parentNode;return b}function sr(p,b){if(!b)return new se(p.clientX,p.clientY);var I=Fn(b),z=I.boundingClientRect;return new se((p.clientX-z.left)/I.x-b.clientLeft,(p.clientY-z.top)/I.y-b.clientTop)}var qr=xe.linux&&xe.chrome?window.devicePixelRatio:xe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function co(p){return xe.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/qr:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function ea(p,b){var I=b.relatedTarget;if(!I)return!0;try{for(;I&&I!==p;)I=I.parentNode}catch{return!1}return I!==p}var Wu={__proto__:null,on:Qt,off:gn,stopPropagation:Ti,disableScrollPropagation:Yi,disableClickPropagation:Sa,preventDefault:or,stop:zi,getPropagationPath:ko,getMousePosition:sr,getWheelDelta:co,isExternalTarget:ea,addListener:Qt,removeListener:gn},fo=de.extend({run:function(p,b,I,z){this.stop(),this._el=p,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=be(p),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(p){var b=+new Date-this._startTime,I=this._duration*1e3;b<I?this._runFrame(this._easeOut(b/I),p):(this._runFrame(1),this._complete())},_runFrame:function(p,b){var I=this._startPos.add(this._offset.multiplyBy(p));b&&I._round(),lt(this._el,I),this.fire("step")},_complete:function(){le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),_n=de.extend({options:{crs:B,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,b){b=_(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(Te(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ai&&xe.any3d&&!xe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,b,I){if(b=b===void 0?this._zoom:this._limitZoom(b),p=this._limitCenter(Te(p),b,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=i({animate:I.animate},I.zoom),I.pan=i({animate:I.animate,duration:I.duration},I.pan));var z=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,b,I.zoom):this._tryAnimatedPan(p,I.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(p,b,I.pan&&I.pan.noMoveStart),this},setZoom:function(p,b){return this._loaded?this.setView(this.getCenter(),p,{zoom:b}):(this._zoom=p,this)},zoomIn:function(p,b){return p=p||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,b)},zoomOut:function(p,b){return p=p||(xe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,b)},setZoomAround:function(p,b,I){var z=this.getZoomScale(b),ne=this.getSize().divideBy(2),ye=p instanceof se?p:this.latLngToContainerPoint(p),Ge=ye.subtract(ne).multiplyBy(1-1/z),ut=this.containerPointToLatLng(ne.add(Ge));return this.setView(ut,b,{zoom:I})},_getBoundsCenterZoom:function(p,b){b=b||{},p=p.getBounds?p.getBounds():ee(p);var I=k(b.paddingTopLeft||b.padding||[0,0]),z=k(b.paddingBottomRight||b.padding||[0,0]),ne=this.getBoundsZoom(p,!1,I.add(z));if(ne=typeof b.maxZoom=="number"?Math.min(b.maxZoom,ne):ne,ne===1/0)return{center:p.getCenter(),zoom:ne};var ye=z.subtract(I).divideBy(2),Ge=this.project(p.getSouthWest(),ne),ut=this.project(p.getNorthEast(),ne),vt=this.unproject(Ge.add(ut).divideBy(2).add(ye),ne);return{center:vt,zoom:ne}},fitBounds:function(p,b){if(p=ee(p),!p.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(p,b);return this.setView(I.center,I.zoom,b)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,b){return this.setView(p,this._zoom,{pan:b})},panBy:function(p,b){if(p=k(p).round(),b=b||{},!p.x&&!p.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){Se(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,I,b.duration||.25,b.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,b,I){if(I=I||{},I.animate===!1||!xe.any3d)return this.setView(p,b,I);this._stop();var z=this.project(this.getCenter()),ne=this.project(p),ye=this.getSize(),Ge=this._zoom;p=Te(p),b=b===void 0?Ge:b;var ut=Math.max(ye.x,ye.y),vt=ut*this.getZoomScale(Ge,b),xt=ne.distanceTo(z)||1,qt=1.42,an=qt*qt;function yn(br){var Ys=br?-1:1,Ec=br?vt:ut,sd=vt*vt-ut*ut+Ys*an*an*xt*xt,uv=2*Ec*an*xt,ud=sd/uv,ds=Math.sqrt(ud*ud+1)-ud,lv=ds<1e-9?-18:Math.log(ds);return lv}function Yr(br){return(Math.exp(br)-Math.exp(-br))/2}function Ir(br){return(Math.exp(br)+Math.exp(-br))/2}function bi(br){return Yr(br)/Ir(br)}var Ri=yn(0);function fs(br){return ut*(Ir(Ri)/Ir(Ri+qt*br))}function av(br){return ut*(Ir(Ri)*bi(Ri+qt*br)-Yr(Ri))/an}function od(br){return 1-Math.pow(1-br,1.5)}var ov=Date.now(),il=(yn(1)-Ri)/qt,sv=I.duration?1e3*I.duration:1e3*il*.8;function Xs(){var br=(Date.now()-ov)/sv,Ys=od(br)*il;br<=1?(this._flyToFrame=X(Xs,this),this._move(this.unproject(z.add(ne.subtract(z).multiplyBy(av(Ys)/xt)),Ge),this.getScaleZoom(ut/fs(Ys),Ge),{flyTo:!0})):this._move(p,b)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),Xs.call(this),this},flyToBounds:function(p,b){var I=this._getBoundsCenterZoom(p,b);return this.flyTo(I.center,I.zoom,b)},setMaxBounds:function(p){return p=ee(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var b=this.options.minZoom;return this.options.minZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var b=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&b!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,b){this._enforcingBounds=!0;var I=this.getCenter(),z=this._limitCenter(I,this._zoom,ee(p));return I.equals(z)||this.panTo(z,b),this._enforcingBounds=!1,this},panInside:function(p,b){b=b||{};var I=k(b.paddingTopLeft||b.padding||[0,0]),z=k(b.paddingBottomRight||b.padding||[0,0]),ne=this.project(this.getCenter()),ye=this.project(p),Ge=this.getPixelBounds(),ut=ge([Ge.min.add(I),Ge.max.subtract(z)]),vt=ut.getSize();if(!ut.contains(ye)){this._enforcingBounds=!0;var xt=ye.subtract(ut.getCenter()),qt=ut.extend(ye).getSize().subtract(vt);ne.x+=xt.x<0?-qt.x:qt.x,ne.y+=xt.y<0?-qt.y:qt.y,this.panTo(this.unproject(ne),b),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),z=b.divideBy(2).round(),ne=I.divideBy(2).round(),ye=z.subtract(ne);return!ye.x&&!ye.y?this:(p.animate&&p.pan?this.panBy(ye):(p.pan&&this._rawPanBy(ye),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=o(this._handleGeolocationResponse,this),I=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,I,p):navigator.geolocation.getCurrentPosition(b,I,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var b=p.code,I=p.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var b=p.coords.latitude,I=p.coords.longitude,z=new pe(b,I),ne=z.toBounds(p.coords.accuracy*2),ye=this._locateOptions;if(ye.setView){var Ge=this.getBoundsZoom(ne);this.setView(z,ye.maxZoom?Math.min(Ge,ye.maxZoom):Ge)}var ut={latlng:z,bounds:ne,timestamp:p.timestamp};for(var vt in p.coords)typeof p.coords[vt]=="number"&&(ut[vt]=p.coords[vt]);this.fire("locationfound",ut)}},addHandler:function(p,b){if(!b)return this;var I=this[p]=new b(this);return this._handlers.push(I),this.options[p]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)N(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,b){var I="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),z=A("div",I,b||this._mapPane);return p&&(this._panes[p]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),b=this.unproject(p.getBottomLeft()),I=this.unproject(p.getTopRight());return new W(b,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,b,I){p=ee(p),I=k(I||[0,0]);var z=this.getZoom()||0,ne=this.getMinZoom(),ye=this.getMaxZoom(),Ge=p.getNorthWest(),ut=p.getSouthEast(),vt=this.getSize().subtract(I),xt=ge(this.project(ut,z),this.project(Ge,z)).getSize(),qt=xe.any3d?this.options.zoomSnap:1,an=vt.x/xt.x,yn=vt.y/xt.y,Yr=b?Math.max(an,yn):Math.min(an,yn);return z=this.getScaleZoom(Yr,z),qt&&(z=Math.round(z/(qt/100))*(qt/100),z=b?Math.ceil(z/qt)*qt:Math.floor(z/qt)*qt),Math.max(ne,Math.min(ye,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,b){var I=this._getTopLeftPoint(p,b);return new re(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,b){var I=this.options.crs;return b=b===void 0?this._zoom:b,I.scale(p)/I.scale(b)},getScaleZoom:function(p,b){var I=this.options.crs;b=b===void 0?this._zoom:b;var z=I.zoom(p*I.scale(b));return isNaN(z)?1/0:z},project:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(Te(p),b)},unproject:function(p,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(k(p),b)},layerPointToLatLng:function(p){var b=k(p).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(p){var b=this.project(Te(p))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(Te(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(ee(p))},distance:function(p,b){return this.options.crs.distance(Te(p),Te(b))},containerPointToLayerPoint:function(p){return k(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return k(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var b=this.containerPointToLayerPoint(k(p));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(p)))},mouseEventToContainerPoint:function(p){return sr(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var b=this._container=T(p);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(b,"scroll",this._onScroll,this),this._containerId=l(b)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&xe.any3d,Se(p,"leaflet-container"+(xe.touch?" leaflet-touch":"")+(xe.retina?" leaflet-retina":"")+(xe.ielt9?" leaflet-oldie":"")+(xe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=C(p,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),lt(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Se(p.markerPane,"leaflet-zoom-hide"),Se(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,b,I){lt(this._mapPane,new se(0,0));var z=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var ne=this._zoom!==b;this._moveStart(ne,I)._move(p,b)._moveEnd(ne),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(p,b){return p&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(p,b,I,z){b===void 0&&(b=this._zoom);var ne=this._zoom!==b;return this._zoom=b,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),z?I&&I.pinch&&this.fire("zoom",I):((ne||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){lt(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[l(this._container)]=this;var b=p?gn:Qt;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),xe.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){le(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,b){for(var I=[],z,ne=b==="mouseout"||b==="mouseover",ye=p.target||p.srcElement,Ge=!1;ye;){if(z=this._targets[l(ye)],z&&(b==="click"||b==="preclick")&&this._draggableMoved(z)){Ge=!0;break}if(z&&z.listens(b,!0)&&(ne&&!ea(ye,p)||(I.push(z),ne))||ye===this._container)break;ye=ye.parentNode}return!I.length&&!Ge&&!ne&&this.listens(b,!0)&&(I=[this]),I},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var b=p.target||p.srcElement;if(!(!this._loaded||b._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(b))){var I=p.type;I==="mousedown"&&jt(b),this._fireDOMEvent(p,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,b,I){if(p.type==="click"){var z=i({},p);z.type="preclick",this._fireDOMEvent(z,z.type,I)}var ne=this._findEventTargets(p,b);if(I){for(var ye=[],Ge=0;Ge<I.length;Ge++)I[Ge].listens(b,!0)&&ye.push(I[Ge]);ne=ye.concat(ne)}if(ne.length){b==="contextmenu"&&or(p);var ut=ne[0],vt={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var xt=ut.getLatLng&&(!ut._radius||ut._radius<=10);vt.containerPoint=xt?this.latLngToContainerPoint(ut.getLatLng()):this.mouseEventToContainerPoint(p),vt.layerPoint=this.containerPointToLayerPoint(vt.containerPoint),vt.latlng=xt?ut.getLatLng():this.layerPointToLatLng(vt.layerPoint)}for(Ge=0;Ge<ne.length;Ge++)if(ne[Ge].fire(b,vt,!0),vt.originalEvent._stopped||ne[Ge].options.bubblingMouseEvents===!1&&P(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,b=this._handlers.length;p<b;p++)this._handlers[p].disable()},whenReady:function(p,b){return this._loaded?p.call(b||this,{target:this}):this.on("load",p,b),this},_getMapPanePos:function(){return be(this._mapPane)||new se(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,b){var I=p&&b!==void 0?this._getNewPixelOrigin(p,b):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,b){var I=this.getSize()._divideBy(2);return this.project(p,b)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,b,I){var z=this._getNewPixelOrigin(I,b);return this.project(p,b)._subtract(z)},_latLngBoundsToNewLayerBounds:function(p,b,I){var z=this._getNewPixelOrigin(I,b);return ge([this.project(p.getSouthWest(),b)._subtract(z),this.project(p.getNorthWest(),b)._subtract(z),this.project(p.getSouthEast(),b)._subtract(z),this.project(p.getNorthEast(),b)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,b,I){if(!I)return p;var z=this.project(p,b),ne=this.getSize().divideBy(2),ye=new re(z.subtract(ne),z.add(ne)),Ge=this._getBoundsOffset(ye,I,b);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?p:this.unproject(z.add(Ge),b)},_limitOffset:function(p,b){if(!b)return p;var I=this.getPixelBounds(),z=new re(I.min.add(p),I.max.add(p));return p.add(this._getBoundsOffset(z,b))},_getBoundsOffset:function(p,b,I){var z=ge(this.project(b.getNorthEast(),I),this.project(b.getSouthWest(),I)),ne=z.min.subtract(p.min),ye=z.max.subtract(p.max),Ge=this._rebound(ne.x,-ye.x),ut=this._rebound(ne.y,-ye.y);return new se(Ge,ut)},_rebound:function(p,b){return p+b>0?Math.round(p-b)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(b))},_limitZoom:function(p){var b=this.getMinZoom(),I=this.getMaxZoom(),z=xe.any3d?this.options.zoomSnap:1;return z&&(p=Math.round(p/z)*z),Math.max(b,Math.min(I,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,b){var I=this._getCenterOffset(p)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,b),!0)},_createAnimProxy:function(){var p=this._proxy=A("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(b){var I=Bn,z=this._proxy.style[I];ht(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),z===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),b=this.getZoom();ht(this._proxy,this.project(p,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,b,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(b),ne=this._getCenterOffset(p)._divideBy(1-1/z);return I.animate!==!0&&!this.getSize().contains(ne)?!1:(X(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(p,b,!0)},this),!0)},_animateZoom:function(p,b,I,z){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=b,Se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:b,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Na(p,b){return new _n(p,b)}var dr=oe.extend({options:{position:"topright"},initialize:function(p){_(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var b=this._map;return b&&b.removeControl(this),this.options.position=p,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var b=this._container=this.onAdd(p),I=this.getPosition(),z=p._controlCorners[I];return Se(b,"leaflet-control"),I.indexOf("bottom")!==-1?z.insertBefore(b,z.firstChild):z.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Hi=function(p){return new dr(p)};_n.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},b="leaflet-",I=this._controlContainer=A("div",b+"control-container",this._container);function z(ne,ye){var Ge=b+ne+" "+b+ye;p[ne+ye]=A("div",Ge,I)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)N(this._controlCorners[p]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xa=dr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,b,I,z){return I<z?-1:z<I?1:0}},initialize:function(p,b,I){_(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in p)this._addLayer(p[z],z);for(z in b)this._addLayer(b[z],z,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return dr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,b){return this._addLayer(p,b),this._map?this._update():this},addOverlay:function(p,b){return this._addLayer(p,b,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var b=this._getLayer(l(p));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){Se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",b=this._container=A("div",p),I=this.options.collapsed;b.setAttribute("aria-haspopup",!0),Sa(b),Yi(b);var z=this._section=A("section",p+"-list");I&&(this._map.on("click",this.collapse,this),Qt(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ne=this._layersLink=A("a",p+"-toggle",b);ne.href="#",ne.title="Layers",ne.setAttribute("role","button"),Qt(ne,{keydown:function(ye){ye.keyCode===13&&this._expandSafely()},click:function(ye){or(ye),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=A("div",p+"-base",z),this._separator=A("div",p+"-separator",z),this._overlaysList=A("div",p+"-overlays",z),b.appendChild(z)},_getLayer:function(p){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&l(this._layers[b].layer)===p)return this._layers[b]},_addLayer:function(p,b,I){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:b,overlay:I}),this.options.sortLayers&&this._layers.sort(o(function(z,ne){return this.options.sortFunction(z.layer,ne.layer,z.name,ne.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Z(this._baseLayersList),Z(this._overlaysList),this._layerControlInputs=[];var p,b,I,z,ne=0;for(I=0;I<this._layers.length;I++)z=this._layers[I],this._addItem(z),b=b||z.overlay,p=p||!z.overlay,ne+=z.overlay?0:1;return this.options.hideSingleBase&&(p=p&&ne>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=b&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var b=this._getLayer(l(p.target)),I=b.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;I&&this._map.fire(I,b)},_createRadioElement:function(p,b){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(b?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=I,z.firstChild},_addItem:function(p){var b=document.createElement("label"),I=this._map.hasLayer(p.layer),z;p.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=I):z=this._createRadioElement("leaflet-base-layers_"+l(this),I),this._layerControlInputs.push(z),z.layerId=l(p.layer),Qt(z,"click",this._onInputClick,this);var ne=document.createElement("span");ne.innerHTML=" "+p.name;var ye=document.createElement("span");b.appendChild(ye),ye.appendChild(z),ye.appendChild(ne);var Ge=p.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,b,I,z=[],ne=[];this._handlingClick=!0;for(var ye=p.length-1;ye>=0;ye--)b=p[ye],I=this._getLayer(b.layerId).layer,b.checked?z.push(I):b.checked||ne.push(I);for(ye=0;ye<ne.length;ye++)this._map.hasLayer(ne[ye])&&this._map.removeLayer(ne[ye]);for(ye=0;ye<z.length;ye++)this._map.hasLayer(z[ye])||this._map.addLayer(z[ye]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,b,I,z=this._map.getZoom(),ne=p.length-1;ne>=0;ne--)b=p[ne],I=this._getLayer(b.layerId).layer,b.disabled=I.options.minZoom!==void 0&&z<I.options.minZoom||I.options.maxZoom!==void 0&&z>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Qt(p,"click",or),this.expand();var b=this;setTimeout(function(){gn(p,"click",or),b._preventClick=!1})}}),hr=function(p,b,I){return new xa(p,b,I)},ta=dr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var b="leaflet-control-zoom",I=A("div",b+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,b+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,b+"-out",I,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,b,I,z,ne){var ye=A("a",I,z);return ye.innerHTML=p,ye.href="#",ye.title=b,ye.setAttribute("role","button"),ye.setAttribute("aria-label",b),Sa(ye),Qt(ye,"click",zi),Qt(ye,"click",ne,this),Qt(ye,"click",this._refocusOnMap,this),ye},_updateDisabled:function(){var p=this._map,b="leaflet-disabled";Oe(this._zoomInButton,b),Oe(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Se(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Se(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});_n.mergeOptions({zoomControl:!0}),_n.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ta,this.addControl(this.zoomControl))});var ho=function(p){return new ta(p)},Lr=dr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var b="leaflet-control-scale",I=A("div",b),z=this.options;return this._addScales(z,b+"-line",I),p.on(z.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),I},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,b,I){p.metric&&(this._mScale=A("div",b,I)),p.imperial&&(this._iScale=A("div",b,I))},_update:function(){var p=this._map,b=p.getSize().y/2,I=p.distance(p.containerPointToLatLng([0,b]),p.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(I)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var b=this._getRoundNum(p),I=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,I,b/p)},_updateImperial:function(p){var b=p*3.2808399,I,z,ne;b>5280?(I=b/5280,z=this._getRoundNum(I),this._updateScale(this._iScale,z+" mi",z/I)):(ne=this._getRoundNum(b),this._updateScale(this._iScale,ne+" ft",ne/b))},_updateScale:function(p,b,I){p.style.width=Math.round(this.options.maxWidth*I)+"px",p.innerHTML=b},_getRoundNum:function(p){var b=Math.pow(10,(Math.floor(p)+"").length-1),I=p/b;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,b*I}}),dc=function(p){return new Lr(p)},No='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Fa=dr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xe.inlineSvg?No+" ":"")+"Leaflet</a>"},initialize:function(p){_(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=A("div","leaflet-control-attribution"),Sa(this._container);for(var b in p._layers)p._layers[b].getAttribution&&this.addAttribution(p._layers[b].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var b in this._attributions)this._attributions[b]&&p.push(b);var I=[];this.options.prefix&&I.push(this.options.prefix),p.length&&I.push(p.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});_n.mergeOptions({attributionControl:!0}),_n.addInitHook(function(){this.options.attributionControl&&new Fa().addTo(this)});var fp=function(p){return new Fa(p)};dr.Layers=xa,dr.Zoom=ta,dr.Scale=Lr,dr.Attribution=Fa,Hi.layers=hr,Hi.zoom=ho,Hi.scale=dc,Hi.attribution=fp;var na=oe.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});na.addTo=function(p,b){return p.addHandler(b,this),this};var Zf={Events:ve},zy=xe.touch?"touchstart mousedown":"mousedown",cs=de.extend({options:{clickTolerance:3},initialize:function(p,b,I,z){_(this,z),this._element=p,this._dragStartTarget=b||p,this._preventOutline=I},enable:function(){this._enabled||(Qt(this._dragStartTarget,zy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cs._dragging===this&&this.finishDrag(!0),gn(this._dragStartTarget,zy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Me(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){cs._dragging===this&&this.finishDrag();return}if(!(cs._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(cs._dragging=this,this._preventOutline&&jt(this._element),yt(),je(),!this._moving)){this.fire("down");var b=p.touches?p.touches[0]:p,I=Hn(this._element);this._startPoint=new se(b.clientX,b.clientY),this._startPos=be(this._element),this._parentScale=Fn(I);var z=p.type==="mousedown";Qt(document,z?"mousemove":"touchmove",this._onMove,this),Qt(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var b=p.touches&&p.touches.length===1?p.touches[0]:p,I=new se(b.clientX,b.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,or(p),this._moved||(this.fire("dragstart"),this._moved=!0,Se(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),lt(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),gn(document,"mousemove touchmove",this._onMove,this),gn(document,"mouseup touchend touchcancel",this._onUp,this),Ut(),qe();var b=this._moved&&this._moving;this._moving=!1,cs._dragging=!1,b&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Hy(p,b,I){var z,ne=[1,4,2,8],ye,Ge,ut,vt,xt,qt,an,yn;for(ye=0,qt=p.length;ye<qt;ye++)p[ye]._code=Us(p[ye],b);for(ut=0;ut<4;ut++){for(an=ne[ut],z=[],ye=0,qt=p.length,Ge=qt-1;ye<qt;Ge=ye++)vt=p[ye],xt=p[Ge],vt._code&an?xt._code&an||(yn=Xf(xt,vt,an,b,I),yn._code=Us(yn,b),z.push(yn)):(xt._code&an&&(yn=Xf(xt,vt,an,b,I),yn._code=Us(yn,b),z.push(yn)),z.push(vt));p=z}return p}function Jf(p,b){var I,z,ne,ye,Ge,ut,vt,xt,qt;if(!p||p.length===0)throw new Error("latlngs not passed");_i(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var an=Te([0,0]),yn=ee(p),Yr=yn.getNorthWest().distanceTo(yn.getSouthWest())*yn.getNorthEast().distanceTo(yn.getNorthWest());Yr<1700&&(an=dp(p));var Ir=p.length,bi=[];for(I=0;I<Ir;I++){var Ri=Te(p[I]);bi.push(b.project(Te([Ri.lat-an.lat,Ri.lng-an.lng])))}for(ut=vt=xt=0,I=0,z=Ir-1;I<Ir;z=I++)ne=bi[I],ye=bi[z],Ge=ne.y*ye.x-ye.y*ne.x,vt+=(ne.x+ye.x)*Ge,xt+=(ne.y+ye.y)*Ge,ut+=Ge*3;ut===0?qt=bi[0]:qt=[vt/ut,xt/ut];var fs=b.unproject(k(qt));return Te([fs.lat+an.lat,fs.lng+an.lng])}function dp(p){for(var b=0,I=0,z=0,ne=0;ne<p.length;ne++){var ye=Te(p[ne]);b+=ye.lat,I+=ye.lng,z++}return Te([b/z,I/z])}var e1={__proto__:null,clipPolygon:Hy,polygonCenter:Jf,centroid:dp};function Vy(p,b){if(!b||!p.length)return p.slice();var I=b*b;return p=r1(p,I),p=n1(p,I),p}function hp(p,b,I){return Math.sqrt(qs(p,b,I,!0))}function t1(p,b,I){return qs(p,b,I)}function n1(p,b){var I=p.length,z=typeof Uint8Array<"u"?Uint8Array:Array,ne=new z(I);ne[0]=ne[I-1]=1,pp(p,ne,b,0,I-1);var ye,Ge=[];for(ye=0;ye<I;ye++)ne[ye]&&Ge.push(p[ye]);return Ge}function pp(p,b,I,z,ne){var ye=0,Ge,ut,vt;for(ut=z+1;ut<=ne-1;ut++)vt=qs(p[ut],p[z],p[ne],!0),vt>ye&&(Ge=ut,ye=vt);ye>I&&(b[Ge]=1,pp(p,b,I,z,Ge),pp(p,b,I,Ge,ne))}function r1(p,b){for(var I=[p[0]],z=1,ne=0,ye=p.length;z<ye;z++)i1(p[z],p[ne])>b&&(I.push(p[z]),ne=z);return ne<ye-1&&I.push(p[ye-1]),I}var Ky;function Gy(p,b,I,z,ne){var ye=z?Ky:Us(p,I),Ge=Us(b,I),ut,vt,xt;for(Ky=Ge;;){if(!(ye|Ge))return[p,b];if(ye&Ge)return!1;ut=ye||Ge,vt=Xf(p,b,ut,I,ne),xt=Us(vt,I),ut===ye?(p=vt,ye=xt):(b=vt,Ge=xt)}}function Xf(p,b,I,z,ne){var ye=b.x-p.x,Ge=b.y-p.y,ut=z.min,vt=z.max,xt,qt;return I&8?(xt=p.x+ye*(vt.y-p.y)/Ge,qt=vt.y):I&4?(xt=p.x+ye*(ut.y-p.y)/Ge,qt=ut.y):I&2?(xt=vt.x,qt=p.y+Ge*(vt.x-p.x)/ye):I&1&&(xt=ut.x,qt=p.y+Ge*(ut.x-p.x)/ye),new se(xt,qt,ne)}function Us(p,b){var I=0;return p.x<b.min.x?I|=1:p.x>b.max.x&&(I|=2),p.y<b.min.y?I|=4:p.y>b.max.y&&(I|=8),I}function i1(p,b){var I=b.x-p.x,z=b.y-p.y;return I*I+z*z}function qs(p,b,I,z){var ne=b.x,ye=b.y,Ge=I.x-ne,ut=I.y-ye,vt=Ge*Ge+ut*ut,xt;return vt>0&&(xt=((p.x-ne)*Ge+(p.y-ye)*ut)/vt,xt>1?(ne=I.x,ye=I.y):xt>0&&(ne+=Ge*xt,ye+=ut*xt)),Ge=p.x-ne,ut=p.y-ye,z?Ge*Ge+ut*ut:new se(ne,ye)}function _i(p){return!R(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Wy(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_i(p)}function gp(p,b){var I,z,ne,ye,Ge,ut,vt,xt;if(!p||p.length===0)throw new Error("latlngs not passed");_i(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var qt=Te([0,0]),an=ee(p),yn=an.getNorthWest().distanceTo(an.getSouthWest())*an.getNorthEast().distanceTo(an.getNorthWest());yn<1700&&(qt=dp(p));var Yr=p.length,Ir=[];for(I=0;I<Yr;I++){var bi=Te(p[I]);Ir.push(b.project(Te([bi.lat-qt.lat,bi.lng-qt.lng])))}for(I=0,z=0;I<Yr-1;I++)z+=Ir[I].distanceTo(Ir[I+1])/2;if(z===0)xt=Ir[0];else for(I=0,ye=0;I<Yr-1;I++)if(Ge=Ir[I],ut=Ir[I+1],ne=Ge.distanceTo(ut),ye+=ne,ye>z){vt=(ye-z)/ne,xt=[ut.x-vt*(ut.x-Ge.x),ut.y-vt*(ut.y-Ge.y)];break}var Ri=b.unproject(k(xt));return Te([Ri.lat+qt.lat,Ri.lng+qt.lng])}var Qy={__proto__:null,simplify:Vy,pointToSegmentDistance:hp,closestPointOnSegment:t1,clipSegment:Gy,_getEdgeIntersection:Xf,_getBitCode:Us,_sqClosestPointOnSegment:qs,isFlat:_i,_flat:Wy,polylineCenter:gp},Yf={project:function(p){return new se(p.lng,p.lat)},unproject:function(p){return new pe(p.y,p.x)},bounds:new re([-180,-90],[180,90])},ed={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var b=Math.PI/180,I=this.R,z=p.lat*b,ne=this.R_MINOR/I,ye=Math.sqrt(1-ne*ne),Ge=ye*Math.sin(z),ut=Math.tan(Math.PI/4-z/2)/Math.pow((1-Ge)/(1+Ge),ye/2);return z=-I*Math.log(Math.max(ut,1e-10)),new se(p.lng*b*I,z)},unproject:function(p){for(var b=180/Math.PI,I=this.R,z=this.R_MINOR/I,ne=Math.sqrt(1-z*z),ye=Math.exp(-p.y/I),Ge=Math.PI/2-2*Math.atan(ye),ut=0,vt=.1,xt;ut<15&&Math.abs(vt)>1e-7;ut++)xt=ne*Math.sin(Ge),xt=Math.pow((1-xt)/(1+xt),ne/2),vt=Math.PI/2-2*Math.atan(ye*xt)-Ge,Ge+=vt;return new pe(Ge*b,p.x*b/I)}},Zy={__proto__:null,LonLat:Yf,Mercator:ed,SphericalMercator:Xe},Qu=i({},Ae,{code:"EPSG:3395",projection:ed,transformation:function(){var p=.5/(Math.PI*ed.R);return H(p,.5,-p,.5)}()}),Jy=i({},Ae,{code:"EPSG:4326",projection:Yf,transformation:H(1/180,1,-1/180,.5)}),a1=i({},Je,{projection:Yf,transformation:H(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,b){var I=b.lng-p.lng,z=b.lat-p.lat;return Math.sqrt(I*I+z*z)},infinite:!0});Je.Earth=Ae,Je.EPSG3395=Qu,Je.EPSG3857=B,Je.EPSG900913=ie,Je.EPSG4326=Jy,Je.Simple=a1;var ja=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[l(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[l(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var b=p.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var I=this.getEvents();b.on(I,this),this.once("remove",function(){b.off(I,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});_n.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var b=l(p);return this._layers[b]?this:(this._layers[b]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var b=l(p);return this._layers[b]?(this._loaded&&p.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return l(p)in this._layers},eachLayer:function(p,b){for(var I in this._layers)p.call(b,this._layers[I]);return this},_addLayers:function(p){p=p?R(p)?p:[p]:[];for(var b=0,I=p.length;b<I;b++)this.addLayer(p[b])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[l(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var b=l(p);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,b=-1/0,I=this._getZoomSpan();for(var z in this._zoomBoundLayers){var ne=this._zoomBoundLayers[z].options;p=ne.minZoom===void 0?p:Math.min(p,ne.minZoom),b=ne.maxZoom===void 0?b:Math.max(b,ne.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=p===1/0?void 0:p,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zs=ja.extend({initialize:function(p,b){_(this,b),this._layers={};var I,z;if(p)for(I=0,z=p.length;I<z;I++)this.addLayer(p[I])},addLayer:function(p){var b=this.getLayerId(p);return this._layers[b]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var b=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(p){var b=typeof p=="number"?p:this.getLayerId(p);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var b=Array.prototype.slice.call(arguments,1),I,z;for(I in this._layers)z=this._layers[I],z[p]&&z[p].apply(z,b);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,b){for(var I in this._layers)p.call(b,this._layers[I]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return l(p)}}),Xy=function(p,b){return new zs(p,b)},ra=zs.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),zs.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),zs.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new W;for(var b in this._layers){var I=this._layers[b];p.extend(I.getBounds?I.getBounds():I.getLatLng())}return p}}),hc=function(p,b){return new ra(p,b)},Zu=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){_(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,b){var I=this._getIconUrl(p);if(!I){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(I,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(z,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(p,b){var I=this.options,z=I[b+"Size"];typeof z=="number"&&(z=[z,z]);var ne=k(z),ye=k(b==="shadow"&&I.shadowAnchor||I.iconAnchor||ne&&ne.divideBy(2,!0));p.className="leaflet-marker-"+b+" "+(I.className||""),ye&&(p.style.marginLeft=-ye.x+"px",p.style.marginTop=-ye.y+"px"),ne&&(p.style.width=ne.x+"px",p.style.height=ne.y+"px")},_createImg:function(p,b){return b=b||document.createElement("img"),b.src=p,b},_getIconUrl:function(p){return xe.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function td(p){return new Zu(p)}var Ju=Zu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Ju.imagePath!="string"&&(Ju.imagePath=this._detectIconPath()),(this.options.imagePath||Ju.imagePath)+Zu.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var b=function(I,z,ne){var ye=z.exec(I);return ye&&ye[ne]};return p=b(p,/^url\((['"])?(.+)\1\)$/,2),p&&b(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=A("div","leaflet-default-icon-path",document.body),b=C(p,"background-image")||C(p,"backgroundImage");if(document.body.removeChild(p),b=this._stripUrl(b),b)return b;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),mp=na.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new cs(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Se(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var b=this._marker,I=b._map,z=this._marker.options.autoPanSpeed,ne=this._marker.options.autoPanPadding,ye=be(b._icon),Ge=I.getPixelBounds(),ut=I.getPixelOrigin(),vt=ge(Ge.min._subtract(ut).add(ne),Ge.max._subtract(ut).subtract(ne));if(!vt.contains(ye)){var xt=k((Math.max(vt.max.x,ye.x)-vt.max.x)/(Ge.max.x-vt.max.x)-(Math.min(vt.min.x,ye.x)-vt.min.x)/(Ge.min.x-vt.min.x),(Math.max(vt.max.y,ye.y)-vt.max.y)/(Ge.max.y-vt.max.y)-(Math.min(vt.min.y,ye.y)-vt.min.y)/(Ge.min.y-vt.min.y)).multiplyBy(z);I.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),lt(b._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=X(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(le(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,p)))},_onDrag:function(p){var b=this._marker,I=b._shadow,z=be(b._icon),ne=b._map.layerPointToLatLng(z);I&&lt(I,z),b._latlng=ne,p.latlng=ne,p.oldLatLng=this._oldLatLng,b.fire("move",p).fire("drag",p)},_onDragEnd:function(p){le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Xu=ja.extend({options:{icon:new Ju,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,b){_(this,b),this._latlng=Te(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var b=this._latlng;return this._latlng=Te(p),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=p.icon.createIcon(this._icon),z=!1;I!==this._icon&&(this._icon&&this._removeIcon(),z=!0,p.title&&(I.title=p.title),I.tagName==="IMG"&&(I.alt=p.alt||"")),Se(I,b),p.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(I,"focus",this._panOnFocus,this);var ne=p.icon.createShadow(this._shadow),ye=!1;ne!==this._shadow&&(this._removeShadow(),ye=!0),ne&&(Se(ne,b),ne.alt=""),this._shadow=ne,p.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),ne&&ye&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&lt(this._icon,p),this._shadow&&lt(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(Se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mp)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mp(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&He(this._icon,p),this._shadow&&He(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var b=this.options.icon.options,I=b.iconSize?k(b.iconSize):k(0,0),z=b.iconAnchor?k(b.iconAnchor):k(0,0);p.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:I.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yp(p,b){return new Xu(p,b)}var Fo=ja.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return _(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pc=Fo.extend({options:{fill:!0,radius:10},initialize:function(p,b){_(this,b),this._latlng=Te(p),this._radius=this.options.radius},setLatLng:function(p){var b=this._latlng;return this._latlng=Te(p),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var b=p&&p.radius||this._radius;return Fo.prototype.setStyle.call(this,p),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,b=this._radiusY||p,I=this._clickTolerance(),z=[p+I,b+I];this._pxBounds=new re(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yy(p,b){return new pc(p,b)}var vp=pc.extend({initialize:function(p,b,I){if(typeof b=="number"&&(b=i({},I,{radius:b})),_(this,b),this._latlng=Te(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new W(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:Fo.prototype.setStyle,_project:function(){var p=this._latlng.lng,b=this._latlng.lat,I=this._map,z=I.options.crs;if(z.distance===Ae.distance){var ne=Math.PI/180,ye=this._mRadius/Ae.R/ne,Ge=I.project([b+ye,p]),ut=I.project([b-ye,p]),vt=Ge.add(ut).divideBy(2),xt=I.unproject(vt).lat,qt=Math.acos((Math.cos(ye*ne)-Math.sin(b*ne)*Math.sin(xt*ne))/(Math.cos(b*ne)*Math.cos(xt*ne)))/ne;(isNaN(qt)||qt===0)&&(qt=ye/Math.cos(Math.PI/180*b)),this._point=vt.subtract(I.getPixelOrigin()),this._radius=isNaN(qt)?0:vt.x-I.project([xt,p-qt]).x,this._radiusY=vt.y-Ge.y}else{var an=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(an).x}this._updateBounds()}});function o1(p,b,I){return new vp(p,b,I)}var jo=Fo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,b){_(this,b),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var b=1/0,I=null,z=qs,ne,ye,Ge=0,ut=this._parts.length;Ge<ut;Ge++)for(var vt=this._parts[Ge],xt=1,qt=vt.length;xt<qt;xt++){ne=vt[xt-1],ye=vt[xt];var an=z(p,ne,ye,!0);an<b&&(b=an,I=z(p,ne,ye))}return I&&(I.distance=Math.sqrt(b)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,b){return b=b||this._defaultShape(),p=Te(p),b.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new W,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return _i(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var b=[],I=_i(p),z=0,ne=p.length;z<ne;z++)I?(b[z]=Te(p[z]),this._bounds.extend(b[z])):b[z]=this._convertLatLngs(p[z]);return b},_project:function(){var p=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),b=new se(p,p);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(p,b,I){var z=p[0]instanceof pe,ne=p.length,ye,Ge;if(z){for(Ge=[],ye=0;ye<ne;ye++)Ge[ye]=this._map.latLngToLayerPoint(p[ye]),I.extend(Ge[ye]);b.push(Ge)}else for(ye=0;ye<ne;ye++)this._projectLatlngs(p[ye],b,I)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,I,z,ne,ye,Ge,ut,vt;for(I=0,ne=0,ye=this._rings.length;I<ye;I++)for(vt=this._rings[I],z=0,Ge=vt.length;z<Ge-1;z++)ut=Gy(vt[z],vt[z+1],p,z,!0),ut&&(b[ne]=b[ne]||[],b[ne].push(ut[0]),(ut[1]!==vt[z+1]||z===Ge-2)&&(b[ne].push(ut[1]),ne++))}},_simplifyPoints:function(){for(var p=this._parts,b=this.options.smoothFactor,I=0,z=p.length;I<z;I++)p[I]=Vy(p[I],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,b){var I,z,ne,ye,Ge,ut,vt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(I=0,ye=this._parts.length;I<ye;I++)for(ut=this._parts[I],z=0,Ge=ut.length,ne=Ge-1;z<Ge;ne=z++)if(!(!b&&z===0)&&hp(p,ut[ne],ut[z])<=vt)return!0;return!1}});function s1(p,b){return new jo(p,b)}jo._flat=Wy;var Yu=jo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var b=jo.prototype._convertLatLngs.call(this,p),I=b.length;return I>=2&&b[0]instanceof pe&&b[0].equals(b[I-1])&&b.pop(),b},_setLatLngs:function(p){jo.prototype._setLatLngs.call(this,p),_i(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _i(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,b=this.options.weight,I=new se(b,b);if(p=new re(p.min.subtract(I),p.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,ne=this._rings.length,ye;z<ne;z++)ye=Hy(this._rings[z],p,!0),ye.length&&this._parts.push(ye)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var b=!1,I,z,ne,ye,Ge,ut,vt,xt;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ye=0,vt=this._parts.length;ye<vt;ye++)for(I=this._parts[ye],Ge=0,xt=I.length,ut=xt-1;Ge<xt;ut=Ge++)z=I[Ge],ne=I[ut],z.y>p.y!=ne.y>p.y&&p.x<(ne.x-z.x)*(p.y-z.y)/(ne.y-z.y)+z.x&&(b=!b);return b||jo.prototype._containsPoint.call(this,p,!0)}});function ia(p,b){return new Yu(p,b)}var aa=ra.extend({initialize:function(p,b){_(this,b),this._layers={},p&&this.addData(p)},addData:function(p){var b=R(p)?p:p.features,I,z,ne;if(b){for(I=0,z=b.length;I<z;I++)ne=b[I],(ne.geometries||ne.geometry||ne.features||ne.coordinates)&&this.addData(ne);return this}var ye=this.options;if(ye.filter&&!ye.filter(p))return this;var Ge=gc(p,ye);return Ge?(Ge.feature=$o(p),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ye.onEachFeature&&ye.onEachFeature(p,Ge),this.addLayer(Ge)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(b){this._setLayerStyle(b,p)},this)},_setLayerStyle:function(p,b){p.setStyle&&(typeof b=="function"&&(b=b(p.feature)),p.setStyle(b))}});function gc(p,b){var I=p.type==="Feature"?p.geometry:p,z=I?I.coordinates:null,ne=[],ye=b&&b.pointToLayer,Ge=b&&b.coordsToLatLng||nd,ut,vt,xt,qt;if(!z&&!I)return null;switch(I.type){case"Point":return ut=Ge(z),_p(ye,p,ut,b);case"MultiPoint":for(xt=0,qt=z.length;xt<qt;xt++)ut=Ge(z[xt]),ne.push(_p(ye,p,ut,b));return new ra(ne);case"LineString":case"MultiLineString":return vt=mc(z,I.type==="LineString"?0:1,Ge),new jo(vt,b);case"Polygon":case"MultiPolygon":return vt=mc(z,I.type==="Polygon"?1:2,Ge),new Yu(vt,b);case"GeometryCollection":for(xt=0,qt=I.geometries.length;xt<qt;xt++){var an=gc({geometry:I.geometries[xt],type:"Feature",properties:p.properties},b);an&&ne.push(an)}return new ra(ne);case"FeatureCollection":for(xt=0,qt=I.features.length;xt<qt;xt++){var yn=gc(I.features[xt],b);yn&&ne.push(yn)}return new ra(ne);default:throw new Error("Invalid GeoJSON object.")}}function _p(p,b,I,z){return p?p(b,I):new Xu(I,z&&z.markersInheritOptions&&z)}function nd(p){return new pe(p[1],p[0],p[2])}function mc(p,b,I){for(var z=[],ne=0,ye=p.length,Ge;ne<ye;ne++)Ge=b?mc(p[ne],b-1,I):(I||nd)(p[ne]),z.push(Ge);return z}function yc(p,b){return p=Te(p),p.alt!==void 0?[g(p.lng,b),g(p.lat,b),g(p.alt,b)]:[g(p.lng,b),g(p.lat,b)]}function rd(p,b,I,z){for(var ne=[],ye=0,Ge=p.length;ye<Ge;ye++)ne.push(b?rd(p[ye],_i(p[ye])?0:b-1,I,z):yc(p[ye],z));return!b&&I&&ne.length>0&&ne.push(ne[0].slice()),ne}function el(p,b){return p.feature?i({},p.feature,{geometry:b}):$o(b)}function $o(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var vc={toGeoJSON:function(p){return el(this,{type:"Point",coordinates:yc(this.getLatLng(),p)})}};Xu.include(vc),vp.include(vc),pc.include(vc),jo.include({toGeoJSON:function(p){var b=!_i(this._latlngs),I=rd(this._latlngs,b?1:0,!1,p);return el(this,{type:(b?"Multi":"")+"LineString",coordinates:I})}}),Yu.include({toGeoJSON:function(p){var b=!_i(this._latlngs),I=b&&!_i(this._latlngs[0]),z=rd(this._latlngs,I?2:b?1:0,!0,p);return b||(z=[z]),el(this,{type:(I?"Multi":"")+"Polygon",coordinates:z})}}),zs.include({toMultiPoint:function(p){var b=[];return this.eachLayer(function(I){b.push(I.toGeoJSON(p).geometry.coordinates)}),el(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(p){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(p);var I=b==="GeometryCollection",z=[];return this.eachLayer(function(ne){if(ne.toGeoJSON){var ye=ne.toGeoJSON(p);if(I)z.push(ye.geometry);else{var Ge=$o(ye);Ge.type==="FeatureCollection"?z.push.apply(z,Ge.features):z.push(Ge)}}}),I?el(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function tl(p,b){return new aa(p,b)}var wp=tl,_c=ja.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,b,I){this._url=p,this._bounds=ee(b),_(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&ue(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=ee(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",b=this._image=p?this._url:A("img");if(Se(b,"leaflet-image-layer"),this._zoomAnimated&&Se(b,"leaflet-zoom-animated"),this.options.className&&Se(b,this.options.className),b.onselectstart=h,b.onmousemove=h,b.onload=o(this.fire,this,"load"),b.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(p){var b=this._map.getZoomScale(p.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;ht(this._image,I,b)},_reset:function(){var p=this._image,b=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=b.getSize();lt(p,b.min),p.style.width=I.x+"px",p.style.height=I.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Hs=function(p,b,I){return new _c(p,b,I)},Vs=_c.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",b=this._image=p?this._url:A("video");if(Se(b,"leaflet-image-layer"),this._zoomAnimated&&Se(b,"leaflet-zoom-animated"),this.options.className&&Se(b,this.options.className),b.onselectstart=h,b.onmousemove=h,b.onloadeddata=o(this.fire,this,"load"),p){for(var I=b.getElementsByTagName("source"),z=[],ne=0;ne<I.length;ne++)z.push(I[ne].src);this._url=I.length>0?z:[b.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var ye=0;ye<this._url.length;ye++){var Ge=A("source");Ge.src=this._url[ye],b.appendChild(Ge)}}});function bp(p,b,I){return new Vs(p,b,I)}var Sp=_c.extend({_initImage:function(){var p=this._image=this._url;Se(p,"leaflet-image-layer"),this._zoomAnimated&&Se(p,"leaflet-zoom-animated"),this.options.className&&Se(p,this.options.className),p.onselectstart=h,p.onmousemove=h}});function Ks(p,b,I){return new Sp(p,b,I)}var $a=ja.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,b){p&&(p instanceof pe||R(p))?(this._latlng=Te(p),_(this,b)):(_(this,p),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(o(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=Te(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ue(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(p){var b=this._source;if(!b._map)return!1;if(b instanceof ra){b=null;var I=this._source._layers;for(var z in I)if(I[z]._map){b=I[z];break}if(!b)return!1;this._source=b}if(!p)if(b.getCenter)p=b.getCenter();else if(b.getLatLng)p=b.getLatLng();else if(b.getBounds)p=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")p.innerHTML=b;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),b=k(this.options.offset),I=this._getAnchor();this._zoomAnimated?lt(this._container,p.add(I)):b=b.add(p).add(I);var z=this._containerBottom=-b.y,ne=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=z+"px",this._container.style.left=ne+"px"}},_getAnchor:function(){return[0,0]}});_n.include({_initOverlay:function(p,b,I,z){var ne=b;return ne instanceof p||(ne=new p(z).setContent(b)),I&&ne.setLatLng(I),ne}}),ja.include({_initOverlay:function(p,b,I,z){var ne=I;return ne instanceof p?(_(ne,z),ne._source=this):(ne=b&&!z?b:new p(z,this),ne.setContent(I)),ne}});var wc=$a.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,$a.prototype.openOn.call(this,p)},onAdd:function(p){$a.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fo||this._source.on("preclick",Ti))},onRemove:function(p){$a.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fo||this._source.off("preclick",Ti))},getEvents:function(){var p=$a.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",b=this._container=A("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=A("div",p+"-content-wrapper",b);if(this._contentNode=A("div",p+"-content",I),Sa(b),Yi(this._contentNode),Qt(b,"contextmenu",Ti),this._tipContainer=A("div",p+"-tip-container",b),this._tip=A("div",p+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=A("a",p+"-close-button",b);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(z,"click",function(ne){or(ne),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,b=p.style;b.width="",b.whiteSpace="nowrap";var I=p.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),b.width=I+1+"px",b.whiteSpace="",b.height="";var z=p.offsetHeight,ne=this.options.maxHeight,ye="leaflet-popup-scrolled";ne&&z>ne?(b.height=ne+"px",Se(p,ye)):Oe(p,ye),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),I=this._getAnchor();lt(this._container,b.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,b=parseInt(C(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+b,z=this._containerWidth,ne=new se(this._containerLeft,-I-this._containerBottom);ne._add(be(this._container));var ye=p.layerPointToContainerPoint(ne),Ge=k(this.options.autoPanPadding),ut=k(this.options.autoPanPaddingTopLeft||Ge),vt=k(this.options.autoPanPaddingBottomRight||Ge),xt=p.getSize(),qt=0,an=0;ye.x+z+vt.x>xt.x&&(qt=ye.x+z-xt.x+vt.x),ye.x-qt-ut.x<0&&(qt=ye.x-ut.x),ye.y+I+vt.y>xt.y&&(an=ye.y+I-xt.y+vt.y),ye.y-an-ut.y<0&&(an=ye.y-ut.y),(qt||an)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([qt,an]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ev=function(p,b){return new wc(p,b)};_n.mergeOptions({closePopupOnClick:!0}),_n.include({openPopup:function(p,b,I){return this._initOverlay(wc,p,b,I).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),ja.include({bindPopup:function(p,b){return this._popup=this._initOverlay(wc,this._popup,p,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof ra||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){zi(p);var b=p.layer||p.target;if(this._popup._source===b&&!(b instanceof Fo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=b,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var id=$a.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){$a.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){$a.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=$a.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",b=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=A("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var b,I,z=this._map,ne=this._container,ye=z.latLngToContainerPoint(z.getCenter()),Ge=z.layerPointToContainerPoint(p),ut=this.options.direction,vt=ne.offsetWidth,xt=ne.offsetHeight,qt=k(this.options.offset),an=this._getAnchor();ut==="top"?(b=vt/2,I=xt):ut==="bottom"?(b=vt/2,I=0):ut==="center"?(b=vt/2,I=xt/2):ut==="right"?(b=0,I=xt/2):ut==="left"?(b=vt,I=xt/2):Ge.x<ye.x?(ut="right",b=0,I=xt/2):(ut="left",b=vt+(qt.x+an.x)*2,I=xt/2),p=p.subtract(k(b,I,!0)).add(qt).add(an),Oe(ne,"leaflet-tooltip-right"),Oe(ne,"leaflet-tooltip-left"),Oe(ne,"leaflet-tooltip-top"),Oe(ne,"leaflet-tooltip-bottom"),Se(ne,"leaflet-tooltip-"+ut),lt(ne,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&He(this._container,p)},_animateZoom:function(p){var b=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(b)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),u1=function(p,b){return new id(p,b)};_n.include({openTooltip:function(p,b,I){return this._initOverlay(id,p,b,I).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),ja.include({bindTooltip:function(p,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(id,this._tooltip,p,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var b=p?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[b](I),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof ra||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&(Qt(b,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Qt(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var b=typeof p.getElement=="function"&&p.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var b=p.latlng,I,z;this._tooltip.options.sticky&&p.originalEvent&&(I=this._map.mouseEventToContainerPoint(p.originalEvent),z=this._map.containerPointToLayerPoint(I),b=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(b)}});var tv=Zu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var b=p&&p.tagName==="DIV"?p:document.createElement("div"),I=this.options;if(I.html instanceof Element?(Z(b),b.appendChild(I.html)):b.innerHTML=I.html!==!1?I.html:"",I.bgPos){var z=k(I.bgPos);b.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function nv(p){return new tv(p)}Zu.Default=Ju;var nl=ja.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){_(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),N(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof se?p:new se(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var b=this.getPane().children,I=-p(-1/0,1/0),z=0,ne=b.length,ye;z<ne;z++)ye=b[z].style.zIndex,b[z]!==this._container&&ye&&(I=p(I,+ye));isFinite(I)&&(this.options.zIndex=I+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xe.ielt9){He(this._container,this.options.opacity);var p=+new Date,b=!1,I=!1;for(var z in this._tiles){var ne=this._tiles[z];if(!(!ne.current||!ne.loaded)){var ye=Math.min(1,(p-ne.loaded)/200);He(ne.el,ye),ye<1?b=!0:(ne.active?I=!0:this._onOpaqueTile(ne),ne.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),b&&(le(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=A("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,b=this.options.maxZoom;if(p!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===p?(this._levels[I].el.style.zIndex=b-Math.abs(p-I),this._onUpdateLevel(I)):(N(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var z=this._levels[p],ne=this._map;return z||(z=this._levels[p]={},z.el=A("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=b,z.origin=ne.project(ne.unproject(ne.getPixelOrigin()),p).round(),z.zoom=p,this._setZoomTransform(z,ne.getCenter(),ne.getZoom()),h(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var p,b,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)b=this._tiles[p],b.retain=b.current;for(p in this._tiles)if(b=this._tiles[p],b.current&&!b.active){var z=b.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var b in this._tiles)this._tiles[b].coords.z===p&&this._removeTile(b)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)N(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,b,I,z){var ne=Math.floor(p/2),ye=Math.floor(b/2),Ge=I-1,ut=new se(+ne,+ye);ut.z=+Ge;var vt=this._tileCoordsToKey(ut),xt=this._tiles[vt];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),Ge>z?this._retainParent(ne,ye,Ge,z):!1)},_retainChildren:function(p,b,I,z){for(var ne=2*p;ne<2*p+2;ne++)for(var ye=2*b;ye<2*b+2;ye++){var Ge=new se(ne,ye);Ge.z=I+1;var ut=this._tileCoordsToKey(Ge),vt=this._tiles[ut];if(vt&&vt.active){vt.retain=!0;continue}else vt&&vt.loaded&&(vt.retain=!0);I+1<z&&this._retainChildren(ne,ye,I+1,z)}},_resetView:function(p){var b=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var b=this.options;return b.minNativeZoom!==void 0&&p<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<p?b.maxNativeZoom:p},_setView:function(p,b,I,z){var ne=Math.round(b);this.options.maxZoom!==void 0&&ne>this.options.maxZoom||this.options.minZoom!==void 0&&ne<this.options.minZoom?ne=void 0:ne=this._clampZoom(ne);var ye=this.options.updateWhenZooming&&ne!==this._tileZoom;(!z||ye)&&(this._tileZoom=ne,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ne!==void 0&&this._update(p),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(p,b)},_setZoomTransforms:function(p,b){for(var I in this._levels)this._setZoomTransform(this._levels[I],p,b)},_setZoomTransform:function(p,b,I){var z=this._map.getZoomScale(I,p.zoom),ne=p.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(b,I)).round();xe.any3d?ht(p.el,ne,z):lt(p.el,ne)},_resetGrid:function(){var p=this._map,b=p.options.crs,I=this._tileSize=this.getTileSize(),z=this._tileZoom,ne=this._map.getPixelWorldBounds(this._tileZoom);ne&&(this._globalTileRange=this._pxBoundsToTileRange(ne)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,b.wrapLng[0]],z).x/I.x),Math.ceil(p.project([0,b.wrapLng[1]],z).x/I.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([b.wrapLat[0],0],z).y/I.x),Math.ceil(p.project([b.wrapLat[1],0],z).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var b=this._map,I=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),z=b.getZoomScale(I,this._tileZoom),ne=b.project(p,this._tileZoom).floor(),ye=b.getSize().divideBy(z*2);return new re(ne.subtract(ye),ne.add(ye))},_update:function(p){var b=this._map;if(b){var I=this._clampZoom(b.getZoom());if(p===void 0&&(p=b.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(p),ne=this._pxBoundsToTileRange(z),ye=ne.getCenter(),Ge=[],ut=this.options.keepBuffer,vt=new re(ne.getBottomLeft().subtract([ut,-ut]),ne.getTopRight().add([ut,-ut]));if(!(isFinite(ne.min.x)&&isFinite(ne.min.y)&&isFinite(ne.max.x)&&isFinite(ne.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var qt=this._tiles[xt].coords;(qt.z!==this._tileZoom||!vt.contains(new se(qt.x,qt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(p,I);return}for(var an=ne.min.y;an<=ne.max.y;an++)for(var yn=ne.min.x;yn<=ne.max.x;yn++){var Yr=new se(yn,an);if(Yr.z=this._tileZoom,!!this._isValidTile(Yr)){var Ir=this._tiles[this._tileCoordsToKey(Yr)];Ir?Ir.current=!0:Ge.push(Yr)}}if(Ge.sort(function(Ri,fs){return Ri.distanceTo(ye)-fs.distanceTo(ye)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var bi=document.createDocumentFragment();for(yn=0;yn<Ge.length;yn++)this._addTile(Ge[yn],bi);this._level.el.appendChild(bi)}}}},_isValidTile:function(p){var b=this._map.options.crs;if(!b.infinite){var I=this._globalTileRange;if(!b.wrapLng&&(p.x<I.min.x||p.x>I.max.x)||!b.wrapLat&&(p.y<I.min.y||p.y>I.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(p);return ee(this.options.bounds).overlaps(z)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var b=this._map,I=this.getTileSize(),z=p.scaleBy(I),ne=z.add(I),ye=b.unproject(z,p.z),Ge=b.unproject(ne,p.z);return[ye,Ge]},_tileCoordsToBounds:function(p){var b=this._tileCoordsToNwSe(p),I=new W(b[0],b[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var b=p.split(":"),I=new se(+b[0],+b[1]);return I.z=+b[2],I},_removeTile:function(p){var b=this._tiles[p];b&&(N(b.el),delete this._tiles[p],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Se(p,"leaflet-tile");var b=this.getTileSize();p.style.width=b.x+"px",p.style.height=b.y+"px",p.onselectstart=h,p.onmousemove=h,xe.ielt9&&this.options.opacity<1&&He(p,this.options.opacity)},_addTile:function(p,b){var I=this._getTilePos(p),z=this._tileCoordsToKey(p),ne=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(ne),this.createTile.length<2&&X(o(this._tileReady,this,p,null,ne)),lt(ne,I),this._tiles[z]={el:ne,coords:p,current:!0},b.appendChild(ne),this.fire("tileloadstart",{tile:ne,coords:p})},_tileReady:function(p,b,I){b&&this.fire("tileerror",{error:b,tile:I,coords:p});var z=this._tileCoordsToKey(p);I=this._tiles[z],I&&(I.loaded=+new Date,this._map._fadeAnimated?(He(I.el,0),le(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),b||(Se(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xe.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var b=new se(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return b.z=p.z,b},_pxBoundsToTileRange:function(p){var b=this.getTileSize();return new re(p.min.unscaleBy(b).floor(),p.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function rv(p){return new nl(p)}var wi=nl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,b){this._url=p,b=_(this,b),b.detectRetina&&xe.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,b){return this._url===p&&b===void 0&&(b=!0),this._url=p,b||this.redraw(),this},createTile:function(p,b){var I=document.createElement("img");return Qt(I,"load",o(this._tileOnLoad,this,b,I)),Qt(I,"error",o(this._tileOnError,this,b,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(p),I},getTileUrl:function(p){var b={r:xe.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-p.y;this.options.tms&&(b.y=I),b["-y"]=I}return x(this._url,i(b,this.options))},_tileOnLoad:function(p,b){xe.ielt9?setTimeout(o(p,this,null,b),0):p(null,b)},_tileOnError:function(p,b,I){var z=this.options.errorTileUrl;z&&b.getAttribute("src")!==z&&(b.src=z),p(I,b)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,b=this.options.maxZoom,I=this.options.zoomReverse,z=this.options.zoomOffset;return I&&(p=b-p),p+z},_getSubdomain:function(p){var b=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var p,b;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(b=this._tiles[p].el,b.onload=h,b.onerror=h,!b.complete)){b.src=O;var I=this._tiles[p].coords;N(b),delete this._tiles[p],this.fire("tileabort",{tile:b,coords:I})}},_removeTile:function(p){var b=this._tiles[p];if(b)return b.el.setAttribute("src",O),nl.prototype._removeTile.call(this,p)},_tileReady:function(p,b,I){if(!(!this._map||I&&I.getAttribute("src")===O))return nl.prototype._tileReady.call(this,p,b,I)}});function oa(p,b){return new wi(p,b)}var Gs=wi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,b){this._url=p;var I=i({},this.defaultWmsParams);for(var z in b)z in this.options||(I[z]=b[z]);b=_(this,b);var ne=b.detectRetina&&xe.retina?2:1,ye=this.getTileSize();I.width=ye.x*ne,I.height=ye.y*ne,this.wmsParams=I},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,wi.prototype.onAdd.call(this,p)},getTileUrl:function(p){var b=this._tileCoordsToNwSe(p),I=this._crs,z=ge(I.project(b[0]),I.project(b[1])),ne=z.min,ye=z.max,Ge=(this._wmsVersion>=1.3&&this._crs===Jy?[ne.y,ne.x,ye.y,ye.x]:[ne.x,ne.y,ye.x,ye.y]).join(","),ut=wi.prototype.getTileUrl.call(this,p);return ut+S(this.wmsParams,ut,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(p,b){return i(this.wmsParams,p),b||this.redraw(),this}});function xp(p,b){return new Gs(p,b)}wi.WMS=Gs,oa.wms=xp;var Ea=ja.extend({options:{padding:.1},initialize:function(p){_(this,p),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,b){var I=this._map.getZoomScale(b,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),ne=this._map.project(this._center,b),ye=z.multiplyBy(-I).add(ne).subtract(this._map._getNewPixelOrigin(p,b));xe.any3d?ht(this._container,ye,I):lt(this._container,ye)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,b=this._map.getSize(),I=this._map.containerPointToLayerPoint(b.multiplyBy(-p)).round();this._bounds=new re(I,I.add(b.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bc=Ea.extend({options:{tolerance:0},getEvents:function(){var p=Ea.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ea.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Qt(p,"mousemove",this._onMouseMove,this),Qt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){le(this._redrawRequest),delete this._ctx,N(this._container),gn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var b in this._layers)p=this._layers[b],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ea.prototype._update.call(this);var p=this._bounds,b=this._container,I=p.getSize(),z=xe.retina?2:1;lt(b,p.min),b.width=z*I.x,b.height=z*I.y,b.style.width=I.x+"px",b.style.height=I.y+"px",xe.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Ea.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[l(p)]=p;var b=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var b=p._order,I=b.next,z=b.prev;I?I.prev=z:this._drawLast=z,z?z.next=I:this._drawFirst=I,delete p._order,delete this._layers[l(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var b=p.options.dashArray.split(/[, ]+/),I=[],z,ne;for(ne=0;ne<b.length;ne++){if(z=Number(b[ne]),isNaN(z))return;I.push(z)}p.options._dashArray=I}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var b=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(p._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(p._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var b=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,b=this._redrawBounds;if(this._ctx.save(),b){var I=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)p=z.layer,(!b||p._pxBounds&&p._pxBounds.intersects(b))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,b){if(this._drawing){var I,z,ne,ye,Ge=p._parts,ut=Ge.length,vt=this._ctx;if(ut){for(vt.beginPath(),I=0;I<ut;I++){for(z=0,ne=Ge[I].length;z<ne;z++)ye=Ge[I][z],vt[z?"lineTo":"moveTo"](ye.x,ye.y);b&&vt.closePath()}this._fillStroke(vt,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var b=p._point,I=this._ctx,z=Math.max(Math.round(p._radius),1),ne=(Math.max(Math.round(p._radiusY),1)||z)/z;ne!==1&&(I.save(),I.scale(1,ne)),I.beginPath(),I.arc(b.x,b.y/ne,z,0,Math.PI*2,!1),ne!==1&&I.restore(),this._fillStroke(I,p)}},_fillStroke:function(p,b){var I=b.options;I.fill&&(p.globalAlpha=I.fillOpacity,p.fillStyle=I.fillColor||I.color,p.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(p.setLineDash&&p.setLineDash(b.options&&b.options._dashArray||[]),p.globalAlpha=I.opacity,p.lineWidth=I.weight,p.strokeStyle=I.color,p.lineCap=I.lineCap,p.lineJoin=I.lineJoin,p.stroke())},_onClick:function(p){for(var b=this._map.mouseEventToLayerPoint(p),I,z,ne=this._drawFirst;ne;ne=ne.next)I=ne.layer,I.options.interactive&&I._containsPoint(b)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(I))&&(z=I);this._fireEvent(z?[z]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,b)}},_handleMouseOut:function(p){var b=this._hoveredLayer;b&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([b],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,b){if(!this._mouseHoverThrottled){for(var I,z,ne=this._drawFirst;ne;ne=ne.next)I=ne.layer,I.options.interactive&&I._containsPoint(b)&&(z=I);z!==this._hoveredLayer&&(this._handleMouseOut(p),z&&(Se(this._container,"leaflet-interactive"),this._fireEvent([z],p,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,b,I){this._map._fireDOMEvent(b,I||b.type,p)},_bringToFront:function(p){var b=p._order;if(b){var I=b.next,z=b.prev;if(I)I.prev=z;else return;z?z.next=I:I&&(this._drawFirst=I),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(p)}},_bringToBack:function(p){var b=p._order;if(b){var I=b.next,z=b.prev;if(z)z.next=I;else return;I?I.prev=z:z&&(this._drawLast=z),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(p)}}});function ad(p){return xe.canvas?new bc(p):null}var Ca=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),iv={_initContainer:function(){this._container=A("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ea.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var b=p._container=Ca("shape");Se(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",p._path=Ca("path"),b.appendChild(p._path),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){var b=p._container;this._container.appendChild(b),p.options.interactive&&p.addInteractiveTarget(b)},_removePath:function(p){var b=p._container;N(b),p.removeInteractiveTarget(b),delete this._layers[l(p)]},_updateStyle:function(p){var b=p._stroke,I=p._fill,z=p.options,ne=p._container;ne.stroked=!!z.stroke,ne.filled=!!z.fill,z.stroke?(b||(b=p._stroke=Ca("stroke")),ne.appendChild(b),b.weight=z.weight+"px",b.color=z.color,b.opacity=z.opacity,z.dashArray?b.dashStyle=R(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=z.lineCap.replace("butt","flat"),b.joinstyle=z.lineJoin):b&&(ne.removeChild(b),p._stroke=null),z.fill?(I||(I=p._fill=Ca("fill")),ne.appendChild(I),I.color=z.fillColor||z.color,I.opacity=z.fillOpacity):I&&(ne.removeChild(I),p._fill=null)},_updateCircle:function(p){var b=p._point.round(),I=Math.round(p._radius),z=Math.round(p._radiusY||I);this._setPath(p,p._empty()?"M0 0":"AL "+b.x+","+b.y+" "+I+","+z+" 0,"+65535*360)},_setPath:function(p,b){p._path.v=b},_bringToFront:function(p){ue(p._container)},_bringToBack:function(p){we(p._container)}},Ws=xe.vml?Ca:fe,po=Ea.extend({_initContainer:function(){this._container=Ws("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ws("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),gn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ea.prototype._update.call(this);var p=this._bounds,b=p.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,I.setAttribute("width",b.x),I.setAttribute("height",b.y)),lt(I,p.min),I.setAttribute("viewBox",[p.min.x,p.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(p){var b=p._path=Ws("path");p.options.className&&Se(b,p.options.className),p.options.interactive&&Se(b,"leaflet-interactive"),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){N(p._path),p.removeInteractiveTarget(p._path),delete this._layers[l(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var b=p._path,I=p.options;b&&(I.stroke?(b.setAttribute("stroke",I.color),b.setAttribute("stroke-opacity",I.opacity),b.setAttribute("stroke-width",I.weight),b.setAttribute("stroke-linecap",I.lineCap),b.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?b.setAttribute("stroke-dasharray",I.dashArray):b.removeAttribute("stroke-dasharray"),I.dashOffset?b.setAttribute("stroke-dashoffset",I.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),I.fill?(b.setAttribute("fill",I.fillColor||I.color),b.setAttribute("fill-opacity",I.fillOpacity),b.setAttribute("fill-rule",I.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(p,b){this._setPath(p,Pe(p._parts,b))},_updateCircle:function(p){var b=p._point,I=Math.max(Math.round(p._radius),1),z=Math.max(Math.round(p._radiusY),1)||I,ne="a"+I+","+z+" 0 1,0 ",ye=p._empty()?"M0 0":"M"+(b.x-I)+","+b.y+ne+I*2+",0 "+ne+-I*2+",0 ";this._setPath(p,ye)},_setPath:function(p,b){p._path.setAttribute("d",b)},_bringToFront:function(p){ue(p._path)},_bringToBack:function(p){we(p._path)}});xe.vml&&po.include(iv);function Ep(p){return xe.svg||xe.vml?new po(p):null}_n.include({getRenderer:function(p){var b=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var b=this._paneRenderers[p];return b===void 0&&(b=this._createRenderer({pane:p}),this._paneRenderers[p]=b),b},_createRenderer:function(p){return this.options.preferCanvas&&ad(p)||Ep(p)}});var sa=Yu.extend({initialize:function(p,b){Yu.prototype.initialize.call(this,this._boundsToLatLngs(p),b)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=ee(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function rl(p,b){return new sa(p,b)}po.create=Ws,po.pointsToPath=Pe,aa.geometryToLayer=gc,aa.coordsToLatLng=nd,aa.coordsToLatLngs=mc,aa.latLngToCoords=yc,aa.latLngsToCoords=rd,aa.getFeature=el,aa.asFeature=$o,_n.mergeOptions({boxZoom:!0});var Qs=na.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){gn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),je(),yt(),this._startPoint=this._map.mouseEventToContainerPoint(p),Qt(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=A("div","leaflet-zoom-box",this._container),Se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var b=new re(this._point,this._startPoint),I=b.getSize();lt(this._box,b.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(N(this._box),Oe(this._container,"leaflet-crosshair")),qe(),Ut(),gn(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var b=new W(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_n.addInitHook("addHandler","boxZoom",Qs),_n.mergeOptions({doubleClickZoom:!0});var Sc=na.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var b=this._map,I=b.getZoom(),z=b.options.zoomDelta,ne=p.originalEvent.shiftKey?I-z:I+z;b.options.doubleClickZoom==="center"?b.setZoom(ne):b.setZoomAround(p.containerPoint,ne)}});_n.addInitHook("addHandler","doubleClickZoom",Sc),_n.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xc=na.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new cs(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=ee(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var b=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(b),this._prunePositions(b)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,b){return p-(p-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;p.x<b.min.x&&(p.x=this._viscousLimit(p.x,b.min.x)),p.y<b.min.y&&(p.y=this._viscousLimit(p.y,b.min.y)),p.x>b.max.x&&(p.x=this._viscousLimit(p.x,b.max.x)),p.y>b.max.y&&(p.y=this._viscousLimit(p.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,b=Math.round(p/2),I=this._initialWorldOffset,z=this._draggable._newPos.x,ne=(z-b+I)%p+b-I,ye=(z+b+I)%p-b-I,Ge=Math.abs(ne+I)<Math.abs(ye+I)?ne:ye;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(p){var b=this._map,I=b.options,z=!I.inertia||p.noInertia||this._times.length<2;if(b.fire("dragend",p),z)b.fire("moveend");else{this._prunePositions(+new Date);var ne=this._lastPos.subtract(this._positions[0]),ye=(this._lastTime-this._times[0])/1e3,Ge=I.easeLinearity,ut=ne.multiplyBy(Ge/ye),vt=ut.distanceTo([0,0]),xt=Math.min(I.inertiaMaxSpeed,vt),qt=ut.multiplyBy(xt/vt),an=xt/(I.inertiaDeceleration*Ge),yn=qt.multiplyBy(-an/2).round();!yn.x&&!yn.y?b.fire("moveend"):(yn=b._limitOffset(yn,b.options.maxBounds),X(function(){b.panBy(yn,{duration:an,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});_n.addInitHook("addHandler","dragging",xc),_n.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ua=na.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Qt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),gn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,b=document.documentElement,I=p.scrollTop||b.scrollTop,z=p.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(z,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var b=this._panKeys={},I=this.keyCodes,z,ne;for(z=0,ne=I.left.length;z<ne;z++)b[I.left[z]]=[-1*p,0];for(z=0,ne=I.right.length;z<ne;z++)b[I.right[z]]=[p,0];for(z=0,ne=I.down.length;z<ne;z++)b[I.down[z]]=[0,p];for(z=0,ne=I.up.length;z<ne;z++)b[I.up[z]]=[0,-1*p]},_setZoomDelta:function(p){var b=this._zoomKeys={},I=this.keyCodes,z,ne;for(z=0,ne=I.zoomIn.length;z<ne;z++)b[I.zoomIn[z]]=p;for(z=0,ne=I.zoomOut.length;z<ne;z++)b[I.zoomOut[z]]=-p},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){gn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var b=p.keyCode,I=this._map,z;if(b in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(z=this._panKeys[b],p.shiftKey&&(z=k(z).multiplyBy(3)),I.options.maxBounds&&(z=I._limitOffset(k(z),I.options.maxBounds)),I.options.worldCopyJump){var ne=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(z)));I.panTo(ne)}else I.panBy(z)}else if(b in this._zoomKeys)I.setZoom(I.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;zi(p)}}});_n.addInitHook("addHandler","keyboard",ua),_n.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var la=na.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){gn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var b=co(p),I=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var z=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),z),zi(p)},_performZoom:function(){var p=this._map,b=p.getZoom(),I=this._map.options.zoomSnap||0;p._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ne=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,ye=I?Math.ceil(ne/I)*I:ne,Ge=p._limitZoom(b+(this._delta>0?ye:-ye))-b;this._delta=0,this._startTime=null,Ge&&(p.options.scrollWheelZoom==="center"?p.setZoom(b+Ge):p.setZoomAround(this._lastMousePos,b+Ge))}});_n.addInitHook("addHandler","scrollWheelZoom",la);var Zs=600;_n.mergeOptions({tapHold:xe.touchNative&&xe.safari&&xe.mobile,tapTolerance:15});var go=na.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){gn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var b=p.touches[0];this._startPos=this._newPos=new se(b.clientX,b.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",or),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),Zs),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){gn(document,"touchend",or),gn(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),gn(document,"touchend touchcancel contextmenu",this._cancel,this),gn(document,"touchmove",this._onMove,this)},_onMove:function(p){var b=p.touches[0];this._newPos=new se(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,b){var I=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});I._simulated=!0,b.target.dispatchEvent(I)}});_n.addInitHook("addHandler","tapHold",go),_n.mergeOptions({touchZoom:xe.touch,bounceAtZoomLimits:!0});var mo=na.extend({addHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),gn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var b=this._map;if(!(!p.touches||p.touches.length!==2||b._animatingZoom||this._zooming)){var I=b.mouseEventToContainerPoint(p.touches[0]),z=b.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(I.add(z)._divideBy(2))),this._startDist=I.distanceTo(z),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),or(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var b=this._map,I=b.mouseEventToContainerPoint(p.touches[0]),z=b.mouseEventToContainerPoint(p.touches[1]),ne=I.distanceTo(z)/this._startDist;if(this._zoom=b.getScaleZoom(ne,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&ne<1||this._zoom>b.getMaxZoom()&&ne>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,ne===1)return}else{var ye=I._add(z)._divideBy(2)._subtract(this._centerPoint);if(ne===1&&ye.x===0&&ye.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(ye),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),le(this._animRequest);var Ge=o(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(Ge,this,!0),or(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,le(this._animRequest),gn(document,"touchmove",this._onTouchMove,this),gn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_n.addInitHook("addHandler","touchZoom",mo),_n.BoxZoom=Qs,_n.DoubleClickZoom=Sc,_n.Drag=xc,_n.Keyboard=ua,_n.ScrollWheelZoom=la,_n.TapHold=go,_n.TouchZoom=mo,n.Bounds=re,n.Browser=xe,n.CRS=Je,n.Canvas=bc,n.Circle=vp,n.CircleMarker=pc,n.Class=oe,n.Control=dr,n.DivIcon=tv,n.DivOverlay=$a,n.DomEvent=Wu,n.DomUtil=Un,n.Draggable=cs,n.Evented=de,n.FeatureGroup=ra,n.GeoJSON=aa,n.GridLayer=nl,n.Handler=na,n.Icon=Zu,n.ImageOverlay=_c,n.LatLng=pe,n.LatLngBounds=W,n.Layer=ja,n.LayerGroup=zs,n.LineUtil=Qy,n.Map=_n,n.Marker=Xu,n.Mixin=Zf,n.Path=Fo,n.Point=se,n.PolyUtil=e1,n.Polygon=Yu,n.Polyline=jo,n.Popup=wc,n.PosAnimation=fo,n.Projection=Zy,n.Rectangle=sa,n.Renderer=Ea,n.SVG=po,n.SVGOverlay=Sp,n.TileLayer=wi,n.Tooltip=id,n.Transformation=ae,n.Util=te,n.VideoOverlay=Vs,n.bind=o,n.bounds=ge,n.canvas=ad,n.circle=o1,n.circleMarker=Yy,n.control=Hi,n.divIcon=nv,n.extend=i,n.featureGroup=hc,n.geoJSON=tl,n.geoJson=wp,n.gridLayer=rv,n.icon=td,n.imageOverlay=Hs,n.latLng=Te,n.latLngBounds=ee,n.layerGroup=Xy,n.map=Na,n.marker=yp,n.point=k,n.polygon=ia,n.polyline=s1,n.popup=ev,n.rectangle=rl,n.setOptions=_,n.stamp=l,n.svg=Ep,n.svgOverlay=Ks,n.tileLayer=oa,n.tooltip=u1,n.transformation=H,n.version=r,n.videoOverlay=bp;var Js=window.L;n.noConflict=function(){return window.L=Js,this},window.L=n})}(_m,_m.exports)),_m.exports}var On=vX();const kP=Mr(On),_X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",wX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",bX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete On.Icon.Default.prototype._getIconUrl;On.Icon.Default.mergeOptions({iconUrl:wX,iconRetinaUrl:_X,shadowUrl:bX});const Sq="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",SX=On.icon({...On.Icon.Default.prototype.options,iconUrl:yk,iconRetinaUrl:yk}),xX=e=>On.icon({...On.Icon.Default.prototype.options,iconUrl:vk,iconRetinaUrl:vk,className:e}),ow=["en","cs"],$h="en",xq=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],EX=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:yq,communityId:mq,darkModeLogoStyle:wq,defaultCommunityName:bq,defaultLocale:$h,emailNotificationsIdentity:pX,emailNotificationsService:hX,emailNotificationsType:vq,geoindexService:_q,locales:ow,oidcIssuers:xq,tileServer:Sq},Symbol.toStringTag,{value:"Module"}));function Fi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CX=typeof Symbol=="function"&&Symbol.observable||"@@observable",wk=CX,tx=()=>Math.random().toString(36).substring(7).split("").join("."),TX={INIT:`@@redux/INIT${tx()}`,REPLACE:`@@redux/REPLACE${tx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tx()}`},sw=TX;function NP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function FP(e,t,n){if(typeof e!="function")throw new Error(Fi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fi(1));return n(FP)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((S,w)=>{o.set(w,S)}))}function d(){if(l)throw new Error(Fi(3));return i}function h(S){if(typeof S!="function")throw new Error(Fi(4));if(l)throw new Error(Fi(5));let w=!0;c();const x=s++;return o.set(x,S),function(){if(w){if(l)throw new Error(Fi(6));w=!1,c(),o.delete(x),a=null}}}function g(S){if(!NP(S))throw new Error(Fi(7));if(typeof S.type>"u")throw new Error(Fi(8));if(typeof S.type!="string")throw new Error(Fi(17));if(l)throw new Error(Fi(9));try{l=!0,i=r(i,S)}finally{l=!1}return(a=o).forEach(x=>{x()}),S}function y(S){if(typeof S!="function")throw new Error(Fi(10));r=S,g({type:sw.REPLACE})}function v(){const S=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Fi(11));function x(){const P=w;P.next&&P.next(d())}return x(),{unsubscribe:S(x)}},[wk](){return this}}}return g({type:sw.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:y,[wk]:v}}function RX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sw.INIT})>"u")throw new Error(Fi(12));if(typeof n(void 0,{type:sw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fi(13))})}function Eq(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{RX(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],g=n[h],y=o[h],v=g(y,s);if(typeof v>"u")throw s&&s.type,new Error(Fi(14));c[h]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?c:o}}function uw(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function AX(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Fi(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=uw(...s)(i.dispatch),{...i,dispatch:a}}}function PX(e){return NP(e)&&"type"in e&&typeof e.type=="string"}var Cq=Symbol.for("immer-nothing"),bk=Symbol.for("immer-draftable"),ro=Symbol.for("immer-state");function Zo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xh=Object.getPrototypeOf;function Rf(e){return!!e&&!!e[ro]}function Iu(e){var t;return e?Tq(e)||Array.isArray(e)||!!e[bk]||!!((t=e.constructor)!=null&&t[bk])||Zw(e)||Jw(e):!1}var OX=Object.prototype.constructor.toString();function Tq(e){if(!e||typeof e!="object")return!1;const t=xh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OX}function lw(e,t){Qw(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Qw(e){const t=e[ro];return t?t.type_:Array.isArray(e)?1:Zw(e)?2:Jw(e)?3:0}function yA(e,t){return Qw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Rq(e,t,n){const r=Qw(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function LX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zw(e){return e instanceof Map}function Jw(e){return e instanceof Set}function rf(e){return e.copy_||e.base_}function vA(e,t){if(Zw(e))return new Map(e);if(Jw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Tq(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ro];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(xh(e),r)}else{const r=xh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function jP(e,t=!1){return Xw(e)||Rf(e)||!Iu(e)||(Qw(e)>1&&(e.set=e.add=e.clear=e.delete=IX),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>jP(r,!0))),e}function IX(){Zo(2)}function Xw(e){return Object.isFrozen(e)}var MX={};function Af(e){const t=MX[e];return t||Zo(0,e),t}var Wm;function Aq(){return Wm}function DX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sk(e,t){t&&(Af("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _A(e){wA(e),e.drafts_.forEach(kX),e.drafts_=null}function wA(e){e===Wm&&(Wm=e.parent_)}function xk(e){return Wm=DX(Wm,e)}function kX(e){const t=e[ro];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ek(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ro].modified_&&(_A(t),Zo(4)),Iu(e)&&(e=cw(t,e),t.parent_||fw(t,e)),t.patches_&&Af("Patches").generateReplacementPatches_(n[ro].base_,e,t.patches_,t.inversePatches_)):e=cw(t,n,[]),_A(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Cq?e:void 0}function cw(e,t,n){if(Xw(t))return t;const r=t[ro];if(!r)return lw(t,(i,a)=>Ck(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return fw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),lw(a,(s,l)=>Ck(e,r,i,s,l,n,o)),fw(e,i,!1),n&&e.patches_&&Af("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Ck(e,t,n,r,i,a,o){if(Rf(i)){const s=a&&t&&t.type_!==3&&!yA(t.assigned_,r)?a.concat(r):void 0,l=cw(e,i,s);if(Rq(n,r,l),Rf(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Iu(i)&&!Xw(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cw(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&fw(e,i)}}function fw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jP(t,n)}function NX(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Aq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=$P;n&&(i=[r],a=Qm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var $P={get(e,t){if(t===ro)return e;const n=rf(e);if(!yA(n,t))return FX(e,n,t);const r=n[t];return e.finalized_||!Iu(r)?r:r===nx(e.base_,t)?(rx(e),e.copy_[t]=SA(r,e)):r},has(e,t){return t in rf(e)},ownKeys(e){return Reflect.ownKeys(rf(e))},set(e,t,n){const r=Pq(rf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=nx(rf(e),t),a=i==null?void 0:i[ro];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(LX(n,i)&&(n!==void 0||yA(e.base_,t)))return!0;rx(e),bA(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rx(e),bA(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=rf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zo(11)},getPrototypeOf(e){return xh(e.base_)},setPrototypeOf(){Zo(12)}},Qm={};lw($P,(e,t)=>{Qm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qm.deleteProperty=function(e,t){return Qm.set.call(this,e,t,void 0)};Qm.set=function(e,t,n){return $P.set.call(this,e[0],t,n,e[0])};function nx(e,t){const n=e[ro];return(n?rf(n):e)[t]}function FX(e,t,n){var i;const r=Pq(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Pq(e,t){if(!(t in e))return;let n=xh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xh(n)}}function bA(e){e.modified_||(e.modified_=!0,e.parent_&&bA(e.parent_))}function rx(e){e.copy_||(e.copy_=vA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const s=this;return function(c=o,...d){return s.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&Zo(6),i!==void 0&&typeof i!="function"&&Zo(7);let a;if(Iu(n)){const o=xk(this),s=SA(n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?_A(o):wA(o)}return Sk(o,i),Ek(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===Cq&&(a=void 0),this.autoFreeze_&&jP(a,!0),i){const o=[],s=[];Af("Patches").generateReplacementPatches_(n,a,o,s),i(o,s)}return a}else Zo(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(s,...l)=>this.produceWithPatches(s,c=>n(c,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Iu(t)||Zo(8),Rf(t)&&(t=$X(t));const n=xk(this),r=SA(t,void 0);return r[ro].isManual_=!0,wA(n),r}finishDraft(t,n){const r=t&&t[ro];(!r||!r.isManual_)&&Zo(9);const{scope_:i}=r;return Sk(i,n),Ek(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Af("Patches").applyPatches_;return Rf(t)?i(t,n):this.produce(t,a=>i(a,n))}};function SA(e,t){const n=Zw(e)?Af("MapSet").proxyMap_(e,t):Jw(e)?Af("MapSet").proxySet_(e,t):NX(e,t);return(t?t.scope_:Aq()).drafts_.push(n),n}function $X(e){return Rf(e)||Zo(10,e),Oq(e)}function Oq(e){if(!Iu(e)||Xw(e))return e;const t=e[ro];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vA(e,t.scope_.immer_.useStrictShallowCopy_)}else n=vA(e,!0);return lw(n,(r,i)=>{Rq(n,r,Oq(i))}),t&&(t.finalized_=!1),n}var io=new jX,Lq=io.produce;io.produceWithPatches.bind(io);io.setAutoFreeze.bind(io);io.setUseStrictShallowCopy.bind(io);io.applyPatches.bind(io);io.createDraft.bind(io);io.finishDraft.bind(io);function Iq(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var BX=Iq(),UX=Iq,qX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uw:uw.apply(null,arguments)},zX=e=>e&&typeof e.match=="function";function Tk(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Au(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PX(r)&&r.type===e,n}var Mq=class wm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wm.prototype)}static get[Symbol.species](){return wm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wm(...t[0].concat(this)):new wm(...t.concat(this))}};function Rk(e){return Iu(e)?Lq(e,()=>{}):e}function Ak(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function HX(e){return typeof e=="boolean"}var VX=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new Mq;return n&&(HX(n)?o.push(BX):o.push(UX(n.extraArgument))),o},KX="RTK_autoBatch",Pk=e=>t=>{setTimeout(t,e)},GX=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Pk(10):e.type==="callback"?e.queueNotification:Pk(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),g=r.subscribe(h);return s.add(d),()=>{g(),s.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[KX]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},WX=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Mq(e);return r&&i.push(GX(typeof r=="object"?r:void 0)),i};function QX(e){const t=VX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e;let s;if(typeof n=="function")s=n;else if(NP(n))s=Eq(n);else throw new Error(Au(1));let l;typeof r=="function"?l=r(t):l=t();let c=uw;i&&(c=qX({trace:!1,...typeof i=="object"&&i}));const d=AX(...l),h=WX(d);let g=typeof o=="function"?o(h):h();const y=c(...g);return FP(s,a,y)}function Dq(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Au(28));if(s in t)throw new Error(Au(29));return t[s]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function ZX(e){return typeof e=="function"}function JX(e,t){let[n,r,i]=Dq(t),a;if(ZX(e))a=()=>Rk(e());else{const s=Rk(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(Rf(d)){const y=h(d,l);return y===void 0?d:y}else{if(Iu(d))return Lq(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},s)}return o.getInitialState=a,o}var XX=(e,t)=>zX(e)?e.match(t):e(t);function YX(...e){return t=>e.some(n=>XX(n,t))}var eY=Symbol.for("rtk-slice-createasyncthunk");function tY(e,t){return`${e}/${t}`}function nY({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[eY];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Au(11));const s=(typeof i.reducers=="function"?i.reducers(iY()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const O=typeof R=="string"?R:R.type;if(!O)throw new Error(Au(12));if(O in c.sliceCaseReducersByType)throw new Error(Au(13));return c.sliceCaseReducersByType[O]=P,d},addMatcher(R,P){return c.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return c.actionCreators[R]=P,d},exposeCaseReducer(R,P){return c.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=s[R],O={reducerName:R,type:tY(a,R),createNotation:typeof i.reducers=="function"};oY(P)?uY(O,P,d,t):aY(O,P,d)});function h(){const[R={},P=[],O=void 0]=typeof i.extraReducers=="function"?Dq(i.extraReducers):[i.extraReducers],D={...R,...c.sliceCaseReducersByType};return JX(i.initialState,F=>{for(let Q in D)F.addCase(Q,D[Q]);for(let Q of c.sliceMatchers)F.addMatcher(Q.matcher,Q.reducer);for(let Q of P)F.addMatcher(Q.matcher,Q.reducer);O&&F.addDefaultCase(O)})}const g=R=>R,y=new Map;let v;function _(R,P){return v||(v=h()),v(R,P)}function S(){return v||(v=h()),v.getInitialState()}function w(R,P=!1){function O(F){let Q=F[R];return typeof Q>"u"&&P&&(Q=S()),Q}function D(F=g){const Q=Ak(y,P,()=>new WeakMap);return Ak(Q,F,()=>{const Y={};for(const[q,X]of Object.entries(i.selectors??{}))Y[q]=rY(X,F,S,P);return Y})}return{reducerPath:R,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const x={name:a,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...w(o),injectInto(R,{reducerPath:P,...O}={}){const D=P??o;return R.inject({reducerPath:D,reducer:_},O),{...x,...w(D,!0)}}};return x}}function rY(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Yw=nY();function iY(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function aY({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!sY(r))throw new Error(Au(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Tk(e,o):Tk(e))}function oY(e){return e._reducerDefinitionType==="asyncThunk"}function sY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uY({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Au(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,h=i(e,a,d);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(t,{fulfilled:o||e_,pending:s||e_,rejected:l||e_,settled:c||e_})}function e_(){}function Au(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const kq=()=>{var n;const e=((n=globalThis.navigator.languages)==null?void 0:n[0])??globalThis.navigator.language;return ow.find(r=>r===e)??ow.find(r=>e.startsWith(r))??$h},lY={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",locale:kq()},cY=Yw({name:"ui",initialState:lY,reducers:{toggleTheme:e=>{e.theme=e.theme==="dark"?"light":"dark"},changeLocale:(e,t)=>{e.locale=t.payload??kq()}}}),{actions:BP,reducer:fY}=cY,UP=e=>e.ui.theme,Lo=e=>e.ui.locale;var ix={},ax={},Ok;function dY(){return Ok||(Ok=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorMessages=e.ErrorType=void 0;var t;(function(n){n.MalformedUnicode="MALFORMED_UNICODE",n.MalformedHexadecimal="MALFORMED_HEXADECIMAL",n.CodePointLimit="CODE_POINT_LIMIT",n.OctalDeprecation="OCTAL_DEPRECATION",n.EndOfString="END_OF_STRING"})(t=e.ErrorType||(e.ErrorType={})),e.errorMessages=new Map([[t.MalformedUnicode,"malformed Unicode character escape sequence"],[t.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[t.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[t.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[t.EndOfString,"malformed escape sequence at end of string"]])}(ax)),ax}var Lk;function hY(){return Lk||(Lk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unraw=e.errorMessages=e.ErrorType=void 0;const t=dY();Object.defineProperty(e,"ErrorType",{enumerable:!0,get:function(){return t.ErrorType}}),Object.defineProperty(e,"errorMessages",{enumerable:!0,get:function(){return t.errorMessages}});function n(y){return!y.match(/[^a-f0-9]/i)?parseInt(y,16):NaN}function r(y,v,_){const S=n(y);if(Number.isNaN(S)||_!==void 0&&_!==y.length)throw new SyntaxError(t.errorMessages.get(v));return S}function i(y){const v=r(y,t.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(v)}function a(y,v){const _=r(y,t.ErrorType.MalformedUnicode,4);if(v!==void 0){const S=r(v,t.ErrorType.MalformedUnicode,4);return String.fromCharCode(_,S)}return String.fromCharCode(_)}function o(y){return y.charAt(0)==="{"&&y.charAt(y.length-1)==="}"}function s(y){if(!o(y))throw new SyntaxError(t.errorMessages.get(t.ErrorType.MalformedUnicode));const v=y.slice(1,-1),_=r(v,t.ErrorType.MalformedUnicode);try{return String.fromCodePoint(_)}catch(S){throw S instanceof RangeError?new SyntaxError(t.errorMessages.get(t.ErrorType.CodePointLimit)):S}}function l(y,v=!1){if(v)throw new SyntaxError(t.errorMessages.get(t.ErrorType.OctalDeprecation));const _=parseInt(y,8);return String.fromCharCode(_)}const c=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function d(y){return c.get(y)||y}const h=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function g(y,v=!1){return y.replace(h,function(_,S,w,x,R,P,O,D,F){if(S!==void 0)return"\\";if(w!==void 0)return i(w);if(x!==void 0)return s(x);if(R!==void 0)return a(R,P);if(O!==void 0)return a(O);if(D==="0")return"\0";if(D!==void 0)return l(D,!v);if(F!==void 0)return d(F);throw new SyntaxError(t.errorMessages.get(t.ErrorType.EndOfString))})}e.unraw=g,e.default=g}(ix)),ix}var pY=hY();const Gl=e=>typeof e=="string",gY=e=>typeof e=="function",Ik=new Map,Nq="en";function qP(e){return[...Array.isArray(e)?e:[e],Nq]}function zP(e,t,n){const r=qP(e);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return dw(()=>hw("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(Gl(t)?new Date(t):t)}function mY(e,t,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return zP(e,t,r)}function xA(e,t,n){const r=qP(e);return dw(()=>hw("number",r,n),()=>new Intl.NumberFormat(r,n)).format(t)}function Mk(e,t,n,{offset:r=0,...i}){const a=qP(e),o=t?dw(()=>hw("plural-ordinal",a),()=>new Intl.PluralRules(a,{type:"ordinal"})):dw(()=>hw("plural-cardinal",a),()=>new Intl.PluralRules(a,{type:"cardinal"}));return i[n]??i[o.select(n-r)]??i.other}function dw(e,t){const n=e();let r=Ik.get(n);return r||(r=t(),Ik.set(n,r)),r}function hw(e,t,n){const r=t.join("-");return`${e}-${r}-${JSON.stringify(n)}`}const Fq=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,jq="%__lingui_octothorpe__%",yY=(e,t,n={})=>{const r=t||e,i=o=>typeof o=="object"?o:n[o],a=(o,s)=>{const l=Object.keys(n).length?i("number"):void 0,c=xA(r,o,l);return s.replace(new RegExp(jq,"g"),c)};return{plural:(o,s)=>{const{offset:l=0}=s,c=Mk(r,!1,o,s);return a(o-l,c)},selectordinal:(o,s)=>{const{offset:l=0}=s,c=Mk(r,!0,o,s);return a(o-l,c)},select:vY,number:(o,s)=>xA(r,o,i(s)||{style:s}),date:(o,s)=>zP(r,o,i(s)||s),time:(o,s)=>mY(r,o,i(s)||s)}},vY=(e,t)=>t[e]??t.other;function _Y(e,t,n){return(r={},i)=>{const a=yY(t,n,i),o=(l,c=!1)=>Array.isArray(l)?l.reduce((d,h)=>{if(h==="#"&&c)return d+jq;if(Gl(h))return d+h;const[g,y,v]=h;let _={};y==="plural"||y==="selectordinal"||y==="select"?Object.entries(v).forEach(([w,x])=>{_[w]=o(x,y==="plural"||y==="selectordinal")}):_=v;let S;if(y){const w=a[y];S=w(r[g],_)}else S=r[g];return S==null?d:d+S},""):l,s=o(e);return Gl(s)&&Fq.test(s)?pY.unraw(s):Gl(s)?s:s?String(s):""}}var wY=Object.defineProperty,bY=(e,t,n)=>t in e?wY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SY=(e,t,n)=>(bY(e,t+"",n),n);let xY=class{constructor(){SY(this,"_events",{})}on(t,n){var r;return(r=this._events)[t]??(r[t]=[]),this._events[t].push(n),()=>this.removeListener(t,n)}removeListener(t,n){const r=this._getListeners(t);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(t,...n){const r=this._getListeners(t);r&&r.map(i=>i.apply(this,n))}_getListeners(t){const n=this._events[t];return Array.isArray(n)?n:!1}};var EY=Object.defineProperty,CY=(e,t,n)=>t in e?EY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t,n)=>(CY(e,typeof t!="symbol"?t+"":t,n),n);class TY extends xY{constructor(t){super(),Fc(this,"_locale",""),Fc(this,"_locales"),Fc(this,"_localeData",{}),Fc(this,"_messages",{}),Fc(this,"_missing"),Fc(this,"_messageCompiler"),Fc(this,"t",this._.bind(this)),t.missing!=null&&(this._missing=t.missing),t.messages!=null&&this.load(t.messages),t.localeData!=null&&this.loadLocaleData(t.localeData),(typeof t.locale=="string"||t.locales)&&this.activate(t.locale??Nq,t.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(t,n){const r=this._localeData[t];r?Object.assign(r,n):this._localeData[t]=n}setMessagesCompiler(t){return this._messageCompiler=t,this}loadLocaleData(t,n){typeof t=="string"?this._loadLocaleData(t,n):Object.keys(t).forEach(r=>this._loadLocaleData(r,t[r])),this.emit("change")}_load(t,n){const r=this._messages[t];r?Object.assign(r,n):this._messages[t]=n}load(t,n){typeof t=="string"&&typeof n=="object"?this._load(t,n):Object.entries(t).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:t,locales:n,messages:r}){this._locale=t,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(t,n){this._locale=t,this._locales=n,this.emit("change")}_(t,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r==null?void 0:r.message;t||(t=""),Gl(t)||(n=t.values||n,i=t.message,t=t.id);const a=this.messages[t],o=a===void 0,s=this._missing;if(s&&o)return gY(s)?s(this._locale,t):s;o&&this.emit("missing",{id:t,locale:this._locale});let l=a||i||t;return Gl(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),Gl(l)&&Fq.test(l)?JSON.parse(`"${l}"`):Gl(l)?l:_Y(l,this._locale,this._locales)(n,r==null?void 0:r.formats)}date(t,n){return zP(this._locales||this._locale,t,n)}number(t,n){return xA(this._locales||this._locale,t,n)}}function RY(e={}){return new TY(e)}const EA=RY(),AY=/<([a-zA-Z0-9]+)>([\s\S]*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,PY={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function $q(e,t={}){const n=OY(0,"$lingui$"),r=e.split(AY);if(r.length===1)return e;const i=[],a=r.shift();a&&i.push(a);for(const[o,s,l]of Bq(r)){let c=typeof o<"u"?t[o]:void 0;(!c||PY[c.type]&&s)&&(console.error(c?`${c.type} is a void element tag therefore it must have no children`:`Can't use element at index '${o}' as it is not declared in the original translation`),c=Ot.createElement(Ot.Fragment)),Array.isArray(c)&&(c=Ot.createElement(Ot.Fragment,{},c)),i.push(Ot.cloneElement(c,{key:n()},s?$q(s,t):c.props.children)),l&&i.push(l)}return i.length===1?i[0]:i}function Bq(e){if(!e.length)return[];const[t,n,r,i]=e.slice(0,4);return[[t||r,n||"",i]].concat(Bq(e.slice(4,e.length)))}const OY=(e=0,t="")=>()=>`${t}_${e++}`;function LY(e){const{render:t,component:n,id:r,message:i,formats:a,lingui:{i18n:o,defaultComponent:s}}=e,l={...e.values},c={...e.components};Object.keys(l).forEach(_=>{const S=Object.keys(c).length;typeof l[_]=="string"||typeof l[_]=="number"||(c[S]=Ot.createElement(Ot.Fragment,null,l[_]),l[_]=`<${S}/>`)});const d=o&&typeof o._=="function"?o._(r,l,{message:i,formats:a}):r,h=d?$q(d,c):null;if(t===null||n===null)return h;const g=s||IY,y={id:r,message:i,translation:h,children:h};if(t&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&typeof t!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(n&&typeof n!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),Ot.createElement(g,y,h);if(typeof t=="function")return t(y);const v=n||g;return Ot.createElement(v,y,h)}const IY=({children:e})=>Ot.createElement(Ot.Fragment,null,e),Uq=Ot.createContext(null),qq=e=>Ot.useContext(Uq);function Ur(){return qq()}const MY=({i18n:e,defaultComponent:t,children:n})=>{const r=Ot.useRef(e.locale),i=Ot.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[a,o]=Ot.useState(i());return Ot.useEffect(()=>{const s=()=>{r.current=e.locale,o(i())},l=e.on("change",s);return r.current!==e.locale&&s(),l},[e,i]),r.current?Ot.createElement(Uq.Provider,{value:a},n):null};function wt(e){const t=qq();return Ot.createElement(LY,{...e,lingui:t})}const DY=({children:e})=>{const t=$r(Lo),n=oc();return V.useEffect(()=>{t?kY(t):n(BP.changeLocale())},[n,t]),U.jsx(MY,{i18n:EA,children:e})};async function kY(e){const{messages:t}=await dX(Object.assign({"../locales/cs.ts":()=>mk(()=>import("./cs-BwMg5yRr.js"),[]),"../locales/en.ts":()=>mk(()=>import("./en-WoN4Py8E.js"),[])}),`../locales/${e}.ts`,3);EA.load(e,t),EA.activate(e)}const NY={},FY=Yw({name:"auth",initialState:NY,reducers:{signin:(e,t)=>{e.isLoggedIn=t.payload.isLoggedIn,e.webId=t.payload.webId},setUser:(e,t)=>{e.profile=t.payload},signout:e=>{e.isLoggedIn=!1}}}),{actions:HP,reducer:jY}=FY,Bh=e=>e.auth,$Y={},BY=Yw({name:"config",initialState:$Y,reducers:{setConfig:(e,t)=>{Object.assign(e,t.payload)},resetConfig:()=>({})}}),{actions:CA,reducer:UY}=BY,zq=e=>e.config,qY={},zY=Yw({name:"login",initialState:qY,reducers:{setLastSelectedIssuer:(e,t)=>{e.lastSelectedIssuer=t.payload}}}),{actions:pw,reducer:HY}=zY,Hq=e=>e.login.lastSelectedIssuer;var VP="persist:",KP="persist/FLUSH",eb="persist/REHYDRATE",GP="persist/PAUSE",WP="persist/PERSIST",QP="persist/PURGE",ZP="persist/REGISTER",VY=-1;function N0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N0=function(n){return typeof n}:N0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N0(e)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(n,!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e,t,n,r){r.debug;var i=KY({},n);return e&&N0(e)==="object"&&Object.keys(e).forEach(function(a){a!=="_persist"&&t[a]===n[a]&&(i[a]=e[a])}),i}function QY(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,a="".concat(e.keyPrefix!==void 0?e.keyPrefix:VP).concat(e.key),o=e.storage,s;e.serialize===!1?s=function(O){return O}:typeof e.serialize=="function"?s=e.serialize:s=ZY;var l=e.writeFailHandler||null,c={},d={},h=[],g=null,y=null,v=function(O){Object.keys(O).forEach(function(D){w(D)&&c[D]!==O[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(c).forEach(function(D){O[D]===void 0&&w(D)&&h.indexOf(D)===-1&&c[D]!==void 0&&h.push(D)}),g===null&&(g=setInterval(_,i)),c=O};function _(){if(h.length===0){g&&clearInterval(g),g=null;return}var P=h.shift(),O=r.reduce(function(D,F){return F.in(D,P,c)},c[P]);if(O!==void 0)try{d[P]=s(O)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete d[P];h.length===0&&S()}function S(){Object.keys(d).forEach(function(P){c[P]===void 0&&delete d[P]}),y=o.setItem(a,s(d)).catch(x)}function w(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function x(P){l&&l(P)}var R=function(){for(;h.length!==0;)_();return y||Promise.resolve()};return{update:v,flush:R}}function ZY(e){return JSON.stringify(e)}function JY(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:VP).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(o){return o}:typeof e.deserialize=="function"?i=e.deserialize:i=XY,r.getItem(n).then(function(a){if(a)try{var o={},s=i(a);return Object.keys(s).forEach(function(l){o[l]=t.reduceRight(function(c,d){return d.out(c,l,s)},i(s[l]))}),o}catch(l){throw l}else return})}function XY(e){return JSON.parse(e)}function YY(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:VP).concat(e.key);return t.removeItem(n,eee)}function eee(e){}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(n,!0).forEach(function(r){tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e,t){if(e==null)return{};var n=ree(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ree(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var iee=5e3;function aee(e,t){var n=e.version!==void 0?e.version:VY;e.debug;var r=e.stateReconciler===void 0?WY:e.stateReconciler,i=e.getStoredState||JY,a=e.timeout!==void 0?e.timeout:iee,o=null,s=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var g=d||{},y=g._persist,v=nee(g,["_persist"]),_=v;if(h.type===WP){var S=!1,w=function(Q,Y){S||(h.rehydrate(e.key,Q,Y),S=!0)};if(a&&setTimeout(function(){!S&&w(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},a),l=!1,o||(o=QY(e)),y)return hu({},t(_,h),{_persist:y});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then(function(F){var Q=e.migrate||function(Y,q){return Promise.resolve(Y)};Q(F,n).then(function(Y){w(Y)},function(Y){w(void 0,Y)})},function(F){w(void 0,F)}),hu({},t(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===QP)return s=!0,h.result(YY(e)),hu({},t(_,h),{_persist:y});if(h.type===KP)return h.result(o&&o.flush()),hu({},t(_,h),{_persist:y});if(h.type===GP)l=!0;else if(h.type===eb){if(s)return hu({},_,{_persist:hu({},y,{rehydrated:!0})});if(h.key===e.key){var x=t(_,h),R=h.payload,P=r!==!1&&R!==void 0?r(R,d,x,e):x,O=hu({},P,{_persist:hu({},y,{rehydrated:!0})});return c(O)}}}if(!y)return t(d,h);var D=t(_,h);return D===_?d:c(hu({},D,{_persist:y}))}}function Nk(e){return uee(e)||see(e)||oee()}function oee(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function see(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function uee(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(n,!0).forEach(function(r){lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vq={registry:[],bootstrapped:!1},cee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vq,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ZP:return TA({},t,{registry:[].concat(Nk(t.registry),[n.key])});case eb:var r=t.registry.indexOf(n.key),i=Nk(t.registry);return i.splice(r,1),TA({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function fee(e,t,n){var r=FP(cee,Vq,void 0),i=function(l){r.dispatch({type:ZP,key:l})},a=function(l,c,d){var h={type:eb,payload:c,err:d,key:l};e.dispatch(h),r.dispatch(h)},o=TA({},r,{purge:function(){var l=[];return e.dispatch({type:QP,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:KP,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){e.dispatch({type:GP})},persist:function(){e.dispatch({type:WP,register:i,rehydrate:a})}});return o.persist(),o}var ig={},t_={},n_={},jk;function dee(){if(jk)return n_;jk=1,n_.__esModule=!0,n_.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(a)}function t(){}var n={getItem:t,setItem:t,removeItem:t};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var o=self[a],s="redux-persist ".concat(a," test");o.setItem(s,"test"),o.getItem(s),o.removeItem(s)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:n}return n_}var $k;function hee(){if($k)return t_;$k=1,t_.__esModule=!0,t_.default=n;var e=t(dee());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,e.default)(r);return{getItem:function(o){return new Promise(function(s,l){s(i.getItem(o))})},setItem:function(o,s){return new Promise(function(l,c){l(i.setItem(o,s))})},removeItem:function(o){return new Promise(function(s,l){s(i.removeItem(o))})}}}return t_}var Bk;function pee(){if(Bk)return ig;Bk=1,ig.__esModule=!0,ig.default=void 0;var e=t(hee());function t(r){return r&&r.__esModule?r:{default:r}}var n=(0,e.default)("local");return ig.default=n,ig}var gee=pee();const mee=Mr(gee),r_=Eq({auth:jY,login:HY,config:UY,ui:fY}),yee=(e,t)=>{if(YX(HP.signout)(t)){let n=r_(void 0,t);const r=e&&zq(e);r&&(n=r_(n,CA.setConfig(r)));const i=e&&Hq(e);return i&&(n=r_(n,pw.setLastSelectedIssuer(i))),n}return r_(e,t)},vee={key:"root",storage:mee,whitelist:["login","config","ui"]},_ee=aee(vee,yee),Kq=QX({reducer:_ee,middleware:e=>e({serializableCheck:{ignoredActions:[KP,eb,GP,WP,QP,ZP]}})}),wee=fee(Kq),Uh=crypto,JP=e=>e instanceof CryptoKey,Ps=new TextEncoder,Eh=new TextDecoder;function Gq(...e){const t=e.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const bee=e=>{let t=e;typeof t=="string"&&(t=Ps.encode(t));const n=32768,r=[];for(let i=0;i<t.length;i+=n)r.push(String.fromCharCode.apply(null,t.subarray(i,i+n)));return btoa(r.join(""))},F0=e=>bee(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),See=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},Sf=e=>{let t=e;t instanceof Uint8Array&&(t=Eh.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return See(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Bi extends Error{constructor(t,n){var r;super(t,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Bi.code="ERR_JOSE_GENERIC";class Ho extends Bi{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Ho.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class RA extends Bi{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}RA.code="ERR_JWT_EXPIRED";class Wq extends Bi{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Wq.code="ERR_JOSE_ALG_NOT_ALLOWED";class La extends Bi{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}La.code="ERR_JOSE_NOT_SUPPORTED";class xee extends Bi{constructor(t="decryption operation failed",n){super(t,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}xee.code="ERR_JWE_DECRYPTION_FAILED";class Eee extends Bi{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}Eee.code="ERR_JWE_INVALID";class Fr extends Bi{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Fr.code="ERR_JWS_INVALID";class tb extends Bi{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}tb.code="ERR_JWT_INVALID";class Cee extends Bi{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}Cee.code="ERR_JWK_INVALID";class XP extends Bi{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}XP.code="ERR_JWKS_INVALID";class YP extends Bi{constructor(t="no applicable key found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}YP.code="ERR_JWKS_NO_MATCHING_KEY";class Qq extends Bi{constructor(t="multiple matching keys found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Qq.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class Zq extends Bi{constructor(t="request timed out",n){super(t,n),this.code="ERR_JWKS_TIMEOUT"}}Zq.code="ERR_JWKS_TIMEOUT";class Jq extends Bi{constructor(t="signature verification failed",n){super(t,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}Jq.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function pu(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function i_(e,t){return e.name===t}function ox(e){return parseInt(e.name.slice(4),10)}function Tee(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Ree(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function Aee(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!i_(e.algorithm,"HMAC"))throw pu("HMAC");const r=parseInt(t.slice(2),10);if(ox(e.algorithm.hash)!==r)throw pu(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i_(e.algorithm,"RSASSA-PKCS1-v1_5"))throw pu("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(ox(e.algorithm.hash)!==r)throw pu(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i_(e.algorithm,"RSA-PSS"))throw pu("RSA-PSS");const r=parseInt(t.slice(2),10);if(ox(e.algorithm.hash)!==r)throw pu(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw pu("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!i_(e.algorithm,"ECDSA"))throw pu("ECDSA");const r=Tee(t);if(e.algorithm.namedCurve!==r)throw pu(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Ree(e,n)}function Xq(e,t,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();e+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const AA=(e,...t)=>Xq("Key must be ",e,...t);function Yq(e,t,...n){return Xq(`Key for the ${e} algorithm must be `,t,...n)}const e9=e=>JP(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",Zm=["CryptoKey"],t9=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function Pee(e){return typeof e=="object"&&e!==null}function Mu(e){if(!Pee(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const n9=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function qh(e){return Mu(e)&&typeof e.kty=="string"}function Oee(e){return e.kty!=="oct"&&typeof e.d=="string"}function Lee(e){return e.kty!=="oct"&&typeof e.d>"u"}function Iee(e){return qh(e)&&e.kty==="oct"&&typeof e.k=="string"}function Mee(e){let t,n;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new La('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const r9=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=Mee(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,Uh.subtle.importKey("jwk",i,...r)},i9=e=>Sf(e);let Ad,Pd;const a9=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",gw=async(e,t,n,r,i=!1)=>{let a=e.get(t);if(a!=null&&a[r])return a[r];const o=await r9({...n,alg:r});return i&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},Dee=(e,t)=>{if(a9(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?i9(n.k):(Pd||(Pd=new WeakMap),gw(Pd,e,n,t))}return qh(e)?e.k?Sf(e.k):(Pd||(Pd=new WeakMap),gw(Pd,e,e,t,!0)):e},kee=(e,t)=>{if(a9(e)){let n=e.export({format:"jwk"});return n.k?i9(n.k):(Ad||(Ad=new WeakMap),gw(Ad,e,n,t))}return qh(e)?e.k?Sf(e.k):(Ad||(Ad=new WeakMap),gw(Ad,e,e,t,!0)):e},Uk={normalizePublicKey:Dee,normalizePrivateKey:kee};async function o9(e,t){if(!Mu(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Sf(e.k);case"RSA":if(e.oth!==void 0)throw new La('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return r9({...e,alg:t});default:throw new La('Unsupported "kty" (Key Type) Parameter value')}}const Gd=e=>e==null?void 0:e[Symbol.toStringTag],PA=(e,t,n)=>{var r,i;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((i=(r=t.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},Nee=(e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&qh(t)){if(Iee(t)&&PA(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!e9(t))throw new TypeError(Yq(e,t,...Zm,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${Gd(t)} instances for symmetric algorithms must be of type "secret"`)}},Fee=(e,t,n,r)=>{if(r&&qh(t))switch(n){case"sign":if(Oee(t)&&PA(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(Lee(t)&&PA(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!e9(t))throw new TypeError(Yq(e,t,...Zm,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${Gd(t)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${Gd(t)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${Gd(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${Gd(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${Gd(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function s9(e,t,n,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Nee(t,n,r,e):Fee(t,n,r,e)}s9.bind(void 0,!1);const OA=s9.bind(void 0,!0);function u9(e,t,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...t.entries()]):a=t;for(const o of r.crit){if(!a.has(o))throw new La(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const jee=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},$ee=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:F0(e)};if(!JP(e))throw new TypeError(AA(e,...Zm,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...a}=await Uh.subtle.exportKey("jwk",e);return a};async function Bee(e){return $ee(e)}function l9(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new La(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function c9(e,t,n){if(n==="sign"&&(t=await Uk.normalizePrivateKey(t,e)),n==="verify"&&(t=await Uk.normalizePublicKey(t,e)),JP(t))return Aee(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(AA(t,...Zm));return Uh.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(AA(t,...Zm,"Uint8Array","JSON Web Key"))}const Uee=async(e,t,n,r)=>{const i=await c9(e,t,"verify");n9(e,i);const a=l9(e,i.algorithm);try{return await Uh.subtle.verify(a,i,n,r)}catch{return!1}};async function qee(e,t,n){if(!Mu(e))throw new Fr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new Fr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new Fr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new Fr("JWS Payload missing");if(typeof e.signature!="string")throw new Fr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Mu(e.header))throw new Fr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const _=Sf(e.protected);r=JSON.parse(Eh.decode(_))}catch{throw new Fr("JWS Protected Header is invalid")}if(!t9(r,e.header))throw new Fr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header},a=u9(Fr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new Fr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new Fr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=jee("algorithms",n.algorithms);if(l&&!l.has(s))throw new Wq('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof e.payload!="string")throw new Fr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new Fr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof t=="function"?(t=await t(r,e),c=!0,OA(s,t,"verify"),qh(t)&&(t=await o9(t,s))):OA(s,t,"verify");const d=Gq(Ps.encode(e.protected??""),Ps.encode("."),typeof e.payload=="string"?Ps.encode(e.payload):e.payload);let h;try{h=Sf(e.signature)}catch{throw new Fr("Failed to base64url decode the signature")}if(!await Uee(s,t,h,d))throw new Jq;let y;if(o)try{y=Sf(e.payload)}catch{throw new Fr("Failed to base64url decode the payload")}else typeof e.payload=="string"?y=Ps.encode(e.payload):y=e.payload;const v={payload:y};return e.protected!==void 0&&(v.protectedHeader=r),e.header!==void 0&&(v.unprotectedHeader=e.header),c?{...v,key:t}:v}async function zee(e,t,n){if(e instanceof Uint8Array&&(e=Eh.decode(e)),typeof e!="string")throw new Fr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=e.split(".");if(o!==3)throw new Fr("Invalid Compact JWS");const s=await qee({payload:i,protected:r,signature:a},t,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const Ol=e=>Math.floor(e.getTime()/1e3),f9=60,d9=f9*60,eO=d9*24,Hee=eO*7,Vee=eO*365.25,Kee=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Dm=e=>{const t=Kee.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),r=t[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*f9);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*d9);break;case"day":case"days":case"d":i=Math.round(n*eO);break;case"week":case"weeks":case"w":i=Math.round(n*Hee);break;default:i=Math.round(n*Vee);break}return t[1]==="-"||t[4]==="ago"?-i:i},qk=e=>e.toLowerCase().replace(/^application\//,""),Gee=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,Wee=(e,t,n={})=>{let r;try{r=JSON.parse(Eh.decode(t))}catch{}if(!Mu(r))throw new tb("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof e.typ!="string"||qk(e.typ)!==qk(i)))throw new Ho('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:l,maxTokenAge:c}=n,d=[...a];c!==void 0&&d.push("iat"),l!==void 0&&d.push("aud"),s!==void 0&&d.push("sub"),o!==void 0&&d.push("iss");for(const v of new Set(d.reverse()))if(!(v in r))throw new Ho(`missing required "${v}" claim`,r,v,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new Ho('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new Ho('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!Gee(r.aud,typeof l=="string"?[l]:l))throw new Ho('unexpected "aud" claim value',r,"aud","check_failed");let h;switch(typeof n.clockTolerance){case"string":h=Dm(n.clockTolerance);break;case"number":h=n.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=n,y=Ol(g||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new Ho('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Ho('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+h)throw new Ho('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Ho('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-h)throw new RA('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){const v=y-r.iat,_=typeof c=="number"?c:Dm(c);if(v-h>_)throw new RA('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(v<0-h)throw new Ho('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function Qee(e,t,n){var o;const r=await zee(e,t,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new tb("JWTs MUST NOT use unencoded payload");const a={payload:Wee(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof t=="function"?{...a,key:r.key}:a}const Zee=async(e,t,n)=>{const r=await c9(e,t,"sign");n9(e,r);const i=await Uh.subtle.sign(l9(e,r.algorithm),r,n);return new Uint8Array(i)};class Jee{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Fr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!t9(this._protectedHeader,this._unprotectedHeader))throw new Fr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=u9(Fr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Fr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new Fr('JWS "alg" (Algorithm) Header Parameter missing or invalid');OA(o,t,"sign");let s=this._payload;a&&(s=Ps.encode(F0(s)));let l;this._protectedHeader?l=Ps.encode(F0(JSON.stringify(this._protectedHeader))):l=Ps.encode("");const c=Gq(l,Ps.encode("."),s),d=await Zee(o,t,c),h={signature:F0(d),payload:""};return a&&(h.payload=Eh.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=Eh.decode(l)),h}}class Xee{constructor(t){this._flattened=new Jee(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,n){const r=await this._flattened.sign(t,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function jc(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Yee{constructor(t={}){if(!Mu(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:jc("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:jc("setNotBefore",Ol(t))}:this._payload={...this._payload,nbf:Ol(new Date)+Dm(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:jc("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:jc("setExpirationTime",Ol(t))}:this._payload={...this._payload,exp:Ol(new Date)+Dm(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Ol(new Date)}:t instanceof Date?this._payload={...this._payload,iat:jc("setIssuedAt",Ol(t))}:typeof t=="string"?this._payload={...this._payload,iat:jc("setIssuedAt",Ol(new Date)+Dm(t))}:this._payload={...this._payload,iat:jc("setIssuedAt",t)},this}}class ete extends Yee{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,n){var i;const r=new Xee(Ps.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new tb("JWTs MUST NOT use unencoded payload");return r.sign(t,n)}}function tte(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new La('Unsupported "alg" value for a JSON Web Key Set')}}function nte(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(rte)}function rte(e){return Mu(e)}function h9(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class ite{constructor(t){if(this._cached=new WeakMap,!nte(t))throw new XP("JSON Web Key Set malformed");this._jwks=h9(t)}async getKey(t,n){const{alg:r,kid:i}={...t,...n==null?void 0:n.header},a=tte(r),o=this._jwks.keys.filter(c=>{let d=a===c.kty;if(d&&typeof i=="string"&&(d=i===c.kid),d&&typeof c.alg=="string"&&(d=r===c.alg),d&&typeof c.use=="string"&&(d=c.use==="sig"),d&&Array.isArray(c.key_ops)&&(d=c.key_ops.includes("verify")),d&&r==="EdDSA"&&(d=c.crv==="Ed25519"||c.crv==="Ed448"),d)switch(r){case"ES256":d=c.crv==="P-256";break;case"ES256K":d=c.crv==="secp256k1";break;case"ES384":d=c.crv==="P-384";break;case"ES512":d=c.crv==="P-521";break}return d}),{0:s,length:l}=o;if(l===0)throw new YP;if(l!==1){const c=new Qq,{_cached:d}=this;throw c[Symbol.asyncIterator]=async function*(){for(const h of o)try{yield await zk(d,h,r)}catch{}},c}return zk(this._cached,s,r)}}async function zk(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(r[n]===void 0){const i=await o9({...t,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new XP("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function Hk(e){const t=new ite(e),n=async(r,i)=>t.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>h9(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const ate=async(e,t,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},t));const o=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw a?new Zq:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new Bi("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new Bi("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function ote(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let LA;var O0,AU;(typeof navigator>"u"||!((AU=(O0=navigator.userAgent)==null?void 0:O0.startsWith)!=null&&AU.call(O0,"Mozilla/5.0 ")))&&(LA="jose/v5.9.6");const sx=Symbol();function ste(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!Mu(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,Mu))}class ute{constructor(t,n){if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[sx])!==void 0&&(this._cache=n==null?void 0:n[sx],ste(n==null?void 0:n[sx],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Hk(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(t,n)}catch(r){if(r instanceof YP&&this.coolingDown()===!1)return await this.reload(),this._local(t,n);throw r}}async reload(){this._pendingFetch&&ote()&&(this._pendingFetch=void 0);const t=new Headers(this._options.headers);LA&&!t.has("User-Agent")&&(t.set("User-Agent",LA),this._options.headers=Object.fromEntries(t.entries())),this._pendingFetch||(this._pendingFetch=ate(this._url,this._timeoutDuration,this._options).then(n=>{this._local=Hk(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function lte(e,t){const n=new ute(e,t),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function ux(e){const t=(e==null?void 0:e.modulusLength)??2048;if(typeof t!="number"||t<2048)throw new La("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function cte(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:ux(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:ux(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:ux(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new La("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new La("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new La('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Uh.subtle.generateKey(n,!1,r)}async function fte(e,t){return cte(e,t)}const Mi=[];for(let e=0;e<256;++e)Mi.push((e+256).toString(16).slice(1));function dte(e,t=0){return(Mi[e[t+0]]+Mi[e[t+1]]+Mi[e[t+2]]+Mi[e[t+3]]+"-"+Mi[e[t+4]]+Mi[e[t+5]]+"-"+Mi[e[t+6]]+Mi[e[t+7]]+"-"+Mi[e[t+8]]+Mi[e[t+9]]+"-"+Mi[e[t+10]]+Mi[e[t+11]]+Mi[e[t+12]]+Mi[e[t+13]]+Mi[e[t+14]]+Mi[e[t+15]]).toLowerCase()}let lx;const hte=new Uint8Array(16);function pte(){if(!lx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lx=crypto.getRandomValues.bind(crypto)}return lx(hte)}const gte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vk={randomUUID:gte};function p9(e,t,n){var i;if(Vk.randomUUID&&!t&&!e)return Vk.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??pte();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dte(r)}const g9="solidClientAuthn:",mw=["ES256","RS256"],yi={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",NEW_TOKENS:"newTokens",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},Kk=5,mte="openid",yte="offline_access",vte="webid",m9=[mte,yte,vte].join(" ");class _te{constructor(t){nn(this,"handleables");this.handleables=t,this.handleables=t}async getProperHandler(t){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...t)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...t){return await this.getProperHandler(t)!==null}async handle(...t){const n=await this.getProperHandler(t);if(n)return n.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function y9(e,t,n,r){let i,a;try{const{payload:o}=await Qee(e,lte(new URL(t)),{issuer:n,audience:r});i=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${o}].`)}}function v9(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=t.hash==="";return n&&r}catch{return!1}}function _9(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function wte(e,t){return typeof e=="boolean"?!!e:!!t}class bte{constructor(t,n){nn(this,"storageUtility");nn(this,"redirector");nn(this,"parametersGuard",t=>t.issuerConfiguration.grantTypesSupported!==void 0&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&t.redirectUrl!==void 0);this.storageUtility=t,this.redirector=n,this.storageUtility=t,this.redirector=n}async canHandle(t){return this.parametersGuard(t)}async handleRedirect({oidcLoginOptions:t,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(t))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:r,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:(!!t.dpop).toString(),keepAlive:wte(t.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:t.handleRedirect})}}class Ste{constructor(t){nn(this,"sessionInfoManager");this.sessionInfoManager=t,this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}}class xte{constructor(t){nn(this,"redirector");this.redirector=t,this.redirector=t}async canHandle(t,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(t,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class Ete{constructor(t,n){nn(this,"handlers");this.handlers=[new Ste(t),new xte(n)]}async canHandle(){return!0}async handle(t,n){for(const r of this.handlers)await r.canHandle(t,n)&&await r.handle(t,n)}}function w9(){return{isLoggedIn:!1,sessionId:p9(),fetch:(...e)=>fetch(...e)}}async function b9(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class Cte{constructor(t){nn(this,"storageUtility");this.storageUtility=t,this.storageUtility=t}update(t,n){throw new Error("Not Implemented")}set(t,n){throw new Error("Not Implemented")}get(t){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(t){return b9(t,this.storageUtility)}async register(t){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function Tte({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return t!==void 0&&i.searchParams.append("id_token_hint",t),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function Rte({endSessionEndpoint:e,idTokenHint:t}){if(e!==void 0)return function({state:r,postLogoutUrl:i}){return Tte({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:i})}}function Ate(e){return typeof e=="string"&&["DPoP","Bearer"].includes(e)}function S9(e){try{return new URL(e),!0}catch{return!1}}function Pte(e,t){return t.find(n=>e.includes(n))??null}function Ote(e){return e.clientId!==void 0&&!S9(e.clientId)}function Lte(e,t){return t.scopesSupported.includes("webid")&&e.clientId!==void 0&&S9(e.clientId)}function Ite(e){return typeof e=="string"&&["dynamic","static","solid-oidc"].includes(e)}async function Mte(e,t,n,r){let i;if(Lte(e,t))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else if(Ote(e))i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"};else return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(e.sessionId,a),i}const Gk=(e,t)=>fetch(e,t);let Dte=class{constructor(t,n,r,i,a){nn(this,"loginHandler");nn(this,"redirectHandler");nn(this,"logoutHandler");nn(this,"sessionInfoManager");nn(this,"issuerConfigFetcher");nn(this,"boundLogout");nn(this,"fetch",Gk);nn(this,"logout",async(t,n)=>{await this.logoutHandler.handle(t,(n==null?void 0:n.logoutType)==="idp"?{...n,toLogoutUrl:this.boundLogout}:n),this.fetch=Gk,delete this.boundLogout});nn(this,"getSessionInfo",async t=>this.sessionInfoManager.get(t));nn(this,"getAllSessionInfo",async()=>this.sessionInfoManager.getAll());this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function x9(e,t,n){try{const[r,i,a,o,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${r}`)}}async function kte(e,t,n,r,i,a,o,s){n!==void 0&&await e.setForUser(t,{webId:n},{secure:o}),r!==void 0&&await e.setForUser(t,{clientId:r},{secure:o}),await e.setForUser(t,{isLoggedIn:i},{secure:o})}class Nte{constructor(t,n){nn(this,"secureStorage");nn(this,"insecureStorage");this.secureStorage=t,this.insecureStorage=n,this.secureStorage=t,this.insecureStorage=n}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${t}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n))}async get(t,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(t);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${t}] is not stored`);return r}async set(t,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(t,n)}async delete(t,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${t}] is not stored`);return a||void 0}async setForUser(t,n,r){let i;try{i=await this.getUserData(t,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(t,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);delete i[n],await this.setUserData(t,i,r==null?void 0:r.secure)}async deleteAllUserData(t,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}}class Fte{constructor(){nn(this,"map",{})}async get(t){return this.map[t]||void 0}async set(t,n){this.map[t]=n}async delete(t){delete this.map[t]}}class IA extends Error{constructor(t){super(t)}}class bm extends Error{constructor(n){super(`Invalid response from OIDC provider: missing fields ${n}`);nn(this,"missingFields");this.missingFields=n}}class E9 extends Error{constructor(n,r,i){super(n);nn(this,"error");nn(this,"errorDescription");this.error=r,this.errorDescription=i}}function jte(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function tO(e,t,n){return new ete({htu:jte(e),htm:t.toUpperCase(),jti:p9()}).setProtectedHeader({alg:mw[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function $te(){const{privateKey:e,publicKey:t}=await fte(mw[0]),n={privateKey:e,publicKey:await Bee(t)};return[n.publicKey.alg]=mw,n}const C9=600;function Bte(e){return[401,403].includes(e)}async function Ute(e,t,n,r){const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`DPoP ${t}`),i.set("DPoP",await tO(e,(r==null?void 0:r.method)??"get",n)),{...r,headers:i}}async function qte(e,t,n,r){if(n!==void 0)return Ute(e,t,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${t}`),{...r,headers:i}}async function Wk(e,t,n,r){return fetch(t,await qte(t.toString(),e,r,n))}async function zte(e,t,n){const r=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return n==null||n.emit(yi.SESSION_EXTENDED,r.expiresIn??C9),{accessToken:r.accessToken,refreshToken:r.refreshToken,expiresIn:r.expiresIn}}const cx=e=>e!==void 0?e-Kk>0?e-Kk:e:C9;function Hte(e,t){var a;let n=e,r;const i=t==null?void 0:t.refreshOptions;if(i!==void 0){const o=async()=>{var s,l,c,d;try{const{accessToken:h,refreshToken:g,expiresIn:y}=await zte(i,t.dpopKey,t.eventEmitter);n=h,g!==void 0&&(i.refreshToken=g),clearTimeout(r),r=setTimeout(o,cx(y)*1e3),(s=t.eventEmitter)==null||s.emit(yi.TIMEOUT_SET,r)}catch(h){h instanceof E9&&((l=t==null?void 0:t.eventEmitter)==null||l.emit(yi.ERROR,h.error,h.errorDescription),(c=t==null?void 0:t.eventEmitter)==null||c.emit(yi.SESSION_EXPIRED)),h instanceof bm&&h.missingFields.includes("access_token")&&((d=t==null?void 0:t.eventEmitter)==null||d.emit(yi.SESSION_EXPIRED))}};r=setTimeout(o,cx(t.expiresIn)*1e3),(a=t.eventEmitter)==null||a.emit(yi.TIMEOUT_SET,r)}else if(t!==void 0&&t.eventEmitter!==void 0){const o=setTimeout(()=>{t.eventEmitter.emit(yi.SESSION_EXPIRED)},cx(t.expiresIn)*1e3);t.eventEmitter.emit(yi.TIMEOUT_SET,o)}return async(o,s)=>{let l=await Wk(n,o,s,t==null?void 0:t.dpopKey);const c=!l.ok&&!Bte(l.status);return l.ok||c||l.url!==o&&(t==null?void 0:t.dpopKey)!==void 0&&(l=await Wk(n,l.url,s,t.dpopKey)),l}}const Di=[];for(let e=0;e<256;++e)Di.push((e+256).toString(16).slice(1));function Vte(e,t=0){return(Di[e[t+0]]+Di[e[t+1]]+Di[e[t+2]]+Di[e[t+3]]+"-"+Di[e[t+4]]+Di[e[t+5]]+"-"+Di[e[t+6]]+Di[e[t+7]]+"-"+Di[e[t+8]]+Di[e[t+9]]+"-"+Di[e[t+10]]+Di[e[t+11]]+Di[e[t+12]]+Di[e[t+13]]+Di[e[t+14]]+Di[e[t+15]]).toLowerCase()}let fx;const Kte=new Uint8Array(16);function Gte(){if(!fx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fx=crypto.getRandomValues.bind(crypto)}return fx(Kte)}const Wte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qk={randomUUID:Wte};function Qte(e,t,n){var i;if(Qk.randomUUID&&!t&&!e)return Qk.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??Gte();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Vte(r)}var a_={exports:{}},Zk;function zh(){if(Zk)return a_.exports;Zk=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(O,D,F){return Function.prototype.apply.call(O,D,F)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(O){return O!==O};function a(){a.init.call(this)}a_.exports=a,a_.exports.once=w,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");o=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function l(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(O){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var Q=O==="error",Y=this._events;if(Y!==void 0)Q=Q&&Y.error===void 0;else if(!Q)return!1;if(Q){var q;if(D.length>0&&(q=D[0]),q instanceof Error)throw q;var X=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw X.context=q,X}var le=Y[O];if(le===void 0)return!1;if(typeof le=="function")t(le,this,D);else for(var te=le.length,oe=v(le,te),F=0;F<te;++F)t(oe[F],this,D);return!0};function c(P,O,D,F){var Q,Y,q;if(s(D),Y=P._events,Y===void 0?(Y=P._events=Object.create(null),P._eventsCount=0):(Y.newListener!==void 0&&(P.emit("newListener",O,D.listener?D.listener:D),Y=P._events),q=Y[O]),q===void 0)q=Y[O]=D,++P._eventsCount;else if(typeof q=="function"?q=Y[O]=F?[D,q]:[q,D]:F?q.unshift(D):q.push(D),Q=l(P),Q>0&&q.length>Q&&!q.warned){q.warned=!0;var X=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");X.name="MaxListenersExceededWarning",X.emitter=P,X.type=O,X.count=q.length,r(X)}return P}a.prototype.addListener=function(O,D){return c(this,O,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(O,D){return c(this,O,D,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(P,O,D){var F={fired:!1,wrapFn:void 0,target:P,type:O,listener:D},Q=d.bind(F);return Q.listener=D,F.wrapFn=Q,Q}a.prototype.once=function(O,D){return s(D),this.on(O,h(this,O,D)),this},a.prototype.prependOnceListener=function(O,D){return s(D),this.prependListener(O,h(this,O,D)),this},a.prototype.removeListener=function(O,D){var F,Q,Y,q,X;if(s(D),Q=this._events,Q===void 0)return this;if(F=Q[O],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[O],Q.removeListener&&this.emit("removeListener",O,F.listener||D));else if(typeof F!="function"){for(Y=-1,q=F.length-1;q>=0;q--)if(F[q]===D||F[q].listener===D){X=F[q].listener,Y=q;break}if(Y<0)return this;Y===0?F.shift():_(F,Y),F.length===1&&(Q[O]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",O,X||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(O){var D,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var Y=Object.keys(F),q;for(Q=0;Q<Y.length;++Q)q=Y[Q],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[O],typeof D=="function")this.removeListener(O,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(O,D[Q]);return this};function g(P,O,D){var F=P._events;if(F===void 0)return[];var Q=F[O];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?S(Q):v(Q,Q.length)}a.prototype.listeners=function(O){return g(this,O,!0)},a.prototype.rawListeners=function(O){return g(this,O,!1)},a.listenerCount=function(P,O){return typeof P.listenerCount=="function"?P.listenerCount(O):y.call(P,O)},a.prototype.listenerCount=y;function y(P){var O=this._events;if(O!==void 0){var D=O[P];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(P,O){for(var D=new Array(O),F=0;F<O;++F)D[F]=P[F];return D}function _(P,O){for(;O+1<P.length;O++)P[O]=P[O+1];P.pop()}function S(P){for(var O=new Array(P.length),D=0;D<O.length;++D)O[D]=P[D].listener||P[D];return O}function w(P,O){return new Promise(function(D,F){function Q(q){P.removeListener(O,Y),F(q)}function Y(){typeof P.removeListener=="function"&&P.removeListener("error",Q),D([].slice.call(arguments))}R(P,O,Y,{once:!0}),O!=="error"&&x(P,Q,{once:!0})})}function x(P,O,D){typeof P.on=="function"&&R(P,"error",O,D)}function R(P,O,D,F){if(typeof P.on=="function")F.once?P.once(O,D):P.on(O,D);else if(typeof P.addEventListener=="function")P.addEventListener(O,function Q(Y){F.once&&P.removeEventListener(O,Q),D(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return a_.exports}var Zte=zh();const Jte=Mr(Zte);var j0={exports:{}},Xte=j0.exports,Jk;function Yte(){return Jk||(Jk=1,function(e,t){(function(r,i){e.exports=i()})(Xte,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(c){return a[c]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,g){return h&&c(d.prototype,h),g&&c(d,g),d}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=function(){function c(){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,s=o},c.debug=function(){if(l>=4){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.debug.apply(s,Array.from(g))}},c.info=function(){if(l>=3){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.info.apply(s,Array.from(g))}},c.warn=function(){if(l>=2){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.warn.apply(s,Array.from(g))}},c.error=function(){if(l>=1){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.error.apply(s,Array.from(g))}},a(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(h){if(!(0<=h&&h<=4))throw new Error("Invalid log level");l=h}},{key:"logger",get:function(){return s},set:function(h){if(!h.debug&&h.info&&(h.debug=h.info),!(h.debug&&h.info&&h.warn&&h.error))throw new Error("Invalid logger");s=h}}]),c}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,g){return h&&c(d.prototype,h),g&&c(d,g),d}}(),o={setInterval:function(c){function d(h,g){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c,d){return setInterval(c,d)}),clearInterval:function(c){function d(h){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c){return clearInterval(c)})},s=!1,l=null;r.Global=function(){function c(){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){s=!0},c.setXMLHttpRequest=function(h){l=h},a(c,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function d(h,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,g,y){return g&&d(h.prototype,g),y&&d(h,y),h}}(),o=i(0),s=i(7);function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";r.MetadataService=function(){function d(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,d),!h)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=h,this._jsonService=new g(["application/jwk-set+json"])}return d.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},d.prototype.getMetadata=function(){var g=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){o.Log.debug("MetadataService.getMetadata: json received");var v=g._settings.metadataSeed||{};return g._settings.metadata=Object.assign({},v,y),g._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},d.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},d.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},d.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},d.prototype.getTokenEndpoint=function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",g)},d.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},d.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},d.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},d.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},d.prototype._getMetadataProperty=function(g){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+g),this.getMetadata().then(function(v){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),v[g]===void 0){if(y===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+g);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+g),new Error("Metadata does not contain property "+g)}return v[g]})},d.prototype.getSigningKeys=function(){var g=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),g._jsonService.getJson(y).then(function(v){if(o.Log.debug("MetadataService.getSigningKeys: key set received",v),!v.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return g._settings.signingKeys=v.keys,g._settings.signingKeys})})},a(d,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),o=i(1);r.UrlUtility=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(c,d,h){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(d),c+="=",c+=encodeURIComponent(h)},s.parseUrlFragment=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof c!="string"&&(c=h.location.href);var g=c.lastIndexOf(d);g>=0&&(c=c.substr(g+1)),d==="?"&&(g=c.indexOf("#"))>=0&&(c=c.substr(0,g));for(var y,v={},_=/([^&=]+)=([^&]*)/g,S=0;y=_.exec(c);)if(v[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),S++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var w in v)return v;return{}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),o=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(x,R){for(var P=0;P<R.length;P++){var O=R[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,R,P){return R&&w(x.prototype,R),P&&w(x,P),x}}(),s=i(0),l=i(23),c=i(6),d=i(24),h=i(2);function g(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",v="id_token",_="openid",S="client_secret_post";r.OidcClientSettings=function(){function w(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=x.authority,P=x.metadataUrl,O=x.metadata,D=x.signingKeys,F=x.metadataSeed,Q=x.client_id,Y=x.client_secret,q=x.response_type,X=q===void 0?v:q,le=x.scope,te=le===void 0?_:le,oe=x.redirect_uri,he=x.post_logout_redirect_uri,ve=x.client_authentication,de=ve===void 0?S:ve,se=x.prompt,Re=x.display,k=x.max_age,re=x.ui_locales,ge=x.acr_values,W=x.resource,ee=x.response_mode,pe=x.filterProtocolClaims,Te=pe===void 0||pe,Je=x.loadUserInfo,Ae=Je===void 0||Je,$e=x.staleStateAge,Xe=$e===void 0?900:$e,ae=x.clockSkew,H=ae===void 0?300:ae,B=x.clockService,ie=B===void 0?new l.ClockService:B,fe=x.userInfoJwtIssuer,Pe=fe===void 0?"OP":fe,Ie=x.mergeClaims,tt=Ie!==void 0&&Ie,De=x.stateStore,ot=De===void 0?new c.WebStorageStateStore:De,gt=x.ResponseValidatorCtor,_e=gt===void 0?d.ResponseValidator:gt,Be=x.MetadataServiceCtor,at=Be===void 0?h.MetadataService:Be,me=x.extraQueryParams,Ee=me===void 0?{}:me,J=x.extraTokenParams,$=J===void 0?{}:J;g(this,w),this._authority=R,this._metadataUrl=P,this._metadata=O,this._metadataSeed=F,this._signingKeys=D,this._client_id=Q,this._client_secret=Y,this._response_type=X,this._scope=te,this._redirect_uri=oe,this._post_logout_redirect_uri=he,this._client_authentication=de,this._prompt=se,this._display=Re,this._max_age=k,this._ui_locales=re,this._acr_values=ge,this._resource=W,this._response_mode=ee,this._filterProtocolClaims=!!Te,this._loadUserInfo=!!Ae,this._staleStateAge=Xe,this._clockSkew=H,this._clockService=ie,this._userInfoJwtIssuer=Pe,this._mergeClaims=!!tt,this._stateStore=ot,this._validator=new _e(this),this._metadataService=new at(this),this._extraQueryParams=(Ee===void 0?"undefined":a(Ee))==="object"?Ee:{},this._extraTokenParams=($===void 0?"undefined":a($))==="object"?$:{}}return w.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(w,[{key:"client_id",get:function(){return this._client_id},set:function(R){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=R}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(R){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=R}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(R){this._metadata=R}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(R){this._metadataSeed=R}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(R){this._signingKeys=R}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(R){(R===void 0?"undefined":a(R))==="object"?this._extraQueryParams=R:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(R){(R===void 0?"undefined":a(R))==="object"?this._extraTokenParams=R:this._extraTokenParams={}}}]),w}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.prefix,h=d===void 0?"oidc.":d,g=c.store,y=g===void 0?o.Global.localStorage:g;s(this,l),this._store=y,this._prefix=h}return l.prototype.set=function(d,h){return a.Log.debug("WebStorageStateStore.set",d),d=this._prefix+d,this._store.setItem(d,h),Promise.resolve()},l.prototype.get=function(d){a.Log.debug("WebStorageStateStore.get",d),d=this._prefix+d;var h=this._store.getItem(d);return Promise.resolve(h)},l.prototype.remove=function(d){a.Log.debug("WebStorageStateStore.remove",d),d=this._prefix+d;var h=this._store.getItem(d);return this._store.removeItem(d),Promise.resolve(h)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var d=[],h=0;h<this._store.length;h++){var g=this._store.key(h);g.indexOf(this._prefix)===0&&d.push(g.substr(this._prefix.length))}return Promise.resolve(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),h&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=d,this._jwtHandler=h}return l.prototype.getJson=function(d,h){var g=this;if(!d)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",d),new Promise(function(y,v){var _=new g._XMLHttpRequest;_.open("GET",d);var S=g._contentTypes,w=g._jwtHandler;_.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",_.status),_.status===200){var x=_.getResponseHeader("Content-Type");if(x){var R=S.find(function(P){if(x.startsWith(P))return!0});if(R=="application/jwt")return void w(_).then(y,v);if(R)try{return void y(JSON.parse(_.responseText))}catch(P){return a.Log.error("JsonService.getJson: Error parsing JSON response",P.message),void v(P)}}v(Error("Invalid response Content-Type: "+x+", from URL: "+d))}else v(Error(_.statusText+" ("+_.status+")"))},_.onerror=function(){a.Log.error("JsonService.getJson: network error"),v(Error("Network Error"))},h&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),_.setRequestHeader("Authorization","Bearer "+h)),_.send()})},l.prototype.postForm=function(d,h,g){var y=this;if(!d)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",d),new Promise(function(v,_){var S=new y._XMLHttpRequest;S.open("POST",d);var w=y._contentTypes;S.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(D=S.getResponseHeader("Content-Type"))&&w.find(function(F){if(D.startsWith(F))return!0}))try{var O=JSON.parse(S.responseText);if(O&&O.error)return a.Log.error("JsonService.postForm: Error from server: ",O.error),void _(new Error(O.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error(S.statusText+" ("+S.status+")"))}else{var D;if((D=S.getResponseHeader("Content-Type"))&&w.find(function(F){if(D.startsWith(F))return!0}))try{return void v(JSON.parse(S.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error("Invalid response Content-Type: "+D+", from URL: "+d))}},S.onerror=function(){a.Log.error("JsonService.postForm: network error"),_(Error("Network Error"))};var x="";for(var R in h){var P=h[R];P&&(x.length>0&&(x+="&"),x+=encodeURIComponent(R),x+="=",x+=encodeURIComponent(P))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(g)),S.send(x)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),o=i(3),s=i(13);r.SigninRequest=function(){function l(c){var d=c.url,h=c.client_id,g=c.redirect_uri,y=c.response_type,v=c.scope,_=c.authority,S=c.data,w=c.prompt,x=c.display,R=c.max_age,P=c.ui_locales,O=c.id_token_hint,D=c.login_hint,F=c.acr_values,Q=c.resource,Y=c.response_mode,q=c.request,X=c.request_uri,le=c.extraQueryParams,te=c.request_type,oe=c.client_secret,he=c.extraTokenParams,ve=c.skipUserInfo;if(function(W,ee){if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!h)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!g)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!v)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!_)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var de=l.isOidc(y),se=l.isCode(y);Y||(Y=l.isCode(y)?"query":null),this.state=new s.SigninState({nonce:de,data:S,client_id:h,authority:_,redirect_uri:g,code_verifier:se,request_type:te,response_mode:Y,client_secret:oe,scope:v,extraTokenParams:he,skipUserInfo:ve}),d=o.UrlUtility.addQueryParam(d,"client_id",h),d=o.UrlUtility.addQueryParam(d,"redirect_uri",g),d=o.UrlUtility.addQueryParam(d,"response_type",y),d=o.UrlUtility.addQueryParam(d,"scope",v),d=o.UrlUtility.addQueryParam(d,"state",this.state.id),de&&(d=o.UrlUtility.addQueryParam(d,"nonce",this.state.nonce)),se&&(d=o.UrlUtility.addQueryParam(d,"code_challenge",this.state.code_challenge),d=o.UrlUtility.addQueryParam(d,"code_challenge_method","S256"));var Re={prompt:w,display:x,max_age:R,ui_locales:P,id_token_hint:O,login_hint:D,acr_values:F,resource:Q,request:q,request_uri:X,response_mode:Y};for(var k in Re)Re[k]&&(d=o.UrlUtility.addQueryParam(d,k,Re[k]));for(var re in le)d=o.UrlUtility.addQueryParam(d,re,le[re]);this.url=d}return l.isOidc=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="id_token"})[0]},l.isOAuth=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="token"})[0]},l.isCode=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function c(d,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,g){return h&&c(d.prototype,h),g&&c(d,g),d}}(),o=i(0),s=function(d){return d&&d.__esModule?d:{default:d}}(i(14));function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.State=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.id,g=d.data,y=d.created,v=d.request_type;l(this,c),this._id=h||(0,s.default)(),this._data=g,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=v}return c.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(h){return o.Log.debug("State.fromStorageString"),new c(JSON.parse(h))},c.clearStaleState=function(h,g){var y=Date.now()/1e3-g;return h.getAllKeys().then(function(v){o.Log.debug("State.clearStaleState: got keys",v);for(var _=[],S=function(P){var O=v[P];x=h.get(O).then(function(D){var F=!1;if(D)try{var Q=c.fromStorageString(D);o.Log.debug("State.clearStaleState: got item from key: ",O,Q.created),Q.created<=y&&(F=!0)}catch(Y){o.Log.error("State.clearStaleState: Error parsing state for key",O,Y.message),F=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",O),F=!0;if(F)return o.Log.debug("State.clearStaleState: removed item for key: ",O),h.remove(O)}),_.push(x)},w=0;w<v.length;w++){var x;S(w)}return o.Log.debug("State.clearStaleState: waiting on promise count:",_.length),Promise.all(_)})},a(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function S(w,x){for(var R=0;R<x.length;R++){var P=x[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,x,R){return x&&S(w.prototype,x),R&&S(w,R),w}}(),o=i(0),s=i(5),l=i(12),c=i(8),d=i(34),h=i(35),g=i(36),y=i(13),v=i(9);function _(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function S(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,S),w instanceof s.OidcClientSettings?this._settings=w:this._settings=new s.OidcClientSettings(w)}return S.prototype.createSigninRequest=function(){var x=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=R.response_type,O=R.scope,D=R.redirect_uri,F=R.data,Q=R.state,Y=R.prompt,q=R.display,X=R.max_age,le=R.ui_locales,te=R.id_token_hint,oe=R.login_hint,he=R.acr_values,ve=R.resource,de=R.request,se=R.request_uri,Re=R.response_mode,k=R.extraQueryParams,re=R.extraTokenParams,ge=R.request_type,W=R.skipUserInfo,ee=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var pe=this._settings.client_id;P=P||this._settings.response_type,O=O||this._settings.scope,D=D||this._settings.redirect_uri,Y=Y||this._settings.prompt,q=q||this._settings.display,X=X||this._settings.max_age,le=le||this._settings.ui_locales,he=he||this._settings.acr_values,ve=ve||this._settings.resource,Re=Re||this._settings.response_mode,k=k||this._settings.extraQueryParams,re=re||this._settings.extraTokenParams;var Te=this._settings.authority;return c.SigninRequest.isCode(P)&&P!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Je){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Je);var Ae=new c.SigninRequest({url:Je,client_id:pe,redirect_uri:D,response_type:P,scope:O,data:F||Q,authority:Te,prompt:Y,display:q,max_age:X,ui_locales:le,id_token_hint:te,login_hint:oe,acr_values:he,resource:ve,request:de,request_uri:se,extraQueryParams:k,extraTokenParams:re,request_type:ge,response_mode:Re,client_secret:x._settings.client_secret,skipUserInfo:W}),$e=Ae.state;return(ee=ee||x._stateStore).set($e.id,$e.toStorageString()).then(function(){return Ae})})},S.prototype.readSigninResponseState=function(x,R){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var O=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),D=O?"?":"#",F=new d.SigninResponse(x,D);if(!F.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));R=R||this._stateStore;var Q=P?R.remove.bind(R):R.get.bind(R);return Q(F.state).then(function(Y){if(!Y)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(Y),response:F}})},S.prototype.processSigninResponse=function(x,R){var P=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(x,R,!0).then(function(O){var D=O.state,F=O.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),P._validator.validateSigninResponse(D,F)})},S.prototype.createSignoutRequest=function(){var x=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=R.id_token_hint,O=R.data,D=R.state,F=R.post_logout_redirect_uri,Q=R.extraQueryParams,Y=R.request_type,q=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(X){if(!X)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",X);var le=new h.SignoutRequest({url:X,id_token_hint:P,post_logout_redirect_uri:F,data:O||D,extraQueryParams:Q,request_type:Y}),te=le.state;return te&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(q=q||x._stateStore).set(te.id,te.toStorageString())),le})},S.prototype.readSignoutResponseState=function(x,R){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var O=new g.SignoutResponse(x);if(!O.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),O.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",O.error),Promise.reject(new l.ErrorResponse(O))):Promise.resolve({state:void 0,response:O});var D=O.state;R=R||this._stateStore;var F=P?R.remove.bind(R):R.get.bind(R);return F(D).then(function(Q){if(!Q)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.State.fromStorageString(Q),response:O}})},S.prototype.processSignoutResponse=function(x,R){var P=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(x,R,!0).then(function(O){var D=O.state,F=O.response;return D?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),P._validator.validateSignoutResponse(D,F)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},S.prototype.clearStaleState=function(x){return o.Log.debug("OidcClient.clearStaleState"),x=x||this._stateStore,v.State.clearStaleState(x,this.settings.staleStateAge)},a(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),o=i(2),s=i(0);function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,c),!d)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new h,this._metadataService=new g(this._settings)}return c.prototype.exchangeCode=function(){var h=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(g=Object.assign({},g)).grant_type=g.grant_type||"authorization_code",g.client_id=g.client_id||this._settings.client_id,g.client_secret=g.client_secret||this._settings.client_secret,g.redirect_uri=g.redirect_uri||this._settings.redirect_uri;var y=void 0,v=g._client_authentication||this._settings._client_authentication;return delete g._client_authentication,g.code?g.redirect_uri?g.code_verifier?g.client_id?g.client_secret||v!="client_secret_basic"?(v=="client_secret_basic"&&(y=g.client_id+":"+g.client_secret,delete g.client_id,delete g.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),h._jsonService.postForm(_,g,y).then(function(S){return s.Log.debug("TokenClient.exchangeCode: response received"),S})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var h=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(g=Object.assign({},g)).grant_type=g.grant_type||"refresh_token",g.client_id=g.client_id||this._settings.client_id,g.client_secret=g.client_secret||this._settings.client_secret;var y=void 0,v=g._client_authentication||this._settings._client_authentication;return delete g._client_authentication,g.refresh_token?g.client_id?(v=="client_secret_basic"&&(y=g.client_id+":"+g.client_secret,delete g.client_id,delete g.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),h._jsonService.postForm(_,g,y).then(function(S){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function s(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}r.ErrorResponse=function(l){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.error,g=d.error_description,y=d.error_uri,v=d.state,_=d.session_state;if(o(this,c),!h)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var S=s(this,l.call(this,g||h));return S.name="ErrorResponse",S.error=h,S.error_description=g,S.error_uri=y,S.state=v,S.session_state=_,S}return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}(c,l),c}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function g(y,v){for(var _=0;_<v.length;_++){var S=v[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,v,_){return v&&g(y.prototype,v),_&&g(y,_),y}}(),o=i(0),s=i(9),l=i(4),c=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?g:y}r.SigninState=function(g){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=v.nonce,S=v.authority,w=v.client_id,x=v.redirect_uri,R=v.code_verifier,P=v.response_mode,O=v.client_secret,D=v.scope,F=v.extraTokenParams,Q=v.skipUserInfo;d(this,y);var Y=h(this,g.call(this,arguments[0]));if(_===!0?Y._nonce=(0,c.default)():_&&(Y._nonce=_),R===!0?Y._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():R&&(Y._code_verifier=R),Y.code_verifier){var q=l.JoseUtil.hashString(Y.code_verifier,"SHA256");Y._code_challenge=l.JoseUtil.hexToBase64Url(q)}return Y._redirect_uri=x,Y._authority=S,Y._client_id=w,Y._response_mode=P,Y._client_secret=O,Y._scope=D,Y._extraTokenParams=F,Y._skipUserInfo=Q,Y}return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}(y,g),y.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(_){return o.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(_))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.User=function(){function s(l){var c=l.id_token,d=l.session_state,h=l.access_token,g=l.refresh_token,y=l.token_type,v=l.scope,_=l.profile,S=l.expires_at,w=l.state;(function(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=c,this.session_state=d,this.access_token=h,this.refresh_token=g,this.token_type=y,this.scope=v,this.profile=_,this.expires_at=S,this.state=w}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(c){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(c))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var d=parseInt(c);if(typeof d=="number"&&d>0){var h=parseInt(Date.now()/1e3);this.expires_at=h+d}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),o=i(46);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.accessTokenExpiringNotificationTime,h=d===void 0?60:d,g=c.accessTokenExpiringTimer,y=g===void 0?new o.Timer("Access token expiring"):g,v=c.accessTokenExpiredTimer,_=v===void 0?new o.Timer("Access token expired"):v;s(this,l),this._accessTokenExpiringNotificationTime=h,this._accessTokenExpiring=y,this._accessTokenExpired=_}return l.prototype.load=function(d){if(d.access_token&&d.expires_in!==void 0){var h=d.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",h),h>0){var g=h-this._accessTokenExpiringNotificationTime;g<=0&&(g=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",g),this._accessTokenExpiring.init(g)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=h+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(d){this._accessTokenExpiring.addHandler(d)},l.prototype.removeAccessTokenExpiring=function(d){this._accessTokenExpiring.removeHandler(d)},l.prototype.addAccessTokenExpired=function(d){this._accessTokenExpired.addHandler(d)},l.prototype.removeAccessTokenExpired=function(d){this._accessTokenExpired.removeHandler(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(d){return d===l});c>=0&&this._callbacks.splice(c,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function d(h,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,g,y){return g&&d(h.prototype,g),y&&d(h,y),h}}(),o=i(0),s=i(19),l=i(1);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function d(h){var g=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,d),!h)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=h,this._CheckSessionIFrameCtor=y,this._timer=v,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(_){_?g._start(_):g._settings.monitorAnonymousSession&&g._userManager.querySessionStatus().then(function(S){var w={session_state:S.session_state};S.sub&&S.sid&&(w.profile={sub:S.sub,sid:S.sid}),g._start(w)}).catch(function(S){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(_){o.Log.error("SessionMonitor ctor: error from getUser:",_.message)}))}return d.prototype._start=function(g){var y=this,v=g.session_state;v&&(g.profile?(this._sub=g.profile.sub,this._sid=g.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",v,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",v,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(v):this._metadataService.getCheckSessionIframe().then(function(_){if(_){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=y._client_id,w=y._checkSessionInterval,x=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),S,_,w,x),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(v)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(_){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",_.message)}))},d.prototype._stop=function(){var g=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){g._timer.clearInterval(y),g._userManager.querySessionStatus().then(function(v){var _={session_state:v.session_state};v.sub&&v.sid&&(_.profile={sub:v.sub,sid:v.sid}),g._start(_)}).catch(function(v){o.Log.error("SessionMonitor: error from querySessionStatus:",v.message)})},1e3)},d.prototype._callback=function(){var g=this;this._userManager.querySessionStatus().then(function(y){var v=!0;y?y.sub===g._sub?(v=!1,g._checkSessionIFrame.start(y.session_state),y.sid===g._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),g._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),v&&(g._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),g._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),g._userManager.events._raiseUserSignedIn()))}).catch(function(y){g._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),g._userManager.events._raiseUserSignedOut())})},a(d,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(l,c,d,h){var g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=l,this._client_id=c,this._url=d,this._interval=h||2e3,this._stopOnError=g;var y=d.indexOf("/",d.indexOf("//")+2);this._frame_origin=d.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=d}return s.prototype.load=function(){var c=this;return new Promise(function(d){c._frame.onload=function(){d()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},s.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},s.prototype.start=function(c){var d=this;if(this._session_state!==c){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var h=function(){d._frame.contentWindow.postMessage(d._client_id+" "+d._session_state,d._frame_origin)};h(),this._timer=window.setInterval(h,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),o=i(2),s=i(1);function l(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var c="access_token",d="refresh_token";r.TokenRevocationClient=function(){function h(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,h),!g)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=g,this._XMLHttpRequestCtor=y,this._metadataService=new v(this._settings)}return h.prototype.revoke=function(y,v){var _=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==c&&S!=d)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(w){if(w){a.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var x=_._settings.client_id,R=_._settings.client_secret;return _._revoke(w,x,R,y,S)}if(v)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},h.prototype._revoke=function(y,v,_,S,w){var x=this;return new Promise(function(R,P){var O=new x._XMLHttpRequestCtor;O.open("POST",y),O.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",O.status),O.status===200?R():P(Error(O.statusText+" ("+O.status+")"))},O.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),P("Network Error")};var D="client_id="+encodeURIComponent(v);_&&(D+="&client_secret="+encodeURIComponent(_)),D+="&token_type_hint="+encodeURIComponent(w),D+="&token="+encodeURIComponent(S),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.send(D)})},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.CordovaPopupWindow=function(){function s(l){var c=this;(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(d){return c.hasOwnProperty(d)})},s.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var d=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(d)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},s.prototype._exitCallback=function(c){this._error(c)},s.prototype._success=function(c){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=i(10),s=i(5),l=i(6),c=i(37),d=i(38),h=i(16),g=i(2),y=i(48),v=i(49),_=i(19),S=i(20),w=i(18),x=i(1),R=i(15),P=i(50);r.default={Version:P.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:d.UserManager,AccessTokenEvents:h.AccessTokenEvents,MetadataService:g.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:v.CordovaIFrameNavigator,CheckSessionIFrame:_.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:w.SessionMonitor,Global:x.Global,User:R.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=i(0),s=i(2),l=i(25),c=i(11),d=i(12),h=i(4);function g(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function v(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.JoseUtil,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(g(this,v),!_)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=_,this._metadataService=new S(this._settings),this._userInfoService=new w(this._settings),this._joseUtil=x,this._tokenClient=new R(this._settings)}return v.prototype.validateSigninResponse=function(S,w){var x=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,w).then(function(R){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),x._validateTokens(S,R).then(function(P){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),x._processClaims(S,P).then(function(O){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),O})})})},v.prototype.validateSignoutResponse=function(S,w){return S.id!==w.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),w.state=S.data,w.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",w.error),Promise.reject(new d.ErrorResponse(w))):Promise.resolve(w))},v.prototype._processSigninParams=function(S,w){if(S.id!==w.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),w.state=S.data,w.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",w.error),Promise.reject(new d.ErrorResponse(w))):S.nonce&&!w.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&w.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!w.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&w.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(w.scope||(w.scope=S.scope),Promise.resolve(w))},v.prototype._processClaims=function(S,w){var x=this;if(w.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),w.profile=this._filterProtocolClaims(w.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&w.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(w.access_token).then(function(R){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),R.sub!==w.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(w.profile=x._mergeClaims(w.profile,R),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",w.profile),w)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(w)},v.prototype._mergeClaims=function(S,w){var x=Object.assign({},S);for(var R in w){var P=w[R];Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var D=P[O];x[R]?Array.isArray(x[R])?x[R].indexOf(D)<0&&x[R].push(D):x[R]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?x[R]=this._mergeClaims(x[R],D):x[R]=[x[R],D]):x[R]=D}}return x},v.prototype._filterProtocolClaims=function(S){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var w=Object.assign({},S);return this._settings._filterProtocolClaims?(y.forEach(function(x){delete w[x]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",w)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),w},v.prototype._validateTokens=function(S,w){return w.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,w)):w.id_token?w.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,w)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,w)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(w))},v.prototype._processCode=function(S,w){var x=this,R={client_id:S.client_id,client_secret:S.client_secret,code:w.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&a(S.extraTokenParams)==="object"&&Object.assign(R,S.extraTokenParams),this._tokenClient.exchangeCode(R).then(function(P){for(var O in P)w[O]=P[O];return w.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),x._validateIdTokenAttributes(S,w)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),w)})},v.prototype._validateIdTokenAttributes=function(S,w){var x=this;return this._metadataService.getIssuer().then(function(R){var P=S.client_id,O=x._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",O),x._settings.getEpochTime().then(function(D){return x._joseUtil.validateJwtAttributes(w.id_token,R,P,O,D).then(function(F){return S.nonce&&S.nonce!==F.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(w.profile=F,w):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},v.prototype._validateIdTokenAndAccessToken=function(S,w){var x=this;return this._validateIdToken(S,w).then(function(R){return x._validateAccessToken(R)})},v.prototype._getSigningKeyForJwt=function(S){var w=this;return this._metadataService.getSigningKeys().then(function(x){var R=S.header.kid;if(!x)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var P=void 0;if(R)P=x.filter(function(O){return O.kid===R})[0];else{if((x=w._filterByAlg(x,S.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=x[0]}return Promise.resolve(P)})},v.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var w=this;return this._getSigningKeyForJwt(S).then(function(x){return x?Promise.resolve(x):(w._metadataService.resetSigningKeys(),w._getSigningKeyForJwt(S))})},v.prototype._validateIdToken=function(S,w){var x=this;if(!S.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var R=this._joseUtil.parseJwt(w.id_token);return R&&R.header&&R.payload?S.nonce!==R.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(P){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),x._getSigningKeyForJwtWithSingleRetry(R).then(function(O){if(!O)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=S.client_id,F=x._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),x._joseUtil.validateJwt(w.id_token,O,P,D,F).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),R.payload.sub?(w.profile=R.payload,w):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",R),Promise.reject(new Error("Failed to parse id_token")))},v.prototype._filterByAlg=function(S,w){var x=null;if(w.startsWith("RS"))x="RSA";else if(w.startsWith("PS"))x="PS";else{if(!w.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",w),[];x="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",x),S=S.filter(function(R){return R.kty===x}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",x,S.length),S},v.prototype._validateAccessToken=function(S){if(!S.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var w=this._joseUtil.parseJwt(S.id_token);if(!w||!w.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",w),Promise.reject(new Error("Failed to parse id_token"));var x=w.header.alg;if(!x||x.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x),Promise.reject(new Error("Unsupported alg: "+x));var R=x.substr(2,3);if(!R)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,R),Promise.reject(new Error("Unsupported alg: "+x));if((R=parseInt(R))!==256&&R!==384&&R!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,R),Promise.reject(new Error("Unsupported alg: "+x));var P="sha"+R,O=this._joseUtil.hashString(S.access_token,P);if(!O)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",P),Promise.reject(new Error("Failed to validate at_hash"));var D=O.substr(0,O.length/2),F=this._joseUtil.hexToBase64Url(D);return F!==S.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},v}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),o=i(2),s=i(0),l=i(4);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function d(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,d),!h)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new g(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=v}return d.prototype.getClaims=function(g){var y=this;return g?this._metadataService.getUserInfoEndpoint().then(function(v){return s.Log.debug("UserInfoService.getClaims: received userinfo url",v),y._jsonService.getJson(v,g).then(function(_){return s.Log.debug("UserInfoService.getClaims: claims received",_),_})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},d.prototype._getClaimsFromJwt=function(g){var y=this;try{var v=this._joseUtil.parseJwt(g.responseText);if(!v||!v.header||!v.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",v),Promise.reject(new Error("Failed to parse id_token"));var _=v.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(v.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(w){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+w),y._metadataService.getSigningKeys().then(function(x){if(!x)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var R=void 0;if(_)R=x.filter(function(D){return D.kid===_})[0];else{if((x=y._filterByAlg(x,v.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));R=x[0]}if(!R)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var P=y._settings.client_id,O=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",O),y._joseUtil.validateJwt(g.responseText,R,w,P,O,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),v.payload})})})}catch(w){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",w.message),void reject(w)}},d.prototype._filterByAlg=function(g,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];v="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",v),g=g.filter(function(_){return _.kty===v}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",v,g.length),g},d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,l,c,d,h,g,y,v,_,S,w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},x={userAgent:!1},R={},P=P||(o=Math,l=(s={}).lib={},c=l.Base=function(){function T(){}return{extend:function(A){T.prototype=this;var N=new T;return A&&N.mixIn(A),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var N in A)A.hasOwnProperty(N)&&(this[N]=A[N]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=l.WordArray=c.extend({init:function(C,A){C=this.words=C||[],this.sigBytes=A??4*C.length},toString:function(C){return(C||g).stringify(this)},concat:function(C){var A=this.words,N=C.words,Z=this.sigBytes,ue=C.sigBytes;if(this.clamp(),Z%4)for(var we=0;we<ue;we++){var Me=N[we>>>2]>>>24-we%4*8&255;A[Z+we>>>2]|=Me<<24-(Z+we)%4*8}else for(we=0;we<ue;we+=4)A[Z+we>>>2]=N[we>>>2];return this.sigBytes+=ue,this},clamp:function(){var C=this.words,A=this.sigBytes;C[A>>>2]&=4294967295<<32-A%4*8,C.length=o.ceil(A/4)},clone:function(){var C=c.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var A=[],N=0;N<C;N+=4)A.push(4294967296*o.random()|0);return new d.init(A,C)}}),h=s.enc={},g=h.Hex={stringify:function(C){for(var A=C.words,N=C.sigBytes,Z=[],ue=0;ue<N;ue++){var we=A[ue>>>2]>>>24-ue%4*8&255;Z.push((we>>>4).toString(16)),Z.push((15&we).toString(16))}return Z.join("")},parse:function(C){for(var A=C.length,N=[],Z=0;Z<A;Z+=2)N[Z>>>3]|=parseInt(C.substr(Z,2),16)<<24-Z%8*4;return new d.init(N,A/2)}},y=h.Latin1={stringify:function(C){for(var A=C.words,N=C.sigBytes,Z=[],ue=0;ue<N;ue++){var we=A[ue>>>2]>>>24-ue%4*8&255;Z.push(String.fromCharCode(we))}return Z.join("")},parse:function(C){for(var A=C.length,N=[],Z=0;Z<A;Z++)N[Z>>>2]|=(255&C.charCodeAt(Z))<<24-Z%4*8;return new d.init(N,A)}},v=h.Utf8={stringify:function(C){try{return decodeURIComponent(escape(y.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return y.parse(unescape(encodeURIComponent(C)))}},_=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=v.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var A=this._data,N=A.words,Z=A.sigBytes,ue=this.blockSize,we=Z/(4*ue),Me=(we=C?o.ceil(we):o.max((0|we)-this._minBufferSize,0))*ue,Se=o.min(4*Me,Z);if(Me){for(var Oe=0;Oe<Me;Oe+=ue)this._doProcessBlock(N,Oe);var Ne=N.splice(0,Me);A.sigBytes-=Se}return new d.init(Ne,Se)},clone:function(){var C=c.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),l.Hasher=_.extend({cfg:c.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(A,N){return new C.init(N).finalize(A)}},_createHmacHelper:function(C){return function(A,N){return new S.HMAC.init(C,N).finalize(A)}}}),S=s.algo={},s);(function(T){var C,A=(C=P).lib,N=A.Base,Z=A.WordArray;(C=C.x64={}).Word=N.extend({init:function(we,Me){this.high=we,this.low=Me}}),C.WordArray=N.extend({init:function(we,Me){we=this.words=we||[],this.sigBytes=Me??8*we.length},toX32:function(){for(var we=this.words,Me=we.length,Se=[],Oe=0;Oe<Me;Oe++){var Ne=we[Oe];Se.push(Ne.high),Se.push(Ne.low)}return Z.create(Se,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Me=we.words=this.words.slice(0),Se=Me.length,Oe=0;Oe<Se;Oe++)Me[Oe]=Me[Oe].clone();return we}})})(),function(){var T=P,C=T.lib.WordArray;T.enc.Base64={stringify:function(N){var Z=N.words,ue=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Me=0;Me<ue;Me+=3)for(var Se=(Z[Me>>>2]>>>24-Me%4*8&255)<<16|(Z[Me+1>>>2]>>>24-(Me+1)%4*8&255)<<8|Z[Me+2>>>2]>>>24-(Me+2)%4*8&255,Oe=0;4>Oe&&Me+.75*Oe<ue;Oe++)N.push(we.charAt(Se>>>6*(3-Oe)&63));if(Z=we.charAt(64))for(;N.length%4;)N.push(Z);return N.join("")},parse:function(N){var Z=N.length,ue=this._map;(we=ue.charAt(64))&&(we=N.indexOf(we))!=-1&&(Z=we);for(var we=[],Me=0,Se=0;Se<Z;Se++)if(Se%4){var Oe=ue.indexOf(N.charAt(Se-1))<<Se%4*2,Ne=ue.indexOf(N.charAt(Se))>>>6-Se%4*2;we[Me>>>2]|=(Oe|Ne)<<24-Me%4*8,Me++}return C.create(we,Me)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(T){for(var C=P,A=(Z=C.lib).WordArray,N=Z.Hasher,Z=C.algo,ue=[],we=[],Me=function(ht){return 4294967296*(ht-(0|ht))|0},Se=2,Oe=0;64>Oe;){var Ne;e:{Ne=Se;for(var Ue=T.sqrt(Ne),He=2;He<=Ue;He++)if(!(Ne%He)){Ne=!1;break e}Ne=!0}Ne&&(8>Oe&&(ue[Oe]=Me(T.pow(Se,.5))),we[Oe]=Me(T.pow(Se,1/3)),Oe++),Se++}var Ye=[];Z=Z.SHA256=N.extend({_doReset:function(){this._hash=new A.init(ue.slice(0))},_doProcessBlock:function(ht,lt){for(var be=this._hash.words,je=be[0],qe=be[1],Ke=be[2],ct=be[3],yt=be[4],Ut=be[5],Rt=be[6],mn=be[7],jt=0;64>jt;jt++){if(16>jt)Ye[jt]=0|ht[lt+jt];else{var Vt=Ye[jt-15],Hn=Ye[jt-2];Ye[jt]=((Vt<<25|Vt>>>7)^(Vt<<14|Vt>>>18)^Vt>>>3)+Ye[jt-7]+((Hn<<15|Hn>>>17)^(Hn<<13|Hn>>>19)^Hn>>>10)+Ye[jt-16]}Vt=mn+((yt<<26|yt>>>6)^(yt<<21|yt>>>11)^(yt<<7|yt>>>25))+(yt&Ut^~yt&Rt)+we[jt]+Ye[jt],Hn=((je<<30|je>>>2)^(je<<19|je>>>13)^(je<<10|je>>>22))+(je&qe^je&Ke^qe&Ke),mn=Rt,Rt=Ut,Ut=yt,yt=ct+Vt|0,ct=Ke,Ke=qe,qe=je,je=Vt+Hn|0}be[0]=be[0]+je|0,be[1]=be[1]+qe|0,be[2]=be[2]+Ke|0,be[3]=be[3]+ct|0,be[4]=be[4]+yt|0,be[5]=be[5]+Ut|0,be[6]=be[6]+Rt|0,be[7]=be[7]+mn|0},_doFinalize:function(){var ht=this._data,lt=ht.words,be=8*this._nDataBytes,je=8*ht.sigBytes;return lt[je>>>5]|=128<<24-je%32,lt[14+(je+64>>>9<<4)]=T.floor(be/4294967296),lt[15+(je+64>>>9<<4)]=be,ht.sigBytes=4*lt.length,this._process(),this._hash},clone:function(){var ht=N.clone.call(this);return ht._hash=this._hash.clone(),ht}}),C.SHA256=N._createHelper(Z),C.HmacSHA256=N._createHmacHelper(Z)}(Math),function(){function T(){return N.create.apply(N,arguments)}for(var C=P,A=C.lib.Hasher,N=(ue=C.x64).Word,Z=ue.WordArray,ue=C.algo,we=[T(1116352408,3609767458),T(1899447441,602891725),T(3049323471,3964484399),T(3921009573,2173295548),T(961987163,4081628472),T(1508970993,3053834265),T(2453635748,2937671579),T(2870763221,3664609560),T(3624381080,2734883394),T(310598401,1164996542),T(607225278,1323610764),T(1426881987,3590304994),T(1925078388,4068182383),T(2162078206,991336113),T(2614888103,633803317),T(3248222580,3479774868),T(3835390401,2666613458),T(4022224774,944711139),T(264347078,2341262773),T(604807628,2007800933),T(770255983,1495990901),T(1249150122,1856431235),T(1555081692,3175218132),T(1996064986,2198950837),T(2554220882,3999719339),T(2821834349,766784016),T(2952996808,2566594879),T(3210313671,3203337956),T(3336571891,1034457026),T(3584528711,2466948901),T(113926993,3758326383),T(338241895,168717936),T(666307205,1188179964),T(773529912,1546045734),T(1294757372,1522805485),T(1396182291,2643833823),T(1695183700,2343527390),T(1986661051,1014477480),T(2177026350,1206759142),T(2456956037,344077627),T(2730485921,1290863460),T(2820302411,3158454273),T(3259730800,3505952657),T(3345764771,106217008),T(3516065817,3606008344),T(3600352804,1432725776),T(4094571909,1467031594),T(275423344,851169720),T(430227734,3100823752),T(506948616,1363258195),T(659060556,3750685593),T(883997877,3785050280),T(958139571,3318307427),T(1322822218,3812723403),T(1537002063,2003034995),T(1747873779,3602036899),T(1955562222,1575990012),T(2024104815,1125592928),T(2227730452,2716904306),T(2361852424,442776044),T(2428436474,593698344),T(2756734187,3733110249),T(3204031479,2999351573),T(3329325298,3815920427),T(3391569614,3928383900),T(3515267271,566280711),T(3940187606,3454069534),T(4118630271,4000239992),T(116418474,1914138554),T(174292421,2731055270),T(289380356,3203993006),T(460393269,320620315),T(685471733,587496836),T(852142971,1086792851),T(1017036298,365543100),T(1126000580,2618297676),T(1288033470,3409855158),T(1501505948,4234509866),T(1607167915,987167468),T(1816402316,1246189591)],Me=[],Se=0;80>Se;Se++)Me[Se]=T();ue=ue.SHA512=A.extend({_doReset:function(){this._hash=new Z.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Ne,Ue){for(var He=(qe=this._hash.words)[0],Ye=qe[1],st=qe[2],ht=qe[3],lt=qe[4],be=qe[5],je=qe[6],qe=qe[7],Ke=He.high,ct=He.low,yt=Ye.high,Ut=Ye.low,Rt=st.high,mn=st.low,jt=ht.high,Vt=ht.low,Hn=lt.high,Fn=lt.low,Un=be.high,Qt=be.low,Wn=je.high,gn=je.low,Yn=qe.high,vr=qe.low,_r=Ke,fr=ct,Ti=yt,Yi=Ut,Sa=Rt,or=mn,zi=jt,ko=Vt,sr=Hn,qr=Fn,co=Un,ea=Qt,Wu=Wn,fo=gn,_n=Yn,Na=vr,dr=0;80>dr;dr++){var Hi=Me[dr];if(16>dr)var xa=Hi.high=0|Ne[Ue+2*dr],hr=Hi.low=0|Ne[Ue+2*dr+1];else{xa=((hr=(xa=Me[dr-15]).high)>>>1|(ta=xa.low)<<31)^(hr>>>8|ta<<24)^hr>>>7;var ta=(ta>>>1|hr<<31)^(ta>>>8|hr<<24)^(ta>>>7|hr<<25),ho=((hr=(ho=Me[dr-2]).high)>>>19|(Lr=ho.low)<<13)^(hr<<3|Lr>>>29)^hr>>>6,Lr=(Lr>>>19|hr<<13)^(Lr<<3|hr>>>29)^(Lr>>>6|hr<<26),dc=(hr=Me[dr-7]).high,No=(Fa=Me[dr-16]).high,Fa=Fa.low;xa=(xa=(xa=xa+dc+((hr=ta+hr.low)>>>0<ta>>>0?1:0))+ho+((hr=hr+Lr)>>>0<Lr>>>0?1:0))+No+((hr=hr+Fa)>>>0<Fa>>>0?1:0),Hi.high=xa,Hi.low=hr}dc=sr&co^~sr&Wu,Fa=qr&ea^~qr&fo,Hi=_r&Ti^_r&Sa^Ti&Sa;var fp=fr&Yi^fr&or^Yi&or,na=(ta=(_r>>>28|fr<<4)^(_r<<30|fr>>>2)^(_r<<25|fr>>>7),ho=(fr>>>28|_r<<4)^(fr<<30|_r>>>2)^(fr<<25|_r>>>7),(Lr=we[dr]).high),Zf=Lr.low;No=_n+((sr>>>14|qr<<18)^(sr>>>18|qr<<14)^(sr<<23|qr>>>9))+((Lr=Na+((qr>>>14|sr<<18)^(qr>>>18|sr<<14)^(qr<<23|sr>>>9)))>>>0<Na>>>0?1:0),_n=Wu,Na=fo,Wu=co,fo=ea,co=sr,ea=qr,sr=zi+(No=(No=(No=No+dc+((Lr=Lr+Fa)>>>0<Fa>>>0?1:0))+na+((Lr=Lr+Zf)>>>0<Zf>>>0?1:0))+xa+((Lr=Lr+hr)>>>0<hr>>>0?1:0))+((qr=ko+Lr|0)>>>0<ko>>>0?1:0)|0,zi=Sa,ko=or,Sa=Ti,or=Yi,Ti=_r,Yi=fr,_r=No+(Hi=ta+Hi+((hr=ho+fp)>>>0<ho>>>0?1:0))+((fr=Lr+hr|0)>>>0<Lr>>>0?1:0)|0}ct=He.low=ct+fr,He.high=Ke+_r+(ct>>>0<fr>>>0?1:0),Ut=Ye.low=Ut+Yi,Ye.high=yt+Ti+(Ut>>>0<Yi>>>0?1:0),mn=st.low=mn+or,st.high=Rt+Sa+(mn>>>0<or>>>0?1:0),Vt=ht.low=Vt+ko,ht.high=jt+zi+(Vt>>>0<ko>>>0?1:0),Fn=lt.low=Fn+qr,lt.high=Hn+sr+(Fn>>>0<qr>>>0?1:0),Qt=be.low=Qt+ea,be.high=Un+co+(Qt>>>0<ea>>>0?1:0),gn=je.low=gn+fo,je.high=Wn+Wu+(gn>>>0<fo>>>0?1:0),vr=qe.low=vr+Na,qe.high=Yn+_n+(vr>>>0<Na>>>0?1:0)},_doFinalize:function(){var Ne=this._data,Ue=Ne.words,He=8*this._nDataBytes,Ye=8*Ne.sigBytes;return Ue[Ye>>>5]|=128<<24-Ye%32,Ue[30+(Ye+128>>>10<<5)]=Math.floor(He/4294967296),Ue[31+(Ye+128>>>10<<5)]=He,Ne.sigBytes=4*Ue.length,this._process(),this._hash.toX32()},clone:function(){var Ne=A.clone.call(this);return Ne._hash=this._hash.clone(),Ne},blockSize:32}),C.SHA512=A._createHelper(ue),C.HmacSHA512=A._createHmacHelper(ue)}(),function(){var T=P,C=(Z=T.x64).Word,A=Z.WordArray,N=(Z=T.algo).SHA512,Z=Z.SHA384=N.extend({_doReset:function(){this._hash=new A.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});T.SHA384=N._createHelper(Z),T.HmacSHA384=N._createHmacHelper(Z)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var O,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(T){var C,A,N="";for(C=0;C+3<=T.length;C+=3)A=parseInt(T.substring(C,C+3),16),N+=D.charAt(A>>6)+D.charAt(63&A);for(C+1==T.length?(A=parseInt(T.substring(C,C+1),16),N+=D.charAt(A<<2)):C+2==T.length&&(A=parseInt(T.substring(C,C+2),16),N+=D.charAt(A>>2)+D.charAt((3&A)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(T){var C,A,N,Z="",ue=0;for(C=0;C<T.length&&T.charAt(C)!="=";++C)(N=D.indexOf(T.charAt(C)))<0||(ue==0?(Z+=he(N>>2),A=3&N,ue=1):ue==1?(Z+=he(A<<2|N>>4),A=15&N,ue=2):ue==2?(Z+=he(A),Z+=he(N>>2),A=3&N,ue=3):(Z+=he(A<<2|N>>4),Z+=he(15&N),ue=0));return ue==1&&(Z+=he(A<<2)),Z}function Y(T){var C,A=Q(T),N=new Array;for(C=0;2*C<A.length;++C)N[C]=parseInt(A.substring(2*C,2*C+2),16);return N}function q(T,C,A){T!=null&&(typeof T=="number"?this.fromNumber(T,C,A):C==null&&typeof T!="string"?this.fromString(T,256):this.fromString(T,C))}function X(){return new q(null)}x.appName=="Microsoft Internet Explorer"?(q.prototype.am=function(C,A,N,Z,ue,we){for(var Me=32767&A,Se=A>>15;--we>=0;){var Oe=32767&this[C],Ne=this[C++]>>15,Ue=Se*Oe+Ne*Me;ue=((Oe=Me*Oe+((32767&Ue)<<15)+N[Z]+(1073741823&ue))>>>30)+(Ue>>>15)+Se*Ne+(ue>>>30),N[Z++]=1073741823&Oe}return ue},O=30):x.appName!="Netscape"?(q.prototype.am=function(C,A,N,Z,ue,we){for(;--we>=0;){var Me=A*this[C++]+N[Z]+ue;ue=Math.floor(Me/67108864),N[Z++]=67108863&Me}return ue},O=26):(q.prototype.am=function(C,A,N,Z,ue,we){for(var Me=16383&A,Se=A>>14;--we>=0;){var Oe=16383&this[C],Ne=this[C++]>>14,Ue=Se*Oe+Ne*Me;ue=((Oe=Me*Oe+((16383&Ue)<<14)+N[Z]+ue)>>28)+(Ue>>14)+Se*Ne,N[Z++]=268435455&Oe}return ue},O=28),q.prototype.DB=O,q.prototype.DM=(1<<O)-1,q.prototype.DV=1<<O,q.prototype.FV=Math.pow(2,52),q.prototype.F1=52-O,q.prototype.F2=2*O-52;var le,te,oe=new Array;for(le=48,te=0;te<=9;++te)oe[le++]=te;for(le=97,te=10;te<36;++te)oe[le++]=te;for(le=65,te=10;te<36;++te)oe[le++]=te;function he(T){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(T)}function ve(T,C){var A=oe[T.charCodeAt(C)];return A??-1}function de(T){var C=X();return C.fromInt(T),C}function se(T){var C,A=1;return(C=T>>>16)!=0&&(T=C,A+=16),(C=T>>8)!=0&&(T=C,A+=8),(C=T>>4)!=0&&(T=C,A+=4),(C=T>>2)!=0&&(T=C,A+=2),(C=T>>1)!=0&&(T=C,A+=1),A}function Re(T){this.m=T}function k(T){this.m=T,this.mp=T.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<T.DB-15)-1,this.mt2=2*T.t}function re(T,C){return T&C}function ge(T,C){return T|C}function W(T,C){return T^C}function ee(T,C){return T&~C}function pe(T){if(T==0)return-1;var C=0;return!(65535&T)&&(T>>=16,C+=16),!(255&T)&&(T>>=8,C+=8),!(15&T)&&(T>>=4,C+=4),!(3&T)&&(T>>=2,C+=2),!(1&T)&&++C,C}function Te(T){for(var C=0;T!=0;)T&=T-1,++C;return C}function Je(){}function Ae(T){return T}function $e(T){this.r2=X(),this.q3=X(),q.ONE.dlShiftTo(2*T.t,this.r2),this.mu=this.r2.divide(T),this.m=T}Re.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},Re.prototype.revert=function(C){return C},Re.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},Re.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N),this.reduce(N)},Re.prototype.sqrTo=function(C,A){C.squareTo(A),this.reduce(A)},k.prototype.convert=function(C){var A=X();return C.abs().dlShiftTo(this.m.t,A),A.divRemTo(this.m,null,A),C.s<0&&A.compareTo(q.ZERO)>0&&this.m.subTo(A,A),A},k.prototype.revert=function(C){var A=X();return C.copyTo(A),this.reduce(A),A},k.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var A=0;A<this.m.t;++A){var N=32767&C[A],Z=N*this.mpl+((N*this.mph+(C[A]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[N=A+this.m.t]+=this.m.am(0,Z,C,A,0,this.m.t);C[N]>=C.DV;)C[N]-=C.DV,C[++N]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},k.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N),this.reduce(N)},k.prototype.sqrTo=function(C,A){C.squareTo(A),this.reduce(A)},q.prototype.copyTo=function(C){for(var A=this.t-1;A>=0;--A)C[A]=this[A];C.t=this.t,C.s=this.s},q.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},q.prototype.fromString=function(C,A){var N;if(A==16)N=4;else if(A==8)N=3;else if(A==256)N=8;else if(A==2)N=1;else if(A==32)N=5;else{if(A!=4)return void this.fromRadix(C,A);N=2}this.t=0,this.s=0;for(var Z=C.length,ue=!1,we=0;--Z>=0;){var Me=N==8?255&C[Z]:ve(C,Z);Me<0?C.charAt(Z)=="-"&&(ue=!0):(ue=!1,we==0?this[this.t++]=Me:we+N>this.DB?(this[this.t-1]|=(Me&(1<<this.DB-we)-1)<<we,this[this.t++]=Me>>this.DB-we):this[this.t-1]|=Me<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&C[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),ue&&q.ZERO.subTo(this,this)},q.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},q.prototype.dlShiftTo=function(C,A){var N;for(N=this.t-1;N>=0;--N)A[N+C]=this[N];for(N=C-1;N>=0;--N)A[N]=0;A.t=this.t+C,A.s=this.s},q.prototype.drShiftTo=function(C,A){for(var N=C;N<this.t;++N)A[N-C]=this[N];A.t=Math.max(this.t-C,0),A.s=this.s},q.prototype.lShiftTo=function(C,A){var N,Z=C%this.DB,ue=this.DB-Z,we=(1<<ue)-1,Me=Math.floor(C/this.DB),Se=this.s<<Z&this.DM;for(N=this.t-1;N>=0;--N)A[N+Me+1]=this[N]>>ue|Se,Se=(this[N]&we)<<Z;for(N=Me-1;N>=0;--N)A[N]=0;A[Me]=Se,A.t=this.t+Me+1,A.s=this.s,A.clamp()},q.prototype.rShiftTo=function(C,A){A.s=this.s;var N=Math.floor(C/this.DB);if(N>=this.t)A.t=0;else{var Z=C%this.DB,ue=this.DB-Z,we=(1<<Z)-1;A[0]=this[N]>>Z;for(var Me=N+1;Me<this.t;++Me)A[Me-N-1]|=(this[Me]&we)<<ue,A[Me-N]=this[Me]>>Z;Z>0&&(A[this.t-N-1]|=(this.s&we)<<ue),A.t=this.t-N,A.clamp()}},q.prototype.subTo=function(C,A){for(var N=0,Z=0,ue=Math.min(C.t,this.t);N<ue;)Z+=this[N]-C[N],A[N++]=Z&this.DM,Z>>=this.DB;if(C.t<this.t){for(Z-=C.s;N<this.t;)Z+=this[N],A[N++]=Z&this.DM,Z>>=this.DB;Z+=this.s}else{for(Z+=this.s;N<C.t;)Z-=C[N],A[N++]=Z&this.DM,Z>>=this.DB;Z-=C.s}A.s=Z<0?-1:0,Z<-1?A[N++]=this.DV+Z:Z>0&&(A[N++]=Z),A.t=N,A.clamp()},q.prototype.multiplyTo=function(C,A){var N=this.abs(),Z=C.abs(),ue=N.t;for(A.t=ue+Z.t;--ue>=0;)A[ue]=0;for(ue=0;ue<Z.t;++ue)A[ue+N.t]=N.am(0,Z[ue],A,ue,0,N.t);A.s=0,A.clamp(),this.s!=C.s&&q.ZERO.subTo(A,A)},q.prototype.squareTo=function(C){for(var A=this.abs(),N=C.t=2*A.t;--N>=0;)C[N]=0;for(N=0;N<A.t-1;++N){var Z=A.am(N,A[N],C,2*N,0,1);(C[N+A.t]+=A.am(N+1,2*A[N],C,2*N+1,Z,A.t-N-1))>=A.DV&&(C[N+A.t]-=A.DV,C[N+A.t+1]=1)}C.t>0&&(C[C.t-1]+=A.am(N,A[N],C,2*N,0,1)),C.s=0,C.clamp()},q.prototype.divRemTo=function(C,A,N){var Z=C.abs();if(!(Z.t<=0)){var ue=this.abs();if(ue.t<Z.t)return A!=null&&A.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=X());var we=X(),Me=this.s,Se=C.s,Oe=this.DB-se(Z[Z.t-1]);Oe>0?(Z.lShiftTo(Oe,we),ue.lShiftTo(Oe,N)):(Z.copyTo(we),ue.copyTo(N));var Ne=we.t,Ue=we[Ne-1];if(Ue!=0){var He=Ue*(1<<this.F1)+(Ne>1?we[Ne-2]>>this.F2:0),Ye=this.FV/He,st=(1<<this.F1)/He,ht=1<<this.F2,lt=N.t,be=lt-Ne,je=A??X();for(we.dlShiftTo(be,je),N.compareTo(je)>=0&&(N[N.t++]=1,N.subTo(je,N)),q.ONE.dlShiftTo(Ne,je),je.subTo(we,we);we.t<Ne;)we[we.t++]=0;for(;--be>=0;){var qe=N[--lt]==Ue?this.DM:Math.floor(N[lt]*Ye+(N[lt-1]+ht)*st);if((N[lt]+=we.am(0,qe,N,be,0,Ne))<qe)for(we.dlShiftTo(be,je),N.subTo(je,N);N[lt]<--qe;)N.subTo(je,N)}A!=null&&(N.drShiftTo(Ne,A),Me!=Se&&q.ZERO.subTo(A,A)),N.t=Ne,N.clamp(),Oe>0&&N.rShiftTo(Oe,N),Me<0&&q.ZERO.subTo(N,N)}}},q.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var A=3&C;return(A=(A=(A=(A=A*(2-(15&C)*A)&15)*(2-(255&C)*A)&255)*(2-((65535&C)*A&65535))&65535)*(2-C*A%this.DV)%this.DV)>0?this.DV-A:-A},q.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},q.prototype.exp=function(C,A){if(C>4294967295||C<1)return q.ONE;var N=X(),Z=X(),ue=A.convert(this),we=se(C)-1;for(ue.copyTo(N);--we>=0;)if(A.sqrTo(N,Z),(C&1<<we)>0)A.mulTo(Z,ue,N);else{var Me=N;N=Z,Z=Me}return A.revert(N)},q.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var A;if(C==16)A=4;else if(C==8)A=3;else if(C==2)A=1;else if(C==32)A=5;else{if(C!=4)return this.toRadix(C);A=2}var N,Z=(1<<A)-1,ue=!1,we="",Me=this.t,Se=this.DB-Me*this.DB%A;if(Me-- >0)for(Se<this.DB&&(N=this[Me]>>Se)>0&&(ue=!0,we=he(N));Me>=0;)Se<A?(N=(this[Me]&(1<<Se)-1)<<A-Se,N|=this[--Me]>>(Se+=this.DB-A)):(N=this[Me]>>(Se-=A)&Z,Se<=0&&(Se+=this.DB,--Me)),N>0&&(ue=!0),ue&&(we+=he(N));return ue?we:"0"},q.prototype.negate=function(){var C=X();return q.ZERO.subTo(this,C),C},q.prototype.abs=function(){return this.s<0?this.negate():this},q.prototype.compareTo=function(C){var A=this.s-C.s;if(A!=0)return A;var N=this.t;if((A=N-C.t)!=0)return this.s<0?-A:A;for(;--N>=0;)if((A=this[N]-C[N])!=0)return A;return 0},q.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+se(this[this.t-1]^this.s&this.DM)},q.prototype.mod=function(C){var A=X();return this.abs().divRemTo(C,null,A),this.s<0&&A.compareTo(q.ZERO)>0&&C.subTo(A,A),A},q.prototype.modPowInt=function(C,A){var N;return N=C<256||A.isEven()?new Re(A):new k(A),this.exp(C,N)},q.ZERO=de(0),q.ONE=de(1),Je.prototype.convert=Ae,Je.prototype.revert=Ae,Je.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N)},Je.prototype.sqrTo=function(C,A){C.squareTo(A)},$e.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var A=X();return C.copyTo(A),this.reduce(A),A},$e.prototype.revert=function(C){return C},$e.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},$e.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N),this.reduce(N)},$e.prototype.sqrTo=function(C,A){C.squareTo(A),this.reduce(A)};var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ae=(1<<26)/Xe[Xe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function H(){this.i=0,this.j=0,this.S=new Array}q.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},q.prototype.toRadix=function(C){if(C==null&&(C=10),this.signum()==0||C<2||C>36)return"0";var A=this.chunkSize(C),N=Math.pow(C,A),Z=de(N),ue=X(),we=X(),Me="";for(this.divRemTo(Z,ue,we);ue.signum()>0;)Me=(N+we.intValue()).toString(C).substr(1)+Me,ue.divRemTo(Z,ue,we);return we.intValue().toString(C)+Me},q.prototype.fromRadix=function(C,A){this.fromInt(0),A==null&&(A=10);for(var N=this.chunkSize(A),Z=Math.pow(A,N),ue=!1,we=0,Me=0,Se=0;Se<C.length;++Se){var Oe=ve(C,Se);Oe<0?C.charAt(Se)=="-"&&this.signum()==0&&(ue=!0):(Me=A*Me+Oe,++we>=N&&(this.dMultiply(Z),this.dAddOffset(Me,0),we=0,Me=0))}we>0&&(this.dMultiply(Math.pow(A,we)),this.dAddOffset(Me,0)),ue&&q.ZERO.subTo(this,this)},q.prototype.fromNumber=function(C,A,N){if(typeof A=="number")if(C<2)this.fromInt(1);else for(this.fromNumber(C,N),this.testBit(C-1)||this.bitwiseTo(q.ONE.shiftLeft(C-1),ge,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(A);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(q.ONE.shiftLeft(C-1),this);else{var Z=new Array,ue=7&C;Z.length=1+(C>>3),A.nextBytes(Z),ue>0?Z[0]&=(1<<ue)-1:Z[0]=0,this.fromString(Z,256)}},q.prototype.bitwiseTo=function(C,A,N){var Z,ue,we=Math.min(C.t,this.t);for(Z=0;Z<we;++Z)N[Z]=A(this[Z],C[Z]);if(C.t<this.t){for(ue=C.s&this.DM,Z=we;Z<this.t;++Z)N[Z]=A(this[Z],ue);N.t=this.t}else{for(ue=this.s&this.DM,Z=we;Z<C.t;++Z)N[Z]=A(ue,C[Z]);N.t=C.t}N.s=A(this.s,C.s),N.clamp()},q.prototype.changeBit=function(C,A){var N=q.ONE.shiftLeft(C);return this.bitwiseTo(N,A,N),N},q.prototype.addTo=function(C,A){for(var N=0,Z=0,ue=Math.min(C.t,this.t);N<ue;)Z+=this[N]+C[N],A[N++]=Z&this.DM,Z>>=this.DB;if(C.t<this.t){for(Z+=C.s;N<this.t;)Z+=this[N],A[N++]=Z&this.DM,Z>>=this.DB;Z+=this.s}else{for(Z+=this.s;N<C.t;)Z+=C[N],A[N++]=Z&this.DM,Z>>=this.DB;Z+=C.s}A.s=Z<0?-1:0,Z>0?A[N++]=Z:Z<-1&&(A[N++]=this.DV+Z),A.t=N,A.clamp()},q.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},q.prototype.dAddOffset=function(C,A){if(C!=0){for(;this.t<=A;)this[this.t++]=0;for(this[A]+=C;this[A]>=this.DV;)this[A]-=this.DV,++A>=this.t&&(this[this.t++]=0),++this[A]}},q.prototype.multiplyLowerTo=function(C,A,N){var Z,ue=Math.min(this.t+C.t,A);for(N.s=0,N.t=ue;ue>0;)N[--ue]=0;for(Z=N.t-this.t;ue<Z;++ue)N[ue+this.t]=this.am(0,C[ue],N,ue,0,this.t);for(Z=Math.min(C.t,A);ue<Z;++ue)this.am(0,C[ue],N,ue,0,A-ue);N.clamp()},q.prototype.multiplyUpperTo=function(C,A,N){--A;var Z=N.t=this.t+C.t-A;for(N.s=0;--Z>=0;)N[Z]=0;for(Z=Math.max(A-this.t,0);Z<C.t;++Z)N[this.t+Z-A]=this.am(A-Z,C[Z],N,0,0,this.t+Z-A);N.clamp(),N.drShiftTo(1,N)},q.prototype.modInt=function(C){if(C<=0)return 0;var A=this.DV%C,N=this.s<0?C-1:0;if(this.t>0)if(A==0)N=this[0]%C;else for(var Z=this.t-1;Z>=0;--Z)N=(A*N+this[Z])%C;return N},q.prototype.millerRabin=function(C){var A=this.subtract(q.ONE),N=A.getLowestSetBit();if(N<=0)return!1;var Z=A.shiftRight(N);(C=C+1>>1)>Xe.length&&(C=Xe.length);for(var ue=X(),we=0;we<C;++we){ue.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var Me=ue.modPow(Z,this);if(Me.compareTo(q.ONE)!=0&&Me.compareTo(A)!=0){for(var Se=1;Se++<N&&Me.compareTo(A)!=0;)if((Me=Me.modPowInt(2,this)).compareTo(q.ONE)==0)return!1;if(Me.compareTo(A)!=0)return!1}}return!0},q.prototype.clone=function(){var C=X();return this.copyTo(C),C},q.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},q.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},q.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},q.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},q.prototype.toByteArray=function(){var C=this.t,A=new Array;A[0]=this.s;var N,Z=this.DB-C*this.DB%8,ue=0;if(C-- >0)for(Z<this.DB&&(N=this[C]>>Z)!=(this.s&this.DM)>>Z&&(A[ue++]=N|this.s<<this.DB-Z);C>=0;)Z<8?(N=(this[C]&(1<<Z)-1)<<8-Z,N|=this[--C]>>(Z+=this.DB-8)):(N=this[C]>>(Z-=8)&255,Z<=0&&(Z+=this.DB,--C)),128&N&&(N|=-256),ue==0&&(128&this.s)!=(128&N)&&++ue,(ue>0||N!=this.s)&&(A[ue++]=N);return A},q.prototype.equals=function(C){return this.compareTo(C)==0},q.prototype.min=function(C){return this.compareTo(C)<0?this:C},q.prototype.max=function(C){return this.compareTo(C)>0?this:C},q.prototype.and=function(C){var A=X();return this.bitwiseTo(C,re,A),A},q.prototype.or=function(C){var A=X();return this.bitwiseTo(C,ge,A),A},q.prototype.xor=function(C){var A=X();return this.bitwiseTo(C,W,A),A},q.prototype.andNot=function(C){var A=X();return this.bitwiseTo(C,ee,A),A},q.prototype.not=function(){for(var C=X(),A=0;A<this.t;++A)C[A]=this.DM&~this[A];return C.t=this.t,C.s=~this.s,C},q.prototype.shiftLeft=function(C){var A=X();return C<0?this.rShiftTo(-C,A):this.lShiftTo(C,A),A},q.prototype.shiftRight=function(C){var A=X();return C<0?this.lShiftTo(-C,A):this.rShiftTo(C,A),A},q.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(this[C]!=0)return C*this.DB+pe(this[C]);return this.s<0?this.t*this.DB:-1},q.prototype.bitCount=function(){for(var C=0,A=this.s&this.DM,N=0;N<this.t;++N)C+=Te(this[N]^A);return C},q.prototype.testBit=function(C){var A=Math.floor(C/this.DB);return A>=this.t?this.s!=0:(this[A]&1<<C%this.DB)!=0},q.prototype.setBit=function(C){return this.changeBit(C,ge)},q.prototype.clearBit=function(C){return this.changeBit(C,ee)},q.prototype.flipBit=function(C){return this.changeBit(C,W)},q.prototype.add=function(C){var A=X();return this.addTo(C,A),A},q.prototype.subtract=function(C){var A=X();return this.subTo(C,A),A},q.prototype.multiply=function(C){var A=X();return this.multiplyTo(C,A),A},q.prototype.divide=function(C){var A=X();return this.divRemTo(C,A,null),A},q.prototype.remainder=function(C){var A=X();return this.divRemTo(C,null,A),A},q.prototype.divideAndRemainder=function(C){var A=X(),N=X();return this.divRemTo(C,A,N),new Array(A,N)},q.prototype.modPow=function(C,A){var N,Z,ue=C.bitLength(),we=de(1);if(ue<=0)return we;N=ue<18?1:ue<48?3:ue<144?4:ue<768?5:6,Z=ue<8?new Re(A):A.isEven()?new $e(A):new k(A);var Me=new Array,Se=3,Oe=N-1,Ne=(1<<N)-1;if(Me[1]=Z.convert(this),N>1){var Ue=X();for(Z.sqrTo(Me[1],Ue);Se<=Ne;)Me[Se]=X(),Z.mulTo(Ue,Me[Se-2],Me[Se]),Se+=2}var He,Ye,st=C.t-1,ht=!0,lt=X();for(ue=se(C[st])-1;st>=0;){for(ue>=Oe?He=C[st]>>ue-Oe&Ne:(He=(C[st]&(1<<ue+1)-1)<<Oe-ue,st>0&&(He|=C[st-1]>>this.DB+ue-Oe)),Se=N;!(1&He);)He>>=1,--Se;if((ue-=Se)<0&&(ue+=this.DB,--st),ht)Me[He].copyTo(we),ht=!1;else{for(;Se>1;)Z.sqrTo(we,lt),Z.sqrTo(lt,we),Se-=2;Se>0?Z.sqrTo(we,lt):(Ye=we,we=lt,lt=Ye),Z.mulTo(lt,Me[He],we)}for(;st>=0&&!(C[st]&1<<ue);)Z.sqrTo(we,lt),Ye=we,we=lt,lt=Ye,--ue<0&&(ue=this.DB-1,--st)}return Z.revert(we)},q.prototype.modInverse=function(C){var A=C.isEven();if(this.isEven()&&A||C.signum()==0)return q.ZERO;for(var N=C.clone(),Z=this.clone(),ue=de(1),we=de(0),Me=de(0),Se=de(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),A?(ue.isEven()&&we.isEven()||(ue.addTo(this,ue),we.subTo(C,we)),ue.rShiftTo(1,ue)):we.isEven()||we.subTo(C,we),we.rShiftTo(1,we);for(;Z.isEven();)Z.rShiftTo(1,Z),A?(Me.isEven()&&Se.isEven()||(Me.addTo(this,Me),Se.subTo(C,Se)),Me.rShiftTo(1,Me)):Se.isEven()||Se.subTo(C,Se),Se.rShiftTo(1,Se);N.compareTo(Z)>=0?(N.subTo(Z,N),A&&ue.subTo(Me,ue),we.subTo(Se,we)):(Z.subTo(N,Z),A&&Me.subTo(ue,Me),Se.subTo(we,Se))}return Z.compareTo(q.ONE)!=0?q.ZERO:Se.compareTo(C)>=0?Se.subtract(C):Se.signum()<0?(Se.addTo(C,Se),Se.signum()<0?Se.add(C):Se):Se},q.prototype.pow=function(C){return this.exp(C,new Je)},q.prototype.gcd=function(C){var A=this.s<0?this.negate():this.clone(),N=C.s<0?C.negate():C.clone();if(A.compareTo(N)<0){var Z=A;A=N,N=Z}var ue=A.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return A;for(ue<we&&(we=ue),we>0&&(A.rShiftTo(we,A),N.rShiftTo(we,N));A.signum()>0;)(ue=A.getLowestSetBit())>0&&A.rShiftTo(ue,A),(ue=N.getLowestSetBit())>0&&N.rShiftTo(ue,N),A.compareTo(N)>=0?(A.subTo(N,A),A.rShiftTo(1,A)):(N.subTo(A,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},q.prototype.isProbablePrime=function(C){var A,N=this.abs();if(N.t==1&&N[0]<=Xe[Xe.length-1]){for(A=0;A<Xe.length;++A)if(N[0]==Xe[A])return!0;return!1}if(N.isEven())return!1;for(A=1;A<Xe.length;){for(var Z=Xe[A],ue=A+1;ue<Xe.length&&Z<ae;)Z*=Xe[ue++];for(Z=N.modInt(Z);A<ue;)if(Z%Xe[A++]==0)return!1}return N.millerRabin(C)},q.prototype.square=function(){var C=X();return this.squareTo(C),C},H.prototype.init=function(C){var A,N,Z;for(A=0;A<256;++A)this.S[A]=A;for(N=0,A=0;A<256;++A)N=N+this.S[A]+C[A%C.length]&255,Z=this.S[A],this.S[A]=this.S[N],this.S[N]=Z;this.i=0,this.j=0},H.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]};var B,ie,fe;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Pe(){(function(C){ie[fe++]^=255&C,ie[fe++]^=C>>8&255,ie[fe++]^=C>>16&255,ie[fe++]^=C>>24&255,fe>=256&&(fe-=256)})(new Date().getTime())}if(ie==null){var Ie;if(ie=new Array,fe=0,R!==void 0&&(R.crypto!==void 0||R.msCrypto!==void 0)){var tt=R.crypto||R.msCrypto;if(tt.getRandomValues){var De=new Uint8Array(32);for(tt.getRandomValues(De),Ie=0;Ie<32;++Ie)ie[fe++]=De[Ie]}else if(x.appName=="Netscape"&&x.appVersion<"5"){var ot=R.crypto.random(32);for(Ie=0;Ie<ot.length;++Ie)ie[fe++]=255&ot.charCodeAt(Ie)}}for(;fe<256;)Ie=Math.floor(65536*Math.random()),ie[fe++]=Ie>>>8,ie[fe++]=255&Ie;fe=0,Pe()}function gt(){if(B==null){for(Pe(),(B=function(){return new H}()).init(ie),fe=0;fe<ie.length;++fe)ie[fe]=0;fe=0}return B.next()}function _e(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(T,C){return new q(T,C)}function at(T,C,A){for(var N="",Z=0;N.length<C;)N+=A(String.fromCharCode.apply(String,T.concat([(4278190080&Z)>>24,(16711680&Z)>>16,(65280&Z)>>8,255&Z]))),Z+=1;return N}function me(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Ee(T,C){this.x=C,this.q=T}function J(T,C,A,N){this.curve=T,this.x=C,this.y=A,this.z=N??q.ONE,this.zinv=null}function $(T,C,A){this.q=T,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(A),this.infinity=new J(this,null,null)}_e.prototype.nextBytes=function(C){var A;for(A=0;A<C.length;++A)C[A]=gt()},me.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},me.prototype.setPublic=function(C,A){if(this.isPublic=!0,this.isPrivate=!1,typeof C!="string")this.n=C,this.e=A;else{if(!(C!=null&&A!=null&&C.length>0&&A.length>0))throw"Invalid RSA public key";this.n=Be(C,16),this.e=parseInt(A,16)}},me.prototype.encrypt=function(C){var A=function(we,Me){if(Me<we.length+11)throw"Message too long for RSA";for(var Se=new Array,Oe=we.length-1;Oe>=0&&Me>0;){var Ne=we.charCodeAt(Oe--);Ne<128?Se[--Me]=Ne:Ne>127&&Ne<2048?(Se[--Me]=63&Ne|128,Se[--Me]=Ne>>6|192):(Se[--Me]=63&Ne|128,Se[--Me]=Ne>>6&63|128,Se[--Me]=Ne>>12|224)}Se[--Me]=0;for(var Ue=new _e,He=new Array;Me>2;){for(He[0]=0;He[0]==0;)Ue.nextBytes(He);Se[--Me]=He[0]}return Se[--Me]=2,Se[--Me]=0,new q(Se)}(C,this.n.bitLength()+7>>3);if(A==null)return null;var N=this.doPublic(A);if(N==null)return null;var Z=N.toString(16);return 1&Z.length?"0"+Z:Z},me.prototype.encryptOAEP=function(C,A,N){var Z=function(Se,Oe,Ne,Ue){var He=G.crypto.MessageDigest,Ye=G.crypto.Util,st=null;if(Ne||(Ne="sha1"),typeof Ne=="string"&&(st=He.getCanonicalAlgName(Ne),Ue=He.getHashLength(st),Ne=function(Rt){return cn(Ye.hashHex(Dn(Rt),st))}),Se.length+2*Ue+2>Oe)throw"Message too long for RSA";var ht,lt="";for(ht=0;ht<Oe-Se.length-2*Ue-2;ht+=1)lt+="\0";var be=Ne("")+lt+""+Se,je=new Array(Ue);new _e().nextBytes(je);var qe=at(je,be.length,Ne),Ke=[];for(ht=0;ht<be.length;ht+=1)Ke[ht]=be.charCodeAt(ht)^qe.charCodeAt(ht);var ct=at(Ke,je.length,Ne),yt=[0];for(ht=0;ht<je.length;ht+=1)yt[ht+1]=je[ht]^ct.charCodeAt(ht);return new q(yt.concat(Ke))}(C,this.n.bitLength()+7>>3,A,N);if(Z==null)return null;var ue=this.doPublic(Z);if(ue==null)return null;var we=ue.toString(16);return 1&we.length?"0"+we:we},me.prototype.type="RSA",Ee.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Ee.prototype.toBigInteger=function(){return this.x},Ee.prototype.negate=function(){return new Ee(this.q,this.x.negate().mod(this.q))},Ee.prototype.add=function(C){return new Ee(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Ee.prototype.subtract=function(C){return new Ee(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Ee.prototype.multiply=function(C){return new Ee(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Ee.prototype.square=function(){return new Ee(this.q,this.x.square().mod(this.q))},Ee.prototype.divide=function(C){return new Ee(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},J.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},J.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},J.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(q.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(q.ZERO))},J.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(q.ZERO)&&!this.y.toBigInteger().equals(q.ZERO)},J.prototype.negate=function(){return new J(this.curve,this.x,this.y.negate(),this.z)},J.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var A=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),N=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(q.ZERO.equals(N))return q.ZERO.equals(A)?this.twice():this.curve.getInfinity();var Z=new q("3"),ue=this.x.toBigInteger(),we=this.y.toBigInteger(),Me=(C.x.toBigInteger(),C.y.toBigInteger(),N.square()),Se=Me.multiply(N),Oe=ue.multiply(Me),Ne=A.square().multiply(this.z),Ue=Ne.subtract(Oe.shiftLeft(1)).multiply(C.z).subtract(Se).multiply(N).mod(this.curve.q),He=Oe.multiply(Z).multiply(A).subtract(we.multiply(Se)).subtract(Ne.multiply(A)).multiply(C.z).add(A.multiply(Se)).mod(this.curve.q),Ye=Se.multiply(this.z).multiply(C.z).mod(this.curve.q);return new J(this.curve,this.curve.fromBigInteger(Ue),this.curve.fromBigInteger(He),Ye)},J.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=new q("3"),A=this.x.toBigInteger(),N=this.y.toBigInteger(),Z=N.multiply(this.z),ue=Z.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Me=A.square().multiply(C);q.ZERO.equals(we)||(Me=Me.add(this.z.square().multiply(we)));var Se=(Me=Me.mod(this.curve.q)).square().subtract(A.shiftLeft(3).multiply(ue)).shiftLeft(1).multiply(Z).mod(this.curve.q),Oe=Me.multiply(C).multiply(A).subtract(ue.shiftLeft(1)).shiftLeft(2).multiply(ue).subtract(Me.square().multiply(Me)).mod(this.curve.q),Ne=Z.square().multiply(Z).shiftLeft(3).mod(this.curve.q);return new J(this.curve,this.curve.fromBigInteger(Se),this.curve.fromBigInteger(Oe),Ne)},J.prototype.multiply=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var A,N=C,Z=N.multiply(new q("3")),ue=this.negate(),we=this,Me=this.curve.q.subtract(C),Se=Me.multiply(new q("3")),Oe=new J(this.curve,this.x,this.y),Ne=Oe.negate();for(A=Z.bitLength()-2;A>0;--A){we=we.twice();var Ue=Z.testBit(A);Ue!=N.testBit(A)&&(we=we.add(Ue?this:ue))}for(A=Se.bitLength()-2;A>0;--A){Oe=Oe.twice();var He=Se.testBit(A);He!=Me.testBit(A)&&(Oe=Oe.add(He?Oe:Ne))}return we},J.prototype.multiplyTwo=function(C,A,N){var Z;Z=C.bitLength()>N.bitLength()?C.bitLength()-1:N.bitLength()-1;for(var ue=this.curve.getInfinity(),we=this.add(A);Z>=0;)ue=ue.twice(),C.testBit(Z)?ue=N.testBit(Z)?ue.add(we):ue.add(this):N.testBit(Z)&&(ue=ue.add(A)),--Z;return ue},$.prototype.getQ=function(){return this.q},$.prototype.getA=function(){return this.a},$.prototype.getB=function(){return this.b},$.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},$.prototype.getInfinity=function(){return this.infinity},$.prototype.fromBigInteger=function(C){return new Ee(this.q,C)},$.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var A=(C.length-2)/2,N=C.substr(2,A),Z=C.substr(A+2,A);return new J(this,this.fromBigInteger(new q(N,16)),this.fromBigInteger(new q(Z,16)));default:return null}},Ee.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},J.prototype.getEncoded=function(T){var C=function(we,Me){var Se=we.toByteArrayUnsigned();if(Me<Se.length)Se=Se.slice(Se.length-Me);else for(;Me>Se.length;)Se.unshift(0);return Se},A=this.getX().toBigInteger(),N=this.getY().toBigInteger(),Z=C(A,32);return T?N.isEven()?Z.unshift(2):Z.unshift(3):(Z.unshift(4),Z=Z.concat(C(N,32))),Z},J.decodeFrom=function(T,C){C[0];var A=C.length-1,N=C.slice(1,1+A/2),Z=C.slice(1+A/2,1+A);N.unshift(0),Z.unshift(0);var ue=new q(N),we=new q(Z);return new J(T,T.fromBigInteger(ue),T.fromBigInteger(we))},J.decodeFromHex=function(T,C){C.substr(0,2);var A=C.length-2,N=C.substr(2,A/2),Z=C.substr(2+A/2,A/2),ue=new q(N,16),we=new q(Z,16);return new J(T,T.fromBigInteger(ue),T.fromBigInteger(we))},J.prototype.add2D=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.x.equals(T.x))return this.y.equals(T.y)?this.twice():this.curve.getInfinity();var C=T.x.subtract(this.x),A=T.y.subtract(this.y).divide(C),N=A.square().subtract(this.x).subtract(T.x),Z=A.multiply(this.x.subtract(N)).subtract(this.y);return new J(this.curve,N,Z)},J.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=this.curve.fromBigInteger(q.valueOf(2)),C=this.curve.fromBigInteger(q.valueOf(3)),A=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(T)),N=A.square().subtract(this.x.multiply(T)),Z=A.multiply(this.x.subtract(N)).subtract(this.y);return new J(this.curve,N,Z)},J.prototype.multiply2D=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var C,A=T,N=A.multiply(new q("3")),Z=this.negate(),ue=this;for(C=N.bitLength()-2;C>0;--C){ue=ue.twice();var we=N.testBit(C);we!=A.testBit(C)&&(ue=ue.add2D(we?this:Z))}return ue},J.prototype.isOnCurve=function(){var T=this.getX().toBigInteger(),C=this.getY().toBigInteger(),A=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),Z=this.curve.getQ(),ue=C.multiply(C).mod(Z),we=T.multiply(T).multiply(T).add(A.multiply(T)).add(N).mod(Z);return ue.equals(we)},J.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},J.prototype.validate=function(){var T=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),A=this.getY().toBigInteger();if(C.compareTo(q.ONE)<0||C.compareTo(T.subtract(q.ONE))>0)throw new Error("x coordinate out of bounds");if(A.compareTo(q.ONE)<0||A.compareTo(T.subtract(q.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(T).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var K=function(){var T=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),A={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Me,Se){return Me?A[Me]:String.fromCharCode(parseInt(Se,16))}var Z=new String(""),ue=Object.hasOwnProperty;return function(we,Me){var Se,Oe,Ne=we.match(T),Ue=Ne[0],He=!1;Ue==="{"?Se={}:Ue==="["?Se=[]:(Se=[],He=!0);for(var Ye=[Se],st=1-He,ht=Ne.length;st<ht;++st){var lt;switch((Ue=Ne[st]).charCodeAt(0)){default:(lt=Ye[0])[Oe||lt.length]=+Ue,Oe=void 0;break;case 34:if((Ue=Ue.substring(1,Ue.length-1)).indexOf("\\")!==-1&&(Ue=Ue.replace(C,N)),lt=Ye[0],!Oe){if(!(lt instanceof Array)){Oe=Ue||Z;break}Oe=lt.length}lt[Oe]=Ue,Oe=void 0;break;case 91:lt=Ye[0],Ye.unshift(lt[Oe||lt.length]=[]),Oe=void 0;break;case 93:Ye.shift();break;case 102:(lt=Ye[0])[Oe||lt.length]=!1,Oe=void 0;break;case 110:(lt=Ye[0])[Oe||lt.length]=null,Oe=void 0;break;case 116:(lt=Ye[0])[Oe||lt.length]=!0,Oe=void 0;break;case 123:lt=Ye[0],Ye.unshift(lt[Oe||lt.length]={}),Oe=void 0;break;case 125:Ye.shift()}}if(He){if(Ye.length!==1)throw new Error;Se=Se[0]}else if(Ye.length)throw new Error;return Me&&(Se=function be(je,qe){var Ke=je[qe];if(Ke&&(Ke===void 0?"undefined":w(Ke))==="object"){var ct=null;for(var yt in Ke)if(ue.call(Ke,yt)&&Ke!==je){var Ut=be(Ke,yt);Ut!==void 0?Ke[yt]=Ut:(ct||(ct=[]),ct.push(yt))}if(ct)for(var Rt=ct.length;--Rt>=0;)delete Ke[ct[Rt]]}return Me.call(je,qe,Ke)}({"":Se},"")),Se}}();G!==void 0&&G||(r.KJUR=G={}),G.asn1!==void 0&&G.asn1||(G.asn1={}),G.asn1.ASN1Util=new function(){this.integerToByteHex=function(T){var C=T.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(T){var C=T.toString(16);if(C.substr(0,1)!="-")C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var A=C.substr(1).length;A%2==1?A+=1:C.match(/^[0-7]/)||(A+=2);for(var N="",Z=0;Z<A;Z++)N+="f";C=new q(N,16).xor(T).add(q.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(T,C){return St(T,C)},this.newObject=function(T){var C=G.asn1,A=C.ASN1Object,N=C.DERBoolean,Z=C.DERInteger,ue=C.DERBitString,we=C.DEROctetString,Me=C.DERNull,Se=C.DERObjectIdentifier,Oe=C.DEREnumerated,Ne=C.DERUTF8String,Ue=C.DERNumericString,He=C.DERPrintableString,Ye=C.DERTeletexString,st=C.DERIA5String,ht=C.DERUTCTime,lt=C.DERGeneralizedTime,be=C.DERVisibleString,je=C.DERBMPString,qe=C.DERSequence,Ke=C.DERSet,ct=C.DERTaggedObject,yt=C.ASN1Util.newObject;if(T instanceof C.ASN1Object)return T;var Ut=Object.keys(T);if(Ut.length!=1)throw new Error("key of param shall be only one.");var Rt=Ut[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Rt+":")==-1)throw new Error("undefined key: "+Rt);if(Rt=="bool")return new N(T[Rt]);if(Rt=="int")return new Z(T[Rt]);if(Rt=="bitstr")return new ue(T[Rt]);if(Rt=="octstr")return new we(T[Rt]);if(Rt=="null")return new Me(T[Rt]);if(Rt=="oid")return new Se(T[Rt]);if(Rt=="enum")return new Oe(T[Rt]);if(Rt=="utf8str")return new Ne(T[Rt]);if(Rt=="numstr")return new Ue(T[Rt]);if(Rt=="prnstr")return new He(T[Rt]);if(Rt=="telstr")return new Ye(T[Rt]);if(Rt=="ia5str")return new st(T[Rt]);if(Rt=="utctime")return new ht(T[Rt]);if(Rt=="gentime")return new lt(T[Rt]);if(Rt=="visstr")return new be(T[Rt]);if(Rt=="bmpstr")return new je(T[Rt]);if(Rt=="asn1")return new A(T[Rt]);if(Rt=="seq"){for(var mn=T[Rt],jt=[],Vt=0;Vt<mn.length;Vt++){var Hn=yt(mn[Vt]);jt.push(Hn)}return new qe({array:jt})}if(Rt=="set"){for(mn=T[Rt],jt=[],Vt=0;Vt<mn.length;Vt++)Hn=yt(mn[Vt]),jt.push(Hn);return new Ke({array:jt})}if(Rt=="tag"){var Fn=T[Rt];if(Object.prototype.toString.call(Fn)==="[object Array]"&&Fn.length==3){var Un=yt(Fn[2]);return new ct({tag:Fn[0],explicit:Fn[1],obj:Un})}return new ct(Fn)}},this.jsonToASN1HEX=function(T){return this.newObject(T).getEncodedHex()}},G.asn1.ASN1Util.oidHexToInt=function(T){for(var C="",A=parseInt(T.substr(0,2),16),N=(C=Math.floor(A/40)+"."+A%40,""),Z=2;Z<T.length;Z+=2){var ue=("00000000"+parseInt(T.substr(Z,2),16).toString(2)).slice(-8);N+=ue.substr(1,7),ue.substr(0,1)=="0"&&(C=C+"."+new q(N,2).toString(10),N="")}return C},G.asn1.ASN1Util.oidIntToHex=function(T){var C=function(Se){var Oe=Se.toString(16);return Oe.length==1&&(Oe="0"+Oe),Oe},A=function(Se){var Oe="",Ne=new q(Se,10).toString(2),Ue=7-Ne.length%7;Ue==7&&(Ue=0);for(var He="",Ye=0;Ye<Ue;Ye++)He+="0";for(Ne=He+Ne,Ye=0;Ye<Ne.length-1;Ye+=7){var st=Ne.substr(Ye,7);Ye!=Ne.length-7&&(st="1"+st),Oe+=C(parseInt(st,2))}return Oe};if(!T.match(/^[0-9.]+$/))throw"malformed oid string: "+T;var N="",Z=T.split("."),ue=40*parseInt(Z[0])+parseInt(Z[1]);N+=C(ue),Z.splice(0,2);for(var we=0;we<Z.length;we++)N+=A(Z[we]);return N},G.asn1.ASN1Object=function(T){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,A=C.toString(16);if(A.length%2==1&&(A="0"+A),C<128)return A;var N=A.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+N).toString(16)+A},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},T!=null&&T.tlv!=null&&(this.hTLV=T.tlv,this.isModified=!1)},G.asn1.DERAbstractString=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=yr(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"?this.setString(T):T.str!==void 0?this.setString(T.str):T.hex!==void 0&&this.setStringHex(T.hex))},Ht(G.asn1.DERAbstractString,G.asn1.ASN1Object),G.asn1.DERAbstractTime=function(T){G.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var A=C.getTime()+6e4*C.getTimezoneOffset();return new Date(A)},this.formatDate=function(C,A,N){var Z=this.zeroPadding,ue=this.localDateToUTC(C),we=String(ue.getFullYear());A=="utc"&&(we=we.substr(2,2));var Me=we+Z(String(ue.getMonth()+1),2)+Z(String(ue.getDate()),2)+Z(String(ue.getHours()),2)+Z(String(ue.getMinutes()),2)+Z(String(ue.getSeconds()),2);if(N===!0){var Se=ue.getMilliseconds();if(Se!=0){var Oe=Z(String(Se),3);Me=Me+"."+(Oe=Oe.replace(/[0]+$/,""))}}return Me+"Z"},this.zeroPadding=function(C,A){return C.length>=A?C:new Array(A-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Lt(C)},this.setByDateValue=function(C,A,N,Z,ue,we){var Me=new Date(Date.UTC(C,A-1,N,Z,ue,we,0));this.setByDate(Me)},this.getFreshValueHex=function(){return this.hV}},Ht(G.asn1.DERAbstractTime,G.asn1.ASN1Object),G.asn1.DERAbstractStructured=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,T!==void 0&&T.array!==void 0&&(this.asn1Array=T.array)},Ht(G.asn1.DERAbstractStructured,G.asn1.ASN1Object),G.asn1.DERBoolean=function(T){G.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=T==0?"010100":"0101ff"},Ht(G.asn1.DERBoolean,G.asn1.ASN1Object),G.asn1.DERInteger=function(T){G.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var A=new q(String(C),10);this.setByBigInteger(A)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.bigint!==void 0?this.setByBigInteger(T.bigint):T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DERInteger,G.asn1.ASN1Object),G.asn1.DERBitString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex="00"+C.getEncodedHex()}G.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(A){this.hTLV=null,this.isModified=!0,this.hV=A},this.setUnusedBitsAndHexValue=function(A,N){if(A<0||7<A)throw"unused bits shall be from 0 to 7: u = "+A;var Z="0"+A;this.hTLV=null,this.isModified=!0,this.hV=Z+N},this.setByBinaryString=function(A){var N=8-(A=A.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var Z=0;Z<=N;Z++)A+="0";var ue="";for(Z=0;Z<A.length-1;Z+=8){var we=A.substr(Z,8),Me=parseInt(we,2).toString(16);Me.length==1&&(Me="0"+Me),ue+=Me}this.hTLV=null,this.isModified=!0,this.hV="0"+N+ue},this.setByBooleanArray=function(A){for(var N="",Z=0;Z<A.length;Z++)A[Z]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(A){for(var N=new Array(A),Z=0;Z<A;Z++)N[Z]=!1;return N},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"&&T.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(T):T.hex!==void 0?this.setHexValueIncludingUnusedBits(T.hex):T.bin!==void 0?this.setByBinaryString(T.bin):T.array!==void 0&&this.setByBooleanArray(T.array))},Ht(G.asn1.DERBitString,G.asn1.ASN1Object),G.asn1.DEROctetString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex=C.getEncodedHex()}G.asn1.DEROctetString.superclass.constructor.call(this,T),this.hT="04"},Ht(G.asn1.DEROctetString,G.asn1.DERAbstractString),G.asn1.DERNull=function(){G.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ht(G.asn1.DERNull,G.asn1.ASN1Object),G.asn1.DERObjectIdentifier=function(T){G.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var A=function(Z){var ue=function(He){var Ye=He.toString(16);return Ye.length==1&&(Ye="0"+Ye),Ye},we=function(He){var Ye="",st=parseInt(He,10).toString(2),ht=7-st.length%7;ht==7&&(ht=0);for(var lt="",be=0;be<ht;be++)lt+="0";for(st=lt+st,be=0;be<st.length-1;be+=7){var je=st.substr(be,7);be!=st.length-7&&(je="1"+je),Ye+=ue(parseInt(je,2))}return Ye};try{if(!Z.match(/^[0-9.]+$/))return null;var Me="",Se=Z.split("."),Oe=40*parseInt(Se[0],10)+parseInt(Se[1],10);Me+=ue(Oe),Se.splice(0,2);for(var Ne=0;Ne<Se.length;Ne++)Me+=we(Se[Ne]);return Me}catch{return null}}(C);if(A==null)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.setValueName=function(C){var A=G.asn1.x509.OID.name2oid(C);if(A==="")throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(A)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){typeof C=="string"?this.setValueNameOrOid(C):C.oid!==void 0?this.setValueNameOrOid(C.oid):C.name!==void 0?this.setValueNameOrOid(C.name):C.hex!==void 0&&this.setValueHex(C.hex)},T!==void 0&&this.setByParam(T)},Ht(G.asn1.DERObjectIdentifier,G.asn1.ASN1Object),G.asn1.DEREnumerated=function(T){G.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var A=new q(String(C),10);this.setByBigInteger(A)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DEREnumerated,G.asn1.ASN1Object),G.asn1.DERUTF8String=function(T){G.asn1.DERUTF8String.superclass.constructor.call(this,T),this.hT="0c"},Ht(G.asn1.DERUTF8String,G.asn1.DERAbstractString),G.asn1.DERNumericString=function(T){G.asn1.DERNumericString.superclass.constructor.call(this,T),this.hT="12"},Ht(G.asn1.DERNumericString,G.asn1.DERAbstractString),G.asn1.DERPrintableString=function(T){G.asn1.DERPrintableString.superclass.constructor.call(this,T),this.hT="13"},Ht(G.asn1.DERPrintableString,G.asn1.DERAbstractString),G.asn1.DERTeletexString=function(T){G.asn1.DERTeletexString.superclass.constructor.call(this,T),this.hT="14"},Ht(G.asn1.DERTeletexString,G.asn1.DERAbstractString),G.asn1.DERIA5String=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="16"},Ht(G.asn1.DERIA5String,G.asn1.DERAbstractString),G.asn1.DERVisibleString=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="1a"},Ht(G.asn1.DERVisibleString,G.asn1.DERAbstractString),G.asn1.DERBMPString=function(T){G.asn1.DERBMPString.superclass.constructor.call(this,T),this.hT="1e"},Ht(G.asn1.DERBMPString,G.asn1.DERAbstractString),G.asn1.DERUTCTime=function(T){G.asn1.DERUTCTime.superclass.constructor.call(this,T),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Lt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Lt(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{12}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date))},Ht(G.asn1.DERUTCTime,G.asn1.DERAbstractTime),G.asn1.DERGeneralizedTime=function(T){G.asn1.DERGeneralizedTime.superclass.constructor.call(this,T),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Lt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Lt(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{14}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date),T.millis===!0&&(this.withMillis=!0))},Ht(G.asn1.DERGeneralizedTime,G.asn1.DERAbstractTime),G.asn1.DERSequence=function(T){G.asn1.DERSequence.superclass.constructor.call(this,T),this.hT="30",this.getFreshValueHex=function(){for(var C="",A=0;A<this.asn1Array.length;A++)C+=this.asn1Array[A].getEncodedHex();return this.hV=C,this.hV}},Ht(G.asn1.DERSequence,G.asn1.DERAbstractStructured),G.asn1.DERSet=function(T){G.asn1.DERSet.superclass.constructor.call(this,T),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,A=0;A<this.asn1Array.length;A++){var N=this.asn1Array[A];C.push(N.getEncodedHex())}return this.sortFlag==1&&C.sort(),this.hV=C.join(""),this.hV},T!==void 0&&T.sortflag!==void 0&&T.sortflag==0&&(this.sortFlag=!1)},Ht(G.asn1.DERSet,G.asn1.DERAbstractStructured),G.asn1.DERTaggedObject=function(T){G.asn1.DERTaggedObject.superclass.constructor.call(this);var C=G.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(A,N,Z){this.hT=N,this.isExplicit=A,this.asn1Object=Z,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=Z.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(A){A.tag!=null&&(this.hT=A.tag),A.explicit!=null&&(this.isExplicit=A.explicit),A.tage!=null&&(this.hT=A.tage,this.isExplicit=!0),A.tagi!=null&&(this.hT=A.tagi,this.isExplicit=!1),A.obj!=null&&(A.obj instanceof C.ASN1Object?(this.asn1Object=A.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):w(A.obj)=="object"&&(this.asn1Object=C.ASN1Util.newObject(A.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},T!=null&&this.setByParam(T)},Ht(G.asn1.DERTaggedObject,G.asn1.ASN1Object);var G,ke,Ze,Fe=new function(){};function At(T){for(var C=new Array,A=0;A<T.length;A++)C[A]=T.charCodeAt(A);return C}function Mt(T){for(var C="",A=0;A<T.length;A++)C+=String.fromCharCode(T[A]);return C}function Nt(T){for(var C="",A=0;A<T.length;A++){var N=T[A].toString(16);N.length==1&&(N="0"+N),C+=N}return C}function Lt(T){return Nt(At(T))}function zt(T){return T=(T=(T=T.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Pr(T){return T.length%4==2?T+="==":T.length%4==3&&(T+="="),T=(T=T.replace(/-/g,"+")).replace(/_/g,"/")}function hn(T){return T.length%2==1&&(T="0"+T),zt(F(T))}function pn(T){return Q(Pr(T))}function yr(T){return Xn(Tt(T))}function ln(T){return decodeURIComponent(We(T))}function cn(T){for(var C="",A=0;A<T.length-1;A+=2)C+=String.fromCharCode(parseInt(T.substr(A,2),16));return C}function Dn(T){for(var C="",A=0;A<T.length;A++)C+=("0"+T.charCodeAt(A).toString(16)).slice(-2);return C}function cr(T){return F(T)}function Le(T){var C=cr(T).replace(/(.{64})/g,`$1\r
`);return C=C.replace(/\r\n$/,"")}function ze(T){return Q(T.replace(/[^0-9A-Za-z\/+=]*/g,""))}function St(T,C){return"-----BEGIN "+C+`-----\r
`+Le(T)+`\r
-----END `+C+`-----\r
`}function Ct(T,C){if(T.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+C;return ze(T=C!==void 0?(T=T.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(T=T.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Dt(T){var C,A,N,Z,ue,we,Me,Se,Oe,Ne,Ue;if(Ue=T.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Se=Ue[1],C=parseInt(Se),Se.length===2&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),A=parseInt(Ue[2])-1,N=parseInt(Ue[3]),Z=parseInt(Ue[4]),ue=parseInt(Ue[5]),we=parseInt(Ue[6]),Me=0,(Oe=Ue[7])!==""&&(Ne=(Oe.substr(1)+"00").substr(0,3),Me=parseInt(Ne)),Date.UTC(C,A,N,Z,ue,we,Me);throw"unsupported zulu format: "+T}function Vn(T){return~~(Dt(T)/1e3)}function Xn(T){return T.replace(/%/g,"")}function We(T){return T.replace(/(..)/g,"%$1")}function xe(T){var C="malformed IPv6 address";if(!T.match(/^[0-9A-Fa-f:]+$/))throw C;var A=(T=T.toLowerCase()).split(":").length-1;if(A<2)throw C;var N=":".repeat(7-A+2),Z=(T=T.replace("::",N)).split(":");if(Z.length!=8)throw C;for(var ue=0;ue<8;ue++)Z[ue]=("0000"+Z[ue]).slice(-4);return Z.join("")}function et(T){if(!T.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(T=T.toLowerCase()).match(/.{1,4}/g),A=0;A<8;A++)C[A]=C[A].replace(/^0+/,""),C[A]==""&&(C[A]="0");var N=(T=":"+C.join(":")+":").match(/:(0:){2,}/g);if(N===null)return T.slice(1,-1);var Z="";for(A=0;A<N.length;A++)N[A].length>Z.length&&(Z=N[A]);return(T=T.replace(Z,"::")).slice(1,-1)}function dt(T){var C="malformed hex value";if(!T.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(T.length!=8)return T.length==32?et(T):T;try{return parseInt(T.substr(0,2),16)+"."+parseInt(T.substr(2,2),16)+"."+parseInt(T.substr(4,2),16)+"."+parseInt(T.substr(6,2),16)}catch{throw C}}function rt(T){return T.match(/.{4}/g).map(function(A){var N=parseInt(A.substr(0,2),16),Z=parseInt(A.substr(2),16);if(N==0&Z<128)return String.fromCharCode(Z);if(N<8){var ue=128|63&Z;return ln((192|(7&N)<<3|(192&Z)>>6).toString(16)+ue.toString(16))}ue=128|(15&N)<<2|(192&Z)>>6;var we=128|63&Z;return ln((224|(240&N)>>4).toString(16)+ue.toString(16)+we.toString(16))}).join("")}function Tt(T){for(var C=encodeURIComponent(T),A="",N=0;N<C.length;N++)C[N]=="%"?(A+=C.substr(N,3),N+=2):A=A+"%"+Lt(C[N]);return A}function kt(T){return!(T.length%2!=0||!T.match(/^[0-9a-f]+$/)&&!T.match(/^[0-9A-F]+$/))}function Gt(T){return T.length%2==1?"0"+T:T.substr(0,1)>"7"?"00"+T:T}Fe.getLblen=function(T,C){if(T.substr(C+2,1)!="8")return 1;var A=parseInt(T.substr(C+3,1));return A==0?-1:0<A&&A<10?A+1:-2},Fe.getL=function(T,C){var A=Fe.getLblen(T,C);return A<1?"":T.substr(C+2,2*A)},Fe.getVblen=function(T,C){var A;return(A=Fe.getL(T,C))==""?-1:(A.substr(0,1)==="8"?new q(A.substr(2),16):new q(A,16)).intValue()},Fe.getVidx=function(T,C){var A=Fe.getLblen(T,C);return A<0?A:C+2*(A+1)},Fe.getV=function(T,C){var A=Fe.getVidx(T,C),N=Fe.getVblen(T,C);return T.substr(A,2*N)},Fe.getTLV=function(T,C){return T.substr(C,2)+Fe.getL(T,C)+Fe.getV(T,C)},Fe.getTLVblen=function(T,C){return 2+2*Fe.getLblen(T,C)+2*Fe.getVblen(T,C)},Fe.getNextSiblingIdx=function(T,C){return Fe.getVidx(T,C)+2*Fe.getVblen(T,C)},Fe.getChildIdx=function(T,C){var A,N,Z,ue=Fe,we=[];A=ue.getVidx(T,C),N=2*ue.getVblen(T,C),T.substr(C,2)=="03"&&(A+=2,N-=2),Z=0;for(var Me=A;Z<=N;){var Se=ue.getTLVblen(T,Me);if((Z+=Se)<=N&&we.push(Me),Me+=Se,Z>=N)break}return we},Fe.getNthChildIdx=function(T,C,A){return Fe.getChildIdx(T,C)[A]},Fe.getIdxbyList=function(T,C,A,N){var Z,ue,we=Fe;return A.length==0?N!==void 0&&T.substr(C,2)!==N?-1:C:(Z=A.shift())>=(ue=we.getChildIdx(T,C)).length?-1:we.getIdxbyList(T,ue[Z],A,N)},Fe.getIdxbyListEx=function(T,C,A,N){var Z,ue,we=Fe;if(A.length==0)return N!==void 0&&T.substr(C,2)!==N?-1:C;Z=A.shift(),ue=we.getChildIdx(T,C);for(var Me=0,Se=0;Se<ue.length;Se++){var Oe=T.substr(ue[Se],2);if(typeof Z=="number"&&!we.isContextTag(Oe)&&Me==Z||typeof Z=="string"&&we.isContextTag(Oe,Z))return we.getIdxbyListEx(T,ue[Se],A,N);we.isContextTag(Oe)||Me++}return-1},Fe.getTLVbyList=function(T,C,A,N){var Z=Fe,ue=Z.getIdxbyList(T,C,A,N);return ue==-1||ue>=T.length?null:Z.getTLV(T,ue)},Fe.getTLVbyListEx=function(T,C,A,N){var Z=Fe,ue=Z.getIdxbyListEx(T,C,A,N);return ue==-1?null:Z.getTLV(T,ue)},Fe.getVbyList=function(T,C,A,N,Z){var ue,we,Me=Fe;return(ue=Me.getIdxbyList(T,C,A,N))==-1||ue>=T.length?null:(we=Me.getV(T,ue),Z===!0&&(we=we.substr(2)),we)},Fe.getVbyListEx=function(T,C,A,N,Z){var ue,we,Me=Fe;return(ue=Me.getIdxbyListEx(T,C,A,N))==-1?null:(we=Me.getV(T,ue),T.substr(ue,2)=="03"&&Z!==!1&&(we=we.substr(2)),we)},Fe.getInt=function(T,C,A){A==null&&(A=-1);try{var N=T.substr(C,2);if(N!="02"&&N!="03")return A;var Z=Fe.getV(T,C);return N=="02"?parseInt(Z,16):function(we){try{var Me=we.substr(0,2);if(Me=="00")return parseInt(we.substr(2),16);var Se=parseInt(Me,16),Oe=we.substr(2),Ne=parseInt(Oe,16).toString(2);return Ne=="0"&&(Ne="00000000"),Ne=Ne.slice(0,0-Se),parseInt(Ne,2)}catch{return-1}}(Z)}catch{return A}},Fe.getOID=function(T,C,A){A==null&&(A=null);try{return T.substr(C,2)!="06"?A:function(Z){if(!kt(Z))return null;try{var ue=[],we=Z.substr(0,2),Me=parseInt(we,16);ue[0]=new String(Math.floor(Me/40)),ue[1]=new String(Me%40);for(var Se=Z.substr(2),Oe=[],Ne=0;Ne<Se.length/2;Ne++)Oe.push(parseInt(Se.substr(2*Ne,2),16));var Ue=[],He="";for(Ne=0;Ne<Oe.length;Ne++)128&Oe[Ne]?He+=Yt((127&Oe[Ne]).toString(2),7):(He+=Yt((127&Oe[Ne]).toString(2),7),Ue.push(new String(parseInt(He,2))),He="");var Ye=ue.join(".");return Ue.length>0&&(Ye=Ye+"."+Ue.join(".")),Ye}catch{return null}}(Fe.getV(T,C))}catch{return A}},Fe.getOIDName=function(T,C,A){A==null&&(A=null);try{var N=Fe.getOID(T,C,A);if(N==A)return A;var Z=G.asn1.x509.OID.oid2name(N);return Z==""?N:Z}catch{return A}},Fe.getString=function(T,C,A){A==null&&(A=null);try{return cn(Fe.getV(T,C))}catch{return A}},Fe.hextooidstr=function(T){var C=function(He,Ye){return He.length>=Ye?He:new Array(Ye-He.length+1).join("0")+He},A=[],N=T.substr(0,2),Z=parseInt(N,16);A[0]=new String(Math.floor(Z/40)),A[1]=new String(Z%40);for(var ue=T.substr(2),we=[],Me=0;Me<ue.length/2;Me++)we.push(parseInt(ue.substr(2*Me,2),16));var Se=[],Oe="";for(Me=0;Me<we.length;Me++)128&we[Me]?Oe+=C((127&we[Me]).toString(2),7):(Oe+=C((127&we[Me]).toString(2),7),Se.push(new String(parseInt(Oe,2))),Oe="");var Ne=A.join(".");return Se.length>0&&(Ne=Ne+"."+Se.join(".")),Ne},Fe.dump=function(T,C,A,N){var Z=Fe,ue=Z.getV,we=Z.dump,Me=Z.getChildIdx,Se=T;T instanceof G.asn1.ASN1Object&&(Se=T.getEncodedHex());var Oe=function(Rt,mn){return Rt.length<=2*mn?Rt:Rt.substr(0,mn)+"..(total "+Rt.length/2+"bytes).."+Rt.substr(Rt.length-mn,mn)};C===void 0&&(C={ommit_long_octet:32}),A===void 0&&(A=0),N===void 0&&(N="");var Ne,Ue=C.ommit_long_octet;if((Ne=Se.substr(A,2))=="01")return(He=ue(Se,A))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Ne=="02")return N+"INTEGER "+Oe(He=ue(Se,A),Ue)+`
`;if(Ne=="03"){var He=ue(Se,A);if(Z.isASN1HEX(He.substr(2))){var Ye=N+`BITSTRING, encapsulates
`;return Ye+=we(He.substr(2),C,0,N+"  ")}return N+"BITSTRING "+Oe(He,Ue)+`
`}if(Ne=="04")return He=ue(Se,A),Z.isASN1HEX(He)?(Ye=N+`OCTETSTRING, encapsulates
`,Ye+=we(He,C,0,N+"  ")):N+"OCTETSTRING "+Oe(He,Ue)+`
`;if(Ne=="05")return N+`NULL
`;if(Ne=="06"){var st=ue(Se,A),ht=G.asn1.ASN1Util.oidHexToInt(st),lt=G.asn1.x509.OID.oid2name(ht),be=ht.replace(/\./g," ");return lt!=""?N+"ObjectIdentifier "+lt+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(Ne=="0a")return N+"ENUMERATED "+parseInt(ue(Se,A))+`
`;if(Ne=="0c")return N+"UTF8String '"+ln(ue(Se,A))+`'
`;if(Ne=="13")return N+"PrintableString '"+ln(ue(Se,A))+`'
`;if(Ne=="14")return N+"TeletexString '"+ln(ue(Se,A))+`'
`;if(Ne=="16")return N+"IA5String '"+ln(ue(Se,A))+`'
`;if(Ne=="17")return N+"UTCTime "+ln(ue(Se,A))+`
`;if(Ne=="18")return N+"GeneralizedTime "+ln(ue(Se,A))+`
`;if(Ne=="1a")return N+"VisualString '"+ln(ue(Se,A))+`'
`;if(Ne=="1e")return N+"BMPString '"+rt(ue(Se,A))+`'
`;if(Ne=="30"){if(Se.substr(A,4)=="3000")return N+`SEQUENCE {}
`;Ye=N+`SEQUENCE
`;var je=C;if(((ct=Me(Se,A)).length==2||ct.length==3)&&Se.substr(ct[0],2)=="06"&&Se.substr(ct[ct.length-1],2)=="04"){lt=Z.oidname(ue(Se,ct[0]));var qe=JSON.parse(JSON.stringify(C));qe.x509ExtName=lt,je=qe}for(var Ke=0;Ke<ct.length;Ke++)Ye+=we(Se,je,ct[Ke],N+"  ");return Ye}if(Ne=="31"){Ye=N+`SET
`;var ct=Me(Se,A);for(Ke=0;Ke<ct.length;Ke++)Ye+=we(Se,C,ct[Ke],N+"  ");return Ye}if(128&(Ne=parseInt(Ne,16))){var yt=31&Ne;if(32&Ne){for(Ye=N+"["+yt+`]
`,ct=Me(Se,A),Ke=0;Ke<ct.length;Ke++)Ye+=we(Se,C,ct[Ke],N+"  ");return Ye}if(He=ue(Se,A),Fe.isASN1HEX(He)){var Ye=N+"["+yt+`]
`;return Ye+=we(He,C,0,N+"  ")}return(He.substr(0,8)=="68747470"||C.x509ExtName==="subjectAltName"&&yt==2)&&(He=ln(He)),Ye=N+"["+yt+"] "+He+`
`}return N+"UNKNOWN("+Ne+") "+ue(Se,A)+`
`},Fe.isContextTag=function(T,C){var A,N;T=T.toLowerCase();try{A=parseInt(T,16)}catch{return-1}if(C===void 0)return(192&A)==128;try{return C.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(C.substr(1,C.length-1),10))>31)&&(192&A)==128&&(31&A)==N}catch{return!1}},Fe.isASN1HEX=function(T){var C=Fe;if(T.length%2==1)return!1;var A=C.getVblen(T,0),N=T.substr(0,2),Z=C.getL(T,0);return T.length-N.length-Z.length==2*A},Fe.checkStrictDER=function(T,C,A,N,Z){var ue=Fe;if(A===void 0){if(typeof T!="string")throw new Error("not hex string");if(T=T.toLowerCase(),!G.lang.String.isHex(T))throw new Error("not hex string");A=T.length,Z=(N=T.length/2)<128?1:Math.ceil(N.toString(16))+1}if(ue.getL(T,C).length>2*Z)throw new Error("L of TLV too long: idx="+C);var we=ue.getVblen(T,C);if(we>N)throw new Error("value of L too long than hex: idx="+C);var Me=ue.getTLV(T,C),Se=Me.length-2-ue.getL(T,C).length;if(Se!==2*we)throw new Error("V string length and L's value not the same:"+Se+"/"+2*we);if(C===0&&T.length!=Me.length)throw new Error("total length and TLV length unmatch:"+T.length+"!="+Me.length);var Oe=T.substr(C,2);if(Oe==="02"){var Ne=ue.getVidx(T,C);if(T.substr(Ne,2)=="00"&&T.charCodeAt(Ne+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Oe,16)){for(var Ue=ue.getVblen(T,C),He=0,Ye=ue.getChildIdx(T,C),st=0;st<Ye.length;st++)He+=ue.getTLV(T,Ye[st]).length,ue.checkStrictDER(T,Ye[st],A,N,Z);if(2*Ue!=He)throw new Error("sum of children's TLV length and L unmatch: "+2*Ue+"!="+He)}},Fe.oidname=function(T){var C=G.asn1;G.lang.String.isHex(T)&&(T=C.ASN1Util.oidHexToInt(T));var A=C.x509.OID.oid2name(T);return A===""&&(A=T),A},G!==void 0&&G||(r.KJUR=G={}),G.lang!==void 0&&G.lang||(G.lang={}),G.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=ke=function(C){return zt(a.from(C,"utf8").toString("base64"))},r.b64utoutf8=Ze=function(C){return a.from(Pr(C),"base64").toString("utf8")}):(r.utf8tob64u=ke=function(C){return hn(Xn(Tt(C)))},r.b64utoutf8=Ze=function(C){return decodeURIComponent(We(pn(C)))}),G.lang.String.isInteger=function(T){return!!T.match(/^[0-9]+$/)||!!T.match(/^-[0-9]+$/)},G.lang.String.isHex=function(T){return kt(T)},G.lang.String.isBase64=function(T){return!(!(T=T.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||T.length%4!=0)},G.lang.String.isBase64URL=function(T){return!T.match(/[+/=]/)&&(T=Pr(T),G.lang.String.isBase64(T))},G.lang.String.isIntegerArray=function(T){return!!(T=T.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},G.lang.String.isPrintable=function(T){return T.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},G.lang.String.isIA5=function(T){return T.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},G.lang.String.isMail=function(T){return T.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Yt=function(C,A,N){return N==null&&(N="0"),C.length>=A?C:new Array(A-C.length+1).join(N)+C};function Ht(T,C){var A=function(){};A.prototype=C.prototype,T.prototype=new A,T.prototype.constructor=T,T.superclass=C.prototype,C.prototype.constructor==Object.prototype.constructor&&(C.prototype.constructor=C)}G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:P.algo.MD5,sha1:P.algo.SHA1,sha224:P.algo.SHA224,sha256:P.algo.SHA256,sha384:P.algo.SHA384,sha512:P.algo.SHA512,ripemd160:P.algo.RIPEMD160},this.getDigestInfoHex=function(T,C){if(this.DIGESTINFOHEAD[C]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+T},this.getPaddedDigestInfoHex=function(T,C,A){var N=this.getDigestInfoHex(T,C),Z=A/4;if(N.length+22>Z)throw"key is too short for SigAlg: keylen="+A+","+C;for(var ue="0001",we="00"+N,Me="",Se=Z-ue.length-we.length,Oe=0;Oe<Se;Oe+=2)Me+="ff";return ue+Me+we},this.hashString=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestString(T)},this.hashHex=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestHex(T)},this.sha1=function(T){return this.hashString(T,"sha1")},this.sha256=function(T){return this.hashString(T,"sha256")},this.sha256Hex=function(T){return this.hashHex(T,"sha256")},this.sha512=function(T){return this.hashString(T,"sha512")},this.sha512Hex=function(T){return this.hashHex(T,"sha512")},this.isKey=function(T){return T instanceof me||T instanceof G.crypto.DSA||T instanceof G.crypto.ECDSA}},G.crypto.Util.md5=function(T){return new G.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(T)},G.crypto.Util.ripemd160=function(T){return new G.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(T)},G.crypto.Util.SECURERANDOMGEN=new _e,G.crypto.Util.getRandomHexOfNbytes=function(T){var C=new Array(T);return G.crypto.Util.SECURERANDOMGEN.nextBytes(C),Nt(C)},G.crypto.Util.getRandomBigIntegerOfNbytes=function(T){return new q(G.crypto.Util.getRandomHexOfNbytes(T),16)},G.crypto.Util.getRandomHexOfNbits=function(T){var C=T%8,A=new Array((T-C)/8+1);return G.crypto.Util.SECURERANDOMGEN.nextBytes(A),A[0]=(255<<C&255^255)&A[0],Nt(A)},G.crypto.Util.getRandomBigIntegerOfNbits=function(T){return new q(G.crypto.Util.getRandomHexOfNbits(T),16)},G.crypto.Util.getRandomBigIntegerZeroToMax=function(T){for(var C=T.bitLength();;){var A=G.crypto.Util.getRandomBigIntegerOfNbits(C);if(T.compareTo(A)!=-1)return A}},G.crypto.Util.getRandomBigIntegerMinToMax=function(T,C){var A=T.compareTo(C);if(A==1)throw"biMin is greater than biMax";if(A==0)return T;var N=C.subtract(T);return G.crypto.Util.getRandomBigIntegerZeroToMax(N).add(T)},G.crypto.MessageDigest=function(T){this.setAlgAndProvider=function(C,A){if((C=G.crypto.MessageDigest.getCanonicalAlgName(C))!==null&&A===void 0&&(A=G.crypto.Util.DEFAULTPROVIDER[C]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)!=-1&&A=="cryptojs"){try{this.md=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var Z=P.enc.Hex.parse(N);this.md.update(Z)},this.digest=function(){return this.md.finalize().toString(P.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(C)!=-1&&A=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var Z=sjcl.codec.hex.toBits(N);this.md.update(Z)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},T!==void 0&&T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},G.crypto.MessageDigest.getCanonicalAlgName=function(T){return typeof T=="string"&&(T=(T=T.toLowerCase()).replace(/-/,"")),T},G.crypto.MessageDigest.getHashLength=function(T){var C=G.crypto.MessageDigest,A=C.getCanonicalAlgName(T);if(C.HASHLENGTH[A]===void 0)throw"not supported algorithm: "+T;return C.HASHLENGTH[A]},G.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},G.crypto.Mac=function(T){this.setAlgAndProvider=function(C,A){if((C=C.toLowerCase())==null&&(C="hmacsha1"),(C=C.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+C;A===void 0&&(A=G.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+A;var N=C.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&A=="cryptojs"){try{var Z=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=P.algo.HMAC.create(Z,this.pass)}catch(ue){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+ue}this.updateString=function(ue){this.mac.update(ue)},this.updateHex=function(ue){var we=P.enc.Hex.parse(ue);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(P.enc.Hex)},this.doFinalString=function(ue){return this.updateString(ue),this.doFinal()},this.doFinalHex=function(ue){return this.updateHex(ue),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if(typeof C=="string"){var A=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(A=Dn(C)),void(this.pass=P.enc.Hex.parse(A))}if((C===void 0?"undefined":w(C))!="object")throw"KJUR.crypto.Mac unsupported password type: "+C;if(A=null,C.hex!==void 0){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;A=C.hex}if(C.utf8!==void 0&&(A=yr(C.utf8)),C.rstr!==void 0&&(A=Dn(C.rstr)),C.b64!==void 0&&(A=Q(C.b64)),C.b64u!==void 0&&(A=pn(C.b64u)),A==null)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=P.enc.Hex.parse(A)},T!==void 0&&(T.pass!==void 0&&this.setPassword(T.pass),T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},G.crypto.Signature=function(T){var C=null;if(this._setAlgNames=function(){var A=this.algName.match(/^(.+)with(.+)$/);A&&(this.mdAlgName=A[1].toLowerCase(),this.pubkeyAlgName=A[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(A,N){for(var Z="",ue=N/4-A.length,we=0;we<ue;we++)Z+="0";return Z+A},this.setAlgAndProvider=function(A,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new G.crypto.MessageDigest({alg:this.mdAlgName})}catch(Z){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+Z)}this.init=function(Z,ue){var we=null;try{we=ue===void 0?$t.getKey(Z):$t.getKey(Z,ue)}catch(Me){throw"init failed:"+Me}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(Z){this.md.updateString(Z)},this.updateHex=function(Z){this.md.updateHex(Z)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.prvKey=new G.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof me&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof me&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof G.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof G.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(Z){return this.updateString(Z),this.sign()},this.signHex=function(Z){return this.updateHex(Z),this.sign()},this.verify=function(Z){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.pubKey=new G.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof me&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,Z,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof me&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);if(G.crypto.ECDSA!==void 0&&this.pubKey instanceof G.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);if(G.crypto.DSA!==void 0&&this.pubKey instanceof G.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(A,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(A){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(A){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(A){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(A){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=T,T!==void 0&&(T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0?this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=T.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),T.psssaltlen!==void 0&&(this.pssSaltLen=T.psssaltlen),T.prvkeypem!==void 0)){if(T.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{C=$t.getKey(T.prvkeypem),this.init(C)}catch(A){throw"fatal error to load pem private key: "+A}}},G.crypto.Cipher=function(T){},G.crypto.Cipher.encrypt=function(T,C,A){if(C instanceof me&&C.isPublic){var N=G.crypto.Cipher.getAlgByKeyAndName(C,A);if(N==="RSA")return C.encrypt(T);if(N==="RSAOAEP")return C.encryptOAEP(T,"sha1");var Z=N.match(/^RSAOAEP(\d+)$/);if(Z!==null)return C.encryptOAEP(T,"sha"+Z[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.encrypt: unsupported key or algorithm"},G.crypto.Cipher.decrypt=function(T,C,A){if(C instanceof me&&C.isPrivate){var N=G.crypto.Cipher.getAlgByKeyAndName(C,A);if(N==="RSA")return C.decrypt(T);if(N==="RSAOAEP")return C.decryptOAEP(T,"sha1");var Z=N.match(/^RSAOAEP(\d+)$/);if(Z!==null)return C.decryptOAEP(T,"sha"+Z[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.decrypt: unsupported key or algorithm"},G.crypto.Cipher.getAlgByKeyAndName=function(T,C){if(T instanceof me){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C)!=-1)return C;if(C==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},G.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECDSA=function(T){var C=Error,A=q,N=J,Z=G.crypto.ECDSA,ue=G.crypto.ECParameterDB,we=Z.getName,Me=Fe,Se=Me.getVbyListEx,Oe=Me.isASN1HEX,Ne=new _e;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ue){return new A(Ue.bitLength(),Ne).mod(Ue.subtract(A.ONE)).add(A.ONE)},this.setNamedCurve=function(Ue){this.ecparams=ue.getByName(Ue),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ue},this.setPrivateKeyHex=function(Ue){this.isPrivate=!0,this.prvKeyHex=Ue},this.setPublicKeyHex=function(Ue){this.isPublic=!0,this.pubKeyHex=Ue},this.getPublicKeyXYHex=function(){var Ue=this.pubKeyHex;if(Ue.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var He=this.ecparams.keylen/4;if(Ue.length!==2+2*He)throw"malformed public key hex length";var Ye={};return Ye.x=Ue.substr(2,He),Ye.y=Ue.substr(2+He),Ye},this.getShortNISTPCurveName=function(){var Ue=this.curveName;return Ue==="secp256r1"||Ue==="NIST P-256"||Ue==="P-256"||Ue==="prime256v1"?"P-256":Ue==="secp384r1"||Ue==="NIST P-384"||Ue==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var Ue=this.ecparams.n,He=this.getBigRandom(Ue),Ye=this.ecparams.G.multiply(He),st=Ye.getX().toBigInteger(),ht=Ye.getY().toBigInteger(),lt=this.ecparams.keylen/4,be=("0000000000"+He.toString(16)).slice(-lt),je="04"+("0000000000"+st.toString(16)).slice(-lt)+("0000000000"+ht.toString(16)).slice(-lt);return this.setPrivateKeyHex(be),this.setPublicKeyHex(je),{ecprvhex:be,ecpubhex:je}},this.signWithMessageHash=function(Ue){return this.signHex(Ue,this.prvKeyHex)},this.signHex=function(Ue,He){var Ye=new A(He,16),st=this.ecparams.n,ht=new A(Ue.substring(0,this.ecparams.keylen/4),16);do var lt=this.getBigRandom(st),be=this.ecparams.G.multiply(lt).getX().toBigInteger().mod(st);while(be.compareTo(A.ZERO)<=0);var je=lt.modInverse(st).multiply(ht.add(Ye.multiply(be))).mod(st);return Z.biRSSigToASN1Sig(be,je)},this.sign=function(Ue,He){var Ye=He,st=this.ecparams.n,ht=A.fromByteArrayUnsigned(Ue);do var lt=this.getBigRandom(st),be=this.ecparams.G.multiply(lt).getX().toBigInteger().mod(st);while(be.compareTo(q.ZERO)<=0);var je=lt.modInverse(st).multiply(ht.add(Ye.multiply(be))).mod(st);return this.serializeSig(be,je)},this.verifyWithMessageHash=function(Ue,He){return this.verifyHex(Ue,He,this.pubKeyHex)},this.verifyHex=function(Ue,He,Ye){try{var st,ht,lt=Z.parseSigHex(He);st=lt.r,ht=lt.s;var be=N.decodeFromHex(this.ecparams.curve,Ye),je=new A(Ue.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(je,st,ht,be)}catch{return!1}},this.verify=function(Ue,He,Ye){var st,ht,lt;if(Bitcoin.Util.isArray(He)){var be=this.parseSig(He);st=be.r,ht=be.s}else{if((He===void 0?"undefined":w(He))!=="object"||!He.r||!He.s)throw"Invalid value for signature";st=He.r,ht=He.s}if(Ye instanceof J)lt=Ye;else{if(!Bitcoin.Util.isArray(Ye))throw"Invalid format for pubkey value, must be byte array or ECPointFp";lt=N.decodeFrom(this.ecparams.curve,Ye)}var je=A.fromByteArrayUnsigned(Ue);return this.verifyRaw(je,st,ht,lt)},this.verifyRaw=function(Ue,He,Ye,st){var ht=this.ecparams.n,lt=this.ecparams.G;if(He.compareTo(A.ONE)<0||He.compareTo(ht)>=0||Ye.compareTo(A.ONE)<0||Ye.compareTo(ht)>=0)return!1;var be=Ye.modInverse(ht),je=Ue.multiply(be).mod(ht),qe=He.multiply(be).mod(ht);return lt.multiply(je).add(st.multiply(qe)).getX().toBigInteger().mod(ht).equals(He)},this.serializeSig=function(Ue,He){var Ye=Ue.toByteArraySigned(),st=He.toByteArraySigned(),ht=[];return ht.push(2),ht.push(Ye.length),(ht=ht.concat(Ye)).push(2),ht.push(st.length),(ht=ht.concat(st)).unshift(ht.length),ht.unshift(48),ht},this.parseSig=function(Ue){var He;if(Ue[0]!=48)throw new Error("Signature not a valid DERSequence");if(Ue[He=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ye=Ue.slice(He+2,He+2+Ue[He+1]);if(Ue[He+=2+Ue[He+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var st=Ue.slice(He+2,He+2+Ue[He+1]);return He+=2+Ue[He+1],{r:A.fromByteArrayUnsigned(Ye),s:A.fromByteArrayUnsigned(st)}},this.parseSigCompact=function(Ue){if(Ue.length!==65)throw"Signature has the wrong length";var He=Ue[0]-27;if(He<0||He>7)throw"Invalid signature type";var Ye=this.ecparams.n;return{r:A.fromByteArrayUnsigned(Ue.slice(1,33)).mod(Ye),s:A.fromByteArrayUnsigned(Ue.slice(33,65)).mod(Ye),i:He}},this.readPKCS5PrvKeyHex=function(Ue){if(Oe(Ue)===!1)throw new Error("not ASN.1 hex string");var He,Ye,st;try{He=Se(Ue,0,["[0]",0],"06"),Ye=Se(Ue,0,[1],"04");try{st=Se(Ue,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(He),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ue){if(Oe(Ue)===!1)throw new C("not ASN.1 hex string");var He,Ye,st;try{Se(Ue,0,[1,0],"06"),He=Se(Ue,0,[1,1],"06"),Ye=Se(Ue,0,[2,0,1],"04");try{st=Se(Ue,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(He),this.curveName===void 0)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ue){if(Oe(Ue)===!1)throw new C("not ASN.1 hex string");var He,Ye;try{Se(Ue,0,[0,0],"06"),He=Se(Ue,0,[0,1],"06"),Ye=Se(Ue,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=we(He),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ye)},this.readCertPubKeyHex=function(Ue,He){if(Oe(Ue)===!1)throw new C("not ASN.1 hex string");var Ye,st;try{Ye=Se(Ue,0,[0,5,0,1],"06"),st=Se(Ue,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=we(Ye),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},T!==void 0&&T.curve!==void 0&&(this.curveName=T.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),T!==void 0&&(T.prv!==void 0&&this.setPrivateKeyHex(T.prv),T.pub!==void 0&&this.setPublicKeyHex(T.pub))},G.crypto.ECDSA.parseSigHex=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T);return{r:new q(C.r,16),s:new q(C.s,16)}},G.crypto.ECDSA.parseSigHexInHexRS=function(T){var C=Fe,A=C.getChildIdx,N=C.getV;if(C.checkStrictDER(T,0),T.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var Z=A(T,0);if(Z.length!=2)throw new Error("signature shall have two elements");var ue=Z[0],we=Z[1];if(T.substr(ue,2)!="02")throw new Error("1st item not ASN.1 integer");if(T.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(T,ue),s:N(T,we)}},G.crypto.ECDSA.asn1SigToConcatSig=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T),A=C.r,N=C.s;if(A.substr(0,2)=="00"&&A.length%32==2&&(A=A.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),A.length%32==30&&(A="00"+A),N.length%32==30&&(N="00"+N),A.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return A+N},G.crypto.ECDSA.concatSigToASN1Sig=function(T){if(T.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=T.substr(0,T.length/2),A=T.substr(T.length/2);return G.crypto.ECDSA.hexRSSigToASN1Sig(C,A)},G.crypto.ECDSA.hexRSSigToASN1Sig=function(T,C){var A=new q(T,16),N=new q(C,16);return G.crypto.ECDSA.biRSSigToASN1Sig(A,N)},G.crypto.ECDSA.biRSSigToASN1Sig=function(T,C){var A=G.asn1,N=new A.DERInteger({bigint:T}),Z=new A.DERInteger({bigint:C});return new A.DERSequence({array:[N,Z]}).getEncodedHex()},G.crypto.ECDSA.getName=function(T){return T==="2b8104001f"?"secp192k1":T==="2a8648ce3d030107"?"secp256r1":T==="2b8104000a"?"secp256k1":T==="2b81040021"?"secp224r1":T==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(T)!==-1?"secp256r1":"|secp256k1|".indexOf(T)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(T)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(T)!==-1?"secp384r1":null},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECParameterDB=new function(){var T={},C={};function A(N){return new q(N,16)}this.getByName=function(N){var Z=N;if(C[Z]!==void 0&&(Z=C[N]),T[Z]!==void 0)return T[Z];throw"unregistered EC curve name: "+Z},this.regist=function(N,Z,ue,we,Me,Se,Oe,Ne,Ue,He,Ye,st){T[N]={};var ht=A(ue),lt=A(we),be=A(Me),je=A(Se),qe=A(Oe),Ke=new $(ht,lt,be),ct=Ke.decodePointHex("04"+Ne+Ue);T[N].name=N,T[N].keylen=Z,T[N].curve=Ke,T[N].G=ct,T[N].n=je,T[N].h=qe,T[N].oid=Ye,T[N].info=st;for(var yt=0;yt<He.length;yt++)C[He[yt]]=N}},G.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),G.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),G.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),G.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),G.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),G.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),G.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),G.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var $t=function(){var T=function(Oe,Ne,Ue){return C(P.AES,Oe,Ne,Ue)},C=function(Oe,Ne,Ue,He){var Ye=P.enc.Hex.parse(Ne),st=P.enc.Hex.parse(Ue),ht=P.enc.Hex.parse(He),lt={};lt.key=st,lt.iv=ht,lt.ciphertext=Ye;var be=Oe.decrypt(lt,st,{iv:ht});return P.enc.Hex.stringify(be)},A=function(Oe,Ne,Ue){return N(P.AES,Oe,Ne,Ue)},N=function(Oe,Ne,Ue,He){var Ye=P.enc.Hex.parse(Ne),st=P.enc.Hex.parse(Ue),ht=P.enc.Hex.parse(He),lt=Oe.encrypt(Ye,st,{iv:ht}),be=P.enc.Hex.parse(lt.toString());return P.enc.Base64.stringify(be)},Z={"AES-256-CBC":{proc:T,eproc:A,keylen:32,ivlen:16},"AES-192-CBC":{proc:T,eproc:A,keylen:24,ivlen:16},"AES-128-CBC":{proc:T,eproc:A,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Oe,Ne,Ue){return C(P.TripleDES,Oe,Ne,Ue)},eproc:function(Oe,Ne,Ue){return N(P.TripleDES,Oe,Ne,Ue)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Oe,Ne,Ue){return C(P.DES,Oe,Ne,Ue)},eproc:function(Oe,Ne,Ue){return N(P.DES,Oe,Ne,Ue)},keylen:8,ivlen:8}},ue=function(Oe){var Ne={},Ue=Oe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ue&&(Ne.cipher=Ue[1],Ne.ivsalt=Ue[2]);var He=Oe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));He&&(Ne.type=He[1]);var Ye=-1,st=0;Oe.indexOf(`\r
\r
`)!=-1&&(Ye=Oe.indexOf(`\r
\r
`),st=2),Oe.indexOf(`

`)!=-1&&(Ye=Oe.indexOf(`

`),st=1);var ht=Oe.indexOf("-----END");if(Ye!=-1&&ht!=-1){var lt=Oe.substring(Ye+2*st,ht-st);lt=lt.replace(/\s+/g,""),Ne.data=lt}return Ne},we=function(Oe,Ne,Ue){for(var He=Ue.substring(0,16),Ye=P.enc.Hex.parse(He),st=P.enc.Utf8.parse(Ne),ht=Z[Oe].keylen+Z[Oe].ivlen,lt="",be=null;;){var je=P.algo.MD5.create();if(be!=null&&je.update(be),je.update(st),je.update(Ye),be=je.finalize(),(lt+=P.enc.Hex.stringify(be)).length>=2*ht)break}var qe={};return qe.keyhex=lt.substr(0,2*Z[Oe].keylen),qe.ivhex=lt.substr(2*Z[Oe].keylen,2*Z[Oe].ivlen),qe},Me=function(Oe,Ne,Ue,He){var Ye=P.enc.Base64.parse(Oe),st=P.enc.Hex.stringify(Ye);return(0,Z[Ne].proc)(st,Ue,He)};return{version:"1.0.0",parsePKCS5PEM:function(Oe){return ue(Oe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Oe,Ne,Ue){return we(Oe,Ne,Ue)},decryptKeyB64:function(Oe,Ne,Ue,He){return Me(Oe,Ne,Ue,He)},getDecryptedKeyHex:function(Oe,Ne){var Ue=ue(Oe),He=Ue.cipher,Ye=Ue.ivsalt,st=Ue.data,ht=we(He,Ne,Ye).keyhex;return Me(st,He,ht,Ye)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Oe,Ne,Ue,He,Ye){var st="";if(He!==void 0&&He!=null||(He="AES-256-CBC"),Z[He]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+He);Ye!==void 0&&Ye!=null||(Ye=function(be){var je=P.lib.WordArray.random(be);return P.enc.Hex.stringify(je)}(Z[He].ivlen).toUpperCase());var ht=function(be,je,qe,Ke){return(0,Z[je].eproc)(be,qe,Ke)}(Ne,He,we(He,Ue,Ye).keyhex,Ye);return st="-----BEGIN "+Oe+` PRIVATE KEY-----\r
`,st+=`Proc-Type: 4,ENCRYPTED\r
`,st+="DEK-Info: "+He+","+Ye+`\r
`,st+=`\r
`,st+=ht.replace(/(.{64})/g,`$1\r
`),st+=`\r
-----END `+Oe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Oe){var Ne=Fe,Ue=Ne.getChildIdx,He=Ne.getV,Ye={},st=Ue(Oe,0);if(st.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+st.length);Ye.ciphertext=He(Oe,st[1]);var ht=Ue(Oe,st[0]);if(ht.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+ht.length);if(He(Oe,ht[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var lt=Ue(Oe,ht[1]);if(ht.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+lt.length);var be=Ue(Oe,lt[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(He(Oe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ye.encryptionSchemeAlg="TripleDES",Ye.encryptionSchemeIV=He(Oe,be[1]);var je=Ue(Oe,lt[0]);if(je.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+je.length);if(He(Oe,je[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var qe=Ue(Oe,je[1]);if(qe.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+qe.length);Ye.pbkdf2Salt=He(Oe,qe[0]);var Ke=He(Oe,qe[1]);try{Ye.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Ye},getPBKDF2KeyHexFromParam:function(Oe,Ne){var Ue=P.enc.Hex.parse(Oe.pbkdf2Salt),He=Oe.pbkdf2Iter,Ye=P.PBKDF2(Ne,Ue,{keySize:6,iterations:He});return P.enc.Hex.stringify(Ye)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Oe,Ne){var Ue=Ct(Oe,"ENCRYPTED PRIVATE KEY"),He=this.parseHexOfEncryptedPKCS8(Ue),Ye=$t.getPBKDF2KeyHexFromParam(He,Ne),st={};st.ciphertext=P.enc.Hex.parse(He.ciphertext);var ht=P.enc.Hex.parse(Ye),lt=P.enc.Hex.parse(He.encryptionSchemeIV),be=P.TripleDES.decrypt(st,ht,{iv:lt});return P.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Oe,Ne){var Ue=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Oe,Ne);return this.getKeyFromPlainPrivatePKCS8Hex(Ue)},parsePlainPrivatePKCS8Hex:function(Oe){var Ne=Fe,Ue=Ne.getChildIdx,He=Ne.getV,Ye={algparam:null};if(Oe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var st=Ue(Oe,0);if(st.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Oe.substr(st[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var ht=Ue(Oe,st[1]);if(ht.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Oe.substr(ht[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ye.algoid=He(Oe,ht[0]),Oe.substr(ht[1],2)=="06"&&(Ye.algparam=He(Oe,ht[1])),Oe.substr(st[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ye.keyidx=Ne.getVidx(Oe,st[2]),Ye},getKeyFromPlainPrivatePKCS8PEM:function(Oe){var Ne=Ct(Oe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Ne)},getKeyFromPlainPrivatePKCS8Hex:function(Oe){var Ne,Ue=this.parsePlainPrivatePKCS8Hex(Oe);if(Ue.algoid=="2a864886f70d010101")Ne=new me;else if(Ue.algoid=="2a8648ce380401")Ne=new G.crypto.DSA;else{if(Ue.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Ne=new G.crypto.ECDSA}return Ne.readPKCS8PrvKeyHex(Oe),Ne},_getKeyFromPublicPKCS8Hex:function(Oe){var Ne,Ue=Fe.getVbyList(Oe,0,[0,0],"06");if(Ue==="2a864886f70d010101")Ne=new me;else if(Ue==="2a8648ce380401")Ne=new G.crypto.DSA;else{if(Ue!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Ne=new G.crypto.ECDSA}return Ne.readPKCS8PubKeyHex(Oe),Ne},parsePublicRawRSAKeyHex:function(Oe){var Ne=Fe,Ue=Ne.getChildIdx,He=Ne.getV,Ye={};if(Oe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var st=Ue(Oe,0);if(st.length!=2)throw new Error("malformed RSA key(code:002)");if(Oe.substr(st[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ye.n=He(Oe,st[0]),Oe.substr(st[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ye.e=He(Oe,st[1]),Ye},parsePublicPKCS8Hex:function(Oe){var Ne=Fe,Ue=Ne.getChildIdx,He=Ne.getV,Ye={algparam:null},st=Ue(Oe,0);if(st.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+st.length);var ht=st[0];if(Oe.substr(ht,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var lt=Ue(Oe,ht);if(lt.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Oe.substr(lt[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ye.algoid=He(Oe,lt[0]),Oe.substr(lt[1],2)=="06"?Ye.algparam=He(Oe,lt[1]):Oe.substr(lt[1],2)=="30"&&(Ye.algparam={},Ye.algparam.p=Ne.getVbyList(Oe,lt[1],[0],"02"),Ye.algparam.q=Ne.getVbyList(Oe,lt[1],[1],"02"),Ye.algparam.g=Ne.getVbyList(Oe,lt[1],[2],"02")),Oe.substr(st[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ye.key=He(Oe,st[1]).substr(2),Ye}}}();$t.getKey=function(T,C,A){var N=(lt=Fe).getChildIdx,Z=(lt.getV,lt.getVbyList),ue=G.crypto,we=ue.ECDSA,Me=ue.DSA,Se=me,Oe=Ct,Ne=$t;if(Se!==void 0&&T instanceof Se||we!==void 0&&T instanceof we||Me!==void 0&&T instanceof Me)return T;if(T.curve!==void 0&&T.xy!==void 0&&T.d===void 0)return new we({pub:T.xy,curve:T.curve});if(T.curve!==void 0&&T.d!==void 0)return new we({prv:T.d,curve:T.curve});if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new Se).setPublic(T.n,T.e),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.co!==void 0&&T.qi===void 0)return(Vt=new Se).setPrivateEx(T.n,T.e,T.d,T.p,T.q,T.dp,T.dq,T.co),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p===void 0)return(Vt=new Se).setPrivate(T.n,T.e,T.d),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x===void 0)return(Vt=new Me).setPublic(T.p,T.q,T.g,T.y),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x!==void 0)return(Vt=new Me).setPrivate(T.p,T.q,T.g,T.y,T.x),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new Se).setPublic(pn(T.n),pn(T.e)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.qi!==void 0)return(Vt=new Se).setPrivateEx(pn(T.n),pn(T.e),pn(T.d),pn(T.p),pn(T.q),pn(T.dp),pn(T.dq),pn(T.qi)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0)return(Vt=new Se).setPrivate(pn(T.n),pn(T.e),pn(T.d)),Vt;if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d===void 0){var Ue=(jt=new we({curve:T.crv})).ecparams.keylen/4,He="04"+("0000000000"+pn(T.x)).slice(-Ue)+("0000000000"+pn(T.y)).slice(-Ue);return jt.setPublicKeyHex(He),jt}if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d!==void 0){Ue=(jt=new we({curve:T.crv})).ecparams.keylen/4,He="04"+("0000000000"+pn(T.x)).slice(-Ue)+("0000000000"+pn(T.y)).slice(-Ue);var Ye=("0000000000"+pn(T.d)).slice(-Ue);return jt.setPublicKeyHex(He),jt.setPrivateKeyHex(Ye),jt}if(A==="pkcs5prv"){var st,ht=T,lt=Fe;if((st=N(ht,0)).length===9)(Vt=new Se).readPKCS5PrvKeyHex(ht);else if(st.length===6)(Vt=new Me).readPKCS5PrvKeyHex(ht);else{if(!(st.length>2&&ht.substr(st[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Vt=new we).readPKCS5PrvKeyHex(ht)}return Vt}if(A==="pkcs8prv")return Vt=Ne.getKeyFromPlainPrivatePKCS8Hex(T);if(A==="pkcs8pub")return Ne._getKeyFromPublicPKCS8Hex(T);if(A==="x509pub")return Zt.getPublicKeyFromCertHex(T);if(T.indexOf("-END CERTIFICATE-",0)!=-1||T.indexOf("-END X509 CERTIFICATE-",0)!=-1||T.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Zt.getPublicKeyFromCertPEM(T);if(T.indexOf("-END PUBLIC KEY-")!=-1){var be=Ct(T,"PUBLIC KEY");return Ne._getKeyFromPublicPKCS8Hex(be)}if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var je=Oe(T,"RSA PRIVATE KEY");return Ne.getKey(je,null,"pkcs5prv")}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var qe=Z(Un=Oe(T,"DSA PRIVATE KEY"),0,[1],"02"),Ke=Z(Un,0,[2],"02"),ct=Z(Un,0,[3],"02"),yt=Z(Un,0,[4],"02"),Ut=Z(Un,0,[5],"02");return(Vt=new Me).setPrivate(new q(qe,16),new q(Ke,16),new q(ct,16),new q(yt,16),new q(Ut,16)),Vt}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1)return je=Oe(T,"EC PRIVATE KEY"),Ne.getKey(je,null,"pkcs5prv");if(T.indexOf("-END PRIVATE KEY-")!=-1)return Ne.getKeyFromPlainPrivatePKCS8PEM(T);if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Rt=Ne.getDecryptedKeyHex(T,C),mn=new me;return mn.readPKCS5PrvKeyHex(Rt),mn}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var jt,Vt=Z(Un=Ne.getDecryptedKeyHex(T,C),0,[1],"04"),Hn=Z(Un,0,[2,0],"06"),Fn=Z(Un,0,[3,0],"03").substr(2);if(G.crypto.OID.oidhex2name[Hn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Hn);return(jt=new we({curve:G.crypto.OID.oidhex2name[Hn]})).setPublicKeyHex(Fn),jt.setPrivateKeyHex(Vt),jt.isPublic=!1,jt}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Un;return qe=Z(Un=Ne.getDecryptedKeyHex(T,C),0,[1],"02"),Ke=Z(Un,0,[2],"02"),ct=Z(Un,0,[3],"02"),yt=Z(Un,0,[4],"02"),Ut=Z(Un,0,[5],"02"),(Vt=new Me).setPrivate(new q(qe,16),new q(Ke,16),new q(ct,16),new q(yt,16),new q(Ut,16)),Vt}if(T.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Ne.getKeyFromEncryptedPKCS8PEM(T,C);throw new Error("not supported argument")},$t.generateKeypair=function(T,C){if(T=="RSA"){var A=C;(we=new me).generate(A,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new me,Z=we.n.toString(16),ue=we.e.toString(16);return N.setPublic(Z,ue),N.isPrivate=!1,N.isPublic=!0,(Me={}).prvKeyObj=we,Me.pubKeyObj=N,Me}if(T=="EC"){var we,Me,Se=C,Oe=new G.crypto.ECDSA({curve:Se}).generateKeyPairHex();return(we=new G.crypto.ECDSA({curve:Se})).setPublicKeyHex(Oe.ecpubhex),we.setPrivateKeyHex(Oe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new G.crypto.ECDSA({curve:Se})).setPublicKeyHex(Oe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Me={}).prvKeyObj=we,Me.pubKeyObj=N,Me}throw new Error("unknown algorithm: "+T)},$t.getPEM=function(T,C,A,N,Z,ue){var we=G,Me=we.asn1,Se=Me.DERObjectIdentifier,Oe=Me.DERInteger,Ne=Me.ASN1Util.newObject,Ue=Me.x509.SubjectPublicKeyInfo,He=we.crypto,Ye=He.DSA,st=He.ECDSA,ht=me;function lt(jt){return Ne({seq:[{int:0},{int:{bigint:jt.n}},{int:jt.e},{int:{bigint:jt.d}},{int:{bigint:jt.p}},{int:{bigint:jt.q}},{int:{bigint:jt.dmp1}},{int:{bigint:jt.dmq1}},{int:{bigint:jt.coeff}}]})}function be(jt){return Ne({seq:[{int:1},{octstr:{hex:jt.prvKeyHex}},{tag:["a0",!0,{oid:{name:jt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+jt.pubKeyHex}}]}]})}function je(jt){return Ne({seq:[{int:0},{int:{bigint:jt.p}},{int:{bigint:jt.q}},{int:{bigint:jt.g}},{int:{bigint:jt.y}},{int:{bigint:jt.x}}]})}if((ht!==void 0&&T instanceof ht||Ye!==void 0&&T instanceof Ye||st!==void 0&&T instanceof st)&&T.isPublic==1&&(C===void 0||C=="PKCS8PUB"))return St(yt=new Ue(T).getEncodedHex(),"PUBLIC KEY");if(C=="PKCS1PRV"&&ht!==void 0&&T instanceof ht&&(A===void 0||A==null)&&T.isPrivate==1)return St(yt=lt(T).getEncodedHex(),"RSA PRIVATE KEY");if(C=="PKCS1PRV"&&st!==void 0&&T instanceof st&&(A===void 0||A==null)&&T.isPrivate==1){var qe=new Se({name:T.curveName}).getEncodedHex(),Ke=be(T).getEncodedHex(),ct="";return ct+=St(qe,"EC PARAMETERS"),ct+=St(Ke,"EC PRIVATE KEY")}if(C=="PKCS1PRV"&&Ye!==void 0&&T instanceof Ye&&(A===void 0||A==null)&&T.isPrivate==1)return St(yt=je(T).getEncodedHex(),"DSA PRIVATE KEY");if(C=="PKCS5PRV"&&ht!==void 0&&T instanceof ht&&A!==void 0&&A!=null&&T.isPrivate==1){var yt=lt(T).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",yt,A,N,ue)}if(C=="PKCS5PRV"&&st!==void 0&&T instanceof st&&A!==void 0&&A!=null&&T.isPrivate==1)return yt=be(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",yt,A,N,ue);if(C=="PKCS5PRV"&&Ye!==void 0&&T instanceof Ye&&A!==void 0&&A!=null&&T.isPrivate==1)return yt=je(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",yt,A,N,ue);var Ut=function(Vt,Hn){var Fn=Rt(Vt,Hn);return new Ne({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Fn.pbkdf2Salt}},{int:Fn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Fn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Fn.ciphertext}}]}).getEncodedHex()},Rt=function(Vt,Hn){var Fn=P.lib.WordArray.random(8),Un=P.lib.WordArray.random(8),Qt=P.PBKDF2(Hn,Fn,{keySize:6,iterations:100}),Wn=P.enc.Hex.parse(Vt),gn=P.TripleDES.encrypt(Wn,Qt,{iv:Un})+"",Yn={};return Yn.ciphertext=gn,Yn.pbkdf2Salt=P.enc.Hex.stringify(Fn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=P.enc.Hex.stringify(Un),Yn};if(C=="PKCS8PRV"&&ht!=null&&T instanceof ht&&T.isPrivate==1){var mn=lt(T).getEncodedHex();return yt=Ne({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:mn}}]}).getEncodedHex(),A===void 0||A==null?St(yt,"PRIVATE KEY"):St(Ke=Ut(yt,A),"ENCRYPTED PRIVATE KEY")}if(C=="PKCS8PRV"&&st!==void 0&&T instanceof st&&T.isPrivate==1)return mn=new Ne({seq:[{int:1},{octstr:{hex:T.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+T.pubKeyHex}}]}]}).getEncodedHex(),yt=Ne({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:T.curveName}}]},{octstr:{hex:mn}}]}).getEncodedHex(),A===void 0||A==null?St(yt,"PRIVATE KEY"):St(Ke=Ut(yt,A),"ENCRYPTED PRIVATE KEY");if(C=="PKCS8PRV"&&Ye!==void 0&&T instanceof Ye&&T.isPrivate==1)return mn=new Oe({bigint:T.x}).getEncodedHex(),yt=Ne({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:T.p}},{int:{bigint:T.q}},{int:{bigint:T.g}}]}]},{octstr:{hex:mn}}]}).getEncodedHex(),A===void 0||A==null?St(yt,"PRIVATE KEY"):St(Ke=Ut(yt,A),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},$t.getKeyFromCSRPEM=function(T){var C=Ct(T,"CERTIFICATE REQUEST");return $t.getKeyFromCSRHex(C)},$t.getKeyFromCSRHex=function(T){var C=$t.parseCSRHex(T);return $t.getKey(C.p8pubkeyhex,null,"pkcs8pub")},$t.parseCSRHex=function(T){var C=Fe,A=C.getChildIdx,N=C.getTLV,Z={},ue=T;if(ue.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=A(ue,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(ue.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Me=A(ue,we[0]);if(Me.length<3)throw new Error("malformed CSR(code:004)");return Z.p8pubkeyhex=N(ue,Me[2]),Z},$t.getKeyID=function(T){var C=$t,A=Fe;typeof T=="string"&&T.indexOf("BEGIN ")!=-1&&(T=C.getKey(T));var N=Ct(C.getPEM(T)),Z=A.getIdxbyList(N,0,[1]),ue=A.getV(N,Z).substring(2);return G.crypto.Util.hashHex(ue,"sha1")},$t.getJWKFromKey=function(T){var C={};if(T instanceof me&&T.isPrivate)return C.kty="RSA",C.n=hn(T.n.toString(16)),C.e=hn(T.e.toString(16)),C.d=hn(T.d.toString(16)),C.p=hn(T.p.toString(16)),C.q=hn(T.q.toString(16)),C.dp=hn(T.dmp1.toString(16)),C.dq=hn(T.dmq1.toString(16)),C.qi=hn(T.coeff.toString(16)),C;if(T instanceof me&&T.isPublic)return C.kty="RSA",C.n=hn(T.n.toString(16)),C.e=hn(T.e.toString(16)),C;if(T instanceof G.crypto.ECDSA&&T.isPrivate){if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var A=T.getPublicKeyXYHex();return C.kty="EC",C.crv=N,C.x=hn(A.x),C.y=hn(A.y),C.d=hn(T.prvKeyHex),C}if(T instanceof G.crypto.ECDSA&&T.isPublic){var N;if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return A=T.getPublicKeyXYHex(),C.kty="EC",C.crv=N,C.x=hn(A.x),C.y=hn(A.y),C}throw new Error("not supported key object")},me.getPosArrayOfChildrenFromHex=function(T){return Fe.getChildIdx(T,0)},me.getHexValueArrayOfChildrenFromHex=function(T){var C,A=Fe.getV,N=A(T,(C=me.getPosArrayOfChildrenFromHex(T))[0]),Z=A(T,C[1]),ue=A(T,C[2]),we=A(T,C[3]),Me=A(T,C[4]),Se=A(T,C[5]),Oe=A(T,C[6]),Ne=A(T,C[7]),Ue=A(T,C[8]);return(C=new Array).push(N,Z,ue,we,Me,Se,Oe,Ne,Ue),C},me.prototype.readPrivateKeyFromPEMString=function(T){var C=Ct(T),A=me.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8])},me.prototype.readPKCS5PrvKeyHex=function(T){var C=me.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},me.prototype.readPKCS8PrvKeyHex=function(T){var C,A,N,Z,ue,we,Me,Se,Oe=Fe,Ne=Oe.getVbyListEx;if(Oe.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");try{C=Ne(T,0,[2,0,1],"02"),A=Ne(T,0,[2,0,2],"02"),N=Ne(T,0,[2,0,3],"02"),Z=Ne(T,0,[2,0,4],"02"),ue=Ne(T,0,[2,0,5],"02"),we=Ne(T,0,[2,0,6],"02"),Me=Ne(T,0,[2,0,7],"02"),Se=Ne(T,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,A,N,Z,ue,we,Me,Se)},me.prototype.readPKCS5PubKeyHex=function(T){var C=Fe,A=C.getV;if(C.isASN1HEX(T)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=C.getChildIdx(T,0);if(N.length!==2||T.substr(N[0],2)!=="02"||T.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var Z=A(T,N[0]),ue=A(T,N[1]);this.setPublic(Z,ue)},me.prototype.readPKCS8PubKeyHex=function(T){var C=Fe;if(C.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");if(C.getTLVbyListEx(T,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var A=C.getTLVbyListEx(T,0,[1,0]);this.readPKCS5PubKeyHex(A)},me.prototype.readCertPubKeyHex=function(T,C){var A,N;(A=new Zt).readCertHex(T),N=A.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function tn(T,C){for(var A="",N=C/4-T.length,Z=0;Z<N;Z++)A+="0";return A+T}function Ln(T,C,A){for(var N="",Z=0;N.length<C;)N+=cn(A(Dn(T+String.fromCharCode.apply(String,[(4278190080&Z)>>24,(16711680&Z)>>16,(65280&Z)>>8,255&Z])))),Z+=1;return N}function Wt(T){for(var C in G.crypto.Util.DIGESTINFOHEAD){var A=G.crypto.Util.DIGESTINFOHEAD[C],N=A.length;if(T.substring(0,N)==A)return[C,T.substring(N)]}return[]}function Zt(T){var C,A=Fe,N=A.getChildIdx,Z=A.getV,ue=A.getTLV,we=A.getVbyList,Me=A.getVbyListEx,Se=A.getTLVbyList,Oe=A.getTLVbyListEx,Ne=A.getIdxbyList,Ue=A.getIdxbyListEx,He=A.getVidx,Ye=A.getInt,st=A.oidname,ht=A.hextooidstr,lt=Ct;try{C=G.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=Se(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var je=Se(be,0,[0]),qe=Ye(je,0);if(qe<0||2<qe)throw new Error("malformed version field");return this.version=qe+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Me(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Oe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var je in C)if(be===C[je])return je;return st(Me(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Se(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Se(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return A.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Ne(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return Ne(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return $t.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=Se(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var je=this.getSignatureAlgorithmField(),qe=this.getSignatureValueHex(),Ke=Se(this.hex,0,[0],"30"),ct=new G.crypto.Signature({alg:je});return ct.init(be),ct.updateHex(Ke),ct.verify(qe)},this.parseExt=function(be){var je,qe,Ke;if(be===void 0){if(Ke=this.hex,this.version!==3)return-1;je=Ne(Ke,0,[0,7,0],"30"),qe=N(Ke,je)}else{Ke=Ct(be);var ct=Ne(Ke,0,[0,3,0,0],"06");if(Z(Ke,ct)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);je=Ne(Ke,0,[0,3,0,1,0],"30"),qe=N(Ke,je),this.hex=Ke}this.aExtInfo=new Array;for(var yt=0;yt<qe.length;yt++){var Ut={critical:!1},Rt=0;N(Ke,qe[yt]).length===3&&(Ut.critical=!0,Rt=1),Ut.oid=A.hextooidstr(we(Ke,qe[yt],[0],"06"));var mn=Ne(Ke,qe[yt],[1+Rt]);Ut.vidx=He(Ke,mn),this.aExtInfo.push(Ut)}},this.getExtInfo=function(be){var je=this.aExtInfo,qe=be;if(be.match(/^[0-9.]+$/)||(qe=G.asn1.x509.OID.name2oid(be)),qe!==""){for(var Ke=0;Ke<je.length;Ke++)if(je[Ke].oid===qe)return je[Ke]}},this.getExtBasicConstraints=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("basicConstraints");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"basicConstraints"};if(je&&(Ke.critical=!0),be==="3000")return Ke;if(be==="30030101ff")return Ke.cA=!0,Ke;if(be.substr(0,12)==="30060101ff02"){var ct=Z(be,10),yt=parseInt(ct,16);return Ke.cA=!0,Ke.pathLen=yt,Ke}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("keyUsage");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"keyUsage"};return je&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(be).split(","),Ke},this.getExtKeyUsageBin=function(be){if(be===void 0){var je=this.getExtInfo("keyUsage");if(je===void 0)return"";be=ue(this.hex,je.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var qe="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(qe=qe.slice(-8)),be.length==10&&(qe=qe.slice(-16)),(qe=qe.replace(/0+$/,""))==""&&(qe="0"),qe},this.getExtKeyUsageString=function(be){for(var je=this.getExtKeyUsageBin(be),qe=new Array,Ke=0;Ke<je.length;Ke++)je.substr(Ke,1)=="1"&&qe.push(Zt.KEYUSAGE_NAME[Ke]);return qe.join(",")},this.getExtSubjectKeyIdentifier=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("subjectKeyIdentifier");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"subjectKeyIdentifier"};je&&(Ke.critical=!0);var ct=Z(be,0);return Ke.kid={hex:ct},Ke},this.getExtAuthorityKeyIdentifier=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("authorityKeyIdentifier");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"authorityKeyIdentifier"};je&&(Ke.critical=!0);for(var ct=N(be,0),yt=0;yt<ct.length;yt++){var Ut=be.substr(ct[yt],2);if(Ut==="80"&&(Ke.kid={hex:Z(be,ct[yt])}),Ut==="a1"){var Rt=ue(be,ct[yt]),mn=this.getGeneralNames(Rt);Ke.issuer=mn[0].dn}Ut==="82"&&(Ke.sn={hex:Z(be,ct[yt])})}return Ke},this.getExtExtKeyUsage=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("extKeyUsage");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"extKeyUsage",array:[]};je&&(Ke.critical=!0);for(var ct=N(be,0),yt=0;yt<ct.length;yt++)Ke.array.push(st(Z(be,ct[yt])));return Ke},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var je=new Array,qe=ue(this.hex,be.vidx);if(qe==="")return je;for(var Ke=N(qe,0),ct=0;ct<Ke.length;ct++)je.push(st(Z(qe,Ke[ct])));return je},this.getExtSubjectAltName=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("subjectAltName");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"subjectAltName",array:[]};return je&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getExtIssuerAltName=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("issuerAltName");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"issuerAltName",array:[]};return je&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getGeneralNames=function(be){for(var je=N(be,0),qe=[],Ke=0;Ke<je.length;Ke++){var ct=this.getGeneralName(ue(be,je[Ke]));ct!==void 0&&qe.push(ct)}return qe},this.getGeneralName=function(be){var je=be.substr(0,2),qe=Z(be,0),Ke=cn(qe);return je=="81"?{rfc822:Ke}:je=="82"?{dns:Ke}:je=="86"?{uri:Ke}:je=="87"?{ip:dt(qe)}:je=="a4"?{dn:this.getX500Name(qe)}:void 0},this.getExtSubjectAltName2=function(){var be,je,qe,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var ct=new Array,yt=ue(this.hex,Ke.vidx),Ut=N(yt,0),Rt=0;Rt<Ut.length;Rt++)qe=yt.substr(Ut[Rt],2),be=Z(yt,Ut[Rt]),qe==="81"&&(je=ln(be),ct.push(["MAIL",je])),qe==="82"&&(je=ln(be),ct.push(["DNS",je])),qe==="84"&&(je=Zt.hex2dn(be,0),ct.push(["DN",je])),qe==="86"&&(je=ln(be),ct.push(["URI",je])),qe==="87"&&(je=dt(be),ct.push(["IP",je]));return ct},this.getExtCRLDistributionPoints=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("cRLDistributionPoints");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"cRLDistributionPoints",array:[]};je&&(Ke.critical=!0);for(var ct=N(be,0),yt=0;yt<ct.length;yt++){var Ut=ue(be,ct[yt]);Ke.array.push(this.getDistributionPoint(Ut))}return Ke},this.getDistributionPoint=function(be){for(var je={},qe=N(be,0),Ke=0;Ke<qe.length;Ke++){var ct=be.substr(qe[Ke],2),yt=ue(be,qe[Ke]);ct=="a0"&&(je.dpname=this.getDistributionPointName(yt))}return je},this.getDistributionPointName=function(be){for(var je={},qe=N(be,0),Ke=0;Ke<qe.length;Ke++){var ct=be.substr(qe[Ke],2),yt=ue(be,qe[Ke]);ct=="a0"&&(je.full=this.getGeneralNames(yt))}return je},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var je=new Array,qe=N(this.hex,be.vidx),Ke=0;Ke<qe.length;Ke++)try{var ct=ln(we(this.hex,qe[Ke],[0,0,0],"86"));je.push(ct)}catch{}return je},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var je={ocsp:[],caissuer:[]},qe=N(this.hex,be.vidx),Ke=0;Ke<qe.length;Ke++){var ct=we(this.hex,qe[Ke],[0],"06"),yt=we(this.hex,qe[Ke],[1],"86");ct==="2b06010505073001"&&je.ocsp.push(ln(yt)),ct==="2b06010505073002"&&je.caissuer.push(ln(yt))}return je},this.getExtAuthorityInfoAccess=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("authorityInfoAccess");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"authorityInfoAccess",array:[]};je&&(Ke.critical=!0);for(var ct=N(be,0),yt=0;yt<ct.length;yt++){var Ut=Me(be,ct[yt],[0],"06"),Rt=ln(we(be,ct[yt],[1],"86"));if(Ut=="2b06010505073001")Ke.array.push({ocsp:Rt});else{if(Ut!="2b06010505073002")throw new Error("unknown method: "+Ut);Ke.array.push({caissuer:Rt})}}return Ke},this.getExtCertificatePolicies=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("certificatePolicies");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"certificatePolicies",array:[]};je&&(Ke.critical=!0);for(var ct=N(be,0),yt=0;yt<ct.length;yt++){var Ut=ue(be,ct[yt]),Rt=this.getPolicyInformation(Ut);Ke.array.push(Rt)}return Ke},this.getPolicyInformation=function(be){var je={},qe=we(be,0,[0],"06");je.policyoid=st(qe);var Ke=Ue(be,0,[1],"30");if(Ke!=-1){je.array=[];for(var ct=N(be,Ke),yt=0;yt<ct.length;yt++){var Ut=ue(be,ct[yt]),Rt=this.getPolicyQualifierInfo(Ut);je.array.push(Rt)}}return je},this.getPolicyQualifierInfo=function(be){var je={},qe=we(be,0,[0],"06");if(qe==="2b06010505070201"){var Ke=Me(be,0,[1],"16");je.cps=cn(Ke)}else if(qe==="2b06010505070202"){var ct=Se(be,0,[1],"30");je.unotice=this.getUserNotice(ct)}return je},this.getUserNotice=function(be){for(var je={},qe=N(be,0),Ke=0;Ke<qe.length;Ke++){var ct=ue(be,qe[Ke]);ct.substr(0,2)!="30"&&(je.exptext=this.getDisplayText(ct))}return je},this.getDisplayText=function(be){var je={};return je.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],je.str=cn(Z(be,0)),je},this.getExtCRLNumber=function(be,je){var qe={extname:"cRLNumber"};if(je&&(qe.critical=!0),be.substr(0,2)=="02")return qe.num={hex:Z(be,0)},qe;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,je){var qe={extname:"cRLReason"};if(je&&(qe.critical=!0),be.substr(0,2)=="0a")return qe.code=parseInt(Z(be,0),16),qe;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,je){var qe={extname:"ocspNonce"};je&&(qe.critical=!0);var Ke=Z(be,0);return qe.hex=Ke,qe},this.getExtOcspNoCheck=function(be,je){var qe={extname:"ocspNoCheck"};return je&&(qe.critical=!0),qe},this.getExtAdobeTimeStamp=function(be,je){if(be===void 0&&je===void 0){var qe=this.getExtInfo("adobeTimeStamp");if(qe===void 0)return;be=ue(this.hex,qe.vidx),je=qe.critical}var Ke={extname:"adobeTimeStamp"};je&&(Ke.critical=!0);var ct=N(be,0);if(ct.length>1){var yt=ue(be,ct[1]),Ut=this.getGeneralName(yt);Ut.uri!=null&&(Ke.uri=Ut.uri)}if(ct.length>2){var Rt=ue(be,ct[2]);Rt=="0101ff"&&(Ke.reqauth=!0),Rt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(be){for(var je=null,qe=[],Ke=0;Ke<be.length;Ke++)for(var ct=be[Ke],yt=0;yt<ct.length;yt++)qe.push(ct[yt]);for(Ke=0;Ke<qe.length;Ke++){var Ut=qe[Ke],Rt=Ut.ds,mn=Ut.value,jt=Ut.type;if(Rt!="prn"&&Rt!="utf8"&&Rt!="ia5")return"mixed";if(Rt=="ia5"){if(jt!="CN")return"mixed";if(G.lang.String.isMail(mn))continue;return"mixed"}if(jt=="C"){if(Rt=="prn")continue;return"mixed"}if(je==null)je=Rt;else if(je!==Rt)return"mixed"}return je??"prn"},this.getX500Name=function(be){var je=this.getX500NameArray(be);return{array:je,str:this.dnarraytostr(je)}},this.getX500NameArray=function(be){for(var je=[],qe=N(be,0),Ke=0;Ke<qe.length;Ke++)je.push(this.getRDN(ue(be,qe[Ke])));return je},this.getRDN=function(be){for(var je=[],qe=N(be,0),Ke=0;Ke<qe.length;Ke++)je.push(this.getAttrTypeAndValue(ue(be,qe[Ke])));return je},this.getAttrTypeAndValue=function(be){var je={type:null,value:null,ds:null},qe=N(be,0),Ke=we(be,qe[0],[],"06"),ct=we(be,qe[1],[]),yt=G.asn1.ASN1Util.oidHexToInt(Ke);return je.type=G.asn1.x509.OID.oid2atype(yt),je.ds=this.HEX2STAG[be.substr(qe[1],2)],je.ds!="bmp"?je.value=ln(ct):je.value=rt(ct),je},this.readCertPEM=function(be){this.readCertHex(lt(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{Ne(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=St(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&Ue(this.hex,0,[0,"[3]"])!=-1&&(be=Oe(this.hex,0,[0,"[3]",0],"30"));for(var je=[],qe=N(be,0),Ke=0;Ke<qe.length;Ke++){var ct=ue(be,qe[Ke]),yt=this.getExtParam(ct);yt!=null&&je.push(yt)}return je},this.getExtParam=function(be){var je=N(be,0).length;if(je!=2&&je!=3)throw new Error("wrong number elements in Extension: "+je+" "+be);var qe=ht(we(be,0,[0],"06")),Ke=!1;je==3&&Se(be,0,[1])=="0101ff"&&(Ke=!0);var ct=Se(be,0,[je-1,0]),yt=void 0;if(qe=="2.5.29.14"?yt=this.getExtSubjectKeyIdentifier(ct,Ke):qe=="2.5.29.15"?yt=this.getExtKeyUsage(ct,Ke):qe=="2.5.29.17"?yt=this.getExtSubjectAltName(ct,Ke):qe=="2.5.29.18"?yt=this.getExtIssuerAltName(ct,Ke):qe=="2.5.29.19"?yt=this.getExtBasicConstraints(ct,Ke):qe=="2.5.29.31"?yt=this.getExtCRLDistributionPoints(ct,Ke):qe=="2.5.29.32"?yt=this.getExtCertificatePolicies(ct,Ke):qe=="2.5.29.35"?yt=this.getExtAuthorityKeyIdentifier(ct,Ke):qe=="2.5.29.37"?yt=this.getExtExtKeyUsage(ct,Ke):qe=="1.3.6.1.5.5.7.1.1"?yt=this.getExtAuthorityInfoAccess(ct,Ke):qe=="2.5.29.20"?yt=this.getExtCRLNumber(ct,Ke):qe=="2.5.29.21"?yt=this.getExtCRLReason(ct,Ke):qe=="1.3.6.1.5.5.7.48.1.2"?yt=this.getExtOcspNonce(ct,Ke):qe=="1.3.6.1.5.5.7.48.1.5"?yt=this.getExtOcspNoCheck(ct,Ke):qe=="1.2.840.113583.1.1.9.1"&&(yt=this.getExtAdobeTimeStamp(ct,Ke)),yt!=null)return yt;var Ut={extname:qe,extn:ct};return Ke&&(Ut.critical=!0),Ut},this.findExt=function(be,je){for(var qe=0;qe<be.length;qe++)if(be[qe].extname==je)return be[qe];return null},this.updateExtCDPFullURI=function(be,je){var qe=this.findExt(be,"cRLDistributionPoints");if(qe!=null&&qe.array!=null){for(var Ke=qe.array,ct=0;ct<Ke.length;ct++)if(Ke[ct].dpname!=null&&Ke[ct].dpname.full!=null)for(var yt=Ke[ct].dpname.full,Ut=0;Ut<yt.length;Ut++){var Rt=yt[ct];Rt.uri!=null&&(Rt.uri=je)}}},this.updateExtAIAOCSP=function(be,je){var qe=this.findExt(be,"authorityInfoAccess");if(qe!=null&&qe.array!=null)for(var Ke=qe.array,ct=0;ct<Ke.length;ct++)Ke[ct].ocsp!=null&&(Ke[ct].ocsp=je)},this.updateExtAIACAIssuer=function(be,je){var qe=this.findExt(be,"authorityInfoAccess");if(qe!=null&&qe.array!=null)for(var Ke=qe.array,ct=0;ct<Ke.length;ct++)Ke[ct].caissuer!=null&&(Ke[ct].caissuer=je)},this.dnarraytostr=function(be){return"/"+be.map(function(je){return function(Ke){return Ke.map(function(ct){return function(Ut){return Ut.type+"="+Ut.value}(ct).replace(/\+/,"\\+")}).join("+")}(je).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,je,qe,Ke=function(Qt){return JSON.stringify(Qt.array).replace(/[\[\]\{\}\"]/g,"")},ct=function(Qt){for(var Wn="",gn=Qt.array,Yn=0;Yn<gn.length;Yn++){var vr=gn[Yn];if(Wn+="    policy oid: "+vr.policyoid+`
`,vr.array!==void 0)for(var _r=0;_r<vr.array.length;_r++){var fr=vr.array[_r];fr.cps!==void 0&&(Wn+="    cps: "+fr.cps+`
`)}}return Wn},yt=function(Qt){for(var Wn="",gn=Qt.array,Yn=0;Yn<gn.length;Yn++){var vr=gn[Yn];try{vr.dpname.full[0].uri!==void 0&&(Wn+="    "+vr.dpname.full[0].uri+`
`)}catch{}try{vr.dname.full[0].dn.hex!==void 0&&(Wn+="    "+Zt.hex2dn(vr.dpname.full[0].dn.hex)+`
`)}catch{}}return Wn},Ut=function(Qt){for(var Wn="",gn=Qt.array,Yn=0;Yn<gn.length;Yn++){var vr=gn[Yn];vr.caissuer!==void 0&&(Wn+="    caissuer: "+vr.caissuer+`
`),vr.ocsp!==void 0&&(Wn+="    ocsp: "+vr.ocsp+`
`)}return Wn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(je=this.getPublicKey()).type+`
`,je.type==="RSA"&&(be+="    n="+Gt(je.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Gt(je.e.toString(16))+`
`),(qe=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Rt=0;Rt<qe.length;Rt++){var mn=qe[Rt],jt=G.asn1.x509.OID.oid2name(mn.oid);jt===""&&(jt=mn.oid);var Vt="";if(mn.critical===!0&&(Vt="CRITICAL"),be+="  "+jt+" "+Vt+`:
`,jt==="basicConstraints"){var Hn=this.getExtBasicConstraints();Hn.cA===void 0?be+=`    {}
`:(be+="    cA=true",Hn.pathLen!==void 0&&(be+=", pathLen="+Hn.pathLen),be+=`
`)}else if(jt==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(jt==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(jt==="authorityKeyIdentifier"){var Fn=this.getExtAuthorityKeyIdentifier();Fn.kid!==void 0&&(be+="    kid="+Fn.kid.hex+`
`)}else jt==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:jt==="subjectAltName"?be+="    "+Ke(this.getExtSubjectAltName())+`
`:jt==="cRLDistributionPoints"?be+=yt(this.getExtCRLDistributionPoints()):jt==="authorityInfoAccess"?be+=Ut(this.getExtAuthorityInfoAccess()):jt==="certificatePolicies"&&(be+=ct(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof T=="string"&&(T.indexOf("-----BEGIN")!=-1?this.readCertPEM(T):G.lang.String.isHex(T)&&this.readCertHex(T))}me.prototype.sign=function(T,C){var A=function(Z){return G.crypto.Util.hashString(Z,C)}(T);return this.signWithMessageHash(A,C)},me.prototype.signWithMessageHash=function(T,C){var A=Be(G.crypto.Util.getPaddedDigestInfoHex(T,C,this.n.bitLength()),16);return tn(this.doPrivate(A).toString(16),this.n.bitLength())},me.prototype.signPSS=function(T,C,A){var N=function(ue){return G.crypto.Util.hashHex(ue,C)}(Dn(T));return A===void 0&&(A=-1),this.signWithMessageHashPSS(N,C,A)},me.prototype.signWithMessageHashPSS=function(T,C,A){var N,Z=cn(T),ue=Z.length,we=this.n.bitLength()-1,Me=Math.ceil(we/8),Se=function(be){return G.crypto.Util.hashHex(be,C)};if(A===-1||A===void 0)A=ue;else if(A===-2)A=Me-ue-2;else if(A<-2)throw new Error("invalid salt length");if(Me<ue+A+2)throw new Error("data too long");var Oe="";A>0&&(Oe=new Array(A),new _e().nextBytes(Oe),Oe=String.fromCharCode.apply(String,Oe));var Ne=cn(Se(Dn("\0\0\0\0\0\0\0\0"+Z+Oe))),Ue=[];for(N=0;N<Me-A-ue-2;N+=1)Ue[N]=0;var He=String.fromCharCode.apply(String,Ue)+""+Oe,Ye=Ln(Ne,He.length,Se),st=[];for(N=0;N<He.length;N+=1)st[N]=He.charCodeAt(N)^Ye.charCodeAt(N);var ht=65280>>8*Me-we&255;for(st[0]&=~ht,N=0;N<ue;N++)st.push(Ne.charCodeAt(N));return st.push(188),tn(this.doPrivate(new q(st)).toString(16),this.n.bitLength())},me.prototype.verify=function(T,C){if((C=C.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var A=Be(C,16),N=this.n.bitLength();if(A.bitLength()>N)return!1;var Z=this.doPublic(A).toString(16);if(Z.length+3!=N/4)return!1;var ue=Wt(Z.replace(/^1f+00/,""));if(ue.length==0)return!1;var we=ue[0];return ue[1]==function(Se){return G.crypto.Util.hashString(Se,we)}(T)},me.prototype.verifyWithMessageHash=function(T,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var A=Be(C,16);if(A.bitLength()>this.n.bitLength())return 0;var N=Wt(this.doPublic(A).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==T)},me.prototype.verifyPSS=function(T,C,A,N){var Z=function(we){return G.crypto.Util.hashHex(we,A)}(Dn(T));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(Z,C,A,N)},me.prototype.verifyWithMessageHashPSS=function(T,C,A,N){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var Z,ue=new q(C,16),we=function(qe){return G.crypto.Util.hashHex(qe,A)},Me=cn(T),Se=Me.length,Oe=this.n.bitLength()-1,Ne=Math.ceil(Oe/8);if(N===-1||N===void 0)N=Se;else if(N===-2)N=Ne-Se-2;else if(N<-2)throw new Error("invalid salt length");if(Ne<Se+N+2)throw new Error("data too long");var Ue=this.doPublic(ue).toByteArray();for(Z=0;Z<Ue.length;Z+=1)Ue[Z]&=255;for(;Ue.length<Ne;)Ue.unshift(0);if(Ue[Ne-1]!==188)throw new Error("encoded message does not end in 0xbc");var He=(Ue=String.fromCharCode.apply(String,Ue)).substr(0,Ne-Se-1),Ye=Ue.substr(He.length,Se),st=65280>>8*Ne-Oe&255;if(He.charCodeAt(0)&st)throw new Error("bits beyond keysize not zero");var ht=Ln(Ye,He.length,we),lt=[];for(Z=0;Z<He.length;Z+=1)lt[Z]=He.charCodeAt(Z)^ht.charCodeAt(Z);lt[0]&=~st;var be=Ne-Se-N-2;for(Z=0;Z<be;Z+=1)if(lt[Z]!==0)throw new Error("leftmost octets not zero");if(lt[be]!==1)throw new Error("0x01 marker not found");return Ye===cn(we(Dn("\0\0\0\0\0\0\0\0"+Me+String.fromCharCode.apply(String,lt.slice(-N)))))},me.SALT_LEN_HLEN=-1,me.SALT_LEN_MAX=-2,me.SALT_LEN_RECOVER=-2,Zt.hex2dn=function(T,C){C===void 0&&(C=0);var A=new Zt;return Fe.getTLV(T,C),A.getX500Name(T).str},Zt.hex2rdn=function(T,C){if(C===void 0&&(C=0),T.substr(C,2)!=="31")throw new Error("malformed RDN");for(var A=new Array,N=Fe.getChildIdx(T,C),Z=0;Z<N.length;Z++)A.push(Zt.hex2attrTypeValue(T,N[Z]));return(A=A.map(function(ue){return ue.replace("+","\\+")})).join("+")},Zt.hex2attrTypeValue=function(T,C){var A=Fe,N=A.getV;if(C===void 0&&(C=0),T.substr(C,2)!=="30")throw new Error("malformed attribute type and value");var Z=A.getChildIdx(T,C);Z.length!==2||T.substr(Z[0],2);var ue=N(T,Z[0]),we=G.asn1.ASN1Util.oidHexToInt(ue);return G.asn1.x509.OID.oid2atype(we)+"="+cn(N(T,Z[1]))},Zt.getPublicKeyFromCertHex=function(T){var C=new Zt;return C.readCertHex(T),C.getPublicKey()},Zt.getPublicKeyFromCertPEM=function(T){var C=new Zt;return C.readCertPEM(T),C.getPublicKey()},Zt.getPublicKeyInfoPropOfCertPEM=function(T){var C,A,N=Fe.getVbyList,Z={};return Z.algparam=null,(C=new Zt).readCertPEM(T),A=C.getPublicKeyHex(),Z.keyhex=N(A,0,[1],"03").substr(2),Z.algoid=N(A,0,[0,0],"06"),Z.algoid==="2a8648ce3d0201"&&(Z.algparam=N(A,0,[0,1],"06")),Z},Zt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],G!==void 0&&G||(r.KJUR=G={}),G.jws!==void 0&&G.jws||(G.jws={}),G.jws.JWS=function(){var T=G.jws.JWS.isSafeJSONString;this.parseJWS=function(C,A){if(this.parsedJWS===void 0||!A&&this.parsedJWS.sigvalH===void 0){var N=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var Z=N[1],ue=N[2],we=N[3],Me=Z+"."+ue;if(this.parsedJWS={},this.parsedJWS.headB64U=Z,this.parsedJWS.payloadB64U=ue,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Me,!A){var Se=pn(we),Oe=Be(Se,16);this.parsedJWS.sigvalH=Se,this.parsedJWS.sigvalBI=Oe}var Ne=Ze(Z),Ue=Ze(ue);if(this.parsedJWS.headS=Ne,this.parsedJWS.payloadS=Ue,!T(Ne,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Ne}}},G.jws.JWS.sign=function(T,C,A,N,Z){var ue,we,Me,Se=G,Oe=Se.jws.JWS,Ne=Oe.readSafeJSONString,Ue=Oe.isSafeJSONString,He=Se.crypto,Ye=(He.ECDSA,He.Mac),st=He.Signature,ht=JSON;if(typeof C!="string"&&(C===void 0?"undefined":w(C))!="object")throw"spHeader must be JSON string or object: "+C;if((C===void 0?"undefined":w(C))=="object"&&(we=C,ue=ht.stringify(we)),typeof C=="string"){if(!Ue(ue=C))throw"JWS Head is not safe JSON string: "+ue;we=Ne(ue)}if(Me=A,(A===void 0?"undefined":w(A))=="object"&&(Me=ht.stringify(A)),T!=""&&T!=null||we.alg===void 0||(T=we.alg),T!=""&&T!=null&&we.alg===void 0&&(we.alg=T,ue=ht.stringify(we)),T!==we.alg)throw"alg and sHeader.alg doesn't match: "+T+"!="+we.alg;var lt=null;if(Oe.jwsalg2sigalg[T]===void 0)throw"unsupported alg name: "+T;lt=Oe.jwsalg2sigalg[T];var be=ke(ue)+"."+ke(Me),je="";if(lt.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var qe=new Ye({alg:lt,prov:"cryptojs",pass:N});qe.updateString(be),je=qe.doFinal()}else if(lt.indexOf("withECDSA")!=-1){(ct=new st({alg:lt})).init(N,Z),ct.updateString(be);var Ke=ct.sign();je=G.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var ct;lt!="none"&&((ct=new st({alg:lt})).init(N,Z),ct.updateString(be),je=ct.sign())}return be+"."+hn(je)},G.jws.JWS.verify=function(T,C,A){var N,Z=G,ue=Z.jws.JWS,we=ue.readSafeJSONString,Me=Z.crypto,Se=Me.ECDSA,Oe=Me.Mac,Ne=Me.Signature;w(me)!==void 0&&(N=me);var Ue=T.split(".");if(Ue.length!==3)return!1;var He=Ue[0]+"."+Ue[1],Ye=pn(Ue[2]),st=we(Ze(Ue[0])),ht=null,lt=null;if(st.alg===void 0)throw"algorithm not specified in header";if(lt=(ht=st.alg).substr(0,2),A!=null&&Object.prototype.toString.call(A)==="[object Array]"&&A.length>0&&(":"+A.join(":")+":").indexOf(":"+ht+":")==-1)throw"algorithm '"+ht+"' not accepted in the list";if(ht!="none"&&C===null)throw"key shall be specified to verify.";if(typeof C=="string"&&C.indexOf("-----BEGIN ")!=-1&&(C=$t.getKey(C)),!(lt!="RS"&&lt!="PS"||C instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(lt=="ES"&&!(C instanceof Se))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(ue.jwsalg2sigalg[st.alg]===void 0)throw"unsupported alg name: "+ht;if((be=ue.jwsalg2sigalg[ht])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(C===void 0)throw"hexadecimal key shall be specified for HMAC";var je=new Oe({alg:be,pass:C});return je.updateString(He),Ye==je.doFinal()}if(be.indexOf("withECDSA")!=-1){var qe,Ke=null;try{Ke=Se.concatSigToASN1Sig(Ye)}catch{return!1}return(qe=new Ne({alg:be})).init(C),qe.updateString(He),qe.verify(Ke)}return(qe=new Ne({alg:be})).init(C),qe.updateString(He),qe.verify(Ye)},G.jws.JWS.parse=function(T){var C,A,N,Z=T.split("."),ue={};if(Z.length!=2&&Z.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return C=Z[0],A=Z[1],Z.length==3&&(N=Z[2]),ue.headerObj=G.jws.JWS.readSafeJSONString(Ze(C)),ue.payloadObj=G.jws.JWS.readSafeJSONString(Ze(A)),ue.headerPP=JSON.stringify(ue.headerObj,null,"  "),ue.payloadObj==null?ue.payloadPP=Ze(A):ue.payloadPP=JSON.stringify(ue.payloadObj,null,"  "),N!==void 0&&(ue.sigHex=pn(N)),ue},G.jws.JWS.verifyJWT=function(T,C,A){var N=G.jws,Z=N.JWS,ue=Z.readSafeJSONString,we=Z.inArray,Me=Z.includedArray,Se=T.split("."),Oe=Se[0],Ne=Se[1],Ue=(pn(Se[2]),ue(Ze(Oe))),He=ue(Ze(Ne));if(Ue.alg===void 0)return!1;if(A.alg===void 0)throw"acceptField.alg shall be specified";if(!we(Ue.alg,A.alg)||He.iss!==void 0&&w(A.iss)==="object"&&!we(He.iss,A.iss)||He.sub!==void 0&&w(A.sub)==="object"&&!we(He.sub,A.sub))return!1;if(He.aud!==void 0&&w(A.aud)==="object"){if(typeof He.aud=="string"){if(!we(He.aud,A.aud))return!1}else if(w(He.aud)=="object"&&!Me(He.aud,A.aud))return!1}var Ye=N.IntDate.getNow();return A.verifyAt!==void 0&&typeof A.verifyAt=="number"&&(Ye=A.verifyAt),A.gracePeriod!==void 0&&typeof A.gracePeriod=="number"||(A.gracePeriod=0),!(He.exp!==void 0&&typeof He.exp=="number"&&He.exp+A.gracePeriod<Ye)&&!(He.nbf!==void 0&&typeof He.nbf=="number"&&Ye<He.nbf-A.gracePeriod)&&!(He.iat!==void 0&&typeof He.iat=="number"&&Ye<He.iat-A.gracePeriod)&&(He.jti===void 0||A.jti===void 0||He.jti===A.jti)&&!!Z.verify(T,C,A.alg)},G.jws.JWS.includedArray=function(T,C){var A=G.jws.JWS.inArray;if(T===null||(T===void 0?"undefined":w(T))!=="object"||typeof T.length!="number")return!1;for(var N=0;N<T.length;N++)if(!A(T[N],C))return!1;return!0},G.jws.JWS.inArray=function(T,C){if(C===null||(C===void 0?"undefined":w(C))!=="object"||typeof C.length!="number")return!1;for(var A=0;A<C.length;A++)if(C[A]==T)return!0;return!1},G.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},G.jws.JWS.isSafeJSONString=function(T,C,A){var N=null;try{return((N=K(T))===void 0?"undefined":w(N))!="object"||N.constructor===Array?0:(C&&(C[A]=N),1)}catch{return 0}},G.jws.JWS.readSafeJSONString=function(T){var C=null;try{return((C=K(T))===void 0?"undefined":w(C))!="object"||C.constructor===Array?null:C}catch{return null}},G.jws.JWS.getEncodedSignatureValueFromJWS=function(T){var C=T.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(C==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},G.jws.JWS.getJWKthumbprint=function(T){if(T.kty!=="RSA"&&T.kty!=="EC"&&T.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var C="{";if(T.kty==="RSA"){if(typeof T.n!="string"||typeof T.e!="string")throw"wrong n and e value for RSA key";C+='"e":"'+T.e+'",',C+='"kty":"'+T.kty+'",',C+='"n":"'+T.n+'"}'}else if(T.kty==="EC"){if(typeof T.crv!="string"||typeof T.x!="string"||typeof T.y!="string")throw"wrong crv, x and y value for EC key";C+='"crv":"'+T.crv+'",',C+='"kty":"'+T.kty+'",',C+='"x":"'+T.x+'",',C+='"y":"'+T.y+'"}'}else if(T.kty==="oct"){if(typeof T.k!="string")throw"wrong k value for oct(symmetric) key";C+='"kty":"'+T.kty+'",',C+='"k":"'+T.k+'"}'}var A=Dn(C);return hn(G.crypto.Util.hashHex(A,"sha256"))},G.jws.IntDate={},G.jws.IntDate.get=function(T){var C=G.jws.IntDate,A=C.getNow,N=C.getZulu;if(T=="now")return A();if(T=="now + 1hour")return A()+3600;if(T=="now + 1day")return A()+86400;if(T=="now + 1month")return A()+2592e3;if(T=="now + 1year")return A()+31536e3;if(T.match(/Z$/))return N(T);if(T.match(/^[0-9]+$/))return parseInt(T);throw"unsupported format: "+T},G.jws.IntDate.getZulu=function(T){return Vn(T)},G.jws.IntDate.getNow=function(){return~~(new Date/1e3)},G.jws.IntDate.intDate2UTCString=function(T){return new Date(1e3*T).toUTCString()},G.jws.IntDate.intDate2Zulu=function(T){var C=new Date(1e3*T);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=_e,r.rng_seed_time=Pe,r.BigInteger=q,r.RSAKey=me;var Cn=G.crypto.EDSA;r.EDSA=Cn;var Tn=G.crypto.DSA;r.DSA=Tn;var zn=G.crypto.Signature;r.Signature=zn;var Or=G.crypto.MessageDigest;r.MessageDigest=Or;var Jr=G.crypto.Mac;r.Mac=Jr;var Xr=G.crypto.Cipher;r.Cipher=Xr,r.KEYUTIL=$t,r.ASN1HEX=Fe,r.X509=Zt,r.CryptoJS=P,r.b64tohex=Q,r.b64toBA=Y,r.stoBA=At,r.BAtos=Mt,r.BAtohex=Nt,r.stohex=Lt,r.stob64=function(C){return F(Lt(C))},r.stob64u=function(C){return zt(F(Lt(C)))},r.b64utos=function(C){return Mt(Y(Pr(C)))},r.b64tob64u=zt,r.b64utob64=Pr,r.hex2b64=F,r.hextob64u=hn,r.b64utohex=pn,r.utf8tob64u=ke,r.b64utoutf8=Ze,r.utf8tob64=function(C){return F(Xn(Tt(C)))},r.b64toutf8=function(C){return decodeURIComponent(We(Q(C)))},r.utf8tohex=yr,r.hextoutf8=ln,r.hextorstr=cn,r.rstrtohex=Dn,r.hextob64=cr,r.hextob64nl=Le,r.b64nltohex=ze,r.hextopem=St,r.pemtohex=Ct,r.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(C.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var A=new ArrayBuffer(C.length/2),N=new DataView(A),Z=0;Z<C.length/2;Z++)N.setUint8(Z,parseInt(C.substr(2*Z,2),16));return A},r.ArrayBuffertohex=function(C){for(var A="",N=new DataView(C),Z=0;Z<C.byteLength;Z++)A+=("00"+N.getUint8(Z).toString(16)).slice(-2);return A},r.zulutomsec=Dt,r.zulutosec=Vn,r.zulutodate=function(C){return new Date(Dt(C))},r.datetozulu=function(C,A,N){var Z,ue=C.getUTCFullYear();if(A){if(ue<1950||2049<ue)throw"not proper year for UTCTime: "+ue;Z=(""+ue).slice(-2)}else Z=("000"+ue).slice(-4);if(Z+=("0"+(C.getUTCMonth()+1)).slice(-2),Z+=("0"+C.getUTCDate()).slice(-2),Z+=("0"+C.getUTCHours()).slice(-2),Z+=("0"+C.getUTCMinutes()).slice(-2),Z+=("0"+C.getUTCSeconds()).slice(-2),N){var we=C.getUTCMilliseconds();we!==0&&(Z+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return Z+="Z"},r.uricmptohex=Xn,r.hextouricmp=We,r.ipv6tohex=xe,r.hextoipv6=et,r.hextoip=dt,r.iptohex=function(C){var A="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&C.indexOf(":")!==-1)return xe(C);throw A}var N=C.split(".");if(N.length!==4)throw A;var Z="";try{for(var ue=0;ue<4;ue++)Z+=("0"+parseInt(N[ue]).toString(16)).slice(-2);return Z}catch{throw A}},r.encodeURIComponentAll=Tt,r.newline_toUnix=function(C){return C=C.replace(/\r\n/gm,`
`)},r.newline_toDos=function(C){return C=(C=C.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Gt,r.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(A,N,Z){var ue=parseInt(A);if(ue<0||255<ue)throw"integer not in range 0-255";return("00"+ue.toString(16)).slice(-2)}).join("")}catch(A){throw"malformed integer array string: "+A}},r.strdiffidx=function(C,A){var N=C.length;C.length>A.length&&(N=A.length);for(var Z=0;Z<N;Z++)if(C.charCodeAt(Z)!=A.charCodeAt(Z))return Z;return C.length!=A.length?N:-1},r.KJUR=G;var Dr=G.crypto;r.crypto=Dr;var Bn=G.asn1;r.asn1=Bn;var ai=G.jws;r.jws=ai;var Xi=G.lang;r.lang=Xi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=i(30),s=i(31),l=i(32);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(ae,H){if(c()<H)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(ae=new Uint8Array(H)).__proto__=h.prototype:(ae===null&&(ae=new h(H)),ae.length=H),ae}function h(ae,H,B){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(ae,H,B);if(typeof ae=="number"){if(typeof H=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,ae)}return g(this,ae,H,B)}function g(ae,H,B,ie){if(typeof H=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&H instanceof ArrayBuffer?function(Pe,Ie,tt,De){if(Ie.byteLength,tt<0||Ie.byteLength<tt)throw new RangeError("'offset' is out of bounds");if(Ie.byteLength<tt+(De||0))throw new RangeError("'length' is out of bounds");return Ie=tt===void 0&&De===void 0?new Uint8Array(Ie):De===void 0?new Uint8Array(Ie,tt):new Uint8Array(Ie,tt,De),h.TYPED_ARRAY_SUPPORT?(Pe=Ie).__proto__=h.prototype:Pe=_(Pe,Ie),Pe}(ae,H,B,ie):typeof H=="string"?function(Pe,Ie,tt){if(typeof tt=="string"&&tt!==""||(tt="utf8"),!h.isEncoding(tt))throw new TypeError('"encoding" must be a valid string encoding');var De=0|w(Ie,tt),ot=(Pe=d(Pe,De)).write(Ie,tt);return ot!==De&&(Pe=Pe.slice(0,ot)),Pe}(ae,H,B):function(Pe,Ie){if(h.isBuffer(Ie)){var tt=0|S(Ie.length);return(Pe=d(Pe,tt)).length===0||Ie.copy(Pe,0,0,tt),Pe}if(Ie){if(typeof ArrayBuffer<"u"&&Ie.buffer instanceof ArrayBuffer||"length"in Ie)return typeof Ie.length!="number"||function(ot){return ot!=ot}(Ie.length)?d(Pe,0):_(Pe,Ie);if(Ie.type==="Buffer"&&l(Ie.data))return _(Pe,Ie.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ae,H)}function y(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be a number');if(ae<0)throw new RangeError('"size" argument must not be negative')}function v(ae,H){if(y(H),ae=d(ae,H<0?0:0|S(H)),!h.TYPED_ARRAY_SUPPORT)for(var B=0;B<H;++B)ae[B]=0;return ae}function _(ae,H){var B=H.length<0?0:0|S(H.length);ae=d(ae,B);for(var ie=0;ie<B;ie+=1)ae[ie]=255&H[ie];return ae}function S(ae){if(ae>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|ae}function w(ae,H){if(h.isBuffer(ae))return ae.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ae)||ae instanceof ArrayBuffer))return ae.byteLength;typeof ae!="string"&&(ae=""+ae);var B=ae.length;if(B===0)return 0;for(var ie=!1;;)switch(H){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":case void 0:return Ae(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return $e(ae).length;default:if(ie)return Ae(ae).length;H=(""+H).toLowerCase(),ie=!0}}function x(ae,H,B){var ie=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0)<=(H>>>=0))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return de(this,H,B);case"utf8":case"utf-8":return te(this,H,B);case"ascii":return he(this,H,B);case"latin1":case"binary":return ve(this,H,B);case"base64":return le(this,H,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,H,B);default:if(ie)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),ie=!0}}function R(ae,H,B){var ie=ae[H];ae[H]=ae[B],ae[B]=ie}function P(ae,H,B,ie,fe){if(ae.length===0)return-1;if(typeof B=="string"?(ie=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,isNaN(B)&&(B=fe?0:ae.length-1),B<0&&(B=ae.length+B),B>=ae.length){if(fe)return-1;B=ae.length-1}else if(B<0){if(!fe)return-1;B=0}if(typeof H=="string"&&(H=h.from(H,ie)),h.isBuffer(H))return H.length===0?-1:O(ae,H,B,ie,fe);if(typeof H=="number")return H&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(ae,H,B):Uint8Array.prototype.lastIndexOf.call(ae,H,B):O(ae,[H],B,ie,fe);throw new TypeError("val must be string, number or Buffer")}function O(ae,H,B,ie,fe){var Pe,Ie=1,tt=ae.length,De=H.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(ae.length<2||H.length<2)return-1;Ie=2,tt/=2,De/=2,B/=2}function ot(at,me){return Ie===1?at[me]:at.readUInt16BE(me*Ie)}if(fe){var gt=-1;for(Pe=B;Pe<tt;Pe++)if(ot(ae,Pe)===ot(H,gt===-1?0:Pe-gt)){if(gt===-1&&(gt=Pe),Pe-gt+1===De)return gt*Ie}else gt!==-1&&(Pe-=Pe-gt),gt=-1}else for(B+De>tt&&(B=tt-De),Pe=B;Pe>=0;Pe--){for(var _e=!0,Be=0;Be<De;Be++)if(ot(ae,Pe+Be)!==ot(H,Be)){_e=!1;break}if(_e)return Pe}return-1}function D(ae,H,B,ie){B=Number(B)||0;var fe=ae.length-B;ie?(ie=Number(ie))>fe&&(ie=fe):ie=fe;var Pe=H.length;if(Pe%2!=0)throw new TypeError("Invalid hex string");ie>Pe/2&&(ie=Pe/2);for(var Ie=0;Ie<ie;++Ie){var tt=parseInt(H.substr(2*Ie,2),16);if(isNaN(tt))return Ie;ae[B+Ie]=tt}return Ie}function F(ae,H,B,ie){return Xe(Ae(H,ae.length-B),ae,B,ie)}function Q(ae,H,B,ie){return Xe(function(Pe){for(var Ie=[],tt=0;tt<Pe.length;++tt)Ie.push(255&Pe.charCodeAt(tt));return Ie}(H),ae,B,ie)}function Y(ae,H,B,ie){return Q(ae,H,B,ie)}function q(ae,H,B,ie){return Xe($e(H),ae,B,ie)}function X(ae,H,B,ie){return Xe(function(Pe,Ie){for(var tt,De,ot,gt=[],_e=0;_e<Pe.length&&!((Ie-=2)<0);++_e)De=(tt=Pe.charCodeAt(_e))>>8,ot=tt%256,gt.push(ot),gt.push(De);return gt}(H,ae.length-B),ae,B,ie)}function le(ae,H,B){return H===0&&B===ae.length?o.fromByteArray(ae):o.fromByteArray(ae.slice(H,B))}function te(ae,H,B){B=Math.min(ae.length,B);for(var ie=[],fe=H;fe<B;){var Pe,Ie,tt,De,ot=ae[fe],gt=null,_e=ot>239?4:ot>223?3:ot>191?2:1;if(fe+_e<=B)switch(_e){case 1:ot<128&&(gt=ot);break;case 2:(192&(Pe=ae[fe+1]))==128&&(De=(31&ot)<<6|63&Pe)>127&&(gt=De);break;case 3:Pe=ae[fe+1],Ie=ae[fe+2],(192&Pe)==128&&(192&Ie)==128&&(De=(15&ot)<<12|(63&Pe)<<6|63&Ie)>2047&&(De<55296||De>57343)&&(gt=De);break;case 4:Pe=ae[fe+1],Ie=ae[fe+2],tt=ae[fe+3],(192&Pe)==128&&(192&Ie)==128&&(192&tt)==128&&(De=(15&ot)<<18|(63&Pe)<<12|(63&Ie)<<6|63&tt)>65535&&De<1114112&&(gt=De)}gt===null?(gt=65533,_e=1):gt>65535&&(gt-=65536,ie.push(gt>>>10&1023|55296),gt=56320|1023&gt),ie.push(gt),fe+=_e}return function(at){var me=at.length;if(me<=oe)return String.fromCharCode.apply(String,at);for(var Ee="",J=0;J<me;)Ee+=String.fromCharCode.apply(String,at.slice(J,J+=oe));return Ee}(ie)}r.Buffer=h,r.SlowBuffer=function(H){return+H!=H&&(H=0),h.alloc(+H)},r.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42&&typeof H.subarray=="function"&&H.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),h.poolSize=8192,h._augment=function(ae){return ae.__proto__=h.prototype,ae},h.from=function(ae,H,B){return g(null,ae,H,B)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(ae,H,B){return function(fe,Pe,Ie,tt){return y(Pe),Pe<=0?d(fe,Pe):Ie!==void 0?typeof tt=="string"?d(fe,Pe).fill(Ie,tt):d(fe,Pe).fill(Ie):d(fe,Pe)}(null,ae,H,B)},h.allocUnsafe=function(ae){return v(null,ae)},h.allocUnsafeSlow=function(ae){return v(null,ae)},h.isBuffer=function(H){return!(H==null||!H._isBuffer)},h.compare=function(H,B){if(!h.isBuffer(H)||!h.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(H===B)return 0;for(var ie=H.length,fe=B.length,Pe=0,Ie=Math.min(ie,fe);Pe<Ie;++Pe)if(H[Pe]!==B[Pe]){ie=H[Pe],fe=B[Pe];break}return ie<fe?-1:fe<ie?1:0},h.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(H,B){if(!l(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return h.alloc(0);var ie;if(B===void 0)for(B=0,ie=0;ie<H.length;++ie)B+=H[ie].length;var fe=h.allocUnsafe(B),Pe=0;for(ie=0;ie<H.length;++ie){var Ie=H[ie];if(!h.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(fe,Pe),Pe+=Ie.length}return fe},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<H;B+=2)R(this,B,B+1);return this},h.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<H;B+=4)R(this,B,B+3),R(this,B+1,B+2);return this},h.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<H;B+=8)R(this,B,B+7),R(this,B+1,B+6),R(this,B+2,B+5),R(this,B+3,B+4);return this},h.prototype.toString=function(){var H=0|this.length;return H===0?"":arguments.length===0?te(this,0,H):x.apply(this,arguments)},h.prototype.equals=function(H){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||h.compare(this,H)===0},h.prototype.inspect=function(){var H="",B=r.INSPECT_MAX_BYTES;return this.length>0&&(H=this.toString("hex",0,B).match(/.{2}/g).join(" "),this.length>B&&(H+=" ... ")),"<Buffer "+H+">"},h.prototype.compare=function(H,B,ie,fe,Pe){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");if(B===void 0&&(B=0),ie===void 0&&(ie=H?H.length:0),fe===void 0&&(fe=0),Pe===void 0&&(Pe=this.length),B<0||ie>H.length||fe<0||Pe>this.length)throw new RangeError("out of range index");if(fe>=Pe&&B>=ie)return 0;if(fe>=Pe)return-1;if(B>=ie)return 1;if(this===H)return 0;for(var Ie=(Pe>>>=0)-(fe>>>=0),tt=(ie>>>=0)-(B>>>=0),De=Math.min(Ie,tt),ot=this.slice(fe,Pe),gt=H.slice(B,ie),_e=0;_e<De;++_e)if(ot[_e]!==gt[_e]){Ie=ot[_e],tt=gt[_e];break}return Ie<tt?-1:tt<Ie?1:0},h.prototype.includes=function(H,B,ie){return this.indexOf(H,B,ie)!==-1},h.prototype.indexOf=function(H,B,ie){return P(this,H,B,ie,!0)},h.prototype.lastIndexOf=function(H,B,ie){return P(this,H,B,ie,!1)},h.prototype.write=function(H,B,ie,fe){if(B===void 0)fe="utf8",ie=this.length,B=0;else if(ie===void 0&&typeof B=="string")fe=B,ie=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B|=0,isFinite(ie)?(ie|=0,fe===void 0&&(fe="utf8")):(fe=ie,ie=void 0)}var Pe=this.length-B;if((ie===void 0||ie>Pe)&&(ie=Pe),H.length>0&&(ie<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");for(var Ie=!1;;)switch(fe){case"hex":return D(this,H,B,ie);case"utf8":case"utf-8":return F(this,H,B,ie);case"ascii":return Q(this,H,B,ie);case"latin1":case"binary":return Y(this,H,B,ie);case"base64":return q(this,H,B,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,H,B,ie);default:if(Ie)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ie=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function he(ae,H,B){var ie="";B=Math.min(ae.length,B);for(var fe=H;fe<B;++fe)ie+=String.fromCharCode(127&ae[fe]);return ie}function ve(ae,H,B){var ie="";B=Math.min(ae.length,B);for(var fe=H;fe<B;++fe)ie+=String.fromCharCode(ae[fe]);return ie}function de(ae,H,B){var ie=ae.length;(!H||H<0)&&(H=0),(!B||B<0||B>ie)&&(B=ie);for(var fe="",Pe=H;Pe<B;++Pe)fe+=Je(ae[Pe]);return fe}function se(ae,H,B){for(var ie=ae.slice(H,B),fe="",Pe=0;Pe<ie.length;Pe+=2)fe+=String.fromCharCode(ie[Pe]+256*ie[Pe+1]);return fe}function Re(ae,H,B){if(ae%1!=0||ae<0)throw new RangeError("offset is not uint");if(ae+H>B)throw new RangeError("Trying to access beyond buffer length")}function k(ae,H,B,ie,fe,Pe){if(!h.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>fe||H<Pe)throw new RangeError('"value" argument is out of bounds');if(B+ie>ae.length)throw new RangeError("Index out of range")}function re(ae,H,B,ie){H<0&&(H=65535+H+1);for(var fe=0,Pe=Math.min(ae.length-B,2);fe<Pe;++fe)ae[B+fe]=(H&255<<8*(ie?fe:1-fe))>>>8*(ie?fe:1-fe)}function ge(ae,H,B,ie){H<0&&(H=4294967295+H+1);for(var fe=0,Pe=Math.min(ae.length-B,4);fe<Pe;++fe)ae[B+fe]=H>>>8*(ie?fe:3-fe)&255}function W(ae,H,B,ie,fe,Pe){if(B+ie>ae.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function ee(ae,H,B,ie,fe){return fe||W(ae,0,B,4),s.write(ae,H,B,ie,23,4),B+4}function pe(ae,H,B,ie,fe){return fe||W(ae,0,B,8),s.write(ae,H,B,ie,52,8),B+8}h.prototype.slice=function(H,B){var ie,fe=this.length;if((H=~~H)<0?(H+=fe)<0&&(H=0):H>fe&&(H=fe),(B=B===void 0?fe:~~B)<0?(B+=fe)<0&&(B=0):B>fe&&(B=fe),B<H&&(B=H),h.TYPED_ARRAY_SUPPORT)(ie=this.subarray(H,B)).__proto__=h.prototype;else{var Pe=B-H;ie=new h(Pe,void 0);for(var Ie=0;Ie<Pe;++Ie)ie[Ie]=this[Ie+H]}return ie},h.prototype.readUIntLE=function(H,B,ie){H|=0,B|=0,ie||Re(H,B,this.length);for(var fe=this[H],Pe=1,Ie=0;++Ie<B&&(Pe*=256);)fe+=this[H+Ie]*Pe;return fe},h.prototype.readUIntBE=function(H,B,ie){H|=0,B|=0,ie||Re(H,B,this.length);for(var fe=this[H+--B],Pe=1;B>0&&(Pe*=256);)fe+=this[H+--B]*Pe;return fe},h.prototype.readUInt8=function(H,B){return B||Re(H,1,this.length),this[H]},h.prototype.readUInt16LE=function(H,B){return B||Re(H,2,this.length),this[H]|this[H+1]<<8},h.prototype.readUInt16BE=function(H,B){return B||Re(H,2,this.length),this[H]<<8|this[H+1]},h.prototype.readUInt32LE=function(H,B){return B||Re(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},h.prototype.readUInt32BE=function(H,B){return B||Re(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},h.prototype.readIntLE=function(H,B,ie){H|=0,B|=0,ie||Re(H,B,this.length);for(var fe=this[H],Pe=1,Ie=0;++Ie<B&&(Pe*=256);)fe+=this[H+Ie]*Pe;return fe>=(Pe*=128)&&(fe-=Math.pow(2,8*B)),fe},h.prototype.readIntBE=function(H,B,ie){H|=0,B|=0,ie||Re(H,B,this.length);for(var fe=B,Pe=1,Ie=this[H+--fe];fe>0&&(Pe*=256);)Ie+=this[H+--fe]*Pe;return Ie>=(Pe*=128)&&(Ie-=Math.pow(2,8*B)),Ie},h.prototype.readInt8=function(H,B){return B||Re(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},h.prototype.readInt16LE=function(H,B){B||Re(H,2,this.length);var ie=this[H]|this[H+1]<<8;return 32768&ie?4294901760|ie:ie},h.prototype.readInt16BE=function(H,B){B||Re(H,2,this.length);var ie=this[H+1]|this[H]<<8;return 32768&ie?4294901760|ie:ie},h.prototype.readInt32LE=function(H,B){return B||Re(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},h.prototype.readInt32BE=function(H,B){return B||Re(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},h.prototype.readFloatLE=function(H,B){return B||Re(H,4,this.length),s.read(this,H,!0,23,4)},h.prototype.readFloatBE=function(H,B){return B||Re(H,4,this.length),s.read(this,H,!1,23,4)},h.prototype.readDoubleLE=function(H,B){return B||Re(H,8,this.length),s.read(this,H,!0,52,8)},h.prototype.readDoubleBE=function(H,B){return B||Re(H,8,this.length),s.read(this,H,!1,52,8)},h.prototype.writeUIntLE=function(H,B,ie,fe){H=+H,B|=0,ie|=0,fe||k(this,H,B,ie,Math.pow(2,8*ie)-1,0);var Pe=1,Ie=0;for(this[B]=255&H;++Ie<ie&&(Pe*=256);)this[B+Ie]=H/Pe&255;return B+ie},h.prototype.writeUIntBE=function(H,B,ie,fe){H=+H,B|=0,ie|=0,fe||k(this,H,B,ie,Math.pow(2,8*ie)-1,0);var Pe=ie-1,Ie=1;for(this[B+Pe]=255&H;--Pe>=0&&(Ie*=256);)this[B+Pe]=H/Ie&255;return B+ie},h.prototype.writeUInt8=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,1,255,0),h.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),this[B]=255&H,B+1},h.prototype.writeUInt16LE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[B]=255&H,this[B+1]=H>>>8):re(this,H,B,!0),B+2},h.prototype.writeUInt16BE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[B]=H>>>8,this[B+1]=255&H):re(this,H,B,!1),B+2},h.prototype.writeUInt32LE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[B+3]=H>>>24,this[B+2]=H>>>16,this[B+1]=H>>>8,this[B]=255&H):ge(this,H,B,!0),B+4},h.prototype.writeUInt32BE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[B]=H>>>24,this[B+1]=H>>>16,this[B+2]=H>>>8,this[B+3]=255&H):ge(this,H,B,!1),B+4},h.prototype.writeIntLE=function(H,B,ie,fe){if(H=+H,B|=0,!fe){var Pe=Math.pow(2,8*ie-1);k(this,H,B,ie,Pe-1,-Pe)}var Ie=0,tt=1,De=0;for(this[B]=255&H;++Ie<ie&&(tt*=256);)H<0&&De===0&&this[B+Ie-1]!==0&&(De=1),this[B+Ie]=(H/tt>>0)-De&255;return B+ie},h.prototype.writeIntBE=function(H,B,ie,fe){if(H=+H,B|=0,!fe){var Pe=Math.pow(2,8*ie-1);k(this,H,B,ie,Pe-1,-Pe)}var Ie=ie-1,tt=1,De=0;for(this[B+Ie]=255&H;--Ie>=0&&(tt*=256);)H<0&&De===0&&this[B+Ie+1]!==0&&(De=1),this[B+Ie]=(H/tt>>0)-De&255;return B+ie},h.prototype.writeInt8=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,1,127,-128),h.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),H<0&&(H=255+H+1),this[B]=255&H,B+1},h.prototype.writeInt16LE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[B]=255&H,this[B+1]=H>>>8):re(this,H,B,!0),B+2},h.prototype.writeInt16BE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[B]=H>>>8,this[B+1]=255&H):re(this,H,B,!1),B+2},h.prototype.writeInt32LE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[B]=255&H,this[B+1]=H>>>8,this[B+2]=H>>>16,this[B+3]=H>>>24):ge(this,H,B,!0),B+4},h.prototype.writeInt32BE=function(H,B,ie){return H=+H,B|=0,ie||k(this,H,B,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),h.TYPED_ARRAY_SUPPORT?(this[B]=H>>>24,this[B+1]=H>>>16,this[B+2]=H>>>8,this[B+3]=255&H):ge(this,H,B,!1),B+4},h.prototype.writeFloatLE=function(H,B,ie){return ee(this,H,B,!0,ie)},h.prototype.writeFloatBE=function(H,B,ie){return ee(this,H,B,!1,ie)},h.prototype.writeDoubleLE=function(H,B,ie){return pe(this,H,B,!0,ie)},h.prototype.writeDoubleBE=function(H,B,ie){return pe(this,H,B,!1,ie)},h.prototype.copy=function(H,B,ie,fe){if(ie||(ie=0),fe||fe===0||(fe=this.length),B>=H.length&&(B=H.length),B||(B=0),fe>0&&fe<ie&&(fe=ie),fe===ie||H.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("sourceStart out of bounds");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),H.length-B<fe-ie&&(fe=H.length-B+ie);var Pe,Ie=fe-ie;if(this===H&&ie<B&&B<fe)for(Pe=Ie-1;Pe>=0;--Pe)H[Pe+B]=this[Pe+ie];else if(Ie<1e3||!h.TYPED_ARRAY_SUPPORT)for(Pe=0;Pe<Ie;++Pe)H[Pe+B]=this[Pe+ie];else Uint8Array.prototype.set.call(H,this.subarray(ie,ie+Ie),B);return Ie},h.prototype.fill=function(H,B,ie,fe){if(typeof H=="string"){if(typeof B=="string"?(fe=B,B=0,ie=this.length):typeof ie=="string"&&(fe=ie,ie=this.length),H.length===1){var Pe=H.charCodeAt(0);Pe<256&&(H=Pe)}if(fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!h.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe)}else typeof H=="number"&&(H&=255);if(B<0||this.length<B||this.length<ie)throw new RangeError("Out of range index");if(ie<=B)return this;var Ie;if(B>>>=0,ie=ie===void 0?this.length:ie>>>0,H||(H=0),typeof H=="number")for(Ie=B;Ie<ie;++Ie)this[Ie]=H;else{var tt=h.isBuffer(H)?H:Ae(new h(H,fe).toString()),De=tt.length;for(Ie=0;Ie<ie-B;++Ie)this[Ie+B]=tt[Ie%De]}return this};var Te=/[^+\/0-9A-Za-z-_]/g;function Je(ae){return ae<16?"0"+ae.toString(16):ae.toString(16)}function Ae(ae,H){var B;H=H||1/0;for(var ie=ae.length,fe=null,Pe=[],Ie=0;Ie<ie;++Ie){if((B=ae.charCodeAt(Ie))>55295&&B<57344){if(!fe){if(B>56319){(H-=3)>-1&&Pe.push(239,191,189);continue}if(Ie+1===ie){(H-=3)>-1&&Pe.push(239,191,189);continue}fe=B;continue}if(B<56320){(H-=3)>-1&&Pe.push(239,191,189),fe=B;continue}B=65536+(fe-55296<<10|B-56320)}else fe&&(H-=3)>-1&&Pe.push(239,191,189);if(fe=null,B<128){if((H-=1)<0)break;Pe.push(B)}else if(B<2048){if((H-=2)<0)break;Pe.push(B>>6|192,63&B|128)}else if(B<65536){if((H-=3)<0)break;Pe.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;Pe.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return Pe}function $e(ae){return o.toByteArray(function(B){if((B=function(fe){return fe.trim?fe.trim():fe.replace(/^\s+|\s+$/g,"")}(B).replace(Te,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(ae))}function Xe(ae,H,B,ie){for(var fe=0;fe<ie&&!(fe+B>=H.length||fe>=ae.length);++fe)H[fe+B]=ae[fe];return fe}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(v){var _=h(v),S=_[0],w=_[1];return 3*(S+w)/4-w},r.toByteArray=function(v){var _,S,w=h(v),x=w[0],R=w[1],P=new s(function(Q,Y,q){return 3*(Y+q)/4-q}(0,x,R)),O=0,D=R>0?x-4:x;for(S=0;S<D;S+=4)_=o[v.charCodeAt(S)]<<18|o[v.charCodeAt(S+1)]<<12|o[v.charCodeAt(S+2)]<<6|o[v.charCodeAt(S+3)],P[O++]=_>>16&255,P[O++]=_>>8&255,P[O++]=255&_;return R===2&&(_=o[v.charCodeAt(S)]<<2|o[v.charCodeAt(S+1)]>>4,P[O++]=255&_),R===1&&(_=o[v.charCodeAt(S)]<<10|o[v.charCodeAt(S+1)]<<4|o[v.charCodeAt(S+2)]>>2,P[O++]=_>>8&255,P[O++]=255&_),P},r.fromByteArray=function(v){for(var _,S=v.length,w=S%3,x=[],R=16383,P=0,O=S-w;P<O;P+=R)x.push(g(v,P,P+R>O?O:P+R));return w===1?(_=v[S-1],x.push(a[_>>2]+a[_<<4&63]+"==")):w===2&&(_=(v[S-2]<<8)+v[S-1],x.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),x.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)a[c]=l[c],o[l.charCodeAt(c)]=c;function h(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");return _===-1&&(_=v),[_,_===v?0:4-_%4]}function g(y,v,_){for(var S,w,x=[],R=v;R<_;R+=3)S=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(255&y[R+2]),x.push(a[(w=S)>>18&63]+a[w>>12&63]+a[w>>6&63]+a[63&w]);return x.join("")}o[45]=62,o[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,o,s,l){var c,d,h=8*l-s-1,g=(1<<h)-1,y=g>>1,v=-7,_=o?l-1:0,S=o?-1:1,w=i[a+_];for(_+=S,c=w&(1<<-v)-1,w>>=-v,v+=h;v>0;c=256*c+i[a+_],_+=S,v-=8);for(d=c&(1<<-v)-1,c>>=-v,v+=s;v>0;d=256*d+i[a+_],_+=S,v-=8);if(c===0)c=1-y;else{if(c===g)return d?NaN:1/0*(w?-1:1);d+=Math.pow(2,s),c-=y}return(w?-1:1)*d*Math.pow(2,c-s)},r.write=function(i,a,o,s,l,c){var d,h,g,y=8*c-l-1,v=(1<<y)-1,_=v>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=s?0:c-1,x=s?1:-1,R=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=v):(d=Math.floor(Math.log(a)/Math.LN2),a*(g=Math.pow(2,-d))<1&&(d--,g*=2),(a+=d+_>=1?S/g:S*Math.pow(2,1-_))*g>=2&&(d++,g/=2),d+_>=v?(h=0,d=v):d+_>=1?(h=(a*g-1)*Math.pow(2,l),d+=_):(h=a*Math.pow(2,_-1)*Math.pow(2,l),d=0));l>=8;i[o+w]=255&h,w+=x,h/=256,l-=8);for(d=d<<l|h,y+=l;y>0;i[o+w]=255&d,w+=x,d/=256,y-=8);i[o+w-x]|=128*R}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,c=s.KeyUtil,d=s.X509,h=s.crypto,g=s.hextob64u,y=s.b64tohex,v=s.AllowedSigningAlgs;return function(){function _(){(function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,_)}return _.parseJwt=function(w){a.Log.debug("JoseUtil.parseJwt");try{var x=l.JWS.parse(w);return{header:x.headerObj,payload:x.payloadObj}}catch(R){a.Log.error(R)}},_.validateJwt=function(w,x,R,P,O,D,F){a.Log.debug("JoseUtil.validateJwt");try{if(x.kty==="RSA")if(x.e&&x.n)x=c.getKey(x);else{if(!x.x5c||!x.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",x),Promise.reject(new Error("RSA key missing key material"));var Q=y(x.x5c[0]);x=d.getPublicKeyFromCertHex(Q)}else{if(x.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",x&&x.kty),Promise.reject(new Error(x.kty));if(!(x.crv&&x.x&&x.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",x),Promise.reject(new Error("EC key missing key material"));x=c.getKey(x)}return _._validateJwt(w,x,R,P,O,D,F)}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject("JWT validation failed")}},_.validateJwtAttributes=function(w,x,R,P,O,D){P||(P=0),O||(O=parseInt(Date.now()/1e3));var F=_.parseJwt(w).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==x)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===R||Array.isArray(F.aud)&&F.aud.indexOf(R)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==R)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!D){var Q=O+P,Y=O-P;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&Q<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<Y)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},_._validateJwt=function(w,x,R,P,O,D,F){return _.validateJwtAttributes(w,R,P,O,D,F).then(function(Q){try{return l.JWS.verify(w,x,v)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject(new Error("signature validation failed"))}})},_.hashString=function(w,x){try{return h.Util.hashString(w,x)}catch(R){a.Log.error(R)}},_.hexToBase64Url=function(w){try{return g(w)}catch(x){a.Log.error(x)}},_}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(3);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var h=o.UrlUtility.parseUrlFragment(c,d);this.error=h.error,this.error_description=h.error_description,this.error_uri=h.error_uri,this.code=h.code,this.state=h.state,this.id_token=h.id_token,this.session_state=h.session_state,this.access_token=h.access_token,this.token_type=h.token_type,this.scope=h.scope,this.profile=void 0,this.expires_in=h.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var h=parseInt(d);if(typeof h=="number"&&h>0){var g=parseInt(Date.now()/1e3);this.expires_at=g+h}}},{key:"expired",get:function(){var d=this.expires_in;if(d!==void 0)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),o=i(3),s=i(9);r.SignoutRequest=function l(c){var d=c.url,h=c.id_token_hint,g=c.post_logout_redirect_uri,y=c.data,v=c.extraQueryParams,_=c.request_type;if(function(x,R){if(!(x instanceof R))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in h&&(d=o.UrlUtility.addQueryParam(d,"id_token_hint",h)),g&&(d=o.UrlUtility.addQueryParam(d,"post_logout_redirect_uri",g),y&&(this.state=new s.State({data:y,request_type:_}),d=o.UrlUtility.addQueryParam(d,"state",this.state.id))),v)d=o.UrlUtility.addQueryParam(d,S,v[S]);this.url=d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function o(s){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o);var l=a.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.InMemoryWebStorage=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(c){return o.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},s.prototype.setItem=function(c,d){o.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=d},s.prototype.removeItem=function(c){o.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},s.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function R(P,O){for(var D=0;D<O.length;D++){var F=O[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,O,D){return O&&R(P.prototype,O),D&&R(P,D),P}}(),o=i(0),s=i(10),l=i(39),c=i(15),d=i(45),h=i(47),g=i(18),y=i(8),v=i(20),_=i(11),S=i(4);function w(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function x(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?R:P}r.UserManager=function(R){function P(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.TokenRevocationClient,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.TokenClient,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;w(this,P),O instanceof l.UserManagerSettings||(O=new l.UserManagerSettings(O));var X=x(this,R.call(this,O));return X._events=new d.UserManagerEvents(O),X._silentRenewService=new D(X),X.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),X.startSilentRenew()),X.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),X._sessionMonitor=new F(X)),X._tokenRevocationClient=new Q(X._settings),X._tokenClient=new Y(X._settings),X._joseUtil=q,X}return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}(P,R),P.prototype.getUser=function(){var D=this;return this._loadUser().then(function(F){return F?(o.Log.info("UserManager.getUser: user loaded"),D._events.load(F,!1),F):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},P.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},P.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var F={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,F).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},P.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),F})},P.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var F=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),Q})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},P.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){o.Log.error(F.message)})},P.prototype.signinSilent=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(F.refresh_token=Q.refresh_token,D._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),F.current_sub=Q.profile.sub),D._signinSilentIframe(F))})},P.prototype._useRefreshToken=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(Y){if(Y){var q=Promise.resolve();return Q.id_token&&(q=D._validateIdTokenFromTokenRefreshToken(Y.profile,Q.id_token)),q.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),Y.id_token=Q.id_token||Y.id_token,Y.access_token=Q.access_token,Y.refresh_token=Q.refresh_token||Y.refresh_token,Y.expires_in=Q.expires_in,D.storeUser(Y).then(function(){return D._events.load(Y),Y})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},P.prototype._validateIdTokenFromTokenRefreshToken=function(D,F){var Q=this;return this._metadataService.getIssuer().then(function(Y){return Q.settings.getEpochTime().then(function(q){return Q._joseUtil.validateJwtAttributes(F,Y,Q._settings.client_id,Q._settings.clockSkew,q).then(function(X){return X?X.sub!==D.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):X.auth_time&&X.auth_time!==D.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):X.azp&&X.azp!==D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!X.azp&&D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},P.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:F,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),Q})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),F})},P.prototype.signinCallback=function(D){var F=this;return this.readSigninResponseState(D).then(function(Q){var Y=Q.state;return Q.response,Y.request_type==="si:r"?F.signinRedirectCallback(D):Y.request_type==="si:p"?F.signinPopupCallback(D):Y.request_type==="si:s"?F.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},P.prototype.signoutCallback=function(D,F){var Q=this;return this.readSignoutResponseState(D).then(function(Y){var q=Y.state,X=Y.response;return q?q.request_type==="so:r"?Q.signoutRedirectCallback(D):q.request_type==="so:p"?Q.signoutPopupCallback(D,F):Promise.reject(new Error("invalid response_type in state")):X})},P.prototype.querySessionStatus=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var Q=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(F.redirect_uri=Q,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Y){return D.processSigninResponse(Y.url).then(function(q){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),q.session_state&&q.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",q.profile.sub),{session_state:q.session_state,sub:q.profile.sub,sid:q.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(q){if(q.session_state&&D.settings.monitorAnonymousSession&&(q.message=="login_required"||q.message=="consent_required"||q.message=="interaction_required"||q.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:q.session_state};throw q})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype._signin=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,F,Y).then(function(q){return Q._signinEnd(q.url,D)})},P.prototype._signinStart=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(Y).then(function(q){return o.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(X){return o.Log.debug("UserManager._signinStart: got signin request"),Y.url=X.url,Y.id=X.state.id,q.navigate(Y)}).catch(function(X){throw q.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),q.close()),X})})},P.prototype._signinEnd=function(D){var F=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(Y){o.Log.debug("UserManager._signinEnd: got signin response");var q=new c.User(Y);if(Q.current_sub){if(Q.current_sub!==q.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",q.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(q).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),F._events.load(q),q})})},P.prototype._signinCallback=function(D,F){o.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(D,void 0,Q)},P.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var F=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(D.post_logout_redirect_uri=F);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},P.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(F){return o.Log.info("UserManager.signoutRedirectCallback: successful"),F})},P.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var F=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=F,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},P.prototype.signoutPopupCallback=function(D,F){return F===void 0&&typeof D=="boolean"&&(F=D,D=null),this._popupNavigator.callback(D,F,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},P.prototype._signout=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,F,Y).then(function(q){return Q._signoutEnd(q.url)})},P.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,Q=arguments[1],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(Y).then(function(q){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(X){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(X):Promise.resolve()).then(function(){var le=D.id_token_hint||X&&X.id_token;return le&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=le),F.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(D).then(function(te){return o.Log.debug("UserManager._signoutStart: got signout request"),Y.url=te.url,te.state&&(Y.id=te.state.id),q.navigate(Y)})})})}).catch(function(X){throw q.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),q.close()),X})})},P.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(F){return o.Log.debug("UserManager._signoutEnd: got signout response"),F})},P.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(F){return D._revokeInternal(F,!0).then(function(Q){if(Q)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,D.storeUser(F).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(F)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},P.prototype._revokeInternal=function(D,F){var Q=this;if(D){var Y=D.access_token,q=D.refresh_token;return this._revokeAccessTokenInternal(Y,F).then(function(X){return Q._revokeRefreshTokenInternal(q,F).then(function(le){return X||le||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),X||le})})}return Promise.resolve(!1)},P.prototype._revokeAccessTokenInternal=function(D,F){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,F).then(function(){return!0})},P.prototype._revokeRefreshTokenInternal=function(D,F){return D?this._tokenRevocationClient.revoke(D,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},P.prototype.startSilentRenew=function(){this._silentRenewService.start()},P.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},P.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(o.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(D)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},P.prototype.storeUser=function(D){if(D){o.Log.debug("UserManager.storeUser: storing user");var F=D.toStorageString();return this._userStore.set(this._userStoreKey,F)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(P,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),P}(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function _(S,w){for(var x=0;x<w.length;x++){var R=w[x];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,w,x){return w&&_(S.prototype,w),x&&_(S,x),S}}(),o=(i(0),i(5)),s=i(40),l=i(41),c=i(43),d=i(6),h=i(1),g=i(8);function y(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function v(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?_:S}r.UserManagerSettings=function(_){function S(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=w.popup_redirect_uri,R=w.popup_post_logout_redirect_uri,P=w.popupWindowFeatures,O=w.popupWindowTarget,D=w.silent_redirect_uri,F=w.silentRequestTimeout,Q=w.automaticSilentRenew,Y=Q!==void 0&&Q,q=w.validateSubOnSilentRenew,X=q!==void 0&&q,le=w.includeIdTokenInSilentRenew,te=le===void 0||le,oe=w.monitorSession,he=oe===void 0||oe,ve=w.monitorAnonymousSession,de=ve!==void 0&&ve,se=w.checkSessionInterval,Re=se===void 0?2e3:se,k=w.stopCheckSessionOnError,re=k===void 0||k,ge=w.query_status_response_type,W=w.revokeAccessTokenOnSignout,ee=W!==void 0&&W,pe=w.accessTokenExpiringNotificationTime,Te=pe===void 0?60:pe,Je=w.redirectNavigator,Ae=Je===void 0?new s.RedirectNavigator:Je,$e=w.popupNavigator,Xe=$e===void 0?new l.PopupNavigator:$e,ae=w.iframeNavigator,H=ae===void 0?new c.IFrameNavigator:ae,B=w.userStore,ie=B===void 0?new d.WebStorageStateStore({store:h.Global.sessionStorage}):B;y(this,S);var fe=v(this,_.call(this,arguments[0]));return fe._popup_redirect_uri=x,fe._popup_post_logout_redirect_uri=R,fe._popupWindowFeatures=P,fe._popupWindowTarget=O,fe._silent_redirect_uri=D,fe._silentRequestTimeout=F,fe._automaticSilentRenew=Y,fe._validateSubOnSilentRenew=X,fe._includeIdTokenInSilentRenew=te,fe._accessTokenExpiringNotificationTime=Te,fe._monitorSession=he,fe._monitorAnonymousSession=de,fe._checkSessionInterval=Re,fe._stopCheckSessionOnError=re,ge?fe._query_status_response_type=ge:arguments[0]&&arguments[0].response_type?fe._query_status_response_type=g.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":fe._query_status_response_type="id_token",fe._revokeAccessTokenOnSignout=ee,fe._redirectNavigator=Ae,fe._popupNavigator=Xe,fe._iframeNavigator=H,fe._userStore=ie,fe}return function(x,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);x.prototype=Object.create(R&&R.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(x,R):x.__proto__=R)}(S,_),a(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(o.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.RedirectNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),o=i(42);r.PopupNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.PopupWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c,d,h){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(c,d,h),Promise.resolve()}catch(g){return Promise.reject(g)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(0),s=i(3);r.PopupWindow=function(){function l(c){var d=this;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,v){d._resolve=y,d._reject=v});var h=c.popupWindowTarget||"_blank",g=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",h,g),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(d){return this._popup?d&&d.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=d.id,this._id&&(window["popupCallback_"+d.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=d.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(d){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(d)},l.prototype._error=function(d){o.Log.error("PopupWindow.error: ",d),this._cleanup(),this._reject(new Error(d))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(d){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!d&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(d,h){this._cleanup(h),d?(o.Log.debug("PopupWindow.callback success"),this._success({url:d})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(d,h,g){if(window.opener){if(d=d||window.location.href){var y=s.UrlUtility.parseUrlFragment(d,g);if(y.state){var v="popupCallback_"+y.state,_=window.opener[v];_?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),_(d,h)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),o=i(44);r.IFrameNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.IFrameWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(c),Promise.resolve()}catch(d){return Promise.reject(d)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.IFrameWindow=function(){function s(l){var c=this;(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(c){if(c&&c.url){var d=c.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",d),this._timer=window.setTimeout(this._timeout.bind(this),d),this._frame.src=c.url}else this._error("No url provided");return this.promise},s.prototype._success=function(c){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(c){if(o.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var d=c.data;d?this._success({url:d}):this._error("Invalid response from frame")}},s.notifyParent=function(c){o.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),o=i(16),s=i(17);r.UserManagerEvents=function(l){function c(d){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c);var h=function(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}(this,l.call(this,d));return h._userLoaded=new s.Event("User loaded"),h._userUnloaded=new s.Event("User unloaded"),h._silentRenewError=new s.Event("Silent renew error"),h._userSignedIn=new s.Event("User signed in"),h._userSignedOut=new s.Event("User signed out"),h._userSessionChanged=new s.Event("User session changed"),h}return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}(c,l),c.prototype.load=function(h){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,h),g&&this._userLoaded.raise(h)},c.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(h){this._userLoaded.addHandler(h)},c.prototype.removeUserLoaded=function(h){this._userLoaded.removeHandler(h)},c.prototype.addUserUnloaded=function(h){this._userUnloaded.addHandler(h)},c.prototype.removeUserUnloaded=function(h){this._userUnloaded.removeHandler(h)},c.prototype.addSilentRenewError=function(h){this._silentRenewError.addHandler(h)},c.prototype.removeSilentRenewError=function(h){this._silentRenewError.removeHandler(h)},c.prototype._raiseSilentRenewError=function(h){a.Log.debug("UserManagerEvents._raiseSilentRenewError",h.message),this._silentRenewError.raise(h)},c.prototype.addUserSignedIn=function(h){this._userSignedIn.addHandler(h)},c.prototype.removeUserSignedIn=function(h){this._userSignedIn.removeHandler(h)},c.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(h){this._userSignedOut.addHandler(h)},c.prototype.removeUserSignedOut=function(h){this._userSignedOut.removeHandler(h)},c.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(h){this._userSessionChanged.addHandler(h)},c.prototype.removeUserSessionChanged=function(h){this._userSessionChanged.removeHandler(h)},c.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(o.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function h(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&h(g.prototype,y),v&&h(g,v),g}}(),o=i(0),s=i(1),l=i(17);function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function d(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?h:g}r.Timer=function(h){function g(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,g);var S=d(this,h.call(this,y));return S._timer=v,S._nowFunc=_||function(){return Date.now()/1e3},S}return function(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}(g,h),g.prototype.init=function(v){v<=0&&(v=1),v=parseInt(v);var _=this.now+v;if(this.expiration===_&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",v),this._expiration=_;var S=5;v<S&&(S=v),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},g.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},g.prototype._callback=function(){var v=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",v),this._expiration<=this.now&&(this.cancel(),h.prototype.raise.call(this))},a(g,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),g}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(j0)),j0.exports}var MA=Yte();function ene(e,t){var n;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=t.redirectUrl)==null?void 0:n.toString()}] is invalid - ${e.error_description??""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${e.error_description??""}`):new Error(`Dynamic client registration failed: ${e.error} - ${e.error_description??""}`)}function tne(e){return typeof e.client_id=="string"}function nne(e){return Array.isArray(e.redirect_uris)&&e.redirect_uris.every(t=>typeof t=="string")}function rne(e,t){if(!tne(e))throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&nne(e)&&e.redirect_uris[0]!==t.redirectUrl.toString())throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`);return!0}async function ine(e,t){var o;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const n=Pte(t.idTokenSigningAlgValuesSupported,mw),r={client_name:e.clientName,application_type:"web",redirect_uris:[(o=e.redirectUrl)==null?void 0:o.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:n,grant_types:["authorization_code","refresh_token"]},i={"Content-Type":"application/json"},a=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:i,body:JSON.stringify(r)});if(a.ok){const s=await a.json();return rne(s,e),{clientId:s.client_id,clientSecret:s.client_secret,expiresAt:s.client_secret_expires_at,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw a.status===400&&ene(await a.json(),e),new Error(`Dynamic client registration failed: the server returned ${a.status} ${a.statusText} - ${await a.text()}`)}function ane(e){return e.error!==void 0&&typeof e.error=="string"}function Xk(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function one(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function sne(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function une(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function lne(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function cne(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function fne(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function dne(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function T9(e,t){if(ane(e))throw new E9(`Token endpoint returned error [${e.error}]${Xk(e)?`: ${e.error_description}`:""}${one(e)?` (see ${e.error_uri})`:""}`,e.error,Xk(e)?e.error_description:void 0);if(!sne(e))throw new bm(["access_token"]);if(!une(e))throw new bm(["id_token"]);if(!cne(e))throw new bm(["token_type"]);if(!fne(e))throw new bm(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function hne(e,t,n,r){dne(e,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await $te(),i.DPoP=await tO(e.tokenEndpoint,"POST",a)),t.clientSecret&&(i.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},c=await(await fetch(e.tokenEndpoint,s)).json(),d=T9(c,r),{webId:h,clientId:g}=await y9(d.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:d.access_token,idToken:d.id_token,refreshToken:lne(d)?d.refresh_token:void 0,webId:h,clientId:g,dpopKey:a,expiresIn:d.expires_in}}const pne=e=>{try{return new URL(e),!0}catch{return!1}};async function gne(e,t,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:e,scope:m9};let a={};r!==void 0&&(a={DPoP:await tO(t.tokenEndpoint,"POST",r)});let o={};n.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:pne(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=T9(l,r!==void 0),{webId:d}=await y9(c.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:d,dpopKey:r,expiresIn:c.expires_in}}function mne(e){const t=_9(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function yne(){await new MA.OidcClient({response_mode:"query"}).clearStaleState(new MA.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let r=0;r<=t.length;r+=1){const i=t.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>t.removeItem(r))}class vne extends Nte{constructor(t,n){super(t,n)}}class _ne extends Dte{constructor(){super(...arguments);nn(this,"login",async(n,r)=>{n.prompt!=="none"&&await this.sessionInfoManager.clear(n.sessionId);const i=n.redirectUrl??mne(window.location.href);if(!v9(i))throw new Error(`${i} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...n,redirectUrl:i,clientName:n.clientName??n.clientId,eventEmitter:r})});nn(this,"validateCurrentSession",async n=>{const r=await this.sessionInfoManager.get(n);return r===void 0||r.clientAppId===void 0||r.issuer===void 0?null:r});nn(this,"handleIncomingRedirect",async(n,r)=>{try{const i=await this.redirectHandler.handle(n,r,void 0);return this.fetch=i.fetch.bind(window),this.boundLogout=i.getLogoutUrl,await this.cleanUrlAfterRedirect(n),{isLoggedIn:i.isLoggedIn,webId:i.webId,sessionId:i.sessionId,expirationDate:i.expirationDate,clientAppId:i.clientAppId}}catch(i){await this.cleanUrlAfterRedirect(n),r.emit(yi.ERROR,"redirect",i);return}})}async cleanUrlAfterRedirect(n){const r=_9(n).href;for(window.history.replaceState(null,"",r);window.location.href!==r;)await new Promise(i=>{setTimeout(()=>i(),1)})}}function Yk(e){return typeof e.oidcIssuer=="string"}function eN(e){return typeof e.redirectUrl=="string"}class wne{constructor(t,n,r,i){nn(this,"storageUtility");nn(this,"oidcHandler");nn(this,"issuerConfigFetcher");nn(this,"clientRegistrar");this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(t){return Yk(t)&&eN(t)}async handle(t){if(!Yk(t))throw new IA(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!eN(t))throw new IA(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const n=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer),r=await Mte(t,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:t.tokenType.toLowerCase()==="dpop",...t,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class bne extends bte{async handle(t){const n={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl,response_type:"code",scope:m9,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:t.prompt??"consent"},r=new MA.OidcClient(n);try{const i=await r.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:t,state:i.state._id,codeVerifier:i.state._code_verifier,targetUrl:i.url.toString()})}catch(i){console.error(i)}}}const Sne=".well-known/openid-configuration",tN={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function xne(e){const t={};return Object.keys(e).forEach(n=>{tN[n]&&(t[tN[n].toKey]=e[n])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}class nO{constructor(t){nn(this,"storageUtility");this.storageUtility=t,this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let n;const r=new URL(Sne,t.endsWith("/")?t:`${t}/`).href,i=await fetch(r);try{n=xne(await i.json())}catch(a){throw new IA(`[${t.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(nO.getLocalStorageKey(t),JSON.stringify(n)),n}}async function Ene(e,t){await b9(e,t),await yne()}class Cne extends Cte{async get(t){const[n,r,i,a,o,s,l,c]=await Promise.all([this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(t,"webId",{secure:!0}),this.storageUtility.getForUser(t,"clientId",{secure:!1}),this.storageUtility.getForUser(t,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(t,"refreshToken",{secure:!0}),this.storageUtility.getForUser(t,"issuer",{secure:!1}),this.storageUtility.getForUser(t,"tokenType",{secure:!1})]);if(typeof o=="string"&&!v9(o)){await Promise.all([this.storageUtility.deleteAllUserData(t,{secure:!1}),this.storageUtility.deleteAllUserData(t,{secure:!0})]);return}if(c!==void 0&&!Ate(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:t,webId:r,isLoggedIn:n==="true",redirectUrl:o,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:c??"DPoP"}}async clear(t){return Ene(t,this.storageUtility)}}class Tne{async canHandle(t){try{return new URL(t),!0}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t){return w9()}}class Rne{constructor(t,n,r,i,a){nn(this,"storageUtility");nn(this,"sessionInfoManager");nn(this,"issuerConfigFetcher");nn(this,"clientRegistrar");nn(this,"tokerRefresher");this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(t){try{const n=new URL(t);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(!await this.canHandle(t))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:l,dpop:c}=await x9(a,this.storageUtility,this.issuerConfigFetcher),d=r.searchParams.get("iss");if(typeof d=="string"&&d!==o.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const h=await this.clientRegistrar.getClient({sessionId:a},o),g=Date.now(),y=await hne(o,h,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let v;y.refreshToken!==void 0&&(v={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const _=Hte(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:v,eventEmitter:n,expiresIn:y.expiresIn});await kte(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const S=await this.sessionInfoManager.get(a);if(!S)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(S,{fetch:_,getLogoutUrl:Rte({idTokenHint:y.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?g+y.expiresIn*1e3:void 0})}}class Ane extends _te{constructor(t){super(t)}}class Pne{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,n){this.storage.setItem(t,n)}async delete(t){this.storage.removeItem(t)}}class One{redirect(t,n){n&&n.handleRedirect?n.handleRedirect(t):n&&n.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}}class Lne{constructor(t){nn(this,"storageUtility");this.storageUtility=t,this.storageUtility=t}async getClient(t,n){const[r,i,a,o,s]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"expiresAt",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientType",{secure:!1})]),l=a!==void 0?Number.parseInt(a,10):-1,c=i!==void 0&&Math.floor(Date.now()/1e3)>l;if(r&&Ite(s)&&!c)return i!==void 0?{clientId:r,clientSecret:i,clientName:o,clientType:"dynamic",expiresAt:l}:{clientId:r,clientName:o,clientType:s};try{const d=await ine(t,n),h={clientId:d.clientId,clientType:"dynamic"};return d.clientSecret!==void 0&&(h.clientSecret=d.clientSecret,h.expiresAt=String(d.expiresAt)),d.idTokenSignedResponseAlg&&(h.idTokenSignedResponseAlg=d.idTokenSignedResponseAlg),await this.storageUtility.setForUser(t.sessionId,h,{secure:!1}),d}catch(d){throw new Error("Client registration failed.",{cause:d})}}}class Ine{async canHandle(t){try{return new URL(t).searchParams.has("error")}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(n!==void 0){const r=new URL(t),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(yi.ERROR,i,a)}return w9()}}class Mne{constructor(t,n,r){nn(this,"storageUtility");nn(this,"issuerConfigFetcher");nn(this,"clientRegistrar");this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(t,n,r,i){const a=await x9(t,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);if(n===void 0)throw new Error(`Session [${t}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${t}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await gne(n,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(i==null||i.emit(yi.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function nN(e){const t=new Fte,n=e.secureStorage||t,r=e.insecureStorage||new Pne,i=new vne(n,r),a=new nO(i),o=new Lne(i),s=new Cne(i),l=new Mne(i,a,o),c=new One,d=new wne(i,new bne(i,c),a,o),h=new Ane([new Ine,new Rne(i,s,a,o,l),new Tne]);return new _ne(d,h,new Ete(s,c),s,a)}const dx=`${g9}currentSession`,DA=`${g9}currentUrl`;async function Dne(e,t,n){const r=await t.validateCurrentSession(e);return r!==null?(window.localStorage.setItem(DA,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:r.issuer,redirectUrl:r.redirectUrl,clientId:r.clientAppId,clientSecret:r.clientAppSecret,tokenType:r.tokenType??"DPoP"},n.events),!0):!1}function kne(e){return!!(e!=null&&e.isLoggedIn)}class Nne{constructor(t={},n=void 0){nn(this,"info");nn(this,"events");nn(this,"clientAuthentication");nn(this,"tokenRequestInProgress",!1);nn(this,"login",async t=>(await this.clientAuthentication.login({sessionId:this.info.sessionId,...t,tokenType:t.tokenType??"DPoP"},this.events),new Promise(()=>{})));nn(this,"fetch",(t,n)=>this.clientAuthentication.fetch(t,n));nn(this,"internalLogout",async(t,n)=>{window.localStorage.removeItem(dx),await this.clientAuthentication.logout(this.info.sessionId,n),this.info.isLoggedIn=!1,t&&this.events.emit(yi.LOGOUT)});nn(this,"logout",async t=>this.internalLogout(!0,t));nn(this,"handleIncomingRedirect",async(t={})=>{if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const n=typeof t=="string"?{url:t}:t,r=n.url??window.location.href;this.tokenRequestInProgress=!0;const i=await this.clientAuthentication.handleIncomingRedirect(r,this.events);if(kne(i)){this.setSessionInfo(i);const a=window.localStorage.getItem(DA);a===null?this.events.emit(yi.LOGIN):(window.localStorage.removeItem(DA),this.events.emit(yi.SESSION_RESTORED,a))}else if(n.restorePreviousSession===!0){const a=window.localStorage.getItem(dx);if(a!==null&&await Dne(a,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,i});this.events=new Jte,t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=nN({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=nN({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId,clientAppId:t.sessionInfo.clientAppId}:this.info={sessionId:n??Qte(),isLoggedIn:!1},this.events.on(yi.LOGIN,()=>window.localStorage.setItem(dx,this.info.sessionId)),this.events.on(yi.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(yi.ERROR,()=>this.internalLogout(!1))}setSessionInfo(t){this.info.isLoggedIn=t.isLoggedIn,this.info.webId=t.webId,this.info.sessionId=t.sessionId,this.info.clientAppId=t.clientAppId,this.info.expirationDate=t.expirationDate,this.events.on(yi.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let hx;function xy(){return typeof hx>"u"&&(hx=new Nne),hx}const ar=(...e)=>xy().fetch(...e),Fne=(...e)=>xy().login(...e),jne=(...e)=>xy().logout(...e),$ne=(...e)=>xy().handleIncomingRedirect(...e);var px,rN;function Bne(){if(rN)return px;rN=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(v){return v.replace(t,"")}function c(v){return n.test(v)}function d(v,_){for(;c(v[_]);)_++;return _}function h(v){return a.test(v)||!o.test(v)}function g(v,_){return Object.keys(v).length===Object.keys(_).length&&Object.keys(v).every(S=>S in _&&v[S]===_[S])}class y{constructor(_){this.refs=[],_&&this.parse(_)}rel(_){for(var S=[],w=_.toLowerCase(),x=0;x<this.refs.length;x++)typeof this.refs[x].rel=="string"&&this.refs[x].rel.toLowerCase()===w&&S.push(this.refs[x]);return S}get(_,S){_=_.toLowerCase(),S=S.toLowerCase();for(var w=[],x=0;x<this.refs.length;x++)typeof this.refs[x][_]=="string"&&this.refs[x][_].toLowerCase()===S&&w.push(this.refs[x]);return w}set(_){return this.refs.push(_),this}setUnique(_){return this.refs.some(S=>g(S,_))||this.refs.push(_),this}has(_,S){_=_.toLowerCase(),S=S.toLowerCase();for(var w=0;w<this.refs.length;w++)if(typeof this.refs[w][_]=="string"&&this.refs[w][_].toLowerCase()===S)return!0;return!1}parse(_,R){R=R||0,_=R?_.slice(R):_,_=l(_).replace(r,"");for(var w=s.IDLE,x=_.length,R=0,P=null;R<x;)if(w===s.IDLE){if(c(_[R])){R++;continue}else if(_[R]==="<"){P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P));var O=_.indexOf(">",R);if(O===-1)throw new Error("Expected end of URI delimiter at offset "+R);P={uri:_.slice(R+1,O)},R=O,w=s.URI}else throw new Error('Unexpected character "'+_[R]+'" at offset '+R);R++}else if(w===s.URI)if(c(_[R])){R++;continue}else if(_[R]===";")w=s.ATTR,R++;else if(_[R]===",")w=s.IDLE,R++;else throw new Error('Unexpected character "'+_[R]+'" at offset '+R);else if(w===s.ATTR){if(_[R]===";"||c(_[R])){R++;continue}var O=_.indexOf("=",R);O===-1&&(O=_.indexOf(";",R)),O===-1&&(O=_.length);var D=l(_.slice(R,O)).toLowerCase(),F="";if(R=O+1,R=d(_,R),_[R]==='"')for(R++;R<x;){if(_[R]==='"'){R++;break}_[R]==="\\"&&R++,F+=_[R],R++}else{for(var O=R+1;!i.test(_[O])&&O<x;)O++;F=_.slice(R,O),R=O}switch(P[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?P[D]=y.parseExtendedValue(F):(F=D==="type"?F.toLowerCase():F,P[D]!=null?Array.isArray(P[D])?P[D].push(F):P[D]=[P[D],F]:P[D]=F)),_[R]){case",":w=s.IDLE;break;case";":w=s.ATTR;break}R++}else throw new Error('Unknown parser state "'+w+'"');return P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P)),P=null,this}toString(){for(var _=[],S="",w=null,x=0;x<this.refs.length;x++)w=this.refs[x],S=Object.keys(this.refs[x]).reduce(function(R,P){return P==="uri"?R:R+"; "+y.formatAttribute(P,w[P])},"<"+w.uri+">"),_.push(S);return _.join(", ")}}return y.isCompatibleEncoding=function(v){return e.test(v)},y.parse=function(v,_){return new y().parse(v,_)},y.isSingleOccurenceAttr=function(v){return v==="rel"||v==="type"||v==="media"||v==="title"||v==="title*"},y.isTokenAttr=function(v){return v==="rel"||v==="type"||v==="anchor"},y.escapeQuotes=function(v){return v.replace(/"/g,'\\"')},y.expandRelations=function(v){var _=v.rel.split(" ");return _.map(function(S){var w=Object.assign({},v);return w.rel=S,w})},y.parseExtendedValue=function(v){var _=/([^']+)?(?:'([^']*)')?(.+)/.exec(v);return{language:_[2].toLowerCase(),encoding:y.isCompatibleEncoding(_[1])?null:_[1].toLowerCase(),value:y.isCompatibleEncoding(_[1])?decodeURIComponent(_[3]):_[3]}},y.formatExtendedAttribute=function(v,_){var S=(_.encoding||"utf-8").toUpperCase(),w=_.language||"en",x="";return Buffer.isBuffer(_.value)&&y.isCompatibleEncoding(S)?x=_.value.toString(S):Buffer.isBuffer(_.value)?x=_.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):x=encodeURIComponent(_.value),v+"="+S+"'"+w+"'"+x},y.formatAttribute=function(v,_){return Array.isArray(_)?_.map(S=>y.formatAttribute(v,S)).join("; "):v[v.length-1]==="*"||typeof _!="string"?y.formatExtendedAttribute(v,_):(y.isTokenAttr(v)?_=h(_)?'"'+y.escapeQuotes(_)+'"':y.escapeQuotes(_):h(_)&&(_=encodeURIComponent(_),_=_.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),_='"'+_+'"'),v+"="+_)},px=y,px}var Une=Bne();const R9=Mr(Une),ag="http://www.w3.org/1999/02/22-rdf-syntax-ns#",og="http://www.w3.org/2001/XMLSchema#",gx="http://www.w3.org/2000/10/swap/",Qi={xsd:{decimal:`${og}decimal`,boolean:`${og}boolean`,double:`${og}double`,integer:`${og}integer`,string:`${og}string`},rdf:{type:`${ag}type`,nil:`${ag}nil`,first:`${ag}first`,rest:`${ag}rest`,langString:`${ag}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${gx}reify#forSome`,forAll:`${gx}reify#forAll`},log:{implies:`${gx}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var mx,iN;function qne(){if(iN)return mx;iN=1;let e;return mx=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:mm):t=>(e||(e=Promise.resolve())).then(t).catch(n=>setTimeout(()=>{throw n},0)),mx}var zne=qne();const A9=Mr(zne),{xsd:o_}=Qi,Hne=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,aN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Vne=/[\x00-\x20<>\\"\{\}\|\^\`]/,Kne={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Gne=/$0^/;let rO=class{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in Kne)&&this[n]instanceof RegExp&&(this[n]=Gne)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this._comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",g="",y="",v=null,_=0,S=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",g=v[1];else if(v=this._iri.exec(r)){if(g=this._unescape(v[1]),g===null||Vne.test(g))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,g=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",g=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",g=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",g=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",g=v[0],y=typeof v[1]=="string"?o_.double:typeof v[2]=="string"?o_.decimal:o_.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",g=v[0],y=o_.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",g="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,g="="):(_=2,g=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",g=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",g=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const w=_||v[0].length,x=a(h,g,y,c,w);this.previousToken=x,this._previousMarker=h,r=r.substr(w,r.length)}function a(s,l,c,d,h){const g=r?i-r.length:i,y=g+h,v={type:s,value:l,prefix:c,line:d,start:g,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(Hne,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in aN?aN[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")A9(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}};function Wne(e){return!!e&&e.termType==="NamedNode"}function Qne(e){return!!e&&e.termType==="BlankNode"}function Zne(e){return!!e&&e.termType==="Literal"}function Jne(e){return!!e&&e.termType==="Variable"}function Ch(e){return!!e&&e.termType==="DefaultGraph"}function Xne(e){return Ch(e.graph)}function Yne(e,t){return P9({"":e.value||e},t)("")}function P9(e,t){const n=Object.create(null);for(const i in e)r(i,e[i]);t=t||Xl;function r(i,a){if(typeof a=="string"){const o=Object.create(null);n[i]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const O9=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:Xne,isBlankNode:Qne,isDefaultGraph:Ch,isLiteral:Zne,isNamedNode:Wne,isVariable:Jne,prefix:Yne,prefixes:P9},Symbol.toStringTag,{value:"Module"})),{rdf:ere,xsd:sf}=Qi;let Ey,tre=0;const Xl={namedNode:nre,blankNode:rre,variable:are,literal:ire,defaultGraph:ore,quad:oN,triple:oN};let js=class L9{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof L9?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},ti=class extends js{get termType(){return"NamedNode"}},eh=class I9 extends js{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new ti(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?sf.string:ere.langString}equals(t){return t instanceof I9?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},iO=class extends js{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},aO=class extends js{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},oO=class extends js{constructor(){return super(""),Ey||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Ey=new oO;function ff(e,t,n){if(t=t||Xl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Xl)return new eh(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(ff(e[0],t,!0),ff(e[1],t,!0),ff(e[2],t,!0),e[3]&&ff(e[3],t,!0))}function ga(e,t){if(typeof e=="string")return e;if(e instanceof js&&e.termType!=="Quad")return e.id;if(!e)return Ey.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==sf.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[ga(e.subject,!0),ga(e.predicate,!0),ga(e.object,!0)];return Ch(e.graph)||n.push(ga(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Wo=class extends js{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||Ey}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function nre(e){return new ti(e)}function rre(e){return new iO(e||`n3-${tre++}`)}function ire(e,t){if(typeof t=="string")return new eh(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=sf.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?sf.integer:sf.double:(n=sf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===sf.string?new eh(`"${e}"`):new eh(`"${e}"^^${n}`)}function are(e){return new aO(e)}function ore(){return Ey}function oN(e,t,n,r){return new Wo(e,t,n,r)}let sN=0,Hh=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&M9(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new rO({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){sN=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=yx}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${sN++}_`,this._prefixCallback=r||yx,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(o,s)=>{o?a=o:s&&i.push(s)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),a)throw a;return i}this._callback=n,this._lexer.tokenize(t,(i,a)=>{i!==null?(this._callback(i),this._callback=yx):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function yx(){}function M9(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Qi.rdf.first),e.RDF_REST=n(Qi.rdf.rest),e.RDF_NIL=n(Qi.rdf.nil),e.N3_FORALL=n(Qi.r.forAll),e.N3_FORSOME=n(Qi.r.forSome),e.ABBREVIATIONS={a:n(Qi.rdf.type),"=":n(Qi.owl.sameAs),">":n(Qi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}M9(Hh.prototype,Xl);const sg=Xl.defaultGraph(),{rdf:sre,xsd:Od}=Qi,uN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,lN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,ure={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let ug=class extends js{equals(t){return t===this}},nb=class{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=sg,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${fN(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return sg.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(sg.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){return t.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),uN.test(n)&&(n=n.replace(lN,cN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(uN.test(n)&&(n=n.replace(lN,cN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Od.string)return`"${n}"`}else switch(t.datatype.value){case Od.string:return`"${n}"`;case Od.boolean:if(n==="true"||n==="false")return n;break;case Od.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Od.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Od.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===sre.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Ch(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,sg,i):this._writeQuad(t,n,r,i||sg,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=fN(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new ug("[]");case 1:if(i=r[0],!(i.object instanceof ug))return new ug(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new ug(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new ug(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function cN(e){let t=ure[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function fN(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var vx={exports:{}},_x={exports:{}},wx={},lg={},dN;function lre(){if(dN)return lg;dN=1,lg.byteLength=s,lg.toByteArray=c,lg.fromByteArray=g;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");_===-1&&(_=v);var S=_===v?0:4-_%4;return[_,S]}function s(y){var v=o(y),_=v[0],S=v[1];return(_+S)*3/4-S}function l(y,v,_){return(v+_)*3/4-_}function c(y){var v,_=o(y),S=_[0],w=_[1],x=new n(l(y,S,w)),R=0,P=w>0?S-4:S,O;for(O=0;O<P;O+=4)v=t[y.charCodeAt(O)]<<18|t[y.charCodeAt(O+1)]<<12|t[y.charCodeAt(O+2)]<<6|t[y.charCodeAt(O+3)],x[R++]=v>>16&255,x[R++]=v>>8&255,x[R++]=v&255;return w===2&&(v=t[y.charCodeAt(O)]<<2|t[y.charCodeAt(O+1)]>>4,x[R++]=v&255),w===1&&(v=t[y.charCodeAt(O)]<<10|t[y.charCodeAt(O+1)]<<4|t[y.charCodeAt(O+2)]>>2,x[R++]=v>>8&255,x[R++]=v&255),x}function d(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function h(y,v,_){for(var S,w=[],x=v;x<_;x+=3)S=(y[x]<<16&16711680)+(y[x+1]<<8&65280)+(y[x+2]&255),w.push(d(S));return w.join("")}function g(y){for(var v,_=y.length,S=_%3,w=[],x=16383,R=0,P=_-S;R<P;R+=x)w.push(h(y,R,R+x>P?P:R+x));return S===1?(v=y[_-1],w.push(e[v>>2]+e[v<<4&63]+"==")):S===2&&(v=(y[_-2]<<8)+y[_-1],w.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),w.join("")}return lg}var s_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hN;function cre(){return hN||(hN=1,s_.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,c=l>>1,d=-7,h=n?i-1:0,g=n?-1:1,y=e[t+h];for(h+=g,a=y&(1<<-d)-1,y>>=-d,d+=s;d>0;a=a*256+e[t+h],h+=g,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=r;d>0;o=o*256+e[t+h],h+=g,d-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(y?-1:1)*o*Math.pow(2,a-r)},s_.write=function(e,t,n,r,i,a){var o,s,l,c=a*8-i-1,d=(1<<c)-1,h=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,v=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=g/l:t+=g*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=d?(s=0,o=d):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o=o+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+y]=s&255,y+=v,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+y]=o&255,y+=v,o/=256,c-=8);e[n+y-v]|=_*128}),s_}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var pN;function Bu(){return pN||(pN=1,function(e){const t=lre(),n=cre(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const J=new Uint8Array(1),$={foo:function(){return 42}};return Object.setPrototypeOf($,Uint8Array.prototype),Object.setPrototypeOf(J,$),J.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(J){if(J>i)throw new RangeError('The value "'+J+'" is invalid for option "size"');const $=new Uint8Array(J);return Object.setPrototypeOf($,s.prototype),$}function s(J,$,K){if(typeof J=="number"){if(typeof $=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(J)}return l(J,$,K)}s.poolSize=8192;function l(J,$,K){if(typeof J=="string")return g(J,$);if(ArrayBuffer.isView(J))return v(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(_e(J,ArrayBuffer)||J&&_e(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(J,SharedArrayBuffer)||J&&_e(J.buffer,SharedArrayBuffer)))return _(J,$,K);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=J.valueOf&&J.valueOf();if(G!=null&&G!==J)return s.from(G,$,K);const ke=S(J);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return s.from(J[Symbol.toPrimitive]("string"),$,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}s.from=function(J,$,K){return l(J,$,K)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function d(J,$,K){return c(J),J<=0?o(J):$!==void 0?typeof K=="string"?o(J).fill($,K):o(J).fill($):o(J)}s.alloc=function(J,$,K){return d(J,$,K)};function h(J){return c(J),o(J<0?0:w(J)|0)}s.allocUnsafe=function(J){return h(J)},s.allocUnsafeSlow=function(J){return h(J)};function g(J,$){if((typeof $!="string"||$==="")&&($="utf8"),!s.isEncoding($))throw new TypeError("Unknown encoding: "+$);const K=R(J,$)|0;let G=o(K);const ke=G.write(J,$);return ke!==K&&(G=G.slice(0,ke)),G}function y(J){const $=J.length<0?0:w(J.length)|0,K=o($);for(let G=0;G<$;G+=1)K[G]=J[G]&255;return K}function v(J){if(_e(J,Uint8Array)){const $=new Uint8Array(J);return _($.buffer,$.byteOffset,$.byteLength)}return y(J)}function _(J,$,K){if($<0||J.byteLength<$)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<$+(K||0))throw new RangeError('"length" is outside of buffer bounds');let G;return $===void 0&&K===void 0?G=new Uint8Array(J):K===void 0?G=new Uint8Array(J,$):G=new Uint8Array(J,$,K),Object.setPrototypeOf(G,s.prototype),G}function S(J){if(s.isBuffer(J)){const $=w(J.length)|0,K=o($);return K.length===0||J.copy(K,0,0,$),K}if(J.length!==void 0)return typeof J.length!="number"||Be(J.length)?o(0):y(J);if(J.type==="Buffer"&&Array.isArray(J.data))return y(J.data)}function w(J){if(J>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return J|0}function x(J){return+J!=J&&(J=0),s.alloc(+J)}s.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==s.prototype},s.compare=function($,K){if(_e($,Uint8Array)&&($=s.from($,$.offset,$.byteLength)),_e(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),!s.isBuffer($)||!s.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===K)return 0;let G=$.length,ke=K.length;for(let Ze=0,Fe=Math.min(G,ke);Ze<Fe;++Ze)if($[Ze]!==K[Ze]){G=$[Ze],ke=K[Ze];break}return G<ke?-1:ke<G?1:0},s.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function($,K){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return s.alloc(0);let G;if(K===void 0)for(K=0,G=0;G<$.length;++G)K+=$[G].length;const ke=s.allocUnsafe(K);let Ze=0;for(G=0;G<$.length;++G){let Fe=$[G];if(_e(Fe,Uint8Array))Ze+Fe.length>ke.length?(s.isBuffer(Fe)||(Fe=s.from(Fe)),Fe.copy(ke,Ze)):Uint8Array.prototype.set.call(ke,Fe,Ze);else if(s.isBuffer(Fe))Fe.copy(ke,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=Fe.length}return ke};function R(J,$){if(s.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||_e(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);const K=J.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&K===0)return 0;let ke=!1;for(;;)switch($){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Ie(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return ot(J).length;default:if(ke)return G?-1:Ie(J).length;$=(""+$).toLowerCase(),ke=!0}}s.byteLength=R;function P(J,$,K){let G=!1;if(($===void 0||$<0)&&($=0),$>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,$>>>=0,K<=$))return"";for(J||(J="utf8");;)switch(J){case"hex":return Re(this,$,K);case"utf8":case"utf-8":return oe(this,$,K);case"ascii":return de(this,$,K);case"latin1":case"binary":return se(this,$,K);case"base64":return te(this,$,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,$,K);default:if(G)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),G=!0}}s.prototype._isBuffer=!0;function O(J,$,K){const G=J[$];J[$]=J[K],J[K]=G}s.prototype.swap16=function(){const $=this.length;if($%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<$;K+=2)O(this,K,K+1);return this},s.prototype.swap32=function(){const $=this.length;if($%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<$;K+=4)O(this,K,K+3),O(this,K+1,K+2);return this},s.prototype.swap64=function(){const $=this.length;if($%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<$;K+=8)O(this,K,K+7),O(this,K+1,K+6),O(this,K+2,K+5),O(this,K+3,K+4);return this},s.prototype.toString=function(){const $=this.length;return $===0?"":arguments.length===0?oe(this,0,$):P.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function($){if(!s.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$?!0:s.compare(this,$)===0},s.prototype.inspect=function(){let $="";const K=e.INSPECT_MAX_BYTES;return $=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&($+=" ... "),"<Buffer "+$+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function($,K,G,ke,Ze){if(_e($,Uint8Array)&&($=s.from($,$.offset,$.byteLength)),!s.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(K===void 0&&(K=0),G===void 0&&(G=$?$.length:0),ke===void 0&&(ke=0),Ze===void 0&&(Ze=this.length),K<0||G>$.length||ke<0||Ze>this.length)throw new RangeError("out of range index");if(ke>=Ze&&K>=G)return 0;if(ke>=Ze)return-1;if(K>=G)return 1;if(K>>>=0,G>>>=0,ke>>>=0,Ze>>>=0,this===$)return 0;let Fe=Ze-ke,At=G-K;const Mt=Math.min(Fe,At),Nt=this.slice(ke,Ze),Lt=$.slice(K,G);for(let zt=0;zt<Mt;++zt)if(Nt[zt]!==Lt[zt]){Fe=Nt[zt],At=Lt[zt];break}return Fe<At?-1:At<Fe?1:0};function D(J,$,K,G,ke){if(J.length===0)return-1;if(typeof K=="string"?(G=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,Be(K)&&(K=ke?0:J.length-1),K<0&&(K=J.length+K),K>=J.length){if(ke)return-1;K=J.length-1}else if(K<0)if(ke)K=0;else return-1;if(typeof $=="string"&&($=s.from($,G)),s.isBuffer($))return $.length===0?-1:F(J,$,K,G,ke);if(typeof $=="number")return $=$&255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(J,$,K):Uint8Array.prototype.lastIndexOf.call(J,$,K):F(J,[$],K,G,ke);throw new TypeError("val must be string, number or Buffer")}function F(J,$,K,G,ke){let Ze=1,Fe=J.length,At=$.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(J.length<2||$.length<2)return-1;Ze=2,Fe/=2,At/=2,K/=2}function Mt(Lt,zt){return Ze===1?Lt[zt]:Lt.readUInt16BE(zt*Ze)}let Nt;if(ke){let Lt=-1;for(Nt=K;Nt<Fe;Nt++)if(Mt(J,Nt)===Mt($,Lt===-1?0:Nt-Lt)){if(Lt===-1&&(Lt=Nt),Nt-Lt+1===At)return Lt*Ze}else Lt!==-1&&(Nt-=Nt-Lt),Lt=-1}else for(K+At>Fe&&(K=Fe-At),Nt=K;Nt>=0;Nt--){let Lt=!0;for(let zt=0;zt<At;zt++)if(Mt(J,Nt+zt)!==Mt($,zt)){Lt=!1;break}if(Lt)return Nt}return-1}s.prototype.includes=function($,K,G){return this.indexOf($,K,G)!==-1},s.prototype.indexOf=function($,K,G){return D(this,$,K,G,!0)},s.prototype.lastIndexOf=function($,K,G){return D(this,$,K,G,!1)};function Q(J,$,K,G){K=Number(K)||0;const ke=J.length-K;G?(G=Number(G),G>ke&&(G=ke)):G=ke;const Ze=$.length;G>Ze/2&&(G=Ze/2);let Fe;for(Fe=0;Fe<G;++Fe){const At=parseInt($.substr(Fe*2,2),16);if(Be(At))return Fe;J[K+Fe]=At}return Fe}function Y(J,$,K,G){return gt(Ie($,J.length-K),J,K,G)}function q(J,$,K,G){return gt(tt($),J,K,G)}function X(J,$,K,G){return gt(ot($),J,K,G)}function le(J,$,K,G){return gt(De($,J.length-K),J,K,G)}s.prototype.write=function($,K,G,ke){if(K===void 0)ke="utf8",G=this.length,K=0;else if(G===void 0&&typeof K=="string")ke=K,G=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(G)?(G=G>>>0,ke===void 0&&(ke="utf8")):(ke=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ze=this.length-K;if((G===void 0||G>Ze)&&(G=Ze),$.length>0&&(G<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");let Fe=!1;for(;;)switch(ke){case"hex":return Q(this,$,K,G);case"utf8":case"utf-8":return Y(this,$,K,G);case"ascii":case"latin1":case"binary":return q(this,$,K,G);case"base64":return X(this,$,K,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,$,K,G);default:if(Fe)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),Fe=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(J,$,K){return $===0&&K===J.length?t.fromByteArray(J):t.fromByteArray(J.slice($,K))}function oe(J,$,K){K=Math.min(J.length,K);const G=[];let ke=$;for(;ke<K;){const Ze=J[ke];let Fe=null,At=Ze>239?4:Ze>223?3:Ze>191?2:1;if(ke+At<=K){let Mt,Nt,Lt,zt;switch(At){case 1:Ze<128&&(Fe=Ze);break;case 2:Mt=J[ke+1],(Mt&192)===128&&(zt=(Ze&31)<<6|Mt&63,zt>127&&(Fe=zt));break;case 3:Mt=J[ke+1],Nt=J[ke+2],(Mt&192)===128&&(Nt&192)===128&&(zt=(Ze&15)<<12|(Mt&63)<<6|Nt&63,zt>2047&&(zt<55296||zt>57343)&&(Fe=zt));break;case 4:Mt=J[ke+1],Nt=J[ke+2],Lt=J[ke+3],(Mt&192)===128&&(Nt&192)===128&&(Lt&192)===128&&(zt=(Ze&15)<<18|(Mt&63)<<12|(Nt&63)<<6|Lt&63,zt>65535&&zt<1114112&&(Fe=zt))}}Fe===null?(Fe=65533,At=1):Fe>65535&&(Fe-=65536,G.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),G.push(Fe),ke+=At}return ve(G)}const he=4096;function ve(J){const $=J.length;if($<=he)return String.fromCharCode.apply(String,J);let K="",G=0;for(;G<$;)K+=String.fromCharCode.apply(String,J.slice(G,G+=he));return K}function de(J,$,K){let G="";K=Math.min(J.length,K);for(let ke=$;ke<K;++ke)G+=String.fromCharCode(J[ke]&127);return G}function se(J,$,K){let G="";K=Math.min(J.length,K);for(let ke=$;ke<K;++ke)G+=String.fromCharCode(J[ke]);return G}function Re(J,$,K){const G=J.length;(!$||$<0)&&($=0),(!K||K<0||K>G)&&(K=G);let ke="";for(let Ze=$;Ze<K;++Ze)ke+=at[J[Ze]];return ke}function k(J,$,K){const G=J.slice($,K);let ke="";for(let Ze=0;Ze<G.length-1;Ze+=2)ke+=String.fromCharCode(G[Ze]+G[Ze+1]*256);return ke}s.prototype.slice=function($,K){const G=this.length;$=~~$,K=K===void 0?G:~~K,$<0?($+=G,$<0&&($=0)):$>G&&($=G),K<0?(K+=G,K<0&&(K=0)):K>G&&(K=G),K<$&&(K=$);const ke=this.subarray($,K);return Object.setPrototypeOf(ke,s.prototype),ke};function re(J,$,K){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+$>K)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function($,K,G){$=$>>>0,K=K>>>0,G||re($,K,this.length);let ke=this[$],Ze=1,Fe=0;for(;++Fe<K&&(Ze*=256);)ke+=this[$+Fe]*Ze;return ke},s.prototype.readUintBE=s.prototype.readUIntBE=function($,K,G){$=$>>>0,K=K>>>0,G||re($,K,this.length);let ke=this[$+--K],Ze=1;for(;K>0&&(Ze*=256);)ke+=this[$+--K]*Ze;return ke},s.prototype.readUint8=s.prototype.readUInt8=function($,K){return $=$>>>0,K||re($,1,this.length),this[$]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function($,K){return $=$>>>0,K||re($,2,this.length),this[$]|this[$+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function($,K){return $=$>>>0,K||re($,2,this.length),this[$]<<8|this[$+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function($,K){return $=$>>>0,K||re($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+this[$+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function($,K){return $=$>>>0,K||re($,4,this.length),this[$]*16777216+(this[$+1]<<16|this[$+2]<<8|this[$+3])},s.prototype.readBigUInt64LE=me(function($){$=$>>>0,B($,"offset");const K=this[$],G=this[$+7];(K===void 0||G===void 0)&&ie($,this.length-8);const ke=K+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24,Ze=this[++$]+this[++$]*2**8+this[++$]*2**16+G*2**24;return BigInt(ke)+(BigInt(Ze)<<BigInt(32))}),s.prototype.readBigUInt64BE=me(function($){$=$>>>0,B($,"offset");const K=this[$],G=this[$+7];(K===void 0||G===void 0)&&ie($,this.length-8);const ke=K*2**24+this[++$]*2**16+this[++$]*2**8+this[++$],Ze=this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+G;return(BigInt(ke)<<BigInt(32))+BigInt(Ze)}),s.prototype.readIntLE=function($,K,G){$=$>>>0,K=K>>>0,G||re($,K,this.length);let ke=this[$],Ze=1,Fe=0;for(;++Fe<K&&(Ze*=256);)ke+=this[$+Fe]*Ze;return Ze*=128,ke>=Ze&&(ke-=Math.pow(2,8*K)),ke},s.prototype.readIntBE=function($,K,G){$=$>>>0,K=K>>>0,G||re($,K,this.length);let ke=K,Ze=1,Fe=this[$+--ke];for(;ke>0&&(Ze*=256);)Fe+=this[$+--ke]*Ze;return Ze*=128,Fe>=Ze&&(Fe-=Math.pow(2,8*K)),Fe},s.prototype.readInt8=function($,K){return $=$>>>0,K||re($,1,this.length),this[$]&128?(255-this[$]+1)*-1:this[$]},s.prototype.readInt16LE=function($,K){$=$>>>0,K||re($,2,this.length);const G=this[$]|this[$+1]<<8;return G&32768?G|4294901760:G},s.prototype.readInt16BE=function($,K){$=$>>>0,K||re($,2,this.length);const G=this[$+1]|this[$]<<8;return G&32768?G|4294901760:G},s.prototype.readInt32LE=function($,K){return $=$>>>0,K||re($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},s.prototype.readInt32BE=function($,K){return $=$>>>0,K||re($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},s.prototype.readBigInt64LE=me(function($){$=$>>>0,B($,"offset");const K=this[$],G=this[$+7];(K===void 0||G===void 0)&&ie($,this.length-8);const ke=this[$+4]+this[$+5]*2**8+this[$+6]*2**16+(G<<24);return(BigInt(ke)<<BigInt(32))+BigInt(K+this[++$]*2**8+this[++$]*2**16+this[++$]*2**24)}),s.prototype.readBigInt64BE=me(function($){$=$>>>0,B($,"offset");const K=this[$],G=this[$+7];(K===void 0||G===void 0)&&ie($,this.length-8);const ke=(K<<24)+this[++$]*2**16+this[++$]*2**8+this[++$];return(BigInt(ke)<<BigInt(32))+BigInt(this[++$]*2**24+this[++$]*2**16+this[++$]*2**8+G)}),s.prototype.readFloatLE=function($,K){return $=$>>>0,K||re($,4,this.length),n.read(this,$,!0,23,4)},s.prototype.readFloatBE=function($,K){return $=$>>>0,K||re($,4,this.length),n.read(this,$,!1,23,4)},s.prototype.readDoubleLE=function($,K){return $=$>>>0,K||re($,8,this.length),n.read(this,$,!0,52,8)},s.prototype.readDoubleBE=function($,K){return $=$>>>0,K||re($,8,this.length),n.read(this,$,!1,52,8)};function ge(J,$,K,G,ke,Ze){if(!s.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if($>ke||$<Ze)throw new RangeError('"value" argument is out of bounds');if(K+G>J.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function($,K,G,ke){if($=+$,K=K>>>0,G=G>>>0,!ke){const At=Math.pow(2,8*G)-1;ge(this,$,K,G,At,0)}let Ze=1,Fe=0;for(this[K]=$&255;++Fe<G&&(Ze*=256);)this[K+Fe]=$/Ze&255;return K+G},s.prototype.writeUintBE=s.prototype.writeUIntBE=function($,K,G,ke){if($=+$,K=K>>>0,G=G>>>0,!ke){const At=Math.pow(2,8*G)-1;ge(this,$,K,G,At,0)}let Ze=G-1,Fe=1;for(this[K+Ze]=$&255;--Ze>=0&&(Fe*=256);)this[K+Ze]=$/Fe&255;return K+G},s.prototype.writeUint8=s.prototype.writeUInt8=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,1,255,0),this[K]=$&255,K+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,2,65535,0),this[K]=$&255,this[K+1]=$>>>8,K+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,2,65535,0),this[K]=$>>>8,this[K+1]=$&255,K+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,4,4294967295,0),this[K+3]=$>>>24,this[K+2]=$>>>16,this[K+1]=$>>>8,this[K]=$&255,K+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,4,4294967295,0),this[K]=$>>>24,this[K+1]=$>>>16,this[K+2]=$>>>8,this[K+3]=$&255,K+4};function W(J,$,K,G,ke){H($,G,ke,J,K,7);let Ze=Number($&BigInt(4294967295));J[K++]=Ze,Ze=Ze>>8,J[K++]=Ze,Ze=Ze>>8,J[K++]=Ze,Ze=Ze>>8,J[K++]=Ze;let Fe=Number($>>BigInt(32)&BigInt(4294967295));return J[K++]=Fe,Fe=Fe>>8,J[K++]=Fe,Fe=Fe>>8,J[K++]=Fe,Fe=Fe>>8,J[K++]=Fe,K}function ee(J,$,K,G,ke){H($,G,ke,J,K,7);let Ze=Number($&BigInt(4294967295));J[K+7]=Ze,Ze=Ze>>8,J[K+6]=Ze,Ze=Ze>>8,J[K+5]=Ze,Ze=Ze>>8,J[K+4]=Ze;let Fe=Number($>>BigInt(32)&BigInt(4294967295));return J[K+3]=Fe,Fe=Fe>>8,J[K+2]=Fe,Fe=Fe>>8,J[K+1]=Fe,Fe=Fe>>8,J[K]=Fe,K+8}s.prototype.writeBigUInt64LE=me(function($,K=0){return W(this,$,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=me(function($,K=0){return ee(this,$,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function($,K,G,ke){if($=+$,K=K>>>0,!ke){const Mt=Math.pow(2,8*G-1);ge(this,$,K,G,Mt-1,-Mt)}let Ze=0,Fe=1,At=0;for(this[K]=$&255;++Ze<G&&(Fe*=256);)$<0&&At===0&&this[K+Ze-1]!==0&&(At=1),this[K+Ze]=($/Fe>>0)-At&255;return K+G},s.prototype.writeIntBE=function($,K,G,ke){if($=+$,K=K>>>0,!ke){const Mt=Math.pow(2,8*G-1);ge(this,$,K,G,Mt-1,-Mt)}let Ze=G-1,Fe=1,At=0;for(this[K+Ze]=$&255;--Ze>=0&&(Fe*=256);)$<0&&At===0&&this[K+Ze+1]!==0&&(At=1),this[K+Ze]=($/Fe>>0)-At&255;return K+G},s.prototype.writeInt8=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,1,127,-128),$<0&&($=255+$+1),this[K]=$&255,K+1},s.prototype.writeInt16LE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,2,32767,-32768),this[K]=$&255,this[K+1]=$>>>8,K+2},s.prototype.writeInt16BE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,2,32767,-32768),this[K]=$>>>8,this[K+1]=$&255,K+2},s.prototype.writeInt32LE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,4,2147483647,-2147483648),this[K]=$&255,this[K+1]=$>>>8,this[K+2]=$>>>16,this[K+3]=$>>>24,K+4},s.prototype.writeInt32BE=function($,K,G){return $=+$,K=K>>>0,G||ge(this,$,K,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[K]=$>>>24,this[K+1]=$>>>16,this[K+2]=$>>>8,this[K+3]=$&255,K+4},s.prototype.writeBigInt64LE=me(function($,K=0){return W(this,$,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=me(function($,K=0){return ee(this,$,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(J,$,K,G,ke,Ze){if(K+G>J.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Te(J,$,K,G,ke){return $=+$,K=K>>>0,ke||pe(J,$,K,4),n.write(J,$,K,G,23,4),K+4}s.prototype.writeFloatLE=function($,K,G){return Te(this,$,K,!0,G)},s.prototype.writeFloatBE=function($,K,G){return Te(this,$,K,!1,G)};function Je(J,$,K,G,ke){return $=+$,K=K>>>0,ke||pe(J,$,K,8),n.write(J,$,K,G,52,8),K+8}s.prototype.writeDoubleLE=function($,K,G){return Je(this,$,K,!0,G)},s.prototype.writeDoubleBE=function($,K,G){return Je(this,$,K,!1,G)},s.prototype.copy=function($,K,G,ke){if(!s.isBuffer($))throw new TypeError("argument should be a Buffer");if(G||(G=0),!ke&&ke!==0&&(ke=this.length),K>=$.length&&(K=$.length),K||(K=0),ke>0&&ke<G&&(ke=G),ke===G||$.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),$.length-K<ke-G&&(ke=$.length-K+G);const Ze=ke-G;return this===$&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,G,ke):Uint8Array.prototype.set.call($,this.subarray(G,ke),K),Ze},s.prototype.fill=function($,K,G,ke){if(typeof $=="string"){if(typeof K=="string"?(ke=K,K=0,G=this.length):typeof G=="string"&&(ke=G,G=this.length),ke!==void 0&&typeof ke!="string")throw new TypeError("encoding must be a string");if(typeof ke=="string"&&!s.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if($.length===1){const Fe=$.charCodeAt(0);(ke==="utf8"&&Fe<128||ke==="latin1")&&($=Fe)}}else typeof $=="number"?$=$&255:typeof $=="boolean"&&($=Number($));if(K<0||this.length<K||this.length<G)throw new RangeError("Out of range index");if(G<=K)return this;K=K>>>0,G=G===void 0?this.length:G>>>0,$||($=0);let Ze;if(typeof $=="number")for(Ze=K;Ze<G;++Ze)this[Ze]=$;else{const Fe=s.isBuffer($)?$:s.from($,ke),At=Fe.length;if(At===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(Ze=0;Ze<G-K;++Ze)this[Ze+K]=Fe[Ze%At]}return this};const Ae={};function $e(J,$,K){Ae[J]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:$.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${J}]`,this.stack,delete this.name}get code(){return J}set code(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}toString(){return`${this.name} [${J}]: ${this.message}`}}}$e("ERR_BUFFER_OUT_OF_BOUNDS",function(J){return J?`${J} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$e("ERR_INVALID_ARG_TYPE",function(J,$){return`The "${J}" argument must be of type number. Received type ${typeof $}`},TypeError),$e("ERR_OUT_OF_RANGE",function(J,$,K){let G=`The value of "${J}" is out of range.`,ke=K;return Number.isInteger(K)&&Math.abs(K)>2**32?ke=Xe(String(K)):typeof K=="bigint"&&(ke=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(ke=Xe(ke)),ke+="n"),G+=` It must be ${$}. Received ${ke}`,G},RangeError);function Xe(J){let $="",K=J.length;const G=J[0]==="-"?1:0;for(;K>=G+4;K-=3)$=`_${J.slice(K-3,K)}${$}`;return`${J.slice(0,K)}${$}`}function ae(J,$,K){B($,"offset"),(J[$]===void 0||J[$+K]===void 0)&&ie($,J.length-(K+1))}function H(J,$,K,G,ke,Ze){if(J>K||J<$){const Fe=typeof $=="bigint"?"n":"";let At;throw $===0||$===BigInt(0)?At=`>= 0${Fe} and < 2${Fe} ** ${(Ze+1)*8}${Fe}`:At=`>= -(2${Fe} ** ${(Ze+1)*8-1}${Fe}) and < 2 ** ${(Ze+1)*8-1}${Fe}`,new Ae.ERR_OUT_OF_RANGE("value",At,J)}ae(G,ke,Ze)}function B(J,$){if(typeof J!="number")throw new Ae.ERR_INVALID_ARG_TYPE($,"number",J)}function ie(J,$,K){throw Math.floor(J)!==J?(B(J,K),new Ae.ERR_OUT_OF_RANGE("offset","an integer",J)):$<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${$}`,J)}const fe=/[^+/0-9A-Za-z-_]/g;function Pe(J){if(J=J.split("=")[0],J=J.trim().replace(fe,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function Ie(J,$){$=$||1/0;let K;const G=J.length;let ke=null;const Ze=[];for(let Fe=0;Fe<G;++Fe){if(K=J.charCodeAt(Fe),K>55295&&K<57344){if(!ke){if(K>56319){($-=3)>-1&&Ze.push(239,191,189);continue}else if(Fe+1===G){($-=3)>-1&&Ze.push(239,191,189);continue}ke=K;continue}if(K<56320){($-=3)>-1&&Ze.push(239,191,189),ke=K;continue}K=(ke-55296<<10|K-56320)+65536}else ke&&($-=3)>-1&&Ze.push(239,191,189);if(ke=null,K<128){if(($-=1)<0)break;Ze.push(K)}else if(K<2048){if(($-=2)<0)break;Ze.push(K>>6|192,K&63|128)}else if(K<65536){if(($-=3)<0)break;Ze.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if(($-=4)<0)break;Ze.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return Ze}function tt(J){const $=[];for(let K=0;K<J.length;++K)$.push(J.charCodeAt(K)&255);return $}function De(J,$){let K,G,ke;const Ze=[];for(let Fe=0;Fe<J.length&&!(($-=2)<0);++Fe)K=J.charCodeAt(Fe),G=K>>8,ke=K%256,Ze.push(ke),Ze.push(G);return Ze}function ot(J){return t.toByteArray(Pe(J))}function gt(J,$,K,G){let ke;for(ke=0;ke<G&&!(ke+K>=$.length||ke>=J.length);++ke)$[ke+K]=J[ke];return ke}function _e(J,$){return J instanceof $||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===$.name}function Be(J){return J!==J}const at=function(){const J="0123456789abcdef",$=new Array(256);for(let K=0;K<16;++K){const G=K*16;for(let ke=0;ke<16;++ke)$[G+ke]=J[K]+J[ke]}return $}();function me(J){return typeof BigInt>"u"?Ee:J}function Ee(){throw new Error("BigInt not supported")}}(wx)),wx}var bx,gN;function Wr(){return gN||(gN=1,bx={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean,Uint8Array}),bx}var Sx={exports:{}},cg={exports:{}},mN;function Jm(){if(mN)return cg.exports;mN=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return cg.exports=e,cg.exports.AbortSignal=t,cg.exports.default=e,cg.exports}var yN;function _a(){return yN||(yN=1,function(e){const t=Bu(),{kResistStopPropagation:n,SymbolDispose:r}=Wr(),i=globalThis.AbortSignal||Jm().AbortSignal,a=globalThis.AbortController||Jm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||t.Blob,l=typeof s<"u"?function(y){return y instanceof s}:function(y){return!1},c=(g,y)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",g)},d=(g,y)=>{if(typeof g!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",g)};class h extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let v="";for(let _=0;_<y.length;_++)v+=`    ${y[_].stack}
`;super(v),this.name="AggregateError",this.errors=y}}e.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(g){let y=!1;return function(...v){y||(y=!0,g.apply(this,v))}},createDeferredPromise:function(){let g,y;return{promise:new Promise((_,S)=>{g=_,y=S}),resolve:g,reject:y}},promisify(g){return new Promise((y,v)=>{g((_,...S)=>_?v(_):y(...S))})},debuglog(){return function(){}},format(g,...y){return g.replace(/%([sdifj])/g,function(...[v,_]){const S=y.shift();return _==="f"?S.toFixed(6):_==="j"?JSON.stringify(S):_==="s"&&typeof S=="object"?`${S.constructor!==Object?S.constructor.name:""} {}`.trim():S.toString()})},inspect(g){switch(typeof g){case"string":if(g.includes("'"))if(g.includes('"')){if(!g.includes("`")&&!g.includes("${"))return`\`${g}\``}else return`"${g}"`;return`'${g}'`;case"number":return isNaN(g)?"NaN":Object.is(g,-0)?String(g):g;case"bigint":return`${String(g)}n`;case"boolean":case"undefined":return String(g);case"object":return"{}"}},types:{isAsyncFunction(g){return g instanceof o},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:l,deprecate(g,y){return g},addAbortListener:zh().addAbortListener||function(y,v){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);c(y,"signal"),d(v,"listener");let _;return y.aborted?queueMicrotask(()=>v()):(y.addEventListener("abort",v,{__proto__:null,once:!0,[n]:!0}),_=()=>{y.removeEventListener("abort",v)}),{__proto__:null,[r](){var S;(S=_)===null||S===void 0||S()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const v=new a,_=()=>v.abort();return y.forEach(S=>{c(S,"signals"),S.addEventListener("abort",_,{once:!0})}),v.signal.addEventListener("abort",()=>{y.forEach(S=>S.removeEventListener("abort",_))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Sx)),Sx.exports}var u_={},xx,vN;function ka(){if(vN)return xx;vN=1;const{format:e,inspect:t,AggregateError:n}=_a(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(S,w){if(!S)throw new l.ERR_INTERNAL_ASSERTION(w)}function d(S){let w="",x=S.length;const R=S[0]==="-"?1:0;for(;x>=R+4;x-=3)w=`_${S.slice(x-3,x)}${w}`;return`${S.slice(0,x)}${w}`}function h(S,w,x){if(typeof w=="function")return c(w.length<=x.length,`Code: ${S}; The provided arguments length (${x.length}) does not match the required ones (${w.length}).`),w(...x);const R=(w.match(/%[dfijoOs]/g)||[]).length;return c(R===x.length,`Code: ${S}; The provided arguments length (${x.length}) does not match the required ones (${R}).`),x.length===0?w:e(w,...x)}function g(S,w,x){x||(x=Error);class R extends x{constructor(...O){super(h(S,w,O))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(R.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),R.prototype.code=S,R.prototype[i]=!0,l[S]=R}function y(S){const w=s+S.name;return Object.defineProperty(S,"name",{value:w}),S}function v(S,w){if(S&&w&&S!==w){if(Array.isArray(w.errors))return w.errors.push(S),w;const x=new r([w,S],w.message);return x.code=w.code,x}return S||w}class _ extends Error{constructor(w="The operation was aborted",x=void 0){if(x!==void 0&&typeof x!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",x);super(w,x),this.code="ABORT_ERR",this.name="AbortError"}}return g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(S,w,x)=>{c(typeof S=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let R="The ";S.endsWith(" argument")?R+=`${S} `:R+=`"${S}" ${S.includes(".")?"property":"argument"} `,R+="must be ";const P=[],O=[],D=[];for(const Q of w)c(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?P.push(Q.toLowerCase()):o.test(Q)?O.push(Q):(c(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(O.length>0){const Q=P.indexOf("object");Q!==-1&&(P.splice(P,Q,1),O.push("Object"))}if(P.length>0){switch(P.length){case 1:R+=`of type ${P[0]}`;break;case 2:R+=`one of type ${P[0]} or ${P[1]}`;break;default:{const Q=P.pop();R+=`one of type ${P.join(", ")}, or ${Q}`}}(O.length>0||D.length>0)&&(R+=" or ")}if(O.length>0){switch(O.length){case 1:R+=`an instance of ${O[0]}`;break;case 2:R+=`an instance of ${O[0]} or ${O[1]}`;break;default:{const Q=O.pop();R+=`an instance of ${O.join(", ")}, or ${Q}`}}D.length>0&&(R+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(R+="an "),R+=`${D[0]}`;break;case 2:R+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();R+=`one of ${D.join(", ")}, or ${Q}`}}if(x==null)R+=`. Received ${x}`;else if(typeof x=="function"&&x.name)R+=`. Received function ${x.name}`;else if(typeof x=="object"){var F;if((F=x.constructor)!==null&&F!==void 0&&F.name)R+=`. Received an instance of ${x.constructor.name}`;else{const Q=t(x,{depth:-1});R+=`. Received ${Q}`}}else{let Q=t(x,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),R+=`. Received type ${typeof x} (${Q})`}return R},TypeError),g("ERR_INVALID_ARG_VALUE",(S,w,x="is invalid")=>{let R=t(w);return R.length>128&&(R=R.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${x}. Received ${R}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(S,w,x)=>{var R;const P=x!=null&&(R=x.constructor)!==null&&R!==void 0&&R.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${S} to be returned from the "${w}" function but got ${P}.`},TypeError),g("ERR_MISSING_ARGS",(...S)=>{c(S.length>0,"At least one arg needs to be specified");let w;const x=S.length;switch(S=(Array.isArray(S)?S:[S]).map(R=>`"${R}"`).join(" or "),x){case 1:w+=`The ${S[0]} argument`;break;case 2:w+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const R=S.pop();w+=`The ${S.join(", ")}, and ${R} arguments`}break}return`${w} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(S,w,x)=>{c(w,'Missing "range" argument');let R;return Number.isInteger(x)&&Math.abs(x)>2**32?R=d(String(x)):typeof x=="bigint"?(R=String(x),(x>2n**32n||x<-(2n**32n))&&(R=d(R)),R+="n"):R=t(x),`The value of "${S}" is out of range. It must be ${w}. Received ${R}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),xx={AbortError:_,aggregateTwoErrors:y(v),hideStackFrames:y,codes:l},xx}var Ex,_N;function Cy(){if(_N)return Ex;_N=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:d,String:h,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=Wr(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:R}}=ka(),{normalizeEncoding:P}=_a(),{isAsyncFunction:O,isArrayBufferView:D}=_a().types,F={};function Q(De){return De===(De|0)}function Y(De){return De===De>>>0}const q=/^[0-7]+$/,X="must be a 32-bit unsigned integer or an octal string";function le(De,ot,gt){if(typeof De>"u"&&(De=gt),typeof De=="string"){if(d(q,De)===null)throw new w(ot,De,X);De=l(De,8)}return he(De,ot),De}const te=v((De,ot,gt=s,_e=o)=>{if(typeof De!="number")throw new S(ot,"number",De);if(!i(De))throw new x(ot,"an integer",De);if(De<gt||De>_e)throw new x(ot,`>= ${gt} && <= ${_e}`,De)}),oe=v((De,ot,gt=-2147483648,_e=2147483647)=>{if(typeof De!="number")throw new S(ot,"number",De);if(!i(De))throw new x(ot,"an integer",De);if(De<gt||De>_e)throw new x(ot,`>= ${gt} && <= ${_e}`,De)}),he=v((De,ot,gt=!1)=>{if(typeof De!="number")throw new S(ot,"number",De);if(!i(De))throw new x(ot,"an integer",De);const _e=gt?1:0,Be=4294967295;if(De<_e||De>Be)throw new x(ot,`>= ${_e} && <= ${Be}`,De)});function ve(De,ot){if(typeof De!="string")throw new S(ot,"string",De)}function de(De,ot,gt=void 0,_e){if(typeof De!="number")throw new S(ot,"number",De);if(gt!=null&&De<gt||_e!=null&&De>_e||(gt!=null||_e!=null)&&a(De))throw new x(ot,`${gt!=null?`>= ${gt}`:""}${gt!=null&&_e!=null?" && ":""}${_e!=null?`<= ${_e}`:""}`,De)}const se=v((De,ot,gt)=>{if(!t(gt,De)){const Be="must be one of: "+n(r(gt,at=>typeof at=="string"?`'${at}'`:h(at)),", ");throw new w(ot,De,Be)}});function Re(De,ot){if(typeof De!="boolean")throw new S(ot,"boolean",De)}function k(De,ot,gt){return De==null||!c(De,ot)?gt:De[ot]}const re=v((De,ot,gt=null)=>{const _e=k(gt,"allowArray",!1),Be=k(gt,"allowFunction",!1);if(!k(gt,"nullable",!1)&&De===null||!_e&&e(De)||typeof De!="object"&&(!Be||typeof De!="function"))throw new S(ot,"Object",De)}),ge=v((De,ot)=>{if(De!=null&&typeof De!="object"&&typeof De!="function")throw new S(ot,"a dictionary",De)}),W=v((De,ot,gt=0)=>{if(!e(De))throw new S(ot,"Array",De);if(De.length<gt){const _e=`must be longer than ${gt}`;throw new w(ot,De,_e)}});function ee(De,ot){W(De,ot);for(let gt=0;gt<De.length;gt++)ve(De[gt],`${ot}[${gt}]`)}function pe(De,ot){W(De,ot);for(let gt=0;gt<De.length;gt++)Re(De[gt],`${ot}[${gt}]`)}function Te(De,ot){W(De,ot);for(let gt=0;gt<De.length;gt++){const _e=De[gt],Be=`${ot}[${gt}]`;if(_e==null)throw new S(Be,"AbortSignal",_e);ae(_e,Be)}}function Je(De,ot="signal"){if(ve(De,ot),F[De]===void 0)throw F[g(De)]!==void 0?new R(De+" (signals must use all capital letters)"):new R(De)}const Ae=v((De,ot="buffer")=>{if(!D(De))throw new S(ot,["Buffer","TypedArray","DataView"],De)});function $e(De,ot){const gt=P(ot),_e=De.length;if(gt==="hex"&&_e%2!==0)throw new w("encoding",ot,`is invalid for data of length ${_e}`)}function Xe(De,ot="Port",gt=!0){if(typeof De!="number"&&typeof De!="string"||typeof De=="string"&&y(De).length===0||+De!==+De>>>0||De>65535||De===0&&!gt)throw new _(ot,De,gt);return De|0}const ae=v((De,ot)=>{if(De!==void 0&&(De===null||typeof De!="object"||!("aborted"in De)))throw new S(ot,"AbortSignal",De)}),H=v((De,ot)=>{if(typeof De!="function")throw new S(ot,"Function",De)}),B=v((De,ot)=>{if(typeof De!="function"||O(De))throw new S(ot,"Function",De)}),ie=v((De,ot)=>{if(De!==void 0)throw new S(ot,"undefined",De)});function fe(De,ot,gt){if(!t(gt,De))throw new S(ot,`('${n(gt,"|")}')`,De)}const Pe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ie(De,ot){if(typeof De>"u"||!d(Pe,De))throw new w(ot,De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function tt(De){if(typeof De=="string")return Ie(De,"hints"),De;if(e(De)){const ot=De.length;let gt="";if(ot===0)return gt;for(let _e=0;_e<ot;_e++){const Be=De[_e];Ie(Be,"hints"),gt+=Be,_e!==ot-1&&(gt+=", ")}return gt}throw new w("hints",De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Ex={isInt32:Q,isUint32:Y,parseFileMode:le,validateArray:W,validateStringArray:ee,validateBooleanArray:pe,validateAbortSignalArray:Te,validateBoolean:Re,validateBuffer:Ae,validateDictionary:ge,validateEncoding:$e,validateFunction:H,validateInt32:oe,validateInteger:te,validateNumber:de,validateObject:re,validateOneOf:se,validatePlainFunction:B,validatePort:Xe,validateSignalName:Je,validateString:ve,validateUint32:he,validateUndefined:ie,validateUnion:fe,validateAbortSignal:ae,validateLinkHeaderValue:tt},Ex}var l_={exports:{}},Cx={exports:{}},wN;function Bf(){if(wN)return Cx.exports;wN=1;var e=Cx.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(_){if(t===setTimeout)return setTimeout(_,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function o(_){if(n===clearTimeout)return clearTimeout(_);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(_);try{return n(_)}catch{try{return n.call(null,_)}catch{return n.call(this,_)}}}var s=[],l=!1,c,d=-1;function h(){!l||!c||(l=!1,c.length?s=c.concat(s):d=-1,s.length&&g())}function g(){if(!l){var _=a(h);l=!0;for(var S=s.length;S;){for(c=s,s=[];++d<S;)c&&c[d].run();d=-1,S=s.length}c=null,l=!1,o(_)}}e.nextTick=function(_){var S=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)S[w-1]=arguments[w];s.push(new y(_,S)),s.length===1&&!l&&a(g)};function y(_,S){this.fun=_,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}return e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Cx.exports}var Tx,bN;function Uu(){if(bN)return Tx;bN=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=Wr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function d(k,re=!1){var ge;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!re||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((ge=k._readableState)===null||ge===void 0?void 0:ge.readable)!==!1)&&(!k._writableState||k._readableState))}function h(k){var re;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((re=k._writableState)===null||re===void 0?void 0:re.writable)!==!1))}function g(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function v(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function _(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function S(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function w(k){return v(k)||_(k)||S(k)}function x(k,re){return k==null?!1:re===!0?typeof k[e]=="function":re===!1?typeof k[t]=="function":typeof k[e]=="function"||typeof k[t]=="function"}function R(k){if(!y(k))return null;const re=k._writableState,ge=k._readableState,W=re||ge;return!!(k.destroyed||k[r]||W!=null&&W.destroyed)}function P(k){if(!h(k))return null;if(k.writableEnded===!0)return!0;const re=k._writableState;return re!=null&&re.errored?!1:typeof(re==null?void 0:re.ended)!="boolean"?null:re.ended}function O(k,re){if(!h(k))return null;if(k.writableFinished===!0)return!0;const ge=k._writableState;return ge!=null&&ge.errored?!1:typeof(ge==null?void 0:ge.finished)!="boolean"?null:!!(ge.finished||re===!1&&ge.ended===!0&&ge.length===0)}function D(k){if(!d(k))return null;if(k.readableEnded===!0)return!0;const re=k._readableState;return!re||re.errored?!1:typeof(re==null?void 0:re.ended)!="boolean"?null:re.ended}function F(k,re){if(!d(k))return null;const ge=k._readableState;return ge!=null&&ge.errored?!1:typeof(ge==null?void 0:ge.endEmitted)!="boolean"?null:!!(ge.endEmitted||re===!1&&ge.ended===!0&&ge.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:R(k)?!1:d(k)&&k.readable&&!F(k)}function Y(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.writable)!="boolean"?null:R(k)?!1:h(k)&&k.writable&&!P(k)}function q(k,re){return y(k)?R(k)?!0:!((re==null?void 0:re.readable)!==!1&&Q(k)||(re==null?void 0:re.writable)!==!1&&Y(k)):null}function X(k){var re,ge;return y(k)?k.writableErrored?k.writableErrored:(re=(ge=k._writableState)===null||ge===void 0?void 0:ge.errored)!==null&&re!==void 0?re:null:null}function le(k){var re,ge;return y(k)?k.readableErrored?k.readableErrored:(re=(ge=k._readableState)===null||ge===void 0?void 0:ge.errored)!==null&&re!==void 0?re:null:null}function te(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const re=k._writableState,ge=k._readableState;return typeof(re==null?void 0:re.closed)=="boolean"||typeof(ge==null?void 0:ge.closed)=="boolean"?(re==null?void 0:re.closed)||(ge==null?void 0:ge.closed):typeof k._closed=="boolean"&&oe(k)?k._closed:null}function oe(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function he(k){return typeof k._sent100=="boolean"&&oe(k)}function ve(k){var re;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((re=k.req)===null||re===void 0?void 0:re.upgradeOrConnect)===void 0}function de(k){if(!y(k))return null;const re=k._writableState,ge=k._readableState,W=re||ge;return!W&&he(k)||!!(W&&W.autoDestroy&&W.emitClose&&W.closed===!1)}function se(k){var re;return!!(k&&((re=k[s])!==null&&re!==void 0?re:k.readableDidRead||k.readableAborted))}function Re(k){var re,ge,W,ee,pe,Te,Je,Ae,$e,Xe;return!!(k&&((re=(ge=(W=(ee=(pe=(Te=k[i])!==null&&Te!==void 0?Te:k.readableErrored)!==null&&pe!==void 0?pe:k.writableErrored)!==null&&ee!==void 0?ee:(Je=k._readableState)===null||Je===void 0?void 0:Je.errorEmitted)!==null&&W!==void 0?W:(Ae=k._writableState)===null||Ae===void 0?void 0:Ae.errorEmitted)!==null&&ge!==void 0?ge:($e=k._readableState)===null||$e===void 0?void 0:$e.errored)!==null&&re!==void 0?re:!((Xe=k._writableState)===null||Xe===void 0)&&Xe.errored))}return Tx={isDestroyed:R,kIsDestroyed:r,isDisturbed:se,kIsDisturbed:s,isErrored:Re,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:o,isClosed:te,isDuplexNodeStream:g,isFinished:q,isIterable:x,isReadableNodeStream:d,isReadableStream:v,isReadableEnded:D,isReadableFinished:F,isReadableErrored:le,isNodeStream:y,isWebStream:w,isWritable:Y,isWritableNodeStream:h,isWritableStream:_,isWritableEnded:P,isWritableFinished:O,isWritableErrored:X,isServerRequest:ve,isServerResponse:he,willEmitClose:de,isTransformStream:S},Tx}var SN;function sc(){if(SN)return l_.exports;SN=1;const e=Bf(),{AbortError:t,codes:n}=ka(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=_a(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:d}=Cy(),{Promise:h,PromisePrototypeThen:g,SymbolDispose:y}=Wr(),{isClosed:v,isReadable:_,isReadableNodeStream:S,isReadableStream:w,isReadableFinished:x,isReadableErrored:R,isWritable:P,isWritableNodeStream:O,isWritableStream:D,isWritableFinished:F,isWritableErrored:Q,isNodeStream:Y,willEmitClose:q,kIsClosedPromise:X}=Uu();let le;function te(se){return se.setHeader&&typeof se.abort=="function"}const oe=()=>{};function he(se,Re,k){var re,ge;if(arguments.length===2?(k=Re,Re=a):Re==null?Re=a:c(Re,"options"),l(k,"callback"),s(Re.signal,"options.signal"),k=o(k),w(se)||D(se))return ve(se,Re,k);if(!Y(se))throw new r("stream",["ReadableStream","WritableStream","Stream"],se);const W=(re=Re.readable)!==null&&re!==void 0?re:S(se),ee=(ge=Re.writable)!==null&&ge!==void 0?ge:O(se),pe=se._writableState,Te=se._readableState,Je=()=>{se.writable||Xe()};let Ae=q(se)&&S(se)===W&&O(se)===ee,$e=F(se,!1);const Xe=()=>{$e=!0,se.destroyed&&(Ae=!1),!(Ae&&(!se.readable||W))&&(!W||ae)&&k.call(se)};let ae=x(se,!1);const H=()=>{ae=!0,se.destroyed&&(Ae=!1),!(Ae&&(!se.writable||ee))&&(!ee||$e)&&k.call(se)},B=De=>{k.call(se,De)};let ie=v(se);const fe=()=>{ie=!0;const De=Q(se)||R(se);if(De&&typeof De!="boolean")return k.call(se,De);if(W&&!ae&&S(se,!0)&&!x(se,!1))return k.call(se,new i);if(ee&&!$e&&!F(se,!1))return k.call(se,new i);k.call(se)},Pe=()=>{ie=!0;const De=Q(se)||R(se);if(De&&typeof De!="boolean")return k.call(se,De);k.call(se)},Ie=()=>{se.req.on("finish",Xe)};te(se)?(se.on("complete",Xe),Ae||se.on("abort",fe),se.req?Ie():se.on("request",Ie)):ee&&!pe&&(se.on("end",Je),se.on("close",Je)),!Ae&&typeof se.aborted=="boolean"&&se.on("aborted",fe),se.on("end",H),se.on("finish",Xe),Re.error!==!1&&se.on("error",B),se.on("close",fe),ie?e.nextTick(fe):pe!=null&&pe.errorEmitted||Te!=null&&Te.errorEmitted?Ae||e.nextTick(Pe):(!W&&(!Ae||_(se))&&($e||P(se)===!1)||!ee&&(!Ae||P(se))&&(ae||_(se)===!1)||Te&&se.req&&se.aborted)&&e.nextTick(Pe);const tt=()=>{k=oe,se.removeListener("aborted",fe),se.removeListener("complete",Xe),se.removeListener("abort",fe),se.removeListener("request",Ie),se.req&&se.req.removeListener("finish",Xe),se.removeListener("end",Je),se.removeListener("close",Je),se.removeListener("finish",Xe),se.removeListener("end",H),se.removeListener("error",B),se.removeListener("close",fe)};if(Re.signal&&!ie){const De=()=>{const ot=k;tt(),ot.call(se,new t(void 0,{cause:Re.signal.reason}))};if(Re.signal.aborted)e.nextTick(De);else{le=le||_a().addAbortListener;const ot=le(Re.signal,De),gt=k;k=o((..._e)=>{ot[y](),gt.apply(se,_e)})}}return tt}function ve(se,Re,k){let re=!1,ge=oe;if(Re.signal)if(ge=()=>{re=!0,k.call(se,new t(void 0,{cause:Re.signal.reason}))},Re.signal.aborted)e.nextTick(ge);else{le=le||_a().addAbortListener;const ee=le(Re.signal,ge),pe=k;k=o((...Te)=>{ee[y](),pe.apply(se,Te)})}const W=(...ee)=>{re||e.nextTick(()=>k.apply(se,ee))};return g(se[X].promise,W,W),oe}function de(se,Re){var k;let re=!1;return Re===null&&(Re=a),(k=Re)!==null&&k!==void 0&&k.cleanup&&(d(Re.cleanup,"cleanup"),re=Re.cleanup),new h((ge,W)=>{const ee=he(se,Re,pe=>{re&&ee(),pe?W(pe):ge()})})}return l_.exports=he,l_.exports.finished=de,l_.exports}var Rx,xN;function Vh(){if(xN)return Rx;xN=1;const e=Bf(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=ka(),{Symbol:i}=Wr(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=Uu(),c=i("kDestroy"),d=i("kConstruct");function h(q,X,le){q&&(q.stack,X&&!X.errored&&(X.errored=q),le&&!le.errored&&(le.errored=q))}function g(q,X){const le=this._readableState,te=this._writableState,oe=te||le;return te!=null&&te.destroyed||le!=null&&le.destroyed?(typeof X=="function"&&X(),this):(h(q,te,le),te&&(te.destroyed=!0),le&&(le.destroyed=!0),oe.constructed?y(this,q,X):this.once(c,function(he){y(this,t(he,q),X)}),this)}function y(q,X,le){let te=!1;function oe(he){if(te)return;te=!0;const ve=q._readableState,de=q._writableState;h(he,de,ve),de&&(de.closed=!0),ve&&(ve.closed=!0),typeof le=="function"&&le(he),he?e.nextTick(v,q,he):e.nextTick(_,q)}try{q._destroy(X||null,oe)}catch(he){oe(he)}}function v(q,X){S(q,X),_(q)}function _(q){const X=q._readableState,le=q._writableState;le&&(le.closeEmitted=!0),X&&(X.closeEmitted=!0),(le!=null&&le.emitClose||X!=null&&X.emitClose)&&q.emit("close")}function S(q,X){const le=q._readableState,te=q._writableState;te!=null&&te.errorEmitted||le!=null&&le.errorEmitted||(te&&(te.errorEmitted=!0),le&&(le.errorEmitted=!0),q.emit("error",X))}function w(){const q=this._readableState,X=this._writableState;q&&(q.constructed=!0,q.closed=!1,q.closeEmitted=!1,q.destroyed=!1,q.errored=null,q.errorEmitted=!1,q.reading=!1,q.ended=q.readable===!1,q.endEmitted=q.readable===!1),X&&(X.constructed=!0,X.destroyed=!1,X.closed=!1,X.closeEmitted=!1,X.errored=null,X.errorEmitted=!1,X.finalCalled=!1,X.prefinished=!1,X.ended=X.writable===!1,X.ending=X.writable===!1,X.finished=X.writable===!1)}function x(q,X,le){const te=q._readableState,oe=q._writableState;if(oe!=null&&oe.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||oe!=null&&oe.autoDestroy?q.destroy(X):X&&(X.stack,oe&&!oe.errored&&(oe.errored=X),te&&!te.errored&&(te.errored=X),le?e.nextTick(S,q,X):S(q,X))}function R(q,X){if(typeof q._construct!="function")return;const le=q._readableState,te=q._writableState;le&&(le.constructed=!1),te&&(te.constructed=!1),q.once(d,X),!(q.listenerCount(d)>1)&&e.nextTick(P,q)}function P(q){let X=!1;function le(te){if(X){x(q,te??new n);return}X=!0;const oe=q._readableState,he=q._writableState,ve=he||oe;oe&&(oe.constructed=!0),he&&(he.constructed=!0),ve.destroyed?q.emit(c,te):te?x(q,te,!0):e.nextTick(O,q)}try{q._construct(te=>{e.nextTick(le,te)})}catch(te){e.nextTick(le,te)}}function O(q){q.emit(d)}function D(q){return(q==null?void 0:q.setHeader)&&typeof q.abort=="function"}function F(q){q.emit("close")}function Q(q,X){q.emit("error",X),e.nextTick(F,q)}function Y(q,X){!q||o(q)||(!X&&!s(q)&&(X=new r),l(q)?(q.socket=null,q.destroy(X)):D(q)?q.abort():D(q.req)?q.req.abort():typeof q.destroy=="function"?q.destroy(X):typeof q.close=="function"?q.close():X?e.nextTick(Q,q,X):e.nextTick(F,q),q.destroyed||(q[a]=!0))}return Rx={construct:R,destroyer:Y,destroy:g,undestroy:w,errorOrDestroy:x},Rx}var Ax,EN;function sO(){if(EN)return Ax;EN=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Wr(),{EventEmitter:n}=zh();function r(a){n.call(this,a)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(a,o){const s=this;function l(_){a.writable&&a.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}a.on("drain",c),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",h),s.on("close",g));let d=!1;function h(){d||(d=!0,a.end())}function g(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function y(_){v(),n.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",y),i(a,"error",y);function v(){s.removeListener("data",l),a.removeListener("drain",c),s.removeListener("end",h),s.removeListener("close",g),s.removeListener("error",y),a.removeListener("error",y),s.removeListener("end",v),s.removeListener("close",v),a.removeListener("close",v)}return s.on("end",v),s.on("close",v),a.on("close",v),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return Ax={Stream:r,prependListener:i},Ax}var Px={exports:{}},CN;function rb(){return CN||(CN=1,function(e){const{SymbolDispose:t}=Wr(),{AbortError:n,codes:r}=ka(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=Uu(),s=sc(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const d=(h,g)=>{if(typeof h!="object"||!("aborted"in h))throw new l(g,"AbortSignal",h)};e.exports.addAbortSignal=function(g,y){if(d(g,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return e.exports.addAbortSignalNoValidate(g,y)},e.exports.addAbortSignalNoValidate=function(h,g){if(typeof h!="object"||!("aborted"in h))return g;const y=i(g)?()=>{g.destroy(new n(void 0,{cause:h.reason}))}:()=>{g[o](new n(void 0,{cause:h.reason}))};if(h.aborted)y();else{c=c||_a().addAbortListener;const v=c(h,y);s(g,v[t])}return g}}(Px)),Px.exports}var Ox,TN;function fre(){if(TN)return Ox;TN=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=Wr(),{Buffer:i}=Bu(),{inspect:a}=_a();return Ox=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,d=0;for(;c;)n(l,c.data,d),d+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const d=c.slice(0,s);return this.head.data=c.slice(s),d}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,d=0;do{const h=c.data;if(s>h.length)l+=h,s-=h.length;else{s===h.length?(l+=h,++d,c.next?this.head=c.next:this.head=this.tail=null):(l+=e(h,0,s),this.head=c,c.data=e(h,s));break}++d}while((c=c.next)!==null);return this.length-=d,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let d=this.head,h=0;do{const g=d.data;if(s>g.length)n(l,g,c-s),s-=g.length;else{s===g.length?(n(l,g,c-s),++h,d.next?this.head=d.next:this.head=this.tail=null):(n(l,new r(g.buffer,g.byteOffset,s),c-s),this.head=d,d.data=g.slice(s));break}++h}while((d=d.next)!==null);return this.length-=h,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},Ox}var Lx,RN;function ib(){if(RN)return Lx;RN=1;const{MathFloor:e,NumberIsInteger:t}=Wr(),{validateInteger:n}=Cy(),{ERR_INVALID_ARG_VALUE:r}=ka().codes;let i=16*1024,a=16;function o(d,h,g){return d.highWaterMark!=null?d.highWaterMark:h?d[g]:null}function s(d){return d?a:i}function l(d,h){n(h,"value",0),d?a=h:i=h}function c(d,h,g,y){const v=o(h,y,g);if(v!=null){if(!t(v)||v<0){const _=y?`options.${g}`:"options.highWaterMark";throw new r(_,v)}return e(v)}return s(d.objectMode)}return Lx={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},Lx}var Ix={},c_={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var AN;function dre(){return AN||(AN=1,function(e,t){var n=Bu(),r=n.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(c_,c_.exports)),c_.exports}var PN;function hre(){if(PN)return Ix;PN=1;var e=dre().Buffer,t=e.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(w){if(!w)return"utf8";for(var x;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(x)return;w=(""+w).toLowerCase(),x=!0}}function r(w){var x=n(w);if(typeof x!="string"&&(e.isEncoding===t||!t(w)))throw new Error("Unknown encoding: "+w);return x||w}Ix.StringDecoder=i;function i(w){this.encoding=r(w);var x;switch(this.encoding){case"utf16le":this.text=h,this.end=g,x=4;break;case"utf8":this.fillLast=l,x=4;break;case"base64":this.text=y,this.end=v,x=3;break;default:this.write=_,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(x)}i.prototype.write=function(w){if(w.length===0)return"";var x,R;if(this.lastNeed){if(x=this.fillLast(w),x===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<w.length?x?x+this.text(w,R):this.text(w,R):x||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function a(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function o(w,x,R){var P=x.length-1;if(P<R)return 0;var O=a(x[P]);return O>=0?(O>0&&(w.lastNeed=O-1),O):--P<R||O===-2?0:(O=a(x[P]),O>=0?(O>0&&(w.lastNeed=O-2),O):--P<R||O===-2?0:(O=a(x[P]),O>=0?(O>0&&(O===2?O=0:w.lastNeed=O-3),O):0))}function s(w,x,R){if((x[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return w.lastNeed=2,"�"}}function l(w){var x=this.lastTotal-this.lastNeed,R=s(this,w);if(R!==void 0)return R;if(this.lastNeed<=w.length)return w.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,x,0,w.length),this.lastNeed-=w.length}function c(w,x){var R=o(this,w,x);if(!this.lastNeed)return w.toString("utf8",x);this.lastTotal=R;var P=w.length-(R-this.lastNeed);return w.copy(this.lastChar,0,P),w.toString("utf8",x,P)}function d(w){var x=w&&w.length?this.write(w):"";return this.lastNeed?x+"�":x}function h(w,x){if((w.length-x)%2===0){var R=w.toString("utf16le",x);if(R){var P=R.charCodeAt(R.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",x,w.length-1)}function g(w){var x=w&&w.length?this.write(w):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,R)}return x}function y(w,x){var R=(w.length-x)%3;return R===0?w.toString("base64",x):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",x,w.length-R))}function v(w){var x=w&&w.length?this.write(w):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function _(w){return w.toString(this.encoding)}function S(w){return w&&w.length?this.write(w):""}return Ix}var Mx,ON;function D9(){if(ON)return Mx;ON=1;const e=Bf(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=Wr(),{Buffer:i}=Bu(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=ka().codes;function s(l,c,d){let h;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...d,read(){this.push(c),this.push(null)}});let g;if(c&&c[n])g=!0,h=c[n]();else if(c&&c[r])g=!1,h=c[r]();else throw new a("iterable",["Iterable"],c);const y=new l({objectMode:!0,highWaterMark:1,...d});let v=!1;y._read=function(){v||(v=!0,S())},y._destroy=function(w,x){t(_(w),()=>e.nextTick(x,w),R=>e.nextTick(x,R||w))};async function _(w){const x=w!=null,R=typeof h.throw=="function";if(x&&R){const{value:P,done:O}=await h.throw(w);if(await P,O)return}if(typeof h.return=="function"){const{value:P}=await h.return();await P}}async function S(){for(;;){try{const{value:w,done:x}=g?await h.next():h.next();if(x)y.push(null);else{const R=w&&typeof w.then=="function"?await w:w;if(R===null)throw v=!1,new o;if(y.push(R))continue;v=!1}}catch(w){y.destroy(w)}break}}return y}return Mx=s,Mx}var Dx,LN;function ab(){if(LN)return Dx;LN=1;const e=Bf(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:h,Symbol:g}=Wr();Dx=_e,_e.ReadableState=gt;const{EventEmitter:y}=zh(),{Stream:v,prependListener:_}=sO(),{Buffer:S}=Bu(),{addAbortSignal:w}=rb(),x=sc();let R=_a().debuglog("stream",Le=>{R=Le});const P=fre(),O=Vh(),{getHighWaterMark:D,getDefaultHighWaterMark:F}=ib(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_OUT_OF_RANGE:X,ERR_STREAM_PUSH_AFTER_EOF:le,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te},AbortError:oe}=ka(),{validateObject:he}=Cy(),ve=g("kPaused"),{StringDecoder:de}=hre(),se=D9();s(_e.prototype,v.prototype),s(_e,v);const Re=()=>{},{errorOrDestroy:k}=O,re=1,ge=2,W=4,ee=8,pe=16,Te=32,Je=64,Ae=128,$e=256,Xe=512,ae=1024,H=2048,B=4096,ie=8192,fe=16384,Pe=32768,Ie=65536,tt=1<<17,De=1<<18;function ot(Le){return{enumerable:!1,get(){return(this.state&Le)!==0},set(ze){ze?this.state|=Le:this.state&=~Le}}}a(gt.prototype,{objectMode:ot(re),ended:ot(ge),endEmitted:ot(W),reading:ot(ee),constructed:ot(pe),sync:ot(Te),needReadable:ot(Je),emittedReadable:ot(Ae),readableListening:ot($e),resumeScheduled:ot(Xe),errorEmitted:ot(ae),emitClose:ot(H),autoDestroy:ot(B),destroyed:ot(ie),closed:ot(fe),closeEmitted:ot(Pe),multiAwaitDrain:ot(Ie),readingMore:ot(tt),dataEmitted:ot(De)});function gt(Le,ze,St){typeof St!="boolean"&&(St=ze instanceof Du()),this.state=H|B|pe|Te,Le&&Le.objectMode&&(this.state|=re),St&&Le&&Le.readableObjectMode&&(this.state|=re),this.highWaterMark=Le?D(this,Le,"readableHighWaterMark",St):F(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[ve]=null,Le&&Le.emitClose===!1&&(this.state&=~H),Le&&Le.autoDestroy===!1&&(this.state&=~B),this.errored=null,this.defaultEncoding=Le&&Le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Le&&Le.encoding&&(this.decoder=new de(Le.encoding),this.encoding=Le.encoding)}function _e(Le){if(!(this instanceof _e))return new _e(Le);const ze=this instanceof Du();this._readableState=new gt(Le,this,ze),Le&&(typeof Le.read=="function"&&(this._read=Le.read),typeof Le.destroy=="function"&&(this._destroy=Le.destroy),typeof Le.construct=="function"&&(this._construct=Le.construct),Le.signal&&!ze&&w(Le.signal,this)),v.call(this,Le),O.construct(this,()=>{this._readableState.needReadable&&ke(this,this._readableState)})}_e.prototype.destroy=O.destroy,_e.prototype._undestroy=O.undestroy,_e.prototype._destroy=function(Le,ze){ze(Le)},_e.prototype[y.captureRejectionSymbol]=function(Le){this.destroy(Le)},_e.prototype[d]=function(){let Le;return this.destroyed||(Le=this.readableEnded?null:new oe,this.destroy(Le)),new l((ze,St)=>x(this,Ct=>Ct&&Ct!==Le?St(Ct):ze(null)))},_e.prototype.push=function(Le,ze){return Be(this,Le,ze,!1)},_e.prototype.unshift=function(Le,ze){return Be(this,Le,ze,!0)};function Be(Le,ze,St,Ct){R("readableAddChunk",ze);const Dt=Le._readableState;let Vn;if(Dt.state&re||(typeof ze=="string"?(St=St||Dt.defaultEncoding,Dt.encoding!==St&&(Ct&&Dt.encoding?ze=S.from(ze,St).toString(Dt.encoding):(ze=S.from(ze,St),St=""))):ze instanceof S?St="":v._isUint8Array(ze)?(ze=v._uint8ArrayToBuffer(ze),St=""):ze!=null&&(Vn=new Y("chunk",["string","Buffer","Uint8Array"],ze))),Vn)k(Le,Vn);else if(ze===null)Dt.state&=~ee,$(Le,Dt);else if(Dt.state&re||ze&&ze.length>0)if(Ct)if(Dt.state&W)k(Le,new te);else{if(Dt.destroyed||Dt.errored)return!1;at(Le,Dt,ze,!0)}else if(Dt.ended)k(Le,new le);else{if(Dt.destroyed||Dt.errored)return!1;Dt.state&=~ee,Dt.decoder&&!St?(ze=Dt.decoder.write(ze),Dt.objectMode||ze.length!==0?at(Le,Dt,ze,!1):ke(Le,Dt)):at(Le,Dt,ze,!1)}else Ct||(Dt.state&=~ee,ke(Le,Dt));return!Dt.ended&&(Dt.length<Dt.highWaterMark||Dt.length===0)}function at(Le,ze,St,Ct){ze.flowing&&ze.length===0&&!ze.sync&&Le.listenerCount("data")>0?(ze.state&Ie?ze.awaitDrainWriters.clear():ze.awaitDrainWriters=null,ze.dataEmitted=!0,Le.emit("data",St)):(ze.length+=ze.objectMode?1:St.length,Ct?ze.buffer.unshift(St):ze.buffer.push(St),ze.state&Je&&K(Le)),ke(Le,ze)}_e.prototype.isPaused=function(){const Le=this._readableState;return Le[ve]===!0||Le.flowing===!1},_e.prototype.setEncoding=function(Le){const ze=new de(Le);this._readableState.decoder=ze,this._readableState.encoding=this._readableState.decoder.encoding;const St=this._readableState.buffer;let Ct="";for(const Dt of St)Ct+=ze.write(Dt);return St.clear(),Ct!==""&&St.push(Ct),this._readableState.length=Ct.length,this};const me=1073741824;function Ee(Le){if(Le>me)throw new X("size","<= 1GiB",Le);return Le--,Le|=Le>>>1,Le|=Le>>>2,Le|=Le>>>4,Le|=Le>>>8,Le|=Le>>>16,Le++,Le}function J(Le,ze){return Le<=0||ze.length===0&&ze.ended?0:ze.state&re?1:r(Le)?ze.flowing&&ze.length?ze.buffer.first().length:ze.length:Le<=ze.length?Le:ze.ended?ze.length:0}_e.prototype.read=function(Le){R("read",Le),Le===void 0?Le=NaN:n(Le)||(Le=i(Le,10));const ze=this._readableState,St=Le;if(Le>ze.highWaterMark&&(ze.highWaterMark=Ee(Le)),Le!==0&&(ze.state&=~Ae),Le===0&&ze.needReadable&&((ze.highWaterMark!==0?ze.length>=ze.highWaterMark:ze.length>0)||ze.ended))return R("read: emitReadable",ze.length,ze.ended),ze.length===0&&ze.ended?yr(this):K(this),null;if(Le=J(Le,ze),Le===0&&ze.ended)return ze.length===0&&yr(this),null;let Ct=(ze.state&Je)!==0;if(R("need readable",Ct),(ze.length===0||ze.length-Le<ze.highWaterMark)&&(Ct=!0,R("length less than watermark",Ct)),ze.ended||ze.reading||ze.destroyed||ze.errored||!ze.constructed)Ct=!1,R("reading, ended or constructing",Ct);else if(Ct){R("do read"),ze.state|=ee|Te,ze.length===0&&(ze.state|=Je);try{this._read(ze.highWaterMark)}catch(Vn){k(this,Vn)}ze.state&=~Te,ze.reading||(Le=J(St,ze))}let Dt;return Le>0?Dt=pn(Le,ze):Dt=null,Dt===null?(ze.needReadable=ze.length<=ze.highWaterMark,Le=0):(ze.length-=Le,ze.multiAwaitDrain?ze.awaitDrainWriters.clear():ze.awaitDrainWriters=null),ze.length===0&&(ze.ended||(ze.needReadable=!0),St!==Le&&ze.ended&&yr(this)),Dt!==null&&!ze.errorEmitted&&!ze.closeEmitted&&(ze.dataEmitted=!0,this.emit("data",Dt)),Dt};function $(Le,ze){if(R("onEofChunk"),!ze.ended){if(ze.decoder){const St=ze.decoder.end();St&&St.length&&(ze.buffer.push(St),ze.length+=ze.objectMode?1:St.length)}ze.ended=!0,ze.sync?K(Le):(ze.needReadable=!1,ze.emittedReadable=!0,G(Le))}}function K(Le){const ze=Le._readableState;R("emitReadable",ze.needReadable,ze.emittedReadable),ze.needReadable=!1,ze.emittedReadable||(R("emitReadable",ze.flowing),ze.emittedReadable=!0,e.nextTick(G,Le))}function G(Le){const ze=Le._readableState;R("emitReadable_",ze.destroyed,ze.length,ze.ended),!ze.destroyed&&!ze.errored&&(ze.length||ze.ended)&&(Le.emit("readable"),ze.emittedReadable=!1),ze.needReadable=!ze.flowing&&!ze.ended&&ze.length<=ze.highWaterMark,zt(Le)}function ke(Le,ze){!ze.readingMore&&ze.constructed&&(ze.readingMore=!0,e.nextTick(Ze,Le,ze))}function Ze(Le,ze){for(;!ze.reading&&!ze.ended&&(ze.length<ze.highWaterMark||ze.flowing&&ze.length===0);){const St=ze.length;if(R("maybeReadMore read 0"),Le.read(0),St===ze.length)break}ze.readingMore=!1}_e.prototype._read=function(Le){throw new q("_read()")},_e.prototype.pipe=function(Le,ze){const St=this,Ct=this._readableState;Ct.pipes.length===1&&(Ct.multiAwaitDrain||(Ct.multiAwaitDrain=!0,Ct.awaitDrainWriters=new c(Ct.awaitDrainWriters?[Ct.awaitDrainWriters]:[]))),Ct.pipes.push(Le),R("pipe count=%d opts=%j",Ct.pipes.length,ze);const Vn=(!ze||ze.end!==!1)&&Le!==e.stdout&&Le!==e.stderr?We:Ht;Ct.endEmitted?e.nextTick(Vn):St.once("end",Vn),Le.on("unpipe",Xn);function Xn($t,tn){R("onunpipe"),$t===St&&tn&&tn.hasUnpiped===!1&&(tn.hasUnpiped=!0,dt())}function We(){R("onend"),Le.end()}let xe,et=!1;function dt(){R("cleanup"),Le.removeListener("close",Gt),Le.removeListener("finish",Yt),xe&&Le.removeListener("drain",xe),Le.removeListener("error",kt),Le.removeListener("unpipe",Xn),St.removeListener("end",We),St.removeListener("end",Ht),St.removeListener("data",Tt),et=!0,xe&&Ct.awaitDrainWriters&&(!Le._writableState||Le._writableState.needDrain)&&xe()}function rt(){et||(Ct.pipes.length===1&&Ct.pipes[0]===Le?(R("false write response, pause",0),Ct.awaitDrainWriters=Le,Ct.multiAwaitDrain=!1):Ct.pipes.length>1&&Ct.pipes.includes(Le)&&(R("false write response, pause",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.add(Le)),St.pause()),xe||(xe=Fe(St,Le),Le.on("drain",xe))}St.on("data",Tt);function Tt($t){R("ondata");const tn=Le.write($t);R("dest.write",tn),tn===!1&&rt()}function kt($t){if(R("onerror",$t),Ht(),Le.removeListener("error",kt),Le.listenerCount("error")===0){const tn=Le._writableState||Le._readableState;tn&&!tn.errorEmitted?k(Le,$t):Le.emit("error",$t)}}_(Le,"error",kt);function Gt(){Le.removeListener("finish",Yt),Ht()}Le.once("close",Gt);function Yt(){R("onfinish"),Le.removeListener("close",Gt),Ht()}Le.once("finish",Yt);function Ht(){R("unpipe"),St.unpipe(Le)}return Le.emit("pipe",St),Le.writableNeedDrain===!0?rt():Ct.flowing||(R("pipe resume"),St.resume()),Le};function Fe(Le,ze){return function(){const Ct=Le._readableState;Ct.awaitDrainWriters===ze?(R("pipeOnDrain",1),Ct.awaitDrainWriters=null):Ct.multiAwaitDrain&&(R("pipeOnDrain",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.delete(ze)),(!Ct.awaitDrainWriters||Ct.awaitDrainWriters.size===0)&&Le.listenerCount("data")&&Le.resume()}}_e.prototype.unpipe=function(Le){const ze=this._readableState,St={hasUnpiped:!1};if(ze.pipes.length===0)return this;if(!Le){const Dt=ze.pipes;ze.pipes=[],this.pause();for(let Vn=0;Vn<Dt.length;Vn++)Dt[Vn].emit("unpipe",this,{hasUnpiped:!1});return this}const Ct=t(ze.pipes,Le);return Ct===-1?this:(ze.pipes.splice(Ct,1),ze.pipes.length===0&&this.pause(),Le.emit("unpipe",this,St),this)},_e.prototype.on=function(Le,ze){const St=v.prototype.on.call(this,Le,ze),Ct=this._readableState;return Le==="data"?(Ct.readableListening=this.listenerCount("readable")>0,Ct.flowing!==!1&&this.resume()):Le==="readable"&&!Ct.endEmitted&&!Ct.readableListening&&(Ct.readableListening=Ct.needReadable=!0,Ct.flowing=!1,Ct.emittedReadable=!1,R("on readable",Ct.length,Ct.reading),Ct.length?K(this):Ct.reading||e.nextTick(Mt,this)),St},_e.prototype.addListener=_e.prototype.on,_e.prototype.removeListener=function(Le,ze){const St=v.prototype.removeListener.call(this,Le,ze);return Le==="readable"&&e.nextTick(At,this),St},_e.prototype.off=_e.prototype.removeListener,_e.prototype.removeAllListeners=function(Le){const ze=v.prototype.removeAllListeners.apply(this,arguments);return(Le==="readable"||Le===void 0)&&e.nextTick(At,this),ze};function At(Le){const ze=Le._readableState;ze.readableListening=Le.listenerCount("readable")>0,ze.resumeScheduled&&ze[ve]===!1?ze.flowing=!0:Le.listenerCount("data")>0?Le.resume():ze.readableListening||(ze.flowing=null)}function Mt(Le){R("readable nexttick read 0"),Le.read(0)}_e.prototype.resume=function(){const Le=this._readableState;return Le.flowing||(R("resume"),Le.flowing=!Le.readableListening,Nt(this,Le)),Le[ve]=!1,this};function Nt(Le,ze){ze.resumeScheduled||(ze.resumeScheduled=!0,e.nextTick(Lt,Le,ze))}function Lt(Le,ze){R("resume",ze.reading),ze.reading||Le.read(0),ze.resumeScheduled=!1,Le.emit("resume"),zt(Le),ze.flowing&&!ze.reading&&Le.read(0)}_e.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ve]=!0,this};function zt(Le){const ze=Le._readableState;for(R("flow",ze.flowing);ze.flowing&&Le.read()!==null;);}_e.prototype.wrap=function(Le){let ze=!1;Le.on("data",Ct=>{!this.push(Ct)&&Le.pause&&(ze=!0,Le.pause())}),Le.on("end",()=>{this.push(null)}),Le.on("error",Ct=>{k(this,Ct)}),Le.on("close",()=>{this.destroy()}),Le.on("destroy",()=>{this.destroy()}),this._read=()=>{ze&&Le.resume&&(ze=!1,Le.resume())};const St=o(Le);for(let Ct=1;Ct<St.length;Ct++){const Dt=St[Ct];this[Dt]===void 0&&typeof Le[Dt]=="function"&&(this[Dt]=Le[Dt].bind(Le))}return this},_e.prototype[h]=function(){return Pr(this)},_e.prototype.iterator=function(Le){return Le!==void 0&&he(Le,"options"),Pr(this,Le)};function Pr(Le,ze){typeof Le.read!="function"&&(Le=_e.wrap(Le,{objectMode:!0}));const St=hn(Le,ze);return St.stream=Le,St}async function*hn(Le,ze){let St=Re;function Ct(Xn){this===Le?(St(),St=Re):St=Xn}Le.on("readable",Ct);let Dt;const Vn=x(Le,{writable:!1},Xn=>{Dt=Xn?Q(Dt,Xn):null,St(),St=Re});try{for(;;){const Xn=Le.destroyed?null:Le.read();if(Xn!==null)yield Xn;else{if(Dt)throw Dt;if(Dt===null)return;await new l(Ct)}}}catch(Xn){throw Dt=Q(Dt,Xn),Dt}finally{(Dt||(ze==null?void 0:ze.destroyOnReturn)!==!1)&&(Dt===void 0||Le._readableState.autoDestroy)?O.destroyer(Le,null):(Le.off("readable",Ct),Vn())}}a(_e.prototype,{readable:{__proto__:null,get(){const Le=this._readableState;return!!Le&&Le.readable!==!1&&!Le.destroyed&&!Le.errorEmitted&&!Le.endEmitted},set(Le){this._readableState&&(this._readableState.readable=!!Le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Le){this._readableState&&(this._readableState.flowing=Le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Le){this._readableState&&(this._readableState.destroyed=Le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(gt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ve]!==!1},set(Le){this[ve]=!!Le}}}),_e._fromList=pn;function pn(Le,ze){if(ze.length===0)return null;let St;return ze.objectMode?St=ze.buffer.shift():!Le||Le>=ze.length?(ze.decoder?St=ze.buffer.join(""):ze.buffer.length===1?St=ze.buffer.first():St=ze.buffer.concat(ze.length),ze.buffer.clear()):St=ze.buffer.consume(Le,ze.decoder),St}function yr(Le){const ze=Le._readableState;R("endReadable",ze.endEmitted),ze.endEmitted||(ze.ended=!0,e.nextTick(ln,ze,Le))}function ln(Le,ze){if(R("endReadableNT",Le.endEmitted,Le.length),!Le.errored&&!Le.closeEmitted&&!Le.endEmitted&&Le.length===0){if(Le.endEmitted=!0,ze.emit("end"),ze.writable&&ze.allowHalfOpen===!1)e.nextTick(cn,ze);else if(Le.autoDestroy){const St=ze._writableState;(!St||St.autoDestroy&&(St.finished||St.writable===!1))&&ze.destroy()}}}function cn(Le){Le.writable&&!Le.writableEnded&&!Le.destroyed&&Le.end()}_e.from=function(Le,ze){return se(_e,Le,ze)};let Dn;function cr(){return Dn===void 0&&(Dn={}),Dn}return _e.fromWeb=function(Le,ze){return cr().newStreamReadableFromReadableStream(Le,ze)},_e.toWeb=function(Le,ze){return cr().newReadableStreamFromStreamReadable(Le,ze)},_e.wrap=function(Le,ze){var St,Ct;return new _e({objectMode:(St=(Ct=Le.readableObjectMode)!==null&&Ct!==void 0?Ct:Le.objectMode)!==null&&St!==void 0?St:!0,...ze,destroy(Dt,Vn){O.destroyer(Le,Dt),Vn(Dt)}}).wrap(Le)},Dx}var kx,IN;function uO(){if(IN)return kx;IN=1;const e=Bf(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=Wr();kx=he,he.WritableState=te;const{EventEmitter:d}=zh(),h=sO().Stream,{Buffer:g}=Bu(),y=Vh(),{addAbortSignal:v}=rb(),{getHighWaterMark:_,getDefaultHighWaterMark:S}=ib(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:R,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:Y}=ka().codes,{errorOrDestroy:q}=y;o(he.prototype,h.prototype),o(he,h);function X(){}const le=l("kOnFinished");function te(B,ie,fe){typeof fe!="boolean"&&(fe=ie instanceof Du()),this.objectMode=!!(B&&B.objectMode),fe&&(this.objectMode=this.objectMode||!!(B&&B.writableObjectMode)),this.highWaterMark=B?_(this,B,"writableHighWaterMark",fe):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Pe=!!(B&&B.decodeStrings===!1);this.decodeStrings=!Pe,this.defaultEncoding=B&&B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,ie),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,oe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!B||B.emitClose!==!1,this.autoDestroy=!B||B.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[le]=[]}function oe(B){B.buffered=[],B.bufferedIndex=0,B.allBuffers=!0,B.allNoop=!0}te.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function he(B){const ie=this instanceof Du();if(!ie&&!r(he,this))return new he(B);this._writableState=new te(B,this,ie),B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final),typeof B.construct=="function"&&(this._construct=B.construct),B.signal&&v(B.signal,this)),h.call(this,B),y.construct(this,()=>{const fe=this._writableState;fe.writing||ee(this,fe),Ae(this,fe)})}i(he,c,{__proto__:null,value:function(B){return r(this,B)?!0:this!==he?!1:B&&B._writableState instanceof te}}),he.prototype.pipe=function(){q(this,new P)};function ve(B,ie,fe,Pe){const Ie=B._writableState;if(typeof fe=="function")Pe=fe,fe=Ie.defaultEncoding;else{if(!fe)fe=Ie.defaultEncoding;else if(fe!=="buffer"&&!g.isEncoding(fe))throw new Y(fe);typeof Pe!="function"&&(Pe=X)}if(ie===null)throw new F;if(!Ie.objectMode)if(typeof ie=="string")Ie.decodeStrings!==!1&&(ie=g.from(ie,fe),fe="buffer");else if(ie instanceof g)fe="buffer";else if(h._isUint8Array(ie))ie=h._uint8ArrayToBuffer(ie),fe="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],ie);let tt;return Ie.ending?tt=new Q:Ie.destroyed&&(tt=new O("write")),tt?(e.nextTick(Pe,tt),q(B,tt,!0),tt):(Ie.pendingcb++,de(B,Ie,ie,fe,Pe))}he.prototype.write=function(B,ie,fe){return ve(this,B,ie,fe)===!0},he.prototype.cork=function(){this._writableState.corked++},he.prototype.uncork=function(){const B=this._writableState;B.corked&&(B.corked--,B.writing||ee(this,B))},he.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=s(ie)),!g.isEncoding(ie))throw new Y(ie);return this._writableState.defaultEncoding=ie,this};function de(B,ie,fe,Pe,Ie){const tt=ie.objectMode?1:fe.length;ie.length+=tt;const De=ie.length<ie.highWaterMark;return De||(ie.needDrain=!0),ie.writing||ie.corked||ie.errored||!ie.constructed?(ie.buffered.push({chunk:fe,encoding:Pe,callback:Ie}),ie.allBuffers&&Pe!=="buffer"&&(ie.allBuffers=!1),ie.allNoop&&Ie!==X&&(ie.allNoop=!1)):(ie.writelen=tt,ie.writecb=Ie,ie.writing=!0,ie.sync=!0,B._write(fe,Pe,ie.onwrite),ie.sync=!1),De&&!ie.errored&&!ie.destroyed}function se(B,ie,fe,Pe,Ie,tt,De){ie.writelen=Pe,ie.writecb=De,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new O("write")):fe?B._writev(Ie,ie.onwrite):B._write(Ie,tt,ie.onwrite),ie.sync=!1}function Re(B,ie,fe,Pe){--ie.pendingcb,Pe(fe),W(ie),q(B,fe)}function k(B,ie){const fe=B._writableState,Pe=fe.sync,Ie=fe.writecb;if(typeof Ie!="function"){q(B,new R);return}fe.writing=!1,fe.writecb=null,fe.length-=fe.writelen,fe.writelen=0,ie?(ie.stack,fe.errored||(fe.errored=ie),B._readableState&&!B._readableState.errored&&(B._readableState.errored=ie),Pe?e.nextTick(Re,B,fe,ie,Ie):Re(B,fe,ie,Ie)):(fe.buffered.length>fe.bufferedIndex&&ee(B,fe),Pe?fe.afterWriteTickInfo!==null&&fe.afterWriteTickInfo.cb===Ie?fe.afterWriteTickInfo.count++:(fe.afterWriteTickInfo={count:1,cb:Ie,stream:B,state:fe},e.nextTick(re,fe.afterWriteTickInfo)):ge(B,fe,1,Ie))}function re({stream:B,state:ie,count:fe,cb:Pe}){return ie.afterWriteTickInfo=null,ge(B,ie,fe,Pe)}function ge(B,ie,fe,Pe){for(!ie.ending&&!B.destroyed&&ie.length===0&&ie.needDrain&&(ie.needDrain=!1,B.emit("drain"));fe-- >0;)ie.pendingcb--,Pe();ie.destroyed&&W(ie),Ae(B,ie)}function W(B){if(B.writing)return;for(let Ie=B.bufferedIndex;Ie<B.buffered.length;++Ie){var ie;const{chunk:tt,callback:De}=B.buffered[Ie],ot=B.objectMode?1:tt.length;B.length-=ot,De((ie=B.errored)!==null&&ie!==void 0?ie:new O("write"))}const fe=B[le].splice(0);for(let Ie=0;Ie<fe.length;Ie++){var Pe;fe[Ie]((Pe=B.errored)!==null&&Pe!==void 0?Pe:new O("end"))}oe(B)}function ee(B,ie){if(ie.corked||ie.bufferProcessing||ie.destroyed||!ie.constructed)return;const{buffered:fe,bufferedIndex:Pe,objectMode:Ie}=ie,tt=fe.length-Pe;if(!tt)return;let De=Pe;if(ie.bufferProcessing=!0,tt>1&&B._writev){ie.pendingcb-=tt-1;const ot=ie.allNoop?X:_e=>{for(let Be=De;Be<fe.length;++Be)fe[Be].callback(_e)},gt=ie.allNoop&&De===0?fe:t(fe,De);gt.allBuffers=ie.allBuffers,se(B,ie,!0,ie.length,gt,"",ot),oe(ie)}else{do{const{chunk:ot,encoding:gt,callback:_e}=fe[De];fe[De++]=null;const Be=Ie?1:ot.length;se(B,ie,!1,Be,ot,gt,_e)}while(De<fe.length&&!ie.writing);De===fe.length?oe(ie):De>256?(fe.splice(0,De),ie.bufferedIndex=0):ie.bufferedIndex=De}ie.bufferProcessing=!1}he.prototype._write=function(B,ie,fe){if(this._writev)this._writev([{chunk:B,encoding:ie}],fe);else throw new x("_write()")},he.prototype._writev=null,he.prototype.end=function(B,ie,fe){const Pe=this._writableState;typeof B=="function"?(fe=B,B=null,ie=null):typeof ie=="function"&&(fe=ie,ie=null);let Ie;if(B!=null){const tt=ve(this,B,ie);tt instanceof n&&(Ie=tt)}return Pe.corked&&(Pe.corked=1,this.uncork()),Ie||(!Pe.errored&&!Pe.ending?(Pe.ending=!0,Ae(this,Pe,!0),Pe.ended=!0):Pe.finished?Ie=new D("end"):Pe.destroyed&&(Ie=new O("end"))),typeof fe=="function"&&(Ie||Pe.finished?e.nextTick(fe,Ie):Pe[le].push(fe)),this};function pe(B){return B.ending&&!B.destroyed&&B.constructed&&B.length===0&&!B.errored&&B.buffered.length===0&&!B.finished&&!B.writing&&!B.errorEmitted&&!B.closeEmitted}function Te(B,ie){let fe=!1;function Pe(Ie){if(fe){q(B,Ie??R());return}if(fe=!0,ie.pendingcb--,Ie){const tt=ie[le].splice(0);for(let De=0;De<tt.length;De++)tt[De](Ie);q(B,Ie,ie.sync)}else pe(ie)&&(ie.prefinished=!0,B.emit("prefinish"),ie.pendingcb++,e.nextTick($e,B,ie))}ie.sync=!0,ie.pendingcb++;try{B._final(Pe)}catch(Ie){Pe(Ie)}ie.sync=!1}function Je(B,ie){!ie.prefinished&&!ie.finalCalled&&(typeof B._final=="function"&&!ie.destroyed?(ie.finalCalled=!0,Te(B,ie)):(ie.prefinished=!0,B.emit("prefinish")))}function Ae(B,ie,fe){pe(ie)&&(Je(B,ie),ie.pendingcb===0&&(fe?(ie.pendingcb++,e.nextTick((Pe,Ie)=>{pe(Ie)?$e(Pe,Ie):Ie.pendingcb--},B,ie)):pe(ie)&&(ie.pendingcb++,$e(B,ie))))}function $e(B,ie){ie.pendingcb--,ie.finished=!0;const fe=ie[le].splice(0);for(let Pe=0;Pe<fe.length;Pe++)fe[Pe]();if(B.emit("finish"),ie.autoDestroy){const Pe=B._readableState;(!Pe||Pe.autoDestroy&&(Pe.endEmitted||Pe.readable===!1))&&B.destroy()}}a(he.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(B){this._writableState&&(this._writableState.destroyed=B)}},writable:{__proto__:null,get(){const B=this._writableState;return!!B&&B.writable!==!1&&!B.destroyed&&!B.errored&&!B.ending&&!B.ended},set(B){this._writableState&&(this._writableState.writable=!!B)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const B=this._writableState;return B?!B.destroyed&&!B.ending&&B.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Xe=y.destroy;he.prototype.destroy=function(B,ie){const fe=this._writableState;return!fe.destroyed&&(fe.bufferedIndex<fe.buffered.length||fe[le].length)&&e.nextTick(W,fe),Xe.call(this,B,ie),this},he.prototype._undestroy=y.undestroy,he.prototype._destroy=function(B,ie){ie(B)},he.prototype[d.captureRejectionSymbol]=function(B){this.destroy(B)};let ae;function H(){return ae===void 0&&(ae={}),ae}return he.fromWeb=function(B,ie){return H().newStreamWritableFromWritableStream(B,ie)},he.toWeb=function(B){return H().newWritableStreamFromStreamWritable(B)},kx}var Nx,MN;function pre(){if(MN)return Nx;MN=1;const e=Bf(),t=Bu(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:d}=Uu(),h=sc(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=ka(),{destroyer:_}=Vh(),S=Du(),w=ab(),x=uO(),{createDeferredPromise:R}=_a(),P=D9(),O=globalThis.Blob||t.Blob,D=typeof O<"u"?function(te){return te instanceof O}:function(te){return!1},F=globalThis.AbortController||Jm().AbortController,{FunctionPrototypeCall:Q}=Wr();class Y extends S{constructor(te){super(te),(te==null?void 0:te.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(te==null?void 0:te.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Nx=function le(te,oe){if(l(te))return te;if(o(te))return X({readable:te});if(s(te))return X({writable:te});if(a(te))return X({writable:!1,readable:!1});if(c(te))return X({readable:w.fromWeb(te)});if(d(te))return X({writable:x.fromWeb(te)});if(typeof te=="function"){const{value:ve,write:de,final:se,destroy:Re}=q(te);if(i(ve))return P(Y,ve,{objectMode:!0,write:de,final:se,destroy:Re});const k=ve==null?void 0:ve.then;if(typeof k=="function"){let re;const ge=Q(k,ve,W=>{if(W!=null)throw new v("nully","body",W)},W=>{_(re,W)});return re=new Y({objectMode:!0,readable:!1,write:de,final(W){se(async()=>{try{await ge,e.nextTick(W,null)}catch(ee){e.nextTick(W,ee)}})},destroy:Re})}throw new v("Iterable, AsyncIterable or AsyncFunction",oe,ve)}if(D(te))return le(te.arrayBuffer());if(i(te))return P(Y,te,{objectMode:!0,writable:!1});if(c(te==null?void 0:te.readable)&&d(te==null?void 0:te.writable))return Y.fromWeb(te);if(typeof(te==null?void 0:te.writable)=="object"||typeof(te==null?void 0:te.readable)=="object"){const ve=te!=null&&te.readable?o(te==null?void 0:te.readable)?te==null?void 0:te.readable:le(te.readable):void 0,de=te!=null&&te.writable?s(te==null?void 0:te.writable)?te==null?void 0:te.writable:le(te.writable):void 0;return X({readable:ve,writable:de})}const he=te==null?void 0:te.then;if(typeof he=="function"){let ve;return Q(he,te,de=>{de!=null&&ve.push(de),ve.push(null)},de=>{_(ve,de)}),ve=new Y({objectMode:!0,writable:!1,read(){}})}throw new y(oe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],te)};function q(le){let{promise:te,resolve:oe}=R();const he=new F,ve=he.signal;return{value:le(async function*(){for(;;){const se=te;te=null;const{chunk:Re,done:k,cb:re}=await se;if(e.nextTick(re),k)return;if(ve.aborted)throw new g(void 0,{cause:ve.reason});({promise:te,resolve:oe}=R()),yield Re}}(),{signal:ve}),write(se,Re,k){const re=oe;oe=null,re({chunk:se,done:!1,cb:k})},final(se){const Re=oe;oe=null,Re({done:!0,cb:se})},destroy(se,Re){he.abort(),Re(se)}}}function X(le){const te=le.readable&&typeof le.readable.read!="function"?w.wrap(le.readable):le.readable,oe=le.writable;let he=!!n(te),ve=!!r(oe),de,se,Re,k,re;function ge(W){const ee=k;k=null,ee?ee(W):W&&re.destroy(W)}return re=new Y({readableObjectMode:!!(te!=null&&te.readableObjectMode),writableObjectMode:!!(oe!=null&&oe.writableObjectMode),readable:he,writable:ve}),ve&&(h(oe,W=>{ve=!1,W&&_(te,W),ge(W)}),re._write=function(W,ee,pe){oe.write(W,ee)?pe():de=pe},re._final=function(W){oe.end(),se=W},oe.on("drain",function(){if(de){const W=de;de=null,W()}}),oe.on("finish",function(){if(se){const W=se;se=null,W()}})),he&&(h(te,W=>{he=!1,W&&_(te,W),ge(W)}),te.on("readable",function(){if(Re){const W=Re;Re=null,W()}}),te.on("end",function(){re.push(null)}),re._read=function(){for(;;){const W=te.read();if(W===null){Re=re._read;return}if(!re.push(W))return}}),re._destroy=function(W,ee){!W&&k!==null&&(W=new g),Re=null,de=null,se=null,k===null?ee(W):(k=ee,_(oe,W),_(te,W))},re}return Nx}var Fx,DN;function Du(){if(DN)return Fx;DN=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=Wr();Fx=o;const i=ab(),a=uO();r(o.prototype,i.prototype),r(o,i);{const d=n(a.prototype);for(let h=0;h<d.length;h++){const g=d[h];o.prototype[g]||(o.prototype[g]=a.prototype[g])}}function o(d){if(!(this instanceof o))return new o(d);i.call(this,d),a.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(d,h){return l().newStreamDuplexFromReadableWritablePair(d,h)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=pre()),c(d,"body")},Fx}var jx,kN;function k9(){if(kN)return jx;kN=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Wr();jx=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=ka().codes,r=Du(),{getHighWaterMark:i}=ib();e(o.prototype,r.prototype),e(o,r);const a=t("kCallback");function o(c){if(!(this instanceof o))return new o(c);const d=c?i(this,c,"readableHighWaterMark",!0):null;d===0&&(c={...c,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((d,h)=>{if(d){c?c(d):this.destroy(d);return}h!=null&&this.push(h),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(c,d,h){throw new n("_transform()")},o.prototype._write=function(c,d,h){const g=this._readableState,y=this._writableState,v=g.length;this._transform(c,d,(_,S)=>{if(_){h(_);return}S!=null&&this.push(S),y.ended||v===g.length||g.length<g.highWaterMark?h():this[a]=h})},o.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},jx}var $x,NN;function N9(){if(NN)return $x;NN=1;const{ObjectSetPrototypeOf:e}=Wr();$x=n;const t=k9();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},$x}var Bx,FN;function lO(){if(FN)return Bx;FN=1;const e=Bf(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Wr(),a=sc(),{once:o}=_a(),s=Vh(),l=Du(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:_}=ka(),{validateFunction:S,validateAbortSignal:w}=Cy(),{isIterable:x,isReadable:R,isReadableNodeStream:P,isNodeStream:O,isTransformStream:D,isWebStream:F,isReadableStream:Q,isReadableFinished:Y}=Uu(),q=globalThis.AbortController||Jm().AbortController;let X,le,te;function oe(W,ee,pe){let Te=!1;W.on("close",()=>{Te=!0});const Je=a(W,{readable:ee,writable:pe},Ae=>{Te=!Ae});return{destroy:Ae=>{Te||(Te=!0,s.destroyer(W,Ae||new y("pipe")))},cleanup:Je}}function he(W){return S(W[W.length-1],"streams[stream.length - 1]"),W.pop()}function ve(W){if(x(W))return W;if(P(W))return de(W);throw new d("val",["Readable","Iterable","AsyncIterable"],W)}async function*de(W){le||(le=ab()),yield*le.prototype[r].call(W)}async function se(W,ee,pe,{end:Te}){let Je,Ae=null;const $e=H=>{if(H&&(Je=H),Ae){const B=Ae;Ae=null,B()}},Xe=()=>new n((H,B)=>{Je?B(Je):Ae=()=>{Je?B(Je):H()}});ee.on("drain",$e);const ae=a(ee,{readable:!1},$e);try{ee.writableNeedDrain&&await Xe();for await(const H of W)ee.write(H)||await Xe();Te&&(ee.end(),await Xe()),pe()}catch(H){pe(Je!==H?c(Je,H):H)}finally{ae(),ee.off("drain",$e)}}async function Re(W,ee,pe,{end:Te}){D(ee)&&(ee=ee.writable);const Je=ee.getWriter();try{for await(const Ae of W)await Je.ready,Je.write(Ae).catch(()=>{});await Je.ready,Te&&await Je.close(),pe()}catch(Ae){try{await Je.abort(Ae),pe(Ae)}catch($e){pe($e)}}}function k(...W){return re(W,o(he(W)))}function re(W,ee,pe){if(W.length===1&&t(W[0])&&(W=W[0]),W.length<2)throw new g("streams");const Te=new q,Je=Te.signal,Ae=pe==null?void 0:pe.signal,$e=[];w(Ae,"options.signal");function Xe(){Ie(new _)}te=te||_a().addAbortListener;let ae;Ae&&(ae=te(Ae,Xe));let H,B;const ie=[];let fe=0;function Pe(_e){Ie(_e,--fe===0)}function Ie(_e,Be){var at;if(_e&&(!H||H.code==="ERR_STREAM_PREMATURE_CLOSE")&&(H=_e),!(!H&&!Be)){for(;ie.length;)ie.shift()(H);(at=ae)===null||at===void 0||at[i](),Te.abort(),Be&&(H||$e.forEach(me=>me()),e.nextTick(ee,H,B))}}let tt;for(let _e=0;_e<W.length;_e++){const Be=W[_e],at=_e<W.length-1,me=_e>0,Ee=at||(pe==null?void 0:pe.end)!==!1,J=_e===W.length-1;if(O(Be)){let $=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Pe(K)};var gt=$;if(Ee){const{destroy:K,cleanup:G}=oe(Be,at,me);ie.push(K),R(Be)&&J&&$e.push(G)}Be.on("error",$),R(Be)&&J&&$e.push(()=>{Be.removeListener("error",$)})}if(_e===0)if(typeof Be=="function"){if(tt=Be({signal:Je}),!x(tt))throw new h("Iterable, AsyncIterable or Stream","source",tt)}else x(Be)||P(Be)||D(Be)?tt=Be:tt=l.from(Be);else if(typeof Be=="function"){if(D(tt)){var De;tt=ve((De=tt)===null||De===void 0?void 0:De.readable)}else tt=ve(tt);if(tt=Be(tt,{signal:Je}),at){if(!x(tt,!0))throw new h("AsyncIterable",`transform[${_e-1}]`,tt)}else{var ot;X||(X=N9());const $=new X({objectMode:!0}),K=(ot=tt)===null||ot===void 0?void 0:ot.then;if(typeof K=="function")fe++,K.call(tt,Ze=>{B=Ze,Ze!=null&&$.write(Ze),Ee&&$.end(),e.nextTick(Pe)},Ze=>{$.destroy(Ze),e.nextTick(Pe,Ze)});else if(x(tt,!0))fe++,se(tt,$,Pe,{end:Ee});else if(Q(tt)||D(tt)){const Ze=tt.readable||tt;fe++,se(Ze,$,Pe,{end:Ee})}else throw new h("AsyncIterable or Promise","destination",tt);tt=$;const{destroy:G,cleanup:ke}=oe(tt,!1,!0);ie.push(G),J&&$e.push(ke)}}else if(O(Be)){if(P(tt)){fe+=2;const $=ge(tt,Be,Pe,{end:Ee});R(Be)&&J&&$e.push($)}else if(D(tt)||Q(tt)){const $=tt.readable||tt;fe++,se($,Be,Pe,{end:Ee})}else if(x(tt))fe++,se(tt,Be,Pe,{end:Ee});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],tt);tt=Be}else if(F(Be)){if(P(tt))fe++,Re(ve(tt),Be,Pe,{end:Ee});else if(Q(tt)||x(tt))fe++,Re(tt,Be,Pe,{end:Ee});else if(D(tt))fe++,Re(tt.readable,Be,Pe,{end:Ee});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],tt);tt=Be}else tt=l.from(Be)}return(Je!=null&&Je.aborted||Ae!=null&&Ae.aborted)&&e.nextTick(Xe),tt}function ge(W,ee,pe,{end:Te}){let Je=!1;if(ee.on("close",()=>{Je||pe(new v)}),W.pipe(ee,{end:!1}),Te){let $e=function(){Je=!0,ee.end()};var Ae=$e;Y(W)?e.nextTick($e):W.once("end",$e)}else pe();return a(W,{readable:!0,writable:!1},$e=>{const Xe=W._readableState;$e&&$e.code==="ERR_STREAM_PREMATURE_CLOSE"&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?W.once("end",pe).once("error",pe):pe($e)}),a(ee,{readable:!1,writable:!0},pe)}return Bx={pipelineImpl:re,pipeline:k},Bx}var Ux,jN;function F9(){if(jN)return Ux;jN=1;const{pipeline:e}=lO(),t=Du(),{destroyer:n}=Vh(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:c}=Uu(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:g}}=ka(),y=sc();return Ux=function(..._){if(_.length===0)throw new g("streams");if(_.length===1)return t.from(_[0]);const S=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const X=_.length-1;_[X]=t.from(_[X])}for(let X=0;X<_.length;++X)if(!(!r(_[X])&&!o(_[X]))){if(X<_.length-1&&!(i(_[X])||c(_[X])||s(_[X])))throw new h(`streams[${X}]`,S[X],"must be readable");if(X>0&&!(a(_[X])||l(_[X])||s(_[X])))throw new h(`streams[${X}]`,S[X],"must be writable")}let w,x,R,P,O;function D(X){const le=P;P=null,le?le(X):X?O.destroy(X):!q&&!Y&&O.destroy()}const F=_[0],Q=e(_,D),Y=!!(a(F)||l(F)||s(F)),q=!!(i(Q)||c(Q)||s(Q));if(O=new t({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:Y,readable:q}),Y){if(r(F))O._write=function(le,te,oe){F.write(le,te)?oe():w=oe},O._final=function(le){F.end(),x=le},F.on("drain",function(){if(w){const le=w;w=null,le()}});else if(o(F)){const te=(s(F)?F.writable:F).getWriter();O._write=async function(oe,he,ve){try{await te.ready,te.write(oe).catch(()=>{}),ve()}catch(de){ve(de)}},O._final=async function(oe){try{await te.ready,te.close().catch(()=>{}),x=oe}catch(he){oe(he)}}}const X=s(Q)?Q.readable:Q;y(X,()=>{if(x){const le=x;x=null,le()}})}if(q){if(r(Q))Q.on("readable",function(){if(R){const X=R;R=null,X()}}),Q.on("end",function(){O.push(null)}),O._read=function(){for(;;){const X=Q.read();if(X===null){R=O._read;return}if(!O.push(X))return}};else if(o(Q)){const le=(s(Q)?Q.readable:Q).getReader();O._read=async function(){for(;;)try{const{value:te,done:oe}=await le.read();if(!O.push(te))return;if(oe){O.push(null);return}}catch{return}}}}return O._destroy=function(X,le){!X&&P!==null&&(X=new d),R=null,w=null,x=null,P===null?le(X):(P=le,r(Q)&&n(Q,X))},O},Ux}var $N;function gre(){if($N)return u_;$N=1;const e=globalThis.AbortController||Jm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=ka(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=Cy(),c=Wr().Symbol("kWeak"),d=Wr().Symbol("kResistStopPropagation"),{finished:h}=sc(),g=F9(),{addAbortSignalNoValidate:y}=rb(),{isWritable:v,isNodeStream:_}=Uu(),{deprecate:S}=_a(),{ArrayPrototypePush:w,Boolean:x,MathFloor:R,Number:P,NumberIsNaN:O,Promise:D,PromiseReject:F,PromiseResolve:Q,PromisePrototypeThen:Y,Symbol:q}=Wr(),X=q("kEmpty"),le=q("kEof");function te(Ae,$e){if($e!=null&&l($e,"options"),($e==null?void 0:$e.signal)!=null&&o($e.signal,"options.signal"),_(Ae)&&!v(Ae))throw new t("stream",Ae,"must be writable");const Xe=g(this,Ae);return $e!=null&&$e.signal&&y($e.signal,Xe),Xe}function oe(Ae,$e){if(typeof Ae!="function")throw new n("fn",["Function","AsyncFunction"],Ae);$e!=null&&l($e,"options"),($e==null?void 0:$e.signal)!=null&&o($e.signal,"options.signal");let Xe=1;($e==null?void 0:$e.concurrency)!=null&&(Xe=R($e.concurrency));let ae=Xe-1;return($e==null?void 0:$e.highWaterMark)!=null&&(ae=R($e.highWaterMark)),s(Xe,"options.concurrency",1),s(ae,"options.highWaterMark",0),ae+=Xe,(async function*(){const B=_a().AbortSignalAny([$e==null?void 0:$e.signal].filter(x)),ie=this,fe=[],Pe={signal:B};let Ie,tt,De=!1,ot=0;function gt(){De=!0,_e()}function _e(){ot-=1,Be()}function Be(){tt&&!De&&ot<Xe&&fe.length<ae&&(tt(),tt=null)}async function at(){try{for await(let me of ie){if(De)return;if(B.aborted)throw new a;try{if(me=Ae(me,Pe),me===X)continue;me=Q(me)}catch(Ee){me=F(Ee)}ot+=1,Y(me,_e,gt),fe.push(me),Ie&&(Ie(),Ie=null),!De&&(fe.length>=ae||ot>=Xe)&&await new D(Ee=>{tt=Ee})}fe.push(le)}catch(me){const Ee=F(me);Y(Ee,_e,gt),fe.push(Ee)}finally{De=!0,Ie&&(Ie(),Ie=null)}}at();try{for(;;){for(;fe.length>0;){const me=await fe[0];if(me===le)return;if(B.aborted)throw new a;me!==X&&(yield me),fe.shift(),Be()}await new D(me=>{Ie=me})}}finally{De=!0,tt&&(tt(),tt=null)}}).call(this)}function he(Ae=void 0){return Ae!=null&&l(Ae,"options"),(Ae==null?void 0:Ae.signal)!=null&&o(Ae.signal,"options.signal"),(async function*(){let Xe=0;for await(const H of this){var ae;if(Ae!=null&&(ae=Ae.signal)!==null&&ae!==void 0&&ae.aborted)throw new a({cause:Ae.signal.reason});yield[Xe++,H]}}).call(this)}async function ve(Ae,$e=void 0){for await(const Xe of k.call(this,Ae,$e))return!0;return!1}async function de(Ae,$e=void 0){if(typeof Ae!="function")throw new n("fn",["Function","AsyncFunction"],Ae);return!await ve.call(this,async(...Xe)=>!await Ae(...Xe),$e)}async function se(Ae,$e){for await(const Xe of k.call(this,Ae,$e))return Xe}async function Re(Ae,$e){if(typeof Ae!="function")throw new n("fn",["Function","AsyncFunction"],Ae);async function Xe(ae,H){return await Ae(ae,H),X}for await(const ae of oe.call(this,Xe,$e));}function k(Ae,$e){if(typeof Ae!="function")throw new n("fn",["Function","AsyncFunction"],Ae);async function Xe(ae,H){return await Ae(ae,H)?ae:X}return oe.call(this,Xe,$e)}class re extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function ge(Ae,$e,Xe){var ae;if(typeof Ae!="function")throw new n("reducer",["Function","AsyncFunction"],Ae);Xe!=null&&l(Xe,"options"),(Xe==null?void 0:Xe.signal)!=null&&o(Xe.signal,"options.signal");let H=arguments.length>1;if(Xe!=null&&(ae=Xe.signal)!==null&&ae!==void 0&&ae.aborted){const Ie=new a(void 0,{cause:Xe.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(Ie)),Ie}const B=new e,ie=B.signal;if(Xe!=null&&Xe.signal){const Ie={once:!0,[c]:this,[d]:!0};Xe.signal.addEventListener("abort",()=>B.abort(),Ie)}let fe=!1;try{for await(const Ie of this){var Pe;if(fe=!0,Xe!=null&&(Pe=Xe.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new a;H?$e=await Ae($e,Ie,{signal:ie}):($e=Ie,H=!0)}if(!fe&&!H)throw new re}finally{B.abort()}return $e}async function W(Ae){Ae!=null&&l(Ae,"options"),(Ae==null?void 0:Ae.signal)!=null&&o(Ae.signal,"options.signal");const $e=[];for await(const ae of this){var Xe;if(Ae!=null&&(Xe=Ae.signal)!==null&&Xe!==void 0&&Xe.aborted)throw new a(void 0,{cause:Ae.signal.reason});w($e,ae)}return $e}function ee(Ae,$e){const Xe=oe.call(this,Ae,$e);return(async function*(){for await(const H of Xe)yield*H}).call(this)}function pe(Ae){if(Ae=P(Ae),O(Ae))return 0;if(Ae<0)throw new i("number",">= 0",Ae);return Ae}function Te(Ae,$e=void 0){return $e!=null&&l($e,"options"),($e==null?void 0:$e.signal)!=null&&o($e.signal,"options.signal"),Ae=pe(Ae),(async function*(){var ae;if($e!=null&&(ae=$e.signal)!==null&&ae!==void 0&&ae.aborted)throw new a;for await(const B of this){var H;if($e!=null&&(H=$e.signal)!==null&&H!==void 0&&H.aborted)throw new a;Ae--<=0&&(yield B)}}).call(this)}function Je(Ae,$e=void 0){return $e!=null&&l($e,"options"),($e==null?void 0:$e.signal)!=null&&o($e.signal,"options.signal"),Ae=pe(Ae),(async function*(){var ae;if($e!=null&&(ae=$e.signal)!==null&&ae!==void 0&&ae.aborted)throw new a;for await(const B of this){var H;if($e!=null&&(H=$e.signal)!==null&&H!==void 0&&H.aborted)throw new a;if(Ae-- >0&&(yield B),Ae<=0)return}}).call(this)}return u_.streamReturningOperators={asIndexedPairs:S(he,"readable.asIndexedPairs will be removed in a future version."),drop:Te,filter:k,flatMap:ee,map:oe,take:Je,compose:te},u_.promiseReturningOperators={every:de,forEach:Re,reduce:ge,toArray:W,some:ve,find:se},u_}var qx,BN;function j9(){if(BN)return qx;BN=1;const{ArrayPrototypePop:e,Promise:t}=Wr(),{isIterable:n,isNodeStream:r,isWebStream:i}=Uu(),{pipelineImpl:a}=lO(),{finished:o}=sc();$9();function s(...l){return new t((c,d)=>{let h,g;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const v=e(l);h=v.signal,g=v.end}a(l,(v,_)=>{v?d(v):c(_)},{signal:h,end:g})})}return qx={finished:o,pipeline:s},qx}var UN;function $9(){if(UN)return _x.exports;UN=1;const{Buffer:e}=Bu(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=Wr(),{promisify:{custom:i}}=_a(),{streamReturningOperators:a,promiseReturningOperators:o}=gre(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=ka(),l=F9(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:d}=ib(),{pipeline:h}=lO(),{destroyer:g}=Vh(),y=sc(),v=j9(),_=Uu(),S=_x.exports=sO().Stream;S.isDestroyed=_.isDestroyed,S.isDisturbed=_.isDisturbed,S.isErrored=_.isErrored,S.isReadable=_.isReadable,S.isWritable=_.isWritable,S.Readable=ab();for(const R of n(a)){let O=function(...D){if(new.target)throw s();return S.Readable.from(r(P,this,D))};var x=O;const P=a[R];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(S.Readable.prototype,R,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}for(const R of n(o)){let O=function(...F){if(new.target)throw s();return r(P,this,F)};var x=O;const P=o[R];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(S.Readable.prototype,R,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}S.Writable=uO(),S.Duplex=Du(),S.Transform=k9(),S.PassThrough=N9(),S.pipeline=h;const{addAbortSignal:w}=rb();return S.addAbortSignal=w,S.finished=y,S.destroy=g,S.compose=l,S.setDefaultHighWaterMark=c,S.getDefaultHighWaterMark=d,t(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),t(h,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),t(y,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),S.Stream=S,S._isUint8Array=function(P){return P instanceof Uint8Array},S._uint8ArrayToBuffer=function(P){return e.from(P.buffer,P.byteOffset,P.byteLength)},_x.exports}var qN;function B9(){return qN||(qN=1,function(e){const t=$9(),n=j9(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(vx)),vx.exports}var Kh=B9();let ks=class{constructor(t,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Xl,t&&this.addQuads(t)}_termFromId(t,n){if(t[0]==="."){const r=this._entities,i=t.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return ff(t,n)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(Ch(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ga(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Ch(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:ga(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const g=this._entities,y=this._termFromId(l,this._factory),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(g[_],this._factory),r&&((c=d,d={})[r]=c[r]);for(const S in d)if(h=d[S]){v[o]=this._termFromId(g[S],this._factory);const w=i?i in h?[i]:[]:Object.keys(h);for(let x=0;x<w.length;x++)v[s]=this._termFromId(g[w[x]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){if(!mre(t))return this._graphs;const n={};return n[t]=this._graphs[t],n}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=ga(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(a.subjects,t,n,r);return this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,o}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=ga(i);const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Kh.Readable({objectMode:!0});return a._read=()=>{for(const o of this.readQuads(t,n,r,i))a.push(o);a.push(null)},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){i=i&&ga(i);const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new yre(this,t,n,r,i)}countQuads(t,n,r,i){i=i&&ga(i);const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o),!1),n,r,i,a)}every(t,n,r,i,a){let o=!1;const s=!this.some(l=>(o=!0,!t(l)),n,r,i,a);return o&&s}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){i=i&&ga(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){i=i&&ga(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){i=i&&ga(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,a)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Qi.rdf.rest,Qi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const g=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let S,w=null,x=null,R=null;for(let P=0;P<_.length&&!c;P++)S=_[P],S.graph.equals(g)?d?c=i(y,"has non-list arcs out"):S.predicate.value===Qi.rdf.first?w?c=i(y,"has multiple rdf:first arcs"):o.push(w=S):S.predicate.value===Qi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):o.push(x=S):v.length?c=i(y,"can't be subject and object"):(d=S,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)S=v[P],d?c=i(y,"can't have coreferences"):S.predicate.value===Qi.rdf.rest?R?c=i(y,"has incoming rdf:rest arcs"):R=S:(d=S,h="object");w?l.unshift(w.object):c=i(y,"has no list head"),y=R&&R.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function mre(e){return typeof e=="string"||e instanceof String}let yre=class U9 extends Kh.Readable{constructor(t,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new ks({factory:t._factory});for(const s of t.readQuads(a,i,r,n))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const t of this)this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new U9(this.filtered,t,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class q9 extends Kh.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Hh(t);let r,i;n.parse({on:(a,o)=>{switch(a){case"data":r=o;break;case"end":i=o;break}}},(a,o)=>{a&&this.emit("error",a)||o&&this.push(o)},(a,o)=>{this.emit("prefix",a,o)}),this._transform=(a,o,s)=>{r(a),s()},this._flush=a=>{i(),a()}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),this}}class z9 extends Kh.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new nb({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},t);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),t.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const vre={Lexer:rO,Parser:Hh,Writer:nb,Store:ks,StreamParser:q9,StreamWriter:z9,Util:O9,DataFactory:Xl,Term:js,NamedNode:ti,Literal:eh,BlankNode:iO,Variable:aO,DefaultGraph:oO,Quad:Wo,Triple:Wo,termFromId:ff,termToId:ga},_re=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:iO,DataFactory:Xl,DefaultGraph:oO,Lexer:rO,Literal:eh,NamedNode:ti,Parser:Hh,Quad:Wo,Store:ks,StreamParser:q9,StreamWriter:z9,Term:js,Triple:Wo,Util:O9,Variable:aO,Writer:nb,default:vre,termFromId:ff,termToId:ga},Symbol.toStringTag,{value:"Module"}));var wre="http://www.w3.org/ns/auth/acl#Access",bre="http://www.w3.org/ns/auth/acl#Append",Sre="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",xre="http://www.w3.org/ns/auth/acl#Authorization",Ere="http://www.w3.org/ns/auth/acl#Control",Cre="http://www.w3.org/ns/auth/acl#Origin",Tre="http://www.w3.org/ns/auth/acl#Read",Rre="http://www.w3.org/ns/auth/acl#Write",Are="http://www.w3.org/ns/auth/acl#accessControl",Pre="http://www.w3.org/ns/auth/acl#accessTo",Ore="http://www.w3.org/ns/auth/acl#accessToClass",Lre="http://www.w3.org/ns/auth/acl#agent",Ire="http://www.w3.org/ns/auth/acl#agentClass",Mre="http://www.w3.org/ns/auth/acl#agentGroup",Dre="http://www.w3.org/ns/auth/acl#default",kre="http://www.w3.org/ns/auth/acl#defaultForNew",Nre="http://www.w3.org/ns/auth/acl#delegates",Fre="http://www.w3.org/ns/auth/acl#mode",jre="http://www.w3.org/ns/auth/acl#origin",$re="http://www.w3.org/ns/auth/acl#owner",Bre=Object.freeze({Access:wre,Append:bre,AuthenticatedAgent:Sre,Authorization:xre,Control:Ere,Origin:Cre,Read:Tre,Write:Rre,accessControl:Are,accessTo:Pre,accessToClass:Ore,agent:Lre,agentClass:Ire,agentGroup:Mre,default__workaround:Dre,defaultForNew:kre,delegates:Nre,mode:Fre,origin:jre,owner:$re}),Ure="http://www.w3.org/ns/activitystreams#actor",qre="http://www.w3.org/ns/activitystreams#attributedTo",zre="http://www.w3.org/ns/activitystreams#attachment",Hre="http://www.w3.org/ns/activitystreams#attachments",Vre="http://www.w3.org/ns/activitystreams#author",Kre="http://www.w3.org/ns/activitystreams#bcc",Gre="http://www.w3.org/ns/activitystreams#bto",Wre="http://www.w3.org/ns/activitystreams#cc",Qre="http://www.w3.org/ns/activitystreams#context",Zre="http://www.w3.org/ns/activitystreams#generator",Jre="http://www.w3.org/ns/activitystreams#icon",Xre="http://www.w3.org/ns/activitystreams#image",Yre="http://www.w3.org/ns/activitystreams#inReplyTo",eie="http://www.w3.org/ns/activitystreams#items",tie="http://www.w3.org/ns/activitystreams#location",nie="http://www.w3.org/ns/activitystreams#object",rie="http://www.w3.org/ns/activitystreams#oneOf",iie="http://www.w3.org/ns/activitystreams#anyOf",aie="http://www.w3.org/ns/activitystreams#preview",oie="http://www.w3.org/ns/activitystreams#provider",sie="http://www.w3.org/ns/activitystreams#replies",uie="http://www.w3.org/ns/activitystreams#result",lie="http://www.w3.org/ns/activitystreams#audience",cie="http://www.w3.org/ns/activitystreams#tag",fie="http://www.w3.org/ns/activitystreams#tags",die="http://www.w3.org/ns/activitystreams#target",hie="http://www.w3.org/ns/activitystreams#origin",pie="http://www.w3.org/ns/activitystreams#instrument",gie="http://www.w3.org/ns/activitystreams#to",mie="http://www.w3.org/ns/activitystreams#url",yie="http://www.w3.org/ns/activitystreams#relationship",vie="http://www.w3.org/ns/activitystreams#describes",_ie="http://www.w3.org/ns/activitystreams#formerType",wie="http://www.w3.org/ns/activitystreams#accuracy",bie="http://www.w3.org/ns/activitystreams#altitude",Sie="http://www.w3.org/ns/activitystreams#content",xie="http://www.w3.org/ns/activitystreams#name",Eie="http://www.w3.org/ns/activitystreams#downstreamDuplicates",Cie="http://www.w3.org/ns/activitystreams#duration",Tie="http://www.w3.org/ns/activitystreams#endTime",Rie="http://www.w3.org/ns/activitystreams#height",Aie="http://www.w3.org/ns/activitystreams#href",Pie="http://www.w3.org/ns/activitystreams#hreflang",Oie="http://www.w3.org/ns/activitystreams#id",Lie="http://www.w3.org/ns/activitystreams#latitude",Iie="http://www.w3.org/ns/activitystreams#longitude",Mie="http://www.w3.org/ns/activitystreams#mediaType",Die="http://www.w3.org/ns/activitystreams#objectType",kie="http://www.w3.org/ns/activitystreams#published",Nie="http://www.w3.org/ns/activitystreams#radius",Fie="http://www.w3.org/ns/activitystreams#rating",jie="http://www.w3.org/ns/activitystreams#rel",$ie="http://www.w3.org/ns/activitystreams#startIndex",Bie="http://www.w3.org/ns/activitystreams#startTime",Uie="http://www.w3.org/ns/activitystreams#summary",qie="http://www.w3.org/ns/activitystreams#totalItems",zie="http://www.w3.org/ns/activitystreams#units",Hie="http://www.w3.org/ns/activitystreams#updated",Vie="http://www.w3.org/ns/activitystreams#upstreamDuplicates",Kie="http://www.w3.org/ns/activitystreams#verb",Gie="http://www.w3.org/ns/activitystreams#width",Wie="http://www.w3.org/ns/activitystreams#deleted",Qie="http://www.w3.org/ns/activitystreams#Accept",Zie="http://www.w3.org/ns/activitystreams#Activity",Jie="http://www.w3.org/ns/activitystreams#Block",Xie="http://www.w3.org/ns/activitystreams#IntransitiveActivity",Yie="http://www.w3.org/ns/activitystreams#Add",eae="http://www.w3.org/ns/activitystreams#Announce",tae="http://www.w3.org/ns/activitystreams#Application",nae="http://www.w3.org/ns/activitystreams#Arrive",rae="http://www.w3.org/ns/activitystreams#Article",iae="http://www.w3.org/ns/activitystreams#Audio",aae="http://www.w3.org/ns/activitystreams#Collection",oae="http://www.w3.org/ns/activitystreams#CollectionPage",sae="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",uae="http://www.w3.org/ns/activitystreams#Relationship",lae="http://www.w3.org/ns/activitystreams#Create",cae="http://www.w3.org/ns/activitystreams#Delete",fae="http://www.w3.org/ns/activitystreams#Dislike",dae="http://www.w3.org/ns/activitystreams#Document",hae="http://www.w3.org/ns/activitystreams#Event",pae="http://www.w3.org/ns/activitystreams#Flag",gae="http://www.w3.org/ns/activitystreams#Follow",mae="http://www.w3.org/ns/activitystreams#Group",yae="http://www.w3.org/ns/activitystreams#Ignore",vae="http://www.w3.org/ns/activitystreams#Image",_ae="http://www.w3.org/ns/activitystreams#Invite",wae="http://www.w3.org/ns/activitystreams#Join",bae="http://www.w3.org/ns/activitystreams#Leave",Sae="http://www.w3.org/ns/activitystreams#Like",xae="http://www.w3.org/ns/activitystreams#View",Eae="http://www.w3.org/ns/activitystreams#Listen",Cae="http://www.w3.org/ns/activitystreams#Read",Tae="http://www.w3.org/ns/activitystreams#Move",Rae="http://www.w3.org/ns/activitystreams#Travel",Aae="http://www.w3.org/ns/activitystreams#Link",Pae="http://www.w3.org/ns/activitystreams#Mention",Oae="http://www.w3.org/ns/activitystreams#Note",Lae="http://www.w3.org/ns/activitystreams#Object",Iae="http://www.w3.org/ns/activitystreams#Offer",Mae="http://www.w3.org/ns/activitystreams#OrderedCollection",Dae="http://www.w3.org/ns/activitystreams#OrderedItems",kae="http://www.w3.org/ns/activitystreams#Page",Nae="http://www.w3.org/ns/activitystreams#Person",Fae="http://www.w3.org/ns/activitystreams#Organization",jae="http://www.w3.org/ns/activitystreams#Profile",$ae="http://www.w3.org/ns/activitystreams#Place",Bae="http://www.w3.org/ns/activitystreams#Question",Uae="http://www.w3.org/ns/activitystreams#Reject",qae="http://www.w3.org/ns/activitystreams#Remove",zae="http://www.w3.org/ns/activitystreams#Service",Hae="http://www.w3.org/ns/activitystreams#TentativeAccept",Vae="http://www.w3.org/ns/activitystreams#TentativeReject",Kae="http://www.w3.org/ns/activitystreams#Tombstone",Gae="http://www.w3.org/ns/activitystreams#Undo",Wae="http://www.w3.org/ns/activitystreams#Update",Qae="http://www.w3.org/ns/activitystreams#Video",Zae=Object.freeze({actor:Ure,attributedTo:qre,attachment:zre,attachments:Hre,author:Vre,bcc:Kre,bto:Gre,cc:Wre,context:Qre,generator:Zre,icon:Jre,image:Xre,inReplyTo:Yre,items:eie,location:tie,object:nie,oneOf:rie,anyOf:iie,preview:aie,provider:oie,replies:sie,result:uie,audience:lie,tag:cie,tags:fie,target:die,origin:hie,instrument:pie,to:gie,url:mie,relationship:yie,describes:vie,formerType:_ie,accuracy:wie,altitude:bie,content:Sie,name:xie,downstreamDuplicates:Eie,duration:Cie,endTime:Tie,height:Rie,href:Aie,hreflang:Pie,id:Oie,latitude:Lie,longitude:Iie,mediaType:Mie,objectType:Die,published:kie,radius:Nie,rating:Fie,rel:jie,startIndex:$ie,startTime:Bie,summary:Uie,totalItems:qie,units:zie,updated:Hie,upstreamDuplicates:Vie,verb:Kie,width:Gie,deleted:Wie,Accept:Qie,Activity:Zie,Block:Jie,IntransitiveActivity:Xie,Add:Yie,Announce:eae,Application:tae,Arrive:nae,Article:rae,Audio:iae,Collection:aae,CollectionPage:oae,OrderedCollectionPage:sae,Relationship:uae,Create:lae,Delete:cae,Dislike:fae,Document:dae,Event:hae,Flag:pae,Follow:gae,Group:mae,Ignore:yae,Image:vae,Invite:_ae,Join:wae,Leave:bae,Like:Sae,View:xae,Listen:Eae,Read:Cae,Move:Tae,Travel:Rae,Link:Aae,Mention:Pae,Note:Oae,Object__workaround:Lae,Offer:Iae,OrderedCollection:Mae,OrderedItems:Dae,Page:kae,Person:Nae,Organization:Fae,Profile:jae,Place:$ae,Question:Bae,Reject:Uae,Remove:qae,Service:zae,TentativeAccept:Hae,TentativeReject:Vae,Tombstone:Kae,Undo:Gae,Update:Wae,Video:Qae}),Jae="http://purl.org/dc/terms/AgentClass",Xae="http://purl.org/dc/terms/BibliographicResource",Yae="http://purl.org/dc/terms/Box",eoe="http://purl.org/dc/terms/FileFormat",toe="http://purl.org/dc/terms/Frequency",noe="http://purl.org/dc/terms/ISO3166",roe="http://purl.org/dc/terms/Jurisdiction",ioe="http://purl.org/dc/terms/LicenseDocument",aoe="http://purl.org/dc/terms/LinguisticSystem",ooe="http://purl.org/dc/terms/Location",soe="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",uoe="http://purl.org/dc/terms/MediaType",loe="http://purl.org/dc/terms/MediaTypeOrExtent",coe="http://purl.org/dc/terms/MethodOfAccrual",foe="http://purl.org/dc/terms/MethodOfInstruction",doe="http://purl.org/dc/terms/Period",hoe="http://purl.org/dc/terms/PeriodOfTime",poe="http://purl.org/dc/terms/PhysicalMedium",goe="http://purl.org/dc/terms/PhysicalResource",moe="http://purl.org/dc/terms/Point",yoe="http://purl.org/dc/terms/Policy",voe="http://purl.org/dc/terms/ProvenanceStatement",_oe="http://purl.org/dc/terms/RFC1766",woe="http://purl.org/dc/terms/RFC3066",boe="http://purl.org/dc/terms/RFC4646",Soe="http://purl.org/dc/terms/RFC5646",xoe="http://purl.org/dc/terms/RightsStatement",Eoe="http://purl.org/dc/terms/SizeOrDuration",Coe="http://purl.org/dc/terms/Standard",Toe="http://purl.org/dc/terms/URI",Roe="http://purl.org/dc/terms/W3CDTF",Aoe="http://purl.org/dc/terms/abstract",Poe="http://purl.org/dc/terms/accessRights",Ooe="http://purl.org/dc/terms/accrualMethod",Loe="http://purl.org/dc/terms/accrualPeriodicity",Ioe="http://purl.org/dc/terms/accrualPolicy",Moe="http://purl.org/dc/terms/alternative",Doe="http://purl.org/dc/terms/audience",koe="http://purl.org/dc/terms/available",Noe="http://purl.org/dc/terms/bibliographicCitation",Foe="http://purl.org/dc/terms/conformsTo",joe="http://purl.org/dc/terms/contributor",$oe="http://purl.org/dc/terms/coverage",Boe="http://purl.org/dc/terms/created",Uoe="http://purl.org/dc/terms/creator",qoe="http://purl.org/dc/terms/date",zoe="http://purl.org/dc/terms/dateAccepted",Hoe="http://purl.org/dc/terms/dateCopyrighted",Voe="http://purl.org/dc/terms/dateSubmitted",Koe="http://purl.org/dc/terms/description",Goe="http://purl.org/dc/terms/educationLevel",Woe="http://purl.org/dc/terms/extent",Qoe="http://purl.org/dc/terms/format",Zoe="http://purl.org/dc/terms/hasFormat",Joe="http://purl.org/dc/terms/hasPart",Xoe="http://purl.org/dc/terms/hasVersion",Yoe="http://purl.org/dc/terms/identifier",ese="http://purl.org/dc/terms/instructionalMethod",tse="http://purl.org/dc/terms/isFormatOf",nse="http://purl.org/dc/terms/isPartOf",rse="http://purl.org/dc/terms/isReferencedBy",ise="http://purl.org/dc/terms/isReplacedBy",ase="http://purl.org/dc/terms/isRequiredBy",ose="http://purl.org/dc/terms/isVersionOf",sse="http://purl.org/dc/terms/issued",use="http://purl.org/dc/terms/language",lse="http://purl.org/dc/terms/license",cse="http://purl.org/dc/terms/mediator",fse="http://purl.org/dc/terms/medium",dse="http://purl.org/dc/terms/modified",hse="http://purl.org/dc/terms/provenance",pse="http://purl.org/dc/terms/publisher",gse="http://purl.org/dc/terms/references",mse="http://purl.org/dc/terms/relation",yse="http://purl.org/dc/terms/replaces",vse="http://purl.org/dc/terms/requires",_se="http://purl.org/dc/terms/rights",wse="http://purl.org/dc/terms/rightsHolder",bse="http://purl.org/dc/terms/source",Sse="http://purl.org/dc/terms/spatial",xse="http://purl.org/dc/terms/subject",Ese="http://purl.org/dc/terms/tableOfContents",Cse="http://purl.org/dc/terms/temporal",Tse="http://purl.org/dc/terms/title",Rse="http://purl.org/dc/terms/type",Ase="http://purl.org/dc/terms/valid",Pse=Object.freeze({AgentClass:Jae,BibliographicResource:Xae,Box:Yae,FileFormat:eoe,Frequency:toe,ISO3166:noe,Jurisdiction:roe,LicenseDocument:ioe,LinguisticSystem:aoe,Location:ooe,LocationPeriodOrJurisdiction:soe,MediaType:uoe,MediaTypeOrExtent:loe,MethodOfAccrual:coe,MethodOfInstruction:foe,Period:doe,PeriodOfTime:hoe,PhysicalMedium:poe,PhysicalResource:goe,Point:moe,Policy:yoe,ProvenanceStatement:voe,RFC1766:_oe,RFC3066:woe,RFC4646:boe,RFC5646:Soe,RightsStatement:xoe,SizeOrDuration:Eoe,Standard:Coe,URI:Toe,W3CDTF:Roe,abstract:Aoe,accessRights:Poe,accrualMethod:Ooe,accrualPeriodicity:Loe,accrualPolicy:Ioe,alternative:Moe,audience:Doe,available:koe,bibliographicCitation:Noe,conformsTo:Foe,contributor:joe,coverage:$oe,created:Boe,creator:Uoe,date:qoe,dateAccepted:zoe,dateCopyrighted:Hoe,dateSubmitted:Voe,description:Koe,educationLevel:Goe,extent:Woe,format:Qoe,hasFormat:Zoe,hasPart:Joe,hasVersion:Xoe,identifier:Yoe,instructionalMethod:ese,isFormatOf:tse,isPartOf:nse,isReferencedBy:rse,isReplacedBy:ise,isRequiredBy:ase,isVersionOf:ose,issued:sse,language:use,license:lse,mediator:cse,medium:fse,modified:dse,provenance:hse,publisher:pse,references:gse,relation:mse,replaces:yse,requires:vse,rights:_se,rightsHolder:wse,source:bse,spatial:Sse,subject:xse,tableOfContents:Ese,temporal:Cse,title:Tse,type:Rse,valid:Ase}),Ose="http://xmlns.com/foaf/0.1/Person",Lse="http://xmlns.com/foaf/0.1/Document",Ise="http://xmlns.com/foaf/0.1/Organization",Mse="http://xmlns.com/foaf/0.1/Group",Dse="http://xmlns.com/foaf/0.1/Agent",kse="http://xmlns.com/foaf/0.1/Project",Nse="http://xmlns.com/foaf/0.1/Image",Fse="http://xmlns.com/foaf/0.1/PersonalProfileDocument",jse="http://xmlns.com/foaf/0.1/OnlineAccount",$se="http://xmlns.com/foaf/0.1/OnlineGamingAccount",Bse="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Use="http://xmlns.com/foaf/0.1/OnlineChatAccount",qse="http://xmlns.com/foaf/0.1/mbox",zse="http://xmlns.com/foaf/0.1/mbox_sha1sum",Hse="http://xmlns.com/foaf/0.1/gender",Vse="http://xmlns.com/foaf/0.1/geekcode",Kse="http://xmlns.com/foaf/0.1/dnaChecksum",Gse="http://xmlns.com/foaf/0.1/sha1",Wse="http://xmlns.com/foaf/0.1/based_near",Qse="http://xmlns.com/foaf/0.1/title",Zse="http://xmlns.com/foaf/0.1/nick",Jse="http://xmlns.com/foaf/0.1/jabberID",Xse="http://xmlns.com/foaf/0.1/aimChatID",Yse="http://xmlns.com/foaf/0.1/icqChatID",eue="http://xmlns.com/foaf/0.1/yahooChatID",tue="http://xmlns.com/foaf/0.1/msnChatID",nue="http://xmlns.com/foaf/0.1/name",rue="http://xmlns.com/foaf/0.1/firstName",iue="http://xmlns.com/foaf/0.1/givenname",aue="http://xmlns.com/foaf/0.1/surname",oue="http://xmlns.com/foaf/0.1/family_name",sue="http://xmlns.com/foaf/0.1/phone",uue="http://xmlns.com/foaf/0.1/homepage",lue="http://xmlns.com/foaf/0.1/weblog",cue="http://xmlns.com/foaf/0.1/tipjar",fue="http://xmlns.com/foaf/0.1/plan",due="http://xmlns.com/foaf/0.1/made",hue="http://xmlns.com/foaf/0.1/maker",pue="http://xmlns.com/foaf/0.1/img",gue="http://xmlns.com/foaf/0.1/depiction",mue="http://xmlns.com/foaf/0.1/depicts",yue="http://xmlns.com/foaf/0.1/thumbnail",vue="http://xmlns.com/foaf/0.1/myersBriggs",_ue="http://xmlns.com/foaf/0.1/workplaceHomepage",wue="http://xmlns.com/foaf/0.1/workInfoHomepage",bue="http://xmlns.com/foaf/0.1/schoolHomepage",Sue="http://xmlns.com/foaf/0.1/knows",xue="http://xmlns.com/foaf/0.1/interest",Eue="http://xmlns.com/foaf/0.1/topic_interest",Cue="http://xmlns.com/foaf/0.1/publications",Tue="http://xmlns.com/foaf/0.1/currentProject",Rue="http://xmlns.com/foaf/0.1/pastProject",Aue="http://xmlns.com/foaf/0.1/fundedBy",Pue="http://xmlns.com/foaf/0.1/logo",Oue="http://xmlns.com/foaf/0.1/topic",Lue="http://xmlns.com/foaf/0.1/primaryTopic",Iue="http://xmlns.com/foaf/0.1/page",Mue="http://xmlns.com/foaf/0.1/theme",Due="http://xmlns.com/foaf/0.1/holdsAccount",kue="http://xmlns.com/foaf/0.1/accountServiceHomepage",Nue="http://xmlns.com/foaf/0.1/accountName",Fue="http://xmlns.com/foaf/0.1/member",jue="http://xmlns.com/foaf/0.1/membershipClass",$ue=Object.freeze({Person:Ose,Document:Lse,Organization:Ise,Group:Mse,Agent:Dse,Project:kse,Image:Nse,PersonalProfileDocument:Fse,OnlineAccount:jse,OnlineGamingAccount:$se,OnlineEcommerceAccount:Bse,OnlineChatAccount:Use,mbox:qse,mbox_sha1sum:zse,gender:Hse,geekcode:Vse,dnaChecksum:Kse,sha1:Gse,based_near:Wse,title:Qse,nick:Zse,jabberID:Jse,aimChatID:Xse,icqChatID:Yse,yahooChatID:eue,msnChatID:tue,name:nue,firstName:rue,givenname:iue,surname:aue,family_name:oue,phone:sue,homepage:uue,weblog:lue,tipjar:cue,plan:fue,made:due,maker:hue,img:pue,depiction:gue,depicts:mue,thumbnail:yue,myersBriggs:vue,workplaceHomepage:_ue,workInfoHomepage:wue,schoolHomepage:bue,knows:Sue,interest:xue,topic_interest:Eue,publications:Cue,currentProject:Tue,pastProject:Rue,fundedBy:Aue,logo:Pue,topic:Oue,primaryTopic:Lue,page:Iue,theme:Mue,holdsAccount:Due,accountServiceHomepage:kue,accountName:Nue,member:Fue,membershipClass:jue}),Bue="http://www.w3.org/ns/ldp#Resource",Uue="http://www.w3.org/ns/ldp#RDFSource",que="http://www.w3.org/ns/ldp#NonRDFSource",zue="http://www.w3.org/ns/ldp#Container",Hue="http://www.w3.org/ns/ldp#BasicContainer",Vue="http://www.w3.org/ns/ldp#DirectContainer",Kue="http://www.w3.org/ns/ldp#IndirectContainer",Gue="http://www.w3.org/ns/ldp#hasMemberRelation",Wue="http://www.w3.org/ns/ldp#isMemberOfRelation",Que="http://www.w3.org/ns/ldp#membershipResource",Zue="http://www.w3.org/ns/ldp#insertedContentRelation",Jue="http://www.w3.org/ns/ldp#member",Xue="http://www.w3.org/ns/ldp#contains",Yue="http://www.w3.org/ns/ldp#constrainedBy",ele="http://www.w3.org/ns/ldp#pageSortCriteria",tle="http://www.w3.org/ns/ldp#PageSortCriterion",nle="http://www.w3.org/ns/ldp#pageSortPredicate",rle="http://www.w3.org/ns/ldp#pageSortOrder",ile="http://www.w3.org/ns/ldp#pageSortCollation",ale="http://www.w3.org/ns/ldp#Page",ole="http://www.w3.org/ns/ldp#pageSequence",sle="http://www.w3.org/ns/ldp#inbox",ule=Object.freeze({Resource:Bue,RDFSource:Uue,NonRDFSource:que,Container:zue,BasicContainer:Hue,DirectContainer:Vue,IndirectContainer:Kue,hasMemberRelation:Gue,isMemberOfRelation:Wue,membershipResource:Que,insertedContentRelation:Zue,member:Jue,contains:Xue,constrainedBy:Yue,pageSortCriteria:ele,PageSortCriterion:tle,pageSortPredicate:nle,pageSortOrder:rle,pageSortCollation:ile,Page:ale,pageSequence:ole,inbox:sle}),lle="http://www.w3.org/ns/pim/meeting#Meeting",cle="http://www.w3.org/ns/pim/meeting#VideoCallPage",fle="http://www.w3.org/ns/pim/meeting#actionItems",dle="http://www.w3.org/ns/pim/meeting#agenda",hle="http://www.w3.org/ns/pim/meeting#attendeeGroup",ple="http://www.w3.org/ns/pim/meeting#chat",gle="http://www.w3.org/ns/pim/meeting#nextMeeting",mle="http://www.w3.org/ns/pim/meeting#previousMeeting",yle="http://www.w3.org/ns/pim/meeting#sharedNotes",vle="http://www.w3.org/ns/pim/meeting#toolList",_le="http://www.w3.org/ns/pim/meeting#trip",wle="http://www.w3.org/ns/pim/meeting#videoCallPage",ble=Object.freeze({Meeting:lle,VideoCallPage:cle,actionItems:fle,agenda:dle,attendeeGroup:hle,chat:ple,nextMeeting:gle,previousMeeting:mle,sharedNotes:yle,toolList:vle,trip:_le,videoCallPage:wle}),Sle="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",xle="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Ele="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",Cle="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Tle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Rle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Ale="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",Ple="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",Ole="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Lle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Ile="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Mle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",Dle="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",kle="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",Nle="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",Fle="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",jle="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",$le="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",Ble="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Ule="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",qle="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",zle=Object.freeze({HTML:Sle,langString:xle,PlainLiteral:Ele,type:Cle,Property:Tle,Statement:Rle,subject:Ale,predicate:Ple,object:Ole,Bag:Lle,Seq:Ile,Alt:Mle,value:Dle,List:kle,first:Nle,rest:Fle,XMLLiteral:jle,JSON__workaround:$le,CompoundLiteral:Ble,language:Ule,direction:qle}),Hle="http://www.w3.org/2000/01/rdf-schema#Resource",Vle="http://www.w3.org/2000/01/rdf-schema#Class",Kle="http://www.w3.org/2000/01/rdf-schema#subClassOf",Gle="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",Wle="http://www.w3.org/2000/01/rdf-schema#comment",Qle="http://www.w3.org/2000/01/rdf-schema#label",Zle="http://www.w3.org/2000/01/rdf-schema#domain",Jle="http://www.w3.org/2000/01/rdf-schema#range",Xle="http://www.w3.org/2000/01/rdf-schema#seeAlso",Yle="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",ece="http://www.w3.org/2000/01/rdf-schema#Literal",tce="http://www.w3.org/2000/01/rdf-schema#Container",nce="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",rce="http://www.w3.org/2000/01/rdf-schema#member",ice="http://www.w3.org/2000/01/rdf-schema#Datatype",ace=Object.freeze({Resource:Hle,Class:Vle,subClassOf:Kle,subPropertyOf:Gle,comment:Wle,label:Qle,domain:Zle,range:Jle,seeAlso:Xle,isDefinedBy:Yle,Literal:ece,Container:tce,ContainerMembershipProperty:nce,member:rce,Datatype:ice}),oce="http://rdfs.org/sioc/ns#Community",sce="http://rdfs.org/sioc/ns#Container",uce="http://rdfs.org/sioc/ns#Forum",lce="http://rdfs.org/sioc/ns#Item",cce="http://rdfs.org/sioc/ns#Post",fce="http://rdfs.org/sioc/ns#Role",dce="http://rdfs.org/sioc/ns#Space",hce="http://rdfs.org/sioc/ns#Site",pce="http://rdfs.org/sioc/ns#Thread",gce="http://rdfs.org/sioc/ns#UserAccount",mce="http://rdfs.org/sioc/ns#Usergroup",yce="http://rdfs.org/sioc/ns#about",vce="http://rdfs.org/sioc/ns#account_of",_ce="http://rdfs.org/sioc/ns#addressed_to",wce="http://rdfs.org/sioc/ns#administrator_of",bce="http://rdfs.org/sioc/ns#attachment",Sce="http://rdfs.org/sioc/ns#avatar",xce="http://rdfs.org/sioc/ns#container_of",Ece="http://rdfs.org/sioc/ns#content",Cce="http://rdfs.org/sioc/ns#creator_of",Tce="http://rdfs.org/sioc/ns#delivered_at",Rce="http://rdfs.org/sioc/ns#discussion_of",Ace="http://rdfs.org/sioc/ns#email",Pce="http://rdfs.org/sioc/ns#email_sha1",Oce="http://rdfs.org/sioc/ns#embeds_knowledge",Lce="http://rdfs.org/sioc/ns#feed",Ice="http://rdfs.org/sioc/ns#follows",Mce="http://rdfs.org/sioc/ns#function_of",Dce="http://rdfs.org/sioc/ns#generator",kce="http://rdfs.org/sioc/ns#has_administrator",Nce="http://rdfs.org/sioc/ns#has_container",Fce="http://rdfs.org/sioc/ns#has_creator",jce="http://rdfs.org/sioc/ns#has_discussion",$ce="http://rdfs.org/sioc/ns#has_function",Bce="http://rdfs.org/sioc/ns#has_host",Uce="http://rdfs.org/sioc/ns#has_member",qce="http://rdfs.org/sioc/ns#has_moderator",zce="http://rdfs.org/sioc/ns#has_modifier",Hce="http://rdfs.org/sioc/ns#has_owner",Vce="http://rdfs.org/sioc/ns#has_parent",Kce="http://rdfs.org/sioc/ns#has_reply",Gce="http://rdfs.org/sioc/ns#has_scope",Wce="http://rdfs.org/sioc/ns#has_space",Qce="http://rdfs.org/sioc/ns#has_subscriber",Zce="http://rdfs.org/sioc/ns#has_usergroup",Jce="http://rdfs.org/sioc/ns#host_of",Xce="http://rdfs.org/sioc/ns#id",Yce="http://rdfs.org/sioc/ns#ip_address",efe="http://rdfs.org/sioc/ns#last_activity_date",tfe="http://rdfs.org/sioc/ns#last_item_date",nfe="http://rdfs.org/sioc/ns#last_reply_date",rfe="http://rdfs.org/sioc/ns#latest_version",ife="http://rdfs.org/sioc/ns#likes",afe="http://rdfs.org/sioc/ns#link",ofe="http://rdfs.org/sioc/ns#links_to",sfe="http://rdfs.org/sioc/ns#member_of",ufe="http://rdfs.org/sioc/ns#mentions",lfe="http://rdfs.org/sioc/ns#moderator_of",cfe="http://rdfs.org/sioc/ns#modifier_of",ffe="http://rdfs.org/sioc/ns#name",dfe="http://rdfs.org/sioc/ns#next_by_date",hfe="http://rdfs.org/sioc/ns#next_version",pfe="http://rdfs.org/sioc/ns#note",gfe="http://rdfs.org/sioc/ns#num_authors",mfe="http://rdfs.org/sioc/ns#num_items",yfe="http://rdfs.org/sioc/ns#num_replies",vfe="http://rdfs.org/sioc/ns#num_threads",_fe="http://rdfs.org/sioc/ns#num_views",wfe="http://rdfs.org/sioc/ns#owner_of",bfe="http://rdfs.org/sioc/ns#parent_of",Sfe="http://rdfs.org/sioc/ns#previous_by_date",xfe="http://rdfs.org/sioc/ns#previous_version",Efe="http://rdfs.org/sioc/ns#read_at",Cfe="http://rdfs.org/sioc/ns#related_to",Tfe="http://rdfs.org/sioc/ns#reply_of",Rfe="http://rdfs.org/sioc/ns#respond_to",Afe="http://rdfs.org/sioc/ns#scope_of",Pfe="http://rdfs.org/sioc/ns#shared_by",Ofe="http://rdfs.org/sioc/ns#space_of",Lfe="http://rdfs.org/sioc/ns#subscriber_of",Ife="http://rdfs.org/sioc/ns#topic",Mfe="http://rdfs.org/sioc/ns#usergroup_of",Dfe=Object.freeze({Community:oce,Container:sce,Forum:uce,Item:lce,Post:cce,Role:fce,Space:dce,Site:hce,Thread:pce,UserAccount:gce,Usergroup:mce,about:yce,account_of:vce,addressed_to:_ce,administrator_of:wce,attachment:bce,avatar:Sce,container_of:xce,content:Ece,creator_of:Cce,delivered_at:Tce,discussion_of:Rce,email:Ace,email_sha1:Pce,embeds_knowledge:Oce,feed:Lce,follows:Ice,function_of:Mce,generator:Dce,has_administrator:kce,has_container:Nce,has_creator:Fce,has_discussion:jce,has_function:$ce,has_host:Bce,has_member:Uce,has_moderator:qce,has_modifier:zce,has_owner:Hce,has_parent:Vce,has_reply:Kce,has_scope:Gce,has_space:Wce,has_subscriber:Qce,has_usergroup:Zce,host_of:Jce,id:Xce,ip_address:Yce,last_activity_date:efe,last_item_date:tfe,last_reply_date:nfe,latest_version:rfe,likes:ife,link:afe,links_to:ofe,member_of:sfe,mentions:ufe,moderator_of:lfe,modifier_of:cfe,name:ffe,next_by_date:dfe,next_version:hfe,note:pfe,num_authors:gfe,num_items:mfe,num_replies:yfe,num_threads:vfe,num_views:_fe,owner_of:wfe,parent_of:bfe,previous_by_date:Sfe,previous_version:xfe,read_at:Efe,related_to:Cfe,reply_of:Tfe,respond_to:Rfe,scope_of:Afe,shared_by:Pfe,space_of:Ofe,subscriber_of:Lfe,topic:Ife,usergroup_of:Mfe}),kfe="http://www.w3.org/ns/solid/terms#Account",Nfe="http://www.w3.org/ns/solid/terms#Inbox",Ffe="http://www.w3.org/ns/solid/terms#InsertDeletePatch",jfe="http://www.w3.org/ns/solid/terms#ListedDocument",$fe="http://www.w3.org/ns/solid/terms#Notification",Bfe="http://www.w3.org/ns/solid/terms#Patch",Ufe="http://www.w3.org/ns/solid/terms#Timeline",qfe="http://www.w3.org/ns/solid/terms#TypeIndex",zfe="http://www.w3.org/ns/solid/terms#TypeRegistration",Hfe="http://www.w3.org/ns/solid/terms#UnlistedDocument",Vfe="http://www.w3.org/ns/solid/terms#account",Kfe="http://www.w3.org/ns/solid/terms#deletes",Gfe="http://www.w3.org/ns/solid/terms#forClass",Wfe="http://www.w3.org/ns/solid/terms#inbox",Qfe="http://www.w3.org/ns/solid/terms#inserts",Zfe="http://www.w3.org/ns/solid/terms#instance",Jfe="http://www.w3.org/ns/solid/terms#instanceContainer",Xfe="http://www.w3.org/ns/solid/terms#loginEndpoint",Yfe="http://www.w3.org/ns/solid/terms#logoutEndpoint",ede="http://www.w3.org/ns/solid/terms#notification",tde="http://www.w3.org/ns/solid/terms#oidcIssuer",nde="http://www.w3.org/ns/solid/terms#owner",rde="http://www.w3.org/ns/solid/terms#patches",ide="http://www.w3.org/ns/solid/terms#privateTypeIndex",ade="http://www.w3.org/ns/solid/terms#publicTypeIndex",ode="http://www.w3.org/ns/solid/terms#read",sde="http://www.w3.org/ns/solid/terms#storageQuota",ude="http://www.w3.org/ns/solid/terms#storageUsage",lde="http://www.w3.org/ns/solid/terms#typeIndex",cde="http://www.w3.org/ns/solid/terms#timeline",fde="http://www.w3.org/ns/solid/terms#where",dde=Object.freeze({Account:kfe,Inbox:Nfe,InsertDeletePatch:Ffe,ListedDocument:jfe,Notification:$fe,Patch:Bfe,Timeline:Ufe,TypeIndex:qfe,TypeRegistration:zfe,UnlistedDocument:Hfe,account:Vfe,deletes:Kfe,forClass:Gfe,inbox:Wfe,inserts:Qfe,instance:Zfe,instanceContainer:Jfe,loginEndpoint:Xfe,logoutEndpoint:Yfe,notification:ede,oidcIssuer:tde,owner:nde,patches:rde,privateTypeIndex:ide,publicTypeIndex:ade,read:ode,storageQuota:sde,storageUsage:ude,typeIndex:lde,timeline:cde,where:fde}),hde="http://www.w3.org/ns/pim/space#ControlledStorage",pde="http://www.w3.org/ns/pim/space#PersonalStorage",gde="http://www.w3.org/ns/pim/space#PublicStorage",mde="http://www.w3.org/ns/pim/space#Storage",yde="http://www.w3.org/ns/pim/space#Workspace",vde="http://www.w3.org/ns/pim/space#masterWorkspace",_de="http://www.w3.org/ns/pim/space#preferencesFile",wde="http://www.w3.org/ns/pim/space#storage",bde="http://www.w3.org/ns/pim/space#uriPrefix",Sde="http://www.w3.org/ns/pim/space#workspace",xde=Object.freeze({ControlledStorage:hde,PersonalStorage:pde,PublicStorage:gde,Storage:mde,Workspace:yde,masterWorkspace:vde,preferencesFile:_de,storage:wde,uriPrefix:bde,workspace:Sde}),Ede="http://www.w3.org/2006/vcard/ns#Acquaintance",Cde="http://www.w3.org/2006/vcard/ns#Agent",Tde="http://www.w3.org/2006/vcard/ns#BBS",Rde="http://www.w3.org/2006/vcard/ns#Car",Ade="http://www.w3.org/2006/vcard/ns#Cell",Pde="http://www.w3.org/2006/vcard/ns#Child",Ode="http://www.w3.org/2006/vcard/ns#Colleague",Lde="http://www.w3.org/2006/vcard/ns#Contact",Ide="http://www.w3.org/2006/vcard/ns#Coresident",Mde="http://www.w3.org/2006/vcard/ns#Coworker",Dde="http://www.w3.org/2006/vcard/ns#Crush",kde="http://www.w3.org/2006/vcard/ns#Date",Nde="http://www.w3.org/2006/vcard/ns#Dom",Fde="http://www.w3.org/2006/vcard/ns#Emergency",jde="http://www.w3.org/2006/vcard/ns#Fax",$de="http://www.w3.org/2006/vcard/ns#Female",Bde="http://www.w3.org/2006/vcard/ns#Friend",Ude="http://www.w3.org/2006/vcard/ns#Home",qde="http://www.w3.org/2006/vcard/ns#ISDN",zde="http://www.w3.org/2006/vcard/ns#Internet",Hde="http://www.w3.org/2006/vcard/ns#Intl",Vde="http://www.w3.org/2006/vcard/ns#Kin",Kde="http://www.w3.org/2006/vcard/ns#Label",Gde="http://www.w3.org/2006/vcard/ns#Male",Wde="http://www.w3.org/2006/vcard/ns#Me",Qde="http://www.w3.org/2006/vcard/ns#Met",Zde="http://www.w3.org/2006/vcard/ns#Modem",Jde="http://www.w3.org/2006/vcard/ns#Msg",Xde="http://www.w3.org/2006/vcard/ns#Muse",Yde="http://www.w3.org/2006/vcard/ns#Neighbor",ehe="http://www.w3.org/2006/vcard/ns#None",the="http://www.w3.org/2006/vcard/ns#Other",nhe="http://www.w3.org/2006/vcard/ns#PCS",rhe="http://www.w3.org/2006/vcard/ns#Pager",ihe="http://www.w3.org/2006/vcard/ns#Parcel",ahe="http://www.w3.org/2006/vcard/ns#Parent",ohe="http://www.w3.org/2006/vcard/ns#Postal",she="http://www.w3.org/2006/vcard/ns#Pref",uhe="http://www.w3.org/2006/vcard/ns#Sibling",lhe="http://www.w3.org/2006/vcard/ns#Spouse",che="http://www.w3.org/2006/vcard/ns#Sweetheart",fhe="http://www.w3.org/2006/vcard/ns#Tel",dhe="http://www.w3.org/2006/vcard/ns#Text",hhe="http://www.w3.org/2006/vcard/ns#TextPhone",phe="http://www.w3.org/2006/vcard/ns#Unknown",ghe="http://www.w3.org/2006/vcard/ns#Video",mhe="http://www.w3.org/2006/vcard/ns#Voice",yhe="http://www.w3.org/2006/vcard/ns#Work",vhe="http://www.w3.org/2006/vcard/ns#X400",_he="http://www.w3.org/2006/vcard/ns#adr",whe="http://www.w3.org/2006/vcard/ns#agent",bhe="http://www.w3.org/2006/vcard/ns#anniversary",She="http://www.w3.org/2006/vcard/ns#bday",xhe="http://www.w3.org/2006/vcard/ns#category",Ehe="http://www.w3.org/2006/vcard/ns#class",Che="http://www.w3.org/2006/vcard/ns#email",The="http://www.w3.org/2006/vcard/ns#geo",Rhe="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Ahe="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",Phe="http://www.w3.org/2006/vcard/ns#hasCalendarLink",Ohe="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Lhe="http://www.w3.org/2006/vcard/ns#hasCategory",Ihe="http://www.w3.org/2006/vcard/ns#hasCountryName",Mhe="http://www.w3.org/2006/vcard/ns#hasFN",Dhe="http://www.w3.org/2006/vcard/ns#hasFamilyName",khe="http://www.w3.org/2006/vcard/ns#hasGender",Nhe="http://www.w3.org/2006/vcard/ns#hasGivenName",Fhe="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",jhe="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",$he="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Bhe="http://www.w3.org/2006/vcard/ns#hasLanguage",Uhe="http://www.w3.org/2006/vcard/ns#hasLocality",qhe="http://www.w3.org/2006/vcard/ns#hasNickname",zhe="http://www.w3.org/2006/vcard/ns#hasNote",Hhe="http://www.w3.org/2006/vcard/ns#hasOrganizationName",Vhe="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Khe="http://www.w3.org/2006/vcard/ns#hasPostalCode",Ghe="http://www.w3.org/2006/vcard/ns#hasRegion",Whe="http://www.w3.org/2006/vcard/ns#hasRelated",Qhe="http://www.w3.org/2006/vcard/ns#hasRole",Zhe="http://www.w3.org/2006/vcard/ns#hasSource",Jhe="http://www.w3.org/2006/vcard/ns#hasStreetAddress",Xhe="http://www.w3.org/2006/vcard/ns#hasTitle",Yhe="http://www.w3.org/2006/vcard/ns#hasUID",epe="http://www.w3.org/2006/vcard/ns#hasValue",tpe="http://www.w3.org/2006/vcard/ns#label",npe="http://www.w3.org/2006/vcard/ns#language",rpe="http://www.w3.org/2006/vcard/ns#latitude",ipe="http://www.w3.org/2006/vcard/ns#longitude",ape="http://www.w3.org/2006/vcard/ns#mailer",ope="http://www.w3.org/2006/vcard/ns#note",spe="http://www.w3.org/2006/vcard/ns#org",upe="http://www.w3.org/2006/vcard/ns#prodid",lpe="http://www.w3.org/2006/vcard/ns#rev",cpe="http://www.w3.org/2006/vcard/ns#role",fpe="http://www.w3.org/2006/vcard/ns#title",dpe="http://www.w3.org/2006/vcard/ns#tz",hpe="http://www.w3.org/2006/vcard/ns#value",ppe="http://www.w3.org/2006/vcard/ns#Address",gpe="http://www.w3.org/2006/vcard/ns#Email",mpe="http://www.w3.org/2006/vcard/ns#Group",ype="http://www.w3.org/2006/vcard/ns#Individual",vpe="http://www.w3.org/2006/vcard/ns#Name",_pe="http://www.w3.org/2006/vcard/ns#VCard",wpe="http://www.w3.org/2006/vcard/ns#fn",bpe="http://www.w3.org/2006/vcard/ns#hasAddress",Spe="http://www.w3.org/2006/vcard/ns#hasEmail",xpe="http://www.w3.org/2006/vcard/ns#hasGeo",Epe="http://www.w3.org/2006/vcard/ns#hasKey",Cpe="http://www.w3.org/2006/vcard/ns#hasLogo",Tpe="http://www.w3.org/2006/vcard/ns#hasName",Rpe="http://www.w3.org/2006/vcard/ns#hasPhoto",Ape="http://www.w3.org/2006/vcard/ns#hasSound",Ppe="http://www.w3.org/2006/vcard/ns#hasTelephone",Ope="http://www.w3.org/2006/vcard/ns#hasURL",Lpe="http://www.w3.org/2006/vcard/ns#key",Ipe="http://www.w3.org/2006/vcard/ns#logo",Mpe="http://www.w3.org/2006/vcard/ns#n",Dpe="http://www.w3.org/2006/vcard/ns#nickname",kpe="http://www.w3.org/2006/vcard/ns#photo",Npe="http://www.w3.org/2006/vcard/ns#sound",Fpe="http://www.w3.org/2006/vcard/ns#tel",jpe="http://www.w3.org/2006/vcard/ns#url",$pe="http://www.w3.org/2006/vcard/ns#Location",Bpe="http://www.w3.org/2006/vcard/ns#hasMember",Upe="http://www.w3.org/2006/vcard/ns#locality",qpe="http://www.w3.org/2006/vcard/ns#region",zpe="http://www.w3.org/2006/vcard/ns#Organization",Hpe="http://www.w3.org/2006/vcard/ns#Gender",Vpe="http://www.w3.org/2006/vcard/ns#Kind",Kpe="http://www.w3.org/2006/vcard/ns#Type",Gpe="http://www.w3.org/2006/vcard/ns#TelephoneType",Wpe="http://www.w3.org/2006/vcard/ns#RelatedType",Qpe=Object.freeze({Acquaintance:Ede,Agent:Cde,BBS:Tde,Car:Rde,Cell:Ade,Child:Pde,Colleague:Ode,Contact:Lde,Coresident:Ide,Coworker:Mde,Crush:Dde,Date__workaround:kde,Dom:Nde,Emergency:Fde,Fax:jde,Female:$de,Friend:Bde,Home:Ude,ISDN:qde,Internet:zde,Intl__workaround:Hde,Kin:Vde,Label:Kde,Male:Gde,Me:Wde,Met:Qde,Modem:Zde,Msg:Jde,Muse:Xde,Neighbor:Yde,None:ehe,Other:the,PCS:nhe,Pager:rhe,Parcel:ihe,Parent:ahe,Postal:ohe,Pref:she,Sibling:uhe,Spouse:lhe,Sweetheart:che,Tel:fhe,Text:dhe,TextPhone:hhe,Unknown:phe,Video:ghe,Voice:mhe,Work:yhe,X400:vhe,adr:_he,agent:whe,anniversary:bhe,bday:She,category:xhe,class__workaround:Ehe,email:Che,geo:The,hasAdditionalName:Rhe,hasCalendarBusy:Ahe,hasCalendarLink:Phe,hasCalendarRequest:Ohe,hasCategory:Lhe,hasCountryName:Ihe,hasFN:Mhe,hasFamilyName:Dhe,hasGender:khe,hasGivenName:Nhe,hasHonorificPrefix:Fhe,hasHonorificSuffix:jhe,hasInstantMessage:$he,hasLanguage:Bhe,hasLocality:Uhe,hasNickname:qhe,hasNote:zhe,hasOrganizationName:Hhe,hasOrganizationUnit:Vhe,hasPostalCode:Khe,hasRegion:Ghe,hasRelated:Whe,hasRole:Qhe,hasSource:Zhe,hasStreetAddress:Jhe,hasTitle:Xhe,hasUID:Yhe,hasValue:epe,label:tpe,language:npe,latitude:rpe,longitude:ipe,mailer:ape,note:ope,org:spe,prodid:upe,rev:lpe,role:cpe,title:fpe,tz:dpe,value:hpe,Address:ppe,Email:gpe,Group:mpe,Individual:ype,Name:vpe,VCard:_pe,fn:wpe,hasAddress:bpe,hasEmail:Spe,hasGeo:xpe,hasKey:Epe,hasLogo:Cpe,hasName:Tpe,hasPhoto:Rpe,hasSound:Ape,hasTelephone:Ppe,hasURL:Ope,key:Lpe,logo:Ipe,n:Mpe,nickname:Dpe,photo:kpe,sound:Npe,tel:Fpe,url:jpe,Location:$pe,hasMember:Bpe,locality:Upe,region:qpe,Organization:zpe,Gender:Hpe,Kind:Vpe,Type:Kpe,TelephoneType:Gpe,RelatedType:Wpe}),Zpe="http://www.w3.org/2005/01/wf/flow#ActionItem",Jpe="http://www.w3.org/2005/01/wf/flow#Change",Xpe="http://www.w3.org/2005/01/wf/flow#Closed",Ype="http://www.w3.org/2005/01/wf/flow#Creation",ege="http://www.w3.org/2005/01/wf/flow#Message",tge="http://www.w3.org/2005/01/wf/flow#NonTerminalState",nge="http://www.w3.org/2005/01/wf/flow#Open",rge="http://www.w3.org/2005/01/wf/flow#Product",ige="http://www.w3.org/2005/01/wf/flow#Task",age="http://www.w3.org/2005/01/wf/flow#TerminalState",oge="http://www.w3.org/2005/01/wf/flow#Tracker",sge="http://www.w3.org/2005/01/wf/flow#Transition",uge="http://www.w3.org/2005/01/wf/flow#affects",lge="http://www.w3.org/2005/01/wf/flow#allowedTransitions",cge="http://www.w3.org/2005/01/wf/flow#asigneeClass",fge="http://www.w3.org/2005/01/wf/flow#assignee",dge="http://www.w3.org/2005/01/wf/flow#attachment",hge="http://www.w3.org/2005/01/wf/flow#creates",pge="http://www.w3.org/2005/01/wf/flow#dateDue",gge="http://www.w3.org/2005/01/wf/flow#deliverable",mge="http://www.w3.org/2005/01/wf/flow#dependent",yge="http://www.w3.org/2005/01/wf/flow#description",vge="http://www.w3.org/2005/01/wf/flow#final",_ge="http://www.w3.org/2005/01/wf/flow#goalDescription",wge="http://www.w3.org/2005/01/wf/flow#initialState",bge="http://www.w3.org/2005/01/wf/flow#issue",Sge="http://www.w3.org/2005/01/wf/flow#issueCategory",xge="http://www.w3.org/2005/01/wf/flow#issueClass",Ege="http://www.w3.org/2005/01/wf/flow#message",Cge="http://www.w3.org/2005/01/wf/flow#modifiedBy",Tge="http://www.w3.org/2005/01/wf/flow#recipent",Rge="http://www.w3.org/2005/01/wf/flow#requires",Age="http://www.w3.org/2005/01/wf/flow#screenShot",Pge="http://www.w3.org/2005/01/wf/flow#sender",Oge="http://www.w3.org/2005/01/wf/flow#source",Lge="http://www.w3.org/2005/01/wf/flow#stateStore",Ige="http://www.w3.org/2005/01/wf/flow#subscriber",Mge="http://www.w3.org/2005/01/wf/flow#successCriteria",Dge="http://www.w3.org/2005/01/wf/flow#task",kge="http://www.w3.org/2005/01/wf/flow#terminalOutput",Nge="http://www.w3.org/2005/01/wf/flow#testData",Fge="http://www.w3.org/2005/01/wf/flow#tracker",jge="http://www.w3.org/2005/01/wf/flow#transactionStore",$ge=Object.freeze({ActionItem:Zpe,Change:Jpe,Closed:Xpe,Creation:Ype,Message:ege,NonTerminalState:tge,Open:nge,Product:rge,Task:ige,TerminalState:age,Tracker:oge,Transition:sge,affects:uge,allowedTransitions:lge,asigneeClass:cge,assignee:fge,attachment:dge,creates:hge,dateDue:pge,deliverable:gge,dependent:mge,description:yge,final:vge,goalDescription:_ge,initialState:wge,issue:bge,issueCategory:Sge,issueClass:xge,message:Ege,modifiedBy:Cge,recipent:Tge,requires:Rge,screenShot:Age,sender:Pge,source:Oge,stateStore:Lge,subscriber:Ige,successCriteria:Mge,task:Dge,terminalOutput:kge,testData:Nge,tracker:Fge,transactionStore:jge}),Rn=Bre,kA=Zae,H9=Pse,Yl=$ue,Tu=ule,Bge=ble,Gh=zle,cO=ace,Th=Dfe,En=dde,Uf=xde,V9=Qpe,Uge=$ge,Xa=function(e){return e.Read="Read",e.Write="Write",e.Append="Append",e.Control="Control",e}({}),Qr=function(e){return e.simpleMailerIntegration="simpleMailerIntegration",e.mailerIntegration="mailerIntegration",e.rdfDocument="rdfDocument",e.file="file",e.geoindex="geoindex",e.wikidataSearch="wikidataSearch",e.wikidataEntity="wikidataEntity",e}({});const qge=async(e,t)=>{const n=await globalThis.fetch(e,{method:"GET"});return await ar(n.url,t)},zge=async e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=i=>n(i)}),di=e=>{const t=new URL(e);if(t.hash="",t.search="",t.pathname.length===0||t.pathname==="/")return t.toString();const n=t.pathname.split("/").slice(0,-1);return n.push(""),t.pathname=n.join("/"),t.toString()},K9=e=>{const t=di(e);return t===e?G9(t):t},Hge=e=>Vge(e,K9),G9=e=>{const t=new URL(e);if(t.pathname.length===0||t.pathname==="/")return e;const n=t.pathname.split("/").slice(0,-2);return n.push(""),t.pathname=n.join("/"),t.toString()},ku=async(e,t)=>{try{return await ar(e,t)}catch{return await qge(e,t)}},uc=e=>{const t=new URL(e);return t.hash="",t.toString()},zN=e=>{const t=new URL(e);return t.protocol="https",t.toString()},Vge=(e,t)=>{const n=new Set;let r=e;for(;!n.has(r);)n.add(r),r=t(r);return n.delete(e),Array.from(n)},qf=async e=>{var a;const n=(await ar(e,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${e} does not have any Link headers`);const i=(a=R9.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${e}`);return new URL(i,e).toString()},W9=(e,t)=>{const r=new Hh({baseIRI:e}).parse(t),i=new ks(r),a=i.getSubjects(Gh.type,Rn.Authorization,null),o={[Rn.Read]:Xa.Read,[Rn.Write]:Xa.Write,[Rn.Append]:Xa.Append,[Rn.Control]:Xa.Control};return a.map(s=>{const l=i.getObjects(s,Rn.mode,null).map(y=>o[y.value]).filter(y=>typeof y<"u"),c=i.getObjects(s,Rn.agent,null).map(y=>y.value),d=i.getObjects(s,Rn.agentClass,null).map(y=>y.value),h=i.getObjects(s,Rn.agentGroup,null).map(y=>y.value),g=i.getObjects(s,Rn.default__workaround,null).map(y=>y.value);return{url:s.value,modes:l,agents:c,agentClasses:d,agentGroups:h,defaults:g}})},Kge=(e,...t)=>{const n={};for(const r of t)for(const i of r)n[i[e]]=i;return Object.values(n)},Gge=e=>{const t={};return e&&e.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const a=i[1],o=i[2].split(/\s+/);t[a]=new Set(o)}}),t};function Wl(e,t){t=di(t);try{const n=new URL(e).href,r=new URL(t).href;return n.startsWith(r)?n.substring(r.length)||"./":e}catch{return e}}const Q9=e=>(t,n)=>{const r=e.indexOf(t),i=e.indexOf(n);return r!==-1&&i!==-1?r-i:r!==-1?-1:i!==-1?1:0},fO=(e="")=>{const t=e&&uc(e),n=V.useMemo(()=>[Qr.file,t],[t]);return wy({queryKey:n,queryFn:()=>Wge(t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},Wge=async e=>{const t=await ar(e);if(t.ok)return URL.createObjectURL(await t.blob());if(t.status===404)return"";throw new Error(`Fetching ${e} not successful`)},Qge=async(e,t)=>{const r=(await ar(e,{method:"POST",body:t})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},Zge=async e=>{await ar(e,{method:"DELETE"})},Jge=()=>{const e=Ui();return lo({mutationFn:async({uri:n,data:r})=>await Qge(n,r),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Qr.file,uc(r.uri)]})}})},Xge=()=>{const e=Ui();return lo({mutationFn:async({uri:n})=>await Zge(n),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Qr.file,uc(r.uri)]})}})};function Z9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Z9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ar(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Z9(e))&&(r&&(r+=" "),r+=t);return r}var J9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HN=Ot.createContext&&Ot.createContext(J9),Yge=["attr","size","title"];function eme(e,t){if(e==null)return{};var n=tme(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tme(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){nme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nme(e,t,n){return t=rme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rme(e){var t=ime(e,"string");return typeof t=="symbol"?t:t+""}function ime(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X9(e){return e&&e.map((t,n)=>Ot.createElement(t.tag,vw({key:n},t.attr),X9(t.child)))}function qi(e){return t=>Ot.createElement(ame,yw({attr:vw({},e.attr)},t),X9(e.child))}function ame(e){var t=n=>{var{attr:r,size:i,title:a}=e,o=eme(e,Yge),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ot.createElement("svg",yw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:vw(vw({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Ot.createElement("title",null,a),e.children)};return HN!==void 0?Ot.createElement(HN.Consumer,null,n=>t(n)):t(J9)}function ome(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Ty(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function sme(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(e)}function ume(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Y9(e){return qi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(e)}function KN(e){return qi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ez(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function lme(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function cme(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function fme(e){return qi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function dme(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function tz(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function hme(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function _w(e){return qi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function pme(e){return qi({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function gme(e){return qi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(e)}const mme="_photo_cmh6k_1",yme="_square_cmh6k_6",zx={photo:mme,square:yme},ob=({photo:e,size:t=1,square:n,className:r})=>{const{data:i}=fO(e);return i?U.jsx("img",{className:Ar(zx.photo,n&&zx.square,r),src:i,alt:"",style:{width:`${t*2}rem`,height:`${t*2}rem`}}):U.jsx(pme,{className:Ar(zx.photo,r),size:t*32})},vme="_button_14nfq_1",_me="_primary_14nfq_15",wme="_secondary_14nfq_24",bme="_tertiary_14nfq_32",Sme="_danger_14nfq_37",ya={button:vme,primary:_me,secondary:wme,tertiary:bme,danger:Sme},rr=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>U.jsx("button",{className:Ar(i,ya.button,e&&ya.primary,r&&ya.danger,t&&ya.secondary,n&&ya.tertiary),...a}),xf=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>U.jsx(Qo,{className:Ar(i,ya.button,e&&ya.primary,r&&ya.danger,t&&ya.secondary,n&&ya.tertiary),...a}),nz=({icon:e=ez,...t})=>U.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:U.jsx(e,{})}),xme=({primary:e,secondary:t,tertiary:n,danger:r,className:i,children:a,...o})=>U.jsx("a",{className:Ar(i,ya.button,e&&ya.primary,r&&ya.danger,t&&ya.secondary,n&&ya.tertiary),...o,children:a}),Eme={...EX,communityId:mq,communityContainer:yq,emailNotificationsType:vq,oidcIssuers:xq,geoindexService:_q,tileServer:Sq,darkModeLogoStyle:wq,defaultCommunityName:bq},Nn=()=>{const e=$r(zq);return V.useMemo(()=>({...Eme,...e}),[e])},Cme=()=>{const e=oc(),t=Nn();V.useEffect(()=>{window.updateAppConfig=n=>{e(CA.setConfig(n))},window.resetAppConfig=()=>{e(CA.resetConfig())}},[e]),V.useEffect(()=>{window.appConfig=t},[t])},Tme="_logoContainer_16cvy_1",Rme="_logo_16cvy_1",Ame="_focusedLogo_16cvy_10",Pme="_unfocusedLogo_16cvy_13",Ome="_darkInvert_16cvy_20",$c={logoContainer:Tme,logo:Rme,focusedLogo:Ame,unfocusedLogo:Pme,darkInvert:Ome},rz=({logo:e,focusedLogo:t,name:n,className:r})=>{const{darkModeLogoStyle:i}=Nn(),{i18n:a,_:o}=Ur();return!e&&!n?null:U.jsxs("div",{className:$c.logoContainer,children:[e&&U.jsx("img",{src:e,className:Ar($c.logo,i==="invert"&&$c.darkInvert,t?$c.unfocusedLogo:null,r),alt:n?a._({id:"2ZJVX8",values:{name:n}}):""}),t&&U.jsx("img",{src:t,className:Ar($c.logo,i&&$c.darkInvert,$c.focusedLogo,r),alt:n?a._({id:"LShGrM",values:{name:n}}):""}),n?U.jsx("span",{children:n}):null]})},Lme={switch:"_switch_1g69w_1"},Ime=()=>{const e=$r(UP),t=oc(),{i18n:n,_:r}=Ur(),i=()=>{t(BP.toggleTheme())};return U.jsx("button",{className:Lme.switch,onClick:i,"aria-label":e==="dark"?n._({id:"e0IFR+"}):n._({id:"yNR1Vx"}),children:e==="dark"?U.jsx(hme,{}):U.jsx(dme,{})})},Mme={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Dme={type:{"@id":"@type"},Community:{"@id":"http://w3id.org/hospex/ns#Community","@context":{type:{"@id":"@type"},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0}}},Community2:{"@id":"http://rdfs.org/sioc/ns#Community","@context":{type:{"@id":"@type"},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0}}},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0},Group:{"@id":"http://www.w3.org/2006/vcard/ns#Group","@context":{type:{"@id":"@type"},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}}},Usergroup:{"@id":"http://rdfs.org/sioc/ns#Usergroup","@context":{type:{"@id":"@type"},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}}},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}},kme={schema:Mme,shape:"https://example.com/HospexCommunity",context:Dme};var Nme=Bu();const fg="http://www.w3.org/1999/02/22-rdf-syntax-ns#",dg="http://www.w3.org/2001/XMLSchema#",Hx="http://www.w3.org/2000/10/swap/",Zi={xsd:{decimal:`${dg}decimal`,boolean:`${dg}boolean`,double:`${dg}double`,integer:`${dg}integer`,string:`${dg}string`},rdf:{type:`${fg}type`,nil:`${fg}nil`,first:`${fg}first`,rest:`${fg}rest`,langString:`${fg}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Hx}reify#forSome`,forAll:`${Hx}reify#forAll`},log:{implies:`${Hx}log#implies`}},{xsd:f_}=Zi,Fme=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,GN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},jme=/[\x00-\x20<>\\"\{\}\|\^\`]/,$me={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Bme=/$0^/;class Ume{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in $me)&&this[n]instanceof RegExp&&(this[n]=Bme)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",g="",y="",v=null,_=0,S=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",g=v[1];else if(v=this._iri.exec(r)){if(g=this._unescape(v[1]),g===null||jme.test(g))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,g=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",g=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",g=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",g=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",g=v[0],y=typeof v[1]=="string"?f_.double:typeof v[2]=="string"?f_.decimal:f_.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",g=v[0],y=f_.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",g="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,g="="):(_=2,g=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",g=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",g=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const w=_||v[0].length,x=a(h,g,y,c,w);this.previousToken=x,this._previousMarker=h,r=r.substr(w,r.length)}function a(s,l,c,d,h){const g=r?i-r.length:i,y=g+h,v={type:s,value:l,prefix:c,line:d,start:g,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(Fme,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in GN?GN[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")A9(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Nme.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}const{rdf:qme,xsd:uf}=Zi;let Wh,zme=0;const ec={namedNode:az,blankNode:oz,variable:uz,literal:sz,defaultGraph:Gme,quad:NA,triple:NA,fromTerm:xm,fromQuad:lz};class as{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof as?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let Cs=class extends as{get termType(){return"NamedNode"}},$0=class iz extends as{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new Cs(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?uf.string:qme.langString}equals(t){return t instanceof iz?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Hme=class extends as{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Vme=class extends as{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Kme=class extends as{constructor(){return super(""),Wh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Wh=new Kme;function Sm(e,t,n){if(t=t||ec,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===ec)return new $0(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(Sm(e[0],t,!0),Sm(e[1],t,!0),Sm(e[2],t,!0),e[3]&&Sm(e[3],t,!0))}function Zd(e,t){if(typeof e=="string")return e;if(e instanceof as&&e.termType!=="Quad")return e.id;if(!e)return Wh.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==uf.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[Zd(e.subject,!0),Zd(e.predicate,!0),Zd(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&n.push(Zd(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let _s=class extends as{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||Wh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function az(e){return new Cs(e)}function oz(e){return new Hme(e||`n3-${zme++}`)}function sz(e,t){if(typeof t=="string")return new $0(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=uf.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?uf.integer:uf.double:(n=uf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===uf.string?new $0(`"${e}"`):new $0(`"${e}"^^${n}`)}function uz(e){return new Vme(e)}function Gme(){return Wh}function NA(e,t,n,r){return new _s(e,t,n,r)}function xm(e){if(e instanceof as)return e;switch(e.termType){case"NamedNode":return az(e.value);case"BlankNode":return oz(e.value);case"Variable":return uz(e.value);case"DefaultGraph":return Wh;case"Literal":return sz(e.value,e.language||e.datatype);case"Quad":return lz(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function lz(e){if(e instanceof _s)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return NA(xm(e.subject),xm(e.predicate),xm(e.object),xm(e.graph))}let WN=0;class cz{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&fz(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Ume({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){WN=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=d_}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){let i,a,o;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,o=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${WN++}_`,this._prefixCallback=a||d_,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(d,h)=>{d?c=d:h&&l.push(h)},this._lexer.tokenize(t).every(d=>this._readCallback=this._readCallback(d)),c)throw c;return l}let s=(l,c)=>{l!==null?(this._callback(l),this._callback=d_):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,s=(l,c)=>{l!==null?(this._callback(l),this._callback=d_):this._readCallback&&(c.type==="comment"?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(t,s)}}function d_(){}function fz(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Zi.rdf.first),e.RDF_REST=n(Zi.rdf.rest),e.RDF_NIL=n(Zi.rdf.nil),e.N3_FORALL=n(Zi.r.forAll),e.N3_FORSOME=n(Zi.r.forSome),e.ABBREVIATIONS={a:n(Zi.rdf.type),"=":n(Zi.owl.sameAs),">":n(Zi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}fz(cz.prototype,ec);function FA(e){return!!e&&e.termType==="DefaultGraph"}const hg=ec.defaultGraph(),{rdf:Wme,xsd:Ld}=Zi,QN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,ZN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Qme={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class pg extends as{equals(t){return t===this}}class dz{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=hg,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${XN(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return hg.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(hg.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let n="";for(const r of t)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),QN.test(n)&&(n=n.replace(ZN,JN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(QN.test(n)&&(n=n.replace(ZN,JN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Ld.string)return`"${n}"`}else switch(t.datatype.value){case Ld.string:return`"${n}"`;case Ld.boolean:if(n==="true"||n==="false")return n;break;case Ld.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Ld.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Ld.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Wme.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${FA(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,hg,i):this._writeQuad(t,n,r,i||hg,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=XN(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new pg("[]");case 1:if(i=r[0],!(i.object instanceof pg))return new pg(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new pg(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new pg(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function JN(e){let t=Qme[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function XN(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const Vx=Symbol("iter");function km(e,t,n=4){if(n===0)return Object.assign(e,t);for(const r in t)e[r]=km(e[r]||Object.create(null),t[r],n-1);return e}function hz(e,t,n=4){let r=!1;for(const i in e)if(i in t){const a=n===0?null:hz(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function pz(e,t,n=4){let r=!1;for(const i in e)if(!(i in t))r=r||Object.create(null),r[i]=n===0?null:km({},e[i],n-1);else if(n!==0){const a=pz(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class Zme{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||ec}_termFromId(t){if(t[0]==="."){const n=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return Sm(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(FA(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Zd(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${FA(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Zd(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class Aa{constructor(t,n){this._size=0,this._graphs=Object.create(null),!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||ec,this._entityIndex=n.entityIndex||new Zme({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const g=this._entities,y=this._termFromId(g[l]),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(g[_]),r&&((c=d,d={})[r]=c[r]);for(const S in d)if(h=d[S]){v[o]=this._termFromId(g[S]);const w=i?i in h?[i]:[]:Object.keys(h);for(let x=0;x<w.length;x++)v[s]=this._termFromId(g[w[x]]),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,t,n,r)?(this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,!0):!1}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||({subject:t,predicate:n,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Kh.Readable({objectMode:!0}),o=this.readQuads(t,n,r,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:c}=o.next();if(l){a.push(null);return}a.push(c)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new Il(this,t,n,r,i,{entityIndex:this._entityIndex})}countQuads(t,n,r,i){const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o,this),!1),n,r,i,a)}every(t,n,r,i,a){return!this.some(o=>!t(o,this),n,r,i,a)}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Zi.rdf.rest,Zi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const g=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let S,w=null,x=null,R=null;for(let P=0;P<_.length&&!c;P++)S=_[P],S.graph.equals(g)?d?c=i(y,"has non-list arcs out"):S.predicate.value===Zi.rdf.first?w?c=i(y,"has multiple rdf:first arcs"):o.push(w=S):S.predicate.value===Zi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):o.push(x=S):v.length?c=i(y,"can't be subject and object"):(d=S,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)S=v[P],d?c=i(y,"can't have coreferences"):S.predicate.value===Zi.rdf.rest?R?c=i(y,"has incoming rdf:rest arcs"):R=S:(d=S,h="object");w?l.unshift(w.object):c=i(y,"has no list head"),y=R&&R.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}addAll(t){if(t instanceof Il&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Aa&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=km(this._graphs,t._graphs),this._size=null);else for(const n of t)this.add(n);return this}contains(t){if(t instanceof Il&&(t=t.filtered),t===this)return!0;if(!(t instanceof Aa)||this._entityIndex!==t._entityIndex)return t.every(c=>this.has(c));const n=this._graphs,r=t._graphs;let i,a,o,s,l;for(const c in r){if(!(i=n[c]))return!1;i=i.subjects;for(const d in a=r[c].subjects){if(!(o=i[d]))return!1;for(const h in s=a[d]){if(!(l=o[h]))return!1;for(const g in s[h])if(!(g in l))return!1}}}return!0}deleteMatches(t,n,r,i){for(const a of this.match(t,n,r,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof Il&&(t=t.filtered),t===this)return new Aa({entityIndex:this._entityIndex});if(t instanceof Aa&&t._entityIndex===this._entityIndex){const n=new Aa({entityIndex:this._entityIndex}),r=pz(this._graphs,t._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!t.has(n))}equals(t){return t instanceof Il&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const n=new Aa({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&n.add(r);return n}intersection(t){if(t instanceof Il&&(t=t.filtered),t===this){const n=new Aa({entityIndex:this._entityIndex});return n._graphs=km(Object.create(null),this._graphs),n._size=this._size,n}else if(t instanceof Aa&&this._entityIndex===t._entityIndex){const n=new Aa({entityIndex:this._entityIndex}),r=hz(t._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>t.has(n))}map(t){const n=new Aa({entityIndex:this._entityIndex});for(const r of this)n.add(t(r,this));return n}reduce(t,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new dz().quadsToString(this)}union(t){const n=new Aa({entityIndex:this._entityIndex});return n._graphs=km(Object.create(null),this._graphs),n._size=this._size,n.addAll(t),n}*[Symbol.iterator](){yield*this.readQuads()}}function vs(e,t,n=0){const r=t[n];if(r&&!(r in e))return!1;let i=!1;for(const a in r?{[r]:e[r]}:e){const o=n===2?null:vs(e[a],t,n+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class Il extends Kh.Readable{constructor(t,n,r,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new Aa({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,c;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||r&&!(c=o._termToNumericId(r)))return o;const d=t._getGraphs(n);for(const h in d){let g,y,v;!s&&l?(y=vs(d[h].predicates,[l,c,s]))&&(g=vs(d[h].subjects,[s,l,c]),v=vs(d[h].objects,[c,s,l])):c?(v=vs(d[h].objects,[c,s,l]))&&(g=vs(d[h].subjects,[s,l,c]),y=vs(d[h].predicates,[l,c,s])):(g=vs(d[h].subjects,[s,l,c]))&&(y=vs(d[h].predicates,[l,c,s]),v=vs(d[h].objects,[c,s,l])),g&&(o._graphs[h]={subjects:g,predicates:y,objects:v})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[Vx]&&(this[Vx]=this[Symbol.iterator]());const n=this[Vx];for(;--t>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,n,r,i){return this.filtered.deleteMatches(t,n,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,n,r,i,a){return this.filtered.every(t,n,r,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,n,r,i,a){return this.filtered.forEach(t,n,r,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,n,r,i,a){return this.filtered.some(t,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,n){return this.filtered.reduce(t,n)}toString(){return new dz().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new Il(this.filtered,t,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function YN(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var dO=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const Jme=e=>(t,n)=>dO(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(t,{method:"GET"});return yield e(r.url,n)}),Xme=e=>(t,n)=>dO(void 0,void 0,void 0,function*(){try{return yield e(t,n)}catch{return yield Jme(e)(t,n)}}),jA=e=>{const t=new URL(e);return t.hash="",t.toString()},Yme=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],hO=(e,t)=>dO(void 0,void 0,void 0,function*(){var n;let r=[],i="",a=-1,o=!1,s;try{const l=jA(e);return s=yield Xme(t)(l,{headers:{accept:Yme.join(",")}}),o=s.ok,a=s.status,i=yield s.text(),r=eye(i,{baseIRI:l,format:(n=s.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:YN(i),ok:o,statusCode:a,response:s}}catch{return o=!1,{data:r,rawData:i,hash:YN(i),ok:o,statusCode:a,response:s}}}),eye=(e,t)=>{const n=new cz(t),r=ec.namedNode(t.baseIRI);return n.parse(e).map(({subject:a,predicate:o,object:s})=>ec.quad(a,o,s,r))},B0=e=>JSON.stringify(e.toJSON()),Bc=["subject","predicate","object","graph"],gz={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let El=class extends Cs{constructor(t){super(gz.variable+"/"+t),this.variable=t}static getVar(t){return t.value.split("/").pop()}};const xn=Object.fromEntries(Object.entries(gz).map(([e,t])=>[e,new Cs(t)]));class tye{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let t="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);t+=r.concat(" ")+" ==> "+i.concat(" ")}),t}}add(t){var n,r,i;this.list.add(t),Object.values(t.from).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.provides)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.provides[o.value].add(t)})}),Object.values(t.to).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.providersOf)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.providersOf[o.value].add(t)})}),t.quad&&((n=(r=this.byQuad)[i=B0(t.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[B0(t.quad)].add(t))}remove(t){this.list.delete(t),Object.values(t.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(t)})}),Object.values(t.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(t)})}),t.quad&&this.byQuad[B0(t.quad)].delete(t)}}class e3{constructor(t,n,r=new Aa){this.moves=new tye,this.store=r,this.query=t,Object.entries(n).forEach(([i,a])=>{a.forEach(o=>{const s=new Cs(o);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(t,n){var r;if(this.store.removeQuad(new _s(n,xn.variable,new El(t),xn.meta)),n.termType==="NamedNode"){const o=new Cs(jA(n.value));this.store.removeQuad(new _s(n,xn.resource,o,xn.meta)),this.store.removeQuads(this.store.getQuads(o,xn.status,null,xn.meta)),this.removeResource(o.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(o=>{var s;return Array.from((s=o.from[t])!==null&&s!==void 0?s:[]).some(l=>l.equals(n))});for(const o of a){const s=o.to;this.moves.remove(o);for(const l in s)s[l].forEach(c=>{var d;Array.from((d=this.moves.providersOf[c.value])!==null&&d!==void 0?d:new Set).filter(g=>{var y;return Array.from((y=g.to[l])!==null&&y!==void 0?y:[]).some(v=>v.equals(c))}).length===0&&this.removeVariable(l,c)})}}addResource(t,n,r="success"){const i=new Cs(t),a=this.store.getQuads(null,null,null,i),[o,s]=nye(n,a);o.forEach(h=>this.addQuad(h)),s.forEach(h=>this.removeQuad(h));const l=new _s(i,xn.status,xn.missing,xn.meta),c=new _s(i,xn.status,xn.added,xn.meta),d=new _s(i,xn.status,xn.failed,xn.meta);this.store.removeQuads([l,c,d]),r==="success"&&this.store.addQuad(c),r==="error"&&this.store.addQuad(d)}addQuad(t){this.store.addQuad(t);const n=Object.fromEntries(Bc.map(a=>[a,this.store.getObjects(t[a],xn.variable,xn.meta)])),r=(a,o)=>{const s=a[o],l=t[o];return!!(!s||s.startsWith("?")&&n[o].some(c=>c.equals(new El(s.slice(1))))||s===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>Bc.every(o=>r(a,o))).map(([a,o])=>[+a,o]);for(const[a,o]of i){const s={};for(const c of Bc){const d=o[c];d!=null&&d.startsWith("?")&&(s[d.slice(1)]=new Set([t[c]]))}const l={[o.target.slice(1)]:new Set([t[o.pick]])};this.moves.add({step:a,from:s,to:l,quad:t}),this.addVariable(o.target.slice(1),t[o.pick])}}removeResource(t){this.store.getQuads(null,null,null,new Cs(t)).forEach(r=>this.removeQuad(r))}removeQuad(t){var n;this.store.removeQuad(t),((n=this.moves.byQuad[B0(t)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const o in a)a[o].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(c=>{var d;return Array.from((d=c.to[o])!==null&&d!==void 0?d:[]).some(h=>h.equals(s))}).length===0&&this.removeVariable(o,s)})})}hopFromVariable(t,n){const r=`?${t}`;this.query.map((a,o)=>[a,o]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&Bc.some(o=>a[o]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,o])=>{var s;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:o}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(d,h)=>{let g=new Set;const y=d[h];if(!y)g.add(null);else if(!y.startsWith("?"))g.add(new Cs(y));else if(y.slice(1)===t)g.add(n);else{const v=this.store.getSubjects(xn.variable,new El(y.slice(1)),xn.meta);g=new Set(v)}return g},c=Object.fromEntries(Bc.map(d=>[d,l(a,d)]));for(const d of c.subject)for(const h of c.predicate)for(const g of c.object)for(const y of c.graph){const v=this.store.getQuads(d,h,g,y);for(const _ of v){const S=a.target.slice(1),w=_[a.pick],x={};for(const P of Bc)!((s=a[P])===null||s===void 0)&&s.startsWith("?")&&(x[a[P].slice(1)]=new Set([_[P]]));const R={[S]:new Set([w])};this.moves.add({from:x,to:R,step:o,quad:_}),this.addVariable(S,w)}}}})}addVariable(t,n){if(this.store.has(new _s(n,xn.variable,new El(t),xn.meta)))return;this.store.addQuads([new _s(n,xn.variable,new El(t),xn.meta)]);let r;n.termType==="NamedNode"&&(r=new Cs(jA(n.value)),this.store.addQuads([new _s(n,xn.resource,r,xn.meta)]));const i=`?${t}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),o=this.query.some(l=>typeof l!="function"&&l.type==="match"&&Bc.some(c=>l[c]===i));r&&(a||o)&&this.store.match(r,xn.status,null,xn.meta).size===0&&this.store.addQuad(r,xn.status,xn.missing,xn.meta),this.hopFromVariable(t,n)}getVariable(t){return this.store.getSubjects(xn.variable,new El(t),xn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,xn.variable,null,xn.meta).reduce((t,n)=>{var r,i;return(r=t[i=El.getVar(n.object)])!==null&&r!==void 0||(t[i]=new Set),t[El.getVar(n.object)].add(n.subject.value),t},{})}getResources(t){if(!t)return this.store.getObjects(null,xn.resource,xn.meta).map(r=>r.value);const n=t==="missing"?xn.missing:t==="failed"?xn.failed:xn.added;return this.store.getSubjects(xn.status,n,xn.meta).map(r=>r.value)}}const nye=(e,t)=>{if(t.length===0)return[e,[]];if(e.length===0)return[[],t];const n=e.filter(i=>!t.some(a=>i.equals(a))),r=t.filter(i=>!e.some(a=>i.equals(a)));return[n,r]};var Kx,t3;function rye(){if(t3)return Kx;t3=1;function e(){this.__data__=[],this.size=0}return Kx=e,Kx}var Gx,n3;function Ry(){if(n3)return Gx;n3=1;function e(t,n){return t===n||t!==t&&n!==n}return Gx=e,Gx}var Wx,r3;function sb(){if(r3)return Wx;r3=1;var e=Ry();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Wx=t,Wx}var Qx,i3;function iye(){if(i3)return Qx;i3=1;var e=sb(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return Qx=r,Qx}var Zx,a3;function aye(){if(a3)return Zx;a3=1;var e=sb();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Zx=t,Zx}var Jx,o3;function oye(){if(o3)return Jx;o3=1;var e=sb();function t(n){return e(this.__data__,n)>-1}return Jx=t,Jx}var Xx,s3;function sye(){if(s3)return Xx;s3=1;var e=sb();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Xx=t,Xx}var Yx,u3;function ub(){if(u3)return Yx;u3=1;var e=rye(),t=iye(),n=aye(),r=oye(),i=sye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Yx=a,Yx}var eE,l3;function uye(){if(l3)return eE;l3=1;var e=ub();function t(){this.__data__=new e,this.size=0}return eE=t,eE}var tE,c3;function lye(){if(c3)return tE;c3=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return tE=e,tE}var nE,f3;function cye(){if(f3)return nE;f3=1;function e(t){return this.__data__.get(t)}return nE=e,nE}var rE,d3;function fye(){if(d3)return rE;d3=1;function e(t){return this.__data__.has(t)}return rE=e,rE}var iE,h3;function mz(){if(h3)return iE;h3=1;var e=typeof mm=="object"&&mm&&mm.Object===Object&&mm;return iE=e,iE}var aE,p3;function os(){if(p3)return aE;p3=1;var e=mz(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return aE=n,aE}var oE,g3;function Qh(){if(g3)return oE;g3=1;var e=os(),t=e.Symbol;return oE=t,oE}var sE,m3;function dye(){if(m3)return sE;m3=1;var e=Qh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=r.call(o);return c&&(s?o[i]=l:delete o[i]),d}return sE=a,sE}var uE,y3;function hye(){if(y3)return uE;y3=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return uE=n,uE}var lE,v3;function Zh(){if(v3)return lE;v3=1;var e=Qh(),t=dye(),n=hye(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return lE=o,lE}var cE,_3;function Io(){if(_3)return cE;_3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return cE=e,cE}var fE,w3;function pO(){if(w3)return fE;w3=1;var e=Zh(),t=Io(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return fE=o,fE}var dE,b3;function pye(){if(b3)return dE;b3=1;var e=os(),t=e["__core-js_shared__"];return dE=t,dE}var hE,S3;function gye(){if(S3)return hE;S3=1;var e=pye(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return hE=n,hE}var pE,x3;function yz(){if(x3)return pE;x3=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return pE=n,pE}var gE,E3;function mye(){if(E3)return gE;E3=1;var e=pO(),t=gye(),n=Io(),r=yz(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!n(g)||t(g))return!1;var y=e(g)?d:a;return y.test(r(g))}return gE=h,gE}var mE,C3;function yye(){if(C3)return mE;C3=1;function e(t,n){return t==null?void 0:t[n]}return mE=e,mE}var yE,T3;function zf(){if(T3)return yE;T3=1;var e=mye(),t=yye();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return yE=n,yE}var vE,R3;function gO(){if(R3)return vE;R3=1;var e=zf(),t=os(),n=e(t,"Map");return vE=n,vE}var _E,A3;function lb(){if(A3)return _E;A3=1;var e=zf(),t=e(Object,"create");return _E=t,_E}var wE,P3;function vye(){if(P3)return wE;P3=1;var e=lb();function t(){this.__data__=e?e(null):{},this.size=0}return wE=t,wE}var bE,O3;function _ye(){if(O3)return bE;O3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return bE=e,bE}var SE,L3;function wye(){if(L3)return SE;L3=1;var e=lb(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return SE=i,SE}var xE,I3;function bye(){if(I3)return xE;I3=1;var e=lb(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return xE=r,xE}var EE,M3;function Sye(){if(M3)return EE;M3=1;var e=lb(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return EE=n,EE}var CE,D3;function xye(){if(D3)return CE;D3=1;var e=vye(),t=_ye(),n=wye(),r=bye(),i=Sye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,CE=a,CE}var TE,k3;function Eye(){if(k3)return TE;k3=1;var e=xye(),t=ub(),n=gO();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return TE=r,TE}var RE,N3;function Cye(){if(N3)return RE;N3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return RE=e,RE}var AE,F3;function cb(){if(F3)return AE;F3=1;var e=Cye();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return AE=t,AE}var PE,j3;function Tye(){if(j3)return PE;j3=1;var e=cb();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return PE=t,PE}var OE,$3;function Rye(){if($3)return OE;$3=1;var e=cb();function t(n){return e(this,n).get(n)}return OE=t,OE}var LE,B3;function Aye(){if(B3)return LE;B3=1;var e=cb();function t(n){return e(this,n).has(n)}return LE=t,LE}var IE,U3;function Pye(){if(U3)return IE;U3=1;var e=cb();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return IE=t,IE}var ME,q3;function mO(){if(q3)return ME;q3=1;var e=Eye(),t=Tye(),n=Rye(),r=Aye(),i=Pye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ME=a,ME}var DE,z3;function Oye(){if(z3)return DE;z3=1;var e=ub(),t=gO(),n=mO(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return DE=i,DE}var kE,H3;function fb(){if(H3)return kE;H3=1;var e=ub(),t=uye(),n=lye(),r=cye(),i=fye(),a=Oye();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,kE=o,kE}var NE,V3;function Lye(){if(V3)return NE;V3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return NE=t,NE}var FE,K3;function Iye(){if(K3)return FE;K3=1;function e(t){return this.__data__.has(t)}return FE=e,FE}var jE,G3;function Mye(){if(G3)return jE;G3=1;var e=mO(),t=Lye(),n=Iye();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,jE=r,jE}var $E,W3;function Dye(){if(W3)return $E;W3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return $E=e,$E}var BE,Q3;function kye(){if(Q3)return BE;Q3=1;function e(t,n){return t.has(n)}return BE=e,BE}var UE,Z3;function vz(){if(Z3)return UE;Z3=1;var e=Mye(),t=Dye(),n=kye(),r=1,i=2;function a(o,s,l,c,d,h){var g=l&r,y=o.length,v=s.length;if(y!=v&&!(g&&v>y))return!1;var _=h.get(o),S=h.get(s);if(_&&S)return _==s&&S==o;var w=-1,x=!0,R=l&i?new e:void 0;for(h.set(o,s),h.set(s,o);++w<y;){var P=o[w],O=s[w];if(c)var D=g?c(O,P,w,s,o,h):c(P,O,w,o,s,h);if(D!==void 0){if(D)continue;x=!1;break}if(R){if(!t(s,function(F,Q){if(!n(R,Q)&&(P===F||d(P,F,l,c,h)))return R.push(Q)})){x=!1;break}}else if(!(P===O||d(P,O,l,c,h))){x=!1;break}}return h.delete(o),h.delete(s),x}return UE=a,UE}var qE,J3;function _z(){if(J3)return qE;J3=1;var e=os(),t=e.Uint8Array;return qE=t,qE}var zE,X3;function Nye(){if(X3)return zE;X3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return zE=e,zE}var HE,Y3;function Fye(){if(Y3)return HE;Y3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return HE=e,HE}var VE,eF;function jye(){if(eF)return VE;eF=1;var e=Qh(),t=_z(),n=Ry(),r=vz(),i=Nye(),a=Fye(),o=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",v="[object Set]",_="[object String]",S="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",R=e?e.prototype:void 0,P=R?R.valueOf:void 0;function O(D,F,Q,Y,q,X,le){switch(Q){case x:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case w:return!(D.byteLength!=F.byteLength||!X(new t(D),new t(F)));case l:case c:case g:return n(+D,+F);case d:return D.name==F.name&&D.message==F.message;case y:case _:return D==F+"";case h:var te=i;case v:var oe=Y&o;if(te||(te=a),D.size!=F.size&&!oe)return!1;var he=le.get(D);if(he)return he==F;Y|=s,le.set(D,F);var ve=r(te(D),te(F),Y,q,X,le);return le.delete(D),ve;case S:if(P)return P.call(D)==P.call(F)}return!1}return VE=O,VE}var KE,tF;function yO(){if(tF)return KE;tF=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return KE=e,KE}var GE,nF;function ss(){if(nF)return GE;nF=1;var e=Array.isArray;return GE=e,GE}var WE,rF;function wz(){if(rF)return WE;rF=1;var e=yO(),t=ss();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return WE=n,WE}var QE,iF;function bz(){if(iF)return QE;iF=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return QE=e,QE}var ZE,aF;function Sz(){if(aF)return ZE;aF=1;function e(){return[]}return ZE=e,ZE}var JE,oF;function vO(){if(oF)return JE;oF=1;var e=bz(),t=Sz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return JE=a,JE}var XE,sF;function xz(){if(sF)return XE;sF=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return XE=e,XE}var YE,uF;function qu(){if(uF)return YE;uF=1;function e(t){return t!=null&&typeof t=="object"}return YE=e,YE}var eC,lF;function $ye(){if(lF)return eC;lF=1;var e=Zh(),t=qu(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return eC=r,eC}var tC,cF;function db(){if(cF)return tC;cF=1;var e=$ye(),t=qu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return tC=a,tC}var Em={exports:{}},nC,fF;function Bye(){if(fF)return nC;fF=1;function e(){return!1}return nC=e,nC}Em.exports;var dF;function hb(){return dF||(dF=1,function(e,t){var n=os(),r=Bye(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c}(Em,Em.exports)),Em.exports}var rC,hF;function pb(){if(hF)return rC;hF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return rC=n,rC}var iC,pF;function _O(){if(pF)return iC;pF=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return iC=t,iC}var aC,gF;function Uye(){if(gF)return aC;gF=1;var e=Zh(),t=_O(),n=qu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",v="[object String]",_="[object WeakMap]",S="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",R="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",q="[object Uint32Array]",X={};X[x]=X[R]=X[P]=X[O]=X[D]=X[F]=X[Q]=X[Y]=X[q]=!0,X[r]=X[i]=X[S]=X[a]=X[w]=X[o]=X[s]=X[l]=X[c]=X[d]=X[h]=X[g]=X[y]=X[v]=X[_]=!1;function le(te){return n(te)&&t(te.length)&&!!X[e(te)]}return aC=le,aC}var oC,mF;function wO(){if(mF)return oC;mF=1;function e(t){return function(n){return t(n)}}return oC=e,oC}var Cm={exports:{}};Cm.exports;var yF;function bO(){return yF||(yF=1,function(e,t){var n=mz(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(Cm,Cm.exports)),Cm.exports}var sC,vF;function SO(){if(vF)return sC;vF=1;var e=Uye(),t=wO(),n=bO(),r=n&&n.isTypedArray,i=r?t(r):e;return sC=i,sC}var uC,_F;function Ez(){if(_F)return uC;_F=1;var e=xz(),t=db(),n=ss(),r=hb(),i=pb(),a=SO(),o=Object.prototype,s=o.hasOwnProperty;function l(c,d){var h=n(c),g=!h&&t(c),y=!h&&!g&&r(c),v=!h&&!g&&!y&&a(c),_=h||g||y||v,S=_?e(c.length,String):[],w=S.length;for(var x in c)(d||s.call(c,x))&&!(_&&(x=="length"||y&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,w)))&&S.push(x);return S}return uC=l,uC}var lC,wF;function xO(){if(wF)return lC;wF=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return lC=t,lC}var cC,bF;function Cz(){if(bF)return cC;bF=1;function e(t,n){return function(r){return t(n(r))}}return cC=e,cC}var fC,SF;function qye(){if(SF)return fC;SF=1;var e=Cz(),t=e(Object.keys,Object);return fC=t,fC}var dC,xF;function zye(){if(xF)return dC;xF=1;var e=xO(),t=qye(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return dC=i,dC}var hC,EF;function gb(){if(EF)return hC;EF=1;var e=pO(),t=_O();function n(r){return r!=null&&t(r.length)&&!e(r)}return hC=n,hC}var pC,CF;function Ay(){if(CF)return pC;CF=1;var e=Ez(),t=zye(),n=gb();function r(i){return n(i)?e(i):t(i)}return pC=r,pC}var gC,TF;function Tz(){if(TF)return gC;TF=1;var e=wz(),t=vO(),n=Ay();function r(i){return e(i,n,t)}return gC=r,gC}var mC,RF;function Hye(){if(RF)return mC;RF=1;var e=Tz(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,d){var h=s&t,g=e(a),y=g.length,v=e(o),_=v.length;if(y!=_&&!h)return!1;for(var S=y;S--;){var w=g[S];if(!(h?w in o:r.call(o,w)))return!1}var x=d.get(a),R=d.get(o);if(x&&R)return x==o&&R==a;var P=!0;d.set(a,o),d.set(o,a);for(var O=h;++S<y;){w=g[S];var D=a[w],F=o[w];if(l)var Q=h?l(F,D,w,o,a,d):l(D,F,w,a,o,d);if(!(Q===void 0?D===F||c(D,F,s,l,d):Q)){P=!1;break}O||(O=w=="constructor")}if(P&&!O){var Y=a.constructor,q=o.constructor;Y!=q&&"constructor"in a&&"constructor"in o&&!(typeof Y=="function"&&Y instanceof Y&&typeof q=="function"&&q instanceof q)&&(P=!1)}return d.delete(a),d.delete(o),P}return mC=i,mC}var yC,AF;function Vye(){if(AF)return yC;AF=1;var e=zf(),t=os(),n=e(t,"DataView");return yC=n,yC}var vC,PF;function Kye(){if(PF)return vC;PF=1;var e=zf(),t=os(),n=e(t,"Promise");return vC=n,vC}var _C,OF;function Gye(){if(OF)return _C;OF=1;var e=zf(),t=os(),n=e(t,"Set");return _C=n,_C}var wC,LF;function Wye(){if(LF)return wC;LF=1;var e=zf(),t=os(),n=e(t,"WeakMap");return wC=n,wC}var bC,IF;function mb(){if(IF)return bC;IF=1;var e=Vye(),t=gO(),n=Kye(),r=Gye(),i=Wye(),a=Zh(),o=yz(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",g="[object DataView]",y=o(e),v=o(t),_=o(n),S=o(r),w=o(i),x=a;return(e&&x(new e(new ArrayBuffer(1)))!=g||t&&x(new t)!=s||n&&x(n.resolve())!=c||r&&x(new r)!=d||i&&x(new i)!=h)&&(x=function(R){var P=a(R),O=P==l?R.constructor:void 0,D=O?o(O):"";if(D)switch(D){case y:return g;case v:return s;case _:return c;case S:return d;case w:return h}return P}),bC=x,bC}var SC,MF;function Qye(){if(MF)return SC;MF=1;var e=fb(),t=vz(),n=jye(),r=Hye(),i=mb(),a=ss(),o=hb(),s=SO(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function v(_,S,w,x,R,P){var O=a(_),D=a(S),F=O?d:i(_),Q=D?d:i(S);F=F==c?h:F,Q=Q==c?h:Q;var Y=F==h,q=Q==h,X=F==Q;if(X&&o(_)){if(!o(S))return!1;O=!0,Y=!1}if(X&&!Y)return P||(P=new e),O||s(_)?t(_,S,w,x,R,P):n(_,S,F,w,x,R,P);if(!(w&l)){var le=Y&&y.call(_,"__wrapped__"),te=q&&y.call(S,"__wrapped__");if(le||te){var oe=le?_.value():_,he=te?S.value():S;return P||(P=new e),R(oe,he,w,x,P)}}return X?(P||(P=new e),r(_,S,w,x,R,P)):!1}return SC=v,SC}var xC,DF;function EO(){if(DF)return xC;DF=1;var e=Qye(),t=qu();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return xC=n,xC}var EC,kF;function Zye(){if(kF)return EC;kF=1;var e=EO();function t(n,r){return e(n,r)}return EC=t,EC}var Jye=Zye();const Rz=Mr(Jye);var CC,NF;function Az(){if(NF)return CC;NF=1;var e=zf(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return CC=t,CC}var TC,FF;function yb(){if(FF)return TC;FF=1;var e=Az();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return TC=t,TC}var RC,jF;function Xye(){if(jF)return RC;jF=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++a];if(r(o[c],c,o)===!1)break}return n}}return RC=e,RC}var AC,$F;function Pz(){if($F)return AC;$F=1;var e=Xye(),t=e();return AC=t,AC}var PC,BF;function Yye(){if(BF)return PC;BF=1;var e=Pz(),t=Ay();function n(r,i){return r&&e(r,i,t)}return PC=n,PC}var OC,UF;function eve(){if(UF)return OC;UF=1;var e=fb(),t=EO(),n=1,r=2;function i(a,o,s,l){var c=s.length,d=c,h=!l;if(a==null)return!d;for(a=Object(a);c--;){var g=s[c];if(h&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++c<d;){g=s[c];var y=g[0],v=a[y],_=g[1];if(h&&g[2]){if(v===void 0&&!(y in a))return!1}else{var S=new e;if(l)var w=l(v,_,y,a,o,S);if(!(w===void 0?t(_,v,n|r,l,S):w))return!1}}return!0}return OC=i,OC}var LC,qF;function Oz(){if(qF)return LC;qF=1;var e=Io();function t(n){return n===n&&!e(n)}return LC=t,LC}var IC,zF;function tve(){if(zF)return IC;zF=1;var e=Oz(),t=Ay();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,e(s)]}return i}return IC=n,IC}var MC,HF;function Lz(){if(HF)return MC;HF=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return MC=e,MC}var DC,VF;function nve(){if(VF)return DC;VF=1;var e=eve(),t=tve(),n=Lz();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return DC=r,DC}var kC,KF;function Py(){if(KF)return kC;KF=1;var e=Zh(),t=qu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return kC=r,kC}var NC,GF;function CO(){if(GF)return NC;GF=1;var e=ss(),t=Py(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return NC=i,NC}var FC,WF;function rve(){if(WF)return FC;WF=1;var e=mO(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,FC=n,FC}var jC,QF;function ive(){if(QF)return jC;QF=1;var e=rve(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return jC=n,jC}var $C,ZF;function ave(){if(ZF)return $C;ZF=1;var e=ive(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return $C=r,$C}var BC,JF;function vb(){if(JF)return BC;JF=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return BC=e,BC}var UC,XF;function ove(){if(XF)return UC;XF=1;var e=Qh(),t=vb(),n=ss(),r=Py(),i=1/0,a=e?e.prototype:void 0,o=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return UC=s,UC}var qC,YF;function sve(){if(YF)return qC;YF=1;var e=ove();function t(n){return n==null?"":e(n)}return qC=t,qC}var zC,ej;function Jh(){if(ej)return zC;ej=1;var e=ss(),t=CO(),n=ave(),r=sve();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return zC=i,zC}var HC,tj;function Xh(){if(tj)return HC;tj=1;var e=Py(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return HC=n,HC}var VC,nj;function _b(){if(nj)return VC;nj=1;var e=Jh(),t=Xh();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return VC=n,VC}var KC,rj;function uve(){if(rj)return KC;rj=1;var e=_b();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return KC=t,KC}var GC,ij;function lve(){if(ij)return GC;ij=1;function e(t,n){return t!=null&&n in Object(t)}return GC=e,GC}var WC,aj;function cve(){if(aj)return WC;aj=1;var e=Jh(),t=db(),n=ss(),r=pb(),i=_O(),a=Xh();function o(s,l,c){l=e(l,s);for(var d=-1,h=l.length,g=!1;++d<h;){var y=a(l[d]);if(!(g=s!=null&&c(s,y)))break;s=s[y]}return g||++d!=h?g:(h=s==null?0:s.length,!!h&&i(h)&&r(y,h)&&(n(s)||t(s)))}return WC=o,WC}var QC,oj;function Iz(){if(oj)return QC;oj=1;var e=lve(),t=cve();function n(r,i){return r!=null&&t(r,i,e)}return QC=n,QC}var ZC,sj;function fve(){if(sj)return ZC;sj=1;var e=EO(),t=uve(),n=Iz(),r=CO(),i=Oz(),a=Lz(),o=Xh(),s=1,l=2;function c(d,h){return r(d)&&i(h)?a(o(d),h):function(g){var y=t(g,d);return y===void 0&&y===h?n(g,d):e(h,y,s|l)}}return ZC=c,ZC}var JC,uj;function TO(){if(uj)return JC;uj=1;function e(t){return t}return JC=e,JC}var XC,lj;function Mz(){if(lj)return XC;lj=1;function e(t){return function(n){return n==null?void 0:n[t]}}return XC=e,XC}var YC,cj;function dve(){if(cj)return YC;cj=1;var e=_b();function t(n){return function(r){return e(r,n)}}return YC=t,YC}var e2,fj;function hve(){if(fj)return e2;fj=1;var e=Mz(),t=dve(),n=CO(),r=Xh();function i(a){return n(a)?e(r(a)):t(a)}return e2=i,e2}var t2,dj;function RO(){if(dj)return t2;dj=1;var e=nve(),t=fve(),n=TO(),r=ss(),i=hve();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return t2=a,t2}var n2,hj;function pve(){if(hj)return n2;hj=1;var e=yb(),t=Yye(),n=RO();function r(i,a){var o={};return a=n(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return n2=r,n2}var gve=pve();const pj=Mr(gve);var mve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const yve=()=>({}),vve=(e,t)=>{if(e.length!==t.length)return!1;const n=new Set(e);return t.every(r=>n.has(r))},wa=({query:e,variables:t,fetch:n,getQueryKey:r=o=>["rdfDocument",o],staleTime:i=1/0,getAdditionalData:a=yve})=>{const o=V.useMemo(()=>pj(t,F=>new Set(F)),[t]),[s,l]=V.useState([]),[c,d]=V.useState({}),[h,g]=V.useState(new ks),[y,v]=V.useState([]),[_,S]=V.useState(!1),w=V.useCallback(F=>{var Q;return Object.assign(Object.assign({},(Q=a(F))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(F.map((Y,q)=>[s[q],Y==null?void 0:Y.data])),pending:F.some(Y=>Y.isPending)})},[a,s]),x=Hm({queries:s.map(F=>({queryKey:r(F),queryFn:()=>hO(F,n),staleTime:i})),combine:w}),R=V.useRef(new e3(e,o)),P=V.useRef(x.data);V.useEffect(()=>{R.current=new e3(e,o);const F=R.current.getMissingResources();l(F),g(R.current.store),P.current={}},[e,o]),V.useEffect(()=>{if(!x)return;for(const q in x.data){const X=x.data[q];if(!X)continue;const le=P.current[q];(le==null?void 0:le.hash)!==X.hash&&R.current.addResource(q,X.data,X.ok?"success":"error")}const F=R.current.getMissingResources();S(F.length>0),l(q=>{const X=[];for(const le of F)q.includes(le)||X.push(le);return X.length===0?q:X.concat(q)});const Q=pj(R.current.getAllVariables(),q=>Array.from(q));d(q=>Rz(Q,q)?q:Q),g(R.current.store);const Y=[...R.current.store];v(q=>vve(q,Y)?q:Y),P.current=x.data},[x]);const O=x,D=mve(O,["data","pending"]);return V.useMemo(()=>Object.assign({store:h,quads:y,variables:c,qas:R.current,isLoading:x==null?void 0:x.pending,isMissing:_},D),[_,y,h,c,D,x==null?void 0:x.pending])};var gg={},mg={},h_={},Uc={},yg={},p_={},vg={},r2={},i2={},Oi={},_g={},wg={},gj;function Dz(){if(gj)return wg;gj=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.BlankNode=void 0;let e=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return wg.BlankNode=e,wg}var bg={},Sg={},mj;function kz(){if(mj)return Sg;mj=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return Sg.DefaultGraph=e,e.INSTANCE=new e,Sg}var xg={},Eg={},yj;function AO(){if(yj)return Eg;yj=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.NamedNode=void 0;let e=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return Eg.NamedNode=e,Eg}var vj;function Nz(){if(vj)return xg;vj=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.Literal=void 0;const e=AO();let t=class $A{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=$A.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=$A.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return xg.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),xg}var Cg={},_j;function Fz(){if(_j)return Cg;_j=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.Quad=void 0;let e=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return Cg.Quad=e,Cg}var Tg={},wj;function jz(){if(wj)return Tg;wj=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.Variable=void 0;let e=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return Tg.Variable=e,Tg}var bj;function _ve(){if(bj)return bg;bj=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.DataFactory=void 0;const e=Dz(),t=kz(),n=Nz(),r=AO(),i=Fz(),a=jz();let o=0,s=class{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${o++}_`}namedNode(c){return new r.NamedNode(c)}blankNode(c){return new e.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,d){return new n.Literal(c,d)}variable(c){return new a.Variable(c)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(c,d,h,g){return new i.Quad(c,d,h,g||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(n.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return bg.DataFactory=s,bg}var Sj;function wve(){return Sj||(Sj=1,function(e){var t=_g.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=_g.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Dz(),e),n(_ve(),e),n(kz(),e),n(Nz(),e),n(AO(),e),n(Fz(),e),n(jz(),e)}(_g)),_g}var xj;function bve(){if(xj)return Oi;xj=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.stringQuadToQuad=Oi.quadToStringQuad=Oi.stringToTerm=Oi.getLiteralLanguage=Oi.getLiteralType=Oi.getLiteralValue=Oi.termToString=void 0;const e=wve(),t=new e.DataFactory;function n(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"");case"Quad":return`<<${n(c.subject)} ${n(c.predicate)} ${n(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+n(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}Oi.termToString=n;function r(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}Oi.getLiteralValue=r;function i(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Oi.getLiteralType=i;function a(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]?d[1].toLowerCase():""}Oi.getLiteralLanguage=a;function o(c,d){if(d=d||t,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const h=a(c),g=d.namedNode(i(c));return d.literal(r(c),h||g);case"<":default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const y=c.slice(2,-2).trim();let v=[],_=0,S=0,w=!1;for(let x=0;x<y.length;x++){const R=y[x];if(R==="<"&&_++,R===">"){if(_===0)throw new Error("Found closing tag without opening tag in "+c);_--}if(R==='"'){let P=!1,O=x;for(;O-- >0&&y[O]==="\\";)P=!P;P||(w=!w)}if(R===" "&&!w&&_===0){for(v.push(y.slice(S,x));y[x+1]===" ";)x+=1;S=x+1}}if(_!==0)throw new Error("Found opening tag without closing tag in "+c);if(v.push(y.slice(S,y.length)),v.length!==3&&v.length!==4)throw new Error("Nested quad syntax error "+c);return v=v.map(x=>x.startsWith("<")&&!x.includes(" ")?x.slice(1,-1):x),d.quad(o(v[0]),o(v[1]),o(v[2]),v[3]?o(v[3]):void 0)}return d.namedNode(c)}}Oi.stringToTerm=o;function s(c){return{subject:n(c.subject),predicate:n(c.predicate),object:n(c.object),graph:n(c.graph)}}Oi.quadToStringQuad=s;function l(c,d){return d=d||t,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return Oi.stringQuadToQuad=l,Oi}var Ej;function Sve(){return Ej||(Ej=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=bve();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(i2)),i2}var Cj;function xve(){return Cj||(Cj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToQuadMatch=e.stringToQuad=e.stringToNode=e.stringToGraphNode=e.stringToObjectNode=e.stringToPredicateNode=e.stringToSubjectNode=e.quadMatchToString=e.quadToString=e.nodeToString=e.grpahNodeToString=e.objectNodeToString=e.predicateNodeToString=e.subjectNodeToString=e.AnyTermTypes=e.GraphTermTypes=e.ObjectTermTypes=e.PredicateTermTypes=e.SubjectTermTypes=void 0;const t=Sve();e.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),e.PredicateTermTypes=new Set(["NamedNode"]),e.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),e.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),e.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}e.subjectNodeToString=n;function r(S){return o(S)}e.predicateNodeToString=r;function i(S){return o(S)}e.objectNodeToString=i;function a(S){return o(S)}e.grpahNodeToString=a;function o(S){return(0,t.termToString)(S)}e.nodeToString=o;function s(S){return JSON.stringify((0,t.quadToStringQuad)(S))}e.quadToString=s;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}e.quadMatchToString=l;function c(S){return y(S,e.SubjectTermTypes)}e.stringToSubjectNode=c;function d(S){return y(S,e.PredicateTermTypes)}e.stringToPredicateNode=d;function h(S){return y(S,e.ObjectTermTypes)}e.stringToObjectNode=h;function g(S){return y(S,e.GraphTermTypes)}e.stringToGraphNode=g;function y(S,w){const x=(0,t.stringToTerm)(S);if(w&&!w.has(x.termType))throw new Error(`Expected term to be one of term type: [${Array.from(w).reduce((R,P)=>`${R}${P}, `,"")}], but got ${x.termType}.`);return x}e.stringToNode=y;function v(S){try{return(0,t.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}e.stringToQuad=v;function _(S){try{const w=JSON.parse(S);return[w.subject!=null?c(w.subject):void 0,w.predicate!=null?d(w.predicate):void 0,w.object!=null?h(w.object):void 0,w.graph!=null?g(w.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}e.stringToQuadMatch=_}(r2)),r2}var Rg={},a2,Tj;function Eve(){if(Tj)return a2;Tj=1;class e{constructor(n){this.value=n||"b"+ ++e.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,a2=e,a2}var o2,Rj;function $z(){if(Rj)return o2;Rj=1;class e{equals(n){return!!n&&n.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",o2=e,o2}var s2,Aj;function Cve(){if(Aj)return s2;Aj=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const n=this.fromTerm(t.subject),r=this.fromTerm(t.predicate),i=this.fromTerm(t.object),a=this.fromTerm(t.graph);return this.quad(n,r,i,a)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return s2=e,s2}var u2,Pj;function Bz(){if(Pj)return u2;Pj=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="NamedNode",u2=e,u2}var l2,Oj;function Tve(){if(Oj)return l2;Oj=1;const e=Bz();class t{constructor(r,i,a){this.value=r,this.datatype=t.stringDatatype,this.language="",i?(this.language=i,this.datatype=t.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),l2=t,l2}var c2,Lj;function Rve(){if(Lj)return c2;Lj=1;const e=$z();class t{constructor(r,i,a,o){this.subject=r,this.predicate=i,this.object=a,o?this.graph=o:this.graph=new e}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",c2=t,c2}var f2,Ij;function Ave(){if(Ij)return f2;Ij=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="Variable",f2=e,f2}var d2,Mj;function Pve(){if(Mj)return d2;Mj=1;const e=Eve(),t=$z(),n=Cve(),r=Tve(),i=Bz(),a=Rve(),o=Ave();function s(w){return new i(w)}function l(w){return new e(w)}function c(w,x){return typeof x=="string"?x.indexOf(":")===-1?new r(w,x):new r(w,null,S.namedNode(x)):new r(w,null,x)}function d(w){return new o(w)}function h(){return S.defaultGraphInstance}function g(w,x,R){return S.quad(w,x,R)}function y(w,x,R,P){return new a(w,x,R,P||S.defaultGraphInstance)}function v(w){return n.call(S,w)}function _(w){return n.call(S,w)}const S={namedNode:s,blankNode:l,literal:c,variable:d,defaultGraph:h,triple:g,quad:y,fromTerm:v,fromQuad:_,defaultGraphInstance:new t};return d2=S,d2}var h2,Dj;function Ji(){return Dj||(Dj=1,h2=Pve()),h2}var qc={};const Uz=PU(_re);var kj;function qz(){if(kj)return qc;kj=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.datasetToJsonLd=qc.datasetToString=void 0;const e=Uz;function t(r,i){const a=new e.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}qc.datasetToString=t;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return qc.datasetToJsonLd=n,qc}var Nj;function Ove(){if(Nj)return Rg;Nj=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.changesToSparqlUpdate=void 0;const e=Ji(),t=qz();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Rg.changesToSparqlUpdate=n,Rg}var Ag={},Fj;function Lve(){if(Fj)return Ag;Fj=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.serializedToQuads=void 0;const e=Uz;async function t(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new e.Parser(r).parse(n)}return Ag.serializedToQuads=t,Ag}var jj;function Oy(){return jj||(jj=1,function(e){var t=vg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=vg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(xve(),e),n(Ove(),e),n(qz(),e),n(Lve(),e)}(vg)),vg}var $j;function zz(){if($j)return p_;$j=1,Object.defineProperty(p_,"__esModule",{value:!0});const e=Oy(),t=B9();let n=class BA{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new BA(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,o,s){const l=this.match(i,a,o,s);for(const c of l)this.dataset.delete(c);return this}difference(i){const a=this.createBlankDataset();for(const o of this)i.has(o)||a.add(o);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const o of this)i(o,this)&&a.add(o);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,o)=>{i.on("data",s=>{this.add(s)}).on("end",()=>{a(this)}).on("error",s=>o(s))})}intersection(i){const a=this.createBlankDataset(),o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const o of this)a.add(i(o,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const o=this[Symbol.iterator]();let s=o.next(),l=a;for(;!s.done;)l=i(l,s.value,this),s=o.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new t.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,e.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const o of this)a.add(o);for(const o of i)a.add(o);return a}match(i,a,o,s){return new BA(this.dataset.match(i,a,o,s),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return p_.default=n,p_}var Bj;function Hz(){if(Bj)return yg;Bj=1;var e=yg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yg,"__esModule",{value:!0});const t=e(zz());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new t.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return yg.default=n,yg}var p2,Uj;function Ive(){if(Uj)return p2;Uj=1;function e(o){return typeof o=="string"||o instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function n(o){if(typeof o=="string")return o;if(!o)return"";if(typeof o.id<"u"&&o.termType!=="Quad")return o.id;let s,l,c,d;switch(o.termType){case"NamedNode":return o.value;case"BlankNode":return`_:${o.value}`;case"Variable":return`?${o.value}`;case"DefaultGraph":return"";case"Literal":return o.language?`"${o.value}"@${o.language}`:`"${o.value}"${o.datatype&&o.datatype.value!==t?`^^${o.datatype.value}`:""}`;case"Quad":return s=i(n(o.subject)),l=i(n(o.predicate)),c=i(n(o.object)),d=o.graph.termType==="DefaultGraph"?"":` ${n(o.graph)}`,`<<${s} ${l} ${c}${d}>>`;default:throw new Error(`Unexpected termType: ${o.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(o){return o.replace(r,(s,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const l of s)this.add(l)}get size(){let s=this._size;if(s!==null)return s;s=0;const l=this._graphs;let c,d;for(const h in l)for(const g in c=l[h].subjects)for(const y in d=c[g])s+=Object.keys(d[y]).length;return this._size=s,this._size}add(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph);let g=this._graphs[h];g||(g=this._graphs[h]={subjects:{},predicates:{},objects:{}},Object.freeze(g));const y=this._ids,v=this._entities;return l=y[l]||(y[v[++this._id]=l]=this._id),c=y[c]||(y[v[++this._id]=c]=this._id),d=y[d]||(y[v[++this._id]=d]=this._id),this._addToIndex(g.subjects,l,c,d),this._addToIndex(g.predicates,c,d,l),this._addToIndex(g.objects,d,l,c),this._setQuad(l,c,d,h,s),this._size=null,this}delete(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph),g=this._ids,y=this._graphs;let v,_,S;if(!(l=g[l])||!(c=g[c])||!(d=g[d])||!(v=y[h])||!(_=v.subjects[l])||!(S=_[c])||!(d in S))return this;this._removeFromIndex(v.subjects,l,c,d),this._removeFromIndex(v.predicates,c,d,l),this._removeFromIndex(v.objects,d,l,c),this._size!==null&&this._size--,this._deleteQuad(l,c,d,h);for(l in v.subjects)return this;return delete y[h],this}has(s){const l=n(s.subject),c=n(s.predicate),d=n(s.object),h=n(s.graph),g=this._graphs[h];if(!g)return!1;const y=this._ids;let v,_,S;return e(l)&&!(v=y[l])||e(c)&&!(_=y[c])||e(d)&&!(S=y[d])?!1:this._countInIndex(g.objects,S,v,_)===1}match(s,l,c,d){return this._createDataset(this._match(s,l,c,d))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,l,c,d){const h=s[l]||(s[l]={}),g=h[c]||(h[c]={}),y=d in g;return y||(g[d]=null),!y}_removeFromIndex(s,l,c,d){const h=s[l],g=h[c];delete g[d];for(const y in g)return;delete h[c];for(const y in h)return;delete s[l]}_findInIndex(s,l,c,d,h,g,y,v,_,S){let w,x,R;l&&((w=s,s={})[l]=w[l]);for(const P in s)if(x=s[P],x){c&&((w=x,x={})[c]=w[c]);for(const O in x)if(R=x[O],R){const D=d?d in R?[d]:[]:Object.keys(R);for(let F=0;F<D.length;F++){const Q={[h]:P,[g]:O,[y]:D[F]},Y=this._getQuad(Q.subject,Q.predicate,Q.object,v);if(S)S.push(Y);else if(_(Y))return!0}}}return S}_countInIndex(s,l,c,d){let h=0,g,y,v;l&&((g=s,s={})[l]=g[l]);for(const _ in s)if(y=s[_],y){c&&((g=y,y={})[c]=g[c]);for(const S in y)v=y[S],v&&(d?d in v&&h++:h+=Object.keys(v).length)}return h}_getGraphs(s){return e(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,l,c,d){s=s&&n(s),l=l&&n(l),c=c&&n(c),d=d&&n(d);const h=[],g=this._getGraphs(d),y=this._ids;let v,_,S,w;if(e(s)&&!(_=y[s])||e(l)&&!(S=y[l])||e(c)&&!(w=y[c]))return h;for(const x in g)v=g[x],v&&(_?w?this._findInIndex(v.objects,w,_,S,"object","subject","predicate",x,null,h):this._findInIndex(v.subjects,_,S,null,"subject","predicate","object",x,null,h):S?this._findInIndex(v.predicates,S,w,null,"predicate","object","subject",x,null,h):w?this._findInIndex(v.objects,w,null,null,"object","subject","predicate",x,null,h):this._findInIndex(v.subjects,null,null,null,"subject","predicate","object",x,null,h));return h}_getQuad(s,l,c,d){return this._quads.get(this._toId(s,l,c,d))}_setQuad(s,l,c,d,h){this._quads.set(this._toId(s,l,c,d),h)}_deleteQuad(s,l,c,d){this._quads.delete(this._toId(s,l,c,d))}_createDataset(s){return new this.constructor(s)}_toId(s,l,c,d){return`${s}:${l}:${c}:${d}`}}return p2=a,p2}var g2,qj;function Mve(){if(qj)return g2;qj=1;const e=Ji(),t=Ive();function n(r){return new t(r)}return g2=Object.assign({dataset:n},e),g2}var zj;function Vz(){if(zj)return Uc;zj=1;var e=Uc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.createExtendedDatasetFactory=void 0;const t=e(Hz()),n=Mve();function r(){const a={dataset:o=>(0,n.dataset)(Array.isArray(o)?o:o==null?void 0:o.toArray())};return new t.default(a)}Uc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return Uc.default=i,Uc}var g_={},Hj;function Kz(){if(Hj)return g_;Hj=1,Object.defineProperty(g_,"__esModule",{value:!0});const e=Oy();async function t(n,r,i){const a=await(0,e.serializedToQuads)(r,i);return n.dataset(a)}return g_.default=t,g_}var Pg={},Vj;function Dve(){if(Vj)return Pg;Vj=1;var e=Pg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Pg,"__esModule",{value:!0});const t=e(Kz()),n=Vz();async function r(i,a){const o=(0,n.createExtendedDatasetFactory)();return(0,t.default)(o,i,a)}return Pg.default=r,Pg}var Kj;function Hf(){return Kj||(Kj=1,function(e){var t=h_.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedDatasetFactory=e.ExtendedDataset=e.serializedToDataset=e.createDatasetFromSerializedInput=e.createDatasetFactory=e.createDataset=void 0;var n=Vz();Object.defineProperty(e,"createDataset",{enumerable:!0,get:function(){return t(n).default}}),Object.defineProperty(e,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=Kz();Object.defineProperty(e,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return t(r).default}});var i=Dve();Object.defineProperty(e,"serializedToDataset",{enumerable:!0,get:function(){return t(i).default}});var a=zz();Object.defineProperty(e,"ExtendedDataset",{enumerable:!0,get:function(){return t(a).default}});var o=Hz();Object.defineProperty(e,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return t(o).default}})}(h_)),h_}var zc={},Og={},Lg={},gu={},Ig={},Mg={},Gj;function PO(){if(Gj)return Mg;Gj=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.SubscribableDataset=void 0;const e=zh(),t=Oy(),n=Hf();let r=class extends n.ExtendedDataset{constructor(a,o,s){super(s||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=o,this.eventEmitter=new e.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const o of a)super.add(o);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(o=>{super.delete(o)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,o,s,l){const c=super.match(a,o,s,l);for(const d of c)super.delete(d);return this.triggerSubscriptionForQuads({removed:c}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const o={},s=l=>{const c=a[l];c==null||c.forEach(d=>{const h=d;[[null,null,null,null],[h.subject,null,null,null],[h.subject,h.predicate,null,null],[h.subject,null,h.object,null],[null,h.predicate,null,null],[null,h.predicate,h.object,null],[null,null,h.object,null],[h.subject,h.predicate,h.object,null],[null,null,null,h.graph],[h.subject,null,null,h.graph],[h.subject,h.predicate,null,h.graph],[h.subject,null,h.object,h.graph],[null,h.predicate,null,h.graph],[null,h.predicate,h.object,h.graph],[null,null,h.object,h.graph],[h.subject,h.predicate,h.object,h.graph]].forEach(y=>{var _;const v=(0,t.quadMatchToString)(y);this.eventEmitter.listenerCount(v)>0&&(o[v]||(o[v]={}),o[v][l]||(o[v][l]=this.datasetFactory.dataset()),(_=o[v][l])==null||_.add(d))})})};s("added"),s("removed"),Object.entries(o).forEach(([l,c])=>{this.eventEmitter.emit(l,c)})}addListener(a,o){return this.on(a,o)}emit(a,o){return this.eventEmitter.emit((0,t.quadMatchToString)(a),o)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,t.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,t.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,t.quadMatchToString)(a))}off(a,o){this.removeListener(a,o)}on(a,o){var l;const s=(0,t.quadMatchToString)(a);return this.listenerHashMap.has(o)||this.listenerHashMap.set(o,new Set),(l=this.listenerHashMap.get(o))==null||l.add(s),this.eventEmitter.on(s,o),this}once(a,o){return this.eventEmitter.once((0,t.quadMatchToString)(a),o),this}prependListener(a,o){return this.eventEmitter.prependListener((0,t.quadMatchToString)(a),o),this}prependOnceListener(a,o){return this.eventEmitter.prependOnceListener((0,t.quadMatchToString)(a),o),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,t.quadMatchToString)(a)),this}removeListener(a,o){return this.eventEmitter.removeListener((0,t.quadMatchToString)(a),o),this}removeListenerFromAllEvents(a){const o=this.listenerHashMap.get(a);return o&&o.forEach(s=>{this.eventEmitter.off(s,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,t.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Mg.SubscribableDataset=r,Mg}var Wj;function Gz(){if(Wj)return Ig;Wj=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.SubscribableDatasetFactory=void 0;const e=PO();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new e.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Ig.SubscribableDatasetFactory=t,Ig}var Dg={},kg={},Ng={},Qj;function Wz(){if(Qj)return Ng;Qj=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.mergeDatasetChanges=void 0;function e(t,n){var r,i,a,o;if(n.added){t.added?t.added.addAll(n.added):t.added=n.added;const s=(r=t.removed)==null?void 0:r.intersection(n.added);s&&s.size>0&&(t.removed=(i=t.removed)==null?void 0:i.difference(s))}if(n.removed){t.removed?t.removed.addAll(n.removed):t.removed=n.removed;const s=(a=t.added)==null?void 0:a.intersection(n.removed);s&&s.size>0&&(t.added=(o=t.added)==null?void 0:o.difference(s))}t.added&&t.added.size===0&&(t.added=void 0),t.removed&&t.removed.size===0&&(t.removed=void 0)}return Ng.mergeDatasetChanges=e,Ng}var Fg={},Zj;function Qz(){if(Zj)return Fg;Zj=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.updateDatasetInBulk=void 0;function e(t,n){t.bulk?t.bulk(n):(n.added&&t.addAll(n.added),n.removed&&n.removed.forEach(r=>{t.delete(r)}))}return Fg.updateDatasetInBulk=e,Fg}var Jj;function Zz(){if(Jj)return kg;Jj=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.TransactionDataset=void 0;const e=Wz(),t=PO(),n=Qz();let r=class extends t.SubscribableDataset{constructor(a,o,s){super(o,s,o.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,o,s,l){this.checkIfTransactionCommitted();const c=this.match(a,o,s,l);for(const d of c)this.delete(d);return this}match(a,o,s,l){let c=this.parentDataset.match(a,o,s,l);return this.datasetChanges.removed&&(c=c.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(c=c.union(this.datasetChanges.added.match(a,o,s,l))),c}get size(){var a,o;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var o,s;return!((o=this.datasetChanges.removed)!=null&&o.has(a))&&(((s=this.datasetChanges.added)==null?void 0:s.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let o=a.next();const s=this.parentDataset[Symbol.iterator]();let l=s.next();return{next:()=>{if(!o||!o.done){const c=o;return o=a.next(),c}for(;!l.done;){const c=l;if(l=s.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(c.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(c.value)))return c}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,e.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,o;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return kg.TransactionDataset=r,kg}var Xj;function Jz(){if(Xj)return Dg;Xj=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.TransactionDatasetFactory=void 0;const e=Zz();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new e.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Dg.TransactionDatasetFactory=t,Dg}var Yj;function Xz(){if(Yj)return gu;Yj=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.createSubscribableDataset=gu.createSubscribableDatasetFactory=gu.createTransactionDatasetFactory=void 0;const e=Hf(),t=Gz(),n=Jz(),r={dataset:s=>(0,e.createDataset)(s)};function i(){return new n.TransactionDatasetFactory(r)}gu.createTransactionDatasetFactory=i;function a(){return new t.SubscribableDatasetFactory(r,i())}gu.createSubscribableDatasetFactory=a;function o(s){return a().dataset(s)}return gu.createSubscribableDataset=o,gu}var jg={},e4;function kve(){if(e4)return jg;e4=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.createWrapperSubscribableDatasetFromSerializedInput=void 0;const e=Hf(),t=Xz();async function n(r,i){const a=(0,t.createSubscribableDatasetFactory)();return(0,e.createDatasetFromSerializedInput)(a,r,i)}return jg.createWrapperSubscribableDatasetFromSerializedInput=n,jg}var m2={},t4;function Nve(){return t4||(t4=1,Object.defineProperty(m2,"__esModule",{value:!0})),m2}var n4;function Ly(){return n4||(n4=1,function(e){var t=Lg.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Lg.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.serializedToSubscribableDataset=void 0,n(Xz(),e);var r=kve();Object.defineProperty(e,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(Zz(),e),n(Jz(),e),n(PO(),e),n(Gz(),e),n(Nve(),e),n(Wz(),e),n(Qz(),e)}(Lg)),Lg}var Id={},$g={},Bg={},Ug={},r4;function Yz(){if(r4)return Ug;r4=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.ContextUtil=void 0;const e={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let t=class{constructor(r){this.context=r,this.iriToKeyMap={},this.iriToKeyMap=this.createIriToKeyMap(r),this.typeNameToIriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="object"&&a!==null&&a["@id"]&&a["@context"]&&(this.typeNameToIriToKeyMap[i]=this.createIriToKeyMap(a["@context"]))})}createIriToKeyMap(r){const i={};return Object.entries(r).forEach(([a,o])=>{if(typeof o=="string")i[this.keyIdToIri(o)]=a;else if(typeof o=="object"&&o!==null&&o["@id"]){const s=this.keyIdToIri(o["@id"]);i[s]=a}}),i}getRelevantContext(r,i){var a,o,s;for(const l of i){const c=this.iriToKey(l.value,[]);if(typeof this.context[c]=="object"&&((a=this.context[c])!=null&&a["@context"])&&((o=this.context[c])!=null&&o["@context"][r]))return(s=this.context[c])==null?void 0:s["@context"]}return this.context}keyIdToIri(r){return e[r]?e[r]:r}keyToIri(r,i){const a=this.getRelevantContext(r,i);if(a[r]){if(typeof a[r]=="string")return this.keyIdToIri(a[r]);if(a[r]&&a[r]["@id"])return this.keyIdToIri(a[r]["@id"])}else return r;return r}iriToKey(r,i){var o;let a=this.iriToKeyMap;for(const s of i){const l=this.iriToKey(s.value,[]);a=(o=this.typeNameToIriToKeyMap[l])!=null&&o[r]?this.typeNameToIriToKeyMap[l]:this.iriToKeyMap}return a[r]?a[r]:r}getDataType(r,i){const a=this.getRelevantContext(r,i);return typeof a[r]=="object"&&a[r]["@type"]?a[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isSet(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&(a[r]["@container"]==="@set"||a[r]["@isCollection"]))}isLangString(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&a[r]["@type"]&&a[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Ug.ContextUtil=t,Ug}var qg={},i4;function eH(){if(i4)return qg;i4=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.JsonldDatasetProxyBuilder=void 0;const e=Ji();let t=class UA{constructor(r){this.proxyContext=r}write(...r){return new UA(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new UA(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createSetProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createSetProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,e.namedNode)(r["@id"]):(0,e.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([o,s])=>{a[o]=s}),a}};return qg.JsonldDatasetProxyBuilder=t,qg}var zg={},Hg={},mu={},Hc={},Li={},a4;function Mo(){return a4||(a4=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li._writeGraphs=Li._proxyContext=Li._getUnderlyingDataset=Li._isLangString=Li._isSubjectOriented=Li._getUnderlyingMatch=Li._getUnderlyingNode=void 0,Li._getUnderlyingNode=Symbol("_getUnderlyingNode"),Li._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),Li._isSubjectOriented=Symbol("_isSubjectOriented"),Li._isLangString=Symbol("_isLangString"),Li._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),Li._proxyContext=Symbol("_proxyContext"),Li._writeGraphs=Symbol("_writeGraphs")),Li}var o4;function Yh(){if(o4)return Hc;o4=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.getNodeFromRawValue=Hc.getNodeFromRawObject=void 0;const e=Ji(),t=Mo();function n(i,a){return i[t._getUnderlyingNode]?i[t._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,e.namedNode)(a.keyToIri(i["@id"],[])):i["@id"]:(0,e.blankNode)()}Hc.getNodeFromRawObject=n;function r(i,a,o){if(i!=null)return typeof i=="string"||typeof i=="boolean"||typeof i=="number"?o?o==="@id"?(0,e.namedNode)(i.toString()):(0,e.literal)(i.toString(),o):void 0:typeof i.termType=="string"&&(i.termType==="NamedNode"||i.termType==="BlankNode")?i:n(i,a.contextUtil)}return Hc.getNodeFromRawValue=r,Hc}var Vc={},s4;function ep(){if(s4)return Vc;s4=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.getSubjectProxyFromObject=Vc.isSubjectProxy=void 0;const e=Mo();function t(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[e._writeGraphs]!="object"||typeof i[e._getUnderlyingDataset]!="object"||typeof i[e._getUnderlyingNode]!="object"||typeof i[e._proxyContext]!="object")}Vc.isSubjectProxy=t;function n(r){const i=r;if(!t(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return Vc.getSubjectProxyFromObject=n,Vc}var Kc={},u4;function OO(){if(u4)return Kc;u4=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.NodeSet=Kc.nodeToString=void 0;function e(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}Kc.nodeToString=e;let t=class{constructor(){this.set=new Set,this.map={}}add(r){const i=e(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(e(r))}};return Kc.NodeSet=t,Kc}var gi={},l4;function tp(){if(l4)return gi;l4=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.literalLanguageToLanguageKey=gi.languageKeyToLiteralLanguage=gi.getLanguageKeyForWriteOperation=gi.filterQuadsByLanguageOrdering=gi.quadsToLanguageQuadMap=gi.isLanguageLiteral=gi.languageDeleteMatch=gi.languageMatch=void 0;const e=Hf();function t(c,d,h,g){const y=s(g);return c.match(d,h).filter(v=>r(v.object)&&v.object.language===y)}gi.languageMatch=t;function n(c,d,h,g){t(c,d,h,g).forEach(v=>{c.delete(v)})}gi.languageDeleteMatch=n;function r(c){return c.termType==="Literal"&&(c.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||c.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}gi.isLanguageLiteral=r;function i(c){const d={};return c.forEach(h=>{const g=h.object;if(r(g)){const y=l(g.language);d[y]||(d[y]=(0,e.createDataset)()),d[y].add(h)}}),d}gi.quadsToLanguageQuadMap=i;function a(c,d){const h=i(c),g=new Set(d),y=new Set(Object.keys(h));for(const v of d){if(y.has(v))return h[v];if(v==="@other"){for(const _ of y)if(!g.has(_))return h[_]}}return(0,e.createDataset)()}gi.filterQuadsByLanguageOrdering=a;function o(c){return c.find(d=>d!=="@other")}gi.getLanguageKeyForWriteOperation=o;function s(c){return c==="@none"?"":c}gi.languageKeyToLiteralLanguage=s;function l(c){return c===""?"@none":c}return gi.literalLanguageToLanguageKey=l,gi}var Vg={},c4;function wb(){if(c4)return Vg;c4=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.BasicLdSet=void 0;const e=Mo(),t=Ji();let n=class Tm{constructor(i){if(this.hashMap=new Map,i)for(const a of i)this.add(a)}hashFn(i){return typeof i!="object"?i.toString():i[e._getUnderlyingNode]?i[e._getUnderlyingNode].value:i["@id"]?typeof i["@id"]=="string"?i["@id"]:i["@id"].value:(0,t.blankNode)().value}add(i){const a=this.hashFn(i);return this.hashMap.has(a)||this.hashMap.set(a,i),this}clear(){this.hashMap.clear()}delete(i){const a=this.hashFn(i);return this.hashMap.delete(a)}has(i){const a=this.hashFn(i);return this.hashMap.has(a)}get size(){return this.hashMap.size}*entries(){for(const[,i]of this.hashMap.entries())yield[i,i]}keys(){return this.hashMap.values()}values(){return this.hashMap.values()}[Symbol.iterator](){return this.hashMap.values()}get[Symbol.toStringTag](){return"BasicLdSet"}every(i,a){for(const o of this)if(!i.call(a,o,this))return!1;return!0}some(i,a){for(const o of this)if(i.call(a,o,this))return!0;return!1}forEach(i,a){for(const o of this)i.call(a,o,o,this)}map(i,a){const o=[];for(const s of this)o.push(i.call(a,s,this));return o}filter(i,a){const o=new Tm;for(const s of this)i.call(a,s,this)&&o.add(s);return o}reduce(i,a){const o=this[Symbol.iterator]();let s;if(a===void 0){const c=o.next();if(c.done)throw new TypeError("Reduce of empty collection with no initial value");s=c.value}else s=a;let l=o.next();for(;!l.done;)s=i(s,l.value,this),l=o.next();return s}toArray(){const i=[];return this.forEach(a=>i.push(a)),i}toJSON(){return this.toArray()}difference(i){return this.filter(a=>!i.has(a))}intersection(i){const a=new Tm,o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}isDisjointFrom(i){const a=this.size<i.size?this:i,o=this.size<i.size?i:this;for(const s of a)if(o.has(s))return!1;return!0}isSubsetOf(i){if(this.size>i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}isSupersetOf(i){if(this.size<i.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}symmetricDifference(i){const a=new Tm;return this.forEach(o=>a.add(o)),i.forEach(o=>{a.has(o)?a.delete(o):a.add(o)}),a}union(i){const a=new Tm;return this.forEach(o=>a.add(o)),i.forEach(o=>a.add(o)),a}};return Vg.BasicLdSet=n,Vg}var f4;function Iy(){if(f4)return mu;f4=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.addObjectToDataset=mu.addRawObjectToDatasetRecursive=mu.addRawValueToDatasetRecursive=void 0;const e=Ji(),t=Yh(),n=ep(),r=OO(),i=tp(),a=wb();function o(c,d,h,g,y,v){const{dataset:_,contextUtil:S}=v,w=v.getRdfType(c),x=(0,e.namedNode)(S.keyToIri(d,w)),R=(0,t.getNodeFromRawValue)(h,v,S.getDataType(d,w));if(R==null)_.deleteMatches(c,x);else if(R.termType==="Literal"){let P=R;if(S.isLangString(d,w)){const O=(0,i.getLanguageKeyForWriteOperation)(v.languageOrdering);if(!O)return;P=(0,e.literal)(R.value,(0,i.languageKeyToLiteralLanguage)(O))}v.writeGraphs.forEach(O=>{v.dataset.add((0,e.quad)(c,x,P,O))})}else if(v.writeGraphs.forEach(P=>{_.add((0,e.quad)(c,x,R,P))}),!(0,n.isSubjectProxy)(h)){const P=typeof h=="object"?{...h,"@id":R}:{"@id":R};s(P,g,y,v)}}mu.addRawValueToDatasetRecursive=o;function s(c,d,h,g){const{dataset:y}=g,v=(0,t.getNodeFromRawObject)(c,g.contextUtil),_=g.getRdfType(v);return d.has(v)||(d.add(v),Object.entries(c).forEach(([S,w])=>{if(S==="@id")return;const x=(0,e.namedNode)(g.contextUtil.keyToIri(S,_));if(h)if(g.contextUtil.isLangString(S,_)){const R=(0,i.getLanguageKeyForWriteOperation)(g.languageOrdering);R&&(0,i.languageDeleteMatch)(y,v,x,R)}else y.deleteMatches(v,x);w instanceof a.BasicLdSet?w.forEach(R=>{o(v,S,R,d,!0,g)}):o(v,S,w,d,!0,g)})),g.createSubjectProxy(v)}mu.addRawObjectToDatasetRecursive=s;function l(c,d,h){return s(c,new r.NodeSet,d,h)}return mu.addObjectToDataset=l,mu}var Kg={},d4;function tH(){if(d4)return Kg;d4=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.deleteValueFromDataset=void 0;const e=Iy();function t(n,r,i){if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;if(r==="@id"){const a=n["@id"];return i.dataset.deleteMatches(a,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,a),!0}return(0,e.addObjectToDataset)({"@id":n["@id"],[r]:void 0},!0,i),!0}return Kg.deleteValueFromDataset=t,Kg}var Gg={},Gc={},h4;function LO(){if(h4)return Gc;h4=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.nodeToJsonldRepresentation=Gc.literalToJsonldRepresentation=void 0;function e(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}Gc.literalToJsonldRepresentation=e;function t(n,r){if(n.termType==="Literal")return e(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return Gc.nodeToJsonldRepresentation=t,Gc}var p4;function nH(){if(p4)return Gg;p4=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.getValueForKey=void 0;const e=Ji(),t=LO(),n=tp();function r(i,a,o){const{contextUtil:s,dataset:l}=o;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:s.iriToKey(i["@id"].value,[]);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const c=i["@id"],d=o.getRdfType(c),h=(0,e.namedNode)(s.keyToIri(a,d));if(s.isSet(a,d))return o.createSetProxy([c,h,null,null],!1,s.isLangString(a,d));let g=l.match(c,h);if(s.isLangString(a,d)&&(g=(0,n.filterQuadsByLanguageOrdering)(g,o.languageOrdering)),g.size!==0)return(0,t.nodeToJsonldRepresentation)(g.toArray()[0].object,o)}return Gg.getValueForKey=r,Gg}var g4;function rH(){if(g4)return Hg;g4=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.createSubjectHandler=void 0;const e=Ji(),t=Iy(),n=tH(),r=Mo(),i=nH();function a(o){let s=o;return{get(l,c){switch(c){case r._getUnderlyingDataset:return s.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return s;case r._writeGraphs:return s.writeGraphs;case"@context":return s.contextUtil.context}return(0,i.getValueForKey)(l,c,s)},getOwnPropertyDescriptor(l,c){return{value:(0,i.getValueForKey)(l,c,s),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const c=l["@id"],d=s.dataset.match(c),h=new Set(["@id"]);return d.toArray().forEach(g=>{h.add(s.contextUtil.iriToKey(g.predicate.value,s.getRdfType(c)))}),Array.from(h)},set:(l,c,d)=>{if(c===r._proxyContext)return s=d,!0;if(c==="@id"&&(typeof d=="string"||typeof d>"u")){const h=d?(0,e.namedNode)(d):(0,e.blankNode)(),g=s.dataset.match(l["@id"]).toArray(),y=g.map(S=>(0,e.quad)(h,S.predicate,S.object,S.graph));g.forEach(S=>s.dataset.delete(S)),s.dataset.addAll(y);const v=s.dataset.match(void 0,void 0,l["@id"]).toArray(),_=v.map(S=>(0,e.quad)(S.subject,S.predicate,h,S.graph));v.forEach(S=>s.dataset.delete(S)),s.dataset.addAll(_),l["@id"]=h}return(0,t.addObjectToDataset)({"@id":l["@id"],[c]:d},!0,s),!0},deleteProperty(l,c){return(0,n.deleteValueFromDataset)(l,c,s)}}}return Hg.createSubjectHandler=a,Hg}var Wg={},Qg={},Zg={},Jg={},m4;function bb(){if(m4)return Jg;m4=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.SetProxy=void 0;const e=Mo(),t=LO(),n=wb();let r=class extends n.BasicLdSet{constructor(a,o){super(),this.context=a,this.quadMatch=o}add(a){return console.warn(`You've attempted to call "add" on a wildcard set. You cannot add data to a wildcard set as it is simply a proxy to an underlying dataset`),this}clear(){console.warn(`You've attempted to call "clear" on an abstract set. You cannot clear data from an abstract set as it is simply a proxy to an underlying dataset`)}delete(a){return console.warn(`You've attempted to call "clear" on an abstract set. You cannot delete data from an abstract set as it is simply a proxy to an underlying dataset`),!1}has(a){return this.getQuads(a).size>0}get size(){return this.getQuads().size}entries(){const a=new Set;for(const o of this)a.add([o,o]);return a[Symbol.iterator]()}keys(){return this.values()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){const o=this.getQuads().toArray().map(s=>{const l=this.getNodeOfFocus(s);return(0,t.nodeToJsonldRepresentation)(l,this.context)});return new Set(o)[Symbol.iterator]()}get[Symbol.toStringTag](){return"LdSet"}get[e._getUnderlyingDataset](){return this.context.dataset}get[e._getUnderlyingMatch](){return this.quadMatch}get[e._proxyContext](){return this.context}set[e._proxyContext](a){this.context=a}get[e._writeGraphs](){return this.context.writeGraphs}};return Jg.SetProxy=r,Jg}var y4;function iH(){if(y4)return Zg;y4=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.WildcardObjectSetProxy=void 0;const e=bb(),t=Yh(),n=Mo(),r=tp();let i=class extends e.SetProxy{constructor(o,s,l){super(o,s),this.quadMatch=s,this.isLangStringSet=l??!1}getQuads(o){const{dataset:s}=this.context;let l;const c=this.quadMatch[0]??void 0,d=this.quadMatch[1]??void 0,h=this.quadMatch[3]??void 0;if(o){let g;if(this.quadMatch[0]&&d){const v=this.context.getRdfType(this.quadMatch[0]),_=this.context.contextUtil.iriToKey(d.value,v);g=this.context.contextUtil.getDataType(_,v)}const y=(0,t.getNodeFromRawValue)(o,this.context,g);l=s.match(c,d,y,h),y||(l=l.filter(v=>v.object.termType==="Literal"&&v.object.value===o))}else l=s.match(c,d,void 0,h);return this.isLangStringSet?(0,r.filterQuadsByLanguageOrdering)(l,this.context.languageOrdering):l}getNodeOfFocus(o){return o.object}get[n._isSubjectOriented](){return!1}};return Zg.WildcardObjectSetProxy=i,Zg}var v4;function Fve(){if(v4)return Qg;v4=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.ObjectSetProxy=void 0;const e=iH(),t=Iy();let n=class extends e.WildcardObjectSetProxy{constructor(i,a,o){super(i,a,o),this.quadMatch=a}add(i){return(0,t.addObjectToDataset)({"@id":this.quadMatch[0],[this.context.contextUtil.iriToKey(this.quadMatch[1].value,this.context.getRdfType(this.quadMatch[0]))]:i},!1,this.context),this}clear(){for(const i of this)this.delete(i)}delete(i){const{dataset:a}=this.context,o=this.getQuads(i);return o.forEach(s=>a.delete(s)),o.size>0}};return Qg.ObjectSetProxy=n,Qg}var Xg={},Yg={},_4;function aH(){if(_4)return Yg;_4=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.WildcardSubjectSetProxy=void 0;const e=bb(),t=Yh(),n=Mo();let r=class extends e.SetProxy{constructor(a,o){super(a,o),this.quadMatch=o}getQuads(a){const{dataset:o}=this.context,s=this.quadMatch[1],l=this.quadMatch[2],c=this.quadMatch[3];if(a){const d=(0,t.getNodeFromRawObject)(a,this.context.contextUtil);return o.match(d,s,l,c)}return o.match(void 0,s,l,c)}getNodeOfFocus(a){return a.subject}get[n._isSubjectOriented](){return!0}};return Yg.WildcardSubjectSetProxy=r,Yg}var w4;function jve(){if(w4)return Xg;w4=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.SubjectSetProxy=void 0;const e=Iy(),t=aH(),n=Mo(),r=Ji(),i=Ly(),a=Hf(),o=Yh(),s=OO();let l=class extends t.WildcardSubjectSetProxy{constructor(d,h){super(d,h),this.quadMatch=h}add(d){if(typeof d!="object")throw new Error(`Cannot add a literal "${d}"(${typeof d}) to a subject-oriented collection.`);const h=new i.TransactionDataset(this.context.dataset,(0,a.createDatasetFactory)(),(0,i.createTransactionDatasetFactory)());if((0,e.addObjectToDataset)(d,!1,this.context.duplicate({writeGraphs:[(0,r.defaultGraph)()]})),!(h.match((0,o.getNodeFromRawObject)(d,this.context.contextUtil),this.quadMatch[1],this.quadMatch[2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,s.nodeToString)(this.quadMatch[0])}, ${(0,s.nodeToString)(this.quadMatch[1])}, ${(0,s.nodeToString)(this.quadMatch[2])}, ${(0,s.nodeToString)(this.quadMatch[3])})`);const v=(0,e.addObjectToDataset)(d,!1,this.context)[n._getUnderlyingNode];return this.context.writeGraphs.forEach(_=>{this.context.dataset.add((0,r.quad)(v,this.quadMatch[1],this.quadMatch[2],_))}),this}};return Xg.SubjectSetProxy=l,Xg}var b4;function oH(){if(b4)return Wg;b4=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.createNewSetProxy=void 0;const e=Fve(),t=jve(),n=iH(),r=aH();function i(a,o,s,l){return o?a[1]&&a[2]?new t.SubjectSetProxy(s,a):new r.WildcardSubjectSetProxy(s,a):a[0]&&a[1]?new e.ObjectSetProxy(s,a,l):new n.WildcardObjectSetProxy(s,a,l)}return Wg.createNewSetProxy=i,Wg}var S4;function uH(){if(S4)return zg;S4=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.ProxyContext=void 0;const e=rH(),t=Ji(),n=oH(),r=(0,t.namedNode)("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");let i=class sH{constructor(o){this.subjectMap=new Map,this.setMap=new Map,this.dataset=o.dataset,this.contextUtil=o.contextUtil,this.writeGraphs=o.writeGraphs,this.languageOrdering=o.languageOrdering,this.state=o.state||{}}createSubjectProxy(o){if(!this.subjectMap.has(o.value)){const s=this.createNewSubjectProxy(o);this.subjectMap.set(o.value,s)}return this.subjectMap.get(o.value)}createNewSubjectProxy(o){return new Proxy({"@id":o},(0,e.createSubjectHandler)(this))}getSetKey(...o){var s,l,c,d;return`${((s=o[0])==null?void 0:s.value)||"undefined"}|${((l=o[1])==null?void 0:l.value)||"undefined"}|${((c=o[2])==null?void 0:c.value)||"undefined"}|${((d=o[3])==null?void 0:d.value)||"undefined"}`}createSetProxy(o,s,l){const c=this.getSetKey(...o);if(!this.setMap.has(c)){const d=this.createNewSetProxy(o,s,l);this.setMap.set(c,d)}return this.setMap.get(c)}createNewSetProxy(o,s,l){return(0,n.createNewSetProxy)(o,s??!1,this,l)}duplicate(o){const s={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,...o};return new sH(s)}getRdfType(o){return this.dataset.match(o,r).toArray().map(s=>s.object).filter(s=>s.termType==="NamedNode")}};return zg.ProxyContext=i,zg}var x4;function E4(){if(x4)return Bg;x4=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.jsonldDatasetProxy=void 0;const e=Ji(),t=Yz(),n=eH(),r=uH();function i(a,o){const s=new t.ContextUtil(o),l=new r.ProxyContext({dataset:a,contextUtil:s,writeGraphs:[(0,e.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return Bg.jsonldDatasetProxy=i,Bg}var em={},tm={},Wc={},nm={},C4;function lH(){if(C4)return nm;C4=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.isSetProxy=void 0;const e=bb();function t(n){return!n||typeof n!="object"?!1:n instanceof e.SetProxy}return nm.isSetProxy=t,nm}var T4;function cH(){if(T4)return Wc;T4=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.getProxyFromObject=Wc.isProxy=void 0;const e=lH(),t=ep();function n(i){return(0,t.isSubjectProxy)(i)||(0,e.isSetProxy)(i)}Wc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return Wc.getProxyFromObject=r,Wc}var R4;function IO(){if(R4)return tm;R4=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.createInteractOptions=void 0;const e=ep(),t=Mo(),n=cH();function r(i,a){return{using(...o){const s=[];return o.forEach(l=>{const c=(0,n.getProxyFromObject)(l),d=c[t._proxyContext];c[t._proxyContext]=c[t._proxyContext].duplicate({[i]:a}),s.push(()=>{c[t._proxyContext]=d})}),function(){s.forEach(c=>c())}},usingCopy(...o){return o.map(s=>{const l=(0,e.getSubjectProxyFromObject)(s);return l[t._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[t._getUnderlyingNode])})}}}return tm.createInteractOptions=r,tm}var A4;function $ve(){if(A4)return em;A4=1,Object.defineProperty(em,"__esModule",{value:!0}),em.write=void 0;const e=IO();function t(...n){return(0,e.createInteractOptions)("writeGraphs",n)}return em.write=t,em}var rm={},P4;function Bve(){if(P4)return rm;P4=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.graphOf=void 0;const e=Ji(),t=ep(),n=Mo(),r=Yh();function i(a,o,s){const l=(0,t.getSubjectProxyFromObject)(a),c=l[n._proxyContext],d=l[n._getUnderlyingNode],h=(0,e.namedNode)(c.contextUtil.keyToIri(o,c.getRdfType(d)));let g;if(s==null)g=null;else{const v=c.contextUtil.getDataType(o,c.getRdfType(d));g=(0,r.getNodeFromRawValue)(s,c,v)}return l[n._getUnderlyingDataset].match(d,h,g).toArray().map(v=>v.graph)}return rm.graphOf=i,rm}var im={},O4;function Uve(){if(O4)return im;O4=1,Object.defineProperty(im,"__esModule",{value:!0}),im.setLanguagePreferences=void 0;const e=IO();function t(...n){return(0,e.createInteractOptions)("languageOrdering",n)}return im.setLanguagePreferences=t,im}var y2={},L4;function qve(){return L4||(L4=1,Object.defineProperty(y2,"__esModule",{value:!0})),y2}var am={},Md={},m_={},I4;function fH(){if(I4)return m_;I4=1;var e;Object.defineProperty(m_,"__esModule",{value:!0});const t=Ji(),n=tp();class r{constructor(a,o,s,l){this[e]="LanguageSet",this.subject=a,this.predicate=o,this.languageKey=s,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,t.literal)(a):(0,t.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(o=>{this.proxyContext.dataset.add((0,t.quad)(this.subject,this.predicate,(0,t.literal)(a,this.languageKey),o))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const o=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),o}forEach(a,o){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,o||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const o of a)yield[o.object.value,o.object.value]}*keys(){const a=this.matchThis();for(const o of a)yield o.object.value}*values(){const a=this.matchThis();for(const o of a)yield o.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const o of a)yield o.object.value}}return m_.default=r,e=Symbol.toStringTag,m_}var M4;function dH(){if(M4)return Md;M4=1;var e=Md.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Md,"__esModule",{value:!0}),Md.createLanguageMapProxy=void 0;const t=Ji(),n=tp(),r=e(fH());function i(a,o,s,l){const c={},d=h=>{Object.keys(h).forEach(v=>delete h[v]);const g=s.dataset.match(a,o),y=(0,n.quadsToLanguageQuadMap)(g);Object.entries(y).forEach(([v,_])=>{const S=_.toArray().map(w=>w.object.value);l?h[v]=new Set(S):h[v]=S[0]})};return d(c),new Proxy(c,{get:(h,g)=>(d(h),typeof g!="string"?Reflect.get(h,g):l?new r.default(a,o,g,s):Reflect.get(h,g)),set:(h,g,y)=>{const v=(0,n.languageKeyToLiteralLanguage)(g);return l||(0,n.languageDeleteMatch)(s.dataset,a,o,v),s.writeGraphs.forEach(_=>{s.dataset.add((0,t.quad)(a,o,(0,t.literal)(y,v),_))}),Reflect.set(h,g,y)},deleteProperty:(h,g)=>((0,n.languageDeleteMatch)(s.dataset,a,o,(0,n.languageKeyToLiteralLanguage)(g)),Reflect.deleteProperty(h,g))})}return Md.createLanguageMapProxy=i,Md}var D4;function zve(){if(D4)return am;D4=1,Object.defineProperty(am,"__esModule",{value:!0}),am.languagesOf=void 0;const e=Ji(),t=ep(),n=Mo(),r=dH();function i(a,o){const s=(0,t.getSubjectProxyFromObject)(a),l=s[n._proxyContext],c=s[n._getUnderlyingNode],d=l.getRdfType(c),h=(0,e.namedNode)(l.contextUtil.keyToIri(o,d));return(0,r.createLanguageMapProxy)(c,h,l,l.contextUtil.isSet(o,d))}return am.languagesOf=i,am}var v2={},k4;function Hve(){return k4||(k4=1,Object.defineProperty(v2,"__esModule",{value:!0})),v2}var om={},N4;function Vve(){if(N4)return om;N4=1,Object.defineProperty(om,"__esModule",{value:!0}),om.set=void 0;const e=wb();function t(...n){return new e.BasicLdSet(n)}return om.set=t,om}var _2={},F4;function Kve(){return F4||(F4=1,Object.defineProperty(_2,"__esModule",{value:!0})),_2}var w2={},j4;function Gve(){return j4||(j4=1,Object.defineProperty(w2,"__esModule",{value:!0})),w2}var b2={},$4;function Wve(){return $4||($4=1,Object.defineProperty(b2,"__esModule",{value:!0})),b2}var B4;function Pf(){return B4||(B4=1,function(e){var t=$g.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=$g.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0});const r=E4();e.default=r.jsonldDatasetProxy,n(Mo(),e),n(Yz(),e),n(uH(),e),n(eH(),e),n(E4(),e),n($ve(),e),n(Bve(),e),n(Uve(),e),n(qve(),e),n(zve(),e),n(dH(),e),n(fH(),e),n(Hve(),e),n(tp(),e),n(oH(),e),n(lH(),e),n(bb(),e),n(Vve(),e),n(Kve(),e),n(wb(),e),n(rH(),e),n(Gve(),e),n(nH(),e),n(tH(),e),n(ep(),e),n(Iy(),e),n(LO(),e),n(Wve(),e),n(Yh(),e),n(OO(),e),n(cH(),e),n(IO(),e)}($g)),$g}var sm={},Ha={},U4;function hH(){if(U4)return Ha;U4=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.getTransactionalDatasetFromLdo=Ha.isTransactionalDataset=Ha.canDatasetStartTransaction=Ha.normalizeNodeNames=Ha.normalizeNodeName=void 0;const e=Ji(),t=Pf();function n(s){return typeof s=="string"?(0,e.namedNode)(s):s}Ha.normalizeNodeName=n;function r(s){return s.map(l=>n(l))}Ha.normalizeNodeNames=r;function i(s){return typeof s.startTransaction=="function"}Ha.canDatasetStartTransaction=i;function a(s){return typeof s.commit=="function"}Ha.isTransactionalDataset=a;function o(s){const l=(0,t.getProxyFromObject)(s),c=l[t._getUnderlyingDataset];if(!a(c)||!l[t._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[c,l]}return Ha.getTransactionalDatasetFromLdo=o,Ha}var q4;function MO(){if(q4)return sm;q4=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.LdoBuilder=void 0;const e=hH();let t=class qA{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,e.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new qA(this.jsonldDatasetProxyBuilder.write(...(0,e.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new qA(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return sm.LdoBuilder=t,sm}var Dd={},z4;function pH(){if(z4)return Dd;z4=1;var e=Dd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.LdoTransactionDataset=void 0;const t=Ly(),n=MO(),r=e(Pf());let i=class extends t.TransactionDataset{usingType(o){const s=(0,r.default)(this,o.context);return new n.LdoBuilder(s,o)}};return Dd.LdoTransactionDataset=i,Dd}var H4;function gH(){if(H4)return Id;H4=1;var e=Id.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Id,"__esModule",{value:!0}),Id.LdoDataset=void 0;const t=e(Pf()),n=Ly(),r=MO(),i=pH();let a=class extends n.SubscribableDataset{usingType(s){const l=(0,t.default)(this,s.context);return new r.LdoBuilder(l,s)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return Id.LdoDataset=a,Id}var V4;function Qve(){if(V4)return Og;V4=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.LdoDatasetFactory=void 0;const e=Ly(),t=gH();let n=class extends e.SubscribableDatasetFactory{dataset(i){return new t.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return Og.LdoDatasetFactory=n,Og}var K4;function mH(){if(K4)return zc;K4=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.createLdoDataset=zc.createLdoDatasetFactory=void 0;const e=Hf(),t=Qve(),n=Ly();function r(){const a={dataset:o=>(0,e.createDataset)(o)};return new t.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}zc.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return zc.createLdoDataset=i,zc}var G4;function Zve(){if(G4)return mg;G4=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.parseRdf=void 0;const e=Hf(),t=mH();async function n(r,i){const a=(0,t.createLdoDatasetFactory)();return typeof r=="string"?await(0,e.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,t.createLdoDataset)(r):await(0,e.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/ld+json"})}return mg.parseRdf=n,mg}var S2={},W4;function Jve(){return W4||(W4=1,Object.defineProperty(S2,"__esModule",{value:!0})),S2}var ur={},Q4;function Xve(){if(Q4)return ur;Q4=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.toNTriples=ur.toJsonLd=ur.toTurtle=ur.serialize=ur.toSparqlUpdate=ur.getDataset=ur.transactionChanges=ur.commitTransaction=ur.startTransaction=ur.write=ur.setLanguagePreferences=ur.languagesOf=ur.graphOf=void 0;const e=Pf(),t=Oy(),n=hH(),r=Pf();ur.graphOf=r.graphOf,ur.languagesOf=r.languagesOf,ur.setLanguagePreferences=r.setLanguagePreferences;function i(...v){return(0,e.write)(...(0,n.normalizeNodeNames)(v))}ur.write=i;function a(v){const _=(0,e.getProxyFromObject)(v),S=_[e._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(S))throw new Error("Object is not transactable.");_[e._proxyContext]=_[e._proxyContext].duplicate({dataset:S.startTransaction(),state:{parentDataset:S}})}ur.startTransaction=a;function o(v){const[_,S]=(0,n.getTransactionalDatasetFromLdo)(v);_.commit(),S[e._proxyContext]=S[e._proxyContext].duplicate({dataset:S[e._proxyContext].state.parentDataset})}ur.commitTransaction=o;function s(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v);return _.getChanges()}ur.transactionChanges=s;function l(v){return(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset]}ur.getDataset=l;async function c(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v),S=_.getChanges();return(0,t.changesToSparqlUpdate)(S)}ur.toSparqlUpdate=c;async function d(v,_){const S=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(S,_)}ur.serialize=d;async function h(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{})}ur.toTurtle=h;async function g(v){throw new Error("Not Implemented")}ur.toJsonLd=g;async function y(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{format:"N-Triples"})}return ur.toNTriples=y,ur}var x2={},Z4;function Yve(){return Z4||(Z4=1,Object.defineProperty(x2,"__esModule",{value:!0})),x2}var J4;function e_e(){return J4||(J4=1,function(e){var t=gg.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=gg.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.set=void 0,n(Zve(),e),n(Jve(),e),n(Xve(),e),n(gH(),e),n(pH(),e),n(MO(),e),n(mH(),e),n(Yve(),e);var r=Pf();Object.defineProperty(e,"set",{enumerable:!0,get:function(){return r.set}})}(gg)),gg}var Tr=e_e();const Ml={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},lc={Accommodation:Ml.hospex+"Accommodation",PersonalHospexDocument:Ml.hospex+"PersonalHospexDocument",offers:Ml.hospex+"offers",offeredBy:Ml.hospex+"offeredBy",storage:Ml.hospex+"storage"},Rm={...Object.fromEntries(Object.entries(kA).map(([e,t])=>[e,zN(t)])),subject:zN(kA.object.replace("object","subject"))},Dl={participation:Ml.wf+"participation",participant:Ml.wf+"participant",...Uge},yH={LongChat:Ml.meeting+"LongChat",...Bge},vH=[{type:"match",subject:"?community",predicate:Th.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:Tu.inbox,pick:"object",target:"?inbox"}],_H=[...vH,{type:"match",subject:"?group",predicate:V9.hasMember,pick:"object",target:"?person"}],Sb={type:"match",subject:"?person",predicate:Tu.inbox,pick:"object",target:"?inbox"},np=[{type:"match",subject:"?person",predicate:cO.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],wH=[...np,{type:"match",subject:"?person",predicate:En.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],bH=[...wH,{type:"match",subject:"?person",predicate:Uf.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:En.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},Sb],SH=[{type:"match",predicate:Gh.type,object:En.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:En.forClass,object:lc.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:En.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:Th.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],DO=[...wH,...SH],t_e=[...bH,...SH,{type:"match",subject:"?person",predicate:Uf.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},Sb,{type:"match",subject:"?person",predicate:Th.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:Th.name,pick:"object",target:"?communityName"}],n_e=[...DO,{type:"match",subject:"?person",predicate:Uf.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],xH=[...DO,{type:"match",subject:"?person",predicate:lc.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],r_e=[..._H,...xH],i_e=[{type:"match",subject:"?offer",predicate:lc.offeredBy,pick:"object",target:"?person"}],a_e=[...np,{type:"match",subject:"?person",predicate:Yl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:cO.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],o_e=[...np,Sb,{type:"match",subject:"?inbox",predicate:Tu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Gh.type,object:Rm.Invite,pick:"subject",target:"?inviteNotification"}],s_e=[...np,Sb,{type:"match",subject:"?inbox",predicate:Tu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Gh.type,object:Rm.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:Rm.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:Rm.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:Rm.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],EH=[...np,{type:"match",subject:"?person",predicate:Uf.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:En.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:Gh.type,object:En.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:En.forClass,object:yH.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:En.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:Dl.participation,pick:"object",target:"?participation"}],u_e=[...EH,{type:"match",subject:"?participation",predicate:H9.references,pick:"object",target:"?otherChat"}],l_e=[...EH,{type:"match",subject:"?participation",predicate:Dl.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:Dl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:Dl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:Dl.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:Dl.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:H9.references,pick:"object",target:"?otherChat"}],CH=[{type:"match",subject:"?chatContainer",predicate:Tu.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:Tu.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:Tu.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:Tu.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:Dl.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:Dl.message,pick:"object",target:"?message"}],ww=e=>e.termType==="NamedNode"?new ti(di(e.value)):void 0,c_e=[...l_e,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:ww},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:ww},...CH],f_e=[...u_e,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:ww},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:ww},...CH],d_e=(e,t)=>{const{variables:n,isLoading:r}=wa(V.useMemo(()=>({query:_H,variables:{community:[t]},fetch:ar}),[t]));if(!r)return(n.person??[]).includes(e)},zu=(e,...t)=>{t.length===0&&(t=[...t,$h]);const{store:n,variables:r,isLoading:i}=wa({query:vH,variables:V.useMemo(()=>({community:[e]}),[e]),fetch:ar}),a=V.useMemo(()=>Tr.createLdoDataset(n.getQuads(null,null,null,null)).usingType(kme).fromSubject(e),[e,n,r]),o=E2(a,"name",...t),s=E2(a,"note",...t),l=E2(a,"about",...t);return V.useMemo(()=>{var c,d;return{community:e,logo:((c=a.logo)==null?void 0:c.map(({"@id":h})=>h))??[],name:o,about:l,pun:s,groups:r.group??[],isLoading:i,inbox:(d=r.inbox)==null?void 0:d[0]}},[l,a.logo,e,i,o,s,r.group,r.inbox])},E2=(e,t,...n)=>{const r=V.useMemo(()=>[...n,"@none"],[n]);return V.useMemo(()=>{const a=Tr.languagesOf(e,t);for(const o of r){const s=a[o];if(typeof s=="string")return s;if((s==null?void 0:s.toString())==="[object LanguageSet]"){const l=[...s][0];if(typeof l=="string")return l}}},[r,t,e])},h_e="_select_103rf_1",p_e={select:h_e},g_e=()=>{const e=$r(Lo),t=oc();return U.jsx("select",{className:p_e.select,value:e,onChange:n=>{t(BP.changeLocale(n.target.value))},children:ow.map(n=>U.jsx("option",{value:n,children:n},n))})},m_e="_header_1hug1_1",y_e="_logoContainer_1hug1_12",v_e="_logo_1hug1_12",__e="_spacer_1hug1_21",y_={header:m_e,logoContainer:y_e,logo:v_e,spacer:__e},w_e=()=>{const e=oc(),t=$f(),n=async()=>{await jne(),e(HP.signout()),t("/")};return U.jsx("button",{onClick:n,children:U.jsx(wt,{id:"ydgdD7"})})},Hu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Preferences",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/space#ConfigurationFile"]}},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Vu={type:{"@id":"@type"},Person:{"@id":"http://xmlns.com/foaf/0.1/Person","@context":{type:{"@id":"@type"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@isCollection":!0},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@isCollection":!0},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@isCollection":!0},oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@isCollection":!0},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@isCollection":!0}}},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:{"@id":"http://www.w3.org/ns/ldp#Container","@context":{type:{"@id":"@type"},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},BasicContainer:{"@id":"http://www.w3.org/ns/ldp#BasicContainer","@context":{type:{"@id":"@type"},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},Add:{"@id":"https://www.w3.org/ns/activitystreams#Add","@context":{type:{"@id":"@type"},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"}}},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:{"@id":"http://www.w3.org/ns/pim/meeting#LongChat","@context":{type:{"@id":"@type"},author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@isCollection":!0},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@isCollection":!0}}},author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@isCollection":!0},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@isCollection":!0},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@isCollection":!0},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:{"@id":"https://www.w3.org/ns/activitystreams#Invite","@context":{type:{"@id":"@type"},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},content:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"}}},content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:{"@id":"https://www.w3.org/ns/activitystreams#Relationship","@context":{type:{"@id":"@type"},subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"}}},subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@isCollection":!0},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@isCollection":!0},TypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#TypeIndex","@context":{type:{"@id":"@type"}}},UnlistedDocument:{"@id":"http://www.w3.org/ns/solid/terms#UnlistedDocument","@context":{type:{"@id":"@type"}}},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@isCollection":!0},ListedDocument:{"@id":"http://www.w3.org/ns/solid/terms#ListedDocument","@context":{type:{"@id":"@type"}}},oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@isCollection":!0},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@isCollection":!0},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@isCollection":!0},Accommodation:{"@id":"http://w3id.org/hospex/ns#Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},Accommodation2:{"@id":"https://schema.org/Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#Point","@context":{type:{"@id":"@type"},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@isCollection":!0},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},ConfigurationFile:"http://www.w3.org/ns/pim/space#ConfigurationFile",TypeRegistration:{"@id":"http://www.w3.org/ns/solid/terms#TypeRegistration","@context":{type:{"@id":"@type"},forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@isCollection":!0},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@isCollection":!0},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@isCollection":!0}}},forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@isCollection":!0},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@isCollection":!0},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@isCollection":!0},Resource:{"@id":"http://www.w3.org/ns/ldp#Resource","@context":{type:{"@id":"@type"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}}},TH={schema:Hu,shape:"https://example.com/SolidProfile",context:Vu},b_e={schema:Hu,shape:"https://example.com/FoafProfile",context:Vu},xb={schema:Hu,shape:"https://example.com/HospexProfile",context:Vu},Eb={schema:Hu,shape:"https://example.com/Accommodation",context:Vu},S_e={schema:Hu,shape:"https://example.com/PublicTypeIndex",context:Vu},x_e={schema:Hu,shape:"https://example.com/PrivateTypeIndex",context:Vu},Rh={schema:Hu,shape:"https://example.com/ChatShape",context:Vu},RH={schema:Hu,shape:"https://example.com/MessageActivity",context:Vu},AH={schema:Hu,shape:"https://example.com/ContactInvitationActivity",context:Vu};var X4=Oy();const E_e=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},Y4=e=>JSON.parse(JSON.stringify(e,E_e()));async function e6(e){const t=Tr.transactionChanges(e),n=[`_:mutate a <${En.InsertDeletePatch}>`];if(t.added){const i=await X4.datasetToString(t.added,{format:"N3"});n.push(`<${En.inserts}> { ${i} }`)}if(t.removed){const i=await X4.datasetToString(t.removed,{format:"N3"});n.push(`<${En.deletes}> { ${i} }`)}return n.join(`;
`)+"."}const Cb=(e,t)=>{const n=Tr.languagesOf(e,t);return C_e(n)},C_e=e=>{const t={};for(const n in e)t[n]=[...e[n]][0];return t},kO=(e,t,n)=>{const r=Tr.languagesOf(t,n);e&&Object.entries(e).forEach(([i,a])=>{var o,s;(o=r[i])==null||o.clear(),a.trim()&&((s=r[i])==null||s.add(a.trim()))})};var C2,t6;function PH(){if(t6)return C2;t6=1;var e=yb(),t=Ry();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return C2=n,C2}var Am={exports:{}};Am.exports;var n6;function OH(){return n6||(n6=1,function(e,t){var n=os(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,g=s?s(h):new c.constructor(h);return c.copy(g),g}e.exports=l}(Am,Am.exports)),Am.exports}var T2,r6;function NO(){if(r6)return T2;r6=1;var e=_z();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return T2=t,T2}var R2,i6;function LH(){if(i6)return R2;i6=1;var e=NO();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return R2=t,R2}var A2,a6;function IH(){if(a6)return A2;a6=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return A2=e,A2}var P2,o6;function T_e(){if(o6)return P2;o6=1;var e=Io(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return P2=n,P2}var O2,s6;function FO(){if(s6)return O2;s6=1;var e=Cz(),t=e(Object.getPrototypeOf,Object);return O2=t,O2}var L2,u6;function MH(){if(u6)return L2;u6=1;var e=T_e(),t=FO(),n=xO();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return L2=r,L2}var I2,l6;function DH(){if(l6)return I2;l6=1;var e=gb(),t=qu();function n(r){return t(r)&&e(r)}return I2=n,I2}var M2,c6;function kH(){if(c6)return M2;c6=1;var e=Zh(),t=FO(),n=qu(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var h=t(d);if(h===null)return!0;var g=s.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==l}return M2=c,M2}var D2,f6;function NH(){if(f6)return D2;f6=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return D2=e,D2}var k2,d6;function jO(){if(d6)return k2;d6=1;var e=yb(),t=Ry(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var l=a[o];(!(r.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return k2=i,k2}var N2,h6;function rp(){if(h6)return N2;h6=1;var e=jO(),t=yb();function n(r,i,a,o){var s=!a;a||(a={});for(var l=-1,c=i.length;++l<c;){var d=i[l],h=o?o(a[d],r[d],d,a,r):void 0;h===void 0&&(h=r[d]),s?t(a,d,h):e(a,d,h)}return a}return N2=n,N2}var F2,p6;function R_e(){if(p6)return F2;p6=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return F2=e,F2}var j2,g6;function A_e(){if(g6)return j2;g6=1;var e=Io(),t=xO(),n=R_e(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!e(o))return n(o);var s=t(o),l=[];for(var c in o)c=="constructor"&&(s||!i.call(o,c))||l.push(c);return l}return j2=a,j2}var $2,m6;function My(){if(m6)return $2;m6=1;var e=Ez(),t=A_e(),n=gb();function r(i){return n(i)?e(i,!0):t(i)}return $2=r,$2}var B2,y6;function P_e(){if(y6)return B2;y6=1;var e=rp(),t=My();function n(r){return e(r,t(r))}return B2=n,B2}var U2,v6;function O_e(){if(v6)return U2;v6=1;var e=PH(),t=OH(),n=LH(),r=IH(),i=MH(),a=db(),o=ss(),s=DH(),l=hb(),c=pO(),d=Io(),h=kH(),g=SO(),y=NH(),v=P_e();function _(S,w,x,R,P,O,D){var F=y(S,x),Q=y(w,x),Y=D.get(Q);if(Y){e(S,x,Y);return}var q=O?O(F,Q,x+"",S,w,D):void 0,X=q===void 0;if(X){var le=o(Q),te=!le&&l(Q),oe=!le&&!te&&g(Q);q=Q,le||te||oe?o(F)?q=F:s(F)?q=r(F):te?(X=!1,q=t(Q,!0)):oe?(X=!1,q=n(Q,!0)):q=[]:h(Q)||a(Q)?(q=F,a(F)?q=v(F):(!d(F)||c(F))&&(q=i(Q))):X=!1}X&&(D.set(Q,q),P(q,Q,R,O,D),D.delete(Q)),e(S,x,q)}return U2=_,U2}var q2,_6;function L_e(){if(_6)return q2;_6=1;var e=fb(),t=PH(),n=Pz(),r=O_e(),i=Io(),a=My(),o=NH();function s(l,c,d,h,g){l!==c&&n(c,function(y,v){if(g||(g=new e),i(y))r(l,c,v,d,s,h,g);else{var _=h?h(o(l,v),y,v+"",l,c,g):void 0;_===void 0&&(_=y),t(l,v,_)}},a)}return q2=s,q2}var z2,w6;function FH(){if(w6)return z2;w6=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return z2=e,z2}var H2,b6;function jH(){if(b6)return H2;b6=1;var e=FH(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(c),e(r,this,d)}}return H2=n,H2}var V2,S6;function I_e(){if(S6)return V2;S6=1;function e(t){return function(){return t}}return V2=e,V2}var K2,x6;function M_e(){if(x6)return K2;x6=1;var e=I_e(),t=Az(),n=TO(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return K2=r,K2}var G2,E6;function D_e(){if(E6)return G2;E6=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return G2=r,G2}var W2,C6;function $H(){if(C6)return W2;C6=1;var e=M_e(),t=D_e(),n=t(e);return W2=n,W2}var Q2,T6;function BH(){if(T6)return Q2;T6=1;var e=TO(),t=jH(),n=$H();function r(i,a){return n(t(i,a,e),i+"")}return Q2=r,Q2}var Z2,R6;function k_e(){if(R6)return Z2;R6=1;var e=Ry(),t=gb(),n=pb(),r=Io();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return Z2=i,Z2}var J2,A6;function N_e(){if(A6)return J2;A6=1;var e=BH(),t=k_e();function n(r){return e(function(i,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,c=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&t(a[0],a[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++o<s;){var d=a[o];d&&r(i,d,o,l)}return i})}return J2=n,J2}var X2,P6;function F_e(){if(P6)return X2;P6=1;var e=L_e(),t=N_e(),n=t(function(r,i,a){e(r,i,a)});return X2=n,X2}var j_e=F_e();const Of=Mr(j_e);class Po extends Error{constructor(n,r){super(n);nn(this,"status");nn(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Po.prototype)}}var Y2,O6;function UH(){if(O6)return Y2;O6=1;var e=Py();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return Y2=t,Y2}var eT,L6;function $_e(){if(L6)return eT;L6=1;function e(t,n){return t>n}return eT=e,eT}var tT,I6;function B_e(){if(I6)return tT;I6=1;var e=UH(),t=$_e(),n=RO();function r(i,a){return i&&i.length?e(i,n(a,2),t):void 0}return tT=r,tT}var U_e=B_e();const q_e=Mr(U_e),z_e=(e,t)=>ar(e,{cache:"no-store",...t}),qH=e=>hO(e,z_e),H_e=e=>{const t=V.useMemo(()=>({queries:e.map(r=>uc(r)).map(r=>({queryKey:[Qr.rdfDocument,r],queryFn:()=>qH(r)}))}),[e]);return Hm(t)},V_e=()=>{const e=Ui();return lo({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await ku(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:Dy(e)})},ts=e=>{const t=Ui();return lo({mutationFn:async({uri:r,data:i,transform:a,language:o="en",method:s="PUT",throwOnHttpError:l=!1})=>{const c=Tr.createLdoDataset();if(Array.isArray(i))i.forEach(v=>{const _=c.usingType(e).fromSubject(v["@id"]);Tr.setLanguagePreferences(o).using(_),Of(_,v),a==null||a(_)});else{const v=c.usingType(e).fromSubject(i["@id"]);Tr.setLanguagePreferences(o).using(v),Of(v,i),a==null||a(v)}const d=await Tr.toTurtle(c.usingType(e).fromSubject("")),h={"content-type":"text/turtle"};s==="PUT"&&(h["If-None-Match"]="*");const g=await ku(r,{method:s,body:d,headers:h});if(l&&!g.ok)throw new Po(g.statusText,g);return g.headers.get("location")},onSuccess:Dy(t)})},ao=()=>{const e=Ui();return lo({mutationFn:async({uri:n,patch:r})=>{const i=await ku(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:Dy(e,n=>n.status===201)})},Vf=e=>{const t=Ui();return lo({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:o="en"})=>{const s=await ku(n);let l="";s.ok&&(l=await s.text());const d=(await Tr.parseRdf(l,{baseIRI:n})).usingType(e);let h="";if(r){const g=d.fromSubject(r);Tr.setLanguagePreferences(o).using(g),Tr.startTransaction(g),a(g),h=await e6(g)}else if(i){const g=d.matchSubject(i.predicate,i.object,i.graph);Tr.setLanguagePreferences(o).using(g),Tr.startTransaction(g),a(g),h=await e6(g)}return await ku(n,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}})},onSuccess:Dy(t,n=>n.status===201)})},Tb=()=>{const e=Ui();return lo({mutationFn:async({uri:n})=>{await ku(n,{method:"DELETE"})},onSuccess:Dy(e)})},K_e=(e,t)=>{const n=Hge(e),r=t.getQueryCache().getAll().filter(a=>a.queryKey[0]===Qr.rdfDocument&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return q_e(r,a=>a.length)},Dy=(e,t=()=>!0)=>(n,r)=>{const i=uc(r.uri);if(e.invalidateQueries({queryKey:[Qr.rdfDocument,i]}),e.invalidateQueries({queryKey:[Qr.rdfDocument,K9(i)]}),t(n)){const a=K_e(i,e);a&&e.invalidateQueries({queryKey:[Qr.rdfDocument,a]})}},ns=(e,t)=>{const n=wa(V.useMemo(()=>({query:DO,variables:{person:e?[e]:[],community:[t]},fetch:ar}),[t,e])),{variables:r,isLoading:i}=n,a=wa(V.useMemo(()=>({query:bH,variables:{person:e?[e]:[]},fetch:ar}),[e])),o=V.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(S=>new ks(n.quads).getQuads(null,null,null,new ti(S))).map(S=>Tr.createLdoDataset(S).usingType(xb).fromSubject(e)),[n.quads,r.hospexDocumentForCommunity,e]),s=V.useMemo(()=>{const{quads:y}=a;return Tr.createLdoDataset(y).usingType(b_e).fromSubject(e)},[a,e]),l=V.useMemo(()=>Of({},Y4(s),...o.map(y=>Y4(y))),[s,o]),c=V.useMemo(()=>o[0]?Cb(o[0],"note"):{},[o]),d=V.useMemo(()=>{var y,v;return{id:e,name:l.name??"",photo:(y=l.hasPhoto)==null?void 0:y["@id"],about:c,interests:((v=l.topicInterest)==null?void 0:v.map(_=>_["@id"]))??[]}},[c,l.hasPhoto,l.name,l.topicInterest,e]),h=V.useMemo(()=>{var y,v,_;return o.length>0?{id:e,name:((y=o[0])==null?void 0:y.name)??"",photo:(_=(v=o[0])==null?void 0:v.hasPhoto)==null?void 0:_["@id"],about:c}:void 0},[c,o,e]),g=V.useMemo(()=>new ks(n.quads).getQuads(new ti(e),new ti(Yl.topic_interest),null,null).map(y=>({id:y.object.id,document:y.graph.id})),[n,e]);return V.useMemo(()=>{var y;return[d,i,(y=r.hospexDocumentForCommunity)==null?void 0:y[0],g,h]},[h,g,i,d,r.hospexDocumentForCommunity])},zH=e=>{const{quads:t,isFetched:n}=wa(V.useMemo(()=>({query:np,variables:{person:[e]},fetch:ar,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[e]));return V.useMemo(()=>[Tr.createLdoDataset(t).usingType(TH).fromSubject(e),{isFetched:n}],[n,e,t])},G_e=()=>{const e=Vf(xb);return V.useCallback(async({personId:t,hospexDocument:n,data:r})=>{await e.mutateAsync({uri:n,subject:t,language:"en",transform:i=>{r.name&&(i.name=r.name),r.about&&kO(r.about,i,"note"),r.photo&&(i.hasPhoto={"@id":r.photo})}})},[e])},W_e=()=>{const e=ao();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${En.InsertDeletePatch}>;
        <${En.inserts}> { <${t}> <${Yl.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])},Q_e=()=>{const e=ao();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${En.InsertDeletePatch}>;
        <${En.deletes}> { <${t}> <${Yl.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])};var nT,M6;function Z_e(){if(M6)return nT;M6=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return nT=e,nT}var rT,D6;function J_e(){if(D6)return rT;D6=1;var e=rp(),t=Ay();function n(r,i){return r&&e(i,t(i),r)}return rT=n,rT}var iT,k6;function X_e(){if(k6)return iT;k6=1;var e=rp(),t=My();function n(r,i){return r&&e(i,t(i),r)}return iT=n,iT}var aT,N6;function Y_e(){if(N6)return aT;N6=1;var e=rp(),t=vO();function n(r,i){return e(r,t(r),i)}return aT=n,aT}var oT,F6;function HH(){if(F6)return oT;F6=1;var e=yO(),t=FO(),n=vO(),r=Sz(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,n(o)),o=t(o);return s}:r;return oT=a,oT}var sT,j6;function e0e(){if(j6)return sT;j6=1;var e=rp(),t=HH();function n(r,i){return e(r,t(r),i)}return sT=n,sT}var uT,$6;function VH(){if($6)return uT;$6=1;var e=wz(),t=HH(),n=My();function r(i){return e(i,n,t)}return uT=r,uT}var lT,B6;function t0e(){if(B6)return lT;B6=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return lT=n,lT}var cT,U6;function n0e(){if(U6)return cT;U6=1;var e=NO();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return cT=t,cT}var fT,q6;function r0e(){if(q6)return fT;q6=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return fT=t,fT}var dT,z6;function i0e(){if(z6)return dT;z6=1;var e=Qh(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return dT=r,dT}var hT,H6;function a0e(){if(H6)return hT;H6=1;var e=NO(),t=n0e(),n=r0e(),r=i0e(),i=LH(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",R="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";function Q(Y,q,X){var le=Y.constructor;switch(q){case y:return e(Y);case a:case o:return new le(+Y);case v:return t(Y,X);case _:case S:case w:case x:case R:case P:case O:case D:case F:return i(Y,X);case s:return new le;case l:case h:return new le(Y);case c:return n(Y);case d:return new le;case g:return r(Y)}}return hT=Q,hT}var pT,V6;function o0e(){if(V6)return pT;V6=1;var e=mb(),t=qu(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return pT=r,pT}var gT,K6;function s0e(){if(K6)return gT;K6=1;var e=o0e(),t=wO(),n=bO(),r=n&&n.isMap,i=r?t(r):e;return gT=i,gT}var mT,G6;function u0e(){if(G6)return mT;G6=1;var e=mb(),t=qu(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return mT=r,mT}var yT,W6;function l0e(){if(W6)return yT;W6=1;var e=u0e(),t=wO(),n=bO(),r=n&&n.isSet,i=r?t(r):e;return yT=i,yT}var vT,Q6;function KH(){if(Q6)return vT;Q6=1;var e=fb(),t=Z_e(),n=jO(),r=J_e(),i=X_e(),a=OH(),o=IH(),s=Y_e(),l=e0e(),c=Tz(),d=VH(),h=mb(),g=t0e(),y=a0e(),v=MH(),_=ss(),S=hb(),w=s0e(),x=Io(),R=l0e(),P=Ay(),O=My(),D=1,F=2,Q=4,Y="[object Arguments]",q="[object Array]",X="[object Boolean]",le="[object Date]",te="[object Error]",oe="[object Function]",he="[object GeneratorFunction]",ve="[object Map]",de="[object Number]",se="[object Object]",Re="[object RegExp]",k="[object Set]",re="[object String]",ge="[object Symbol]",W="[object WeakMap]",ee="[object ArrayBuffer]",pe="[object DataView]",Te="[object Float32Array]",Je="[object Float64Array]",Ae="[object Int8Array]",$e="[object Int16Array]",Xe="[object Int32Array]",ae="[object Uint8Array]",H="[object Uint8ClampedArray]",B="[object Uint16Array]",ie="[object Uint32Array]",fe={};fe[Y]=fe[q]=fe[ee]=fe[pe]=fe[X]=fe[le]=fe[Te]=fe[Je]=fe[Ae]=fe[$e]=fe[Xe]=fe[ve]=fe[de]=fe[se]=fe[Re]=fe[k]=fe[re]=fe[ge]=fe[ae]=fe[H]=fe[B]=fe[ie]=!0,fe[te]=fe[oe]=fe[W]=!1;function Pe(Ie,tt,De,ot,gt,_e){var Be,at=tt&D,me=tt&F,Ee=tt&Q;if(De&&(Be=gt?De(Ie,ot,gt,_e):De(Ie)),Be!==void 0)return Be;if(!x(Ie))return Ie;var J=_(Ie);if(J){if(Be=g(Ie),!at)return o(Ie,Be)}else{var $=h(Ie),K=$==oe||$==he;if(S(Ie))return a(Ie,at);if($==se||$==Y||K&&!gt){if(Be=me||K?{}:v(Ie),!at)return me?l(Ie,i(Be,Ie)):s(Ie,r(Be,Ie))}else{if(!fe[$])return gt?Ie:{};Be=y(Ie,$,at)}}_e||(_e=new e);var G=_e.get(Ie);if(G)return G;_e.set(Ie,Be),R(Ie)?Ie.forEach(function(Fe){Be.add(Pe(Fe,tt,De,Fe,Ie,_e))}):w(Ie)&&Ie.forEach(function(Fe,At){Be.set(At,Pe(Fe,tt,De,At,Ie,_e))});var ke=Ee?me?d:c:me?O:P,Ze=J?void 0:ke(Ie);return t(Ze||Ie,function(Fe,At){Ze&&(At=Fe,Fe=Ie[At]),n(Be,At,Pe(Fe,tt,De,At,Ie,_e))}),Be}return vT=Pe,vT}var _T,Z6;function c0e(){if(Z6)return _T;Z6=1;var e=KH(),t=1,n=4;function r(i){return e(i,t|n)}return _T=r,_T}var f0e=c0e();const d0e=Mr(f0e),h0e=e=>{const{quads:t,variables:n}=wa(V.useMemo(()=>({query:f_e,variables:{person:[e]},staleTime:3e4,fetch:ar}),[e])),r=V.useMemo(()=>{const i=Tr.createLdoDataset(t).usingType(Rh);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var d,h,g;const o=a["@id"],s=((d=a.participation)==null?void 0:d.map(y=>{var v;return((v=y.references)==null?void 0:v.map(_=>_["@id"]??[]).flat().filter(_=>!!_))??[]}).flat())??[],l=((h=a.participation)==null?void 0:h.map(y=>y.participant["@id"]))??[],c=[a,...(((g=a.participation)==null?void 0:g.map(y=>y.references).flat())??[]).filter(y=>!!y).map(y=>[...y]).flat()].flatMap(y=>(y.message??[]).map(v=>({id:v["@id"],message:v.content,createdAt:new Date(v.created).getTime(),from:v.maker["@id"],chat:y["@id"]})).sort((v,_)=>v.createdAt-_.createdAt));return{id:o,related:s,participants:l,messages:c}}).sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[t,n.chat]);return V.useMemo(()=>({data:r}),[r])},Rb=e=>{const{quads:t,variables:n,isLoading:r}=wa(V.useMemo(()=>({query:s_e,variables:{person:e?[e]:[]},fetch:ar,staleTime:3e4}),[e])),i=V.useMemo(()=>(n.longChatNotification??[]).map(a=>{var s,l,c,d;const o=Tr.createLdoDataset(t).usingType(RH).fromSubject(a);return{id:o.object["@id"]??"",message:o.object.content,createdAt:new Date(((s=o.object)==null?void 0:s.created)??o.updated).getTime(),from:((l=o.object.maker)==null?void 0:l["@id"])??((c=o.actor)==null?void 0:c["@id"]),chat:o.target["@id"]??"",otherChats:(d=o.target.participation)==null?void 0:d.map(h=>{var g;return((g=h.references)==null?void 0:g.map(y=>y["@id"]??[]).flat())??[]}).flat(),notification:o["@id"],status:"unread"}}),[t,n.longChatNotification]);return V.useMemo(()=>({isLoading:r,data:i}),[r,i])},p0e=e=>{const{data:t}=h0e(e),{data:n}=Rb(e);return{data:V.useMemo(()=>{const i=d0e(t);n.forEach(a=>{const o=i.find(s=>{var l;return s.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(s.id))});if(o){o.status="unread";const s=o.messages.findIndex(l=>l.id===a.id);s>-1?o.messages[s]=a:o.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((o,s)=>((o==null?void 0:o.createdAt)??0)-((s==null?void 0:s.createdAt)??0));return i.sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,t])}};function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri.apply(this,arguments)}function Lf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wT={exports:{}},bT,J6;function g0e(){if(J6)return bT;J6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bT=e,bT}var ST,X6;function m0e(){if(X6)return ST;X6=1;var e=g0e();function t(){}function n(){}return n.resetWarningCache=t,ST=function(){function r(o,s,l,c,d,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},ST}var Y6;function GH(){return Y6||(Y6=1,wT.exports=m0e()()),wT.exports}var tc=RP();const y0e=Mr(tc);var WH=function(t){return!!t&&t[0]==="o"},e$=tc.unstable_batchedUpdates||function(e){return e()},kd=function(t,n,r){return r===void 0&&(r=1e-4),Math.abs(t-n)<r},Xm=function(t,n){return t===!0||!!(t&&t[n])},Ao=function(t,n){return typeof t=="function"?t(n):t},QH="_szhsinMenu",v0e=function(t){return t[QH]},_0e=function(t,n){return Object.defineProperty(n,QH,{value:t})},Ab=function(t,n){return n&&Object.keys(n).forEach(function(r){var i=t[r],a=n[r];typeof a=="function"&&i?t[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:t[r]=a}),t},w0e=function(t){if(typeof t!="string")return{top:0,right:0,bottom:0,left:0};var n=t.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},xT=function(t){for(;t;){if(t=t.parentNode,!t||t===document.body)return;var n=getComputedStyle(t),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return t}};function ZH(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function t$(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Ah=function(t){var n=t.block,r=t.element,i=t.modifiers,a=t.className;return V.useMemo(function(){var o=r?n+"__"+r:n,s=o;i&&Object.keys(i).forEach(function(c){var d=i[c];d&&(s+=" "+o+"--"+(d===!0?c:c+"-"+d))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(s+=" "+l)),s},[n,r,i,a])},b0e="szh-menu-container",Nm="szh-menu",S0e="szh-menu-button",x0e="arrow",E0e="item",C0e="divider",JH=V.createContext(),XH=V.createContext({}),n$=V.createContext({}),YH=V.createContext({}),T0e=V.createContext({}),e7=V.createContext({}),t7=V.createContext({}),Jo=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Ci=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Ym=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Fm=Object.freeze({FIRST:"first",LAST:"last"}),R0e=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),A0e=["className","isOpen","disabled","children"],P0e=_0e("MenuButton",V.forwardRef(function(t,n){var r=t.className,i=t.isOpen,a=t.disabled,o=t.children,s=Lf(t,A0e),l=V.useMemo(function(){return{open:i}},[i]);return U.jsx("button",ri({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},s,{ref:n,className:Ah({block:S0e,modifiers:l,className:r}),children:o}))})),O0e=function(t){var n=t.className,r=t.containerRef,i=t.containerProps,a=t.children,o=t.isOpen,s=t.skipOpen,l=t.theming,c=t.transition,d=t.onClose,h=Xm(c,"item"),g=function(_){var S=_.key;switch(S){case Jo.ESC:Ao(d,{key:S,reason:Ym.CANCEL});break}},y=function(_){o&&!_.currentTarget.contains(_.relatedTarget||document.activeElement)&&(Ao(d,{reason:Ym.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return U.jsx("div",ri({},Ab({onKeyDown:g,onBlur:y},i),{className:Ah({block:b0e,modifiers:V.useMemo(function(){return{theme:l,itemTransition:h}},[l,h]),className:n}),style:ri({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},L0e=function(t,n){var r=V.useState(),i=r[0],a=r[1],o=V.useRef({items:[],hoverIndex:-1,sorted:!1}),s=o.current,l=V.useCallback(function(d,h){var g=s.items;if(!d)s.items=[];else if(h)g.push(d);else{var y=g.indexOf(d);y>-1&&(g.splice(y,1),d.contains(document.activeElement)&&(n.current.focus(),a()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),c=V.useCallback(function(d,h,g){var y=s.items,v=s.hoverIndex,_=function(){if(!s.sorted){var R=t.current.querySelectorAll(".szh-menu__item");y.sort(function(P,O){return t$(R,P)-t$(R,O)}),s.sorted=!0}},S=-1,w=void 0;switch(d){case Ci.RESET:break;case Ci.SET:w=h;break;case Ci.UNSET:w=function(R){return R===h?void 0:R};break;case Ci.FIRST:_(),S=0,w=y[S];break;case Ci.LAST:_(),S=y.length-1,w=y[S];break;case Ci.SET_INDEX:_(),S=g,w=y[S];break;case Ci.INCREASE:_(),S=v,S<0&&(S=y.indexOf(h)),S++,S>=y.length&&(S=0),w=y[S];break;case Ci.DECREASE:_(),S=v,S<0&&(S=y.indexOf(h)),S--,S<0&&(S=y.length-1),w=y[S];break}w||(S=-1),a(w),s.hoverIndex=S},[t,s]);return{hoverItem:i,dispatch:c,updateItems:l}},I0e=function(t,n,r,i){var a=n.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=w0e(i),c=function(S){return S+o.left-s.left-l.left},d=function(S){return S+o.left+a.width-s.right+l.right},h=function(S){return S+o.top-s.top-l.top},g=function(S){return S+o.top+a.height-s.bottom+l.bottom},y=function(S){var w=c(S);if(w<0)S-=w;else{var x=d(S);x>0&&(S-=x,w=c(S),w<0&&(S-=w))}return S},v=function(S){var w=h(S);if(w<0)S-=w;else{var x=g(S);x>0&&(S-=x,w=h(S),w<0&&(S-=w))}return S};return{menuRect:a,containerRect:o,getLeftOverflow:c,getRightOverflow:d,getTopOverflow:h,getBottomOverflow:g,confineHorizontally:y,confineVertically:v}},M0e=function(t){var n=t.arrowRef,r=t.menuY,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return s=Math.max(l,s),s=Math.min(s,o.height-l),s},D0e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeLeftorRightY,o=t.placeLeftX,s=t.placeRightX,l=t.getLeftOverflow,c=t.getRightOverflow,d=t.confineHorizontally,h=t.confineVertically,g=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,S=v,w=a;_!=="initial"&&(w=h(w),_==="anchor"&&(w=Math.min(w,n.bottom-r.top),w=Math.max(w,n.top-r.top-i.height)));var x,R,P;S==="left"?(x=o,_!=="initial"&&(R=l(x),R<0&&(P=c(s),(P<=0||-R>P)&&(x=s,S="right")))):(x=s,_!=="initial"&&(P=c(x),P>0&&(R=l(o),(R>=0||-R<P)&&(x=o,S="left")))),_==="auto"&&(x=d(x));var O=y?M0e({menuY:w,arrowRef:g,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:O,x,y:w,computedDirection:S}},k0e=function(t){var n=t.arrowRef,r=t.menuX,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return s=Math.max(l,s),s=Math.min(s,o.width-l),s},N0e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeToporBottomX,o=t.placeTopY,s=t.placeBottomY,l=t.getTopOverflow,c=t.getBottomOverflow,d=t.confineHorizontally,h=t.confineVertically,g=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,S=v==="top"?"top":"bottom",w=a;_!=="initial"&&(w=d(w),_==="anchor"&&(w=Math.min(w,n.right-r.left),w=Math.max(w,n.left-r.left-i.width)));var x,R,P;S==="top"?(x=o,_!=="initial"&&(R=l(x),R<0&&(P=c(s),(P<=0||-R>P)&&(x=s,S="bottom")))):(x=s,_!=="initial"&&(P=c(x),P>0&&(R=l(o),(R>=0||-R<P)&&(x=o,S="top")))),_==="auto"&&(x=h(x));var O=y?k0e({menuX:w,arrowRef:g,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:O,x:w,y:x,computedDirection:S}},F0e=function(t){var n=t.arrow,r=t.align,i=t.direction,a=t.offsetX,o=t.offsetY,s=t.position,l=t.anchorRect,c=t.arrowRef,d=t.positionHelpers,h=d.menuRect,g=d.containerRect,y=a,v=o;n&&(i==="left"||i==="right"?y+=c.current.offsetWidth:v+=c.current.offsetHeight);var _=l.left-g.left-h.width-y,S=l.right-g.left+y,w=l.top-g.top-h.height-v,x=l.bottom-g.top+v,R,P;r==="end"?(R=l.right-g.left-h.width,P=l.bottom-g.top-h.height):r==="center"?(R=l.left-g.left-(h.width-l.width)/2,P=l.top-g.top-(h.height-l.height)/2):(R=l.left-g.left,P=l.top-g.top),R+=y,P+=v;var O=ri({},d,{anchorRect:l,placeLeftX:_,placeRightX:S,placeLeftorRightY:P,placeTopY:w,placeBottomY:x,placeToporBottomX:R,arrowRef:c,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return D0e(O);case"top":case"bottom":default:return N0e(O)}},U0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?V.useLayoutEffect:V.useEffect;function r$(e,t){typeof e=="function"?e(t):e.current=t}var $O=function(t,n){return V.useMemo(function(){return t?n?function(r){r$(t,r),r$(n,r)}:t:n},[t,n])},j0e=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],$0e=function(t){var n=t.ariaLabel,r=t.menuClassName,i=t.menuStyle,a=t.arrowClassName,o=t.arrowStyle,s=t.anchorPoint,l=t.anchorRef,c=t.containerRef,d=t.containerProps,h=t.focusProps,g=t.externalRef,y=t.parentScrollingRef,v=t.arrow,_=t.align,S=_===void 0?"start":_,w=t.direction,x=w===void 0?"bottom":w,R=t.position,P=R===void 0?"auto":R,O=t.overflow,D=O===void 0?"visible":O,F=t.setDownOverflow,Q=t.repositionFlag,Y=t.captureFocus,q=Y===void 0?!0:Y,X=t.state,le=t.endTransition,te=t.isDisabled,oe=t.menuItemFocus,he=t.offsetX,ve=he===void 0?0:he,de=t.offsetY,se=de===void 0?0:de,Re=t.children,k=t.onClose,re=Lf(t,j0e),ge=V.useState({x:0,y:0}),W=ge[0],ee=ge[1],pe=V.useState({}),Te=pe[0],Je=pe[1],Ae=V.useState(),$e=Ae[0],Xe=Ae[1],ae=V.useState(x),H=ae[0],B=ae[1],ie=V.useState(0),fe=ie[0],Pe=ie[1],Ie=V.useReducer(function(rt){return rt+1},1),tt=Ie[0],De=Ie[1],ot=V.useContext(e7),gt=ot.transition,_e=ot.boundingBoxRef,Be=ot.boundingBoxPadding,at=ot.rootMenuRef,me=ot.rootAnchorRef,Ee=ot.scrollNodesRef,J=ot.reposition,$=ot.viewScroll,K=V.useContext(n$).reposSubmenu||Q,G=V.useRef(null),ke=V.useRef(),Ze=V.useRef(),Fe=V.useRef(!1),At=V.useRef({width:0,height:0}),Mt=V.useRef(function(){}),Nt=L0e(G,ke),Lt=Nt.hoverItem,zt=Nt.dispatch,Pr=Nt.updateItems,hn=WH(X),pn=Xm(gt,"open"),yr=Xm(gt,"close"),ln=Ee.current,cn=function(Tt){switch(Tt.key){case Jo.HOME:zt(Ci.FIRST);break;case Jo.END:zt(Ci.LAST);break;case Jo.UP:zt(Ci.DECREASE,Lt);break;case Jo.DOWN:zt(Ci.INCREASE,Lt);break;case Jo.SPACE:Tt.target&&Tt.target.className.indexOf(Nm)!==-1&&Tt.preventDefault();return;default:return}Tt.preventDefault(),Tt.stopPropagation()},Dn=function(){X==="closing"&&Xe(),Ao(le)},cr=V.useCallback(function(rt){var Tt,kt=l?(Tt=l.current)==null?void 0:Tt.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(kt){ln.menu||(ln.menu=(_e?_e.current:xT(at.current))||window);var Gt=I0e(c,G,ln.menu,Be),Yt=F0e({arrow:v,align:S,direction:x,offsetX:ve,offsetY:se,position:P,anchorRect:kt,arrowRef:Ze,positionHelpers:Gt}),Ht=Yt.arrowX,$t=Yt.arrowY,tn=Yt.x,Ln=Yt.y,Wt=Yt.computedDirection,Zt=Gt.menuRect,Cn=Zt.height;if(!rt&&D!=="visible"){var Tn=Gt.getTopOverflow,zn=Gt.getBottomOverflow,Or,Jr,Xr=At.current.height,Dr=zn(Ln);if(Dr>0||kd(Dr,0)&&kd(Cn,Xr))Or=Cn-Dr,Jr=Dr;else{var Bn=Tn(Ln);(Bn<0||kd(Bn,0)&&kd(Cn,Xr))&&(Or=Cn+Bn,Jr=0-Bn,Or>=0&&(Ln-=Bn))}Or>=0?(Cn=Or,Xe({height:Or,overflowAmt:Jr})):Xe()}v&&Je({x:Ht,y:$t}),ee({x:tn,y:Ln}),B(Wt),At.current={width:Zt.width,height:Cn}}},[v,S,Be,x,ve,se,P,D,s,l,c,_e,at,ln]);U0(function(){hn&&(cr(),Fe.current&&De()),Fe.current=hn,Mt.current=cr},[hn,cr,K]),U0(function(){$e&&!F&&(G.current.scrollTop=0)},[$e,F]),U0(function(){return Pr},[Pr]),V.useEffect(function(){var rt=ln.menu;if(!(!hn||!rt)){if(rt=rt.addEventListener?rt:window,!ln.anchors){ln.anchors=[];for(var Tt=xT(me&&me.current);Tt&&Tt!==rt;)ln.anchors.push(Tt),Tt=xT(Tt)}var kt=$;if(ln.anchors.length&&kt==="initial"&&(kt="auto"),kt!=="initial"){var Gt=function(){kt==="auto"?e$(function(){return cr(!0)}):Ao(k,{reason:Ym.SCROLL})},Yt=ln.anchors.concat($!=="initial"?rt:[]);return Yt.forEach(function(Ht){return Ht.addEventListener("scroll",Gt)}),function(){return Yt.forEach(function(Ht){return Ht.removeEventListener("scroll",Gt)})}}}},[me,ln,hn,k,$,cr]);var Le=!!$e&&$e.overflowAmt>0;V.useEffect(function(){if(!(Le||!hn||!y)){var rt=function(){return e$(cr)},Tt=y.current;return Tt.addEventListener("scroll",rt),function(){return Tt.removeEventListener("scroll",rt)}}},[hn,Le,y,cr]),V.useEffect(function(){if(!(typeof ResizeObserver!="function"||J==="initial")){var rt=new ResizeObserver(function(kt){var Gt=kt[0],Yt=Gt.borderBoxSize,Ht=Gt.target,$t,tn;if(Yt){var Ln=Yt[0]||Yt,Wt=Ln.inlineSize,Zt=Ln.blockSize;$t=Wt,tn=Zt}else{var Cn=Ht.getBoundingClientRect();$t=Cn.width,tn=Cn.height}$t===0||tn===0||kd($t,At.current.width,1)&&kd(tn,At.current.height,1)||tc.flushSync(function(){Mt.current(),De()})}),Tt=G.current;return rt.observe(Tt,{box:"border-box"}),function(){return rt.unobserve(Tt)}}},[J]),V.useEffect(function(){if(!hn){zt(Ci.RESET),yr||Xe();return}var rt=oe||{},Tt=rt.position,kt=rt.alwaysUpdate,Gt=function(){Tt===Fm.FIRST?zt(Ci.FIRST):Tt===Fm.LAST?zt(Ci.LAST):Tt>=-1&&zt(Ci.SET_INDEX,void 0,Tt)};if(kt)Gt();else if(q){var Yt=setTimeout(function(){G.current.contains(document.activeElement)||(ke.current.focus(),Gt())},pn?170:100);return function(){return clearTimeout(Yt)}}},[hn,pn,yr,q,oe,zt]);var ze=fe>0,St=V.useMemo(function(){return{isParentOpen:hn,isSubmenuOpen:ze,setOpenSubmenuCount:Pe,dispatch:zt,updateItems:Pr}},[hn,ze,zt,Pr]),Ct,Dt;$e&&(F?Dt=$e.overflowAmt:Ct=$e.height);var Vn=V.useMemo(function(){return{reposSubmenu:tt,overflow:D,overflowAmt:Dt,parentMenuRef:G,parentDir:H}},[tt,D,Dt,H]),Xn=Ct>=0?{maxHeight:Ct,overflow:D}:void 0,We=V.useMemo(function(){return{state:X,dir:H}},[X,H]),xe=V.useMemo(function(){return{dir:H}},[H]),et=Ah({block:Nm,element:x0e,modifiers:xe,className:a}),dt=U.jsxs("ul",ri({role:"menu","aria-label":n},ZH(te),Ab({onKeyDown:cn,onAnimationEnd:Dn},re),{ref:$O(g,G),className:Ah({block:Nm,modifiers:We,className:r}),style:ri({},i,Xn,{margin:0,display:X==="closed"?"none":void 0,position:"absolute",left:W.x,top:W.y}),children:[U.jsx("div",ri({tabIndex:-1,style:{position:"absolute",left:0,top:0}},h,{ref:ke})),v&&U.jsx("div",{className:et,style:ri({},o,{position:"absolute",left:Te.x,top:Te.y}),ref:Ze}),U.jsx(n$.Provider,{value:Vn,children:U.jsx(XH.Provider,{value:St,children:U.jsx(JH.Provider,{value:Lt,children:Re})})})]}));return d?U.jsx(O0e,ri({},d,{isOpen:hn,children:dt})):dt},B0e=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],U0e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.className,a=t.containerProps,o=t.initialMounted,s=t.unmountOnClose,l=t.transition,c=t.transitionTimeout,d=t.boundingBoxRef,h=t.boundingBoxPadding,g=t.reposition,y=g===void 0?"auto":g,v=t.submenuOpenDelay,_=v===void 0?300:v,S=t.submenuCloseDelay,w=S===void 0?150:S,x=t.skipOpen,R=t.viewScroll,P=R===void 0?"initial":R,O=t.portal,D=t.theming,F=t.onItemClick,Q=Lf(t,B0e),Y=V.useRef(null),q=V.useRef({}),X=Q.anchorRef,le=Q.state,te=Q.onClose,oe=V.useMemo(function(){return{initialMounted:o,unmountOnClose:s,transition:l,transitionTimeout:c,boundingBoxRef:d,boundingBoxPadding:h,rootMenuRef:Y,rootAnchorRef:X,scrollNodesRef:q,reposition:y,viewScroll:P}},[o,s,l,c,X,d,h,y,P]),he=V.useMemo(function(){return{submenuOpenDelay:_,submenuCloseDelay:w}},[_,w]),ve=V.useMemo(function(){return{handleClick:function(Re,k){Re.stopPropagation||Ao(F,Re);var re=Re.keepOpen;re===void 0&&(re=k&&Re.key===Jo.SPACE),re||Ao(te,{value:Re.value,key:Re.key,reason:Ym.CLICK})},handleClose:function(Re){Ao(te,{key:Re,reason:Ym.CLICK})}}},[F,te]);if(!le)return null;var de=U.jsx(e7.Provider,{value:oe,children:U.jsx(t7.Provider,{value:he,children:U.jsx(YH.Provider,{value:ve,children:U.jsx($0e,ri({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:Y,containerProps:{className:i,containerRef:Y,containerProps:a,skipOpen:x,theming:D,transition:l,onClose:te}}))})})});return O===!0&&typeof document<"u"?tc.createPortal(de,document.body):O?O.target?tc.createPortal(de,O.target):O.stablePosition?null:de:de}),ET=0,CT=1,v_=2,TT=3,RT=4,q0e=5,z0e=6,n7=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],AT=function(t){return t?z0e:q0e},i$=function(t,n,r,i,a){clearTimeout(i.current),n(t),r.current=t,a&&a({state:n7[t]})},H0e=function(t){var n=t===void 0?{}:t,r=n.enter,i=r===void 0?!0:r,a=n.exit,o=a===void 0?!0:a,s=n.preEnter,l=n.preExit,c=n.timeout,d=n.initialEntered,h=n.mountOnEnter,g=n.unmountOnExit,y=n.onChange,v=V.useState(d?v_:AT(h)),_=v[0],S=v[1],w=V.useRef(_),x=V.useRef(),R,P;typeof c=="object"?(R=c.enter,P=c.exit):R=P=c;var O=V.useCallback(function(){var F;switch(w.current){case CT:case ET:F=v_;break;case RT:case TT:F=AT(g);break}F!==void 0&&i$(F,S,w,x,y)},[y,g]),D=V.useCallback(function(F){var Q=function q(X){switch(i$(X,S,w,x,y),X){case CT:R>=0&&(x.current=setTimeout(O,R));break;case RT:P>=0&&(x.current=setTimeout(O,P));break;case ET:case TT:x.current=setTimeout(function(){return q(X+1)},0);break}},Y=w.current<=v_;typeof F!="boolean"&&(F=!Y),F?Y||Q(i?s?ET:CT:v_):Y&&Q(o?l?TT:RT:AT(g))},[O,y,i,o,s,l,R,P,g]);return V.useEffect(function(){return function(){return clearTimeout(x.current)}},[]),[n7[_],D,O]},V0e=function(t){var n=t===void 0?{}:t,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,o=n.transition,s=n.transitionTimeout,l=s===void 0?500:s,c=H0e({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:Xm(o,"open"),exit:Xm(o,"close")}),d=c[0],h=c[1],g=c[2];return[{state:R0e[d],endTransition:g},h]},K0e=function(t){var n=V0e(t),r=n[0],i=n[1],a=V.useState(),o=a[0],s=a[1],l=function(d,h){s({position:d,alwaysUpdate:h}),i(!0)};return[ri({menuItemFocus:o},r),i,l]},G0e=function(t,n){var r=V.useRef(n);V.useEffect(function(){r.current!==n&&Ao(t,{open:n}),r.current=n},[t,n])},W0e=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],Q0e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.menuButton,a=t.instanceRef,o=t.onMenuChange,s=Lf(t,W0e),l=K0e(s),c=l[0],d=l[1],h=l[2],g=WH(c.state),y=V.useRef(!1),v=V.useRef(null),_=V.useCallback(function(O){d(!1),O.key&&v.current.focus()},[d]),S=function(D){y.current||h(D.detail===0?Fm.FIRST:void 0)},w=function(D){switch(D.key){case Jo.UP:h(Fm.LAST);break;case Jo.DOWN:h(Fm.FIRST);break;default:return}D.preventDefault()},x=Ao(i,{open:g});if(!x||!x.type)throw new Error("Menu requires a menuButton prop.");var R=ri({ref:$O(x.ref,v)},Ab({onClick:S,onKeyDown:w},x.props));v0e(x.type)==="MenuButton"&&(R.isOpen=g);var P=V.cloneElement(x,R);return G0e(o,g),V.useImperativeHandle(a,function(){return{openMenu:h,closeMenu:function(){return d(!1)}}}),U.jsxs(V.Fragment,{children:[P,U.jsx(U0e,ri({},s,c,{"aria-label":r||(typeof x.props.children=="string"?x.props.children:"Menu"),anchorRef:v,ref:n,onClose:_,skipOpen:y}))]})}),Z0e=function(t,n){var r=V.memo(n),i=V.forwardRef(function(a,o){var s=V.useRef(null);return U.jsx(r,ri({},a,{itemRef:s,externalRef:o,isHovering:V.useContext(JH)===s.current}))});return i.displayName="WithHovering("+t+")",i},J0e=function(t,n,r){U0(function(){if(!t){var i=n.current;return r(i,!0),function(){r(i)}}},[t,n,r])},X0e=function(t,n,r,i){var a=V.useContext(t7),o=a.submenuCloseDelay,s=V.useContext(XH),l=s.isParentOpen,c=s.isSubmenuOpen,d=s.dispatch,h=s.updateItems,g=V.useRef(0),y=function(){!r&&!i&&d(Ci.SET,t.current)},v=function(){!i&&d(Ci.UNSET,t.current)},_=function(R){r&&!R.currentTarget.contains(R.relatedTarget)&&v()},S=function(){c?g.current||(g.current=setTimeout(function(){g.current=0,y()},o)):y()},w=function(R,P){g.current&&(clearTimeout(g.current),g.current=0),!P&&v()};return J0e(i,t,h),V.useEffect(function(){return function(){return clearTimeout(g.current)}},[]),V.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:_,onPointerMove:S,onPointerLeave:w}},Y0e=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],ewe=["setHover"],Nd=Z0e("MenuItem",function(t){var n=t.className,r=t.value,i=t.href,a=t.type,o=t.checked,s=t.disabled,l=t.children,c=t.onClick,d=t.isHovering,h=t.itemRef,g=t.externalRef,y=Lf(t,Y0e),v=!!s,_=X0e(h,h,d,v),S=_.setHover,w=Lf(_,ewe),x=V.useContext(YH),R=V.useContext(T0e),P=a==="radio",O=a==="checkbox",D=!!i&&!v&&!P&&!O,F=P?R.value===r:O?!!o:!1,Q=function(oe){if(v){oe.stopPropagation(),oe.preventDefault();return}var he={value:r,syntheticEvent:oe};oe.key!==void 0&&(he.key=oe.key),O&&(he.checked=!F),P&&(he.name=R.name),Ao(c,he),P&&Ao(R.onRadioChange,he),x.handleClick(he,O||P)},Y=function(oe){if(d)switch(oe.key){case Jo.ENTER:case Jo.SPACE:D?h.current.click():Q(oe);break}},q=V.useMemo(function(){return{type:a,disabled:v,hover:d,checked:F,anchor:D}},[a,v,d,F,D]),X=Ab(ri({},w,{onPointerDown:S,onKeyDown:Y,onClick:Q}),y),le=ri({role:P?"menuitemradio":O?"menuitemcheckbox":"menuitem","aria-checked":P||O?F:void 0},ZH(v,d),X,{ref:$O(g,h),className:Ah({block:Nm,element:E0e,modifiers:q,className:n}),children:V.useMemo(function(){return Ao(l,q)},[l,q])});return D?U.jsx("li",{role:"presentation",children:U.jsx("a",ri({href:i},le))}):U.jsx("li",ri({},le))}),twe=["className"],nwe=V.memo(V.forwardRef(function(t,n){var r=t.className,i=Lf(t,twe);return U.jsx("li",ri({role:"separator"},i,{ref:n,className:Ah({block:Nm,element:C0e,className:r})}))}));const rwe=()=>{const{communityId:e}=Nn(),t=$r(Bh),[n]=ns(t.webId??"",e),{data:r}=Rb(t.webId??""),i=$r(UP),a=r.length;return U.jsxs(Q0e,{menuButton:U.jsx(P0e,{"data-cy":"menu-button",children:U.jsx(ob,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[U.jsx(Nd,{children:U.jsx(Qo,{to:"profile",children:(n==null?void 0:n.name)||U.jsx(wt,{id:"bbvfbr"})})}),U.jsx(Nd,{children:U.jsx(Qo,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:U.jsx(wt,{id:"HecDqj"})})}),U.jsx(Nd,{children:U.jsxs(Qo,{to:"messages",children:[U.jsx(wt,{id:"gHFvtg"}),a?U.jsxs(U.Fragment,{children:[" ",U.jsx(wt,{id:"GbJuzd",values:{messageCount:a}})]}):null]})}),U.jsx(Nd,{children:U.jsx(Qo,{to:`profile/${encodeURIComponent(t.webId)}/contacts`,children:U.jsx(wt,{id:"2LDW9H"})})}),U.jsx(Nd,{children:U.jsx(Qo,{to:"host/offers",children:U.jsx(wt,{id:"BJjAHC"})})}),U.jsx(nwe,{}),U.jsx(Nd,{children:U.jsx(w_e,{})})]})},iwe=()=>{const{communityId:e}=Nn(),t=$r(Bh),n=$r(Lo),r=zu(e,n,$h);return U.jsxs("nav",{className:y_.header,children:[U.jsx(Qo,{className:y_.logoContainer,to:"/","data-cy":"header-logo-link",children:U.jsx(rz,{logo:r.logo[0],focusedLogo:r.logo[1],name:r.name||(r.isLoading?"...":"Home"),className:y_.logo})}),U.jsx("div",{className:y_.spacer}),U.jsx(g_e,{}),U.jsx(Ime,{}),t.isLoggedIn===!0&&U.jsx(rwe,{}),t.isLoggedIn===void 0&&U.jsx(U.Fragment,{children:"..."})]})},awe=(e,t="en")=>wy({queryKey:[Qr.wikidataSearch,e,t],queryFn:()=>owe(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),owe=async(e,t)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(e)}&language=${t}&limit=20&continue=0&format=json&uselang=${t}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Of({aliases:[],photos:[]},{...a,uri:i})),swe=(e,t="en")=>wy({queryKey:[Qr.wikidataEntity,e,t],queryFn:()=>uwe(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),uwe=async(e,t)=>{var v,_,S;const n=((v=e.match(lwe))==null?void 0:v[2])??"";if(!n)return{};const r=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${t}&format=json&origin=*`);if(!r.ok)throw new Po("Fetching interest failed",r);const i=await r.json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const o=(_=a.labels[t])==null?void 0:_.value,s=(S=a.descriptions[t])==null?void 0:S.value,l=(a.claims.P18??[]).map(w=>{var x;return(x=w.mainsnak.datavalue)==null?void 0:x.value})[0],c=(a.claims.P154??[]).map(w=>{var x;return(x=w.mainsnak.datavalue)==null?void 0:x.value})[0],d=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,h=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,g=(a.claims.P856??[]).map(w=>{var x;return(x=w.mainsnak.datavalue)==null?void 0:x.value})[0],y=(a.aliases[t]??[]).map(({value:w})=>w);return{id:n,uri:e,label:o,aliases:y,description:s,officialWebsite:g,image:h||d}},lwe=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;function a$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function r7(...e){return t=>{let n=!1;const r=e.map(i=>{const a=a$(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():a$(e[i],null)}}}}function Ma(...e){return V.useCallback(r7(...e),e)}var Ph=V.forwardRef((e,t)=>{const{children:n,...r}=e,i=V.Children.toArray(n),a=i.find(fwe);if(a){const o=a.props.children,s=i.map(l=>l===a?V.Children.count(o)>1?V.Children.only(null):V.isValidElement(o)?o.props.children:null:l);return U.jsx(zA,{...r,ref:t,children:V.isValidElement(o)?V.cloneElement(o,void 0,s):null})}return U.jsx(zA,{...r,ref:t,children:n})});Ph.displayName="Slot";var zA=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const i=hwe(n),a=dwe(r,n.props);return n.type!==V.Fragment&&(a.ref=t?r7(t,i):i),V.cloneElement(n,a)}return V.Children.count(n)>1?V.Children.only(null):null});zA.displayName="SlotClone";var cwe=({children:e})=>U.jsx(U.Fragment,{children:e});function fwe(e){return V.isValidElement(e)&&e.type===cwe}function dwe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function hwe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Br=pwe.reduce((e,t)=>{const n=V.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?Ph:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gwe(e,t){e&&tc.flushSync(()=>e.dispatchEvent(t))}function mwe(e,t){const n=V.createContext(t),r=a=>{const{children:o,...s}=a,l=V.useMemo(()=>s,Object.values(s));return U.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(a){const o=V.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Kf(e,t=[]){let n=[];function r(a,o){const s=V.createContext(o),l=n.length;n=[...n,o];const c=h=>{var w;const{scope:g,children:y,...v}=h,_=((w=g==null?void 0:g[e])==null?void 0:w[l])||s,S=V.useMemo(()=>v,Object.values(v));return U.jsx(_.Provider,{value:S,children:y})};c.displayName=a+"Provider";function d(h,g){var _;const y=((_=g==null?void 0:g[e])==null?void 0:_[l])||s,v=V.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(o=>V.createContext(o));return function(s){const l=(s==null?void 0:s[e])||a;return V.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,ywe(i,...t)]}function ywe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...s,...h}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function vwe(e){const t=e+"CollectionProvider",[n,r]=Kf(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:_}=y,S=Ot.useRef(null),w=Ot.useRef(new Map).current;return U.jsx(i,{scope:v,itemMap:w,collectionRef:S,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=Ot.forwardRef((y,v)=>{const{scope:_,children:S}=y,w=a(s,_),x=Ma(v,w.collectionRef);return U.jsx(Ph,{ref:x,children:S})});l.displayName=s;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=Ot.forwardRef((y,v)=>{const{scope:_,children:S,...w}=y,x=Ot.useRef(null),R=Ma(v,x),P=a(c,_);return Ot.useEffect(()=>(P.itemMap.set(x,{ref:x,...w}),()=>void P.itemMap.delete(x))),U.jsx(Ph,{[d]:"",ref:R,children:S})});h.displayName=c;function g(y){const v=a(e+"CollectionConsumer",y);return Ot.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const w=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((P,O)=>w.indexOf(P.ref.current)-w.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,r]}function jr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Nu(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Gf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=_we({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,s=Nu(n),l=V.useCallback(c=>{if(a){const h=typeof c=="function"?c(e):c;h!==e&&s(h)}else i(c)},[a,e,i,s]);return[o,l]}function _we({defaultProp:e,onChange:t}){const n=V.useState(e),[r]=n,i=V.useRef(r),a=Nu(t);return V.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var If=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{};function wwe(e,t){return V.useReducer((n,r)=>t[n][r]??n,e)}var Wf=e=>{const{present:t,children:n}=e,r=bwe(t),i=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),a=Ma(r.ref,Swe(i));return typeof n=="function"||r.isPresent?V.cloneElement(i,{ref:a}):null};Wf.displayName="Presence";function bwe(e){const[t,n]=V.useState(),r=V.useRef({}),i=V.useRef(e),a=V.useRef("none"),o=e?"mounted":"unmounted",[s,l]=wwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const c=__(r.current);a.current=s==="mounted"?c:"none"},[s]),If(()=>{const c=r.current,d=i.current;if(d!==e){const g=a.current,y=__(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),If(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=y=>{const _=__(r.current).includes(y.animationName);if(y.target===t&&_&&(l("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=y=>{y.target===t&&(a.current=__(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:V.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function __(e){return(e==null?void 0:e.animationName)||"none"}function Swe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xwe=Sh.useId||(()=>{}),Ewe=0;function th(e){const[t,n]=V.useState(xwe());return If(()=>{e||n(r=>r??String(Ewe++))},[e]),e||(t?`radix-${t}`:"")}var Cwe=V.createContext(void 0);function BO(e){const t=V.useContext(Cwe);return e||t||"ltr"}function Twe(e,t=globalThis==null?void 0:globalThis.document){const n=Nu(e);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Rwe="DismissableLayer",HA="dismissableLayer.update",Awe="dismissableLayer.pointerDownOutside",Pwe="dismissableLayer.focusOutside",o$,i7=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),UO=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=V.useContext(i7),[d,h]=V.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=V.useState({}),v=Ma(t,F=>h(F)),_=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(S),x=d?_.indexOf(d):-1,R=c.layersWithOutsidePointerEventsDisabled.size>0,P=x>=w,O=Iwe(F=>{const Q=F.target,Y=[...c.branches].some(q=>q.contains(Q));!P||Y||(i==null||i(F),o==null||o(F),F.defaultPrevented||s==null||s())},g),D=Mwe(F=>{const Q=F.target;[...c.branches].some(q=>q.contains(Q))||(a==null||a(F),o==null||o(F),F.defaultPrevented||s==null||s())},g);return Twe(F=>{x===c.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&s&&(F.preventDefault(),s()))},g),V.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(o$=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),s$(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=o$)}},[d,g,n,c]),V.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),s$())},[d,c]),V.useEffect(()=>{const F=()=>y({});return document.addEventListener(HA,F),()=>document.removeEventListener(HA,F)},[]),U.jsx(Br.div,{...l,ref:v,style:{pointerEvents:R?P?"auto":"none":void 0,...e.style},onFocusCapture:jr(e.onFocusCapture,D.onFocusCapture),onBlurCapture:jr(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:jr(e.onPointerDownCapture,O.onPointerDownCapture)})});UO.displayName=Rwe;var Owe="DismissableLayerBranch",Lwe=V.forwardRef((e,t)=>{const n=V.useContext(i7),r=V.useRef(null),i=Ma(t,r);return V.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),U.jsx(Br.div,{...e,ref:i})});Lwe.displayName=Owe;function Iwe(e,t=globalThis==null?void 0:globalThis.document){const n=Nu(e),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){a7(Awe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Mwe(e,t=globalThis==null?void 0:globalThis.document){const n=Nu(e),r=V.useRef(!1);return V.useEffect(()=>{const i=a=>{a.target&&!r.current&&a7(Pwe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s$(){const e=new CustomEvent(HA);document.dispatchEvent(e)}function a7(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gwe(i,a):i.dispatchEvent(a)}var PT="focusScope.autoFocusOnMount",OT="focusScope.autoFocusOnUnmount",u$={bubbles:!1,cancelable:!0},Dwe="FocusScope",qO=V.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=V.useState(null),c=Nu(i),d=Nu(a),h=V.useRef(null),g=Ma(t,_=>l(_)),y=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let _=function(R){if(y.paused||!s)return;const P=R.target;s.contains(P)?h.current=P:Ll(h.current,{select:!0})},S=function(R){if(y.paused||!s)return;const P=R.relatedTarget;P!==null&&(s.contains(P)||Ll(h.current,{select:!0}))},w=function(R){if(document.activeElement===document.body)for(const O of R)O.removedNodes.length>0&&Ll(s)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const x=new MutationObserver(w);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),x.disconnect()}}},[r,s,y.paused]),V.useEffect(()=>{if(s){c$.add(y);const _=document.activeElement;if(!s.contains(_)){const w=new CustomEvent(PT,u$);s.addEventListener(PT,c),s.dispatchEvent(w),w.defaultPrevented||(kwe(Bwe(o7(s)),{select:!0}),document.activeElement===_&&Ll(s))}return()=>{s.removeEventListener(PT,c),setTimeout(()=>{const w=new CustomEvent(OT,u$);s.addEventListener(OT,d),s.dispatchEvent(w),w.defaultPrevented||Ll(_??document.body,{select:!0}),s.removeEventListener(OT,d),c$.remove(y)},0)}}},[s,c,d,y]);const v=V.useCallback(_=>{if(!n&&!r||y.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,w=document.activeElement;if(S&&w){const x=_.currentTarget,[R,P]=Nwe(x);R&&P?!_.shiftKey&&w===P?(_.preventDefault(),n&&Ll(R,{select:!0})):_.shiftKey&&w===R&&(_.preventDefault(),n&&Ll(P,{select:!0})):w===x&&_.preventDefault()}},[n,r,y.paused]);return U.jsx(Br.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});qO.displayName=Dwe;function kwe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ll(r,{select:t}),document.activeElement!==n)return}function Nwe(e){const t=o7(e),n=l$(t,e),r=l$(t.reverse(),e);return[n,r]}function o7(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function l$(e,t){for(const n of e)if(!Fwe(n,{upTo:t}))return n}function Fwe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jwe(e){return e instanceof HTMLInputElement&&"select"in e}function Ll(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jwe(e)&&t&&e.select()}}var c$=$we();function $we(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=f$(e,t),e.unshift(t)},remove(t){var n;e=f$(e,t),(n=e[0])==null||n.resume()}}}function f$(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Bwe(e){return e.filter(t=>t.tagName!=="A")}var Uwe="Portal",zO=V.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,a]=V.useState(!1);If(()=>a(!0),[]);const o=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?y0e.createPortal(U.jsx(Br.div,{...r,ref:t}),o):null});zO.displayName=Uwe;var LT=0;function s7(){V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??d$()),document.body.insertAdjacentElement("beforeend",e[1]??d$()),LT++,()=>{LT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),LT--}},[])}function d$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kl=function(){return kl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},kl.apply(this,arguments)};function qwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function zwe(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var q0="right-scroll-bar-position",z0="width-before-scroll-bar",Hwe="with-scroll-bars-hidden",Vwe="--removed-body-scroll-bar-size";function IT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Kwe(e,t){var n=V.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Gwe=typeof window<"u"?V.useLayoutEffect:V.useEffect,h$=new WeakMap;function Wwe(e,t){var n=Kwe(null,function(r){return e.forEach(function(i){return IT(i,r)})});return Gwe(function(){var r=h$.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||IT(s,null)}),a.forEach(function(s){i.has(s)||IT(s,o)})}h$.set(n,e)},[e]),n}var bw=function(){return bw=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},bw.apply(this,arguments)};function Qwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Zwe(e){return e}function Jwe(e,t){t===void 0&&(t=Zwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function Xwe(e){e===void 0&&(e={});var t=Jwe(null);return t.options=bw({async:!0,ssr:!1},e),t}var u7=function(e){var t=e.sideCar,n=Qwe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,bw({},n))};u7.isSideCarExport=!0;function Ywe(e,t){return e.useMedium(t),u7}var l7=Xwe(),MT=function(){},Pb=V.forwardRef(function(e,t){var n=V.useRef(null),r=V.useState({onScrollCapture:MT,onWheelCapture:MT,onTouchMoveCapture:MT}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,g=e.sideCar,y=e.noIsolation,v=e.inert,_=e.allowPinchZoom,S=e.as,w=S===void 0?"div":S,x=e.gapMode,R=qwe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,O=Wwe([n,t]),D=kl(kl({},R),i);return V.createElement(V.Fragment,null,d&&V.createElement(P,{sideCar:l7,removeScrollBar:c,shards:h,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:x}),o?V.cloneElement(V.Children.only(s),kl(kl({},D),{ref:O})):V.createElement(w,kl({},D,{className:l,ref:O}),s))});Pb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pb.classNames={fullWidth:z0,zeroRight:q0};var ebe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ebe();return t&&e.setAttribute("nonce",t),e}function nbe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ibe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=tbe())&&(nbe(t,n),rbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},abe=function(){var e=ibe();return function(t,n){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},c7=function(){var e=abe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},obe={left:0,top:0,right:0,gap:0},DT=function(e){return parseInt(e||"",10)||0},sbe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[DT(n),DT(r),DT(i)]},ube=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return obe;var t=sbe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},lbe=c7(),nh="data-scroll-locked",cbe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Hwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(nh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(q0,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(z0,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(q0," .").concat(q0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(z0," .").concat(z0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nh,`] {
    `).concat(Vwe,": ").concat(s,`px;
  }
`)},p$=function(){var e=parseInt(document.body.getAttribute(nh)||"0",10);return isFinite(e)?e:0},fbe=function(){V.useEffect(function(){return document.body.setAttribute(nh,(p$()+1).toString()),function(){var e=p$()-1;e<=0?document.body.removeAttribute(nh):document.body.setAttribute(nh,e.toString())}},[])},dbe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;fbe();var a=V.useMemo(function(){return ube(i)},[i]);return V.createElement(lbe,{styles:cbe(a,!t,i,n?"":"!important")})},VA=!1;if(typeof window<"u")try{var w_=Object.defineProperty({},"passive",{get:function(){return VA=!0,!0}});window.addEventListener("test",w_,w_),window.removeEventListener("test",w_,w_)}catch{VA=!1}var Fd=VA?{passive:!1}:!1,hbe=function(e){return e.tagName==="TEXTAREA"},f7=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!hbe(e)&&n[t]==="visible")},pbe=function(e){return f7(e,"overflowY")},gbe=function(e){return f7(e,"overflowX")},g$=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=d7(e,r);if(i){var a=h7(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mbe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ybe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},d7=function(e,t){return e==="v"?pbe(t):gbe(t)},h7=function(e,t){return e==="v"?mbe(t):ybe(t)},vbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},_be=function(e,t,n,r,i){var a=vbe(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),c=!1,d=o>0,h=0,g=0;do{var y=h7(e,s),v=y[0],_=y[1],S=y[2],w=_-S-a*v;(v||w)&&d7(e,s)&&(h+=w,g+=v),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(g)<1||!i))&&(c=!0),c},b_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},m$=function(e){return[e.deltaX,e.deltaY]},y$=function(e){return e&&"current"in e?e.current:e},wbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bbe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Sbe=0,jd=[];function xbe(e){var t=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(Sbe++)[0],a=V.useState(c7)[0],o=V.useRef(e);V.useEffect(function(){o.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=zwe([e.lockRef.current],(e.shards||[]).map(y$)).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=V.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var w=b_(_),x=n.current,R="deltaX"in _?_.deltaX:x[0]-w[0],P="deltaY"in _?_.deltaY:x[1]-w[1],O,D=_.target,F=Math.abs(R)>Math.abs(P)?"h":"v";if("touches"in _&&F==="h"&&D.type==="range")return!1;var Q=g$(F,D);if(!Q)return!0;if(Q?O=F:(O=F==="v"?"h":"v",Q=g$(F,D)),!Q)return!1;if(!r.current&&"changedTouches"in _&&(R||P)&&(r.current=O),!O)return!0;var Y=r.current||O;return _be(Y,S,_,Y==="h"?R:P,!0)},[]),l=V.useCallback(function(_){var S=_;if(!(!jd.length||jd[jd.length-1]!==a)){var w="deltaY"in S?m$(S):b_(S),x=t.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&wbe(O.delta,w)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var R=(o.current.shards||[]).map(y$).filter(Boolean).filter(function(O){return O.contains(S.target)}),P=R.length>0?s(S,R[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),c=V.useCallback(function(_,S,w,x){var R={name:_,delta:S,target:w,should:x,shadowParent:Ebe(w)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(P){return P!==R})},1)},[]),d=V.useCallback(function(_){n.current=b_(_),r.current=void 0},[]),h=V.useCallback(function(_){c(_.type,m$(_),_.target,s(_,e.lockRef.current))},[]),g=V.useCallback(function(_){c(_.type,b_(_),_.target,s(_,e.lockRef.current))},[]);V.useEffect(function(){return jd.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Fd),document.addEventListener("touchmove",l,Fd),document.addEventListener("touchstart",d,Fd),function(){jd=jd.filter(function(_){return _!==a}),document.removeEventListener("wheel",l,Fd),document.removeEventListener("touchmove",l,Fd),document.removeEventListener("touchstart",d,Fd)}},[]);var y=e.removeScrollBar,v=e.inert;return V.createElement(V.Fragment,null,v?V.createElement(a,{styles:bbe(i)}):null,y?V.createElement(dbe,{gapMode:e.gapMode}):null)}function Ebe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cbe=Ywe(l7,xbe);var HO=V.forwardRef(function(e,t){return V.createElement(Pb,kl({},e,{ref:t,sideCar:Cbe}))});HO.classNames=Pb.classNames;var Tbe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$d=new WeakMap,S_=new WeakMap,x_={},kT=0,p7=function(e){return e&&(e.host||p7(e.parentNode))},Rbe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=p7(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Abe=function(e,t,n,r){var i=Rbe(t,Array.isArray(e)?e:[e]);x_[n]||(x_[n]=new WeakMap);var a=x_[n],o=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(g){if(s.has(g))d(g);else try{var y=g.getAttribute(r),v=y!==null&&y!=="false",_=($d.get(g)||0)+1,S=(a.get(g)||0)+1;$d.set(g,_),a.set(g,S),o.push(g),_===1&&v&&S_.set(g,!0),S===1&&g.setAttribute(n,"true"),v||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return d(t),s.clear(),kT++,function(){o.forEach(function(h){var g=$d.get(h)-1,y=a.get(h)-1;$d.set(h,g),a.set(h,y),g||(S_.has(h)||h.removeAttribute(r),S_.delete(h)),y||h.removeAttribute(n)}),kT--,kT||($d=new WeakMap,$d=new WeakMap,S_=new WeakMap,x_={})}},g7=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Tbe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Abe(r,i,n,"aria-hidden")):function(){return null}},VO="Dialog",[m7,sFe]=Kf(VO),[Pbe,us]=m7(VO),y7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=V.useRef(null),l=V.useRef(null),[c=!1,d]=Gf({prop:r,defaultProp:i,onChange:a});return U.jsx(Pbe,{scope:t,triggerRef:s,contentRef:l,contentId:th(),titleId:th(),descriptionId:th(),open:c,onOpenChange:d,onOpenToggle:V.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};y7.displayName=VO;var v7="DialogTrigger",_7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=us(v7,n),a=Ma(t,i.triggerRef);return U.jsx(Br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":WO(i.open),...r,ref:a,onClick:jr(e.onClick,i.onOpenToggle)})});_7.displayName=v7;var KO="DialogPortal",[Obe,w7]=m7(KO,{forceMount:void 0}),b7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=us(KO,t);return U.jsx(Obe,{scope:t,forceMount:n,children:V.Children.map(r,o=>U.jsx(Wf,{present:n||a.open,children:U.jsx(zO,{asChild:!0,container:i,children:o})}))})};b7.displayName=KO;var Sw="DialogOverlay",S7=V.forwardRef((e,t)=>{const n=w7(Sw,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=us(Sw,e.__scopeDialog);return a.modal?U.jsx(Wf,{present:r||a.open,children:U.jsx(Lbe,{...i,ref:t})}):null});S7.displayName=Sw;var Lbe=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=us(Sw,n);return U.jsx(HO,{as:Ph,allowPinchZoom:!0,shards:[i.contentRef],children:U.jsx(Br.div,{"data-state":WO(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Mf="DialogContent",x7=V.forwardRef((e,t)=>{const n=w7(Mf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=us(Mf,e.__scopeDialog);return U.jsx(Wf,{present:r||a.open,children:a.modal?U.jsx(Ibe,{...i,ref:t}):U.jsx(Mbe,{...i,ref:t})})});x7.displayName=Mf;var Ibe=V.forwardRef((e,t)=>{const n=us(Mf,e.__scopeDialog),r=V.useRef(null),i=Ma(t,n.contentRef,r);return V.useEffect(()=>{const a=r.current;if(a)return g7(a)},[]),U.jsx(E7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:jr(e.onFocusOutside,a=>a.preventDefault())})}),Mbe=V.forwardRef((e,t)=>{const n=us(Mf,e.__scopeDialog),r=V.useRef(!1),i=V.useRef(!1);return U.jsx(E7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),E7=V.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=us(Mf,n),l=V.useRef(null),c=Ma(t,l);return s7(),U.jsxs(U.Fragment,{children:[U.jsx(qO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:U.jsx(UO,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":WO(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),U.jsxs(U.Fragment,{children:[U.jsx(kbe,{titleId:s.titleId}),U.jsx(Fbe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),GO="DialogTitle",C7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=us(GO,n);return U.jsx(Br.h2,{id:i.titleId,...r,ref:t})});C7.displayName=GO;var T7="DialogDescription",Dbe=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=us(T7,n);return U.jsx(Br.p,{id:i.descriptionId,...r,ref:t})});Dbe.displayName=T7;var R7="DialogClose",A7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=us(R7,n);return U.jsx(Br.button,{type:"button",...r,ref:t,onClick:jr(e.onClick,()=>i.onOpenChange(!1))})});A7.displayName=R7;function WO(e){return e?"open":"closed"}var P7="DialogTitleWarning",[uFe,O7]=mwe(P7,{contentName:Mf,titleName:GO,docsSlug:"dialog"}),kbe=({titleId:e})=>{const t=O7(P7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return V.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Nbe="DialogDescriptionWarning",Fbe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O7(Nbe).contentName}}.`;return V.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},jbe=y7,$be=_7,Bbe=b7,Ube=S7,qbe=x7,zbe=C7,Hbe=A7;function Vbe(e){const[t,n]=V.useState(void 0);return If(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Kbe=["top","right","bottom","left"],nc=Math.min,Ja=Math.max,xw=Math.round,E_=Math.floor,Is=e=>({x:e,y:e}),Gbe={left:"right",right:"left",bottom:"top",top:"bottom"},Wbe={start:"end",end:"start"};function KA(e,t,n){return Ja(e,nc(t,n))}function Fu(e,t){return typeof e=="function"?e(t):e}function ju(e){return e.split("-")[0]}function ip(e){return e.split("-")[1]}function QO(e){return e==="x"?"y":"x"}function ZO(e){return e==="y"?"height":"width"}function rc(e){return["top","bottom"].includes(ju(e))?"y":"x"}function JO(e){return QO(rc(e))}function Qbe(e,t,n){n===void 0&&(n=!1);const r=ip(e),i=JO(e),a=ZO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ew(o)),[o,Ew(o)]}function Zbe(e){const t=Ew(e);return[GA(e),t,GA(t)]}function GA(e){return e.replace(/start|end/g,t=>Wbe[t])}function Jbe(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function Xbe(e,t,n,r){const i=ip(e);let a=Jbe(ju(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(GA)))),a}function Ew(e){return e.replace(/left|right|bottom|top/g,t=>Gbe[t])}function Ybe(e){return{top:0,right:0,bottom:0,left:0,...e}}function L7(e){return typeof e!="number"?Ybe(e):{top:e,right:e,bottom:e,left:e}}function Cw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function v$(e,t,n){let{reference:r,floating:i}=e;const a=rc(t),o=JO(t),s=ZO(o),l=ju(t),c=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[s]/2-i[s]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(ip(t)){case"start":y[o]-=g*(n&&c?-1:1);break;case"end":y[o]+=g*(n&&c?-1:1);break}return y}const e1e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=v$(c,r,l),g=r,y={},v=0;for(let _=0;_<s.length;_++){const{name:S,fn:w}=s[_],{x,y:R,data:P,reset:O}=await w({x:d,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:c,platform:o,elements:{reference:e,floating:t}});d=x??d,h=R??h,y={...y,[S]:{...y[S],...P}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:d,y:h}=v$(c,g,l)),_=-1)}return{x:d,y:h,placement:g,strategy:i,middlewareData:y}};async function ey(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:y=0}=Fu(t,e),v=L7(y),S=s[g?h==="floating"?"reference":"floating":h],w=Cw(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),P=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},O=Cw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:R,strategy:l}):x);return{top:(w.top-O.top+v.top)/P.y,bottom:(O.bottom-w.bottom+v.bottom)/P.y,left:(w.left-O.left+v.left)/P.x,right:(O.right-w.right+v.right)/P.x}}const t1e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Fu(e,t)||{};if(c==null)return{};const h=L7(d),g={x:n,y:r},y=JO(i),v=ZO(y),_=await o.getDimensions(c),S=y==="y",w=S?"top":"left",x=S?"bottom":"right",R=S?"clientHeight":"clientWidth",P=a.reference[v]+a.reference[y]-g[y]-a.floating[v],O=g[y]-a.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let F=D?D[R]:0;(!F||!await(o.isElement==null?void 0:o.isElement(D)))&&(F=s.floating[R]||a.floating[v]);const Q=P/2-O/2,Y=F/2-_[v]/2-1,q=nc(h[w],Y),X=nc(h[x],Y),le=q,te=F-_[v]-X,oe=F/2-_[v]/2+Q,he=KA(le,oe,te),ve=!l.arrow&&ip(i)!=null&&oe!==he&&a.reference[v]/2-(oe<le?q:X)-_[v]/2<0,de=ve?oe<le?oe-le:oe-te:0;return{[y]:g[y]+de,data:{[y]:he,centerOffset:oe-he-de,...ve&&{alignmentOffset:de}},reset:ve}}}),n1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...S}=Fu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=ju(i),x=rc(s),R=ju(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=g||(R||!_?[Ew(s)]:Zbe(s)),D=v!=="none";!g&&D&&O.push(...Xbe(s,_,v,P));const F=[s,...O],Q=await ey(t,S),Y=[];let q=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&Y.push(Q[w]),h){const oe=Qbe(i,o,P);Y.push(Q[oe[0]],Q[oe[1]])}if(q=[...q,{placement:i,overflows:Y}],!Y.every(oe=>oe<=0)){var X,le;const oe=(((X=a.flip)==null?void 0:X.index)||0)+1,he=F[oe];if(he)return{data:{index:oe,overflows:q},reset:{placement:he}};let ve=(le=q.filter(de=>de.overflows[0]<=0).sort((de,se)=>de.overflows[1]-se.overflows[1])[0])==null?void 0:le.placement;if(!ve)switch(y){case"bestFit":{var te;const de=(te=q.filter(se=>{if(D){const Re=rc(se.placement);return Re===x||Re==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(Re=>Re>0).reduce((Re,k)=>Re+k,0)]).sort((se,Re)=>se[1]-Re[1])[0])==null?void 0:te[0];de&&(ve=de);break}case"initialPlacement":ve=s;break}if(i!==ve)return{reset:{placement:ve}}}return{}}}};function _$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function w$(e){return Kbe.some(t=>e[t]>=0)}const r1e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fu(e,t);switch(r){case"referenceHidden":{const a=await ey(t,{...i,elementContext:"reference"}),o=_$(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:w$(o)}}}case"escaped":{const a=await ey(t,{...i,altBoundary:!0}),o=_$(a,n.floating);return{data:{escapedOffsets:o,escaped:w$(o)}}}default:return{}}}}};async function i1e(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ju(n),s=ip(n),l=rc(n)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,h=Fu(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof v=="number"&&(y=s==="end"?v*-1:v),l?{x:y*d,y:g*c}:{x:g*c,y:y*d}}const a1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await i1e(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},o1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:S=>{let{x:w,y:x}=S;return{x:w,y:x}}},...l}=Fu(e,t),c={x:n,y:r},d=await ey(t,l),h=rc(ju(i)),g=QO(h);let y=c[g],v=c[h];if(a){const S=g==="y"?"top":"left",w=g==="y"?"bottom":"right",x=y+d[S],R=y-d[w];y=KA(x,y,R)}if(o){const S=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=v+d[S],R=v-d[w];v=KA(x,v,R)}const _=s.fn({...t,[g]:y,[h]:v});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[g]:a,[h]:o}}}}}},s1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Fu(e,t),d={x:n,y:r},h=rc(i),g=QO(h);let y=d[g],v=d[h];const _=Fu(s,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const R=g==="y"?"height":"width",P=a.reference[g]-a.floating[R]+S.mainAxis,O=a.reference[g]+a.reference[R]-S.mainAxis;y<P?y=P:y>O&&(y=O)}if(c){var w,x;const R=g==="y"?"width":"height",P=["top","left"].includes(ju(i)),O=a.reference[h]-a.floating[R]+(P&&((w=o.offset)==null?void 0:w[h])||0)+(P?0:S.crossAxis),D=a.reference[h]+a.reference[R]+(P?0:((x=o.offset)==null?void 0:x[h])||0)-(P?S.crossAxis:0);v<O?v=O:v>D&&(v=D)}return{[g]:y,[h]:v}}}},u1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Fu(e,t),d=await ey(t,c),h=ju(i),g=ip(i),y=rc(i)==="y",{width:v,height:_}=a.floating;let S,w;h==="top"||h==="bottom"?(S=h,w=g===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(w=h,S=g==="end"?"top":"bottom");const x=_-d.top-d.bottom,R=v-d.left-d.right,P=nc(_-d[S],x),O=nc(v-d[w],R),D=!t.middlewareData.shift;let F=P,Q=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Q=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=x),D&&!g){const q=Ja(d.left,0),X=Ja(d.right,0),le=Ja(d.top,0),te=Ja(d.bottom,0);y?Q=v-2*(q!==0||X!==0?q+X:Ja(d.left,d.right)):F=_-2*(le!==0||te!==0?le+te:Ja(d.top,d.bottom))}await l({...t,availableWidth:Q,availableHeight:F});const Y=await o.getDimensions(s.floating);return v!==Y.width||_!==Y.height?{reset:{rects:!0}}:{}}}};function Ob(){return typeof window<"u"}function ap(e){return I7(e)?(e.nodeName||"").toLowerCase():"#document"}function to(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $s(e){var t;return(t=(I7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function I7(e){return Ob()?e instanceof Node||e instanceof to(e).Node:!1}function rs(e){return Ob()?e instanceof Element||e instanceof to(e).Element:!1}function Ns(e){return Ob()?e instanceof HTMLElement||e instanceof to(e).HTMLElement:!1}function b$(e){return!Ob()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof to(e).ShadowRoot}function ky(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=is(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function l1e(e){return["table","td","th"].includes(ap(e))}function Lb(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function XO(e){const t=YO(),n=rs(e)?is(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function c1e(e){let t=ic(e);for(;Ns(t)&&!Oh(t);){if(XO(t))return t;if(Lb(t))return null;t=ic(t)}return null}function YO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oh(e){return["html","body","#document"].includes(ap(e))}function is(e){return to(e).getComputedStyle(e)}function Ib(e){return rs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ic(e){if(ap(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b$(e)&&e.host||$s(e);return b$(t)?t.host:t}function M7(e){const t=ic(e);return Oh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ns(t)&&ky(t)?t:M7(t)}function ty(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=M7(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=to(i);if(a){const s=WA(o);return t.concat(o,o.visualViewport||[],ky(i)?i:[],s&&n?ty(s):[])}return t.concat(i,ty(i,[],n))}function WA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function D7(e){const t=is(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ns(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=xw(n)!==a||xw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function eL(e){return rs(e)?e:e.contextElement}function rh(e){const t=eL(e);if(!Ns(t))return Is(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=D7(t);let o=(a?xw(n.width):n.width)/r,s=(a?xw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const f1e=Is(0);function k7(e){const t=to(e);return!YO()||!t.visualViewport?f1e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function d1e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==to(e)?!1:t}function Df(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=eL(e);let o=Is(1);t&&(r?rs(r)&&(o=rh(r)):o=rh(e));const s=d1e(a,n,r)?k7(a):Is(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const g=to(a),y=r&&rs(r)?to(r):r;let v=g,_=WA(v);for(;_&&r&&y!==v;){const S=rh(_),w=_.getBoundingClientRect(),x=is(_),R=w.left+(_.clientLeft+parseFloat(x.paddingLeft))*S.x,P=w.top+(_.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=R,c+=P,v=to(_),_=WA(v)}}return Cw({width:d,height:h,x:l,y:c})}function tL(e,t){const n=Ib(e).scrollLeft;return t?t.left+n:Df($s(e)).left+n}function N7(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:tL(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function h1e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=$s(r),s=t?Lb(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=Is(1);const d=Is(0),h=Ns(r);if((h||!h&&!a)&&((ap(r)!=="body"||ky(o))&&(l=Ib(r)),Ns(r))){const y=Df(r);c=rh(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=o&&!h&&!a?N7(o,l,!0):Is(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+g.x,y:n.y*c.y-l.scrollTop*c.y+d.y+g.y}}function p1e(e){return Array.from(e.getClientRects())}function g1e(e){const t=$s(e),n=Ib(e),r=e.ownerDocument.body,i=Ja(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ja(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tL(e);const s=-n.scrollTop;return is(r).direction==="rtl"&&(o+=Ja(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function m1e(e,t){const n=to(e),r=$s(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=YO();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function y1e(e,t){const n=Df(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ns(e)?rh(e):Is(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function S$(e,t,n){let r;if(t==="viewport")r=m1e(e,n);else if(t==="document")r=g1e($s(e));else if(rs(t))r=y1e(t,n);else{const i=k7(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Cw(r)}function F7(e,t){const n=ic(e);return n===t||!rs(n)||Oh(n)?!1:is(n).position==="fixed"||F7(n,t)}function v1e(e,t){const n=t.get(e);if(n)return n;let r=ty(e,[],!1).filter(s=>rs(s)&&ap(s)!=="body"),i=null;const a=is(e).position==="fixed";let o=a?ic(e):e;for(;rs(o)&&!Oh(o);){const s=is(o),l=XO(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ky(o)&&!l&&F7(e,o))?r=r.filter(d=>d!==o):i=s,o=ic(o)}return t.set(e,r),r}function _1e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Lb(t)?[]:v1e(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const h=S$(t,d,i);return c.top=Ja(h.top,c.top),c.right=nc(h.right,c.right),c.bottom=nc(h.bottom,c.bottom),c.left=Ja(h.left,c.left),c},S$(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function w1e(e){const{width:t,height:n}=D7(e);return{width:t,height:n}}function b1e(e,t,n){const r=Ns(t),i=$s(t),a=n==="fixed",o=Df(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Is(0);if(r||!r&&!a)if((ap(t)!=="body"||ky(i))&&(s=Ib(t)),r){const g=Df(t,!0,a,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else i&&(l.x=tL(i));const c=i&&!r&&!a?N7(i,s):Is(0),d=o.left+s.scrollLeft-l.x-c.x,h=o.top+s.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function NT(e){return is(e).position==="static"}function x$(e,t){if(!Ns(e)||is(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $s(e)===n&&(n=n.ownerDocument.body),n}function j7(e,t){const n=to(e);if(Lb(e))return n;if(!Ns(e)){let i=ic(e);for(;i&&!Oh(i);){if(rs(i)&&!NT(i))return i;i=ic(i)}return n}let r=x$(e,t);for(;r&&l1e(r)&&NT(r);)r=x$(r,t);return r&&Oh(r)&&NT(r)&&!XO(r)?n:r||c1e(e)||n}const S1e=async function(e){const t=this.getOffsetParent||j7,n=this.getDimensions,r=await n(e.floating);return{reference:b1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function x1e(e){return is(e).direction==="rtl"}const E1e={convertOffsetParentRelativeRectToViewportRelativeRect:h1e,getDocumentElement:$s,getClippingRect:_1e,getOffsetParent:j7,getElementRects:S1e,getClientRects:p1e,getDimensions:w1e,getScale:rh,isElement:rs,isRTL:x1e};function $7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function C1e(e,t){let n=null,r;const i=$s(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:h,width:g,height:y}=c;if(s||t(),!g||!y)return;const v=E_(h),_=E_(i.clientWidth-(d+g)),S=E_(i.clientHeight-(h+y)),w=E_(d),R={rootMargin:-v+"px "+-_+"px "+-S+"px "+-w+"px",threshold:Ja(0,nc(1,l))||1};let P=!0;function O(D){const F=D[0].intersectionRatio;if(F!==l){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!$7(c,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,R)}n.observe(e)}return o(!0),a}function T1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=eL(e),d=i||a?[...c?ty(c):[],...ty(t)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const h=c&&s?C1e(c,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let v,_=l?Df(e):null;l&&S();function S(){const w=Df(e);_&&!$7(_,w)&&n(),_=w,v=requestAnimationFrame(S)}return n(),()=>{var w;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(w=y)==null||w.disconnect(),y=null,l&&cancelAnimationFrame(v)}}const R1e=a1e,A1e=o1e,P1e=n1e,O1e=u1e,L1e=r1e,E$=t1e,I1e=s1e,M1e=(e,t,n)=>{const r=new Map,i={platform:E1e,...n},a={...i.platform,_c:r};return e1e(e,t,{...i,platform:a})};var H0=typeof document<"u"?V.useLayoutEffect:V.useEffect;function Tw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Tw(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Tw(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function B7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function C$(e,t){const n=B7(e);return Math.round(t*n)/n}function FT(e){const t=V.useRef(e);return H0(()=>{t.current=e}),t}function D1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,h]=V.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=V.useState(r);Tw(g,r)||y(r);const[v,_]=V.useState(null),[S,w]=V.useState(null),x=V.useCallback(se=>{se!==D.current&&(D.current=se,_(se))},[]),R=V.useCallback(se=>{se!==F.current&&(F.current=se,w(se))},[]),P=a||v,O=o||S,D=V.useRef(null),F=V.useRef(null),Q=V.useRef(d),Y=l!=null,q=FT(l),X=FT(i),le=FT(c),te=V.useCallback(()=>{if(!D.current||!F.current)return;const se={placement:t,strategy:n,middleware:g};X.current&&(se.platform=X.current),M1e(D.current,F.current,se).then(Re=>{const k={...Re,isPositioned:le.current!==!1};oe.current&&!Tw(Q.current,k)&&(Q.current=k,tc.flushSync(()=>{h(k)}))})},[g,t,n,X,le]);H0(()=>{c===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,h(se=>({...se,isPositioned:!1})))},[c]);const oe=V.useRef(!1);H0(()=>(oe.current=!0,()=>{oe.current=!1}),[]),H0(()=>{if(P&&(D.current=P),O&&(F.current=O),P&&O){if(q.current)return q.current(P,O,te);te()}},[P,O,te,q,Y]);const he=V.useMemo(()=>({reference:D,floating:F,setReference:x,setFloating:R}),[x,R]),ve=V.useMemo(()=>({reference:P,floating:O}),[P,O]),de=V.useMemo(()=>{const se={position:n,left:0,top:0};if(!ve.floating)return se;const Re=C$(ve.floating,d.x),k=C$(ve.floating,d.y);return s?{...se,transform:"translate("+Re+"px, "+k+"px)",...B7(ve.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Re,top:k}},[n,s,ve.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:te,refs:he,elements:ve,floatingStyles:de}),[d,te,he,ve,de])}const k1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?E$({element:r.current,padding:i}).fn(n):{}:r?E$({element:r,padding:i}).fn(n):{}}}},N1e=(e,t)=>({...R1e(e),options:[e,t]}),F1e=(e,t)=>({...A1e(e),options:[e,t]}),j1e=(e,t)=>({...I1e(e),options:[e,t]}),$1e=(e,t)=>({...P1e(e),options:[e,t]}),B1e=(e,t)=>({...O1e(e),options:[e,t]}),U1e=(e,t)=>({...L1e(e),options:[e,t]}),q1e=(e,t)=>({...k1e(e),options:[e,t]});var z1e="Arrow",U7=V.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return U.jsx(Br.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});U7.displayName=z1e;var H1e=U7,nL="Popper",[q7,z7]=Kf(nL),[V1e,H7]=q7(nL),V7=e=>{const{__scopePopper:t,children:n}=e,[r,i]=V.useState(null);return U.jsx(V1e,{scope:t,anchor:r,onAnchorChange:i,children:n})};V7.displayName=nL;var K7="PopperAnchor",G7=V.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=H7(K7,n),o=V.useRef(null),s=Ma(t,o);return V.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:U.jsx(Br.div,{...i,ref:s})});G7.displayName=K7;var rL="PopperContent",[K1e,G1e]=q7(rL),W7=V.forwardRef((e,t)=>{var Je,Ae,$e,Xe,ae,H;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,..._}=e,S=H7(rL,n),[w,x]=V.useState(null),R=Ma(t,B=>x(B)),[P,O]=V.useState(null),D=Vbe(P),F=(D==null?void 0:D.width)??0,Q=(D==null?void 0:D.height)??0,Y=r+(a!=="center"?"-"+a:""),q=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},X=Array.isArray(c)?c:[c],le=X.length>0,te={padding:q,boundary:X.filter(Q1e),altBoundary:le},{refs:oe,floatingStyles:he,placement:ve,isPositioned:de,middlewareData:se}=D1e({strategy:"fixed",placement:Y,whileElementsMounted:(...B)=>T1e(...B,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[N1e({mainAxis:i+Q,alignmentAxis:o}),l&&F1e({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?j1e():void 0,...te}),l&&$1e({...te}),B1e({...te,apply:({elements:B,rects:ie,availableWidth:fe,availableHeight:Pe})=>{const{width:Ie,height:tt}=ie.reference,De=B.floating.style;De.setProperty("--radix-popper-available-width",`${fe}px`),De.setProperty("--radix-popper-available-height",`${Pe}px`),De.setProperty("--radix-popper-anchor-width",`${Ie}px`),De.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),P&&q1e({element:P,padding:s}),Z1e({arrowWidth:F,arrowHeight:Q}),g&&U1e({strategy:"referenceHidden",...te})]}),[Re,k]=J7(ve),re=Nu(v);If(()=>{de&&(re==null||re())},[de,re]);const ge=(Je=se.arrow)==null?void 0:Je.x,W=(Ae=se.arrow)==null?void 0:Ae.y,ee=(($e=se.arrow)==null?void 0:$e.centerOffset)!==0,[pe,Te]=V.useState();return If(()=>{w&&Te(window.getComputedStyle(w).zIndex)},[w]),U.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:de?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(Xe=se.transformOrigin)==null?void 0:Xe.x,(ae=se.transformOrigin)==null?void 0:ae.y].join(" "),...((H=se.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:U.jsx(K1e,{scope:n,placedSide:Re,onArrowChange:O,arrowX:ge,arrowY:W,shouldHideArrow:ee,children:U.jsx(Br.div,{"data-side":Re,"data-align":k,..._,ref:R,style:{..._.style,animation:de?void 0:"none"}})})})});W7.displayName=rL;var Q7="PopperArrow",W1e={top:"bottom",right:"left",bottom:"top",left:"right"},Z7=V.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=G1e(Q7,r),o=W1e[a.placedSide];return U.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:U.jsx(H1e,{...i,ref:n,style:{...i.style,display:"block"}})})});Z7.displayName=Q7;function Q1e(e){return e!==null}var Z1e=e=>({name:"transformOrigin",options:e,fn(t){var S,w,x;const{placement:n,rects:r,middlewareData:i}=t,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=J7(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(((w=i.arrow)==null?void 0:w.x)??0)+s/2,y=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${g}px`,_=`${-l}px`):c==="top"?(v=o?h:`${g}px`,_=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${y}px`):c==="left"&&(v=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:v,y:_}}}});function J7(e){const[t,n="center"]=e.split("-");return[t,n]}var J1e=V7,X7=G7,X1e=W7,Y1e=Z7,jT="rovingFocusGroup.onEntryFocus",eSe={bubbles:!1,cancelable:!0},Mb="RovingFocusGroup",[QA,Y7,tSe]=vwe(Mb),[nSe,Db]=Kf(Mb,[tSe]),[rSe,iSe]=nSe(Mb),eV=V.forwardRef((e,t)=>U.jsx(QA.Provider,{scope:e.__scopeRovingFocusGroup,children:U.jsx(QA.Slot,{scope:e.__scopeRovingFocusGroup,children:U.jsx(aSe,{...e,ref:t})})}));eV.displayName=Mb;var aSe=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,g=V.useRef(null),y=Ma(t,g),v=BO(a),[_=null,S]=Gf({prop:o,defaultProp:s,onChange:l}),[w,x]=V.useState(!1),R=Nu(c),P=Y7(n),O=V.useRef(!1),[D,F]=V.useState(0);return V.useEffect(()=>{const Q=g.current;if(Q)return Q.addEventListener(jT,R),()=>Q.removeEventListener(jT,R)},[R]),U.jsx(rSe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:_,onItemFocus:V.useCallback(Q=>S(Q),[S]),onItemShiftTab:V.useCallback(()=>x(!0),[]),onFocusableItemAdd:V.useCallback(()=>F(Q=>Q+1),[]),onFocusableItemRemove:V.useCallback(()=>F(Q=>Q-1),[]),children:U.jsx(Br.div,{tabIndex:w||D===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:jr(e.onMouseDown,()=>{O.current=!0}),onFocus:jr(e.onFocus,Q=>{const Y=!O.current;if(Q.target===Q.currentTarget&&Y&&!w){const q=new CustomEvent(jT,eSe);if(Q.currentTarget.dispatchEvent(q),!q.defaultPrevented){const X=P().filter(ve=>ve.focusable),le=X.find(ve=>ve.active),te=X.find(ve=>ve.id===_),he=[le,te,...X].filter(Boolean).map(ve=>ve.ref.current);rV(he,d)}}O.current=!1}),onBlur:jr(e.onBlur,()=>x(!1))})})}),tV="RovingFocusGroupItem",nV=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,s=th(),l=a||s,c=iSe(tV,n),d=c.currentTabStopId===l,h=Y7(n),{onFocusableItemAdd:g,onFocusableItemRemove:y}=c;return V.useEffect(()=>{if(r)return g(),()=>y()},[r,g,y]),U.jsx(QA.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:U.jsx(Br.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:jr(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:jr(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:jr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=uSe(v,c.orientation,c.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(x=>x.focusable).map(x=>x.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const x=w.indexOf(v.currentTarget);w=c.loop?lSe(w,x+1):w.slice(x+1)}setTimeout(()=>rV(w))}})})})});nV.displayName=tV;var oSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uSe(e,t,n){const r=sSe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oSe[r]}function rV(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function lSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iV=eV,aV=nV,iL="Popover",[oV,lFe]=Kf(iL,[z7]),Ny=z7(),[cSe,cc]=oV(iL),sV=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=Ny(t),l=V.useRef(null),[c,d]=V.useState(!1),[h=!1,g]=Gf({prop:r,defaultProp:i,onChange:a});return U.jsx(J1e,{...s,children:U.jsx(cSe,{scope:t,contentId:th(),triggerRef:l,open:h,onOpenChange:g,onOpenToggle:V.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:c,onCustomAnchorAdd:V.useCallback(()=>d(!0),[]),onCustomAnchorRemove:V.useCallback(()=>d(!1),[]),modal:o,children:n})})};sV.displayName=iL;var uV="PopoverAnchor",fSe=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cc(uV,n),a=Ny(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return V.useEffect(()=>(o(),()=>s()),[o,s]),U.jsx(X7,{...a,...r,ref:t})});fSe.displayName=uV;var lV="PopoverTrigger",cV=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cc(lV,n),a=Ny(n),o=Ma(t,i.triggerRef),s=U.jsx(Br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":yV(i.open),...r,ref:o,onClick:jr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:U.jsx(X7,{asChild:!0,...a,children:s})});cV.displayName=lV;var aL="PopoverPortal",[dSe,hSe]=oV(aL,{forceMount:void 0}),fV=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=cc(aL,t);return U.jsx(dSe,{scope:t,forceMount:n,children:U.jsx(Wf,{present:n||a.open,children:U.jsx(zO,{asChild:!0,container:i,children:r})})})};fV.displayName=aL;var Lh="PopoverContent",dV=V.forwardRef((e,t)=>{const n=hSe(Lh,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=cc(Lh,e.__scopePopover);return U.jsx(Wf,{present:r||a.open,children:a.modal?U.jsx(pSe,{...i,ref:t}):U.jsx(gSe,{...i,ref:t})})});dV.displayName=Lh;var pSe=V.forwardRef((e,t)=>{const n=cc(Lh,e.__scopePopover),r=V.useRef(null),i=Ma(t,r),a=V.useRef(!1);return V.useEffect(()=>{const o=r.current;if(o)return g7(o)},[]),U.jsx(HO,{as:Ph,allowPinchZoom:!0,children:U.jsx(hV,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jr(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:jr(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:jr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),gSe=V.forwardRef((e,t)=>{const n=cc(Lh,e.__scopePopover),r=V.useRef(!1),i=V.useRef(!1);return U.jsx(hV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),hV=V.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=e,g=cc(Lh,n),y=Ny(n);return s7(),U.jsx(qO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:U.jsx(UO,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1),children:U.jsx(X1e,{"data-state":yV(g.open),role:"dialog",id:g.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pV="PopoverClose",gV=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=cc(pV,n);return U.jsx(Br.button,{type:"button",...r,ref:t,onClick:jr(e.onClick,()=>i.onOpenChange(!1))})});gV.displayName=pV;var mSe="PopoverArrow",mV=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ny(n);return U.jsx(Y1e,{...i,...r,ref:t})});mV.displayName=mSe;function yV(e){return e?"open":"closed"}var ySe=sV,vSe=cV,_Se=fV,wSe=dV,bSe=gV,SSe=mV,oL="Tabs",[xSe,cFe]=Kf(oL,[Db]),vV=Db(),[ESe,sL]=xSe(oL),_V=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=BO(s),[h,g]=Gf({prop:r,onChange:i,defaultProp:a});return U.jsx(ESe,{scope:n,baseId:th(),value:h,onValueChange:g,orientation:o,dir:d,activationMode:l,children:U.jsx(Br.div,{dir:d,"data-orientation":o,...c,ref:t})})});_V.displayName=oL;var wV="TabsList",bV=V.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=sL(wV,n),o=vV(n);return U.jsx(iV,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:U.jsx(Br.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});bV.displayName=wV;var SV="TabsTrigger",xV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=sL(SV,n),s=vV(n),l=TV(o.baseId,r),c=RV(o.baseId,r),d=r===o.value;return U.jsx(aV,{asChild:!0,...s,focusable:!i,active:d,children:U.jsx(Br.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:jr(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:jr(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:jr(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});xV.displayName=SV;var EV="TabsContent",CV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=sL(EV,n),l=TV(s.baseId,r),c=RV(s.baseId,r),d=r===s.value,h=V.useRef(d);return V.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),U.jsx(Wf,{present:i||d,children:({present:g})=>U.jsx(Br.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&a})})});CV.displayName=EV;function TV(e,t){return`${e}-trigger-${t}`}function RV(e,t){return`${e}-content-${t}`}var uL=_V,lL=bV,cL=xV,fL=CV,CSe="Toggle",AV=V.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...a}=e,[o=!1,s]=Gf({prop:n,onChange:i,defaultProp:r});return U.jsx(Br.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:jr(e.onClick,()=>{e.disabled||s(!o)})})});AV.displayName=CSe;var op="ToggleGroup",[PV,fFe]=Kf(op,[Db]),OV=Db(),dL=Ot.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return U.jsx(TSe,{...i,ref:t})}if(n==="multiple"){const i=r;return U.jsx(RSe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${op}\``)});dL.displayName=op;var[LV,IV]=PV(op),TSe=Ot.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,s]=Gf({prop:n,defaultProp:r,onChange:i});return U.jsx(LV,{scope:e.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:s,onItemDeactivate:Ot.useCallback(()=>s(""),[s]),children:U.jsx(MV,{...a,ref:t})})}),RSe=Ot.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o=[],s]=Gf({prop:n,defaultProp:r,onChange:i}),l=Ot.useCallback(d=>s((h=[])=>[...h,d]),[s]),c=Ot.useCallback(d=>s((h=[])=>h.filter(g=>g!==d)),[s]);return U.jsx(LV,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:U.jsx(MV,{...a,ref:t})})});dL.displayName=op;var[ASe,PSe]=PV(op),MV=Ot.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:s=!0,...l}=e,c=OV(n),d=BO(o),h={role:"group",dir:d,...l};return U.jsx(ASe,{scope:n,rovingFocus:i,disabled:r,children:i?U.jsx(iV,{asChild:!0,...c,orientation:a,dir:d,loop:s,children:U.jsx(Br.div,{...h,ref:t})}):U.jsx(Br.div,{...h,ref:t})})}),Rw="ToggleGroupItem",DV=Ot.forwardRef((e,t)=>{const n=IV(Rw,e.__scopeToggleGroup),r=PSe(Rw,e.__scopeToggleGroup),i=OV(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,s={...e,pressed:a,disabled:o},l=Ot.useRef(null);return r.rovingFocus?U.jsx(aV,{asChild:!0,...i,focusable:!o,active:a,ref:l,children:U.jsx(T$,{...s,ref:t})}):U.jsx(T$,{...s,ref:t})});DV.displayName=Rw;var T$=Ot.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=IV(Rw,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=a.type==="single"?o:void 0;return U.jsx(AV,{...s,...i,ref:t,onPressedChange:l=>{l?a.onItemActivate(r):a.onItemDeactivate(r)}})}),OSe=dL,LSe=DV;function ISe(e){return qi({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 4.583v14.833h.865V4.583zm1.788 0v14.833h2.653V4.583zm3.518 0v14.832H7.96V4.583zm3.547 0v14.834h.866V4.583zm1.789 0v14.833h.865V4.583zm1.759 0v14.834h2.653V4.583zm3.518 0v14.834h.923V4.583zm1.788 0v14.833h2.653V4.583zm3.64 0v14.834h.865V4.583zm1.788 0v14.834H24V4.583Z"},child:[]}]})(e)}const MSe="_item_12uco_1",DSe="_highlighted_12uco_8",kSe="_popover_12uco_22",NSe="_arrow_12uco_33",FSe="_close_12uco_36",jSe="_detail_12uco_41",$Se="_image_12uco_47",BSe="_headerContainer_12uco_52",USe="_header_12uco_52",qSe="_website_12uco_62",zSe="_aliases_12uco_67",Qa={item:MSe,highlighted:DSe,popover:kSe,arrow:NSe,close:FSe,detail:jSe,image:$Se,headerContainer:BSe,header:USe,website:qSe,aliases:zSe},kV=({uri:e,highlighted:t,onRemove:n,locale:r,className:i,...a})=>{const{i18n:o,_:s}=Ur(),{data:l}=swe(e,r),c={uri:e,label:e.split("/").pop(),description:"",aliases:[]},d=Of({},c,l);return U.jsxs(ySe,{children:[U.jsxs("span",{...a,className:Ar(Qa.item,t&&Qa.highlighted,i),children:[U.jsx(vSe,{asChild:!0,children:U.jsxs("button",{className:Qa.trigger,title:d.description,children:[d.label," "]})}),n&&U.jsx("button",{className:Qa.remove,onClick:n,children:U.jsx(_w,{})})]}),U.jsx(_Se,{children:U.jsxs(wSe,{sideOffset:5,className:Qa.popover,children:[U.jsx(bSe,{className:Qa.close,"aria-label":o._({id:"yz7wBu"}),children:U.jsx(_w,{})}),U.jsx(HSe,{topic:d}),U.jsx(SSe,{className:Qa.arrow})]})})]})},HSe=({topic:e})=>U.jsxs("div",{className:Qa.detail,children:[e.image&&U.jsx("img",{src:e.image,alt:"",className:Qa.image}),U.jsxs("header",{className:Qa.headerContainer,children:[U.jsxs("h3",{className:Qa.header,children:[e.label,U.jsx(nz,{href:e.uri,icon:e.id?ISe:void 0})]}),e.aliases.length>0&&U.jsx("div",{className:Qa.aliases,children:e.aliases.join(", ")}),e.officialWebsite&&U.jsxs("a",{href:e.officialWebsite,target:"_blank",rel:"noopener noreferrer",className:Qa.website,children:[U.jsx(lme,{}),e.officialWebsite]})]}),U.jsx("section",{children:e.description})]}),VSe="_list_kiy6t_1",KSe="_select_kiy6t_7",GSe="_control_kiy6t_7",WSe="_input_kiy6t_12",QSe="_menu_kiy6t_15",ZSe="_separator_kiy6t_20",JSe="_option_kiy6t_24",XSe="_focused_kiy6t_24",xu={list:VSe,select:KSe,control:GSe,input:WSe,menu:QSe,separator:ZSe,option:JSe,focused:XSe},YSe=({ids:e,highlighted:t})=>{const n=$r(Lo);return e.length===0?null:U.jsx("ul",{className:xu.list,"data-cy":"interests-list",children:e.map(r=>U.jsx("li",{children:U.jsx(kV,{uri:r,highlighted:t&&t.includes(r),locale:n})},r))})},Oo=({children:e})=>U.jsx(U.Fragment,{children:e}),exe=()=>{const{communityId:e}=Nn(),t=$r(Lo),n=zu(e,t,$h),i=txe()&&n.logo.length>=2?n.logo[0]:n.logo[1];return U.jsxs(U.Fragment,{children:[U.jsx("title",{children:n.name}),i&&U.jsx("link",{rel:"icon",href:i}),U.jsx("meta",{name:"description",content:n.about})]})},txe=()=>{const[e,t]=V.useState(document.hasFocus());return V.useEffect(()=>{const n=()=>{t(!0)},r=()=>{t(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),e},vi=()=>$r(Bh),nxe=()=>{const e=$f();V.useEffect(()=>{xy().events.on(yi.SESSION_RESTORED,n=>{e(new URL(n).pathname,{replace:!0})})},[])},rxe=()=>{const e=$r(UP);V.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",e)},[e])},ixe="_box_1g1fk_7",axe="_row_1g1fk_18",oxe="_header_1g1fk_18",sxe="_content_1g1fk_26",uxe="_footer_1g1fk_30",Ih={box:ixe,row:axe,header:oxe,content:sxe,footer:uxe},lxe=({children:e,page:t})=>U.jsx("div",{className:Ar(Ih.box,t&&Ih.page),children:e}),cxe=({children:e})=>U.jsx("div",{className:Ar(Ih.row,Ih.header),children:e}),fxe=({children:e})=>U.jsx("div",{className:Ar(Ih.row,Ih.content),children:e});function NV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=NV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ql(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=NV(e))&&(r&&(r+=" "),r+=t);return r}const ny=e=>typeof e=="number"&&!isNaN(e),Ef=e=>typeof e=="string",Ya=e=>typeof e=="function",V0=e=>Ef(e)||Ya(e)?e:null,ZA=e=>V.isValidElement(e)||Ef(e)||Ya(e)||ny(e);function dxe(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function kb(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(o){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:g,playToast:y}=o;const v=r?`${t}--${l}`:t,_=r?`${n}--${l}`:n,S=V.useRef(0);return V.useLayoutEffect(()=>{const w=h.current,x=v.split(" "),R=P=>{P.target===h.current&&(y(),w.removeEventListener("animationend",R),w.removeEventListener("animationcancel",R),S.current===0&&P.type!=="animationcancel"&&w.classList.remove(...x))};w.classList.add(...x),w.addEventListener("animationend",R),w.addEventListener("animationcancel",R)},[]),V.useEffect(()=>{const w=h.current,x=()=>{w.removeEventListener("animationend",x),i?dxe(w,d,a):d()};g||(c?x():(S.current=1,w.className+=` ${_}`,w.addEventListener("animationend",x)))},[g]),Ot.createElement(Ot.Fragment,null,s)}}function R$(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const va=new Map;let ry=[];const JA=new Set,hxe=e=>JA.forEach(t=>t(e)),FV=()=>va.size>0;function jV(e,t){var n;if(t)return!((n=va.get(t))==null||!n.isToastActive(e));let r=!1;return va.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function $V(e,t){ZA(e)&&(FV()||ry.push({content:e,options:t}),va.forEach(n=>{n.buildToast(e,t)}))}function A$(e,t){va.forEach(n=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===n.id&&n.toggle(e,t==null?void 0:t.id):n.toggle(e,t==null?void 0:t.id)})}function pxe(e){const{subscribe:t,getSnapshot:n,setProps:r}=V.useRef(function(a){const o=a.containerId||1;return{subscribe(s){const l=function(d,h,g){let y=1,v=0,_=[],S=[],w=[],x=h;const R=new Map,P=new Set,O=()=>{w=Array.from(R.values()),P.forEach(Q=>Q())},D=Q=>{S=Q==null?[]:S.filter(Y=>Y!==Q),O()},F=Q=>{const{toastId:Y,onOpen:q,updateId:X,children:le}=Q.props,te=X==null;Q.staleId&&R.delete(Q.staleId),R.set(Y,Q),S=[...S,Q.props.toastId].filter(oe=>oe!==Q.staleId),O(),g(R$(Q,te?"added":"updated")),te&&Ya(q)&&q(V.isValidElement(le)&&le.props)};return{id:d,props:x,observe:Q=>(P.add(Q),()=>P.delete(Q)),toggle:(Q,Y)=>{R.forEach(q=>{Y!=null&&Y!==q.props.toastId||Ya(q.toggle)&&q.toggle(Q)})},removeToast:D,toasts:R,clearQueue:()=>{v-=_.length,_=[]},buildToast:(Q,Y)=>{if((ge=>{let{containerId:W,toastId:ee,updateId:pe}=ge;const Te=W?W!==d:d!==1,Je=R.has(ee)&&pe==null;return Te||Je})(Y))return;const{toastId:q,updateId:X,data:le,staleId:te,delay:oe}=Y,he=()=>{D(q)},ve=X==null;ve&&v++;const de={...x,style:x.toastStyle,key:y++,...Object.fromEntries(Object.entries(Y).filter(ge=>{let[W,ee]=ge;return ee!=null})),toastId:q,updateId:X,data:le,closeToast:he,isIn:!1,className:V0(Y.className||x.toastClassName),bodyClassName:V0(Y.bodyClassName||x.bodyClassName),progressClassName:V0(Y.progressClassName||x.progressClassName),autoClose:!Y.isLoading&&(se=Y.autoClose,Re=x.autoClose,se===!1||ny(se)&&se>0?se:Re),deleteToast(){const ge=R.get(q),{onClose:W,children:ee}=ge.props;Ya(W)&&W(V.isValidElement(ee)&&ee.props),g(R$(ge,"removed")),R.delete(q),v--,v<0&&(v=0),_.length>0?F(_.shift()):O()}};var se,Re;de.closeButton=x.closeButton,Y.closeButton===!1||ZA(Y.closeButton)?de.closeButton=Y.closeButton:Y.closeButton===!0&&(de.closeButton=!ZA(x.closeButton)||x.closeButton);let k=Q;V.isValidElement(Q)&&!Ef(Q.type)?k=V.cloneElement(Q,{closeToast:he,toastProps:de,data:le}):Ya(Q)&&(k=Q({closeToast:he,toastProps:de,data:le}));const re={content:k,props:de,staleId:te};x.limit&&x.limit>0&&v>x.limit&&ve?_.push(re):ny(oe)?setTimeout(()=>{F(re)},oe):F(re)},setProps(Q){x=Q},setToggle:(Q,Y)=>{R.get(Q).toggle=Y},isToastActive:Q=>S.some(Y=>Y===Q),getSnapshot:()=>x.newestOnTop?w.reverse():w}}(o,a,hxe);va.set(o,l);const c=l.observe(s);return ry.forEach(d=>$V(d.content,d.options)),ry=[],()=>{c(),va.delete(o)}},setProps(s){var l;(l=va.get(o))==null||l.setProps(s)},getSnapshot(){var s;return(s=va.get(o))==null?void 0:s.getSnapshot()}}}(e)).current;r(e);const i=V.useSyncExternalStore(t,n,n);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return i.forEach(s=>{const{position:l}=s.props;o.has(l)||o.set(l,[]),o.get(l).push(s)}),Array.from(o,s=>a(s[0],s[1]))},isToastActive:jV,count:i==null?void 0:i.length}}function gxe(e){const[t,n]=V.useState(!1),[r,i]=V.useState(!1),a=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=e;var g,y;function v(){n(!0)}function _(){n(!1)}function S(R){const P=a.current;o.canDrag&&P&&(o.didMove=!0,t&&_(),o.delta=e.draggableDirection==="x"?R.clientX-o.start:R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",w);const R=a.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}(y=va.get((g={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||y.setToggle(g.id,g.fn),V.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",_)}},[e.pauseOnFocusLoss]);const x={onPointerDown:function(R){if(e.draggable===!0||e.draggable===R.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",w);const P=a.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(R){const{top:P,bottom:O,left:D,right:F}=a.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=D&&R.clientX<=F&&R.clientY>=P&&R.clientY<=O?_():v()}};return s&&l&&(x.onMouseEnter=_,e.stacked||(x.onMouseLeave=v)),h&&(x.onClick=R=>{d&&d(R),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:x}}function mxe(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:s,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:g}=e;const y=a||l&&c===0,v={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const _=Ql("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=Ya(o)?o({rtl:d,type:i,defaultClassName:_}):Ql(_,o),w={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return Ot.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Ot.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),Ot.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:v,...w}))}let yxe=1;const BV=()=>""+yxe++;function vxe(e){return e&&(Ef(e.toastId)||ny(e.toastId))?e.toastId:BV()}function jm(e,t){return $V(e,t),t.toastId}function Aw(e,t){return{...t,type:t&&t.type||e,toastId:vxe(t)}}function C_(e){return(t,n)=>jm(t,Aw(e,n))}function Er(e,t){return jm(e,Aw("default",t))}Er.loading=(e,t)=>jm(e,Aw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Er.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=Ef(i)?Er.loading(i,n):Er.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,g)=>{if(h==null)return void Er.dismiss(r);const y={type:d,...s,...n,data:g},v=Ef(h)?{render:h}:h;return r?Er.update(r,{...y,...v}):Er(v.render,{...y,...v}),g},c=Ya(e)?e():e;return c.then(d=>l("success",o,d)).catch(d=>l("error",a,d)),c},Er.success=C_("success"),Er.info=C_("info"),Er.error=C_("error"),Er.warning=C_("warning"),Er.warn=Er.warning,Er.dark=(e,t)=>jm(e,Aw("default",{theme:"dark",...t})),Er.dismiss=function(e){(function(t){var n;if(FV()){if(t==null||Ef(n=t)||ny(n))va.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=va.get(t.containerId);r?r.removeToast(t.id):va.forEach(i=>{i.removeToast(t.id)})}}else ry=ry.filter(r=>t!=null&&r.options.toastId!==t)})(e)},Er.clearWaitingQueue=function(e){e===void 0&&(e={}),va.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},Er.isActive=jV,Er.update=function(e,t){t===void 0&&(t={});const n=((r,i)=>{var a;let{containerId:o}=i;return(a=va.get(o||1))==null?void 0:a.toasts.get(r)})(e,t);if(n){const{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:BV()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,jm(o,a)}},Er.done=e=>{Er.update(e,{progress:1})},Er.onChange=function(e){return JA.add(e),()=>{JA.delete(e)}},Er.play=e=>A$(!0,e),Er.pause=e=>A$(!1,e);const _xe=typeof window<"u"?V.useLayoutEffect:V.useEffect,T_=e=>{let{theme:t,type:n,isLoading:r,...i}=e;return Ot.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},$T={info:function(e){return Ot.createElement(T_,{...e},Ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ot.createElement(T_,{...e},Ot.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ot.createElement(T_,{...e},Ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ot.createElement(T_,{...e},Ot.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ot.createElement("div",{className:"Toastify__spinner"})}},wxe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=gxe(e),{closeButton:o,children:s,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:g,transition:y,position:v,className:_,style:S,bodyClassName:w,bodyStyle:x,progressClassName:R,progressStyle:P,updateId:O,role:D,progress:F,rtl:Q,toastId:Y,deleteToast:q,isIn:X,isLoading:le,closeOnClick:te,theme:oe}=e,he=Ql("Toastify__toast",`Toastify__toast-theme--${oe}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),ve=Ya(_)?_({rtl:Q,position:v,type:d,defaultClassName:he}):Ql(he,_),de=function(re){let{theme:ge,type:W,isLoading:ee,icon:pe}=re,Te=null;const Je={theme:ge,type:W};return pe===!1||(Ya(pe)?Te=pe({...Je,isLoading:ee}):V.isValidElement(pe)?Te=V.cloneElement(pe,Je):ee?Te=$T.spinner():(Ae=>Ae in $T)(W)&&(Te=$T[W](Je))),Te}(e),se=!!F||!l,Re={closeToast:g,type:d,theme:oe};let k=null;return o===!1||(k=Ya(o)?o(Re):V.isValidElement(o)?V.cloneElement(o,Re):function(re){let{closeToast:ge,theme:W,ariaLabel:ee="close"}=re;return Ot.createElement("button",{className:`Toastify__close-button Toastify__close-button--${W}`,type:"button",onClick:pe=>{pe.stopPropagation(),ge(pe)},"aria-label":ee},Ot.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ot.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Re)),Ot.createElement(y,{isIn:X,done:q,position:v,preventExitTransition:n,nodeRef:r,playToast:a},Ot.createElement("div",{id:Y,onClick:c,"data-in":X,className:ve,...i,style:S,ref:r},Ot.createElement("div",{...X&&{role:D},className:Ya(w)?w({type:d}):Ql("Toastify__toast-body",w),style:x},de!=null&&Ot.createElement("div",{className:Ql("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!le})},de),Ot.createElement("div",null,s)),k,Ot.createElement(mxe,{...O&&!se?{key:`pb-${O}`}:{},rtl:Q,theme:oe,delay:l,isRunning:t,isIn:X,closeToast:g,hide:h,type:d,style:P,className:R,controlledProgress:se,progress:F||0})))},Nb=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},bxe=kb(Nb("bounce",!0)),Sxe=kb(Nb("slide",!0));kb(Nb("zoom"));kb(Nb("flip"));const xxe={position:"top-right",transition:bxe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Exe(e){let t={...xxe,...e};const n=e.stacked,[r,i]=V.useState(!0),a=V.useRef(null),{getToastToRender:o,isToastActive:s,count:l}=pxe(t),{className:c,style:d,rtl:h,containerId:g}=t;function y(_){const S=Ql("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":h});return Ya(c)?c({position:_,rtl:h,defaultClassName:S}):Ql(S,V0(c))}function v(){n&&(i(!0),Er.play())}return _xe(()=>{if(n){var _;const S=a.current.querySelectorAll('[data-in="true"]'),w=12,x=(_=t.position)==null?void 0:_.includes("top");let R=0,P=0;Array.from(S).reverse().forEach((O,D)=>{const F=O;F.classList.add("Toastify__toast--stacked"),D>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=x?"top":"bot");const Q=R*(r?.2:1)+(r?0:w*D);F.style.setProperty("--y",`${x?Q:-1*Q}px`),F.style.setProperty("--g",`${w}`),F.style.setProperty("--s",""+(1-(r?P:0))),R+=F.offsetHeight,P+=.025})}},[r,l,n]),Ot.createElement("div",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),Er.pause())},onMouseLeave:v},o((_,S)=>{const w=S.length?{...d}:{...d,pointerEvents:"none"};return Ot.createElement("div",{className:y(_),style:w,key:`container-${_}`},S.map(x=>{let{content:R,props:P}=x;return Ot.createElement(wxe,{...P,stacked:n,collapseAll:v,isIn:s(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},R)}))}))}const Cxe=()=>{Cme(),nxe();const e=oc(),t=vi();return rxe(),V.useEffect(()=>{(async()=>{const n=await $ne({restorePreviousSession:!0});n&&e(HP.signin(n))})()},[e]),U.jsxs(lxe,{children:[U.jsx(exe,{}),U.jsx(Exe,{transition:Sxe}),U.jsx(cxe,{children:U.jsx(iwe,{})}),U.jsx(fxe,{children:t.isLoggedIn===void 0?U.jsx(wt,{id:"Z3FXyt"}):U.jsx(Ww,{})})]})};function Txe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Rxe=/[ \t\n\f\r]/g;function Axe(e){return typeof e=="object"?e.type==="text"?P$(e.value):!1:P$(e)}function P$(e){return e.replace(Rxe,"")===""}class Fy{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Fy.prototype.property={};Fy.prototype.normal={};Fy.prototype.space=null;function UV(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Fy(n,r,t)}function XA(e){return e.toLowerCase()}class Do{constructor(t,n){this.property=t,this.attribute=n}}Do.prototype.space=null;Do.prototype.boolean=!1;Do.prototype.booleanish=!1;Do.prototype.overloadedBoolean=!1;Do.prototype.number=!1;Do.prototype.commaSeparated=!1;Do.prototype.spaceSeparated=!1;Do.prototype.commaOrSpaceSeparated=!1;Do.prototype.mustUseProperty=!1;Do.prototype.defined=!1;let Pxe=0;const wn=Qf(),li=Qf(),qV=Qf(),It=Qf(),Cr=Qf(),ih=Qf(),Ka=Qf();function Qf(){return 2**++Pxe}const YA=Object.freeze(Object.defineProperty({__proto__:null,boolean:wn,booleanish:li,commaOrSpaceSeparated:Ka,commaSeparated:ih,number:It,overloadedBoolean:qV,spaceSeparated:Cr},Symbol.toStringTag,{value:"Module"})),BT=Object.keys(YA);class hL extends Do{constructor(t,n,r,i){let a=-1;if(super(t,n),O$(this,"space",i),typeof r=="number")for(;++a<BT.length;){const o=BT[a];O$(this,BT[a],(r&YA[o])===YA[o])}}}hL.prototype.defined=!0;function O$(e,t,n){n&&(e[t]=n)}const Oxe={}.hasOwnProperty;function sp(e){const t={},n={};let r;for(r in e.properties)if(Oxe.call(e.properties,r)){const i=e.properties[r],a=new hL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[XA(r)]=r,n[XA(a.attribute)]=r}return new Fy(t,n,e.space)}const zV=sp({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),HV=sp({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function VV(e,t){return t in e?e[t]:t}function KV(e,t){return VV(e,t.toLowerCase())}const GV=sp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:KV,properties:{xmlns:null,xmlnsXLink:null}}),WV=sp({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:li,ariaAutoComplete:null,ariaBusy:li,ariaChecked:li,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:Cr,ariaCurrent:null,ariaDescribedBy:Cr,ariaDetails:null,ariaDisabled:li,ariaDropEffect:Cr,ariaErrorMessage:null,ariaExpanded:li,ariaFlowTo:Cr,ariaGrabbed:li,ariaHasPopup:null,ariaHidden:li,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Cr,ariaLevel:It,ariaLive:null,ariaModal:li,ariaMultiLine:li,ariaMultiSelectable:li,ariaOrientation:null,ariaOwns:Cr,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:li,ariaReadOnly:li,ariaRelevant:null,ariaRequired:li,ariaRoleDescription:Cr,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:li,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null}}),Lxe=sp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:KV,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ih,acceptCharset:Cr,accessKey:Cr,action:null,allow:null,allowFullScreen:wn,allowPaymentRequest:wn,allowUserMedia:wn,alt:null,as:null,async:wn,autoCapitalize:null,autoComplete:Cr,autoFocus:wn,autoPlay:wn,blocking:Cr,capture:wn,charSet:null,checked:wn,cite:null,className:Cr,cols:It,colSpan:null,content:null,contentEditable:li,controls:wn,controlsList:Cr,coords:It|ih,crossOrigin:null,data:null,dateTime:null,decoding:null,default:wn,defer:wn,dir:null,dirName:null,disabled:wn,download:qV,draggable:li,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:wn,formTarget:null,headers:Cr,height:It,hidden:wn,high:It,href:null,hrefLang:null,htmlFor:Cr,httpEquiv:Cr,id:null,imageSizes:null,imageSrcSet:null,inert:wn,inputMode:null,integrity:null,is:null,isMap:wn,itemId:null,itemProp:Cr,itemRef:Cr,itemScope:wn,itemType:Cr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:wn,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:wn,muted:wn,name:null,nonce:null,noModule:wn,noValidate:wn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:wn,optimum:It,pattern:null,ping:Cr,placeholder:null,playsInline:wn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:wn,referrerPolicy:null,rel:Cr,required:wn,reversed:wn,rows:It,rowSpan:It,sandbox:Cr,scope:null,scoped:wn,seamless:wn,selected:wn,shadowRootDelegatesFocus:wn,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:li,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:wn,useMap:null,value:li,width:It,wrap:null,align:null,aLink:null,archive:Cr,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:wn,declare:wn,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:wn,noHref:wn,noShade:wn,noWrap:wn,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:li,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:wn,disableRemotePlayback:wn,prefix:null,property:null,results:It,security:null,unselectable:null}}),Ixe=sp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:VV,properties:{about:Ka,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:Cr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:wn,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ih,g2:ih,glyphName:ih,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:Ka,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Cr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ka,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ka,rev:Ka,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ka,requiredFeatures:Ka,requiredFonts:Ka,requiredFormats:Ka,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:Ka,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ka,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ka,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Mxe=/^data[-\w.:]+$/i,L$=/-[a-z]/g,Dxe=/[A-Z]/g;function kxe(e,t){const n=XA(t);let r=t,i=Do;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Mxe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(L$,Fxe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!L$.test(a)){let o=a.replace(Dxe,Nxe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=hL}return new i(r,t)}function Nxe(e){return"-"+e.toLowerCase()}function Fxe(e){return e.charAt(1).toUpperCase()}const jxe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$xe=UV([HV,zV,GV,WV,Lxe],"html"),QV=UV([HV,zV,GV,WV,Ixe],"svg");function Bxe(e){return e.join(" ").trim()}var R_={exports:{}},UT,I$;function Uxe(){if(I$)return UT;I$=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",h="",g="comment",y="declaration";UT=function(_,S){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];S=S||{};var w=1,x=1;function R(te){var oe=te.match(t);oe&&(w+=oe.length);var he=te.lastIndexOf(l);x=~he?te.length-he:x+te.length}function P(){var te={line:w,column:x};return function(oe){return oe.position=new O(te),Q(),oe}}function O(te){this.start=te,this.end={line:w,column:x},this.source=S.source}O.prototype.content=_;function D(te){var oe=new Error(S.source+":"+w+":"+x+": "+te);if(oe.reason=te,oe.filename=S.source,oe.line=w,oe.column=x,oe.source=_,!S.silent)throw oe}function F(te){var oe=te.exec(_);if(oe){var he=oe[0];return R(he),_=_.slice(he.length),oe}}function Q(){F(n)}function Y(te){var oe;for(te=te||[];oe=q();)oe!==!1&&te.push(oe);return te}function q(){var te=P();if(!(c!=_.charAt(0)||d!=_.charAt(1))){for(var oe=2;h!=_.charAt(oe)&&(d!=_.charAt(oe)||c!=_.charAt(oe+1));)++oe;if(oe+=2,h===_.charAt(oe-1))return D("End of comment missing");var he=_.slice(2,oe-2);return x+=2,R(he),_=_.slice(oe),x+=2,te({type:g,comment:he})}}function X(){var te=P(),oe=F(r);if(oe){if(q(),!F(i))return D("property missing ':'");var he=F(a),ve=te({type:y,property:v(oe[0].replace(e,h)),value:he?v(he[0].replace(e,h)):h});return F(o),ve}}function le(){var te=[];Y(te);for(var oe;oe=X();)oe!==!1&&(te.push(oe),Y(te));return te}return Q(),le()};function v(_){return _?_.replace(s,h):h}return UT}var M$;function qxe(){if(M$)return R_.exports;M$=1;var e=Uxe();function t(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,o=e(n),s=typeof r=="function",l,c,d=0,h=o.length;d<h;d++)a=o[d],l=a.property,c=a.value,s?r(l,c,a):c&&(i||(i={}),i[l]=c);return i}return R_.exports=t,R_.exports.default=t,R_.exports}var zxe=qxe();const Hxe=Mr(zxe),ZV=JV("end"),pL=JV("start");function JV(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Vxe(e){const t=pL(e),n=ZV(e);if(t&&n)return{start:t,end:n}}function $m(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?D$(e.position):"start"in e||"end"in e?D$(e):"line"in e||"column"in e?eP(e):""}function eP(e){return k$(e&&e.line)+":"+k$(e&&e.column)}function D$(e){return eP(e&&e.start)+"-"+eP(e&&e.end)}function k$(e){return e&&typeof e=="number"?e:1}class ba extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=$m(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ba.prototype.file="";ba.prototype.name="";ba.prototype.reason="";ba.prototype.message="";ba.prototype.stack="";ba.prototype.column=void 0;ba.prototype.line=void 0;ba.prototype.ancestors=void 0;ba.prototype.cause=void 0;ba.prototype.fatal=void 0;ba.prototype.place=void 0;ba.prototype.ruleId=void 0;ba.prototype.source=void 0;const gL={}.hasOwnProperty,Kxe=new Map,Gxe=/[A-Z]/g,Wxe=/-([a-z])/g,Qxe=new Set(["table","tbody","thead","tfoot","tr"]),Zxe=new Set(["td","th"]);function Jxe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Yxe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Xxe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?QV:$xe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=XV(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function XV(e,t,n){if(t.type==="element"||t.type==="root"){const r=e.schema;let i=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=QV,e.schema=i),e.ancestors.push(t);let a=eEe(e,t);const o=tEe(e,e.ancestors);let s=e.Fragment;if(e.ancestors.pop(),t.type==="element")if(a&&Qxe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Axe(l):!0})),gL.call(e.components,t.tagName)){const l=t.tagName;s=e.components[l],typeof s!="string"&&s!==e.Fragment&&e.passNode&&(o.node=t)}else s=t.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(o.children=l)}return e.schema=r,e.create(t,s,o,n)}if(t.type==="text")return t.value}function Xxe(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function Yxe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=pL(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function eEe(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Kxe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;o=a.tagName+"-"+l,i.set(a.tagName,l+1)}const s=XV(e,a,o);s!==void 0&&n.push(s)}return n}function tEe(e,t){const n=t[t.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&gL.call(n.properties,i)){const o=nEe(e,t,i,n.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Zxe.has(n.tagName)?a=l:r[s]=l}}if(a){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function nEe(e,t,n,r){const i=kxe(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Txe(r):Bxe(r)),i.property==="style"){let a=typeof r=="object"?r:rEe(e,t,String(r));return e.stylePropertyNameCase==="css"&&(a=iEe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?jxe[i.property]||i.property:i.attribute,r]}}function rEe(e,t,n){const r={};try{Hxe(n,i)}catch(a){if(!e.ignoreInvalidStyle){const o=a,s=new ba("Cannot parse `style` attribute",{ancestors:t,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=e.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Wxe,oEe)),r[s]=o}}function iEe(e){const t={};let n;for(n in e)gL.call(e,n)&&(t[aEe(n)]=e[n]);return t}function aEe(e){let t=e.replace(Gxe,sEe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function oEe(e,t){return t.toUpperCase()}function sEe(e){return"-"+e.toLowerCase()}const qT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uEe={};function lEe(e,t){const n=uEe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return YV(e,r,i)}function YV(e,t,n){if(cEe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return N$(e.children,t,n)}return Array.isArray(e)?N$(e,t,n):""}function N$(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=YV(e[i],t,n);return r.join("")}function cEe(e){return!!(e&&typeof e=="object")}const F$=document.createElement("i");function mL(e){const t="&"+e+";";F$.innerHTML=t;const n=F$.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Fs(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Ro(e,t){return e.length>0?(Fs(e,e.length,0,t),e):t}const j$={}.hasOwnProperty;function fEe(e){const t={};let n=-1;for(;++n<e.length;)dEe(t,e[n]);return t}function dEe(e,t){let n;for(n in t){const i=(j$.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){j$.call(i,o)||(i[o]=[]);const s=a[o];hEe(i[o],Array.isArray(s)?s:s?[s]:[])}}}function hEe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Fs(e,0,0,r)}function eK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ah(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pEe=fc(new RegExp("\\p{P}","u")),As=fc(/[A-Za-z]/),eo=fc(/[\dA-Za-z]/),gEe=fc(/[#-'*+\--9=?A-Z^-~]/);function tP(e){return e!==null&&(e<32||e===127)}const nP=fc(/\d/),mEe=fc(/[\dA-Fa-f]/),tK=fc(/[!-/:-@[-`{-~]/);function dn(e){return e!==null&&e<-2}function Ia(e){return e!==null&&(e<0||e===32)}function Jn(e){return e===-2||e===-1||e===32}function yEe(e){return tK(e)||pEe(e)}const vEe=fc(/\s/);function fc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function up(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&eo(e.charCodeAt(n+1))&&eo(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Rr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Jn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Jn(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const _Ee={tokenize:wEe};function wEe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Rr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return dn(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const bEe={tokenize:SEe},$$={tokenize:xEe};function SEe(e){const t=this,n=[];let r=0,i,a,o;return s;function s(R){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,c)(R)}return c(R)}function l(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const P=t.events.length;let O=P,D;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){D=t.events[O][1].end;break}w(r);let F=P;for(;F<t.events.length;)t.events[F][1].end=Object.assign({},D),F++;return Fs(t.events,O+1,0,t.events.slice(P)),t.events.length=F,c(R)}return s(R)}function c(R){if(r===n.length){if(!i)return g(R);if(i.currentConstruct&&i.currentConstruct.concrete)return v(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($$,d,h)(R)}function d(R){return i&&x(),w(r),g(R)}function h(R){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(R)}function g(R){return t.containerState={},e.attempt($$,y,v)(R)}function y(R){return r++,n.push([t.currentConstruct,t.containerState]),g(R)}function v(R){if(R===null){i&&x(),w(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),_(R)}function _(R){if(R===null){S(e.exit("chunkFlow"),!0),w(0),e.consume(R);return}return dn(R)?(e.consume(R),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(R),_)}function S(R,P){const O=t.sliceStream(R);if(P&&O.push(null),R.previous=a,a&&(a.next=R),a=R,i.defineSkip(R.start),i.write(O),t.parser.lazy[R.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const F=t.events.length;let Q=F,Y,q;for(;Q--;)if(t.events[Q][0]==="exit"&&t.events[Q][1].type==="chunkFlow"){if(Y){q=t.events[Q][1].end;break}Y=!0}for(w(r),D=F;D<t.events.length;)t.events[D][1].end=Object.assign({},q),D++;Fs(t.events,Q+1,0,t.events.slice(F)),t.events.length=D}}function w(R){let P=n.length;for(;P-- >R;){const O=n[P];t.containerState=O[1],O[0].exit.call(t,e)}n.length=R}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function xEe(e,t,n){return Rr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function B$(e){if(e===null||Ia(e)||vEe(e))return 1;if(yEe(e))return 2}function yL(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const rP={name:"attention",tokenize:CEe,resolveAll:EEe};function EEe(e,t){let n=-1,r,i,a,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),g=Object.assign({},e[n][1].start);U$(h,-l),U$(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:g},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ro(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ro(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Ro(c,yL(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ro(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ro(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Fs(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function CEe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=B$(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=B$(l),h=!d||d===2&&i||n.includes(l),g=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?h:h&&(i||!g)),c._close=!!(a===42?g:g&&(d||!h)),t(l)}}function U$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const TEe={name:"autolink",tokenize:REe};function REe(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(y){return As(y)?(e.consume(y),o):c(y)}function o(y){return y===43||y===45||y===46||eo(y)?(r=1,s(y)):c(y)}function s(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||eo(y))&&r++<32?(e.consume(y),s):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||tP(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),d):gEe(y)?(e.consume(y),c):n(y)}function d(y){return eo(y)?h(y):n(y)}function h(y){return y===46?(e.consume(y),r=0,d):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||eo(y))&&r++<63){const v=y===45?g:h;return e.consume(y),v}return n(y)}}const Fb={tokenize:AEe,partial:!0};function AEe(e,t,n){return r;function r(a){return Jn(a)?Rr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||dn(a)?t(a):n(a)}}const nK={name:"blockQuote",tokenize:PEe,continuation:{tokenize:OEe},exit:LEe};function PEe(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Jn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function OEe(e,t,n){const r=this;return i;function i(o){return Jn(o)?Rr(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(nK,t,n)(o)}}function LEe(e){e.exit("blockQuote")}const rK={name:"characterEscape",tokenize:IEe};function IEe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return tK(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const iK={name:"characterReference",tokenize:MEe};function MEe(e,t,n){const r=this;let i=0,a,o;return s;function s(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=eo,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=mEe,d):(e.enter("characterReferenceValue"),a=7,o=nP,d(h))}function d(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return o===eo&&!mL(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),d):n(h)}}const q$={tokenize:kEe,partial:!0},z$={name:"codeFenced",tokenize:DEe,concrete:!0};function DEe(e,t,n){const r=this,i={tokenize:O,partial:!0};let a=0,o=0,s;return l;function l(D){return c(D)}function c(D){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,s=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(D)}function d(D){return D===s?(o++,e.consume(D),d):o<3?n(D):(e.exit("codeFencedFenceSequence"),Jn(D)?Rr(e,h,"whitespace")(D):h(D))}function h(D){return D===null||dn(D)?(e.exit("codeFencedFence"),r.interrupt?t(D):e.check(q$,_,P)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(D))}function g(D){return D===null||dn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(D)):Jn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Rr(e,y,"whitespace")(D)):D===96&&D===s?n(D):(e.consume(D),g)}function y(D){return D===null||dn(D)?h(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||dn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(D)):D===96&&D===s?n(D):(e.consume(D),v)}function _(D){return e.attempt(i,P,S)(D)}function S(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),w}function w(D){return a>0&&Jn(D)?Rr(e,x,"linePrefix",a+1)(D):x(D)}function x(D){return D===null||dn(D)?e.check(q$,_,P)(D):(e.enter("codeFlowValue"),R(D))}function R(D){return D===null||dn(D)?(e.exit("codeFlowValue"),x(D)):(e.consume(D),R)}function P(D){return e.exit("codeFenced"),t(D)}function O(D,F,Q){let Y=0;return q;function q(he){return D.enter("lineEnding"),D.consume(he),D.exit("lineEnding"),X}function X(he){return D.enter("codeFencedFence"),Jn(he)?Rr(D,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):le(he)}function le(he){return he===s?(D.enter("codeFencedFenceSequence"),te(he)):Q(he)}function te(he){return he===s?(Y++,D.consume(he),te):Y>=o?(D.exit("codeFencedFenceSequence"),Jn(he)?Rr(D,oe,"whitespace")(he):oe(he)):Q(he)}function oe(he){return he===null||dn(he)?(D.exit("codeFencedFence"),F(he)):Q(he)}}}function kEe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const zT={name:"codeIndented",tokenize:FEe},NEe={tokenize:jEe,partial:!0};function FEe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Rr(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):dn(c)?e.attempt(NEe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||dn(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function jEe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Rr(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):dn(o)?i(o):n(o)}}const $Ee={name:"codeText",tokenize:qEe,resolve:BEe,previous:UEe};function BEe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function UEe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function qEe(e,t,n){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),s(h)}function s(h){return h===96?(e.consume(h),r++,s):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,d(h)):dn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||dn(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",c(h))}}function aK(e){const t={};let n=-1,r,i,a,o,s,l,c;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zEe(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=e[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),s=e.slice(i,n),s.unshift(r),Fs(e,i,n-i+1,s))}}return!c}function zEe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],c={};let d,h,g=-1,y=n,v=0,_=0;const S=[_];for(;y;){for(;e[++i][1]!==y;);a.push(i),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(_=g+1,S.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),g=S.length;g--;){const w=s.slice(S[g],S[g+1]),x=a.pop();l.unshift([x,x+w.length-1]),Fs(e,x,2,w)}for(g=-1;++g<l.length;)c[v+l[g][0]]=v+l[g][1],v+=l[g][1]-l[g][0]-1;return c}const HEe={tokenize:GEe,resolve:KEe},VEe={tokenize:WEe,partial:!0};function KEe(e){return aK(e),e}function GEe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):dn(s)?e.check(VEe,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function WEe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Rr(e,a,"linePrefix")}function a(o){if(o===null||dn(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function oK(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),g):w===null||w===32||w===41||tP(w)?n(w):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),_(w))}function g(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===62?(e.exit("chunkString"),e.exit(s),g(w)):w===null||w===60||dn(w)?n(w):(e.consume(w),w===92?v:y)}function v(w){return w===60||w===62||w===92?(e.consume(w),y):y(w)}function _(w){return!d&&(w===null||w===41||Ia(w))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(w)):d<c&&w===40?(e.consume(w),d++,_):w===41?(e.consume(w),d--,_):w===null||w===32||w===40||tP(w)?n(w):(e.consume(w),w===92?S:_)}function S(w){return w===40||w===41||w===92?(e.consume(w),_):_(w)}}function sK(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(a),d}function d(y){return s>999||y===null||y===91||y===93&&!l||y===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(a),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):dn(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||dn(y)||s++>999?(e.exit("chunkString"),d(y)):(e.consume(y),l||(l=!Jn(y)),y===92?g:h)}function g(y){return y===91||y===92||y===93?(e.consume(y),s++,h):h(y)}}function uK(e,t,n,r,i,a){let o;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(a),c(g))}function c(g){return g===o?(e.exit(a),l(o)):g===null?n(g):dn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Rr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||dn(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?h:d)}function h(g){return g===o||g===92?(e.consume(g),d):d(g)}}function Bm(e,t){let n;return r;function r(i){return dn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Jn(i)?Rr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const QEe={name:"definition",tokenize:JEe},ZEe={tokenize:XEe,partial:!0};function JEe(e,t,n){const r=this;let i;return a;function a(y){return e.enter("definition"),o(y)}function o(y){return sK.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=ah(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Ia(y)?Bm(e,c)(y):c(y)}function c(y){return oK(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return e.attempt(ZEe,h,h)(y)}function h(y){return Jn(y)?Rr(e,g,"whitespace")(y):g(y)}function g(y){return y===null||dn(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function XEe(e,t,n){return r;function r(s){return Ia(s)?Bm(e,i)(s):n(s)}function i(s){return uK(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Jn(s)?Rr(e,o,"whitespace")(s):o(s)}function o(s){return s===null||dn(s)?t(s):n(s)}}const YEe={name:"hardBreakEscape",tokenize:eCe};function eCe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return dn(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const tCe={name:"headingAtx",tokenize:rCe,resolve:nCe};function nCe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Fs(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function rCe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ia(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||dn(d)?(e.exit("atxHeading"),t(d)):Jn(d)?Rr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Ia(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const iCe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],H$=["pre","script","style","textarea"],aCe={name:"htmlFlow",tokenize:lCe,resolveTo:uCe,concrete:!0},oCe={tokenize:fCe,partial:!0},sCe={tokenize:cCe,partial:!0};function uCe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lCe(e,t,n){const r=this;let i,a,o,s,l;return c;function c(W){return d(W)}function d(W){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(W),h}function h(W){return W===33?(e.consume(W),g):W===47?(e.consume(W),a=!0,_):W===63?(e.consume(W),i=3,r.interrupt?t:k):As(W)?(e.consume(W),o=String.fromCharCode(W),S):n(W)}function g(W){return W===45?(e.consume(W),i=2,y):W===91?(e.consume(W),i=5,s=0,v):As(W)?(e.consume(W),i=4,r.interrupt?t:k):n(W)}function y(W){return W===45?(e.consume(W),r.interrupt?t:k):n(W)}function v(W){const ee="CDATA[";return W===ee.charCodeAt(s++)?(e.consume(W),s===ee.length?r.interrupt?t:le:v):n(W)}function _(W){return As(W)?(e.consume(W),o=String.fromCharCode(W),S):n(W)}function S(W){if(W===null||W===47||W===62||Ia(W)){const ee=W===47,pe=o.toLowerCase();return!ee&&!a&&H$.includes(pe)?(i=1,r.interrupt?t(W):le(W)):iCe.includes(o.toLowerCase())?(i=6,ee?(e.consume(W),w):r.interrupt?t(W):le(W)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(W):a?x(W):R(W))}return W===45||eo(W)?(e.consume(W),o+=String.fromCharCode(W),S):n(W)}function w(W){return W===62?(e.consume(W),r.interrupt?t:le):n(W)}function x(W){return Jn(W)?(e.consume(W),x):q(W)}function R(W){return W===47?(e.consume(W),q):W===58||W===95||As(W)?(e.consume(W),P):Jn(W)?(e.consume(W),R):q(W)}function P(W){return W===45||W===46||W===58||W===95||eo(W)?(e.consume(W),P):O(W)}function O(W){return W===61?(e.consume(W),D):Jn(W)?(e.consume(W),O):R(W)}function D(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(e.consume(W),l=W,F):Jn(W)?(e.consume(W),D):Q(W)}function F(W){return W===l?(e.consume(W),l=null,Y):W===null||dn(W)?n(W):(e.consume(W),F)}function Q(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||Ia(W)?O(W):(e.consume(W),Q)}function Y(W){return W===47||W===62||Jn(W)?R(W):n(W)}function q(W){return W===62?(e.consume(W),X):n(W)}function X(W){return W===null||dn(W)?le(W):Jn(W)?(e.consume(W),X):n(W)}function le(W){return W===45&&i===2?(e.consume(W),ve):W===60&&i===1?(e.consume(W),de):W===62&&i===4?(e.consume(W),re):W===63&&i===3?(e.consume(W),k):W===93&&i===5?(e.consume(W),Re):dn(W)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(oCe,ge,te)(W)):W===null||dn(W)?(e.exit("htmlFlowData"),te(W)):(e.consume(W),le)}function te(W){return e.check(sCe,oe,ge)(W)}function oe(W){return e.enter("lineEnding"),e.consume(W),e.exit("lineEnding"),he}function he(W){return W===null||dn(W)?te(W):(e.enter("htmlFlowData"),le(W))}function ve(W){return W===45?(e.consume(W),k):le(W)}function de(W){return W===47?(e.consume(W),o="",se):le(W)}function se(W){if(W===62){const ee=o.toLowerCase();return H$.includes(ee)?(e.consume(W),re):le(W)}return As(W)&&o.length<8?(e.consume(W),o+=String.fromCharCode(W),se):le(W)}function Re(W){return W===93?(e.consume(W),k):le(W)}function k(W){return W===62?(e.consume(W),re):W===45&&i===2?(e.consume(W),k):le(W)}function re(W){return W===null||dn(W)?(e.exit("htmlFlowData"),ge(W)):(e.consume(W),re)}function ge(W){return e.exit("htmlFlow"),t(W)}}function cCe(e,t,n){const r=this;return i;function i(o){return dn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function fCe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fb,t,n)}}const dCe={name:"htmlText",tokenize:hCe};function hCe(e,t,n){const r=this;let i,a,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),O):k===63?(e.consume(k),R):As(k)?(e.consume(k),Q):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),a=0,v):As(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),y):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),g):dn(k)?(o=h,de(k)):(e.consume(k),h)}function g(k){return k===45?(e.consume(k),y):h(k)}function y(k){return k===62?ve(k):k===45?g(k):h(k)}function v(k){const re="CDATA[";return k===re.charCodeAt(a++)?(e.consume(k),a===re.length?_:v):n(k)}function _(k){return k===null?n(k):k===93?(e.consume(k),S):dn(k)?(o=_,de(k)):(e.consume(k),_)}function S(k){return k===93?(e.consume(k),w):_(k)}function w(k){return k===62?ve(k):k===93?(e.consume(k),w):_(k)}function x(k){return k===null||k===62?ve(k):dn(k)?(o=x,de(k)):(e.consume(k),x)}function R(k){return k===null?n(k):k===63?(e.consume(k),P):dn(k)?(o=R,de(k)):(e.consume(k),R)}function P(k){return k===62?ve(k):R(k)}function O(k){return As(k)?(e.consume(k),D):n(k)}function D(k){return k===45||eo(k)?(e.consume(k),D):F(k)}function F(k){return dn(k)?(o=F,de(k)):Jn(k)?(e.consume(k),F):ve(k)}function Q(k){return k===45||eo(k)?(e.consume(k),Q):k===47||k===62||Ia(k)?Y(k):n(k)}function Y(k){return k===47?(e.consume(k),ve):k===58||k===95||As(k)?(e.consume(k),q):dn(k)?(o=Y,de(k)):Jn(k)?(e.consume(k),Y):ve(k)}function q(k){return k===45||k===46||k===58||k===95||eo(k)?(e.consume(k),q):X(k)}function X(k){return k===61?(e.consume(k),le):dn(k)?(o=X,de(k)):Jn(k)?(e.consume(k),X):Y(k)}function le(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,te):dn(k)?(o=le,de(k)):Jn(k)?(e.consume(k),le):(e.consume(k),oe)}function te(k){return k===i?(e.consume(k),i=void 0,he):k===null?n(k):dn(k)?(o=te,de(k)):(e.consume(k),te)}function oe(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ia(k)?Y(k):(e.consume(k),oe)}function he(k){return k===47||k===62||Ia(k)?Y(k):n(k)}function ve(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function de(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),se}function se(k){return Jn(k)?Rr(e,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Re(k)}function Re(k){return e.enter("htmlTextData"),o(k)}}const vL={name:"labelEnd",tokenize:_Ce,resolveTo:vCe,resolveAll:yCe},pCe={tokenize:wCe},gCe={tokenize:bCe},mCe={tokenize:SCe};function yCe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function vCe(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",c,t]],s=Ro(s,e.slice(a+1,a+r+3)),s=Ro(s,[["enter",d,t]]),s=Ro(s,yL(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Ro(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Ro(s,e.slice(o+1)),s=Ro(s,[["exit",l,t]]),Fs(e,a,e.length,s),e}function _Ce(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(g){return a?a._inactive?h(g):(o=r.parser.defined.includes(ah(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(pCe,d,o?d:h)(g):g===91?e.attempt(gCe,d,o?c:h)(g):o?d(g):h(g)}function c(g){return e.attempt(mCe,d,h)(g)}function d(g){return t(g)}function h(g){return a._balanced=!0,n(g)}}function wCe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ia(h)?Bm(e,a)(h):a(h)}function a(h){return h===41?d(h):oK(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ia(h)?Bm(e,l)(h):d(h)}function s(h){return n(h)}function l(h){return h===34||h===39||h===40?uK(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Ia(h)?Bm(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function bCe(e,t,n){const r=this;return i;function i(s){return sK.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(ah(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function SCe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const xCe={name:"labelStartImage",tokenize:ECe,resolveAll:vL.resolveAll};function ECe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const CCe={name:"labelStartLink",tokenize:TCe,resolveAll:vL.resolveAll};function TCe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const HT={name:"lineEnding",tokenize:RCe};function RCe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Rr(e,t,"linePrefix")}}const K0={name:"thematicBreak",tokenize:ACe};function ACe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||dn(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Jn(c)?Rr(e,s,"whitespace")(c):s(c))}}const Ra={name:"list",tokenize:LCe,continuation:{tokenize:ICe},exit:DCe},PCe={tokenize:kCe,partial:!0},OCe={tokenize:MCe,partial:!0};function LCe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:nP(y)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(K0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return nP(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Fb,r.interrupt?n:d,e.attempt(PCe,g,h))}function d(y){return r.containerState.initialBlankLine=!0,a++,g(y)}function h(y){return Jn(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function ICe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fb,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Rr(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Jn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(OCe,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Rr(e,e.attempt(Ra,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function MCe(e,t,n){const r=this;return Rr(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function DCe(e){e.exit(this.containerState.type)}function kCe(e,t,n){const r=this;return Rr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Jn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const V$={name:"setextUnderline",tokenize:FCe,resolveTo:NCe};function NCe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function FCe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Jn(c)?Rr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||dn(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const jCe={tokenize:$Ce};function $Ce(e){const t=this,n=e.attempt(Fb,r,e.attempt(this.parser.constructs.flowInitial,i,Rr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(HEe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const BCe={resolveAll:cK()},UCe=lK("string"),qCe=lK("text");function lK(e){return{tokenize:t,resolveAll:cK(e==="text"?zCe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let g=-1;if(h)for(;++g<h.length;){const y=h[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function cK(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function zCe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function HCe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const l={consume:x,enter:R,exit:P,attempt:F(O),check:F(D),interrupt:F(D,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:y,sliceSerialize:g,now:v,defineSkip:_,write:h};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function h(X){return o=Ro(o,X),S(),o[o.length-1]!==null?[]:(Q(t,0),c.events=yL(a,c.events,c),c.events)}function g(X,le){return KCe(y(X),le)}function y(X){return VCe(o,X)}function v(){const{line:X,column:le,offset:te,_index:oe,_bufferIndex:he}=r;return{line:X,column:le,offset:te,_index:oe,_bufferIndex:he}}function _(X){i[X.line]=X.column,q()}function S(){let X;for(;r._index<o.length;){const le=o[r._index];if(typeof le=="string")for(X=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===X&&r._bufferIndex<le.length;)w(le.charCodeAt(r._bufferIndex));else w(le)}}function w(X){d=d(X)}function x(X){dn(X)?(r.line++,r.column=1,r.offset+=X===-3?2:1,q()):X!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=X}function R(X,le){const te=le||{};return te.type=X,te.start=v(),c.events.push(["enter",te,c]),s.push(te),te}function P(X){const le=s.pop();return le.end=v(),c.events.push(["exit",le,c]),le}function O(X,le){Q(X,le.from)}function D(X,le){le.restore()}function F(X,le){return te;function te(oe,he,ve){let de,se,Re,k;return Array.isArray(oe)?ge(oe):"tokenize"in oe?ge([oe]):re(oe);function re(Te){return Je;function Je(Ae){const $e=Ae!==null&&Te[Ae],Xe=Ae!==null&&Te.null,ae=[...Array.isArray($e)?$e:$e?[$e]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return ge(ae)(Ae)}}function ge(Te){return de=Te,se=0,Te.length===0?ve:W(Te[se])}function W(Te){return Je;function Je(Ae){return k=Y(),Re=Te,Te.partial||(c.currentConstruct=Te),Te.name&&c.parser.constructs.disable.null.includes(Te.name)?pe():Te.tokenize.call(le?Object.assign(Object.create(c),le):c,l,ee,pe)(Ae)}}function ee(Te){return X(Re,k),he}function pe(Te){return k.restore(),++se<de.length?W(de[se]):ve}}}function Q(X,le){X.resolveAll&&!a.includes(X)&&a.push(X),X.resolve&&Fs(c.events,le,c.events.length-le,X.resolve(c.events.slice(le),c)),X.resolveTo&&(c.events=X.resolveTo(c.events,c))}function Y(){const X=v(),le=c.previous,te=c.currentConstruct,oe=c.events.length,he=Array.from(s);return{restore:ve,from:oe};function ve(){r=X,c.previous=le,c.currentConstruct=te,c.events.length=oe,s=he,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function VCe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function KCe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const GCe={42:Ra,43:Ra,45:Ra,48:Ra,49:Ra,50:Ra,51:Ra,52:Ra,53:Ra,54:Ra,55:Ra,56:Ra,57:Ra,62:nK},WCe={91:QEe},QCe={[-2]:zT,[-1]:zT,32:zT},ZCe={35:tCe,42:K0,45:[V$,K0],60:aCe,61:V$,95:K0,96:z$,126:z$},JCe={38:iK,92:rK},XCe={[-5]:HT,[-4]:HT,[-3]:HT,33:xCe,38:iK,42:rP,60:[TEe,dCe],91:CCe,92:[YEe,rK],93:vL,95:rP,96:$Ee},YCe={null:[rP,BCe]},e2e={null:[42,95]},t2e={null:[]},n2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:e2e,contentInitial:WCe,disable:t2e,document:GCe,flow:ZCe,flowInitial:QCe,insideSpan:YCe,string:JCe,text:XCe},Symbol.toStringTag,{value:"Module"}));function r2e(e){const n=fEe([n2e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(_Ee),document:i(bEe),flow:i(jCe),string:i(UCe),text:i(qCe)};return r;function i(a){return o;function o(s){return HCe(r,a,s)}}}function i2e(e){for(;!aK(e););return e}const K$=/[\0\t\n\r]/g;function a2e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,d,h,g,y;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(K$.lastIndex=h,c=K$.exec(a),g=c&&c.index!==void 0?c.index:a.length,y=a.charCodeAt(g),!c){t=a.slice(h);break}if(y===10&&h===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<g&&(l.push(a.slice(h,g)),e+=g-h),y){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const o2e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function s2e(e){return e.replace(o2e,u2e)}function u2e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return eK(n.slice(a?2:1),a?16:10)}return mL(n)||e}const fK={}.hasOwnProperty;function l2e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),c2e(n)(i2e(r2e(n).document().write(a2e()(e,t,!0))))}function c2e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(tt),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:a(ie),blockQuote:a($e),characterEscape:Y,characterReference:Y,codeFenced:a(Xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Xe,o),codeText:a(ae,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:a(H),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(B),hardBreakEscape:a(fe),hardBreakTrailing:a(fe),htmlFlow:a(Pe,o),htmlFlowData:Y,htmlText:a(Pe,o),htmlTextData:Y,image:a(Ie),label:o,link:a(tt),listItem:a(ot),listItemValue:g,listOrdered:a(De,h),listUnordered:a(De),paragraph:a(gt),reference:W,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ie),strong:a(_e),thematicBreak:a(at)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Ae,autolinkProtocol:Je,blockQuote:l(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:Te,codeFenced:l(S),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:q,codeIndented:l(w),codeText:l(he),codeTextData:q,data:q,definition:l(),definitionDestinationString:P,definitionLabelString:x,definitionTitleString:R,emphasis:l(),hardBreakEscape:l(le),hardBreakTrailing:l(le),htmlFlow:l(te),htmlFlowData:q,htmlText:l(oe),htmlTextData:q,image:l(de),label:Re,labelText:se,lineEnding:X,link:l(ve),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:k,resourceTitleString:re,resource:ge,setextHeading:l(Q),setextHeadingLineSequence:F,setextHeadingText:D,strong:l(),thematicBreak:l()}};dK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(me){let Ee={type:"root",children:[]};const J={stack:[Ee],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},$=[];let K=-1;for(;++K<me.length;)if(me[K][1].type==="listOrdered"||me[K][1].type==="listUnordered")if(me[K][0]==="enter")$.push(K);else{const G=$.pop();K=i(me,G,K)}for(K=-1;++K<me.length;){const G=t[me[K][0]];fK.call(G,me[K][1].type)&&G[me[K][1].type].call(Object.assign({sliceSerialize:me[K][2].sliceSerialize},J),me[K][1])}if(J.tokenStack.length>0){const G=J.tokenStack[J.tokenStack.length-1];(G[1]||G$).call(J,void 0,G[0])}for(Ee.position={start:Cl(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:Cl(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<t.transforms.length;)Ee=t.transforms[K](Ee)||Ee;return Ee}function i(me,Ee,J){let $=Ee-1,K=-1,G=!1,ke,Ze,Fe,At;for(;++$<=J;){const Mt=me[$];switch(Mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mt[0]==="enter"?K++:K--,At=void 0;break}case"lineEndingBlank":{Mt[0]==="enter"&&(ke&&!At&&!K&&!Fe&&(Fe=$),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!K&&Mt[0]==="enter"&&Mt[1].type==="listItemPrefix"||K===-1&&Mt[0]==="exit"&&(Mt[1].type==="listUnordered"||Mt[1].type==="listOrdered")){if(ke){let Nt=$;for(Ze=void 0;Nt--;){const Lt=me[Nt];if(Lt[1].type==="lineEnding"||Lt[1].type==="lineEndingBlank"){if(Lt[0]==="exit")continue;Ze&&(me[Ze][1].type="lineEndingBlank",G=!0),Lt[1].type="lineEnding",Ze=Nt}else if(!(Lt[1].type==="linePrefix"||Lt[1].type==="blockQuotePrefix"||Lt[1].type==="blockQuotePrefixWhitespace"||Lt[1].type==="blockQuoteMarker"||Lt[1].type==="listItemIndent"))break}Fe&&(!Ze||Fe<Ze)&&(ke._spread=!0),ke.end=Object.assign({},Ze?me[Ze][1].start:Mt[1].end),me.splice(Ze||$,0,["exit",ke,Mt[2]]),$++,J++}if(Mt[1].type==="listItemPrefix"){const Nt={type:"listItem",_spread:!1,start:Object.assign({},Mt[1].start),end:void 0};ke=Nt,me.splice($,0,["enter",Nt,Mt[2]]),$++,J++,Fe=void 0,At=!0}}}return me[Ee][1]._spread=G,J}function a(me,Ee){return J;function J($){s.call(this,me($),$),Ee&&Ee.call(this,$)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(me,Ee,J){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Ee,J]),me.position={start:Cl(Ee.start),end:void 0}}function l(me){return Ee;function Ee(J){me&&me.call(this,J),c.call(this,J)}}function c(me,Ee){const J=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==me.type&&(Ee?Ee.call(this,me,$[0]):($[1]||G$).call(this,me,$[0]));else throw new Error("Cannot close `"+me.type+"` ("+$m({start:me.start,end:me.end})+"): it’s not open");J.position.end=Cl(me.end)}function d(){return lEe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(me){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function y(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=me}function v(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=me}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me.replace(/(\r?\n|\r)$/g,"")}function x(me){const Ee=this.resume(),J=this.stack[this.stack.length-1];J.label=Ee,J.identifier=ah(this.sliceSerialize(me)).toLowerCase()}function R(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=me}function P(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=me}function O(me){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const J=this.sliceSerialize(me).length;Ee.depth=J}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(me){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(me){const J=this.stack[this.stack.length-1].children;let $=J[J.length-1];(!$||$.type!=="text")&&($=Be(),$.position={start:Cl(me.start),end:void 0},J.push($)),this.stack.push($)}function q(me){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(me),Ee.position.end=Cl(me.end)}function X(me){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const J=Ee.children[Ee.children.length-1];J.position.end=Cl(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ee.type)&&(Y.call(this,me),q.call(this,me))}function le(){this.data.atHardBreak=!0}function te(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me}function oe(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me}function he(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=me}function ve(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ee,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function de(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Ee,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function se(me){const Ee=this.sliceSerialize(me),J=this.stack[this.stack.length-2];J.label=s2e(Ee),J.identifier=ah(Ee).toLowerCase()}function Re(){const me=this.stack[this.stack.length-1],Ee=this.resume(),J=this.stack[this.stack.length-1];if(this.data.inReference=!0,J.type==="link"){const $=me.children;J.children=$}else J.alt=Ee}function k(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=me}function re(){const me=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=me}function ge(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function ee(me){const Ee=this.resume(),J=this.stack[this.stack.length-1];J.label=Ee,J.identifier=ah(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function pe(me){this.data.characterReferenceType=me.type}function Te(me){const Ee=this.sliceSerialize(me),J=this.data.characterReferenceType;let $;J?($=eK(Ee,J==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=mL(Ee);const K=this.stack.pop();K.value+=$,K.position.end=Cl(me.end)}function Je(me){q.call(this,me);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(me)}function Ae(me){q.call(this,me);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(me)}function $e(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function ie(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function Ie(){return{type:"image",title:null,url:"",alt:null}}function tt(){return{type:"link",title:null,url:"",children:[]}}function De(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function ot(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function _e(){return{type:"strong",children:[]}}function Be(){return{type:"text",value:""}}function at(){return{type:"thematicBreak"}}}function Cl(e){return{line:e.line,column:e.column,offset:e.offset}}function dK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?dK(e,r):f2e(e,r)}}function f2e(e,t){let n;for(n in t)if(fK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function G$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$m({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$m({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$m({start:t.start,end:t.end})+") is still open")}function d2e(e){const t=this;t.parser=n;function n(r){return l2e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function h2e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function p2e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function g2e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function m2e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y2e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function v2e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=up(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function _2e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function w2e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function hK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function b2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return hK(e,t);const i={src:up(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function S2e(e,t){const n={src:up(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function x2e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function E2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return hK(e,t);const i={href:up(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function C2e(e,t){const n={href:up(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function T2e(e,t,n){const r=e.all(t),i=n?R2e(n):pK(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function R2e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=pK(n[r])}return t}function pK(e){const t=e.spread;return t??e.children.length>1}function A2e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function P2e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O2e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function L2e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function I2e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=pL(t.children[1]),l=ZV(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function M2e(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const h=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let v={type:"element",tagName:a,properties:g,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function D2e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const W$=9,Q$=32;function k2e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(Z$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Z$(t.slice(i),i>0,!1)),a.join("")}function Z$(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===W$||a===Q$;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===W$||a===Q$;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function N2e(e,t){const n={type:"text",value:k2e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function F2e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const j2e={blockquote:h2e,break:p2e,code:g2e,delete:m2e,emphasis:y2e,footnoteReference:v2e,heading:_2e,html:w2e,imageReference:b2e,image:S2e,inlineCode:x2e,linkReference:E2e,link:C2e,listItem:T2e,list:A2e,paragraph:P2e,root:O2e,strong:L2e,table:I2e,tableCell:D2e,tableRow:M2e,text:N2e,thematicBreak:F2e,toml:A_,yaml:A_,definition:A_,footnoteDefinition:A_};function A_(){}const gK=-1,jb=0,Pw=1,Ow=2,_L=3,wL=4,bL=5,SL=6,mK=7,yK=8,J$=typeof self=="object"?self:globalThis,$2e=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case jb:case gK:return n(o,i);case Pw:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Ow:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case _L:return n(new Date(o),i);case wL:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case bL:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case SL:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case mK:{const{name:s,message:l}=o;return n(new J$[s](l),i)}case yK:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new J$[a](o),i)};return r},X$=e=>$2e(new Map,e)(0),Bd="",{toString:B2e}={},{keys:U2e}=Object,um=e=>{const t=typeof e;if(t!=="object"||!e)return[jb,t];const n=B2e.call(e).slice(8,-1);switch(n){case"Array":return[Pw,Bd];case"Object":return[Ow,Bd];case"Date":return[_L,Bd];case"RegExp":return[wL,Bd];case"Map":return[bL,Bd];case"Set":return[SL,Bd]}return n.includes("Array")?[Pw,n]:n.includes("Error")?[mK,n]:[Ow,n]},P_=([e,t])=>e===jb&&(t==="function"||t==="symbol"),q2e=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=um(o);switch(s){case jb:{let d=o;switch(l){case"bigint":s=yK,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([gK],o)}return i([s,d],o)}case Pw:{if(l)return i([l,[...o]],o);const d=[],h=i([s,d],o);for(const g of o)d.push(a(g));return h}case Ow:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],h=i([s,d],o);for(const g of U2e(o))(e||!P_(um(o[g])))&&d.push([a(g),a(o[g])]);return h}case _L:return i([s,o.toISOString()],o);case wL:{const{source:d,flags:h}=o;return i([s,{source:d,flags:h}],o)}case bL:{const d=[],h=i([s,d],o);for(const[g,y]of o)(e||!(P_(um(g))||P_(um(y))))&&d.push([a(g),a(y)]);return h}case SL:{const d=[],h=i([s,d],o);for(const g of o)(e||!P_(um(g)))&&d.push(a(g));return h}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},Y$=(e,{json:t,lossy:n}={})=>{const r=[];return q2e(!(t||n),!!t,new Map,r)(e),r},Lw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?X$(Y$(e,t)):structuredClone(e):(e,t)=>X$(Y$(e,t));function z2e(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H2e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function V2e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||z2e,r=e.options.footnoteBackLabel||H2e,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),g=up(h.toLowerCase());let y=0;const v=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++y<=_;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,y);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const S=d[d.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const x=S.children[S.children.length-1];x&&x.type==="text"?x.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...v)}else d.push(...v);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(c,w),s.push(w)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Lw(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const vK=function(e){if(e==null)return Q2e;if(typeof e=="function")return $b(e);if(typeof e=="object")return Array.isArray(e)?K2e(e):G2e(e);if(typeof e=="string")return W2e(e);throw new Error("Expected function, string, or object as test")};function K2e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=vK(e[n]);return $b(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function G2e(e){const t=e;return $b(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function W2e(e){return $b(t);function t(n){return n&&n.type===e}}function $b(e){return t;function t(n,r,i){return!!(Z2e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Q2e(){return!0}function Z2e(e){return e!==null&&typeof e=="object"&&"type"in e}const _K=[],J2e=!0,e5=!1,X2e="skip";function Y2e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=vK(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=_K,v,_,S;if((!t||a(l,c,d[d.length-1]||void 0))&&(y=eTe(n(l,d)),y[0]===e5))return y;if("children"in l&&l.children){const w=l;if(w.children&&y[0]!==X2e)for(_=(r?w.children.length:-1)+o,S=d.concat(w);_>-1&&_<w.children.length;){const x=w.children[_];if(v=s(x,_,S)(),v[0]===e5)return v;_=typeof v[1]=="number"?v[1]:_+o}}return y}}}function eTe(e){return Array.isArray(e)?e:typeof e=="number"?[J2e,e]:e==null?_K:[e]}function wK(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),Y2e(e,a,s,i);function s(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const iP={}.hasOwnProperty,tTe={};function nTe(e,t){const n=t||tTe,r=new Map,i=new Map,a=new Map,o={...j2e,...n.handlers},s={all:c,applyData:iTe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:rTe,wrap:oTe};return wK(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();h.has(g)||h.set(g,d)}}),s;function l(d,h){const g=d.type,y=s.handlers[g];if(iP.call(s.handlers,g)&&y)return y(s,d,h);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in d){const{children:_,...S}=d,w=Lw(S);return w.children=s.all(d),w}return Lw(d)}return(s.options.unknownHandler||aTe)(s,d,h)}function c(d){const h=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const v=s.one(g[y],d);if(v){if(y&&g[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=t5(v.value)),!Array.isArray(v)&&v.type==="element")){const _=v.children[0];_&&_.type==="text"&&(_.value=t5(_.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function rTe(e,t){e.position&&(t.position=Vxe(e))}function iTe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Lw(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function aTe(e,t){const n=t.data||{},r="value"in t&&!(iP.call(n,"hProperties")||iP.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oTe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function t5(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function n5(e,t){const n=nTe(e,t),r=n.one(e,void 0),i=V2e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function sTe(e,t){return e&&"run"in e?async function(n,r){const i=n5(n,t);await e.run(i,r)}:function(n){return n5(n,t||e)}}function r5(e){if(e)throw e}var VT,i5;function uTe(){if(i5)return VT;i5=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!h)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return VT=function l(){var c,d,h,g,y,v,_=arguments[0],S=1,w=arguments.length,x=!1;for(typeof _=="boolean"&&(x=_,_=arguments[1]||{},S=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});S<w;++S)if(c=arguments[S],c!=null)for(d in c)h=s(_,d),g=s(c,d),_!==g&&(x&&g&&(a(g)||(y=i(g)))?(y?(y=!1,v=h&&i(h)?h:[]):v=h&&a(h)?h:{},o(_,{name:d,newValue:l(x,v,g)})):typeof g<"u"&&o(_,{name:d,newValue:g}));return _},VT}var lTe=uTe();const KT=Mr(lTe);function aP(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cTe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?fTe(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fTe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const ws={basename:dTe,dirname:hTe,extname:pTe,join:gTe,sep:"/"};function dTe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');jy(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function hTe(e){if(jy(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function pTe(e){jy(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function gTe(...e){let t=-1,n;for(;++t<e.length;)jy(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":mTe(n)}function mTe(e){jy(e);const t=e.codePointAt(0)===47;let n=yTe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yTe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function jy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vTe={cwd:_Te};function _Te(){return"/"}function oP(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function wTe(e){if(typeof e=="string")e=new URL(e);else if(!oP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return bTe(e)}function bTe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const GT=["history","path","basename","stem","extname","dirname"];class bK{constructor(t){let n;t?oP(t)?n={path:t}:typeof t=="string"||STe(t)?n={value:t}:n=t:n={},this.cwd=vTe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<GT.length;){const a=GT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)GT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ws.basename(this.path):void 0}set basename(t){QT(t,"basename"),WT(t,"basename"),this.path=ws.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ws.dirname(this.path):void 0}set dirname(t){a5(this.basename,"dirname"),this.path=ws.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ws.extname(this.path):void 0}set extname(t){if(WT(t,"extname"),a5(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ws.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){oP(t)&&(t=wTe(t)),QT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ws.basename(this.path,this.extname):void 0}set stem(t){QT(t,"stem"),WT(t,"stem"),this.path=ws.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ba(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function WT(e,t){if(e&&e.includes(ws.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ws.sep+"`")}function QT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function a5(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function STe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xTe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(a,s,l)}return a},ETe={}.hasOwnProperty;class xL extends xTe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cTe()}copy(){const t=new xL;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(KT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(XT("data",this.frozen),this.namespace[t]=n,this):ETe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(XT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=O_(t),r=this.parser||this.Parser;return ZT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ZT("process",this.parser||this.Parser),JT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=O_(t),l=r.parse(s);r.run(l,s,function(d,h,g){if(d||!h||!g)return c(d);const y=h,v=r.stringify(y,g);RTe(v)?g.value=v:g.result=v,c(d,g)});function c(d,h){d||!h?o(d):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),ZT("processSync",this.parser||this.Parser),JT("processSync",this.compiler||this.Compiler),this.process(t,i),s5("processSync","process",n),r;function i(a,o){n=!0,r5(a),r=o}}run(t,n,r){o5(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=O_(n);i.run(t,l,c);function c(d,h,g){const y=h||t;d?s(d):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),s5("runSync","run",r),i;function a(o,s){r5(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=O_(n),i=this.compiler||this.Compiler;return JT("stringify",i),o5(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(XT("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=KT(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===c){g=h;break}if(g===-1)r.push([c,...d]);else if(d.length>0){let[y,...v]=d;const _=r[g][1];aP(_)&&aP(y)&&(y=KT(!0,_,y)),r[g]=[c,y,...v]}}}}const CTe=new xL().freeze();function ZT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function JT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function XT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function o5(e){if(!aP(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function s5(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function O_(e){return TTe(e)?e:new bK(e)}function TTe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function RTe(e){return typeof e=="string"||ATe(e)}function ATe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const PTe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",u5=[],l5={allowDangerousHtml:!0},OTe=/^(https?|ircs?|mailto|xmpp)$/i,LTe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ITe(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,o=e.disallowedElements,s=e.rehypePlugins||u5,l=e.remarkPlugins||u5,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...l5}:l5,d=e.skipHtml,h=e.unwrapDisallowed,g=e.urlTransform||MTe,y=CTe().use(d2e).use(l).use(sTe,c).use(s),v=new bK;typeof r=="string"&&(v.value=r);for(const x of LTe)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+PTe+x.id,void 0);const _=y.parse(v);let S=y.runSync(_,v);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),wK(S,w),Jxe(S,{Fragment:U.Fragment,components:a,ignoreInvalidStyle:!0,jsx:U.jsx,jsxs:U.jsxs,passKeys:!0,passNode:!0});function w(x,R,P){if(x.type==="raw"&&P&&typeof R=="number")return d?P.children.splice(R,1):P.children[R]={type:"text",value:x.value},R;if(x.type==="element"){let O;for(O in qT)if(Object.hasOwn(qT,O)&&Object.hasOwn(x.properties,O)){const D=x.properties[O],F=qT[O];(F===null||F.includes(x.tagName))&&(x.properties[O]=g(String(D||""),O,x))}}if(x.type==="element"){let O=t?!t.includes(x.tagName):o?o.includes(x.tagName):!1;if(!O&&n&&typeof R=="number"&&(O=!n(x,R,P)),O&&P&&typeof R=="number")return h&&x.children?P.children.splice(R,1,...x.children):P.children.splice(R,1),R}}}function MTe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||OTe.test(e.slice(0,t))?e:""}const DTe="_text_e0nft_1",kTe={text:DTe},NTe=`# About

WIP`,FTe=()=>U.jsx(ITe,{className:kTe.text,children:NTe}),jTe=()=>{const e=$r(Bh),t=$f();V.useEffect(()=>{if(e.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(e.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&t(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[e.isLoggedIn,t])},$Te="_spin_pafwh_9",BTe={spin:$Te},SK=({className:e,...t})=>U.jsx(sme,{className:Ar(BTe.spin,e),...t}),iy=(e,t)=>{const n=d_e(e,t),r=xK(e,t);return V.useMemo(()=>({isMember:n,...r}),[r,n])},xK=(e,t)=>{const{isLoading:n,variables:r,store:i}=wa({query:t_e,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:ar}),a=r.publicTypeIndex??[],o=r.privateTypeIndex??[],s=r.preferencesFile??[],l=r.inbox??[],c=r.hospexDocumentForCommunity??[],d=V.useMemo(()=>(r.hospexDocument??[]).map(S=>{var R;const w=i.getObjects(e,Th.member_of,S).map(({value:P})=>{var O;return{uri:P,name:((O=i.getObjects(P,Th.name,null)[0])==null?void 0:O.value)??""}}),x=i.getObjects(e,lc.storage,S);return{hospexDocument:S,communities:w,storage:(R=x[0])==null?void 0:R.value}}),[i,e,r]),h=c.length>0?!0:n?void 0:!1,g=a.length>0?!0:n?void 0:!1,y=o.length>0?!0:n?void 0:!1,v=s.length>0?!0:n?void 0:!1,_=l.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:g,isPrivateTypeIndex:y,isPreferencesFile:v,isInbox:_,personalHospexDocuments:c,publicTypeIndexes:a,privateTypeIndexes:o,preferencesFiles:s,inboxes:l,allHospex:d}},UTe=(e,t)=>{const n=V.useCallback(async()=>{if(!t)return"mailer not set up";const o=await ar(`${t}/status`);if(!o.ok)throw new Error("Network response was not ok");return o.json()},[t]),{isLoading:r,data:i}=wy({queryKey:[Qr.mailerIntegration],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const a=i.integrations.filter(o=>o.object===e);return a.length===0?!1:a.some(o=>o.verified)?!0:"unverified"},qTe=async(e,t)=>{if(!t)return"mailer not set up";const n=await ar(`${t}/status/${encodeURIComponent(e)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},EK=(e,t)=>wy({queryKey:[Qr.simpleMailerIntegration],queryFn:()=>qTe(e,t)}),zTe=(e,t)=>{const{isLoading:n,data:r}=EK(e,t);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var YT,c5;function HTe(){if(c5)return YT;c5=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return YT=e,YT}var eR,f5;function VTe(){if(f5)return eR;f5=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return eR=e,eR}var tR,d5;function KTe(){if(d5)return tR;d5=1;var e=_b(),t=VTe();function n(r,i){return i.length<2?r:e(r,t(i,0,-1))}return tR=n,tR}var nR,h5;function GTe(){if(h5)return nR;h5=1;var e=Jh(),t=HTe(),n=KTe(),r=Xh();function i(a,o){return o=e(o,a),a=n(a,o),a==null||delete a[r(t(o))]}return nR=i,nR}var rR,p5;function WTe(){if(p5)return rR;p5=1;var e=kH();function t(n){return e(n)?void 0:n}return rR=t,rR}var iR,g5;function QTe(){if(g5)return iR;g5=1;var e=Qh(),t=db(),n=ss(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return iR=i,iR}var aR,m5;function ZTe(){if(m5)return aR;m5=1;var e=yO(),t=QTe();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=t),s||(s=[]);++l<c;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,o,s):e(s,d):o||(s[s.length]=d)}return s}return aR=n,aR}var oR,y5;function JTe(){if(y5)return oR;y5=1;var e=ZTe();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return oR=t,oR}var sR,v5;function CK(){if(v5)return sR;v5=1;var e=JTe(),t=jH(),n=$H();function r(i){return n(t(i,void 0,e),i+"")}return sR=r,sR}var uR,_5;function XTe(){if(_5)return uR;_5=1;var e=vb(),t=KH(),n=GTe(),r=Jh(),i=rp(),a=WTe(),o=CK(),s=VH(),l=1,c=2,d=4,h=o(function(g,y){var v={};if(g==null)return v;var _=!1;y=e(y,function(w){return w=r(w,g),_||(_=w.length>1),w}),i(g,s(g),v),_&&(v=t(v,l|c|d,a));for(var S=y.length;S--;)n(v,y[S]);return v});return uR=h,uR}var YTe=XTe();const TK=Mr(YTe);var lR,w5;function eRe(){if(w5)return lR;w5=1;function e(t,n){return t<n}return lR=e,lR}var cR,b5;function tRe(){if(b5)return cR;b5=1;var e=UH(),t=RO(),n=eRe();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return cR=r,cR}var nRe=tRe();const rRe=Mr(nRe),RK=e=>{var a;const[t,n]=zH(e),[r]=iRe(e),i=((a=t==null?void 0:t.storage)==null?void 0:a.map(o=>o["@id"]))??[];if(n.isFetched)return i[0]??r},iRe=e=>{const[t,n]=V.useState([di(e)]),[r,i]=V.useState(),a=H_e(t),o=V.useMemo(()=>a.map(l=>{var c,d;return(d=(c=l.data)==null?void 0:c.response)==null?void 0:d.headers.get("Link")}),[a]);V.useEffect(()=>{const l=o.findIndex(c=>c==null?void 0:c.includes(Uf.Storage));l>-1?i(t[l]):a.every(c=>c.isSuccess||c.isError)&&n(c=>{const d=rRe(c,h=>h.length);if(d){const h=G9(d);if(!c.includes(h))return[...c,h]}return c})},[o,t,a]);const s=!a.every(l=>l.isSuccess||l.isError)||a.length<t.length;return[r,s]};var fR,S5;function aRe(){if(S5)return fR;S5=1;var e=jO(),t=Jh(),n=pb(),r=Io(),i=Xh();function a(o,s,l,c){if(!r(o))return o;s=t(s,o);for(var d=-1,h=s.length,g=h-1,y=o;y!=null&&++d<h;){var v=i(s[d]),_=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(d!=g){var S=y[v];_=c?c(S,v,y):void 0,_===void 0&&(_=r(S)?S:n(s[d+1])?[]:{})}e(y,v,_),y=y[v]}return o}return fR=a,fR}var dR,x5;function oRe(){if(x5)return dR;x5=1;var e=_b(),t=aRe(),n=Jh();function r(i,a,o){for(var s=-1,l=a.length,c={};++s<l;){var d=a[s],h=e(i,d);o(h,d)&&t(c,n(d,i),h)}return c}return dR=r,dR}var hR,E5;function sRe(){if(E5)return hR;E5=1;var e=oRe(),t=Iz();function n(r,i){return e(r,i,function(a,o){return t(r,o)})}return hR=n,hR}var pR,C5;function uRe(){if(C5)return pR;C5=1;var e=sRe(),t=CK(),n=t(function(r,i){return r==null?{}:e(r,i)});return pR=n,pR}var lRe=uRe();const cRe=Mr(lRe),fRe="_container_9yuh8_1",dRe="_list_9yuh8_8",hRe="_trigger_9yuh8_13",pRe="_connect_9yuh8_32",gRe="_content_9yuh8_44",mRe="_taskList_9yuh8_54",yRe="_storageOptions_9yuh8_60",vRe="_option_9yuh8_63",Nl={container:fRe,list:dRe,trigger:hRe,connect:pRe,content:gRe,taskList:mRe,storageOptions:yRe,option:vRe},_Re={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},wRe={type:{"@id":"@type"},Authorization:{"@id":"http://www.w3.org/ns/auth/acl#Authorization","@context":{type:{"@id":"@type"},accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@isCollection":!0},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@isCollection":!0},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@isCollection":!0},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@isCollection":!0},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@isCollection":!0},origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@isCollection":!0}}},accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@isCollection":!0},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@isCollection":!0},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@isCollection":!0},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@isCollection":!0},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@isCollection":!0},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@isCollection":!0}},lp={schema:_Re,shape:"https://example.com/Authorization",context:wRe};var mr=Pf();let L_;const bRe=new Uint8Array(16);function SRe(){if(!L_&&(L_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L_(bRe)}const ki=[];for(let e=0;e<256;++e)ki.push((e+256).toString(16).slice(1));function xRe(e,t=0){return(ki[e[t+0]]+ki[e[t+1]]+ki[e[t+2]]+ki[e[t+3]]+"-"+ki[e[t+4]]+ki[e[t+5]]+"-"+ki[e[t+6]]+ki[e[t+7]]+"-"+ki[e[t+8]]+ki[e[t+9]]+"-"+ki[e[t+10]]+ki[e[t+11]]+ki[e[t+12]]+ki[e[t+13]]+ki[e[t+14]]+ki[e[t+15]]).toLowerCase()}const ERe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T5={randomUUID:ERe};function Zl(e,t,n){if(T5.randomUUID&&!t&&!e)return T5.randomUUID();e=e||{};const r=e.random||(e.rng||SRe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xRe(r)}const R5=async e=>{e=uc(e);const t=await hO(e,ar);if(!t.ok)throw t.response?new Po(t.response.statusText,t.response):new Error("unexpected");return t},CRe=e=>{const t=Hm({queries:e.map(a=>({queryKey:[Qr.rdfDocument,a],queryFn:async()=>R5(a),enabled:!!a}))}),n=t.map(({data:a},o)=>{var _,S;const s=e[o],l=(_=a==null?void 0:a.response)==null?void 0:_.headers,c=l==null?void 0:l.get("link"),d=c?R9.parse(c):void 0,h=(S=d==null?void 0:d.rel("acl")[0])==null?void 0:S.uri,g=h&&s?new URL(h,s).toString():void 0,y=l==null?void 0:l.get("wac-allow"),v=y?Gge(y):void 0;return{resource:s,aclUri:g,effectivePermissions:v}}),r=Hm({queries:n.map(({aclUri:a,effectivePermissions:o})=>{var s;return{queryKey:[Qr.rdfDocument,a],queryFn:async()=>R5(a??""),enabled:!!a&&((s=o==null?void 0:o.user)==null?void 0:s.has("control"))}})}),i=r.map(({data:a,isError:o},s)=>{var c;const l=(c=n[s])==null?void 0:c.aclUri;return l&&typeof(a==null?void 0:a.rawData)=="string"&&!o?W9(l,a.rawData):void 0});return{isLoading:t.some(a=>a.isLoading)||r.some(a=>a.isLoading),results:n.map((a,o)=>({effectivePermissions:a.effectivePermissions,acls:[{uri:a.aclUri,accesses:i[o]}]}))}},Bb=()=>{const e=ao();return V.useCallback(async(t,n)=>{const r=await qf(t),i=await ku(r);if(!(i.ok||i.status===404))throw new Po("Acl could not be resolved",i);const o=i.status===404?"":await i.text(),s=W9(r,o),l=new nb({format:"N-Triples"});for(const d of n){d.agents??(d.agents=[]),d.agentGroups??(d.agentGroups=[]);const h=s.find(_=>{const S=new Set(d.access),w=new Set(_.modes);return S.size===w.size&&Array.from(S).every(x=>w.has(x))&&d.default?_.defaults.includes(t):_.defaults.length===0}),g=_=>{const S=new URL(_);return S.hash=Zl(),S.toString()},y=(h==null?void 0:h.url)??g(r),v=new ti(y);l.addQuads(d.agentGroups.map(_=>new Wo(v,new ti(Rn.agentGroup),new ti(_)))),l.addQuads(d.agents.map(_=>new Wo(v,new ti(Rn.agent),new ti(_)))),h||(l.addQuads([new Wo(v,new ti(Gh.type),new ti(Rn.Authorization)),new Wo(v,new ti(Rn.accessTo),new ti(t)),...d.access.map(_=>new Wo(v,new ti(Rn.mode),new ti(Rn[_])))]),d.default&&l.addQuads([new Wo(v,new ti(Rn.default__workaround),new ti(t))]))}const c=await new Promise((d,h)=>{l.end((g,y)=>{g?h(g):d(y)})});await e.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${c}
          } .`})},[e])},TRe=async({index:e,type:t,location:n})=>{const i=n.endsWith("/")?En.instanceContainer:En.instance,a=await ku(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${t}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new Po("Updating type registration failed.",a);const o=Zl(),s=await ku(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${o}>
          a solid:TypeRegistration;
          solid:forClass <${t}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new Po("Saving type registration failed.",s)},AK=()=>{const e=Ui();return lo({mutationFn:TRe,onSuccess:(t,{index:n})=>{e.invalidateQueries({queryKey:[Qr.rdfDocument,n]})}}).mutateAsync},RRe=()=>{const e=Bb(),t=ao(),n=ao();return V.useCallback(async({preferencesFile:r,webId:i,privateTypeIndex:a})=>{await t.mutateAsync({uri:r,patch:`
        @prefix pim: <http://www.w3.org/ns/pim/space#> .
        _:mutate a <${En.InsertDeletePatch}>;
          <${En.inserts}> {
            <> a pim:ConfigurationFile.
            ${a?`<${i}> <${En.privateTypeIndex}> <${a}>.`:""}
          }.`});const o=di(r);await e(o,[{operation:"add",access:[Xa.Read,Xa.Write,Xa.Control],default:!0,agents:[i]}]),await n.mutateAsync({uri:i,patch:`_:mutate a <${En.InsertDeletePatch}>; <${En.inserts}> {
          <${i}> <${Uf.preferencesFile}> <${r}>.
        }.`})},[t,e,n])},ARe=()=>{const e=ts(x_e),t=ao();return V.useCallback(async({webId:n,privateTypeIndex:r,preferencesFile:i})=>{await e.mutateAsync({uri:r,data:{"@id":r,type:new mr.BasicLdSet([{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}])}});const a=`_:mutate a <${En.InsertDeletePatch}>; <${En.inserts}> { <${n}> <${En.privateTypeIndex}> <${r}>. }.`;await t.mutateAsync({uri:i,patch:a})},[e,t])},PRe=()=>{const{communityId:e}=Nn(),t=Vf(xb),n=PK(),r=Bb(),i=zu(e);return V.useCallback(async({uri:a,webId:o})=>{await t.mutateAsync({uri:a,subject:o,transform:s=>{var l;(l=s.memberOf)==null||l.add({"@id":e}),s.storage2??(s.storage2={"@id":di(a)}),s["@id"]??(s["@id"]=o)}});try{await n({webId:o,uri:di(a)},{throwOnHttpError:!0})}catch{await r(di(a),[{operation:"add",access:[Xa.Read],agentGroups:i.groups,default:!0}])}},[i.groups,e,n,r,t])},PK=()=>{const{communityId:e}=Nn(),t=ts(lp),n=zu(e);return V.useCallback(async({uri:r,webId:i},a={})=>{const o=di(r),s=await qf(o);await t.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:new mr.BasicLdSet([{"@id":o}]),default:{"@id":o},agent:new mr.BasicLdSet([{"@id":i}]),mode:new mr.BasicLdSet([{"@id":Rn.Read},{"@id":Rn.Write},{"@id":Rn.Control}])},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:new mr.BasicLdSet([{"@id":o}]),default:{"@id":o},agentGroup:new mr.BasicLdSet(n.groups.map(l=>({"@id":l}))),mode:new mr.BasicLdSet([{"@id":Rn.Read}])}],...a})},[n.groups,t])},ORe=()=>{const e=ts(xb),t=PK();return V.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=di(n);await e.mutateAsync({uri:n,data:{"@id":r,memberOf:new mr.BasicLdSet([{"@id":i}]),storage2:{"@id":a}}}),await t({uri:n,webId:r})},[t,e])},LRe=()=>{const e=ts(S_e),t=ts(lp),n=ao();return V.useCallback(async({webId:r,publicTypeIndex:i})=>{await e.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:new mr.BasicLdSet([{"@id":"TypeIndex"},{"@id":"ListedDocument"}])}});const a=await qf(i);await t.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:new mr.BasicLdSet([{"@id":r}]),accessTo:new mr.BasicLdSet([{"@id":i}]),mode:new mr.BasicLdSet([{"@id":Rn.Read},{"@id":Rn.Write},{"@id":Rn.Control}])},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:new mr.BasicLdSet([{"@id":Yl.Agent}]),accessTo:new mr.BasicLdSet([{"@id":i}]),mode:new mr.BasicLdSet([{"@id":Rn.Read}])}]});const o=`_:mutate a <${En.InsertDeletePatch}>; <${En.inserts}> { <${r}> <${En.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:o})},[t,e,n])},IRe=()=>{const e=V_e(),t=ts(lp),n=ao();return V.useCallback(async({webId:r,inbox:i})=>{await e.mutateAsync({uri:i});const a=await qf(i);await t.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:new mr.BasicLdSet([{"@id":r}]),accessTo:new mr.BasicLdSet([{"@id":i}]),default:{"@id":i},mode:new mr.BasicLdSet([{"@id":Rn.Read},{"@id":Rn.Write},{"@id":Rn.Control}])},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:new mr.BasicLdSet([{"@id":Rn.AuthenticatedAgent}]),accessTo:new mr.BasicLdSet([{"@id":i}]),default:{"@id":i},mode:new mr.BasicLdSet([{"@id":Rn.Append}])}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${En.InsertDeletePatch}>; <${En.inserts}> { <${r}> <${Tu.inbox}> <${i}>. }.`})},[t,e,n])},MRe=()=>{const{emailNotificationsService:e,emailNotificationsIdentity:t}=Nn(),n=async s=>{if(!(await ar(`${e}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=Ui(),{mutate:i}=lo({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:[Qr.mailerIntegration]})}}),a=V.useCallback(({webId:s,inbox:l,email:c})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:l,target:c})},[i]),o=Vf(lp);return V.useCallback(async({email:s,inbox:l,webId:c})=>{const d=await qf(l);await o.mutateAsync({uri:d,subject:d+"#read",transform:h=>{var g,y;h["@id"]=d+"#read",h.type={"@id":"Authorization"},(g=h.agent)==null||g.add({"@id":t}),h.accessTo.add({"@id":l}),h.default={"@id":l},(y=h.mode)==null||y.add({"@id":Rn.Read})}}),a({email:s,inbox:l,webId:c})},[t,a,o])},DRe=()=>{const{emailNotificationsService:e}=Nn(),t=async i=>{const a=await ar(`${e}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new Po("Sending verification email failed",a)},n=Ui();return lo({mutationFn:t,onSuccess:()=>{n.invalidateQueries({queryKey:[Qr.simpleMailerIntegration]})}})},kRe=()=>{const{emailNotificationsIdentity:e}=Nn(),t=Vf(lp),n=ao(),r=Bb();return V.useCallback(async({hospexDocument:a,webId:o,email:s})=>{const l=di(a);await r(l,[{operation:"add",access:[Xa.Read],agents:[e],default:!0}]);const c=l+"emailSettings-"+Zl(),d=`_:mutate a <${En.InsertDeletePatch}>;
        <${En.inserts}> { <${o}> <${Yl.mbox}> "${s}". } .`;await n.mutateAsync({uri:c,patch:d});const h=await qf(c);await t.mutateAsync({uri:h,subject:h+"#owner",transform:y=>{var v,_;y["@id"]=h+"#owner",y.type={"@id":"Authorization"},(v=y.agent)==null||v.add({"@id":o}),y.accessTo.add({"@id":c}),(_=y.mode)==null||_.add({"@id":Rn.Read}).add({"@id":Rn.Write}).add({"@id":Rn.Control})}}),await t.mutateAsync({uri:h,subject:h+"#readWriteMailer",transform:y=>{var v,_;y["@id"]=h+"#readWriteMailer",y.type={"@id":"Authorization"},(v=y.agent)==null||v.add({"@id":e}),y.accessTo.add({"@id":c}),(_=y.mode)==null||_.add({"@id":Rn.Read}).add({"@id":Rn.Write})}});const g=`_:mutate a <${En.InsertDeletePatch}>;
        <${En.inserts}> { <${o}> <${Uf.preferencesFile}> <${c}>. } .`;await n.mutateAsync({uri:a,patch:g})},[e,r,t,n])};var $y=e=>e.type==="checkbox",df=e=>e instanceof Date,ma=e=>e==null;const OK=e=>typeof e=="object";var ii=e=>!ma(e)&&!Array.isArray(e)&&OK(e)&&!df(e),LK=e=>ii(e)&&e.target?$y(e.target)?e.target.checked:e.target.value:e,NRe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IK=(e,t)=>e.has(NRe(t)),FRe=e=>{const t=e.constructor&&e.constructor.prototype;return ii(t)&&t.hasOwnProperty("isPrototypeOf")},EL=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ni(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(EL&&(e instanceof Blob||r))&&(n||ii(e)))if(t=n?[]:{},!n&&!FRe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ni(e[i]));else return e;return t}var Ub=e=>Array.isArray(e)?e.filter(Boolean):[],ni=e=>e===void 0,Bt=(e,t,n)=>{if(!t||!ii(e))return n;const r=Ub(t.split(/[,[\].]+?/)).reduce((i,a)=>ma(i)?i:i[a],e);return ni(r)||r===e?ni(e[t])?n:e[t]:r},Za=e=>typeof e=="boolean",CL=e=>/^\w*$/.test(e),MK=e=>Ub(e.replace(/["|']|\]/g,"").split(/\.|\[/)),tr=(e,t,n)=>{let r=-1;const i=CL(t)?[t]:MK(t),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let l=n;if(r!==o){const c=e[s];l=ii(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const Iw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jRe=Ot.createContext(null),TL=()=>Ot.useContext(jRe);var DK=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Xo.all&&(t._proxyFormState[o]=!r||Xo.all),n&&(n[o]=!0),e[o]}});return i};const RL=typeof window<"u"?V.useLayoutEffect:V.useEffect;function $Re(e){const t=TL(),{control:n=t.control,disabled:r,name:i,exact:a}=e,[o,s]=Ot.useState(n._formState),l=Ot.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return RL(()=>n._subscribe({name:i,formState:l.current,exact:a,callback:c=>{!r&&s({...n._formState,...c})}}),[i,r,a]),Ot.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),Ot.useMemo(()=>DK(o,n,l.current,!1),[o,n])}var Os=e=>typeof e=="string",kK=(e,t,n,r,i)=>Os(e)?(r&&t.watch.add(e),Bt(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Bt(n,a))):(r&&(t.watchAll=!0),n);function BRe(e){const t=TL(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e,s=Ot.useRef(i),[l,c]=Ot.useState(n._getWatch(r,s.current));return RL(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:d=>!a&&c(kK(r,n._names,d.values||n._formValues,!1,s.current))}),[r,n,a,o]),Ot.useEffect(()=>n._removeUnmounted()),l}function URe(e){const t=TL(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a}=e,o=IK(i._names.array,n),s=BRe({control:i,name:n,defaultValue:Bt(i._formValues,n,Bt(i._defaultValues,n,e.defaultValue)),exact:!0}),l=$Re({control:i,name:n,exact:!0}),c=Ot.useRef(e),d=Ot.useRef(i.register(n,{...e.rules,value:s,...Za(e.disabled)?{disabled:e.disabled}:{}})),h=Ot.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Bt(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Bt(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Bt(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Bt(l.validatingFields,n)},error:{enumerable:!0,get:()=>Bt(l.errors,n)}}),[l,n]),g=Ot.useCallback(S=>d.current.onChange({target:{value:LK(S),name:n},type:Iw.CHANGE}),[n]),y=Ot.useCallback(()=>d.current.onBlur({target:{value:Bt(i._formValues,n),name:n},type:Iw.BLUR}),[n,i._formValues]),v=Ot.useCallback(S=>{const w=Bt(i._fields,n);w&&S&&(w._f.ref=S)},[i._fields,n]),_=Ot.useMemo(()=>({name:n,value:s,...Za(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:g,onBlur:y,ref:v}),[n,r,l.disabled,g,y,v,s]);return Ot.useEffect(()=>{const S=i._options.shouldUnregister||a;i.register(n,{...c.current.rules,...Za(c.current.disabled)?{disabled:c.current.disabled}:{}});const w=(x,R)=>{const P=Bt(i._fields,x);P&&P._f&&(P._f.mount=R)};if(w(n,!0),S){const x=Ni(Bt(i._options.defaultValues,n));tr(i._defaultValues,n,x),ni(Bt(i._formValues,n))&&tr(i._formValues,n,x)}return!o&&i.register(n),()=>{(o?S&&!i._state.action:S)?i.unregister(n):w(n,!1)}},[n,i,o,a]),Ot.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Ot.useMemo(()=>({field:_,formState:l,fieldState:h}),[_,l,h])}const Mw=e=>e.render(URe(e));var NK=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Um=e=>Array.isArray(e)?e:[e],A5=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},sP=e=>ma(e)||!OK(e);function Fl(e,t){if(sP(e)||sP(t))return e===t;if(df(e)&&df(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(df(a)&&df(o)||ii(a)&&ii(o)||Array.isArray(a)&&Array.isArray(o)?!Fl(a,o):a!==o)return!1}}return!0}var pa=e=>ii(e)&&!Object.keys(e).length,AL=e=>e.type==="file",Yo=e=>typeof e=="function",Dw=e=>{if(!EL)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},FK=e=>e.type==="select-multiple",PL=e=>e.type==="radio",qRe=e=>PL(e)||$y(e),gR=e=>Dw(e)&&e.isConnected;function zRe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ni(e)?r++:e[t[r++]];return e}function HRe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ni(e[t]))return!1;return!0}function mi(e,t){const n=Array.isArray(t)?t:CL(t)?[t]:MK(t),r=n.length===1?e:zRe(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(ii(r)&&pa(r)||Array.isArray(r)&&HRe(r))&&mi(e,n.slice(0,-1)),e}var jK=e=>{for(const t in e)if(Yo(e[t]))return!0;return!1};function kw(e,t={}){const n=Array.isArray(e);if(ii(e)||n)for(const r in e)Array.isArray(e[r])||ii(e[r])&&!jK(e[r])?(t[r]=Array.isArray(e[r])?[]:{},kw(e[r],t[r])):ma(e[r])||(t[r]=!0);return t}function $K(e,t,n){const r=Array.isArray(e);if(ii(e)||r)for(const i in e)Array.isArray(e[i])||ii(e[i])&&!jK(e[i])?ni(t)||sP(n[i])?n[i]=Array.isArray(e[i])?kw(e[i],[]):{...kw(e[i])}:$K(e[i],ma(t)?{}:t[i],n[i]):n[i]=!Fl(e[i],t[i]);return n}var lm=(e,t)=>$K(e,t,kw(t));const P5={value:!1,isValid:!1},O5={value:!0,isValid:!0};var BK=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ni(e[0].attributes.value)?ni(e[0].value)||e[0].value===""?O5:{value:e[0].value,isValid:!0}:O5:P5}return P5},UK=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ni(e)?e:t?e===""?NaN:e&&+e:n&&Os(e)?new Date(e):r?r(e):e;const L5={isValid:!1,value:null};var qK=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,L5):L5;function I5(e){const t=e.ref;return AL(t)?t.files:PL(t)?qK(e.refs).value:FK(t)?[...t.selectedOptions].map(({value:n})=>n):$y(t)?BK(e.refs).value:UK(ni(t.value)?e.ref.value:t.value,e)}var VRe=(e,t,n,r)=>{const i={};for(const a of e){const o=Bt(t,a);o&&tr(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Nw=e=>e instanceof RegExp,cm=e=>ni(e)?e:Nw(e)?e.source:ii(e)?Nw(e.value)?e.value.source:e.value:e,M5=e=>({isOnSubmit:!e||e===Xo.onSubmit,isOnBlur:e===Xo.onBlur,isOnChange:e===Xo.onChange,isOnAll:e===Xo.all,isOnTouch:e===Xo.onTouched});const D5="AsyncFunction";var KRe=e=>!!e&&!!e.validate&&!!(Yo(e.validate)&&e.validate.constructor.name===D5||ii(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===D5)),GRe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),k5=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const qm=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=Bt(e,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(qm(s,t))break}else if(ii(s)&&qm(s,t))break}}};function N5(e,t,n){const r=Bt(e,n);if(r||CL(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Bt(t,a),s=Bt(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var WRe=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return pa(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Xo.all))},QRe=(e,t,n)=>!e||!t||e===t||Um(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),ZRe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,JRe=(e,t)=>!Ub(Bt(e,t)).length&&mi(e,t),XRe=(e,t,n)=>{const r=Um(Bt(e,n));return tr(r,"root",t[n]),tr(e,n,r),e},G0=e=>Os(e);function F5(e,t,n="validate"){if(G0(e)||Array.isArray(e)&&e.every(G0)||Za(e)&&!e)return{type:n,message:G0(e)?e:"",ref:t}}var Ud=e=>ii(e)&&!Nw(e)?e:{value:e,message:""},j5=async(e,t,n,r,i,a)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:d,min:h,max:g,pattern:y,validate:v,name:_,valueAsNumber:S,mount:w}=e._f,x=Bt(n,_);if(!w||t.has(_))return{};const R=s?s[0]:o,P=le=>{i&&R.reportValidity&&(R.setCustomValidity(Za(le)?"":le||""),R.reportValidity())},O={},D=PL(o),F=$y(o),Q=D||F,Y=(S||AL(o))&&ni(o.value)&&ni(x)||Dw(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,q=NK.bind(null,_,r,O),X=(le,te,oe,he=yu.maxLength,ve=yu.minLength)=>{const de=le?te:oe;O[_]={type:le?he:ve,message:de,ref:o,...q(le?he:ve,de)}};if(a?!Array.isArray(x)||!x.length:l&&(!Q&&(Y||ma(x))||Za(x)&&!x||F&&!BK(s).isValid||D&&!qK(s).isValid)){const{value:le,message:te}=G0(l)?{value:!!l,message:l}:Ud(l);if(le&&(O[_]={type:yu.required,message:te,ref:R,...q(yu.required,te)},!r))return P(te),O}if(!Y&&(!ma(h)||!ma(g))){let le,te;const oe=Ud(g),he=Ud(h);if(!ma(x)&&!isNaN(x)){const ve=o.valueAsNumber||x&&+x;ma(oe.value)||(le=ve>oe.value),ma(he.value)||(te=ve<he.value)}else{const ve=o.valueAsDate||new Date(x),de=k=>new Date(new Date().toDateString()+" "+k),se=o.type=="time",Re=o.type=="week";Os(oe.value)&&x&&(le=se?de(x)>de(oe.value):Re?x>oe.value:ve>new Date(oe.value)),Os(he.value)&&x&&(te=se?de(x)<de(he.value):Re?x<he.value:ve<new Date(he.value))}if((le||te)&&(X(!!le,oe.message,he.message,yu.max,yu.min),!r))return P(O[_].message),O}if((c||d)&&!Y&&(Os(x)||a&&Array.isArray(x))){const le=Ud(c),te=Ud(d),oe=!ma(le.value)&&x.length>+le.value,he=!ma(te.value)&&x.length<+te.value;if((oe||he)&&(X(oe,le.message,te.message),!r))return P(O[_].message),O}if(y&&!Y&&Os(x)){const{value:le,message:te}=Ud(y);if(Nw(le)&&!x.match(le)&&(O[_]={type:yu.pattern,message:te,ref:o,...q(yu.pattern,te)},!r))return P(te),O}if(v){if(Yo(v)){const le=await v(x,n),te=F5(le,R);if(te&&(O[_]={...te,...q(yu.validate,te.message)},!r))return P(te.message),O}else if(ii(v)){let le={};for(const te in v){if(!pa(le)&&!r)break;const oe=F5(await v[te](x,n),R,te);oe&&(le={...oe,...q(te,oe.message)},P(oe.message),r&&(O[_]=le))}if(!pa(le)&&(O[_]={ref:R,...le},!r))return O}}return P(!0),O};const YRe={mode:Xo.onSubmit,reValidateMode:Xo.onChange,shouldFocusError:!0};function eAe(e={}){let t={...YRe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=ii(t.defaultValues)||ii(t.values)?Ni(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ni(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const g={array:A5(),state:A5()},y=M5(t.mode),v=M5(t.reValidateMode),_=t.criteriaMode===Xo.all,S=_e=>Be=>{clearTimeout(c),c=setTimeout(_e,Be)},w=async _e=>{if(!t.disabled&&(d.isValid||h.isValid||_e)){const Be=t.resolver?pa((await Y()).errors):await X(r,!0);Be!==n.isValid&&g.state.next({isValid:Be})}},x=(_e,Be)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((_e||Array.from(s.mount)).forEach(at=>{at&&(Be?tr(n.validatingFields,at,Be):mi(n.validatingFields,at))}),g.state.next({validatingFields:n.validatingFields,isValidating:!pa(n.validatingFields)}))},R=(_e,Be=[],at,me,Ee=!0,J=!0)=>{if(me&&at&&!t.disabled){if(o.action=!0,J&&Array.isArray(Bt(r,_e))){const $=at(Bt(r,_e),me.argA,me.argB);Ee&&tr(r,_e,$)}if(J&&Array.isArray(Bt(n.errors,_e))){const $=at(Bt(n.errors,_e),me.argA,me.argB);Ee&&tr(n.errors,_e,$),JRe(n.errors,_e)}if((d.touchedFields||h.touchedFields)&&J&&Array.isArray(Bt(n.touchedFields,_e))){const $=at(Bt(n.touchedFields,_e),me.argA,me.argB);Ee&&tr(n.touchedFields,_e,$)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=lm(i,a)),g.state.next({name:_e,isDirty:te(_e,Be),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tr(a,_e,Be)},P=(_e,Be)=>{tr(n.errors,_e,Be),g.state.next({errors:n.errors})},O=_e=>{n.errors=_e,g.state.next({errors:n.errors,isValid:!1})},D=(_e,Be,at,me)=>{const Ee=Bt(r,_e);if(Ee){const J=Bt(a,_e,ni(at)?Bt(i,_e):at);ni(J)||me&&me.defaultChecked||Be?tr(a,_e,Be?J:I5(Ee._f)):ve(_e,J),o.mount&&w()}},F=(_e,Be,at,me,Ee)=>{let J=!1,$=!1;const K={name:_e};if(!t.disabled){if(!at||me){(d.isDirty||h.isDirty)&&($=n.isDirty,n.isDirty=K.isDirty=te(),J=$!==K.isDirty);const G=Fl(Bt(i,_e),Be);$=!!Bt(n.dirtyFields,_e),G?mi(n.dirtyFields,_e):tr(n.dirtyFields,_e,!0),K.dirtyFields=n.dirtyFields,J=J||(d.dirtyFields||h.dirtyFields)&&$!==!G}if(at){const G=Bt(n.touchedFields,_e);G||(tr(n.touchedFields,_e,at),K.touchedFields=n.touchedFields,J=J||(d.touchedFields||h.touchedFields)&&G!==at)}J&&Ee&&g.state.next(K)}return J?K:{}},Q=(_e,Be,at,me)=>{const Ee=Bt(n.errors,_e),J=(d.isValid||h.isValid)&&Za(Be)&&n.isValid!==Be;if(t.delayError&&at?(l=S(()=>P(_e,at)),l(t.delayError)):(clearTimeout(c),l=null,at?tr(n.errors,_e,at):mi(n.errors,_e)),(at?!Fl(Ee,at):Ee)||!pa(me)||J){const $={...me,...J&&Za(Be)?{isValid:Be}:{},errors:n.errors,name:_e};n={...n,...$},g.state.next($)}},Y=async _e=>{x(_e,!0);const Be=await t.resolver(a,t.context,VRe(_e||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(_e),Be},q=async _e=>{const{errors:Be}=await Y(_e);if(_e)for(const at of _e){const me=Bt(Be,at);me?tr(n.errors,at,me):mi(n.errors,at)}else n.errors=Be;return Be},X=async(_e,Be,at={valid:!0})=>{for(const me in _e){const Ee=_e[me];if(Ee){const{_f:J,...$}=Ee;if(J){const K=s.array.has(J.name),G=Ee._f&&KRe(Ee._f);G&&d.validatingFields&&x([me],!0);const ke=await j5(Ee,s.disabled,a,_,t.shouldUseNativeValidation&&!Be,K);if(G&&d.validatingFields&&x([me]),ke[J.name]&&(at.valid=!1,Be))break;!Be&&(Bt(ke,J.name)?K?XRe(n.errors,ke,J.name):tr(n.errors,J.name,ke[J.name]):mi(n.errors,J.name))}!pa($)&&await X($,Be,at)}}return at.valid},le=()=>{for(const _e of s.unMount){const Be=Bt(r,_e);Be&&(Be._f.refs?Be._f.refs.every(at=>!gR(at)):!gR(Be._f.ref))&&$e(_e)}s.unMount=new Set},te=(_e,Be)=>!t.disabled&&(_e&&Be&&tr(a,_e,Be),!Fl(ge(),i)),oe=(_e,Be,at)=>kK(_e,s,{...o.mount?a:ni(Be)?i:Os(_e)?{[_e]:Be}:Be},at,Be),he=_e=>Ub(Bt(o.mount?a:i,_e,t.shouldUnregister?Bt(i,_e,[]):[])),ve=(_e,Be,at={})=>{const me=Bt(r,_e);let Ee=Be;if(me){const J=me._f;J&&(!J.disabled&&tr(a,_e,UK(Be,J)),Ee=Dw(J.ref)&&ma(Be)?"":Be,FK(J.ref)?[...J.ref.options].forEach($=>$.selected=Ee.includes($.value)):J.refs?$y(J.ref)?J.refs.length>1?J.refs.forEach($=>(!$.defaultChecked||!$.disabled)&&($.checked=Array.isArray(Ee)?!!Ee.find(K=>K===$.value):Ee===$.value)):J.refs[0]&&(J.refs[0].checked=!!Ee):J.refs.forEach($=>$.checked=$.value===Ee):AL(J.ref)?J.ref.value="":(J.ref.value=Ee,J.ref.type||g.state.next({name:_e,values:Ni(a)})))}(at.shouldDirty||at.shouldTouch)&&F(_e,Ee,at.shouldTouch,at.shouldDirty,!0),at.shouldValidate&&re(_e)},de=(_e,Be,at)=>{for(const me in Be){const Ee=Be[me],J=`${_e}.${me}`,$=Bt(r,J);(s.array.has(_e)||ii(Ee)||$&&!$._f)&&!df(Ee)?de(J,Ee,at):ve(J,Ee,at)}},se=(_e,Be,at={})=>{const me=Bt(r,_e),Ee=s.array.has(_e),J=Ni(Be);tr(a,_e,J),Ee?(g.array.next({name:_e,values:Ni(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&at.shouldDirty&&g.state.next({name:_e,dirtyFields:lm(i,a),isDirty:te(_e,J)})):me&&!me._f&&!ma(J)?de(_e,J,at):ve(_e,J,at),k5(_e,s)&&g.state.next({...n}),g.state.next({name:o.mount?_e:void 0,values:Ni(a)})},Re=async _e=>{o.mount=!0;const Be=_e.target;let at=Be.name,me=!0;const Ee=Bt(r,at),J=$=>{me=Number.isNaN($)||df($)&&isNaN($.getTime())||Fl($,Bt(a,at,$))};if(Ee){let $,K;const G=Be.type?I5(Ee._f):LK(_e),ke=_e.type===Iw.BLUR||_e.type===Iw.FOCUS_OUT,Ze=!GRe(Ee._f)&&!t.resolver&&!Bt(n.errors,at)&&!Ee._f.deps||ZRe(ke,Bt(n.touchedFields,at),n.isSubmitted,v,y),Fe=k5(at,s,ke);tr(a,at,G),ke?(Ee._f.onBlur&&Ee._f.onBlur(_e),l&&l(0)):Ee._f.onChange&&Ee._f.onChange(_e);const At=F(at,G,ke),Mt=!pa(At)||Fe;if(!ke&&g.state.next({name:at,type:_e.type,values:Ni(a)}),Ze)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?ke&&w():ke||w()),Mt&&g.state.next({name:at,...Fe?{}:At});if(!ke&&Fe&&g.state.next({...n}),t.resolver){const{errors:Nt}=await Y([at]);if(J(G),me){const Lt=N5(n.errors,r,at),zt=N5(Nt,r,Lt.name||at);$=zt.error,at=zt.name,K=pa(Nt)}}else x([at],!0),$=(await j5(Ee,s.disabled,a,_,t.shouldUseNativeValidation))[at],x([at]),J(G),me&&($?K=!1:(d.isValid||h.isValid)&&(K=await X(r,!0)));me&&(Ee._f.deps&&re(Ee._f.deps),Q(at,K,$,At))}},k=(_e,Be)=>{if(Bt(n.errors,Be)&&_e.focus)return _e.focus(),1},re=async(_e,Be={})=>{let at,me;const Ee=Um(_e);if(t.resolver){const J=await q(ni(_e)?_e:Ee);at=pa(J),me=_e?!Ee.some($=>Bt(J,$)):at}else _e?(me=(await Promise.all(Ee.map(async J=>{const $=Bt(r,J);return await X($&&$._f?{[J]:$}:$)}))).every(Boolean),!(!me&&!n.isValid)&&w()):me=at=await X(r);return g.state.next({...!Os(_e)||(d.isValid||h.isValid)&&at!==n.isValid?{}:{name:_e},...t.resolver||!_e?{isValid:at}:{},errors:n.errors}),Be.shouldFocus&&!me&&qm(r,k,_e?Ee:s.mount),me},ge=_e=>{const Be={...o.mount?a:i};return ni(_e)?Be:Os(_e)?Bt(Be,_e):_e.map(at=>Bt(Be,at))},W=(_e,Be)=>({invalid:!!Bt((Be||n).errors,_e),isDirty:!!Bt((Be||n).dirtyFields,_e),error:Bt((Be||n).errors,_e),isValidating:!!Bt(n.validatingFields,_e),isTouched:!!Bt((Be||n).touchedFields,_e)}),ee=_e=>{_e&&Um(_e).forEach(Be=>mi(n.errors,Be)),g.state.next({errors:_e?n.errors:{}})},pe=(_e,Be,at)=>{const me=(Bt(r,_e,{_f:{}})._f||{}).ref,Ee=Bt(n.errors,_e)||{},{ref:J,message:$,type:K,...G}=Ee;tr(n.errors,_e,{...G,...Be,ref:me}),g.state.next({name:_e,errors:n.errors,isValid:!1}),at&&at.shouldFocus&&me&&me.focus&&me.focus()},Te=(_e,Be)=>Yo(_e)?g.state.subscribe({next:at=>_e(oe(void 0,Be),at)}):oe(_e,Be,!0),Je=_e=>g.state.subscribe({next:Be=>{QRe(_e.name,Be.name,_e.exact)&&WRe(Be,_e.formState||d,De,_e.reRenderRoot)&&_e.callback({values:{...a},...n,...Be})}}).unsubscribe,Ae=_e=>(o.mount=!0,h={...h,..._e.formState},Je({..._e,formState:h})),$e=(_e,Be={})=>{for(const at of _e?Um(_e):s.mount)s.mount.delete(at),s.array.delete(at),Be.keepValue||(mi(r,at),mi(a,at)),!Be.keepError&&mi(n.errors,at),!Be.keepDirty&&mi(n.dirtyFields,at),!Be.keepTouched&&mi(n.touchedFields,at),!Be.keepIsValidating&&mi(n.validatingFields,at),!t.shouldUnregister&&!Be.keepDefaultValue&&mi(i,at);g.state.next({values:Ni(a)}),g.state.next({...n,...Be.keepDirty?{isDirty:te()}:{}}),!Be.keepIsValid&&w()},Xe=({disabled:_e,name:Be})=>{(Za(_e)&&o.mount||_e||s.disabled.has(Be))&&(_e?s.disabled.add(Be):s.disabled.delete(Be))},ae=(_e,Be={})=>{let at=Bt(r,_e);const me=Za(Be.disabled)||Za(t.disabled);return tr(r,_e,{...at||{},_f:{...at&&at._f?at._f:{ref:{name:_e}},name:_e,mount:!0,...Be}}),s.mount.add(_e),at?Xe({disabled:Za(Be.disabled)?Be.disabled:t.disabled,name:_e}):D(_e,!0,Be.value),{...me?{disabled:Be.disabled||t.disabled}:{},...t.progressive?{required:!!Be.required,min:cm(Be.min),max:cm(Be.max),minLength:cm(Be.minLength),maxLength:cm(Be.maxLength),pattern:cm(Be.pattern)}:{},name:_e,onChange:Re,onBlur:Re,ref:Ee=>{if(Ee){ae(_e,Be),at=Bt(r,_e);const J=ni(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,$=qRe(J),K=at._f.refs||[];if($?K.find(G=>G===J):J===at._f.ref)return;tr(r,_e,{_f:{...at._f,...$?{refs:[...K.filter(gR),J,...Array.isArray(Bt(i,_e))?[{}]:[]],ref:{type:J.type,name:_e}}:{ref:J}}}),D(_e,!1,void 0,J)}else at=Bt(r,_e,{}),at._f&&(at._f.mount=!1),(t.shouldUnregister||Be.shouldUnregister)&&!(IK(s.array,_e)&&o.action)&&s.unMount.add(_e)}}},H=()=>t.shouldFocusError&&qm(r,k,s.mount),B=_e=>{Za(_e)&&(g.state.next({disabled:_e}),qm(r,(Be,at)=>{const me=Bt(r,at);me&&(Be.disabled=me._f.disabled||_e,Array.isArray(me._f.refs)&&me._f.refs.forEach(Ee=>{Ee.disabled=me._f.disabled||_e}))},0,!1))},ie=(_e,Be)=>async at=>{let me;at&&(at.preventDefault&&at.preventDefault(),at.persist&&at.persist());let Ee=Ni(a);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:$}=await Y();n.errors=J,Ee=$}else await X(r);if(s.disabled.size)for(const J of s.disabled)tr(Ee,J,void 0);if(mi(n.errors,"root"),pa(n.errors)){g.state.next({errors:{}});try{await _e(Ee,at)}catch(J){me=J}}else Be&&await Be({...n.errors},at),H(),setTimeout(H);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pa(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},fe=(_e,Be={})=>{Bt(r,_e)&&(ni(Be.defaultValue)?se(_e,Ni(Bt(i,_e))):(se(_e,Be.defaultValue),tr(i,_e,Ni(Be.defaultValue))),Be.keepTouched||mi(n.touchedFields,_e),Be.keepDirty||(mi(n.dirtyFields,_e),n.isDirty=Be.defaultValue?te(_e,Ni(Bt(i,_e))):te()),Be.keepError||(mi(n.errors,_e),d.isValid&&w()),g.state.next({...n}))},Pe=(_e,Be={})=>{const at=_e?Ni(_e):i,me=Ni(at),Ee=pa(_e),J=Ee?i:me;if(Be.keepDefaultValues||(i=at),!Be.keepValues){if(Be.keepDirtyValues){const $=new Set([...s.mount,...Object.keys(lm(i,a))]);for(const K of Array.from($))Bt(n.dirtyFields,K)?tr(J,K,Bt(a,K)):se(K,Bt(J,K))}else{if(EL&&ni(_e))for(const $ of s.mount){const K=Bt(r,$);if(K&&K._f){const G=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(Dw(G)){const ke=G.closest("form");if(ke){ke.reset();break}}}}for(const $ of s.mount)se($,Bt(J,$))}a=Ni(J),g.array.next({values:{...J}}),g.state.next({values:{...J}})}s={mount:Be.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Be.keepIsValid||!!Be.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:Be.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:Be.keepDirty?n.isDirty:!!(Be.keepDefaultValues&&!Fl(_e,i)),isSubmitted:Be.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:Be.keepDirtyValues?Be.keepDefaultValues&&a?lm(i,a):n.dirtyFields:Be.keepDefaultValues&&_e?lm(i,_e):Be.keepDirty?n.dirtyFields:{},touchedFields:Be.keepTouched?n.touchedFields:{},errors:Be.keepErrors?n.errors:{},isSubmitSuccessful:Be.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ie=(_e,Be)=>Pe(Yo(_e)?_e(a):_e,Be),tt=(_e,Be={})=>{const at=Bt(r,_e),me=at&&at._f;if(me){const Ee=me.refs?me.refs[0]:me.ref;Ee.focus&&(Ee.focus(),Be.shouldSelect&&Yo(Ee.select)&&Ee.select())}},De=_e=>{n={...n,..._e}},gt={control:{register:ae,unregister:$e,getFieldState:W,handleSubmit:ie,setError:pe,_subscribe:Je,_runSchema:Y,_getWatch:oe,_getDirty:te,_setValid:w,_setFieldArray:R,_setDisabledField:Xe,_setErrors:O,_getFieldArray:he,_reset:Pe,_resetDefaultValues:()=>Yo(t.defaultValues)&&t.defaultValues().then(_e=>{Ie(_e,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:le,_disableForm:B,_subjects:g,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(_e){o=_e},get _defaultValues(){return i},get _names(){return s},set _names(_e){s=_e},get _formState(){return n},get _options(){return t},set _options(_e){t={...t,..._e}}},subscribe:Ae,trigger:re,register:ae,handleSubmit:ie,watch:Te,setValue:se,getValues:ge,reset:Ie,resetField:fe,clearErrors:ee,unregister:$e,setError:pe,setFocus:tt,getFieldState:W};return{...gt,formControl:gt}}function Bs(e={}){const t=Ot.useRef(void 0),n=Ot.useRef(void 0),[r,i]=Ot.useState({isDirty:!1,isValidating:!1,isLoading:Yo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:eAe(e),formState:r},e.formControl&&e.defaultValues&&!Yo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,RL(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),a._formState.isReady=!0,o},[a]),Ot.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ot.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode),e.errors&&!pa(e.errors)&&a._setErrors(e.errors)},[a,e.errors,e.mode,e.reValidateMode]),Ot.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Ot.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ot.useEffect(()=>{e.values&&!Fl(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),Ot.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=DK(r,a),t.current}const Jd=({value:e,...t})=>{const[n,r]=V.useState(!1);return n?U.jsxs(U.Fragment,{children:[U.jsx("input",{...t})," ",U.jsx("button",{type:"button",onClick:()=>{r(!1)},children:U.jsx(Ty,{})})]}):U.jsxs(U.Fragment,{children:[e," ",U.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:U.jsx(tz,{})})]})},tAe=({onSuccess:e,isPublicTypeIndex:t,isPrivateTypeIndex:n,isPreferencesFile:r,isInbox:i,preferencesFile:a,privateTypeIndex:o,publicTypeIndex:s,webId:l,storage:c})=>{const{i18n:d,_:h}=Ur(),g=LRe(),y=ARe(),v=IRe(),_=RRe(),S=nAe(c,a,o,s)??new URL("settings/",c).toString(),{watch:w,register:x,handleSubmit:R}=Bs({defaultValues:{preferencesFile:new URL("preferences.ttl",S).toString(),publicTypeIndex:new URL("publicTypeIndex.ttl",S).toString(),privateTypeIndex:new URL("privateTypeIndex.ttl",S).toString(),inbox:new URL("./inbox/",c).toString()}}),P=R(async({publicTypeIndex:O,privateTypeIndex:D,preferencesFile:F,inbox:Q})=>{if(t===void 0||n===void 0||r===void 0||i===void 0)throw new Error(d._({id:"XCH5Qf"}));r||await _({preferencesFile:F,privateTypeIndex:o,webId:l}),t===!1&&await g({publicTypeIndex:O,webId:l}),n===!1&&await y({privateTypeIndex:D,preferencesFile:a||F,webId:l}),i===!1&&await v({inbox:Q,webId:l}),e()});return U.jsxs("form",{onSubmit:P,children:[U.jsx("div",{children:r?U.jsx(wt,{id:"H2Pd5s"}):U.jsxs(U.Fragment,{children:[U.jsx(wt,{id:"jevYpv"})," ",U.jsx(Jd,{value:Wl(w("preferencesFile"),c),...x("preferencesFile",{required:!0}),type:"url"})]})}),U.jsx("div",{children:t?U.jsx(wt,{id:"AywWH9"}):U.jsxs(U.Fragment,{children:[U.jsx(wt,{id:"/qBoT3"})," ",U.jsx(Jd,{value:Wl(w("publicTypeIndex"),c),...x("publicTypeIndex",{required:!0}),type:"url"})]})}),U.jsx("div",{children:n?U.jsx(wt,{id:"ei1Uj7"}):U.jsxs(U.Fragment,{children:[U.jsx(wt,{id:"47l1wN"})," ",U.jsx(Jd,{value:Wl(w("privateTypeIndex"),c),...x("privateTypeIndex",{required:!0}),type:"url"})]})}),U.jsx("div",{children:i?U.jsx(wt,{id:"d/3T+G"}):U.jsxs(U.Fragment,{children:[U.jsx(wt,{id:"17JZAf"})," ",U.jsx(Jd,{value:Wl(w("inbox"),c),...x("inbox",{required:!0}),type:"url"})]})}),U.jsx(rr,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:U.jsx(wt,{id:"xGVfLh"})})]})},nAe=(e,...t)=>{if(e)for(const n of t){if(!n)break;const r=di(n),i=Wl(r,e);if(i&&i!=="/"&&i.includes(e))return r}},rAe=()=>{const e=ao();return V.useCallback(async({person:t,group:n})=>{const r=`_:mutate a <${En.InsertDeletePatch}>;
        <${En.inserts}> { <${n}> <${V9.hasMember}> <${t}>. } .`;await e.mutateAsync({uri:n,patch:r})},[e])},iAe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Group",id:t}}),aAe=async({inbox:e,...t})=>{const n=await ar(e,{method:"POST",body:JSON.stringify(iAe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Po("Community inbox responded with error",n);const r=n.headers.get("location");return{...t,status:n.status,group:r}},oAe=()=>{const e=Ui(),{mutateAsync:t}=lo({mutationFn:aAe,onSuccess:async n=>{n.group&&await e.invalidateQueries({queryKey:[Qr.rdfDocument,uc(n.group)]})}});return t},sAe=({onSuccess:e,isMember:t,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:a,communityId:o}=Nn(),s=vi(),{i18n:l,_:c}=Ur(),d=RK(s.webId??""),h=zu(o),g=rAe(),y=oAe(),v=ORe(),_=PRe(),S=AK(),w=d&&`${d}hospex/${a}/card`,{handleSubmit:x,register:R,watch:P,setValue:O}=Bs({defaultValues:{newHospexDocument:w}});V.useEffect(()=>{d&&O("newHospexDocument",`${d}hospex/${a}/card`)},[a,O,d]);const D=P("newHospexDocument");if(!d||!D)return U.jsx(U.Fragment,{children:"..."});const F=x(async({hospexDocument:Y,newHospexDocument:q})=>{if(!i)throw new Error(l._({id:"MPWsQ5"}));if(n||(r.length===0||Y==="new"?(await v({uri:q,webId:s.webId,communityId:o}),await S({index:i,type:lc.PersonalHospexDocument,location:q})):await _({uri:Y,webId:s.webId})),!t)if(h.inbox)await y({actor:s.webId,object:h.community,type:"Join",inbox:h.inbox});else{if(!h.groups[0])throw new Error(l._({id:"FTXS9n"}));await g({person:s.webId,group:h.groups[0]})}e()}),Q=h.name||o;return U.jsxs("form",{onSubmit:F,children:[t?U.jsx("li",{children:U.jsx(wt,{id:"CDTRqk",values:{communityLabel:Q}})}):U.jsx("li",{children:U.jsx(wt,{id:"kH9S1u",values:{communityLabel:Q}})}),!n&&r.length===0&&U.jsxs("li",{children:[U.jsx(wt,{id:"V7MiWJ"})," ",U.jsx(Jd,{value:Wl(D,d),...R("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&U.jsxs("li",{children:[U.jsx("legend",{children:U.jsx(wt,{id:"kJXPN2"})}),U.jsxs("fieldset",{className:Nl.storageOptions,children:[U.jsx("legend",{children:U.jsx(wt,{id:"kpCcav"})}),U.jsxs("div",{className:Nl.option,children:[U.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...R("hospexDocument",{required:!0})})," ",U.jsxs("label",{htmlFor:"new-hospex-document",children:[U.jsx(wt,{id:"rX1tOl"}),U.jsx(Jd,{...R("newHospexDocument",{required:!0}),value:Wl(P("newHospexDocument"),d)})]})]}),U.jsxs("div",{children:[U.jsx("legend",{children:U.jsx(wt,{id:"Monbkf",components:{0:U.jsx("i",{})}})}),r.map(({hospexDocument:Y,communities:q},X)=>U.jsxs("div",{className:Nl.option,children:[U.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${X}`,value:Y,...R("hospexDocument")})," ",U.jsxs("label",{htmlFor:`hospexDocument-${X}`,children:[q.map(le=>le.name??le.uri).join(", ")," (",Wl(Y,d),")"]})]},Y))]})]})]}),U.jsx(rr,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:U.jsx(wt,{id:"xGVfLh"})})]})};var mR,$5;function uAe(){if($5)return mR;$5=1;var e=bz(),t=vb(),n=Mz(),r=xz(),i=DH(),a=Math.max;function o(s){if(!(s&&s.length))return[];var l=0;return s=e(s,function(c){if(i(c))return l=a(c.length,l),!0}),r(l,function(c){return t(s,n(c))})}return mR=o,mR}var yR,B5;function lAe(){if(B5)return yR;B5=1;var e=FH(),t=vb(),n=uAe();function r(i,a){if(!(i&&i.length))return[];var o=n(i);return a==null?o:t(o,function(s){return e(a,void 0,s)})}return yR=r,yR}var vR,U5;function cAe(){if(U5)return vR;U5=1;var e=BH(),t=lAe(),n=e(function(r){var i=r.length,a=i>1?r[i-1]:void 0;return a=typeof a=="function"?(r.pop(),a):void 0,t(r,a)});return vR=n,vR}var fAe=cAe();const dAe=Mr(fAe),hAe=()=>{const e=vi(),{communityId:t}=Nn(),{variables:n,isLoading:r}=wa({query:n_e,variables:V.useMemo(()=>({person:e.webId?[e.webId]:void 0,community:[t]}),[e.webId,t]),fetch:ar}),i=n.hospexPreferencesFile,{results:a}=CRe(i??[]);return{results:dAe(i??[],a,(s,l)=>({url:s,permissions:l})),isLoading:r}},pAe=({onSuccess:e,isEmailNotifications:t,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?U.jsx(gAe,{onSuccess:e,isEmailNotifications:n,hospexDocument:r}):t!=="unset"?U.jsx(mAe,{onSuccess:e,isEmailNotifications:t,inbox:i}):U.jsx(yAe,{onSuccess:e}),gAe=({onSuccess:e,isEmailNotifications:t,hospexDocument:n})=>{const{handleSubmit:r,register:i}=Bs(),[a,o]=V.useState(!1),[s,l]=V.useState(!1),[c,d]=V.useState(),[h,g]=V.useState(0),y=kRe(),v=DRe(),{webId:_}=vi(),{i18n:S,_:w}=Ur(),{emailNotificationsIdentity:x,emailNotificationsService:R}=Nn(),{results:P}=hAe(),O=P.some(q=>{var X,le;return q.url&&((le=(X=q.permissions.acls[0])==null?void 0:X.accesses)==null?void 0:le.some(te=>te.agents.includes(x)&&(te.modes.includes(Xa.Write)||te.modes.includes(Xa.Append))&&te.modes.includes(Xa.Read)))}),D=EK(_,R);V.useEffect(()=>{if(h>0){const q=setTimeout(()=>g(h-1),1e3);return()=>clearTimeout(q)}},[h]);const F=r(async({email:q})=>{l(!0);try{if(!n)throw new Error(S._({id:"35KTBT"}));t||(O||await y({hospexDocument:n,webId:_,email:q}),await v.mutateAsync({email:q}),o(!0),g(60),d(q))}finally{l(!1)}}),Q=Ui(),Y=()=>{Q.invalidateQueries({queryKey:[Qr.simpleMailerIntegration]})};return t?U.jsxs("div",{children:[U.jsx(Ty,{}),U.jsx(wt,{id:"VM9oSF"}),U.jsx(rr,{primary:!0,onClick:e,children:U.jsx(wt,{id:"8BwQeU"})})]}):U.jsxs("form",{onSubmit:F,children:[!t&&U.jsxs("div",{children:[U.jsxs("div",{children:[U.jsx(wt,{id:"42aUkb"})," ",U.jsx("input",{required:!0,placeholder:S._({id:"ocwjau"}),...i("email"),type:"email",disabled:a}),U.jsx(rr,{type:"submit",secondary:!0,disabled:s||h>0,children:h>0?U.jsx(wt,{id:"uliB7J",values:{countdown:h}}):U.jsx(wt,{id:"vp9yIB"})})]}),a&&!s&&U.jsx("div",{children:U.jsx(wt,{id:"MYOoIS",values:{sentToEmail:c},components:{0:U.jsx("br",{})}})})]}),U.jsxs(rr,{type:"button",primary:!0,disabled:!a||D.isRefetching,onClick:Y,children:[U.jsx(wt,{id:"8BwQeU"})," ",D.isRefetching&&U.jsx(SK,{})]})]})},mAe=({onSuccess:e,isEmailNotifications:t,inbox:n})=>{const{i18n:r,_:i}=Ur(),a=MRe(),{handleSubmit:o,register:s}=Bs(),{webId:l}=vi(),c=Ui(),d=()=>{c.invalidateQueries({queryKey:[Qr.mailerIntegration]})},h=o(({email:g})=>{if(!n)throw new Error(r._({id:"fo1jSY"}));a({email:g,webId:l,inbox:n})});return t===!0?U.jsxs("div",{children:[U.jsx(Ty,{}),U.jsx(wt,{id:"VM9oSF"}),U.jsx(rr,{primary:!0,onClick:e,children:U.jsx(wt,{id:"8BwQeU"})})]}):U.jsxs("form",{onSubmit:h,children:[!t&&U.jsxs("div",{children:[U.jsx(wt,{id:"lYCAyX"})," ",U.jsx("input",{type:"email",placeholder:r._({id:"z8F4/3"}),...s("email"),required:!0}),U.jsx(rr,{type:"submit",primary:!0,children:U.jsx(wt,{id:"vp9yIB"})})]}),t==="unverified"&&U.jsxs("div",{children:[U.jsx(wt,{id:"F132R+"}),U.jsx(rr,{type:"button",primary:!0,onClick:d,children:U.jsx(wt,{id:"8BwQeU"})})]})]})},yAe=({onSuccess:e})=>U.jsxs("div",{children:[U.jsx(Ty,{})," ",U.jsx(wt,{id:"heRuNl"}),U.jsx("div",{children:U.jsx(rr,{primary:!0,onClick:e,children:U.jsx(wt,{id:"8BwQeU"})})})]});var Qc=function(e){return e.isMember="isMember",e.isHospexProfile="isHospexProfile",e.isPublicTypeIndex="isPublicTypeIndex",e.isPrivateTypeIndex="isPrivateTypeIndex",e.isPreferencesFile="isPreferencesFile",e.isInbox="isInbox",e.isSimpleEmailNotifications="isSimpleEmailNotifications",e.isEmailNotifications="isEmailNotifications",e}({});const vAe=[[Qc.isPublicTypeIndex,Qc.isPrivateTypeIndex,Qc.isInbox],[Qc.isMember,Qc.isHospexProfile],[Qc.isEmailNotifications,Qc.isSimpleEmailNotifications]],_Ae=e=>{const t=vAe.map(o=>cRe(e,o)).map(o=>Object.values(o).every(s=>s)),n=vi(),r=RK(n.webId),i=Nn(),a=V.useMemo(()=>{var o;return[{title:U.jsx(wt,{id:"FQjzSF"}),content:r&&n.webId?U.jsx(tAe,{onSuccess:()=>e.onStepChange(1),isPublicTypeIndex:e.isPublicTypeIndex,isPrivateTypeIndex:e.isPrivateTypeIndex,isPreferencesFile:e.isPreferencesFile,isInbox:e.isInbox,storage:r,webId:n.webId,preferencesFile:e.preferencesFiles[0],publicTypeIndex:e.preferencesFiles[0],privateTypeIndex:e.privateTypeIndexes[0]}):null},{title:U.jsx(wt,{id:"BLFgtR"}),content:U.jsx(sAe,{onSuccess:()=>e.onStepChange(2),isMember:e.isMember,isHospexProfile:e.isHospexProfile,allHospex:e.allHospex,publicTypeIndex:e.publicTypeIndexes[0]})},{title:U.jsx(wt,{id:"sCXkJv"}),content:U.jsx(pAe,{isEmailNotifications:e.isEmailNotifications,isSimpleEmailNotifications:e.isSimpleEmailNotifications,hospexDocument:(o=e.allHospex.find(s=>s.communities.some(l=>l.uri===i.communityId)))==null?void 0:o.hospexDocument,inbox:e.inboxes[0],onSuccess:()=>{}})}]},[n.webId,i.communityId,e,r]);return r?U.jsxs("div",{className:Nl.container,children:[U.jsx("h1",{children:U.jsx(wt,{id:"RDjuBN"})}),U.jsxs(uL,{value:String(e.step),onValueChange:o=>e.onStepChange(+o),children:[U.jsx(lL,{className:Nl.list,loop:!1,children:a.map((o,s)=>U.jsx(cL,{className:Ar(Nl.trigger,s<a.length-1&&Nl.connect),value:String(s),disabled:!t.slice(0,s).every(l=>!!l),children:s+1},s))}),a.map((o,s)=>U.jsxs(fL,{value:String(s),className:Nl.content,children:[U.jsx("h2",{children:o.title}),o.content]},s))]})]}):U.jsx(U.Fragment,{children:"..."})},wAe="_checkingContainer_ormma_1",q5={checkingContainer:wAe},bAe=()=>{const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=Nn(),r=$r(Bh),[i,a]=V.useState(0),o=iy(r.webId??"",e??""),s=TK(o,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","preferencesFiles","inboxes","allHospex"]),l=zTe(r.webId,n==="simple"?t:""),c=UTe(o.inboxes[0]??"",n==="solid"?t:"");if(Object.values(o).every(g=>g)&&(c===!0||c==="unset")&&(l===!0||l==="unset"))return U.jsx(Ww,{});const h=Object.entries(s).filter(([,g])=>g===void 0).map(([g])=>g);return l===void 0&&h.push("isSimpleEmailNotifications"),c===void 0&&h.push("isEmailNotifications"),Object.values(o).some(g=>g===void 0)||l===void 0||c===void 0?U.jsx(SAe,{...s,isEmailNotifications:c,isSimpleEmailNotifications:l}):U.jsx(_Ae,{...o,isSimpleEmailNotifications:l,isEmailNotifications:c,step:i,onStepChange:a})},SAe=e=>{const t=Object.entries(e).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:xAe(n),value:r}));return U.jsxs("div",{className:q5.checkingContainer,children:[U.jsx("h2",{children:U.jsx(wt,{id:"ciEJp2"})}),U.jsx("p",{children:U.jsx(wt,{id:"iIICHU"})}),U.jsx("ul",{className:q5.checklist,children:t.map(n=>U.jsxs("li",{children:[n.value===!0?U.jsx(Ty,{}):n.value===!1?U.jsx(_w,{}):n.value==="unverified"?U.jsx(ume,{}):U.jsx(SK,{})," ",n.label]},n.key))})]})},xAe=e=>e.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());var I_={exports:{}},Tl={},M_={exports:{}},xo={},D_={exports:{}},z5;function zK(){return z5||(z5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(h,g){return g.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var g=h.offsetWidth<=0&&h.offsetHeight<=0;if(g&&!h.innerHTML)return!0;try{var y=window.getComputedStyle(h),v=y.getPropertyValue("display");return g?v!==r&&a(h,y):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(h){for(var g=h,y=h.getRootNode&&h.getRootNode();g&&g!==document.body;){if(y&&g===y&&(g=y.host.parentNode),o(g))return!1;g=g.parentNode}return!0}function l(h,g){var y=h.nodeName.toLowerCase(),v=i.test(y)&&!h.disabled||y==="a"&&h.href||g;return v&&s(h)}function c(h){var g=h.getAttribute("tabindex");g===null&&(g=void 0);var y=isNaN(g);return(y||g>=0)&&l(h,!y)}function d(h){var g=[].slice.call(h.querySelectorAll("*"),0).reduce(function(y,v){return y.concat(v.shadowRoot?d(v.shadowRoot):[v])},[]);return g.filter(c)}e.exports=t.default}(D_,D_.exports)),D_.exports}var H5;function EAe(){if(H5)return xo;H5=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.resetState=o,xo.log=s,xo.handleBlur=l,xo.handleFocus=c,xo.markForFocusLater=d,xo.returnFocus=h,xo.popWithoutFocus=g,xo.setupScopedFocus=y,xo.teardownScopedFocus=v;var e=zK(),t=n(e);function n(_){return _&&_.__esModule?_:{default:_}}var r=[],i=null,a=!1;function o(){r=[]}function s(){}function l(){a=!0}function c(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var _=(0,t.default)(i)[0]||i;_.focus()}},0)}}function d(){r.push(document.activeElement)}function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=null;try{r.length!==0&&(S=r.pop(),S.focus({preventScroll:_}));return}catch{console.warn(["You tried to return focus to",S,"but it is not in the DOM anymore"].join(" "))}}function g(){r.length>0&&r.pop()}function y(_){i=_,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function v(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return xo}var k_={exports:{}},V5;function CAe(){return V5||(V5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=zK(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?a(s.activeElement.shadowRoot):s.activeElement}function o(s,l){var c=(0,r.default)(s);if(!c.length){l.preventDefault();return}var d=void 0,h=l.shiftKey,g=c[0],y=c[c.length-1],v=a();if(s===v){if(!h)return;d=y}if(y===v&&!h&&(d=g),g===v&&h&&(d=y),d){l.preventDefault(),d.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var w=c.indexOf(v);if(w>-1&&(w+=h?-1:1),d=c[w],typeof d>"u"){l.preventDefault(),d=h?y:g,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default}(k_,k_.exports)),k_.exports}var qo={},_R,K5;function TAe(){if(K5)return _R;K5=1;var e=function(){};return _R=e,_R}var ys={},wR={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var G5;function RAe(){return G5||(G5=1,function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()}(wR)),wR.exports}var W5;function OL(){if(W5)return ys;W5=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.canUseDOM=ys.SafeNodeList=ys.SafeHTMLCollection=void 0;var e=RAe(),t=n(e);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default,i=r.canUseDOM?window.HTMLElement:{};return ys.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},ys.SafeNodeList=r.canUseDOM?window.NodeList:{},ys.canUseDOM=r.canUseDOM,ys.default=i,ys}var Q5;function HK(){if(Q5)return qo;Q5=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.resetState=a,qo.log=o,qo.assertNodeList=s,qo.setElement=l,qo.validateElement=c,qo.hide=d,qo.show=h,qo.documentNotReadyOrSSRTesting=g;var e=TAe(),t=r(e),n=OL();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function o(){}function s(y,v){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function l(y){var v=y;if(typeof v=="string"&&n.canUseDOM){var _=document.querySelectorAll(v);s(_,v),v=_}return i=v||i,i}function c(y){var v=y||i;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function d(y){var v=!0,_=!1,S=void 0;try{for(var w=c(y)[Symbol.iterator](),x;!(v=(x=w.next()).done);v=!0){var R=x.value;R.setAttribute("aria-hidden","true")}}catch(P){_=!0,S=P}finally{try{!v&&w.return&&w.return()}finally{if(_)throw S}}}function h(y){var v=!0,_=!1,S=void 0;try{for(var w=c(y)[Symbol.iterator](),x;!(v=(x=w.next()).done);v=!0){var R=x.value;R.removeAttribute("aria-hidden")}}catch(P){_=!0,S=P}finally{try{!v&&w.return&&w.return()}finally{if(_)throw S}}}function g(){i=null}return qo}var Zc={},Z5;function AAe(){if(Z5)return Zc;Z5=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.resetState=r,Zc.log=i;var e={},t={};function n(c,d){c.classList.remove(d)}function r(){var c=document.getElementsByTagName("html")[0];for(var d in e)n(c,e[d]);var h=document.body;for(var g in t)n(h,t[g]);e={},t={}}function i(){}var a=function(d,h){return d[h]||(d[h]=0),d[h]+=1,h},o=function(d,h){return d[h]&&(d[h]-=1),h},s=function(d,h,g){g.forEach(function(y){a(h,y),d.add(y)})},l=function(d,h,g){g.forEach(function(y){o(h,y),h[y]===0&&d.remove(y)})};return Zc.add=function(d,h){return s(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Zc.remove=function(d,h){return l(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Zc}var qd={},J5;function VK(){if(J5)return qd;J5=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.log=r,qd.resetState=i;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var t=function a(){var o=this;e(this,a),this.register=function(s){o.openInstances.indexOf(s)===-1&&(o.openInstances.push(s),o.emit("register"))},this.deregister=function(s){var l=o.openInstances.indexOf(s);l!==-1&&(o.openInstances.splice(l,1),o.emit("deregister"))},this.subscribe=function(s){o.subscribers.push(s)},this.emit=function(s){o.subscribers.forEach(function(l){return l(s,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new t}return qd.default=n,qd}var fm={},X5;function PAe(){if(X5)return fm;X5=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.resetState=o,fm.log=s;var e=VK(),t=n(e);function n(d){return d&&d.__esModule?d:{default:d}}var r=void 0,i=void 0,a=[];function o(){for(var d=[r,i],h=0;h<d.length;h++){var g=d[h];g&&g.parentNode&&g.parentNode.removeChild(g)}r=i=null,a=[]}function s(){console.log("bodyTrap ----------"),console.log(a.length);for(var d=[r,i],h=0;h<d.length;h++){var g=d[h],y=g||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function c(d,h){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=h,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return t.default.subscribe(c),fm}var Y5;function OAe(){return Y5||(Y5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(oe){for(var he=1;he<arguments.length;he++){var ve=arguments[he];for(var de in ve)Object.prototype.hasOwnProperty.call(ve,de)&&(oe[de]=ve[de])}return oe},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},i=function(){function oe(he,ve){for(var de=0;de<ve.length;de++){var se=ve[de];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(he,se.key,se)}}return function(he,ve,de){return ve&&oe(he.prototype,ve),de&&oe(he,de),he}}(),a=Nh(),o=GH(),s=O(o),l=EAe(),c=P(l),d=CAe(),h=O(d),g=HK(),y=P(g),v=AAe(),_=P(v),S=OL(),w=O(S),x=VK(),R=O(x);PAe();function P(oe){if(oe&&oe.__esModule)return oe;var he={};if(oe!=null)for(var ve in oe)Object.prototype.hasOwnProperty.call(oe,ve)&&(he[ve]=oe[ve]);return he.default=oe,he}function O(oe){return oe&&oe.__esModule?oe:{default:oe}}function D(oe,he){if(!(oe instanceof he))throw new TypeError("Cannot call a class as a function")}function F(oe,he){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he&&(typeof he=="object"||typeof he=="function")?he:oe}function Q(oe,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof he);oe.prototype=Object.create(he&&he.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),he&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,he):oe.__proto__=he)}var Y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},q=function(he){return he.code==="Tab"||he.keyCode===9},X=function(he){return he.code==="Escape"||he.keyCode===27},le=0,te=function(oe){Q(he,oe);function he(ve){D(this,he);var de=F(this,(he.__proto__||Object.getPrototypeOf(he)).call(this,ve));return de.setOverlayRef=function(se){de.overlay=se,de.props.overlayRef&&de.props.overlayRef(se)},de.setContentRef=function(se){de.content=se,de.props.contentRef&&de.props.contentRef(se)},de.afterClose=function(){var se=de.props,Re=se.appElement,k=se.ariaHideApp,re=se.htmlOpenClassName,ge=se.bodyOpenClassName,W=se.parentSelector,ee=W&&W().ownerDocument||document;ge&&_.remove(ee.body,ge),re&&_.remove(ee.getElementsByTagName("html")[0],re),k&&le>0&&(le-=1,le===0&&y.show(Re)),de.props.shouldFocusAfterRender&&(de.props.shouldReturnFocusAfterClose?(c.returnFocus(de.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),de.props.onAfterClose&&de.props.onAfterClose(),R.default.deregister(de)},de.open=function(){de.beforeOpen(),de.state.afterOpen&&de.state.beforeClose?(clearTimeout(de.closeTimer),de.setState({beforeClose:!1})):(de.props.shouldFocusAfterRender&&(c.setupScopedFocus(de.node),c.markForFocusLater()),de.setState({isOpen:!0},function(){de.openAnimationFrame=requestAnimationFrame(function(){de.setState({afterOpen:!0}),de.props.isOpen&&de.props.onAfterOpen&&de.props.onAfterOpen({overlayEl:de.overlay,contentEl:de.content})})}))},de.close=function(){de.props.closeTimeoutMS>0?de.closeWithTimeout():de.closeWithoutTimeout()},de.focusContent=function(){return de.content&&!de.contentHasFocus()&&de.content.focus({preventScroll:!0})},de.closeWithTimeout=function(){var se=Date.now()+de.props.closeTimeoutMS;de.setState({beforeClose:!0,closesAt:se},function(){de.closeTimer=setTimeout(de.closeWithoutTimeout,de.state.closesAt-Date.now())})},de.closeWithoutTimeout=function(){de.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},de.afterClose)},de.handleKeyDown=function(se){q(se)&&(0,h.default)(de.content,se),de.props.shouldCloseOnEsc&&X(se)&&(se.stopPropagation(),de.requestClose(se))},de.handleOverlayOnClick=function(se){de.shouldClose===null&&(de.shouldClose=!0),de.shouldClose&&de.props.shouldCloseOnOverlayClick&&(de.ownerHandlesClose()?de.requestClose(se):de.focusContent()),de.shouldClose=null},de.handleContentOnMouseUp=function(){de.shouldClose=!1},de.handleOverlayOnMouseDown=function(se){!de.props.shouldCloseOnOverlayClick&&se.target==de.overlay&&se.preventDefault()},de.handleContentOnClick=function(){de.shouldClose=!1},de.handleContentOnMouseDown=function(){de.shouldClose=!1},de.requestClose=function(se){return de.ownerHandlesClose()&&de.props.onRequestClose(se)},de.ownerHandlesClose=function(){return de.props.onRequestClose},de.shouldBeClosed=function(){return!de.state.isOpen&&!de.state.beforeClose},de.contentHasFocus=function(){return document.activeElement===de.content||de.content.contains(document.activeElement)},de.buildClassName=function(se,Re){var k=(typeof Re>"u"?"undefined":r(Re))==="object"?Re:{base:Y[se],afterOpen:Y[se]+"--after-open",beforeClose:Y[se]+"--before-close"},re=k.base;return de.state.afterOpen&&(re=re+" "+k.afterOpen),de.state.beforeClose&&(re=re+" "+k.beforeClose),typeof Re=="string"&&Re?re+" "+Re:re},de.attributesFromObject=function(se,Re){return Object.keys(Re).reduce(function(k,re){return k[se+"-"+re]=Re[re],k},{})},de.state={afterOpen:!1,beforeClose:!1},de.shouldClose=null,de.moveFromContentToOverlay=null,de}return i(he,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(de,se){this.props.isOpen&&!de.isOpen?this.open():!this.props.isOpen&&de.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!se.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var de=this.props,se=de.appElement,Re=de.ariaHideApp,k=de.htmlOpenClassName,re=de.bodyOpenClassName,ge=de.parentSelector,W=ge&&ge().ownerDocument||document;re&&_.add(W.body,re),k&&_.add(W.getElementsByTagName("html")[0],k),Re&&(le+=1,y.hide(se)),R.default.register(this)}},{key:"render",value:function(){var de=this.props,se=de.id,Re=de.className,k=de.overlayClassName,re=de.defaultStyles,ge=de.children,W=Re?{}:re.content,ee=k?{}:re.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},ee,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Te=n({id:se,ref:this.setContentRef,style:n({},W,this.props.style.content),className:this.buildClassName("content",Re),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Je=this.props.contentElement(Te,ge);return this.props.overlayElement(pe,Je)}}]),he}(a.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(w.default),s.default.instanceOf(S.SafeHTMLCollection),s.default.instanceOf(S.SafeNodeList),s.default.arrayOf(s.default.instanceOf(w.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=te,e.exports=t.default}(M_,M_.exports)),M_.exports}function KK(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function GK(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function WK(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}KK.__suppressDeprecationWarning=!0;GK.__suppressDeprecationWarning=!0;WK.__suppressDeprecationWarning=!0;function LAe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=KK,t.componentWillReceiveProps=GK),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=WK;var s=t.componentDidUpdate;t.componentDidUpdate=function(c,d,h){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;s.call(this,c,d,g)}}return e}const IAe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:LAe},Symbol.toStringTag,{value:"Module"})),MAe=PU(IAe);var e8;function DAe(){if(e8)return Tl;e8=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.bodyOpenClassName=Tl.portalClassName=void 0;var e=Object.assign||function(X){for(var le=1;le<arguments.length;le++){var te=arguments[le];for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(X[oe]=te[oe])}return X},t=function(){function X(le,te){for(var oe=0;oe<te.length;oe++){var he=te[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(le,he.key,he)}}return function(le,te,oe){return te&&X(le.prototype,te),oe&&X(le,oe),le}}(),n=Nh(),r=S(n),i=RP(),a=S(i),o=GH(),s=S(o),l=OAe(),c=S(l),d=HK(),h=_(d),g=OL(),y=S(g),v=MAe;function _(X){if(X&&X.__esModule)return X;var le={};if(X!=null)for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(le[te]=X[te]);return le.default=X,le}function S(X){return X&&X.__esModule?X:{default:X}}function w(X,le){if(!(X instanceof le))throw new TypeError("Cannot call a class as a function")}function x(X,le){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:X}function R(X,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);X.prototype=Object.create(le&&le.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(X,le):X.__proto__=le)}var P=Tl.portalClassName="ReactModalPortal",O=Tl.bodyOpenClassName="ReactModal__Body--open",D=g.canUseDOM&&a.default.createPortal!==void 0,F=function(le){return document.createElement(le)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function Y(X){return X()}var q=function(X){R(le,X);function le(){var te,oe,he,ve;w(this,le);for(var de=arguments.length,se=Array(de),Re=0;Re<de;Re++)se[Re]=arguments[Re];return ve=(oe=(he=x(this,(te=le.__proto__||Object.getPrototypeOf(le)).call.apply(te,[this].concat(se))),he),he.removePortal=function(){!D&&a.default.unmountComponentAtNode(he.node);var k=Y(he.props.parentSelector);k&&k.contains(he.node)?k.removeChild(he.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},he.portalRef=function(k){he.portal=k},he.renderPortal=function(k){var re=Q(),ge=re(he,r.default.createElement(c.default,e({defaultStyles:le.defaultStyles},k)),he.node);he.portalRef(ge)},oe),x(he,ve)}return t(le,[{key:"componentDidMount",value:function(){if(g.canUseDOM){D||(this.node=F("div")),this.node.className=this.props.portalClassName;var oe=Y(this.props.parentSelector);oe.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(oe){var he=Y(oe.parentSelector),ve=Y(this.props.parentSelector);return{prevParent:he,nextParent:ve}}},{key:"componentDidUpdate",value:function(oe,he,ve){if(g.canUseDOM){var de=this.props,se=de.isOpen,Re=de.portalClassName;oe.portalClassName!==Re&&(this.node.className=Re);var k=ve.prevParent,re=ve.nextParent;re!==k&&(k.removeChild(this.node),re.appendChild(this.node)),!(!oe.isOpen&&!se)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!g.canUseDOM||!this.node||!this.portal)){var oe=this.portal.state,he=Date.now(),ve=oe.isOpen&&this.props.closeTimeoutMS&&(oe.closesAt||he+this.props.closeTimeoutMS);ve?(oe.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,ve-he)):this.removePortal()}}},{key:"render",value:function(){if(!g.canUseDOM||!D)return null;!this.node&&D&&(this.node=F("div"));var oe=Q();return oe(r.default.createElement(c.default,e({ref:this.portalRef,defaultStyles:le.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(oe){h.setElement(oe)}}]),le}(n.Component);return q.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(g.SafeHTMLCollection),s.default.instanceOf(g.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},q.defaultProps={isOpen:!1,portalClassName:P,bodyOpenClassName:O,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(le,te){return r.default.createElement("div",le,te)},contentElement:function(le,te){return r.default.createElement("div",le,te)}},q.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(q),Tl.default=q,Tl}var t8;function kAe(){return t8||(t8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=DAe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default}(I_,I_.exports)),I_.exports}var NAe=kAe();const QK=Mr(NAe),FAe="_modal_s2w5u_1",jAe="_overlay_s2w5u_14",n8={modal:FAe,overlay:jAe};QK.setAppElement("#root");const qb=({className:e,overlayClassName:t,...n})=>U.jsx(QK,{className:Ar(n8.modal,e),overlayClassName:Ar(n8.overlay,t),...n}),$Ae="_container_1buxd_1",BAe="_content_1buxd_18",UAe="_podOptions_1buxd_18",qAe="_tabs_1buxd_18",zAe="_tabContent_1buxd_38",HAe="_footer_1buxd_41",VAe="_email_1buxd_41",Jc={container:$Ae,content:BAe,podOptions:UAe,tabs:qAe,tabContent:zAe,footer:HAe,email:VAe},bR=({issuer:e,registration:t,children:n})=>{const r=oc();return U.jsx(xme,{secondary:!0,href:t,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(pw.setLastSelectedIssuer(e))},"data-cy":"pod-provider-signup-link",children:n??new URL(e).hostname})},KAe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=Nn(),{i18n:r,_:i}=Ur(),o=zu(t).name||n;return V.useMemo(()=>[{id:"show-options",label:r._({id:"mOHsO6"}),content:U.jsxs(U.Fragment,{children:[U.jsx(wt,{id:"GipwRZ",values:{communityName:o}}),U.jsx("ul",{children:e.filter(l=>l.registration).map(l=>U.jsx("li",{children:U.jsx(bR,{...l})},l.issuer))})]})},{id:"choose-for-me",label:r._({id:"6BXxLh"}),content:U.jsxs(U.Fragment,{children:[U.jsx(bR,{...e.find(l=>l.recommended),children:U.jsx(wt,{id:"kNJ1eb"})}),U.jsx("br",{}),U.jsx(wt,{id:"OSMhQH",components:{0:U.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer"})}})]})},{id:"more-control",label:r._({id:"BvOhbj"}),content:U.jsxs(U.Fragment,{children:[U.jsx("p",{children:U.jsx(wt,{id:"CIxMWI",components:{0:U.jsx("b",{}),1:U.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer"})}})}),U.jsx("p",{children:U.jsx("i",{children:U.jsx(wt,{id:"vXZPG5",components:{0:U.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer"})}})})}),U.jsx("hr",{}),U.jsx("p",{children:U.jsx(wt,{id:"tz2jxv",components:{0:U.jsx("b",{}),1:U.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer"})}})}),U.jsx("p",{children:U.jsx(wt,{id:"eIoTjd",components:{0:U.jsx("i",{})}})}),U.jsx("ul",{children:e.filter(({server:l,registration:c})=>c&&l==="CSS").map(l=>U.jsx("li",{children:U.jsx(bR,{...l})},l.issuer))}),U.jsx("p",{children:U.jsx(wt,{id:"j9mD48"})}),U.jsx("p",{children:U.jsx(wt,{id:"hve6lN"})})]})}],[o,e,i])},GAe=()=>{var d;const[e,t]=V.useState(!1),[n,r]=V.useState(),{communityId:i,defaultCommunityName:a}=Nn(),s=zu(i).name||a,l=h=>{r(h.target.value)},c=KAe();return U.jsxs(U.Fragment,{children:[U.jsx(rr,{primary:!0,onClick:()=>t(!0),children:U.jsx(wt,{id:"0wdd7X"})}),U.jsx(qb,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>t(!1),children:U.jsxs("div",{className:Jc.container,children:[U.jsxs("div",{className:Jc.content,children:[U.jsx(wt,{id:"wDQNDO",values:{communityName:s},components:{0:U.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer"})}}),U.jsxs("div",{className:Jc.podOptions,children:[U.jsx("div",{className:Jc.tabs,children:c.map(h=>U.jsxs(V.Fragment,{children:[U.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:l}),U.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),U.jsx("div",{className:Jc.tabContent,children:U.jsx("div",{children:(d=c.find(h=>h.id===n))==null?void 0:d.content})})]})]}),U.jsxs("div",{className:Jc.footer,children:[U.jsx(wt,{id:"CLrwxz"})," ",U.jsx(wt,{id:"PHGSgA",components:{0:U.jsx("a",{href:"https://matrix.to/#/#solidcouch:matrix.org",target:"_blank",rel:"noopener noreferrer"}),1:U.jsx("i",{className:Jc.email})}})]})]})})]})},WAe=async e=>{const{data:t}=await qH(e);return Tr.createLdoDataset(t).usingType(TH).fromSubject(e).oidcIssuer.map(r=>r["@id"]??[]).flat()},QAe=async e=>{try{const t=await WAe(e);if(t[0]===void 0)throw new Error("OIDC issuer not found");return t[0]}catch{return e}},ZAe=(e,t)=>{var r;const n=new URL(e);return(r=t.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},ZK=e=>{const t=e.trim();return t.startsWith("http")?t:`https://${t}`},JAe=(e,t)=>{const n=ZK(e);return ZAe(n,t)??n},XAe=async(e,t)=>{const n=ZK(e),r=await QAe(n);return JAe(r,t)??r},YAe="_providers_kq9gh_1",ePe="_webIdForm_kq9gh_6",r8={providers:YAe,webIdForm:ePe},tPe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=Nn(),[r,i]=V.useState(!1),[a,o]=V.useState(!1),{i18n:s,_:l}=Ur(),c=$r(Hq),d=e.some(w=>w.issuer===c),{register:h,handleSubmit:g}=Bs({defaultValues:{webIdOrIssuer:d?"":c}}),y=oc(),v=zu(t),_=async w=>{const x=c??"";y(pw.setLastSelectedIssuer(w));try{await Fne({oidcIssuer:w,redirectUrl:new URL("/",window.location.href).toString(),clientName:v.name||n,clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(R){if(y(pw.setLastSelectedIssuer(x)),R instanceof TypeError){const P=R.message,O=R.toString();alert(s._({id:"Pygpzd",values:{oidcIssuer:w,message:P,errorString:O}}))}else alert(s._({id:"PS1p9R",values:{e:R}}))}},S=g(async({webIdOrIssuer:w})=>{try{const x=await XAe(w,e);await _(x)}catch(x){alert(s._({id:"PS1p9R",values:{e:x}}))}});return U.jsxs(U.Fragment,{children:[U.jsx(rr,{secondary:!0,onClick:()=>i(!0),children:U.jsx(wt,{id:"5lWFkC"})}),U.jsx(qb,{isOpen:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>i(!1),children:U.jsxs("div",{className:r8.providers,children:[U.jsx(wt,{id:"4Ddjk6"}),c&&U.jsx(rr,{primary:!0,onClick:()=>_(c),"data-cy":"pod-provider-button",children:c.split("/").slice(2).filter(w=>w).join("/")}),e.filter(w=>w.issuer!==c).filter(w=>w.featured||a).map(({issuer:w})=>U.jsx(rr,{secondary:!0,onClick:()=>_(w),children:new URL(w).hostname},w)),!a&&U.jsx(rr,{tertiary:!0,onClick:()=>o(!0),children:U.jsx(wt,{id:"f8jrkd"})}),U.jsx(wt,{id:"Ud7x+A"}),U.jsxs("form",{className:r8.webIdForm,onSubmit:S,children:[U.jsx("input",{type:"text",placeholder:s._({id:"hwTKH1"}),...h("webIdOrIssuer",{required:"required"})}),U.jsx(rr,{primary:!0,type:"submit",children:U.jsx(wt,{id:"xGVfLh"})})]})]})})]})},nPe="_wrapper_1kkei_1",rPe="_mainDescription_1kkei_10",iPe="_pun_1kkei_16",aPe="_actions_1kkei_20",oPe="_logo_1kkei_30",sPe="_spacer_1kkei_35",uPe="_footer_1kkei_38",lPe="_footerInfo_1kkei_41",cPe="_attribution_1kkei_47",vu={wrapper:nPe,mainDescription:rPe,pun:iPe,actions:aPe,logo:oPe,spacer:sPe,footer:uPe,footerInfo:lPe,attribution:cPe},fPe=()=>{const{communityId:e}=Nn(),t=$r(Lo),n=zu(e,t,$h),r=V.useMemo(()=>U.jsx(rz,{className:vu.logo,logo:n.logo[0],focusedLogo:n.logo[1]}),[n.logo]),i=V.useMemo(()=>n.pun?U.jsx("section",{className:vu.pun,children:n.pun}):void 0,[n.pun]),a=V.useMemo(()=>n.about?U.jsx("section",{className:vu.mainDescription,children:n.about}):null,[n.about]),o=i?U.jsxs(U.Fragment,{children:[i,r,a]}):U.jsxs(U.Fragment,{children:[a,r]});return U.jsxs("div",{className:vu.wrapper,children:[o,U.jsxs("section",{className:vu.actions,children:[U.jsx(GAe,{}),U.jsx(tPe,{})]}),U.jsx("div",{className:vu.spacer}),U.jsxs("footer",{className:vu.footer,children:[U.jsx("div",{className:vu.footerInfo,children:U.jsx(wt,{id:"Bn8bAf"})}),U.jsx("div",{className:vu.attribution,children:U.jsx(wt,{id:"yXo/Y0",values:{version:gX,commitHashShort:mX},components:{0:U.jsx("a",{href:"https://github.com/solidcouch"}),1:U.jsx("a",{href:`https://github.com/solidcouch/solidcouch/commit/${k0}`})}})})]})]})},dPe=()=>{jTe();const e=$r(Bh);return e.isLoggedIn===void 0?U.jsx(Oo,{children:U.jsx(wt,{id:"2FwEm8"})}):e.isLoggedIn===!1?U.jsx(fPe,{}):U.jsx(bAe,{})},hPe="_container_1ml33_1",pPe={container:hPe},LL=({webId:e,link:t})=>{const{communityId:n}=Nn(),[r]=ns(e,n),i=U.jsxs("div",{className:pPe.container,children:[U.jsx(ob,{photo:r.photo,size:1}),r==null?void 0:r.name]});return t?U.jsx(Qo,{to:`/profile/${encodeURIComponent(e)}`,children:i}):i};var oh=function(e){return e.confirmed="confirmed",e.requestSent="request_sent",e.requestReceived="request_received",e}({});const JK=e=>{const{quads:t,variables:n,isLoading:r}=wa(V.useMemo(()=>({query:a_e,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const s=new ks(t);return(n.otherPerson??[]).map(l=>{const c=uc(l),d=s.getObjects(l,cO.seeAlso,c),h=s.getQuads(l,Yl.knows,e,c),g=d.flatMap(y=>s.getQuads(l,Yl.knows,e,y));return{webId:l,status:h.length+g.length>0?"confirmed":"request_sent"}})},[e,t,n.otherPerson]),[a,o]=gPe(e);return V.useMemo(()=>[i.concat(a),{isLoading:r},o],[r,i,o,a])},gPe=e=>{const{quads:t,variables:n,isLoading:r}=wa(V.useMemo(()=>({query:o_e,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const a=n.inviteNotification??[],o=Tr.createLdoDataset(t).usingType(AH);return a.map(s=>o.fromSubject(s)).filter(s=>{var l,c,d,h,g,y,v,_;return((c=(l=s.object)==null?void 0:l.subject)==null?void 0:c["@id"])===((d=s.actor)==null?void 0:d["@id"])&&((g=(h=s.object)==null?void 0:h.object)==null?void 0:g["@id"])===((y=s.target)==null?void 0:y["@id"])&&((_=(v=s.object)==null?void 0:v.relationship)==null?void 0:_["@id"])==="knows"}).map(s=>{var l;return{webId:(l=s.actor)==null?void 0:l["@id"],status:"request_received",notification:s["@id"],invitation:s.content}})},[t,n.inviteNotification]);return V.useMemo(()=>[i,{isLoading:r}],[i,r])},mPe=()=>{const e=XK(),t=YK(),n=yPe();return V.useCallback(async({me:r,other:i,hospexContainer:a,inbox:o,message:s})=>{await e({me:r,other:i}),await n({inbox:o,me:r,other:i,message:s}),await t({person:i,hospexContainer:a})},[e,n,t])},yPe=()=>{const e=ts(AH);return V.useCallback(async({inbox:t,me:n,other:r,message:i})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:{"@id":"Invite"},content:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[e])},vPe=()=>{const e=Tb();return V.useCallback(async({notification:t})=>{await e.mutateAsync({uri:t})},[e])},_Pe=()=>{const e=Tb(),t=XK(),n=YK();return V.useCallback(async({me:r,other:i,notification:a,hospexContainer:o})=>{await t({me:r,other:i}),await e.mutateAsync({uri:a}),await n({person:i,hospexContainer:o})},[t,e,n])},XK=()=>{const e=ao();return V.useCallback(async({me:t,other:n})=>{await e.mutateAsync({uri:t,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${t}> foaf:knows <${n}>.
          } .`})},[e])},YK=()=>{const e=Bb();return V.useCallback(async({person:t,hospexContainer:n})=>{await e(n,[{operation:"add",access:[Xa.Read],default:!0,agents:[t]}])},[e])},wPe="_contact_axrjx_1",bPe="_status_axrjx_10",SPe="_contactList_axrjx_14",Pm={contact:wPe,status:bPe,contactList:SPe},xPe=({webId:e})=>{const t=vi(),[n]=JK(t.webId);if(!n)return U.jsx(Oo,{children:U.jsx(wt,{id:"Z3FXyt"})});const r=n.find(i=>i.webId===e);return r?r.status===oh.confirmed?U.jsx(wt,{id:"dJsK6G"}):r.status===oh.requestSent?U.jsx(wt,{id:"uwiVz0"}):r.status===oh.requestReceived?U.jsx(eG,{contact:r}):null:U.jsx(EPe,{webId:e})},eG=({contact:e,children:t})=>{const{i18n:n,_:r}=Ur(),{communityId:i}=Nn(),[a,o]=V.useState(!1),s=vi(),l=_Pe(),c=vPe(),d=iy(s.webId,i),h=async()=>{const y=di(d.personalHospexDocuments[0]);if(!y)throw new Error(n._({id:"NLJ18A"}));await l({me:s.webId,other:e.webId,notification:e.notification,hospexContainer:y}),o(!1)},g=async()=>{await c({notification:e.notification}),o(!1)};return U.jsxs(U.Fragment,{children:[U.jsx(rr,{primary:!0,onClick:()=>o(!0),children:t??U.jsx(wt,{id:"piu7ZA"})}),U.jsxs(qb,{isOpen:a,onRequestClose:()=>o(!1),children:[U.jsx("div",{children:e.invitation}),U.jsx(rr,{primary:!0,onClick:h,disabled:d.personalHospexDocuments.length===0,children:U.jsx(wt,{id:"g3UF2V"})}),U.jsx(rr,{secondary:!0,onClick:g,children:U.jsx(wt,{id:"gbbkE7"})})]})]})},EPe=({webId:e})=>{const{i18n:t,_:n}=Ur(),{communityId:r}=Nn(),[i,a]=V.useState(!1),o=vi(),s=mPe(),l=iy(o.webId,r),c=iy(e,r),d=async({invitation:g})=>{const y=di(l.personalHospexDocuments[0]);if(!y)throw new Error(t._({id:"NLJ18A"}));const v=di(c.inboxes[0]);if(!v)throw new Error(t._({id:"sRGBFr"}));await s({me:o.webId,other:e,message:g,hospexContainer:y,inbox:v}),a(!1)},h=async()=>{a(!1)};return U.jsxs(U.Fragment,{children:[U.jsx(rr,{secondary:!0,onClick:()=>{a(!0)},disabled:l.personalHospexDocuments.length===0||c.inboxes.length===0,children:U.jsx(wt,{id:"meH4FD"})}),U.jsx(qb,{isOpen:i,onRequestClose:()=>a(!1),children:U.jsx(CPe,{onSubmit:d,onCancel:h})})]})},CPe=({onSubmit:e,onCancel:t})=>{const{i18n:n,_:r}=Ur(),{register:i,handleSubmit:a}=Bs({defaultValues:{invitation:n._({id:"8kXsjC"})}}),o=a(async s=>{await e(s)});return U.jsxs("div",{children:[U.jsx("h1",{children:U.jsx(wt,{id:"TFYtVq"})}),U.jsx("div",{children:U.jsx(wt,{id:"IYqOgL"})}),U.jsxs("form",{onSubmit:o,onReset:t,children:[U.jsx("textarea",{...i("invitation")}),U.jsx(rr,{primary:!0,type:"submit",children:U.jsx(wt,{id:"BajMQF"})}),U.jsx(rr,{secondary:!0,type:"reset",children:U.jsx(wt,{id:"dEgA5A"})})]})]})},TPe=()=>{const e=IP().id,t=vi(),[n]=JK(e);return t.webId?n?U.jsxs("div",{children:[U.jsx("h1",{children:U.jsx(wt,{id:"/Rg4q2",components:{0:U.jsx(LL,{webId:e,link:!0})}})}),U.jsx("ul",{className:Pm.contactList,"data-cy":"contact-list",children:n.filter(r=>e===t.webId||r.status===oh.confirmed).map(r=>U.jsx("li",{children:U.jsx(RPe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):U.jsx(Oo,{children:U.jsx(wt,{id:"maeAdU"})}):U.jsx(Oo,{children:U.jsx(wt,{id:"qPXQY8"})})},RPe=({contact:e})=>U.jsxs("div",{className:Pm.contact,"data-cy":"contact",children:[U.jsx(LL,{webId:e.webId,link:!0}),U.jsx("span",{className:Pm.spacer}),e.status===oh.requestSent&&U.jsx("span",{className:Pm.status,children:U.jsx(wt,{id:"S48xcO"})}),e.status===oh.requestReceived&&U.jsxs(U.Fragment,{children:[U.jsx(eG,{contact:e,children:U.jsx(wt,{id:"WO3k4H"})}),U.jsx("span",{className:Pm.status,children:U.jsx(wt,{id:"S48xcO"})})]})]}),i8=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Bt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},tG=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?i8(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>i8(i,n,e))}},APe=(e,t)=>{t.shouldUseNativeValidation&&tG(e,t);const n={};for(const r in e){const i=Bt(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(PPe(t.names||Object.keys(e),r)){const o=Object.assign({},Bt(n,r));tr(o,"root",a),tr(n,r,o)}else tr(n,r,a)}return n},PPe=(e,t)=>{const n=a8(t);return e.some(r=>a8(r).match(`^${n}\\.\\d+`))};function a8(e){return e.replace(/\]|\[/g,"")}var N_={exports:{}},SR={},_u={},Xc={},xR={},ER={},CR={},o8;function ay(){return o8||(o8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(x){if(super(),!e.IDENTIFIER.test(x))throw new Error("CodeGen: name must be a valid identifier");this.str=x}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(x){super(),this._items=typeof x=="string"?[x]:x}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const x=this._items[0];return x===""||x==='""'}get str(){var x;return(x=this._str)!==null&&x!==void 0?x:this._str=this._items.reduce((R,P)=>`${R}${P}`,"")}get names(){var x;return(x=this._names)!==null&&x!==void 0?x:this._names=this._items.reduce((R,P)=>(P instanceof n&&(R[P.str]=(R[P.str]||0)+1),R),{})}}e._Code=r,e.nil=new r("");function i(w,...x){const R=[w[0]];let P=0;for(;P<x.length;)s(R,x[P]),R.push(w[++P]);return new r(R)}e._=i;const a=new r("+");function o(w,...x){const R=[y(w[0])];let P=0;for(;P<x.length;)R.push(a),s(R,x[P]),R.push(a,y(w[++P]));return l(R),new r(R)}e.str=o;function s(w,x){x instanceof r?w.push(...x._items):x instanceof n?w.push(x):w.push(h(x))}e.addCodeArg=s;function l(w){let x=1;for(;x<w.length-1;){if(w[x]===a){const R=c(w[x-1],w[x+1]);if(R!==void 0){w.splice(x-1,3,R);continue}w[x++]="+"}x++}}function c(w,x){if(x==='""')return w;if(w==='""')return x;if(typeof w=="string")return x instanceof n||w[w.length-1]!=='"'?void 0:typeof x!="string"?`${w.slice(0,-1)}${x}"`:x[0]==='"'?w.slice(0,-1)+x.slice(1):void 0;if(typeof x=="string"&&x[0]==='"'&&!(w instanceof n))return`"${w}${x.slice(1)}`}function d(w,x){return x.emptyStr()?w:w.emptyStr()?x:o`${w}${x}`}e.strConcat=d;function h(w){return typeof w=="number"||typeof w=="boolean"||w===null?w:y(Array.isArray(w)?w.join(","):w)}function g(w){return new r(y(w))}e.stringify=g;function y(w){return JSON.stringify(w).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function v(w){return typeof w=="string"&&e.IDENTIFIER.test(w)?new r(`.${w}`):i`[${w}]`}e.getProperty=v;function _(w){if(typeof w=="string"&&e.IDENTIFIER.test(w))return new r(`${w}`);throw new Error(`CodeGen: invalid export name: ${w}, use explicit $id name mapping`)}e.getEsmExportName=_;function S(w){return new r(w.toString())}e.regexpCode=S}(CR)),CR}var TR={},s8;function u8(){return s8||(s8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ay();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=i;class a extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class s extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(c),{prefix:y}=g,v=(h=d.key)!==null&&h!==void 0?h:d.ref;let _=this._values[y];if(_){const x=_.get(v);if(x)return x}else _=this._values[y]=new Map;_.set(v,g);const S=this._scope[y]||(this._scope[y]=[]),w=S.length;return S[w]=d.ref,g.setValue(d,{property:y,itemIndex:w}),g}getValue(c,d){const h=this._values[c];if(h)return h.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,d,h){return this._reduceValues(c,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},d,h)}_reduceValues(c,d,h={},g){let y=t.nil;for(const v in c){const _=c[v];if(!_)continue;const S=h[v]=h[v]||new Map;_.forEach(w=>{if(S.has(w))return;S.set(w,r.Started);let x=d(w);if(x){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${R} ${w} = ${x};${this.opts._n}`}else if(x=g==null?void 0:g(w))y=(0,t._)`${y}${x}${this.opts._n}`;else throw new n(w);S.set(w,r.Completed)})}return y}}e.ValueScope=s}(TR)),TR}var l8;function Mn(){return l8||(l8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ay(),n=u8();var r=ay();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=u8();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(ee,pe){return this}}class o extends a{constructor(ee,pe,Te){super(),this.varKind=ee,this.name=pe,this.rhs=Te}render({es5:ee,_n:pe}){const Te=ee?n.varKinds.var:this.varKind,Je=this.rhs===void 0?"":` = ${this.rhs}`;return`${Te} ${this.name}${Je};`+pe}optimizeNames(ee,pe){if(ee[this.name.str])return this.rhs&&(this.rhs=oe(this.rhs,ee,pe)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(ee,pe,Te){super(),this.lhs=ee,this.rhs=pe,this.sideEffects=Te}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,pe){if(!(this.lhs instanceof t.Name&&!ee[this.lhs.str]&&!this.sideEffects))return this.rhs=oe(this.rhs,ee,pe),this}get names(){const ee=this.lhs instanceof t.Name?{}:{...this.lhs.names};return te(ee,this.rhs)}}class l extends s{constructor(ee,pe,Te,Je){super(ee,Te,Je),this.op=pe}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class c extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class d extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class h extends a{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class g extends a{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,pe){return this.code=oe(this.code,ee,pe),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends a{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((pe,Te)=>pe+Te.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let pe=ee.length;for(;pe--;){const Te=ee[pe].optimizeNodes();Array.isArray(Te)?ee.splice(pe,1,...Te):Te?ee[pe]=Te:ee.splice(pe,1)}return ee.length>0?this:void 0}optimizeNames(ee,pe){const{nodes:Te}=this;let Je=Te.length;for(;Je--;){const Ae=Te[Je];Ae.optimizeNames(ee,pe)||(he(ee,Ae.names),Te.splice(Je,1))}return Te.length>0?this:void 0}get names(){return this.nodes.reduce((ee,pe)=>le(ee,pe.names),{})}}class v extends y{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class _ extends y{}class S extends v{}S.kind="else";class w extends v{constructor(ee,pe){super(pe),this.condition=ee}render(ee){let pe=`if(${this.condition})`+super.render(ee);return this.else&&(pe+="else "+this.else.render(ee)),pe}optimizeNodes(){super.optimizeNodes();const ee=this.condition;if(ee===!0)return this.nodes;let pe=this.else;if(pe){const Te=pe.optimizeNodes();pe=this.else=Array.isArray(Te)?new S(Te):Te}if(pe)return ee===!1?pe instanceof w?pe:pe.nodes:this.nodes.length?this:new w(ve(ee),pe instanceof w?[pe]:pe.nodes);if(!(ee===!1||!this.nodes.length))return this}optimizeNames(ee,pe){var Te;if(this.else=(Te=this.else)===null||Te===void 0?void 0:Te.optimizeNames(ee,pe),!!(super.optimizeNames(ee,pe)||this.else))return this.condition=oe(this.condition,ee,pe),this}get names(){const ee=super.names;return te(ee,this.condition),this.else&&le(ee,this.else.names),ee}}w.kind="if";class x extends v{}x.kind="for";class R extends x{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,pe){if(super.optimizeNames(ee,pe))return this.iteration=oe(this.iteration,ee,pe),this}get names(){return le(super.names,this.iteration.names)}}class P extends x{constructor(ee,pe,Te,Je){super(),this.varKind=ee,this.name=pe,this.from=Te,this.to=Je}render(ee){const pe=ee.es5?n.varKinds.var:this.varKind,{name:Te,from:Je,to:Ae}=this;return`for(${pe} ${Te}=${Je}; ${Te}<${Ae}; ${Te}++)`+super.render(ee)}get names(){const ee=te(super.names,this.from);return te(ee,this.to)}}class O extends x{constructor(ee,pe,Te,Je){super(),this.loop=ee,this.varKind=pe,this.name=Te,this.iterable=Je}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,pe){if(super.optimizeNames(ee,pe))return this.iterable=oe(this.iterable,ee,pe),this}get names(){return le(super.names,this.iterable.names)}}class D extends v{constructor(ee,pe,Te){super(),this.name=ee,this.args=pe,this.async=Te}render(ee){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ee)}}D.kind="func";class F extends y{render(ee){return"return "+super.render(ee)}}F.kind="return";class Q extends v{render(ee){let pe="try"+super.render(ee);return this.catch&&(pe+=this.catch.render(ee)),this.finally&&(pe+=this.finally.render(ee)),pe}optimizeNodes(){var ee,pe;return super.optimizeNodes(),(ee=this.catch)===null||ee===void 0||ee.optimizeNodes(),(pe=this.finally)===null||pe===void 0||pe.optimizeNodes(),this}optimizeNames(ee,pe){var Te,Je;return super.optimizeNames(ee,pe),(Te=this.catch)===null||Te===void 0||Te.optimizeNames(ee,pe),(Je=this.finally)===null||Je===void 0||Je.optimizeNames(ee,pe),this}get names(){const ee=super.names;return this.catch&&le(ee,this.catch.names),this.finally&&le(ee,this.finally.names),ee}}class Y extends v{constructor(ee){super(),this.error=ee}render(ee){return`catch(${this.error})`+super.render(ee)}}Y.kind="catch";class q extends v{render(ee){return"finally"+super.render(ee)}}q.kind="finally";class X{constructor(ee,pe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...pe,_n:pe.lines?`
`:""},this._extScope=ee,this._scope=new n.Scope({parent:ee}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,pe){const Te=this._extScope.value(ee,pe);return(this._values[Te.prefix]||(this._values[Te.prefix]=new Set)).add(Te),Te}getScopeValue(ee,pe){return this._extScope.getValue(ee,pe)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,pe,Te,Je){const Ae=this._scope.toName(pe);return Te!==void 0&&Je&&(this._constants[Ae.str]=Te),this._leafNode(new o(ee,Ae,Te)),Ae}const(ee,pe,Te){return this._def(n.varKinds.const,ee,pe,Te)}let(ee,pe,Te){return this._def(n.varKinds.let,ee,pe,Te)}var(ee,pe,Te){return this._def(n.varKinds.var,ee,pe,Te)}assign(ee,pe,Te){return this._leafNode(new s(ee,pe,Te))}add(ee,pe){return this._leafNode(new l(ee,e.operators.ADD,pe))}code(ee){return typeof ee=="function"?ee():ee!==t.nil&&this._leafNode(new g(ee)),this}object(...ee){const pe=["{"];for(const[Te,Je]of ee)pe.length>1&&pe.push(","),pe.push(Te),(Te!==Je||this.opts.es5)&&(pe.push(":"),(0,t.addCodeArg)(pe,Je));return pe.push("}"),new t._Code(pe)}if(ee,pe,Te){if(this._blockNode(new w(ee)),pe&&Te)this.code(pe).else().code(Te).endIf();else if(pe)this.code(pe).endIf();else if(Te)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new w(ee))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(w,S)}_for(ee,pe){return this._blockNode(ee),pe&&this.code(pe).endFor(),this}for(ee,pe){return this._for(new R(ee),pe)}forRange(ee,pe,Te,Je,Ae=this.opts.es5?n.varKinds.var:n.varKinds.let){const $e=this._scope.toName(ee);return this._for(new P(Ae,$e,pe,Te),()=>Je($e))}forOf(ee,pe,Te,Je=n.varKinds.const){const Ae=this._scope.toName(ee);if(this.opts.es5){const $e=pe instanceof t.Name?pe:this.var("_arr",pe);return this.forRange("_i",0,(0,t._)`${$e}.length`,Xe=>{this.var(Ae,(0,t._)`${$e}[${Xe}]`),Te(Ae)})}return this._for(new O("of",Je,Ae,pe),()=>Te(Ae))}forIn(ee,pe,Te,Je=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(ee,(0,t._)`Object.keys(${pe})`,Te);const Ae=this._scope.toName(ee);return this._for(new O("in",Je,Ae,pe),()=>Te(Ae))}endFor(){return this._endBlockNode(x)}label(ee){return this._leafNode(new c(ee))}break(ee){return this._leafNode(new d(ee))}return(ee){const pe=new F;if(this._blockNode(pe),this.code(ee),pe.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(ee,pe,Te){if(!pe&&!Te)throw new Error('CodeGen: "try" without "catch" and "finally"');const Je=new Q;if(this._blockNode(Je),this.code(ee),pe){const Ae=this.name("e");this._currNode=Je.catch=new Y(Ae),pe(Ae)}return Te&&(this._currNode=Je.finally=new q,this.code(Te)),this._endBlockNode(Y,q)}throw(ee){return this._leafNode(new h(ee))}block(ee,pe){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(pe),this}endBlock(ee){const pe=this._blockStarts.pop();if(pe===void 0)throw new Error("CodeGen: not in self-balancing block");const Te=this._nodes.length-pe;if(Te<0||ee!==void 0&&Te!==ee)throw new Error(`CodeGen: wrong number of nodes: ${Te} vs ${ee} expected`);return this._nodes.length=pe,this}func(ee,pe=t.nil,Te,Je){return this._blockNode(new D(ee,pe,Te)),Je&&this.code(Je).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,pe){const Te=this._currNode;if(Te instanceof ee||pe&&Te instanceof pe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${pe?`${ee.kind}/${pe.kind}`:ee.kind}"`)}_elseNode(ee){const pe=this._currNode;if(!(pe instanceof w))throw new Error('CodeGen: "else" without "if"');return this._currNode=pe.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const pe=this._nodes;pe[pe.length-1]=ee}}e.CodeGen=X;function le(W,ee){for(const pe in ee)W[pe]=(W[pe]||0)+(ee[pe]||0);return W}function te(W,ee){return ee instanceof t._CodeOrName?le(W,ee.names):W}function oe(W,ee,pe){if(W instanceof t.Name)return Te(W);if(!Je(W))return W;return new t._Code(W._items.reduce((Ae,$e)=>($e instanceof t.Name&&($e=Te($e)),$e instanceof t._Code?Ae.push(...$e._items):Ae.push($e),Ae),[]));function Te(Ae){const $e=pe[Ae.str];return $e===void 0||ee[Ae.str]!==1?Ae:(delete ee[Ae.str],$e)}function Je(Ae){return Ae instanceof t._Code&&Ae._items.some($e=>$e instanceof t.Name&&ee[$e.str]===1&&pe[$e.str]!==void 0)}}function he(W,ee){for(const pe in ee)W[pe]=(W[pe]||0)-(ee[pe]||0)}function ve(W){return typeof W=="boolean"||typeof W=="number"||W===null?!W:(0,t._)`!${ge(W)}`}e.not=ve;const de=re(e.operators.AND);function se(...W){return W.reduce(de)}e.and=se;const Re=re(e.operators.OR);function k(...W){return W.reduce(Re)}e.or=k;function re(W){return(ee,pe)=>ee===t.nil?pe:pe===t.nil?ee:(0,t._)`${ge(ee)} ${W} ${ge(pe)}`}function ge(W){return W instanceof t.Name?W:(0,t._)`(${W})`}}(ER)),ER}var Pn={},c8;function Gn(){if(c8)return Pn;c8=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.checkStrictMode=Pn.getErrorPath=Pn.Type=Pn.useFunc=Pn.setEvaluated=Pn.evaluatedPropsToName=Pn.mergeEvaluated=Pn.eachItem=Pn.unescapeJsonPointer=Pn.escapeJsonPointer=Pn.escapeFragment=Pn.unescapeFragment=Pn.schemaRefOrVal=Pn.schemaHasRulesButRef=Pn.schemaHasRules=Pn.checkUnknownRules=Pn.alwaysValidSchema=Pn.toHash=void 0;const e=Mn(),t=ay();function n(O){const D={};for(const F of O)D[F]=!0;return D}Pn.toHash=n;function r(O,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(O,D),!a(D,O.self.RULES.all))}Pn.alwaysValidSchema=r;function i(O,D=O.schema){const{opts:F,self:Q}=O;if(!F.strictSchema||typeof D=="boolean")return;const Y=Q.RULES.keywords;for(const q in D)Y[q]||P(O,`unknown keyword: "${q}"`)}Pn.checkUnknownRules=i;function a(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(D[F])return!0;return!1}Pn.schemaHasRules=a;function o(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(F!=="$ref"&&D.all[F])return!0;return!1}Pn.schemaHasRulesButRef=o;function s({topSchemaRef:O,schemaPath:D},F,Q,Y){if(!Y){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,e._)`${F}`}return(0,e._)`${O}${D}${(0,e.getProperty)(Q)}`}Pn.schemaRefOrVal=s;function l(O){return h(decodeURIComponent(O))}Pn.unescapeFragment=l;function c(O){return encodeURIComponent(d(O))}Pn.escapeFragment=c;function d(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}Pn.escapeJsonPointer=d;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}Pn.unescapeJsonPointer=h;function g(O,D){if(Array.isArray(O))for(const F of O)D(F);else D(O)}Pn.eachItem=g;function y({mergeNames:O,mergeToName:D,mergeValues:F,resultToName:Q}){return(Y,q,X,le)=>{const te=X===void 0?q:X instanceof e.Name?(q instanceof e.Name?O(Y,q,X):D(Y,q,X),X):q instanceof e.Name?(D(Y,X,q),q):F(q,X);return le===e.Name&&!(te instanceof e.Name)?Q(Y,te):te}}Pn.mergeEvaluated={props:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>{O.if((0,e._)`${D} === true`,()=>O.assign(F,!0),()=>O.assign(F,(0,e._)`${F} || {}`).code((0,e._)`Object.assign(${F}, ${D})`))}),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>{D===!0?O.assign(F,!0):(O.assign(F,(0,e._)`${F} || {}`),_(O,F,D))}),mergeValues:(O,D)=>O===!0?!0:{...O,...D},resultToName:v}),items:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>O.assign(F,(0,e._)`${D} === true ? true : ${F} > ${D} ? ${F} : ${D}`)),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>O.assign(F,D===!0?!0:(0,e._)`${F} > ${D} ? ${F} : ${D}`)),mergeValues:(O,D)=>O===!0?!0:Math.max(O,D),resultToName:(O,D)=>O.var("items",D)})};function v(O,D){if(D===!0)return O.var("props",!0);const F=O.var("props",(0,e._)`{}`);return D!==void 0&&_(O,F,D),F}Pn.evaluatedPropsToName=v;function _(O,D,F){Object.keys(F).forEach(Q=>O.assign((0,e._)`${D}${(0,e.getProperty)(Q)}`,!0))}Pn.setEvaluated=_;const S={};function w(O,D){return O.scopeValue("func",{ref:D,code:S[D.code]||(S[D.code]=new t._Code(D.code))})}Pn.useFunc=w;var x;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(x||(Pn.Type=x={}));function R(O,D,F){if(O instanceof e.Name){const Q=D===x.Num;return F?Q?(0,e._)`"[" + ${O} + "]"`:(0,e._)`"['" + ${O} + "']"`:Q?(0,e._)`"/" + ${O}`:(0,e._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,e.getProperty)(O).toString():"/"+d(O)}Pn.getErrorPath=R;function P(O,D,F=O.opts.strictSchema){if(F){if(D=`strict mode: ${D}`,F===!0)throw new Error(D);O.self.logger.warn(D)}}return Pn.checkStrictMode=P,Pn}var F_={},f8;function Ku(){if(f8)return F_;f8=1,Object.defineProperty(F_,"__esModule",{value:!0});const e=Mn(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return F_.default=t,F_}var d8;function By(){return d8||(d8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Mn(),n=Gn(),r=Ku();e.keywordError={message:({keyword:S})=>(0,t.str)`must pass "${S}" keyword validation`},e.keyword$DataError={message:({keyword:S,schemaType:w})=>w?(0,t.str)`"${S}" keyword must be ${w} ($data)`:(0,t.str)`"${S}" keyword is invalid ($data)`};function i(S,w=e.keywordError,x,R){const{it:P}=S,{gen:O,compositeRule:D,allErrors:F}=P,Q=h(S,w,x);R??(D||F)?l(O,Q):c(P,(0,t._)`[${Q}]`)}e.reportError=i;function a(S,w=e.keywordError,x){const{it:R}=S,{gen:P,compositeRule:O,allErrors:D}=R,F=h(S,w,x);l(P,F),O||D||c(R,r.default.vErrors)}e.reportExtraError=a;function o(S,w){S.assign(r.default.errors,w),S.if((0,t._)`${r.default.vErrors} !== null`,()=>S.if(w,()=>S.assign((0,t._)`${r.default.vErrors}.length`,w),()=>S.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:S,keyword:w,schemaValue:x,data:R,errsCount:P,it:O}){if(P===void 0)throw new Error("ajv implementation error");const D=S.name("err");S.forRange("i",P,r.default.errors,F=>{S.const(D,(0,t._)`${r.default.vErrors}[${F}]`),S.if((0,t._)`${D}.instancePath === undefined`,()=>S.assign((0,t._)`${D}.instancePath`,(0,t.strConcat)(r.default.instancePath,O.errorPath))),S.assign((0,t._)`${D}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${w}`),O.opts.verbose&&(S.assign((0,t._)`${D}.schema`,x),S.assign((0,t._)`${D}.data`,R))})}e.extendErrors=s;function l(S,w){const x=S.const("err",w);S.if((0,t._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,t._)`[${x}]`),(0,t._)`${r.default.vErrors}.push(${x})`),S.code((0,t._)`${r.default.errors}++`)}function c(S,w){const{gen:x,validateName:R,schemaEnv:P}=S;P.$async?x.throw((0,t._)`new ${S.ValidationError}(${w})`):(x.assign((0,t._)`${R}.errors`,w),x.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(S,w,x){const{createErrors:R}=S.it;return R===!1?(0,t._)`{}`:g(S,w,x)}function g(S,w,x={}){const{gen:R,it:P}=S,O=[y(P,x),v(S,x)];return _(S,w,O),R.object(...O)}function y({errorPath:S},{instancePath:w}){const x=w?(0,t.str)`${S}${(0,n.getErrorPath)(w,n.Type.Str)}`:S;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,x)]}function v({keyword:S,it:{errSchemaPath:w}},{schemaPath:x,parentSchema:R}){let P=R?w:(0,t.str)`${w}/${S}`;return x&&(P=(0,t.str)`${P}${(0,n.getErrorPath)(x,n.Type.Str)}`),[d.schemaPath,P]}function _(S,{params:w,message:x},R){const{keyword:P,data:O,schemaValue:D,it:F}=S,{opts:Q,propertyName:Y,topSchemaRef:q,schemaPath:X}=F;R.push([d.keyword,P],[d.params,typeof w=="function"?w(S):w||(0,t._)`{}`]),Q.messages&&R.push([d.message,typeof x=="function"?x(S):x]),Q.verbose&&R.push([d.schema,D],[d.parentSchema,(0,t._)`${q}${X}`],[r.default.data,O]),Y&&R.push([d.propertyName,Y])}}(xR)),xR}var h8;function OPe(){if(h8)return Xc;h8=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.boolOrEmptySchema=Xc.topBoolOrEmptySchema=void 0;const e=By(),t=Mn(),n=Ku(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:c,validateName:d}=s;c===!1?o(s,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${d}.errors`,null),l.return(!0))}Xc.topBoolOrEmptySchema=i;function a(s,l){const{gen:c,schema:d}=s;d===!1?(c.var(l,!1),o(s)):c.var(l,!0)}Xc.boolOrEmptySchema=a;function o(s,l){const{gen:c,data:d}=s,h={gen:c,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(h,r,void 0,l)}return Xc}var Ii={},Yc={},p8;function nG(){if(p8)return Yc;p8=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.getRules=Yc.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Yc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Yc.getRules=r,Yc}var wu={},g8;function rG(){if(g8)return wu;g8=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.shouldUseRule=wu.shouldUseGroup=wu.schemaHasRulesForType=void 0;function e({schema:r,self:i},a){const o=i.RULES.types[a];return o&&o!==!0&&t(r,o)}wu.schemaHasRulesForType=e;function t(r,i){return i.rules.some(a=>n(r,a))}wu.shouldUseGroup=t;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(o=>r[o]!==void 0))}return wu.shouldUseRule=n,wu}var m8;function Fw(){if(m8)return Ii;m8=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.reportTypeError=Ii.checkDataTypes=Ii.checkDataType=Ii.coerceAndCheckDataType=Ii.getJSONTypes=Ii.getSchemaTypes=Ii.DataType=void 0;const e=nG(),t=rG(),n=By(),r=Mn(),i=Gn();var a;(function(x){x[x.Correct=0]="Correct",x[x.Wrong=1]="Wrong"})(a||(Ii.DataType=a={}));function o(x){const R=s(x.type);if(R.includes("null")){if(x.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!R.length&&x.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');x.nullable===!0&&R.push("null")}return R}Ii.getSchemaTypes=o;function s(x){const R=Array.isArray(x)?x:x?[x]:[];if(R.every(e.isJSONType))return R;throw new Error("type must be JSONType or JSONType[]: "+R.join(","))}Ii.getJSONTypes=s;function l(x,R){const{gen:P,data:O,opts:D}=x,F=d(R,D.coerceTypes),Q=R.length>0&&!(F.length===0&&R.length===1&&(0,t.schemaHasRulesForType)(x,R[0]));if(Q){const Y=v(R,O,D.strictNumbers,a.Wrong);P.if(Y,()=>{F.length?h(x,R,F):S(x)})}return Q}Ii.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function d(x,R){return R?x.filter(P=>c.has(P)||R==="array"&&P==="array"):[]}function h(x,R,P){const{gen:O,data:D,opts:F}=x,Q=O.let("dataType",(0,r._)`typeof ${D}`),Y=O.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&O.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>O.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(v(R,D,F.strictNumbers),()=>O.assign(Y,D))),O.if((0,r._)`${Y} !== undefined`);for(const X of P)(c.has(X)||X==="array"&&F.coerceTypes==="array")&&q(X);O.else(),S(x),O.endIf(),O.if((0,r._)`${Y} !== undefined`,()=>{O.assign(D,Y),g(x,Y)});function q(X){switch(X){case"string":O.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(Y,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(Y,(0,r._)`""`);return;case"number":O.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(Y,(0,r._)`+${D}`);return;case"integer":O.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(Y,(0,r._)`+${D}`);return;case"boolean":O.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(Y,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(Y,!0);return;case"null":O.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),O.assign(Y,null);return;case"array":O.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(Y,(0,r._)`[${D}]`)}}}function g({gen:x,parentData:R,parentDataProperty:P},O){x.if((0,r._)`${R} !== undefined`,()=>x.assign((0,r._)`${R}[${P}]`,O))}function y(x,R,P,O=a.Correct){const D=O===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(x){case"null":return(0,r._)`${R} ${D} null`;case"array":F=(0,r._)`Array.isArray(${R})`;break;case"object":F=(0,r._)`${R} && typeof ${R} == "object" && !Array.isArray(${R})`;break;case"integer":F=Q((0,r._)`!(${R} % 1) && !isNaN(${R})`);break;case"number":F=Q();break;default:return(0,r._)`typeof ${R} ${D} ${x}`}return O===a.Correct?F:(0,r.not)(F);function Q(Y=r.nil){return(0,r.and)((0,r._)`typeof ${R} == "number"`,Y,P?(0,r._)`isFinite(${R})`:r.nil)}}Ii.checkDataType=y;function v(x,R,P,O){if(x.length===1)return y(x[0],R,P,O);let D;const F=(0,i.toHash)(x);if(F.array&&F.object){const Q=(0,r._)`typeof ${R} != "object"`;D=F.null?Q:(0,r._)`!${R} || ${Q}`,delete F.null,delete F.array,delete F.object}else D=r.nil;F.number&&delete F.integer;for(const Q in F)D=(0,r.and)(D,y(Q,R,P,O));return D}Ii.checkDataTypes=v;const _={message:({schema:x})=>`must be ${x}`,params:({schema:x,schemaValue:R})=>typeof x=="string"?(0,r._)`{type: ${x}}`:(0,r._)`{type: ${R}}`};function S(x){const R=w(x);(0,n.reportError)(R,_)}Ii.reportTypeError=S;function w(x){const{gen:R,data:P,schema:O}=x,D=(0,i.schemaRefOrVal)(x,O,"type");return{gen:R,keyword:"type",data:P,schema:O.type,schemaCode:D,schemaValue:D,parentSchema:O,params:{},it:x}}return Ii}var dm={},y8;function LPe(){if(y8)return dm;y8=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.assignDefaults=void 0;const e=Mn(),t=Gn();function n(i,a){const{properties:o,items:s}=i.schema;if(a==="object"&&o)for(const l in o)r(i,l,o[l].default);else a==="array"&&Array.isArray(s)&&s.forEach((l,c)=>r(i,c,l.default))}dm.assignDefaults=n;function r(i,a,o){const{gen:s,compositeRule:l,data:c,opts:d}=i;if(o===void 0)return;const h=(0,e._)`${c}${(0,e.getProperty)(a)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${h}`);return}let g=(0,e._)`${h} === undefined`;d.useDefaults==="empty"&&(g=(0,e._)`${g} || ${h} === null || ${h} === ""`),s.if(g,(0,e._)`${h} = ${(0,e.stringify)(o)}`)}return dm}var zo={},lr={},v8;function ls(){if(v8)return lr;v8=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.validateUnion=lr.validateArray=lr.usePattern=lr.callValidateCode=lr.schemaProperties=lr.allSchemaProperties=lr.noPropertyInData=lr.propertyInData=lr.isOwnProperty=lr.hasPropFunc=lr.reportMissingProp=lr.checkMissingProp=lr.checkReportMissingProp=void 0;const e=Mn(),t=Gn(),n=Ku(),r=Gn();function i(x,R){const{gen:P,data:O,it:D}=x;P.if(d(P,O,R,D.opts.ownProperties),()=>{x.setParams({missingProperty:(0,e._)`${R}`},!0),x.error()})}lr.checkReportMissingProp=i;function a({gen:x,data:R,it:{opts:P}},O,D){return(0,e.or)(...O.map(F=>(0,e.and)(d(x,R,F,P.ownProperties),(0,e._)`${D} = ${F}`)))}lr.checkMissingProp=a;function o(x,R){x.setParams({missingProperty:R},!0),x.error()}lr.reportMissingProp=o;function s(x){return x.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}lr.hasPropFunc=s;function l(x,R,P){return(0,e._)`${s(x)}.call(${R}, ${P})`}lr.isOwnProperty=l;function c(x,R,P,O){const D=(0,e._)`${R}${(0,e.getProperty)(P)} !== undefined`;return O?(0,e._)`${D} && ${l(x,R,P)}`:D}lr.propertyInData=c;function d(x,R,P,O){const D=(0,e._)`${R}${(0,e.getProperty)(P)} === undefined`;return O?(0,e.or)(D,(0,e.not)(l(x,R,P))):D}lr.noPropertyInData=d;function h(x){return x?Object.keys(x).filter(R=>R!=="__proto__"):[]}lr.allSchemaProperties=h;function g(x,R){return h(R).filter(P=>!(0,t.alwaysValidSchema)(x,R[P]))}lr.schemaProperties=g;function y({schemaCode:x,data:R,it:{gen:P,topSchemaRef:O,schemaPath:D,errorPath:F},it:Q},Y,q,X){const le=X?(0,e._)`${x}, ${R}, ${O}${D}`:R,te=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,F)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&te.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const oe=(0,e._)`${le}, ${P.object(...te)}`;return q!==e.nil?(0,e._)`${Y}.call(${q}, ${oe})`:(0,e._)`${Y}(${oe})`}lr.callValidateCode=y;const v=(0,e._)`new RegExp`;function _({gen:x,it:{opts:R}},P){const O=R.unicodeRegExp?"u":"",{regExp:D}=R.code,F=D(P,O);return x.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,e._)`${D.code==="new RegExp"?v:(0,r.useFunc)(x,D)}(${P}, ${O})`})}lr.usePattern=_;function S(x){const{gen:R,data:P,keyword:O,it:D}=x,F=R.name("valid");if(D.allErrors){const Y=R.let("valid",!0);return Q(()=>R.assign(Y,!1)),Y}return R.var(F,!0),Q(()=>R.break()),F;function Q(Y){const q=R.const("len",(0,e._)`${P}.length`);R.forRange("i",0,q,X=>{x.subschema({keyword:O,dataProp:X,dataPropType:t.Type.Num},F),R.if((0,e.not)(F),Y)})}}lr.validateArray=S;function w(x){const{gen:R,schema:P,keyword:O,it:D}=x;if(!Array.isArray(P))throw new Error("ajv implementation error");if(P.some(q=>(0,t.alwaysValidSchema)(D,q))&&!D.opts.unevaluated)return;const Q=R.let("valid",!1),Y=R.name("_valid");R.block(()=>P.forEach((q,X)=>{const le=x.subschema({keyword:O,schemaProp:X,compositeRule:!0},Y);R.assign(Q,(0,e._)`${Q} || ${Y}`),x.mergeValidEvaluated(le,Y)||R.if((0,e.not)(Q))})),x.result(Q,()=>x.reset(),()=>x.error(!0))}return lr.validateUnion=w,lr}var _8;function IPe(){if(_8)return zo;_8=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.validateKeywordUsage=zo.validSchemaType=zo.funcKeywordCode=zo.macroKeywordCode=void 0;const e=Mn(),t=Ku(),n=ls(),r=By();function i(g,y){const{gen:v,keyword:_,schema:S,parentSchema:w,it:x}=g,R=y.macro.call(x.self,S,w,x),P=c(v,_,R);x.opts.validateSchema!==!1&&x.self.validateSchema(R,!0);const O=v.name("valid");g.subschema({schema:R,schemaPath:e.nil,errSchemaPath:`${x.errSchemaPath}/${_}`,topSchemaRef:P,compositeRule:!0},O),g.pass(O,()=>g.error(!0))}zo.macroKeywordCode=i;function a(g,y){var v;const{gen:_,keyword:S,schema:w,parentSchema:x,$data:R,it:P}=g;l(P,y);const O=!R&&y.compile?y.compile.call(P.self,w,x,P):y.validate,D=c(_,S,O),F=_.let("valid");g.block$data(F,Q),g.ok((v=y.valid)!==null&&v!==void 0?v:F);function Q(){if(y.errors===!1)X(),y.modifying&&o(g),le(()=>g.error());else{const te=y.async?Y():q();y.modifying&&o(g),le(()=>s(g,te))}}function Y(){const te=_.let("ruleErrs",null);return _.try(()=>X((0,e._)`await `),oe=>_.assign(F,!1).if((0,e._)`${oe} instanceof ${P.ValidationError}`,()=>_.assign(te,(0,e._)`${oe}.errors`),()=>_.throw(oe))),te}function q(){const te=(0,e._)`${D}.errors`;return _.assign(te,null),X(e.nil),te}function X(te=y.async?(0,e._)`await `:e.nil){const oe=P.opts.passContext?t.default.this:t.default.self,he=!("compile"in y&&!R||y.schema===!1);_.assign(F,(0,e._)`${te}${(0,n.callValidateCode)(g,D,oe,he)}`,y.modifying)}function le(te){var oe;_.if((0,e.not)((oe=y.valid)!==null&&oe!==void 0?oe:F),te)}}zo.funcKeywordCode=a;function o(g){const{gen:y,data:v,it:_}=g;y.if(_.parentData,()=>y.assign(v,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function s(g,y){const{gen:v}=g;v.if((0,e._)`Array.isArray(${y})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${y} : ${t.default.vErrors}.concat(${y})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(g)},()=>g.error())}function l({schemaEnv:g},y){if(y.async&&!g.$async)throw new Error("async keyword in sync schema")}function c(g,y,v){if(v===void 0)throw new Error(`keyword "${y}" failed to compile`);return g.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function d(g,y,v=!1){return!y.length||y.some(_=>_==="array"?Array.isArray(g):_==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==_||v&&typeof g>"u")}zo.validSchemaType=d;function h({schema:g,opts:y,self:v,errSchemaPath:_},S,w){if(Array.isArray(S.keyword)?!S.keyword.includes(w):S.keyword!==w)throw new Error("ajv implementation error");const x=S.dependencies;if(x!=null&&x.some(R=>!Object.prototype.hasOwnProperty.call(g,R)))throw new Error(`parent schema must have dependencies of ${w}: ${x.join(",")}`);if(S.validateSchema&&!S.validateSchema(g[w])){const P=`keyword "${w}" value is invalid at path "${_}": `+v.errorsText(S.validateSchema.errors);if(y.validateSchema==="log")v.logger.error(P);else throw new Error(P)}}return zo.validateKeywordUsage=h,zo}var bu={},w8;function MPe(){if(w8)return bu;w8=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.extendSubschemaMode=bu.extendSubschemaData=bu.getSubschema=void 0;const e=Mn(),t=Gn();function n(a,{keyword:o,schemaProp:s,schema:l,schemaPath:c,errSchemaPath:d,topSchemaRef:h}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const g=a.schema[o];return s===void 0?{schema:g,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:g[s],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,t.escapeFragment)(s)}`}}if(l!==void 0){if(c===void 0||d===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:h,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}bu.getSubschema=n;function r(a,o,{dataProp:s,dataPropType:l,data:c,dataTypes:d,propertyName:h}){if(c!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=o;if(s!==void 0){const{errorPath:v,dataPathArr:_,opts:S}=o,w=g.let("data",(0,e._)`${o.data}${(0,e.getProperty)(s)}`,!0);y(w),a.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(s,l,S.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${s}`,a.dataPathArr=[..._,a.parentDataProperty]}if(c!==void 0){const v=c instanceof e.Name?c:g.let("data",c,!0);y(v),h!==void 0&&(a.propertyName=h)}d&&(a.dataTypes=d);function y(v){a.data=v,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,v]}}bu.extendSubschemaData=r;function i(a,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:l,createErrors:c,allErrors:d}){l!==void 0&&(a.compositeRule=l),c!==void 0&&(a.createErrors=c),d!==void 0&&(a.allErrors=d),a.jtdDiscriminator=o,a.jtdMetadata=s}return bu.extendSubschemaMode=i,bu}var fa={},RR,b8;function iG(){return b8||(b8=1,RR=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),RR}var AR={exports:{}},S8;function DPe(){if(S8)return AR.exports;S8=1;var e=AR.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var o=typeof a=="function"?a:a.pre||function(){},s=a.post||function(){};t(i,o,s,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,a,o,s,l,c,d,h,g){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,s,l,c,d,h,g);for(var y in o){var v=o[y];if(Array.isArray(v)){if(y in e.arrayKeywords)for(var _=0;_<v.length;_++)t(r,i,a,v[_],s+"/"+y+"/"+_,l,s,y,o,_)}else if(y in e.propsKeywords){if(v&&typeof v=="object")for(var S in v)t(r,i,a,v[S],s+"/"+y+"/"+n(S),l,s,y,o,S)}else(y in e.keywords||r.allKeys&&!(y in e.skipKeywords))&&t(r,i,a,v,s+"/"+y,l,s,y,o)}a(o,s,l,c,d,h,g)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return AR.exports}var x8;function zb(){if(x8)return fa;x8=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.getSchemaRefs=fa.resolveUrl=fa.normalizeId=fa._getFullPath=fa.getFullPath=fa.inlineRef=void 0;const e=Gn(),t=iG(),n=DPe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(_,S=!0){return typeof _=="boolean"?!0:S===!0?!o(_):S?s(_)<=S:!1}fa.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(_){for(const S in _){if(a.has(S))return!0;const w=_[S];if(Array.isArray(w)&&w.some(o)||typeof w=="object"&&o(w))return!0}return!1}function s(_){let S=0;for(const w in _){if(w==="$ref")return 1/0;if(S++,!r.has(w)&&(typeof _[w]=="object"&&(0,e.eachItem)(_[w],x=>S+=s(x)),S===1/0))return 1/0}return S}function l(_,S="",w){w!==!1&&(S=h(S));const x=_.parse(S);return c(_,x)}fa.getFullPath=l;function c(_,S){return _.serialize(S).split("#")[0]+"#"}fa._getFullPath=c;const d=/#\/?$/;function h(_){return _?_.replace(d,""):""}fa.normalizeId=h;function g(_,S,w){return w=h(w),_.resolve(S,w)}fa.resolveUrl=g;const y=/^[a-z_][-a-z0-9._]*$/i;function v(_,S){if(typeof _=="boolean")return{};const{schemaId:w,uriResolver:x}=this.opts,R=h(_[w]||S),P={"":R},O=l(x,R,!1),D={},F=new Set;return n(_,{allKeys:!0},(q,X,le,te)=>{if(te===void 0)return;const oe=O+X;let he=P[te];typeof q[w]=="string"&&(he=ve.call(this,q[w])),de.call(this,q.$anchor),de.call(this,q.$dynamicAnchor),P[X]=he;function ve(se){const Re=this.opts.uriResolver.resolve;if(se=h(he?Re(he,se):se),F.has(se))throw Y(se);F.add(se);let k=this.refs[se];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(q,k.schema,se):se!==h(oe)&&(se[0]==="#"?(Q(q,D[se],se),D[se]=q):this.refs[se]=oe),se}function de(se){if(typeof se=="string"){if(!y.test(se))throw new Error(`invalid anchor "${se}"`);ve.call(this,`#${se}`)}}}),D;function Q(q,X,le){if(X!==void 0&&!t(q,X))throw Y(le)}function Y(q){return new Error(`reference "${q}" resolves to more than one schema`)}}return fa.getSchemaRefs=v,fa}var E8;function Uy(){if(E8)return _u;E8=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.getData=_u.KeywordCxt=_u.validateFunctionCode=void 0;const e=OPe(),t=Fw(),n=rG(),r=Fw(),i=LPe(),a=IPe(),o=MPe(),s=Mn(),l=Ku(),c=zb(),d=Gn(),h=By();function g(ae){if(O(ae)&&(F(ae),P(ae))){S(ae);return}y(ae,()=>(0,e.topBoolOrEmptySchema)(ae))}_u.validateFunctionCode=g;function y({gen:ae,validateName:H,schema:B,schemaEnv:ie,opts:fe},Pe){fe.code.es5?ae.func(H,(0,s._)`${l.default.data}, ${l.default.valCxt}`,ie.$async,()=>{ae.code((0,s._)`"use strict"; ${x(B,fe)}`),_(ae,fe),ae.code(Pe)}):ae.func(H,(0,s._)`${l.default.data}, ${v(fe)}`,ie.$async,()=>ae.code(x(B,fe)).code(Pe))}function v(ae){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ae.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function _(ae,H){ae.if(l.default.valCxt,()=>{ae.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),ae.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),ae.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ae.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),H.dynamicRef&&ae.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ae.var(l.default.instancePath,(0,s._)`""`),ae.var(l.default.parentData,(0,s._)`undefined`),ae.var(l.default.parentDataProperty,(0,s._)`undefined`),ae.var(l.default.rootData,l.default.data),H.dynamicRef&&ae.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function S(ae){const{schema:H,opts:B,gen:ie}=ae;y(ae,()=>{B.$comment&&H.$comment&&te(ae),q(ae),ie.let(l.default.vErrors,null),ie.let(l.default.errors,0),B.unevaluated&&w(ae),Q(ae),oe(ae)})}function w(ae){const{gen:H,validateName:B}=ae;ae.evaluated=H.const("evaluated",(0,s._)`${B}.evaluated`),H.if((0,s._)`${ae.evaluated}.dynamicProps`,()=>H.assign((0,s._)`${ae.evaluated}.props`,(0,s._)`undefined`)),H.if((0,s._)`${ae.evaluated}.dynamicItems`,()=>H.assign((0,s._)`${ae.evaluated}.items`,(0,s._)`undefined`))}function x(ae,H){const B=typeof ae=="object"&&ae[H.schemaId];return B&&(H.code.source||H.code.process)?(0,s._)`/*# sourceURL=${B} */`:s.nil}function R(ae,H){if(O(ae)&&(F(ae),P(ae))){D(ae,H);return}(0,e.boolOrEmptySchema)(ae,H)}function P({schema:ae,self:H}){if(typeof ae=="boolean")return!ae;for(const B in ae)if(H.RULES.all[B])return!0;return!1}function O(ae){return typeof ae.schema!="boolean"}function D(ae,H){const{schema:B,gen:ie,opts:fe}=ae;fe.$comment&&B.$comment&&te(ae),X(ae),le(ae);const Pe=ie.const("_errs",l.default.errors);Q(ae,Pe),ie.var(H,(0,s._)`${Pe} === ${l.default.errors}`)}function F(ae){(0,d.checkUnknownRules)(ae),Y(ae)}function Q(ae,H){if(ae.opts.jtd)return ve(ae,[],!1,H);const B=(0,t.getSchemaTypes)(ae.schema),ie=(0,t.coerceAndCheckDataType)(ae,B);ve(ae,B,!ie,H)}function Y(ae){const{schema:H,errSchemaPath:B,opts:ie,self:fe}=ae;H.$ref&&ie.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(H,fe.RULES)&&fe.logger.warn(`$ref: keywords ignored in schema at path "${B}"`)}function q(ae){const{schema:H,opts:B}=ae;H.default!==void 0&&B.useDefaults&&B.strictSchema&&(0,d.checkStrictMode)(ae,"default is ignored in the schema root")}function X(ae){const H=ae.schema[ae.opts.schemaId];H&&(ae.baseId=(0,c.resolveUrl)(ae.opts.uriResolver,ae.baseId,H))}function le(ae){if(ae.schema.$async&&!ae.schemaEnv.$async)throw new Error("async schema in sync schema")}function te({gen:ae,schemaEnv:H,schema:B,errSchemaPath:ie,opts:fe}){const Pe=B.$comment;if(fe.$comment===!0)ae.code((0,s._)`${l.default.self}.logger.log(${Pe})`);else if(typeof fe.$comment=="function"){const Ie=(0,s.str)`${ie}/$comment`,tt=ae.scopeValue("root",{ref:H.root});ae.code((0,s._)`${l.default.self}.opts.$comment(${Pe}, ${Ie}, ${tt}.schema)`)}}function oe(ae){const{gen:H,schemaEnv:B,validateName:ie,ValidationError:fe,opts:Pe}=ae;B.$async?H.if((0,s._)`${l.default.errors} === 0`,()=>H.return(l.default.data),()=>H.throw((0,s._)`new ${fe}(${l.default.vErrors})`)):(H.assign((0,s._)`${ie}.errors`,l.default.vErrors),Pe.unevaluated&&he(ae),H.return((0,s._)`${l.default.errors} === 0`))}function he({gen:ae,evaluated:H,props:B,items:ie}){B instanceof s.Name&&ae.assign((0,s._)`${H}.props`,B),ie instanceof s.Name&&ae.assign((0,s._)`${H}.items`,ie)}function ve(ae,H,B,ie){const{gen:fe,schema:Pe,data:Ie,allErrors:tt,opts:De,self:ot}=ae,{RULES:gt}=ot;if(Pe.$ref&&(De.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(Pe,gt))){fe.block(()=>Je(ae,"$ref",gt.all.$ref.definition));return}De.jtd||se(ae,H),fe.block(()=>{for(const Be of gt.rules)_e(Be);_e(gt.post)});function _e(Be){(0,n.shouldUseGroup)(Pe,Be)&&(Be.type?(fe.if((0,r.checkDataType)(Be.type,Ie,De.strictNumbers)),de(ae,Be),H.length===1&&H[0]===Be.type&&B&&(fe.else(),(0,r.reportTypeError)(ae)),fe.endIf()):de(ae,Be),tt||fe.if((0,s._)`${l.default.errors} === ${ie||0}`))}}function de(ae,H){const{gen:B,schema:ie,opts:{useDefaults:fe}}=ae;fe&&(0,i.assignDefaults)(ae,H.type),B.block(()=>{for(const Pe of H.rules)(0,n.shouldUseRule)(ie,Pe)&&Je(ae,Pe.keyword,Pe.definition,H.type)})}function se(ae,H){ae.schemaEnv.meta||!ae.opts.strictTypes||(Re(ae,H),ae.opts.allowUnionTypes||k(ae,H),re(ae,ae.dataTypes))}function Re(ae,H){if(H.length){if(!ae.dataTypes.length){ae.dataTypes=H;return}H.forEach(B=>{W(ae.dataTypes,B)||pe(ae,`type "${B}" not allowed by context "${ae.dataTypes.join(",")}"`)}),ee(ae,H)}}function k(ae,H){H.length>1&&!(H.length===2&&H.includes("null"))&&pe(ae,"use allowUnionTypes to allow union type keyword")}function re(ae,H){const B=ae.self.RULES.all;for(const ie in B){const fe=B[ie];if(typeof fe=="object"&&(0,n.shouldUseRule)(ae.schema,fe)){const{type:Pe}=fe.definition;Pe.length&&!Pe.some(Ie=>ge(H,Ie))&&pe(ae,`missing type "${Pe.join(",")}" for keyword "${ie}"`)}}}function ge(ae,H){return ae.includes(H)||H==="number"&&ae.includes("integer")}function W(ae,H){return ae.includes(H)||H==="integer"&&ae.includes("number")}function ee(ae,H){const B=[];for(const ie of ae.dataTypes)W(H,ie)?B.push(ie):H.includes("integer")&&ie==="number"&&B.push("integer");ae.dataTypes=B}function pe(ae,H){const B=ae.schemaEnv.baseId+ae.errSchemaPath;H+=` at "${B}" (strictTypes)`,(0,d.checkStrictMode)(ae,H,ae.opts.strictTypes)}class Te{constructor(H,B,ie){if((0,a.validateKeywordUsage)(H,B,ie),this.gen=H.gen,this.allErrors=H.allErrors,this.keyword=ie,this.data=H.data,this.schema=H.schema[ie],this.$data=B.$data&&H.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(H,this.schema,ie,this.$data),this.schemaType=B.schemaType,this.parentSchema=H.schema,this.params={},this.it=H,this.def=B,this.$data)this.schemaCode=H.gen.const("vSchema",Xe(this.$data,H));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,B.schemaType,B.allowUndefined))throw new Error(`${ie} value must be ${JSON.stringify(B.schemaType)}`);("code"in B?B.trackErrors:B.errors!==!1)&&(this.errsCount=H.gen.const("_errs",l.default.errors))}result(H,B,ie){this.failResult((0,s.not)(H),B,ie)}failResult(H,B,ie){this.gen.if(H),ie?ie():this.error(),B?(this.gen.else(),B(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(H,B){this.failResult((0,s.not)(H),void 0,B)}fail(H){if(H===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(H),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(H){if(!this.$data)return this.fail(H);const{schemaCode:B}=this;this.fail((0,s._)`${B} !== undefined && (${(0,s.or)(this.invalid$data(),H)})`)}error(H,B,ie){if(B){this.setParams(B),this._error(H,ie),this.setParams({});return}this._error(H,ie)}_error(H,B){(H?h.reportExtraError:h.reportError)(this,this.def.error,B)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(H){this.allErrors||this.gen.if(H)}setParams(H,B){B?Object.assign(this.params,H):this.params=H}block$data(H,B,ie=s.nil){this.gen.block(()=>{this.check$data(H,ie),B()})}check$data(H=s.nil,B=s.nil){if(!this.$data)return;const{gen:ie,schemaCode:fe,schemaType:Pe,def:Ie}=this;ie.if((0,s.or)((0,s._)`${fe} === undefined`,B)),H!==s.nil&&ie.assign(H,!0),(Pe.length||Ie.validateSchema)&&(ie.elseIf(this.invalid$data()),this.$dataError(),H!==s.nil&&ie.assign(H,!1)),ie.else()}invalid$data(){const{gen:H,schemaCode:B,schemaType:ie,def:fe,it:Pe}=this;return(0,s.or)(Ie(),tt());function Ie(){if(ie.length){if(!(B instanceof s.Name))throw new Error("ajv implementation error");const De=Array.isArray(ie)?ie:[ie];return(0,s._)`${(0,r.checkDataTypes)(De,B,Pe.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function tt(){if(fe.validateSchema){const De=H.scopeValue("validate$data",{ref:fe.validateSchema});return(0,s._)`!${De}(${B})`}return s.nil}}subschema(H,B){const ie=(0,o.getSubschema)(this.it,H);(0,o.extendSubschemaData)(ie,this.it,H),(0,o.extendSubschemaMode)(ie,H);const fe={...this.it,...ie,items:void 0,props:void 0};return R(fe,B),fe}mergeEvaluated(H,B){const{it:ie,gen:fe}=this;ie.opts.unevaluated&&(ie.props!==!0&&H.props!==void 0&&(ie.props=d.mergeEvaluated.props(fe,H.props,ie.props,B)),ie.items!==!0&&H.items!==void 0&&(ie.items=d.mergeEvaluated.items(fe,H.items,ie.items,B)))}mergeValidEvaluated(H,B){const{it:ie,gen:fe}=this;if(ie.opts.unevaluated&&(ie.props!==!0||ie.items!==!0))return fe.if(B,()=>this.mergeEvaluated(H,s.Name)),!0}}_u.KeywordCxt=Te;function Je(ae,H,B,ie){const fe=new Te(ae,B,H);"code"in B?B.code(fe,ie):fe.$data&&B.validate?(0,a.funcKeywordCode)(fe,B):"macro"in B?(0,a.macroKeywordCode)(fe,B):(B.compile||B.validate)&&(0,a.funcKeywordCode)(fe,B)}const Ae=/^\/(?:[^~]|~0|~1)*$/,$e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(ae,{dataLevel:H,dataNames:B,dataPathArr:ie}){let fe,Pe;if(ae==="")return l.default.rootData;if(ae[0]==="/"){if(!Ae.test(ae))throw new Error(`Invalid JSON-pointer: ${ae}`);fe=ae,Pe=l.default.rootData}else{const ot=$e.exec(ae);if(!ot)throw new Error(`Invalid JSON-pointer: ${ae}`);const gt=+ot[1];if(fe=ot[2],fe==="#"){if(gt>=H)throw new Error(De("property/index",gt));return ie[H-gt]}if(gt>H)throw new Error(De("data",gt));if(Pe=B[H-gt],!fe)return Pe}let Ie=Pe;const tt=fe.split("/");for(const ot of tt)ot&&(Pe=(0,s._)`${Pe}${(0,s.getProperty)((0,d.unescapeJsonPointer)(ot))}`,Ie=(0,s._)`${Ie} && ${Pe}`);return Ie;function De(ot,gt){return`Cannot access ${ot} ${gt} levels up, current level is ${H}`}}return _u.getData=Xe,_u}var j_={},C8;function IL(){if(C8)return j_;C8=1,Object.defineProperty(j_,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return j_.default=e,j_}var $_={},T8;function ML(){if(T8)return $_;T8=1,Object.defineProperty($_,"__esModule",{value:!0});const e=zb();class t extends Error{constructor(r,i,a,o){super(o||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return $_.default=t,$_}var Va={},R8;function DL(){if(R8)return Va;R8=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.resolveSchema=Va.getCompilingSchema=Va.resolveRef=Va.compileSchema=Va.SchemaEnv=void 0;const e=Mn(),t=IL(),n=Ku(),r=zb(),i=Gn(),a=Uy();class o{constructor(w){var x;this.refs={},this.dynamicAnchors={};let R;typeof w.schema=="object"&&(R=w.schema),this.schema=w.schema,this.schemaId=w.schemaId,this.root=w.root||this,this.baseId=(x=w.baseId)!==null&&x!==void 0?x:(0,r.normalizeId)(R==null?void 0:R[w.schemaId||"$id"]),this.schemaPath=w.schemaPath,this.localRefs=w.localRefs,this.meta=w.meta,this.$async=R==null?void 0:R.$async,this.refs={}}}Va.SchemaEnv=o;function s(S){const w=d.call(this,S);if(w)return w;const x=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:R,lines:P}=this.opts.code,{ownProperties:O}=this.opts,D=new e.CodeGen(this.scope,{es5:R,lines:P,ownProperties:O});let F;S.$async&&(F=D.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");S.validateName=Q;const Y={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,e.stringify)(S.schema)}:{ref:S.schema}),validateName:Q,ValidationError:F,schema:S.schema,schemaEnv:S,rootId:x,baseId:S.baseId||x,schemaPath:e.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let q;try{this._compilations.add(S),(0,a.validateFunctionCode)(Y),D.optimize(this.opts.code.optimize);const X=D.toString();q=`${D.scopeRefs(n.default.scope)}return ${X}`,this.opts.code.process&&(q=this.opts.code.process(q,S));const te=new Function(`${n.default.self}`,`${n.default.scope}`,q)(this,this.scope.get());if(this.scope.value(Q,{ref:te}),te.errors=null,te.schema=S.schema,te.schemaEnv=S,S.$async&&(te.$async=!0),this.opts.code.source===!0&&(te.source={validateName:Q,validateCode:X,scopeValues:D._values}),this.opts.unevaluated){const{props:oe,items:he}=Y;te.evaluated={props:oe instanceof e.Name?void 0:oe,items:he instanceof e.Name?void 0:he,dynamicProps:oe instanceof e.Name,dynamicItems:he instanceof e.Name},te.source&&(te.source.evaluated=(0,e.stringify)(te.evaluated))}return S.validate=te,S}catch(X){throw delete S.validate,delete S.validateName,q&&this.logger.error("Error compiling schema, function code:",q),X}finally{this._compilations.delete(S)}}Va.compileSchema=s;function l(S,w,x){var R;x=(0,r.resolveUrl)(this.opts.uriResolver,w,x);const P=S.refs[x];if(P)return P;let O=g.call(this,S,x);if(O===void 0){const D=(R=S.localRefs)===null||R===void 0?void 0:R[x],{schemaId:F}=this.opts;D&&(O=new o({schema:D,schemaId:F,root:S,baseId:w}))}if(O!==void 0)return S.refs[x]=c.call(this,O)}Va.resolveRef=l;function c(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:s.call(this,S)}function d(S){for(const w of this._compilations)if(h(w,S))return w}Va.getCompilingSchema=d;function h(S,w){return S.schema===w.schema&&S.root===w.root&&S.baseId===w.baseId}function g(S,w){let x;for(;typeof(x=this.refs[w])=="string";)w=x;return x||this.schemas[w]||y.call(this,S,w)}function y(S,w){const x=this.opts.uriResolver.parse(w),R=(0,r._getFullPath)(this.opts.uriResolver,x);let P=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&R===P)return _.call(this,x,S);const O=(0,r.normalizeId)(R),D=this.refs[O]||this.schemas[O];if(typeof D=="string"){const F=y.call(this,S,D);return typeof(F==null?void 0:F.schema)!="object"?void 0:_.call(this,x,F)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||s.call(this,D),O===(0,r.normalizeId)(w)){const{schema:F}=D,{schemaId:Q}=this.opts,Y=F[Q];return Y&&(P=(0,r.resolveUrl)(this.opts.uriResolver,P,Y)),new o({schema:F,schemaId:Q,root:S,baseId:P})}return _.call(this,x,D)}}Va.resolveSchema=y;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(S,{baseId:w,schema:x,root:R}){var P;if(((P=S.fragment)===null||P===void 0?void 0:P[0])!=="/")return;for(const F of S.fragment.slice(1).split("/")){if(typeof x=="boolean")return;const Q=x[(0,i.unescapeFragment)(F)];if(Q===void 0)return;x=Q;const Y=typeof x=="object"&&x[this.opts.schemaId];!v.has(F)&&Y&&(w=(0,r.resolveUrl)(this.opts.uriResolver,w,Y))}let O;if(typeof x!="boolean"&&x.$ref&&!(0,i.schemaHasRulesButRef)(x,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,w,x.$ref);O=y.call(this,R,F)}const{schemaId:D}=this.opts;if(O=O||new o({schema:x,schemaId:D,root:R,baseId:w}),O.schema!==O.root.schema)return O}return Va}const kPe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",NPe="Meta-schema for $data reference (JSON AnySchema extension proposal)",FPe="object",jPe=["$data"],$Pe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},BPe=!1,UPe={$id:kPe,description:NPe,type:FPe,required:jPe,properties:$Pe,additionalProperties:BPe};var B_={},Om={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var qPe=Om.exports,A8;function zPe(){return A8||(A8=1,function(e,t){(function(n,r){r(t)})(qPe,function(n){function r(){for(var We=arguments.length,xe=Array(We),et=0;et<We;et++)xe[et]=arguments[et];if(xe.length>1){xe[0]=xe[0].slice(0,-1);for(var dt=xe.length-1,rt=1;rt<dt;++rt)xe[rt]=xe[rt].slice(1,-1);return xe[dt]=xe[dt].slice(1),xe.join("")}else return xe[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function o(We){return We.toUpperCase()}function s(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,xe){var et=We;if(xe)for(var dt in xe)et[dt]=xe[dt];return et}function c(We){var xe="[A-Za-z]",et="[0-9]",dt=r(et,"[A-Fa-f]"),rt=i(i("%[EFef]"+dt+"%"+dt+dt+"%"+dt+dt)+"|"+i("%[89A-Fa-f]"+dt+"%"+dt+dt)+"|"+i("%"+dt+dt)),Tt="[\\:\\/\\?\\#\\[\\]\\@]",kt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Gt=r(Tt,kt),Yt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ht=We?"[\\uE000-\\uF8FF]":"[]",$t=r(xe,et,"[\\-\\.\\_\\~]",Yt);i(xe+r(xe,et,"[\\+\\-\\.]")+"*"),i(i(rt+"|"+r($t,kt,"[\\:]"))+"*");var tn=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Ln=i(tn+"\\."+tn+"\\."+tn+"\\."+tn),Wt=i(dt+"{1,4}"),Zt=i(i(Wt+"\\:"+Wt)+"|"+Ln),Cn=i(i(Wt+"\\:")+"{6}"+Zt),Tn=i("\\:\\:"+i(Wt+"\\:")+"{5}"+Zt),zn=i(i(Wt)+"?\\:\\:"+i(Wt+"\\:")+"{4}"+Zt),Or=i(i(i(Wt+"\\:")+"{0,1}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{3}"+Zt),Jr=i(i(i(Wt+"\\:")+"{0,2}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{2}"+Zt),Xr=i(i(i(Wt+"\\:")+"{0,3}"+Wt)+"?\\:\\:"+Wt+"\\:"+Zt),Dr=i(i(i(Wt+"\\:")+"{0,4}"+Wt)+"?\\:\\:"+Zt),Bn=i(i(i(Wt+"\\:")+"{0,5}"+Wt)+"?\\:\\:"+Wt),ai=i(i(i(Wt+"\\:")+"{0,6}"+Wt)+"?\\:\\:"),Xi=i([Cn,Tn,zn,Or,Jr,Xr,Dr,Bn,ai].join("|")),T=i(i($t+"|"+rt)+"+");i("[vV]"+dt+"+\\."+r($t,kt,"[\\:]")+"+"),i(i(rt+"|"+r($t,kt))+"*");var C=i(rt+"|"+r($t,kt,"[\\:\\@]"));return i(i(rt+"|"+r($t,kt,"[\\@]"))+"+"),i(i(C+"|"+r("[\\/\\?]",Ht))+"*"),{NOT_SCHEME:new RegExp(r("[^]",xe,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",$t,kt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",$t,kt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",$t,kt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",$t,kt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",$t,kt,"[\\:\\@\\/\\?]",Ht),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",$t,kt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",$t,kt),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",$t,Gt),"g"),PCT_ENCODED:new RegExp(rt,"g"),IPV4ADDRESS:new RegExp("^("+Ln+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Xi+")"+i(i("\\%25|\\%(?!"+dt+"{2})")+"("+T+")")+"?\\]?$")}}var d=c(!1),h=c(!0),g=function(){function We(xe,et){var dt=[],rt=!0,Tt=!1,kt=void 0;try{for(var Gt=xe[Symbol.iterator](),Yt;!(rt=(Yt=Gt.next()).done)&&(dt.push(Yt.value),!(et&&dt.length===et));rt=!0);}catch(Ht){Tt=!0,kt=Ht}finally{try{!rt&&Gt.return&&Gt.return()}finally{if(Tt)throw kt}}return dt}return function(xe,et){if(Array.isArray(xe))return xe;if(Symbol.iterator in Object(xe))return We(xe,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var xe=0,et=Array(We.length);xe<We.length;xe++)et[xe]=We[xe];return et}else return Array.from(We)},v=2147483647,_=36,S=1,w=26,x=38,R=700,P=72,O=128,D="-",F=/^xn--/,Q=/[^\0-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X=_-S,le=Math.floor,te=String.fromCharCode;function oe(We){throw new RangeError(q[We])}function he(We,xe){for(var et=[],dt=We.length;dt--;)et[dt]=xe(We[dt]);return et}function ve(We,xe){var et=We.split("@"),dt="";et.length>1&&(dt=et[0]+"@",We=et[1]),We=We.replace(Y,".");var rt=We.split("."),Tt=he(rt,xe).join(".");return dt+Tt}function de(We){for(var xe=[],et=0,dt=We.length;et<dt;){var rt=We.charCodeAt(et++);if(rt>=55296&&rt<=56319&&et<dt){var Tt=We.charCodeAt(et++);(Tt&64512)==56320?xe.push(((rt&1023)<<10)+(Tt&1023)+65536):(xe.push(rt),et--)}else xe.push(rt)}return xe}var se=function(xe){return String.fromCodePoint.apply(String,y(xe))},Re=function(xe){return xe-48<10?xe-22:xe-65<26?xe-65:xe-97<26?xe-97:_},k=function(xe,et){return xe+22+75*(xe<26)-((et!=0)<<5)},re=function(xe,et,dt){var rt=0;for(xe=dt?le(xe/R):xe>>1,xe+=le(xe/et);xe>X*w>>1;rt+=_)xe=le(xe/X);return le(rt+(X+1)*xe/(xe+x))},ge=function(xe){var et=[],dt=xe.length,rt=0,Tt=O,kt=P,Gt=xe.lastIndexOf(D);Gt<0&&(Gt=0);for(var Yt=0;Yt<Gt;++Yt)xe.charCodeAt(Yt)>=128&&oe("not-basic"),et.push(xe.charCodeAt(Yt));for(var Ht=Gt>0?Gt+1:0;Ht<dt;){for(var $t=rt,tn=1,Ln=_;;Ln+=_){Ht>=dt&&oe("invalid-input");var Wt=Re(xe.charCodeAt(Ht++));(Wt>=_||Wt>le((v-rt)/tn))&&oe("overflow"),rt+=Wt*tn;var Zt=Ln<=kt?S:Ln>=kt+w?w:Ln-kt;if(Wt<Zt)break;var Cn=_-Zt;tn>le(v/Cn)&&oe("overflow"),tn*=Cn}var Tn=et.length+1;kt=re(rt-$t,Tn,$t==0),le(rt/Tn)>v-Tt&&oe("overflow"),Tt+=le(rt/Tn),rt%=Tn,et.splice(rt++,0,Tt)}return String.fromCodePoint.apply(String,et)},W=function(xe){var et=[];xe=de(xe);var dt=xe.length,rt=O,Tt=0,kt=P,Gt=!0,Yt=!1,Ht=void 0;try{for(var $t=xe[Symbol.iterator](),tn;!(Gt=(tn=$t.next()).done);Gt=!0){var Ln=tn.value;Ln<128&&et.push(te(Ln))}}catch(Oe){Yt=!0,Ht=Oe}finally{try{!Gt&&$t.return&&$t.return()}finally{if(Yt)throw Ht}}var Wt=et.length,Zt=Wt;for(Wt&&et.push(D);Zt<dt;){var Cn=v,Tn=!0,zn=!1,Or=void 0;try{for(var Jr=xe[Symbol.iterator](),Xr;!(Tn=(Xr=Jr.next()).done);Tn=!0){var Dr=Xr.value;Dr>=rt&&Dr<Cn&&(Cn=Dr)}}catch(Oe){zn=!0,Or=Oe}finally{try{!Tn&&Jr.return&&Jr.return()}finally{if(zn)throw Or}}var Bn=Zt+1;Cn-rt>le((v-Tt)/Bn)&&oe("overflow"),Tt+=(Cn-rt)*Bn,rt=Cn;var ai=!0,Xi=!1,T=void 0;try{for(var C=xe[Symbol.iterator](),A;!(ai=(A=C.next()).done);ai=!0){var N=A.value;if(N<rt&&++Tt>v&&oe("overflow"),N==rt){for(var Z=Tt,ue=_;;ue+=_){var we=ue<=kt?S:ue>=kt+w?w:ue-kt;if(Z<we)break;var Me=Z-we,Se=_-we;et.push(te(k(we+Me%Se,0))),Z=le(Me/Se)}et.push(te(k(Z,0))),kt=re(Tt,Bn,Zt==Wt),Tt=0,++Zt}}}catch(Oe){Xi=!0,T=Oe}finally{try{!ai&&C.return&&C.return()}finally{if(Xi)throw T}}++Tt,++rt}return et.join("")},ee=function(xe){return ve(xe,function(et){return F.test(et)?ge(et.slice(4).toLowerCase()):et})},pe=function(xe){return ve(xe,function(et){return Q.test(et)?"xn--"+W(et):et})},Te={version:"2.1.0",ucs2:{decode:de,encode:se},decode:ge,encode:W,toASCII:pe,toUnicode:ee},Je={};function Ae(We){var xe=We.charCodeAt(0),et=void 0;return xe<16?et="%0"+xe.toString(16).toUpperCase():xe<128?et="%"+xe.toString(16).toUpperCase():xe<2048?et="%"+(xe>>6|192).toString(16).toUpperCase()+"%"+(xe&63|128).toString(16).toUpperCase():et="%"+(xe>>12|224).toString(16).toUpperCase()+"%"+(xe>>6&63|128).toString(16).toUpperCase()+"%"+(xe&63|128).toString(16).toUpperCase(),et}function $e(We){for(var xe="",et=0,dt=We.length;et<dt;){var rt=parseInt(We.substr(et+1,2),16);if(rt<128)xe+=String.fromCharCode(rt),et+=3;else if(rt>=194&&rt<224){if(dt-et>=6){var Tt=parseInt(We.substr(et+4,2),16);xe+=String.fromCharCode((rt&31)<<6|Tt&63)}else xe+=We.substr(et,6);et+=6}else if(rt>=224){if(dt-et>=9){var kt=parseInt(We.substr(et+4,2),16),Gt=parseInt(We.substr(et+7,2),16);xe+=String.fromCharCode((rt&15)<<12|(kt&63)<<6|Gt&63)}else xe+=We.substr(et,9);et+=9}else xe+=We.substr(et,3),et+=3}return xe}function Xe(We,xe){function et(dt){var rt=$e(dt);return rt.match(xe.UNRESERVED)?rt:dt}return We.scheme&&(We.scheme=String(We.scheme).replace(xe.PCT_ENCODED,et).toLowerCase().replace(xe.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(xe.PCT_ENCODED,et).replace(xe.NOT_USERINFO,Ae).replace(xe.PCT_ENCODED,o)),We.host!==void 0&&(We.host=String(We.host).replace(xe.PCT_ENCODED,et).toLowerCase().replace(xe.NOT_HOST,Ae).replace(xe.PCT_ENCODED,o)),We.path!==void 0&&(We.path=String(We.path).replace(xe.PCT_ENCODED,et).replace(We.scheme?xe.NOT_PATH:xe.NOT_PATH_NOSCHEME,Ae).replace(xe.PCT_ENCODED,o)),We.query!==void 0&&(We.query=String(We.query).replace(xe.PCT_ENCODED,et).replace(xe.NOT_QUERY,Ae).replace(xe.PCT_ENCODED,o)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(xe.PCT_ENCODED,et).replace(xe.NOT_FRAGMENT,Ae).replace(xe.PCT_ENCODED,o)),We}function ae(We){return We.replace(/^0*(.*)/,"$1")||"0"}function H(We,xe){var et=We.match(xe.IPV4ADDRESS)||[],dt=g(et,2),rt=dt[1];return rt?rt.split(".").map(ae).join("."):We}function B(We,xe){var et=We.match(xe.IPV6ADDRESS)||[],dt=g(et,3),rt=dt[1],Tt=dt[2];if(rt){for(var kt=rt.toLowerCase().split("::").reverse(),Gt=g(kt,2),Yt=Gt[0],Ht=Gt[1],$t=Ht?Ht.split(":").map(ae):[],tn=Yt.split(":").map(ae),Ln=xe.IPV4ADDRESS.test(tn[tn.length-1]),Wt=Ln?7:8,Zt=tn.length-Wt,Cn=Array(Wt),Tn=0;Tn<Wt;++Tn)Cn[Tn]=$t[Tn]||tn[Zt+Tn]||"";Ln&&(Cn[Wt-1]=H(Cn[Wt-1],xe));var zn=Cn.reduce(function(Bn,ai,Xi){if(!ai||ai==="0"){var T=Bn[Bn.length-1];T&&T.index+T.length===Xi?T.length++:Bn.push({index:Xi,length:1})}return Bn},[]),Or=zn.sort(function(Bn,ai){return ai.length-Bn.length})[0],Jr=void 0;if(Or&&Or.length>1){var Xr=Cn.slice(0,Or.index),Dr=Cn.slice(Or.index+Or.length);Jr=Xr.join(":")+"::"+Dr.join(":")}else Jr=Cn.join(":");return Tt&&(Jr+="%"+Tt),Jr}else return We}var ie=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,fe="".match(/(){0}/)[1]===void 0;function Pe(We){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},dt=xe.iri!==!1?h:d;xe.reference==="suffix"&&(We=(xe.scheme?xe.scheme+":":"")+"//"+We);var rt=We.match(ie);if(rt){fe?(et.scheme=rt[1],et.userinfo=rt[3],et.host=rt[4],et.port=parseInt(rt[5],10),et.path=rt[6]||"",et.query=rt[7],et.fragment=rt[8],isNaN(et.port)&&(et.port=rt[5])):(et.scheme=rt[1]||void 0,et.userinfo=We.indexOf("@")!==-1?rt[3]:void 0,et.host=We.indexOf("//")!==-1?rt[4]:void 0,et.port=parseInt(rt[5],10),et.path=rt[6]||"",et.query=We.indexOf("?")!==-1?rt[7]:void 0,et.fragment=We.indexOf("#")!==-1?rt[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?rt[4]:void 0)),et.host&&(et.host=B(H(et.host,dt),dt)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",xe.reference&&xe.reference!=="suffix"&&xe.reference!==et.reference&&(et.error=et.error||"URI is not a "+xe.reference+" reference.");var Tt=Je[(xe.scheme||et.scheme||"").toLowerCase()];if(!xe.unicodeSupport&&(!Tt||!Tt.unicodeSupport)){if(et.host&&(xe.domainHost||Tt&&Tt.domainHost))try{et.host=Te.toASCII(et.host.replace(dt.PCT_ENCODED,$e).toLowerCase())}catch(kt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+kt}Xe(et,d)}else Xe(et,dt);Tt&&Tt.parse&&Tt.parse(et,xe)}else et.error=et.error||"URI can not be parsed.";return et}function Ie(We,xe){var et=xe.iri!==!1?h:d,dt=[];return We.userinfo!==void 0&&(dt.push(We.userinfo),dt.push("@")),We.host!==void 0&&dt.push(B(H(String(We.host),et),et).replace(et.IPV6ADDRESS,function(rt,Tt,kt){return"["+Tt+(kt?"%25"+kt:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(dt.push(":"),dt.push(String(We.port))),dt.length?dt.join(""):void 0}var tt=/^\.\.?\//,De=/^\/\.(\/|$)/,ot=/^\/\.\.(\/|$)/,gt=/^\/?(?:.|\n)*?(?=\/|$)/;function _e(We){for(var xe=[];We.length;)if(We.match(tt))We=We.replace(tt,"");else if(We.match(De))We=We.replace(De,"/");else if(We.match(ot))We=We.replace(ot,"/"),xe.pop();else if(We==="."||We==="..")We="";else{var et=We.match(gt);if(et){var dt=et[0];We=We.slice(dt.length),xe.push(dt)}else throw new Error("Unexpected dot segment condition")}return xe.join("")}function Be(We){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=xe.iri?h:d,dt=[],rt=Je[(xe.scheme||We.scheme||"").toLowerCase()];if(rt&&rt.serialize&&rt.serialize(We,xe),We.host&&!et.IPV6ADDRESS.test(We.host)){if(xe.domainHost||rt&&rt.domainHost)try{We.host=xe.iri?Te.toUnicode(We.host):Te.toASCII(We.host.replace(et.PCT_ENCODED,$e).toLowerCase())}catch(Gt){We.error=We.error||"Host's domain name can not be converted to "+(xe.iri?"Unicode":"ASCII")+" via punycode: "+Gt}}Xe(We,et),xe.reference!=="suffix"&&We.scheme&&(dt.push(We.scheme),dt.push(":"));var Tt=Ie(We,xe);if(Tt!==void 0&&(xe.reference!=="suffix"&&dt.push("//"),dt.push(Tt),We.path&&We.path.charAt(0)!=="/"&&dt.push("/")),We.path!==void 0){var kt=We.path;!xe.absolutePath&&(!rt||!rt.absolutePath)&&(kt=_e(kt)),Tt===void 0&&(kt=kt.replace(/^\/\//,"/%2F")),dt.push(kt)}return We.query!==void 0&&(dt.push("?"),dt.push(We.query)),We.fragment!==void 0&&(dt.push("#"),dt.push(We.fragment)),dt.join("")}function at(We,xe){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},dt=arguments[3],rt={};return dt||(We=Pe(Be(We,et),et),xe=Pe(Be(xe,et),et)),et=et||{},!et.tolerant&&xe.scheme?(rt.scheme=xe.scheme,rt.userinfo=xe.userinfo,rt.host=xe.host,rt.port=xe.port,rt.path=_e(xe.path||""),rt.query=xe.query):(xe.userinfo!==void 0||xe.host!==void 0||xe.port!==void 0?(rt.userinfo=xe.userinfo,rt.host=xe.host,rt.port=xe.port,rt.path=_e(xe.path||""),rt.query=xe.query):(xe.path?(xe.path.charAt(0)==="/"?rt.path=_e(xe.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?rt.path="/"+xe.path:We.path?rt.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+xe.path:rt.path=xe.path,rt.path=_e(rt.path)),rt.query=xe.query):(rt.path=We.path,xe.query!==void 0?rt.query=xe.query:rt.query=We.query),rt.userinfo=We.userinfo,rt.host=We.host,rt.port=We.port),rt.scheme=We.scheme),rt.fragment=xe.fragment,rt}function me(We,xe,et){var dt=l({scheme:"null"},et);return Be(at(Pe(We,dt),Pe(xe,dt),dt,!0),dt)}function Ee(We,xe){return typeof We=="string"?We=Be(Pe(We,xe),xe):a(We)==="object"&&(We=Pe(Be(We,xe),xe)),We}function J(We,xe,et){return typeof We=="string"?We=Be(Pe(We,et),et):a(We)==="object"&&(We=Be(We,et)),typeof xe=="string"?xe=Be(Pe(xe,et),et):a(xe)==="object"&&(xe=Be(xe,et)),We===xe}function $(We,xe){return We&&We.toString().replace(!xe||!xe.iri?d.ESCAPE:h.ESCAPE,Ae)}function K(We,xe){return We&&We.toString().replace(!xe||!xe.iri?d.PCT_ENCODED:h.PCT_ENCODED,$e)}var G={scheme:"http",domainHost:!0,parse:function(xe,et){return xe.host||(xe.error=xe.error||"HTTP URIs must have a host."),xe},serialize:function(xe,et){var dt=String(xe.scheme).toLowerCase()==="https";return(xe.port===(dt?443:80)||xe.port==="")&&(xe.port=void 0),xe.path||(xe.path="/"),xe}},ke={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize};function Ze(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var Fe={scheme:"ws",domainHost:!0,parse:function(xe,et){var dt=xe;return dt.secure=Ze(dt),dt.resourceName=(dt.path||"/")+(dt.query?"?"+dt.query:""),dt.path=void 0,dt.query=void 0,dt},serialize:function(xe,et){if((xe.port===(Ze(xe)?443:80)||xe.port==="")&&(xe.port=void 0),typeof xe.secure=="boolean"&&(xe.scheme=xe.secure?"wss":"ws",xe.secure=void 0),xe.resourceName){var dt=xe.resourceName.split("?"),rt=g(dt,2),Tt=rt[0],kt=rt[1];xe.path=Tt&&Tt!=="/"?Tt:void 0,xe.query=kt,xe.resourceName=void 0}return xe.fragment=void 0,xe}},At={scheme:"wss",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize},Mt={},Nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Lt="[0-9A-Fa-f]",zt=i(i("%[EFef]"+Lt+"%"+Lt+Lt+"%"+Lt+Lt)+"|"+i("%[89A-Fa-f]"+Lt+"%"+Lt+Lt)+"|"+i("%"+Lt+Lt)),Pr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",hn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",pn=r(hn,'[\\"\\\\]'),yr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ln=new RegExp(Nt,"g"),cn=new RegExp(zt,"g"),Dn=new RegExp(r("[^]",Pr,"[\\.]",'[\\"]',pn),"g"),cr=new RegExp(r("[^]",Nt,yr),"g"),Le=cr;function ze(We){var xe=$e(We);return xe.match(ln)?xe:We}var St={scheme:"mailto",parse:function(xe,et){var dt=xe,rt=dt.to=dt.path?dt.path.split(","):[];if(dt.path=void 0,dt.query){for(var Tt=!1,kt={},Gt=dt.query.split("&"),Yt=0,Ht=Gt.length;Yt<Ht;++Yt){var $t=Gt[Yt].split("=");switch($t[0]){case"to":for(var tn=$t[1].split(","),Ln=0,Wt=tn.length;Ln<Wt;++Ln)rt.push(tn[Ln]);break;case"subject":dt.subject=K($t[1],et);break;case"body":dt.body=K($t[1],et);break;default:Tt=!0,kt[K($t[0],et)]=K($t[1],et);break}}Tt&&(dt.headers=kt)}dt.query=void 0;for(var Zt=0,Cn=rt.length;Zt<Cn;++Zt){var Tn=rt[Zt].split("@");if(Tn[0]=K(Tn[0]),et.unicodeSupport)Tn[1]=K(Tn[1],et).toLowerCase();else try{Tn[1]=Te.toASCII(K(Tn[1],et).toLowerCase())}catch(zn){dt.error=dt.error||"Email address's domain name can not be converted to ASCII via punycode: "+zn}rt[Zt]=Tn.join("@")}return dt},serialize:function(xe,et){var dt=xe,rt=s(xe.to);if(rt){for(var Tt=0,kt=rt.length;Tt<kt;++Tt){var Gt=String(rt[Tt]),Yt=Gt.lastIndexOf("@"),Ht=Gt.slice(0,Yt).replace(cn,ze).replace(cn,o).replace(Dn,Ae),$t=Gt.slice(Yt+1);try{$t=et.iri?Te.toUnicode($t):Te.toASCII(K($t,et).toLowerCase())}catch(Zt){dt.error=dt.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Zt}rt[Tt]=Ht+"@"+$t}dt.path=rt.join(",")}var tn=xe.headers=xe.headers||{};xe.subject&&(tn.subject=xe.subject),xe.body&&(tn.body=xe.body);var Ln=[];for(var Wt in tn)tn[Wt]!==Mt[Wt]&&Ln.push(Wt.replace(cn,ze).replace(cn,o).replace(cr,Ae)+"="+tn[Wt].replace(cn,ze).replace(cn,o).replace(Le,Ae));return Ln.length&&(dt.query=Ln.join("&")),dt}},Ct=/^([^\:]+)\:(.*)/,Dt={scheme:"urn",parse:function(xe,et){var dt=xe.path&&xe.path.match(Ct),rt=xe;if(dt){var Tt=et.scheme||rt.scheme||"urn",kt=dt[1].toLowerCase(),Gt=dt[2],Yt=Tt+":"+(et.nid||kt),Ht=Je[Yt];rt.nid=kt,rt.nss=Gt,rt.path=void 0,Ht&&(rt=Ht.parse(rt,et))}else rt.error=rt.error||"URN can not be parsed.";return rt},serialize:function(xe,et){var dt=et.scheme||xe.scheme||"urn",rt=xe.nid,Tt=dt+":"+(et.nid||rt),kt=Je[Tt];kt&&(xe=kt.serialize(xe,et));var Gt=xe,Yt=xe.nss;return Gt.path=(rt||et.nid)+":"+Yt,Gt}},Vn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xn={scheme:"urn:uuid",parse:function(xe,et){var dt=xe;return dt.uuid=dt.nss,dt.nss=void 0,!et.tolerant&&(!dt.uuid||!dt.uuid.match(Vn))&&(dt.error=dt.error||"UUID is not valid."),dt},serialize:function(xe,et){var dt=xe;return dt.nss=(xe.uuid||"").toLowerCase(),dt}};Je[G.scheme]=G,Je[ke.scheme]=ke,Je[Fe.scheme]=Fe,Je[At.scheme]=At,Je[St.scheme]=St,Je[Dt.scheme]=Dt,Je[Xn.scheme]=Xn,n.SCHEMES=Je,n.pctEncChar=Ae,n.pctDecChars=$e,n.parse=Pe,n.removeDotSegments=_e,n.serialize=Be,n.resolveComponents=at,n.resolve=me,n.normalize=Ee,n.equal=J,n.escapeComponent=$,n.unescapeComponent=K,Object.defineProperty(n,"__esModule",{value:!0})})}(Om,Om.exports)),Om.exports}var P8;function HPe(){if(P8)return B_;P8=1,Object.defineProperty(B_,"__esModule",{value:!0});const e=zPe();return e.code='require("ajv/dist/runtime/uri").default',B_.default=e,B_}var O8;function VPe(){return O8||(O8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Uy();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Mn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=IL(),i=ML(),a=nG(),o=DL(),s=Mn(),l=zb(),c=Fw(),d=Gn(),h=UPe,g=HPe(),y=(k,re)=>new RegExp(k,re);y.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},x=200;function R(k){var re,ge,W,ee,pe,Te,Je,Ae,$e,Xe,ae,H,B,ie,fe,Pe,Ie,tt,De,ot,gt,_e,Be,at,me;const Ee=k.strict,J=(re=k.code)===null||re===void 0?void 0:re.optimize,$=J===!0||J===void 0?1:J||0,K=(W=(ge=k.code)===null||ge===void 0?void 0:ge.regExp)!==null&&W!==void 0?W:y,G=(ee=k.uriResolver)!==null&&ee!==void 0?ee:g.default;return{strictSchema:(Te=(pe=k.strictSchema)!==null&&pe!==void 0?pe:Ee)!==null&&Te!==void 0?Te:!0,strictNumbers:(Ae=(Je=k.strictNumbers)!==null&&Je!==void 0?Je:Ee)!==null&&Ae!==void 0?Ae:!0,strictTypes:(Xe=($e=k.strictTypes)!==null&&$e!==void 0?$e:Ee)!==null&&Xe!==void 0?Xe:"log",strictTuples:(H=(ae=k.strictTuples)!==null&&ae!==void 0?ae:Ee)!==null&&H!==void 0?H:"log",strictRequired:(ie=(B=k.strictRequired)!==null&&B!==void 0?B:Ee)!==null&&ie!==void 0?ie:!1,code:k.code?{...k.code,optimize:$,regExp:K}:{optimize:$,regExp:K},loopRequired:(fe=k.loopRequired)!==null&&fe!==void 0?fe:x,loopEnum:(Pe=k.loopEnum)!==null&&Pe!==void 0?Pe:x,meta:(Ie=k.meta)!==null&&Ie!==void 0?Ie:!0,messages:(tt=k.messages)!==null&&tt!==void 0?tt:!0,inlineRefs:(De=k.inlineRefs)!==null&&De!==void 0?De:!0,schemaId:(ot=k.schemaId)!==null&&ot!==void 0?ot:"$id",addUsedSchema:(gt=k.addUsedSchema)!==null&&gt!==void 0?gt:!0,validateSchema:(_e=k.validateSchema)!==null&&_e!==void 0?_e:!0,validateFormats:(Be=k.validateFormats)!==null&&Be!==void 0?Be:!0,unicodeRegExp:(at=k.unicodeRegExp)!==null&&at!==void 0?at:!0,int32range:(me=k.int32range)!==null&&me!==void 0?me:!0,uriResolver:G}}class P{constructor(re={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,re=this.opts={...re,...R(re)};const{es5:ge,lines:W}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:ge,lines:W}),this.logger=le(re.logger);const ee=re.validateFormats;re.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,S,re,"NOT SUPPORTED"),O.call(this,w,re,"DEPRECATED","warn"),this._metaOpts=q.call(this),re.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),re.keywords&&Y.call(this,re.keywords),typeof re.meta=="object"&&this.addMetaSchema(re.meta),F.call(this),re.validateFormats=ee}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:re,meta:ge,schemaId:W}=this.opts;let ee=h;W==="id"&&(ee={...h},ee.id=ee.$id,delete ee.$id),ge&&re&&this.addMetaSchema(ee,ee[W],!1)}defaultMeta(){const{meta:re,schemaId:ge}=this.opts;return this.opts.defaultMeta=typeof re=="object"?re[ge]||re:void 0}validate(re,ge){let W;if(typeof re=="string"){if(W=this.getSchema(re),!W)throw new Error(`no schema with key or ref "${re}"`)}else W=this.compile(re);const ee=W(ge);return"$async"in W||(this.errors=W.errors),ee}compile(re,ge){const W=this._addSchema(re,ge);return W.validate||this._compileSchemaEnv(W)}compileAsync(re,ge){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return ee.call(this,re,ge);async function ee(Xe,ae){await pe.call(this,Xe.$schema);const H=this._addSchema(Xe,ae);return H.validate||Te.call(this,H)}async function pe(Xe){Xe&&!this.getSchema(Xe)&&await ee.call(this,{$ref:Xe},!0)}async function Te(Xe){try{return this._compileSchemaEnv(Xe)}catch(ae){if(!(ae instanceof i.default))throw ae;return Je.call(this,ae),await Ae.call(this,ae.missingSchema),Te.call(this,Xe)}}function Je({missingSchema:Xe,missingRef:ae}){if(this.refs[Xe])throw new Error(`AnySchema ${Xe} is loaded but ${ae} cannot be resolved`)}async function Ae(Xe){const ae=await $e.call(this,Xe);this.refs[Xe]||await pe.call(this,ae.$schema),this.refs[Xe]||this.addSchema(ae,Xe,ge)}async function $e(Xe){const ae=this._loading[Xe];if(ae)return ae;try{return await(this._loading[Xe]=W(Xe))}finally{delete this._loading[Xe]}}}addSchema(re,ge,W,ee=this.opts.validateSchema){if(Array.isArray(re)){for(const Te of re)this.addSchema(Te,void 0,W,ee);return this}let pe;if(typeof re=="object"){const{schemaId:Te}=this.opts;if(pe=re[Te],pe!==void 0&&typeof pe!="string")throw new Error(`schema ${Te} must be string`)}return ge=(0,l.normalizeId)(ge||pe),this._checkUnique(ge),this.schemas[ge]=this._addSchema(re,W,ge,ee,!0),this}addMetaSchema(re,ge,W=this.opts.validateSchema){return this.addSchema(re,ge,!0,W),this}validateSchema(re,ge){if(typeof re=="boolean")return!0;let W;if(W=re.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ee=this.validate(W,re);if(!ee&&ge){const pe="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(pe);else throw new Error(pe)}return ee}getSchema(re){let ge;for(;typeof(ge=D.call(this,re))=="string";)re=ge;if(ge===void 0){const{schemaId:W}=this.opts,ee=new o.SchemaEnv({schema:{},schemaId:W});if(ge=o.resolveSchema.call(this,ee,re),!ge)return;this.refs[re]=ge}return ge.validate||this._compileSchemaEnv(ge)}removeSchema(re){if(re instanceof RegExp)return this._removeAllSchemas(this.schemas,re),this._removeAllSchemas(this.refs,re),this;switch(typeof re){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ge=D.call(this,re);return typeof ge=="object"&&this._cache.delete(ge.schema),delete this.schemas[re],delete this.refs[re],this}case"object":{const ge=re;this._cache.delete(ge);let W=re[this.opts.schemaId];return W&&(W=(0,l.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(re){for(const ge of re)this.addKeyword(ge);return this}addKeyword(re,ge){let W;if(typeof re=="string")W=re,typeof ge=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ge.keyword=W);else if(typeof re=="object"&&ge===void 0){if(ge=re,W=ge.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(oe.call(this,W,ge),!ge)return(0,d.eachItem)(W,pe=>he.call(this,pe)),this;de.call(this,ge);const ee={...ge,type:(0,c.getJSONTypes)(ge.type),schemaType:(0,c.getJSONTypes)(ge.schemaType)};return(0,d.eachItem)(W,ee.type.length===0?pe=>he.call(this,pe,ee):pe=>ee.type.forEach(Te=>he.call(this,pe,ee,Te))),this}getKeyword(re){const ge=this.RULES.all[re];return typeof ge=="object"?ge.definition:!!ge}removeKeyword(re){const{RULES:ge}=this;delete ge.keywords[re],delete ge.all[re];for(const W of ge.rules){const ee=W.rules.findIndex(pe=>pe.keyword===re);ee>=0&&W.rules.splice(ee,1)}return this}addFormat(re,ge){return typeof ge=="string"&&(ge=new RegExp(ge)),this.formats[re]=ge,this}errorsText(re=this.errors,{separator:ge=", ",dataVar:W="data"}={}){return!re||re.length===0?"No errors":re.map(ee=>`${W}${ee.instancePath} ${ee.message}`).reduce((ee,pe)=>ee+ge+pe)}$dataMetaSchema(re,ge){const W=this.RULES.all;re=JSON.parse(JSON.stringify(re));for(const ee of ge){const pe=ee.split("/").slice(1);let Te=re;for(const Je of pe)Te=Te[Je];for(const Je in W){const Ae=W[Je];if(typeof Ae!="object")continue;const{$data:$e}=Ae.definition,Xe=Te[Je];$e&&Xe&&(Te[Je]=Re(Xe))}}return re}_removeAllSchemas(re,ge){for(const W in re){const ee=re[W];(!ge||ge.test(W))&&(typeof ee=="string"?delete re[W]:ee&&!ee.meta&&(this._cache.delete(ee.schema),delete re[W]))}}_addSchema(re,ge,W,ee=this.opts.validateSchema,pe=this.opts.addUsedSchema){let Te;const{schemaId:Je}=this.opts;if(typeof re=="object")Te=re[Je];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof re!="boolean")throw new Error("schema must be object or boolean")}let Ae=this._cache.get(re);if(Ae!==void 0)return Ae;W=(0,l.normalizeId)(Te||W);const $e=l.getSchemaRefs.call(this,re,W);return Ae=new o.SchemaEnv({schema:re,schemaId:Je,meta:ge,baseId:W,localRefs:$e}),this._cache.set(Ae.schema,Ae),pe&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=Ae),ee&&this.validateSchema(re,!0),Ae}_checkUnique(re){if(this.schemas[re]||this.refs[re])throw new Error(`schema with key or id "${re}" already exists`)}_compileSchemaEnv(re){if(re.meta?this._compileMetaSchema(re):o.compileSchema.call(this,re),!re.validate)throw new Error("ajv implementation error");return re.validate}_compileMetaSchema(re){const ge=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,re)}finally{this.opts=ge}}}P.ValidationError=r.default,P.MissingRefError=i.default,e.default=P;function O(k,re,ge,W="error"){for(const ee in k){const pe=ee;pe in re&&this.logger[W](`${ge}: option ${ee}. ${k[pe]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function F(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const re in k)this.addSchema(k[re],re)}function Q(){for(const k in this.opts.formats){const re=this.opts.formats[k];re&&this.addFormat(k,re)}}function Y(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const re in k){const ge=k[re];ge.keyword||(ge.keyword=re),this.addKeyword(ge)}}function q(){const k={...this.opts};for(const re of v)delete k[re];return k}const X={log(){},warn(){},error(){}};function le(k){if(k===!1)return X;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const te=/^[a-z_$][a-z0-9_$:-]*$/i;function oe(k,re){const{RULES:ge}=this;if((0,d.eachItem)(k,W=>{if(ge.keywords[W])throw new Error(`Keyword ${W} is already defined`);if(!te.test(W))throw new Error(`Keyword ${W} has invalid name`)}),!!re&&re.$data&&!("code"in re||"validate"in re))throw new Error('$data keyword must have "code" or "validate" function')}function he(k,re,ge){var W;const ee=re==null?void 0:re.post;if(ge&&ee)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:pe}=this;let Te=ee?pe.post:pe.rules.find(({type:Ae})=>Ae===ge);if(Te||(Te={type:ge,rules:[]},pe.rules.push(Te)),pe.keywords[k]=!0,!re)return;const Je={keyword:k,definition:{...re,type:(0,c.getJSONTypes)(re.type),schemaType:(0,c.getJSONTypes)(re.schemaType)}};re.before?ve.call(this,Te,Je,re.before):Te.rules.push(Je),pe.all[k]=Je,(W=re.implements)===null||W===void 0||W.forEach(Ae=>this.addKeyword(Ae))}function ve(k,re,ge){const W=k.rules.findIndex(ee=>ee.keyword===ge);W>=0?k.rules.splice(W,0,re):(k.rules.push(re),this.logger.warn(`rule ${ge} is not defined`))}function de(k){let{metaSchema:re}=k;re!==void 0&&(k.$data&&this.opts.$data&&(re=Re(re)),k.validateSchema=this.compile(re,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Re(k){return{anyOf:[k,se]}}}(SR)),SR}var U_={},q_={},z_={},L8;function KPe(){if(L8)return z_;L8=1,Object.defineProperty(z_,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return z_.default=e,z_}var Rl={},I8;function GPe(){if(I8)return Rl;I8=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.callRef=Rl.getValidate=void 0;const e=ML(),t=ls(),n=Mn(),r=Ku(),i=DL(),a=Gn(),o={keyword:"$ref",schemaType:"string",code(c){const{gen:d,schema:h,it:g}=c,{baseId:y,schemaEnv:v,validateName:_,opts:S,self:w}=g,{root:x}=v;if((h==="#"||h==="#/")&&y===x.baseId)return P();const R=i.resolveRef.call(w,x,y,h);if(R===void 0)throw new e.default(g.opts.uriResolver,y,h);if(R instanceof i.SchemaEnv)return O(R);return D(R);function P(){if(v===x)return l(c,_,v,v.$async);const F=d.scopeValue("root",{ref:x});return l(c,(0,n._)`${F}.validate`,x,x.$async)}function O(F){const Q=s(c,F);l(c,Q,F,F.$async)}function D(F){const Q=d.scopeValue("schema",S.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),Y=d.name("valid"),q=c.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:h},Y);c.mergeEvaluated(q),c.ok(Y)}}};function s(c,d){const{gen:h}=c;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:d})}.validate`}Rl.getValidate=s;function l(c,d,h,g){const{gen:y,it:v}=c,{allErrors:_,schemaEnv:S,opts:w}=v,x=w.passContext?r.default.this:n.nil;g?R():P();function R(){if(!S.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,t.callValidateCode)(c,d,x)}`),D(d),_||y.assign(F,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${v.ValidationError})`,()=>y.throw(Q)),O(Q),_||y.assign(F,!1)}),c.ok(F)}function P(){c.result((0,t.callValidateCode)(c,d,x),()=>D(d),()=>O(d))}function O(F){const Q=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(F){var Q;if(!v.opts.unevaluated)return;const Y=(Q=h==null?void 0:h.validate)===null||Q===void 0?void 0:Q.evaluated;if(v.props!==!0)if(Y&&!Y.dynamicProps)Y.props!==void 0&&(v.props=a.mergeEvaluated.props(y,Y.props,v.props));else{const q=y.var("props",(0,n._)`${F}.evaluated.props`);v.props=a.mergeEvaluated.props(y,q,v.props,n.Name)}if(v.items!==!0)if(Y&&!Y.dynamicItems)Y.items!==void 0&&(v.items=a.mergeEvaluated.items(y,Y.items,v.items));else{const q=y.var("items",(0,n._)`${F}.evaluated.items`);v.items=a.mergeEvaluated.items(y,q,v.items,n.Name)}}}return Rl.callRef=l,Rl.default=o,Rl}var M8;function WPe(){if(M8)return q_;M8=1,Object.defineProperty(q_,"__esModule",{value:!0});const e=KPe(),t=GPe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return q_.default=n,q_}var H_={},V_={},D8;function QPe(){if(D8)return V_;D8=1,Object.defineProperty(V_,"__esModule",{value:!0});const e=Mn(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:a,schemaCode:o})=>(0,e.str)`must be ${n[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,e._)`{comparison: ${n[a].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:o,data:s,schemaCode:l}=a;a.fail$data((0,e._)`${s} ${n[o].fail} ${l} || isNaN(${s})`)}};return V_.default=i,V_}var K_={},k8;function ZPe(){if(k8)return K_;k8=1,Object.defineProperty(K_,"__esModule",{value:!0});const e=Mn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:o,it:s}=r,l=s.opts.multipleOfPrecision,c=i.let("res"),d=l?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,e._)`${c} !== parseInt(${c})`;r.fail$data((0,e._)`(${o} === 0 || (${c} = ${a}/${o}, ${d}))`)}};return K_.default=n,K_}var G_={},W_={},N8;function JPe(){if(N8)return W_;N8=1,Object.defineProperty(W_,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,a;for(;i<n;)r++,a=t.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=t.charCodeAt(i),(a&64512)===56320&&i++);return r}return W_.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',W_}var F8;function XPe(){if(F8)return G_;F8=1,Object.defineProperty(G_,"__esModule",{value:!0});const e=Mn(),t=Gn(),n=JPe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const s=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:o,data:s,schemaCode:l,it:c}=a,d=o==="maxLength"?e.operators.GT:e.operators.LT,h=c.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(a.gen,n.default)}(${s})`;a.fail$data((0,e._)`${h} ${d} ${l}`)}};return G_.default=i,G_}var Q_={},j8;function YPe(){if(j8)return Q_;j8=1,Object.defineProperty(Q_,"__esModule",{value:!0});const e=ls(),t=Mn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:a,$data:o,schema:s,schemaCode:l,it:c}=i,d=c.opts.unicodeRegExp?"u":"",h=o?(0,t._)`(new RegExp(${l}, ${d}))`:(0,e.usePattern)(i,s);i.fail$data((0,t._)`!${h}.test(${a})`)}};return Q_.default=r,Q_}var Z_={},$8;function eOe(){if($8)return Z_;$8=1,Object.defineProperty(Z_,"__esModule",{value:!0});const e=Mn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${a}).length ${s} ${o}`)}};return Z_.default=n,Z_}var J_={},B8;function tOe(){if(B8)return J_;B8=1,Object.defineProperty(J_,"__esModule",{value:!0});const e=ls(),t=Mn(),n=Gn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:s,schemaCode:l,data:c,$data:d,it:h}=a,{opts:g}=h;if(!d&&s.length===0)return;const y=s.length>=g.loopRequired;if(h.allErrors?v():_(),g.strictRequired){const x=a.parentSchema.properties,{definedProperties:R}=a.it;for(const P of s)if((x==null?void 0:x[P])===void 0&&!R.has(P)){const O=h.schemaEnv.baseId+h.errSchemaPath,D=`required property "${P}" is not defined at "${O}" (strictRequired)`;(0,n.checkStrictMode)(h,D,h.opts.strictRequired)}}function v(){if(y||d)a.block$data(t.nil,S);else for(const x of s)(0,e.checkReportMissingProp)(a,x)}function _(){const x=o.let("missing");if(y||d){const R=o.let("valid",!0);a.block$data(R,()=>w(x,R)),a.ok(R)}else o.if((0,e.checkMissingProp)(a,s,x)),(0,e.reportMissingProp)(a,x),o.else()}function S(){o.forOf("prop",l,x=>{a.setParams({missingProperty:x}),o.if((0,e.noPropertyInData)(o,c,x,g.ownProperties),()=>a.error())})}function w(x,R){a.setParams({missingProperty:x}),o.forOf(x,l,()=>{o.assign(R,(0,e.propertyInData)(o,c,x,g.ownProperties)),o.if((0,t.not)(R),()=>{a.error(),o.break()})},t.nil)}}};return J_.default=i,J_}var X_={},U8;function nOe(){if(U8)return X_;U8=1,Object.defineProperty(X_,"__esModule",{value:!0});const e=Mn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${a}.length ${s} ${o}`)}};return X_.default=n,X_}var Y_={},e0={},q8;function kL(){if(q8)return e0;q8=1,Object.defineProperty(e0,"__esModule",{value:!0});const e=iG();return e.code='require("ajv/dist/runtime/equal").default',e0.default=e,e0}var z8;function rOe(){if(z8)return Y_;z8=1,Object.defineProperty(Y_,"__esModule",{value:!0});const e=Fw(),t=Mn(),n=Gn(),r=kL(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,t._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:l,$data:c,schema:d,parentSchema:h,schemaCode:g,it:y}=o;if(!c&&!d)return;const v=s.let("valid"),_=h.items?(0,e.getSchemaTypes)(h.items):[];o.block$data(v,S,(0,t._)`${g} === false`),o.ok(v);function S(){const P=s.let("i",(0,t._)`${l}.length`),O=s.let("j");o.setParams({i:P,j:O}),s.assign(v,!0),s.if((0,t._)`${P} > 1`,()=>(w()?x:R)(P,O))}function w(){return _.length>0&&!_.some(P=>P==="object"||P==="array")}function x(P,O){const D=s.name("item"),F=(0,e.checkDataTypes)(_,D,y.opts.strictNumbers,e.DataType.Wrong),Q=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${P}--;`,()=>{s.let(D,(0,t._)`${l}[${P}]`),s.if(F,(0,t._)`continue`),_.length>1&&s.if((0,t._)`typeof ${D} == "string"`,(0,t._)`${D} += "_"`),s.if((0,t._)`typeof ${Q}[${D}] == "number"`,()=>{s.assign(O,(0,t._)`${Q}[${D}]`),o.error(),s.assign(v,!1).break()}).code((0,t._)`${Q}[${D}] = ${P}`)})}function R(P,O){const D=(0,n.useFunc)(s,r.default),F=s.name("outer");s.label(F).for((0,t._)`;${P}--;`,()=>s.for((0,t._)`${O} = ${P}; ${O}--;`,()=>s.if((0,t._)`${D}(${l}[${P}], ${l}[${O}])`,()=>{o.error(),s.assign(v,!1).break(F)})))}}};return Y_.default=a,Y_}var t0={},H8;function iOe(){if(H8)return t0;H8=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=Mn(),t=Gn(),n=kL(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:s,$data:l,schemaCode:c,schema:d}=a;l||d&&typeof d=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${s}, ${c})`):a.fail((0,e._)`${d} !== ${s}`)}};return t0.default=i,t0}var n0={},V8;function aOe(){if(V8)return n0;V8=1,Object.defineProperty(n0,"__esModule",{value:!0});const e=Mn(),t=Gn(),n=kL(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:s,$data:l,schema:c,schemaCode:d,it:h}=a;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const g=c.length>=h.opts.loopEnum;let y;const v=()=>y??(y=(0,t.useFunc)(o,n.default));let _;if(g||l)_=o.let("valid"),a.block$data(_,S);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const x=o.const("vSchema",d);_=(0,e.or)(...c.map((R,P)=>w(x,P)))}a.pass(_);function S(){o.assign(_,!1),o.forOf("v",d,x=>o.if((0,e._)`${v()}(${s}, ${x})`,()=>o.assign(_,!0).break()))}function w(x,R){const P=c[R];return typeof P=="object"&&P!==null?(0,e._)`${v()}(${s}, ${x}[${R}])`:(0,e._)`${s} === ${P}`}}};return n0.default=i,n0}var K8;function oOe(){if(K8)return H_;K8=1,Object.defineProperty(H_,"__esModule",{value:!0});const e=QPe(),t=ZPe(),n=XPe(),r=YPe(),i=eOe(),a=tOe(),o=nOe(),s=rOe(),l=iOe(),c=aOe(),d=[e.default,t.default,n.default,r.default,i.default,a.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return H_.default=d,H_}var r0={},zd={},G8;function aG(){if(G8)return zd;G8=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.validateAdditionalItems=void 0;const e=Mn(),t=Gn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:s}=a,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,o){const{gen:s,schema:l,data:c,keyword:d,it:h}=a;h.items=!0;const g=s.const("len",(0,e._)`${c}.length`);if(l===!1)a.setParams({len:o.length}),a.pass((0,e._)`${g} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(h,l)){const v=s.var("valid",(0,e._)`${g} <= ${o.length}`);s.if((0,e.not)(v),()=>y(v)),a.ok(v)}function y(v){s.forRange("i",o.length,g,_=>{a.subschema({keyword:d,dataProp:_,dataPropType:t.Type.Num},v),h.allErrors||s.if((0,e.not)(v),()=>s.break())})}}return zd.validateAdditionalItems=i,zd.default=r,zd}var i0={},Hd={},W8;function oG(){if(W8)return Hd;W8=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.validateTuple=void 0;const e=Mn(),t=Gn(),n=ls(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:s}=a;if(Array.isArray(o))return i(a,"additionalItems",o);s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&a.ok((0,n.validateArray)(a))}};function i(a,o,s=a.schema){const{gen:l,parentSchema:c,data:d,keyword:h,it:g}=a;_(c),g.opts.unevaluated&&s.length&&g.items!==!0&&(g.items=t.mergeEvaluated.items(l,s.length,g.items));const y=l.name("valid"),v=l.const("len",(0,e._)`${d}.length`);s.forEach((S,w)=>{(0,t.alwaysValidSchema)(g,S)||(l.if((0,e._)`${v} > ${w}`,()=>a.subschema({keyword:h,schemaProp:w,dataProp:w},y)),a.ok(y))});function _(S){const{opts:w,errSchemaPath:x}=g,R=s.length,P=R===S.minItems&&(R===S.maxItems||S[o]===!1);if(w.strictTuples&&!P){const O=`"${h}" is ${R}-tuple, but minItems or maxItems/${o} are not specified or different at path "${x}"`;(0,t.checkStrictMode)(g,O,w.strictTuples)}}}return Hd.validateTuple=i,Hd.default=r,Hd}var Q8;function sOe(){if(Q8)return i0;Q8=1,Object.defineProperty(i0,"__esModule",{value:!0});const e=oG(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return i0.default=t,i0}var a0={},Z8;function uOe(){if(Z8)return a0;Z8=1,Object.defineProperty(a0,"__esModule",{value:!0});const e=Mn(),t=Gn(),n=ls(),r=aG(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:l,it:c}=o,{prefixItems:d}=l;c.items=!0,!(0,t.alwaysValidSchema)(c,s)&&(d?(0,r.validateAdditionalItems)(o,d):o.ok((0,n.validateArray)(o)))}};return a0.default=a,a0}var o0={},J8;function lOe(){if(J8)return o0;J8=1,Object.defineProperty(o0,"__esModule",{value:!0});const e=Mn(),t=Gn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:o,parentSchema:s,data:l,it:c}=i;let d,h;const{minContains:g,maxContains:y}=s;c.opts.next?(d=g===void 0?1:g,h=y):d=1;const v=a.const("len",(0,e._)`${l}.length`);if(i.setParams({min:d,max:h}),h===void 0&&d===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&d>h){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(c,o)){let R=(0,e._)`${v} >= ${d}`;h!==void 0&&(R=(0,e._)`${R} && ${v} <= ${h}`),i.pass(R);return}c.items=!0;const _=a.name("valid");h===void 0&&d===1?w(_,()=>a.if(_,()=>a.break())):d===0?(a.let(_,!0),h!==void 0&&a.if((0,e._)`${l}.length > 0`,S)):(a.let(_,!1),S()),i.result(_,()=>i.reset());function S(){const R=a.name("_valid"),P=a.let("count",0);w(R,()=>a.if(R,()=>x(P)))}function w(R,P){a.forRange("i",0,v,O=>{i.subschema({keyword:"contains",dataProp:O,dataPropType:t.Type.Num,compositeRule:!0},R),P()})}function x(R){a.code((0,e._)`${R}++`),h===void 0?a.if((0,e._)`${R} >= ${d}`,()=>a.assign(_,!0).break()):(a.if((0,e._)`${R} > ${h}`,()=>a.assign(_,!1).break()),d===1?a.assign(_,!0):a.if((0,e._)`${R} >= ${d}`,()=>a.assign(_,!0)))}}};return o0.default=r,o0}var PR={},X8;function cOe(){return X8||(X8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Mn(),n=Gn(),r=ls();e.error={message:({params:{property:l,depsCount:c,deps:d}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,d]=a(l);o(l,c),s(l,d)}};function a({schema:l}){const c={},d={};for(const h in l){if(h==="__proto__")continue;const g=Array.isArray(l[h])?c:d;g[h]=l[h]}return[c,d]}function o(l,c=l.schema){const{gen:d,data:h,it:g}=l;if(Object.keys(c).length===0)return;const y=d.let("missing");for(const v in c){const _=c[v];if(_.length===0)continue;const S=(0,r.propertyInData)(d,h,v,g.opts.ownProperties);l.setParams({property:v,depsCount:_.length,deps:_.join(", ")}),g.allErrors?d.if(S,()=>{for(const w of _)(0,r.checkReportMissingProp)(l,w)}):(d.if((0,t._)`${S} && (${(0,r.checkMissingProp)(l,_,y)})`),(0,r.reportMissingProp)(l,y),d.else())}}e.validatePropertyDeps=o;function s(l,c=l.schema){const{gen:d,data:h,keyword:g,it:y}=l,v=d.name("valid");for(const _ in c)(0,n.alwaysValidSchema)(y,c[_])||(d.if((0,r.propertyInData)(d,h,_,y.opts.ownProperties),()=>{const S=l.subschema({keyword:g,schemaProp:_},v);l.mergeValidEvaluated(S,v)},()=>d.var(v,!0)),l.ok(v))}e.validateSchemaDeps=s,e.default=i}(PR)),PR}var s0={},Y8;function fOe(){if(Y8)return s0;Y8=1,Object.defineProperty(s0,"__esModule",{value:!0});const e=Mn(),t=Gn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:o,data:s,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const c=a.name("valid");a.forIn("key",s,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},c),a.if((0,e.not)(c),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(c)}};return s0.default=r,s0}var u0={},eB;function sG(){if(eB)return u0;eB=1,Object.defineProperty(u0,"__esModule",{value:!0});const e=ls(),t=Mn(),n=Ku(),r=Gn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:l,parentSchema:c,data:d,errsCount:h,it:g}=o;if(!h)throw new Error("ajv implementation error");const{allErrors:y,opts:v}=g;if(g.props=!0,v.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(g,l))return;const _=(0,e.allSchemaProperties)(c.properties),S=(0,e.allSchemaProperties)(c.patternProperties);w(),o.ok((0,t._)`${h} === ${n.default.errors}`);function w(){s.forIn("key",d,D=>{!_.length&&!S.length?P(D):s.if(x(D),()=>P(D))})}function x(D){let F;if(_.length>8){const Q=(0,r.schemaRefOrVal)(g,c.properties,"properties");F=(0,e.isOwnProperty)(s,Q,D)}else _.length?F=(0,t.or)(..._.map(Q=>(0,t._)`${D} === ${Q}`)):F=t.nil;return S.length&&(F=(0,t.or)(F,...S.map(Q=>(0,t._)`${(0,e.usePattern)(o,Q)}.test(${D})`))),(0,t.not)(F)}function R(D){s.code((0,t._)`delete ${d}[${D}]`)}function P(D){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){R(D);return}if(l===!1){o.setParams({additionalProperty:D}),o.error(),y||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(g,l)){const F=s.name("valid");v.removeAdditional==="failing"?(O(D,F,!1),s.if((0,t.not)(F),()=>{o.reset(),R(D)})):(O(D,F),y||s.if((0,t.not)(F),()=>s.break()))}}function O(D,F,Q){const Y={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(Y,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(Y,F)}}};return u0.default=a,u0}var l0={},tB;function dOe(){if(tB)return l0;tB=1,Object.defineProperty(l0,"__esModule",{value:!0});const e=Uy(),t=ls(),n=Gn(),r=sG(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,parentSchema:l,data:c,it:d}=a;d.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(s);for(const S of h)d.definedProperties.add(S);d.opts.unevaluated&&h.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(o,(0,n.toHash)(h),d.props));const g=h.filter(S=>!(0,n.alwaysValidSchema)(d,s[S]));if(g.length===0)return;const y=o.name("valid");for(const S of g)v(S)?_(S):(o.if((0,t.propertyInData)(o,c,S,d.opts.ownProperties)),_(S),d.allErrors||o.else().var(y,!0),o.endIf()),a.it.definedProperties.add(S),a.ok(y);function v(S){return d.opts.useDefaults&&!d.compositeRule&&s[S].default!==void 0}function _(S){a.subschema({keyword:"properties",schemaProp:S,dataProp:S},y)}}};return l0.default=i,l0}var c0={},nB;function hOe(){if(nB)return c0;nB=1,Object.defineProperty(c0,"__esModule",{value:!0});const e=ls(),t=Mn(),n=Gn(),r=Gn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,data:l,parentSchema:c,it:d}=a,{opts:h}=d,g=(0,e.allSchemaProperties)(s),y=g.filter(P=>(0,n.alwaysValidSchema)(d,s[P]));if(g.length===0||y.length===g.length&&(!d.opts.unevaluated||d.props===!0))return;const v=h.strictSchema&&!h.allowMatchingProperties&&c.properties,_=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(o,d.props));const{props:S}=d;w();function w(){for(const P of g)v&&x(P),d.allErrors?R(P):(o.var(_,!0),R(P),o.if(_))}function x(P){for(const O in v)new RegExp(P).test(O)&&(0,n.checkStrictMode)(d,`property ${O} matches pattern ${P} (use allowMatchingProperties)`)}function R(P){o.forIn("key",l,O=>{o.if((0,t._)`${(0,e.usePattern)(a,P)}.test(${O})`,()=>{const D=y.includes(P);D||a.subschema({keyword:"patternProperties",schemaProp:P,dataProp:O,dataPropType:r.Type.Str},_),d.opts.unevaluated&&S!==!0?o.assign((0,t._)`${S}[${O}]`,!0):!D&&!d.allErrors&&o.if((0,t.not)(_),()=>o.break())})})}}};return c0.default=i,c0}var f0={},rB;function pOe(){if(rB)return f0;rB=1,Object.defineProperty(f0,"__esModule",{value:!0});const e=Gn(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,e.alwaysValidSchema)(a,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return f0.default=t,f0}var d0={},iB;function gOe(){if(iB)return d0;iB=1,Object.defineProperty(d0,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ls().validateUnion,error:{message:"must match a schema in anyOf"}};return d0.default=t,d0}var h0={},aB;function mOe(){if(aB)return h0;aB=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=Mn(),t=Gn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:o,parentSchema:s,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const c=o,d=a.let("valid",!1),h=a.let("passing",null),g=a.name("_valid");i.setParams({passing:h}),a.block(y),i.result(d,()=>i.reset(),()=>i.error(!0));function y(){c.forEach((v,_)=>{let S;(0,t.alwaysValidSchema)(l,v)?a.var(g,!0):S=i.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},g),_>0&&a.if((0,e._)`${g} && ${d}`).assign(d,!1).assign(h,(0,e._)`[${h}, ${_}]`).else(),a.if(g,()=>{a.assign(d,!0),a.assign(h,_),S&&i.mergeEvaluated(S,e.Name)})})}}};return h0.default=r,h0}var p0={},oB;function yOe(){if(oB)return p0;oB=1,Object.defineProperty(p0,"__esModule",{value:!0});const e=Gn(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((s,l)=>{if((0,e.alwaysValidSchema)(a,s))return;const c=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(c)})}};return p0.default=t,p0}var g0={},sB;function vOe(){if(sB)return g0;sB=1,Object.defineProperty(g0,"__esModule",{value:!0});const e=Mn(),t=Gn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:s,it:l}=a;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=i(l,"then"),d=i(l,"else");if(!c&&!d)return;const h=o.let("valid",!0),g=o.name("_valid");if(y(),a.reset(),c&&d){const _=o.let("ifClause");a.setParams({ifClause:_}),o.if(g,v("then",_),v("else",_))}else c?o.if(g,v("then")):o.if((0,e.not)(g),v("else"));a.pass(h,()=>a.error(!0));function y(){const _=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);a.mergeEvaluated(_)}function v(_,S){return()=>{const w=a.subschema({keyword:_},g);o.assign(h,g),a.mergeValidEvaluated(w,h),S?o.assign(S,(0,e._)`${_}`):a.setParams({ifClause:_})}}}};function i(a,o){const s=a.schema[o];return s!==void 0&&!(0,t.alwaysValidSchema)(a,s)}return g0.default=r,g0}var m0={},uB;function _Oe(){if(uB)return m0;uB=1,Object.defineProperty(m0,"__esModule",{value:!0});const e=Gn(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return m0.default=t,m0}var lB;function wOe(){if(lB)return r0;lB=1,Object.defineProperty(r0,"__esModule",{value:!0});const e=aG(),t=sOe(),n=oG(),r=uOe(),i=lOe(),a=cOe(),o=fOe(),s=sG(),l=dOe(),c=hOe(),d=pOe(),h=gOe(),g=mOe(),y=yOe(),v=vOe(),_=_Oe();function S(w=!1){const x=[d.default,h.default,g.default,y.default,v.default,_.default,o.default,s.default,a.default,l.default,c.default];return w?x.push(t.default,r.default):x.push(e.default,n.default),x.push(i.default),x}return r0.default=S,r0}var y0={},v0={},cB;function bOe(){if(cB)return v0;cB=1,Object.defineProperty(v0,"__esModule",{value:!0});const e=Mn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:a,data:o,$data:s,schema:l,schemaCode:c,it:d}=r,{opts:h,errSchemaPath:g,schemaEnv:y,self:v}=d;if(!h.validateFormats)return;s?_():S();function _(){const w=a.scopeValue("formats",{ref:v.formats,code:h.code.formats}),x=a.const("fDef",(0,e._)`${w}[${c}]`),R=a.let("fType"),P=a.let("format");a.if((0,e._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>a.assign(R,(0,e._)`${x}.type || "string"`).assign(P,(0,e._)`${x}.validate`),()=>a.assign(R,(0,e._)`"string"`).assign(P,x)),r.fail$data((0,e.or)(O(),D()));function O(){return h.strictSchema===!1?e.nil:(0,e._)`${c} && !${P}`}function D(){const F=y.$async?(0,e._)`(${x}.async ? await ${P}(${o}) : ${P}(${o}))`:(0,e._)`${P}(${o})`,Q=(0,e._)`(typeof ${P} == "function" ? ${F} : ${P}.test(${o}))`;return(0,e._)`${P} && ${P} !== true && ${R} === ${i} && !${Q}`}}function S(){const w=v.formats[l];if(!w){O();return}if(w===!0)return;const[x,R,P]=D(w);x===i&&r.pass(F());function O(){if(h.strictSchema===!1){v.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${l}" ignored in schema at path "${g}"`}}function D(Q){const Y=Q instanceof RegExp?(0,e.regexpCode)(Q):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(l)}`:void 0,q=a.scopeValue("formats",{key:l,ref:Q,code:Y});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,e._)`${q}.validate`]:["string",Q,q]}function F(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${P}(${o})`}return typeof R=="function"?(0,e._)`${P}(${o})`:(0,e._)`${P}.test(${o})`}}}};return v0.default=n,v0}var fB;function SOe(){if(fB)return y0;fB=1,Object.defineProperty(y0,"__esModule",{value:!0});const t=[bOe().default];return y0.default=t,y0}var ef={},dB;function xOe(){return dB||(dB=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.contentVocabulary=ef.metadataVocabulary=void 0,ef.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],ef.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),ef}var hB;function EOe(){if(hB)return U_;hB=1,Object.defineProperty(U_,"__esModule",{value:!0});const e=WPe(),t=oOe(),n=wOe(),r=SOe(),i=xOe(),a=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return U_.default=a,U_}var _0={},hm={},pB;function COe(){if(pB)return hm;pB=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(hm.DiscrError=e={})),hm}var gB;function TOe(){if(gB)return _0;gB=1,Object.defineProperty(_0,"__esModule",{value:!0});const e=Mn(),t=COe(),n=DL(),r=Gn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:s}})=>o===t.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:o,tag:s,tagName:l}})=>(0,e._)`{error: ${o}, tag: ${l}, tagValue: ${s}}`},code(o){const{gen:s,data:l,schema:c,parentSchema:d,it:h}=o,{oneOf:g}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=c.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=s.let("valid",!1),_=s.const("tag",(0,e._)`${l}${(0,e.getProperty)(y)}`);s.if((0,e._)`typeof ${_} == "string"`,()=>S(),()=>o.error(!1,{discrError:t.DiscrError.Tag,tag:_,tagName:y})),o.ok(v);function S(){const R=x();s.if(!1);for(const P in R)s.elseIf((0,e._)`${_} === ${P}`),s.assign(v,w(R[P]));s.else(),o.error(!1,{discrError:t.DiscrError.Mapping,tag:_,tagName:y}),s.endIf()}function w(R){const P=s.name("valid"),O=o.subschema({keyword:"oneOf",schemaProp:R},P);return o.mergeEvaluated(O,e.Name),P}function x(){var R;const P={},O=F(d);let D=!0;for(let q=0;q<g.length;q++){let X=g[q];X!=null&&X.$ref&&!(0,r.schemaHasRulesButRef)(X,h.self.RULES)&&(X=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,X==null?void 0:X.$ref),X instanceof n.SchemaEnv&&(X=X.schema));const le=(R=X==null?void 0:X.properties)===null||R===void 0?void 0:R[y];if(typeof le!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(O||F(X)),Q(le,q)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return P;function F({required:q}){return Array.isArray(q)&&q.includes(y)}function Q(q,X){if(q.const)Y(q.const,X);else if(q.enum)for(const le of q.enum)Y(le,X);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function Y(q,X){if(typeof q!="string"||q in P)throw new Error(`discriminator: "${y}" values must be unique strings`);P[q]=X}}}};return _0.default=a,_0}const ROe="http://json-schema.org/draft-07/schema#",AOe="http://json-schema.org/draft-07/schema#",POe="Core schema meta-schema",OOe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},LOe=["object","boolean"],IOe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},MOe={$schema:ROe,$id:AOe,title:POe,definitions:OOe,type:LOe,properties:IOe,default:!0};var mB;function uG(){return mB||(mB=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=VPe(),r=EOe(),i=TOe(),a=MOe,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=Uy();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=Mn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=IL();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var g=ML();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})}(N_,N_.exports)),N_.exports}var DOe=uG();const kOe=Mr(DOe);var w0={exports:{}},yB;function NOe(){return yB||(yB=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=uG(),r=Mn(),i=ay(),a=Uy(),o=By(),s=Ku(),l="errorMessage",c=new n.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},h=/\$\{[^}]+\}/,g=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function v(S){return{keyword:l,schemaType:["string","object"],post:!0,code(w){const{gen:x,data:R,schema:P,schemaValue:O,it:D}=w;if(D.createErrors===!1)return;const F=P,Q=r.strConcat(s.default.instancePath,D.errorPath);x.if(n._`${s.default.errors} > 0`,()=>{if(typeof F=="object"){const[W,ee]=q(F);ee&&X(ee),W&&le(W),te(Y(F))}const ge=typeof F=="string"?F:F._;ge&&oe(ge),S.keepErrors||he()});function Y({properties:ge,items:W}){const ee={};if(ge){ee.props={};for(const pe in ge)ee.props[pe]=[]}if(W){ee.items={};for(let pe=0;pe<W.length;pe++)ee.items[pe]=[]}return ee}function q(ge){let W,ee;for(const pe in ge){if(pe==="properties"||pe==="items")continue;const Te=ge[pe];if(typeof Te=="object"){W||(W={});const Je=W[pe]={};for(const Ae in Te)Je[Ae]=[]}else ee||(ee={}),ee[pe]=[]}return[W,ee]}function X(ge){const W=x.const("emErrors",n.stringify(ge)),ee=x.const("templates",Re(ge,P));x.forOf("err",s.default.vErrors,Ae=>x.if(ve(Ae,W),()=>x.code(n._`${W}[${Ae}.keyword].push(${Ae})`).assign(n._`${Ae}.${c}`,!0)));const{singleError:pe}=S;if(pe){const Ae=x.let("message",n._`""`),$e=x.let("paramsErrors",n._`[]`);Te(Xe=>{x.if(Ae,()=>x.code(n._`${Ae} += ${typeof pe=="string"?pe:";"}`)),x.code(n._`${Ae} += ${Je(Xe)}`),x.assign($e,n._`${$e}.concat(${W}[${Xe}])`)}),o.reportError(w,{message:Ae,params:n._`{errors: ${$e}}`})}else Te(Ae=>o.reportError(w,{message:Je(Ae),params:n._`{errors: ${W}[${Ae}]}`}));function Te(Ae){x.forIn("key",W,$e=>x.if(n._`${W}[${$e}].length`,()=>Ae($e)))}function Je(Ae){return n._`${Ae} in ${ee} ? ${ee}[${Ae}]() : ${O}[${Ae}]`}}function le(ge){const W=x.const("emErrors",n.stringify(ge)),ee=[];for(const $e in ge)ee.push([$e,Re(ge[$e],P[$e])]);const pe=x.const("templates",x.object(...ee)),Te=x.scopeValue("obj",{ref:d,code:n.stringify(d)}),Je=x.let("emPropParams"),Ae=x.let("emParamsErrors");x.forOf("err",s.default.vErrors,$e=>x.if(ve($e,W),()=>{x.assign(Je,n._`${Te}[${$e}.keyword]`),x.assign(Ae,n._`${W}[${$e}.keyword][${$e}.params[${Je}]]`),x.if(Ae,()=>x.code(n._`${Ae}.push(${$e})`).assign(n._`${$e}.${c}`,!0))})),x.forIn("key",W,$e=>x.forIn("keyProp",n._`${W}[${$e}]`,Xe=>{x.assign(Ae,n._`${W}[${$e}][${Xe}]`),x.if(n._`${Ae}.length`,()=>{const ae=x.const("tmpl",n._`${pe}[${$e}] && ${pe}[${$e}][${Xe}]`);o.reportError(w,{message:n._`${ae} ? ${ae}() : ${O}[${$e}][${Xe}]`,params:n._`{errors: ${Ae}}`})})}))}function te(ge){const{props:W,items:ee}=ge;if(!W&&!ee)return;const pe=n._`typeof ${R} == "object"`,Te=n._`Array.isArray(${R})`,Je=x.let("emErrors");let Ae,$e;const Xe=x.let("templates");W&&ee?(Ae=x.let("emChildKwd"),x.if(pe),x.if(Te,()=>{ae(ee,P.items),x.assign(Ae,n.str`items`)},()=>{ae(W,P.properties),x.assign(Ae,n.str`properties`)}),$e=n._`[${Ae}]`):ee?(x.if(Te),ae(ee,P.items),$e=n._`.items`):W&&(x.if(r.and(pe,r.not(Te))),ae(W,P.properties),$e=n._`.properties`),x.forOf("err",s.default.vErrors,H=>de(H,Je,B=>x.code(n._`${Je}[${B}].push(${H})`).assign(n._`${H}.${c}`,!0))),x.forIn("key",Je,H=>x.if(n._`${Je}[${H}].length`,()=>{o.reportError(w,{message:n._`${H} in ${Xe} ? ${Xe}[${H}]() : ${O}${$e}[${H}]`,params:n._`{errors: ${Je}[${H}]}`}),x.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${Q} + "/" + ${H}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),x.endIf();function ae(H,B){x.assign(Je,n.stringify(H)),x.assign(Xe,Re(H,B))}}function oe(ge){const W=x.const("emErrs",n._`[]`);x.forOf("err",s.default.vErrors,ee=>x.if(se(ee),()=>x.code(n._`${W}.push(${ee})`).assign(n._`${ee}.${c}`,!0))),x.if(n._`${W}.length`,()=>o.reportError(w,{message:k(ge),params:n._`{errors: ${W}}`}))}function he(){const ge=x.const("emErrs",n._`[]`);x.forOf("err",s.default.vErrors,W=>x.if(n._`!${W}.${c}`,()=>x.code(n._`${ge}.push(${W})`))),x.assign(s.default.vErrors,ge).assign(s.default.errors,n._`${ge}.length`)}function ve(ge,W){return r.and(n._`${ge}.keyword !== ${l}`,n._`!${ge}.${c}`,n._`${ge}.instancePath === ${Q}`,n._`${ge}.keyword in ${W}`,n._`${ge}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${ge}.schemaPath.slice(${D.errSchemaPath.length}))`)}function de(ge,W,ee){x.if(r.and(n._`${ge}.keyword !== ${l}`,n._`!${ge}.${c}`,n._`${ge}.instancePath.indexOf(${Q}) === 0`),()=>{const pe=x.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Te=x.const("emMatches",n._`${pe}.exec(${ge}.instancePath.slice(${Q}.length))`),Je=x.const("emChild",n._`${Te} && ${Te}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);x.if(n._`${Je} !== undefined && ${Je} in ${W}`,()=>ee(Je))})}function se(ge){return r.and(n._`${ge}.keyword !== ${l}`,n._`!${ge}.${c}`,r.or(n._`${ge}.instancePath === ${Q}`,r.and(n._`${ge}.instancePath.indexOf(${Q}) === 0`,n._`${ge}.instancePath[${Q}.length] === "/"`)),n._`${ge}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${ge}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Re(ge,W){const ee=[];for(const pe in ge){const Te=W[pe];h.test(Te)&&ee.push([pe,re(Te)])}return x.object(...ee)}function k(ge){return h.test(ge)?new i._Code(i.safeStringify(ge).replace(g,(W,ee)=>`" + JSON.stringify(${a.getData(ee,D)}) + "`).replace(y,"")):n.stringify(ge)}function re(ge){return n._`function(){return ${k(ge)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const _=(S,w={})=>{if(!S.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(S.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return S.addKeyword(v(w))};t.default=_,e.exports=_,e.exports.default=_}(w0,w0.exports)),w0.exports}var FOe=NOe();const jOe=Mr(FOe);var $Oe=function(e,t){for(var n={},r=function(o){o.keyword==="required"&&(o.instancePath+="/"+o.params.missingProperty);var s=o.instancePath.substring(1).replace(/\//g,".");if(n[s]||(n[s]={message:o.message,type:o.keyword}),t){var l=n[s].types,c=l&&l[o.keyword];n[s]=NK(s,t,n,o.keyword,c?[].concat(c,o.message||""):o.message)}},i=function(){var o=e[a];o.keyword==="errorMessage"?o.params.errors.forEach(function(s){s.message=o.message,r(s)}):r(o)},a=0;a<e.length;a+=1)i();return n},lG=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{var o=new kOe(Object.assign({},{allErrors:!0,validateSchema:!0},t));jOe(o);var s=o.compile(Object.assign({$async:n&&n.mode==="async"},e)),l=s(r);return a.shouldUseNativeValidation&&tG({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:APe($Oe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(c){return Promise.reject(c)}}};const BOe="_list_fgw4_1",UOe="_trigger_fgw4_5",qOe="_edited_fgw4_12",zOe="_empty_fgw4_15",lf={list:BOe,trigger:UOe,edited:qOe,empty:zOe},HOe="_input_17zzx_1",VOe="_dialogOverlay_17zzx_5",KOe="_overlayShow_17zzx_1",GOe="_dialogContent_17zzx_12",WOe="_contentShow_17zzx_1",QOe="_localeToggleGroup_17zzx_31",ZOe="_item_17zzx_35",JOe="_controls_17zzx_38",af={input:HOe,dialogOverlay:VOe,overlayShow:KOe,dialogContent:GOe,contentShow:WOe,localeToggleGroup:QOe,item:ZOe,controls:JOe},cG=({name:e,locale:t,value:n,onChange:r,onBlur:i,ref:a,initialData:o,className:s,...l})=>{const c=V.useMemo(()=>[...new Set([...Object.keys(n),t])].sort(Q9([t])),[t,n]),[d,h]=V.useState(t);return V.useEffect(()=>{(n==null?void 0:n[d])===void 0&&r({[d]:"",...n})},[r,d,n]),U.jsxs(uL,{value:d,onValueChange:h,children:[U.jsxs(lL,{className:lf.list,children:[c.map(g=>U.jsx(cL,{value:g,className:Ar(lf.trigger,{[lf.edited]:o!=null&&o[g]?n[g]!==o[g]:n[g],[lf.empty]:!n[g]}),children:g},g)),U.jsx(YOe,{className:lf.trigger,onConfirm:g=>{g&&!c.includes(g)&&r({[g]:"",...n}),g&&h(g)}})]}),c.map(g=>U.jsx(fL,{value:g,children:U.jsx("textarea",{name:`${e}.${g}`,value:n[g],onChange:y=>{r({...n,[g]:y.target.value})},className:Ar(af.input,s),onBlur:i,ref:a,...l})},g))]})},XOe={type:"object",required:["locale"],properties:{locale:{type:"string",minLength:2,pattern:"^[a-z]{2}(?:-[A-Z]{2})?$"}}},YOe=({onConfirm:e,...t})=>{const{locales:n}=Nn(),{i18n:r,_:i}=Ur(),[a,o]=V.useState(!1),{register:s,handleSubmit:l,control:c,watch:d,formState:h}=Bs({resolver:lG(XOe)}),g=l(({locale:v},_)=>(_==null||_.stopPropagation(),e(v),o(!1),!1)),y=d("locale");return U.jsxs(jbe,{open:a,onOpenChange:o,children:[U.jsx($be,{asChild:!0,children:U.jsx("button",{type:"button",...t,children:"+"})}),U.jsxs(Bbe,{children:[U.jsx(Ube,{className:af.dialogOverlay}),U.jsxs(qbe,{className:af.dialogContent,children:[U.jsx(zbe,{className:af.dialogTitle,children:U.jsx(wt,{id:"uLvjiZ"})}),U.jsx(Mw,{control:c,name:"locale",render:({field:v})=>U.jsxs(OSe,{type:"single",value:v.value,onValueChange:v.onChange,className:af.localeToggleGroup,children:[n.map(_=>U.jsx(LSe,{value:_,className:af.item,children:_},_)),U.jsx("input",{type:"text",size:2,placeholder:r._({id:"1Lxtdt"}),...s("locale")})]})}),U.jsxs("div",{className:af.controls,children:[U.jsx(Hbe,{asChild:!0,children:U.jsx(rr,{tertiary:!0,children:U.jsx(wt,{id:"dEgA5A"})})}),U.jsx(rr,{primary:!0,onClick:g,disabled:!h.isValid,children:U.jsx(wt,{id:"k4QqVn",values:{locale:y}})})]})]})]})]})},Ls=async(e,{success:t,error:n,pending:r},i)=>(Er.promise(e,{success:t,error:n??{render:({data:a})=>U.jsxs(U.Fragment,{children:[U.jsx(wt,{id:"kf83Ld"}),U.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await e);var OR,vB;function eLe(){if(vB)return OR;vB=1;var e=os(),t=function(){return e.Date.now()};return OR=t,OR}var LR,_B;function tLe(){if(_B)return LR;_B=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return LR=t,LR}var IR,wB;function nLe(){if(wB)return IR;wB=1;var e=tLe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return IR=n,IR}var MR,bB;function rLe(){if(bB)return MR;bB=1;var e=nLe(),t=Io(),n=Py(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=a.test(c);return h||o.test(c)?s(c.slice(2),h?2:8):i.test(c)?r:+c}return MR=l,MR}var DR,SB;function iLe(){if(SB)return DR;SB=1;var e=Io(),t=eLe(),n=rLe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var d,h,g,y,v,_,S=0,w=!1,x=!1,R=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(w=!!c.leading,x="maxWait"in c,g=x?i(n(c.maxWait)||0,l):g,R="trailing"in c?!!c.trailing:R);function P(te){var oe=d,he=h;return d=h=void 0,S=te,y=s.apply(he,oe),y}function O(te){return S=te,v=setTimeout(Q,l),w?P(te):y}function D(te){var oe=te-_,he=te-S,ve=l-oe;return x?a(ve,g-he):ve}function F(te){var oe=te-_,he=te-S;return _===void 0||oe>=l||oe<0||x&&he>=g}function Q(){var te=t();if(F(te))return Y(te);v=setTimeout(Q,D(te))}function Y(te){return v=void 0,R&&d?P(te):(d=h=void 0,y)}function q(){v!==void 0&&clearTimeout(v),S=0,d=_=h=v=void 0}function X(){return v===void 0?y:Y(t())}function le(){var te=t(),oe=F(te);if(d=arguments,h=this,_=te,oe){if(v===void 0)return O(_);if(x)return clearTimeout(v),v=setTimeout(Q,l),P(_)}return v===void 0&&(v=setTimeout(Q,l)),y}return le.cancel=q,le.flush=X,le}return DR=o,DR}var aLe=iLe();const oLe=Mr(aLe);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function sLe(e,t){if(kf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e){var t=sLe(e,"string");return kf(t)==="symbol"?t:String(t)}function Lm(e,t,n){return t=fG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xB(Object(n),!0).forEach(function(r){Lm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uLe(e){if(Array.isArray(e))return e}function lLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function uP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dG(e,t){if(e){if(typeof e=="string")return uP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(e,t)}}function cLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pu(e,t){return uLe(e)||lLe(e,t)||dG(e,t)||cLe()}function fLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Gu(e,t){if(e==null)return{};var n=fLe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var dLe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function hLe(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,a=e.defaultValue,o=a===void 0?null:a,s=e.inputValue,l=e.menuIsOpen,c=e.onChange,d=e.onInputChange,h=e.onMenuClose,g=e.onMenuOpen,y=e.value,v=Gu(e,dLe),_=V.useState(s!==void 0?s:n),S=Pu(_,2),w=S[0],x=S[1],R=V.useState(l!==void 0?l:i),P=Pu(R,2),O=P[0],D=P[1],F=V.useState(y!==void 0?y:o),Q=Pu(F,2),Y=Q[0],q=Q[1],X=V.useCallback(function(se,Re){typeof c=="function"&&c(se,Re),q(se)},[c]),le=V.useCallback(function(se,Re){var k;typeof d=="function"&&(k=d(se,Re)),x(k!==void 0?k:se)},[d]),te=V.useCallback(function(){typeof g=="function"&&g(),D(!0)},[g]),oe=V.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),he=s!==void 0?s:w,ve=l!==void 0?l:O,de=y!==void 0?y:Y;return on(on({},v),{},{inputValue:he,menuIsOpen:ve,onChange:X,onInputChange:le,onMenuClose:oe,onMenuOpen:te,value:de})}function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},un.apply(this,arguments)}function pLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fG(r.key),r)}}function gLe(e,t,n){return EB(e.prototype,t),EB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lP(e,t){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lP(e,t)}function mLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lP(e,t)}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jw(e)}function yLe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _Le(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vLe(e)}function wLe(e){var t=yLe();return function(){var r=jw(e),i;if(t){var a=jw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return _Le(this,i)}}function bLe(e){if(Array.isArray(e))return uP(e)}function SLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NL(e){return bLe(e)||SLe(e)||dG(e)||xLe()}function ELe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function CLe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var TLe=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CLe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ELe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Gi="-ms-",$w="-moz-",Qn="-webkit-",hG="comm",FL="rule",jL="decl",RLe="@import",pG="@keyframes",ALe=Math.abs,Hb=String.fromCharCode,PLe=Object.assign;function OLe(e,t){return $i(e,0)^45?(((t<<2^$i(e,0))<<2^$i(e,1))<<2^$i(e,2))<<2^$i(e,3):0}function gG(e){return e.trim()}function LLe(e,t){return(e=t.exec(e))?e[0]:e}function nr(e,t,n){return e.replace(t,n)}function cP(e,t){return e.indexOf(t)}function $i(e,t){return e.charCodeAt(t)|0}function oy(e,t,n){return e.slice(t,n)}function Ts(e){return e.length}function $L(e){return e.length}function b0(e,t){return t.push(e),e}function ILe(e,t){return e.map(t).join("")}var Vb=1,Mh=1,mG=0,Da=0,fi=0,cp="";function Kb(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Vb,column:Mh,length:o,return:""}}function pm(e,t){return PLe(Kb("",null,null,"",null,null,0),e,{length:-e.length},t)}function MLe(){return fi}function DLe(){return fi=Da>0?$i(cp,--Da):0,Mh--,fi===10&&(Mh=1,Vb--),fi}function no(){return fi=Da<mG?$i(cp,Da++):0,Mh++,fi===10&&(Mh=1,Vb++),fi}function Ms(){return $i(cp,Da)}function W0(){return Da}function qy(e,t){return oy(cp,e,t)}function sy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yG(e){return Vb=Mh=1,mG=Ts(cp=e),Da=0,[]}function vG(e){return cp="",e}function Q0(e){return gG(qy(Da-1,fP(e===91?e+2:e===40?e+1:e)))}function kLe(e){for(;(fi=Ms())&&fi<33;)no();return sy(e)>2||sy(fi)>3?"":" "}function NLe(e,t){for(;--t&&no()&&!(fi<48||fi>102||fi>57&&fi<65||fi>70&&fi<97););return qy(e,W0()+(t<6&&Ms()==32&&no()==32))}function fP(e){for(;no();)switch(fi){case e:return Da;case 34:case 39:e!==34&&e!==39&&fP(fi);break;case 40:e===41&&fP(e);break;case 92:no();break}return Da}function FLe(e,t){for(;no()&&e+fi!==57;)if(e+fi===84&&Ms()===47)break;return"/*"+qy(t,Da-1)+"*"+Hb(e===47?e:no())}function jLe(e){for(;!sy(Ms());)no();return qy(e,Da)}function $Le(e){return vG(Z0("",null,null,null,[""],e=yG(e),0,[0],e))}function Z0(e,t,n,r,i,a,o,s,l){for(var c=0,d=0,h=o,g=0,y=0,v=0,_=1,S=1,w=1,x=0,R="",P=i,O=a,D=r,F=R;S;)switch(v=x,x=no()){case 40:if(v!=108&&$i(F,h-1)==58){cP(F+=nr(Q0(x),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:F+=Q0(x);break;case 9:case 10:case 13:case 32:F+=kLe(v);break;case 92:F+=NLe(W0()-1,7);continue;case 47:switch(Ms()){case 42:case 47:b0(BLe(FLe(no(),W0()),t,n),l);break;default:F+="/"}break;case 123*_:s[c++]=Ts(F)*w;case 125*_:case 59:case 0:switch(x){case 0:case 125:S=0;case 59+d:y>0&&Ts(F)-h&&b0(y>32?TB(F+";",r,n,h-1):TB(nr(F," ","")+";",r,n,h-2),l);break;case 59:F+=";";default:if(b0(D=CB(F,t,n,c,d,i,s,R,P=[],O=[],h),a),x===123)if(d===0)Z0(F,t,D,D,P,a,h,s,O);else switch(g===99&&$i(F,3)===110?100:g){case 100:case 109:case 115:Z0(e,D,D,r&&b0(CB(e,D,D,0,0,i,s,R,i,P=[],h),O),i,O,h,s,r?P:O);break;default:Z0(F,D,D,D,[""],O,0,s,O)}}c=d=y=0,_=w=1,R=F="",h=o;break;case 58:h=1+Ts(F),y=v;default:if(_<1){if(x==123)--_;else if(x==125&&_++==0&&DLe()==125)continue}switch(F+=Hb(x),x*_){case 38:w=d>0?1:(F+="\f",-1);break;case 44:s[c++]=(Ts(F)-1)*w,w=1;break;case 64:Ms()===45&&(F+=Q0(no())),g=Ms(),d=h=Ts(R=F+=jLe(W0())),x++;break;case 45:v===45&&Ts(F)==2&&(_=0)}}return a}function CB(e,t,n,r,i,a,o,s,l,c,d){for(var h=i-1,g=i===0?a:[""],y=$L(g),v=0,_=0,S=0;v<r;++v)for(var w=0,x=oy(e,h+1,h=ALe(_=o[v])),R=e;w<y;++w)(R=gG(_>0?g[w]+" "+x:nr(x,/&\f/g,g[w])))&&(l[S++]=R);return Kb(e,t,n,i===0?FL:s,l,c,d)}function BLe(e,t,n){return Kb(e,t,n,hG,Hb(MLe()),oy(e,2,-2),0)}function TB(e,t,n,r){return Kb(e,t,n,jL,oy(e,0,r),oy(e,r+1,-1),r)}function sh(e,t){for(var n="",r=$L(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ULe(e,t,n,r){switch(e.type){case RLe:case jL:return e.return=e.return||e.value;case hG:return"";case pG:return e.return=e.value+"{"+sh(e.children,r)+"}";case FL:e.value=e.props.join(",")}return Ts(n=sh(e.children,r))?e.return=e.value+"{"+n+"}":""}function qLe(e){var t=$L(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function zLe(e){return function(t){t.root||(t=t.return)&&e(t)}}function HLe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var VLe=function(t,n,r){for(var i=0,a=0;i=a,a=Ms(),i===38&&a===12&&(n[r]=1),!sy(a);)no();return qy(t,Da)},KLe=function(t,n){var r=-1,i=44;do switch(sy(i)){case 0:i===38&&Ms()===12&&(n[r]=1),t[r]+=VLe(Da-1,n,r);break;case 2:t[r]+=Q0(i);break;case 4:if(i===44){t[++r]=Ms()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Hb(i)}while(i=no());return t},GLe=function(t,n){return vG(KLe(yG(t),n))},RB=new WeakMap,WLe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!RB.get(r))&&!i){RB.set(t,!0);for(var a=[],o=GLe(n,a),s=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<s.length;d++,c++)t.props[c]=a[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},QLe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function _G(e,t){switch(OLe(e,t)){case 5103:return Qn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qn+e+$w+e+Gi+e+e;case 6828:case 4268:return Qn+e+Gi+e+e;case 6165:return Qn+e+Gi+"flex-"+e+e;case 5187:return Qn+e+nr(e,/(\w+).+(:[^]+)/,Qn+"box-$1$2"+Gi+"flex-$1$2")+e;case 5443:return Qn+e+Gi+"flex-item-"+nr(e,/flex-|-self/,"")+e;case 4675:return Qn+e+Gi+"flex-line-pack"+nr(e,/align-content|flex-|-self/,"")+e;case 5548:return Qn+e+Gi+nr(e,"shrink","negative")+e;case 5292:return Qn+e+Gi+nr(e,"basis","preferred-size")+e;case 6060:return Qn+"box-"+nr(e,"-grow","")+Qn+e+Gi+nr(e,"grow","positive")+e;case 4554:return Qn+nr(e,/([^-])(transform)/g,"$1"+Qn+"$2")+e;case 6187:return nr(nr(nr(e,/(zoom-|grab)/,Qn+"$1"),/(image-set)/,Qn+"$1"),e,"")+e;case 5495:case 3959:return nr(e,/(image-set\([^]*)/,Qn+"$1$`$1");case 4968:return nr(nr(e,/(.+:)(flex-)?(.*)/,Qn+"box-pack:$3"+Gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qn+e+e;case 4095:case 3583:case 4068:case 2532:return nr(e,/(.+)-inline(.+)/,Qn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ts(e)-1-t>6)switch($i(e,t+1)){case 109:if($i(e,t+4)!==45)break;case 102:return nr(e,/(.+:)(.+)-([^]+)/,"$1"+Qn+"$2-$3$1"+$w+($i(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cP(e,"stretch")?_G(nr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if($i(e,t+1)!==115)break;case 6444:switch($i(e,Ts(e)-3-(~cP(e,"!important")&&10))){case 107:return nr(e,":",":"+Qn)+e;case 101:return nr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qn+($i(e,14)===45?"inline-":"")+"box$3$1"+Qn+"$2$3$1"+Gi+"$2box$3")+e}break;case 5936:switch($i(e,t+11)){case 114:return Qn+e+Gi+nr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qn+e+Gi+nr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qn+e+Gi+nr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qn+e+Gi+e+e}return e}var ZLe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case jL:t.return=_G(t.value,t.length);break;case pG:return sh([pm(t,{value:nr(t.value,"@","@"+Qn)})],i);case FL:if(t.length)return ILe(t.props,function(a){switch(LLe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sh([pm(t,{props:[nr(a,/:(read-\w+)/,":"+$w+"$1")]})],i);case"::placeholder":return sh([pm(t,{props:[nr(a,/:(plac\w+)/,":"+Qn+"input-$1")]}),pm(t,{props:[nr(a,/:(plac\w+)/,":"+$w+"$1")]}),pm(t,{props:[nr(a,/:(plac\w+)/,Gi+"input-$1")]})],i)}return""})}},JLe=[ZLe],XLe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||JLe,a={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)a[S[w]]=!0;s.push(_)});var l,c=[WLe,QLe];{var d,h=[ULe,zLe(function(_){d.insert(_)})],g=qLe(c.concat(i,h)),y=function(S){return sh($Le(S),g)};l=function(S,w,x,R){d=x,y(S?S+"{"+w.styles+"}":w.styles),R&&(v.inserted[w.name]=!0)}}var v={key:n,sheet:new TLe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return v.sheet.hydrate(s),v},kR={exports:{}},er={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AB;function YLe(){if(AB)return er;AB=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,w=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function R(O){if(typeof O=="object"&&O!==null){var D=O.$$typeof;switch(D){case t:switch(O=O.type,O){case l:case c:case r:case a:case i:case h:return O;default:switch(O=O&&O.$$typeof,O){case s:case d:case v:case y:case o:return O;default:return D}}case n:return D}}}function P(O){return R(O)===c}return er.AsyncMode=l,er.ConcurrentMode=c,er.ContextConsumer=s,er.ContextProvider=o,er.Element=t,er.ForwardRef=d,er.Fragment=r,er.Lazy=v,er.Memo=y,er.Portal=n,er.Profiler=a,er.StrictMode=i,er.Suspense=h,er.isAsyncMode=function(O){return P(O)||R(O)===l},er.isConcurrentMode=P,er.isContextConsumer=function(O){return R(O)===s},er.isContextProvider=function(O){return R(O)===o},er.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===t},er.isForwardRef=function(O){return R(O)===d},er.isFragment=function(O){return R(O)===r},er.isLazy=function(O){return R(O)===v},er.isMemo=function(O){return R(O)===y},er.isPortal=function(O){return R(O)===n},er.isProfiler=function(O){return R(O)===a},er.isStrictMode=function(O){return R(O)===i},er.isSuspense=function(O){return R(O)===h},er.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===c||O===a||O===i||O===h||O===g||typeof O=="object"&&O!==null&&(O.$$typeof===v||O.$$typeof===y||O.$$typeof===o||O.$$typeof===s||O.$$typeof===d||O.$$typeof===S||O.$$typeof===w||O.$$typeof===x||O.$$typeof===_)},er.typeOf=R,er}var PB;function eIe(){return PB||(PB=1,kR.exports=YLe()),kR.exports}var NR,OB;function tIe(){if(OB)return NR;OB=1;var e=eIe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=r,a[e.Memo]=i;function o(v){return e.isMemo(v)?i:a[v.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;function y(v,_,S){if(typeof _!="string"){if(g){var w=h(_);w&&w!==g&&y(v,w,S)}var x=l(_);c&&(x=x.concat(c(_)));for(var R=o(v),P=o(_),O=0;O<x.length;++O){var D=x[O];if(!n[D]&&!(S&&S[D])&&!(P&&P[D])&&!(R&&R[D])){var F=d(_,D);try{s(v,D,F)}catch{}}}}return v}return NR=y,NR}tIe();var nIe=!0;function rIe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var wG=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||nIe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},iIe=function(t,n,r){wG(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function aIe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var oIe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sIe=/[A-Z]|^ms/g,uIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bG=function(t){return t.charCodeAt(1)===45},LB=function(t){return t!=null&&typeof t!="boolean"},FR=HLe(function(e){return bG(e)?e:e.replace(sIe,"-$&").toLowerCase()}),IB=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(uIe,function(r,i,a){return Rs={name:i,styles:a,next:Rs},i})}return oIe[t]!==1&&!bG(t)&&typeof n=="number"&&n!==0?n+"px":n};function uy(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Rs={name:n.name,styles:n.styles,next:Rs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Rs={name:r.name,styles:r.styles,next:Rs},r=r.next;var i=n.styles+";";return i}return lIe(e,t,n)}case"function":{if(e!==void 0){var a=Rs,o=n(e);return Rs=a,uy(e,t,o)}break}}return n}function lIe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=uy(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object")LB(o)&&(r+=FR(a)+":"+IB(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var s=0;s<o.length;s++)LB(o[s])&&(r+=FR(a)+":"+IB(a,o[s])+";");else{var l=uy(e,t,o);switch(a){case"animation":case"animationName":{r+=FR(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var MB=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Rs,SG=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";Rs=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,a+=uy(r,n,o)):a+=o[0];for(var s=1;s<t.length;s++)a+=uy(r,n,t[s]),i&&(a+=o[s]);MB.lastIndex=0;for(var l="",c;(c=MB.exec(a))!==null;)l+="-"+c[1];var d=aIe(a)+l;return{name:d,styles:a,next:Rs}},cIe=function(t){return t()},fIe=Sh.useInsertionEffect?Sh.useInsertionEffect:!1,dIe=fIe||cIe,BL={}.hasOwnProperty,xG=V.createContext(typeof HTMLElement<"u"?XLe({key:"css"}):null);xG.Provider;var hIe=function(t){return V.forwardRef(function(n,r){var i=V.useContext(xG);return t(n,i,r)})},pIe=V.createContext({}),dP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gIe=function(t,n){var r={};for(var i in n)BL.call(n,i)&&(r[i]=n[i]);return r[dP]=t,r},mIe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return wG(n,r,i),dIe(function(){return iIe(n,r,i)}),null},yIe=hIe(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[dP],a=[r],o="";typeof e.className=="string"?o=rIe(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var s=SG(a,void 0,V.useContext(pIe));o+=t.key+"-"+s.name;var l={};for(var c in e)BL.call(e,c)&&c!=="css"&&c!==dP&&(l[c]=e[c]);return l.ref=n,l.className=o,V.createElement(V.Fragment,null,V.createElement(mIe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),V.createElement(i,l))}),rn=function(t,n){var r=arguments;if(n==null||!BL.call(n,"css"))return V.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=yIe,a[1]=gIe(t,n);for(var o=2;o<i;o++)a[o]=r[o];return V.createElement.apply(null,a)};function UL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SG(t)}var vIe=function(){var t=UL.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function _Ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function wIe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const bIe=["top","right","bottom","left"];bIe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function Ou(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function EG(e){return Ou(e).getComputedStyle(e)}function CG(e){return e instanceof Ou(e).Node}function TG(e){return CG(e)?(e.nodeName||"").toLowerCase():""}let S0;function SIe(){if(S0)return S0;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(S0=e.brands.map(t=>t.brand+"/"+t.version).join(" "),S0):navigator.userAgent}function qL(e){return e instanceof Ou(e).HTMLElement}function J0(e){return e instanceof Ou(e).Element}function DB(e){return typeof ShadowRoot>"u"?!1:e instanceof Ou(e).ShadowRoot||e instanceof ShadowRoot}function RG(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=EG(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function xIe(){return/^((?!chrome|android).)*safari/i.test(SIe())}function EIe(e){return["html","body","#document"].includes(TG(e))}const Bw=Math.round;function CIe(e){const t=EG(e);let n=parseFloat(t.width),r=parseFloat(t.height);const i=qL(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Bw(n)!==a||Bw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function AG(e){return J0(e)?e:e.contextElement}const PG={x:1,y:1};function kB(e){const t=AG(e);if(!qL(t))return PG;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:a}=CIe(t);let o=(a?Bw(n.width):n.width)/r,s=(a?Bw(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}function NB(e,t,n,r){var i,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=AG(e);let l=PG;t&&(l=kB(e));const c=s?Ou(s):window,d=xIe()&&n;let h=(o.left+(d&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,g=(o.top+(d&&((a=c.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=o.width/l.x,v=o.height/l.y;if(s){const _=Ou(s),S=r;let w=_.frameElement;for(;w&&r&&S!==_;){const x=kB(w),R=w.getBoundingClientRect(),P=getComputedStyle(w);R.x+=(w.clientLeft+parseFloat(P.paddingLeft))*x.x,R.y+=(w.clientTop+parseFloat(P.paddingTop))*x.y,h*=x.x,g*=x.y,y*=x.x,v*=x.y,h+=R.x,g+=R.y,w=Ou(w).frameElement}}return wIe({width:y,height:v,x:h,y:g})}function TIe(e){return((CG(e)?e.ownerDocument:e.document)||window.document).documentElement}function RIe(e){if(TG(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DB(e)&&e.host||TIe(e);return DB(t)?t.host:t}function OG(e){const t=RIe(e);return EIe(t)?t.ownerDocument.body:qL(t)&&RG(t)?t:OG(t)}function X0(e,t){var n;t===void 0&&(t=[]);const r=OG(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Ou(r);return i?t.concat(a,a.visualViewport||[],RG(r)?r:[]):t.concat(r,X0(r))}function AIe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:s=!1}=r,l=i&&!s,c=l||a?[...J0(e)?X0(e):e.contextElement?X0(e.contextElement):[],...X0(t)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let d,h=null;o&&(h=new ResizeObserver(()=>{n()}),J0(e)&&!s&&h.observe(e),J0(e)||!e.contextElement||s||h.observe(e.contextElement),h.observe(t));let g=s?NB(e):null;return s&&function y(){const v=NB(e);!g||v.x===g.x&&v.y===g.y&&v.width===g.width&&v.height===g.height||n(),g=v,d=requestAnimationFrame(y)}(),n(),()=>{var y;c.forEach(v=>{l&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(y=h)==null||y.disconnect(),h=null,s&&cancelAnimationFrame(d)}}var hP=V.useLayoutEffect,PIe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Uw=function(){};function OIe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function LIe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(OIe(e,o)));return a.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var FB=function(t){return BIe(t)?t.filter(Boolean):kf(t)==="object"&&t!==null?[t]:[]},LG=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Gu(t,PIe);return on({},n)},Zr=function(t,n,r){var i=t.cx,a=t.getStyles,o=t.getClassNames,s=t.className;return{css:a(n,t),className:i(r??{},o(n,t),s)}};function Gb(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function IIe(e){return Gb(e)?window.innerHeight:e.clientHeight}function IG(e){return Gb(e)?window.pageYOffset:e.scrollTop}function qw(e,t){if(Gb(e)){window.scrollTo(0,t);return}e.scrollTop=t}function MIe(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function DIe(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function x0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Uw,i=IG(e),a=t-i,o=10,s=0;function l(){s+=o;var c=DIe(s,i,a,n);qw(e,c),s<n?window.requestAnimationFrame(l):r(e)}l()}function jB(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?qw(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&qw(e,Math.max(t.offsetTop-i,0))}function kIe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function $B(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function NIe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var MG=!1,FIe={get passive(){return MG=!0}},E0=typeof window<"u"?window:{};E0.addEventListener&&E0.removeEventListener&&(E0.addEventListener("p",Uw,FIe),E0.removeEventListener("p",Uw,!1));var jIe=MG;function $Ie(e){return e!=null}function BIe(e){return Array.isArray(e)}function C0(e,t,n){return e?t:n}var UIe=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(t).filter(function(o){var s=Pu(o,1),l=s[0];return!r.includes(l)});return a.reduce(function(o,s){var l=Pu(s,2),c=l[0],d=l[1];return o[c]=d,o},{})},qIe=["children","innerProps"],zIe=["children","innerProps"];function HIe(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=MIe(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,g=n.getBoundingClientRect(),y=g.bottom,v=g.height,_=g.top,S=n.offsetParent.getBoundingClientRect(),w=S.top,x=o?window.innerHeight:IIe(l),R=IG(l),P=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),D=w-O,F=x-_,Q=D+R,Y=h-R-_,q=y-x+R+P,X=R+_-O,le=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:t};if(Y>=v&&!o)return a&&x0(l,q,le),{placement:"bottom",maxHeight:t};if(!o&&Y>=r||o&&F>=r){a&&x0(l,q,le);var te=o?F-P:Y-P;return{placement:"bottom",maxHeight:te}}if(i==="auto"||o){var oe=t,he=o?D:Q;return he>=r&&(oe=Math.min(he-P-s,t)),{placement:"top",maxHeight:oe}}if(i==="bottom")return a&&qw(l,q),{placement:"bottom",maxHeight:t};break;case"top":if(D>=v)return{placement:"top",maxHeight:t};if(Q>=v&&!o)return a&&x0(l,X,le),{placement:"top",maxHeight:t};if(!o&&Q>=r||o&&D>=r){var ve=t;return(!o&&Q>=r||o&&D>=r)&&(ve=o?D-O:Q-O),a&&x0(l,X,le),{placement:"top",maxHeight:ve}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function VIe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var DG=function(t){return t==="auto"?"bottom":t},KIe=function(t,n){var r,i=t.placement,a=t.theme,o=a.borderRadius,s=a.spacing,l=a.colors;return on((r={label:"menu"},Lm(r,VIe(i),"100%"),Lm(r,"position","absolute"),Lm(r,"width","100%"),Lm(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},kG=V.createContext(null),GIe=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=V.useContext(kG)||{},d=c.setPortalPlacement,h=V.useRef(null),g=V.useState(i),y=Pu(g,2),v=y[0],_=y[1],S=V.useState(null),w=Pu(S,2),x=w[0],R=w[1],P=l.spacing.controlHeight;return hP(function(){var O=h.current;if(O){var D=o==="fixed",F=s&&!D,Q=HIe({maxHeight:i,menuEl:O,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:D,controlHeight:P});_(Q.maxHeight),R(Q.placement),d==null||d(Q.placement)}},[i,a,o,s,r,d,P]),n({ref:h,placerProps:on(on({},t),{},{placement:x||DG(a),maxHeight:v})})},WIe=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return rn("div",un({},Zr(t,"menu",{menu:!0}),{ref:r},i),n)},QIe=WIe,ZIe=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return on({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},JIe=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,a=t.isMulti;return rn("div",un({},Zr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},NG=function(t,n){var r=t.theme,i=r.spacing.baseUnit,a=r.colors;return on({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},XIe=NG,YIe=NG,eMe=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,a=Gu(t,qIe);return rn("div",un({},Zr(on(on({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},tMe=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,a=Gu(t,zIe);return rn("div",un({},Zr(on(on({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},nMe=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},rMe=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,a=t.innerProps,o=t.menuPlacement,s=t.menuPosition,l=V.useRef(null),c=V.useRef(null),d=V.useState(DG(o)),h=Pu(d,2),g=h[0],y=h[1],v=V.useMemo(function(){return{setPortalPlacement:y}},[]),_=V.useState(null),S=Pu(_,2),w=S[0],x=S[1],R=V.useCallback(function(){if(i){var F=kIe(i),Q=s==="fixed"?0:window.pageYOffset,Y=F[g]+Q;(Y!==(w==null?void 0:w.offset)||F.left!==(w==null?void 0:w.rect.left)||F.width!==(w==null?void 0:w.rect.width))&&x({offset:Y,rect:F})}},[i,s,g,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);hP(function(){R()},[R]);var P=V.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=AIe(i,l.current,R,{elementResize:"ResizeObserver"in window}))},[i,R]);hP(function(){P()},[P]);var O=V.useCallback(function(F){l.current=F,P()},[P]);if(!n&&s!=="fixed"||!w)return null;var D=rn("div",un({ref:O},Zr(on(on({},t),{},{offset:w.offset,position:s,rect:w.rect}),"menuPortal",{"menu-portal":!0}),a),r);return rn(kG.Provider,{value:v},n?tc.createPortal(D,n):D)},iMe=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},aMe=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,a=t.isRtl;return rn("div",un({},Zr(t,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},oMe=function(t,n){var r=t.theme.spacing,i=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return on({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},sMe=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,a=t.hasValue;return rn("div",un({},Zr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},uMe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},lMe=function(t){var n=t.children,r=t.innerProps;return rn("div",un({},Zr(t,"indicatorsContainer",{indicators:!0}),r),n)},BB,cMe=["size"],fMe=["innerProps","isRtl","size"],dMe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},FG=function(t){var n=t.size,r=Gu(t,cMe);return rn("svg",un({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:dMe},r))},zL=function(t){return rn(FG,un({size:20},t),rn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jG=function(t){return rn(FG,un({size:20},t),rn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},$G=function(t,n){var r=t.isFocused,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return on({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},hMe=$G,pMe=function(t){var n=t.children,r=t.innerProps;return rn("div",un({},Zr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||rn(jG,null))},gMe=$G,mMe=function(t){var n=t.children,r=t.innerProps;return rn("div",un({},Zr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||rn(zL,null))},yMe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return on({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},vMe=function(t){var n=t.innerProps;return rn("span",un({},n,Zr(t,"indicatorSeparator",{"indicator-separator":!0})))},_Me=vIe(BB||(BB=_Ie([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),wMe=function(t,n){var r=t.isFocused,i=t.size,a=t.theme,o=a.colors,s=a.spacing.baseUnit;return on({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2})},jR=function(t){var n=t.delay,r=t.offset;return rn("span",{css:UL({animation:"".concat(_Me," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},bMe=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,a=i===void 0?4:i,o=Gu(t,fMe);return rn("div",un({},Zr(on(on({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),rn(jR,{delay:0,offset:r}),rn(jR,{delay:160,offset:!0}),rn(jR,{delay:320,offset:!r}))},SMe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.theme,o=a.colors,s=a.borderRadius,l=a.spacing;return on({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},xMe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.innerRef,o=t.innerProps,s=t.menuIsOpen;return rn("div",un({ref:a},Zr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":r||void 0}),n)},EMe=xMe,CMe=["data"],TMe=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},RMe=function(t){var n=t.children,r=t.cx,i=t.getStyles,a=t.getClassNames,o=t.Heading,s=t.headingProps,l=t.innerProps,c=t.label,d=t.theme,h=t.selectProps;return rn("div",un({},Zr(t,"group",{group:!0}),l),rn(o,un({},s,{selectProps:h,theme:d,getStyles:i,getClassNames:a,cx:r}),c),rn("div",null,n))},AMe=function(t,n){var r=t.theme,i=r.colors,a=r.spacing;return on({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},PMe=function(t){var n=LG(t);n.data;var r=Gu(n,CMe);return rn("div",un({},Zr(t,"groupHeading",{"group-heading":!0}),r))},OMe=RMe,LMe=["innerRef","isDisabled","isHidden","inputClassName"],IMe=function(t,n){var r=t.isDisabled,i=t.value,a=t.theme,o=a.spacing,s=a.colors;return on(on({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},MMe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},BG={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},MMe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":on({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},BG)},DMe=function(t){return on({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},BG)},kMe=function(t){var n=t.cx,r=t.value,i=LG(t),a=i.innerRef,o=i.isDisabled,s=i.isHidden,l=i.inputClassName,c=Gu(i,LMe);return rn("div",un({},Zr(t,"input",{"input-container":!0}),{"data-value":r||""}),rn("input",un({className:n({input:!0},l),ref:a,style:DMe(s),disabled:o},c)))},NMe=kMe,FMe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return on({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},jMe=function(t,n){var r=t.theme,i=r.borderRadius,a=r.colors,o=t.cropWithEllipsis;return on({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},$Me=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors,s=t.isFocused;return on({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},UG=function(t){var n=t.children,r=t.innerProps;return rn("div",r,n)},BMe=UG,UMe=UG;function qMe(e){var t=e.children,n=e.innerProps;return rn("div",un({role:"button"},n),t||rn(zL,{size:14}))}var zMe=function(t){var n=t.children,r=t.components,i=t.data,a=t.innerProps,o=t.isDisabled,s=t.removeProps,l=t.selectProps,c=r.Container,d=r.Label,h=r.Remove;return rn(c,{data:i,innerProps:on(on({},Zr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},rn(d,{data:i,innerProps:on({},Zr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),rn(h,{data:i,innerProps:on(on({},Zr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},HMe=zMe,VMe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.theme,s=o.spacing,l=o.colors;return on({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},KMe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.innerRef,s=t.innerProps;return rn("div",un({},Zr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},s),n)},GMe=KMe,WMe=function(t,n){var r=t.theme,i=r.spacing,a=r.colors;return on({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},QMe=function(t){var n=t.children,r=t.innerProps;return rn("div",un({},Zr(t,"placeholder",{placeholder:!0}),r),n)},ZMe=QMe,JMe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing,o=i.colors;return on({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},XMe=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return rn("div",un({},Zr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},YMe=XMe,eDe={ClearIndicator:mMe,Control:EMe,DropdownIndicator:pMe,DownChevron:jG,CrossIcon:zL,Group:OMe,GroupHeading:PMe,IndicatorsContainer:lMe,IndicatorSeparator:vMe,Input:NMe,LoadingIndicator:bMe,Menu:QIe,MenuList:JIe,MenuPortal:rMe,LoadingMessage:tMe,NoOptionsMessage:eMe,MultiValue:HMe,MultiValueContainer:BMe,MultiValueLabel:UMe,MultiValueRemove:qMe,Option:GMe,Placeholder:ZMe,SelectContainer:aMe,SingleValue:YMe,ValueContainer:sMe},tDe=function(t){return on(on({},eDe),t.components)},UB=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function nDe(e,t){return!!(e===t||UB(e)&&UB(t))}function rDe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!nDe(e[n],t[n]))return!1;return!0}function iDe(e,t){t===void 0&&(t=rDe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var aDe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},oDe=function(t){return rn("span",un({css:aDe},t))},qB=oDe,sDe={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,a=t.labels,o=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,a=t.label,o=a===void 0?"":a,s=t.selectValue,l=t.isDisabled,c=t.isSelected,d=t.isAppleDevice,h=function(_,S){return _&&_.length?"".concat(_.indexOf(S)+1," of ").concat(_.length):""};if(n==="value"&&s)return"value ".concat(o," focused, ").concat(h(s,r),".");if(n==="menu"&&d){var g=l?" disabled":"",y="".concat(c?" selected":"").concat(g);return"".concat(o).concat(y,", ").concat(h(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},uDe=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,a=t.focusableOptions,o=t.isFocused,s=t.selectValue,l=t.selectProps,c=t.id,d=t.isAppleDevice,h=l.ariaLiveMessages,g=l.getOptionLabel,y=l.inputValue,v=l.isMulti,_=l.isOptionDisabled,S=l.isSearchable,w=l.menuIsOpen,x=l.options,R=l.screenReaderStatus,P=l.tabSelectsValue,O=l.isLoading,D=l["aria-label"],F=l["aria-live"],Q=V.useMemo(function(){return on(on({},sDe),h||{})},[h]),Y=V.useMemo(function(){var he="";if(n&&Q.onChange){var ve=n.option,de=n.options,se=n.removedValue,Re=n.removedValues,k=n.value,re=function(Ae){return Array.isArray(Ae)?null:Ae},ge=se||ve||re(k),W=ge?g(ge):"",ee=de||Re||void 0,pe=ee?ee.map(g):[],Te=on({isDisabled:ge&&_(ge,s),label:W,labels:pe},n);he=Q.onChange(Te)}return he},[n,Q,_,s,g]),q=V.useMemo(function(){var he="",ve=r||i,de=!!(r&&s&&s.includes(r));if(ve&&Q.onFocus){var se={focused:ve,label:g(ve),isDisabled:_(ve,s),isSelected:de,options:a,context:ve===r?"menu":"value",selectValue:s,isAppleDevice:d};he=Q.onFocus(se)}return he},[r,i,g,_,Q,a,s,d]),X=V.useMemo(function(){var he="";if(w&&x.length&&!O&&Q.onFilter){var ve=R({count:a.length});he=Q.onFilter({inputValue:y,resultsMessage:ve})}return he},[a,y,w,Q,x,R,O]),le=(n==null?void 0:n.action)==="initial-input-focus",te=V.useMemo(function(){var he="";if(Q.guidance){var ve=i?"value":w?"menu":"input";he=Q.guidance({"aria-label":D,context:ve,isDisabled:r&&_(r,s),isMulti:v,isSearchable:S,tabSelectsValue:P,isInitialFocus:le})}return he},[D,r,i,v,_,S,w,Q,s,P,le]),oe=rn(V.Fragment,null,rn("span",{id:"aria-selection"},Y),rn("span",{id:"aria-focused"},q),rn("span",{id:"aria-results"},X),rn("span",{id:"aria-guidance"},te));return rn(V.Fragment,null,rn(qB,{id:c},le&&oe),rn(qB,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!le&&oe))},lDe=uDe,pP=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],cDe=new RegExp("["+pP.map(function(e){return e.letters}).join("")+"]","g"),qG={};for(var $R=0;$R<pP.length;$R++)for(var BR=pP[$R],UR=0;UR<BR.letters.length;UR++)qG[BR.letters[UR]]=BR.base;var zG=function(t){return t.replace(cDe,function(n){return qG[n]})},fDe=iDe(zG),zB=function(t){return t.replace(/^\s+|\s+$/g,"")},dDe=function(t){return"".concat(t.label," ").concat(t.value)},hDe=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=on({ignoreCase:!0,ignoreAccents:!0,stringify:dDe,trim:!0,matchFrom:"any"},t),a=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,l=i.trim,c=i.matchFrom,d=l?zB(r):r,h=l?zB(s(n)):s(n);return a&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=fDe(d),h=zG(h)),c==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},pDe=["innerRef"];function gDe(e){var t=e.innerRef,n=Gu(e,pDe),r=UIe(n,"onExited","in","enter","exit","appear");return rn("input",un({ref:t},r,{css:UL({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var mDe=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function yDe(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=V.useRef(!1),s=V.useRef(!1),l=V.useRef(0),c=V.useRef(null),d=V.useCallback(function(S,w){if(c.current!==null){var x=c.current,R=x.scrollTop,P=x.scrollHeight,O=x.clientHeight,D=c.current,F=w>0,Q=P-O-R,Y=!1;Q>w&&o.current&&(r&&r(S),o.current=!1),F&&s.current&&(a&&a(S),s.current=!1),F&&w>Q?(n&&!o.current&&n(S),D.scrollTop=P,Y=!0,o.current=!0):!F&&-w>R&&(i&&!s.current&&i(S),D.scrollTop=0,Y=!0,s.current=!0),Y&&mDe(S)}},[n,r,i,a]),h=V.useCallback(function(S){d(S,S.deltaY)},[d]),g=V.useCallback(function(S){l.current=S.changedTouches[0].clientY},[]),y=V.useCallback(function(S){var w=l.current-S.changedTouches[0].clientY;d(S,w)},[d]),v=V.useCallback(function(S){if(S){var w=jIe?{passive:!1}:!1;S.addEventListener("wheel",h,w),S.addEventListener("touchstart",g,w),S.addEventListener("touchmove",y,w)}},[y,g,h]),_=V.useCallback(function(S){S&&(S.removeEventListener("wheel",h,!1),S.removeEventListener("touchstart",g,!1),S.removeEventListener("touchmove",y,!1))},[y,g,h]);return V.useEffect(function(){if(t){var S=c.current;return v(S),function(){_(S)}}},[t,v,_]),function(S){c.current=S}}var HB=["boxSizing","height","overflow","paddingRight","position"],VB={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function KB(e){e.cancelable&&e.preventDefault()}function GB(e){e.stopPropagation()}function WB(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function QB(){return"ontouchstart"in window||navigator.maxTouchPoints}var ZB=!!(typeof window<"u"&&window.document&&window.document.createElement),gm=0,Vd={capture:!1,passive:!1};function vDe(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=V.useRef({}),a=V.useRef(null),o=V.useCallback(function(l){if(ZB){var c=document.body,d=c&&c.style;if(r&&HB.forEach(function(v){var _=d&&d[v];i.current[v]=_}),r&&gm<1){var h=parseInt(i.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,y=window.innerWidth-g+h||0;Object.keys(VB).forEach(function(v){var _=VB[v];d&&(d[v]=_)}),d&&(d.paddingRight="".concat(y,"px"))}c&&QB()&&(c.addEventListener("touchmove",KB,Vd),l&&(l.addEventListener("touchstart",WB,Vd),l.addEventListener("touchmove",GB,Vd))),gm+=1}},[r]),s=V.useCallback(function(l){if(ZB){var c=document.body,d=c&&c.style;gm=Math.max(gm-1,0),r&&gm<1&&HB.forEach(function(h){var g=i.current[h];d&&(d[h]=g)}),c&&QB()&&(c.removeEventListener("touchmove",KB,Vd),l&&(l.removeEventListener("touchstart",WB,Vd),l.removeEventListener("touchmove",GB,Vd)))}},[r]);return V.useEffect(function(){if(t){var l=a.current;return o(l),function(){s(l)}}},[t,o,s]),function(l){a.current=l}}var _De=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},wDe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function bDe(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,a=e.onBottomArrive,o=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,c=yDe({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:s,onTopLeave:l}),d=vDe({isEnabled:n}),h=function(y){c(y),d(y)};return rn(V.Fragment,null,n&&rn("div",{onClick:_De,css:wDe}),t(h))}var SDe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},xDe=function(t){var n=t.name,r=t.onFocus;return rn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:SDe,value:"",onChange:function(){}})},EDe=xDe;function HL(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function CDe(){return HL(/^iPhone/i)}function HG(){return HL(/^Mac/i)}function TDe(){return HL(/^iPad/i)||HG()&&navigator.maxTouchPoints>1}function RDe(){return CDe()||TDe()}function ADe(){return HG()||RDe()}var PDe=function(t){return t.label},ODe=function(t){return t.label},LDe=function(t){return t.value},IDe=function(t){return!!t.isDisabled},MDe={clearIndicator:gMe,container:iMe,control:SMe,dropdownIndicator:hMe,group:TMe,groupHeading:AMe,indicatorsContainer:uMe,indicatorSeparator:yMe,input:IMe,loadingIndicator:wMe,loadingMessage:YIe,menu:KIe,menuList:ZIe,menuPortal:nMe,multiValue:FMe,multiValueLabel:jMe,multiValueRemove:$Me,noOptionsMessage:XIe,option:VMe,placeholder:WMe,singleValue:JMe,valueContainer:oMe},DDe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},kDe=4,VG=4,NDe=38,FDe=VG*2,jDe={baseUnit:VG,controlHeight:NDe,menuGutter:FDe},qR={borderRadius:kDe,colors:DDe,spacing:jDe},$De={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:$B(),captureMenuScroll:!$B(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:hDe(),formatGroupLabel:PDe,getOptionLabel:ODe,getOptionValue:LDe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:IDe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!NIe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function JB(e,t,n,r){var i=WG(e,t,n),a=QG(e,t,n),o=GG(e,t),s=zw(e,t);return{type:"option",data:t,isDisabled:i,isSelected:a,label:o,value:s,index:r}}function Y0(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,s){return JB(e,o,t,s)}).filter(function(o){return YB(e,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=JB(e,n,t,r);return YB(e,a)?a:void 0}).filter($Ie)}function KG(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,NL(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function XB(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,NL(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function BDe(e,t){return KG(Y0(e,t))}function YB(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!JG(e)||!a)&&ZG(e,{label:o,value:s,data:i},r)}function UDe(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var a=t.indexOf(n);if(a>-1)return n;if(i<t.length)return t[i]}return null}function qDe(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var zR=function(t,n){var r,i=(r=t.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},GG=function(t,n){return t.getOptionLabel(n)},zw=function(t,n){return t.getOptionValue(n)};function WG(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function QG(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=zw(e,t);return n.some(function(i){return zw(e,i)===r})}function ZG(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var JG=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},zDe=1,XG=function(e){mLe(n,e);var t=wLe(n);function n(r){var i;if(pLe(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=ADe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var d=i.props,h=d.onChange,g=d.name;c.name=g,i.ariaOnChange(l,c),h(l,c)},i.setValue=function(l,c,d){var h=i.props,g=h.closeMenuOnSelect,y=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),g&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:d})},i.selectOption=function(l){var c=i.props,d=c.blurInputOnSelect,h=c.isMulti,g=c.name,y=i.state.selectValue,v=h&&i.isOptionSelected(l,y),_=i.isOptionDisabled(l,y);if(v){var S=i.getOptionValue(l);i.setValue(y.filter(function(w){return i.getOptionValue(w)!==S}),"deselect-option",l)}else if(!_)h?i.setValue([].concat(NL(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:g});return}d&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),g=d.filter(function(v){return i.getOptionValue(v)!==h}),y=C0(c,g,g[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(C0(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,d=c[c.length-1],h=c.slice(0,c.length-1),g=C0(l,h,h[0]||null);d&&i.onChange(g,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return zR(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return XB(Y0(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return LIe.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return GG(i.props,l)},i.getOptionValue=function(l){return zw(i.props,l)},i.getStyles=function(l,c){var d=i.props.unstyled,h=MDe[l](c,d);h.boxSizing="border-box";var g=i.props.styles[l];return g?g(h,c):h},i.getClassNames=function(l,c){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return tDe(i.props)},i.buildCategorizedOptions=function(){return Y0(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return KG(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:on({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,d=c.isMulti,h=c.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Gb(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,d=c&&c.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,d=c&&c.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),g=Math.abs(d.clientY-i.initialTouchY),y=5;i.userIsDragging=h>y||g>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),d=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return JG(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,d=c.isMulti,h=c.backspaceRemovesValue,g=c.escapeClearsValue,y=c.inputValue,v=c.isClearable,_=c.isDisabled,S=c.menuIsOpen,w=c.onKeyDown,x=c.tabSelectsValue,R=c.openMenuOnFocus,P=i.state,O=P.focusedOption,D=P.focusedValue,F=P.selectValue;if(!_&&!(typeof w=="function"&&(w(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||y)return;i.focusValue("previous");break;case"ArrowRight":if(!d||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!h)return;d?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!S||!x||!O||R&&i.isOptionSelected(O,F))return;i.selectOption(O);break;case"Enter":if(l.keyCode===229)break;if(S){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):v&&g&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++zDe),i.state.selectValue=FB(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[s],i.state.focusedOptionId=zR(a,o[s])}return i}return gLe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jB(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,s=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jB(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,s=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),d=i==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(s[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d],focusedOptionId:this.getFocusedOptionId(c[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,s=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(s);s||(l=-1);var c=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=c:d=l-1;break;case"next":l>-1&&l<c&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,c=s.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:s.length-1:i==="down"?l=(c+1)%s.length:i==="pageup"?(l=c-a,l<0&&(l=0)):i==="pagedown"?(l=c+a,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(qR):on(on({},qR),this.props.theme):qR}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,s=this.getClassNames,l=this.getValue,c=this.selectOption,d=this.setValue,h=this.props,g=h.isMulti,y=h.isRtl,v=h.options,_=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:s,getValue:l,hasValue:_,isMulti:g,isRtl:y,options:v,selectOption:c,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return WG(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return QG(this.props,i,a)}},{key:"filterOption",value:function(i,a){return ZG(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,s=i.inputId,l=i.inputValue,c=i.tabIndex,d=i.form,h=i.menuIsOpen,g=i.required,y=this.getComponents(),v=y.Input,_=this.state,S=_.inputIsHidden,w=_.ariaSelection,x=this.commonProps,R=s||this.getElementId("input"),P=on(on(on({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?V.createElement(v,un({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:R,innerRef:this.getInputRef,isDisabled:a,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:l},P)):V.createElement(gDe,un({id:R,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Uw,onFocus:this.onInputFocus,disabled:a,tabIndex:c,inputMode:"none",form:d,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,s=a.MultiValueContainer,l=a.MultiValueLabel,c=a.MultiValueRemove,d=a.SingleValue,h=a.Placeholder,g=this.commonProps,y=this.props,v=y.controlShouldRenderValue,_=y.isDisabled,S=y.isMulti,w=y.inputValue,x=y.placeholder,R=this.state,P=R.selectValue,O=R.focusedValue,D=R.isFocused;if(!this.hasValue()||!v)return w?null:V.createElement(h,un({},g,{key:"placeholder",isDisabled:_,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),x);if(S)return P.map(function(Q,Y){var q=Q===O,X="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return V.createElement(o,un({},g,{components:{Container:s,Label:l,Remove:c},isFocused:q,isDisabled:_,key:X,index:Y,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(te){te.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(w)return null;var F=P[0];return V.createElement(d,un({},g,{data:F,isDisabled:_}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,un({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!a||!c)return null;var h={"aria-hidden":"true"};return V.createElement(a,un({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var s=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return V.createElement(o,un({},s,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,un({},o,{innerProps:c,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,s=a.GroupHeading,l=a.Menu,c=a.MenuList,d=a.MenuPortal,h=a.LoadingMessage,g=a.NoOptionsMessage,y=a.Option,v=this.commonProps,_=this.state.focusedOption,S=this.props,w=S.captureMenuScroll,x=S.inputValue,R=S.isLoading,P=S.loadingMessage,O=S.minMenuHeight,D=S.maxMenuHeight,F=S.menuIsOpen,Q=S.menuPlacement,Y=S.menuPosition,q=S.menuPortalTarget,X=S.menuShouldBlockScroll,le=S.menuShouldScrollIntoView,te=S.noOptionsMessage,oe=S.onMenuScrollToTop,he=S.onMenuScrollToBottom;if(!F)return null;var ve=function(W,ee){var pe=W.type,Te=W.data,Je=W.isDisabled,Ae=W.isSelected,$e=W.label,Xe=W.value,ae=_===Te,H=Je?void 0:function(){return i.onOptionHover(Te)},B=Je?void 0:function(){return i.selectOption(Te)},ie="".concat(i.getElementId("option"),"-").concat(ee),fe={id:ie,onClick:B,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Ae};return V.createElement(y,un({},v,{innerProps:fe,data:Te,isDisabled:Je,isSelected:Ae,key:ie,label:$e,type:pe,value:Xe,isFocused:ae,innerRef:ae?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(W.data,"menu"))},de;if(this.hasOptions())de=this.getCategorizedOptions().map(function(ge){if(ge.type==="group"){var W=ge.data,ee=ge.options,pe=ge.index,Te="".concat(i.getElementId("group"),"-").concat(pe),Je="".concat(Te,"-heading");return V.createElement(o,un({},v,{key:Te,data:W,options:ee,Heading:s,headingProps:{id:Je,data:ge.data},label:i.formatGroupLabel(ge.data)}),ge.options.map(function(Ae){return ve(Ae,"".concat(pe,"-").concat(Ae.index))}))}else if(ge.type==="option")return ve(ge,"".concat(ge.index))});else if(R){var se=P({inputValue:x});if(se===null)return null;de=V.createElement(h,v,se)}else{var Re=te({inputValue:x});if(Re===null)return null;de=V.createElement(g,v,Re)}var k={minMenuHeight:O,maxMenuHeight:D,menuPlacement:Q,menuPosition:Y,menuShouldScrollIntoView:le},re=V.createElement(GIe,un({},v,k),function(ge){var W=ge.ref,ee=ge.placerProps,pe=ee.placement,Te=ee.maxHeight;return V.createElement(l,un({},v,k,{innerRef:W,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:R,placement:pe}),V.createElement(bDe,{captureEnabled:w,onTopArrive:oe,onBottomArrive:he,lockEnabled:X},function(Je){return V.createElement(c,un({},v,{innerRef:function($e){i.getMenuListRef($e),Je($e)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:R,maxHeight:Te,focusedOption:_}),de)}))});return q||Y==="fixed"?V.createElement(d,un({},v,{appendTo:q,controlElement:this.controlRef,menuPlacement:Q,menuPosition:Y}),re):re}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,s=a.isDisabled,l=a.isMulti,c=a.name,d=a.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!s)return V.createElement(EDe,{name:c,onFocus:this.onValueInputFocus});if(!(!c||s))if(l)if(o){var g=h.map(function(_){return i.getOptionValue(_)}).join(o);return V.createElement("input",{name:c,type:"hidden",value:g})}else{var y=h.length>0?h.map(function(_,S){return V.createElement("input",{key:"i-".concat(S),name:c,type:"hidden",value:i.getOptionValue(_)})}):V.createElement("input",{name:c,type:"hidden",value:""});return V.createElement("div",null,y)}else{var v=h[0]?this.getOptionValue(h[0]):"";return V.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,s=a.focusedOption,l=a.focusedValue,c=a.isFocused,d=a.selectValue,h=this.getFocusableOptions();return V.createElement(lDe,un({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:s,focusedValue:l,isFocused:c,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,c=this.props,d=c.className,h=c.id,g=c.isDisabled,y=c.menuIsOpen,v=this.state.isFocused,_=this.commonProps=this.getCommonProps();return V.createElement(s,un({},_,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:v}),this.renderLiveRegion(),V.createElement(a,un({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:v,menuIsOpen:y}),V.createElement(l,un({},_,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(o,un({},_,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,s=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,c=a.ariaSelection,d=a.isFocused,h=a.prevWasFocused,g=a.instancePrefix,y=i.options,v=i.value,_=i.menuIsOpen,S=i.inputValue,w=i.isMulti,x=FB(v),R={};if(o&&(v!==o.value||y!==o.options||_!==o.menuIsOpen||S!==o.inputValue)){var P=_?BDe(i,x):[],O=_?XB(Y0(i,x),"".concat(g,"-option")):[],D=s?UDe(a,x):null,F=qDe(a,P),Q=zR(O,F);R={selectValue:x,focusedOption:F,focusedOptionId:Q,focusableOptionsWithIds:O,focusedValue:D,clearFocusValueOnUpdate:!1}}var Y=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},q=c,X=d&&h;return d&&!X&&(q={value:C0(w,x,x[0]||null),options:x,action:"initial-input-focus"},X=!h),(c==null?void 0:c.action)==="initial-input-focus"&&(q=null),on(on(on({},R),Y),{},{prevProps:i,ariaSelection:q,prevWasFocused:X})}}]),n}(V.Component);XG.defaultProps=$De;var HDe=V.forwardRef(function(e,t){var n=hLe(e);return V.createElement(XG,un({ref:t},n))}),VDe=HDe;const KDe=({webId:e})=>{const{i18n:t,_:n}=Ur(),r=$r(Lo),{communityId:i}=Nn(),[,a,,o]=ns(e,i),[s,l]=V.useState(""),{data:c,...d}=awe(s,r),h=Q_e(),g=W_e(),y=async({id:w,document:x})=>{await Ls(h({interest:w,document:x,person:e}),{pending:t._({id:"S8rY67"}),success:t._({id:"6dc9lc"})})},v=V.useMemo(()=>oLe(l,500),[]),_=V.useCallback(w=>v(w),[v]),S=async w=>{if(w){const x=w.label;await Ls(g({interest:w.uri,person:e,document:e}),{pending:t._({id:"Y8WO6Z",values:{label:x}}),success:t._({id:"jx1+4B",values:{label:x}})})}};return a||a===void 0?U.jsx(Oo,{children:U.jsx(wt,{id:"O75yBm"})}):U.jsxs("div",{children:[U.jsx("ul",{className:xu.list,"data-cy":"interests-list-edit",children:o.map(({id:w,document:x})=>U.jsx("li",{children:U.jsx(kV,{uri:w,onRemove:()=>y({id:w,document:x}),locale:r,"data-cy":"edit-interest"})},w+x))}),U.jsx(VDe,{options:c,filterOption:()=>!0,formatOptionLabel:w=>U.jsxs("div",{title:w.description,children:[w.label,w.aliases.length>0&&` (${w.aliases.join(", ")})`,U.jsx("br",{}),w.description]}),isLoading:d.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:_,onChange:S,className:Ar(xu.select,"cy-select-interests"),classNames:{control:()=>xu.control,input:()=>xu.input,menu:()=>xu.menu,indicatorSeparator:()=>xu.separator,option:({isFocused:w})=>Ar(xu.option,w&&xu.focused)}})]})},GDe="_container_6bk5k_1",WDe="_uploadButton_6bk5k_17",YG={container:GDe,uploadButton:WDe},QDe=()=>{const{communityId:e}=Nn(),t=vi(),n=$f(),{i18n:r,_:i}=Ur(),[,,a,,o]=ns(t.webId,e),s=G_e(),l=Xge(),c=Jge(),d=async h=>{var _;if(!a)throw new Error(r._({id:"vVEMd1"}));const g=(_=h.photo)==null?void 0:_[0];let y;const v=o==null?void 0:o.photo;g&&(y=await c.mutateAsync({uri:di(a),data:g})),await s({hospexDocument:a,personId:t.webId,data:{...h,photo:y}}),g&&v&&await l.mutateAsync({uri:v}),n("..")};return o?U.jsxs("div",{className:YG.container,children:[U.jsx(ZDe,{initialData:o,onSubmit:h=>Ls(d(h),{pending:r._({id:"ER/wp5"}),success:r._({id:"srPuxS"})})}),U.jsx("label",{children:U.jsx(wt,{id:"65VN7K"})}),U.jsx(KDe,{webId:t.webId})]}):U.jsx(Oo,{children:U.jsx(wt,{id:"6Kt8NA"})})},ZDe=({initialData:e,onSubmit:t})=>{const{i18n:n,_:r}=Ur(),{register:i,handleSubmit:a,watch:o,setValue:s,getValues:l,control:c}=Bs({defaultValues:TK(e,"photo")}),d=$r(Lo);V.useEffect(()=>{typeof e.name=="string"&&s("name",e.name)},[e.name,s]),V.useEffect(()=>{e.about&&s("about",Of({},e.about,l("about")))},[l,e.about,d,s]);const{data:h}=fO(e.photo),g=a(async S=>{await t(S)}),[y,v]=V.useState();V.useEffect(()=>{const S=o(async(w,{name:x})=>{var R;if(x==="photo"){const P=(R=w.photo)==null?void 0:R[0];P&&v(await zge(P))}});return()=>S.unsubscribe()},[o]);const _=y||h;return U.jsxs("form",{onSubmit:g,children:[U.jsx("label",{htmlFor:"name",children:U.jsx(wt,{id:"6YtxFj"})}),U.jsx("input",{id:"name",type:"text",...i("name"),placeholder:n._({id:"6YtxFj"})}),U.jsx("label",{htmlFor:"photo",children:U.jsx(wt,{id:"qa9cy4"})}),U.jsxs("label",{tabIndex:0,htmlFor:"photo",className:YG.uploadButton,style:_?{backgroundImage:`url(${_})`}:void 0,children:[U.jsx(ome,{}),U.jsx("input",{id:"photo",type:"file",...i("photo"),accept:"image/*"})]}),U.jsx("label",{htmlFor:"about",children:U.jsx(wt,{id:"IJbwnu"})}),U.jsx(Mw,{control:c,name:"about",render:({field:S})=>U.jsx(cG,{initialData:e.about,locale:d,rows:5,...S})}),U.jsx(rr,{primary:!0,children:U.jsx(wt,{id:"y3aU20"})})]})},JDe="_container_14k79_1",XDe={container:JDe},YDe=()=>{const e=vi(),{data:t}=Rb(e.webId),n=t.length;return U.jsxs("div",{className:XDe.container,children:[U.jsxs(xf,{to:"travel",secondary:!0,children:[U.jsx(fme,{size:24})," ",U.jsx(wt,{id:"jlqRFZ"})]}),U.jsxs(xf,{to:"host",secondary:!0,children:[U.jsx(Y9,{size:24})," ",U.jsx(wt,{id:"tEB6c1"})]}),U.jsxs(xf,{to:"messages",secondary:!0,children:[U.jsx(gme,{size:24})," ",U.jsx(wt,{id:"gHFvtg"}),n?U.jsxs(U.Fragment,{children:[" ",U.jsx(wt,{id:"GbJuzd",values:{messageCount:n}})]}):null]})]})},eke="_container_u0fgb_1",HR={container:eke},eW=({tabs:e,children:t})=>U.jsxs("div",{className:HR.container,children:[t,U.jsx("nav",{className:HR.navigation,children:e.map(({link:n,label:r})=>U.jsx(nX,{className:({isActive:i})=>i?HR.active:void 0,to:n,children:r},n))})]}),tke=()=>U.jsx(eW,{tabs:[],children:U.jsx(Ww,{})}),nke=()=>U.jsx(DP,{to:"offers",replace:!0});var ew={exports:{}},rke=ew.exports,eU;function ike(){return eU||(eU=1,function(e,t){(function(n,r){e.exports=r()})(rke,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",d="week",h="month",g="quarter",y="year",v="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var oe=["th","st","nd","rd"],he=te%100;return"["+te+(oe[(he-20)%10]||oe[he]||oe[0])+"]"}},R=function(te,oe,he){var ve=String(te);return!ve||ve.length>=oe?te:""+Array(oe+1-ve.length).join(he)+te},P={s:R,z:function(te){var oe=-te.utcOffset(),he=Math.abs(oe),ve=Math.floor(he/60),de=he%60;return(oe<=0?"+":"-")+R(ve,2,"0")+":"+R(de,2,"0")},m:function te(oe,he){if(oe.date()<he.date())return-te(he,oe);var ve=12*(he.year()-oe.year())+(he.month()-oe.month()),de=oe.clone().add(ve,h),se=he-de<0,Re=oe.clone().add(ve+(se?-1:1),h);return+(-(ve+(he-de)/(se?de-Re:Re-de))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:h,y,w:d,d:c,D:v,h:l,m:s,s:o,ms:a,Q:g}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},O="en",D={};D[O]=x;var F=function(te){return te instanceof X},Q=function te(oe,he,ve){var de;if(!oe)return O;if(typeof oe=="string"){var se=oe.toLowerCase();D[se]&&(de=se),he&&(D[se]=he,de=se);var Re=oe.split("-");if(!de&&Re.length>1)return te(Re[0])}else{var k=oe.name;D[k]=oe,de=k}return!ve&&de&&(O=de),de||!ve&&O},Y=function(te,oe){if(F(te))return te.clone();var he=typeof oe=="object"?oe:{};return he.date=te,he.args=arguments,new X(he)},q=P;q.l=Q,q.i=F,q.w=function(te,oe){return Y(te,{locale:oe.$L,utc:oe.$u,x:oe.$x,$offset:oe.$offset})};var X=function(){function te(he){this.$L=Q(he.locale,null,!0),this.parse(he)}var oe=te.prototype;return oe.parse=function(he){this.$d=function(ve){var de=ve.date,se=ve.utc;if(de===null)return new Date(NaN);if(q.u(de))return new Date;if(de instanceof Date)return new Date(de);if(typeof de=="string"&&!/Z$/i.test(de)){var Re=de.match(S);if(Re){var k=Re[2]-1||0,re=(Re[7]||"0").substring(0,3);return se?new Date(Date.UTC(Re[1],k,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,re)):new Date(Re[1],k,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,re)}}return new Date(de)}(he),this.$x=he.x||{},this.init()},oe.init=function(){var he=this.$d;this.$y=he.getFullYear(),this.$M=he.getMonth(),this.$D=he.getDate(),this.$W=he.getDay(),this.$H=he.getHours(),this.$m=he.getMinutes(),this.$s=he.getSeconds(),this.$ms=he.getMilliseconds()},oe.$utils=function(){return q},oe.isValid=function(){return this.$d.toString()!==_},oe.isSame=function(he,ve){var de=Y(he);return this.startOf(ve)<=de&&de<=this.endOf(ve)},oe.isAfter=function(he,ve){return Y(he)<this.startOf(ve)},oe.isBefore=function(he,ve){return this.endOf(ve)<Y(he)},oe.$g=function(he,ve,de){return q.u(he)?this[ve]:this.set(de,he)},oe.unix=function(){return Math.floor(this.valueOf()/1e3)},oe.valueOf=function(){return this.$d.getTime()},oe.startOf=function(he,ve){var de=this,se=!!q.u(ve)||ve,Re=q.p(he),k=function(Ae,$e){var Xe=q.w(de.$u?Date.UTC(de.$y,$e,Ae):new Date(de.$y,$e,Ae),de);return se?Xe:Xe.endOf(c)},re=function(Ae,$e){return q.w(de.toDate()[Ae].apply(de.toDate("s"),(se?[0,0,0,0]:[23,59,59,999]).slice($e)),de)},ge=this.$W,W=this.$M,ee=this.$D,pe="set"+(this.$u?"UTC":"");switch(Re){case y:return se?k(1,0):k(31,11);case h:return se?k(1,W):k(0,W+1);case d:var Te=this.$locale().weekStart||0,Je=(ge<Te?ge+7:ge)-Te;return k(se?ee-Je:ee+(6-Je),W);case c:case v:return re(pe+"Hours",0);case l:return re(pe+"Minutes",1);case s:return re(pe+"Seconds",2);case o:return re(pe+"Milliseconds",3);default:return this.clone()}},oe.endOf=function(he){return this.startOf(he,!1)},oe.$set=function(he,ve){var de,se=q.p(he),Re="set"+(this.$u?"UTC":""),k=(de={},de[c]=Re+"Date",de[v]=Re+"Date",de[h]=Re+"Month",de[y]=Re+"FullYear",de[l]=Re+"Hours",de[s]=Re+"Minutes",de[o]=Re+"Seconds",de[a]=Re+"Milliseconds",de)[se],re=se===c?this.$D+(ve-this.$W):ve;if(se===h||se===y){var ge=this.clone().set(v,1);ge.$d[k](re),ge.init(),this.$d=ge.set(v,Math.min(this.$D,ge.daysInMonth())).$d}else k&&this.$d[k](re);return this.init(),this},oe.set=function(he,ve){return this.clone().$set(he,ve)},oe.get=function(he){return this[q.p(he)]()},oe.add=function(he,ve){var de,se=this;he=Number(he);var Re=q.p(ve),k=function(W){var ee=Y(se);return q.w(ee.date(ee.date()+Math.round(W*he)),se)};if(Re===h)return this.set(h,this.$M+he);if(Re===y)return this.set(y,this.$y+he);if(Re===c)return k(1);if(Re===d)return k(7);var re=(de={},de[s]=r,de[l]=i,de[o]=n,de)[Re]||1,ge=this.$d.getTime()+he*re;return q.w(ge,this)},oe.subtract=function(he,ve){return this.add(-1*he,ve)},oe.format=function(he){var ve=this,de=this.$locale();if(!this.isValid())return de.invalidDate||_;var se=he||"YYYY-MM-DDTHH:mm:ssZ",Re=q.z(this),k=this.$H,re=this.$m,ge=this.$M,W=de.weekdays,ee=de.months,pe=function($e,Xe,ae,H){return $e&&($e[Xe]||$e(ve,se))||ae[Xe].slice(0,H)},Te=function($e){return q.s(k%12||12,$e,"0")},Je=de.meridiem||function($e,Xe,ae){var H=$e<12?"AM":"PM";return ae?H.toLowerCase():H},Ae={YY:String(this.$y).slice(-2),YYYY:q.s(this.$y,4,"0"),M:ge+1,MM:q.s(ge+1,2,"0"),MMM:pe(de.monthsShort,ge,ee,3),MMMM:pe(ee,ge),D:this.$D,DD:q.s(this.$D,2,"0"),d:String(this.$W),dd:pe(de.weekdaysMin,this.$W,W,2),ddd:pe(de.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(k),HH:q.s(k,2,"0"),h:Te(1),hh:Te(2),a:Je(k,re,!0),A:Je(k,re,!1),m:String(re),mm:q.s(re,2,"0"),s:String(this.$s),ss:q.s(this.$s,2,"0"),SSS:q.s(this.$ms,3,"0"),Z:Re};return se.replace(w,function($e,Xe){return Xe||Ae[$e]||Re.replace(":","")})},oe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},oe.diff=function(he,ve,de){var se,Re=q.p(ve),k=Y(he),re=(k.utcOffset()-this.utcOffset())*r,ge=this-k,W=q.m(this,k);return W=(se={},se[y]=W/12,se[h]=W,se[g]=W/3,se[d]=(ge-re)/6048e5,se[c]=(ge-re)/864e5,se[l]=ge/i,se[s]=ge/r,se[o]=ge/n,se)[Re]||ge,de?W:q.a(W)},oe.daysInMonth=function(){return this.endOf(h).$D},oe.$locale=function(){return D[this.$L]},oe.locale=function(he,ve){if(!he)return this.$L;var de=this.clone(),se=Q(he,ve,!0);return se&&(de.$L=se),de},oe.clone=function(){return q.w(this.$d,this)},oe.toDate=function(){return new Date(this.valueOf())},oe.toJSON=function(){return this.isValid()?this.toISOString():null},oe.toISOString=function(){return this.$d.toISOString()},oe.toString=function(){return this.$d.toUTCString()},te}(),le=X.prototype;return Y.prototype=le,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",h],["$y",y],["$D",v]].forEach(function(te){le[te[1]]=function(oe){return this.$g(oe,te[0],te[1])}}),Y.extend=function(te,oe){return te.$i||(te(oe,X,Y),te.$i=!0),Y},Y.locale=Q,Y.isDayjs=F,Y.unix=function(te){return Y(1e3*te)},Y.en=D[O],Y.Ls=D,Y.p={},Y})}(ew)),ew.exports}var ake=ike();const tU=Mr(ake),oke=()=>{const e=Vf(Rh);return V.useCallback(async({senderId:t,message:n,chat:r})=>{const a=`${di(r)}${tU().format("YYYY/MM/DD")}/chat.ttl`,o=`${a}#msg-${Zl()}`,s=new Date().toISOString();return await e.mutateAsync({uri:di(r)+tU().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{var c;(c=l.message)==null||c.add({"@id":o,created:s,content:n,maker:{"@id":t}})}}),{messageId:o,todayChat:a,createdAt:s}},[e])},ske=()=>{const e=ts(RH);return V.useCallback(async({inbox:t,senderId:n,messageId:r,chatId:i,updated:a,content:o})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:{"@id":"Add"},actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:{"@id":kA.Note},created:a,content:o,maker:{"@id":n}},target:{"@id":i},updated:a}})},[e])},uke=()=>{const e=ts(Rh),t=ts(lp),n=AK();return V.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:o,privateTypeIndex:s})=>{const l=`${o}messages/${Zl()}/`,c=`${l}index.ttl`,d=`${c}#this`,h=new Date().toISOString();await e.mutateAsync({uri:c,data:{"@id":d,type:{"@id":"LongChat"},author:{"@id":r},created:h,title:"Hospex chat channel"},transform:y=>{var v,_;(v=y.participation)==null||v.add({"@id":`${c}#${Zl()}`,dtstart:h,participant:{"@id":r}}).add({"@id":`${c}#${Zl()}`,dtstart:h,participant:{"@id":i}}),a&&((_=y.participation)==null||_.filter(S=>S.participant["@id"]===i).forEach(S=>{var w;return(w=S.references)==null?void 0:w.add({"@id":a})}))}});const g=await qf(l);return await t.mutateAsync({uri:g,data:[{"@id":g+"#ReadWriteControl",type:{"@id":"Authorization"},agent:new mr.BasicLdSet([{"@id":r}]),accessTo:new mr.BasicLdSet([{"@id":l}]),default:{"@id":l},mode:new mr.BasicLdSet([{"@id":Rn.Read},{"@id":Rn.Write},{"@id":Rn.Control}])},{"@id":g+"#Read",type:{"@id":"Authorization"},agent:new mr.BasicLdSet([{"@id":i}]),accessTo:new mr.BasicLdSet([{"@id":l}]),default:{"@id":l},mode:new mr.BasicLdSet([{"@id":Rn.Read}])}]}),await n({index:s,type:yH.LongChat,location:d}),{chatContainer:l,chatFile:c,chatId:d}},[t,e,n])},lke=()=>{const e=Vf(Rh),t=Tb();return V.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await e.mutateAsync({uri:r,subject:r,transform:o=>{var l,c,d;if(!o.participation)throw new Error("no participation");if(o.participation&&o.participation.size>2)throw new Error("too much participation (only 2 people supported!)");const s=(l=o.participation)==null?void 0:l.toArray().find(h=>{var g;return((g=h.participant)==null?void 0:g["@id"])===a});if(!s)throw new Error("other person's participation not found");if(((c=s.references)==null?void 0:c.size)===1&&s.references.toArray()[0]["@id"]===i)throw new Error("already updated");if(s.references&&s.references.size>0)throw new Error("participation already references some other chat");(d=s.references)==null||d.add({"@id":i})}})}catch(o){if(!(o instanceof Error&&o.message==="already updated"))throw o}await t.mutateAsync({uri:n})},[t,e])},cke=({me:e,userId:t})=>{const{quads:n,variables:r,isLoading:i}=wa(V.useMemo(()=>({query:c_e,variables:{person:[e],otherPerson:[t]},fetch:ar,staleTime:3e4}),[e,t])),a=V.useMemo(()=>{const h=Tr.createLdoDataset(n).usingType(Rh);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.size)&&y.participation.size<=2}).flatMap(y=>{var v;return(v=y==null?void 0:y.message)==null?void 0:v.map(_=>{var S;return{id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"],test:(S=y.participation)==null?void 0:S.map(w=>w.participant["@id"])}}).flat()})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),o=V.useMemo(()=>{const h=Tr.createLdoDataset(n).usingType(Rh);return(r.chatWithOtherPerson??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.size)&&y.participation.size<=2}).flatMap(y=>{var v,_,S,w;return y["@id"]?{myChat:y["@id"],otherChats:(w=(S=(_=(v=y.participation)==null?void 0:v.toArray())==null?void 0:_[0])==null?void 0:S.references)==null?void 0:w.map(x=>x["@id"]??[]).flat()}:[]})},[n,r.chatWithOtherPerson]),{data:s,...l}=Rb(e),c=V.useMemo(()=>s.filter(h=>h.from===t),[s,t]);return[V.useMemo(()=>{const h=[...a];return c.forEach(g=>{const y=a.findIndex(v=>v.id===g.id);y>-1?h[y]=g:h.push(g)}),h.sort((g,y)=>((g==null?void 0:g.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,c]),{isLoading:i},l,o]},fke=({from:e,to:t,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:e.id,name:e.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:t.id,name:t.name}}),dke=e=>async({data:t})=>{if(!(await ar(new URL("notification",e),{method:"POST",body:JSON.stringify(fke(t)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},hke=({from:e,to:t,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=Nn();n??(n=i);const[o]=ns(e,n),[s]=ns(t,n),{mutateAsync:l}=lo({mutationFn:dke(a)});return V.useCallback(async c=>{await l({type:r,data:{...c,from:o,to:s}})},[o,l,s,r])};var tW=Symbol.for("immer-nothing"),nU=Symbol.for("immer-draftable"),oo=Symbol.for("immer-state");function es(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Dh=Object.getPrototypeOf;function kh(e){return!!e&&!!e[oo]}function Nf(e){var t;return e?nW(e)||Array.isArray(e)||!!e[nU]||!!((t=e.constructor)!=null&&t[nU])||Qb(e)||Zb(e):!1}var pke=Object.prototype.constructor.toString();function nW(e){if(!e||typeof e!="object")return!1;const t=Dh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===pke}function ly(e,t){Wb(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Wb(e){const t=e[oo];return t?t.type_:Array.isArray(e)?1:Qb(e)?2:Zb(e)?3:0}function gP(e,t){return Wb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rW(e,t,n){const r=Wb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function gke(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qb(e){return e instanceof Map}function Zb(e){return e instanceof Set}function of(e){return e.copy_||e.base_}function mP(e,t){if(Qb(e))return new Map(e);if(Zb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&nW(e))return Dh(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[oo];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Dh(e),n)}function VL(e,t=!1){return Jb(e)||kh(e)||!Nf(e)||(Wb(e)>1&&(e.set=e.add=e.clear=e.delete=mke),Object.freeze(e),t&&ly(e,(n,r)=>VL(r,!0))),e}function mke(){es(2)}function Jb(e){return Object.isFrozen(e)}var yke={};function Ff(e){const t=yke[e];return t||es(0,e),t}var cy;function iW(){return cy}function vke(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rU(e,t){t&&(Ff("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yP(e){vP(e),e.drafts_.forEach(_ke),e.drafts_=null}function vP(e){e===cy&&(cy=e.parent_)}function iU(e){return cy=vke(cy,e)}function _ke(e){const t=e[oo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[oo].modified_&&(yP(t),es(4)),Nf(e)&&(e=Hw(t,e),t.parent_||Vw(t,e)),t.patches_&&Ff("Patches").generateReplacementPatches_(n[oo].base_,e,t.patches_,t.inversePatches_)):e=Hw(t,n,[]),yP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tW?e:void 0}function Hw(e,t,n){if(Jb(t))return t;const r=t[oo];if(!r)return ly(t,(i,a)=>oU(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Vw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),ly(a,(s,l)=>oU(e,r,i,s,l,n,o)),Vw(e,i,!1),n&&e.patches_&&Ff("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function oU(e,t,n,r,i,a,o){if(kh(i)){const s=a&&t&&t.type_!==3&&!gP(t.assigned_,r)?a.concat(r):void 0,l=Hw(e,i,s);if(rW(n,r,l),kh(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Nf(i)&&!Jb(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hw(e,i),(!t||!t.scope_.parent_)&&Vw(e,i)}}function Vw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&VL(t,n)}function wke(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iW(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=KL;n&&(i=[r],a=fy);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var KL={get(e,t){if(t===oo)return e;const n=of(e);if(!gP(n,t))return bke(e,n,t);const r=n[t];return e.finalized_||!Nf(r)?r:r===VR(e.base_,t)?(KR(e),e.copy_[t]=wP(r,e)):r},has(e,t){return t in of(e)},ownKeys(e){return Reflect.ownKeys(of(e))},set(e,t,n){const r=aW(of(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=VR(of(e),t),a=i==null?void 0:i[oo];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(gke(n,i)&&(n!==void 0||gP(e.base_,t)))return!0;KR(e),_P(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return VR(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,KR(e),_P(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=of(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){es(11)},getPrototypeOf(e){return Dh(e.base_)},setPrototypeOf(){es(12)}},fy={};ly(KL,(e,t)=>{fy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fy.deleteProperty=function(e,t){return fy.set.call(this,e,t,void 0)};fy.set=function(e,t,n){return KL.set.call(this,e[0],t,n,e[0])};function VR(e,t){const n=e[oo];return(n?of(n):e)[t]}function bke(e,t,n){var i;const r=aW(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function aW(e,t){if(!(t in e))return;let n=Dh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Dh(n)}}function _P(e){e.modified_||(e.modified_=!0,e.parent_&&_P(e.parent_))}function KR(e){e.copy_||(e.copy_=mP(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ske=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&es(6),r!==void 0&&typeof r!="function"&&es(7);let i;if(Nf(t)){const a=iU(this),o=wP(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?yP(a):vP(a)}return rU(a,r),aU(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===tW&&(i=void 0),this.autoFreeze_&&VL(i,!0),r){const a=[],o=[];Ff("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else es(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Nf(e)||es(8),kh(e)&&(e=xke(e));const t=iU(this),n=wP(e,void 0);return n[oo].isManual_=!0,vP(t),n}finishDraft(e,t){const n=e&&e[oo];(!n||!n.isManual_)&&es(9);const{scope_:r}=n;return rU(r,t),aU(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ff("Patches").applyPatches_;return kh(e)?r(e,t):this.produce(e,i=>r(i,t))}};function wP(e,t){const n=Qb(e)?Ff("MapSet").proxyMap_(e,t):Zb(e)?Ff("MapSet").proxySet_(e,t):wke(e,t);return(t?t.scope_:iW()).drafts_.push(n),n}function xke(e){return kh(e)||es(10,e),oW(e)}function oW(e){if(!Nf(e)||Jb(e))return e;const t=e[oo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mP(e,t.scope_.immer_.useStrictShallowCopy_)}else n=mP(e,!0);return ly(n,(r,i)=>{rW(n,r,oW(i))}),t&&(t.finalized_=!1),n}var so=new Ske,GR=so.produce;so.produceWithPatches.bind(so);so.setAutoFreeze.bind(so);so.setUseStrictShallowCopy.bind(so);so.applyPatches.bind(so);so.createDraft.bind(so);so.finishDraft.bind(so);const Eke="_messages_1tp4g_1",Cke="_message_1tp4g_1",Tke="_fromMe_1tp4g_13",Rke="_unread_1tp4g_18",Ake="_time_1tp4g_21",Pke="_messageForm_1tp4g_25",Kd={messages:Eke,message:Cke,fromMe:Tke,unread:Rke,time:Ake,messageForm:Pke},Oke=()=>{var ve,de;const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=Nn(),r=IP().id,i=vi(),{i18n:a,_:o}=Ur(),[s,l]=V.useState(!1),[c,d,h,g]=cke({me:i.webId??"",userId:r}),{privateTypeIndexes:y,personalHospexDocuments:v}=iy(i.webId??"",e),[_]=zH(r),S=(ve=_==null?void 0:_.inbox)==null?void 0:ve["@id"],w=oke(),x=ske(),R=uke(),P=hke({from:i.webId,to:r,type:"message"}),O=lke(),[D,F]=V.useState({}),Q=V.useRef(new Set);V.useEffect(()=>{(async()=>{var se;if(c&&i.webId&&((se=g[0])!=null&&se.myChat)){for(const Re of c)if(Re.notification&&!(Re.id in D)&&!Q.current.has(Re.id)){Q.current.add(Re.id),F(GR(k=>{k[Re.id]="processing"}));try{await O({notificationId:Re.notification,chat:g[0].myChat,otherChat:Re.chat,otherPerson:r}),F(GR(k=>{k[Re.id]="processed"}))}catch{F(GR(k=>{k[Re.id]="errored"}))}}}})()},[i.webId,g,c,D,r,O]);const Y=(de=c.filter(se=>se.notification).find(se=>!!se.chat))==null?void 0:de.chat,{register:q,handleSubmit:X,reset:le}=Bs(),te=X(async se=>{var ge,W,ee;if(!i.webId)throw new Error(a._({id:"udP0jg"}));if(l(!0),!S)throw new Error(a._({id:"xAkrnZ"}));let Re=(ge=g[0])==null?void 0:ge.myChat;if(!Re){if(!v[0])throw new Error(a._({id:"CMfhBr"}));if(!y[0])throw new Error(a._({id:"fMnMgg"}));({chatId:Re}=await R({me:i.webId,otherPerson:r,hospexContainer:di(v[0]),otherChat:((ee=(W=g[0])==null?void 0:W.otherChats)==null?void 0:ee[0])??Y??void 0,privateTypeIndex:y[0]}))}const{messageId:k,createdAt:re}=await Ls(w({senderId:i.webId,message:se.message,chat:Re}),{pending:a._({id:"M/R9wy"}),success:a._({id:"kH4vZi"})});await Ls(x({inbox:S,senderId:i.webId,messageId:k,chatId:Re,updated:re,content:se.message}),{pending:a._({id:"HZ3V75"}),success:a._({id:"qFkBv/"})}),le({message:""}),l(!1),t&&n==="simple"&&await Ls(P({messageId:k,message:se.message}),{pending:a._({id:"PmxYBp"}),success:a._({id:"9K7sK1"})})}),oe=s||!S,he=!d.isLoading&&!h.isLoading&&!g.some(se=>!!se.myChat);return U.jsxs("div",{children:[U.jsx("pre",{children:(d.isLoading||h.isLoading)&&U.jsx(wt,{id:"Z3FXyt"})}),U.jsx(wt,{id:"NqP6cw",components:{0:U.jsx(LL,{webId:r,link:!0})}}),U.jsx("div",{className:Kd.messages,children:(c==null?void 0:c.map(({id:se,message:Re,from:k,createdAt:re,status:ge},W)=>U.jsxs("div",{className:Ar(Kd.message,k===i.webId&&Kd.fromMe,ge==="unread"&&Kd.unread),"data-cy":"message","data-cy-message-from":k===i.webId?"me":"other",children:[U.jsx("span",{"data-testid":`message${W}-from-${k===i.webId?"me":"other"}`,children:Re}),U.jsx("span",{className:Kd.time,title:new Date(re).toLocaleString(),children:new Date(re).toLocaleTimeString()})]},se)))??U.jsx("div",{children:U.jsx(Oo,{children:U.jsx(wt,{id:"bo2Xks"})})})}),he&&U.jsx(U.Fragment,{children:U.jsx(wt,{id:"dWGab4"})}),U.jsx("form",{onSubmit:te,className:Kd.messageForm,children:U.jsxs("fieldset",{disabled:oe,children:[U.jsx("textarea",{...q("message",{required:!0})}),U.jsx(rr,{primary:!0,type:"submit",disabled:oe,children:U.jsx(wt,{id:"JlFcis"})})]})})]})};/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const tf=(e,t)=>{t.split(" ").forEach(n=>{e.classList.add(n)})},nf=(e,t)=>{t.split(" ").forEach(n=>{e.classList.remove(n)})},sW=On.Marker.extend({initialize(e,t){On.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const n=this._getIconSVG(e,t);this._locationIcon=On.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const n=e.radius,r=e.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+t+'" /></svg>',w:a,h:a}},setStyle(e){On.setOptions(this,e),this.createIcon()}}),Lke=sW.extend({initialize(e,t,n){On.setOptions(this,n),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const n=e.radius,r=e.width+e.weight,i=(n+e.depth+e.weight)*2,a=`M0,0 l${e.width/2},${e.depth} l-${r},0 z`,o=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${o}"><path d="`+a+'" style="'+t+'" /></svg>',w:r,h:i}}}),Ike=On.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:sW,compassClass:Lke,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const n=On.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);n.title=t.strings.title,n.href="#",n.setAttribute("role","button");const r=On.DomUtil.create(t.iconElementTag,t.icon,n);if(t.strings.text!==void 0){const i=On.DomUtil.create(t.textElementTag,"leaflet-locate-text",n);i.textContent=t.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",t.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?On.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=On.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=On.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=On.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=On.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new On.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(t,this.options);return this._link=n.link,this._icon=n.icon,On.DomEvent.on(this._link,"click",function(r){On.DomEvent.stopPropagation(r),On.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",On.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,n=function(){On.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?On.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&On.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),On.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(o):this._circle=On.circle(t,e,o).addTo(this._layer)}let n,r;if(this.options.metric?(n=e.toFixed(0),r=this.options.strings.metersUnit):(n=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(t,o).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?On.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,On.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(nf(this._container,"active following"),tf(this._container,"requesting"),nf(this._icon,this.options.icon),tf(this._icon,this.options.iconLoading)):e=="active"?(nf(this._container,"requesting following"),tf(this._container,"active"),nf(this._icon,this.options.iconLoading),tf(this._icon,this.options.icon)):e=="following"&&(nf(this._container,"requesting"),tf(this._container,"active following"),nf(this._icon,this.options.iconLoading),tf(this._icon,this.options.icon))},_cleanClasses(){On.DomUtil.removeClass(this._container,"requesting"),On.DomUtil.removeClass(this._container,"active"),On.DomUtil.removeClass(this._container,"following"),nf(this._icon,this.options.iconLoading),tf(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function Mke(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Dke=1;function kke(e){return Object.freeze({__version:Dke,map:e})}function Nke(e,t){return Object.freeze({...e,...t})}const GL=V.createContext(null);function Xb(){const e=V.use(GL);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function uW(e){function t(n,r){const{instance:i,context:a}=e(n).current;V.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:Ot.createElement(GL,{value:a},o)}return V.forwardRef(t)}function lW(e){function t(n,r){const{instance:i}=e(n).current;return V.useImperativeHandle(r,()=>i),null}return V.forwardRef(t)}function Fke(e){return function(n){const r=Xb(),i=e(n,r),{instance:a}=i.current,o=V.useRef(n.position),{position:s}=n;return V.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),V.useEffect(function(){s!=null&&s!==o.current&&(a.setPosition(s),o.current=s)},[a,s]),i}}function cW(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function WL(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function QL(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Yb(e,t){return t==null?function(r,i){const a=V.useRef(void 0);return a.current||(a.current=e(r,i)),a}:function(r,i){const a=V.useRef(void 0);a.current||(a.current=e(r,i));const o=V.useRef(r),{instance:s}=a.current;return V.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,t]),a}}function fW(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function dW(e){return function(n){const r=Xb(),i=e(WL(n,r),r);return Mke(r.map,n.attribution),cW(i.current,n.eventHandlers),fW(i.current,r),i}}function jke(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function $ke(e){return function(n){const r=Xb(),i=e(WL(n,r),r);return cW(i.current,n.eventHandlers),fW(i.current,r),jke(i.current,n),i}}function Bke(e){function t(i,a){return QL(e(i),a)}const n=Yb(t),r=Fke(n);return lW(r)}function Uke(e,t){const n=Yb(e,t),r=dW(n);return uW(r)}function qke(e,t){const n=Yb(e,t),r=$ke(n);return uW(r)}function zke(e,t){const n=Yb(e,t),r=dW(n);return lW(r)}function Hke(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const hW=Bke(e=>new Ike(e));function ZL(){return Xb().map}function WR(e,t){const n=ZL();return V.useEffect(function(){return n.on(e,t),function(){n.off(e,t)}},[n,e,t]),n}function Vke({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:c,...d},h){const[g]=V.useState({className:i,id:a,style:s}),[y,v]=V.useState(null),_=V.useRef(void 0);V.useImperativeHandle(h,()=>(y==null?void 0:y.map)??null,[y]);const S=V.useCallback(x=>{if(x!==null&&!_.current){const R=new On.Map(x,d);_.current=R,n!=null&&c!=null?R.setView(n,c):e!=null&&R.fitBounds(e,t),l!=null&&R.whenReady(l),v(kke(R))}},[]);V.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const w=y?Ot.createElement(GL,{value:y},r):o??null;return Ot.createElement("div",{...g,ref:S},w)}const JL=V.forwardRef(Vke),XL=Uke(function({position:t,...n},r){const i=new On.Marker(t,n);return QL(i,Nke(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),YL=zke(function({url:t,...n},r){const i=new On.TileLayer(t,WL(n,r));return QL(i,r)},function(t,n,r){Hke(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),Kke="_mapContainer_zpxie_1",Gke="_description_zpxie_11",bP={mapContainer:Kke,description:Gke},sU=e=>(e%360-180*3)%360+180,T0=e=>{const t=e.getBounds();return{n:t.getNorth(),s:t.getSouth(),e:t.getEast(),w:t.getWest()}},pW=({onChange:e,onUpdate:t})=>{const n=ZL(),r=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=T0(n);e==null||e({lat:o,long:s},l)},[n,e]),i=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=sU(s),c={lat:o,long:l};if(Math.abs(l-s)>1){n.setView([o,l],n.getZoom(),{animate:!1});const h=T0(n);e==null||e(c,h)}const d=T0(n);t==null||t(c,d)},[n,e,t]),a=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=sU(s),c={lat:o,long:l};Math.abs(l-s)>1&&n.setView([o,l],n.getZoom(),{animate:!1});const d=T0(n);t==null||t(c,d)},[n,t]);return WR("load",a),WR("move",r),WR("moveend",i),V.useEffect(()=>{n&&a()},[a,n]),null},Wke=({value:e,onChange:t,isInitial:n})=>{const r=V.useMemo(()=>[e.lat,e.long],[e.lat,e.long]),{tileServer:i}=Nn(),{i18n:a,_:o}=Ur();return U.jsxs(JL,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Ar(bP.mapContainer,"accommodation-map-container-edit"),children:[U.jsx(YL,{url:i}),U.jsx(hW,{strings:{title:a._({id:"sa0+P5"})},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),U.jsx(XL,{position:r}),U.jsx(pW,{onChange:t})]})},Qke="_container_1saps_1",Zke="_header_1saps_10",Jke="_accommodation_1saps_17",Xke="_accommodationForm_1saps_27",Yke="_errorMessage_1saps_34",eNe="_inputError_1saps_39",tNe="_actions_1saps_45",nNe="_addAccommodationButton_1saps_54",To={container:Qke,header:Zke,accommodation:Jke,accommodationForm:Xke,errorMessage:Yke,inputError:eNe,actions:tNe,addAccommodationButton:nNe},rNe={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"object",minProperties:1,patternProperties:{".*":{type:"string"}},additionalProperties:!1,not:{type:"object",minProperties:1,patternProperties:{".*":{type:"string",pattern:"^[\\s]*$"}}},required:[]}}},uU=({initialData:e,onSubmit:t,onCancel:n})=>{const{i18n:r,_:i}=Ur(),a=$r(Lo),{handleSubmit:o,control:s,formState:{errors:l}}=Bs({defaultValues:Of({location:{lat:0,long:0},description:{[a]:""}},e),resolver:lG(rNe)}),c=o(d=>{t(d)});return U.jsxs("form",{onSubmit:c,onReset:n,className:Ar(To.accommodationForm,To.accommodation),"data-cy":"accommodation-form",children:[U.jsxs("label",{children:[U.jsx(wt,{id:"ApEC55",components:{0:U.jsx(cme,{})}}),U.jsx("br",{}),U.jsx(KN,{})," ",U.jsx(wt,{id:"BQTO6T"})," ",U.jsx(KN,{})]}),U.jsx(Mw,{control:s,name:"location",render:({field:d})=>U.jsx("div",{className:Ar(l.location&&To.inputError),children:U.jsx(Wke,{value:d.value,onChange:d.onChange,isInitial:!e})})}),l.location&&U.jsx("div",{className:To.errorMessage,children:U.jsx(wt,{id:"OjgFFJ"})}),U.jsx("label",{htmlFor:"description",children:U.jsx(wt,{id:"+j94GR"})}),U.jsx(Mw,{control:s,name:"description",render:({field:d})=>U.jsx(cG,{className:Ar(l.description&&To.inputError),id:"description",placeholder:r._({id:"vJIeDW"}),initialData:e==null?void 0:e.description,locale:a,...d,rows:5})}),l.description&&U.jsx("div",{className:To.errorMessage,children:U.jsx(wt,{id:"B8AaMI"})}),U.jsxs("div",{className:To.actions,children:[U.jsx(rr,{type:"reset",secondary:!0,children:U.jsx(wt,{id:"dEgA5A"})}),U.jsx(rr,{type:"submit",primary:!0,children:U.jsx(wt,{id:"tfDRzk"})})]})]})},eI=({text:e,locale:t,as:n="section",...r})=>{const i=V.useMemo(()=>Object.keys(e).filter(s=>typeof e[s]=="string"&&e[s].trim()).sort(Q9([t])),[t,e]),[a,o]=V.useState(i[0]??"en");return V.useEffect(()=>{i.includes(t)&&o(t)},[t,i]),U.jsx(uL,{asChild:!0,value:a,onValueChange:o,children:U.jsxs(n,{...r,children:[U.jsx(lL,{className:lf.list,children:i.map(s=>U.jsx(cL,{value:s,className:lf.trigger,children:s},s))}),i.map(s=>U.jsx(fL,{value:s,children:e[s]},s))]})})},iNe=({location:e})=>{const t=ZL();return V.useEffect(()=>{t.flyTo(e)},[e,t]),null},aNe=e=>{const{tileServer:t}=Nn(),n=$r(Lo),r=V.useMemo(()=>[e.location.lat,e.location.long],[e.location.lat,e.location.long]);return U.jsxs(U.Fragment,{children:[U.jsxs(JL,{className:bP.mapContainer,attributionControl:!1,zoom:12,center:r,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[U.jsx(YL,{url:t}),U.jsx(XL,{position:r}),U.jsx(iNe,{location:r})]}),U.jsx(eI,{className:bP.description,text:e.description,locale:n,as:"div"}),U.jsx("a",{href:e.id,target:"_blank",rel:"noopener noreferrer",children:U.jsx(ez,{})})]})},oNe=()=>{const e=ts(Eb),t=ao();return V.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const o=Zl(),s=a+o,l=`${s}#accommodation`;return await e.mutateAsync({uri:s,data:{"@id":l,type:new mr.BasicLdSet([{"@id":"Accommodation"},{"@id":"Accommodation2"}]),location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}},transform:c=>{kO(r.description,c,"description")}}),await t.mutateAsync({uri:i,patch:`
          _:mutate a <${En.InsertDeletePatch}>;
            <${En.inserts}> { <${n}> <${lc.offers}> <${l}>. }.
        `}),{uri:l}},[e,t])},sNe=()=>{const e=ao(),t=Tb();return V.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await e.mutateAsync({uri:i,patch:`
          _:mutate a <${En.InsertDeletePatch}>;
            <${En.deletes}> { <${r}> <${lc.offers}> <${n}>. }.
        `}),await t.mutateAsync({uri:n})},[t,e])};var QR,lU;function uNe(){if(lU)return QR;lU=1;for(var e="0123456789bcdefghjkmnpqrstuvwxyz",t={},n=0;n<e.length;n++)t[e.charAt(n)]=n;var r="auto",i=-90,a=90,o=-180,s=180,l=[0,5,7,8,11,12,13,15,16,17,18],c=function(Y,q,X){if(X===r){if(typeof Y=="number"||typeof q=="number")throw new Error("string notation required for auto precision.");var le=Y.split(".")[1].length,te=q.split(".")[1].length,oe=Math.max(le,te);X=l[oe]}else X===void 0&&(X=9);for(var he=[],ve=0,de=0,se=0,Re=a,k=i,re=s,ge=o,W;he.length<X;)if(de%2===0?(W=(re+ge)/2,q>W?(se=(se<<1)+1,ge=W):(se=(se<<1)+0,re=W)):(W=(Re+k)/2,Y>W?(se=(se<<1)+1,k=W):(se=(se<<1)+0,Re=W)),ve++,de++,ve===5){var ee=e[se];he.push(ee),ve=0,se=0}return he.join("")},d=function(Y,q,X){X=X||52;for(var le=0,te=a,oe=i,he=s,ve=o,de,se=0;le<X;)se*=2,le%2===0?(de=(he+ve)/2,q>de?(se+=1,ve=de):he=de):(de=(te+oe)/2,Y>de?(se+=1,oe=de):te=de),le++;return se},h=function(Y){for(var q=!0,X=a,le=i,te=s,oe=o,he,ve=0,de=0,se=Y.length;de<se;de++){var Re=Y[de].toLowerCase();ve=t[Re];for(var k=4;k>=0;k--){var re=ve>>k&1;q?(he=(te+oe)/2,re===1?oe=he:te=he):(he=(X+le)/2,re===1?le=he:X=he),q=!q}}return[le,oe,X,te]},g=function(Y,q){q=q||52;for(var X=a,le=i,te=s,oe=o,he=0,ve=0,de=q/2,se=0;se<de;se++)ve=y(Y,(de-se)*2-1),he=y(Y,(de-se)*2-2),he===0?X=(X+le)/2:le=(X+le)/2,ve===0?te=(te+oe)/2:oe=(te+oe)/2;return[le,oe,X,te]};function y(Y,q){return Y/Math.pow(2,q)&1}var v=function(Y){var q=h(Y),X=(q[0]+q[2])/2,le=(q[1]+q[3])/2,te=q[2]-X,oe=q[3]-le;return{latitude:X,longitude:le,error:{latitude:te,longitude:oe}}},_=function(Y,q){var X=g(Y,q),le=(X[0]+X[2])/2,te=(X[1]+X[3])/2,oe=X[2]-le,he=X[3]-te;return{latitude:le,longitude:te,error:{latitude:oe,longitude:he}}},S=function(Y,q){var X=v(Y),le=X.latitude+q[0]*X.error.latitude*2,te=X.longitude+q[1]*X.error.longitude*2;return te=D(te),le=F(le),c(le,te,Y.length)},w=function(Y,q,X){X=X||52;var le=_(Y,X),te=le.latitude+q[0]*le.error.latitude*2,oe=le.longitude+q[1]*le.error.longitude*2;return oe=D(oe),te=F(te),d(te,oe,X)},x=function(Y){var q=Y.length,X=v(Y),le=X.latitude,te=X.longitude,oe=X.error.latitude*2,he=X.error.longitude*2,ve,de,se=[Re(1,0),Re(1,1),Re(0,1),Re(-1,1),Re(-1,0),Re(-1,-1),Re(0,-1),Re(1,-1)];function Re(k,re){return ve=le+k*oe,de=te+re*he,de=D(de),ve=F(ve),c(ve,de,q)}return se},R=function(Y,q){q=q||52;var X=_(Y,q),le=X.latitude,te=X.longitude,oe=X.error.latitude*2,he=X.error.longitude*2,ve,de,se=[Re(1,0),Re(1,1),Re(0,1),Re(-1,1),Re(-1,0),Re(-1,-1),Re(0,-1),Re(1,-1)];function Re(k,re){return ve=le+k*oe,de=te+re*he,de=D(de),ve=F(ve),d(ve,de,q)}return se},P=function(Y,q,X,le,te){te=te||9;for(var oe=c(Y,q,te),he=c(X,le,te),ve=v(oe),de=ve.error.latitude*2,se=ve.error.longitude*2,Re=h(oe),k=h(he),re=Math.round((k[0]-Re[0])/de),ge=Math.round((k[1]-Re[1])/se),W=[],ee=0;ee<=re;ee++)for(var pe=0;pe<=ge;pe++)W.push(S(oe,[ee,pe]));return W},O=function(Y,q,X,le,te){te=te||52;for(var oe=d(Y,q,te),he=d(X,le,te),ve=_(oe,te),de=ve.error.latitude*2,se=ve.error.longitude*2,Re=g(oe,te),k=g(he,te),re=Math.round((k[0]-Re[0])/de),ge=Math.round((k[1]-Re[1])/se),W=[],ee=0;ee<=re;ee++)for(var pe=0;pe<=ge;pe++)W.push(w(oe,[ee,pe],te));return W};function D(Y){return Y>s?o+Y%s:Y<o?s+Y%s:Y}function F(Y){return Y>a?a:Y<i?i:Y}var Q={ENCODE_AUTO:r,encode:c,encode_uint64:d,encode_int:d,decode:v,decode_int:_,decode_uint64:_,decode_bbox:h,decode_bbox_uint64:g,decode_bbox_int:g,neighbor:S,neighbor_int:w,neighbors:x,neighbors_int:R,bboxes:P,bboxes_int:O};return QR=Q,QR}var lNe=uNe();const dy=Mr(lNe),cNe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Document",id:t}}),fNe=e=>async t=>{const n=await ar(new URL("/inbox",e),{method:"POST",body:JSON.stringify(cNe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Po("Geoindex responded with error",n);return{...t,status:n.status}},cU=(e="")=>{const t=[];for(let n=1;n<=e.length;n++)t.push(e.substring(0,n));return t},dNe=()=>{const{geoindexService:e}=Nn(),t=Ui(),{mutateAsync:n}=lo({mutationFn:fNe(e),onSuccess:async({previousLocation:a,currentLocation:o})=>{const s=[];if(a){const l=dy.encode(a.lat,a.long,10);s.push(...cU(l))}if(o){const l=dy.encode(o.lat,o.long,10);s.push(...cU(l))}await Promise.allSettled(s.map(l=>t.invalidateQueries({queryKey:[Qr.geoindex,l]})))}}),r=!!e,i=V.useCallback(async a=>await n(a),[n]);return V.useMemo(()=>[r,i],[r,i])},hNe=(e,t)=>{const{variables:n,quads:r,isLoading:i}=wa({query:xH,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:ar});return V.useMemo(()=>{const a=Tr.createLdoDataset(r);return[(n.offer??[]).map(l=>a.usingType(Eb).fromSubject(l)).filter(l=>{var c,d;return((c=l==null?void 0:l.location)==null?void 0:c.lat)!==void 0&&((d=l==null?void 0:l.location)==null?void 0:d.long)!==void 0}).map(l=>{var g;const c=Cb(l,"description"),d=[l.location.lat].flat()[0]??0,h=[l.location.long].flat()[0]??0;return{id:l["@id"]??"",description:c,location:{lat:d,long:h},offeredBy:((g=l.offeredBy)==null?void 0:g["@id"])??""}}),i]},[i,r,n.offer])},pNe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},gNe={type:{"@id":"@type"},Accommodation:{"@id":"http://w3id.org/hospex/ns#Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},Accommodation2:{"@id":"https://schema.org/Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#Point","@context":{type:{"@id":"@type"},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},mNe={schema:pNe,shape:"https://example.com/Accommodation",context:gNe},yNe=()=>{const e=Vf(mNe);return V.useCallback(async({data:{id:t,...n},language:r="en"})=>{await e.mutateAsync({uri:t,subject:t,language:r,transform:i=>{n.description&&kO(n.description,i,"description"),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[e])},vNe=()=>{const{communityId:e}=Nn(),t=vi(),{i18n:n,_:r}=Ur(),[i,a]=V.useState(),{personalHospexDocuments:o}=xK(t.webId??"",e),[s]=hNe(t.webId??"",e),l=oNe(),c=yNe(),d=sNe(),[h,g]=dNe(),y=V.useCallback(async({uri:w,type:x,previousLocation:R,currentLocation:P})=>{h&&t.webId&&await Ls(g({type:x,actor:t.webId,object:w,previousLocation:R,currentLocation:P}),{pending:n._({id:"vTkuq4"}),success:{render:({data:O})=>{switch(O.status){case 201:return n._({id:"vz3tpL"});case 200:return n._({id:"f7fqUX"});case 204:return n._({id:"Z0DAcX"});default:return n._({id:"XQAIBA"})}}}})},[t.webId,h,g,r]);if(typeof t.webId!="string")return null;if(!s)return U.jsx(Oo,{children:U.jsx(wt,{id:"Z3FXyt"})});const v=async w=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));const{uri:x}=await Ls(l({personId:t.webId,data:w,hospexDocument:o[0],hospexContainer:di(o[0])}),{pending:n._({id:"r60ENi"}),success:n._({id:"QlfR57"})});a(void 0),await y({type:"Create",uri:x,currentLocation:w.location})},_=async(w,x)=>{await Ls(c({data:w}),{pending:n._({id:"xdx7Sc"}),success:n._({id:"PUl3lo"})}),a(void 0),await y({type:"Update",uri:w.id,currentLocation:w.location,previousLocation:x.location})},S=async({id:w,location:x})=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));globalThis.confirm(n._({id:"Wixo6f"}))&&(await Ls(d({id:w,personId:t.webId,hospexDocument:o[0]}),{pending:n._({id:"+5HgiN"}),success:n._({id:"t9VobG"})}),await y({type:"Delete",uri:w,previousLocation:x}))};return U.jsxs("div",{className:To.container,children:[U.jsxs("h1",{className:To.header,children:[U.jsx(Y9,{size:32})," ",U.jsx(wt,{id:"iRVV2L"})]}),U.jsx("ul",{style:{display:"contents"},children:s.map(w=>i===w.id?U.jsx(uU,{onSubmit:x=>_(x,w),onCancel:()=>{a(void 0)},initialData:w},w.id):U.jsxs("li",{className:To.accommodation,"data-cy":"offer-accommodation-item",children:[U.jsx(aNe,{...w}),U.jsxs("div",{className:To.actions,children:[U.jsx(rr,{secondary:!0,onClick:()=>{a(w.id)},children:U.jsx(wt,{id:"ePK91l"})}),U.jsx(rr,{danger:!0,onClick:()=>S(w),children:U.jsx(wt,{id:"cnGeoo"})})]})]},w.id))}),i==="new"?U.jsx(uU,{onSubmit:v,onCancel:()=>a(void 0)}):U.jsx(rr,{primary:!0,onClick:()=>a("new"),className:To.addAccommodationButton,children:U.jsx(wt,{id:"CiQd9C"})})]})},_Ne=()=>U.jsx("div",{children:"404"}),wNe=e=>{const{data:t}=fO(e.src);return t?U.jsx("img",{...e,src:t,alt:e.alt??"","data-src":e.src}):null},bNe="_container_eiq8v_1",SNe="_name_eiq8v_7",xNe="_about_eiq8v_14",ENe="_photo_eiq8v_19",R0={container:bNe,name:SNe,about:xNe,photo:ENe},CNe=()=>{const{i18n:e,_:t}=Ur(),{communityId:n}=Nn(),r=IP().id,i=vi(),a=r&&i.webId?r===i.webId:void 0,o=$r(Lo),[s]=ns(r,n),[l]=ns(i.webId,n),c=s.name;return U.jsxs("div",{className:R0.container,children:[U.jsx(wNe,{className:R0.photo,src:s.photo,alt:e._({id:"+Vmqfs",values:{name:c}}),"data-cy":"profile-photo"}),U.jsxs("header",{className:R0.name,"data-cy":"profile-name",children:[s.name," ",U.jsx(nz,{href:r})]}),U.jsx(eI,{text:s.about,locale:o,className:R0.about,"data-cy":"profile-about"}),a&&U.jsxs(xf,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[U.jsx(tz,{})," ",U.jsx(wt,{id:"HecDqj"})]}),a===!1&&U.jsx(xf,{secondary:!0,to:`/messages/${encodeURIComponent(r)}`,children:U.jsx(wt,{id:"eWlz27"})}),U.jsx(xf,{tertiary:!0,to:"contacts",children:U.jsx(wt,{id:"2LDW9H"})}),a===!1&&U.jsx(xPe,{webId:r}),U.jsx("section",{children:s.interests?U.jsx(YSe,{ids:s.interests,highlighted:a?[]:l.interests??[]}):U.jsx(Oo,{children:U.jsx(wt,{id:"O75yBm"})})})]})},TNe=()=>{const e=vi();return e.webId?U.jsx(DP,{to:encodeURIComponent(e.webId),replace:!0}):U.jsx(Oo,{children:U.jsx(wt,{id:"qPXQY8"})})},RNe="_bar_1x3gh_1",ANe="_animate_1x3gh_17",PNe="_progress_1x3gh_1",fU={bar:RNe,animate:ANe,progress:PNe},ONe=({animate:e=!1})=>U.jsx("div",{className:Ar(fU.bar,e&&fU.animate)}),LNe=async({geohash:e,geoindex:t})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${e}"`)}`,t).toString(),r=await ar(n);if(!r.ok)throw new Po("geoindex returned invalid response",r);const i=await r.text(),o=new Hh({format:r.headers.get("content-type")??void 0}).parse(i),s=new ks(o);return s.getSubjects("https://example.com/ns#geohash",`"${e}"`,null).map(c=>{const d=s.getObjects(c,"https://example.com/ns#geohash",null).map(g=>g.value).reduce((g,y)=>g.length>y.length?g:y),h=dy.decode(d);return{uri:c.value,geohash:d,location:h}})},INe=(e,t)=>{const{geoindexService:n}=Nn(),[r,i]=V.useState(0),[a,o]=V.useState(0),s=!n||r>a,l=V.useMemo(()=>t?dy.bboxes(t.s,t.w,t.n,t.e,1):[],[t]),c=V.useMemo(()=>l.map(w=>({queryKey:[Qr.geoindex,w],queryFn:()=>LNe({geohash:w,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),d=Hm({queries:c,combine:w=>({isError:w.some(x=>x.isError),isPending:w.some(x=>x.isPending),isSuccess:w.every(x=>x.isSuccess),errors:w.filter(x=>x.error).map(x=>x.error),data:w.filter(x=>x.data).flatMap(x=>x.data)})});V.useEffect(()=>{d.isError&&i(Date.now())},[d.isError]),V.useEffect(()=>{d.isSuccess&&o(Date.now())},[d.isSuccess]);const h=V.useMemo(()=>s?{query:r_e,variables:{community:[e]},fetch:ar,store:new ks}:{query:[],variables:{},fetch:ar},[e,s]),{quads:g,isMissing:y}=wa(h),v=V.useMemo(()=>[Tr.createLdoDataset(g).usingType(Eb).matchObject(null,lc.offers).filter(R=>R.location).map(R=>{var P,O;return{id:R["@id"],description:Cb(R,"description"),location:{lat:[R.location.lat].flat()[0],long:[R.location.long].flat()[0]},offeredBy:{id:((P=R.offeredBy)==null?void 0:P["@id"])??"",name:((O=R.offeredBy)==null?void 0:O.name)??""}}}).filter(R=>R.location.lat!==void 0&&R.location.long!==void 0&&R.id!==void 0),y],[y,g]),_=V.useMemo(()=>[d.data.map(({uri:w,location:x})=>({id:w,location:{lat:x.latitude,long:x.longitude},offeredBy:{id:"",name:""}})),d.isPending],[d.data,d.isPending]);return V.useMemo(()=>[Kge("id",_[0],v[0]),_[1]||v[1]],[_,v])};var Im={exports:{}},MNe=Im.exports,dU;function DNe(){return dU||(dU=1,function(e,t){(function(n,r){r(t)})(MNe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=a,s=this._zoom;if(a.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,o):this._animationAddLayerNonAnimated(a,o)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,o){if(!L.Util.isArray(a))return this.addLayer(a);var s=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,d=this.options.chunkInterval,h=this.options.chunkProgress,g=a.length,y=0,v=!0,_;if(this._map){var S=new Date().getTime(),w=L.bind(function(){var R=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<g;y++){if(c&&y%200===0){var P=new Date().getTime()-R;if(P>d)break}if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),g=a.length;continue}if(!_.getLatLng){l.addLayer(_),o||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),o||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var O=_.__parent.getAllChildMarkers(),D=O[0]===_?O[1]:O[0];s.removeLayer(D)}}h&&h(y,g,new Date().getTime()-S),y===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(w,this.options.chunkDelay)},this);w()}else for(var x=this._needsClustering;y<g;y++){if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),g=a.length;continue}if(!_.getLatLng){l.addLayer(_);continue}this.hasLayer(_)||x.push(_)}return this},removeLayers:function(a){var o,s,l=a.length,c=this._featureGroup,d=this._nonPointGroup,h=!0;if(!this._map){for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}this._arraySplice(this._needsClustering,s),d.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var g=a.slice(),y=l;for(o=0;o<y;o++){if(s=g[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,g),y=g.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}if(!s.__parent){d.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),c.hasLayer(s)&&(c.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)a.extend(this._needsClustering[o].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,o){var s=this._needsClustering.slice(),l=this._needsRemoving,c,d,h;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),d=s.length-1;d>=0;d--){for(c=!0,h=l.length-1;h>=0;h--)if(l[h].layer===s[d]){c=!1;break}c&&a.call(o,s[d])}this._nonPointGroup.eachLayer(a,o)},getLayers:function(){var a=[];return this.eachLayer(function(o){a.push(o)}),a},getLayer:function(a){var o=null;return a=parseInt(a,10),this.eachLayer(function(s){L.stamp(s)===a&&(o=s)}),o},hasLayer:function(a){if(!a)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===a)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,o){var s=this._map;typeof o!="function"&&(o=function(){});var l=function(){(s.hasLayer(a)||s.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),s.hasLayer(a)?o():a.__parent._icon&&(this.once("spiderfied",o,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?o():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var o,s,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var o=a;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(a,o){for(var s=a.length-1;s>=0;s--)if(a[s]===o)return a.splice(s,1),!0},_removeFromGridUnclustered:function(a,o){for(var s=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());o>=c&&l[o].removeObject(a,s.project(a.getLatLng(),o));o--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var o=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),o&&a.target.openPopup()}},_moveChild:function(a,o,s){a._latlng=o,this.removeLayer(a),a._latlng=s,this.addLayer(a)},_childMarkerDragEnd:function(a){var o=a.target.__dragStart;delete a.target.__dragStart,o&&this._moveChild(a.target,o,a.target._latlng)},_removeLayer:function(a,o,s){var l=this._gridClusters,c=this._gridUnclustered,d=this._featureGroup,h=this._map,g=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,v=y._markers,_;for(this._arraySplice(v,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<g));)o&&y._childCount<=1?(_=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,h.project(y._cLatLng,y._zoom)),c[y._zoom].addObject(_,h.project(_.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(_),_.__parent=y.__parent,y._icon&&(d.removeLayer(y),s||d.addLayer(_))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,o){for(;o;){if(a===o)return!0;o=o.parentNode}return!1},fire:function(a,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,o,s)},listens:function(a,o){return L.FeatureGroup.prototype.listens.call(this,a,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,o)},_defaultIconCreateFunction:function(a){var o=a.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(o||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var o=a.layer,s=o;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(a||s||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,l=s;typeof s!="function"&&(l=function(){return s}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var c=a;c>=o;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(a,o){var s=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),d,h;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);o>=c;o--){d=this._map.project(a.getLatLng(),o);var g=s[o].getNearObject(d);if(g){g._addChild(a),a.__parent=g;return}if(g=l[o].getNearObject(d),g){var y=g.__parent;y&&this._removeLayer(g,!1);var v=new this._markerCluster(this,o,g,a);s[o].addObject(v,this._map.project(v._cLatLng,o)),g.__parent=v,a.__parent=v;var _=v;for(h=o-1;h>y._zoom;h--)_=new this._markerCluster(this,h,_),s[h].addObject(_,this._map.project(g.getLatLng(),h));y._addChild(_),this._removeFromGridUnclustered(g,o);return}l[o].addObject(a,d)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var o=this._maxLat;return o!==void 0&&(a.getNorth()>=o&&(a._northEast.lat=1/0),a.getSouth()<=-o&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,o){if(o===a)this._featureGroup.addLayer(a);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(a,o){var s=a.getLayers(),l=0,c;for(o=o||[];l<s.length;l++){if(c=s[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,o);continue}o.push(c)}return o},_overrideMarkerIcon:function(a){var o=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,o){this._animationAddLayerNonAnimated(a,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,o){var s=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),d;this._ignoreMove=!0,this._topClusterLevel._recursively(s,a,c,function(h){var g=h._latlng,y=h._markers,v;for(s.contains(g)||(g=null),h._isSingleParent()&&a+1===o?(l.removeLayer(h),h._recursivelyAddChildrenToMap(null,o,s)):(h.clusterHide(),h._recursivelyAddChildrenToMap(g,o,s)),d=y.length-1;d>=0;d--)v=y[d],s.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),l.eachLayer(function(h){!(h instanceof L.MarkerCluster)&&h._icon&&h.clusterShow()}),this._topClusterLevel._recursively(s,a,o,function(h){h._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,a,c,function(h){l.removeLayer(h),h.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,o){this._animationZoomOutSingle(this._topClusterLevel,a-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,o){var s=this,l=this._featureGroup;l.addLayer(a),o!==a&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(o.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,o,s){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,o+1,s);var d=this;this._forceLayout(),a._recursivelyBecomeVisible(l,s),this._enqueue(function(){if(a._childCount===1){var h=a._markers[0];this._ignoreMove=!0,h.setLatLng(h.getLatLng()),this._ignoreMove=!1,h.clusterShow&&h.clusterShow()}else a._recursively(l,s,c,function(g){g._recursivelyRemoveChildrenFromMap(l,c,o+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,o,s,l){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),l&&this._addChild(l)},getAllChildMarkers:function(a,o){a=a||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(a,o);for(var l=this._markers.length-1;l>=0;l--)o&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var o=this._childClusters.slice(),s=this._group._map,l=s.getBoundsZoom(this._bounds),c=this._zoom+1,d=s.getZoom(),h;o.length>0&&l>c;){c++;var g=[];for(h=0;h<o.length;h++)g=g.concat(o[h]._childClusters);o=g}l>c?this._group._map.setView(this._latlng,c):l<=d?this._group._map.setView(this._latlng,d+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(o||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(o||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,o=this._childClusters,s=0,l=0,c=this._childCount,d,h,g,y;if(c!==0){for(this._resetBounds(),d=0;d<a.length;d++)g=a[d]._latlng,this._bounds.extend(g),s+=g.lat,l+=g.lng;for(d=0;d<o.length;d++)h=o[d],h._boundsNeedUpdate&&h._recalculateBounds(),this._bounds.extend(h._bounds),g=h._wLatLng,y=h._childCount,s+=g.lat*y,l+=g.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,o,s){this._recursively(a,this._group._map.getMinZoom(),s-1,function(l){var c=l._markers,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())},function(l){var c=l._childClusters,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,o,s,l){this._recursively(a,l,o,function(c){c._recursivelyAnimateChildrenIn(a,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),s),c._isSingleParent()&&s-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(a,o,s)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(a,o){this._recursively(a,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(a,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(l){if(o!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var d=l._markers[c];s.contains(d._latlng)&&(a&&(d._backupLatlng=d.getLatLng(),d.setLatLng(a),d.clusterHide&&d.clusterHide()),l._group._featureGroup.addLayer(d))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,o,s,l){var c,d;this._recursively(a,o-1,s-1,function(h){for(d=h._markers.length-1;d>=0;d--)c=h._markers[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(h){for(d=h._childClusters.length-1;d>=0;d--)c=h._childClusters[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(a,o,s,l,c){var d=this._childClusters,h=this._zoom,g,y;if(o<=h&&(l&&l(this),c&&h===s&&c(this)),h<o||h<s)for(g=d.length-1;g>=0;g--)y=d[g],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,o,s,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],g=L.Util.stamp(a);this._objectPoint[g]=o,h.push(a)},updateObject:function(a,o){this.removeObject(a),this.addObject(a,o)},removeObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],g,y;for(delete this._objectPoint[L.Util.stamp(a)],g=0,y=h.length;g<y;g++)if(h[g]===a)return h.splice(g,1),y===1&&delete d[s],!0},eachObject:function(a,o){var s,l,c,d,h,g,y,v=this._grid;for(s in v){h=v[s];for(l in h)for(g=h[l],c=0,d=g.length;c<d;c++)y=a.call(o,g[c]),y&&(c--,d--)}},getNearObject:function(a){var o=this._getCoord(a.x),s=this._getCoord(a.y),l,c,d,h,g,y,v,_,S=this._objectPoint,w=this._sqCellSize,x=null;for(l=s-1;l<=s+1;l++)if(h=this._grid[l],h){for(c=o-1;c<=o+1;c++)if(g=h[c],g)for(d=0,y=g.length;d<y;d++)v=g[d],_=this._sqDist(S[L.Util.stamp(v)],a),(_<w||_<=w&&x===null)&&(w=_,x=v)}return x},_getCoord:function(a){var o=Math.floor(a/this._cellSize);return isFinite(o)?o:a},_sqDist:function(a,o){var s=o.x-a.x,l=o.y-a.y;return s*s+l*l}},function(){L.QuickHull={getDistant:function(a,o){var s=o[1].lat-o[0].lat,l=o[0].lng-o[1].lng;return l*(a.lat-o[0].lat)+s*(a.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(a,o){var s=0,l=null,c=[],d,h,g;for(d=o.length-1;d>=0;d--){if(h=o[d],g=this.getDistant(h,a),g>0)c.push(h);else continue;g>s&&(s=g,l=h)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(a,o){var s=[],l=this.findMostDistantPointFromBaseLine(a,o);return l.maxPoint?(s=s.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),s=s.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),s):[a[0]]},getConvexHull:function(a){var o=!1,s=!1,l=!1,c=!1,d=null,h=null,g=null,y=null,v=null,_=null,S;for(S=a.length-1;S>=0;S--){var w=a[S];(o===!1||w.lat>o)&&(d=w,o=w.lat),(s===!1||w.lat<s)&&(h=w,s=w.lat),(l===!1||w.lng>l)&&(g=w,l=w.lng),(c===!1||w.lng<c)&&(y=w,c=w.lng)}s!==o?(_=h,v=d):(_=y,v=g);var x=[].concat(this.buildConvexHull([_,v],a),this.buildConvexHull([v,_],a));return x}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),o=[],s,l;for(l=a.length-1;l>=0;l--)s=a[l].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,l=s.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(a.length,l):(l.y+=10,c=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,c)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=s/this._2PI,c=this._2PI/a,d=[],h,g;for(l=Math.max(l,35),d.length=a,h=0;h<a;h++)g=this._circleStartAngle+h*c,d[h]=new L.Point(o.x+l*Math.cos(g),o.y+l*Math.sin(g))._round();return d},_generatePointsSpiral:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier,l=s*this._spiralLengthStart,c=s*this._spiralFootSeparation,d=s*this._spiralLengthFactor*this._2PI,h=0,g=[],y;for(g.length=a,y=a;y>=0;y--)y<a&&(g[y]=new L.Point(o.x+l*Math.cos(h),o.y+l*Math.sin(h))._round()),h+=c/l+y*5e-4,l+=d/h;return g},_noanimationUnspiderfy:function(){var a=this._group,o=a._map,s=a._featureGroup,l=this.getAllChildMarkers(null,!0),c,d;for(a._ignoreMove=!0,this.setOpacity(1),d=l.length-1;d>=0;d--)c=l[d],s.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(o.removeLayer(c._spiderLeg),delete c._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,o){var s=this._group,l=s._map,c=s._featureGroup,d=this._group.options.spiderLegPolylineOptions,h,g,y,v;for(s._ignoreMove=!0,h=0;h<a.length;h++)v=l.layerPointToLatLng(o[h]),g=a[h],y=new L.Polyline([this._latlng,v],d),l.addLayer(y),g._spiderLeg=y,g._preSpiderfyLatlng=g._latlng,g.setLatLng(v),g.setZIndexOffset&&g.setZIndexOffset(1e6),c.addLayer(g);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,o){var s=this,l=this._group,c=l._map,d=l._featureGroup,h=this._latlng,g=c.latLngToLayerPoint(h),y=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),_=v.opacity,S,w,x,R,P,O;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=_,l._ignoreMove=!0,S=0;S<a.length;S++)w=a[S],O=c.layerPointToLatLng(o[S]),x=new L.Polyline([h,O],v),c.addLayer(x),w._spiderLeg=x,y&&(R=x._path,P=R.getTotalLength()+.1,R.style.strokeDasharray=P,R.style.strokeDashoffset=P),w.setZIndexOffset&&w.setZIndexOffset(1e6),w.clusterHide&&w.clusterHide(),d.addLayer(w),w._setPos&&w._setPos(g);for(l._forceLayout(),l._animationStart(),S=a.length-1;S>=0;S--)O=c.layerPointToLatLng(o[S]),w=a[S],w._preSpiderfyLatlng=w._latlng,w.setLatLng(O),w.clusterShow&&w.clusterShow(),y&&(x=w._spiderLeg,R=x._path,R.style.strokeDashoffset=0,x.setStyle({opacity:_}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:s,markers:a})},200)},_animationUnspiderfy:function(a){var o=this,s=this._group,l=s._map,c=s._featureGroup,d=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),g=L.Path.SVG,y,v,_,S,w,x;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),v=h.length-1;v>=0;v--)y=h[v],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,x=!0,y._setPos&&(y._setPos(d),x=!1),y.clusterHide&&(y.clusterHide(),x=!1),x&&c.removeLayer(y),g&&(_=y._spiderLeg,S=_._path,w=S.getTotalLength()+.1,S.style.strokeDashoffset=w,_.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var R=0;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&R++;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),R>1&&c.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:h})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var o,s;for(o in a)for(s=a[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(a){var o,s;for(o in a)s=a[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(a,o){var s=this.options.icon;return L.setOptions(s,a),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(Im,Im.exports)),Im.exports}DNe();function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}var kNe=["children"];function hU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(n),!0).forEach(function(r){NNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NNe(e,t,n){return(t=FNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FNe(e){var t=jNe(e,"string");return hy(t)=="symbol"?t:t+""}function jNe(e,t){if(hy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gU(e,t){return qNe(e)||UNe(e,t)||BNe(e,t)||$Ne()}function $Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BNe(e,t){if(e){if(typeof e=="string")return mU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mU(e,t):void 0}}function mU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function UNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function qNe(e){if(Array.isArray(e))return e}function zNe(e,t){if(e==null)return{};var n,r,i=HNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}kP.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});kP.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function VNe(e,t){e.children;var n=zNe(e,kNe),r={},i={};Object.entries(n).forEach(function(o){var s=gU(o,2),l=s[0],c=s[1];return l.startsWith("on")?i[l]=c:r[l]=c});var a=new kP.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var s=gU(o,2),l=s[0],c=s[1],d="cluster".concat(l.substring(2).toLowerCase());a.on(d,c)}),{instance:a,context:pU(pU({},t),{},{layerContainer:a})}}var KNe=qke(VNe);const GNe=({accommodationId:e})=>{var d;const{communityId:t}=Nn(),{quads:n,variables:r,isLoading:i}=wa(V.useMemo(()=>({query:i_e,variables:{offer:[e]},fetch:ar}),[e])),[a,,o,,s]=ns(((d=r.person)==null?void 0:d[0])??"",t),l=V.useMemo(()=>Tr.createLdoDataset(n).usingType(Eb).fromSubject(e),[e,n]),c=V.useMemo(()=>{var _,S,w;if(!l)return{};const h=(_=l.location)==null?void 0:_.lat,g=(S=l.location)==null?void 0:S.long;return{accommodation:{id:l["@id"]??"",description:Cb(l,"description"),location:{lat:h,long:g},offeredBy:((w=l.offeredBy)==null?void 0:w["@id"])??""},person:a??s}},[s,l,a]);return V.useMemo(()=>[c,{isLoading:i,isProfileLoading:o}],[c,i,o])},WNe="_container_5yist_1",QNe="_person_5yist_6",ZNe="_name_5yist_11",JNe="_accommodation_5yist_14",A0={container:WNe,person:QNe,name:ZNe,accommodation:JNe},XNe=({accommodationId:e})=>{const{webId:t}=vi(),n=$r(Lo),[{accommodation:r,person:i}]=GNe({accommodationId:e}),a=t&&(r==null?void 0:r.offeredBy)&&t!==r.offeredBy;return U.jsxs("div",{className:A0.container,children:[r?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:A0.person,children:U.jsxs(Qo,{to:`/profile/${encodeURIComponent(r.offeredBy)}`,style:{display:"contents"},children:[U.jsx(ob,{...i,size:1.5,square:!0}),U.jsx("span",{className:A0.name,"data-cy":"accommodation-info-name",children:i==null?void 0:i.name})]})}),U.jsx(eI,{text:r.description,locale:n,as:"div",className:A0.accommodation,"data-cy":"accommodation-info-description"})]}):U.jsx(Oo,{children:U.jsx(wt,{id:"Z3FXyt"})}),a?U.jsx(xf,{primary:!0,to:`/messages/${encodeURIComponent(r.offeredBy)}`,children:U.jsx(wt,{id:"eWlz27"})}):null]})},YNe="_container_19njf_1",e3e="_offerOverlay_19njf_18",t3e="_closeButton_19njf_28",n3e="_mapContainer_19njf_34",P0={container:YNe,offerOverlay:e3e,closeButton:t3e,mapContainer:n3e},r3e=()=>{const{i18n:e,_:t}=Ur(),{communityId:n,tileServer:r}=Nn(),[i,a]=iX(),o=i.get("hosting"),[s,l]=V.useState(),[c,d]=INe(n,s),h=y=>{a({hosting:y})},g=V.useCallback((y,v)=>l(_=>Rz(_,v)?_:v),[]);return U.jsxs(U.Fragment,{children:[d&&U.jsx(ONe,{}),U.jsxs("div",{className:P0.container,children:[o&&U.jsxs("div",{className:P0.offerOverlay,children:[U.jsx("button",{onClick:()=>{a({})},className:P0.closeButton,"aria-label":e._({id:"C++TGh"}),children:U.jsx(_w,{})}),U.jsx(XNe,{accommodationId:o})]}),U.jsxs(JL,{className:P0.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[U.jsx(YL,{url:r}),U.jsx(hW,{strings:{title:e._({id:"v5eALp"})},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),U.jsx(KNe,{maxClusterRadius:20,children:c?c.map(y=>{var _,S;const v=((_=y.offeredBy)==null?void 0:_.name)||((S=y.offeredBy)==null?void 0:S.id);return U.jsx(XL,{position:[y.location.lat,y.location.long],eventHandlers:{click:()=>{h(y.id)}},icon:y.id===o?SX:xX("geohash-"+dy.encode(y.location.lat,y.location.long,10)),alt:e._({id:"hHo0hg",values:{offeredByIdentifier:v}})},y.id)}):null}),U.jsx(pW,{onUpdate:g})]})]})]})},i3e=({webId:e,className:t})=>{const{communityId:n}=Nn(),[r]=ns(e,n);return U.jsx(ob,{photo:r.photo,square:!0,size:1.25,className:t})},a3e="_threadList_1lsy0_1",o3e="_thread_1lsy0_1",s3e="_unread_1lsy0_14",u3e="_content_1lsy0_14",l3e="_avatar_1lsy0_17",Wd={threadList:a3e,thread:o3e,unread:s3e,content:u3e,avatar:l3e},c3e=()=>{const e=vi(),{data:t}=p0e(e.webId??"");return t?U.jsxs("div",{children:[U.jsx("h1",{children:U.jsx(wt,{id:"EnJuK0"})}),U.jsx("ul",{className:Wd.threadList,children:t.map(n=>U.jsx("li",{"data-cy":"thread-list-item",children:U.jsx(f3e,{thread:n})},n.id))})]}):U.jsx(Oo,{children:U.jsx(wt,{id:"Z3FXyt"})})},f3e=({thread:e})=>{const{i18n:t,_:n}=Ur(),{communityId:r}=Nn(),i=vi(),a=e.participants.find(c=>c!==i.webId),[o]=ns(a??"",r),s=e.messages[e.messages.length-1],l=o.name||a;return U.jsx(Qo,{to:`/messages/${encodeURIComponent(a)}`,"aria-label":t._({id:"wRoTH5",values:{personLabel:l}}),children:U.jsxs("div",{className:Ar(Wd.thread,e.status&&Wd.unread),"data-cy":e.status&&"thread-unread",children:[U.jsx(i3e,{webId:a??"",className:Wd.avatar}),U.jsxs("div",{children:[U.jsx("div",{className:Wd.name,title:o.id,children:o.name}),U.jsx("div",{className:Wd.content,title:s==null?void 0:s.message,children:s==null?void 0:s.message})]})]})})},d3e=()=>U.jsx(eW,{tabs:[],children:U.jsx(Ww,{})}),h3e=()=>U.jsx(DP,{to:"search",replace:!0}),p3e=XJ([{path:"/",element:U.jsx(Cxe,{}),children:[{path:"/",element:U.jsx(dPe,{}),children:[{index:!0,element:U.jsx(YDe,{})},{path:"profile",children:[{index:!0,element:U.jsx(TNe,{})},{path:"edit",element:U.jsx(QDe,{})},{path:":id",element:U.jsx(CNe,{})},{path:":id/contacts",element:U.jsx(TPe,{})}]},{path:"messages",children:[{index:!0,element:U.jsx(c3e,{})},{path:":id",element:U.jsx(Oke,{})}]},{path:"host",element:U.jsx(tke,{}),children:[{index:!0,element:U.jsx(nke,{})},{path:"offers",element:U.jsx(vNe,{})}]},{path:"travel",element:U.jsx(d3e,{}),children:[{index:!0,element:U.jsx(h3e,{})},{path:"search",element:U.jsx(r3e,{})}]}]},{path:"about",element:U.jsx(FTe,{})},{path:"*",element:U.jsx(_Ne,{})}]}]),g3e=new WQ({defaultOptions:{queries:{retry:1}}}),m3e=cZ.createRoot(document.getElementById("root"));m3e.render(U.jsx(Ot.StrictMode,{children:U.jsx(CZ,{store:Kq,children:U.jsx(gq,{loading:null,persistor:wee,children:U.jsx(tZ,{client:g3e,children:U.jsx(DY,{children:U.jsx(zJ,{router:p3e})})})})})}));
