var xV=Object.defineProperty;var pL=t=>{throw TypeError(t)};var EV=(t,e,n)=>e in t?xV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d1=(t,e,n)=>EV(t,typeof e!="symbol"?e+"":e,n),h1=(t,e,n)=>e.has(t)||pL("Cannot "+n);var Qe=(t,e,n)=>(h1(t,e,"read from private field"),n?n.call(t):e.get(t)),Jt=(t,e,n)=>e.has(t)?pL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Mt=(t,e,n,r)=>(h1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ln=(t,e,n)=>(h1(t,e,"access private method"),n);var Qy=(t,e,n,r)=>({set _(i){Mt(t,e,i,n)},get _(){return Qe(t,e,r)}});function TV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var _g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function q5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var p1={exports:{}},ap={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL;function CV(){if(gL)return ap;gL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return ap.Fragment=e,ap.jsx=n,ap.jsxs=n,ap}var mL;function AV(){return mL||(mL=1,p1.exports=CV()),p1.exports}var ne=AV(),ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vc=typeof window>"u"||"Deno"in globalThis;function so(){}function RV(t,e){return typeof t=="function"?t(e):t}function pC(t){return typeof t=="number"&&t>=0&&t!==1/0}function z5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ud(t,e){return typeof t=="function"?t(e):t}function Ro(t,e){return typeof t=="function"?t(e):t}function yL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(r){if(e.queryHash!==DA(o,e.options))return!1}else if(!Hg(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function vL(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Kc(e.options.mutationKey)!==Kc(a))return!1}else if(!Hg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function DA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kc)(t)}function Kc(t){return JSON.stringify(t,(e,n)=>gC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Hg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hg(t[n],e[n])):!1}function kA(t,e){if(t===e)return t;const n=_L(t)&&_L(e);if(n||gC(t)&&gC(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,s=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:a[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(s[h]=void 0,l++):(s[h]=kA(t[h],e[h]),s[h]===t[h]&&t[h]!==void 0&&l++)}return i===o&&l===i?t:s}return e}function H_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function _L(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gC(t){if(!wL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wL(t){return Object.prototype.toString.call(t)==="[object Object]"}function PV(t){return new Promise(e=>{setTimeout(e,t)})}function mC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?kA(t,e):e}function OV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function IV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var H5=Symbol();function V5(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===H5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Mc,dl,yd,O5,LV=(O5=class extends ef{constructor(){super();Jt(this,Mc);Jt(this,dl);Jt(this,yd);Mt(this,yd,e=>{if(!Vc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,dl)||this.setEventListener(Qe(this,yd))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,dl))==null||e.call(this),Mt(this,dl,void 0))}setEventListener(e){var n;Mt(this,yd,e),(n=Qe(this,dl))==null||n.call(this),Mt(this,dl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Qe(this,Mc)!==e&&(Mt(this,Mc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Qe(this,Mc)=="boolean"?Qe(this,Mc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Mc=new WeakMap,dl=new WeakMap,yd=new WeakMap,O5),NA=new LV,vd,hl,_d,I5,MV=(I5=class extends ef{constructor(){super();Jt(this,vd,!0);Jt(this,hl);Jt(this,_d);Mt(this,_d,e=>{if(!Vc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,hl)||this.setEventListener(Qe(this,_d))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,hl))==null||e.call(this),Mt(this,hl,void 0))}setEventListener(e){var n;Mt(this,_d,e),(n=Qe(this,hl))==null||n.call(this),Mt(this,hl,e(this.setOnline.bind(this)))}setOnline(e){Qe(this,vd)!==e&&(Mt(this,vd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Qe(this,vd)}},vd=new WeakMap,hl=new WeakMap,_d=new WeakMap,I5),V_=new MV;function yC(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function DV(t){return Math.min(1e3*2**t,3e4)}function K5(t){return(t??"online")==="online"?V_.isOnline():!0}var G5=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function g1(t){return t instanceof G5}function W5(t){let e=!1,n=0,r=!1,i;const a=yC(),o=w=>{var S;r||(m(new G5(w)),(S=t.abort)==null||S.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>NA.isFocused()&&(t.networkMode==="always"||V_.isOnline())&&t.canRun(),h=()=>K5(t.networkMode)&&t.canRun(),p=w=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,w),i==null||i(),a.resolve(w))},m=w=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,w),i==null||i(),a.reject(w))},y=()=>new Promise(w=>{var S;i=x=>{(r||c())&&w(x)},(S=t.onPause)==null||S.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(r)return;let w;const S=n===0?t.initialPromise:void 0;try{w=S??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(p).catch(x=>{var D;if(r)return;const E=t.retry??(Vc?0:3),A=t.retryDelay??DV,I=typeof A=="function"?A(n,x):A,M=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,x);if(e||!M){m(x);return}n++,(D=t.onFail)==null||D.call(t,n,x),PV(I).then(()=>c()?void 0:y()).then(()=>{e?m(x):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:h,start:()=>(h()?v():y().then(v),a)}}function kV(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Ur=kV(),Dc,L5,Q5=(L5=class{constructor(){Jt(this,Dc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pC(this.gcTime)&&Mt(this,Dc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vc?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,Dc)&&(clearTimeout(Qe(this,Dc)),Mt(this,Dc,void 0))}},Dc=new WeakMap,L5),wd,bd,oo,$i,gm,kc,Co,tu,M5,NV=(M5=class extends Q5{constructor(e){super();Jt(this,Co);Jt(this,wd);Jt(this,bd);Jt(this,oo);Jt(this,$i);Jt(this,gm);Jt(this,kc);Mt(this,kc,!1),Mt(this,gm,e.defaultOptions),this.setOptions(e.options),this.observers=[],Mt(this,oo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Mt(this,wd,FV(this.options)),this.state=e.state??Qe(this,wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Qe(this,$i))==null?void 0:e.promise}setOptions(e){this.options={...Qe(this,gm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,oo).remove(this)}setData(e,n){const r=mC(this.state.data,e,this.options);return ln(this,Co,tu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ln(this,Co,tu).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Qe(this,$i))==null?void 0:r.promise;return(i=Qe(this,$i))==null||i.cancel(e),n?n.then(so).catch(so):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,wd))}isActive(){return this.observers.some(e=>Ro(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!z5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,$i))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,$i))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Qe(this,oo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Qe(this,$i)&&(Qe(this,kc)?Qe(this,$i).cancel({revert:!0}):Qe(this,$i).cancelRetry()),this.scheduleGc()),Qe(this,oo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,Co,tu).call(this,{type:"invalidate"})}fetch(e,n){var l,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,$i))return Qe(this,$i).continueRetry(),Qe(this,$i).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Mt(this,kc,!0),r.signal)})},a=()=>{const p=V5(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),Mt(this,kc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Mt(this,bd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&ln(this,Co,tu).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const s=p=>{var m,y,v,w;g1(p)&&p.silent||ln(this,Co,tu).call(this,{type:"error",error:p}),g1(p)||((y=(m=Qe(this,oo).config).onError)==null||y.call(m,p,this),(w=(v=Qe(this,oo).config).onSettled)==null||w.call(v,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Mt(this,$i,W5({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,v,w;if(p===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){s(S);return}(y=(m=Qe(this,oo).config).onSuccess)==null||y.call(m,p,this),(w=(v=Qe(this,oo).config).onSettled)==null||w.call(v,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(p,m)=>{ln(this,Co,tu).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ln(this,Co,tu).call(this,{type:"pause"})},onContinue:()=>{ln(this,Co,tu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Qe(this,$i).start()}},wd=new WeakMap,bd=new WeakMap,oo=new WeakMap,$i=new WeakMap,gm=new WeakMap,kc=new WeakMap,Co=new WeakSet,tu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Z5(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return g1(i)&&i.revert&&Qe(this,bd)?{...Qe(this,bd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ur.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,oo).notify({query:this,type:"updated",action:e})})},M5);function Z5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ns,D5,jV=(D5=class extends ef{constructor(e={}){super();Jt(this,ns);this.config=e,Mt(this,ns,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??DA(i,n);let o=this.get(a);return o||(o=new NV({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Qe(this,ns).has(e.queryHash)||(Qe(this,ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Qe(this,ns).get(e.queryHash);n&&(e.destroy(),n===e&&Qe(this,ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Qe(this,ns).get(e)}getAll(){return[...Qe(this,ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yL(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>yL(e,r)):n}notify(e){Ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ns=new WeakMap,D5),rs,na,Nc,is,il,k5,$V=(k5=class extends Q5{constructor(e){super();Jt(this,is);Jt(this,rs);Jt(this,na);Jt(this,Nc);this.mutationId=e.mutationId,Mt(this,na,e.mutationCache),Mt(this,rs,[]),this.state=e.state||J5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Qe(this,rs).includes(e)||(Qe(this,rs).push(e),this.clearGcTimeout(),Qe(this,na).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Mt(this,rs,Qe(this,rs).filter(n=>n!==e)),this.scheduleGc(),Qe(this,na).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Qe(this,rs).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,na).remove(this))}continue(){var e;return((e=Qe(this,Nc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,s,l,c,h,p,m,y,v,w,S,x,E,A,I,M,D,F;Mt(this,Nc,W5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Q,Y)=>{ln(this,is,il).call(this,{type:"failed",failureCount:Q,error:Y})},onPause:()=>{ln(this,is,il).call(this,{type:"pause"})},onContinue:()=>{ln(this,is,il).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,na).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,Nc).canStart();try{if(!n){ln(this,is,il).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=Qe(this,na).config).onMutate)==null?void 0:a.call(i,e,this));const Y=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,e));Y!==this.state.context&&ln(this,is,il).call(this,{type:"pending",context:Y,variables:e,isPaused:r})}const Q=await Qe(this,Nc).start();return await((c=(l=Qe(this,na).config).onSuccess)==null?void 0:c.call(l,Q,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,Q,e,this.state.context)),await((y=(m=Qe(this,na).config).onSettled)==null?void 0:y.call(m,Q,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,Q,null,e,this.state.context)),ln(this,is,il).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((x=(S=Qe(this,na).config).onError)==null?void 0:x.call(S,Q,e,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,Q,e,this.state.context)),await((M=(I=Qe(this,na).config).onSettled)==null?void 0:M.call(I,void 0,Q,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,Q,e,this.state.context)),Q}finally{ln(this,is,il).call(this,{type:"error",error:Q})}}finally{Qe(this,na).runNext(this)}}},rs=new WeakMap,na=new WeakMap,Nc=new WeakMap,is=new WeakSet,il=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ur.batch(()=>{Qe(this,rs).forEach(r=>{r.onMutationUpdate(e)}),Qe(this,na).notify({mutation:this,type:"updated",action:e})})},k5);function J5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fa,mm,N5,UV=(N5=class extends ef{constructor(e={}){super();Jt(this,Fa);Jt(this,mm);this.config=e,Mt(this,Fa,new Map),Mt(this,mm,Date.now())}build(e,n,r){const i=new $V({mutationCache:this,mutationId:++Qy(this,mm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Zy(e),r=Qe(this,Fa).get(n)??[];r.push(e),Qe(this,Fa).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zy(e);if(Qe(this,Fa).has(n)){const i=(r=Qe(this,Fa).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?Qe(this,Fa).delete(n):Qe(this,Fa).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Qe(this,Fa).get(Zy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Qe(this,Fa).get(Zy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Qe(this,Fa).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vL(n,r))}findAll(e={}){return this.getAll().filter(n=>vL(e,n))}notify(e){Ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(so))))}},Fa=new WeakMap,mm=new WeakMap,N5);function Zy(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function bL(t){return{onFetch:(e,n)=>{var h,p,m,y,v;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const S=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=V5(e.options,e.fetchOptions),E=async(A,I,M)=>{if(w)return Promise.reject();if(I==null&&A.pages.length)return Promise.resolve(A);const D={queryKey:e.queryKey,pageParam:I,direction:M?"backward":"forward",meta:e.options.meta};S(D);const F=await x(D),{maxPages:Q}=e.options,Y=M?IV:OV;return{pages:Y(A.pages,F,Q),pageParams:Y(A.pageParams,I,Q)}};if(i&&a.length){const A=i==="backward",I=A?BV:SL,M={pages:a,pageParams:o},D=I(r,M);s=await E(M,D,A)}else{const A=t??a.length;do{const I=l===0?o[0]??r.initialPageParam:SL(r,s);if(l>0&&I==null)break;s=await E(s,I),l++}while(l<A)}return s};e.options.persister?e.fetchFn=()=>{var w,S;return(S=(w=e.options).persister)==null?void 0:S.call(w,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function SL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function BV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var $r,pl,gl,Sd,xd,ml,Ed,Td,F5,qV=(F5=class{constructor(t={}){Jt(this,$r);Jt(this,pl);Jt(this,gl);Jt(this,Sd);Jt(this,xd);Jt(this,ml);Jt(this,Ed);Jt(this,Td);Mt(this,$r,t.queryCache||new jV),Mt(this,pl,t.mutationCache||new UV),Mt(this,gl,t.defaultOptions||{}),Mt(this,Sd,new Map),Mt(this,xd,new Map),Mt(this,ml,0)}mount(){Qy(this,ml)._++,Qe(this,ml)===1&&(Mt(this,Ed,NA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,$r).onFocus())})),Mt(this,Td,V_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,$r).onOnline())})))}unmount(){var t,e;Qy(this,ml)._--,Qe(this,ml)===0&&((t=Qe(this,Ed))==null||t.call(this),Mt(this,Ed,void 0),(e=Qe(this,Td))==null||e.call(this),Mt(this,Td,void 0))}isFetching(t){return Qe(this,$r).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Qe(this,pl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,$r).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Qe(this,$r).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ud(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Qe(this,$r).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Qe(this,$r).get(r.queryHash),a=i==null?void 0:i.state.data,o=RV(e,a);if(o!==void 0)return Qe(this,$r).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ur.batch(()=>Qe(this,$r).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,$r).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Qe(this,$r);Ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Qe(this,$r),r={type:"active",...t};return Ur.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ur.batch(()=>Qe(this,$r).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(so).catch(so)}invalidateQueries(t={},e={}){return Ur.batch(()=>{if(Qe(this,$r).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ur.batch(()=>Qe(this,$r).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(so)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(so)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Qe(this,$r).build(this,e);return n.isStaleByTime(ud(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(so).catch(so)}fetchInfiniteQuery(t){return t.behavior=bL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(so).catch(so)}ensureInfiniteQueryData(t){return t.behavior=bL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return V_.isOnline()?Qe(this,pl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,$r)}getMutationCache(){return Qe(this,pl)}getDefaultOptions(){return Qe(this,gl)}setDefaultOptions(t){Mt(this,gl,t)}setQueryDefaults(t,e){Qe(this,Sd).set(Kc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Qe(this,Sd).values()];let n={};return e.forEach(r=>{Hg(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Qe(this,xd).set(Kc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Qe(this,xd).values()];let n={};return e.forEach(r=>{Hg(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Qe(this,gl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=DA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===H5&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Qe(this,gl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Qe(this,$r).clear(),Qe(this,pl).clear()}},$r=new WeakMap,pl=new WeakMap,gl=new WeakMap,Sd=new WeakMap,xd=new WeakMap,ml=new WeakMap,Ed=new WeakMap,Td=new WeakMap,F5),_a,Fn,ym,ra,Fc,Cd,yl,as,vm,Ad,Rd,jc,$c,vl,Pd,tr,wg,vC,_C,wC,bC,SC,xC,EC,Y5,j5,FA=(j5=class extends ef{constructor(e,n){super();Jt(this,tr);Jt(this,_a);Jt(this,Fn);Jt(this,ym);Jt(this,ra);Jt(this,Fc);Jt(this,Cd);Jt(this,yl);Jt(this,as);Jt(this,vm);Jt(this,Ad);Jt(this,Rd);Jt(this,jc);Jt(this,$c);Jt(this,vl);Jt(this,Pd,new Set);this.options=n,Mt(this,_a,e),Mt(this,as,null),Mt(this,yl,yC()),this.options.experimental_prefetchInRender||Qe(this,yl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,Fn).addObserver(this),xL(Qe(this,Fn),this.options)?ln(this,tr,wg).call(this):this.updateResult(),ln(this,tr,bC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TC(Qe(this,Fn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TC(Qe(this,Fn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ln(this,tr,SC).call(this),ln(this,tr,xC).call(this),Qe(this,Fn).removeObserver(this)}setOptions(e,n){const r=this.options,i=Qe(this,Fn);if(this.options=Qe(this,_a).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ro(this.options.enabled,Qe(this,Fn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ln(this,tr,EC).call(this),Qe(this,Fn).setOptions(this.options),r._defaulted&&!H_(this.options,r)&&Qe(this,_a).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,Fn),observer:this});const a=this.hasListeners();a&&EL(Qe(this,Fn),i,this.options,r)&&ln(this,tr,wg).call(this),this.updateResult(n),a&&(Qe(this,Fn)!==i||Ro(this.options.enabled,Qe(this,Fn))!==Ro(r.enabled,Qe(this,Fn))||ud(this.options.staleTime,Qe(this,Fn))!==ud(r.staleTime,Qe(this,Fn)))&&ln(this,tr,vC).call(this);const o=ln(this,tr,_C).call(this);a&&(Qe(this,Fn)!==i||Ro(this.options.enabled,Qe(this,Fn))!==Ro(r.enabled,Qe(this,Fn))||o!==Qe(this,vl))&&ln(this,tr,wC).call(this,o)}getOptimisticResult(e){const n=Qe(this,_a).getQueryCache().build(Qe(this,_a),e),r=this.createResult(n,e);return HV(this,r)&&(Mt(this,ra,r),Mt(this,Cd,this.options),Mt(this,Fc,Qe(this,Fn).state)),r}getCurrentResult(){return Qe(this,ra)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){Qe(this,Pd).add(e)}getCurrentQuery(){return Qe(this,Fn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Qe(this,_a).defaultQueryOptions(e),r=Qe(this,_a).getQueryCache().build(Qe(this,_a),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ln(this,tr,wg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,ra)))}createResult(e,n){var F;const r=Qe(this,Fn),i=this.options,a=Qe(this,ra),o=Qe(this,Fc),s=Qe(this,Cd),c=e!==r?e.state:Qe(this,ym),{state:h}=e;let p={...h},m=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),Y=!Q&&xL(e,n),B=Q&&EL(e,r,n,i);(Y||B)&&(p={...p,...Z5(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:S}=p;if(n.select&&p.data!==void 0)if(a&&p.data===(o==null?void 0:o.data)&&n.select===Qe(this,vm))y=Qe(this,Ad);else try{Mt(this,vm,n.select),y=n.select(p.data),y=mC(a==null?void 0:a.data,y,n),Mt(this,Ad,y),Mt(this,as,null)}catch(Q){Mt(this,as,Q)}else y=p.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((F=Qe(this,Rd))==null?void 0:F.state.data,Qe(this,Rd)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),Mt(this,as,null)}catch(Y){Mt(this,as,Y)}Q!==void 0&&(S="success",y=mC(a==null?void 0:a.data,Q,n),m=!0)}Qe(this,as)&&(v=Qe(this,as),y=Qe(this,Ad),w=Date.now(),S="error");const x=p.fetchStatus==="fetching",E=S==="pending",A=S==="error",I=E&&x,M=y!==void 0;return{status:S,fetchStatus:p.fetchStatus,isPending:E,isSuccess:S==="success",isError:A,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:A&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&M,isStale:jA(e,n),refetch:this.refetch,promise:Qe(this,yl)}}updateResult(e){const n=Qe(this,ra),r=this.createResult(Qe(this,Fn),this.options);if(Mt(this,Fc,Qe(this,Fn).state),Mt(this,Cd,this.options),Qe(this,Fc).data!==void 0&&Mt(this,Rd,Qe(this,Fn)),H_(r,n))return;if(this.options.experimental_prefetchInRender){const o=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},s=()=>{const c=Mt(this,yl,r.promise=yC());o(c)},l=Qe(this,yl);switch(l.status){case"pending":o(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&s();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&s();break}}Mt(this,ra,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!Qe(this,Pd).size)return!0;const l=new Set(s??Qe(this,Pd));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,ra)).some(c=>{const h=c;return Qe(this,ra)[h]!==n[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),ln(this,tr,Y5).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ln(this,tr,bC).call(this)}},_a=new WeakMap,Fn=new WeakMap,ym=new WeakMap,ra=new WeakMap,Fc=new WeakMap,Cd=new WeakMap,yl=new WeakMap,as=new WeakMap,vm=new WeakMap,Ad=new WeakMap,Rd=new WeakMap,jc=new WeakMap,$c=new WeakMap,vl=new WeakMap,Pd=new WeakMap,tr=new WeakSet,wg=function(e){ln(this,tr,EC).call(this);let n=Qe(this,Fn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(so)),n},vC=function(){ln(this,tr,SC).call(this);const e=ud(this.options.staleTime,Qe(this,Fn));if(Vc||Qe(this,ra).isStale||!pC(e))return;const r=z5(Qe(this,ra).dataUpdatedAt,e)+1;Mt(this,jc,setTimeout(()=>{Qe(this,ra).isStale||this.updateResult()},r))},_C=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,Fn)):this.options.refetchInterval)??!1},wC=function(e){ln(this,tr,xC).call(this),Mt(this,vl,e),!(Vc||Ro(this.options.enabled,Qe(this,Fn))===!1||!pC(Qe(this,vl))||Qe(this,vl)===0)&&Mt(this,$c,setInterval(()=>{(this.options.refetchIntervalInBackground||NA.isFocused())&&ln(this,tr,wg).call(this)},Qe(this,vl)))},bC=function(){ln(this,tr,vC).call(this),ln(this,tr,wC).call(this,ln(this,tr,_C).call(this))},SC=function(){Qe(this,jc)&&(clearTimeout(Qe(this,jc)),Mt(this,jc,void 0))},xC=function(){Qe(this,$c)&&(clearInterval(Qe(this,$c)),Mt(this,$c,void 0))},EC=function(){const e=Qe(this,_a).getQueryCache().build(Qe(this,_a),this.options);if(e===Qe(this,Fn))return;const n=Qe(this,Fn);Mt(this,Fn,e),Mt(this,ym,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Y5=function(e){Ur.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Qe(this,ra))}),Qe(this,_a).getQueryCache().notify({query:Qe(this,Fn),type:"observerResultsUpdated"})})},j5);function zV(t,e){return Ro(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xL(t,e){return zV(t,e)||t.state.data!==void 0&&TC(t,e,e.refetchOnMount)}function TC(t,e,n){if(Ro(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&jA(t,e)}return!1}function EL(t,e,n,r){return(t!==e||Ro(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&jA(t,n)}function jA(t,e){return Ro(e.enabled,t)!==!1&&t.isStaleByTime(ud(e.staleTime,t))}function HV(t,e){return!H_(t.getCurrentResult(),e)}function TL(t,e){return t.filter(n=>!e.includes(n))}function VV(t,e,n){const r=t.slice(0);return r[e]=n,r}var Uc,Ao,Od,ja,Bc,_m,wm,Ka,X5,CC,AC,RC,$5,KV=($5=class extends ef{constructor(e,n,r){super();Jt(this,Ka);Jt(this,Uc);Jt(this,Ao);Jt(this,Od);Jt(this,ja);Jt(this,Bc);Jt(this,_m);Jt(this,wm);Mt(this,Uc,e),Mt(this,Od,[]),Mt(this,ja,[]),Mt(this,Ao,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,ja).forEach(e=>{e.subscribe(n=>{ln(this,Ka,AC).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,ja).forEach(e=>{e.destroy()})}setQueries(e,n,r){Mt(this,Od,e),Ur.batch(()=>{const i=Qe(this,ja),a=ln(this,Ka,CC).call(this,Qe(this,Od));a.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const o=a.map(c=>c.observer),s=o.map(c=>c.getCurrentResult()),l=o.some((c,h)=>c!==i[h]);i.length===o.length&&!l||(Mt(this,ja,o),Mt(this,Ao,s),this.hasListeners()&&(TL(i,o).forEach(c=>{c.destroy()}),TL(o,i).forEach(c=>{c.subscribe(h=>{ln(this,Ka,AC).call(this,c,h)})}),ln(this,Ka,RC).call(this)))})}getCurrentResult(){return Qe(this,Ao)}getQueries(){return Qe(this,ja).map(e=>e.getCurrentQuery())}getObservers(){return Qe(this,ja)}getOptimisticResult(e,n){const r=ln(this,Ka,CC).call(this,e),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>ln(this,Ka,X5).call(this,a??i,n),()=>r.map((a,o)=>{const s=i[o];return a.defaultedQueryOptions.notifyOnChangeProps?s:a.observer.trackResult(s,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},Uc=new WeakMap,Ao=new WeakMap,Od=new WeakMap,ja=new WeakMap,Bc=new WeakMap,_m=new WeakMap,wm=new WeakMap,Ka=new WeakSet,X5=function(e,n){return n?((!Qe(this,Bc)||Qe(this,Ao)!==Qe(this,wm)||n!==Qe(this,_m))&&(Mt(this,_m,n),Mt(this,wm,Qe(this,Ao)),Mt(this,Bc,kA(Qe(this,Bc),n(e)))),Qe(this,Bc)):e},CC=function(e){const n=Qe(this,ja),r=new Map(n.map(p=>[p.options.queryHash,p])),i=e.map(p=>Qe(this,Uc).defaultQueryOptions(p)),a=i.flatMap(p=>{const m=r.get(p.queryHash);return m!=null?[{defaultedQueryOptions:p,observer:m}]:[]}),o=new Set(a.map(p=>p.defaultedQueryOptions.queryHash)),s=i.filter(p=>!o.has(p.queryHash)),l=p=>{const m=Qe(this,Uc).defaultQueryOptions(p);return Qe(this,ja).find(v=>v.options.queryHash===m.queryHash)??new FA(Qe(this,Uc),m)},c=s.map(p=>({defaultedQueryOptions:p,observer:l(p)})),h=(p,m)=>i.indexOf(p.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(c).sort(h)},AC=function(e,n){const r=Qe(this,ja).indexOf(e);r!==-1&&(Mt(this,Ao,VV(Qe(this,Ao),r,n)),ln(this,Ka,RC).call(this))},RC=function(){Ur.batch(()=>{this.listeners.forEach(e=>{e(Qe(this,Ao))})})},$5),_l,wl,wa,ru,cu,x_,PC,U5,GV=(U5=class extends ef{constructor(n,r){super();Jt(this,cu);Jt(this,_l);Jt(this,wl);Jt(this,wa);Jt(this,ru);Mt(this,_l,n),this.setOptions(r),this.bindMethods(),ln(this,cu,x_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,_l).defaultMutationOptions(n),H_(this.options,r)||Qe(this,_l).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,wa),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Kc(r.mutationKey)!==Kc(this.options.mutationKey)?this.reset():((i=Qe(this,wa))==null?void 0:i.state.status)==="pending"&&Qe(this,wa).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,wa))==null||n.removeObserver(this)}onMutationUpdate(n){ln(this,cu,x_).call(this),ln(this,cu,PC).call(this,n)}getCurrentResult(){return Qe(this,wl)}reset(){var n;(n=Qe(this,wa))==null||n.removeObserver(this),Mt(this,wa,void 0),ln(this,cu,x_).call(this),ln(this,cu,PC).call(this)}mutate(n,r){var i;return Mt(this,ru,r),(i=Qe(this,wa))==null||i.removeObserver(this),Mt(this,wa,Qe(this,_l).getMutationCache().build(Qe(this,_l),this.options)),Qe(this,wa).addObserver(this),Qe(this,wa).execute(n)}},_l=new WeakMap,wl=new WeakMap,wa=new WeakMap,ru=new WeakMap,cu=new WeakSet,x_=function(){var r;const n=((r=Qe(this,wa))==null?void 0:r.state)??J5();Mt(this,wl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},PC=function(n){Ur.batch(()=>{var r,i,a,o,s,l,c,h;if(Qe(this,ru)&&this.hasListeners()){const p=Qe(this,wl).variables,m=Qe(this,wl).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,ru)).onSuccess)==null||i.call(r,n.data,p,m),(o=(a=Qe(this,ru)).onSettled)==null||o.call(a,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((l=(s=Qe(this,ru)).onError)==null||l.call(s,n.error,p,m),(h=(c=Qe(this,ru)).onSettled)==null||h.call(c,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(Qe(this,wl))})})},U5),m1={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL;function WV(){if(CL)return wn;CL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(k,ie,me){this.props=k,this.context=ie,this.refs=w,this.updater=me||y}S.prototype.isReactComponent={},S.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function x(){}x.prototype=S.prototype;function E(k,ie,me){this.props=k,this.context=ie,this.refs=w,this.updater=me||y}var A=E.prototype=new x;A.constructor=E,v(A,S.prototype),A.isPureReactComponent=!0;var I=Array.isArray,M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(k,ie,me,H,J,pe){return me=pe.ref,{$$typeof:t,type:k,key:ie,ref:me!==void 0?me:null,props:pe}}function Q(k,ie){return F(k.type,ie,void 0,void 0,void 0,k.props)}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function B(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(me){return ie[me]})}var Z=/\/+/g;function ce(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):ie.toString(36)}function re(){}function ue(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(re,re):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ge(k,ie,me,H,J){var pe=typeof k;(pe==="undefined"||pe==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(pe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=k._init,ge(Ae(k._payload),ie,me,H,J)}}if(Ae)return J=J(k),Ae=H===""?"."+ce(k,0):H,I(J)?(me="",Ae!=null&&(me=Ae.replace(Z,"$&/")+"/"),ge(J,ie,me,"",function(Fe){return Fe})):J!=null&&(Y(J)&&(J=Q(J,me+(J.key==null||k&&k.key===J.key?"":(""+J.key).replace(Z,"$&/")+"/")+Ae)),ie.push(J)),1;Ae=0;var Je=H===""?".":H+":";if(I(k))for(var Re=0;Re<k.length;Re++)H=k[Re],pe=Je+ce(H,Re),Ae+=ge(H,ie,me,pe,J);else if(Re=m(k),typeof Re=="function")for(k=Re.call(k),Re=0;!(H=k.next()).done;)H=H.value,pe=Je+ce(H,Re++),Ae+=ge(H,ie,me,pe,J);else if(pe==="object"){if(typeof k.then=="function")return ge(ue(k),ie,me,H,J);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function _e(k,ie,me){if(k==null)return k;var H=[],J=0;return ge(k,H,"","",function(pe){return ie.call(me,pe,J++)}),H}function de(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(me){(k._status===0||k._status===-1)&&(k._status=1,k._result=me)},function(me){(k._status===0||k._status===-1)&&(k._status=2,k._result=me)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var fe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ie(){}return wn.Children={map:_e,forEach:function(k,ie,me){_e(k,function(){ie.apply(this,arguments)},me)},count:function(k){var ie=0;return _e(k,function(){ie++}),ie},toArray:function(k){return _e(k,function(ie){return ie})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wn.Component=S,wn.Fragment=n,wn.Profiler=i,wn.PureComponent=E,wn.StrictMode=r,wn.Suspense=l,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wn.act=function(){throw Error("act(...) is not supported in production builds of React.")},wn.cache=function(k){return function(){return k.apply(null,arguments)}},wn.cloneElement=function(k,ie,me){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var H=v({},k.props),J=k.key,pe=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(pe=void 0),ie.key!==void 0&&(J=""+ie.key),ie)!D.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(H[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)H.children=me;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];H.children=Je}return F(k.type,J,void 0,void 0,pe,H)},wn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},wn.createElement=function(k,ie,me){var H,J={},pe=null;if(ie!=null)for(H in ie.key!==void 0&&(pe=""+ie.key),ie)D.call(ie,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(J[H]=ie[H]);var Ae=arguments.length-2;if(Ae===1)J.children=me;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];J.children=Je}if(k&&k.defaultProps)for(H in Ae=k.defaultProps,Ae)J[H]===void 0&&(J[H]=Ae[H]);return F(k,pe,void 0,void 0,null,J)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(k){return{$$typeof:s,render:k}},wn.isValidElement=Y,wn.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:de}},wn.memo=function(k,ie){return{$$typeof:c,type:k,compare:ie===void 0?null:ie}},wn.startTransition=function(k){var ie=M.T,me={};M.T=me;try{var H=k(),J=M.S;J!==null&&J(me,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Ie,fe)}catch(pe){fe(pe)}finally{M.T=ie}},wn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wn.use=function(k){return M.H.use(k)},wn.useActionState=function(k,ie,me){return M.H.useActionState(k,ie,me)},wn.useCallback=function(k,ie){return M.H.useCallback(k,ie)},wn.useContext=function(k){return M.H.useContext(k)},wn.useDebugValue=function(){},wn.useDeferredValue=function(k,ie){return M.H.useDeferredValue(k,ie)},wn.useEffect=function(k,ie){return M.H.useEffect(k,ie)},wn.useId=function(){return M.H.useId()},wn.useImperativeHandle=function(k,ie,me){return M.H.useImperativeHandle(k,ie,me)},wn.useInsertionEffect=function(k,ie){return M.H.useInsertionEffect(k,ie)},wn.useLayoutEffect=function(k,ie){return M.H.useLayoutEffect(k,ie)},wn.useMemo=function(k,ie){return M.H.useMemo(k,ie)},wn.useOptimistic=function(k,ie){return M.H.useOptimistic(k,ie)},wn.useReducer=function(k,ie,me){return M.H.useReducer(k,ie,me)},wn.useRef=function(k){return M.H.useRef(k)},wn.useState=function(k){return M.H.useState(k)},wn.useSyncExternalStore=function(k,ie,me){return M.H.useSyncExternalStore(k,ie,me)},wn.useTransition=function(){return M.H.useTransition()},wn.version="19.0.0",wn}var AL;function qd(){return AL||(AL=1,m1.exports=WV()),m1.exports}var te=qd();const Ut=Dr(te),Id=TV({__proto__:null,default:Ut},[te]);var eU=te.createContext(void 0),vi=t=>{const e=te.useContext(eU);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QV=({client:t,children:e})=>(te.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),ne.jsx(eU.Provider,{value:t,children:e})),tU=te.createContext(!1),nU=()=>te.useContext(tU);tU.Provider;function ZV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var JV=te.createContext(ZV()),rU=()=>te.useContext(JV);function iU(t,e){return typeof t=="function"?t(...e):!!t}function aU(){}var oU=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},sU=t=>{te.useEffect(()=>{t.clearReset()},[t])},uU=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&iU(n,[t.error,r]),lU=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},cU=(t,e)=>t.isLoading&&t.isFetching&&!e,OC=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,K_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Vg({queries:t,...e},n){const r=vi(),i=nU(),a=rU(),o=te.useMemo(()=>t.map(v=>{const w=r.defaultQueryOptions(v);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[t,r,i]);o.forEach(v=>{lU(v),oU(v,a)}),sU(a);const[s]=te.useState(()=>new KV(r,o,e)),[l,c,h]=s.getOptimisticResult(o,e.combine);te.useSyncExternalStore(te.useCallback(v=>i?()=>{}:s.subscribe(Ur.batchCalls(v)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),te.useEffect(()=>{s.setQueries(o,e,{listeners:!1})},[o,e,s]);const m=l.some((v,w)=>OC(o[w],v))?l.flatMap((v,w)=>{const S=o[w];if(S){const x=new FA(r,S);if(OC(S,v))return K_(S,x,a);cU(v,i)&&K_(S,x,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=l.find((v,w)=>{const S=o[w];return S&&uU({result:v,errorResetBoundary:a,throwOnError:S.throwOnError,query:r.getQueryCache().get(S.queryHash)})});if(y!=null&&y.error)throw y.error;return c(h())}function YV(t,e,n){var h,p,m,y,v;const r=vi(),i=nU(),a=rU(),o=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",lU(o),oU(o,a),sU(a);const s=!r.getQueryState(t.queryKey),[l]=te.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(te.useSyncExternalStore(te.useCallback(w=>{const S=i?()=>{}:l.subscribe(Ur.batchCalls(w));return l.updateResult(),S},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),te.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),OC(o,c))throw K_(o,l,a);if(uU({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,c),o.experimental_prefetchInRender&&!Vc&&cU(c,i)){const w=s?K_(o,l,a):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;w==null||w.catch(aU).finally(()=>{l.hasListeners()||l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function bm(t,e){return YV(t,FA)}function Ea(t,e){const n=vi(),[r]=te.useState(()=>new GV(n,t));te.useEffect(()=>{r.setOptions(t)},[r,t]);const i=te.useSyncExternalStore(te.useCallback(o=>r.subscribe(Ur.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=te.useCallback((o,s)=>{r.mutate(o,s).catch(aU)},[r]);if(i.error&&iU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var y1={exports:{}},op={},v1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RL;function XV(){return RL||(RL=1,function(t){function e(_e,de){var fe=_e.length;_e.push(de);e:for(;0<fe;){var Ie=fe-1>>>1,k=_e[Ie];if(0<i(k,de))_e[Ie]=de,_e[fe]=k,fe=Ie;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var de=_e[0],fe=_e.pop();if(fe!==de){_e[0]=fe;e:for(var Ie=0,k=_e.length,ie=k>>>1;Ie<ie;){var me=2*(Ie+1)-1,H=_e[me],J=me+1,pe=_e[J];if(0>i(H,fe))J<k&&0>i(pe,H)?(_e[Ie]=pe,_e[J]=fe,Ie=J):(_e[Ie]=H,_e[me]=fe,Ie=me);else if(J<k&&0>i(pe,fe))_e[Ie]=pe,_e[J]=fe,Ie=J;else break e}}return de}function i(_e,de){var fe=_e.sortIndex-de.sortIndex;return fe!==0?fe:_e.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],h=1,p=null,m=3,y=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(_e){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=_e)r(c),de.sortIndex=de.expirationTime,e(l,de);else break;de=n(c)}}function I(_e){if(w=!1,A(_e),!v)if(n(l)!==null)v=!0,ue();else{var de=n(c);de!==null&&ge(I,de.startTime-_e)}}var M=!1,D=-1,F=5,Q=-1;function Y(){return!(t.unstable_now()-Q<F)}function B(){if(M){var _e=t.unstable_now();Q=_e;var de=!0;try{e:{v=!1,w&&(w=!1,x(D),D=-1),y=!0;var fe=m;try{t:{for(A(_e),p=n(l);p!==null&&!(p.expirationTime>_e&&Y());){var Ie=p.callback;if(typeof Ie=="function"){p.callback=null,m=p.priorityLevel;var k=Ie(p.expirationTime<=_e);if(_e=t.unstable_now(),typeof k=="function"){p.callback=k,A(_e),de=!0;break t}p===n(l)&&r(l),A(_e)}else r(l);p=n(l)}if(p!==null)de=!0;else{var ie=n(c);ie!==null&&ge(I,ie.startTime-_e),de=!1}}break e}finally{p=null,m=fe,y=!1}de=void 0}}finally{de?Z():M=!1}}}var Z;if(typeof E=="function")Z=function(){E(B)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,re=ce.port2;ce.port1.onmessage=B,Z=function(){re.postMessage(null)}}else Z=function(){S(B,0)};function ue(){M||(M=!0,Z())}function ge(_e,de){D=S(function(){_e(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ue())},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_e){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var fe=m;m=de;try{return _e()}finally{m=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,de){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var fe=m;m=_e;try{return de()}finally{m=fe}},t.unstable_scheduleCallback=function(_e,de,fe){var Ie=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,_e){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=fe+k,_e={id:h++,callback:de,priorityLevel:_e,startTime:fe,expirationTime:k,sortIndex:-1},fe>Ie?(_e.sortIndex=fe,e(c,_e),n(l)===null&&_e===n(c)&&(w?(x(D),D=-1):w=!0,ge(I,fe-Ie))):(_e.sortIndex=k,e(l,_e),v||y||(v=!0,ue())),_e},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(_e){var de=m;return function(){var fe=m;m=de;try{return _e.apply(this,arguments)}finally{m=fe}}}}(_1)),_1}var PL;function eK(){return PL||(PL=1,v1.exports=XV()),v1.exports}var w1={exports:{}},Fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OL;function tK(){if(OL)return Fi;OL=1;var t=qd();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:c,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fi.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,h)},Fi.flushSync=function(l){var c=o.T,h=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=h,r.d.f()}},Fi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Fi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Fi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var h=c.as,p=s(h,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&r.d.X(l,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Fi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Fi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=s(h,c.crossOrigin);r.d.L(l,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Fi.preloadModule=function(l,c){if(typeof l=="string")if(c){var h=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Fi.requestFormReset=function(l){r.d.r(l)},Fi.unstable_batchedUpdates=function(l,c){return l(c)},Fi.useFormState=function(l,c,h){return o.H.useFormState(l,c,h)},Fi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Fi.version="19.0.0",Fi}var IL;function $A(){if(IL)return w1.exports;IL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w1.exports=tK(),w1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL;function nK(){if(LL)return op;LL=1;var t=eK(),e=qd(),n=$A();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case s:return"Portal";case h:return"Profiler";case c:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case x:return f=u.displayName||null,f!==null?f:Q(u.type)||"Memo";case E:f=u._payload,u=u._init;try{return Q(u(f))}catch{}}return null}var Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,Z,ce;function re(u){if(Z===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Z=f&&f[1]||"",ce=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+u+ce}var ue=!1;function ge(u,f){if(!u||ue)return"";ue=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(vt){var pt=vt}Reflect.construct(u,[],Ct)}else{try{Ct.call()}catch(vt){pt=vt}u.call(Ct.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(Ct=u())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=b.DetermineComponentFrameRoot(),le=j[0],Ce=j[1];if(le&&Ce){var Ve=le.split(`
`),at=Ce.split(`
`);for(O=b=0;b<Ve.length&&!Ve[b].includes("DetermineComponentFrameRoot");)b++;for(;O<at.length&&!at[O].includes("DetermineComponentFrameRoot");)O++;if(b===Ve.length||O===at.length)for(b=Ve.length-1,O=at.length-1;1<=b&&0<=O&&Ve[b]!==at[O];)O--;for(;1<=b&&0<=O;b--,O--)if(Ve[b]!==at[O]){if(b!==1||O!==1)do if(b--,O--,0>O||Ve[b]!==at[O]){var _t=`
`+Ve[b].replace(" at new "," at ");return u.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",u.displayName)),_t}while(1<=b&&0<=O);break}}}finally{ue=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?re(g):""}function _e(u){switch(u.tag){case 26:case 27:case 5:return re(u.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return u=ge(u.type,!1),u;case 11:return u=ge(u.type.render,!1),u;case 1:return u=ge(u.type,!0),u;default:return""}}function de(u){try{var f="";do f+=_e(u),u=u.return;while(u);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function fe(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function Ie(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function k(u){if(fe(u)!==u)throw Error(r(188))}function ie(u){var f=u.alternate;if(!f){if(f=fe(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,b=f;;){var O=g.return;if(O===null)break;var j=O.alternate;if(j===null){if(b=O.return,b!==null){g=b;continue}break}if(O.child===j.child){for(j=O.child;j;){if(j===g)return k(O),u;if(j===b)return k(O),f;j=j.sibling}throw Error(r(188))}if(g.return!==b.return)g=O,b=j;else{for(var le=!1,Ce=O.child;Ce;){if(Ce===g){le=!0,g=O,b=j;break}if(Ce===b){le=!0,b=O,g=j;break}Ce=Ce.sibling}if(!le){for(Ce=j.child;Ce;){if(Ce===g){le=!0,g=j,b=O;break}if(Ce===b){le=!0,b=j,g=O;break}Ce=Ce.sibling}if(!le)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function me(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=me(u),f!==null)return f;u=u.sibling}return null}var H=Array.isArray,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ae=[],Je=-1;function Re(u){return{current:u}}function Fe(u){0>Je||(u.current=Ae[Je],Ae[Je]=null,Je--)}function Xe(u,f){Je++,Ae[Je]=u.current,u.current=f}var oe=Re(null),z=Re(null),$=Re(null),ae=Re(null);function W(u,f){switch(Xe($,f),Xe(z,u),Xe(oe,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?zI(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=zI(u),f=HI(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Fe(oe),Xe(oe,f)}function he(){Fe(oe),Fe(z),Fe($)}function ye(u){u.memoizedState!==null&&Xe(ae,u);var f=oe.current,g=HI(f,u.type);f!==g&&(Xe(z,u),Xe(oe,g))}function He(u){z.current===u&&(Fe(oe),Fe(z)),ae.current===u&&(Fe(ae),ep._currentValue=pe)}var Te=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,nt=t.unstable_shouldYield,gt=t.unstable_requestPaint,Bt=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,X=t.unstable_UserBlockingPriority,q=t.unstable_NormalPriority,K=t.unstable_LowPriority,V=t.unstable_IdlePriority,je=t.log,Ze=t.unstable_setDisableYieldValue,ke=null,At=null;function Ot(u){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Dt(u){if(typeof je=="function"&&Ze(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ke,u)}catch{}}var Rt=Math.clz32?Math.clz32:fn,qt=Math.log,Tr=Math.LN2;function fn(u){return u>>>=0,u===0?32:31-(qt(u)/Tr|0)|0}var dn=128,pr=4194304;function sn(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function un(u,f){var g=u.pendingLanes;if(g===0)return 0;var b=0,O=u.suspendedLanes,j=u.pingedLanes,le=u.warmLanes;u=u.finishedLanes!==0;var Ce=g&134217727;return Ce!==0?(g=Ce&~O,g!==0?b=sn(g):(j&=Ce,j!==0?b=sn(j):u||(le=Ce&~le,le!==0&&(b=sn(le))))):(Ce=g&~O,Ce!==0?b=sn(Ce):j!==0?b=sn(j):u||(le=g&~le,le!==0&&(b=sn(le)))),b===0?0:f!==0&&f!==b&&!(f&O)&&(O=b&-b,le=f&-f,O>=le||O===32&&(le&4194176)!==0)?f:b}function In(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function sr(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oe(){var u=dn;return dn<<=1,!(dn&4194176)&&(dn=128),u}function qe(){var u=pr;return pr<<=1,!(pr&62914560)&&(pr=4194304),u}function wt(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function xt(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function It(u,f,g,b,O,j){var le=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Ce=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(g=le&~g;0<g;){var _t=31-Rt(g),Ct=1<<_t;Ce[_t]=0,Ve[_t]=-1;var pt=at[_t];if(pt!==null)for(at[_t]=null,_t=0;_t<pt.length;_t++){var vt=pt[_t];vt!==null&&(vt.lane&=-536870913)}g&=~Ct}b!==0&&zn(u,b,0),j!==0&&O===0&&u.tag!==0&&(u.suspendedLanes|=j&~(le&~f))}function zn(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var b=31-Rt(f);u.entangledLanes|=f,u.entanglements[b]=u.entanglements[b]|1073741824|g&4194218}function Jn(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var b=31-Rt(g),O=1<<b;O&f|u[b]&f&&(u[b]|=f),g&=~O}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ee(){var u=J.p;return u!==0?u:(u=window.event,u===void 0?32:uL(u.type))}function et(u,f){var g=J.p;try{return J.p=u,f()}finally{J.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Et="__reactProps$"+ft,Lt="__reactContainer$"+ft,Kt="__reactEvents$"+ft,Yt="__reactListeners$"+ft,zt="__reactHandles$"+ft,Nt="__reactResources$"+ft,en="__reactMarker$"+ft;function Rn(u){delete u[it],delete u[Et],delete u[Kt],delete u[Yt],delete u[zt]}function Gt(u){var f=u[it];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Lt]||g[it]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=GI(u);u!==null;){if(g=u[it])return g;u=GI(u)}return f}u=g,g=u.parentNode}return null}function Qt(u){if(u=u[it]||u[Lt]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function xn(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function En(u){var f=u[Nt];return f||(f=u[Nt]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Bn(u){u[en]=!0}var Cr=new Set,zr={};function Hr(u,f){Or(u,f),Or(u+"Capture",f)}function Or(u,f){for(zr[u]=f,u=0;u<f.length;u++)Cr.add(f[u])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qi={},C={};function T(u){return Te.call(C,u)?!0:Te.call(qi,u)?!1:Qr.test(u)?C[u]=!0:(qi[u]=!0,!1)}function R(u,f,g){if(T(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function N(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function G(u,f,g,b){if(b===null)u.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+b)}}function se(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Le(u){var f=we(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),b=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,j=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return O.call(this)},set:function(le){b=""+le,j.call(this,le)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(le){b=""+le},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function xe(u){u._valueTracker||(u._valueTracker=Le(u))}function Pe(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return u&&(b=we(u)?u.checked?"true":"false":u.value),u=b,u!==g?(f.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ye(u,f,g,b,O,j,le,Ce){u.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?u.type=le:u.removeAttribute("type"),f!=null?le==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+se(f)):u.value!==""+se(f)&&(u.value=""+se(f)):le!=="submit"&&le!=="reset"||u.removeAttribute("value"),f!=null?dt(u,le,se(f)):g!=null?dt(u,le,se(g)):b!=null&&u.removeAttribute("value"),O==null&&j!=null&&(u.defaultChecked=!!j),O!=null&&(u.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?u.name=""+se(Ce):u.removeAttribute("name")}function ot(u,f,g,b,O,j,le,Ce){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),f!=null||g!=null){if(!(j!=="submit"&&j!=="reset"||f!=null))return;g=g!=null?""+se(g):"",f=f!=null?""+se(f):g,Ce||f===u.value||(u.value=f),u.defaultValue=f}b=b??O,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=Ce?u.checked:!!b,u.defaultChecked=!!b,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(u.name=le)}function dt(u,f,g){f==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,f,g,b){if(u=u.options,f){f={};for(var O=0;O<g.length;O++)f["$"+g[O]]=!0;for(g=0;g<u.length;g++)O=f.hasOwnProperty("$"+u[g].value),u[g].selected!==O&&(u[g].selected=O),O&&b&&(u[g].defaultSelected=!0)}else{for(g=""+se(g),f=null,O=0;O<u.length;O++){if(u[O].value===g){u[O].selected=!0,b&&(u[O].defaultSelected=!0);return}f!==null||u[O].disabled||(f=u[O])}f!==null&&(f.selected=!0)}}function be(u,f,g){if(f!=null&&(f=""+se(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+se(g):""}function De(u,f,g,b){if(f==null){if(b!=null){if(g!=null)throw Error(r(92));if(H(b)){if(1<b.length)throw Error(r(93));b=b[0]}g=b}g==null&&(g=""),f=g}g=se(f),u.defaultValue=g,b=u.textContent,b===g&&b!==""&&b!==null&&(u.value=b)}function Ue(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,f,g){var b=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":b?u.setProperty(f,g):typeof g!="number"||g===0||Ke.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function mt(u,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var O in f)b=f[O],f.hasOwnProperty(O)&&g[O]!==b&&lt(u,O,b)}else for(var j in f)f.hasOwnProperty(j)&&lt(u,j,f[j])}function Ft(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(u){return pn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Ht=null;function qn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var kn=null,$n=null;function Wt(u){var f=Qt(u);if(f&&(u=f.stateNode)){var g=u[Et]||null;e:switch(u=f.stateNode,f.type){case"input":if(Ye(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ze(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==u&&b.form===u.form){var O=b[Et]||null;if(!O)throw Error(r(90));Ye(b,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(f=0;f<g.length;f++)b=g[f],b.form===u.form&&Pe(b)}break e;case"textarea":be(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ut(u,!!g.multiple,f,!1)}}}var Kn=!1;function hn(u,f,g){if(Kn)return u(f,g);Kn=!0;try{var b=u(f);return b}finally{if(Kn=!1,(kn!==null||$n!==null)&&(Py(),kn&&(f=kn,u=$n,$n=kn=null,Wt(f),u)))for(f=0;f<u.length;f++)Wt(u[f])}}function Yn(u,f){var g=u.stateNode;if(g===null)return null;var b=g[Et]||null;if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var gr=!1;if(jn)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){gr=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{gr=!1}var ur=null,wi=null,zi=null;function da(){if(zi)return zi;var u,f=wi,g=f.length,b,O="value"in ur?ur.value:ur.textContent,j=O.length;for(u=0;u<g&&f[u]===O[u];u++);var le=g-u;for(b=1;b<=le&&f[g-b]===O[j-b];b++);return zi=O.slice(u,1<b?1-b:void 0)}function rr(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Di(){return!0}function mo(){return!1}function ir(u){function f(g,b,O,j,le){this._reactName=g,this._targetInst=O,this.type=b,this.nativeEvent=j,this.target=le,this.currentTarget=null;for(var Ce in u)u.hasOwnProperty(Ce)&&(g=u[Ce],this[Ce]=g?g(j):j[Ce]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Di:mo,this.isPropagationStopped=mo,this}return B(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),f}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=ir(kr),Hi=B({},kr,{view:0,detail:0}),Eu=ir(Hi),Wa,yn,Ca,lr=B({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ca&&(Ca&&u.type==="mousemove"?(Wa=u.screenX-Ca.screenX,yn=u.screenY-Ca.screenY):yn=Wa=0,Ca=u),Wa)},movementY:function(u){return"movementY"in u?u.movementY:yn}}),ki=ir(lr),ha=B({},lr,{dataTransfer:0}),cr=ir(ha),Vi=B({},Hi,{relatedTarget:0}),Qa=ir(Vi),Ar=B({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=ir(Ar),yo=B({},kr,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Aa=ir(yo),mh=B({},kr,{data:0}),Ki=ir(mh),lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Vo[u])?!!f[u]:!1}function cf(){return Bm}var yh=B({},Hi,{key:function(u){if(u.key){var f=lf[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=rr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Um[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(u){return u.type==="keypress"?rr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?rr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Cw=ir(yh),qm=B({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=ir(qm),Aw=B({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),Rw=ir(Aw),_h=B({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pw=ir(_h),zm=B({},lr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=ir(zm),ff=B({},kr,{newState:0,oldState:0}),ws=ir(ff),Ow=[9,13,27,32],bs=jn&&"CompositionEvent"in window,ci=null;jn&&"documentMode"in document&&(ci=document.documentMode);var Vm=jn&&"TextEvent"in window&&!ci,wh=jn&&(!bs||ci&&8<ci&&11>=ci),Km=" ",df=!1;function hf(u,f){switch(u){case"keyup":return Ow.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Tu=!1;function Wm(u,f){switch(u){case"compositionend":return Gm(f);case"keypress":return f.which!==32?null:(df=!0,Km);case"textInput":return u=f.data,u===Km&&df?null:u;default:return null}}function Iw(u,f){if(Tu)return u==="compositionend"||!bs&&hf(u,f)?(u=da(),zi=wi=ur=null,Tu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return wh&&f.locale!=="ko"?null:f.data;default:return null}}var Ra={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ss(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Ra[u.type]:f==="textarea"}function Qm(u,f,g,b){kn?$n?$n.push(b):$n=[b]:kn=b,f=Dy(f,"onChange"),0<f.length&&(g=new Ga("onChange","change",null,g,b),u.push({event:g,listeners:f}))}var Gi=null,Dl=null;function Cu(u){jI(u,0)}function pf(u){var f=xn(u);if(Pe(f))return u}function Au(u,f){if(u==="change")return f}var bh=!1;if(jn){var Ru;if(jn){var Sh="oninput"in document;if(!Sh){var vo=document.createElement("div");vo.setAttribute("oninput","return;"),Sh=typeof vo.oninput=="function"}Ru=Sh}else Ru=!1;bh=Ru&&(!document.documentMode||9<document.documentMode)}function kl(){Gi&&(Gi.detachEvent("onpropertychange",Zm),Dl=Gi=null)}function Zm(u){if(u.propertyName==="value"&&pf(Dl)){var f=[];Qm(f,Dl,u,qn(u)),hn(Cu,f)}}function xh(u,f,g){u==="focusin"?(kl(),Gi=f,Dl=g,Gi.attachEvent("onpropertychange",Zm)):u==="focusout"&&kl()}function Lw(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return pf(Dl)}function _o(u,f){if(u==="click")return pf(f)}function Mw(u,f){if(u==="input"||u==="change")return pf(f)}function Pu(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Wi=typeof Object.is=="function"?Object.is:Pu;function Qi(u,f){if(Wi(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var O=g[b];if(!Te.call(f,O)||!Wi(u[O],f[O]))return!1}return!0}function Nl(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Eh(u,f){var g=Nl(u);u=0;for(var b;g;){if(g.nodeType===3){if(b=u+g.textContent.length,u<=f&&b>=f)return{node:g,offset:f-u};u=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Nl(g)}}function gf(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?gf(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function Fl(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Me(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=Me(u.document)}return f}function jl(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function mf(u,f){var g=Fl(f);f=u.focusedElem;var b=u.selectionRange;if(g!==f&&f&&f.ownerDocument&&gf(f.ownerDocument.documentElement,f)){if(b!==null&&jl(f)){if(u=b.start,g=b.end,g===void 0&&(g=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(g,f.value.length);else if(g=(u=f.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var O=f.textContent.length,j=Math.min(b.start,O);b=b.end===void 0?j:Math.min(b.end,O),!g.extend&&j>b&&(O=b,b=j,j=O),O=Eh(f,j);var le=Eh(f,b);O&&le&&(g.rangeCount!==1||g.anchorNode!==O.node||g.anchorOffset!==O.offset||g.focusNode!==le.node||g.focusOffset!==le.offset)&&(u=u.createRange(),u.setStart(O.node,O.offset),g.removeAllRanges(),j>b?(g.addRange(u),g.extend(le.node,le.offset)):(u.setEnd(le.node,le.offset),g.addRange(u)))}}for(u=[],g=f;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)g=u[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Ou=jn&&"documentMode"in document&&11>=document.documentMode,wo=null,$l=null,Iu=null,Th=!1;function Ul(u,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Th||wo==null||wo!==Me(b)||(b=wo,"selectionStart"in b&&jl(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Iu&&Qi(Iu,b)||(Iu=b,b=Dy($l,"onSelect"),0<b.length&&(f=new Ga("onSelect","select",null,f,g),u.push({event:f,listeners:b}),f.target=wo)))}function xs(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var Es={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Ch={},Ah={};jn&&(Ah=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function Ts(u){if(Ch[u])return Ch[u];if(!Es[u])return u;var f=Es[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in Ah)return Ch[u]=f[g];return u}var Pa=Ts("animationend"),Bl=Ts("animationiteration"),Jm=Ts("animationstart"),yf=Ts("transitionrun"),Dw=Ts("transitionstart"),Ym=Ts("transitioncancel"),Xm=Ts("transitionend"),Lu=new Map,ey="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fi(u,f){Lu.set(u,f),Hr(f,[u])}var Zi=[],Cs=0,Rh=0;function pa(){for(var u=Cs,f=Rh=Cs=0;f<u;){var g=Zi[f];Zi[f++]=null;var b=Zi[f];Zi[f++]=null;var O=Zi[f];Zi[f++]=null;var j=Zi[f];if(Zi[f++]=null,b!==null&&O!==null){var le=b.pending;le===null?O.next=O:(O.next=le.next,le.next=O),b.pending=O}j!==0&&ty(g,O,j)}}function ql(u,f,g,b){Zi[Cs++]=u,Zi[Cs++]=f,Zi[Cs++]=g,Zi[Cs++]=b,Rh|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function vf(u,f,g,b){return ql(u,f,g,b),As(u)}function ga(u,f){return ql(u,null,null,f),As(u)}function ty(u,f,g){u.lanes|=g;var b=u.alternate;b!==null&&(b.lanes|=g);for(var O=!1,j=u.return;j!==null;)j.childLanes|=g,b=j.alternate,b!==null&&(b.childLanes|=g),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(O=!0)),u=j,j=j.return;O&&f!==null&&u.tag===3&&(j=u.stateNode,O=31-Rt(g),j=j.hiddenUpdates,u=j[O],u===null?j[O]=[f]:u.push(f),f.lane=g|536870912)}function As(u){if(50<Gh)throw Gh=0,Nb=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var Za={},Ph=new WeakMap;function Ji(u,f){if(typeof u=="object"&&u!==null){var g=Ph.get(u);return g!==void 0?g:(f={value:u,source:f,stack:de(f)},Ph.set(u,f),f)}return{value:u,source:f,stack:de(f)}}var Mu=[],Rs=0,zl=null,Hl=0,Yi=[],Xi=0,Ps=null,Ja=1,Ya="";function Os(u,f){Mu[Rs++]=Hl,Mu[Rs++]=zl,zl=u,Hl=f}function d(u,f,g){Yi[Xi++]=Ja,Yi[Xi++]=Ya,Yi[Xi++]=Ps,Ps=u;var b=Ja;u=Ya;var O=32-Rt(b)-1;b&=~(1<<O),g+=1;var j=32-Rt(f)+O;if(30<j){var le=O-O%5;j=(b&(1<<le)-1).toString(32),b>>=le,O-=le,Ja=1<<32-Rt(f)+O|g<<O|b,Ya=j+u}else Ja=1<<j|g<<O|b,Ya=u}function _(u){u.return!==null&&(Os(u,1),d(u,1,0))}function P(u){for(;u===zl;)zl=Mu[--Rs],Mu[Rs]=null,Hl=Mu[--Rs],Mu[Rs]=null;for(;u===Ps;)Ps=Yi[--Xi],Yi[Xi]=null,Ya=Yi[--Xi],Yi[Xi]=null,Ja=Yi[--Xi],Yi[Xi]=null}var U=null,ee=null,ve=!1,Ge=null,st=!1,yt=Error(r(519));function bt(u){var f=Error(r(418,""));throw Rr(Ji(f,u)),yt}function jt(u){var f=u.stateNode,g=u.type,b=u.memoizedProps;switch(f[it]=u,f[Et]=b,g){case"dialog":Nn("cancel",f),Nn("close",f);break;case"iframe":case"object":case"embed":Nn("load",f);break;case"video":case"audio":for(g=0;g<Qh.length;g++)Nn(Qh[g],f);break;case"source":Nn("error",f);break;case"img":case"image":case"link":Nn("error",f),Nn("load",f);break;case"details":Nn("toggle",f);break;case"input":Nn("invalid",f),ot(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),xe(f);break;case"select":Nn("invalid",f);break;case"textarea":Nn("invalid",f),De(f,b.value,b.defaultValue,b.children),xe(f)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||b.suppressHydrationWarning===!0||qI(f.textContent,g)?(b.popover!=null&&(Nn("beforetoggle",f),Nn("toggle",f)),b.onScroll!=null&&Nn("scroll",f),b.onScrollEnd!=null&&Nn("scrollend",f),b.onClick!=null&&(f.onclick=ky),f=!0):f=!1,f||bt(u)}function nn(u){for(U=u.return;U;)switch(U.tag){case 3:case 27:st=!0;return;case 5:case 13:st=!1;return;default:U=U.return}}function gn(u){if(u!==U)return!1;if(!ve)return nn(u),ve=!0,!1;var f=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||Xb(u.type,u.memoizedProps)),g=!g),g&&(f=!0),f&&ee&&bt(u),nn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(f===0){ee=So(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;u=u.nextSibling}ee=null}}else ee=U?So(u.stateNode.nextSibling):null;return!0}function Vr(){ee=U=null,ve=!1}function Rr(u){Ge===null?Ge=[u]:Ge.push(u)}var di=Error(r(460)),bi=Error(r(474)),Ko={then:function(){}};function ny(u){return u=u.status,u==="fulfilled"||u==="rejected"}function _f(){}function ry(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(_f,_f),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===di?Error(r(483)):u;default:if(typeof f.status=="string")f.then(_f,_f);else{if(u=wr,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(b){if(f.status==="pending"){var O=f;O.status="fulfilled",O.value=b}},function(b){if(f.status==="pending"){var O=f;O.status="rejected",O.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===di?Error(r(483)):u}throw Du=f,di}}var Du=null;function iy(){if(Du===null)throw Error(r(459));var u=Du;return Du=null,u}var Is=null,_r=0;function Ls(u){var f=_r;return _r+=1,Is===null&&(Is=[]),ry(Is,u,f)}function Vl(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function wf(u,f){throw f.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function ay(u){var f=u._init;return f(u._payload)}function bf(u){function f(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)f(ct,rt),rt=rt.sibling;return null}function b(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function O(ct,rt){return ct=Ku(ct,rt),ct.index=0,ct.sibling=null,ct}function j(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function le(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Ce(ct,rt,ht,St){return rt===null||rt.tag!==6?(rt=Rb(ht,ct.mode,St),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,St){var Vt=ht.type;return Vt===l?_t(ct,rt,ht.props.children,St,ht.key):rt!==null&&(rt.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===E&&ay(Vt)===rt.type)?(rt=O(rt,ht.props),Vl(rt,ht),rt.return=ct,rt):(rt=Ey(ht.type,ht.key,ht.props,null,ct.mode,St),Vl(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,St){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=Pb(ht,ct.mode,St),rt.return=ct,rt):(rt=O(rt,ht.children||[]),rt.return=ct,rt)}function _t(ct,rt,ht,St,Vt){return rt===null||rt.tag!==7?(rt=ec(ht,ct.mode,St,Vt),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ct(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=Rb(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return ht=Ey(rt.type,rt.key,rt.props,null,ct.mode,ht),Vl(ht,rt),ht.return=ct,ht;case s:return rt=Pb(rt,ct.mode,ht),rt.return=ct,rt;case E:var St=rt._init;return rt=St(rt._payload),Ct(ct,rt,ht)}if(H(rt)||D(rt))return rt=ec(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return Ct(ct,Ls(rt),ht);if(rt.$$typeof===y)return Ct(ct,by(ct,rt),ht);wf(ct,rt)}return null}function pt(ct,rt,ht,St){var Vt=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Vt!==null?null:Ce(ct,rt,""+ht,St);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:return ht.key===Vt?Ve(ct,rt,ht,St):null;case s:return ht.key===Vt?at(ct,rt,ht,St):null;case E:return Vt=ht._init,ht=Vt(ht._payload),pt(ct,rt,ht,St)}if(H(ht)||D(ht))return Vt!==null?null:_t(ct,rt,ht,St,null);if(typeof ht.then=="function")return pt(ct,rt,Ls(ht),St);if(ht.$$typeof===y)return pt(ct,rt,by(ct,ht),St);wf(ct,ht)}return null}function vt(ct,rt,ht,St,Vt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ct=ct.get(ht)||null,Ce(rt,ct,""+St,Vt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case o:return ct=ct.get(St.key===null?ht:St.key)||null,Ve(rt,ct,St,Vt);case s:return ct=ct.get(St.key===null?ht:St.key)||null,at(rt,ct,St,Vt);case E:var Pn=St._init;return St=Pn(St._payload),vt(ct,rt,ht,St,Vt)}if(H(St)||D(St))return ct=ct.get(ht)||null,_t(rt,ct,St,Vt,null);if(typeof St.then=="function")return vt(ct,rt,ht,Ls(St),Vt);if(St.$$typeof===y)return vt(ct,rt,ht,by(rt,St),Vt);wf(rt,St)}return null}function Zt(ct,rt,ht,St){for(var Vt=null,Pn=null,Xt=rt,an=rt=0,gi=null;Xt!==null&&an<ht.length;an++){Xt.index>an?(gi=Xt,Xt=null):gi=Xt.sibling;var Hn=pt(ct,Xt,ht[an],St);if(Hn===null){Xt===null&&(Xt=gi);break}u&&Xt&&Hn.alternate===null&&f(ct,Xt),rt=j(Hn,rt,an),Pn===null?Vt=Hn:Pn.sibling=Hn,Pn=Hn,Xt=gi}if(an===ht.length)return g(ct,Xt),ve&&Os(ct,an),Vt;if(Xt===null){for(;an<ht.length;an++)Xt=Ct(ct,ht[an],St),Xt!==null&&(rt=j(Xt,rt,an),Pn===null?Vt=Xt:Pn.sibling=Xt,Pn=Xt);return ve&&Os(ct,an),Vt}for(Xt=b(Xt);an<ht.length;an++)gi=vt(Xt,ct,an,ht[an],St),gi!==null&&(u&&gi.alternate!==null&&Xt.delete(gi.key===null?an:gi.key),rt=j(gi,rt,an),Pn===null?Vt=gi:Pn.sibling=gi,Pn=gi);return u&&Xt.forEach(function(Xu){return f(ct,Xu)}),ve&&Os(ct,an),Vt}function mn(ct,rt,ht,St){if(ht==null)throw Error(r(151));for(var Vt=null,Pn=null,Xt=rt,an=rt=0,gi=null,Hn=ht.next();Xt!==null&&!Hn.done;an++,Hn=ht.next()){Xt.index>an?(gi=Xt,Xt=null):gi=Xt.sibling;var Xu=pt(ct,Xt,Hn.value,St);if(Xu===null){Xt===null&&(Xt=gi);break}u&&Xt&&Xu.alternate===null&&f(ct,Xt),rt=j(Xu,rt,an),Pn===null?Vt=Xu:Pn.sibling=Xu,Pn=Xu,Xt=gi}if(Hn.done)return g(ct,Xt),ve&&Os(ct,an),Vt;if(Xt===null){for(;!Hn.done;an++,Hn=ht.next())Hn=Ct(ct,Hn.value,St),Hn!==null&&(rt=j(Hn,rt,an),Pn===null?Vt=Hn:Pn.sibling=Hn,Pn=Hn);return ve&&Os(ct,an),Vt}for(Xt=b(Xt);!Hn.done;an++,Hn=ht.next())Hn=vt(Xt,ct,an,Hn.value,St),Hn!==null&&(u&&Hn.alternate!==null&&Xt.delete(Hn.key===null?an:Hn.key),rt=j(Hn,rt,an),Pn===null?Vt=Hn:Pn.sibling=Hn,Pn=Hn);return u&&Xt.forEach(function(SV){return f(ct,SV)}),ve&&Os(ct,an),Vt}function jr(ct,rt,ht,St){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:e:{for(var Vt=ht.key;rt!==null;){if(rt.key===Vt){if(Vt=ht.type,Vt===l){if(rt.tag===7){g(ct,rt.sibling),St=O(rt,ht.props.children),St.return=ct,ct=St;break e}}else if(rt.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===E&&ay(Vt)===rt.type){g(ct,rt.sibling),St=O(rt,ht.props),Vl(St,ht),St.return=ct,ct=St;break e}g(ct,rt);break}else f(ct,rt);rt=rt.sibling}ht.type===l?(St=ec(ht.props.children,ct.mode,St,ht.key),St.return=ct,ct=St):(St=Ey(ht.type,ht.key,ht.props,null,ct.mode,St),Vl(St,ht),St.return=ct,ct=St)}return le(ct);case s:e:{for(Vt=ht.key;rt!==null;){if(rt.key===Vt)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),St=O(rt,ht.children||[]),St.return=ct,ct=St;break e}else{g(ct,rt);break}else f(ct,rt);rt=rt.sibling}St=Pb(ht,ct.mode,St),St.return=ct,ct=St}return le(ct);case E:return Vt=ht._init,ht=Vt(ht._payload),jr(ct,rt,ht,St)}if(H(ht))return Zt(ct,rt,ht,St);if(D(ht)){if(Vt=D(ht),typeof Vt!="function")throw Error(r(150));return ht=Vt.call(ht),mn(ct,rt,ht,St)}if(typeof ht.then=="function")return jr(ct,rt,Ls(ht),St);if(ht.$$typeof===y)return jr(ct,rt,by(ct,ht),St);wf(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),St=O(rt,ht),St.return=ct,ct=St):(g(ct,rt),St=Rb(ht,ct.mode,St),St.return=ct,ct=St),le(ct)):g(ct,rt)}return function(ct,rt,ht,St){try{_r=0;var Vt=jr(ct,rt,ht,St);return Is=null,Vt}catch(Xt){if(Xt===di)throw Xt;var Pn=no(29,Xt,null,ct.mode);return Pn.lanes=St,Pn.return=ct,Pn}finally{}}}var Go=bf(!0),oy=bf(!1),Sf=Re(null),sy=Re(0);function qP(u,f){u=zs,Xe(sy,u),Xe(Sf,f),zs=u|f.baseLanes}function kw(){Xe(sy,zs),Xe(Sf,Sf.current)}function Nw(){zs=sy.current,Fe(Sf),Fe(sy)}var Xa=Re(null),Wo=null;function ku(u){var f=u.alternate;Xe(ii,ii.current&1),Xe(Xa,u),Wo===null&&(f===null||Sf.current!==null||f.memoizedState!==null)&&(Wo=u)}function zP(u){if(u.tag===22){if(Xe(ii,ii.current),Xe(Xa,u),Wo===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Wo=u)}}else Nu()}function Nu(){Xe(ii,ii.current),Xe(Xa,Xa.current)}function Ms(u){Fe(Xa),Wo===u&&(Wo=null),Fe(ii)}var ii=Re(0);function uy(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var l7=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,b){u.push(b)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},c7=t.unstable_scheduleCallback,f7=t.unstable_NormalPriority,ai={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fw(){return{controller:new l7,data:new Map,refCount:0}}function Oh(u){u.refCount--,u.refCount===0&&c7(f7,function(){u.controller.abort()})}var Ih=null,jw=0,xf=0,Ef=null;function d7(u,f){if(Ih===null){var g=Ih=[];jw=0,xf=Hb(),Ef={status:"pending",value:void 0,then:function(b){g.push(b)}}}return jw++,f.then(HP,HP),f}function HP(){if(--jw===0&&Ih!==null){Ef!==null&&(Ef.status="fulfilled");var u=Ih;Ih=null,xf=0,Ef=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function h7(u,f){var g=[],b={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return u.then(function(){b.status="fulfilled",b.value=f;for(var O=0;O<g.length;O++)(0,g[O])(f)},function(O){for(b.status="rejected",b.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),b}var VP=Y.S;Y.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&d7(u,f),VP!==null&&VP(u,f)};var Kl=Re(null);function $w(){var u=Kl.current;return u!==null?u:wr.pooledCache}function ly(u,f){f===null?Xe(Kl,Kl.current):Xe(Kl,f.pool)}function KP(){var u=$w();return u===null?null:{parent:ai._currentValue,pool:u}}var Fu=0,Tn=null,fr=null,Zr=null,cy=!1,Tf=!1,Gl=!1,fy=0,Lh=0,Cf=null,p7=0;function Kr(){throw Error(r(321))}function Uw(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Wi(u[g],f[g]))return!1;return!0}function Bw(u,f,g,b,O,j){return Fu=j,Tn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Y.H=u===null||u.memoizedState===null?Wl:ju,Gl=!1,j=g(b,O),Gl=!1,Tf&&(j=WP(f,g,b,O)),GP(u),j}function GP(u){Y.H=Qo;var f=fr!==null&&fr.next!==null;if(Fu=0,Zr=fr=Tn=null,cy=!1,Lh=0,Cf=null,f)throw Error(r(300));u===null||hi||(u=u.dependencies,u!==null&&wy(u)&&(hi=!0))}function WP(u,f,g,b){Tn=u;var O=0;do{if(Tf&&(Cf=null),Lh=0,Tf=!1,25<=O)throw Error(r(301));if(O+=1,Zr=fr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=Ql,j=f(g,b)}while(Tf);return j}function g7(){var u=Y.H,f=u.useState()[0];return f=typeof f.then=="function"?Mh(f):f,u=u.useState()[0],(fr!==null?fr.memoizedState:null)!==u&&(Tn.flags|=1024),f}function qw(){var u=fy!==0;return fy=0,u}function zw(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function Hw(u){if(cy){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}cy=!1}Fu=0,Zr=fr=Tn=null,Tf=!1,Lh=fy=0,Cf=null}function ma(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?Tn.memoizedState=Zr=u:Zr=Zr.next=u,Zr}function Jr(){if(fr===null){var u=Tn.alternate;u=u!==null?u.memoizedState:null}else u=fr.next;var f=Zr===null?Tn.memoizedState:Zr.next;if(f!==null)Zr=f,fr=u;else{if(u===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));fr=u,u={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},Zr===null?Tn.memoizedState=Zr=u:Zr=Zr.next=u}return Zr}var dy;dy=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Mh(u){var f=Lh;return Lh+=1,Cf===null&&(Cf=[]),u=ry(Cf,u,f),f=Tn,(Zr===null?f.memoizedState:Zr.next)===null&&(f=f.alternate,Y.H=f===null||f.memoizedState===null?Wl:ju),u}function hy(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Mh(u);if(u.$$typeof===y)return Ni(u)}throw Error(r(438,String(u)))}function Vw(u){var f=null,g=Tn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var b=Tn.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(O){return O.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=dy(),Tn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),b=0;b<u;b++)g[b]=I;return f.index++,g}function Ds(u,f){return typeof f=="function"?f(u):f}function py(u){var f=Jr();return Kw(f,fr,u)}function Kw(u,f,g){var b=u.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=g;var O=u.baseQueue,j=b.pending;if(j!==null){if(O!==null){var le=O.next;O.next=j.next,j.next=le}f.baseQueue=O=j,b.pending=null}if(j=u.baseState,O===null)u.memoizedState=j;else{f=O.next;var Ce=le=null,Ve=null,at=f,_t=!1;do{var Ct=at.lane&-536870913;if(Ct!==at.lane?(Un&Ct)===Ct:(Fu&Ct)===Ct){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),Ct===xf&&(_t=!0);else if((Fu&pt)===pt){at=at.next,pt===xf&&(_t=!0);continue}else Ct={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=Ct,le=j):Ve=Ve.next=Ct,Tn.lanes|=pt,Gu|=pt;Ct=at.action,Gl&&g(j,Ct),j=at.hasEagerState?at.eagerState:g(j,Ct)}else pt={lane:Ct,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=pt,le=j):Ve=Ve.next=pt,Tn.lanes|=Ct,Gu|=Ct;at=at.next}while(at!==null&&at!==f);if(Ve===null?le=j:Ve.next=Ce,!Wi(j,u.memoizedState)&&(hi=!0,_t&&(g=Ef,g!==null)))throw g;u.memoizedState=j,u.baseState=le,u.baseQueue=Ve,b.lastRenderedState=j}return O===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function Gw(u){var f=Jr(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var b=g.dispatch,O=g.pending,j=f.memoizedState;if(O!==null){g.pending=null;var le=O=O.next;do j=u(j,le.action),le=le.next;while(le!==O);Wi(j,f.memoizedState)||(hi=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),g.lastRenderedState=j}return[j,b]}function QP(u,f,g){var b=Tn,O=Jr(),j=ve;if(j){if(g===void 0)throw Error(r(407));g=g()}else g=f();var le=!Wi((fr||O).memoizedState,g);if(le&&(O.memoizedState=g,hi=!0),O=O.queue,Zw(YP.bind(null,b,O,u),[u]),O.getSnapshot!==f||le||Zr!==null&&Zr.memoizedState.tag&1){if(b.flags|=2048,Af(9,JP.bind(null,b,O,g,f),{destroy:void 0},null),wr===null)throw Error(r(349));j||Fu&60||ZP(b,f,g)}return g}function ZP(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Tn.updateQueue,f===null?(f=dy(),Tn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function JP(u,f,g,b){f.value=g,f.getSnapshot=b,XP(f)&&eO(u)}function YP(u,f,g){return g(function(){XP(f)&&eO(u)})}function XP(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Wi(u,g)}catch{return!0}}function eO(u){var f=ga(u,2);f!==null&&ea(f,u,2)}function Ww(u){var f=ma();if(typeof u=="function"){var g=u;if(u=g(),Gl){Dt(!0);try{g()}finally{Dt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:u},f}function tO(u,f,g,b){return u.baseState=g,Kw(u,fr,typeof b=="function"?b:Ds)}function m7(u,f,g,b,O){if(yy(u))throw Error(r(485));if(u=f.action,u!==null){var j={payload:O,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){j.listeners.push(le)}};Y.T!==null?g(!0):j.isTransition=!1,b(j),g=f.pending,g===null?(j.next=f.pending=j,nO(f,j)):(j.next=g.next,f.pending=g.next=j)}}function nO(u,f){var g=f.action,b=f.payload,O=u.state;if(f.isTransition){var j=Y.T,le={};Y.T=le;try{var Ce=g(O,b),Ve=Y.S;Ve!==null&&Ve(le,Ce),rO(u,f,Ce)}catch(at){Qw(u,f,at)}finally{Y.T=j}}else try{j=g(O,b),rO(u,f,j)}catch(at){Qw(u,f,at)}}function rO(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){iO(u,f,b)},function(b){return Qw(u,f,b)}):iO(u,f,g)}function iO(u,f,g){f.status="fulfilled",f.value=g,aO(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,nO(u,g)))}function Qw(u,f,g){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=g,aO(f),f=f.next;while(f!==b)}u.action=null}function aO(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function oO(u,f){return f}function sO(u,f){if(ve){var g=wr.formState;if(g!==null){e:{var b=Tn;if(ve){if(ee){t:{for(var O=ee,j=st;O.nodeType!==8;){if(!j){O=null;break t}if(O=So(O.nextSibling),O===null){O=null;break t}}j=O.data,O=j==="F!"||j==="F"?O:null}if(O){ee=So(O.nextSibling),b=O.data==="F!";break e}}bt(b)}b=!1}b&&(f=g[0])}}return g=ma(),g.memoizedState=g.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oO,lastRenderedState:f},g.queue=b,g=TO.bind(null,Tn,b),b.dispatch=g,b=Ww(!1),j=tb.bind(null,Tn,!1,b.queue),b=ma(),O={state:f,dispatch:null,action:u,pending:null},b.queue=O,g=m7.bind(null,Tn,O,j,g),O.dispatch=g,b.memoizedState=u,[f,g,!1]}function uO(u){var f=Jr();return lO(f,fr,u)}function lO(u,f,g){f=Kw(u,f,oO)[0],u=py(Ds)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Mh(f):f;var b=Jr(),O=b.queue,j=O.dispatch;return g!==b.memoizedState&&(Tn.flags|=2048,Af(9,y7.bind(null,O,g),{destroy:void 0},null)),[f,j,u]}function y7(u,f){u.action=f}function cO(u){var f=Jr(),g=fr;if(g!==null)return lO(f,g,u);Jr(),f=f.memoizedState,g=Jr();var b=g.queue.dispatch;return g.memoizedState=u,[f,b,!1]}function Af(u,f,g,b){return u={tag:u,create:f,inst:g,deps:b,next:null},f=Tn.updateQueue,f===null&&(f=dy(),Tn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(b=g.next,g.next=u,u.next=b,f.lastEffect=u),u}function fO(){return Jr().memoizedState}function gy(u,f,g,b){var O=ma();Tn.flags|=u,O.memoizedState=Af(1|f,g,{destroy:void 0},b===void 0?null:b)}function my(u,f,g,b){var O=Jr();b=b===void 0?null:b;var j=O.memoizedState.inst;fr!==null&&b!==null&&Uw(b,fr.memoizedState.deps)?O.memoizedState=Af(f,g,j,b):(Tn.flags|=u,O.memoizedState=Af(1|f,g,j,b))}function dO(u,f){gy(8390656,8,u,f)}function Zw(u,f){my(2048,8,u,f)}function hO(u,f){return my(4,2,u,f)}function pO(u,f){return my(4,4,u,f)}function gO(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function mO(u,f,g){g=g!=null?g.concat([u]):null,my(4,4,gO.bind(null,f,u),g)}function Jw(){}function yO(u,f){var g=Jr();f=f===void 0?null:f;var b=g.memoizedState;return f!==null&&Uw(f,b[1])?b[0]:(g.memoizedState=[u,f],u)}function vO(u,f){var g=Jr();f=f===void 0?null:f;var b=g.memoizedState;if(f!==null&&Uw(f,b[1]))return b[0];if(b=u(),Gl){Dt(!0);try{u()}finally{Dt(!1)}}return g.memoizedState=[b,f],b}function Yw(u,f,g){return g===void 0||Fu&1073741824?u.memoizedState=f:(u.memoizedState=g,u=wI(),Tn.lanes|=u,Gu|=u,g)}function _O(u,f,g,b){return Wi(g,f)?g:Sf.current!==null?(u=Yw(u,g,b),Wi(u,f)||(hi=!0),u):Fu&42?(u=wI(),Tn.lanes|=u,Gu|=u,f):(hi=!0,u.memoizedState=g)}function wO(u,f,g,b,O){var j=J.p;J.p=j!==0&&8>j?j:8;var le=Y.T,Ce={};Y.T=Ce,tb(u,!1,f,g);try{var Ve=O(),at=Y.S;if(at!==null&&at(Ce,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var _t=h7(Ve,b);Dh(u,f,_t,Ma(u))}else Dh(u,f,b,Ma(u))}catch(Ct){Dh(u,f,{then:function(){},status:"rejected",reason:Ct},Ma())}finally{J.p=j,Y.T=le}}function v7(){}function Xw(u,f,g,b){if(u.tag!==5)throw Error(r(476));var O=bO(u).queue;wO(u,O,f,pe,g===null?v7:function(){return SO(u),g(b)})}function bO(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:pe},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function SO(u){var f=bO(u).next.queue;Dh(u,f,{},Ma())}function eb(){return Ni(ep)}function xO(){return Jr().memoizedState}function EO(){return Jr().memoizedState}function _7(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ma();u=Bu(g);var b=qu(f,u,g);b!==null&&(ea(b,f,g),Fh(b,f,g)),f={cache:Fw()},u.payload=f;return}f=f.return}}function w7(u,f,g){var b=Ma();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},yy(u)?CO(f,g):(g=vf(u,f,g,b),g!==null&&(ea(g,u,b),AO(g,f,b)))}function TO(u,f,g){var b=Ma();Dh(u,f,g,b)}function Dh(u,f,g,b){var O={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(yy(u))CO(f,O);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var le=f.lastRenderedState,Ce=j(le,g);if(O.hasEagerState=!0,O.eagerState=Ce,Wi(Ce,le))return ql(u,f,O,0),wr===null&&pa(),!1}catch{}finally{}if(g=vf(u,f,O,b),g!==null)return ea(g,u,b),AO(g,f,b),!0}return!1}function tb(u,f,g,b){if(b={lane:2,revertLane:Hb(),action:b,hasEagerState:!1,eagerState:null,next:null},yy(u)){if(f)throw Error(r(479))}else f=vf(u,g,b,2),f!==null&&ea(f,u,2)}function yy(u){var f=u.alternate;return u===Tn||f!==null&&f===Tn}function CO(u,f){Tf=cy=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function AO(u,f,g){if(g&4194176){var b=f.lanes;b&=u.pendingLanes,g|=b,f.lanes=g,Jn(u,g)}}var Qo={readContext:Ni,use:hy,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useLayoutEffect:Kr,useInsertionEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useSyncExternalStore:Kr,useId:Kr};Qo.useCacheRefresh=Kr,Qo.useMemoCache=Kr,Qo.useHostTransitionStatus=Kr,Qo.useFormState=Kr,Qo.useActionState=Kr,Qo.useOptimistic=Kr;var Wl={readContext:Ni,use:hy,useCallback:function(u,f){return ma().memoizedState=[u,f===void 0?null:f],u},useContext:Ni,useEffect:dO,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,gy(4194308,4,gO.bind(null,f,u),g)},useLayoutEffect:function(u,f){return gy(4194308,4,u,f)},useInsertionEffect:function(u,f){gy(4,2,u,f)},useMemo:function(u,f){var g=ma();f=f===void 0?null:f;var b=u();if(Gl){Dt(!0);try{u()}finally{Dt(!1)}}return g.memoizedState=[b,f],b},useReducer:function(u,f,g){var b=ma();if(g!==void 0){var O=g(f);if(Gl){Dt(!0);try{g(f)}finally{Dt(!1)}}}else O=f;return b.memoizedState=b.baseState=O,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:O},b.queue=u,u=u.dispatch=w7.bind(null,Tn,u),[b.memoizedState,u]},useRef:function(u){var f=ma();return u={current:u},f.memoizedState=u},useState:function(u){u=Ww(u);var f=u.queue,g=TO.bind(null,Tn,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:Jw,useDeferredValue:function(u,f){var g=ma();return Yw(g,u,f)},useTransition:function(){var u=Ww(!1);return u=wO.bind(null,Tn,u.queue,!0,!1),ma().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var b=Tn,O=ma();if(ve){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),wr===null)throw Error(r(349));Un&60||ZP(b,f,g)}O.memoizedState=g;var j={value:g,getSnapshot:f};return O.queue=j,dO(YP.bind(null,b,j,u),[u]),b.flags|=2048,Af(9,JP.bind(null,b,j,g,f),{destroy:void 0},null),g},useId:function(){var u=ma(),f=wr.identifierPrefix;if(ve){var g=Ya,b=Ja;g=(b&~(1<<32-Rt(b)-1)).toString(32)+g,f=":"+f+"R"+g,g=fy++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=p7++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return ma().memoizedState=_7.bind(null,Tn)}};Wl.useMemoCache=Vw,Wl.useHostTransitionStatus=eb,Wl.useFormState=sO,Wl.useActionState=sO,Wl.useOptimistic=function(u){var f=ma();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=tb.bind(null,Tn,!0,g),g.dispatch=f,[u,f]};var ju={readContext:Ni,use:hy,useCallback:yO,useContext:Ni,useEffect:Zw,useImperativeHandle:mO,useInsertionEffect:hO,useLayoutEffect:pO,useMemo:vO,useReducer:py,useRef:fO,useState:function(){return py(Ds)},useDebugValue:Jw,useDeferredValue:function(u,f){var g=Jr();return _O(g,fr.memoizedState,u,f)},useTransition:function(){var u=py(Ds)[0],f=Jr().memoizedState;return[typeof u=="boolean"?u:Mh(u),f]},useSyncExternalStore:QP,useId:xO};ju.useCacheRefresh=EO,ju.useMemoCache=Vw,ju.useHostTransitionStatus=eb,ju.useFormState=uO,ju.useActionState=uO,ju.useOptimistic=function(u,f){var g=Jr();return tO(g,fr,u,f)};var Ql={readContext:Ni,use:hy,useCallback:yO,useContext:Ni,useEffect:Zw,useImperativeHandle:mO,useInsertionEffect:hO,useLayoutEffect:pO,useMemo:vO,useReducer:Gw,useRef:fO,useState:function(){return Gw(Ds)},useDebugValue:Jw,useDeferredValue:function(u,f){var g=Jr();return fr===null?Yw(g,u,f):_O(g,fr.memoizedState,u,f)},useTransition:function(){var u=Gw(Ds)[0],f=Jr().memoizedState;return[typeof u=="boolean"?u:Mh(u),f]},useSyncExternalStore:QP,useId:xO};Ql.useCacheRefresh=EO,Ql.useMemoCache=Vw,Ql.useHostTransitionStatus=eb,Ql.useFormState=cO,Ql.useActionState=cO,Ql.useOptimistic=function(u,f){var g=Jr();return fr!==null?tO(g,fr,u,f):(g.baseState=u,[u,g.queue.dispatch])};function nb(u,f,g,b){f=u.memoizedState,g=g(b,f),g=g==null?f:B({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var rb={isMounted:function(u){return(u=u._reactInternals)?fe(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var b=Ma(),O=Bu(b);O.payload=f,g!=null&&(O.callback=g),f=qu(u,O,b),f!==null&&(ea(f,u,b),Fh(f,u,b))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var b=Ma(),O=Bu(b);O.tag=1,O.payload=f,g!=null&&(O.callback=g),f=qu(u,O,b),f!==null&&(ea(f,u,b),Fh(f,u,b))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=Ma(),b=Bu(g);b.tag=2,f!=null&&(b.callback=f),f=qu(u,b,g),f!==null&&(ea(f,u,g),Fh(f,u,g))}};function RO(u,f,g,b,O,j,le){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,j,le):f.prototype&&f.prototype.isPureReactComponent?!Qi(g,b)||!Qi(O,j):!0}function PO(u,f,g,b){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==u&&rb.enqueueReplaceState(f,f.state,null)}function Zl(u,f){var g=f;if("ref"in f){g={};for(var b in f)b!=="ref"&&(g[b]=f[b])}if(u=u.defaultProps){g===f&&(g=B({},g));for(var O in u)g[O]===void 0&&(g[O]=u[O])}return g}var vy=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function OO(u){vy(u)}function IO(u){console.error(u)}function LO(u){vy(u)}function _y(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function MO(u,f,g){try{var b=u.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function ib(u,f,g){return g=Bu(g),g.tag=3,g.payload={element:null},g.callback=function(){_y(u,f)},g}function DO(u){return u=Bu(u),u.tag=3,u}function kO(u,f,g,b){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var j=b.value;u.payload=function(){return O(j)},u.callback=function(){MO(f,g,b)}}var le=g.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(u.callback=function(){MO(f,g,b),typeof O!="function"&&(Wu===null?Wu=new Set([this]):Wu.add(this));var Ce=b.stack;this.componentDidCatch(b.value,{componentStack:Ce!==null?Ce:""})})}function b7(u,f,g,b,O){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=g.alternate,f!==null&&Nh(f,g,O,!0),g=Xa.current,g!==null){switch(g.tag){case 13:return Wo===null?$b():g.alternate===null&&Fr===0&&(Fr=3),g.flags&=-257,g.flags|=65536,g.lanes=O,b===Ko?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([b]):f.add(b),Bb(u,b,O)),!1;case 22:return g.flags|=65536,b===Ko?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([b]):g.add(b)),Bb(u,b,O)),!1}throw Error(r(435,g.tag))}return Bb(u,b,O),$b(),!1}if(ve)return f=Xa.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=O,b!==yt&&(u=Error(r(422),{cause:b}),Rr(Ji(u,g)))):(b!==yt&&(f=Error(r(423),{cause:b}),Rr(Ji(f,g))),u=u.current.alternate,u.flags|=65536,O&=-O,u.lanes|=O,b=Ji(b,g),O=ib(u.stateNode,b,O),_b(u,O),Fr!==4&&(Fr=2)),!1;var j=Error(r(520),{cause:b});if(j=Ji(j,g),Vh===null?Vh=[j]:Vh.push(j),Fr!==4&&(Fr=2),f===null)return!0;b=Ji(b,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=O&-O,g.lanes|=u,u=ib(g.stateNode,b,u),_b(g,u),!1;case 1:if(f=g.type,j=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Wu===null||!Wu.has(j))))return g.flags|=65536,O&=-O,g.lanes|=O,O=DO(O),kO(O,u,g,b),_b(g,O),!1}g=g.return}while(g!==null);return!1}var NO=Error(r(461)),hi=!1;function Si(u,f,g,b){f.child=u===null?oy(f,null,g,b):Go(f,u.child,g,b)}function FO(u,f,g,b,O){g=g.render;var j=f.ref;if("ref"in b){var le={};for(var Ce in b)Ce!=="ref"&&(le[Ce]=b[Ce])}else le=b;return Yl(f),b=Bw(u,f,g,le,j,O),Ce=qw(),u!==null&&!hi?(zw(u,f,O),ks(u,f,O)):(ve&&Ce&&_(f),f.flags|=1,Si(u,f,b,O),f.child)}function jO(u,f,g,b,O){if(u===null){var j=g.type;return typeof j=="function"&&!Ab(j)&&j.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=j,$O(u,f,j,b,O)):(u=Ey(g.type,null,b,f,f.mode,O),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,!hb(u,O)){var le=j.memoizedProps;if(g=g.compare,g=g!==null?g:Qi,g(le,b)&&u.ref===f.ref)return ks(u,f,O)}return f.flags|=1,u=Ku(j,b),u.ref=f.ref,u.return=f,f.child=u}function $O(u,f,g,b,O){if(u!==null){var j=u.memoizedProps;if(Qi(j,b)&&u.ref===f.ref)if(hi=!1,f.pendingProps=b=j,hb(u,O))u.flags&131072&&(hi=!0);else return f.lanes=u.lanes,ks(u,f,O)}return ab(u,f,g,b,O)}function UO(u,f,g){var b=f.pendingProps,O=b.children,j=(f.stateNode._pendingVisibility&2)!==0,le=u!==null?u.memoizedState:null;if(kh(u,f),b.mode==="hidden"||j){if(f.flags&128){if(b=le!==null?le.baseLanes|g:g,u!==null){for(O=f.child=u.child,j=0;O!==null;)j=j|O.lanes|O.childLanes,O=O.sibling;f.childLanes=j&~b}else f.childLanes=0,f.child=null;return BO(u,f,b,g)}if(g&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&ly(f,le!==null?le.cachePool:null),le!==null?qP(f,le):kw(),zP(f);else return f.lanes=f.childLanes=536870912,BO(u,f,le!==null?le.baseLanes|g:g,g)}else le!==null?(ly(f,le.cachePool),qP(f,le),Nu(),f.memoizedState=null):(u!==null&&ly(f,null),kw(),Nu());return Si(u,f,O,g),f.child}function BO(u,f,g,b){var O=$w();return O=O===null?null:{parent:ai._currentValue,pool:O},f.memoizedState={baseLanes:g,cachePool:O},u!==null&&ly(f,null),kw(),zP(f),u!==null&&Nh(u,f,b,!0),null}function kh(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(f.flags|=2097664)}}function ab(u,f,g,b,O){return Yl(f),g=Bw(u,f,g,b,void 0,O),b=qw(),u!==null&&!hi?(zw(u,f,O),ks(u,f,O)):(ve&&b&&_(f),f.flags|=1,Si(u,f,g,O),f.child)}function qO(u,f,g,b,O,j){return Yl(f),f.updateQueue=null,g=WP(f,b,g,O),GP(u),b=qw(),u!==null&&!hi?(zw(u,f,j),ks(u,f,j)):(ve&&b&&_(f),f.flags|=1,Si(u,f,g,j),f.child)}function zO(u,f,g,b,O){if(Yl(f),f.stateNode===null){var j=Za,le=g.contextType;typeof le=="object"&&le!==null&&(j=Ni(le)),j=new g(b,j),f.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=rb,f.stateNode=j,j._reactInternals=f,j=f.stateNode,j.props=b,j.state=f.memoizedState,j.refs={},yb(f),le=g.contextType,j.context=typeof le=="object"&&le!==null?Ni(le):Za,j.state=f.memoizedState,le=g.getDerivedStateFromProps,typeof le=="function"&&(nb(f,g,le,b),j.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(le=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),le!==j.state&&rb.enqueueReplaceState(j,j.state,null),$h(f,b,j,O),jh(),j.state=f.memoizedState),typeof j.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(u===null){j=f.stateNode;var Ce=f.memoizedProps,Ve=Zl(g,Ce);j.props=Ve;var at=j.context,_t=g.contextType;le=Za,typeof _t=="object"&&_t!==null&&(le=Ni(_t));var Ct=g.getDerivedStateFromProps;_t=typeof Ct=="function"||typeof j.getSnapshotBeforeUpdate=="function",Ce=f.pendingProps!==Ce,_t||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Ce||at!==le)&&PO(f,j,b,le),Uu=!1;var pt=f.memoizedState;j.state=pt,$h(f,b,j,O),jh(),at=f.memoizedState,Ce||pt!==at||Uu?(typeof Ct=="function"&&(nb(f,g,Ct,b),at=f.memoizedState),(Ve=Uu||RO(f,g,Ve,b,pt,at,le))?(_t||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=at),j.props=b,j.state=at,j.context=le,b=Ve):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{j=f.stateNode,vb(u,f),le=f.memoizedProps,_t=Zl(g,le),j.props=_t,Ct=f.pendingProps,pt=j.context,at=g.contextType,Ve=Za,typeof at=="object"&&at!==null&&(Ve=Ni(at)),Ce=g.getDerivedStateFromProps,(at=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(le!==Ct||pt!==Ve)&&PO(f,j,b,Ve),Uu=!1,pt=f.memoizedState,j.state=pt,$h(f,b,j,O),jh();var vt=f.memoizedState;le!==Ct||pt!==vt||Uu||u!==null&&u.dependencies!==null&&wy(u.dependencies)?(typeof Ce=="function"&&(nb(f,g,Ce,b),vt=f.memoizedState),(_t=Uu||RO(f,g,_t,b,pt,vt,Ve)||u!==null&&u.dependencies!==null&&wy(u.dependencies))?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(b,vt,Ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(b,vt,Ve)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=vt),j.props=b,j.state=vt,j.context=Ve,b=_t):(typeof j.componentDidUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),b=!1)}return j=b,kh(u,f),b=(f.flags&128)!==0,j||b?(j=f.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:j.render(),f.flags|=1,u!==null&&b?(f.child=Go(f,u.child,null,O),f.child=Go(f,null,g,O)):Si(u,f,g,O),f.memoizedState=j.state,u=f.child):u=ks(u,f,O),u}function HO(u,f,g,b){return Vr(),f.flags|=256,Si(u,f,g,b),f.child}var ob={dehydrated:null,treeContext:null,retryLane:0};function sb(u){return{baseLanes:u,cachePool:KP()}}function ub(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=ro),u}function VO(u,f,g){var b=f.pendingProps,O=!1,j=(f.flags&128)!==0,le;if((le=j)||(le=u!==null&&u.memoizedState===null?!1:(ii.current&2)!==0),le&&(O=!0,f.flags&=-129),le=(f.flags&32)!==0,f.flags&=-33,u===null){if(ve){if(O?ku(f):Nu(),ve){var Ce=ee,Ve;if(Ve=Ce){e:{for(Ve=Ce,Ce=st;Ve.nodeType!==8;){if(!Ce){Ce=null;break e}if(Ve=So(Ve.nextSibling),Ve===null){Ce=null;break e}}Ce=Ve}Ce!==null?(f.memoizedState={dehydrated:Ce,treeContext:Ps!==null?{id:Ja,overflow:Ya}:null,retryLane:536870912},Ve=no(18,null,null,0),Ve.stateNode=Ce,Ve.return=f,f.child=Ve,U=f,ee=null,Ve=!0):Ve=!1}Ve||bt(f)}if(Ce=f.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Ce.data==="$!"?f.lanes=16:f.lanes=536870912,null;Ms(f)}return Ce=b.children,b=b.fallback,O?(Nu(),O=f.mode,Ce=cb({mode:"hidden",children:Ce},O),b=ec(b,O,g,null),Ce.return=f,b.return=f,Ce.sibling=b,f.child=Ce,O=f.child,O.memoizedState=sb(g),O.childLanes=ub(u,le,g),f.memoizedState=ob,b):(ku(f),lb(f,Ce))}if(Ve=u.memoizedState,Ve!==null&&(Ce=Ve.dehydrated,Ce!==null)){if(j)f.flags&256?(ku(f),f.flags&=-257,f=fb(u,f,g)):f.memoizedState!==null?(Nu(),f.child=u.child,f.flags|=128,f=null):(Nu(),O=b.fallback,Ce=f.mode,b=cb({mode:"visible",children:b.children},Ce),O=ec(O,Ce,g,null),O.flags|=2,b.return=f,O.return=f,b.sibling=O,f.child=b,Go(f,u.child,null,g),b=f.child,b.memoizedState=sb(g),b.childLanes=ub(u,le,g),f.memoizedState=ob,f=O);else if(ku(f),Ce.data==="$!"){if(le=Ce.nextSibling&&Ce.nextSibling.dataset,le)var at=le.dgst;le=at,b=Error(r(419)),b.stack="",b.digest=le,Rr({value:b,source:null,stack:null}),f=fb(u,f,g)}else if(hi||Nh(u,f,g,!1),le=(g&u.childLanes)!==0,hi||le){if(le=wr,le!==null){if(b=g&-g,b&42)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=b&(le.suspendedLanes|g)?0:b,b!==0&&b!==Ve.retryLane)throw Ve.retryLane=b,ga(u,b),ea(le,u,b),NO}Ce.data==="$?"||$b(),f=fb(u,f,g)}else Ce.data==="$?"?(f.flags|=128,f.child=u.child,f=N7.bind(null,u),Ce._reactRetry=f,f=null):(u=Ve.treeContext,ee=So(Ce.nextSibling),U=f,ve=!0,Ge=null,st=!1,u!==null&&(Yi[Xi++]=Ja,Yi[Xi++]=Ya,Yi[Xi++]=Ps,Ja=u.id,Ya=u.overflow,Ps=f),f=lb(f,b.children),f.flags|=4096);return f}return O?(Nu(),O=b.fallback,Ce=f.mode,Ve=u.child,at=Ve.sibling,b=Ku(Ve,{mode:"hidden",children:b.children}),b.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?O=Ku(at,O):(O=ec(O,Ce,g,null),O.flags|=2),O.return=f,b.return=f,b.sibling=O,f.child=b,b=O,O=f.child,Ce=u.child.memoizedState,Ce===null?Ce=sb(g):(Ve=Ce.cachePool,Ve!==null?(at=ai._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=KP(),Ce={baseLanes:Ce.baseLanes|g,cachePool:Ve}),O.memoizedState=Ce,O.childLanes=ub(u,le,g),f.memoizedState=ob,b):(ku(f),g=u.child,u=g.sibling,g=Ku(g,{mode:"visible",children:b.children}),g.return=f,g.sibling=null,u!==null&&(le=f.deletions,le===null?(f.deletions=[u],f.flags|=16):le.push(u)),f.child=g,f.memoizedState=null,g)}function lb(u,f){return f=cb({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function cb(u,f){return yI(u,f,0,null)}function fb(u,f,g){return Go(f,u.child,null,g),u=lb(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function KO(u,f,g){u.lanes|=f;var b=u.alternate;b!==null&&(b.lanes|=f),gb(u.return,f,g)}function db(u,f,g,b,O){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:O}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=b,j.tail=g,j.tailMode=O)}function GO(u,f,g){var b=f.pendingProps,O=b.revealOrder,j=b.tail;if(Si(u,f,b.children,g),b=ii.current,b&2)b=b&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&KO(u,g,f);else if(u.tag===19)KO(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}switch(Xe(ii,b),O){case"forwards":for(g=f.child,O=null;g!==null;)u=g.alternate,u!==null&&uy(u)===null&&(O=g),g=g.sibling;g=O,g===null?(O=f.child,f.child=null):(O=g.sibling,g.sibling=null),db(f,!1,O,g,j);break;case"backwards":for(g=null,O=f.child,f.child=null;O!==null;){if(u=O.alternate,u!==null&&uy(u)===null){f.child=O;break}u=O.sibling,O.sibling=g,g=O,O=u}db(f,!0,g,null,j);break;case"together":db(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function ks(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Gu|=f.lanes,!(g&f.childLanes))if(u!==null){if(Nh(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=Ku(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=Ku(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function hb(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&wy(u)))}function S7(u,f,g){switch(f.tag){case 3:W(f,f.stateNode.containerInfo),$u(f,ai,u.memoizedState.cache),Vr();break;case 27:case 5:ye(f);break;case 4:W(f,f.stateNode.containerInfo);break;case 10:$u(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(ku(f),f.flags|=128,null):g&f.child.childLanes?VO(u,f,g):(ku(f),u=ks(u,f,g),u!==null?u.sibling:null);ku(f);break;case 19:var O=(u.flags&128)!==0;if(b=(g&f.childLanes)!==0,b||(Nh(u,f,g,!1),b=(g&f.childLanes)!==0),O){if(b)return GO(u,f,g);f.flags|=128}if(O=f.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Xe(ii,ii.current),b)break;return null;case 22:case 23:return f.lanes=0,UO(u,f,g);case 24:$u(f,ai,u.memoizedState.cache)}return ks(u,f,g)}function WO(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)hi=!0;else{if(!hb(u,g)&&!(f.flags&128))return hi=!1,S7(u,f,g);hi=!!(u.flags&131072)}else hi=!1,ve&&f.flags&1048576&&d(f,Hl,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var b=f.elementType,O=b._init;if(b=O(b._payload),f.type=b,typeof b=="function")Ab(b)?(u=Zl(b,u),f.tag=1,f=zO(null,f,b,u,g)):(f.tag=0,f=ab(null,f,b,u,g));else{if(b!=null){if(O=b.$$typeof,O===v){f.tag=11,f=FO(null,f,b,u,g);break e}else if(O===x){f.tag=14,f=jO(null,f,b,u,g);break e}}throw f=Q(b)||b,Error(r(306,f,""))}}return f;case 0:return ab(u,f,f.type,f.pendingProps,g);case 1:return b=f.type,O=Zl(b,f.pendingProps),zO(u,f,b,O,g);case 3:e:{if(W(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var j=f.pendingProps;O=f.memoizedState,b=O.element,vb(u,f),$h(f,j,null,g);var le=f.memoizedState;if(j=le.cache,$u(f,ai,j),j!==O.cache&&mb(f,[ai],g,!0),jh(),j=le.element,O.isDehydrated)if(O={element:j,isDehydrated:!1,cache:le.cache},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){f=HO(u,f,j,g);break e}else if(j!==b){b=Ji(Error(r(424)),f),Rr(b),f=HO(u,f,j,g);break e}else for(ee=So(f.stateNode.containerInfo.firstChild),U=f,ve=!0,Ge=null,st=!0,g=oy(f,null,j,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Vr(),j===b){f=ks(u,f,g);break e}Si(u,f,j,g)}f=f.child}return f;case 26:return kh(u,f),u===null?(g=JI(f.type,null,f.pendingProps,null))?f.memoizedState=g:ve||(g=f.type,u=f.pendingProps,b=Ny($.current).createElement(g),b[it]=f,b[Et]=u,xi(b,g,u),Bn(b),f.stateNode=b):f.memoizedState=JI(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ye(f),u===null&&ve&&(b=f.stateNode=WI(f.type,f.pendingProps,$.current),U=f,st=!0,ee=So(b.firstChild)),b=f.pendingProps.children,u!==null||ve?Si(u,f,b,g):f.child=Go(f,null,b,g),kh(u,f),f.child;case 5:return u===null&&ve&&((O=b=ee)&&(b=Y7(b,f.type,f.pendingProps,st),b!==null?(f.stateNode=b,U=f,ee=So(b.firstChild),st=!1,O=!0):O=!1),O||bt(f)),ye(f),O=f.type,j=f.pendingProps,le=u!==null?u.memoizedProps:null,b=j.children,Xb(O,j)?b=null:le!==null&&Xb(O,le)&&(f.flags|=32),f.memoizedState!==null&&(O=Bw(u,f,g7,null,null,g),ep._currentValue=O),kh(u,f),Si(u,f,b,g),f.child;case 6:return u===null&&ve&&((u=g=ee)&&(g=X7(g,f.pendingProps,st),g!==null?(f.stateNode=g,U=f,ee=null,u=!0):u=!1),u||bt(f)),null;case 13:return VO(u,f,g);case 4:return W(f,f.stateNode.containerInfo),b=f.pendingProps,u===null?f.child=Go(f,null,b,g):Si(u,f,b,g),f.child;case 11:return FO(u,f,f.type,f.pendingProps,g);case 7:return Si(u,f,f.pendingProps,g),f.child;case 8:return Si(u,f,f.pendingProps.children,g),f.child;case 12:return Si(u,f,f.pendingProps.children,g),f.child;case 10:return b=f.pendingProps,$u(f,f.type,b.value),Si(u,f,b.children,g),f.child;case 9:return O=f.type._context,b=f.pendingProps.children,Yl(f),O=Ni(O),b=b(O),f.flags|=1,Si(u,f,b,g),f.child;case 14:return jO(u,f,f.type,f.pendingProps,g);case 15:return $O(u,f,f.type,f.pendingProps,g);case 19:return GO(u,f,g);case 22:return UO(u,f,g);case 24:return Yl(f),b=Ni(ai),u===null?(O=$w(),O===null&&(O=wr,j=Fw(),O.pooledCache=j,j.refCount++,j!==null&&(O.pooledCacheLanes|=g),O=j),f.memoizedState={parent:b,cache:O},yb(f),$u(f,ai,O)):(u.lanes&g&&(vb(u,f),$h(f,null,null,g),jh()),O=u.memoizedState,j=f.memoizedState,O.parent!==b?(O={parent:b,cache:b},f.memoizedState=O,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=O),$u(f,ai,b)):(b=j.cache,$u(f,ai,b),b!==O.cache&&mb(f,[ai],g,!0))),Si(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var pb=Re(null),Jl=null,Ns=null;function $u(u,f,g){Xe(pb,f._currentValue),f._currentValue=g}function Fs(u){u._currentValue=pb.current,Fe(pb)}function gb(u,f,g){for(;u!==null;){var b=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),u===g)break;u=u.return}}function mb(u,f,g,b){var O=u.child;for(O!==null&&(O.return=u);O!==null;){var j=O.dependencies;if(j!==null){var le=O.child;j=j.firstContext;e:for(;j!==null;){var Ce=j;j=O;for(var Ve=0;Ve<f.length;Ve++)if(Ce.context===f[Ve]){j.lanes|=g,Ce=j.alternate,Ce!==null&&(Ce.lanes|=g),gb(j.return,g,u),b||(le=null);break e}j=Ce.next}}else if(O.tag===18){if(le=O.return,le===null)throw Error(r(341));le.lanes|=g,j=le.alternate,j!==null&&(j.lanes|=g),gb(le,g,u),le=null}else le=O.child;if(le!==null)le.return=O;else for(le=O;le!==null;){if(le===u){le=null;break}if(O=le.sibling,O!==null){O.return=le.return,le=O;break}le=le.return}O=le}}function Nh(u,f,g,b){u=null;for(var O=f,j=!1;O!==null;){if(!j){if(O.flags&524288)j=!0;else if(O.flags&262144)break}if(O.tag===10){var le=O.alternate;if(le===null)throw Error(r(387));if(le=le.memoizedProps,le!==null){var Ce=O.type;Wi(O.pendingProps.value,le.value)||(u!==null?u.push(Ce):u=[Ce])}}else if(O===ae.current){if(le=O.alternate,le===null)throw Error(r(387));le.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(u!==null?u.push(ep):u=[ep])}O=O.return}u!==null&&mb(f,u,g,b),f.flags|=262144}function wy(u){for(u=u.firstContext;u!==null;){if(!Wi(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Yl(u){Jl=u,Ns=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ni(u){return QO(Jl,u)}function by(u,f){return Jl===null&&Yl(u),QO(u,f)}function QO(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Ns===null){if(u===null)throw Error(r(308));Ns=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Ns=Ns.next=f;return g}var Uu=!1;function yb(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vb(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Bu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function qu(u,f,g){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,Lr&2){var O=b.pending;return O===null?f.next=f:(f.next=O.next,O.next=f),b.pending=f,f=As(u),ty(u,null,g),f}return ql(u,b,f,g),As(u)}function Fh(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var b=f.lanes;b&=u.pendingLanes,g|=b,f.lanes=g,Jn(u,g)}}function _b(u,f){var g=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var O=null,j=null;if(g=g.firstBaseUpdate,g!==null){do{var le={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};j===null?O=j=le:j=j.next=le,g=g.next}while(g!==null);j===null?O=j=f:j=j.next=f}else O=j=f;g={baseState:b.baseState,firstBaseUpdate:O,lastBaseUpdate:j,shared:b.shared,callbacks:b.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var wb=!1;function jh(){if(wb){var u=Ef;if(u!==null)throw u}}function $h(u,f,g,b){wb=!1;var O=u.updateQueue;Uu=!1;var j=O.firstBaseUpdate,le=O.lastBaseUpdate,Ce=O.shared.pending;if(Ce!==null){O.shared.pending=null;var Ve=Ce,at=Ve.next;Ve.next=null,le===null?j=at:le.next=at,le=Ve;var _t=u.alternate;_t!==null&&(_t=_t.updateQueue,Ce=_t.lastBaseUpdate,Ce!==le&&(Ce===null?_t.firstBaseUpdate=at:Ce.next=at,_t.lastBaseUpdate=Ve))}if(j!==null){var Ct=O.baseState;le=0,_t=at=Ve=null,Ce=j;do{var pt=Ce.lane&-536870913,vt=pt!==Ce.lane;if(vt?(Un&pt)===pt:(b&pt)===pt){pt!==0&&pt===xf&&(wb=!0),_t!==null&&(_t=_t.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Zt=u,mn=Ce;pt=f;var jr=g;switch(mn.tag){case 1:if(Zt=mn.payload,typeof Zt=="function"){Ct=Zt.call(jr,Ct,pt);break e}Ct=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=mn.payload,pt=typeof Zt=="function"?Zt.call(jr,Ct,pt):Zt,pt==null)break e;Ct=B({},Ct,pt);break e;case 2:Uu=!0}}pt=Ce.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=O.callbacks,vt===null?O.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},_t===null?(at=_t=vt,Ve=Ct):_t=_t.next=vt,le|=pt;if(Ce=Ce.next,Ce===null){if(Ce=O.shared.pending,Ce===null)break;vt=Ce,Ce=vt.next,vt.next=null,O.lastBaseUpdate=vt,O.shared.pending=null}}while(!0);_t===null&&(Ve=Ct),O.baseState=Ve,O.firstBaseUpdate=at,O.lastBaseUpdate=_t,j===null&&(O.shared.lanes=0),Gu|=le,u.lanes=le,u.memoizedState=Ct}}function ZO(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function JO(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)ZO(g[u],f)}function Uh(u,f){try{var g=f.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var O=b.next;g=O;do{if((g.tag&u)===u){b=void 0;var j=g.create,le=g.inst;b=j(),le.destroy=b}g=g.next}while(g!==O)}}catch(Ce){yr(f,f.return,Ce)}}function zu(u,f,g){try{var b=f.updateQueue,O=b!==null?b.lastEffect:null;if(O!==null){var j=O.next;b=j;do{if((b.tag&u)===u){var le=b.inst,Ce=le.destroy;if(Ce!==void 0){le.destroy=void 0,O=f;var Ve=g;try{Ce()}catch(at){yr(O,Ve,at)}}}b=b.next}while(b!==j)}}catch(at){yr(f,f.return,at)}}function YO(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{JO(f,g)}catch(b){yr(u,u.return,b)}}}function XO(u,f,g){g.props=Zl(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(b){yr(u,f,b)}}function Xl(u,f){try{var g=u.ref;if(g!==null){var b=u.stateNode;switch(u.tag){case 26:case 27:case 5:var O=b;break;default:O=b}typeof g=="function"?u.refCleanup=g(O):g.current=O}}catch(j){yr(u,f,j)}}function Oa(u,f){var g=u.ref,b=u.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(O){yr(u,f,O)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){yr(u,f,O)}else g.current=null}function eI(u){var f=u.type,g=u.memoizedProps,b=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(O){yr(u,u.return,O)}}function tI(u,f,g){try{var b=u.stateNode;G7(b,u.type,g,f),b[Et]=f}catch(O){yr(u,u.return,O)}}function nI(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function bb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||nI(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Sb(u,f,g){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=ky));else if(b!==4&&b!==27&&(u=u.child,u!==null))for(Sb(u,f,g),u=u.sibling;u!==null;)Sb(u,f,g),u=u.sibling}function Sy(u,f,g){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(b!==4&&b!==27&&(u=u.child,u!==null))for(Sy(u,f,g),u=u.sibling;u!==null;)Sy(u,f,g),u=u.sibling}var js=!1,Nr=!1,xb=!1,rI=typeof WeakSet=="function"?WeakSet:Set,pi=null,iI=!1;function x7(u,f){if(u=u.containerInfo,Jb=qy,u=Fl(u),jl(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var O=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{g.nodeType,j.nodeType}catch{g=null;break e}var le=0,Ce=-1,Ve=-1,at=0,_t=0,Ct=u,pt=null;t:for(;;){for(var vt;Ct!==g||O!==0&&Ct.nodeType!==3||(Ce=le+O),Ct!==j||b!==0&&Ct.nodeType!==3||(Ve=le+b),Ct.nodeType===3&&(le+=Ct.nodeValue.length),(vt=Ct.firstChild)!==null;)pt=Ct,Ct=vt;for(;;){if(Ct===u)break t;if(pt===g&&++at===O&&(Ce=le),pt===j&&++_t===b&&(Ve=le),(vt=Ct.nextSibling)!==null)break;Ct=pt,pt=Ct.parentNode}Ct=vt}g=Ce===-1||Ve===-1?null:{start:Ce,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for(Yb={focusedElem:u,selectionRange:g},qy=!1,pi=f;pi!==null;)if(f=pi,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,pi=u;else for(;pi!==null;){switch(f=pi,j=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,g=f,O=j.memoizedProps,j=j.memoizedState,b=g.stateNode;try{var Zt=Zl(g.type,O,g.elementType===g.type);u=b.getSnapshotBeforeUpdate(Zt,j),b.__reactInternalSnapshotBeforeUpdate=u}catch(mn){yr(g,g.return,mn)}}break;case 3:if(u&1024){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)n1(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":n1(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,pi=u;break}pi=f.return}return Zt=iI,iI=!1,Zt}function aI(u,f,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Us(u,g),b&4&&Uh(5,g);break;case 1:if(Us(u,g),b&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(Ce){yr(g,g.return,Ce)}else{var O=Zl(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(O,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Ce){yr(g,g.return,Ce)}}b&64&&YO(g),b&512&&Xl(g,g.return);break;case 3:if(Us(u,g),b&64&&(b=g.updateQueue,b!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{JO(b,u)}catch(Ce){yr(g,g.return,Ce)}}break;case 26:Us(u,g),b&512&&Xl(g,g.return);break;case 27:case 5:Us(u,g),f===null&&b&4&&eI(g),b&512&&Xl(g,g.return);break;case 12:Us(u,g);break;case 13:Us(u,g),b&4&&uI(u,g);break;case 22:if(O=g.memoizedState!==null||js,!O){f=f!==null&&f.memoizedState!==null||Nr;var j=js,le=Nr;js=O,(Nr=f)&&!le?Hu(u,g,(g.subtreeFlags&8772)!==0):Us(u,g),js=j,Nr=le}b&512&&(g.memoizedProps.mode==="manual"?Xl(g,g.return):Oa(g,g.return));break;default:Us(u,g)}}function oI(u){var f=u.alternate;f!==null&&(u.alternate=null,oI(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Rn(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Yr=null,Ia=!1;function $s(u,f,g){for(g=g.child;g!==null;)sI(u,f,g),g=g.sibling}function sI(u,f,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ke,g)}catch{}switch(g.tag){case 26:Nr||Oa(g,f),$s(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Nr||Oa(g,f);var b=Yr,O=Ia;for(Yr=g.stateNode,$s(u,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);Rn(g),Yr=b,Ia=O;break;case 5:Nr||Oa(g,f);case 6:O=Yr;var j=Ia;if(Yr=null,$s(u,f,g),Yr=O,Ia=j,Yr!==null)if(Ia)try{u=Yr,b=g.stateNode,u.nodeType===8?u.parentNode.removeChild(b):u.removeChild(b)}catch(le){yr(g,f,le)}else try{Yr.removeChild(g.stateNode)}catch(le){yr(g,f,le)}break;case 18:Yr!==null&&(Ia?(f=Yr,g=g.stateNode,f.nodeType===8?t1(f.parentNode,g):f.nodeType===1&&t1(f,g),ip(f)):t1(Yr,g.stateNode));break;case 4:b=Yr,O=Ia,Yr=g.stateNode.containerInfo,Ia=!0,$s(u,f,g),Yr=b,Ia=O;break;case 0:case 11:case 14:case 15:Nr||zu(2,g,f),Nr||zu(4,g,f),$s(u,f,g);break;case 1:Nr||(Oa(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"&&XO(g,f,b)),$s(u,f,g);break;case 21:$s(u,f,g);break;case 22:Nr||Oa(g,f),Nr=(b=Nr)||g.memoizedState!==null,$s(u,f,g),Nr=b;break;default:$s(u,f,g)}}function uI(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{ip(u)}catch(g){yr(f,f.return,g)}}function E7(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new rI),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new rI),f;default:throw Error(r(435,u.tag))}}function Eb(u,f){var g=E7(u);f.forEach(function(b){var O=F7.bind(null,u,b);g.has(b)||(g.add(b),b.then(O,O))})}function eo(u,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var O=g[b],j=u,le=f,Ce=le;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:Yr=Ce.stateNode,Ia=!1;break e;case 3:Yr=Ce.stateNode.containerInfo,Ia=!0;break e;case 4:Yr=Ce.stateNode.containerInfo,Ia=!0;break e}Ce=Ce.return}if(Yr===null)throw Error(r(160));sI(j,le,O),Yr=null,Ia=!1,j=O.alternate,j!==null&&(j.return=null),O.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)lI(f,u),f=f.sibling}var bo=null;function lI(u,f){var g=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:eo(f,u),to(u),b&4&&(zu(3,u,u.return),Uh(3,u),zu(5,u,u.return));break;case 1:eo(f,u),to(u),b&512&&(Nr||g===null||Oa(g,g.return)),b&64&&js&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var O=bo;if(eo(f,u),to(u),b&512&&(Nr||g===null||Oa(g,g.return)),b&4){var j=g!==null?g.memoizedState:null;if(b=u.memoizedState,g===null)if(b===null)if(u.stateNode===null){e:{b=u.type,g=u.memoizedProps,O=O.ownerDocument||O;t:switch(b){case"title":j=O.getElementsByTagName("title")[0],(!j||j[en]||j[it]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=O.createElement(b),O.head.insertBefore(j,O.querySelector("head > title"))),xi(j,b,g),j[it]=u,Bn(j),b=j;break e;case"link":var le=eL("link","href",O).get(b+(g.href||""));if(le){for(var Ce=0;Ce<le.length;Ce++)if(j=le[Ce],j.getAttribute("href")===(g.href==null?null:g.href)&&j.getAttribute("rel")===(g.rel==null?null:g.rel)&&j.getAttribute("title")===(g.title==null?null:g.title)&&j.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){le.splice(Ce,1);break t}}j=O.createElement(b),xi(j,b,g),O.head.appendChild(j);break;case"meta":if(le=eL("meta","content",O).get(b+(g.content||""))){for(Ce=0;Ce<le.length;Ce++)if(j=le[Ce],j.getAttribute("content")===(g.content==null?null:""+g.content)&&j.getAttribute("name")===(g.name==null?null:g.name)&&j.getAttribute("property")===(g.property==null?null:g.property)&&j.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&j.getAttribute("charset")===(g.charSet==null?null:g.charSet)){le.splice(Ce,1);break t}}j=O.createElement(b),xi(j,b,g),O.head.appendChild(j);break;default:throw Error(r(468,b))}j[it]=u,Bn(j),b=j}u.stateNode=b}else tL(O,u.type,u.stateNode);else u.stateNode=XI(O,b,u.memoizedProps);else j!==b?(j===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):j.count--,b===null?tL(O,u.type,u.stateNode):XI(O,b,u.memoizedProps)):b===null&&u.stateNode!==null&&tI(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(b&4&&u.alternate===null){O=u.stateNode,j=u.memoizedProps;try{for(var Ve=O.firstChild;Ve;){var at=Ve.nextSibling,_t=Ve.nodeName;Ve[en]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||O.removeChild(Ve),Ve=at}for(var Ct=u.type,pt=O.attributes;pt.length;)O.removeAttributeNode(pt[0]);xi(O,Ct,j),O[it]=u,O[Et]=j}catch(Zt){yr(u,u.return,Zt)}}case 5:if(eo(f,u),to(u),b&512&&(Nr||g===null||Oa(g,g.return)),u.flags&32){O=u.stateNode;try{Ue(O,"")}catch(Zt){yr(u,u.return,Zt)}}b&4&&u.stateNode!=null&&(O=u.memoizedProps,tI(u,O,g!==null?g.memoizedProps:O)),b&1024&&(xb=!0);break;case 6:if(eo(f,u),to(u),b&4){if(u.stateNode===null)throw Error(r(162));b=u.memoizedProps,g=u.stateNode;try{g.nodeValue=b}catch(Zt){yr(u,u.return,Zt)}}break;case 3:if($y=null,O=bo,bo=Fy(f.containerInfo),eo(f,u),bo=O,to(u),b&4&&g!==null&&g.memoizedState.isDehydrated)try{ip(f.containerInfo)}catch(Zt){yr(u,u.return,Zt)}xb&&(xb=!1,cI(u));break;case 4:b=bo,bo=Fy(u.stateNode.containerInfo),eo(f,u),to(u),bo=b;break;case 12:eo(f,u),to(u);break;case 13:eo(f,u),to(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Mb=Bt()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,Eb(u,b)));break;case 22:if(b&512&&(Nr||g===null||Oa(g,g.return)),Ve=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,_t=js,Ct=Nr,js=_t||Ve,Nr=Ct||at,eo(f,u),Nr=Ct,js=_t,to(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,b&8192&&(f._visibility=Ve?f._visibility&-2:f._visibility|1,Ve&&(f=js||Nr,g===null||at||f||Rf(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){at=g=f;try{if(O=at.stateNode,Ve)j=O.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{le=at.stateNode,Ce=at.memoizedProps.style;var vt=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;le.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Zt){yr(at,at.return,Zt)}}}else if(f.tag===6){if(g===null){at=f;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Zt){yr(at,at.return,Zt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=u.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Eb(u,g))));break;case 19:eo(f,u),to(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,Eb(u,b)));break;case 21:break;default:eo(f,u),to(u)}}function to(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(nI(g)){var b=g;break e}g=g.return}throw Error(r(160))}switch(b.tag){case 27:var O=b.stateNode,j=bb(u);Sy(u,j,O);break;case 5:var le=b.stateNode;b.flags&32&&(Ue(le,""),b.flags&=-33);var Ce=bb(u);Sy(u,Ce,le);break;case 3:case 4:var Ve=b.stateNode.containerInfo,at=bb(u);Sb(u,at,Ve);break;default:throw Error(r(161))}}}catch(_t){yr(u,u.return,_t)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function cI(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;cI(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Us(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)aI(u,f.alternate,f),f=f.sibling}function Rf(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:zu(4,f,f.return),Rf(f);break;case 1:Oa(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&XO(f,f.return,g),Rf(f);break;case 26:case 27:case 5:Oa(f,f.return),Rf(f);break;case 22:Oa(f,f.return),f.memoizedState===null&&Rf(f);break;default:Rf(f)}u=u.sibling}}function Hu(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,O=u,j=f,le=j.flags;switch(j.tag){case 0:case 11:case 15:Hu(O,j,g),Uh(4,j);break;case 1:if(Hu(O,j,g),b=j,O=b.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(at){yr(b,b.return,at)}if(b=j,O=b.updateQueue,O!==null){var Ce=b.stateNode;try{var Ve=O.shared.hiddenCallbacks;if(Ve!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ve.length;O++)ZO(Ve[O],Ce)}catch(at){yr(b,b.return,at)}}g&&le&64&&YO(j),Xl(j,j.return);break;case 26:case 27:case 5:Hu(O,j,g),g&&b===null&&le&4&&eI(j),Xl(j,j.return);break;case 12:Hu(O,j,g);break;case 13:Hu(O,j,g),g&&le&4&&uI(O,j);break;case 22:j.memoizedState===null&&Hu(O,j,g),Xl(j,j.return);break;default:Hu(O,j,g)}f=f.sibling}}function Tb(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&Oh(g))}function Cb(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Oh(u))}function Vu(u,f,g,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)fI(u,f,g,b),f=f.sibling}function fI(u,f,g,b){var O=f.flags;switch(f.tag){case 0:case 11:case 15:Vu(u,f,g,b),O&2048&&Uh(9,f);break;case 3:Vu(u,f,g,b),O&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Oh(u)));break;case 12:if(O&2048){Vu(u,f,g,b),u=f.stateNode;try{var j=f.memoizedProps,le=j.id,Ce=j.onPostCommit;typeof Ce=="function"&&Ce(le,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){yr(f,f.return,Ve)}}else Vu(u,f,g,b);break;case 23:break;case 22:j=f.stateNode,f.memoizedState!==null?j._visibility&4?Vu(u,f,g,b):Bh(u,f):j._visibility&4?Vu(u,f,g,b):(j._visibility|=4,Pf(u,f,g,b,(f.subtreeFlags&10256)!==0)),O&2048&&Tb(f.alternate,f);break;case 24:Vu(u,f,g,b),O&2048&&Cb(f.alternate,f);break;default:Vu(u,f,g,b)}}function Pf(u,f,g,b,O){for(O=O&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var j=u,le=f,Ce=g,Ve=b,at=le.flags;switch(le.tag){case 0:case 11:case 15:Pf(j,le,Ce,Ve,O),Uh(8,le);break;case 23:break;case 22:var _t=le.stateNode;le.memoizedState!==null?_t._visibility&4?Pf(j,le,Ce,Ve,O):Bh(j,le):(_t._visibility|=4,Pf(j,le,Ce,Ve,O)),O&&at&2048&&Tb(le.alternate,le);break;case 24:Pf(j,le,Ce,Ve,O),O&&at&2048&&Cb(le.alternate,le);break;default:Pf(j,le,Ce,Ve,O)}f=f.sibling}}function Bh(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,b=f,O=b.flags;switch(b.tag){case 22:Bh(g,b),O&2048&&Tb(b.alternate,b);break;case 24:Bh(g,b),O&2048&&Cb(b.alternate,b);break;default:Bh(g,b)}f=f.sibling}}var qh=8192;function Of(u){if(u.subtreeFlags&qh)for(u=u.child;u!==null;)dI(u),u=u.sibling}function dI(u){switch(u.tag){case 26:Of(u),u.flags&qh&&u.memoizedState!==null&&dV(bo,u.memoizedState,u.memoizedProps);break;case 5:Of(u);break;case 3:case 4:var f=bo;bo=Fy(u.stateNode.containerInfo),Of(u),bo=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=qh,qh=16777216,Of(u),qh=f):Of(u));break;default:Of(u)}}function hI(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function zh(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];pi=b,gI(b,u)}hI(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)pI(u),u=u.sibling}function pI(u){switch(u.tag){case 0:case 11:case 15:zh(u),u.flags&2048&&zu(9,u,u.return);break;case 3:zh(u);break;case 12:zh(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,xy(u)):zh(u);break;default:zh(u)}}function xy(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];pi=b,gI(b,u)}hI(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:zu(8,f,f.return),xy(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,xy(f));break;default:xy(f)}u=u.sibling}}function gI(u,f){for(;pi!==null;){var g=pi;switch(g.tag){case 0:case 11:case 15:zu(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Oh(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,pi=b;else e:for(g=u;pi!==null;){b=pi;var O=b.sibling,j=b.return;if(oI(b),b===g){pi=null;break e}if(O!==null){O.return=j,pi=O;break e}pi=j}}}function T7(u,f,g,b){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(u,f,g,b){return new T7(u,f,g,b)}function Ab(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ku(u,f){var g=u.alternate;return g===null?(g=no(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function mI(u,f){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Ey(u,f,g,b,O,j){var le=0;if(b=u,typeof u=="function")Ab(u)&&(le=1);else if(typeof u=="string")le=cV(u,g,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return ec(g.children,O,j,f);case c:le=8,O|=24;break;case h:return u=no(12,g,f,O|2),u.elementType=h,u.lanes=j,u;case w:return u=no(13,g,f,O),u.elementType=w,u.lanes=j,u;case S:return u=no(19,g,f,O),u.elementType=S,u.lanes=j,u;case A:return yI(g,O,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:le=10;break e;case m:le=9;break e;case v:le=11;break e;case x:le=14;break e;case E:le=16,b=null;break e}le=29,g=Error(r(130,u===null?"null":typeof u,"")),b=null}return f=no(le,g,f,O),f.elementType=u,f.type=b,f.lanes=j,f}function ec(u,f,g,b){return u=no(7,u,b,f),u.lanes=g,u}function yI(u,f,g,b){u=no(22,u,b,f),u.elementType=A,u.lanes=g;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=O._current;if(j===null)throw Error(r(456));if(!(O._pendingVisibility&2)){var le=ga(j,2);le!==null&&(O._pendingVisibility|=2,ea(le,j,2))}},attach:function(){var j=O._current;if(j===null)throw Error(r(456));if(O._pendingVisibility&2){var le=ga(j,2);le!==null&&(O._pendingVisibility&=-3,ea(le,j,2))}}};return u.stateNode=O,u}function Rb(u,f,g){return u=no(6,u,null,f),u.lanes=g,u}function Pb(u,f,g){return f=no(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Bs(u){u.flags|=4}function vI(u,f){if(f.type!=="stylesheet"||f.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!nL(f)){if(f=Xa.current,f!==null&&((Un&4194176)===Un?Wo!==null:(Un&62914560)!==Un&&!(Un&536870912)||f!==Wo))throw Du=Ko,bi;u.flags|=8192}}function Ty(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?qe():536870912,u.lanes|=f,Lf|=f)}function Hh(u,f){if(!ve)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function Ir(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,b=0;if(f)for(var O=u.child;O!==null;)g|=O.lanes|O.childLanes,b|=O.subtreeFlags&31457280,b|=O.flags&31457280,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)g|=O.lanes|O.childLanes,b|=O.subtreeFlags,b|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=b,u.childLanes=g,f}function C7(u,f,g){var b=f.pendingProps;switch(P(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(f),null;case 1:return Ir(f),null;case 3:return g=f.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Fs(ai),he(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(gn(f)?Bs(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ge!==null&&(Fb(Ge),Ge=null))),Ir(f),null;case 26:return g=f.memoizedState,u===null?(Bs(f),g!==null?(Ir(f),vI(f,g)):(Ir(f),f.flags&=-16777217)):g?g!==u.memoizedState?(Bs(f),Ir(f),vI(f,g)):(Ir(f),f.flags&=-16777217):(u.memoizedProps!==b&&Bs(f),Ir(f),f.flags&=-16777217),null;case 27:He(f),g=$.current;var O=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Bs(f);else{if(!b){if(f.stateNode===null)throw Error(r(166));return Ir(f),null}u=oe.current,gn(f)?jt(f):(u=WI(O,b,g),f.stateNode=u,Bs(f))}return Ir(f),null;case 5:if(He(f),g=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Bs(f);else{if(!b){if(f.stateNode===null)throw Error(r(166));return Ir(f),null}if(u=oe.current,gn(f))jt(f);else{switch(O=Ny($.current),u){case 1:u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=O.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof b.is=="string"?O.createElement("select",{is:b.is}):O.createElement("select"),b.multiple?u.multiple=!0:b.size&&(u.size=b.size);break;default:u=typeof b.is=="string"?O.createElement(g,{is:b.is}):O.createElement(g)}}u[it]=f,u[Et]=b;e:for(O=f.child;O!==null;){if(O.tag===5||O.tag===6)u.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===f)break e;for(;O.sibling===null;){if(O.return===null||O.return===f)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}f.stateNode=u;e:switch(xi(u,g,b),g){case"button":case"input":case"select":case"textarea":u=!!b.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Bs(f)}}return Ir(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==b&&Bs(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(r(166));if(u=$.current,gn(f)){if(u=f.stateNode,g=f.memoizedProps,b=null,O=U,O!==null)switch(O.tag){case 27:case 5:b=O.memoizedProps}u[it]=f,u=!!(u.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||qI(u.nodeValue,g)),u||bt(f)}else u=Ny(u).createTextNode(b),u[it]=f,f.stateNode=u}return Ir(f),null;case 13:if(b=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(O=gn(f),b!==null&&b.dehydrated!==null){if(u===null){if(!O)throw Error(r(318));if(O=f.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[it]=f}else Vr(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Ir(f),O=!1}else Ge!==null&&(Fb(Ge),Ge=null),O=!0;if(!O)return f.flags&256?(Ms(f),f):(Ms(f),null)}if(Ms(f),f.flags&128)return f.lanes=g,f;if(g=b!==null,u=u!==null&&u.memoizedState!==null,g){b=f.child,O=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(O=b.alternate.memoizedState.cachePool.pool);var j=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),j!==O&&(b.flags|=2048)}return g!==u&&g&&(f.child.flags|=8192),Ty(f,f.updateQueue),Ir(f),null;case 4:return he(),u===null&&Wb(f.stateNode.containerInfo),Ir(f),null;case 10:return Fs(f.type),Ir(f),null;case 19:if(Fe(ii),O=f.memoizedState,O===null)return Ir(f),null;if(b=(f.flags&128)!==0,j=O.rendering,j===null)if(b)Hh(O,!1);else{if(Fr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=uy(u),j!==null){for(f.flags|=128,Hh(O,!1),u=j.updateQueue,f.updateQueue=u,Ty(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)mI(g,u),g=g.sibling;return Xe(ii,ii.current&1|2),f.child}u=u.sibling}O.tail!==null&&Bt()>Cy&&(f.flags|=128,b=!0,Hh(O,!1),f.lanes=4194304)}else{if(!b)if(u=uy(j),u!==null){if(f.flags|=128,b=!0,u=u.updateQueue,f.updateQueue=u,Ty(f,u),Hh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!j.alternate&&!ve)return Ir(f),null}else 2*Bt()-O.renderingStartTime>Cy&&g!==536870912&&(f.flags|=128,b=!0,Hh(O,!1),f.lanes=4194304);O.isBackwards?(j.sibling=f.child,f.child=j):(u=O.last,u!==null?u.sibling=j:f.child=j,O.last=j)}return O.tail!==null?(f=O.tail,O.rendering=f,O.tail=f.sibling,O.renderingStartTime=Bt(),f.sibling=null,u=ii.current,Xe(ii,b?u&1|2:u&1),f):(Ir(f),null);case 22:case 23:return Ms(f),Nw(),b=f.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?g&536870912&&!(f.flags&128)&&(Ir(f),f.subtreeFlags&6&&(f.flags|=8192)):Ir(f),g=f.updateQueue,g!==null&&Ty(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048),u!==null&&Fe(Kl),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Fs(ai),Ir(f),null;case 25:return null}throw Error(r(156,f.tag))}function A7(u,f){switch(P(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Fs(ai),he(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 13:if(Ms(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Vr()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Fe(ii),null;case 4:return he(),null;case 10:return Fs(f.type),null;case 22:case 23:return Ms(f),Nw(),u!==null&&Fe(Kl),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Fs(ai),null;case 25:return null;default:return null}}function _I(u,f){switch(P(f),f.tag){case 3:Fs(ai),he();break;case 26:case 27:case 5:He(f);break;case 4:he();break;case 13:Ms(f);break;case 19:Fe(ii);break;case 10:Fs(f.type);break;case 22:case 23:Ms(f),Nw(),u!==null&&Fe(Kl);break;case 24:Fs(ai)}}var R7={getCacheForType:function(u){var f=Ni(ai),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g}},P7=typeof WeakMap=="function"?WeakMap:Map,Lr=0,wr=null,Ln=null,Un=0,br=0,La=null,qs=!1,If=!1,Ob=!1,zs=0,Fr=0,Gu=0,tc=0,Ib=0,ro=0,Lf=0,Vh=null,Zo=null,Lb=!1,Mb=0,Cy=1/0,Ay=null,Wu=null,Ry=!1,nc=null,Kh=0,Db=0,kb=null,Gh=0,Nb=null;function Ma(){if(Lr&2&&Un!==0)return Un&-Un;if(Y.T!==null){var u=xf;return u!==0?u:Hb()}return Ee()}function wI(){ro===0&&(ro=!(Un&536870912)||ve?Oe():536870912);var u=Xa.current;return u!==null&&(u.flags|=32),ro}function ea(u,f,g){(u===wr&&br===2||u.cancelPendingCommit!==null)&&(Mf(u,0),Hs(u,Un,ro,!1)),xt(u,g),(!(Lr&2)||u!==wr)&&(u===wr&&(!(Lr&2)&&(tc|=g),Fr===4&&Hs(u,Un,ro,!1)),Jo(u))}function bI(u,f,g){if(Lr&6)throw Error(r(327));var b=!g&&(f&60)===0&&(f&u.expiredLanes)===0||In(u,f),O=b?L7(u,f):Ub(u,f,!0),j=b;do{if(O===0){If&&!b&&Hs(u,f,0,!1);break}else if(O===6)Hs(u,f,0,!qs);else{if(g=u.current.alternate,j&&!O7(g)){O=Ub(u,f,!1),j=!1;continue}if(O===2){if(j=f,u.errorRecoveryDisabledLanes&j)var le=0;else le=u.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){f=le;e:{var Ce=u;O=Vh;var Ve=Ce.current.memoizedState.isDehydrated;if(Ve&&(Mf(Ce,le).flags|=256),le=Ub(Ce,le,!1),le!==2){if(Ob&&!Ve){Ce.errorRecoveryDisabledLanes|=j,tc|=j,O=4;break e}j=Zo,Zo=O,j!==null&&Fb(j)}O=le}if(j=!1,O!==2)continue}}if(O===1){Mf(u,0),Hs(u,f,0,!0);break}e:{switch(b=u,O){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){Hs(b,f,ro,!qs);break e}break;case 2:Zo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(b.finishedWork=g,b.finishedLanes=f,(f&62914560)===f&&(j=Mb+300-Bt(),10<j)){if(Hs(b,f,ro,!qs),un(b,0)!==0)break e;b.timeoutHandle=VI(SI.bind(null,b,g,Zo,Ay,Lb,f,ro,tc,Lf,qs,2,-0,0),j);break e}SI(b,g,Zo,Ay,Lb,f,ro,tc,Lf,qs,0,-0,0)}}break}while(!0);Jo(u)}function Fb(u){Zo===null?Zo=u:Zo.push.apply(Zo,u)}function SI(u,f,g,b,O,j,le,Ce,Ve,at,_t,Ct,pt){var vt=f.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Xh={stylesheets:null,count:0,unsuspend:fV},dI(f),f=hV(),f!==null)){u.cancelPendingCommit=f(PI.bind(null,u,g,b,O,le,Ce,Ve,1,Ct,pt)),Hs(u,j,le,!at);return}PI(u,g,b,O,le,Ce,Ve,_t,Ct,pt)}function O7(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var O=g[b],j=O.getSnapshot;O=O.value;try{if(!Wi(j(),O))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Hs(u,f,g,b){f&=~Ib,f&=~tc,u.suspendedLanes|=f,u.pingedLanes&=~f,b&&(u.warmLanes|=f),b=u.expirationTimes;for(var O=f;0<O;){var j=31-Rt(O),le=1<<j;b[j]=-1,O&=~le}g!==0&&zn(u,g,f)}function Py(){return Lr&6?!0:(Wh(0),!1)}function jb(){if(Ln!==null){if(br===0)var u=Ln.return;else u=Ln,Ns=Jl=null,Hw(u),Is=null,_r=0,u=Ln;for(;u!==null;)_I(u.alternate,u),u=u.return;Ln=null}}function Mf(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,Q7(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),jb(),wr=u,Ln=g=Ku(u.current,null),Un=f,br=0,La=null,qs=!1,If=In(u,f),Ob=!1,Lf=ro=Ib=tc=Gu=Fr=0,Zo=Vh=null,Lb=!1,f&8&&(f|=f&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=f;0<b;){var O=31-Rt(b),j=1<<O;f|=u[O],b&=~j}return zs=f,pa(),g}function xI(u,f){Tn=null,Y.H=Qo,f===di?(f=iy(),br=3):f===bi?(f=iy(),br=4):br=f===NO?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,La=f,Ln===null&&(Fr=1,_y(u,Ji(f,u.current)))}function EI(){var u=Y.H;return Y.H=Qo,u===null?Qo:u}function TI(){var u=Y.A;return Y.A=R7,u}function $b(){Fr=4,qs||(Un&4194176)!==Un&&Xa.current!==null||(If=!0),!(Gu&134217727)&&!(tc&134217727)||wr===null||Hs(wr,Un,ro,!1)}function Ub(u,f,g){var b=Lr;Lr|=2;var O=EI(),j=TI();(wr!==u||Un!==f)&&(Ay=null,Mf(u,f)),f=!1;var le=Fr;e:do try{if(br!==0&&Ln!==null){var Ce=Ln,Ve=La;switch(br){case 8:jb(),le=6;break e;case 3:case 2:case 6:Xa.current===null&&(f=!0);var at=br;if(br=0,La=null,Df(u,Ce,Ve,at),g&&If){le=0;break e}break;default:at=br,br=0,La=null,Df(u,Ce,Ve,at)}}I7(),le=Fr;break}catch(_t){xI(u,_t)}while(!0);return f&&u.shellSuspendCounter++,Ns=Jl=null,Lr=b,Y.H=O,Y.A=j,Ln===null&&(wr=null,Un=0,pa()),le}function I7(){for(;Ln!==null;)CI(Ln)}function L7(u,f){var g=Lr;Lr|=2;var b=EI(),O=TI();wr!==u||Un!==f?(Ay=null,Cy=Bt()+500,Mf(u,f)):If=In(u,f);e:do try{if(br!==0&&Ln!==null){f=Ln;var j=La;t:switch(br){case 1:br=0,La=null,Df(u,f,j,1);break;case 2:if(ny(j)){br=0,La=null,AI(f);break}f=function(){br===2&&wr===u&&(br=7),Jo(u)},j.then(f,f);break e;case 3:br=7;break e;case 4:br=5;break e;case 7:ny(j)?(br=0,La=null,AI(f)):(br=0,La=null,Df(u,f,j,7));break;case 5:var le=null;switch(Ln.tag){case 26:le=Ln.memoizedState;case 5:case 27:var Ce=Ln;if(!le||nL(le)){br=0,La=null;var Ve=Ce.sibling;if(Ve!==null)Ln=Ve;else{var at=Ce.return;at!==null?(Ln=at,Oy(at)):Ln=null}break t}}br=0,La=null,Df(u,f,j,5);break;case 6:br=0,La=null,Df(u,f,j,6);break;case 8:jb(),Fr=6;break e;default:throw Error(r(462))}}M7();break}catch(_t){xI(u,_t)}while(!0);return Ns=Jl=null,Y.H=b,Y.A=O,Lr=g,Ln!==null?0:(wr=null,Un=0,pa(),Fr)}function M7(){for(;Ln!==null&&!nt();)CI(Ln)}function CI(u){var f=WO(u.alternate,u,zs);u.memoizedProps=u.pendingProps,f===null?Oy(u):Ln=f}function AI(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=qO(g,f,f.pendingProps,f.type,void 0,Un);break;case 11:f=qO(g,f,f.pendingProps,f.type.render,f.ref,Un);break;case 5:Hw(f);default:_I(g,f),f=Ln=mI(f,zs),f=WO(g,f,zs)}u.memoizedProps=u.pendingProps,f===null?Oy(u):Ln=f}function Df(u,f,g,b){Ns=Jl=null,Hw(f),Is=null,_r=0;var O=f.return;try{if(b7(u,O,f,g,Un)){Fr=1,_y(u,Ji(g,u.current)),Ln=null;return}}catch(j){if(O!==null)throw Ln=O,j;Fr=1,_y(u,Ji(g,u.current)),Ln=null;return}f.flags&32768?(ve||b===1?u=!0:If||Un&536870912?u=!1:(qs=u=!0,(b===2||b===3||b===6)&&(b=Xa.current,b!==null&&b.tag===13&&(b.flags|=16384))),RI(f,u)):Oy(f)}function Oy(u){var f=u;do{if(f.flags&32768){RI(f,qs);return}u=f.return;var g=C7(f.alternate,f,zs);if(g!==null){Ln=g;return}if(f=f.sibling,f!==null){Ln=f;return}Ln=f=u}while(f!==null);Fr===0&&(Fr=5)}function RI(u,f){do{var g=A7(u.alternate,u);if(g!==null){g.flags&=32767,Ln=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){Ln=u;return}Ln=u=g}while(u!==null);Fr=6,Ln=null}function PI(u,f,g,b,O,j,le,Ce,Ve,at){var _t=Y.T,Ct=J.p;try{J.p=2,Y.T=null,D7(u,f,g,b,Ct,O,j,le,Ce,Ve,at)}finally{Y.T=_t,J.p=Ct}}function D7(u,f,g,b,O,j,le,Ce){do kf();while(nc!==null);if(Lr&6)throw Error(r(327));var Ve=u.finishedWork;if(b=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=Rh,It(u,b,at,j,le,Ce),u===wr&&(Ln=wr=null,Un=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||Ry||(Ry=!0,Db=at,kb=g,j7(q,function(){return kf(),null})),g=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||g?(g=Y.T,Y.T=null,j=J.p,J.p=2,le=Lr,Lr|=4,x7(u,Ve),lI(Ve,u),mf(Yb,u.containerInfo),qy=!!Jb,Yb=Jb=null,u.current=Ve,aI(u,Ve.alternate,Ve),gt(),Lr=le,J.p=j,Y.T=g):u.current=Ve,Ry?(Ry=!1,nc=u,Kh=b):OI(u,at),at=u.pendingLanes,at===0&&(Wu=null),Ot(Ve.stateNode),Jo(u),f!==null)for(O=u.onRecoverableError,Ve=0;Ve<f.length;Ve++)at=f[Ve],O(at.value,{componentStack:at.stack});return Kh&3&&kf(),at=u.pendingLanes,b&4194218&&at&42?u===Nb?Gh++:(Gh=0,Nb=u):Gh=0,Wh(0),null}function OI(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Oh(f)))}function kf(){if(nc!==null){var u=nc,f=Db;Db=0;var g=We(Kh),b=Y.T,O=J.p;try{if(J.p=32>g?32:g,Y.T=null,nc===null)var j=!1;else{g=kb,kb=null;var le=nc,Ce=Kh;if(nc=null,Kh=0,Lr&6)throw Error(r(331));var Ve=Lr;if(Lr|=4,pI(le.current),fI(le,le.current,Ce,g),Lr=Ve,Wh(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ke,le)}catch{}j=!0}return j}finally{J.p=O,Y.T=b,OI(u,f)}}return!1}function II(u,f,g){f=Ji(g,f),f=ib(u.stateNode,f,2),u=qu(u,f,2),u!==null&&(xt(u,2),Jo(u))}function yr(u,f,g){if(u.tag===3)II(u,u,g);else for(;f!==null;){if(f.tag===3){II(f,u,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Wu===null||!Wu.has(b))){u=Ji(g,u),g=DO(2),b=qu(f,g,2),b!==null&&(kO(g,b,f,u),xt(b,2),Jo(b));break}}f=f.return}}function Bb(u,f,g){var b=u.pingCache;if(b===null){b=u.pingCache=new P7;var O=new Set;b.set(f,O)}else O=b.get(f),O===void 0&&(O=new Set,b.set(f,O));O.has(g)||(Ob=!0,O.add(g),u=k7.bind(null,u,f,g),f.then(u,u))}function k7(u,f,g){var b=u.pingCache;b!==null&&b.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,wr===u&&(Un&g)===g&&(Fr===4||Fr===3&&(Un&62914560)===Un&&300>Bt()-Mb?!(Lr&2)&&Mf(u,0):Ib|=g,Lf===Un&&(Lf=0)),Jo(u)}function LI(u,f){f===0&&(f=qe()),u=ga(u,f),u!==null&&(xt(u,f),Jo(u))}function N7(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),LI(u,g)}function F7(u,f){var g=0;switch(u.tag){case 13:var b=u.stateNode,O=u.memoizedState;O!==null&&(g=O.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(f),LI(u,g)}function j7(u,f){return Ne(u,f)}var Iy=null,Nf=null,qb=!1,Ly=!1,zb=!1,rc=0;function Jo(u){u!==Nf&&u.next===null&&(Nf===null?Iy=Nf=u:Nf=Nf.next=u),Ly=!0,qb||(qb=!0,U7($7))}function Wh(u,f){if(!zb&&Ly){zb=!0;do for(var g=!1,b=Iy;b!==null;){if(u!==0){var O=b.pendingLanes;if(O===0)var j=0;else{var le=b.suspendedLanes,Ce=b.pingedLanes;j=(1<<31-Rt(42|u)+1)-1,j&=O&~(le&~Ce),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(g=!0,kI(b,j))}else j=Un,j=un(b,b===wr?j:0),!(j&3)||In(b,j)||(g=!0,kI(b,j));b=b.next}while(g);zb=!1}}function $7(){Ly=qb=!1;var u=0;rc!==0&&(W7()&&(u=rc),rc=0);for(var f=Bt(),g=null,b=Iy;b!==null;){var O=b.next,j=MI(b,f);j===0?(b.next=null,g===null?Iy=O:g.next=O,O===null&&(Nf=g)):(g=b,(u!==0||j&3)&&(Ly=!0)),b=O}Wh(u)}function MI(u,f){for(var g=u.suspendedLanes,b=u.pingedLanes,O=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var le=31-Rt(j),Ce=1<<le,Ve=O[le];Ve===-1?(!(Ce&g)||Ce&b)&&(O[le]=sr(Ce,f)):Ve<=f&&(u.expiredLanes|=Ce),j&=~Ce}if(f=wr,g=Un,g=un(u,u===f?g:0),b=u.callbackNode,g===0||u===f&&br===2||u.cancelPendingCommit!==null)return b!==null&&b!==null&&tt(b),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||In(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(b!==null&&tt(b),We(g)){case 2:case 8:g=X;break;case 32:g=q;break;case 268435456:g=V;break;default:g=q}return b=DI.bind(null,u),g=Ne(g,b),u.callbackPriority=f,u.callbackNode=g,f}return b!==null&&b!==null&&tt(b),u.callbackPriority=2,u.callbackNode=null,2}function DI(u,f){var g=u.callbackNode;if(kf()&&u.callbackNode!==g)return null;var b=Un;return b=un(u,u===wr?b:0),b===0?null:(bI(u,b,f),MI(u,Bt()),u.callbackNode!=null&&u.callbackNode===g?DI.bind(null,u):null)}function kI(u,f){if(kf())return null;bI(u,f,!0)}function U7(u){Z7(function(){Lr&6?Ne(Be,u):u()})}function Hb(){return rc===0&&(rc=Oe()),rc}function NI(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:kt(""+u)}function FI(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function B7(u,f,g,b,O){if(f==="submit"&&g&&g.stateNode===O){var j=NI((O[Et]||null).action),le=b.submitter;le&&(f=(f=le[Et]||null)?NI(f.formAction):le.getAttribute("formAction"),f!==null&&(j=f,le=null));var Ce=new Ga("action","action",null,b,O);u.push({event:Ce,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(rc!==0){var Ve=le?FI(O,le):new FormData(O);Xw(g,{pending:!0,data:Ve,method:O.method,action:j},null,Ve)}}else typeof j=="function"&&(Ce.preventDefault(),Ve=le?FI(O,le):new FormData(O),Xw(g,{pending:!0,data:Ve,method:O.method,action:j},j,Ve))},currentTarget:O}]})}}for(var Vb=0;Vb<ey.length;Vb++){var Kb=ey[Vb],q7=Kb.toLowerCase(),z7=Kb[0].toUpperCase()+Kb.slice(1);fi(q7,"on"+z7)}fi(Pa,"onAnimationEnd"),fi(Bl,"onAnimationIteration"),fi(Jm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(yf,"onTransitionRun"),fi(Dw,"onTransitionStart"),fi(Ym,"onTransitionCancel"),fi(Xm,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qh));function jI(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var b=u[g],O=b.event;b=b.listeners;e:{var j=void 0;if(f)for(var le=b.length-1;0<=le;le--){var Ce=b[le],Ve=Ce.instance,at=Ce.currentTarget;if(Ce=Ce.listener,Ve!==j&&O.isPropagationStopped())break e;j=Ce,O.currentTarget=at;try{j(O)}catch(_t){vy(_t)}O.currentTarget=null,j=Ve}else for(le=0;le<b.length;le++){if(Ce=b[le],Ve=Ce.instance,at=Ce.currentTarget,Ce=Ce.listener,Ve!==j&&O.isPropagationStopped())break e;j=Ce,O.currentTarget=at;try{j(O)}catch(_t){vy(_t)}O.currentTarget=null,j=Ve}}}}function Nn(u,f){var g=f[Kt];g===void 0&&(g=f[Kt]=new Set);var b=u+"__bubble";g.has(b)||($I(f,u,2,!1),g.add(b))}function Gb(u,f,g){var b=0;f&&(b|=4),$I(g,u,b,f)}var My="_reactListening"+Math.random().toString(36).slice(2);function Wb(u){if(!u[My]){u[My]=!0,Cr.forEach(function(g){g!=="selectionchange"&&(H7.has(g)||Gb(g,!1,u),Gb(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[My]||(f[My]=!0,Gb("selectionchange",!1,f))}}function $I(u,f,g,b){switch(uL(f)){case 2:var O=mV;break;case 8:O=yV;break;default:O=s1}g=O.bind(null,f,g,u),O=void 0,!gr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(O=!0),b?O!==void 0?u.addEventListener(f,g,{capture:!0,passive:O}):u.addEventListener(f,g,!0):O!==void 0?u.addEventListener(f,g,{passive:O}):u.addEventListener(f,g,!1)}function Qb(u,f,g,b,O){var j=b;if(!(f&1)&&!(f&2)&&b!==null)e:for(;;){if(b===null)return;var le=b.tag;if(le===3||le===4){var Ce=b.stateNode.containerInfo;if(Ce===O||Ce.nodeType===8&&Ce.parentNode===O)break;if(le===4)for(le=b.return;le!==null;){var Ve=le.tag;if((Ve===3||Ve===4)&&(Ve=le.stateNode.containerInfo,Ve===O||Ve.nodeType===8&&Ve.parentNode===O))return;le=le.return}for(;Ce!==null;){if(le=Gt(Ce),le===null)return;if(Ve=le.tag,Ve===5||Ve===6||Ve===26||Ve===27){b=j=le;continue e}Ce=Ce.parentNode}}b=b.return}hn(function(){var at=j,_t=qn(g),Ct=[];e:{var pt=Lu.get(u);if(pt!==void 0){var vt=Ga,Zt=u;switch(u){case"keypress":if(rr(g)===0)break e;case"keydown":case"keyup":vt=Cw;break;case"focusin":Zt="focus",vt=Qa;break;case"focusout":Zt="blur",vt=Qa;break;case"beforeblur":case"afterblur":vt=Qa;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=cr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Rw;break;case Pa:case Bl:case Jm:vt=Ml;break;case Xm:vt=Pw;break;case"scroll":case"scrollend":vt=Eu;break;case"wheel":vt=Hm;break;case"copy":case"cut":case"paste":vt=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=vh;break;case"toggle":case"beforetoggle":vt=ws}var mn=(f&4)!==0,jr=!mn&&(u==="scroll"||u==="scrollend"),ct=mn?pt!==null?pt+"Capture":null:pt;mn=[];for(var rt=at,ht;rt!==null;){var St=rt;if(ht=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ht===null||ct===null||(St=Yn(rt,ct),St!=null&&mn.push(Zh(rt,St,ht))),jr)break;rt=rt.return}0<mn.length&&(pt=new vt(pt,Zt,null,g,_t),Ct.push({event:pt,listeners:mn}))}}if(!(f&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==Ht&&(Zt=g.relatedTarget||g.fromElement)&&(Gt(Zt)||Zt[Lt]))break e;if((vt||pt)&&(pt=_t.window===_t?_t:(pt=_t.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Zt=g.relatedTarget||g.toElement,vt=at,Zt=Zt?Gt(Zt):null,Zt!==null&&(jr=fe(Zt),mn=Zt.tag,Zt!==jr||mn!==5&&mn!==27&&mn!==6)&&(Zt=null)):(vt=null,Zt=at),vt!==Zt)){if(mn=ki,St="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(mn=vh,St="onPointerLeave",ct="onPointerEnter",rt="pointer"),jr=vt==null?pt:xn(vt),ht=Zt==null?pt:xn(Zt),pt=new mn(St,rt+"leave",vt,g,_t),pt.target=jr,pt.relatedTarget=ht,St=null,Gt(_t)===at&&(mn=new mn(ct,rt+"enter",Zt,g,_t),mn.target=ht,mn.relatedTarget=jr,St=mn),jr=St,vt&&Zt)t:{for(mn=vt,ct=Zt,rt=0,ht=mn;ht;ht=Ff(ht))rt++;for(ht=0,St=ct;St;St=Ff(St))ht++;for(;0<rt-ht;)mn=Ff(mn),rt--;for(;0<ht-rt;)ct=Ff(ct),ht--;for(;rt--;){if(mn===ct||ct!==null&&mn===ct.alternate)break t;mn=Ff(mn),ct=Ff(ct)}mn=null}else mn=null;vt!==null&&UI(Ct,pt,vt,mn,!1),Zt!==null&&jr!==null&&UI(Ct,jr,Zt,mn,!0)}}e:{if(pt=at?xn(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Vt=Au;else if(Ss(pt))if(bh)Vt=Mw;else{Vt=Lw;var Pn=xh}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&Ft(at.elementType)&&(Vt=Au):Vt=_o;if(Vt&&(Vt=Vt(u,at))){Qm(Ct,Vt,g,_t);break e}Pn&&Pn(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(Pn=at?xn(at):window,u){case"focusin":(Ss(Pn)||Pn.contentEditable==="true")&&(wo=Pn,$l=at,Iu=null);break;case"focusout":Iu=$l=wo=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Ul(Ct,g,_t);break;case"selectionchange":if(Ou)break;case"keydown":case"keyup":Ul(Ct,g,_t)}var Xt;if(bs)e:{switch(u){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else Tu?hf(u,g)&&(an="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(an="onCompositionStart");an&&(wh&&g.locale!=="ko"&&(Tu||an!=="onCompositionStart"?an==="onCompositionEnd"&&Tu&&(Xt=da()):(ur=_t,wi="value"in ur?ur.value:ur.textContent,Tu=!0)),Pn=Dy(at,an),0<Pn.length&&(an=new Ki(an,u,null,g,_t),Ct.push({event:an,listeners:Pn}),Xt?an.data=Xt:(Xt=Gm(g),Xt!==null&&(an.data=Xt)))),(Xt=Vm?Wm(u,g):Iw(u,g))&&(an=Dy(at,"onBeforeInput"),0<an.length&&(Pn=new Ki("onBeforeInput","beforeinput",null,g,_t),Ct.push({event:Pn,listeners:an}),Pn.data=Xt)),B7(Ct,u,at,g,_t)}jI(Ct,f)})}function Zh(u,f,g){return{instance:u,listener:f,currentTarget:g}}function Dy(u,f){for(var g=f+"Capture",b=[];u!==null;){var O=u,j=O.stateNode;O=O.tag,O!==5&&O!==26&&O!==27||j===null||(O=Yn(u,g),O!=null&&b.unshift(Zh(u,O,j)),O=Yn(u,f),O!=null&&b.push(Zh(u,O,j))),u=u.return}return b}function Ff(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function UI(u,f,g,b,O){for(var j=f._reactName,le=[];g!==null&&g!==b;){var Ce=g,Ve=Ce.alternate,at=Ce.stateNode;if(Ce=Ce.tag,Ve!==null&&Ve===b)break;Ce!==5&&Ce!==26&&Ce!==27||at===null||(Ve=at,O?(at=Yn(g,j),at!=null&&le.unshift(Zh(g,at,Ve))):O||(at=Yn(g,j),at!=null&&le.push(Zh(g,at,Ve)))),g=g.return}le.length!==0&&u.push({event:f,listeners:le})}var V7=/\r\n?/g,K7=/\u0000|\uFFFD/g;function BI(u){return(typeof u=="string"?u:""+u).replace(V7,`
`).replace(K7,"")}function qI(u,f){return f=BI(f),BI(u)===f}function ky(){}function dr(u,f,g,b,O,j){switch(g){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||Ue(u,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&Ue(u,""+b);break;case"className":N(u,"class",b);break;case"tabIndex":N(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,b);break;case"style":mt(u,b,j);break;case"data":if(f!=="object"){N(u,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(g);break}b=kt(""+b),u.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(g==="formAction"?(f!=="input"&&dr(u,f,"name",O.name,O,null),dr(u,f,"formEncType",O.formEncType,O,null),dr(u,f,"formMethod",O.formMethod,O,null),dr(u,f,"formTarget",O.formTarget,O,null)):(dr(u,f,"encType",O.encType,O,null),dr(u,f,"method",O.method,O,null),dr(u,f,"target",O.target,O,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(g);break}b=kt(""+b),u.setAttribute(g,b);break;case"onClick":b!=null&&(u.onclick=ky);break;case"onScroll":b!=null&&Nn("scroll",u);break;case"onScrollEnd":b!=null&&Nn("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}g=kt(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(g,""+b):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":b===!0?u.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(g,b):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(g,b):u.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(g):u.setAttribute(g,b);break;case"popover":Nn("beforetoggle",u),Nn("toggle",u),R(u,"popover",b);break;case"xlinkActuate":G(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":G(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":G(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":G(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":G(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":G(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":G(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":G(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":G(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":R(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tt.get(g)||g,R(u,g,b))}}function Zb(u,f,g,b,O,j){switch(g){case"style":mt(u,b,j);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof b=="string"?Ue(u,b):(typeof b=="number"||typeof b=="bigint")&&Ue(u,""+b);break;case"onScroll":b!=null&&Nn("scroll",u);break;case"onScrollEnd":b!=null&&Nn("scrollend",u);break;case"onClick":b!=null&&(u.onclick=ky);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),f=g.slice(2,O?g.length-7:void 0),j=u[Et]||null,j=j!=null?j[g]:null,typeof j=="function"&&u.removeEventListener(f,j,O),typeof b=="function")){typeof j!="function"&&j!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,b,O);break e}g in u?u[g]=b:b===!0?u.setAttribute(g,""):R(u,g,b)}}}function xi(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nn("error",u),Nn("load",u);var b=!1,O=!1,j;for(j in g)if(g.hasOwnProperty(j)){var le=g[j];if(le!=null)switch(j){case"src":b=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:dr(u,f,j,le,g,null)}}O&&dr(u,f,"srcSet",g.srcSet,g,null),b&&dr(u,f,"src",g.src,g,null);return;case"input":Nn("invalid",u);var Ce=j=le=O=null,Ve=null,at=null;for(b in g)if(g.hasOwnProperty(b)){var _t=g[b];if(_t!=null)switch(b){case"name":O=_t;break;case"type":le=_t;break;case"checked":Ve=_t;break;case"defaultChecked":at=_t;break;case"value":j=_t;break;case"defaultValue":Ce=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,f));break;default:dr(u,f,b,_t,g,null)}}ot(u,j,Ce,Ve,at,le,O,!1),xe(u);return;case"select":Nn("invalid",u),b=le=j=null;for(O in g)if(g.hasOwnProperty(O)&&(Ce=g[O],Ce!=null))switch(O){case"value":j=Ce;break;case"defaultValue":le=Ce;break;case"multiple":b=Ce;default:dr(u,f,O,Ce,g,null)}f=j,g=le,u.multiple=!!b,f!=null?ut(u,!!b,f,!1):g!=null&&ut(u,!!b,g,!0);return;case"textarea":Nn("invalid",u),j=O=b=null;for(le in g)if(g.hasOwnProperty(le)&&(Ce=g[le],Ce!=null))switch(le){case"value":b=Ce;break;case"defaultValue":O=Ce;break;case"children":j=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(91));break;default:dr(u,f,le,Ce,g,null)}De(u,b,O,j),xe(u);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(b=g[Ve],b!=null))switch(Ve){case"selected":u.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:dr(u,f,Ve,b,g,null)}return;case"dialog":Nn("cancel",u),Nn("close",u);break;case"iframe":case"object":Nn("load",u);break;case"video":case"audio":for(b=0;b<Qh.length;b++)Nn(Qh[b],u);break;case"image":Nn("error",u),Nn("load",u);break;case"details":Nn("toggle",u);break;case"embed":case"source":case"link":Nn("error",u),Nn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(b=g[at],b!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:dr(u,f,at,b,g,null)}return;default:if(Ft(f)){for(_t in g)g.hasOwnProperty(_t)&&(b=g[_t],b!==void 0&&Zb(u,f,_t,b,g,void 0));return}}for(Ce in g)g.hasOwnProperty(Ce)&&(b=g[Ce],b!=null&&dr(u,f,Ce,b,g,null))}function G7(u,f,g,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,j=null,le=null,Ce=null,Ve=null,at=null,_t=null;for(vt in g){var Ct=g[vt];if(g.hasOwnProperty(vt)&&Ct!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=Ct;default:b.hasOwnProperty(vt)||dr(u,f,vt,null,b,Ct)}}for(var pt in b){var vt=b[pt];if(Ct=g[pt],b.hasOwnProperty(pt)&&(vt!=null||Ct!=null))switch(pt){case"type":j=vt;break;case"name":O=vt;break;case"checked":at=vt;break;case"defaultChecked":_t=vt;break;case"value":le=vt;break;case"defaultValue":Ce=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,f));break;default:vt!==Ct&&dr(u,f,pt,vt,b,Ct)}}Ye(u,le,Ce,Ve,at,_t,j,O);return;case"select":vt=le=Ce=pt=null;for(j in g)if(Ve=g[j],g.hasOwnProperty(j)&&Ve!=null)switch(j){case"value":break;case"multiple":vt=Ve;default:b.hasOwnProperty(j)||dr(u,f,j,null,b,Ve)}for(O in b)if(j=b[O],Ve=g[O],b.hasOwnProperty(O)&&(j!=null||Ve!=null))switch(O){case"value":pt=j;break;case"defaultValue":Ce=j;break;case"multiple":le=j;default:j!==Ve&&dr(u,f,O,j,b,Ve)}f=Ce,g=le,b=vt,pt!=null?ut(u,!!g,pt,!1):!!b!=!!g&&(f!=null?ut(u,!!g,f,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Ce in g)if(O=g[Ce],g.hasOwnProperty(Ce)&&O!=null&&!b.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:dr(u,f,Ce,null,b,O)}for(le in b)if(O=b[le],j=g[le],b.hasOwnProperty(le)&&(O!=null||j!=null))switch(le){case"value":pt=O;break;case"defaultValue":vt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==j&&dr(u,f,le,O,b,j)}be(u,pt,vt);return;case"option":for(var Zt in g)if(pt=g[Zt],g.hasOwnProperty(Zt)&&pt!=null&&!b.hasOwnProperty(Zt))switch(Zt){case"selected":u.selected=!1;break;default:dr(u,f,Zt,null,b,pt)}for(Ve in b)if(pt=b[Ve],vt=g[Ve],b.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:dr(u,f,Ve,pt,b,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in g)pt=g[mn],g.hasOwnProperty(mn)&&pt!=null&&!b.hasOwnProperty(mn)&&dr(u,f,mn,null,b,pt);for(at in b)if(pt=b[at],vt=g[at],b.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,f));break;default:dr(u,f,at,pt,b,vt)}return;default:if(Ft(f)){for(var jr in g)pt=g[jr],g.hasOwnProperty(jr)&&pt!==void 0&&!b.hasOwnProperty(jr)&&Zb(u,f,jr,void 0,b,pt);for(_t in b)pt=b[_t],vt=g[_t],!b.hasOwnProperty(_t)||pt===vt||pt===void 0&&vt===void 0||Zb(u,f,_t,pt,b,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!b.hasOwnProperty(ct)&&dr(u,f,ct,null,b,pt);for(Ct in b)pt=b[Ct],vt=g[Ct],!b.hasOwnProperty(Ct)||pt===vt||pt==null&&vt==null||dr(u,f,Ct,pt,b,vt)}var Jb=null,Yb=null;function Ny(u){return u.nodeType===9?u:u.ownerDocument}function zI(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HI(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function Xb(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var e1=null;function W7(){var u=window.event;return u&&u.type==="popstate"?u===e1?!1:(e1=u,!0):(e1=null,!1)}var VI=typeof setTimeout=="function"?setTimeout:void 0,Q7=typeof clearTimeout=="function"?clearTimeout:void 0,KI=typeof Promise=="function"?Promise:void 0,Z7=typeof queueMicrotask=="function"?queueMicrotask:typeof KI<"u"?function(u){return KI.resolve(null).then(u).catch(J7)}:VI;function J7(u){setTimeout(function(){throw u})}function t1(u,f){var g=f,b=0;do{var O=g.nextSibling;if(u.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(b===0){u.removeChild(O),ip(f);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=O}while(g);ip(f)}function n1(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":n1(g),Rn(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function Y7(u,f,g,b){for(;u.nodeType===1;){var O=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[en])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==O.rel||u.getAttribute("href")!==(O.href==null?null:O.href)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||u.getAttribute("title")!==(O.title==null?null:O.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(O.src==null?null:O.src)||u.getAttribute("type")!==(O.type==null?null:O.type)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var j=O.name==null?null:""+O.name;if(O.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=So(u.nextSibling),u===null)break}return null}function X7(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=So(u.nextSibling),u===null))return null;return u}function So(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function GI(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}function WI(u,f,g){switch(f=Ny(g),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var io=new Map,QI=new Set;function Fy(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Vs=J.d;J.d={f:eV,r:tV,D:nV,C:rV,L:iV,m:aV,X:sV,S:oV,M:uV};function eV(){var u=Vs.f(),f=Py();return u||f}function tV(u){var f=Qt(u);f!==null&&f.tag===5&&f.type==="form"?SO(f):Vs.r(u)}var jf=typeof document>"u"?null:document;function ZI(u,f,g){var b=jf;if(b&&typeof f=="string"&&f){var O=ze(f);O='link[rel="'+u+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),QI.has(O)||(QI.add(O),u={rel:u,crossOrigin:g,href:f},b.querySelector(O)===null&&(f=b.createElement("link"),xi(f,"link",u),Bn(f),b.head.appendChild(f)))}}function nV(u){Vs.D(u),ZI("dns-prefetch",u,null)}function rV(u,f){Vs.C(u,f),ZI("preconnect",u,f)}function iV(u,f,g){Vs.L(u,f,g);var b=jf;if(b&&u&&f){var O='link[rel="preload"][as="'+ze(f)+'"]';f==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+ze(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+ze(g.imageSizes)+'"]')):O+='[href="'+ze(u)+'"]';var j=O;switch(f){case"style":j=$f(u);break;case"script":j=Uf(u)}io.has(j)||(u=B({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),io.set(j,u),b.querySelector(O)!==null||f==="style"&&b.querySelector(Jh(j))||f==="script"&&b.querySelector(Yh(j))||(f=b.createElement("link"),xi(f,"link",u),Bn(f),b.head.appendChild(f)))}}function aV(u,f){Vs.m(u,f);var g=jf;if(g&&u){var b=f&&typeof f.as=="string"?f.as:"script",O='link[rel="modulepreload"][as="'+ze(b)+'"][href="'+ze(u)+'"]',j=O;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Uf(u)}if(!io.has(j)&&(u=B({rel:"modulepreload",href:u},f),io.set(j,u),g.querySelector(O)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Yh(j)))return}b=g.createElement("link"),xi(b,"link",u),Bn(b),g.head.appendChild(b)}}}function oV(u,f,g){Vs.S(u,f,g);var b=jf;if(b&&u){var O=En(b).hoistableStyles,j=$f(u);f=f||"default";var le=O.get(j);if(!le){var Ce={loading:0,preload:null};if(le=b.querySelector(Jh(j)))Ce.loading=5;else{u=B({rel:"stylesheet",href:u,"data-precedence":f},g),(g=io.get(j))&&r1(u,g);var Ve=le=b.createElement("link");Bn(Ve),xi(Ve,"link",u),Ve._p=new Promise(function(at,_t){Ve.onload=at,Ve.onerror=_t}),Ve.addEventListener("load",function(){Ce.loading|=1}),Ve.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,jy(le,f,b)}le={type:"stylesheet",instance:le,count:1,state:Ce},O.set(j,le)}}}function sV(u,f){Vs.X(u,f);var g=jf;if(g&&u){var b=En(g).hoistableScripts,O=Uf(u),j=b.get(O);j||(j=g.querySelector(Yh(O)),j||(u=B({src:u,async:!0},f),(f=io.get(O))&&i1(u,f),j=g.createElement("script"),Bn(j),xi(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(O,j))}}function uV(u,f){Vs.M(u,f);var g=jf;if(g&&u){var b=En(g).hoistableScripts,O=Uf(u),j=b.get(O);j||(j=g.querySelector(Yh(O)),j||(u=B({src:u,async:!0,type:"module"},f),(f=io.get(O))&&i1(u,f),j=g.createElement("script"),Bn(j),xi(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(O,j))}}function JI(u,f,g,b){var O=(O=$.current)?Fy(O):null;if(!O)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=$f(g.href),g=En(O).hoistableStyles,b=g.get(f),b||(b={type:"style",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=$f(g.href);var j=En(O).hoistableStyles,le=j.get(u);if(le||(O=O.ownerDocument||O,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,le),(j=O.querySelector(Jh(u)))&&!j._p&&(le.instance=j,le.state.loading=5),io.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},io.set(u,g),j||lV(O,u,g,le.state))),f&&b===null)throw Error(r(528,""));return le}if(f&&b!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Uf(g),g=En(O).hoistableScripts,b=g.get(f),b||(b={type:"script",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function $f(u){return'href="'+ze(u)+'"'}function Jh(u){return'link[rel="stylesheet"]['+u+"]"}function YI(u){return B({},u,{"data-precedence":u.precedence,precedence:null})}function lV(u,f,g,b){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=u.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),xi(f,"link",g),Bn(f),u.head.appendChild(f))}function Uf(u){return'[src="'+ze(u)+'"]'}function Yh(u){return"script[async]"+u}function XI(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var b=u.querySelector('style[data-href~="'+ze(g.href)+'"]');if(b)return f.instance=b,Bn(b),b;var O=B({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),Bn(b),xi(b,"style",O),jy(b,g.precedence,u),f.instance=b;case"stylesheet":O=$f(g.href);var j=u.querySelector(Jh(O));if(j)return f.state.loading|=4,f.instance=j,Bn(j),j;b=YI(g),(O=io.get(O))&&r1(b,O),j=(u.ownerDocument||u).createElement("link"),Bn(j);var le=j;return le._p=new Promise(function(Ce,Ve){le.onload=Ce,le.onerror=Ve}),xi(j,"link",b),f.state.loading|=4,jy(j,g.precedence,u),f.instance=j;case"script":return j=Uf(g.src),(O=u.querySelector(Yh(j)))?(f.instance=O,Bn(O),O):(b=g,(O=io.get(j))&&(b=B({},g),i1(b,O)),u=u.ownerDocument||u,O=u.createElement("script"),Bn(O),xi(O,"link",b),u.head.appendChild(O),f.instance=O);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(b=f.instance,f.state.loading|=4,jy(b,g.precedence,u));return f.instance}function jy(u,f,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=b.length?b[b.length-1]:null,j=O,le=0;le<b.length;le++){var Ce=b[le];if(Ce.dataset.precedence===f)j=Ce;else if(j!==O)break}j?j.parentNode.insertBefore(u,j.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function r1(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function i1(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var $y=null;function eL(u,f,g){if($y===null){var b=new Map,O=$y=new Map;O.set(g,b)}else O=$y,b=O.get(g),b||(b=new Map,O.set(g,b));if(b.has(u))return b;for(b.set(u,null),g=g.getElementsByTagName(u),O=0;O<g.length;O++){var j=g[O];if(!(j[en]||j[it]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var le=j.getAttribute(f)||"";le=u+le;var Ce=b.get(le);Ce?Ce.push(j):b.set(le,[j])}}return b}function tL(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function cV(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function nL(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Xh=null;function fV(){}function dV(u,f,g){if(Xh===null)throw Error(r(475));var b=Xh;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var O=$f(g.href),j=u.querySelector(Jh(O));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(b.count++,b=Uy.bind(b),u.then(b,b)),f.state.loading|=4,f.instance=j,Bn(j);return}j=u.ownerDocument||u,g=YI(g),(O=io.get(O))&&r1(g,O),j=j.createElement("link"),Bn(j);var le=j;le._p=new Promise(function(Ce,Ve){le.onload=Ce,le.onerror=Ve}),xi(j,"link",g),f.instance=j}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(f,u),(u=f.state.preload)&&!(f.state.loading&3)&&(b.count++,f=Uy.bind(b),u.addEventListener("load",f),u.addEventListener("error",f))}}function hV(){if(Xh===null)throw Error(r(475));var u=Xh;return u.stylesheets&&u.count===0&&a1(u,u.stylesheets),0<u.count?function(f){var g=setTimeout(function(){if(u.stylesheets&&a1(u,u.stylesheets),u.unsuspend){var b=u.unsuspend;u.unsuspend=null,b()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Uy(){if(this.count--,this.count===0){if(this.stylesheets)a1(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var By=null;function a1(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,By=new Map,f.forEach(pV,u),By=null,Uy.call(u))}function pV(u,f){if(!(f.state.loading&4)){var g=By.get(u);if(g)var b=g.get(null);else{g=new Map,By.set(u,g);for(var O=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<O.length;j++){var le=O[j];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(g.set(le.dataset.precedence,le),b=le)}b&&g.set(null,b)}O=f.instance,le=O.getAttribute("data-precedence"),j=g.get(le)||b,j===b&&g.set(null,O),g.set(le,O),this.count++,b=Uy.bind(this),O.addEventListener("load",b),O.addEventListener("error",b),j?j.parentNode.insertBefore(O,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(O,u.firstChild)),f.state.loading|=4}}var ep={$$typeof:y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function gV(u,f,g,b,O,j,le,Ce){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=b,this.onUncaughtError=O,this.onCaughtError=j,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function rL(u,f,g,b,O,j,le,Ce,Ve,at,_t,Ct){return u=new gV(u,f,g,le,Ce,Ve,at,Ct),f=1,j===!0&&(f|=24),j=no(3,null,null,f),u.current=j,j.stateNode=u,f=Fw(),f.refCount++,u.pooledCache=f,f.refCount++,j.memoizedState={element:b,isDehydrated:g,cache:f},yb(j),u}function iL(u){return u?(u=Za,u):Za}function aL(u,f,g,b,O,j){O=iL(O),b.context===null?b.context=O:b.pendingContext=O,b=Bu(f),b.payload={element:g},j=j===void 0?null:j,j!==null&&(b.callback=j),g=qu(u,b,f),g!==null&&(ea(g,u,f),Fh(g,u,f))}function oL(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function o1(u,f){oL(u,f),(u=u.alternate)&&oL(u,f)}function sL(u){if(u.tag===13){var f=ga(u,67108864);f!==null&&ea(f,u,67108864),o1(u,67108864)}}var qy=!0;function mV(u,f,g,b){var O=Y.T;Y.T=null;var j=J.p;try{J.p=2,s1(u,f,g,b)}finally{J.p=j,Y.T=O}}function yV(u,f,g,b){var O=Y.T;Y.T=null;var j=J.p;try{J.p=8,s1(u,f,g,b)}finally{J.p=j,Y.T=O}}function s1(u,f,g,b){if(qy){var O=u1(b);if(O===null)Qb(u,f,b,zy,g),lL(u,b);else if(_V(O,u,f,g,b))b.stopPropagation();else if(lL(u,b),f&4&&-1<vV.indexOf(u)){for(;O!==null;){var j=Qt(O);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var le=sn(j.pendingLanes);if(le!==0){var Ce=j;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;le;){var Ve=1<<31-Rt(le);Ce.entanglements[1]|=Ve,le&=~Ve}Jo(j),!(Lr&6)&&(Cy=Bt()+500,Wh(0))}}break;case 13:Ce=ga(j,2),Ce!==null&&ea(Ce,j,2),Py(),o1(j,2)}if(j=u1(b),j===null&&Qb(u,f,b,zy,g),j===O)break;O=j}O!==null&&b.stopPropagation()}else Qb(u,f,b,null,g)}}function u1(u){return u=qn(u),l1(u)}var zy=null;function l1(u){if(zy=null,u=Gt(u),u!==null){var f=fe(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=Ie(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return zy=u,null}function uL(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case X:return 8;case q:case K:return 32;case V:return 268435456;default:return 32}default:return 32}}var c1=!1,Qu=null,Zu=null,Ju=null,tp=new Map,np=new Map,Yu=[],vV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lL(u,f){switch(u){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":Ju=null;break;case"pointerover":case"pointerout":tp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":np.delete(f.pointerId)}}function rp(u,f,g,b,O,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:j,targetContainers:[O]},f!==null&&(f=Qt(f),f!==null&&sL(f)),u):(u.eventSystemFlags|=b,f=u.targetContainers,O!==null&&f.indexOf(O)===-1&&f.push(O),u)}function _V(u,f,g,b,O){switch(f){case"focusin":return Qu=rp(Qu,u,f,g,b,O),!0;case"dragenter":return Zu=rp(Zu,u,f,g,b,O),!0;case"mouseover":return Ju=rp(Ju,u,f,g,b,O),!0;case"pointerover":var j=O.pointerId;return tp.set(j,rp(tp.get(j)||null,u,f,g,b,O)),!0;case"gotpointercapture":return j=O.pointerId,np.set(j,rp(np.get(j)||null,u,f,g,b,O)),!0}return!1}function cL(u){var f=Gt(u.target);if(f!==null){var g=fe(f);if(g!==null){if(f=g.tag,f===13){if(f=Ie(g),f!==null){u.blockedOn=f,et(u.priority,function(){if(g.tag===13){var b=Ma(),O=ga(g,b);O!==null&&ea(O,g,b),o1(g,b)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Hy(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=u1(u.nativeEvent);if(g===null){g=u.nativeEvent;var b=new g.constructor(g.type,g);Ht=b,g.target.dispatchEvent(b),Ht=null}else return f=Qt(g),f!==null&&sL(f),u.blockedOn=g,!1;f.shift()}return!0}function fL(u,f,g){Hy(u)&&g.delete(f)}function wV(){c1=!1,Qu!==null&&Hy(Qu)&&(Qu=null),Zu!==null&&Hy(Zu)&&(Zu=null),Ju!==null&&Hy(Ju)&&(Ju=null),tp.forEach(fL),np.forEach(fL)}function Vy(u,f){u.blockedOn===f&&(u.blockedOn=null,c1||(c1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wV)))}var Ky=null;function dL(u){Ky!==u&&(Ky=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ky===u&&(Ky=null);for(var f=0;f<u.length;f+=3){var g=u[f],b=u[f+1],O=u[f+2];if(typeof b!="function"){if(l1(b||g)===null)continue;break}var j=Qt(g);j!==null&&(u.splice(f,3),f-=3,Xw(j,{pending:!0,data:O,method:g.method,action:b},b,O))}}))}function ip(u){function f(Ve){return Vy(Ve,u)}Qu!==null&&Vy(Qu,u),Zu!==null&&Vy(Zu,u),Ju!==null&&Vy(Ju,u),tp.forEach(f),np.forEach(f);for(var g=0;g<Yu.length;g++){var b=Yu[g];b.blockedOn===u&&(b.blockedOn=null)}for(;0<Yu.length&&(g=Yu[0],g.blockedOn===null);)cL(g),g.blockedOn===null&&Yu.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var O=g[b],j=g[b+1],le=O[Et]||null;if(typeof j=="function")le||dL(g);else if(le){var Ce=null;if(j&&j.hasAttribute("formAction")){if(O=j,le=j[Et]||null)Ce=le.formAction;else if(l1(O)!==null)continue}else Ce=le.action;typeof Ce=="function"?g[b+1]=Ce:(g.splice(b,3),b-=3),dL(g)}}}function f1(u){this._internalRoot=u}Gy.prototype.render=f1.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,b=Ma();aL(g,b,u,f,null,null)},Gy.prototype.unmount=f1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&kf(),aL(u.current,2,null,u,null,null),Py(),f[Lt]=null}};function Gy(u){this._internalRoot=u}Gy.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ee();u={blockedOn:null,target:u,priority:f};for(var g=0;g<Yu.length&&f!==0&&f<Yu[g].priority;g++);Yu.splice(g,0,u),g===0&&cL(u)}};var hL=e.version;if(hL!=="19.0.0")throw Error(r(527,hL,"19.0.0"));J.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ie(f),u=u!==null?me(u):null,u=u===null?null:u.stateNode,u};var bV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:Gt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wy.isDisabled&&Wy.supportsFiber)try{ke=Wy.inject(bV),At=Wy}catch{}}return op.createRoot=function(u,f){if(!i(u))throw Error(r(299));var g=!1,b="",O=OO,j=IO,le=LO,Ce=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(O=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(le=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ce=f.unstable_transitionCallbacks)),f=rL(u,1,!1,null,null,g,b,O,j,le,Ce,null),u[Lt]=f.current,Wb(u.nodeType===8?u.parentNode:u),new f1(f)},op.hydrateRoot=function(u,f,g){if(!i(u))throw Error(r(299));var b=!1,O="",j=OO,le=IO,Ce=LO,Ve=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(j=g.onUncaughtError),g.onCaughtError!==void 0&&(le=g.onCaughtError),g.onRecoverableError!==void 0&&(Ce=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ve=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),f=rL(u,1,!0,f,g??null,b,O,j,le,Ce,Ve,at),f.context=iL(null),g=f.current,b=Ma(),O=Bu(b),O.callback=null,qu(g,O,b),f.current.lanes=b,xt(f,b),Jo(f),u[Lt]=f.current,Wb(u),new Gy(f)},op.version="19.0.0",op}var ML;function rK(){if(ML)return y1.exports;ML=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y1.exports=nK(),y1.exports}var iK=rK(),b1={exports:{}},S1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DL;function aK(){if(DL)return S1;DL=1;var t=qd();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,s=t.useDebugValue;return S1.useSyncExternalStoreWithSelector=function(l,c,h,p,m){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function S(M){if(!x){if(x=!0,E=M,M=p(M),m!==void 0&&v.hasValue){var D=v.value;if(m(D,M))return A=D}return A=M}if(D=A,n(E,M))return D;var F=p(M);return m!==void 0&&m(D,F)?(E=M,D):(E=M,A=F)}var x=!1,E,A,I=h===void 0?null:h;return[function(){return S(c())},I===null?void 0:function(){return S(I())}]},[c,h,p,m]);var w=r(l,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=w},[w]),s(w),w},S1}var kL;function oK(){return kL||(kL=1,b1.exports=aK()),b1.exports}var sK=oK();function uK(t){t()}function lK(){let t=null,e=null;return{clear(){t=null,e=null},notify(){uK(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var NL={notify(){},get:()=>[]};function cK(t,e){let n,r=NL,i=0,a=!1;function o(w){h();const S=r.subscribe(w);let x=!1;return()=>{x||(x=!0,S(),p())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function h(){i++,n||(n=t.subscribe(l),r=lK())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=NL)}function m(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return v}var fK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dK=fK(),hK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pK=hK(),gK=()=>dK||pK?te.useLayoutEffect:te.useEffect,mK=gK(),x1=Symbol.for("react-redux-context"),E1=typeof globalThis<"u"?globalThis:{};function yK(){if(!te.createContext)return{};const t=E1[x1]??(E1[x1]=new Map);let e=t.get(te.createContext);return e||(e=te.createContext(null),t.set(te.createContext,e)),e}var xl=yK();function vK(t){const{children:e,context:n,serverState:r,store:i}=t,a=te.useMemo(()=>{const l=cK(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=te.useMemo(()=>i.getState(),[i]);mK(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||xl;return te.createElement(s.Provider,{value:a},e)}var _K=vK;function UA(t=xl){return function(){return te.useContext(t)}}var fU=UA();function dU(t=xl){const e=t===xl?fU:UA(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var wK=dU();function bK(t=xl){const e=t===xl?wK:dU(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var SK=bK(),xK=(t,e)=>t===e;function EK(t=xl){const e=t===xl?fU:UA(t),n=(r,i={})=>{const{equalityFn:a=xK}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:s,subscription:l,getServerState:c}=o;te.useRef(!0);const h=te.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=sK.useSyncExternalStoreWithSelector(l.addNestedSub,s.getState,c||s.getState,h,a);return te.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var TK=EK();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wn.apply(this,arguments)}var ei;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ei||(ei={}));const FL="popstate";function CK(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Kg("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ps(i)}return RK(e,n,null,t)}function _n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AK(){return Math.random().toString(36).substr(2,8)}function jL(t,e){return{usr:t.state,key:t.key,idx:e}}function Kg(t,e,n,r){return n===void 0&&(n=null),Wn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pu(e):e,{state:n,key:e&&e.key||r||AK()})}function ps(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RK(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ei.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Wn({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){s=ei.Pop;let S=h(),x=S==null?null:S-c;c=S,l&&l({action:s,location:w.location,delta:x})}function m(S,x){s=ei.Push;let E=Kg(w.location,S,x);c=h()+1;let A=jL(E,c),I=w.createHref(E);try{o.pushState(A,"",I)}catch{i.location.assign(I)}a&&l&&l({action:s,location:w.location,delta:1})}function y(S,x){s=ei.Replace;let E=Kg(w.location,S,x);c=h();let A=jL(E,c),I=w.createHref(E);o.replaceState(A,"",I),a&&l&&l({action:s,location:w.location,delta:0})}function v(S){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:ps(S);return _n(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let w={get action(){return s},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FL,p),l=S,()=>{i.removeEventListener(FL,p),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(S){return o.go(S)}};return w}var Ii;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ii||(Ii={}));function PK(t){return t.index===!0}function hU(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,i)=>{let a=[...e,i],o=typeof r.id=="string"?r.id:a.join("-");return _n(r.index!==!0||!r.children,"Cannot specify children on an index route"),_n(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),PK(r)?Wn({},r,{id:o}):Wn({},r,{id:o,children:r.children?hU(r.children,a,n):void 0})})}function bg(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?pu(e):e,i=mU(r.pathname||"/",n);if(i==null)return null;let a=pU(t);OK(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=$K(a[s],qK(i));return o}function pU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(_n(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=au([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(_n(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pU(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:FK(c,a.index),routesMeta:h})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of gU(a.path))i(a,o,l)}),e}function gU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=gU(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function OK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jK(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IK=/^:\w+$/,LK=3,MK=2,DK=1,kK=10,NK=-2,$L=t=>t==="*";function FK(t,e){let n=t.split("/"),r=n.length;return n.some($L)&&(r+=NK),e&&(r+=MK),n.filter(i=>!$L(i)).reduce((i,a)=>i+(IK.test(a)?LK:a===""?DK:kK),r)}function jK(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $K(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=UK({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let p=s.route;a.push({params:r,pathname:au([i,h.pathname]),pathnameBase:KK(au([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=au([i,h.pathnameBase]))}return a}function UK(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,h,p)=>{if(h==="*"){let m=s[p]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return c[h]=zK(s[p]||"",h),c},{}),pathname:a,pathnameBase:o,pattern:t}}function BK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qK(t){try{return decodeURI(t)}catch(e){return Gg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zK(t,e){try{return decodeURIComponent(t)}catch(n){return Gg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function mU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pu(t):t;return{pathname:n?n.startsWith("/")?n:VK(n,e):e,search:GK(r),hash:WK(i)}}function VK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function T1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pu(t):(i=Wn({},t),_n(!i.pathname||!i.pathname.includes("?"),T1("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),T1("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),T1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}s=p>=0?e[p]:"/"}let l=HK(i,s),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const au=t=>t.join("/").replace(/\/\/+/g,"/"),KK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class UL extends Error{}class QK{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_n(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let i=()=>r(new UL("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((a,o)=>{let[s,l]=o;return Object.assign(a,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof UL?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _n(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:JK(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function ZK(t){return t instanceof Promise&&t._tracked===!0}function JK(t){if(!ZK(t))return t;if(t._error)throw t._error;return t._data}class qA{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vU=["post","put","patch","delete"],YK=new Set(vU),XK=["get",...vU],eG=new Set(XK),tG=new Set([301,302,303,307,308]),nG=new Set([307,308]),C1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},rG={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},BL={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_U=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iG=!_U;function aG(t){_n(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=hU(t.routes),n=null,r=new Set,i=null,a=null,o=null,s=t.hydrationData!=null,l=bg(e,t.history.location,t.basename),c=null;if(l==null){let Se=al(404,{pathname:t.history.location.pathname}),{matches:Be,route:X}=GL(e);l=Be,c={[X.id]:Se}}let h=!l.some(Se=>Se.route.loader)||t.hydrationData!=null,p,m={historyAction:t.history.action,location:t.history.location,matches:l,initialized:h,navigation:C1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||c,fetchers:new Map,blockers:new Map},y=ei.Pop,v=!1,w,S=!1,x=!1,E=[],A=[],I=new Map,M=0,D=-1,F=new Map,Q=new Set,Y=new Map,B=new Map,Z=null,ce=new Map,re=!1;function ue(){return n=t.history.listen(Se=>{let{action:Be,location:X,delta:q}=Se;if(re){re=!1;return}Gg(Z!=null&&q===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ne({currentLocation:m.location,nextLocation:X,historyAction:Be});if(K&&q!=null){re=!0,t.history.go(q*-1),Te(K,{state:"blocked",location:X,proceed(){Te(K,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),t.history.go(q)},reset(){He(K),de({blockers:new Map(p.state.blockers)})}});return}return ie(Be,X)}),m.initialized||ie(ei.Pop,m.location),p}function ge(){n&&n(),r.clear(),w&&w.abort(),m.fetchers.forEach((Se,Be)=>z(Be)),m.blockers.forEach((Se,Be)=>He(Be))}function _e(Se){return r.add(Se),()=>r.delete(Se)}function de(Se){m=Wn({},m,Se),r.forEach(Be=>Be(m))}function fe(Se,Be){var X,q;let K=m.actionData!=null&&m.navigation.formMethod!=null&&nu(m.navigation.formMethod)&&m.navigation.state==="loading"&&((X=Se.state)==null?void 0:X._isRedirect)!==!0,V;Be.actionData?Object.keys(Be.actionData).length>0?V=Be.actionData:V=null:K?V=m.actionData:V=null;let je=Be.loaderData?KL(m.loaderData,Be.loaderData,Be.matches||[],Be.errors):m.loaderData;for(let[ke]of ce)He(ke);let Ze=v===!0||m.navigation.formMethod!=null&&nu(m.navigation.formMethod)&&((q=Se.state)==null?void 0:q._isRedirect)!==!0;de(Wn({},Be,{actionData:V,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:C1,revalidation:"idle",restoreScrollPosition:Bt(Se,Be.matches||m.matches),preventScrollReset:Ze,blockers:new Map(m.blockers)})),S||y===ei.Pop||(y===ei.Push?t.history.push(Se,Se.state):y===ei.Replace&&t.history.replace(Se,Se.state)),y=ei.Pop,v=!1,S=!1,x=!1,E=[],A=[]}async function Ie(Se,Be){if(typeof Se=="number"){t.history.go(Se);return}let{path:X,submission:q,error:K}=qL(Se,Be),V=m.location,je=Kg(m.location,X,Be&&Be.state);je=Wn({},je,t.history.encodeLocation(je));let Ze=Be&&Be.replace!=null?Be.replace:void 0,ke=ei.Push;Ze===!0?ke=ei.Replace:Ze===!1||q!=null&&nu(q.formMethod)&&q.formAction===m.location.pathname+m.location.search&&(ke=ei.Replace);let At=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,Ot=Ne({currentLocation:V,nextLocation:je,historyAction:ke});if(Ot){Te(Ot,{state:"blocked",location:je,proceed(){Te(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Ie(Se,Be)},reset(){He(Ot),de({blockers:new Map(m.blockers)})}});return}return await ie(ke,je,{submission:q,pendingError:K,preventScrollReset:At,replace:Be&&Be.replace})}function k(){if(Xe(),de({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ie(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ie(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ie(Se,Be,X){w&&w.abort(),w=null,y=Se,S=(X&&X.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),v=(X&&X.preventScrollReset)===!0;let q=X&&X.overrideNavigation,K=bg(e,Be,t.basename);if(!K){let Dt=al(404,{pathname:Be.pathname}),{matches:Rt,route:qt}=GL(e);tt(),fe(Be,{matches:Rt,loaderData:{},errors:{[qt.id]:Dt}});return}if(cG(m.location,Be)&&!(X&&X.submission&&nu(X.submission.formMethod))){fe(Be,{matches:K});return}w=new AbortController;let V=up(t.history,Be,w.signal,X&&X.submission),je,Ze;if(X&&X.pendingError)Ze={[ad(K).route.id]:X.pendingError};else if(X&&X.submission&&nu(X.submission.formMethod)){let Dt=await me(V,Be,X.submission,K,{replace:X.replace});if(Dt.shortCircuited)return;je=Dt.pendingActionData,Ze=Dt.pendingActionError,q=Wn({state:"loading",location:Be},X.submission),V=new Request(V.url,{signal:V.signal})}let{shortCircuited:ke,loaderData:At,errors:Ot}=await H(V,Be,K,q,X&&X.submission,X&&X.replace,je,Ze);ke||(w=null,fe(Be,Wn({matches:K},je?{actionData:je}:{},{loaderData:At,errors:Ot})))}async function me(Se,Be,X,q,K){Xe();let V=Wn({state:"submitting",location:Be},X);de({navigation:V});let je,Ze=JL(q,Be);if(!Ze.route.action)je={type:Ii.error,error:al(405,{method:Se.method,pathname:Be.pathname,routeId:Ze.route.id})};else if(je=await sp("action",Se,Ze,q,p.basename),Se.signal.aborted)return{shortCircuited:!0};if(ld(je)){let ke;return K.replace!=null?ke=K.replace:ke=je.location===m.location.pathname+m.location.search,await Re(m,je,{submission:X,replace:ke}),{shortCircuited:!0}}if(kg(je)){let ke=ad(q,Ze.route.id);return K.replace!==!0&&(y=ei.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(Oc(je))throw al(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:je.data}}}async function H(Se,Be,X,q,K,V,je,Ze){let ke=q;ke||(ke=Wn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K));let At=K||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[Ot,Dt]=zL(t.history,m,X,At,Be,x,E,A,je,Ze,Y);if(tt(un=>!(X&&X.some(In=>In.route.id===un))||Ot&&Ot.some(In=>In.route.id===un)),Ot.length===0&&Dt.length===0)return fe(Be,Wn({matches:X,loaderData:{},errors:Ze||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!S){Dt.forEach(In=>{let sr=m.fetchers.get(In.key),Oe={state:"loading",data:sr&&sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(In.key,Oe)});let un=je||m.actionData;de(Wn({navigation:ke},un?Object.keys(un).length===0?{actionData:null}:{actionData:un}:{},Dt.length>0?{fetchers:new Map(m.fetchers)}:{}))}D=++M,Dt.forEach(un=>I.set(un.key,w));let{results:Rt,loaderResults:qt,fetcherResults:Tr}=await Fe(m.matches,X,Ot,Dt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Dt.forEach(un=>I.delete(un.key));let fn=WL(Rt);if(fn)return await Re(m,fn,{replace:V}),{shortCircuited:!0};let{loaderData:dn,errors:pr}=VL(m,X,Ot,qt,Ze,Dt,Tr,B);B.forEach((un,In)=>{un.subscribe(sr=>{(sr||un.done)&&B.delete(In)})}),W();let sn=he(D);return Wn({loaderData:dn,errors:pr},sn||Dt.length>0?{fetchers:new Map(m.fetchers)}:{})}function J(Se){return m.fetchers.get(Se)||rG}function pe(Se,Be,X,q){if(iG)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(Se)&&$(Se);let K=bg(e,X,t.basename);if(!K){oe(Se,Be,al(404,{pathname:X}));return}let{path:V,submission:je}=qL(X,q,!0),Ze=JL(K,V);if(v=(q&&q.preventScrollReset)===!0,je&&nu(je.formMethod)){Ae(Se,Be,V,Ze,K,je);return}Y.set(Se,{routeId:Be,path:V,match:Ze,matches:K}),Je(Se,Be,V,Ze,K,je)}async function Ae(Se,Be,X,q,K,V){if(Xe(),Y.delete(Se),!q.route.action){let It=al(405,{method:V.formMethod,pathname:X,routeId:Be});oe(Se,Be,It);return}let je=m.fetchers.get(Se),Ze=Wn({state:"submitting"},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),de({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=up(t.history,X,ke.signal,V);I.set(Se,ke);let Ot=await sp("action",At,q,K,p.basename);if(At.signal.aborted){I.get(Se)===ke&&I.delete(Se);return}if(ld(Ot)){I.delete(Se),Q.add(Se);let It=Wn({state:"loading"},V,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,It),de({fetchers:new Map(m.fetchers)}),Re(m,Ot,{isFetchActionRedirect:!0})}if(kg(Ot)){oe(Se,Be,Ot.error);return}if(Oc(Ot))throw al(400,{type:"defer-action"});let Dt=m.navigation.location||m.location,Rt=up(t.history,Dt,ke.signal),qt=m.navigation.state!=="idle"?bg(e,m.navigation.location,t.basename):m.matches;_n(qt,"Didn't find any matches after fetcher action");let Tr=++M;F.set(Se,Tr);let fn=Wn({state:"loading",data:Ot.data},V,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,fn);let[dn,pr]=zL(t.history,m,qt,V,Dt,x,E,A,{[q.route.id]:Ot.data},void 0,Y);pr.filter(It=>It.key!==Se).forEach(It=>{let zn=It.key,Jn=m.fetchers.get(zn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(zn,We),I.set(zn,ke)}),de({fetchers:new Map(m.fetchers)});let{results:sn,loaderResults:un,fetcherResults:In}=await Fe(m.matches,qt,dn,pr,Rt);if(ke.signal.aborted)return;F.delete(Se),I.delete(Se),pr.forEach(It=>I.delete(It.key));let sr=WL(sn);if(sr)return Re(m,sr);let{loaderData:Oe,errors:qe}=VL(m,m.matches,dn,un,void 0,pr,In,B),wt={state:"idle",data:Ot.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,wt);let xt=he(Tr);m.navigation.state==="loading"&&Tr>D?(_n(y,"Expected pending action"),w&&w.abort(),fe(m.navigation.location,{matches:qt,loaderData:Oe,errors:qe,fetchers:new Map(m.fetchers)})):(de(Wn({errors:qe,loaderData:KL(m.loaderData,Oe,qt,qe)},xt?{fetchers:new Map(m.fetchers)}:{})),x=!1)}async function Je(Se,Be,X,q,K,V){let je=m.fetchers.get(Se),Ze=Wn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),de({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=up(t.history,X,ke.signal);I.set(Se,ke);let Ot=await sp("loader",At,q,K,p.basename);if(Oc(Ot)&&(Ot=await xU(Ot,At.signal,!0)||Ot),I.get(Se)===ke&&I.delete(Se),At.signal.aborted)return;if(ld(Ot)){await Re(m,Ot);return}if(kg(Ot)){let Rt=ad(m.matches,Be);m.fetchers.delete(Se),de({fetchers:new Map(m.fetchers),errors:{[Rt.route.id]:Ot.error}});return}_n(!Oc(Ot),"Unhandled fetcher deferred data");let Dt={state:"idle",data:Ot.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,Dt),de({fetchers:new Map(m.fetchers)})}async function Re(Se,Be,X){var q;let{submission:K,replace:V,isFetchActionRedirect:je}=X===void 0?{}:X;Be.revalidate&&(x=!0);let Ze=Kg(Se.location,Be.location,Wn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(_n(Ze,"Expected a location on the redirect navigation"),_U&&typeof((q=window)==null?void 0:q.location)<"u"){let qt=t.history.createURL(Be.location).origin;if(window.location.origin!==qt){V?window.location.replace(Be.location):window.location.assign(Be.location);return}}w=null;let ke=V===!0?ei.Replace:ei.Push,{formMethod:At,formAction:Ot,formEncType:Dt,formData:Rt}=Se.navigation;!K&&At&&Ot&&Rt&&Dt&&(K={formMethod:At,formAction:Ot,formEncType:Dt,formData:Rt}),nG.has(Be.status)&&K&&nu(K.formMethod)?await ie(ke,Ze,{submission:Wn({},K,{formAction:Be.location}),preventScrollReset:v}):await ie(ke,Ze,{overrideNavigation:{state:"loading",location:Ze,formMethod:K?K.formMethod:void 0,formAction:K?K.formAction:void 0,formEncType:K?K.formEncType:void 0,formData:K?K.formData:void 0},preventScrollReset:v})}async function Fe(Se,Be,X,q,K){let V=await Promise.all([...X.map(ke=>sp("loader",K,ke,Be,p.basename)),...q.map(ke=>sp("loader",up(t.history,ke.path,K.signal),ke.match,ke.matches,p.basename))]),je=V.slice(0,X.length),Ze=V.slice(X.length);return await Promise.all([QL(Se,X,je,K.signal,!1,m.loaderData),QL(Se,q.map(ke=>ke.match),Ze,K.signal,!0)]),{results:V,loaderResults:je,fetcherResults:Ze}}function Xe(){x=!0,E.push(...tt()),Y.forEach((Se,Be)=>{I.has(Be)&&(A.push(Be),$(Be))})}function oe(Se,Be,X){let q=ad(m.matches,Be);z(Se),de({errors:{[q.route.id]:X},fetchers:new Map(m.fetchers)})}function z(Se){I.has(Se)&&$(Se),Y.delete(Se),F.delete(Se),Q.delete(Se),m.fetchers.delete(Se)}function $(Se){let Be=I.get(Se);_n(Be,"Expected fetch controller: "+Se),Be.abort(),I.delete(Se)}function ae(Se){for(let Be of Se){let q={state:"idle",data:J(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Be,q)}}function W(){let Se=[];for(let Be of Q){let X=m.fetchers.get(Be);_n(X,"Expected fetcher: "+Be),X.state==="loading"&&(Q.delete(Be),Se.push(Be))}ae(Se)}function he(Se){let Be=[];for(let[X,q]of F)if(q<Se){let K=m.fetchers.get(X);_n(K,"Expected fetcher: "+X),K.state==="loading"&&($(X),F.delete(X),Be.push(X))}return ae(Be),Be.length>0}function ye(Se,Be){let X=m.blockers.get(Se)||BL;return ce.get(Se)!==Be&&(ce.set(Se,Be),Z==null?Z=Se:Se!==Z&&Gg(!1,"A router only supports one blocker at a time")),X}function He(Se){m.blockers.delete(Se),ce.delete(Se),Z===Se&&(Z=null)}function Te(Se,Be){let X=m.blockers.get(Se)||BL;_n(X.state==="unblocked"&&Be.state==="blocked"||X.state==="blocked"&&Be.state==="blocked"||X.state==="blocked"&&Be.state==="proceeding"||X.state==="blocked"&&Be.state==="unblocked"||X.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+X.state+" -> "+Be.state),m.blockers.set(Se,Be),de({blockers:new Map(m.blockers)})}function Ne(Se){let{currentLocation:Be,nextLocation:X,historyAction:q}=Se;if(Z==null)return;let K=ce.get(Z);_n(K,"Could not find a function for the active blocker");let V=m.blockers.get(Z);if(!(V&&V.state==="proceeding")&&K({currentLocation:Be,nextLocation:X,historyAction:q}))return Z}function tt(Se){let Be=[];return B.forEach((X,q)=>{(!Se||Se(q))&&(X.cancel(),Be.push(q),B.delete(q))}),Be}function nt(Se,Be,X){if(i=Se,o=Be,a=X||(q=>q.key),!s&&m.navigation===C1){s=!0;let q=Bt(m.location,m.matches);q!=null&&de({restoreScrollPosition:q})}return()=>{i=null,o=null,a=null}}function gt(Se,Be){if(i&&a&&o){let X=Be.map(K=>ZL(K,m.loaderData)),q=a(Se,X)||Se.key;i[q]=o()}}function Bt(Se,Be){if(i&&a&&o){let X=Be.map(V=>ZL(V,m.loaderData)),q=a(Se,X)||Se.key,K=i[q];if(typeof K=="number")return K}return null}return p={get basename(){return t.basename},get state(){return m},get routes(){return e},initialize:ue,subscribe:_e,enableScrollRestoration:nt,navigate:Ie,fetch:pe,revalidate:k,createHref:Se=>t.history.createHref(Se),encodeLocation:Se=>t.history.encodeLocation(Se),getFetcher:J,deleteFetcher:z,dispose:ge,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:I,_internalActiveDeferreds:B},p}function oG(t){return t!=null&&"formData"in t}function qL(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:ps(t);if(!e||!oG(e))return{path:r};if(e.formMethod&&!dG(e.formMethod))return{path:r,error:al(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:SU(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},nu(i.formMethod)))return{path:r,submission:i};let a=pu(r),o=bU(e.formData);return n&&a.search&&EU(a.search)&&o.append("index",""),a.search="?"+o,{path:ps(a),submission:i}}function sG(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function zL(t,e,n,r,i,a,o,s,l,c,h){let p=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),v=a||m.toString()===y.toString()||m.search!==y.search,w=c?Object.keys(c)[0]:void 0,x=sG(n,w).filter((A,I)=>{if(A.route.loader==null)return!1;if(uG(e.loaderData,e.matches[I],A)||o.some(F=>F===A.route.id))return!0;let M=e.matches[I],D=A;return HL(A,Wn({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:D.params},r,{actionResult:p,defaultShouldRevalidate:v||wU(M,D)}))}),E=[];return h&&h.forEach((A,I)=>{if(n.some(M=>M.route.id===A.routeId))s.includes(I)?E.push(Wn({key:I},A)):HL(A.match,Wn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:v}))&&E.push(Wn({key:I},A));else return}),[x,E]}function uG(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function wU(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function HL(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function sp(t,e,n,r,i,a,o,s){i===void 0&&(i="/"),a===void 0&&(a=!1),o===void 0&&(o=!1);let l,c,h,p=new Promise((y,v)=>h=v),m=()=>h();e.signal.addEventListener("abort",m);try{let y=n.route[t];_n(y,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),c=await Promise.race([y({request:e,params:n.params,context:s}),p]),_n(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){l=Ii.error,c=y}finally{e.signal.removeEventListener("abort",m)}if(fG(c)){let y=c.status;if(tG.has(y)){let S=c.headers.get("Location");if(_n(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!a){let E=new URL(e.url),A=S.startsWith("//")?new URL(E.protocol+S):new URL(S);A.origin===E.origin&&(S=A.pathname+A.search+A.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),A=C0(E).map(M=>M.pathnameBase),I=BA(S,A,new URL(e.url).pathname);if(_n(ps(I),"Unable to resolve redirect location: "+S),i){let M=I.pathname;I.pathname=M==="/"?i:au([i,M])}S=ps(I)}if(a)throw c.headers.set("Location",S),c;return{type:Ii.redirect,status:y,location:S,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||Ii.data,response:c};let v,w=c.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await c.json():v=await c.text(),l===Ii.error?{type:l,error:new qA(y,c.statusText,v),headers:c.headers}:{type:Ii.data,data:v,statusCode:c.status,headers:c.headers}}return l===Ii.error?{type:l,error:c}:c instanceof QK?{type:Ii.deferred,deferredData:c}:{type:Ii.data,data:c}}function up(t,e,n,r){let i=t.createURL(SU(e)).toString(),a={signal:n};if(r&&nu(r.formMethod)){let{formMethod:o,formEncType:s,formData:l}=r;a.method=o.toUpperCase(),a.body=s==="application/x-www-form-urlencoded"?bU(l):l}return new Request(i,a)}function bU(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function lG(t,e,n,r,i){let a={},o=null,s,l=!1,c={};return n.forEach((h,p)=>{let m=e[p].route.id;if(_n(!ld(h),"Cannot handle redirect results in processLoaderData"),kg(h)){let y=ad(t,m),v=h.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),a[m]=void 0,l||(l=!0,s=yU(h.error)?h.error.status:500),h.headers&&(c[m]=h.headers)}else Oc(h)?(i.set(m,h.deferredData),a[m]=h.deferredData.data):a[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(c[m]=h.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function VL(t,e,n,r,i,a,o,s){let{loaderData:l,errors:c}=lG(e,n,r,i,s);for(let h=0;h<a.length;h++){let{key:p,match:m}=a[h];_n(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let y=o[h];if(kg(y)){let v=ad(t.matches,m.route.id);c&&c[v.route.id]||(c=Wn({},c,{[v.route.id]:y.error})),t.fetchers.delete(p)}else if(ld(y))_n(!1,"Unhandled fetcher revalidation redirect");else if(Oc(y))_n(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(p,v)}}return{loaderData:l,errors:c}}function KL(t,e,n,r){let i=Wn({},e);for(let a of n){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function ad(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function GL(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function al(t,e){let{pathname:n,routeId:r,method:i,type:a}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(s="defer() is not supported in actions")):t===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",s='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new qA(t||500,o,new Error(s),!0)}function WL(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ld(n))return n}}function SU(t){let e=typeof t=="string"?pu(t):t;return ps(Wn({},e,{hash:""}))}function cG(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Oc(t){return t.type===Ii.deferred}function kg(t){return t.type===Ii.error}function ld(t){return(t&&t.type)===Ii.redirect}function fG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function dG(t){return eG.has(t)}function nu(t){return YK.has(t)}async function QL(t,e,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=e[o],c=t.find(p=>p.route.id===l.route.id),h=c!=null&&!wU(c,l)&&(a&&a[l.route.id])!==void 0;Oc(s)&&(i||h)&&await xU(s,r,i).then(p=>{p&&(n[o]=p||n[o])})}}async function xU(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ii.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ii.error,error:i}}return{type:Ii.data,data:t.deferredData.data}}}function EU(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ZL(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function JL(t,e){let n=typeof e=="string"?pu(e).search:e.search;if(t[t.length-1].route.index&&EU(n||""))return t[t.length-1];let r=C0(t);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function hG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const pG=typeof Object.is=="function"?Object.is:hG,{useState:gG,useEffect:mG,useLayoutEffect:yG,useDebugValue:vG}=Id;function _G(t,e,n){const r=e(),[{inst:i},a]=gG({inst:{value:r,getSnapshot:e}});return yG(()=>{i.value=r,i.getSnapshot=e,A1(i)&&a({inst:i})},[t,r,e]),mG(()=>(A1(i)&&a({inst:i}),t(()=>{A1(i)&&a({inst:i})})),[t]),vG(r),r}function A1(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!pG(n,r)}catch{return!0}}function wG(t,e,n){return e()}const bG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SG=!bG,xG=SG?wG:_G,EG="useSyncExternalStore"in Id?(t=>t.useSyncExternalStore)(Id):xG,zA=te.createContext(null),Sm=te.createContext(null),xm=te.createContext(null),A0=te.createContext(null),Al=te.createContext({outlet:null,matches:[]}),TU=te.createContext(null);function TG(t,e){let{relative:n}=e===void 0?{}:e;zd()||_n(!1);let{basename:r,navigator:i}=te.useContext(xm),{hash:a,pathname:o,search:s}=VA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:au([r,o])),i.createHref({pathname:l,search:s,hash:a})}function zd(){return te.useContext(A0)!=null}function Hd(){return zd()||_n(!1),te.useContext(A0).location}function Vd(){zd()||_n(!1);let{basename:t,navigator:e}=te.useContext(xm),{matches:n}=te.useContext(Al),{pathname:r}=Hd(),i=JSON.stringify(C0(n).map(s=>s.pathnameBase)),a=te.useRef(!1);return te.useEffect(()=>{a.current=!0}),te.useCallback(function(s,l){if(l===void 0&&(l={}),!a.current)return;if(typeof s=="number"){e.go(s);return}let c=BA(s,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:au([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}const CG=te.createContext(null);function AG(t){let e=te.useContext(Al).outlet;return e&&te.createElement(CG.Provider,{value:t},e)}function HA(){let{matches:t}=te.useContext(Al),e=t[t.length-1];return e?e.params:{}}function VA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=te.useContext(Al),{pathname:i}=Hd(),a=JSON.stringify(C0(r).map(o=>o.pathnameBase));return te.useMemo(()=>BA(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function RG(t,e){zd()||_n(!1);let{navigator:n}=te.useContext(xm),r=te.useContext(Sm),{matches:i}=te.useContext(Al),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=Hd(),c;if(e){var h;let w=typeof e=="string"?pu(e):e;s==="/"||(h=w.pathname)!=null&&h.startsWith(s)||_n(!1),c=w}else c=l;let p=c.pathname||"/",m=s==="/"?p:p.slice(s.length)||"/",y=bg(t,{pathname:m}),v=LG(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:au([s,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?s:au([s,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return e&&v?te.createElement(A0.Provider,{value:{location:G_({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ei.Pop}},v):v}function PG(){let t=NG(),e=yU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:i},n):null,null)}class OG extends te.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?te.createElement(Al.Provider,{value:this.props.routeContext},te.createElement(TU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IG(t){let{routeContext:e,match:n,children:r}=t,i=te.useContext(zA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(Al.Provider,{value:e},r)}function LG(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||_n(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,s)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||te.createElement(PG,null):null,h=e.concat(r.slice(0,s+1)),p=()=>te.createElement(IG,{match:o,routeContext:{outlet:a,matches:h}},l?c:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||s===0)?te.createElement(OG,{location:n.location,component:c,error:l,children:p(),routeContext:{outlet:null,matches:h}}):p()},null)}var YL;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(YL||(YL={}));var W_;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(W_||(W_={}));function MG(t){let e=te.useContext(Sm);return e||_n(!1),e}function DG(t){let e=te.useContext(Al);return e||_n(!1),e}function kG(t){let e=DG(),n=e.matches[e.matches.length-1];return n.route.id||_n(!1),n.route.id}function NG(){var t;let e=te.useContext(TU),n=MG(W_.UseRouteError),r=kG(W_.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function FG(t){let{fallbackElement:e,router:n}=t,r=EG(n.subscribe,()=>n.state,()=>n.state),i=te.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,s,l)=>n.navigate(o,{state:s,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,s,l)=>n.navigate(o,{replace:!0,state:s,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return te.createElement(te.Fragment,null,te.createElement(zA.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},te.createElement(Sm.Provider,{value:r},te.createElement($G,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?te.createElement(UG,null):e))),null)}function KA(t){let{to:e,replace:n,state:r,relative:i}=t;zd()||_n(!1);let a=te.useContext(Sm),o=Vd();return te.useEffect(()=>{a&&a.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function R0(t){return AG(t.context)}function jG(t){_n(!1)}function $G(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ei.Pop,navigator:a,static:o=!1}=t;zd()&&_n(!1);let s=e.replace(/^\/*/,"/"),l=te.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=pu(r));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,v=te.useMemo(()=>{let w=mU(c,s);return w==null?null:{pathname:w,search:h,hash:p,state:m,key:y}},[s,c,h,p,m,y]);return v==null?null:te.createElement(xm.Provider,{value:l},te.createElement(A0.Provider,{children:n,value:{location:v,navigationType:i}}))}function UG(t){let{children:e,location:n}=t,r=te.useContext(zA),i=r&&!e?r.router.routes:IC(e);return RG(i,n)}var XL;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(XL||(XL={}));new Promise(()=>{});function IC(t,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(t,(r,i)=>{if(!te.isValidElement(r))return;if(r.type===te.Fragment){n.push.apply(n,IC(r.props.children,e));return}r.type!==jG&&_n(!1),!r.props.index||!r.props.children||_n(!1);let a=[...e,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=IC(r.props.children,a)),n.push(o)}),n}function CU(t){return t.map(e=>{let n=G_({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=CU(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function AU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qG(t,e){return t.button===0&&(!e||e==="_self")&&!BG(t)}function LC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function zG(t,e){let n=LC(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const HG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],VG=["aria-current","caseSensitive","className","end","style","to","children"];function KG(t,e){return aG({basename:void 0,history:CK({window:void 0}),hydrationData:GG(),routes:CU(t)}).initialize()}function GG(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Wg({},e,{errors:WG(e.errors)})),e}function WG(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new qA(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const QG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oo=te.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:h}=e,p=AU(e,HG),m=typeof c=="string"?c:ps(c),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),v=m,w=!1;if(QG&&y){let A=new URL(window.location.href),I=m.startsWith("//")?new URL(A.protocol+m):new URL(m);I.origin===A.origin?v=I.pathname+I.search+I.hash:w=!0}let S=TG(v,{relative:i}),x=JG(v,{replace:o,state:s,target:l,preventScrollReset:h,relative:i});function E(A){r&&r(A),A.defaultPrevented||x(A)}return te.createElement("a",Wg({},p,{href:y?m:S,onClick:w||a?r:E,ref:n,target:l}))}),ZG=te.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,children:c}=e,h=AU(e,VG),p=VA(l,{relative:h.relative}),m=Hd(),y=te.useContext(Sm),{navigator:v}=te.useContext(xm),w=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=m.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),x=x?x.toLowerCase():null,w=w.toLowerCase());let E=S===w||!o&&S.startsWith(w)&&S.charAt(w.length)==="/",A=x!=null&&(x===w||!o&&x.startsWith(w)&&x.charAt(w.length)==="/"),I=E?r:void 0,M;typeof a=="function"?M=a({isActive:E,isPending:A}):M=[a,E?"active":null,A?"pending":null].filter(Boolean).join(" ");let D=typeof s=="function"?s({isActive:E,isPending:A}):s;return te.createElement(Oo,Wg({},h,{"aria-current":I,className:M,ref:n,style:D,to:l}),typeof c=="function"?c({isActive:E,isPending:A}):c)});var eM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(eM||(eM={}));var tM;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tM||(tM={}));function JG(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=e===void 0?{}:e,s=Vd(),l=Hd(),c=VA(t,{relative:o});return te.useCallback(h=>{if(qG(h,n)){h.preventDefault();let p=r!==void 0?r:ps(l)===ps(c);s(t,{replace:p,state:i,preventScrollReset:a,relative:o})}},[l,s,c,r,i,n,t,a,o])}function YG(t){let e=te.useRef(LC(t)),n=te.useRef(!1),r=Hd(),i=te.useMemo(()=>zG(r.search,n.current?null:e.current),[r.search]),a=Vd(),o=te.useCallback((s,l)=>{const c=LC(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}function E_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E_=function(n){return typeof n}:E_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},E_(t)}function XG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tW(t,e,n){return eW(t.prototype,e),t}function nW(t,e){return e&&(E_(e)==="object"||typeof e=="function")?e:T_(t)}function MC(t){return MC=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},MC(t)}function T_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},DC(t,e)}function C_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RU=function(t){rW(e,t);function e(){var n,r;XG(this,e);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=nW(this,(n=MC(e)).call.apply(n,[this].concat(a))),C_(T_(r),"state",{bootstrapped:!1}),C_(T_(r),"_unsubscribe",void 0),C_(T_(r),"handlePersistorState",function(){var s=r.props.persistor,l=s.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return tW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(te.PureComponent);C_(RU,"defaultProps",{children:null,loading:null});function Oi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var iW=typeof Symbol=="function"&&Symbol.observable||"@@observable",nM=iW,R1=()=>Math.random().toString(36).substring(7).split("").join("."),aW={INIT:`@@redux/INIT${R1()}`,REPLACE:`@@redux/REPLACE${R1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${R1()}`},Q_=aW;function GA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function WA(t,e,n){if(typeof t!="function")throw new Error(Oi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Oi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Oi(1));return n(WA)(t,e)}let r=t,i=e,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((S,x)=>{o.set(x,S)}))}function h(){if(l)throw new Error(Oi(3));return i}function p(S){if(typeof S!="function")throw new Error(Oi(4));if(l)throw new Error(Oi(5));let x=!0;c();const E=s++;return o.set(E,S),function(){if(x){if(l)throw new Error(Oi(6));x=!1,c(),o.delete(E),a=null}}}function m(S){if(!GA(S))throw new Error(Oi(7));if(typeof S.type>"u")throw new Error(Oi(8));if(typeof S.type!="string")throw new Error(Oi(17));if(l)throw new Error(Oi(9));try{l=!0,i=r(i,S)}finally{l=!1}return(a=o).forEach(E=>{E()}),S}function y(S){if(typeof S!="function")throw new Error(Oi(10));r=S,m({type:Q_.REPLACE})}function v(){const S=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Oi(11));function E(){const I=x;I.next&&I.next(h())}return E(),{unsubscribe:S(E)}},[nM](){return this}}}return m({type:Q_.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:y,[nM]:v}}function oW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Q_.INIT})>"u")throw new Error(Oi(12));if(typeof n(void 0,{type:Q_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Oi(13))})}function PU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{oW(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],y=o[p],v=m(y,s);if(typeof v>"u")throw s&&s.type,new Error(Oi(14));c[p]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Z_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function sW(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Oi(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=t.map(l=>l(o));return a=Z_(...s)(i.dispatch),{...i,dispatch:a}}}function uW(t){return GA(t)&&"type"in t&&typeof t.type=="string"}var OU=Symbol.for("immer-nothing"),rM=Symbol.for("immer-draftable"),qa=Symbol.for("immer-state");function Io(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ld=Object.getPrototypeOf;function Gc(t){return!!t&&!!t[qa]}function fu(t){var e;return t?IU(t)||Array.isArray(t)||!!t[rM]||!!((e=t.constructor)!=null&&e[rM])||O0(t)||I0(t):!1}var lW=Object.prototype.constructor.toString();function IU(t){if(!t||typeof t!="object")return!1;const e=Ld(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lW}function J_(t,e){P0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function P0(t){const e=t[qa];return e?e.type_:Array.isArray(t)?1:O0(t)?2:I0(t)?3:0}function kC(t,e){return P0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function LU(t,e,n){const r=P0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function O0(t){return t instanceof Map}function I0(t){return t instanceof Set}function Cc(t){return t.copy_||t.base_}function NC(t,e){if(O0(t))return new Map(t);if(I0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=IU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Ld(t),r)}else{const r=Ld(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QA(t,e=!1){return L0(t)||Gc(t)||!fu(t)||(P0(t)>1&&(t.set=t.add=t.clear=t.delete=fW),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>QA(r,!0))),t}function fW(){Io(2)}function L0(t){return Object.isFrozen(t)}var dW={};function Wc(t){const e=dW[t];return e||Io(0,t),e}var Qg;function MU(){return Qg}function hW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iM(t,e){e&&(Wc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function FC(t){jC(t),t.drafts_.forEach(pW),t.drafts_=null}function jC(t){t===Qg&&(Qg=t.parent_)}function aM(t){return Qg=hW(Qg,t)}function pW(t){const e=t[qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qa].modified_&&(FC(e),Io(4)),fu(t)&&(t=Y_(e,t),e.parent_||X_(e,t)),e.patches_&&Wc("Patches").generateReplacementPatches_(n[qa].base_,t,e.patches_,e.inversePatches_)):t=Y_(e,n,[]),FC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OU?t:void 0}function Y_(t,e,n){if(L0(e))return e;const r=e[qa];if(!r)return J_(e,(i,a)=>sM(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return X_(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),J_(a,(s,l)=>sM(t,r,i,s,l,n,o)),X_(t,i,!1),n&&t.patches_&&Wc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function sM(t,e,n,r,i,a,o){if(Gc(i)){const s=a&&e&&e.type_!==3&&!kC(e.assigned_,r)?a.concat(r):void 0,l=Y_(t,i,s);if(LU(n,r,l),Gc(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(fu(i)&&!L0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Y_(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&X_(t,i)}}function X_(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QA(e,n)}function gW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:MU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ZA;n&&(i=[r],a=Zg);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var ZA={get(t,e){if(e===qa)return t;const n=Cc(t);if(!kC(n,e))return mW(t,n,e);const r=n[e];return t.finalized_||!fu(r)?r:r===P1(t.base_,e)?(O1(t),t.copy_[e]=UC(r,t)):r},has(t,e){return e in Cc(t)},ownKeys(t){return Reflect.ownKeys(Cc(t))},set(t,e,n){const r=DU(Cc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=P1(Cc(t),e),a=i==null?void 0:i[qa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cW(n,i)&&(n!==void 0||kC(t.base_,e)))return!0;O1(t),$C(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return P1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,O1(t),$C(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Cc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Io(11)},getPrototypeOf(t){return Ld(t.base_)},setPrototypeOf(){Io(12)}},Zg={};J_(ZA,(t,e)=>{Zg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zg.deleteProperty=function(t,e){return Zg.set.call(this,t,e,void 0)};Zg.set=function(t,e,n){return ZA.set.call(this,t[0],e,n,t[0])};function P1(t,e){const n=t[qa];return(n?Cc(n):t)[e]}function mW(t,e,n){var i;const r=DU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function DU(t,e){if(!(e in t))return;let n=Ld(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ld(n)}}function $C(t){t.modified_||(t.modified_=!0,t.parent_&&$C(t.parent_))}function O1(t){t.copy_||(t.copy_=NC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var yW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const s=this;return function(c=o,...h){return s.produce(c,p=>r.call(this,p,...h))}}typeof r!="function"&&Io(6),i!==void 0&&typeof i!="function"&&Io(7);let a;if(fu(n)){const o=aM(this),s=UC(n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?FC(o):jC(o)}return iM(o,i),oM(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===OU&&(a=void 0),this.autoFreeze_&&QA(a,!0),i){const o=[],s=[];Wc("Patches").generateReplacementPatches_(n,a,o,s),i(o,s)}return a}else Io(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(s,...l)=>this.produceWithPatches(s,c=>n(c,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fu(e)||Io(8),Gc(e)&&(e=vW(e));const n=aM(this),r=UC(e,void 0);return r[qa].isManual_=!0,jC(n),r}finishDraft(e,n){const r=e&&e[qa];(!r||!r.isManual_)&&Io(9);const{scope_:i}=r;return iM(i,n),oM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Wc("Patches").applyPatches_;return Gc(e)?i(e,n):this.produce(e,a=>i(a,n))}};function UC(t,e){const n=O0(t)?Wc("MapSet").proxyMap_(t,e):I0(t)?Wc("MapSet").proxySet_(t,e):gW(t,e);return(e?e.scope_:MU()).drafts_.push(n),n}function vW(t){return Gc(t)||Io(10,t),kU(t)}function kU(t){if(!fu(t)||L0(t))return t;const e=t[qa];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=NC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=NC(t,!0);return J_(n,(r,i)=>{LU(n,r,kU(i))}),e&&(e.finalized_=!1),n}var za=new yW,NU=za.produce;za.produceWithPatches.bind(za);za.setAutoFreeze.bind(za);za.setUseStrictShallowCopy.bind(za);za.applyPatches.bind(za);za.createDraft.bind(za);za.finishDraft.bind(za);function FU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var _W=FU(),wW=FU,bW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Z_:Z_.apply(null,arguments)},SW=t=>t&&typeof t.match=="function";function uM(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ou(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>uW(r)&&r.type===t,n}var jU=class Sg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sg.prototype)}static get[Symbol.species](){return Sg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sg(...e[0].concat(this)):new Sg(...e.concat(this))}};function lM(t){return fu(t)?NU(t,()=>{}):t}function cM(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function xW(t){return typeof t=="boolean"}var EW=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new jU;return n&&(xW(n)?o.push(_W):o.push(wW(n.extraArgument))),o},TW="RTK_autoBatch",fM=t=>e=>{setTimeout(e,t)},CW=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fM(10):t.type==="callback"?t.queueNotification:fM(t.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return s.add(h),()=>{m(),s.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[TW]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(h)}finally{i=!0}}})},AW=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new jU(t);return r&&i.push(CW(typeof r=="object"?r:void 0)),i};function RW(t){const e=EW(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let s;if(typeof n=="function")s=n;else if(GA(n))s=PU(n);else throw new Error(ou(1));let l;typeof r=="function"?l=r(e):l=e();let c=Z_;i&&(c=bW({trace:!1,...typeof i=="object"&&i}));const h=sW(...l),p=AW(h);let m=typeof o=="function"?o(p):p();const y=c(...m);return WA(s,a,y)}function $U(t){const e={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(ou(28));if(s in e)throw new Error(ou(29));return e[s]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function PW(t){return typeof t=="function"}function OW(t,e){let[n,r,i]=$U(e),a;if(PW(t))a=()=>lM(t());else{const s=lM(t);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,p)=>{if(p)if(Gc(h)){const y=p(h,l);return y===void 0?h:y}else{if(fu(h))return NU(h,m=>p(m,l));{const m=p(h,l);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},s)}return o.getInitialState=a,o}var IW=(t,e)=>SW(t)?t.match(e):t(e);function LW(...t){return e=>t.some(n=>IW(n,e))}var MW=Symbol.for("rtk-slice-createasyncthunk");function DW(t,e){return`${t}/${e}`}function kW({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[MW];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(ou(11));const s=(typeof i.reducers=="function"?i.reducers(FW()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,I){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(ou(12));if(M in c.sliceCaseReducersByType)throw new Error(ou(13));return c.sliceCaseReducersByType[M]=I,h},addMatcher(A,I){return c.sliceMatchers.push({matcher:A,reducer:I}),h},exposeAction(A,I){return c.actionCreators[A]=I,h},exposeCaseReducer(A,I){return c.sliceCaseReducersByName[A]=I,h}};l.forEach(A=>{const I=s[A],M={reducerName:A,type:DW(a,A),createNotation:typeof i.reducers=="function"};$W(I)?BW(M,I,h,e):jW(M,I,h)});function p(){const[A={},I=[],M=void 0]=typeof i.extraReducers=="function"?$U(i.extraReducers):[i.extraReducers],D={...A,...c.sliceCaseReducersByType};return OW(i.initialState,F=>{for(let Q in D)F.addCase(Q,D[Q]);for(let Q of c.sliceMatchers)F.addMatcher(Q.matcher,Q.reducer);for(let Q of I)F.addMatcher(Q.matcher,Q.reducer);M&&F.addDefaultCase(M)})}const m=A=>A,y=new Map;let v;function w(A,I){return v||(v=p()),v(A,I)}function S(){return v||(v=p()),v.getInitialState()}function x(A,I=!1){function M(F){let Q=F[A];return typeof Q>"u"&&I&&(Q=S()),Q}function D(F=m){const Q=cM(y,I,()=>new WeakMap);return cM(Q,F,()=>{const Y={};for(const[B,Z]of Object.entries(i.selectors??{}))Y[B]=NW(Z,F,S,I);return Y})}return{reducerPath:A,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const E={name:a,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...x(o),injectInto(A,{reducerPath:I,...M}={}){const D=I??o;return A.inject({reducerPath:D,reducer:w},M),{...E,...x(D,!0)}}};return E}}function NW(t,e,n,r){function i(a,...o){let s=e(a);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return i.unwrapped=t,i}var M0=kW();function FW(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jW({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!UW(r))throw new Error(ou(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?uM(t,o):uM(t))}function $W(t){return t._reducerDefinitionType==="asyncThunk"}function UW(t){return t._reducerDefinitionType==="reducerWithPrepare"}function BW({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ou(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),s&&r.addCase(p.pending,s),l&&r.addCase(p.rejected,l),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Jy,pending:s||Jy,rejected:l||Jy,settled:c||Jy})}function Jy(){}function ou(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const qW={},zW=M0({name:"auth",initialState:qW,reducers:{signin:(t,e)=>{t.isLoggedIn=e.payload.isLoggedIn,t.webId=e.payload.webId},setUser:(t,e)=>{t.profile=e.payload},signout:t=>{t.isLoggedIn=!1}}}),{actions:JA,reducer:HW}=zW,Kd=t=>t.auth,VW={},KW=M0({name:"config",initialState:VW,reducers:{setConfig:(t,e)=>{Object.assign(t,e.payload)},resetConfig:()=>({})}}),{actions:BC,reducer:GW}=KW,UU=t=>t.config,WW={},QW=M0({name:"login",initialState:WW,reducers:{setLastSelectedIssuer:(t,e)=>{t.lastSelectedIssuer=e.payload}}}),{actions:e0,reducer:ZW}=QW,BU=t=>t.login.lastSelectedIssuer,JW={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},YW=M0({name:"ui",initialState:JW,reducers:{toggleTheme:t=>{t.theme=t.theme==="dark"?"light":"dark"}}}),{actions:XW,reducer:eQ}=YW,YA=t=>t.ui.theme;var XA="persist:",eR="persist/FLUSH",D0="persist/REHYDRATE",tR="persist/PAUSE",nR="persist/PERSIST",rR="persist/PURGE",iR="persist/REGISTER",tQ=-1;function A_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A_=function(n){return typeof n}:A_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},A_(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(n,!0).forEach(function(r){rQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t,e,n,r){r.debug;var i=nQ({},n);return t&&A_(t)==="object"&&Object.keys(t).forEach(function(a){a!=="_persist"&&e[a]===n[a]&&(i[a]=t[a])}),i}function aQ(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,a="".concat(t.keyPrefix!==void 0?t.keyPrefix:XA).concat(t.key),o=t.storage,s;t.serialize===!1?s=function(M){return M}:typeof t.serialize=="function"?s=t.serialize:s=oQ;var l=t.writeFailHandler||null,c={},h={},p=[],m=null,y=null,v=function(M){Object.keys(M).forEach(function(D){x(D)&&c[D]!==M[D]&&p.indexOf(D)===-1&&p.push(D)}),Object.keys(c).forEach(function(D){M[D]===void 0&&x(D)&&p.indexOf(D)===-1&&c[D]!==void 0&&p.push(D)}),m===null&&(m=setInterval(w,i)),c=M};function w(){if(p.length===0){m&&clearInterval(m),m=null;return}var I=p.shift(),M=r.reduce(function(D,F){return F.in(D,I,c)},c[I]);if(M!==void 0)try{h[I]=s(M)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete h[I];p.length===0&&S()}function S(){Object.keys(h).forEach(function(I){c[I]===void 0&&delete h[I]}),y=o.setItem(a,s(h)).catch(E)}function x(I){return!(n&&n.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function E(I){l&&l(I)}var A=function(){for(;p.length!==0;)w();return y||Promise.resolve()};return{update:v,flush:A}}function oQ(t){return JSON.stringify(t)}function sQ(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:XA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=uQ,r.getItem(n).then(function(a){if(a)try{var o={},s=i(a);return Object.keys(s).forEach(function(l){o[l]=e.reduceRight(function(c,h){return h.out(c,l,s)},i(s[l]))}),o}catch(l){throw l}else return})}function uQ(t){return JSON.parse(t)}function lQ(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:XA).concat(t.key);return e.removeItem(n,cQ)}function cQ(t){}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(n,!0).forEach(function(r){fQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t,e){if(t==null)return{};var n=hQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pQ=5e3;function gQ(t,e){var n=t.version!==void 0?t.version:tQ;t.debug;var r=t.stateReconciler===void 0?iQ:t.stateReconciler,i=t.getStoredState||sQ,a=t.timeout!==void 0?t.timeout:pQ,o=null,s=!1,l=!0,c=function(p){return p._persist.rehydrated&&o&&!l&&o.update(p),p};return function(h,p){var m=h||{},y=m._persist,v=dQ(m,["_persist"]),w=v;if(p.type===nR){var S=!1,x=function(Q,Y){S||(p.rehydrate(t.key,Q,Y),S=!0)};if(a&&setTimeout(function(){!S&&x(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},a),l=!1,o||(o=aQ(t)),y)return Ks({},e(w,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(F){var Q=t.migrate||function(Y,B){return Promise.resolve(Y)};Q(F,n).then(function(Y){x(Y)},function(Y){x(void 0,Y)})},function(F){x(void 0,F)}),Ks({},e(w,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===rR)return s=!0,p.result(lQ(t)),Ks({},e(w,p),{_persist:y});if(p.type===eR)return p.result(o&&o.flush()),Ks({},e(w,p),{_persist:y});if(p.type===tR)l=!0;else if(p.type===D0){if(s)return Ks({},w,{_persist:Ks({},y,{rehydrated:!0})});if(p.key===t.key){var E=e(w,p),A=p.payload,I=r!==!1&&A!==void 0?r(A,h,E,t):E,M=Ks({},I,{_persist:Ks({},y,{rehydrated:!0})});return c(M)}}}if(!y)return e(h,p);var D=e(w,p);return D===w?h:c(Ks({},D,{_persist:y}))}}function pM(t){return vQ(t)||yQ(t)||mQ()}function mQ(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function yQ(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function vQ(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(n,!0).forEach(function(r){_Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qU={registry:[],bootstrapped:!1},wQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qU,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case iR:return qC({},e,{registry:[].concat(pM(e.registry),[n.key])});case D0:var r=e.registry.indexOf(n.key),i=pM(e.registry);return i.splice(r,1),qC({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function bQ(t,e,n){var r=WA(wQ,qU,void 0),i=function(l){r.dispatch({type:iR,key:l})},a=function(l,c,h){var p={type:D0,payload:c,err:h,key:l};t.dispatch(p),r.dispatch(p)},o=qC({},r,{purge:function(){var l=[];return t.dispatch({type:rR,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:eR,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:tR})},persist:function(){t.dispatch({type:nR,register:i,rehydrate:a})}});return o.persist(),o}var lp={},Yy={},Xy={},mM;function SQ(){if(mM)return Xy;mM=1,Xy.__esModule=!0,Xy.default=i;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(s){return typeof s}:t=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(a)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(a){if((typeof self>"u"?"undefined":t(self))!=="object"||!(a in self))return!1;try{var o=self[a],s="redux-persist ".concat(a," test");o.setItem(s,"test"),o.getItem(s),o.removeItem(s)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:n}return Xy}var yM;function xQ(){if(yM)return Yy;yM=1,Yy.__esModule=!0,Yy.default=n;var t=e(SQ());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,t.default)(r);return{getItem:function(o){return new Promise(function(s,l){s(i.getItem(o))})},setItem:function(o,s){return new Promise(function(l,c){l(i.setItem(o,s))})},removeItem:function(o){return new Promise(function(s,l){s(i.removeItem(o))})}}}return Yy}var vM;function EQ(){if(vM)return lp;vM=1,lp.__esModule=!0,lp.default=void 0;var t=e(xQ());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return lp.default=n,lp}var TQ=EQ();const CQ=Dr(TQ),ev=PU({auth:HW,login:ZW,config:GW,ui:eQ}),AQ=(t,e)=>{if(LW(JA.signout)(e)){let n=ev(void 0,e);const r=t&&UU(t);r&&(n=ev(n,BC.setConfig(r)));const i=t&&BU(t);return i&&(n=ev(n,e0.setLastSelectedIssuer(i))),n}return ev(t,e)},RQ={key:"root",storage:CQ,whitelist:["login","config","ui"]},PQ=gQ(RQ,AQ),zU=RW({reducer:PQ,middleware:t=>t({serializableCheck:{ignoredActions:[eR,D0,tR,nR,rR,iR]}})}),OQ=bQ(zU),HU="https://solidweb.me/solidcouch/community#us",VU="solidcouch",IQ="https://service.notifications.tired.bike",LQ="https://id.notifications.tired.bike/profile/card#me",KU="simple",GU="",WU="",_M="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",wM="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var xg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var MQ=xg.exports,bM;function DQ(){return bM||(bM=1,function(t,e){(function(n,r){r(e)})(MQ,function(n){var r="1.9.4";function i(d){var _,P,U,ee;for(P=1,U=arguments.length;P<U;P++){ee=arguments[P];for(_ in ee)d[_]=ee[_]}return d}var a=Object.create||function(){function d(){}return function(_){return d.prototype=_,new d}}();function o(d,_){var P=Array.prototype.slice;if(d.bind)return d.bind.apply(d,P.call(arguments,1));var U=P.call(arguments,2);return function(){return d.apply(_,U.length?U.concat(P.call(arguments)):arguments)}}var s=0;function l(d){return"_leaflet_id"in d||(d._leaflet_id=++s),d._leaflet_id}function c(d,_,P){var U,ee,ve,Ge;return Ge=function(){U=!1,ee&&(ve.apply(P,ee),ee=!1)},ve=function(){U?ee=arguments:(d.apply(P,arguments),setTimeout(Ge,_),U=!0)},ve}function h(d,_,P){var U=_[1],ee=_[0],ve=U-ee;return d===U&&P?d:((d-ee)%ve+ve)%ve+ee}function p(){return!1}function m(d,_){if(_===!1)return d;var P=Math.pow(10,_===void 0?6:_);return Math.round(d*P)/P}function y(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function v(d){return y(d).split(/\s+/)}function w(d,_){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var P in _)d.options[P]=_[P];return d.options}function S(d,_,P){var U=[];for(var ee in d)U.push(encodeURIComponent(P?ee.toUpperCase():ee)+"="+encodeURIComponent(d[ee]));return(!_||_.indexOf("?")===-1?"?":"&")+U.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function E(d,_){return d.replace(x,function(P,U){var ee=_[U];if(ee===void 0)throw new Error("No value provided for variable "+P);return typeof ee=="function"&&(ee=ee(_)),ee})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function I(d,_){for(var P=0;P<d.length;P++)if(d[P]===_)return P;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var F=0;function Q(d){var _=+new Date,P=Math.max(0,16-(_-F));return F=_+P,window.setTimeout(d,P)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,B=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function Z(d,_,P){if(P&&Y===Q)d.call(_);else return Y.call(window,o(d,_))}function ce(d){d&&B.call(window,d)}var re={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:c,wrapNum:h,falseFn:p,formatNum:m,trim:y,splitWords:v,setOptions:w,getParamString:S,template:E,isArray:A,indexOf:I,emptyImageUrl:M,requestFn:Y,cancelFn:B,requestAnimFrame:Z,cancelAnimFrame:ce};function ue(){}ue.extend=function(d){var _=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=_.__super__=this.prototype,U=a(P);U.constructor=_,_.prototype=U;for(var ee in this)Object.prototype.hasOwnProperty.call(this,ee)&&ee!=="prototype"&&ee!=="__super__"&&(_[ee]=this[ee]);return d.statics&&i(_,d.statics),d.includes&&(ge(d.includes),i.apply(null,[U].concat(d.includes))),i(U,d),delete U.statics,delete U.includes,U.options&&(U.options=P.options?a(P.options):{},i(U.options,d.options)),U._initHooks=[],U.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=U._initHooks.length;ve<Ge;ve++)U._initHooks[ve].call(this)}},_},ue.include=function(d){var _=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=_,this.mergeOptions(d.options)),this},ue.mergeOptions=function(d){return i(this.prototype.options,d),this},ue.addInitHook=function(d){var _=Array.prototype.slice.call(arguments,1),P=typeof d=="function"?d:function(){this[d].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function ge(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var _=0;_<d.length;_++)d[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(d,_,P){if(typeof d=="object")for(var U in d)this._on(U,d[U],_);else{d=v(d);for(var ee=0,ve=d.length;ee<ve;ee++)this._on(d[ee],_,P)}return this},off:function(d,_,P){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var U in d)this._off(U,d[U],_);else{d=v(d);for(var ee=arguments.length===1,ve=0,Ge=d.length;ve<Ge;ve++)ee?this._off(d[ve]):this._off(d[ve],_,P)}return this},_on:function(d,_,P,U){if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}if(this._listens(d,_,P)===!1){P===this&&(P=void 0);var ee={fn:_,ctx:P};U&&(ee.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(ee)}},_off:function(d,_,P){var U,ee,ve;if(this._events&&(U=this._events[d],!!U)){if(arguments.length===1){if(this._firingCount)for(ee=0,ve=U.length;ee<ve;ee++)U[ee].fn=p;delete this._events[d];return}if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}var Ge=this._listens(d,_,P);if(Ge!==!1){var st=U[Ge];this._firingCount&&(st.fn=p,this._events[d]=U=U.slice()),U.splice(Ge,1)}}},fire:function(d,_,P){if(!this.listens(d,P))return this;var U=i({},_,{type:d,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var ee=this._events[d];if(ee){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=ee.length;ve<Ge;ve++){var st=ee[ve],yt=st.fn;st.once&&this.off(d,yt,st.ctx),yt.call(st.ctx||this,U)}this._firingCount--}}return P&&this._propagateEvent(U),this},listens:function(d,_,P,U){typeof d!="string"&&console.warn('"string" type argument expected');var ee=_;typeof _!="function"&&(U=!!_,ee=void 0,P=void 0);var ve=this._events&&this._events[d];if(ve&&ve.length&&this._listens(d,ee,P)!==!1)return!0;if(U){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(d,_,P,U))return!0}return!1},_listens:function(d,_,P){if(!this._events)return!1;var U=this._events[d]||[];if(!_)return!!U.length;P===this&&(P=void 0);for(var ee=0,ve=U.length;ee<ve;ee++)if(U[ee].fn===_&&U[ee].ctx===P)return ee;return!1},once:function(d,_,P){if(typeof d=="object")for(var U in d)this._on(U,d[U],_,!0);else{d=v(d);for(var ee=0,ve=d.length;ee<ve;ee++)this._on(d[ee],_,P,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[l(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[l(d)],this},_propagateEvent:function(d){for(var _ in this._eventParents)this._eventParents[_].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var de=ue.extend(_e);function fe(d,_,P){this.x=P?Math.round(d):d,this.y=P?Math.round(_):_}var Ie=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};fe.prototype={clone:function(){return new fe(this.x,this.y)},add:function(d){return this.clone()._add(k(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(k(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new fe(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new fe(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ie(this.x),this.y=Ie(this.y),this},distanceTo:function(d){d=k(d);var _=d.x-this.x,P=d.y-this.y;return Math.sqrt(_*_+P*P)},equals:function(d){return d=k(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=k(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function k(d,_,P){return d instanceof fe?d:A(d)?new fe(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new fe(d.x,d.y):new fe(d,_,P)}function ie(d,_){if(d)for(var P=_?[d,_]:d,U=0,ee=P.length;U<ee;U++)this.extend(P[U])}ie.prototype={extend:function(d){var _,P;if(!d)return this;if(d instanceof fe||typeof d[0]=="number"||"x"in d)_=P=k(d);else if(d=me(d),_=d.min,P=d.max,!_||!P)return this;return!this.min&&!this.max?(this.min=_.clone(),this.max=P.clone()):(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(d){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var _,P;return typeof d[0]=="number"||d instanceof fe?d=k(d):d=me(d),d instanceof ie?(_=d.min,P=d.max):_=P=d,_.x>=this.min.x&&P.x<=this.max.x&&_.y>=this.min.y&&P.y<=this.max.y},intersects:function(d){d=me(d);var _=this.min,P=this.max,U=d.min,ee=d.max,ve=ee.x>=_.x&&U.x<=P.x,Ge=ee.y>=_.y&&U.y<=P.y;return ve&&Ge},overlaps:function(d){d=me(d);var _=this.min,P=this.max,U=d.min,ee=d.max,ve=ee.x>_.x&&U.x<P.x,Ge=ee.y>_.y&&U.y<P.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var _=this.min,P=this.max,U=Math.abs(_.x-P.x)*d,ee=Math.abs(_.y-P.y)*d;return me(k(_.x-U,_.y-ee),k(P.x+U,P.y+ee))},equals:function(d){return d?(d=me(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function me(d,_){return!d||d instanceof ie?d:new ie(d,_)}function H(d,_){if(d)for(var P=_?[d,_]:d,U=0,ee=P.length;U<ee;U++)this.extend(P[U])}H.prototype={extend:function(d){var _=this._southWest,P=this._northEast,U,ee;if(d instanceof pe)U=d,ee=d;else if(d instanceof H){if(U=d._southWest,ee=d._northEast,!U||!ee)return this}else return d?this.extend(Ae(d)||J(d)):this;return!_&&!P?(this._southWest=new pe(U.lat,U.lng),this._northEast=new pe(ee.lat,ee.lng)):(_.lat=Math.min(U.lat,_.lat),_.lng=Math.min(U.lng,_.lng),P.lat=Math.max(ee.lat,P.lat),P.lng=Math.max(ee.lng,P.lng)),this},pad:function(d){var _=this._southWest,P=this._northEast,U=Math.abs(_.lat-P.lat)*d,ee=Math.abs(_.lng-P.lng)*d;return new H(new pe(_.lat-U,_.lng-ee),new pe(P.lat+U,P.lng+ee))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof pe||"lat"in d?d=Ae(d):d=J(d);var _=this._southWest,P=this._northEast,U,ee;return d instanceof H?(U=d.getSouthWest(),ee=d.getNorthEast()):U=ee=d,U.lat>=_.lat&&ee.lat<=P.lat&&U.lng>=_.lng&&ee.lng<=P.lng},intersects:function(d){d=J(d);var _=this._southWest,P=this._northEast,U=d.getSouthWest(),ee=d.getNorthEast(),ve=ee.lat>=_.lat&&U.lat<=P.lat,Ge=ee.lng>=_.lng&&U.lng<=P.lng;return ve&&Ge},overlaps:function(d){d=J(d);var _=this._southWest,P=this._northEast,U=d.getSouthWest(),ee=d.getNorthEast(),ve=ee.lat>_.lat&&U.lat<P.lat,Ge=ee.lng>_.lng&&U.lng<P.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,_){return d?(d=J(d),this._southWest.equals(d.getSouthWest(),_)&&this._northEast.equals(d.getNorthEast(),_)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(d,_){return d instanceof H?d:new H(d,_)}function pe(d,_,P){if(isNaN(d)||isNaN(_))throw new Error("Invalid LatLng object: ("+d+", "+_+")");this.lat=+d,this.lng=+_,P!==void 0&&(this.alt=+P)}pe.prototype={equals:function(d,_){if(!d)return!1;d=Ae(d);var P=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return P<=(_===void 0?1e-9:_)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return Re.distance(this,Ae(d))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(d){var _=180*d/40075017,P=_/Math.cos(Math.PI/180*this.lat);return J([this.lat-_,this.lng-P],[this.lat+_,this.lng+P])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function Ae(d,_,P){return d instanceof pe?d:A(d)&&typeof d[0]!="object"?d.length===3?new pe(d[0],d[1],d[2]):d.length===2?new pe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new pe(d.lat,"lng"in d?d.lng:d.lon,d.alt):_===void 0?null:new pe(d,_,P)}var Je={latLngToPoint:function(d,_){var P=this.projection.project(d),U=this.scale(_);return this.transformation._transform(P,U)},pointToLatLng:function(d,_){var P=this.scale(_),U=this.transformation.untransform(d,P);return this.projection.unproject(U)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var _=this.projection.bounds,P=this.scale(d),U=this.transformation.transform(_.min,P),ee=this.transformation.transform(_.max,P);return new ie(U,ee)},infinite:!1,wrapLatLng:function(d){var _=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,P=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,U=d.alt;return new pe(P,_,U)},wrapLatLngBounds:function(d){var _=d.getCenter(),P=this.wrapLatLng(_),U=_.lat-P.lat,ee=_.lng-P.lng;if(U===0&&ee===0)return d;var ve=d.getSouthWest(),Ge=d.getNorthEast(),st=new pe(ve.lat-U,ve.lng-ee),yt=new pe(Ge.lat-U,Ge.lng-ee);return new H(st,yt)}},Re=i({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(d,_){var P=Math.PI/180,U=d.lat*P,ee=_.lat*P,ve=Math.sin((_.lat-d.lat)*P/2),Ge=Math.sin((_.lng-d.lng)*P/2),st=ve*ve+Math.cos(U)*Math.cos(ee)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(st),Math.sqrt(1-st));return this.R*yt}}),Fe=6378137,Xe={R:Fe,MAX_LATITUDE:85.0511287798,project:function(d){var _=Math.PI/180,P=this.MAX_LATITUDE,U=Math.max(Math.min(P,d.lat),-P),ee=Math.sin(U*_);return new fe(this.R*d.lng*_,this.R*Math.log((1+ee)/(1-ee))/2)},unproject:function(d){var _=180/Math.PI;return new pe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*_,d.x*_/this.R)},bounds:function(){var d=Fe*Math.PI;return new ie([-d,-d],[d,d])}()};function oe(d,_,P,U){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=_,this._c=P,this._d=U}oe.prototype={transform:function(d,_){return this._transform(d.clone(),_)},_transform:function(d,_){return _=_||1,d.x=_*(this._a*d.x+this._b),d.y=_*(this._c*d.y+this._d),d},untransform:function(d,_){return _=_||1,new fe((d.x/_-this._b)/this._a,(d.y/_-this._d)/this._c)}};function z(d,_,P,U){return new oe(d,_,P,U)}var $=i({},Re,{code:"EPSG:3857",projection:Xe,transformation:function(){var d=.5/(Math.PI*Xe.R);return z(d,.5,-d,.5)}()}),ae=i({},$,{code:"EPSG:900913"});function W(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function he(d,_){var P="",U,ee,ve,Ge,st,yt;for(U=0,ve=d.length;U<ve;U++){for(st=d[U],ee=0,Ge=st.length;ee<Ge;ee++)yt=st[ee],P+=(ee?"L":"M")+yt.x+" "+yt.y;P+=_?Ee.svg?"z":"x":""}return P||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Te=He&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),Bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&Bt<537&&!("AudioNode"in window),Be=!!window.opera,X=!Ne&&We("chrome"),q=We("gecko")&&!tt&&!Be&&!He,K=!X&&We("safari"),V=We("phantom"),je="OTransition"in ye,Ze=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,At="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,Ot="MozPerspective"in ye,Dt=!window.L_DISABLE_3D&&(ke||At||Ot)&&!je&&!V,Rt=typeof orientation<"u"||We("mobile"),qt=Rt&&tt,Tr=Rt&&At,fn=!window.PointerEvent&&window.MSPointerEvent,dn=!!(window.PointerEvent||fn),pr="ontouchstart"in window||!!window.TouchEvent,sn=!window.L_NO_TOUCH&&(pr||dn),un=Rt&&Be,In=Rt&&q,sr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oe=function(){var d=!1;try{var _=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,_),window.removeEventListener("testPassiveEventSupport",p,_)}catch{}return d}(),qe=function(){return!!document.createElement("canvas").getContext}(),wt=!!(document.createElementNS&&W("svg").createSVGRect),xt=!!wt&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),It=!wt&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var _=d.firstChild;return _.style.behavior="url(#default#VML)",_&&typeof _.adj=="object"}catch{return!1}}(),zn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ee={ie:He,ielt9:Te,edge:Ne,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:X,gecko:q,safari:K,phantom:V,opera12:je,win:Ze,ie3d:ke,webkit3d:At,gecko3d:Ot,any3d:Dt,mobile:Rt,mobileWebkit:qt,mobileWebkit3d:Tr,msPointer:fn,pointer:dn,touch:sn,touchNative:pr,mobileOpera:un,mobileGecko:In,retina:sr,passiveEvents:Oe,canvas:qe,svg:wt,vml:It,inlineSvg:xt,mac:zn,linux:Jn},et=Ee.msPointer?"MSPointerDown":"pointerdown",ft=Ee.msPointer?"MSPointerMove":"pointermove",it=Ee.msPointer?"MSPointerUp":"pointerup",Et=Ee.msPointer?"MSPointerCancel":"pointercancel",Lt={touchstart:et,touchmove:ft,touchend:it,touchcancel:Et},Kt={touchstart:Bn,touchmove:En,touchend:En,touchcancel:En},Yt={},zt=!1;function Nt(d,_,P){return _==="touchstart"&&xn(),Kt[_]?(P=Kt[_].bind(this,P),d.addEventListener(Lt[_],P,!1),P):(console.warn("wrong event specified:",_),p)}function en(d,_,P){if(!Lt[_]){console.warn("wrong event specified:",_);return}d.removeEventListener(Lt[_],P,!1)}function Rn(d){Yt[d.pointerId]=d}function Gt(d){Yt[d.pointerId]&&(Yt[d.pointerId]=d)}function Qt(d){delete Yt[d.pointerId]}function xn(){zt||(document.addEventListener(et,Rn,!0),document.addEventListener(ft,Gt,!0),document.addEventListener(it,Qt,!0),document.addEventListener(Et,Qt,!0),zt=!0)}function En(d,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){_.touches=[];for(var P in Yt)_.touches.push(Yt[P]);_.changedTouches=[_],d(_)}}function Bn(d,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&rr(_),En(d,_)}function Cr(d){var _={},P,U;for(U in d)P=d[U],_[U]=P&&P.bind?P.bind(d):P;return d=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}var zr=200;function Hr(d,_){d.addEventListener("dblclick",_);var P=0,U;function ee(ve){if(ve.detail!==1){U=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=mo(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var st=Date.now();st-P<=zr?(U++,U===2&&_(Cr(ve))):U=1,P=st}}}return d.addEventListener("click",ee),{dblclick:_,simDblclick:ee}}function Or(d,_){d.removeEventListener("dblclick",_.dblclick),d.removeEventListener("click",_.simDblclick)}var jn=ot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qr=ot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qi=Qr==="webkitTransition"||Qr==="OTransition"?Qr+"End":"transitionend";function C(d){return typeof d=="string"?document.getElementById(d):d}function T(d,_){var P=d.style[_]||d.currentStyle&&d.currentStyle[_];if((!P||P==="auto")&&document.defaultView){var U=document.defaultView.getComputedStyle(d,null);P=U?U[_]:null}return P==="auto"?null:P}function R(d,_,P){var U=document.createElement(d);return U.className=_||"",P&&P.appendChild(U),U}function N(d){var _=d.parentNode;_&&_.removeChild(d)}function G(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function se(d){var _=d.parentNode;_&&_.lastChild!==d&&_.appendChild(d)}function we(d){var _=d.parentNode;_&&_.firstChild!==d&&_.insertBefore(d,_.firstChild)}function Le(d,_){if(d.classList!==void 0)return d.classList.contains(_);var P=$e(d);return P.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(P)}function xe(d,_){if(d.classList!==void 0)for(var P=v(_),U=0,ee=P.length;U<ee;U++)d.classList.add(P[U]);else if(!Le(d,_)){var ve=$e(d);Me(d,(ve?ve+" ":"")+_)}}function Pe(d,_){d.classList!==void 0?d.classList.remove(_):Me(d,y((" "+$e(d)+" ").replace(" "+_+" "," ")))}function Me(d,_){d.className.baseVal===void 0?d.className=_:d.className.baseVal=_}function $e(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function ze(d,_){"opacity"in d.style?d.style.opacity=_:"filter"in d.style&&Ye(d,_)}function Ye(d,_){var P=!1,U="DXImageTransform.Microsoft.Alpha";try{P=d.filters.item(U)}catch{if(_===1)return}_=Math.round(_*100),P?(P.Enabled=_!==100,P.Opacity=_):d.style.filter+=" progid:"+U+"(opacity="+_+")"}function ot(d){for(var _=document.documentElement.style,P=0;P<d.length;P++)if(d[P]in _)return d[P];return!1}function dt(d,_,P){var U=_||new fe(0,0);d.style[jn]=(Ee.ie3d?"translate("+U.x+"px,"+U.y+"px)":"translate3d("+U.x+"px,"+U.y+"px,0)")+(P?" scale("+P+")":"")}function ut(d,_){d._leaflet_pos=_,Ee.any3d?dt(d,_):(d.style.left=_.x+"px",d.style.top=_.y+"px")}function be(d){return d._leaflet_pos||new fe(0,0)}var De,Ue,Ke;if("onselectstart"in document)De=function(){Wt(window,"selectstart",rr)},Ue=function(){hn(window,"selectstart",rr)};else{var lt=ot(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var d=document.documentElement.style;Ke=d[lt],d[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Wt(window,"dragstart",rr)}function Ft(){hn(window,"dragstart",rr)}var Tt,pn;function kt(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Ht(),Tt=d,pn=d.style.outlineStyle,d.style.outlineStyle="none",Wt(window,"keydown",Ht))}function Ht(){Tt&&(Tt.style.outlineStyle=pn,Tt=void 0,pn=void 0,hn(window,"keydown",Ht))}function qn(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function kn(d){var _=d.getBoundingClientRect();return{x:_.width/d.offsetWidth||1,y:_.height/d.offsetHeight||1,boundingClientRect:_}}var $n={__proto__:null,TRANSFORM:jn,TRANSITION:Qr,TRANSITION_END:qi,get:C,getStyle:T,create:R,remove:N,empty:G,toFront:se,toBack:we,hasClass:Le,addClass:xe,removeClass:Pe,setClass:Me,getClass:$e,setOpacity:ze,testProp:ot,setTransform:dt,setPosition:ut,getPosition:be,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:Ft,preventOutline:kt,restoreOutline:Ht,getSizedParentNode:qn,getScale:kn};function Wt(d,_,P,U){if(_&&typeof _=="object")for(var ee in _)mr(d,ee,_[ee],P);else{_=v(_);for(var ve=0,Ge=_.length;ve<Ge;ve++)mr(d,_[ve],P,U)}return this}var Kn="_leaflet_events";function hn(d,_,P,U){if(arguments.length===1)Yn(d),delete d[Kn];else if(_&&typeof _=="object")for(var ee in _)ur(d,ee,_[ee],P);else if(_=v(_),arguments.length===2)Yn(d,function(st){return I(_,st)!==-1});else for(var ve=0,Ge=_.length;ve<Ge;ve++)ur(d,_[ve],P,U);return this}function Yn(d,_){for(var P in d[Kn]){var U=P.split(/\d/)[0];(!_||_(U))&&ur(d,U,null,null,P)}}var gr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mr(d,_,P,U){var ee=_+l(P)+(U?"_"+l(U):"");if(d[Kn]&&d[Kn][ee])return this;var ve=function(st){return P.call(U||d,st||window.event)},Ge=ve;!Ee.touchNative&&Ee.pointer&&_.indexOf("touch")===0?ve=Nt(d,_,ve):Ee.touch&&_==="dblclick"?ve=Hr(d,ve):"addEventListener"in d?_==="touchstart"||_==="touchmove"||_==="wheel"||_==="mousewheel"?d.addEventListener(gr[_]||_,ve,Ee.passiveEvents?{passive:!1}:!1):_==="mouseenter"||_==="mouseleave"?(ve=function(st){st=st||window.event,Hi(d,st)&&Ge(st)},d.addEventListener(gr[_],ve,!1)):d.addEventListener(_,Ge,!1):d.attachEvent("on"+_,ve),d[Kn]=d[Kn]||{},d[Kn][ee]=ve}function ur(d,_,P,U,ee){ee=ee||_+l(P)+(U?"_"+l(U):"");var ve=d[Kn]&&d[Kn][ee];if(!ve)return this;!Ee.touchNative&&Ee.pointer&&_.indexOf("touch")===0?en(d,_,ve):Ee.touch&&_==="dblclick"?Or(d,ve):"removeEventListener"in d?d.removeEventListener(gr[_]||_,ve,!1):d.detachEvent("on"+_,ve),d[Kn][ee]=null}function wi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function zi(d){return mr(d,"wheel",wi),this}function da(d){return Wt(d,"mousedown touchstart dblclick contextmenu",wi),d._leaflet_disable_click=!0,this}function rr(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Di(d){return rr(d),wi(d),this}function mo(d){if(d.composedPath)return d.composedPath();for(var _=[],P=d.target;P;)_.push(P),P=P.parentNode;return _}function ir(d,_){if(!_)return new fe(d.clientX,d.clientY);var P=kn(_),U=P.boundingClientRect;return new fe((d.clientX-U.left)/P.x-_.clientLeft,(d.clientY-U.top)/P.y-_.clientTop)}var kr=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ga(d){return Ee.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/kr:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Hi(d,_){var P=_.relatedTarget;if(!P)return!0;try{for(;P&&P!==d;)P=P.parentNode}catch{return!1}return P!==d}var Eu={__proto__:null,on:Wt,off:hn,stopPropagation:wi,disableScrollPropagation:zi,disableClickPropagation:da,preventDefault:rr,stop:Di,getPropagationPath:mo,getMousePosition:ir,getWheelDelta:Ga,isExternalTarget:Hi,addListener:Wt,removeListener:hn},Wa=de.extend({run:function(d,_,P,U){this.stop(),this._el=d,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(U||.5,.2),this._startPos=be(d),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(d){var _=+new Date-this._startTime,P=this._duration*1e3;_<P?this._runFrame(this._easeOut(_/P),d):(this._runFrame(1),this._complete())},_runFrame:function(d,_){var P=this._startPos.add(this._offset.multiplyBy(d));_&&P._round(),ut(this._el,P),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),yn=de.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,_){_=w(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),_.zoom!==void 0&&(this._zoom=this._limitZoom(_.zoom)),_.center&&_.zoom!==void 0&&this.setView(Ae(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qr&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,_,P){if(_=_===void 0?this._zoom:this._limitZoom(_),d=this._limitCenter(Ae(d),_,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var U=this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,_,P.zoom):this._tryAnimatedPan(d,P.pan);if(U)return clearTimeout(this._sizeTimer),this}return this._resetView(d,_,P.pan&&P.pan.noMoveStart),this},setZoom:function(d,_){return this._loaded?this.setView(this.getCenter(),d,{zoom:_}):(this._zoom=d,this)},zoomIn:function(d,_){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,_)},zoomOut:function(d,_){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,_)},setZoomAround:function(d,_,P){var U=this.getZoomScale(_),ee=this.getSize().divideBy(2),ve=d instanceof fe?d:this.latLngToContainerPoint(d),Ge=ve.subtract(ee).multiplyBy(1-1/U),st=this.containerPointToLatLng(ee.add(Ge));return this.setView(st,_,{zoom:P})},_getBoundsCenterZoom:function(d,_){_=_||{},d=d.getBounds?d.getBounds():J(d);var P=k(_.paddingTopLeft||_.padding||[0,0]),U=k(_.paddingBottomRight||_.padding||[0,0]),ee=this.getBoundsZoom(d,!1,P.add(U));if(ee=typeof _.maxZoom=="number"?Math.min(_.maxZoom,ee):ee,ee===1/0)return{center:d.getCenter(),zoom:ee};var ve=U.subtract(P).divideBy(2),Ge=this.project(d.getSouthWest(),ee),st=this.project(d.getNorthEast(),ee),yt=this.unproject(Ge.add(st).divideBy(2).add(ve),ee);return{center:yt,zoom:ee}},fitBounds:function(d,_){if(d=J(d),!d.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(d,_);return this.setView(P.center,P.zoom,_)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,_){return this.setView(d,this._zoom,{pan:_})},panBy:function(d,_){if(d=k(d).round(),_=_||{},!d.x&&!d.y)return this.fire("moveend");if(_.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),_.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,P,_.duration||.25,_.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,_,P){if(P=P||{},P.animate===!1||!Ee.any3d)return this.setView(d,_,P);this._stop();var U=this.project(this.getCenter()),ee=this.project(d),ve=this.getSize(),Ge=this._zoom;d=Ae(d),_=_===void 0?Ge:_;var st=Math.max(ve.x,ve.y),yt=st*this.getZoomScale(Ge,_),bt=ee.distanceTo(U)||1,jt=1.42,nn=jt*jt;function gn(_r){var Ls=_r?-1:1,Vl=_r?yt:st,wf=yt*yt-st*st+Ls*nn*nn*bt*bt,ay=2*Vl*nn*bt,bf=wf/ay,Go=Math.sqrt(bf*bf+1)-bf,oy=Go<1e-9?-18:Math.log(Go);return oy}function Vr(_r){return(Math.exp(_r)-Math.exp(-_r))/2}function Rr(_r){return(Math.exp(_r)+Math.exp(-_r))/2}function di(_r){return Vr(_r)/Rr(_r)}var bi=gn(0);function Ko(_r){return st*(Rr(bi)/Rr(bi+jt*_r))}function ny(_r){return st*(Rr(bi)*di(bi+jt*_r)-Vr(bi))/nn}function _f(_r){return 1-Math.pow(1-_r,1.5)}var ry=Date.now(),Du=(gn(1)-bi)/jt,iy=P.duration?1e3*P.duration:1e3*Du*.8;function Is(){var _r=(Date.now()-ry)/iy,Ls=_f(_r)*Du;_r<=1?(this._flyToFrame=Z(Is,this),this._move(this.unproject(U.add(ee.subtract(U).multiplyBy(ny(Ls)/bt)),Ge),this.getScaleZoom(st/Ko(Ls),Ge),{flyTo:!0})):this._move(d,_)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),Is.call(this),this},flyToBounds:function(d,_){var P=this._getBoundsCenterZoom(d,_);return this.flyTo(P.center,P.zoom,_)},setMaxBounds:function(d){return d=J(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var _=this.options.minZoom;return this.options.minZoom=d,this._loaded&&_!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var _=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&_!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,_){this._enforcingBounds=!0;var P=this.getCenter(),U=this._limitCenter(P,this._zoom,J(d));return P.equals(U)||this.panTo(U,_),this._enforcingBounds=!1,this},panInside:function(d,_){_=_||{};var P=k(_.paddingTopLeft||_.padding||[0,0]),U=k(_.paddingBottomRight||_.padding||[0,0]),ee=this.project(this.getCenter()),ve=this.project(d),Ge=this.getPixelBounds(),st=me([Ge.min.add(P),Ge.max.subtract(U)]),yt=st.getSize();if(!st.contains(ve)){this._enforcingBounds=!0;var bt=ve.subtract(st.getCenter()),jt=st.extend(ve).getSize().subtract(yt);ee.x+=bt.x<0?-jt.x:jt.x,ee.y+=bt.y<0?-jt.y:jt.y,this.panTo(this.unproject(ee),_),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),U=_.divideBy(2).round(),ee=P.divideBy(2).round(),ve=U.subtract(ee);return!ve.x&&!ve.y?this:(d.animate&&d.pan?this.panBy(ve):(d.pan&&this._rawPanBy(ve),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=o(this._handleGeolocationResponse,this),P=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,P,d):navigator.geolocation.getCurrentPosition(_,P,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var _=d.code,P=d.message||(_===1?"permission denied":_===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var _=d.coords.latitude,P=d.coords.longitude,U=new pe(_,P),ee=U.toBounds(d.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(ee);this.setView(U,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var st={latlng:U,bounds:ee,timestamp:d.timestamp};for(var yt in d.coords)typeof d.coords[yt]=="number"&&(st[yt]=d.coords[yt]);this.fire("locationfound",st)}},addHandler:function(d,_){if(!_)return this;var P=this[d]=new _(this);return this._handlers.push(P),this.options[d]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)N(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,_){var P="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),U=R("div",P,_||this._mapPane);return d&&(this._panes[d]=U),U},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),_=this.unproject(d.getBottomLeft()),P=this.unproject(d.getTopRight());return new H(_,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,_,P){d=J(d),P=k(P||[0,0]);var U=this.getZoom()||0,ee=this.getMinZoom(),ve=this.getMaxZoom(),Ge=d.getNorthWest(),st=d.getSouthEast(),yt=this.getSize().subtract(P),bt=me(this.project(st,U),this.project(Ge,U)).getSize(),jt=Ee.any3d?this.options.zoomSnap:1,nn=yt.x/bt.x,gn=yt.y/bt.y,Vr=_?Math.max(nn,gn):Math.min(nn,gn);return U=this.getScaleZoom(Vr,U),jt&&(U=Math.round(U/(jt/100))*(jt/100),U=_?Math.ceil(U/jt)*jt:Math.floor(U/jt)*jt),Math.max(ee,Math.min(ve,U))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new fe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,_){var P=this._getTopLeftPoint(d,_);return new ie(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,_){var P=this.options.crs;return _=_===void 0?this._zoom:_,P.scale(d)/P.scale(_)},getScaleZoom:function(d,_){var P=this.options.crs;_=_===void 0?this._zoom:_;var U=P.zoom(d*P.scale(_));return isNaN(U)?1/0:U},project:function(d,_){return _=_===void 0?this._zoom:_,this.options.crs.latLngToPoint(Ae(d),_)},unproject:function(d,_){return _=_===void 0?this._zoom:_,this.options.crs.pointToLatLng(k(d),_)},layerPointToLatLng:function(d){var _=k(d).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(d){var _=this.project(Ae(d))._round();return _._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Ae(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(J(d))},distance:function(d,_){return this.options.crs.distance(Ae(d),Ae(_))},containerPointToLayerPoint:function(d){return k(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return k(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var _=this.containerPointToLayerPoint(k(d));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(d)))},mouseEventToContainerPoint:function(d){return ir(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var _=this._container=C(d);if(_){if(_._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(_,"scroll",this._onScroll,this),this._containerId=l(_)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,xe(d,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=T(d,"position");_!=="absolute"&&_!=="relative"&&_!=="fixed"&&_!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new fe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(d.markerPane,"leaflet-zoom-hide"),xe(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,_,P){ut(this._mapPane,new fe(0,0));var U=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var ee=this._zoom!==_;this._moveStart(ee,P)._move(d,_)._moveEnd(ee),this.fire("viewreset"),U&&this.fire("load")},_moveStart:function(d,_){return d&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(d,_,P,U){_===void 0&&(_=this._zoom);var ee=this._zoom!==_;return this._zoom=_,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),U?P&&P.pinch&&this.fire("zoom",P):((ee||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[l(this._container)]=this;var _=d?hn:Wt;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,_){for(var P=[],U,ee=_==="mouseout"||_==="mouseover",ve=d.target||d.srcElement,Ge=!1;ve;){if(U=this._targets[l(ve)],U&&(_==="click"||_==="preclick")&&this._draggableMoved(U)){Ge=!0;break}if(U&&U.listens(_,!0)&&(ee&&!Hi(ve,d)||(P.push(U),ee))||ve===this._container)break;ve=ve.parentNode}return!P.length&&!Ge&&!ee&&this.listens(_,!0)&&(P=[this]),P},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var _=d.target||d.srcElement;if(!(!this._loaded||_._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(_))){var P=d.type;P==="mousedown"&&kt(_),this._fireDOMEvent(d,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,_,P){if(d.type==="click"){var U=i({},d);U.type="preclick",this._fireDOMEvent(U,U.type,P)}var ee=this._findEventTargets(d,_);if(P){for(var ve=[],Ge=0;Ge<P.length;Ge++)P[Ge].listens(_,!0)&&ve.push(P[Ge]);ee=ve.concat(ee)}if(ee.length){_==="contextmenu"&&rr(d);var st=ee[0],yt={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var bt=st.getLatLng&&(!st._radius||st._radius<=10);yt.containerPoint=bt?this.latLngToContainerPoint(st.getLatLng()):this.mouseEventToContainerPoint(d),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=bt?st.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<ee.length;Ge++)if(ee[Ge].fire(_,yt,!0),yt.originalEvent._stopped||ee[Ge].options.bubblingMouseEvents===!1&&I(this._mouseEvents,_)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,_=this._handlers.length;d<_;d++)this._handlers[d].disable()},whenReady:function(d,_){return this._loaded?d.call(_||this,{target:this}):this.on("load",d,_),this},_getMapPanePos:function(){return be(this._mapPane)||new fe(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,_){var P=d&&_!==void 0?this._getNewPixelOrigin(d,_):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,_){var P=this.getSize()._divideBy(2);return this.project(d,_)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,_,P){var U=this._getNewPixelOrigin(P,_);return this.project(d,_)._subtract(U)},_latLngBoundsToNewLayerBounds:function(d,_,P){var U=this._getNewPixelOrigin(P,_);return me([this.project(d.getSouthWest(),_)._subtract(U),this.project(d.getNorthWest(),_)._subtract(U),this.project(d.getSouthEast(),_)._subtract(U),this.project(d.getNorthEast(),_)._subtract(U)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,_,P){if(!P)return d;var U=this.project(d,_),ee=this.getSize().divideBy(2),ve=new ie(U.subtract(ee),U.add(ee)),Ge=this._getBoundsOffset(ve,P,_);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?d:this.unproject(U.add(Ge),_)},_limitOffset:function(d,_){if(!_)return d;var P=this.getPixelBounds(),U=new ie(P.min.add(d),P.max.add(d));return d.add(this._getBoundsOffset(U,_))},_getBoundsOffset:function(d,_,P){var U=me(this.project(_.getNorthEast(),P),this.project(_.getSouthWest(),P)),ee=U.min.subtract(d.min),ve=U.max.subtract(d.max),Ge=this._rebound(ee.x,-ve.x),st=this._rebound(ee.y,-ve.y);return new fe(Ge,st)},_rebound:function(d,_){return d+_>0?Math.round(d-_)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(_))},_limitZoom:function(d){var _=this.getMinZoom(),P=this.getMaxZoom(),U=Ee.any3d?this.options.zoomSnap:1;return U&&(d=Math.round(d/U)*U),Math.max(_,Math.min(P,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,_){var P=this._getCenterOffset(d)._trunc();return(_&&_.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,_),!0)},_createAnimProxy:function(){var d=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(_){var P=jn,U=this._proxy.style[P];dt(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),U===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),_=this.getZoom();dt(this._proxy,this.project(d,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,_,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var U=this.getZoomScale(_),ee=this._getCenterOffset(d)._divideBy(1-1/U);return P.animate!==!0&&!this.getSize().contains(ee)?!1:(Z(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(d,_,!0)},this),!0)},_animateZoom:function(d,_,P,U){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=_,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:_,noUpdate:U}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ca(d,_){return new yn(d,_)}var lr=ue.extend({options:{position:"topright"},initialize:function(d){w(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var _=this._map;return _&&_.removeControl(this),this.options.position=d,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var _=this._container=this.onAdd(d),P=this.getPosition(),U=d._controlCorners[P];return xe(_,"leaflet-control"),P.indexOf("bottom")!==-1?U.insertBefore(_,U.firstChild):U.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),ki=function(d){return new lr(d)};yn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},_="leaflet-",P=this._controlContainer=R("div",_+"control-container",this._container);function U(ee,ve){var Ge=_+ee+" "+_+ve;d[ee+ve]=R("div",Ge,P)}U("top","left"),U("top","right"),U("bottom","left"),U("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)N(this._controlCorners[d]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ha=lr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,_,P,U){return P<U?-1:U<P?1:0}},initialize:function(d,_,P){w(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var U in d)this._addLayer(d[U],U);for(U in _)this._addLayer(_[U],U,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return lr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,_){return this._addLayer(d,_),this._map?this._update():this},addOverlay:function(d,_){return this._addLayer(d,_,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var _=this._getLayer(l(d));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",_=this._container=R("div",d),P=this.options.collapsed;_.setAttribute("aria-haspopup",!0),da(_),zi(_);var U=this._section=R("section",d+"-list");P&&(this._map.on("click",this.collapse,this),Wt(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ee=this._layersLink=R("a",d+"-toggle",_);ee.href="#",ee.title="Layers",ee.setAttribute("role","button"),Wt(ee,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){rr(ve),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=R("div",d+"-base",U),this._separator=R("div",d+"-separator",U),this._overlaysList=R("div",d+"-overlays",U),_.appendChild(U)},_getLayer:function(d){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&l(this._layers[_].layer)===d)return this._layers[_]},_addLayer:function(d,_,P){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:_,overlay:P}),this.options.sortLayers&&this._layers.sort(o(function(U,ee){return this.options.sortFunction(U.layer,ee.layer,U.name,ee.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;G(this._baseLayersList),G(this._overlaysList),this._layerControlInputs=[];var d,_,P,U,ee=0;for(P=0;P<this._layers.length;P++)U=this._layers[P],this._addItem(U),_=_||U.overlay,d=d||!U.overlay,ee+=U.overlay?0:1;return this.options.hideSingleBase&&(d=d&&ee>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=_&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var _=this._getLayer(l(d.target)),P=_.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;P&&this._map.fire(P,_)},_createRadioElement:function(d,_){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(_?' checked="checked"':"")+"/>",U=document.createElement("div");return U.innerHTML=P,U.firstChild},_addItem:function(d){var _=document.createElement("label"),P=this._map.hasLayer(d.layer),U;d.overlay?(U=document.createElement("input"),U.type="checkbox",U.className="leaflet-control-layers-selector",U.defaultChecked=P):U=this._createRadioElement("leaflet-base-layers_"+l(this),P),this._layerControlInputs.push(U),U.layerId=l(d.layer),Wt(U,"click",this._onInputClick,this);var ee=document.createElement("span");ee.innerHTML=" "+d.name;var ve=document.createElement("span");_.appendChild(ve),ve.appendChild(U),ve.appendChild(ee);var Ge=d.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,_,P,U=[],ee=[];this._handlingClick=!0;for(var ve=d.length-1;ve>=0;ve--)_=d[ve],P=this._getLayer(_.layerId).layer,_.checked?U.push(P):_.checked||ee.push(P);for(ve=0;ve<ee.length;ve++)this._map.hasLayer(ee[ve])&&this._map.removeLayer(ee[ve]);for(ve=0;ve<U.length;ve++)this._map.hasLayer(U[ve])||this._map.addLayer(U[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,_,P,U=this._map.getZoom(),ee=d.length-1;ee>=0;ee--)_=d[ee],P=this._getLayer(_.layerId).layer,_.disabled=P.options.minZoom!==void 0&&U<P.options.minZoom||P.options.maxZoom!==void 0&&U>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Wt(d,"click",rr),this.expand();var _=this;setTimeout(function(){hn(d,"click",rr),_._preventClick=!1})}}),cr=function(d,_,P){return new ha(d,_,P)},Vi=lr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var _="leaflet-control-zoom",P=R("div",_+" leaflet-bar"),U=this.options;return this._zoomInButton=this._createButton(U.zoomInText,U.zoomInTitle,_+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(U.zoomOutText,U.zoomOutTitle,_+"-out",P,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,_,P,U,ee){var ve=R("a",P,U);return ve.innerHTML=d,ve.href="#",ve.title=_,ve.setAttribute("role","button"),ve.setAttribute("aria-label",_),da(ve),Wt(ve,"click",Di),Wt(ve,"click",ee,this),Wt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var d=this._map,_="leaflet-disabled";Pe(this._zoomInButton,_),Pe(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xe(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xe(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});yn.mergeOptions({zoomControl:!0}),yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vi,this.addControl(this.zoomControl))});var Qa=function(d){return new Vi(d)},Ar=lr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var _="leaflet-control-scale",P=R("div",_),U=this.options;return this._addScales(U,_+"-line",P),d.on(U.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),P},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,_,P){d.metric&&(this._mScale=R("div",_,P)),d.imperial&&(this._iScale=R("div",_,P))},_update:function(){var d=this._map,_=d.getSize().y/2,P=d.distance(d.containerPointToLatLng([0,_]),d.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(P)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var _=this._getRoundNum(d),P=_<1e3?_+" m":_/1e3+" km";this._updateScale(this._mScale,P,_/d)},_updateImperial:function(d){var _=d*3.2808399,P,U,ee;_>5280?(P=_/5280,U=this._getRoundNum(P),this._updateScale(this._iScale,U+" mi",U/P)):(ee=this._getRoundNum(_),this._updateScale(this._iScale,ee+" ft",ee/_))},_updateScale:function(d,_,P){d.style.width=Math.round(this.options.maxWidth*P)+"px",d.innerHTML=_},_getRoundNum:function(d){var _=Math.pow(10,(Math.floor(d)+"").length-1),P=d/_;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,_*P}}),Ml=function(d){return new Ar(d)},yo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Aa=lr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?yo+" ":"")+"Leaflet</a>"},initialize:function(d){w(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=R("div","leaflet-control-attribution"),da(this._container);for(var _ in d._layers)d._layers[_].getAttribution&&this.addAttribution(d._layers[_].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var _ in this._attributions)this._attributions[_]&&d.push(_);var P=[];this.options.prefix&&P.push(this.options.prefix),d.length&&P.push(d.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});yn.mergeOptions({attributionControl:!0}),yn.addInitHook(function(){this.options.attributionControl&&new Aa().addTo(this)});var mh=function(d){return new Aa(d)};lr.Layers=ha,lr.Zoom=Vi,lr.Scale=Ar,lr.Attribution=Aa,ki.layers=cr,ki.zoom=Qa,ki.scale=Ml,ki.attribution=mh;var Ki=ue.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ki.addTo=function(d,_){return d.addHandler(_,this),this};var lf={Events:_e},Um=Ee.touch?"touchstart mousedown":"mousedown",Vo=de.extend({options:{clickTolerance:3},initialize:function(d,_,P,U){w(this,U),this._element=d,this._dragStartTarget=_||d,this._preventOutline=P},enable:function(){this._enabled||(Wt(this._dragStartTarget,Um,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vo._dragging===this&&this.finishDrag(!0),hn(this._dragStartTarget,Um,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Le(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Vo._dragging===this&&this.finishDrag();return}if(!(Vo._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Vo._dragging=this,this._preventOutline&&kt(this._element),mt(),De(),!this._moving)){this.fire("down");var _=d.touches?d.touches[0]:d,P=qn(this._element);this._startPoint=new fe(_.clientX,_.clientY),this._startPos=be(this._element),this._parentScale=kn(P);var U=d.type==="mousedown";Wt(document,U?"mousemove":"touchmove",this._onMove,this),Wt(document,U?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var _=d.touches&&d.touches.length===1?d.touches[0]:d,P=new fe(_.clientX,_.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,rr(d),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hn(document,"mousemove touchmove",this._onMove,this),hn(document,"mouseup touchend touchcancel",this._onUp,this),Ft(),Ue();var _=this._moved&&this._moving;this._moving=!1,Vo._dragging=!1,_&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Bm(d,_,P){var U,ee=[1,4,2,8],ve,Ge,st,yt,bt,jt,nn,gn;for(ve=0,jt=d.length;ve<jt;ve++)d[ve]._code=ws(d[ve],_);for(st=0;st<4;st++){for(nn=ee[st],U=[],ve=0,jt=d.length,Ge=jt-1;ve<jt;Ge=ve++)yt=d[ve],bt=d[Ge],yt._code&nn?bt._code&nn||(gn=ff(bt,yt,nn,_,P),gn._code=ws(gn,_),U.push(gn)):(bt._code&nn&&(gn=ff(bt,yt,nn,_,P),gn._code=ws(gn,_),U.push(gn)),U.push(yt));d=U}return d}function cf(d,_){var P,U,ee,ve,Ge,st,yt,bt,jt;if(!d||d.length===0)throw new Error("latlngs not passed");ci(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var nn=Ae([0,0]),gn=J(d),Vr=gn.getNorthWest().distanceTo(gn.getSouthWest())*gn.getNorthEast().distanceTo(gn.getNorthWest());Vr<1700&&(nn=yh(d));var Rr=d.length,di=[];for(P=0;P<Rr;P++){var bi=Ae(d[P]);di.push(_.project(Ae([bi.lat-nn.lat,bi.lng-nn.lng])))}for(st=yt=bt=0,P=0,U=Rr-1;P<Rr;U=P++)ee=di[P],ve=di[U],Ge=ee.y*ve.x-ve.y*ee.x,yt+=(ee.x+ve.x)*Ge,bt+=(ee.y+ve.y)*Ge,st+=Ge*3;st===0?jt=di[0]:jt=[yt/st,bt/st];var Ko=_.unproject(k(jt));return Ae([Ko.lat+nn.lat,Ko.lng+nn.lng])}function yh(d){for(var _=0,P=0,U=0,ee=0;ee<d.length;ee++){var ve=Ae(d[ee]);_+=ve.lat,P+=ve.lng,U++}return Ae([_/U,P/U])}var Cw={__proto__:null,clipPolygon:Bm,polygonCenter:cf,centroid:yh};function qm(d,_){if(!_||!d.length)return d.slice();var P=_*_;return d=Pw(d,P),d=Rw(d,P),d}function vh(d,_,P){return Math.sqrt(bs(d,_,P,!0))}function Aw(d,_,P){return bs(d,_,P)}function Rw(d,_){var P=d.length,U=typeof Uint8Array<"u"?Uint8Array:Array,ee=new U(P);ee[0]=ee[P-1]=1,_h(d,ee,_,0,P-1);var ve,Ge=[];for(ve=0;ve<P;ve++)ee[ve]&&Ge.push(d[ve]);return Ge}function _h(d,_,P,U,ee){var ve=0,Ge,st,yt;for(st=U+1;st<=ee-1;st++)yt=bs(d[st],d[U],d[ee],!0),yt>ve&&(Ge=st,ve=yt);ve>P&&(_[Ge]=1,_h(d,_,P,U,Ge),_h(d,_,P,Ge,ee))}function Pw(d,_){for(var P=[d[0]],U=1,ee=0,ve=d.length;U<ve;U++)Ow(d[U],d[ee])>_&&(P.push(d[U]),ee=U);return ee<ve-1&&P.push(d[ve-1]),P}var zm;function Hm(d,_,P,U,ee){var ve=U?zm:ws(d,P),Ge=ws(_,P),st,yt,bt;for(zm=Ge;;){if(!(ve|Ge))return[d,_];if(ve&Ge)return!1;st=ve||Ge,yt=ff(d,_,st,P,ee),bt=ws(yt,P),st===ve?(d=yt,ve=bt):(_=yt,Ge=bt)}}function ff(d,_,P,U,ee){var ve=_.x-d.x,Ge=_.y-d.y,st=U.min,yt=U.max,bt,jt;return P&8?(bt=d.x+ve*(yt.y-d.y)/Ge,jt=yt.y):P&4?(bt=d.x+ve*(st.y-d.y)/Ge,jt=st.y):P&2?(bt=yt.x,jt=d.y+Ge*(yt.x-d.x)/ve):P&1&&(bt=st.x,jt=d.y+Ge*(st.x-d.x)/ve),new fe(bt,jt,ee)}function ws(d,_){var P=0;return d.x<_.min.x?P|=1:d.x>_.max.x&&(P|=2),d.y<_.min.y?P|=4:d.y>_.max.y&&(P|=8),P}function Ow(d,_){var P=_.x-d.x,U=_.y-d.y;return P*P+U*U}function bs(d,_,P,U){var ee=_.x,ve=_.y,Ge=P.x-ee,st=P.y-ve,yt=Ge*Ge+st*st,bt;return yt>0&&(bt=((d.x-ee)*Ge+(d.y-ve)*st)/yt,bt>1?(ee=P.x,ve=P.y):bt>0&&(ee+=Ge*bt,ve+=st*bt)),Ge=d.x-ee,st=d.y-ve,U?Ge*Ge+st*st:new fe(ee,ve)}function ci(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Vm(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ci(d)}function wh(d,_){var P,U,ee,ve,Ge,st,yt,bt;if(!d||d.length===0)throw new Error("latlngs not passed");ci(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var jt=Ae([0,0]),nn=J(d),gn=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());gn<1700&&(jt=yh(d));var Vr=d.length,Rr=[];for(P=0;P<Vr;P++){var di=Ae(d[P]);Rr.push(_.project(Ae([di.lat-jt.lat,di.lng-jt.lng])))}for(P=0,U=0;P<Vr-1;P++)U+=Rr[P].distanceTo(Rr[P+1])/2;if(U===0)bt=Rr[0];else for(P=0,ve=0;P<Vr-1;P++)if(Ge=Rr[P],st=Rr[P+1],ee=Ge.distanceTo(st),ve+=ee,ve>U){yt=(ve-U)/ee,bt=[st.x-yt*(st.x-Ge.x),st.y-yt*(st.y-Ge.y)];break}var bi=_.unproject(k(bt));return Ae([bi.lat+jt.lat,bi.lng+jt.lng])}var Km={__proto__:null,simplify:qm,pointToSegmentDistance:vh,closestPointOnSegment:Aw,clipSegment:Hm,_getEdgeIntersection:ff,_getBitCode:ws,_sqClosestPointOnSegment:bs,isFlat:ci,_flat:Vm,polylineCenter:wh},df={project:function(d){return new fe(d.lng,d.lat)},unproject:function(d){return new pe(d.y,d.x)},bounds:new ie([-180,-90],[180,90])},hf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var _=Math.PI/180,P=this.R,U=d.lat*_,ee=this.R_MINOR/P,ve=Math.sqrt(1-ee*ee),Ge=ve*Math.sin(U),st=Math.tan(Math.PI/4-U/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return U=-P*Math.log(Math.max(st,1e-10)),new fe(d.lng*_*P,U)},unproject:function(d){for(var _=180/Math.PI,P=this.R,U=this.R_MINOR/P,ee=Math.sqrt(1-U*U),ve=Math.exp(-d.y/P),Ge=Math.PI/2-2*Math.atan(ve),st=0,yt=.1,bt;st<15&&Math.abs(yt)>1e-7;st++)bt=ee*Math.sin(Ge),bt=Math.pow((1-bt)/(1+bt),ee/2),yt=Math.PI/2-2*Math.atan(ve*bt)-Ge,Ge+=yt;return new pe(Ge*_,d.x*_/P)}},Gm={__proto__:null,LonLat:df,Mercator:hf,SphericalMercator:Xe},Tu=i({},Re,{code:"EPSG:3395",projection:hf,transformation:function(){var d=.5/(Math.PI*hf.R);return z(d,.5,-d,.5)}()}),Wm=i({},Re,{code:"EPSG:4326",projection:df,transformation:z(1/180,1,-1/180,.5)}),Iw=i({},Je,{projection:df,transformation:z(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,_){var P=_.lng-d.lng,U=_.lat-d.lat;return Math.sqrt(P*P+U*U)},infinite:!0});Je.Earth=Re,Je.EPSG3395=Tu,Je.EPSG3857=$,Je.EPSG900913=ae,Je.EPSG4326=Wm,Je.Simple=Iw;var Ra=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[l(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[l(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var _=d.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var P=this.getEvents();_.on(P,this),this.once("remove",function(){_.off(P,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});yn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var _=l(d);return this._layers[_]?this:(this._layers[_]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var _=l(d);return this._layers[_]?(this._loaded&&d.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return l(d)in this._layers},eachLayer:function(d,_){for(var P in this._layers)d.call(_,this._layers[P]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var _=0,P=d.length;_<P;_++)this.addLayer(d[_])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[l(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var _=l(d);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,_=-1/0,P=this._getZoomSpan();for(var U in this._zoomBoundLayers){var ee=this._zoomBoundLayers[U].options;d=ee.minZoom===void 0?d:Math.min(d,ee.minZoom),_=ee.maxZoom===void 0?_:Math.max(_,ee.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=d===1/0?void 0:d,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ss=Ra.extend({initialize:function(d,_){w(this,_),this._layers={};var P,U;if(d)for(P=0,U=d.length;P<U;P++)this.addLayer(d[P])},addLayer:function(d){var _=this.getLayerId(d);return this._layers[_]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var _=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(d){var _=typeof d=="number"?d:this.getLayerId(d);return _ in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var _=Array.prototype.slice.call(arguments,1),P,U;for(P in this._layers)U=this._layers[P],U[d]&&U[d].apply(U,_);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,_){for(var P in this._layers)d.call(_,this._layers[P]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return l(d)}}),Qm=function(d,_){return new Ss(d,_)},Gi=Ss.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Ss.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Ss.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new H;for(var _ in this._layers){var P=this._layers[_];d.extend(P.getBounds?P.getBounds():P.getLatLng())}return d}}),Dl=function(d,_){return new Gi(d,_)},Cu=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){w(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,_){var P=this._getIconUrl(d);if(!P){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var U=this._createImg(P,_&&_.tagName==="IMG"?_:null);return this._setIconStyles(U,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),U},_setIconStyles:function(d,_){var P=this.options,U=P[_+"Size"];typeof U=="number"&&(U=[U,U]);var ee=k(U),ve=k(_==="shadow"&&P.shadowAnchor||P.iconAnchor||ee&&ee.divideBy(2,!0));d.className="leaflet-marker-"+_+" "+(P.className||""),ve&&(d.style.marginLeft=-ve.x+"px",d.style.marginTop=-ve.y+"px"),ee&&(d.style.width=ee.x+"px",d.style.height=ee.y+"px")},_createImg:function(d,_){return _=_||document.createElement("img"),_.src=d,_},_getIconUrl:function(d){return Ee.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function pf(d){return new Cu(d)}var Au=Cu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Au.imagePath!="string"&&(Au.imagePath=this._detectIconPath()),(this.options.imagePath||Au.imagePath)+Cu.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var _=function(P,U,ee){var ve=U.exec(P);return ve&&ve[ee]};return d=_(d,/^url\((['"])?(.+)\1\)$/,2),d&&_(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=R("div","leaflet-default-icon-path",document.body),_=T(d,"background-image")||T(d,"backgroundImage");if(document.body.removeChild(d),_=this._stripUrl(_),_)return _;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),bh=Ki.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Vo(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var _=this._marker,P=_._map,U=this._marker.options.autoPanSpeed,ee=this._marker.options.autoPanPadding,ve=be(_._icon),Ge=P.getPixelBounds(),st=P.getPixelOrigin(),yt=me(Ge.min._subtract(st).add(ee),Ge.max._subtract(st).subtract(ee));if(!yt.contains(ve)){var bt=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(U);P.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),ut(_._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=Z(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,d)))},_onDrag:function(d){var _=this._marker,P=_._shadow,U=be(_._icon),ee=_._map.layerPointToLatLng(U);P&&ut(P,U),_._latlng=ee,d.latlng=ee,d.oldLatLng=this._oldLatLng,_.fire("move",d).fire("drag",d)},_onDragEnd:function(d){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),Ru=Ra.extend({options:{icon:new Au,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,_){w(this,_),this._latlng=Ae(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var _=this._latlng;return this._latlng=Ae(d),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=d.icon.createIcon(this._icon),U=!1;P!==this._icon&&(this._icon&&this._removeIcon(),U=!0,d.title&&(P.title=d.title),P.tagName==="IMG"&&(P.alt=d.alt||"")),xe(P,_),d.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(P,"focus",this._panOnFocus,this);var ee=d.icon.createShadow(this._shadow),ve=!1;ee!==this._shadow&&(this._removeShadow(),ve=!0),ee&&(xe(ee,_),ee.alt=""),this._shadow=ee,d.opacity<1&&this._updateOpacity(),U&&this.getPane().appendChild(this._icon),this._initInteraction(),ee&&ve&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&ut(this._icon,d),this._shadow&&ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var _=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bh)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bh(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&ze(this._icon,d),this._shadow&&ze(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var _=this.options.icon.options,P=_.iconSize?k(_.iconSize):k(0,0),U=_.iconAnchor?k(_.iconAnchor):k(0,0);d.panInside(this._latlng,{paddingTopLeft:U,paddingBottomRight:P.subtract(U)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sh(d,_){return new Ru(d,_)}var vo=Ra.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return w(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),kl=vo.extend({options:{fill:!0,radius:10},initialize:function(d,_){w(this,_),this._latlng=Ae(d),this._radius=this.options.radius},setLatLng:function(d){var _=this._latlng;return this._latlng=Ae(d),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var _=d&&d.radius||this._radius;return vo.prototype.setStyle.call(this,d),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,_=this._radiusY||d,P=this._clickTolerance(),U=[d+P,_+P];this._pxBounds=new ie(this._point.subtract(U),this._point.add(U))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zm(d,_){return new kl(d,_)}var xh=kl.extend({initialize:function(d,_,P){if(typeof _=="number"&&(_=i({},P,{radius:_})),w(this,_),this._latlng=Ae(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:vo.prototype.setStyle,_project:function(){var d=this._latlng.lng,_=this._latlng.lat,P=this._map,U=P.options.crs;if(U.distance===Re.distance){var ee=Math.PI/180,ve=this._mRadius/Re.R/ee,Ge=P.project([_+ve,d]),st=P.project([_-ve,d]),yt=Ge.add(st).divideBy(2),bt=P.unproject(yt).lat,jt=Math.acos((Math.cos(ve*ee)-Math.sin(_*ee)*Math.sin(bt*ee))/(Math.cos(_*ee)*Math.cos(bt*ee)))/ee;(isNaN(jt)||jt===0)&&(jt=ve/Math.cos(Math.PI/180*_)),this._point=yt.subtract(P.getPixelOrigin()),this._radius=isNaN(jt)?0:yt.x-P.project([bt,d-jt]).x,this._radiusY=yt.y-Ge.y}else{var nn=U.unproject(U.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(nn).x}this._updateBounds()}});function Lw(d,_,P){return new xh(d,_,P)}var _o=vo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,_){w(this,_),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var _=1/0,P=null,U=bs,ee,ve,Ge=0,st=this._parts.length;Ge<st;Ge++)for(var yt=this._parts[Ge],bt=1,jt=yt.length;bt<jt;bt++){ee=yt[bt-1],ve=yt[bt];var nn=U(d,ee,ve,!0);nn<_&&(_=nn,P=U(d,ee,ve))}return P&&(P.distance=Math.sqrt(_)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,_){return _=_||this._defaultShape(),d=Ae(d),_.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new H,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return ci(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var _=[],P=ci(d),U=0,ee=d.length;U<ee;U++)P?(_[U]=Ae(d[U]),this._bounds.extend(_[U])):_[U]=this._convertLatLngs(d[U]);return _},_project:function(){var d=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),_=new fe(d,d);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(d,_,P){var U=d[0]instanceof pe,ee=d.length,ve,Ge;if(U){for(Ge=[],ve=0;ve<ee;ve++)Ge[ve]=this._map.latLngToLayerPoint(d[ve]),P.extend(Ge[ve]);_.push(Ge)}else for(ve=0;ve<ee;ve++)this._projectLatlngs(d[ve],_,P)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var _=this._parts,P,U,ee,ve,Ge,st,yt;for(P=0,ee=0,ve=this._rings.length;P<ve;P++)for(yt=this._rings[P],U=0,Ge=yt.length;U<Ge-1;U++)st=Hm(yt[U],yt[U+1],d,U,!0),st&&(_[ee]=_[ee]||[],_[ee].push(st[0]),(st[1]!==yt[U+1]||U===Ge-2)&&(_[ee].push(st[1]),ee++))}},_simplifyPoints:function(){for(var d=this._parts,_=this.options.smoothFactor,P=0,U=d.length;P<U;P++)d[P]=qm(d[P],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,_){var P,U,ee,ve,Ge,st,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(P=0,ve=this._parts.length;P<ve;P++)for(st=this._parts[P],U=0,Ge=st.length,ee=Ge-1;U<Ge;ee=U++)if(!(!_&&U===0)&&vh(d,st[ee],st[U])<=yt)return!0;return!1}});function Mw(d,_){return new _o(d,_)}_o._flat=Vm;var Pu=_o.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var _=_o.prototype._convertLatLngs.call(this,d),P=_.length;return P>=2&&_[0]instanceof pe&&_[0].equals(_[P-1])&&_.pop(),_},_setLatLngs:function(d){_o.prototype._setLatLngs.call(this,d),ci(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ci(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,_=this.options.weight,P=new fe(_,_);if(d=new ie(d.min.subtract(P),d.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var U=0,ee=this._rings.length,ve;U<ee;U++)ve=Bm(this._rings[U],d,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var _=!1,P,U,ee,ve,Ge,st,yt,bt;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(P=this._parts[ve],Ge=0,bt=P.length,st=bt-1;Ge<bt;st=Ge++)U=P[Ge],ee=P[st],U.y>d.y!=ee.y>d.y&&d.x<(ee.x-U.x)*(d.y-U.y)/(ee.y-U.y)+U.x&&(_=!_);return _||_o.prototype._containsPoint.call(this,d,!0)}});function Wi(d,_){return new Pu(d,_)}var Qi=Gi.extend({initialize:function(d,_){w(this,_),this._layers={},d&&this.addData(d)},addData:function(d){var _=A(d)?d:d.features,P,U,ee;if(_){for(P=0,U=_.length;P<U;P++)ee=_[P],(ee.geometries||ee.geometry||ee.features||ee.coordinates)&&this.addData(ee);return this}var ve=this.options;if(ve.filter&&!ve.filter(d))return this;var Ge=Nl(d,ve);return Ge?(Ge.feature=wo(d),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(d,Ge),this.addLayer(Ge)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(_){this._setLayerStyle(_,d)},this)},_setLayerStyle:function(d,_){d.setStyle&&(typeof _=="function"&&(_=_(d.feature)),d.setStyle(_))}});function Nl(d,_){var P=d.type==="Feature"?d.geometry:d,U=P?P.coordinates:null,ee=[],ve=_&&_.pointToLayer,Ge=_&&_.coordsToLatLng||gf,st,yt,bt,jt;if(!U&&!P)return null;switch(P.type){case"Point":return st=Ge(U),Eh(ve,d,st,_);case"MultiPoint":for(bt=0,jt=U.length;bt<jt;bt++)st=Ge(U[bt]),ee.push(Eh(ve,d,st,_));return new Gi(ee);case"LineString":case"MultiLineString":return yt=Fl(U,P.type==="LineString"?0:1,Ge),new _o(yt,_);case"Polygon":case"MultiPolygon":return yt=Fl(U,P.type==="Polygon"?1:2,Ge),new Pu(yt,_);case"GeometryCollection":for(bt=0,jt=P.geometries.length;bt<jt;bt++){var nn=Nl({geometry:P.geometries[bt],type:"Feature",properties:d.properties},_);nn&&ee.push(nn)}return new Gi(ee);case"FeatureCollection":for(bt=0,jt=P.features.length;bt<jt;bt++){var gn=Nl(P.features[bt],_);gn&&ee.push(gn)}return new Gi(ee);default:throw new Error("Invalid GeoJSON object.")}}function Eh(d,_,P,U){return d?d(_,P):new Ru(P,U&&U.markersInheritOptions&&U)}function gf(d){return new pe(d[1],d[0],d[2])}function Fl(d,_,P){for(var U=[],ee=0,ve=d.length,Ge;ee<ve;ee++)Ge=_?Fl(d[ee],_-1,P):(P||gf)(d[ee]),U.push(Ge);return U}function jl(d,_){return d=Ae(d),d.alt!==void 0?[m(d.lng,_),m(d.lat,_),m(d.alt,_)]:[m(d.lng,_),m(d.lat,_)]}function mf(d,_,P,U){for(var ee=[],ve=0,Ge=d.length;ve<Ge;ve++)ee.push(_?mf(d[ve],ci(d[ve])?0:_-1,P,U):jl(d[ve],U));return!_&&P&&ee.length>0&&ee.push(ee[0].slice()),ee}function Ou(d,_){return d.feature?i({},d.feature,{geometry:_}):wo(_)}function wo(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var $l={toGeoJSON:function(d){return Ou(this,{type:"Point",coordinates:jl(this.getLatLng(),d)})}};Ru.include($l),xh.include($l),kl.include($l),_o.include({toGeoJSON:function(d){var _=!ci(this._latlngs),P=mf(this._latlngs,_?1:0,!1,d);return Ou(this,{type:(_?"Multi":"")+"LineString",coordinates:P})}}),Pu.include({toGeoJSON:function(d){var _=!ci(this._latlngs),P=_&&!ci(this._latlngs[0]),U=mf(this._latlngs,P?2:_?1:0,!0,d);return _||(U=[U]),Ou(this,{type:(P?"Multi":"")+"Polygon",coordinates:U})}}),Ss.include({toMultiPoint:function(d){var _=[];return this.eachLayer(function(P){_.push(P.toGeoJSON(d).geometry.coordinates)}),Ou(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(d){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(_==="MultiPoint")return this.toMultiPoint(d);var P=_==="GeometryCollection",U=[];return this.eachLayer(function(ee){if(ee.toGeoJSON){var ve=ee.toGeoJSON(d);if(P)U.push(ve.geometry);else{var Ge=wo(ve);Ge.type==="FeatureCollection"?U.push.apply(U,Ge.features):U.push(Ge)}}}),P?Ou(this,{geometries:U,type:"GeometryCollection"}):{type:"FeatureCollection",features:U}}});function Iu(d,_){return new Qi(d,_)}var Th=Iu,Ul=Ra.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,_,P){this._url=d,this._bounds=J(_),w(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=J(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",_=this._image=d?this._url:R("img");if(xe(_,"leaflet-image-layer"),this._zoomAnimated&&xe(_,"leaflet-zoom-animated"),this.options.className&&xe(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onload=o(this.fire,this,"load"),_.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=_.src;return}_.src=this._url,_.alt=this.options.alt},_animateZoom:function(d){var _=this._map.getZoomScale(d.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;dt(this._image,P,_)},_reset:function(){var d=this._image,_=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=_.getSize();ut(d,_.min),d.style.width=P.x+"px",d.style.height=P.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),xs=function(d,_,P){return new Ul(d,_,P)},Es=Ul.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",_=this._image=d?this._url:R("video");if(xe(_,"leaflet-image-layer"),this._zoomAnimated&&xe(_,"leaflet-zoom-animated"),this.options.className&&xe(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onloadeddata=o(this.fire,this,"load"),d){for(var P=_.getElementsByTagName("source"),U=[],ee=0;ee<P.length;ee++)U.push(P[ee].src);this._url=P.length>0?U:[_.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=R("source");Ge.src=this._url[ve],_.appendChild(Ge)}}});function Ch(d,_,P){return new Es(d,_,P)}var Ah=Ul.extend({_initImage:function(){var d=this._image=this._url;xe(d,"leaflet-image-layer"),this._zoomAnimated&&xe(d,"leaflet-zoom-animated"),this.options.className&&xe(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Ts(d,_,P){return new Ah(d,_,P)}var Pa=Ra.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,_){d&&(d instanceof pe||A(d))?(this._latlng=Ae(d),w(this,_)):(w(this,d),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(o(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Ae(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(d){var _=this._source;if(!_._map)return!1;if(_ instanceof Gi){_=null;var P=this._source._layers;for(var U in P)if(P[U]._map){_=P[U];break}if(!_)return!1;this._source=_}if(!d)if(_.getCenter)d=_.getCenter();else if(_.getLatLng)d=_.getLatLng();else if(_.getBounds)d=_.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,_=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof _=="string")d.innerHTML=_;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),_=k(this.options.offset),P=this._getAnchor();this._zoomAnimated?ut(this._container,d.add(P)):_=_.add(d).add(P);var U=this._containerBottom=-_.y,ee=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=U+"px",this._container.style.left=ee+"px"}},_getAnchor:function(){return[0,0]}});yn.include({_initOverlay:function(d,_,P,U){var ee=_;return ee instanceof d||(ee=new d(U).setContent(_)),P&&ee.setLatLng(P),ee}}),Ra.include({_initOverlay:function(d,_,P,U){var ee=P;return ee instanceof d?(w(ee,U),ee._source=this):(ee=_&&!U?_:new d(U,this),ee.setContent(P)),ee}});var Bl=Pa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Pa.prototype.openOn.call(this,d)},onAdd:function(d){Pa.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vo||this._source.on("preclick",wi))},onRemove:function(d){Pa.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vo||this._source.off("preclick",wi))},getEvents:function(){var d=Pa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",_=this._container=R("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=R("div",d+"-content-wrapper",_);if(this._contentNode=R("div",d+"-content",P),da(_),zi(this._contentNode),Wt(_,"contextmenu",wi),this._tipContainer=R("div",d+"-tip-container",_),this._tip=R("div",d+"-tip",this._tipContainer),this.options.closeButton){var U=this._closeButton=R("a",d+"-close-button",_);U.setAttribute("role","button"),U.setAttribute("aria-label","Close popup"),U.href="#close",U.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(U,"click",function(ee){rr(ee),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,_=d.style;_.width="",_.whiteSpace="nowrap";var P=d.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),_.width=P+1+"px",_.whiteSpace="",_.height="";var U=d.offsetHeight,ee=this.options.maxHeight,ve="leaflet-popup-scrolled";ee&&U>ee?(_.height=ee+"px",xe(d,ve)):Pe(d,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var _=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),P=this._getAnchor();ut(this._container,_.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,_=parseInt(T(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+_,U=this._containerWidth,ee=new fe(this._containerLeft,-P-this._containerBottom);ee._add(be(this._container));var ve=d.layerPointToContainerPoint(ee),Ge=k(this.options.autoPanPadding),st=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),bt=d.getSize(),jt=0,nn=0;ve.x+U+yt.x>bt.x&&(jt=ve.x+U-bt.x+yt.x),ve.x-jt-st.x<0&&(jt=ve.x-st.x),ve.y+P+yt.y>bt.y&&(nn=ve.y+P-bt.y+yt.y),ve.y-nn-st.y<0&&(nn=ve.y-st.y),(jt||nn)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([jt,nn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jm=function(d,_){return new Bl(d,_)};yn.mergeOptions({closePopupOnClick:!0}),yn.include({openPopup:function(d,_,P){return this._initOverlay(Bl,d,_,P).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Ra.include({bindPopup:function(d,_){return this._popup=this._initOverlay(Bl,this._popup,d,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Gi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Di(d);var _=d.layer||d.target;if(this._popup._source===_&&!(_ instanceof vo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=_,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var yf=Pa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Pa.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Pa.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Pa.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",_=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",_),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var _,P,U=this._map,ee=this._container,ve=U.latLngToContainerPoint(U.getCenter()),Ge=U.layerPointToContainerPoint(d),st=this.options.direction,yt=ee.offsetWidth,bt=ee.offsetHeight,jt=k(this.options.offset),nn=this._getAnchor();st==="top"?(_=yt/2,P=bt):st==="bottom"?(_=yt/2,P=0):st==="center"?(_=yt/2,P=bt/2):st==="right"?(_=0,P=bt/2):st==="left"?(_=yt,P=bt/2):Ge.x<ve.x?(st="right",_=0,P=bt/2):(st="left",_=yt+(jt.x+nn.x)*2,P=bt/2),d=d.subtract(k(_,P,!0)).add(jt).add(nn),Pe(ee,"leaflet-tooltip-right"),Pe(ee,"leaflet-tooltip-left"),Pe(ee,"leaflet-tooltip-top"),Pe(ee,"leaflet-tooltip-bottom"),xe(ee,"leaflet-tooltip-"+st),ut(ee,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&ze(this._container,d)},_animateZoom:function(d){var _=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(_)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dw=function(d,_){return new yf(d,_)};yn.include({openTooltip:function(d,_,P){return this._initOverlay(yf,d,_,P).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Ra.include({bindTooltip:function(d,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yf,this._tooltip,d,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var _=d?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[_](P),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Gi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var _=typeof d.getElement=="function"&&d.getElement();_&&(Wt(_,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Wt(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var _=typeof d.getElement=="function"&&d.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var _=d.latlng,P,U;this._tooltip.options.sticky&&d.originalEvent&&(P=this._map.mouseEventToContainerPoint(d.originalEvent),U=this._map.containerPointToLayerPoint(P),_=this._map.layerPointToLatLng(U)),this._tooltip.setLatLng(_)}});var Ym=Cu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var _=d&&d.tagName==="DIV"?d:document.createElement("div"),P=this.options;if(P.html instanceof Element?(G(_),_.appendChild(P.html)):_.innerHTML=P.html!==!1?P.html:"",P.bgPos){var U=k(P.bgPos);_.style.backgroundPosition=-U.x+"px "+-U.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});function Xm(d){return new Ym(d)}Cu.Default=Au;var Lu=Ra.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){w(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),N(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof fe?d:new fe(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var _=this.getPane().children,P=-d(-1/0,1/0),U=0,ee=_.length,ve;U<ee;U++)ve=_[U].style.zIndex,_[U]!==this._container&&ve&&(P=d(P,+ve));isFinite(P)&&(this.options.zIndex=P+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){ze(this._container,this.options.opacity);var d=+new Date,_=!1,P=!1;for(var U in this._tiles){var ee=this._tiles[U];if(!(!ee.current||!ee.loaded)){var ve=Math.min(1,(d-ee.loaded)/200);ze(ee.el,ve),ve<1?_=!0:(ee.active?P=!0:this._onOpaqueTile(ee),ee.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),_&&(ce(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,_=this.options.maxZoom;if(d!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===d?(this._levels[P].el.style.zIndex=_-Math.abs(d-P),this._onUpdateLevel(P)):(N(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var U=this._levels[d],ee=this._map;return U||(U=this._levels[d]={},U.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),U.el.style.zIndex=_,U.origin=ee.project(ee.unproject(ee.getPixelOrigin()),d).round(),U.zoom=d,this._setZoomTransform(U,ee.getCenter(),ee.getZoom()),p(U.el.offsetWidth),this._onCreateLevel(U)),this._level=U,U}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,_,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)_=this._tiles[d],_.retain=_.current;for(d in this._tiles)if(_=this._tiles[d],_.current&&!_.active){var U=_.coords;this._retainParent(U.x,U.y,U.z,U.z-5)||this._retainChildren(U.x,U.y,U.z,U.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var _ in this._tiles)this._tiles[_].coords.z===d&&this._removeTile(_)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)N(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,_,P,U){var ee=Math.floor(d/2),ve=Math.floor(_/2),Ge=P-1,st=new fe(+ee,+ve);st.z=+Ge;var yt=this._tileCoordsToKey(st),bt=this._tiles[yt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),Ge>U?this._retainParent(ee,ve,Ge,U):!1)},_retainChildren:function(d,_,P,U){for(var ee=2*d;ee<2*d+2;ee++)for(var ve=2*_;ve<2*_+2;ve++){var Ge=new fe(ee,ve);Ge.z=P+1;var st=this._tileCoordsToKey(Ge),yt=this._tiles[st];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);P+1<U&&this._retainChildren(ee,ve,P+1,U)}},_resetView:function(d){var _=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var _=this.options;return _.minNativeZoom!==void 0&&d<_.minNativeZoom?_.minNativeZoom:_.maxNativeZoom!==void 0&&_.maxNativeZoom<d?_.maxNativeZoom:d},_setView:function(d,_,P,U){var ee=Math.round(_);this.options.maxZoom!==void 0&&ee>this.options.maxZoom||this.options.minZoom!==void 0&&ee<this.options.minZoom?ee=void 0:ee=this._clampZoom(ee);var ve=this.options.updateWhenZooming&&ee!==this._tileZoom;(!U||ve)&&(this._tileZoom=ee,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ee!==void 0&&this._update(d),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(d,_)},_setZoomTransforms:function(d,_){for(var P in this._levels)this._setZoomTransform(this._levels[P],d,_)},_setZoomTransform:function(d,_,P){var U=this._map.getZoomScale(P,d.zoom),ee=d.origin.multiplyBy(U).subtract(this._map._getNewPixelOrigin(_,P)).round();Ee.any3d?dt(d.el,ee,U):ut(d.el,ee)},_resetGrid:function(){var d=this._map,_=d.options.crs,P=this._tileSize=this.getTileSize(),U=this._tileZoom,ee=this._map.getPixelWorldBounds(this._tileZoom);ee&&(this._globalTileRange=this._pxBoundsToTileRange(ee)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,_.wrapLng[0]],U).x/P.x),Math.ceil(d.project([0,_.wrapLng[1]],U).x/P.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([_.wrapLat[0],0],U).y/P.x),Math.ceil(d.project([_.wrapLat[1],0],U).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var _=this._map,P=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),U=_.getZoomScale(P,this._tileZoom),ee=_.project(d,this._tileZoom).floor(),ve=_.getSize().divideBy(U*2);return new ie(ee.subtract(ve),ee.add(ve))},_update:function(d){var _=this._map;if(_){var P=this._clampZoom(_.getZoom());if(d===void 0&&(d=_.getCenter()),this._tileZoom!==void 0){var U=this._getTiledPixelBounds(d),ee=this._pxBoundsToTileRange(U),ve=ee.getCenter(),Ge=[],st=this.options.keepBuffer,yt=new ie(ee.getBottomLeft().subtract([st,-st]),ee.getTopRight().add([st,-st]));if(!(isFinite(ee.min.x)&&isFinite(ee.min.y)&&isFinite(ee.max.x)&&isFinite(ee.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var jt=this._tiles[bt].coords;(jt.z!==this._tileZoom||!yt.contains(new fe(jt.x,jt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(d,P);return}for(var nn=ee.min.y;nn<=ee.max.y;nn++)for(var gn=ee.min.x;gn<=ee.max.x;gn++){var Vr=new fe(gn,nn);if(Vr.z=this._tileZoom,!!this._isValidTile(Vr)){var Rr=this._tiles[this._tileCoordsToKey(Vr)];Rr?Rr.current=!0:Ge.push(Vr)}}if(Ge.sort(function(bi,Ko){return bi.distanceTo(ve)-Ko.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for(gn=0;gn<Ge.length;gn++)this._addTile(Ge[gn],di);this._level.el.appendChild(di)}}}},_isValidTile:function(d){var _=this._map.options.crs;if(!_.infinite){var P=this._globalTileRange;if(!_.wrapLng&&(d.x<P.min.x||d.x>P.max.x)||!_.wrapLat&&(d.y<P.min.y||d.y>P.max.y))return!1}if(!this.options.bounds)return!0;var U=this._tileCoordsToBounds(d);return J(this.options.bounds).overlaps(U)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var _=this._map,P=this.getTileSize(),U=d.scaleBy(P),ee=U.add(P),ve=_.unproject(U,d.z),Ge=_.unproject(ee,d.z);return[ve,Ge]},_tileCoordsToBounds:function(d){var _=this._tileCoordsToNwSe(d),P=new H(_[0],_[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var _=d.split(":"),P=new fe(+_[0],+_[1]);return P.z=+_[2],P},_removeTile:function(d){var _=this._tiles[d];_&&(N(_.el),delete this._tiles[d],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xe(d,"leaflet-tile");var _=this.getTileSize();d.style.width=_.x+"px",d.style.height=_.y+"px",d.onselectstart=p,d.onmousemove=p,Ee.ielt9&&this.options.opacity<1&&ze(d,this.options.opacity)},_addTile:function(d,_){var P=this._getTilePos(d),U=this._tileCoordsToKey(d),ee=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(ee),this.createTile.length<2&&Z(o(this._tileReady,this,d,null,ee)),ut(ee,P),this._tiles[U]={el:ee,coords:d,current:!0},_.appendChild(ee),this.fire("tileloadstart",{tile:ee,coords:d})},_tileReady:function(d,_,P){_&&this.fire("tileerror",{error:_,tile:P,coords:d});var U=this._tileCoordsToKey(d);P=this._tiles[U],P&&(P.loaded=+new Date,this._map._fadeAnimated?(ze(P.el,0),ce(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),_||(xe(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var _=new fe(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return _.z=d.z,_},_pxBoundsToTileRange:function(d){var _=this.getTileSize();return new ie(d.min.unscaleBy(_).floor(),d.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function ey(d){return new Lu(d)}var fi=Lu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,_){this._url=d,_=w(this,_),_.detectRetina&&Ee.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),typeof _.subdomains=="string"&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,_){return this._url===d&&_===void 0&&(_=!0),this._url=d,_||this.redraw(),this},createTile:function(d,_){var P=document.createElement("img");return Wt(P,"load",o(this._tileOnLoad,this,_,P)),Wt(P,"error",o(this._tileOnError,this,_,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(d),P},getTileUrl:function(d){var _={r:Ee.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-d.y;this.options.tms&&(_.y=P),_["-y"]=P}return E(this._url,i(_,this.options))},_tileOnLoad:function(d,_){Ee.ielt9?setTimeout(o(d,this,null,_),0):d(null,_)},_tileOnError:function(d,_,P){var U=this.options.errorTileUrl;U&&_.getAttribute("src")!==U&&(_.src=U),d(P,_)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,_=this.options.maxZoom,P=this.options.zoomReverse,U=this.options.zoomOffset;return P&&(d=_-d),d+U},_getSubdomain:function(d){var _=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var d,_;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(_=this._tiles[d].el,_.onload=p,_.onerror=p,!_.complete)){_.src=M;var P=this._tiles[d].coords;N(_),delete this._tiles[d],this.fire("tileabort",{tile:_,coords:P})}},_removeTile:function(d){var _=this._tiles[d];if(_)return _.el.setAttribute("src",M),Lu.prototype._removeTile.call(this,d)},_tileReady:function(d,_,P){if(!(!this._map||P&&P.getAttribute("src")===M))return Lu.prototype._tileReady.call(this,d,_,P)}});function Zi(d,_){return new fi(d,_)}var Cs=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,_){this._url=d;var P=i({},this.defaultWmsParams);for(var U in _)U in this.options||(P[U]=_[U]);_=w(this,_);var ee=_.detectRetina&&Ee.retina?2:1,ve=this.getTileSize();P.width=ve.x*ee,P.height=ve.y*ee,this.wmsParams=P},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var _=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[_]=this._crs.code,fi.prototype.onAdd.call(this,d)},getTileUrl:function(d){var _=this._tileCoordsToNwSe(d),P=this._crs,U=me(P.project(_[0]),P.project(_[1])),ee=U.min,ve=U.max,Ge=(this._wmsVersion>=1.3&&this._crs===Wm?[ee.y,ee.x,ve.y,ve.x]:[ee.x,ee.y,ve.x,ve.y]).join(","),st=fi.prototype.getTileUrl.call(this,d);return st+S(this.wmsParams,st,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(d,_){return i(this.wmsParams,d),_||this.redraw(),this}});function Rh(d,_){return new Cs(d,_)}fi.WMS=Cs,Zi.wms=Rh;var pa=Ra.extend({options:{padding:.1},initialize:function(d){w(this,d),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,_){var P=this._map.getZoomScale(_,this._zoom),U=this._map.getSize().multiplyBy(.5+this.options.padding),ee=this._map.project(this._center,_),ve=U.multiplyBy(-P).add(ee).subtract(this._map._getNewPixelOrigin(d,_));Ee.any3d?dt(this._container,ve,P):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,_=this._map.getSize(),P=this._map.containerPointToLayerPoint(_.multiplyBy(-d)).round();this._bounds=new ie(P,P.add(_.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ql=pa.extend({options:{tolerance:0},getEvents:function(){var d=pa.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Wt(d,"mousemove",this._onMouseMove,this),Wt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,N(this._container),hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var _ in this._layers)d=this._layers[_],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pa.prototype._update.call(this);var d=this._bounds,_=this._container,P=d.getSize(),U=Ee.retina?2:1;ut(_,d.min),_.width=U*P.x,_.height=U*P.y,_.style.width=P.x+"px",_.style.height=P.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){pa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[l(d)]=d;var _=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var _=d._order,P=_.next,U=_.prev;P?P.prev=U:this._drawLast=U,U?U.next=P:this._drawFirst=P,delete d._order,delete this._layers[l(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var _=d.options.dashArray.split(/[, ]+/),P=[],U,ee;for(ee=0;ee<_.length;ee++){if(U=Number(_[ee]),isNaN(U))return;P.push(U)}d.options._dashArray=P}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var _=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(d._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(d._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var _=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,_=this._redrawBounds;if(this._ctx.save(),_){var P=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var U=this._drawFirst;U;U=U.next)d=U.layer,(!_||d._pxBounds&&d._pxBounds.intersects(_))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,_){if(this._drawing){var P,U,ee,ve,Ge=d._parts,st=Ge.length,yt=this._ctx;if(st){for(yt.beginPath(),P=0;P<st;P++){for(U=0,ee=Ge[P].length;U<ee;U++)ve=Ge[P][U],yt[U?"lineTo":"moveTo"](ve.x,ve.y);_&&yt.closePath()}this._fillStroke(yt,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var _=d._point,P=this._ctx,U=Math.max(Math.round(d._radius),1),ee=(Math.max(Math.round(d._radiusY),1)||U)/U;ee!==1&&(P.save(),P.scale(1,ee)),P.beginPath(),P.arc(_.x,_.y/ee,U,0,Math.PI*2,!1),ee!==1&&P.restore(),this._fillStroke(P,d)}},_fillStroke:function(d,_){var P=_.options;P.fill&&(d.globalAlpha=P.fillOpacity,d.fillStyle=P.fillColor||P.color,d.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(d.setLineDash&&d.setLineDash(_.options&&_.options._dashArray||[]),d.globalAlpha=P.opacity,d.lineWidth=P.weight,d.strokeStyle=P.color,d.lineCap=P.lineCap,d.lineJoin=P.lineJoin,d.stroke())},_onClick:function(d){for(var _=this._map.mouseEventToLayerPoint(d),P,U,ee=this._drawFirst;ee;ee=ee.next)P=ee.layer,P.options.interactive&&P._containsPoint(_)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(P))&&(U=P);this._fireEvent(U?[U]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var _=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,_)}},_handleMouseOut:function(d){var _=this._hoveredLayer;_&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([_],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,_){if(!this._mouseHoverThrottled){for(var P,U,ee=this._drawFirst;ee;ee=ee.next)P=ee.layer,P.options.interactive&&P._containsPoint(_)&&(U=P);U!==this._hoveredLayer&&(this._handleMouseOut(d),U&&(xe(this._container,"leaflet-interactive"),this._fireEvent([U],d,"mouseover"),this._hoveredLayer=U)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,_,P){this._map._fireDOMEvent(_,P||_.type,d)},_bringToFront:function(d){var _=d._order;if(_){var P=_.next,U=_.prev;if(P)P.prev=U;else return;U?U.next=P:P&&(this._drawFirst=P),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(d)}},_bringToBack:function(d){var _=d._order;if(_){var P=_.next,U=_.prev;if(U)U.next=P;else return;P?P.prev=U:U&&(this._drawLast=U),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(d)}}});function vf(d){return Ee.canvas?new ql(d):null}var ga=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ty={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pa.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var _=d._container=ga("shape");xe(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",d._path=ga("path"),_.appendChild(d._path),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){var _=d._container;this._container.appendChild(_),d.options.interactive&&d.addInteractiveTarget(_)},_removePath:function(d){var _=d._container;N(_),d.removeInteractiveTarget(_),delete this._layers[l(d)]},_updateStyle:function(d){var _=d._stroke,P=d._fill,U=d.options,ee=d._container;ee.stroked=!!U.stroke,ee.filled=!!U.fill,U.stroke?(_||(_=d._stroke=ga("stroke")),ee.appendChild(_),_.weight=U.weight+"px",_.color=U.color,_.opacity=U.opacity,U.dashArray?_.dashStyle=A(U.dashArray)?U.dashArray.join(" "):U.dashArray.replace(/( *, *)/g," "):_.dashStyle="",_.endcap=U.lineCap.replace("butt","flat"),_.joinstyle=U.lineJoin):_&&(ee.removeChild(_),d._stroke=null),U.fill?(P||(P=d._fill=ga("fill")),ee.appendChild(P),P.color=U.fillColor||U.color,P.opacity=U.fillOpacity):P&&(ee.removeChild(P),d._fill=null)},_updateCircle:function(d){var _=d._point.round(),P=Math.round(d._radius),U=Math.round(d._radiusY||P);this._setPath(d,d._empty()?"M0 0":"AL "+_.x+","+_.y+" "+P+","+U+" 0,"+65535*360)},_setPath:function(d,_){d._path.v=_},_bringToFront:function(d){se(d._container)},_bringToBack:function(d){we(d._container)}},As=Ee.vml?ga:W,Za=pa.extend({_initContainer:function(){this._container=As("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=As("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pa.prototype._update.call(this);var d=this._bounds,_=d.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,P.setAttribute("width",_.x),P.setAttribute("height",_.y)),ut(P,d.min),P.setAttribute("viewBox",[d.min.x,d.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(d){var _=d._path=As("path");d.options.className&&xe(_,d.options.className),d.options.interactive&&xe(_,"leaflet-interactive"),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){N(d._path),d.removeInteractiveTarget(d._path),delete this._layers[l(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var _=d._path,P=d.options;_&&(P.stroke?(_.setAttribute("stroke",P.color),_.setAttribute("stroke-opacity",P.opacity),_.setAttribute("stroke-width",P.weight),_.setAttribute("stroke-linecap",P.lineCap),_.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?_.setAttribute("stroke-dasharray",P.dashArray):_.removeAttribute("stroke-dasharray"),P.dashOffset?_.setAttribute("stroke-dashoffset",P.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),P.fill?(_.setAttribute("fill",P.fillColor||P.color),_.setAttribute("fill-opacity",P.fillOpacity),_.setAttribute("fill-rule",P.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(d,_){this._setPath(d,he(d._parts,_))},_updateCircle:function(d){var _=d._point,P=Math.max(Math.round(d._radius),1),U=Math.max(Math.round(d._radiusY),1)||P,ee="a"+P+","+U+" 0 1,0 ",ve=d._empty()?"M0 0":"M"+(_.x-P)+","+_.y+ee+P*2+",0 "+ee+-P*2+",0 ";this._setPath(d,ve)},_setPath:function(d,_){d._path.setAttribute("d",_)},_bringToFront:function(d){se(d._path)},_bringToBack:function(d){we(d._path)}});Ee.vml&&Za.include(ty);function Ph(d){return Ee.svg||Ee.vml?new Za(d):null}yn.include({getRenderer:function(d){var _=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var _=this._paneRenderers[d];return _===void 0&&(_=this._createRenderer({pane:d}),this._paneRenderers[d]=_),_},_createRenderer:function(d){return this.options.preferCanvas&&vf(d)||Ph(d)}});var Ji=Pu.extend({initialize:function(d,_){Pu.prototype.initialize.call(this,this._boundsToLatLngs(d),_)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=J(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Mu(d,_){return new Ji(d,_)}Za.create=As,Za.pointsToPath=he,Qi.geometryToLayer=Nl,Qi.coordsToLatLng=gf,Qi.coordsToLatLngs=Fl,Qi.latLngToCoords=jl,Qi.latLngsToCoords=mf,Qi.getFeature=Ou,Qi.asFeature=wo,yn.mergeOptions({boxZoom:!0});var Rs=Ki.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(d),Wt(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var _=new ie(this._point,this._startPoint),P=_.getSize();ut(this._box,_.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(N(this._box),Pe(this._container,"leaflet-crosshair")),Ue(),Ft(),hn(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var _=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yn.addInitHook("addHandler","boxZoom",Rs),yn.mergeOptions({doubleClickZoom:!0});var zl=Ki.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var _=this._map,P=_.getZoom(),U=_.options.zoomDelta,ee=d.originalEvent.shiftKey?P-U:P+U;_.options.doubleClickZoom==="center"?_.setZoom(ee):_.setZoomAround(d.containerPoint,ee)}});yn.addInitHook("addHandler","doubleClickZoom",zl),yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hl=Ki.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Vo(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=J(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var _=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(_),this._prunePositions(_)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,_){return d-(d-_)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;d.x<_.min.x&&(d.x=this._viscousLimit(d.x,_.min.x)),d.y<_.min.y&&(d.y=this._viscousLimit(d.y,_.min.y)),d.x>_.max.x&&(d.x=this._viscousLimit(d.x,_.max.x)),d.y>_.max.y&&(d.y=this._viscousLimit(d.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,_=Math.round(d/2),P=this._initialWorldOffset,U=this._draggable._newPos.x,ee=(U-_+P)%d+_-P,ve=(U+_+P)%d-_-P,Ge=Math.abs(ee+P)<Math.abs(ve+P)?ee:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(d){var _=this._map,P=_.options,U=!P.inertia||d.noInertia||this._times.length<2;if(_.fire("dragend",d),U)_.fire("moveend");else{this._prunePositions(+new Date);var ee=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=P.easeLinearity,st=ee.multiplyBy(Ge/ve),yt=st.distanceTo([0,0]),bt=Math.min(P.inertiaMaxSpeed,yt),jt=st.multiplyBy(bt/yt),nn=bt/(P.inertiaDeceleration*Ge),gn=jt.multiplyBy(-nn/2).round();!gn.x&&!gn.y?_.fire("moveend"):(gn=_._limitOffset(gn,_.options.maxBounds),Z(function(){_.panBy(gn,{duration:nn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});yn.addInitHook("addHandler","dragging",Hl),yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yi=Ki.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Wt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,_=document.documentElement,P=d.scrollTop||_.scrollTop,U=d.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(U,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var _=this._panKeys={},P=this.keyCodes,U,ee;for(U=0,ee=P.left.length;U<ee;U++)_[P.left[U]]=[-1*d,0];for(U=0,ee=P.right.length;U<ee;U++)_[P.right[U]]=[d,0];for(U=0,ee=P.down.length;U<ee;U++)_[P.down[U]]=[0,d];for(U=0,ee=P.up.length;U<ee;U++)_[P.up[U]]=[0,-1*d]},_setZoomDelta:function(d){var _=this._zoomKeys={},P=this.keyCodes,U,ee;for(U=0,ee=P.zoomIn.length;U<ee;U++)_[P.zoomIn[U]]=d;for(U=0,ee=P.zoomOut.length;U<ee;U++)_[P.zoomOut[U]]=-d},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var _=d.keyCode,P=this._map,U;if(_ in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(U=this._panKeys[_],d.shiftKey&&(U=k(U).multiplyBy(3)),P.options.maxBounds&&(U=P._limitOffset(k(U),P.options.maxBounds)),P.options.worldCopyJump){var ee=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(U)));P.panTo(ee)}else P.panBy(U)}else if(_ in this._zoomKeys)P.setZoom(P.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[_]);else if(_===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;Di(d)}}});yn.addInitHook("addHandler","keyboard",Yi),yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xi=Ki.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var _=Ga(d),P=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var U=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),U),Di(d)},_performZoom:function(){var d=this._map,_=d.getZoom(),P=this._map.options.zoomSnap||0;d._stop();var U=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ee=4*Math.log(2/(1+Math.exp(-Math.abs(U))))/Math.LN2,ve=P?Math.ceil(ee/P)*P:ee,Ge=d._limitZoom(_+(this._delta>0?ve:-ve))-_;this._delta=0,this._startTime=null,Ge&&(d.options.scrollWheelZoom==="center"?d.setZoom(_+Ge):d.setZoomAround(this._lastMousePos,_+Ge))}});yn.addInitHook("addHandler","scrollWheelZoom",Xi);var Ps=600;yn.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var Ja=Ki.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var _=d.touches[0];this._startPos=this._newPos=new fe(_.clientX,_.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",rr),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),Ps),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){hn(document,"touchend",rr),hn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)},_onMove:function(d){var _=d.touches[0];this._newPos=new fe(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,_){var P=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});P._simulated=!0,_.target.dispatchEvent(P)}});yn.addInitHook("addHandler","tapHold",Ja),yn.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var Ya=Ki.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var _=this._map;if(!(!d.touches||d.touches.length!==2||_._animatingZoom||this._zooming)){var P=_.mouseEventToContainerPoint(d.touches[0]),U=_.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),_.options.touchZoom!=="center"&&(this._pinchStartLatLng=_.containerPointToLatLng(P.add(U)._divideBy(2))),this._startDist=P.distanceTo(U),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),rr(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var _=this._map,P=_.mouseEventToContainerPoint(d.touches[0]),U=_.mouseEventToContainerPoint(d.touches[1]),ee=P.distanceTo(U)/this._startDist;if(this._zoom=_.getScaleZoom(ee,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&ee<1||this._zoom>_.getMaxZoom()&&ee>1)&&(this._zoom=_._limitZoom(this._zoom)),_.options.touchZoom==="center"){if(this._center=this._startLatLng,ee===1)return}else{var ve=P._add(U)._divideBy(2)._subtract(this._centerPoint);if(ee===1&&ve.x===0&&ve.y===0)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var Ge=o(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(Ge,this,!0),rr(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yn.addInitHook("addHandler","touchZoom",Ya),yn.BoxZoom=Rs,yn.DoubleClickZoom=zl,yn.Drag=Hl,yn.Keyboard=Yi,yn.ScrollWheelZoom=Xi,yn.TapHold=Ja,yn.TouchZoom=Ya,n.Bounds=ie,n.Browser=Ee,n.CRS=Je,n.Canvas=ql,n.Circle=xh,n.CircleMarker=kl,n.Class=ue,n.Control=lr,n.DivIcon=Ym,n.DivOverlay=Pa,n.DomEvent=Eu,n.DomUtil=$n,n.Draggable=Vo,n.Evented=de,n.FeatureGroup=Gi,n.GeoJSON=Qi,n.GridLayer=Lu,n.Handler=Ki,n.Icon=Cu,n.ImageOverlay=Ul,n.LatLng=pe,n.LatLngBounds=H,n.Layer=Ra,n.LayerGroup=Ss,n.LineUtil=Km,n.Map=yn,n.Marker=Ru,n.Mixin=lf,n.Path=vo,n.Point=fe,n.PolyUtil=Cw,n.Polygon=Pu,n.Polyline=_o,n.Popup=Bl,n.PosAnimation=Wa,n.Projection=Gm,n.Rectangle=Ji,n.Renderer=pa,n.SVG=Za,n.SVGOverlay=Ah,n.TileLayer=fi,n.Tooltip=yf,n.Transformation=oe,n.Util=re,n.VideoOverlay=Es,n.bind=o,n.bounds=me,n.canvas=vf,n.circle=Lw,n.circleMarker=Zm,n.control=ki,n.divIcon=Xm,n.extend=i,n.featureGroup=Dl,n.geoJSON=Iu,n.geoJson=Th,n.gridLayer=ey,n.icon=pf,n.imageOverlay=xs,n.latLng=Ae,n.latLngBounds=J,n.layerGroup=Qm,n.map=Ca,n.marker=Sh,n.point=k,n.polygon=Wi,n.polyline=Mw,n.popup=Jm,n.rectangle=Mu,n.setOptions=w,n.stamp=l,n.svg=Ph,n.svgOverlay=Ts,n.tileLayer=Zi,n.tooltip=Dw,n.transformation=z,n.version=r,n.videoOverlay=Ch;var Os=window.L;n.noConflict=function(){return window.L=Os,this},window.L=n})}(xg,xg.exports)),xg.exports}var An=DQ();const aR=Dr(An),kQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",NQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",FQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete An.Icon.Default.prototype._getIconUrl;An.Icon.Default.mergeOptions({iconUrl:NQ,iconRetinaUrl:kQ,shadowUrl:FQ});const QU="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",jQ=An.icon({...An.Icon.Default.prototype.options,iconUrl:_M,iconRetinaUrl:_M}),$Q=t=>An.icon({...An.Icon.Default.prototype.options,iconUrl:wM,iconRetinaUrl:wM,className:t}),ZU=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],UQ=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:VU,communityId:HU,darkModeLogoStyle:WU,emailNotificationsIdentity:LQ,emailNotificationsService:IQ,emailNotificationsType:KU,geoindexService:GU,oidcIssuers:ZU,tileServer:QU},Symbol.toStringTag,{value:"Module"})),Gd=crypto,oR=t=>t instanceof CryptoKey,cs=new TextEncoder,Md=new TextDecoder;function JU(...t){const e=t.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}const BQ=t=>{let e=t;typeof e=="string"&&(e=cs.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},R_=t=>BQ(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),qQ=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},qc=t=>{let e=t;e instanceof Uint8Array&&(e=Md.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return qQ(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Mi extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Mi.code="ERR_JOSE_GENERIC";class To extends Mi{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}To.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class zC extends Mi{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}zC.code="ERR_JWT_EXPIRED";class YU extends Mi{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}YU.code="ERR_JOSE_ALG_NOT_ALLOWED";class ba extends Mi{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}ba.code="ERR_JOSE_NOT_SUPPORTED";class zQ extends Mi{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}zQ.code="ERR_JWE_DECRYPTION_FAILED";class HQ extends Mi{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}HQ.code="ERR_JWE_INVALID";class Mr extends Mi{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Mr.code="ERR_JWS_INVALID";class k0 extends Mi{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}k0.code="ERR_JWT_INVALID";class VQ extends Mi{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}VQ.code="ERR_JWK_INVALID";class sR extends Mi{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}sR.code="ERR_JWKS_INVALID";class uR extends Mi{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}uR.code="ERR_JWKS_NO_MATCHING_KEY";class XU extends Mi{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}XU.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class e8 extends Mi{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}e8.code="ERR_JWKS_TIMEOUT";class t8 extends Mi{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}t8.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function Gs(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function tv(t,e){return t.name===e}function I1(t){return parseInt(t.name.slice(4),10)}function KQ(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function GQ(t,e){if(e.length&&!e.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const r=e.pop();n+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function WQ(t,e,...n){switch(e){case"HS256":case"HS384":case"HS512":{if(!tv(t.algorithm,"HMAC"))throw Gs("HMAC");const r=parseInt(e.slice(2),10);if(I1(t.algorithm.hash)!==r)throw Gs(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!tv(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Gs("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(I1(t.algorithm.hash)!==r)throw Gs(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!tv(t.algorithm,"RSA-PSS"))throw Gs("RSA-PSS");const r=parseInt(e.slice(2),10);if(I1(t.algorithm.hash)!==r)throw Gs(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Gs("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!tv(t.algorithm,"ECDSA"))throw Gs("ECDSA");const r=KQ(e);if(t.algorithm.namedCurve!==r)throw Gs(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}GQ(t,n)}function n8(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const HC=(t,...e)=>n8("Key must be ",t,...e);function r8(t,e,...n){return n8(`Key for the ${t} algorithm must be `,e,...n)}const i8=t=>oR(t)?!0:(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",Jg=["CryptoKey"],a8=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function QQ(t){return typeof t=="object"&&t!==null}function du(t){if(!QQ(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const o8=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function Wd(t){return du(t)&&typeof t.kty=="string"}function ZQ(t){return t.kty!=="oct"&&typeof t.d=="string"}function JQ(t){return t.kty!=="oct"&&typeof t.d>"u"}function YQ(t){return Wd(t)&&t.kty==="oct"&&typeof t.k=="string"}function XQ(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ba('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new ba('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new ba('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new ba('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const s8=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=XQ(t),r=[e,t.ext??!1,t.key_ops??n],i={...t};return delete i.alg,delete i.use,Gd.subtle.importKey("jwk",i,...r)},u8=t=>qc(t);let Bf,qf;const l8=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",t0=async(t,e,n,r,i=!1)=>{let a=t.get(e);if(a!=null&&a[r])return a[r];const o=await s8({...n,alg:r});return i&&Object.freeze(e),a?a[r]=o:t.set(e,{[r]:o}),o},eZ=(t,e)=>{if(l8(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?u8(n.k):(qf||(qf=new WeakMap),t0(qf,t,n,e))}return Wd(t)?t.k?qc(t.k):(qf||(qf=new WeakMap),t0(qf,t,t,e,!0)):t},tZ=(t,e)=>{if(l8(t)){let n=t.export({format:"jwk"});return n.k?u8(n.k):(Bf||(Bf=new WeakMap),t0(Bf,t,n,e))}return Wd(t)?t.k?qc(t.k):(Bf||(Bf=new WeakMap),t0(Bf,t,t,e,!0)):t},SM={normalizePublicKey:eZ,normalizePrivateKey:tZ};async function c8(t,e){if(!du(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return qc(t.k);case"RSA":if(t.oth!==void 0)throw new ba('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return s8({...t,alg:e});default:throw new ba('Unsupported "kty" (Key Type) Parameter value')}}const rd=t=>t==null?void 0:t[Symbol.toStringTag],VC=(t,e,n)=>{var r,i;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((i=(r=e.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},nZ=(t,e,n,r)=>{if(!(e instanceof Uint8Array)){if(r&&Wd(e)){if(YQ(e)&&VC(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!i8(e))throw new TypeError(r8(t,e,...Jg,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${rd(e)} instances for symmetric algorithms must be of type "secret"`)}},rZ=(t,e,n,r)=>{if(r&&Wd(e))switch(n){case"sign":if(ZQ(e)&&VC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(JQ(e)&&VC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!i8(e))throw new TypeError(r8(t,e,...Jg,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${rd(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${rd(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${rd(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${rd(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${rd(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function f8(t,e,n,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?nZ(e,n,r,t):rZ(e,n,r,t)}f8.bind(void 0,!1);const KC=f8.bind(void 0,!0);function d8(t,e,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...e.entries()]):a=e;for(const o of r.crit){if(!a.has(o))throw new ba(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new t(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new t(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const iZ=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},aZ=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:R_(t)};if(!oR(t))throw new TypeError(HC(t,...Jg,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:r,use:i,...a}=await Gd.subtle.exportKey("jwk",t);return a};async function oZ(t){return aZ(t)}function h8(t,e){const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new ba(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function p8(t,e,n){if(n==="sign"&&(e=await SM.normalizePrivateKey(e,t)),n==="verify"&&(e=await SM.normalizePublicKey(e,t)),oR(e))return WQ(e,t,n),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(HC(e,...Jg));return Gd.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(HC(e,...Jg,"Uint8Array","JSON Web Key"))}const sZ=async(t,e,n,r)=>{const i=await p8(t,e,"verify");o8(t,i);const a=h8(t,i.algorithm);try{return await Gd.subtle.verify(a,i,n,r)}catch{return!1}};async function uZ(t,e,n){if(!du(t))throw new Mr("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new Mr('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new Mr("JWS Protected Header incorrect type");if(t.payload===void 0)throw new Mr("JWS Payload missing");if(typeof t.signature!="string")throw new Mr("JWS Signature missing or incorrect type");if(t.header!==void 0&&!du(t.header))throw new Mr("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const w=qc(t.protected);r=JSON.parse(Md.decode(w))}catch{throw new Mr("JWS Protected Header is invalid")}if(!a8(r,t.header))throw new Mr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},a=d8(Mr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new Mr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new Mr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=iZ("algorithms",n.algorithms);if(l&&!l.has(s))throw new YU('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof t.payload!="string")throw new Mr("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new Mr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof e=="function"?(e=await e(r,t),c=!0,KC(s,e,"verify"),Wd(e)&&(e=await c8(e,s))):KC(s,e,"verify");const h=JU(cs.encode(t.protected??""),cs.encode("."),typeof t.payload=="string"?cs.encode(t.payload):t.payload);let p;try{p=qc(t.signature)}catch{throw new Mr("Failed to base64url decode the signature")}if(!await sZ(s,e,p,h))throw new t8;let y;if(o)try{y=qc(t.payload)}catch{throw new Mr("Failed to base64url decode the payload")}else typeof t.payload=="string"?y=cs.encode(t.payload):y=t.payload;const v={payload:y};return t.protected!==void 0&&(v.protectedHeader=r),t.header!==void 0&&(v.unprotectedHeader=t.header),c?{...v,key:e}:v}async function lZ(t,e,n){if(t instanceof Uint8Array&&(t=Md.decode(t)),typeof t!="string")throw new Mr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=t.split(".");if(o!==3)throw new Mr("Invalid Compact JWS");const s=await uZ({payload:i,protected:r,signature:a},e,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof e=="function"?{...l,key:s.key}:l}const ol=t=>Math.floor(t.getTime()/1e3),g8=60,m8=g8*60,lR=m8*24,cZ=lR*7,fZ=lR*365.25,dZ=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Ng=t=>{const e=dZ.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*g8);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*m8);break;case"day":case"days":case"d":i=Math.round(n*lR);break;case"week":case"weeks":case"w":i=Math.round(n*cZ);break;default:i=Math.round(n*fZ);break}return e[1]==="-"||e[4]==="ago"?-i:i},xM=t=>t.toLowerCase().replace(/^application\//,""),hZ=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,pZ=(t,e,n={})=>{let r;try{r=JSON.parse(Md.decode(e))}catch{}if(!du(r))throw new k0("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||xM(t.typ)!==xM(i)))throw new To('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:l,maxTokenAge:c}=n,h=[...a];c!==void 0&&h.push("iat"),l!==void 0&&h.push("aud"),s!==void 0&&h.push("sub"),o!==void 0&&h.push("iss");for(const v of new Set(h.reverse()))if(!(v in r))throw new To(`missing required "${v}" claim`,r,v,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new To('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new To('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!hZ(r.aud,typeof l=="string"?[l]:l))throw new To('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=Ng(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=ol(m||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new To('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new To('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+p)throw new To('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new To('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-p)throw new zC('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){const v=y-r.iat,w=typeof c=="number"?c:Ng(c);if(v-p>w)throw new zC('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(v<0-p)throw new To('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function gZ(t,e,n){var o;const r=await lZ(t,e,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new k0("JWTs MUST NOT use unencoded payload");const a={payload:pZ(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...a,key:r.key}:a}const mZ=async(t,e,n)=>{const r=await p8(t,e,"sign");o8(t,r);const i=await Gd.subtle.sign(h8(t,r.algorithm),r,n);return new Uint8Array(i)};class yZ{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Mr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!a8(this._protectedHeader,this._unprotectedHeader))throw new Mr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=d8(Mr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Mr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new Mr('JWS "alg" (Algorithm) Header Parameter missing or invalid');KC(o,e,"sign");let s=this._payload;a&&(s=cs.encode(R_(s)));let l;this._protectedHeader?l=cs.encode(R_(JSON.stringify(this._protectedHeader))):l=cs.encode("");const c=JU(l,cs.encode("."),s),h=await mZ(o,e,c),p={signature:R_(h),payload:""};return a&&(p.payload=Md.decode(s)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Md.decode(l)),p}}class vZ{constructor(e){this._flattened=new yZ(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){const r=await this._flattened.sign(e,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function ic(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}class _Z{constructor(e={}){if(!du(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:ic("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:ic("setNotBefore",ol(e))}:this._payload={...this._payload,nbf:ol(new Date)+Ng(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:ic("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:ic("setExpirationTime",ol(e))}:this._payload={...this._payload,exp:ol(new Date)+Ng(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:ol(new Date)}:e instanceof Date?this._payload={...this._payload,iat:ic("setIssuedAt",ol(e))}:typeof e=="string"?this._payload={...this._payload,iat:ic("setIssuedAt",ol(new Date)+Ng(e))}:this._payload={...this._payload,iat:ic("setIssuedAt",e)},this}}class wZ extends _Z{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){var i;const r=new vZ(cs.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new k0("JWTs MUST NOT use unencoded payload");return r.sign(e,n)}}function bZ(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new ba('Unsupported "alg" value for a JSON Web Key Set')}}function SZ(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(xZ)}function xZ(t){return du(t)}function y8(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class EZ{constructor(e){if(this._cached=new WeakMap,!SZ(e))throw new sR("JSON Web Key Set malformed");this._jwks=y8(e)}async getKey(e,n){const{alg:r,kid:i}={...e,...n==null?void 0:n.header},a=bZ(r),o=this._jwks.keys.filter(c=>{let h=a===c.kty;if(h&&typeof i=="string"&&(h=i===c.kid),h&&typeof c.alg=="string"&&(h=r===c.alg),h&&typeof c.use=="string"&&(h=c.use==="sig"),h&&Array.isArray(c.key_ops)&&(h=c.key_ops.includes("verify")),h&&r==="EdDSA"&&(h=c.crv==="Ed25519"||c.crv==="Ed448"),h)switch(r){case"ES256":h=c.crv==="P-256";break;case"ES256K":h=c.crv==="secp256k1";break;case"ES384":h=c.crv==="P-384";break;case"ES512":h=c.crv==="P-521";break}return h}),{0:s,length:l}=o;if(l===0)throw new uR;if(l!==1){const c=new XU,{_cached:h}=this;throw c[Symbol.asyncIterator]=async function*(){for(const p of o)try{yield await EM(h,p,r)}catch{}},c}return EM(this._cached,s,r)}}async function EM(t,e,n){const r=t.get(e)||t.set(e,{}).get(e);if(r[n]===void 0){const i=await c8({...e,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new sR("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function TM(t){const e=new EZ(t),n=async(r,i)=>e.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>y8(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const TZ=async(t,e,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},e));const o=await fetch(t.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw a?new e8:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new Mi("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new Mi("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function CZ(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let GC;var S_,B5;(typeof navigator>"u"||!((B5=(S_=navigator.userAgent)==null?void 0:S_.startsWith)!=null&&B5.call(S_,"Mozilla/5.0 ")))&&(GC="jose/v5.9.6");const L1=Symbol();function AZ(t,e){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=e||!("jwks"in t)||!du(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,du))}class RZ{constructor(e,n){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[L1])!==void 0&&(this._cache=n==null?void 0:n[L1],AZ(n==null?void 0:n[L1],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=TM(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(e,n)}catch(r){if(r instanceof uR&&this.coolingDown()===!1)return await this.reload(),this._local(e,n);throw r}}async reload(){this._pendingFetch&&CZ()&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);GC&&!e.has("User-Agent")&&(e.set("User-Agent",GC),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=TZ(this._url,this._timeoutDuration,this._options).then(n=>{this._local=TM(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function PZ(t,e){const n=new RZ(t,e),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function M1(t){const e=(t==null?void 0:t.modulusLength)??2048;if(typeof e!="number"||e<2048)throw new ba("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}async function OZ(t,e){let n,r;switch(t){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:M1(e)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:M1(e)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:M1(e)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new ba("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new ba("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new ba('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Gd.subtle.generateKey(n,!1,r)}async function IZ(t,e){return OZ(t,e)}const Ci=[];for(let t=0;t<256;++t)Ci.push((t+256).toString(16).slice(1));function LZ(t,e=0){return(Ci[t[e+0]]+Ci[t[e+1]]+Ci[t[e+2]]+Ci[t[e+3]]+"-"+Ci[t[e+4]]+Ci[t[e+5]]+"-"+Ci[t[e+6]]+Ci[t[e+7]]+"-"+Ci[t[e+8]]+Ci[t[e+9]]+"-"+Ci[t[e+10]]+Ci[t[e+11]]+Ci[t[e+12]]+Ci[t[e+13]]+Ci[t[e+14]]+Ci[t[e+15]]).toLowerCase()}let D1;const MZ=new Uint8Array(16);function DZ(){if(!D1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D1=crypto.getRandomValues.bind(crypto)}return D1(MZ)}const kZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),CM={randomUUID:kZ};function v8(t,e,n){if(CM.randomUUID&&!e&&!t)return CM.randomUUID();t=t||{};const r=t.random||(t.rng||DZ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,LZ(r)}const _8="solidClientAuthn:",n0=["ES256","RS256"],ni={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},AM=5,NZ="openid",FZ="offline_access",jZ="webid",w8=[NZ,FZ,jZ].join(" ");class $Z{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...e)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const n=await this.getProperHandler(e);if(n)return n.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function b8(t,e,n,r){let i,a;try{const{payload:o}=await gZ(t,PZ(new URL(e)),{issuer:n,audience:r});i=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${o}].`)}}function S8(t){try{const e=new URL(t),n=!e.searchParams.has("code")&&!e.searchParams.has("state"),r=e.hash==="";return n&&r}catch{return!1}}function x8(t){const e=new URL(t);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function UZ(t,e){return typeof t=="boolean"?!!t:!!e}class BZ{constructor(e,n){this.storageUtility=e,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=e,this.redirector=n}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:UZ(e.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:e.handleRedirect})}}class qZ{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class zZ{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(e,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class HZ{constructor(e,n){this.handlers=[new qZ(e),new zZ(n)]}async canHandle(){return!0}async handle(e,n){for(const r of this.handlers)await r.canHandle(e,n)&&await r.handle(e,n)}}function E8(){return{isLoggedIn:!1,sessionId:v8(),fetch:(...t)=>fetch(...t)}}async function T8(t,e){await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0})])}class VZ{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,n){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return T8(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function KZ({endSessionEndpoint:t,idTokenHint:e,postLogoutRedirectUri:n,state:r}){const i=new URL(t);return e!==void 0&&i.searchParams.append("id_token_hint",e),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function GZ({endSessionEndpoint:t,idTokenHint:e}){if(t!==void 0)return function({state:r,postLogoutUrl:i}){return KZ({endSessionEndpoint:t,idTokenHint:e,state:r,postLogoutRedirectUri:i})}}function WZ(t){return typeof t=="string"&&["DPoP","Bearer"].includes(t)}function C8(t){try{return new URL(t),!0}catch{return!1}}function QZ(t,e){var n;return(n=e.find(r=>t.includes(r)))!==null&&n!==void 0?n:null}function ZZ(t){return t.clientId!==void 0&&!C8(t.clientId)}function JZ(t,e){return e.scopesSupported.includes("webid")&&t.clientId!==void 0&&C8(t.clientId)}function YZ(t){return typeof t=="string"&&["dynamic","static","solid-oidc"].includes(t)}async function XZ(t,e,n,r){let i;if(JZ(t,e))i={clientId:t.clientId,clientName:t.clientName,clientType:"solid-oidc"};else if(ZZ(t))i={clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:"static"};else return r.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(t.sessionId,a),i}const RM=(t,e)=>fetch(t,e);let eJ=class{constructor(e,n,r,i,a){this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=RM,this.logout=async(o,s)=>{await this.logoutHandler.handle(o,(s==null?void 0:s.logoutType)==="idp"?{...s,toLogoutUrl:this.boundLogout}:s),this.fetch=RM,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function A8(t,e,n){try{const[r,i,a,o,s]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUrl"),e.getForUser(t,"dpop",{errorIfNull:!0}),e.getForUser(t,"keepAlive")]);await e.deleteForUser(t,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${r}`)}}async function tJ(t,e,n,r,i,a,o,s){n!==void 0&&await t.setForUser(e,{webId:n},{secure:o}),r!==void 0&&await t.setForUser(e,{clientId:r},{secure:o}),await t.setForUser(e,{isLoggedIn:i},{secure:o})}class nJ{constructor(e,n){this.secureStorage=e,this.insecureStorage=n,this.secureStorage=e,this.insecureStorage=n}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${e}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(n))}async get(e,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(e);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${e}] is not stored`);return r}async set(e,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(e,n)}async delete(e,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${e}] is not stored`);return a||void 0}async setForUser(e,n,r){let i;try{i=await this.getUserData(e,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(e,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);delete i[n],await this.setUserData(e,i,r==null?void 0:r.secure)}async deleteAllUserData(e,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class rJ{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,n){this.map[e]=n}async delete(e){delete this.map[e]}}class WC extends Error{constructor(e){super(e)}}class Eg extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class R8 extends Error{constructor(e,n,r){super(e),this.error=n,this.errorDescription=r}}function iJ(t){const e=new URL(t);return new URL(e.pathname,e.origin).toString()}async function cR(t,e,n){return new wZ({htu:iJ(t),htm:e.toUpperCase(),jti:v8()}).setProtectedHeader({alg:n0[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function aJ(){const{privateKey:t,publicKey:e}=await IZ(n0[0]),n={privateKey:t,publicKey:await oZ(e)};return[n.publicKey.alg]=n0,n}const P8=600;function oJ(t){return[401,403].includes(t)}async function sJ(t,e,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${e}`),a.set("DPoP",await cR(t,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function uJ(t,e,n,r){if(n!==void 0)return sJ(t,e,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${e}`),{...r,headers:i}}async function PM(t,e,n,r){return fetch(e,await uJ(e.toString(),t,r,n))}async function lJ(t,e,n){var r;const i=await t.tokenRefresher.refresh(t.sessionId,t.refreshToken,e);return n==null||n.emit(ni.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:P8),typeof i.refreshToken=="string"&&(n==null||n.emit(ni.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const k1=t=>t!==void 0?t-AM>0?t-AM:t:P8;async function cJ(t,e){var n;let r=t,i;const a=e==null?void 0:e.refreshOptions;if(a!==void 0){const o=async()=>{var s,l,c,h;try{const{accessToken:p,refreshToken:m,expiresIn:y}=await lJ(a,e.dpopKey,e.eventEmitter);r=p,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(o,k1(y)*1e3),(s=e.eventEmitter)===null||s===void 0||s.emit(ni.TIMEOUT_SET,i)}catch(p){p instanceof R8&&((l=e==null?void 0:e.eventEmitter)===null||l===void 0||l.emit(ni.ERROR,p.error,p.errorDescription),(c=e==null?void 0:e.eventEmitter)===null||c===void 0||c.emit(ni.SESSION_EXPIRED)),p instanceof Eg&&p.missingFields.includes("access_token")&&((h=e==null?void 0:e.eventEmitter)===null||h===void 0||h.emit(ni.SESSION_EXPIRED))}};i=setTimeout(o,k1(e.expiresIn)*1e3),(n=e.eventEmitter)===null||n===void 0||n.emit(ni.TIMEOUT_SET,i)}else if(e!==void 0&&e.eventEmitter!==void 0){const o=setTimeout(()=>{e.eventEmitter.emit(ni.SESSION_EXPIRED)},k1(e.expiresIn)*1e3);e.eventEmitter.emit(ni.TIMEOUT_SET,o)}return async(o,s)=>{let l=await PM(r,o,s,e==null?void 0:e.dpopKey);const c=!l.ok&&!oJ(l.status);return l.ok||c||l.url!==o&&(e==null?void 0:e.dpopKey)!==void 0&&(l=await PM(r,l.url,s,e.dpopKey)),l}}const Ai=[];for(let t=0;t<256;++t)Ai.push((t+256).toString(16).slice(1));function fJ(t,e=0){return(Ai[t[e+0]]+Ai[t[e+1]]+Ai[t[e+2]]+Ai[t[e+3]]+"-"+Ai[t[e+4]]+Ai[t[e+5]]+"-"+Ai[t[e+6]]+Ai[t[e+7]]+"-"+Ai[t[e+8]]+Ai[t[e+9]]+"-"+Ai[t[e+10]]+Ai[t[e+11]]+Ai[t[e+12]]+Ai[t[e+13]]+Ai[t[e+14]]+Ai[t[e+15]]).toLowerCase()}let N1;const dJ=new Uint8Array(16);function hJ(){if(!N1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");N1=crypto.getRandomValues.bind(crypto)}return N1(dJ)}const pJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OM={randomUUID:pJ};function gJ(t,e,n){if(OM.randomUUID&&!e&&!t)return OM.randomUUID();t=t||{};const r=t.random||(t.rng||hJ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fJ(r)}var nv={exports:{}},IM;function Qd(){if(IM)return nv.exports;IM=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,D,F){return Function.prototype.apply.call(M,D,F)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:n=function(M){return Object.getOwnPropertyNames(M)};function r(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(M){return M!==M};function a(){a.init.call(this)}nv.exports=a,nv.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");o=I}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function l(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(M){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var Q=M==="error",Y=this._events;if(Y!==void 0)Q=Q&&Y.error===void 0;else if(!Q)return!1;if(Q){var B;if(D.length>0&&(B=D[0]),B instanceof Error)throw B;var Z=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw Z.context=B,Z}var ce=Y[M];if(ce===void 0)return!1;if(typeof ce=="function")e(ce,this,D);else for(var re=ce.length,ue=v(ce,re),F=0;F<re;++F)e(ue[F],this,D);return!0};function c(I,M,D,F){var Q,Y,B;if(s(D),Y=I._events,Y===void 0?(Y=I._events=Object.create(null),I._eventsCount=0):(Y.newListener!==void 0&&(I.emit("newListener",M,D.listener?D.listener:D),Y=I._events),B=Y[M]),B===void 0)B=Y[M]=D,++I._eventsCount;else if(typeof B=="function"?B=Y[M]=F?[D,B]:[B,D]:F?B.unshift(D):B.push(D),Q=l(I),Q>0&&B.length>Q&&!B.warned){B.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=I,Z.type=M,Z.count=B.length,r(Z)}return I}a.prototype.addListener=function(M,D){return c(this,M,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,D){return c(this,M,D,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(I,M,D){var F={fired:!1,wrapFn:void 0,target:I,type:M,listener:D},Q=h.bind(F);return Q.listener=D,F.wrapFn=Q,Q}a.prototype.once=function(M,D){return s(D),this.on(M,p(this,M,D)),this},a.prototype.prependOnceListener=function(M,D){return s(D),this.prependListener(M,p(this,M,D)),this},a.prototype.removeListener=function(M,D){var F,Q,Y,B,Z;if(s(D),Q=this._events,Q===void 0)return this;if(F=Q[M],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[M],Q.removeListener&&this.emit("removeListener",M,F.listener||D));else if(typeof F!="function"){for(Y=-1,B=F.length-1;B>=0;B--)if(F[B]===D||F[B].listener===D){Z=F[B].listener,Y=B;break}if(Y<0)return this;Y===0?F.shift():w(F,Y),F.length===1&&(Q[M]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",M,Z||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(M){var D,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[M]),this;if(arguments.length===0){var Y=Object.keys(F),B;for(Q=0;Q<Y.length;++Q)B=Y[Q],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[M],typeof D=="function")this.removeListener(M,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(M,D[Q]);return this};function m(I,M,D){var F=I._events;if(F===void 0)return[];var Q=F[M];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?S(Q):v(Q,Q.length)}a.prototype.listeners=function(M){return m(this,M,!0)},a.prototype.rawListeners=function(M){return m(this,M,!1)},a.listenerCount=function(I,M){return typeof I.listenerCount=="function"?I.listenerCount(M):y.call(I,M)},a.prototype.listenerCount=y;function y(I){var M=this._events;if(M!==void 0){var D=M[I];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(I,M){for(var D=new Array(M),F=0;F<M;++F)D[F]=I[F];return D}function w(I,M){for(;M+1<I.length;M++)I[M]=I[M+1];I.pop()}function S(I){for(var M=new Array(I.length),D=0;D<M.length;++D)M[D]=I[D].listener||I[D];return M}function x(I,M){return new Promise(function(D,F){function Q(B){I.removeListener(M,Y),F(B)}function Y(){typeof I.removeListener=="function"&&I.removeListener("error",Q),D([].slice.call(arguments))}A(I,M,Y,{once:!0}),M!=="error"&&E(I,Q,{once:!0})})}function E(I,M,D){typeof I.on=="function"&&A(I,"error",M,D)}function A(I,M,D,F){if(typeof I.on=="function")F.once?I.once(M,D):I.on(M,D);else if(typeof I.addEventListener=="function")I.addEventListener(M,function Q(Y){F.once&&I.removeEventListener(M,Q),D(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return nv.exports}var mJ=Qd();const yJ=Dr(mJ);var P_={exports:{}},vJ=P_.exports,LM;function _J(){return LM||(LM=1,function(t,e){(function(r,i){t.exports=i()})(vJ,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(c){return a[c]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&c(h.prototype,p),m&&c(h,m),h}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=function(){function c(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,s=o},c.debug=function(){if(l>=4){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.debug.apply(s,Array.from(m))}},c.info=function(){if(l>=3){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.info.apply(s,Array.from(m))}},c.warn=function(){if(l>=2){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.warn.apply(s,Array.from(m))}},c.error=function(){if(l>=1){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];s.error.apply(s,Array.from(m))}},a(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");l=p}},{key:"logger",get:function(){return s},set:function(p){if(!p.debug&&p.info&&(p.debug=p.info),!(p.debug&&p.info&&p.warn&&p.error))throw new Error("Invalid logger");s=p}}]),c}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&c(h.prototype,p),m&&c(h,m),h}}(),o={setInterval:function(c){function h(p,m){return c.apply(this,arguments)}return h.toString=function(){return c.toString()},h}(function(c,h){return setInterval(c,h)}),clearInterval:function(c){function h(p){return c.apply(this,arguments)}return h.toString=function(){return c.toString()},h}(function(c){return clearInterval(c)})},s=!1,l=null;r.Global=function(){function c(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){s=!0},c.setXMLHttpRequest=function(p){l=p},a(c,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),o=i(0),s=i(7);function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";r.MetadataService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,h),!p)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=p,this._jsonService=new m(["application/jwk-set+json"])}return h.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},h.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){o.Log.debug("MetadataService.getMetadata: json received");var v=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},v,y),m._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},h.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},h.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},h.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},h.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},h.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},h.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},h.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},h.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},h.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(v){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),v[m]===void 0){if(y===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return v[m]})},h.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(v){if(o.Log.debug("MetadataService.getSigningKeys: key set received",v),!v.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=v.keys,m._settings.signingKeys})})},a(h,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),o=i(1);r.UrlUtility=function(){function s(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(c,h,p){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(h),c+="=",c+=encodeURIComponent(p)},s.parseUrlFragment=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof c!="string"&&(c=p.location.href);var m=c.lastIndexOf(h);m>=0&&(c=c.substr(m+1)),h==="?"&&(m=c.indexOf("#"))>=0&&(c=c.substr(0,m));for(var y,v={},w=/([^&=]+)=([^&]*)/g,S=0;y=w.exec(c);)if(v[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),S++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var x in v)return v;return{}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),o=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o=function(){function x(E,A){for(var I=0;I<A.length;I++){var M=A[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,A,I){return A&&x(E.prototype,A),I&&x(E,I),E}}(),s=i(0),l=i(23),c=i(6),h=i(24),p=i(2);function m(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",v="id_token",w="openid",S="client_secret_post";r.OidcClientSettings=function(){function x(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=E.authority,I=E.metadataUrl,M=E.metadata,D=E.signingKeys,F=E.metadataSeed,Q=E.client_id,Y=E.client_secret,B=E.response_type,Z=B===void 0?v:B,ce=E.scope,re=ce===void 0?w:ce,ue=E.redirect_uri,ge=E.post_logout_redirect_uri,_e=E.client_authentication,de=_e===void 0?S:_e,fe=E.prompt,Ie=E.display,k=E.max_age,ie=E.ui_locales,me=E.acr_values,H=E.resource,J=E.response_mode,pe=E.filterProtocolClaims,Ae=pe===void 0||pe,Je=E.loadUserInfo,Re=Je===void 0||Je,Fe=E.staleStateAge,Xe=Fe===void 0?900:Fe,oe=E.clockSkew,z=oe===void 0?300:oe,$=E.clockService,ae=$===void 0?new l.ClockService:$,W=E.userInfoJwtIssuer,he=W===void 0?"OP":W,ye=E.mergeClaims,He=ye!==void 0&&ye,Te=E.stateStore,Ne=Te===void 0?new c.WebStorageStateStore:Te,tt=E.ResponseValidatorCtor,nt=tt===void 0?h.ResponseValidator:tt,gt=E.MetadataServiceCtor,Bt=gt===void 0?p.MetadataService:gt,Se=E.extraQueryParams,Be=Se===void 0?{}:Se,X=E.extraTokenParams,q=X===void 0?{}:X;m(this,x),this._authority=A,this._metadataUrl=I,this._metadata=M,this._metadataSeed=F,this._signingKeys=D,this._client_id=Q,this._client_secret=Y,this._response_type=Z,this._scope=re,this._redirect_uri=ue,this._post_logout_redirect_uri=ge,this._client_authentication=de,this._prompt=fe,this._display=Ie,this._max_age=k,this._ui_locales=ie,this._acr_values=me,this._resource=H,this._response_mode=J,this._filterProtocolClaims=!!Ae,this._loadUserInfo=!!Re,this._staleStateAge=Xe,this._clockSkew=z,this._clockService=ae,this._userInfoJwtIssuer=he,this._mergeClaims=!!He,this._stateStore=Ne,this._validator=new nt(this),this._metadataService=new Bt(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(q===void 0?"undefined":a(q))==="object"?q:{}}return x.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(x,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),x}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.prefix,p=h===void 0?"oidc.":h,m=c.store,y=m===void 0?o.Global.localStorage:m;s(this,l),this._store=y,this._prefix=p}return l.prototype.set=function(h,p){return a.Log.debug("WebStorageStateStore.set",h),h=this._prefix+h,this._store.setItem(h,p),Promise.resolve()},l.prototype.get=function(h){a.Log.debug("WebStorageStateStore.get",h),h=this._prefix+h;var p=this._store.getItem(h);return Promise.resolve(p)},l.prototype.remove=function(h){a.Log.debug("WebStorageStateStore.remove",h),h=this._prefix+h;var p=this._store.getItem(h);return this._store.removeItem(h),Promise.resolve(p)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var h=[],p=0;p<this._store.length;p++){var m=this._store.key(p);m.indexOf(this._prefix)===0&&h.push(m.substr(this._prefix.length))}return Promise.resolve(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),p&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=h,this._jwtHandler=p}return l.prototype.getJson=function(h,p){var m=this;if(!h)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",h),new Promise(function(y,v){var w=new m._XMLHttpRequest;w.open("GET",h);var S=m._contentTypes,x=m._jwtHandler;w.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",w.status),w.status===200){var E=w.getResponseHeader("Content-Type");if(E){var A=S.find(function(I){if(E.startsWith(I))return!0});if(A=="application/jwt")return void x(w).then(y,v);if(A)try{return void y(JSON.parse(w.responseText))}catch(I){return a.Log.error("JsonService.getJson: Error parsing JSON response",I.message),void v(I)}}v(Error("Invalid response Content-Type: "+E+", from URL: "+h))}else v(Error(w.statusText+" ("+w.status+")"))},w.onerror=function(){a.Log.error("JsonService.getJson: network error"),v(Error("Network Error"))},p&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),w.setRequestHeader("Authorization","Bearer "+p)),w.send()})},l.prototype.postForm=function(h,p,m){var y=this;if(!h)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",h),new Promise(function(v,w){var S=new y._XMLHttpRequest;S.open("POST",h);var x=y._contentTypes;S.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(D=S.getResponseHeader("Content-Type"))&&x.find(function(F){if(D.startsWith(F))return!0}))try{var M=JSON.parse(S.responseText);if(M&&M.error)return a.Log.error("JsonService.postForm: Error from server: ",M.error),void w(new Error(M.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void w(F)}w(Error(S.statusText+" ("+S.status+")"))}else{var D;if((D=S.getResponseHeader("Content-Type"))&&x.find(function(F){if(D.startsWith(F))return!0}))try{return void v(JSON.parse(S.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void w(F)}w(Error("Invalid response Content-Type: "+D+", from URL: "+h))}},S.onerror=function(){a.Log.error("JsonService.postForm: network error"),w(Error("Network Error"))};var E="";for(var A in p){var I=p[A];I&&(E.length>0&&(E+="&"),E+=encodeURIComponent(A),E+="=",E+=encodeURIComponent(I))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(m)),S.send(E)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),o=i(3),s=i(13);r.SigninRequest=function(){function l(c){var h=c.url,p=c.client_id,m=c.redirect_uri,y=c.response_type,v=c.scope,w=c.authority,S=c.data,x=c.prompt,E=c.display,A=c.max_age,I=c.ui_locales,M=c.id_token_hint,D=c.login_hint,F=c.acr_values,Q=c.resource,Y=c.response_mode,B=c.request,Z=c.request_uri,ce=c.extraQueryParams,re=c.request_type,ue=c.client_secret,ge=c.extraTokenParams,_e=c.skipUserInfo;if(function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!p)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!v)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!w)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var de=l.isOidc(y),fe=l.isCode(y);Y||(Y=l.isCode(y)?"query":null),this.state=new s.SigninState({nonce:de,data:S,client_id:p,authority:w,redirect_uri:m,code_verifier:fe,request_type:re,response_mode:Y,client_secret:ue,scope:v,extraTokenParams:ge,skipUserInfo:_e}),h=o.UrlUtility.addQueryParam(h,"client_id",p),h=o.UrlUtility.addQueryParam(h,"redirect_uri",m),h=o.UrlUtility.addQueryParam(h,"response_type",y),h=o.UrlUtility.addQueryParam(h,"scope",v),h=o.UrlUtility.addQueryParam(h,"state",this.state.id),de&&(h=o.UrlUtility.addQueryParam(h,"nonce",this.state.nonce)),fe&&(h=o.UrlUtility.addQueryParam(h,"code_challenge",this.state.code_challenge),h=o.UrlUtility.addQueryParam(h,"code_challenge_method","S256"));var Ie={prompt:x,display:E,max_age:A,ui_locales:I,id_token_hint:M,login_hint:D,acr_values:F,resource:Q,request:B,request_uri:Z,response_mode:Y};for(var k in Ie)Ie[k]&&(h=o.UrlUtility.addQueryParam(h,k,Ie[k]));for(var ie in ce)h=o.UrlUtility.addQueryParam(h,ie,ce[ie]);this.url=h}return l.isOidc=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="id_token"})[0]},l.isOAuth=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="token"})[0]},l.isCode=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function c(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&c(h.prototype,p),m&&c(h,m),h}}(),o=i(0),s=function(h){return h&&h.__esModule?h:{default:h}}(i(14));function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}r.State=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.id,m=h.data,y=h.created,v=h.request_type;l(this,c),this._id=p||(0,s.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=v}return c.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(p){return o.Log.debug("State.fromStorageString"),new c(JSON.parse(p))},c.clearStaleState=function(p,m){var y=Date.now()/1e3-m;return p.getAllKeys().then(function(v){o.Log.debug("State.clearStaleState: got keys",v);for(var w=[],S=function(I){var M=v[I];E=p.get(M).then(function(D){var F=!1;if(D)try{var Q=c.fromStorageString(D);o.Log.debug("State.clearStaleState: got item from key: ",M,Q.created),Q.created<=y&&(F=!0)}catch(Y){o.Log.error("State.clearStaleState: Error parsing state for key",M,Y.message),F=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",M),F=!0;if(F)return o.Log.debug("State.clearStaleState: removed item for key: ",M),p.remove(M)}),w.push(E)},x=0;x<v.length;x++){var E;S(x)}return o.Log.debug("State.clearStaleState: waiting on promise count:",w.length),Promise.all(w)})},a(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function S(x,E){for(var A=0;A<E.length;A++){var I=E[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,E,A){return E&&S(x.prototype,E),A&&S(x,A),x}}(),o=i(0),s=i(5),l=i(12),c=i(8),h=i(34),p=i(35),m=i(36),y=i(13),v=i(9);function w(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function S(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w(this,S),x instanceof s.OidcClientSettings?this._settings=x:this._settings=new s.OidcClientSettings(x)}return S.prototype.createSigninRequest=function(){var E=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.response_type,M=A.scope,D=A.redirect_uri,F=A.data,Q=A.state,Y=A.prompt,B=A.display,Z=A.max_age,ce=A.ui_locales,re=A.id_token_hint,ue=A.login_hint,ge=A.acr_values,_e=A.resource,de=A.request,fe=A.request_uri,Ie=A.response_mode,k=A.extraQueryParams,ie=A.extraTokenParams,me=A.request_type,H=A.skipUserInfo,J=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var pe=this._settings.client_id;I=I||this._settings.response_type,M=M||this._settings.scope,D=D||this._settings.redirect_uri,Y=Y||this._settings.prompt,B=B||this._settings.display,Z=Z||this._settings.max_age,ce=ce||this._settings.ui_locales,ge=ge||this._settings.acr_values,_e=_e||this._settings.resource,Ie=Ie||this._settings.response_mode,k=k||this._settings.extraQueryParams,ie=ie||this._settings.extraTokenParams;var Ae=this._settings.authority;return c.SigninRequest.isCode(I)&&I!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Je){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Je);var Re=new c.SigninRequest({url:Je,client_id:pe,redirect_uri:D,response_type:I,scope:M,data:F||Q,authority:Ae,prompt:Y,display:B,max_age:Z,ui_locales:ce,id_token_hint:re,login_hint:ue,acr_values:ge,resource:_e,request:de,request_uri:fe,extraQueryParams:k,extraTokenParams:ie,request_type:me,response_mode:Ie,client_secret:E._settings.client_secret,skipUserInfo:H}),Fe=Re.state;return(J=J||E._stateStore).set(Fe.id,Fe.toStorageString()).then(function(){return Re})})},S.prototype.readSigninResponseState=function(E,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),D=M?"?":"#",F=new h.SigninResponse(E,D);if(!F.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var Q=I?A.remove.bind(A):A.get.bind(A);return Q(F.state).then(function(Y){if(!Y)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(Y),response:F}})},S.prototype.processSigninResponse=function(E,A){var I=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(E,A,!0).then(function(M){var D=M.state,F=M.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),I._validator.validateSigninResponse(D,F)})},S.prototype.createSignoutRequest=function(){var E=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.id_token_hint,M=A.data,D=A.state,F=A.post_logout_redirect_uri,Q=A.extraQueryParams,Y=A.request_type,B=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Z){if(!Z)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Z);var ce=new p.SignoutRequest({url:Z,id_token_hint:I,post_logout_redirect_uri:F,data:M||D,extraQueryParams:Q,request_type:Y}),re=ce.state;return re&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(B=B||E._stateStore).set(re.id,re.toStorageString())),ce})},S.prototype.readSignoutResponseState=function(E,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var M=new m.SignoutResponse(E);if(!M.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),M.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",M.error),Promise.reject(new l.ErrorResponse(M))):Promise.resolve({state:void 0,response:M});var D=M.state;A=A||this._stateStore;var F=I?A.remove.bind(A):A.get.bind(A);return F(D).then(function(Q){if(!Q)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.State.fromStorageString(Q),response:M}})},S.prototype.processSignoutResponse=function(E,A){var I=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(E,A,!0).then(function(M){var D=M.state,F=M.response;return D?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),I._validator.validateSignoutResponse(D,F)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},S.prototype.clearStaleState=function(E){return o.Log.debug("OidcClient.clearStaleState"),E=E||this._stateStore,v.State.clearStaleState(E,this.settings.staleStateAge)},a(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),o=i(2),s=i(0);function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function c(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,c),!h)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new p,this._metadataService=new m(this._settings)}return c.prototype.exchangeCode=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||v!="client_secret_basic"?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(w){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),p._jsonService.postForm(w,m,y).then(function(S){return s.Log.debug("TokenClient.exchangeCode: response received"),S})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(w){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),p._jsonService.postForm(w,m,y).then(function(S){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function s(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}r.ErrorResponse=function(l){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.error,m=h.error_description,y=h.error_uri,v=h.state,w=h.session_state;if(o(this,c),!p)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var S=s(this,l.call(this,m||p));return S.name="ErrorResponse",S.error=p,S.error_description=m,S.error_uri=y,S.state=v,S.session_state=w,S}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(c,l),c}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,v){for(var w=0;w<v.length;w++){var S=v[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,v,w){return v&&m(y.prototype,v),w&&m(y,w),y}}(),o=i(0),s=i(9),l=i(4),c=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=v.nonce,S=v.authority,x=v.client_id,E=v.redirect_uri,A=v.code_verifier,I=v.response_mode,M=v.client_secret,D=v.scope,F=v.extraTokenParams,Q=v.skipUserInfo;h(this,y);var Y=p(this,m.call(this,arguments[0]));if(w===!0?Y._nonce=(0,c.default)():w&&(Y._nonce=w),A===!0?Y._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():A&&(Y._code_verifier=A),Y.code_verifier){var B=l.JoseUtil.hashString(Y.code_verifier,"SHA256");Y._code_challenge=l.JoseUtil.hexToBase64Url(B)}return Y._redirect_uri=E,Y._authority=S,Y._client_id=x,Y._response_mode=I,Y._client_secret=M,Y._scope=D,Y._extraTokenParams=F,Y._skipUserInfo=Q,Y}return function(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}(y,m),y.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(w){return o.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(w))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&s(l.prototype,c),h&&s(l,h),l}}(),o=i(0);r.User=function(){function s(l){var c=l.id_token,h=l.session_state,p=l.access_token,m=l.refresh_token,y=l.token_type,v=l.scope,w=l.profile,S=l.expires_at,x=l.state;(function(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=c,this.session_state=h,this.access_token=p,this.refresh_token=m,this.token_type=y,this.scope=v,this.profile=w,this.expires_at=S,this.state=x}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(c){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(c))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var h=parseInt(c);if(typeof h=="number"&&h>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+h}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),o=i(46);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.accessTokenExpiringNotificationTime,p=h===void 0?60:h,m=c.accessTokenExpiringTimer,y=m===void 0?new o.Timer("Access token expiring"):m,v=c.accessTokenExpiredTimer,w=v===void 0?new o.Timer("Access token expired"):v;s(this,l),this._accessTokenExpiringNotificationTime=p,this._accessTokenExpiring=y,this._accessTokenExpired=w}return l.prototype.load=function(h){if(h.access_token&&h.expires_in!==void 0){var p=h.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",p),p>0){var m=p-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=p+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(h){this._accessTokenExpiring.addHandler(h)},l.prototype.removeAccessTokenExpiring=function(h){this._accessTokenExpiring.removeHandler(h)},l.prototype.addAccessTokenExpired=function(h){this._accessTokenExpired.addHandler(h)},l.prototype.removeAccessTokenExpired=function(h){this._accessTokenExpired.removeHandler(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function o(s){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(h){return h===l});c>=0&&this._callbacks.splice(c,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),o=i(0),s=i(19),l=i(1);function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function h(p){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,h),!p)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=p,this._CheckSessionIFrameCtor=y,this._timer=v,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(w){w?m._start(w):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(S){var x={session_state:S.session_state};S.sub&&S.sid&&(x.profile={sub:S.sub,sid:S.sid}),m._start(x)}).catch(function(S){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(w){o.Log.error("SessionMonitor ctor: error from getUser:",w.message)}))}return h.prototype._start=function(m){var y=this,v=m.session_state;v&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",v,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",v,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(v):this._metadataService.getCheckSessionIframe().then(function(w){if(w){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=y._client_id,x=y._checkSessionInterval,E=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),S,w,x,E),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(v)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(w){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",w.message)}))},h.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(v){var w={session_state:v.session_state};v.sub&&v.sid&&(w.profile={sub:v.sub,sid:v.sid}),m._start(w)}).catch(function(v){o.Log.error("SessionMonitor: error from querySessionStatus:",v.message)})},1e3)},h.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var v=!0;y?y.sub===m._sub?(v=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),v&&(m._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(h,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(l,c,h,p){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=l,this._client_id=c,this._url=h,this._interval=p||2e3,this._stopOnError=m;var y=h.indexOf("/",h.indexOf("//")+2);this._frame_origin=h.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=h}return s.prototype.load=function(){var c=this;return new Promise(function(h){c._frame.onload=function(){h()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},s.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},s.prototype.start=function(c){var h=this;if(this._session_state!==c){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var p=function(){h._frame.contentWindow.postMessage(h._client_id+" "+h._session_state,h._frame_origin)};p(),this._timer=window.setInterval(p,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),o=i(2),s=i(1);function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var c="access_token",h="refresh_token";r.TokenRevocationClient=function(){function p(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,p),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new v(this._settings)}return p.prototype.revoke=function(y,v){var w=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==c&&S!=h)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(x){if(x){a.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var E=w._settings.client_id,A=w._settings.client_secret;return w._revoke(x,E,A,y,S)}if(v)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},p.prototype._revoke=function(y,v,w,S,x){var E=this;return new Promise(function(A,I){var M=new E._XMLHttpRequestCtor;M.open("POST",y),M.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",M.status),M.status===200?A():I(Error(M.statusText+" ("+M.status+")"))},M.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),I("Network Error")};var D="client_id="+encodeURIComponent(v);w&&(D+="&client_secret="+encodeURIComponent(w)),D+="&token_type_hint="+encodeURIComponent(x),D+="&token="+encodeURIComponent(S),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.send(D)})},p}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&s(l.prototype,c),h&&s(l,h),l}}(),o=i(0);r.CordovaPopupWindow=function(){function s(l){var c=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(h,p){c._resolve=h,c._reject=p}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(h){return c.hasOwnProperty(h)})},s.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var h=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(h)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},s.prototype._exitCallback=function(c){this._error(c)},s.prototype._success=function(c){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=i(10),s=i(5),l=i(6),c=i(37),h=i(38),p=i(16),m=i(2),y=i(48),v=i(49),w=i(19),S=i(20),x=i(18),E=i(1),A=i(15),I=i(50);r.default={Version:I.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:h.UserManager,AccessTokenEvents:p.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:v.CordovaIFrameNavigator,CheckSessionIFrame:w.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:x.SessionMonitor,Global:E.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=i(0),s=i(2),l=i(25),c=i(11),h=i(12),p=i(4);function m(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function v(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(m(this,v),!w)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=w,this._metadataService=new S(this._settings),this._userInfoService=new x(this._settings),this._joseUtil=E,this._tokenClient=new A(this._settings)}return v.prototype.validateSigninResponse=function(S,x){var E=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,x).then(function(A){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),E._validateTokens(S,A).then(function(I){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),E._processClaims(S,I).then(function(M){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),M})})})},v.prototype.validateSignoutResponse=function(S,x){return S.id!==x.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),x.state=S.data,x.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",x.error),Promise.reject(new h.ErrorResponse(x))):Promise.resolve(x))},v.prototype._processSigninParams=function(S,x){if(S.id!==x.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),x.state=S.data,x.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",x.error),Promise.reject(new h.ErrorResponse(x))):S.nonce&&!x.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&x.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!x.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&x.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(x.scope||(x.scope=S.scope),Promise.resolve(x))},v.prototype._processClaims=function(S,x){var E=this;if(x.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),x.profile=this._filterProtocolClaims(x.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&x.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(x.access_token).then(function(A){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==x.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(x.profile=E._mergeClaims(x.profile,A),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",x.profile),x)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(x)},v.prototype._mergeClaims=function(S,x){var E=Object.assign({},S);for(var A in x){var I=x[A];Array.isArray(I)||(I=[I]);for(var M=0;M<I.length;M++){var D=I[M];E[A]?Array.isArray(E[A])?E[A].indexOf(D)<0&&E[A].push(D):E[A]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?E[A]=this._mergeClaims(E[A],D):E[A]=[E[A],D]):E[A]=D}}return E},v.prototype._filterProtocolClaims=function(S){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var x=Object.assign({},S);return this._settings._filterProtocolClaims?(y.forEach(function(E){delete x[E]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",x)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),x},v.prototype._validateTokens=function(S,x){return x.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,x)):x.id_token?x.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,x)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,x)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(x))},v.prototype._processCode=function(S,x){var E=this,A={client_id:S.client_id,client_secret:S.client_secret,code:x.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&a(S.extraTokenParams)==="object"&&Object.assign(A,S.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(I){for(var M in I)x[M]=I[M];return x.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),E._validateIdTokenAttributes(S,x)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),x)})},v.prototype._validateIdTokenAttributes=function(S,x){var E=this;return this._metadataService.getIssuer().then(function(A){var I=S.client_id,M=E._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",M),E._settings.getEpochTime().then(function(D){return E._joseUtil.validateJwtAttributes(x.id_token,A,I,M,D).then(function(F){return S.nonce&&S.nonce!==F.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(x.profile=F,x):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},v.prototype._validateIdTokenAndAccessToken=function(S,x){var E=this;return this._validateIdToken(S,x).then(function(A){return E._validateAccessToken(A)})},v.prototype._getSigningKeyForJwt=function(S){var x=this;return this._metadataService.getSigningKeys().then(function(E){var A=S.header.kid;if(!E)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var I=void 0;if(A)I=E.filter(function(M){return M.kid===A})[0];else{if((E=x._filterByAlg(E,S.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));I=E[0]}return Promise.resolve(I)})},v.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var x=this;return this._getSigningKeyForJwt(S).then(function(E){return E?Promise.resolve(E):(x._metadataService.resetSigningKeys(),x._getSigningKeyForJwt(S))})},v.prototype._validateIdToken=function(S,x){var E=this;if(!S.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(x.id_token);return A&&A.header&&A.payload?S.nonce!==A.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(I){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),E._getSigningKeyForJwtWithSingleRetry(A).then(function(M){if(!M)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=S.client_id,F=E._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),E._joseUtil.validateJwt(x.id_token,M,I,D,F).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(x.profile=A.payload,x):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},v.prototype._filterByAlg=function(S,x){var E=null;if(x.startsWith("RS"))E="RSA";else if(x.startsWith("PS"))E="PS";else{if(!x.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",x),[];E="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",E),S=S.filter(function(A){return A.kty===E}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",E,S.length),S},v.prototype._validateAccessToken=function(S){if(!S.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var x=this._joseUtil.parseJwt(S.id_token);if(!x||!x.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",x),Promise.reject(new Error("Failed to parse id_token"));var E=x.header.alg;if(!E||E.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E),Promise.reject(new Error("Unsupported alg: "+E));var A=E.substr(2,3);if(!A)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,A),Promise.reject(new Error("Unsupported alg: "+E));if((A=parseInt(A))!==256&&A!==384&&A!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",E,A),Promise.reject(new Error("Unsupported alg: "+E));var I="sha"+A,M=this._joseUtil.hashString(S.access_token,I);if(!M)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",I),Promise.reject(new Error("Failed to validate at_hash"));var D=M.substr(0,M.length/2),F=this._joseUtil.hexToBase64Url(D);return F!==S.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},v}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),o=i(2),s=i(0),l=i(4);function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,h),!p)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=v}return h.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(v){return s.Log.debug("UserInfoService.getClaims: received userinfo url",v),y._jsonService.getJson(v,m).then(function(w){return s.Log.debug("UserInfoService.getClaims: claims received",w),w})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},h.prototype._getClaimsFromJwt=function(m){var y=this;try{var v=this._joseUtil.parseJwt(m.responseText);if(!v||!v.header||!v.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",v),Promise.reject(new Error("Failed to parse id_token"));var w=v.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(v.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(x){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+x),y._metadataService.getSigningKeys().then(function(E){if(!E)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(w)A=E.filter(function(D){return D.kid===w})[0];else{if((E=y._filterByAlg(E,v.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=E[0]}if(!A)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=y._settings.client_id,M=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",M),y._joseUtil.validateJwt(m.responseText,A,x,I,M,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),v.payload})})})}catch(x){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",x.message),void reject(x)}},h.prototype._filterByAlg=function(m,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];v="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",v),m=m.filter(function(w){return w.kty===v}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",v,m.length),m},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,l,c,h,p,m,y,v,w,S,x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},E={userAgent:!1},A={},I=I||(o=Math,l=(s={}).lib={},c=l.Base=function(){function C(){}return{extend:function(R){C.prototype=this;var N=new C;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=l.WordArray=c.extend({init:function(T,R){T=this.words=T||[],this.sigBytes=R??4*T.length},toString:function(T){return(T||m).stringify(this)},concat:function(T){var R=this.words,N=T.words,G=this.sigBytes,se=T.sigBytes;if(this.clamp(),G%4)for(var we=0;we<se;we++){var Le=N[we>>>2]>>>24-we%4*8&255;R[G+we>>>2]|=Le<<24-(G+we)%4*8}else for(we=0;we<se;we+=4)R[G+we>>>2]=N[we>>>2];return this.sigBytes+=se,this},clamp:function(){var T=this.words,R=this.sigBytes;T[R>>>2]&=4294967295<<32-R%4*8,T.length=o.ceil(R/4)},clone:function(){var T=c.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var R=[],N=0;N<T;N+=4)R.push(4294967296*o.random()|0);return new h.init(R,T)}}),p=s.enc={},m=p.Hex={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],se=0;se<N;se++){var we=R[se>>>2]>>>24-se%4*8&255;G.push((we>>>4).toString(16)),G.push((15&we).toString(16))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G+=2)N[G>>>3]|=parseInt(T.substr(G,2),16)<<24-G%8*4;return new h.init(N,R/2)}},y=p.Latin1={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],se=0;se<N;se++){var we=R[se>>>2]>>>24-se%4*8&255;G.push(String.fromCharCode(we))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G++)N[G>>>2]|=(255&T.charCodeAt(G))<<24-G%4*8;return new h.init(N,R)}},v=p.Utf8={stringify:function(T){try{return decodeURIComponent(escape(y.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return y.parse(unescape(encodeURIComponent(T)))}},w=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=v.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var R=this._data,N=R.words,G=R.sigBytes,se=this.blockSize,we=G/(4*se),Le=(we=T?o.ceil(we):o.max((0|we)-this._minBufferSize,0))*se,xe=o.min(4*Le,G);if(Le){for(var Pe=0;Pe<Le;Pe+=se)this._doProcessBlock(N,Pe);var Me=N.splice(0,Le);R.sigBytes-=xe}return new h.init(Me,xe)},clone:function(){var T=c.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),l.Hasher=w.extend({cfg:c.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(R,N){return new T.init(N).finalize(R)}},_createHmacHelper:function(T){return function(R,N){return new S.HMAC.init(T,N).finalize(R)}}}),S=s.algo={},s);(function(C){var T,R=(T=I).lib,N=R.Base,G=R.WordArray;(T=T.x64={}).Word=N.extend({init:function(we,Le){this.high=we,this.low=Le}}),T.WordArray=N.extend({init:function(we,Le){we=this.words=we||[],this.sigBytes=Le??8*we.length},toX32:function(){for(var we=this.words,Le=we.length,xe=[],Pe=0;Pe<Le;Pe++){var Me=we[Pe];xe.push(Me.high),xe.push(Me.low)}return G.create(xe,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Le=we.words=this.words.slice(0),xe=Le.length,Pe=0;Pe<xe;Pe++)Le[Pe]=Le[Pe].clone();return we}})})(),function(){var C=I,T=C.lib.WordArray;C.enc.Base64={stringify:function(N){var G=N.words,se=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Le=0;Le<se;Le+=3)for(var xe=(G[Le>>>2]>>>24-Le%4*8&255)<<16|(G[Le+1>>>2]>>>24-(Le+1)%4*8&255)<<8|G[Le+2>>>2]>>>24-(Le+2)%4*8&255,Pe=0;4>Pe&&Le+.75*Pe<se;Pe++)N.push(we.charAt(xe>>>6*(3-Pe)&63));if(G=we.charAt(64))for(;N.length%4;)N.push(G);return N.join("")},parse:function(N){var G=N.length,se=this._map;(we=se.charAt(64))&&(we=N.indexOf(we))!=-1&&(G=we);for(var we=[],Le=0,xe=0;xe<G;xe++)if(xe%4){var Pe=se.indexOf(N.charAt(xe-1))<<xe%4*2,Me=se.indexOf(N.charAt(xe))>>>6-xe%4*2;we[Le>>>2]|=(Pe|Me)<<24-Le%4*8,Le++}return T.create(we,Le)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(C){for(var T=I,R=(G=T.lib).WordArray,N=G.Hasher,G=T.algo,se=[],we=[],Le=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Pe=0;64>Pe;){var Me;e:{Me=xe;for(var $e=C.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Pe&&(se[Pe]=Le(C.pow(xe,.5))),we[Pe]=Le(C.pow(xe,1/3)),Pe++),xe++}var Ye=[];G=G.SHA256=N.extend({_doReset:function(){this._hash=new R.init(se.slice(0))},_doProcessBlock:function(dt,ut){for(var be=this._hash.words,De=be[0],Ue=be[1],Ke=be[2],lt=be[3],mt=be[4],Ft=be[5],Tt=be[6],pn=be[7],kt=0;64>kt;kt++){if(16>kt)Ye[kt]=0|dt[ut+kt];else{var Ht=Ye[kt-15],qn=Ye[kt-2];Ye[kt]=((Ht<<25|Ht>>>7)^(Ht<<14|Ht>>>18)^Ht>>>3)+Ye[kt-7]+((qn<<15|qn>>>17)^(qn<<13|qn>>>19)^qn>>>10)+Ye[kt-16]}Ht=pn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&Ft^~mt&Tt)+we[kt]+Ye[kt],qn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ke^Ue&Ke),pn=Tt,Tt=Ft,Ft=mt,mt=lt+Ht|0,lt=Ke,Ke=Ue,Ue=De,De=Ht+qn|0}be[0]=be[0]+De|0,be[1]=be[1]+Ue|0,be[2]=be[2]+Ke|0,be[3]=be[3]+lt|0,be[4]=be[4]+mt|0,be[5]=be[5]+Ft|0,be[6]=be[6]+Tt|0,be[7]=be[7]+pn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,be=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=C.floor(be/4294967296),ut[15+(De+64>>>9<<4)]=be,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),T.SHA256=N._createHelper(G),T.HmacSHA256=N._createHmacHelper(G)}(Math),function(){function C(){return N.create.apply(N,arguments)}for(var T=I,R=T.lib.Hasher,N=(se=T.x64).Word,G=se.WordArray,se=T.algo,we=[C(1116352408,3609767458),C(1899447441,602891725),C(3049323471,3964484399),C(3921009573,2173295548),C(961987163,4081628472),C(1508970993,3053834265),C(2453635748,2937671579),C(2870763221,3664609560),C(3624381080,2734883394),C(310598401,1164996542),C(607225278,1323610764),C(1426881987,3590304994),C(1925078388,4068182383),C(2162078206,991336113),C(2614888103,633803317),C(3248222580,3479774868),C(3835390401,2666613458),C(4022224774,944711139),C(264347078,2341262773),C(604807628,2007800933),C(770255983,1495990901),C(1249150122,1856431235),C(1555081692,3175218132),C(1996064986,2198950837),C(2554220882,3999719339),C(2821834349,766784016),C(2952996808,2566594879),C(3210313671,3203337956),C(3336571891,1034457026),C(3584528711,2466948901),C(113926993,3758326383),C(338241895,168717936),C(666307205,1188179964),C(773529912,1546045734),C(1294757372,1522805485),C(1396182291,2643833823),C(1695183700,2343527390),C(1986661051,1014477480),C(2177026350,1206759142),C(2456956037,344077627),C(2730485921,1290863460),C(2820302411,3158454273),C(3259730800,3505952657),C(3345764771,106217008),C(3516065817,3606008344),C(3600352804,1432725776),C(4094571909,1467031594),C(275423344,851169720),C(430227734,3100823752),C(506948616,1363258195),C(659060556,3750685593),C(883997877,3785050280),C(958139571,3318307427),C(1322822218,3812723403),C(1537002063,2003034995),C(1747873779,3602036899),C(1955562222,1575990012),C(2024104815,1125592928),C(2227730452,2716904306),C(2361852424,442776044),C(2428436474,593698344),C(2756734187,3733110249),C(3204031479,2999351573),C(3329325298,3815920427),C(3391569614,3928383900),C(3515267271,566280711),C(3940187606,3454069534),C(4118630271,4000239992),C(116418474,1914138554),C(174292421,2731055270),C(289380356,3203993006),C(460393269,320620315),C(685471733,587496836),C(852142971,1086792851),C(1017036298,365543100),C(1126000580,2618297676),C(1288033470,3409855158),C(1501505948,4234509866),C(1607167915,987167468),C(1816402316,1246189591)],Le=[],xe=0;80>xe;xe++)Le[xe]=C();se=se.SHA512=R.extend({_doReset:function(){this._hash=new G.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Ue=this._hash.words)[0],Ye=Ue[1],ot=Ue[2],dt=Ue[3],ut=Ue[4],be=Ue[5],De=Ue[6],Ue=Ue[7],Ke=ze.high,lt=ze.low,mt=Ye.high,Ft=Ye.low,Tt=ot.high,pn=ot.low,kt=dt.high,Ht=dt.low,qn=ut.high,kn=ut.low,$n=be.high,Wt=be.low,Kn=De.high,hn=De.low,Yn=Ue.high,gr=Ue.low,mr=Ke,ur=lt,wi=mt,zi=Ft,da=Tt,rr=pn,Di=kt,mo=Ht,ir=qn,kr=kn,Ga=$n,Hi=Wt,Eu=Kn,Wa=hn,yn=Yn,Ca=gr,lr=0;80>lr;lr++){var ki=Le[lr];if(16>lr)var ha=ki.high=0|Me[$e+2*lr],cr=ki.low=0|Me[$e+2*lr+1];else{ha=((cr=(ha=Le[lr-15]).high)>>>1|(Vi=ha.low)<<31)^(cr>>>8|Vi<<24)^cr>>>7;var Vi=(Vi>>>1|cr<<31)^(Vi>>>8|cr<<24)^(Vi>>>7|cr<<25),Qa=((cr=(Qa=Le[lr-2]).high)>>>19|(Ar=Qa.low)<<13)^(cr<<3|Ar>>>29)^cr>>>6,Ar=(Ar>>>19|cr<<13)^(Ar<<3|cr>>>29)^(Ar>>>6|cr<<26),Ml=(cr=Le[lr-7]).high,yo=(Aa=Le[lr-16]).high,Aa=Aa.low;ha=(ha=(ha=ha+Ml+((cr=Vi+cr.low)>>>0<Vi>>>0?1:0))+Qa+((cr=cr+Ar)>>>0<Ar>>>0?1:0))+yo+((cr=cr+Aa)>>>0<Aa>>>0?1:0),ki.high=ha,ki.low=cr}Ml=ir&Ga^~ir&Eu,Aa=kr&Hi^~kr&Wa,ki=mr&wi^mr&da^wi&da;var mh=ur&zi^ur&rr^zi&rr,Ki=(Vi=(mr>>>28|ur<<4)^(mr<<30|ur>>>2)^(mr<<25|ur>>>7),Qa=(ur>>>28|mr<<4)^(ur<<30|mr>>>2)^(ur<<25|mr>>>7),(Ar=we[lr]).high),lf=Ar.low;yo=yn+((ir>>>14|kr<<18)^(ir>>>18|kr<<14)^(ir<<23|kr>>>9))+((Ar=Ca+((kr>>>14|ir<<18)^(kr>>>18|ir<<14)^(kr<<23|ir>>>9)))>>>0<Ca>>>0?1:0),yn=Eu,Ca=Wa,Eu=Ga,Wa=Hi,Ga=ir,Hi=kr,ir=Di+(yo=(yo=(yo=yo+Ml+((Ar=Ar+Aa)>>>0<Aa>>>0?1:0))+Ki+((Ar=Ar+lf)>>>0<lf>>>0?1:0))+ha+((Ar=Ar+cr)>>>0<cr>>>0?1:0))+((kr=mo+Ar|0)>>>0<mo>>>0?1:0)|0,Di=da,mo=rr,da=wi,rr=zi,wi=mr,zi=ur,mr=yo+(ki=Vi+ki+((cr=Qa+mh)>>>0<Qa>>>0?1:0))+((ur=Ar+cr|0)>>>0<Ar>>>0?1:0)|0}lt=ze.low=lt+ur,ze.high=Ke+mr+(lt>>>0<ur>>>0?1:0),Ft=Ye.low=Ft+zi,Ye.high=mt+wi+(Ft>>>0<zi>>>0?1:0),pn=ot.low=pn+rr,ot.high=Tt+da+(pn>>>0<rr>>>0?1:0),Ht=dt.low=Ht+mo,dt.high=kt+Di+(Ht>>>0<mo>>>0?1:0),kn=ut.low=kn+kr,ut.high=qn+ir+(kn>>>0<kr>>>0?1:0),Wt=be.low=Wt+Hi,be.high=$n+Ga+(Wt>>>0<Hi>>>0?1:0),hn=De.low=hn+Wa,De.high=Kn+Eu+(hn>>>0<Wa>>>0?1:0),gr=Ue.low=gr+Ca,Ue.high=Yn+yn+(gr>>>0<Ca>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Ye=8*Me.sigBytes;return $e[Ye>>>5]|=128<<24-Ye%32,$e[30+(Ye+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Ye+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=R.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),T.SHA512=R._createHelper(se),T.HmacSHA512=R._createHmacHelper(se)}(),function(){var C=I,T=(G=C.x64).Word,R=G.WordArray,N=(G=C.algo).SHA512,G=G.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new T.init(3418070365,3238371032),new T.init(1654270250,914150663),new T.init(2438529370,812702999),new T.init(355462360,4144912697),new T.init(1731405415,4290775857),new T.init(2394180231,1750603025),new T.init(3675008525,1694076839),new T.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});C.SHA384=N._createHelper(G),C.HmacSHA384=N._createHmacHelper(G)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var M,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(C){var T,R,N="";for(T=0;T+3<=C.length;T+=3)R=parseInt(C.substring(T,T+3),16),N+=D.charAt(R>>6)+D.charAt(63&R);for(T+1==C.length?(R=parseInt(C.substring(T,T+1),16),N+=D.charAt(R<<2)):T+2==C.length&&(R=parseInt(C.substring(T,T+2),16),N+=D.charAt(R>>2)+D.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(C){var T,R,N,G="",se=0;for(T=0;T<C.length&&C.charAt(T)!="=";++T)(N=D.indexOf(C.charAt(T)))<0||(se==0?(G+=ge(N>>2),R=3&N,se=1):se==1?(G+=ge(R<<2|N>>4),R=15&N,se=2):se==2?(G+=ge(R),G+=ge(N>>2),R=3&N,se=3):(G+=ge(R<<2|N>>4),G+=ge(15&N),se=0));return se==1&&(G+=ge(R<<2)),G}function Y(C){var T,R=Q(C),N=new Array;for(T=0;2*T<R.length;++T)N[T]=parseInt(R.substring(2*T,2*T+2),16);return N}function B(C,T,R){C!=null&&(typeof C=="number"?this.fromNumber(C,T,R):T==null&&typeof C!="string"?this.fromString(C,256):this.fromString(C,T))}function Z(){return new B(null)}E.appName=="Microsoft Internet Explorer"?(B.prototype.am=function(T,R,N,G,se,we){for(var Le=32767&R,xe=R>>15;--we>=0;){var Pe=32767&this[T],Me=this[T++]>>15,$e=xe*Pe+Me*Le;se=((Pe=Le*Pe+((32767&$e)<<15)+N[G]+(1073741823&se))>>>30)+($e>>>15)+xe*Me+(se>>>30),N[G++]=1073741823&Pe}return se},M=30):E.appName!="Netscape"?(B.prototype.am=function(T,R,N,G,se,we){for(;--we>=0;){var Le=R*this[T++]+N[G]+se;se=Math.floor(Le/67108864),N[G++]=67108863&Le}return se},M=26):(B.prototype.am=function(T,R,N,G,se,we){for(var Le=16383&R,xe=R>>14;--we>=0;){var Pe=16383&this[T],Me=this[T++]>>14,$e=xe*Pe+Me*Le;se=((Pe=Le*Pe+((16383&$e)<<14)+N[G]+se)>>28)+($e>>14)+xe*Me,N[G++]=268435455&Pe}return se},M=28),B.prototype.DB=M,B.prototype.DM=(1<<M)-1,B.prototype.DV=1<<M,B.prototype.FV=Math.pow(2,52),B.prototype.F1=52-M,B.prototype.F2=2*M-52;var ce,re,ue=new Array;for(ce=48,re=0;re<=9;++re)ue[ce++]=re;for(ce=97,re=10;re<36;++re)ue[ce++]=re;for(ce=65,re=10;re<36;++re)ue[ce++]=re;function ge(C){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(C)}function _e(C,T){var R=ue[C.charCodeAt(T)];return R??-1}function de(C){var T=Z();return T.fromInt(C),T}function fe(C){var T,R=1;return(T=C>>>16)!=0&&(C=T,R+=16),(T=C>>8)!=0&&(C=T,R+=8),(T=C>>4)!=0&&(C=T,R+=4),(T=C>>2)!=0&&(C=T,R+=2),(T=C>>1)!=0&&(C=T,R+=1),R}function Ie(C){this.m=C}function k(C){this.m=C,this.mp=C.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<C.DB-15)-1,this.mt2=2*C.t}function ie(C,T){return C&T}function me(C,T){return C|T}function H(C,T){return C^T}function J(C,T){return C&~T}function pe(C){if(C==0)return-1;var T=0;return!(65535&C)&&(C>>=16,T+=16),!(255&C)&&(C>>=8,T+=8),!(15&C)&&(C>>=4,T+=4),!(3&C)&&(C>>=2,T+=2),!(1&C)&&++T,T}function Ae(C){for(var T=0;C!=0;)C&=C-1,++T;return T}function Je(){}function Re(C){return C}function Fe(C){this.r2=Z(),this.q3=Z(),B.ONE.dlShiftTo(2*C.t,this.r2),this.mu=this.r2.divide(C),this.m=C}Ie.prototype.convert=function(T){return T.s<0||T.compareTo(this.m)>=0?T.mod(this.m):T},Ie.prototype.revert=function(T){return T},Ie.prototype.reduce=function(T){T.divRemTo(this.m,null,T)},Ie.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Ie.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},k.prototype.convert=function(T){var R=Z();return T.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),T.s<0&&R.compareTo(B.ZERO)>0&&this.m.subTo(R,R),R},k.prototype.revert=function(T){var R=Z();return T.copyTo(R),this.reduce(R),R},k.prototype.reduce=function(T){for(;T.t<=this.mt2;)T[T.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&T[R],G=N*this.mpl+((N*this.mph+(T[R]>>15)*this.mpl&this.um)<<15)&T.DM;for(T[N=R+this.m.t]+=this.m.am(0,G,T,R,0,this.m.t);T[N]>=T.DV;)T[N]-=T.DV,T[++N]++}T.clamp(),T.drShiftTo(this.m.t,T),T.compareTo(this.m)>=0&&T.subTo(this.m,T)},k.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},k.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},B.prototype.copyTo=function(T){for(var R=this.t-1;R>=0;--R)T[R]=this[R];T.t=this.t,T.s=this.s},B.prototype.fromInt=function(T){this.t=1,this.s=T<0?-1:0,T>0?this[0]=T:T<-1?this[0]=T+this.DV:this.t=0},B.prototype.fromString=function(T,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(T,R);N=2}this.t=0,this.s=0;for(var G=T.length,se=!1,we=0;--G>=0;){var Le=N==8?255&T[G]:_e(T,G);Le<0?T.charAt(G)=="-"&&(se=!0):(se=!1,we==0?this[this.t++]=Le:we+N>this.DB?(this[this.t-1]|=(Le&(1<<this.DB-we)-1)<<we,this[this.t++]=Le>>this.DB-we):this[this.t-1]|=Le<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&T[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),se&&B.ZERO.subTo(this,this)},B.prototype.clamp=function(){for(var T=this.s&this.DM;this.t>0&&this[this.t-1]==T;)--this.t},B.prototype.dlShiftTo=function(T,R){var N;for(N=this.t-1;N>=0;--N)R[N+T]=this[N];for(N=T-1;N>=0;--N)R[N]=0;R.t=this.t+T,R.s=this.s},B.prototype.drShiftTo=function(T,R){for(var N=T;N<this.t;++N)R[N-T]=this[N];R.t=Math.max(this.t-T,0),R.s=this.s},B.prototype.lShiftTo=function(T,R){var N,G=T%this.DB,se=this.DB-G,we=(1<<se)-1,Le=Math.floor(T/this.DB),xe=this.s<<G&this.DM;for(N=this.t-1;N>=0;--N)R[N+Le+1]=this[N]>>se|xe,xe=(this[N]&we)<<G;for(N=Le-1;N>=0;--N)R[N]=0;R[Le]=xe,R.t=this.t+Le+1,R.s=this.s,R.clamp()},B.prototype.rShiftTo=function(T,R){R.s=this.s;var N=Math.floor(T/this.DB);if(N>=this.t)R.t=0;else{var G=T%this.DB,se=this.DB-G,we=(1<<G)-1;R[0]=this[N]>>G;for(var Le=N+1;Le<this.t;++Le)R[Le-N-1]|=(this[Le]&we)<<se,R[Le-N]=this[Le]>>G;G>0&&(R[this.t-N-1]|=(this.s&we)<<se),R.t=this.t-N,R.clamp()}},B.prototype.subTo=function(T,R){for(var N=0,G=0,se=Math.min(T.t,this.t);N<se;)G+=this[N]-T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G-=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G-=T[N],R[N++]=G&this.DM,G>>=this.DB;G-=T.s}R.s=G<0?-1:0,G<-1?R[N++]=this.DV+G:G>0&&(R[N++]=G),R.t=N,R.clamp()},B.prototype.multiplyTo=function(T,R){var N=this.abs(),G=T.abs(),se=N.t;for(R.t=se+G.t;--se>=0;)R[se]=0;for(se=0;se<G.t;++se)R[se+N.t]=N.am(0,G[se],R,se,0,N.t);R.s=0,R.clamp(),this.s!=T.s&&B.ZERO.subTo(R,R)},B.prototype.squareTo=function(T){for(var R=this.abs(),N=T.t=2*R.t;--N>=0;)T[N]=0;for(N=0;N<R.t-1;++N){var G=R.am(N,R[N],T,2*N,0,1);(T[N+R.t]+=R.am(N+1,2*R[N],T,2*N+1,G,R.t-N-1))>=R.DV&&(T[N+R.t]-=R.DV,T[N+R.t+1]=1)}T.t>0&&(T[T.t-1]+=R.am(N,R[N],T,2*N,0,1)),T.s=0,T.clamp()},B.prototype.divRemTo=function(T,R,N){var G=T.abs();if(!(G.t<=0)){var se=this.abs();if(se.t<G.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=Z());var we=Z(),Le=this.s,xe=T.s,Pe=this.DB-fe(G[G.t-1]);Pe>0?(G.lShiftTo(Pe,we),se.lShiftTo(Pe,N)):(G.copyTo(we),se.copyTo(N));var Me=we.t,$e=we[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?we[Me-2]>>this.F2:0),Ye=this.FV/ze,ot=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,be=ut-Me,De=R??Z();for(we.dlShiftTo(be,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),B.ONE.dlShiftTo(Me,De),De.subTo(we,we);we.t<Me;)we[we.t++]=0;for(;--be>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Ye+(N[ut-1]+dt)*ot);if((N[ut]+=we.am(0,Ue,N,be,0,Me))<Ue)for(we.dlShiftTo(be,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(Me,R),Le!=xe&&B.ZERO.subTo(R,R)),N.t=Me,N.clamp(),Pe>0&&N.rShiftTo(Pe,N),Le<0&&B.ZERO.subTo(N,N)}}},B.prototype.invDigit=function(){if(this.t<1)return 0;var T=this[0];if(!(1&T))return 0;var R=3&T;return(R=(R=(R=(R=R*(2-(15&T)*R)&15)*(2-(255&T)*R)&255)*(2-((65535&T)*R&65535))&65535)*(2-T*R%this.DV)%this.DV)>0?this.DV-R:-R},B.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},B.prototype.exp=function(T,R){if(T>4294967295||T<1)return B.ONE;var N=Z(),G=Z(),se=R.convert(this),we=fe(T)-1;for(se.copyTo(N);--we>=0;)if(R.sqrTo(N,G),(T&1<<we)>0)R.mulTo(G,se,N);else{var Le=N;N=G,G=Le}return R.revert(N)},B.prototype.toString=function(T){if(this.s<0)return"-"+this.negate().toString(T);var R;if(T==16)R=4;else if(T==8)R=3;else if(T==2)R=1;else if(T==32)R=5;else{if(T!=4)return this.toRadix(T);R=2}var N,G=(1<<R)-1,se=!1,we="",Le=this.t,xe=this.DB-Le*this.DB%R;if(Le-- >0)for(xe<this.DB&&(N=this[Le]>>xe)>0&&(se=!0,we=ge(N));Le>=0;)xe<R?(N=(this[Le]&(1<<xe)-1)<<R-xe,N|=this[--Le]>>(xe+=this.DB-R)):(N=this[Le]>>(xe-=R)&G,xe<=0&&(xe+=this.DB,--Le)),N>0&&(se=!0),se&&(we+=ge(N));return se?we:"0"},B.prototype.negate=function(){var T=Z();return B.ZERO.subTo(this,T),T},B.prototype.abs=function(){return this.s<0?this.negate():this},B.prototype.compareTo=function(T){var R=this.s-T.s;if(R!=0)return R;var N=this.t;if((R=N-T.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-T[N])!=0)return R;return 0},B.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+fe(this[this.t-1]^this.s&this.DM)},B.prototype.mod=function(T){var R=Z();return this.abs().divRemTo(T,null,R),this.s<0&&R.compareTo(B.ZERO)>0&&T.subTo(R,R),R},B.prototype.modPowInt=function(T,R){var N;return N=T<256||R.isEven()?new Ie(R):new k(R),this.exp(T,N)},B.ZERO=de(0),B.ONE=de(1),Je.prototype.convert=Re,Je.prototype.revert=Re,Je.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N)},Je.prototype.sqrTo=function(T,R){T.squareTo(R)},Fe.prototype.convert=function(T){if(T.s<0||T.t>2*this.m.t)return T.mod(this.m);if(T.compareTo(this.m)<0)return T;var R=Z();return T.copyTo(R),this.reduce(R),R},Fe.prototype.revert=function(T){return T},Fe.prototype.reduce=function(T){for(T.drShiftTo(this.m.t-1,this.r2),T.t>this.m.t+1&&(T.t=this.m.t+1,T.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);T.compareTo(this.r2)<0;)T.dAddOffset(1,this.m.t+1);for(T.subTo(this.r2,T);T.compareTo(this.m)>=0;)T.subTo(this.m,T)},Fe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Fe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)};var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],oe=(1<<26)/Xe[Xe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){this.i=0,this.j=0,this.S=new Array}B.prototype.chunkSize=function(T){return Math.floor(Math.LN2*this.DB/Math.log(T))},B.prototype.toRadix=function(T){if(T==null&&(T=10),this.signum()==0||T<2||T>36)return"0";var R=this.chunkSize(T),N=Math.pow(T,R),G=de(N),se=Z(),we=Z(),Le="";for(this.divRemTo(G,se,we);se.signum()>0;)Le=(N+we.intValue()).toString(T).substr(1)+Le,se.divRemTo(G,se,we);return we.intValue().toString(T)+Le},B.prototype.fromRadix=function(T,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),G=Math.pow(R,N),se=!1,we=0,Le=0,xe=0;xe<T.length;++xe){var Pe=_e(T,xe);Pe<0?T.charAt(xe)=="-"&&this.signum()==0&&(se=!0):(Le=R*Le+Pe,++we>=N&&(this.dMultiply(G),this.dAddOffset(Le,0),we=0,Le=0))}we>0&&(this.dMultiply(Math.pow(R,we)),this.dAddOffset(Le,0)),se&&B.ZERO.subTo(this,this)},B.prototype.fromNumber=function(T,R,N){if(typeof R=="number")if(T<2)this.fromInt(1);else for(this.fromNumber(T,N),this.testBit(T-1)||this.bitwiseTo(B.ONE.shiftLeft(T-1),me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>T&&this.subTo(B.ONE.shiftLeft(T-1),this);else{var G=new Array,se=7&T;G.length=1+(T>>3),R.nextBytes(G),se>0?G[0]&=(1<<se)-1:G[0]=0,this.fromString(G,256)}},B.prototype.bitwiseTo=function(T,R,N){var G,se,we=Math.min(T.t,this.t);for(G=0;G<we;++G)N[G]=R(this[G],T[G]);if(T.t<this.t){for(se=T.s&this.DM,G=we;G<this.t;++G)N[G]=R(this[G],se);N.t=this.t}else{for(se=this.s&this.DM,G=we;G<T.t;++G)N[G]=R(se,T[G]);N.t=T.t}N.s=R(this.s,T.s),N.clamp()},B.prototype.changeBit=function(T,R){var N=B.ONE.shiftLeft(T);return this.bitwiseTo(N,R,N),N},B.prototype.addTo=function(T,R){for(var N=0,G=0,se=Math.min(T.t,this.t);N<se;)G+=this[N]+T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G+=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G+=T[N],R[N++]=G&this.DM,G>>=this.DB;G+=T.s}R.s=G<0?-1:0,G>0?R[N++]=G:G<-1&&(R[N++]=this.DV+G),R.t=N,R.clamp()},B.prototype.dMultiply=function(T){this[this.t]=this.am(0,T-1,this,0,0,this.t),++this.t,this.clamp()},B.prototype.dAddOffset=function(T,R){if(T!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=T;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},B.prototype.multiplyLowerTo=function(T,R,N){var G,se=Math.min(this.t+T.t,R);for(N.s=0,N.t=se;se>0;)N[--se]=0;for(G=N.t-this.t;se<G;++se)N[se+this.t]=this.am(0,T[se],N,se,0,this.t);for(G=Math.min(T.t,R);se<G;++se)this.am(0,T[se],N,se,0,R-se);N.clamp()},B.prototype.multiplyUpperTo=function(T,R,N){--R;var G=N.t=this.t+T.t-R;for(N.s=0;--G>=0;)N[G]=0;for(G=Math.max(R-this.t,0);G<T.t;++G)N[this.t+G-R]=this.am(R-G,T[G],N,0,0,this.t+G-R);N.clamp(),N.drShiftTo(1,N)},B.prototype.modInt=function(T){if(T<=0)return 0;var R=this.DV%T,N=this.s<0?T-1:0;if(this.t>0)if(R==0)N=this[0]%T;else for(var G=this.t-1;G>=0;--G)N=(R*N+this[G])%T;return N},B.prototype.millerRabin=function(T){var R=this.subtract(B.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var G=R.shiftRight(N);(T=T+1>>1)>Xe.length&&(T=Xe.length);for(var se=Z(),we=0;we<T;++we){se.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var Le=se.modPow(G,this);if(Le.compareTo(B.ONE)!=0&&Le.compareTo(R)!=0){for(var xe=1;xe++<N&&Le.compareTo(R)!=0;)if((Le=Le.modPowInt(2,this)).compareTo(B.ONE)==0)return!1;if(Le.compareTo(R)!=0)return!1}}return!0},B.prototype.clone=function(){var T=Z();return this.copyTo(T),T},B.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},B.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},B.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},B.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},B.prototype.toByteArray=function(){var T=this.t,R=new Array;R[0]=this.s;var N,G=this.DB-T*this.DB%8,se=0;if(T-- >0)for(G<this.DB&&(N=this[T]>>G)!=(this.s&this.DM)>>G&&(R[se++]=N|this.s<<this.DB-G);T>=0;)G<8?(N=(this[T]&(1<<G)-1)<<8-G,N|=this[--T]>>(G+=this.DB-8)):(N=this[T]>>(G-=8)&255,G<=0&&(G+=this.DB,--T)),128&N&&(N|=-256),se==0&&(128&this.s)!=(128&N)&&++se,(se>0||N!=this.s)&&(R[se++]=N);return R},B.prototype.equals=function(T){return this.compareTo(T)==0},B.prototype.min=function(T){return this.compareTo(T)<0?this:T},B.prototype.max=function(T){return this.compareTo(T)>0?this:T},B.prototype.and=function(T){var R=Z();return this.bitwiseTo(T,ie,R),R},B.prototype.or=function(T){var R=Z();return this.bitwiseTo(T,me,R),R},B.prototype.xor=function(T){var R=Z();return this.bitwiseTo(T,H,R),R},B.prototype.andNot=function(T){var R=Z();return this.bitwiseTo(T,J,R),R},B.prototype.not=function(){for(var T=Z(),R=0;R<this.t;++R)T[R]=this.DM&~this[R];return T.t=this.t,T.s=~this.s,T},B.prototype.shiftLeft=function(T){var R=Z();return T<0?this.rShiftTo(-T,R):this.lShiftTo(T,R),R},B.prototype.shiftRight=function(T){var R=Z();return T<0?this.lShiftTo(-T,R):this.rShiftTo(T,R),R},B.prototype.getLowestSetBit=function(){for(var T=0;T<this.t;++T)if(this[T]!=0)return T*this.DB+pe(this[T]);return this.s<0?this.t*this.DB:-1},B.prototype.bitCount=function(){for(var T=0,R=this.s&this.DM,N=0;N<this.t;++N)T+=Ae(this[N]^R);return T},B.prototype.testBit=function(T){var R=Math.floor(T/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<T%this.DB)!=0},B.prototype.setBit=function(T){return this.changeBit(T,me)},B.prototype.clearBit=function(T){return this.changeBit(T,J)},B.prototype.flipBit=function(T){return this.changeBit(T,H)},B.prototype.add=function(T){var R=Z();return this.addTo(T,R),R},B.prototype.subtract=function(T){var R=Z();return this.subTo(T,R),R},B.prototype.multiply=function(T){var R=Z();return this.multiplyTo(T,R),R},B.prototype.divide=function(T){var R=Z();return this.divRemTo(T,R,null),R},B.prototype.remainder=function(T){var R=Z();return this.divRemTo(T,null,R),R},B.prototype.divideAndRemainder=function(T){var R=Z(),N=Z();return this.divRemTo(T,R,N),new Array(R,N)},B.prototype.modPow=function(T,R){var N,G,se=T.bitLength(),we=de(1);if(se<=0)return we;N=se<18?1:se<48?3:se<144?4:se<768?5:6,G=se<8?new Ie(R):R.isEven()?new Fe(R):new k(R);var Le=new Array,xe=3,Pe=N-1,Me=(1<<N)-1;if(Le[1]=G.convert(this),N>1){var $e=Z();for(G.sqrTo(Le[1],$e);xe<=Me;)Le[xe]=Z(),G.mulTo($e,Le[xe-2],Le[xe]),xe+=2}var ze,Ye,ot=T.t-1,dt=!0,ut=Z();for(se=fe(T[ot])-1;ot>=0;){for(se>=Pe?ze=T[ot]>>se-Pe&Me:(ze=(T[ot]&(1<<se+1)-1)<<Pe-se,ot>0&&(ze|=T[ot-1]>>this.DB+se-Pe)),xe=N;!(1&ze);)ze>>=1,--xe;if((se-=xe)<0&&(se+=this.DB,--ot),dt)Le[ze].copyTo(we),dt=!1;else{for(;xe>1;)G.sqrTo(we,ut),G.sqrTo(ut,we),xe-=2;xe>0?G.sqrTo(we,ut):(Ye=we,we=ut,ut=Ye),G.mulTo(ut,Le[ze],we)}for(;ot>=0&&!(T[ot]&1<<se);)G.sqrTo(we,ut),Ye=we,we=ut,ut=Ye,--se<0&&(se=this.DB-1,--ot)}return G.revert(we)},B.prototype.modInverse=function(T){var R=T.isEven();if(this.isEven()&&R||T.signum()==0)return B.ZERO;for(var N=T.clone(),G=this.clone(),se=de(1),we=de(0),Le=de(0),xe=de(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(se.isEven()&&we.isEven()||(se.addTo(this,se),we.subTo(T,we)),se.rShiftTo(1,se)):we.isEven()||we.subTo(T,we),we.rShiftTo(1,we);for(;G.isEven();)G.rShiftTo(1,G),R?(Le.isEven()&&xe.isEven()||(Le.addTo(this,Le),xe.subTo(T,xe)),Le.rShiftTo(1,Le)):xe.isEven()||xe.subTo(T,xe),xe.rShiftTo(1,xe);N.compareTo(G)>=0?(N.subTo(G,N),R&&se.subTo(Le,se),we.subTo(xe,we)):(G.subTo(N,G),R&&Le.subTo(se,Le),xe.subTo(we,xe))}return G.compareTo(B.ONE)!=0?B.ZERO:xe.compareTo(T)>=0?xe.subtract(T):xe.signum()<0?(xe.addTo(T,xe),xe.signum()<0?xe.add(T):xe):xe},B.prototype.pow=function(T){return this.exp(T,new Je)},B.prototype.gcd=function(T){var R=this.s<0?this.negate():this.clone(),N=T.s<0?T.negate():T.clone();if(R.compareTo(N)<0){var G=R;R=N,N=G}var se=R.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return R;for(se<we&&(we=se),we>0&&(R.rShiftTo(we,R),N.rShiftTo(we,N));R.signum()>0;)(se=R.getLowestSetBit())>0&&R.rShiftTo(se,R),(se=N.getLowestSetBit())>0&&N.rShiftTo(se,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},B.prototype.isProbablePrime=function(T){var R,N=this.abs();if(N.t==1&&N[0]<=Xe[Xe.length-1]){for(R=0;R<Xe.length;++R)if(N[0]==Xe[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Xe.length;){for(var G=Xe[R],se=R+1;se<Xe.length&&G<oe;)G*=Xe[se++];for(G=N.modInt(G);R<se;)if(G%Xe[R++]==0)return!1}return N.millerRabin(T)},B.prototype.square=function(){var T=Z();return this.squareTo(T),T},z.prototype.init=function(T){var R,N,G;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+T[R%T.length]&255,G=this.S[R],this.S[R]=this.S[N],this.S[N]=G;this.i=0,this.j=0},z.prototype.next=function(){var T;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,T=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=T,this.S[T+this.S[this.i]&255]};var $,ae,W;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(T){ae[W++]^=255&T,ae[W++]^=T>>8&255,ae[W++]^=T>>16&255,ae[W++]^=T>>24&255,W>=256&&(W-=256)})(new Date().getTime())}if(ae==null){var ye;if(ae=new Array,W=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var He=A.crypto||A.msCrypto;if(He.getRandomValues){var Te=new Uint8Array(32);for(He.getRandomValues(Te),ye=0;ye<32;++ye)ae[W++]=Te[ye]}else if(E.appName=="Netscape"&&E.appVersion<"5"){var Ne=A.crypto.random(32);for(ye=0;ye<Ne.length;++ye)ae[W++]=255&Ne.charCodeAt(ye)}}for(;W<256;)ye=Math.floor(65536*Math.random()),ae[W++]=ye>>>8,ae[W++]=255&ye;W=0,he()}function tt(){if($==null){for(he(),($=function(){return new z}()).init(ae),W=0;W<ae.length;++W)ae[W]=0;W=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(C,T){return new B(C,T)}function Bt(C,T,R){for(var N="",G=0;N.length<T;)N+=R(String.fromCharCode.apply(String,C.concat([(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G]))),G+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(C,T){this.x=T,this.q=C}function X(C,T,R,N){this.curve=C,this.x=T,this.y=R,this.z=N??B.ONE,this.zinv=null}function q(C,T,R){this.q=C,this.a=this.fromBigInteger(T),this.b=this.fromBigInteger(R),this.infinity=new X(this,null,null)}nt.prototype.nextBytes=function(T){var R;for(R=0;R<T.length;++R)T[R]=tt()},Se.prototype.doPublic=function(T){return T.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(T,R){if(this.isPublic=!0,this.isPrivate=!1,typeof T!="string")this.n=T,this.e=R;else{if(!(T!=null&&R!=null&&T.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(T,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(T){var R=function(we,Le){if(Le<we.length+11)throw"Message too long for RSA";for(var xe=new Array,Pe=we.length-1;Pe>=0&&Le>0;){var Me=we.charCodeAt(Pe--);Me<128?xe[--Le]=Me:Me>127&&Me<2048?(xe[--Le]=63&Me|128,xe[--Le]=Me>>6|192):(xe[--Le]=63&Me|128,xe[--Le]=Me>>6&63|128,xe[--Le]=Me>>12|224)}xe[--Le]=0;for(var $e=new nt,ze=new Array;Le>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Le]=ze[0]}return xe[--Le]=2,xe[--Le]=0,new B(xe)}(T,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var G=N.toString(16);return 1&G.length?"0"+G:G},Se.prototype.encryptOAEP=function(T,R,N){var G=function(xe,Pe,Me,$e){var ze=V.crypto.MessageDigest,Ye=V.crypto.Util,ot=null;if(Me||(Me="sha1"),typeof Me=="string"&&(ot=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(ot),Me=function(Tt){return un(Ye.hashHex(In(Tt),ot))}),xe.length+2*$e+2>Pe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Pe-xe.length-2*$e-2;dt+=1)ut+="\0";var be=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Ue=Bt(De,be.length,Me),Ke=[];for(dt=0;dt<be.length;dt+=1)Ke[dt]=be.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=Bt(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new B(mt.concat(Ke))}(T,this.n.bitLength()+7>>3,R,N);if(G==null)return null;var se=this.doPublic(G);if(se==null)return null;var we=se.toString(16);return 1&we.length?"0"+we:we},Se.prototype.type="RSA",Be.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.x.equals(T.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(T){return new Be(this.q,this.x.add(T.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(T){return new Be(this.q,this.x.subtract(T.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger().modInverse(this.q)).mod(this.q))},X.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.equals=function(T){return T==this||(this.isInfinity()?T.isInfinity():T.isInfinity()?this.isInfinity():!!T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(B.ZERO)&&T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(B.ZERO))},X.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(B.ZERO)&&!this.y.toBigInteger().equals(B.ZERO)},X.prototype.negate=function(){return new X(this.curve,this.x,this.y.negate(),this.z)},X.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;var R=T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q),N=T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q);if(B.ZERO.equals(N))return B.ZERO.equals(R)?this.twice():this.curve.getInfinity();var G=new B("3"),se=this.x.toBigInteger(),we=this.y.toBigInteger(),Le=(T.x.toBigInteger(),T.y.toBigInteger(),N.square()),xe=Le.multiply(N),Pe=se.multiply(Le),Me=R.square().multiply(this.z),$e=Me.subtract(Pe.shiftLeft(1)).multiply(T.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Pe.multiply(G).multiply(R).subtract(we.multiply(xe)).subtract(Me.multiply(R)).multiply(T.z).add(R.multiply(xe)).mod(this.curve.q),Ye=xe.multiply(this.z).multiply(T.z).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Ye)},X.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=new B("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),G=N.multiply(this.z),se=G.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Le=R.square().multiply(T);B.ZERO.equals(we)||(Le=Le.add(this.z.square().multiply(we)));var xe=(Le=Le.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(se)).shiftLeft(1).multiply(G).mod(this.curve.q),Pe=Le.multiply(T).multiply(R).subtract(se.shiftLeft(1)).shiftLeft(2).multiply(se).subtract(Le.square().multiply(Le)).mod(this.curve.q),Me=G.square().multiply(G).shiftLeft(3).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Pe),Me)},X.prototype.multiply=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var R,N=T,G=N.multiply(new B("3")),se=this.negate(),we=this,Le=this.curve.q.subtract(T),xe=Le.multiply(new B("3")),Pe=new X(this.curve,this.x,this.y),Me=Pe.negate();for(R=G.bitLength()-2;R>0;--R){we=we.twice();var $e=G.testBit(R);$e!=N.testBit(R)&&(we=we.add($e?this:se))}for(R=xe.bitLength()-2;R>0;--R){Pe=Pe.twice();var ze=xe.testBit(R);ze!=Le.testBit(R)&&(Pe=Pe.add(ze?Pe:Me))}return we},X.prototype.multiplyTwo=function(T,R,N){var G;G=T.bitLength()>N.bitLength()?T.bitLength()-1:N.bitLength()-1;for(var se=this.curve.getInfinity(),we=this.add(R);G>=0;)se=se.twice(),T.testBit(G)?se=N.testBit(G)?se.add(we):se.add(this):N.testBit(G)&&(se=se.add(R)),--G;return se},q.prototype.getQ=function(){return this.q},q.prototype.getA=function(){return this.a},q.prototype.getB=function(){return this.b},q.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.a.equals(T.a)&&this.b.equals(T.b)},q.prototype.getInfinity=function(){return this.infinity},q.prototype.fromBigInteger=function(T){return new Be(this.q,T)},q.prototype.decodePointHex=function(T){switch(parseInt(T.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(T.length-2)/2,N=T.substr(2,R),G=T.substr(R+2,R);return new X(this,this.fromBigInteger(new B(N,16)),this.fromBigInteger(new B(G,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},X.prototype.getEncoded=function(C){var T=function(we,Le){var xe=we.toByteArrayUnsigned();if(Le<xe.length)xe=xe.slice(xe.length-Le);else for(;Le>xe.length;)xe.unshift(0);return xe},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),G=T(R,32);return C?N.isEven()?G.unshift(2):G.unshift(3):(G.unshift(4),G=G.concat(T(N,32))),G},X.decodeFrom=function(C,T){T[0];var R=T.length-1,N=T.slice(1,1+R/2),G=T.slice(1+R/2,1+R);N.unshift(0),G.unshift(0);var se=new B(N),we=new B(G);return new X(C,C.fromBigInteger(se),C.fromBigInteger(we))},X.decodeFromHex=function(C,T){T.substr(0,2);var R=T.length-2,N=T.substr(2,R/2),G=T.substr(2+R/2,R/2),se=new B(N,16),we=new B(G,16);return new X(C,C.fromBigInteger(se),C.fromBigInteger(we))},X.prototype.add2D=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;if(this.x.equals(C.x))return this.y.equals(C.y)?this.twice():this.curve.getInfinity();var T=C.x.subtract(this.x),R=C.y.subtract(this.y).divide(T),N=R.square().subtract(this.x).subtract(C.x),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new X(this.curve,N,G)},X.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=this.curve.fromBigInteger(B.valueOf(2)),T=this.curve.fromBigInteger(B.valueOf(3)),R=this.x.square().multiply(T).add(this.curve.a).divide(this.y.multiply(C)),N=R.square().subtract(this.x.multiply(C)),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new X(this.curve,N,G)},X.prototype.multiply2D=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var T,R=C,N=R.multiply(new B("3")),G=this.negate(),se=this;for(T=N.bitLength()-2;T>0;--T){se=se.twice();var we=N.testBit(T);we!=R.testBit(T)&&(se=se.add2D(we?this:G))}return se},X.prototype.isOnCurve=function(){var C=this.getX().toBigInteger(),T=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),G=this.curve.getQ(),se=T.multiply(T).mod(G),we=C.multiply(C).multiply(C).add(R.multiply(C)).add(N).mod(G);return se.equals(we)},X.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},X.prototype.validate=function(){var C=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var T=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(T.compareTo(B.ONE)<0||T.compareTo(C.subtract(B.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(B.ONE)<0||R.compareTo(C.subtract(B.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(C).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var K=function(){var C=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),T=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Le,xe){return Le?R[Le]:String.fromCharCode(parseInt(xe,16))}var G=new String(""),se=Object.hasOwnProperty;return function(we,Le){var xe,Pe,Me=we.match(C),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Ye=[xe],ot=1-ze,dt=Me.length;ot<dt;++ot){var ut;switch(($e=Me[ot]).charCodeAt(0)){default:(ut=Ye[0])[Pe||ut.length]=+$e,Pe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(T,N)),ut=Ye[0],!Pe){if(!(ut instanceof Array)){Pe=$e||G;break}Pe=ut.length}ut[Pe]=$e,Pe=void 0;break;case 91:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]=[]),Pe=void 0;break;case 93:Ye.shift();break;case 102:(ut=Ye[0])[Pe||ut.length]=!1,Pe=void 0;break;case 110:(ut=Ye[0])[Pe||ut.length]=null,Pe=void 0;break;case 116:(ut=Ye[0])[Pe||ut.length]=!0,Pe=void 0;break;case 123:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]={}),Pe=void 0;break;case 125:Ye.shift()}}if(ze){if(Ye.length!==1)throw new Error;xe=xe[0]}else if(Ye.length)throw new Error;return Le&&(xe=function be(De,Ue){var Ke=De[Ue];if(Ke&&(Ke===void 0?"undefined":x(Ke))==="object"){var lt=null;for(var mt in Ke)if(se.call(Ke,mt)&&Ke!==De){var Ft=be(Ke,mt);Ft!==void 0?Ke[mt]=Ft:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ke[lt[Tt]]}return Le.call(De,Ue,Ke)}({"":xe},"")),xe}}();V!==void 0&&V||(r.KJUR=V={}),V.asn1!==void 0&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(C){var T=C.toString(16);return T.length%2==1&&(T="0"+T),T},this.bigIntToMinTwosComplementsHex=function(C){var T=C.toString(16);if(T.substr(0,1)!="-")T.length%2==1?T="0"+T:T.match(/^[0-7]/)||(T="00"+T);else{var R=T.substr(1).length;R%2==1?R+=1:T.match(/^[0-7]/)||(R+=2);for(var N="",G=0;G<R;G++)N+="f";T=new B(N,16).xor(C).add(B.ONE).toString(16).replace(/^-/,"")}return T},this.getPEMStringFromHex=function(C,T){return wt(C,T)},this.newObject=function(C){var T=V.asn1,R=T.ASN1Object,N=T.DERBoolean,G=T.DERInteger,se=T.DERBitString,we=T.DEROctetString,Le=T.DERNull,xe=T.DERObjectIdentifier,Pe=T.DEREnumerated,Me=T.DERUTF8String,$e=T.DERNumericString,ze=T.DERPrintableString,Ye=T.DERTeletexString,ot=T.DERIA5String,dt=T.DERUTCTime,ut=T.DERGeneralizedTime,be=T.DERVisibleString,De=T.DERBMPString,Ue=T.DERSequence,Ke=T.DERSet,lt=T.DERTaggedObject,mt=T.ASN1Util.newObject;if(C instanceof T.ASN1Object)return C;var Ft=Object.keys(C);if(Ft.length!=1)throw new Error("key of param shall be only one.");var Tt=Ft[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(C[Tt]);if(Tt=="int")return new G(C[Tt]);if(Tt=="bitstr")return new se(C[Tt]);if(Tt=="octstr")return new we(C[Tt]);if(Tt=="null")return new Le(C[Tt]);if(Tt=="oid")return new xe(C[Tt]);if(Tt=="enum")return new Pe(C[Tt]);if(Tt=="utf8str")return new Me(C[Tt]);if(Tt=="numstr")return new $e(C[Tt]);if(Tt=="prnstr")return new ze(C[Tt]);if(Tt=="telstr")return new Ye(C[Tt]);if(Tt=="ia5str")return new ot(C[Tt]);if(Tt=="utctime")return new dt(C[Tt]);if(Tt=="gentime")return new ut(C[Tt]);if(Tt=="visstr")return new be(C[Tt]);if(Tt=="bmpstr")return new De(C[Tt]);if(Tt=="asn1")return new R(C[Tt]);if(Tt=="seq"){for(var pn=C[Tt],kt=[],Ht=0;Ht<pn.length;Ht++){var qn=mt(pn[Ht]);kt.push(qn)}return new Ue({array:kt})}if(Tt=="set"){for(pn=C[Tt],kt=[],Ht=0;Ht<pn.length;Ht++)qn=mt(pn[Ht]),kt.push(qn);return new Ke({array:kt})}if(Tt=="tag"){var kn=C[Tt];if(Object.prototype.toString.call(kn)==="[object Array]"&&kn.length==3){var $n=mt(kn[2]);return new lt({tag:kn[0],explicit:kn[1],obj:$n})}return new lt(kn)}},this.jsonToASN1HEX=function(C){return this.newObject(C).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(C){for(var T="",R=parseInt(C.substr(0,2),16),N=(T=Math.floor(R/40)+"."+R%40,""),G=2;G<C.length;G+=2){var se=("00000000"+parseInt(C.substr(G,2),16).toString(2)).slice(-8);N+=se.substr(1,7),se.substr(0,1)=="0"&&(T=T+"."+new B(N,2).toString(10),N="")}return T},V.asn1.ASN1Util.oidIntToHex=function(C){var T=function(xe){var Pe=xe.toString(16);return Pe.length==1&&(Pe="0"+Pe),Pe},R=function(xe){var Pe="",Me=new B(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Ye=0;Ye<$e;Ye++)ze+="0";for(Me=ze+Me,Ye=0;Ye<Me.length-1;Ye+=7){var ot=Me.substr(Ye,7);Ye!=Me.length-7&&(ot="1"+ot),Pe+=T(parseInt(ot,2))}return Pe};if(!C.match(/^[0-9.]+$/))throw"malformed oid string: "+C;var N="",G=C.split("."),se=40*parseInt(G[0])+parseInt(G[1]);N+=T(se),G.splice(0,2);for(var we=0;we<G.length;we++)N+=R(G[we]);return N},V.asn1.ASN1Object=function(C){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var T=this.hV.length/2,R=T.toString(16);if(R.length%2==1&&(R="0"+R),T<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+T.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(T){this.params=T},C!=null&&C.tlv!=null&&(this.hTLV=C.tlv,this.isModified=!1)},V.asn1.DERAbstractString=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=pr(this.s).toLowerCase()},this.setStringHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"?this.setString(C):C.str!==void 0?this.setString(C.str):C.hex!==void 0&&this.setStringHex(C.hex))},zt(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(C){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(T){var R=T.getTime()+6e4*T.getTimezoneOffset();return new Date(R)},this.formatDate=function(T,R,N){var G=this.zeroPadding,se=this.localDateToUTC(T),we=String(se.getFullYear());R=="utc"&&(we=we.substr(2,2));var Le=we+G(String(se.getMonth()+1),2)+G(String(se.getDate()),2)+G(String(se.getHours()),2)+G(String(se.getMinutes()),2)+G(String(se.getSeconds()),2);if(N===!0){var xe=se.getMilliseconds();if(xe!=0){var Pe=G(String(xe),3);Le=Le+"."+(Pe=Pe.replace(/[0]+$/,""))}}return Le+"Z"},this.zeroPadding=function(T,R){return T.length>=R?T:new Array(R-T.length+1).join("0")+T},this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=Rt(T)},this.setByDateValue=function(T,R,N,G,se,we){var Le=new Date(Date.UTC(T,R-1,N,G,se,we,0));this.setByDate(Le)},this.getFreshValueHex=function(){return this.hV}},zt(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array=T},this.appendASN1Object=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array.push(T)},this.asn1Array=new Array,C!==void 0&&C.array!==void 0&&(this.asn1Array=C.array)},zt(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(C){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=C==0?"010100":"0101ff"},zt(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(C){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new B(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.bigint!==void 0?this.setByBigInteger(C.bigint):C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},zt(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex="00"+T.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var G="0"+R;this.hTLV=null,this.isModified=!0,this.hV=G+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var G=0;G<=N;G++)R+="0";var se="";for(G=0;G<R.length-1;G+=8){var we=R.substr(G,8),Le=parseInt(we,2).toString(16);Le.length==1&&(Le="0"+Le),se+=Le}this.hTLV=null,this.isModified=!0,this.hV="0"+N+se},this.setByBooleanArray=function(R){for(var N="",G=0;G<R.length;G++)R[G]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),G=0;G<R;G++)N[G]=!1;return N},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"&&C.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(C):C.hex!==void 0?this.setHexValueIncludingUnusedBits(C.hex):C.bin!==void 0?this.setByBinaryString(C.bin):C.array!==void 0&&this.setByBooleanArray(C.array))},zt(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex=T.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,C),this.hT="04"},zt(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},zt(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(C){V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.setValueOidString=function(T){var R=function(G){var se=function(ze){var Ye=ze.toString(16);return Ye.length==1&&(Ye="0"+Ye),Ye},we=function(ze){var Ye="",ot=parseInt(ze,10).toString(2),dt=7-ot.length%7;dt==7&&(dt=0);for(var ut="",be=0;be<dt;be++)ut+="0";for(ot=ut+ot,be=0;be<ot.length-1;be+=7){var De=ot.substr(be,7);be!=ot.length-7&&(De="1"+De),Ye+=se(parseInt(De,2))}return Ye};try{if(!G.match(/^[0-9.]+$/))return null;var Le="",xe=G.split("."),Pe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Le+=se(Pe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Le+=we(xe[Me]);return Le}catch{return null}}(T);if(R==null)throw new Error("malformed oid string: "+T);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(T){var R=V.asn1.x509.OID.name2oid(T);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+T);this.setValueOidString(R)},this.setValueNameOrOid=function(T){T.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(T):this.setValueName(T)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(T){typeof T=="string"?this.setValueNameOrOid(T):T.oid!==void 0?this.setValueNameOrOid(T.oid):T.name!==void 0?this.setValueNameOrOid(T.name):T.hex!==void 0&&this.setValueHex(T.hex)},C!==void 0&&this.setByParam(C)},zt(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(C){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new B(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},zt(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(C){V.asn1.DERUTF8String.superclass.constructor.call(this,C),this.hT="0c"},zt(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(C){V.asn1.DERNumericString.superclass.constructor.call(this,C),this.hT="12"},zt(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(C){V.asn1.DERPrintableString.superclass.constructor.call(this,C),this.hT="13"},zt(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(C){V.asn1.DERTeletexString.superclass.constructor.call(this,C),this.hT="14"},zt(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="16"},zt(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERVisibleString=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="1a"},zt(V.asn1.DERVisibleString,V.asn1.DERAbstractString),V.asn1.DERBMPString=function(C){V.asn1.DERBMPString.superclass.constructor.call(this,C),this.hT="1e"},zt(V.asn1.DERBMPString,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(C){V.asn1.DERUTCTime.superclass.constructor.call(this,C),this.hT="17",this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{12}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date))},zt(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(C){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,C),this.hT="18",this.withMillis=!1,this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{14}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date),C.millis===!0&&(this.withMillis=!0))},zt(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(C){V.asn1.DERSequence.superclass.constructor.call(this,C),this.hT="30",this.getFreshValueHex=function(){for(var T="",R=0;R<this.asn1Array.length;R++)T+=this.asn1Array[R].getEncodedHex();return this.hV=T,this.hV}},zt(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(C){V.asn1.DERSet.superclass.constructor.call(this,C),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var T=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];T.push(N.getEncodedHex())}return this.sortFlag==1&&T.sort(),this.hV=T.join(""),this.hV},C!==void 0&&C.sortflag!==void 0&&C.sortflag==0&&(this.sortFlag=!1)},zt(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(C){V.asn1.DERTaggedObject.superclass.constructor.call(this);var T=V.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,G){this.hT=N,this.isExplicit=R,this.asn1Object=G,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=G.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof T.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):x(R.obj)=="object"&&(this.asn1Object=T.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},C!=null&&this.setByParam(C)},zt(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,je,Ze,ke=new function(){};function At(C){for(var T=new Array,R=0;R<C.length;R++)T[R]=C.charCodeAt(R);return T}function Ot(C){for(var T="",R=0;R<C.length;R++)T+=String.fromCharCode(C[R]);return T}function Dt(C){for(var T="",R=0;R<C.length;R++){var N=C[R].toString(16);N.length==1&&(N="0"+N),T+=N}return T}function Rt(C){return Dt(At(C))}function qt(C){return C=(C=(C=C.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Tr(C){return C.length%4==2?C+="==":C.length%4==3&&(C+="="),C=(C=C.replace(/-/g,"+")).replace(/_/g,"/")}function fn(C){return C.length%2==1&&(C="0"+C),qt(F(C))}function dn(C){return Q(Tr(C))}function pr(C){return Jn(Et(C))}function sn(C){return decodeURIComponent(We(C))}function un(C){for(var T="",R=0;R<C.length-1;R+=2)T+=String.fromCharCode(parseInt(C.substr(R,2),16));return T}function In(C){for(var T="",R=0;R<C.length;R++)T+=("0"+C.charCodeAt(R).toString(16)).slice(-2);return T}function sr(C){return F(C)}function Oe(C){var T=sr(C).replace(/(.{64})/g,`$1\r
`);return T=T.replace(/\r\n$/,"")}function qe(C){return Q(C.replace(/[^0-9A-Za-z\/+=]*/g,""))}function wt(C,T){return"-----BEGIN "+T+`-----\r
`+Oe(C)+`\r
-----END `+T+`-----\r
`}function xt(C,T){if(C.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+T;return qe(C=T!==void 0?(C=C.replace(new RegExp("^[^]*-----BEGIN "+T+"-----"),"")).replace(new RegExp("-----END "+T+"-----[^]*$"),""):(C=C.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function It(C){var T,R,N,G,se,we,Le,xe,Pe,Me,$e;if($e=C.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],T=parseInt(xe),xe.length===2&&(50<=T&&T<100?T=1900+T:0<=T&&T<50&&(T=2e3+T)),R=parseInt($e[2])-1,N=parseInt($e[3]),G=parseInt($e[4]),se=parseInt($e[5]),we=parseInt($e[6]),Le=0,(Pe=$e[7])!==""&&(Me=(Pe.substr(1)+"00").substr(0,3),Le=parseInt(Me)),Date.UTC(T,R,N,G,se,we,Le);throw"unsupported zulu format: "+C}function zn(C){return~~(It(C)/1e3)}function Jn(C){return C.replace(/%/g,"")}function We(C){return C.replace(/(..)/g,"%$1")}function Ee(C){var T="malformed IPv6 address";if(!C.match(/^[0-9A-Fa-f:]+$/))throw T;var R=(C=C.toLowerCase()).split(":").length-1;if(R<2)throw T;var N=":".repeat(7-R+2),G=(C=C.replace("::",N)).split(":");if(G.length!=8)throw T;for(var se=0;se<8;se++)G[se]=("0000"+G[se]).slice(-4);return G.join("")}function et(C){if(!C.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var T=(C=C.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)T[R]=T[R].replace(/^0+/,""),T[R]==""&&(T[R]="0");var N=(C=":"+T.join(":")+":").match(/:(0:){2,}/g);if(N===null)return C.slice(1,-1);var G="";for(R=0;R<N.length;R++)N[R].length>G.length&&(G=N[R]);return(C=C.replace(G,"::")).slice(1,-1)}function ft(C){var T="malformed hex value";if(!C.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw T;if(C.length!=8)return C.length==32?et(C):C;try{return parseInt(C.substr(0,2),16)+"."+parseInt(C.substr(2,2),16)+"."+parseInt(C.substr(4,2),16)+"."+parseInt(C.substr(6,2),16)}catch{throw T}}function it(C){return C.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),G=parseInt(R.substr(2),16);if(N==0&G<128)return String.fromCharCode(G);if(N<8){var se=128|63&G;return sn((192|(7&N)<<3|(192&G)>>6).toString(16)+se.toString(16))}se=128|(15&N)<<2|(192&G)>>6;var we=128|63&G;return sn((224|(240&N)>>4).toString(16)+se.toString(16)+we.toString(16))}).join("")}function Et(C){for(var T=encodeURIComponent(C),R="",N=0;N<T.length;N++)T[N]=="%"?(R+=T.substr(N,3),N+=2):R=R+"%"+Rt(T[N]);return R}function Lt(C){return!(C.length%2!=0||!C.match(/^[0-9a-f]+$/)&&!C.match(/^[0-9A-F]+$/))}function Kt(C){return C.length%2==1?"0"+C:C.substr(0,1)>"7"?"00"+C:C}ke.getLblen=function(C,T){if(C.substr(T+2,1)!="8")return 1;var R=parseInt(C.substr(T+3,1));return R==0?-1:0<R&&R<10?R+1:-2},ke.getL=function(C,T){var R=ke.getLblen(C,T);return R<1?"":C.substr(T+2,2*R)},ke.getVblen=function(C,T){var R;return(R=ke.getL(C,T))==""?-1:(R.substr(0,1)==="8"?new B(R.substr(2),16):new B(R,16)).intValue()},ke.getVidx=function(C,T){var R=ke.getLblen(C,T);return R<0?R:T+2*(R+1)},ke.getV=function(C,T){var R=ke.getVidx(C,T),N=ke.getVblen(C,T);return C.substr(R,2*N)},ke.getTLV=function(C,T){return C.substr(T,2)+ke.getL(C,T)+ke.getV(C,T)},ke.getTLVblen=function(C,T){return 2+2*ke.getLblen(C,T)+2*ke.getVblen(C,T)},ke.getNextSiblingIdx=function(C,T){return ke.getVidx(C,T)+2*ke.getVblen(C,T)},ke.getChildIdx=function(C,T){var R,N,G,se=ke,we=[];R=se.getVidx(C,T),N=2*se.getVblen(C,T),C.substr(T,2)=="03"&&(R+=2,N-=2),G=0;for(var Le=R;G<=N;){var xe=se.getTLVblen(C,Le);if((G+=xe)<=N&&we.push(Le),Le+=xe,G>=N)break}return we},ke.getNthChildIdx=function(C,T,R){return ke.getChildIdx(C,T)[R]},ke.getIdxbyList=function(C,T,R,N){var G,se,we=ke;return R.length==0?N!==void 0&&C.substr(T,2)!==N?-1:T:(G=R.shift())>=(se=we.getChildIdx(C,T)).length?-1:we.getIdxbyList(C,se[G],R,N)},ke.getIdxbyListEx=function(C,T,R,N){var G,se,we=ke;if(R.length==0)return N!==void 0&&C.substr(T,2)!==N?-1:T;G=R.shift(),se=we.getChildIdx(C,T);for(var Le=0,xe=0;xe<se.length;xe++){var Pe=C.substr(se[xe],2);if(typeof G=="number"&&!we.isContextTag(Pe)&&Le==G||typeof G=="string"&&we.isContextTag(Pe,G))return we.getIdxbyListEx(C,se[xe],R,N);we.isContextTag(Pe)||Le++}return-1},ke.getTLVbyList=function(C,T,R,N){var G=ke,se=G.getIdxbyList(C,T,R,N);return se==-1||se>=C.length?null:G.getTLV(C,se)},ke.getTLVbyListEx=function(C,T,R,N){var G=ke,se=G.getIdxbyListEx(C,T,R,N);return se==-1?null:G.getTLV(C,se)},ke.getVbyList=function(C,T,R,N,G){var se,we,Le=ke;return(se=Le.getIdxbyList(C,T,R,N))==-1||se>=C.length?null:(we=Le.getV(C,se),G===!0&&(we=we.substr(2)),we)},ke.getVbyListEx=function(C,T,R,N,G){var se,we,Le=ke;return(se=Le.getIdxbyListEx(C,T,R,N))==-1?null:(we=Le.getV(C,se),C.substr(se,2)=="03"&&G!==!1&&(we=we.substr(2)),we)},ke.getInt=function(C,T,R){R==null&&(R=-1);try{var N=C.substr(T,2);if(N!="02"&&N!="03")return R;var G=ke.getV(C,T);return N=="02"?parseInt(G,16):function(we){try{var Le=we.substr(0,2);if(Le=="00")return parseInt(we.substr(2),16);var xe=parseInt(Le,16),Pe=we.substr(2),Me=parseInt(Pe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(G)}catch{return R}},ke.getOID=function(C,T,R){R==null&&(R=null);try{return C.substr(T,2)!="06"?R:function(G){if(!Lt(G))return null;try{var se=[],we=G.substr(0,2),Le=parseInt(we,16);se[0]=new String(Math.floor(Le/40)),se[1]=new String(Le%40);for(var xe=G.substr(2),Pe=[],Me=0;Me<xe.length/2;Me++)Pe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Pe.length;Me++)128&Pe[Me]?ze+=Yt((127&Pe[Me]).toString(2),7):(ze+=Yt((127&Pe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Ye=se.join(".");return $e.length>0&&(Ye=Ye+"."+$e.join(".")),Ye}catch{return null}}(ke.getV(C,T))}catch{return R}},ke.getOIDName=function(C,T,R){R==null&&(R=null);try{var N=ke.getOID(C,T,R);if(N==R)return R;var G=V.asn1.x509.OID.oid2name(N);return G==""?N:G}catch{return R}},ke.getString=function(C,T,R){R==null&&(R=null);try{return un(ke.getV(C,T))}catch{return R}},ke.hextooidstr=function(C){var T=function(ze,Ye){return ze.length>=Ye?ze:new Array(Ye-ze.length+1).join("0")+ze},R=[],N=C.substr(0,2),G=parseInt(N,16);R[0]=new String(Math.floor(G/40)),R[1]=new String(G%40);for(var se=C.substr(2),we=[],Le=0;Le<se.length/2;Le++)we.push(parseInt(se.substr(2*Le,2),16));var xe=[],Pe="";for(Le=0;Le<we.length;Le++)128&we[Le]?Pe+=T((127&we[Le]).toString(2),7):(Pe+=T((127&we[Le]).toString(2),7),xe.push(new String(parseInt(Pe,2))),Pe="");var Me=R.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(C,T,R,N){var G=ke,se=G.getV,we=G.dump,Le=G.getChildIdx,xe=C;C instanceof V.asn1.ASN1Object&&(xe=C.getEncodedHex());var Pe=function(Tt,pn){return Tt.length<=2*pn?Tt:Tt.substr(0,pn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-pn,pn)};T===void 0&&(T={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var Me,$e=T.ommit_long_octet;if((Me=xe.substr(R,2))=="01")return(ze=se(xe,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Pe(ze=se(xe,R),$e)+`
`;if(Me=="03"){var ze=se(xe,R);if(G.isASN1HEX(ze.substr(2))){var Ye=N+`BITSTRING, encapsulates
`;return Ye+=we(ze.substr(2),T,0,N+"  ")}return N+"BITSTRING "+Pe(ze,$e)+`
`}if(Me=="04")return ze=se(xe,R),G.isASN1HEX(ze)?(Ye=N+`OCTETSTRING, encapsulates
`,Ye+=we(ze,T,0,N+"  ")):N+"OCTETSTRING "+Pe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var ot=se(xe,R),dt=V.asn1.ASN1Util.oidHexToInt(ot),ut=V.asn1.x509.OID.oid2name(dt),be=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(se(xe,R))+`
`;if(Me=="0c")return N+"UTF8String '"+sn(se(xe,R))+`'
`;if(Me=="13")return N+"PrintableString '"+sn(se(xe,R))+`'
`;if(Me=="14")return N+"TeletexString '"+sn(se(xe,R))+`'
`;if(Me=="16")return N+"IA5String '"+sn(se(xe,R))+`'
`;if(Me=="17")return N+"UTCTime "+sn(se(xe,R))+`
`;if(Me=="18")return N+"GeneralizedTime "+sn(se(xe,R))+`
`;if(Me=="1a")return N+"VisualString '"+sn(se(xe,R))+`'
`;if(Me=="1e")return N+"BMPString '"+it(se(xe,R))+`'
`;if(Me=="30"){if(xe.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Ye=N+`SEQUENCE
`;var De=T;if(((lt=Le(xe,R)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=G.oidname(se(xe,lt[0]));var Ue=JSON.parse(JSON.stringify(T));Ue.x509ExtName=ut,De=Ue}for(var Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,De,lt[Ke],N+"  ");return Ye}if(Me=="31"){Ye=N+`SET
`;var lt=Le(xe,R);for(Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,T,lt[Ke],N+"  ");return Ye}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Ye=N+"["+mt+`]
`,lt=Le(xe,R),Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,T,lt[Ke],N+"  ");return Ye}if(ze=se(xe,R),ke.isASN1HEX(ze)){var Ye=N+"["+mt+`]
`;return Ye+=we(ze,T,0,N+"  ")}return(ze.substr(0,8)=="68747470"||T.x509ExtName==="subjectAltName"&&mt==2)&&(ze=sn(ze)),Ye=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+se(xe,R)+`
`},ke.isContextTag=function(C,T){var R,N;C=C.toLowerCase();try{R=parseInt(C,16)}catch{return-1}if(T===void 0)return(192&R)==128;try{return T.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(T.substr(1,T.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},ke.isASN1HEX=function(C){var T=ke;if(C.length%2==1)return!1;var R=T.getVblen(C,0),N=C.substr(0,2),G=T.getL(C,0);return C.length-N.length-G.length==2*R},ke.checkStrictDER=function(C,T,R,N,G){var se=ke;if(R===void 0){if(typeof C!="string")throw new Error("not hex string");if(C=C.toLowerCase(),!V.lang.String.isHex(C))throw new Error("not hex string");R=C.length,G=(N=C.length/2)<128?1:Math.ceil(N.toString(16))+1}if(se.getL(C,T).length>2*G)throw new Error("L of TLV too long: idx="+T);var we=se.getVblen(C,T);if(we>N)throw new Error("value of L too long than hex: idx="+T);var Le=se.getTLV(C,T),xe=Le.length-2-se.getL(C,T).length;if(xe!==2*we)throw new Error("V string length and L's value not the same:"+xe+"/"+2*we);if(T===0&&C.length!=Le.length)throw new Error("total length and TLV length unmatch:"+C.length+"!="+Le.length);var Pe=C.substr(T,2);if(Pe==="02"){var Me=se.getVidx(C,T);if(C.substr(Me,2)=="00"&&C.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Pe,16)){for(var $e=se.getVblen(C,T),ze=0,Ye=se.getChildIdx(C,T),ot=0;ot<Ye.length;ot++)ze+=se.getTLV(C,Ye[ot]).length,se.checkStrictDER(C,Ye[ot],R,N,G);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(C){var T=V.asn1;V.lang.String.isHex(C)&&(C=T.ASN1Util.oidHexToInt(C));var R=T.x509.OID.oid2name(C);return R===""&&(R=C),R},V!==void 0&&V||(r.KJUR=V={}),V.lang!==void 0&&V.lang||(V.lang={}),V.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(T){return qt(a.from(T,"utf8").toString("base64"))},r.b64utoutf8=Ze=function(T){return a.from(Tr(T),"base64").toString("utf8")}):(r.utf8tob64u=je=function(T){return fn(Jn(Et(T)))},r.b64utoutf8=Ze=function(T){return decodeURIComponent(We(dn(T)))}),V.lang.String.isInteger=function(C){return!!C.match(/^[0-9]+$/)||!!C.match(/^-[0-9]+$/)},V.lang.String.isHex=function(C){return Lt(C)},V.lang.String.isBase64=function(C){return!(!(C=C.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||C.length%4!=0)},V.lang.String.isBase64URL=function(C){return!C.match(/[+/=]/)&&(C=Tr(C),V.lang.String.isBase64(C))},V.lang.String.isIntegerArray=function(C){return!!(C=C.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},V.lang.String.isPrintable=function(C){return C.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},V.lang.String.isIA5=function(C){return C.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},V.lang.String.isMail=function(C){return C.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Yt=function(T,R,N){return N==null&&(N="0"),T.length>=R?T:new Array(R-T.length+1).join(N)+T};function zt(C,T){var R=function(){};R.prototype=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.superclass=T.prototype,T.prototype.constructor==Object.prototype.constructor&&(T.prototype.constructor=T)}V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:I.algo.MD5,sha1:I.algo.SHA1,sha224:I.algo.SHA224,sha256:I.algo.SHA256,sha384:I.algo.SHA384,sha512:I.algo.SHA512,ripemd160:I.algo.RIPEMD160},this.getDigestInfoHex=function(C,T){if(this.DIGESTINFOHEAD[T]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+T;return this.DIGESTINFOHEAD[T]+C},this.getPaddedDigestInfoHex=function(C,T,R){var N=this.getDigestInfoHex(C,T),G=R/4;if(N.length+22>G)throw"key is too short for SigAlg: keylen="+R+","+T;for(var se="0001",we="00"+N,Le="",xe=G-se.length-we.length,Pe=0;Pe<xe;Pe+=2)Le+="ff";return se+Le+we},this.hashString=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestString(C)},this.hashHex=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestHex(C)},this.sha1=function(C){return this.hashString(C,"sha1")},this.sha256=function(C){return this.hashString(C,"sha256")},this.sha256Hex=function(C){return this.hashHex(C,"sha256")},this.sha512=function(C){return this.hashString(C,"sha512")},this.sha512Hex=function(C){return this.hashHex(C,"sha512")},this.isKey=function(C){return C instanceof Se||C instanceof V.crypto.DSA||C instanceof V.crypto.ECDSA}},V.crypto.Util.md5=function(C){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(C)},V.crypto.Util.ripemd160=function(C){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(C)},V.crypto.Util.SECURERANDOMGEN=new nt,V.crypto.Util.getRandomHexOfNbytes=function(C){var T=new Array(C);return V.crypto.Util.SECURERANDOMGEN.nextBytes(T),Dt(T)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(C){return new B(V.crypto.Util.getRandomHexOfNbytes(C),16)},V.crypto.Util.getRandomHexOfNbits=function(C){var T=C%8,R=new Array((C-T)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<T&255^255)&R[0],Dt(R)},V.crypto.Util.getRandomBigIntegerOfNbits=function(C){return new B(V.crypto.Util.getRandomHexOfNbits(C),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(C){for(var T=C.bitLength();;){var R=V.crypto.Util.getRandomBigIntegerOfNbits(T);if(C.compareTo(R)!=-1)return R}},V.crypto.Util.getRandomBigIntegerMinToMax=function(C,T){var R=C.compareTo(T);if(R==1)throw"biMin is greater than biMax";if(R==0)return C;var N=T.subtract(C);return V.crypto.Util.getRandomBigIntegerZeroToMax(N).add(C)},V.crypto.MessageDigest=function(C){this.setAlgAndProvider=function(T,R){if((T=V.crypto.MessageDigest.getCanonicalAlgName(T))!==null&&R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(T)!=-1&&R=="cryptojs"){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[T].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=I.enc.Hex.parse(N);this.md.update(G)},this.digest=function(){return this.md.finalize().toString(I.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(T)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=sjcl.codec.hex.toBits(N);this.md.update(G)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},C!==void 0&&C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(C){return typeof C=="string"&&(C=(C=C.toLowerCase()).replace(/-/,"")),C},V.crypto.MessageDigest.getHashLength=function(C){var T=V.crypto.MessageDigest,R=T.getCanonicalAlgName(C);if(T.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+C;return T.HASHLENGTH[R]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(C){this.setAlgAndProvider=function(T,R){if((T=T.toLowerCase())==null&&(T="hmacsha1"),(T=T.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+T;R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),this.algProv=T+"/"+R;var N=T.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var G=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=I.algo.HMAC.create(G,this.pass)}catch(se){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+se}this.updateString=function(se){this.mac.update(se)},this.updateHex=function(se){var we=I.enc.Hex.parse(se);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(I.enc.Hex)},this.doFinalString=function(se){return this.updateString(se),this.doFinal()},this.doFinalHex=function(se){return this.updateHex(se),this.doFinal()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(T){if(typeof T=="string"){var R=T;return T.length%2!=1&&T.match(/^[0-9A-Fa-f]+$/)||(R=In(T)),void(this.pass=I.enc.Hex.parse(R))}if((T===void 0?"undefined":x(T))!="object")throw"KJUR.crypto.Mac unsupported password type: "+T;if(R=null,T.hex!==void 0){if(T.hex.length%2!=0||!T.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+T.hex;R=T.hex}if(T.utf8!==void 0&&(R=pr(T.utf8)),T.rstr!==void 0&&(R=In(T.rstr)),T.b64!==void 0&&(R=Q(T.b64)),T.b64u!==void 0&&(R=dn(T.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+T;this.pass=I.enc.Hex.parse(R)},C!==void 0&&(C.pass!==void 0&&this.setPassword(C.pass),C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(C){var T=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var G="",se=N/4-R.length,we=0;we<se;we++)G+="0";return G+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(G){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+G)}this.init=function(G,se){var we=null;try{we=se===void 0?Nt.getKey(G):Nt.getKey(G,se)}catch(Le){throw"init failed:"+Le}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(G){this.md.updateString(G)},this.updateHex=function(G){this.md.updateHex(G)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.prvKey=new V.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(G){return this.updateString(G),this.sign()},this.signHex=function(G){return this.updateHex(G),this.sign()},this.verify=function(G){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.pubKey=new V.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,G,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.ECDSA!==void 0&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.DSA!==void 0&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=C,C!==void 0&&(C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=C.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),C.psssaltlen!==void 0&&(this.pssSaltLen=C.psssaltlen),C.prvkeypem!==void 0)){if(C.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{T=Nt.getKey(C.prvkeypem),this.init(T)}catch(R){throw"fatal error to load pem private key: "+R}}},V.crypto.Cipher=function(C){},V.crypto.Cipher.encrypt=function(C,T,R){if(T instanceof Se&&T.isPublic){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.encrypt(C);if(N==="RSAOAEP")return T.encryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.encryptOAEP(C,"sha"+G[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(C,T,R){if(T instanceof Se&&T.isPrivate){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.decrypt(C);if(N==="RSAOAEP")return T.decryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.decryptOAEP(C,"sha"+G[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(C,T){if(C instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(T)!=-1)return T;if(T==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+T}throw"getAlgByKeyAndName: not supported algorithm name: "+T},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(C){var T=Error,R=B,N=X,G=V.crypto.ECDSA,se=V.crypto.ECParameterDB,we=G.getName,Le=ke,xe=Le.getVbyListEx,Pe=Le.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),Me).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=se.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Ye={};return Ye.x=$e.substr(2,ze),Ye.y=$e.substr(2+ze),Ye},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Ye=this.ecparams.G.multiply(ze),ot=Ye.getX().toBigInteger(),dt=Ye.getY().toBigInteger(),ut=this.ecparams.keylen/4,be=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+ot.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(be),this.setPublicKeyHex(De),{ecprvhex:be,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Ye=new R(ze,16),ot=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(R.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Ye.multiply(be))).mod(ot);return G.biRSSigToASN1Sig(be,De)},this.sign=function($e,ze){var Ye=ze,ot=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(B.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Ye.multiply(be))).mod(ot);return this.serializeSig(be,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Ye){try{var ot,dt,ut=G.parseSigHex(ze);ot=ut.r,dt=ut.s;var be=N.decodeFromHex(this.ecparams.curve,Ye),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,ot,dt,be)}catch{return!1}},this.verify=function($e,ze,Ye){var ot,dt,ut;if(Bitcoin.Util.isArray(ze)){var be=this.parseSig(ze);ot=be.r,dt=be.s}else{if((ze===void 0?"undefined":x(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";ot=ze.r,dt=ze.s}if(Ye instanceof X)ut=Ye;else{if(!Bitcoin.Util.isArray(Ye))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Ye)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,ot,dt,ut)},this.verifyRaw=function($e,ze,Ye,ot){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(R.ONE)<0||ze.compareTo(dt)>=0||Ye.compareTo(R.ONE)<0||Ye.compareTo(dt)>=0)return!1;var be=Ye.modInverse(dt),De=$e.multiply(be).mod(dt),Ue=ze.multiply(be).mod(dt);return ut.multiply(De).add(ot.multiply(Ue)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Ye=$e.toByteArraySigned(),ot=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Ye.length),(dt=dt.concat(Ye)).push(2),dt.push(ot.length),(dt=dt.concat(ot)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ye=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ot=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:R.fromByteArrayUnsigned(Ye),s:R.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Ye=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Ye),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Ye),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Pe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Ye,ot;try{ze=xe($e,0,["[0]",0],"06"),Ye=xe($e,0,[1],"04");try{ot=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye,ot;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Ye=xe($e,0,[2,0,1],"04");try{ot=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new T("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Ye=xe($e,0,[1],"03")}catch{throw new T("malformed PKCS#8 ECC public key")}if(this.curveName=we(ze),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ye)},this.readCertPubKeyHex=function($e,ze){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var Ye,ot;try{Ye=xe($e,0,[0,5,0,1],"06"),ot=xe($e,0,[0,5,1],"03")}catch{throw new T("malformed X.509 certificate ECC public key")}if(this.curveName=we(Ye),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},C!==void 0&&C.curve!==void 0&&(this.curveName=C.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),C!==void 0&&(C.prv!==void 0&&this.setPrivateKeyHex(C.prv),C.pub!==void 0&&this.setPublicKeyHex(C.pub))},V.crypto.ECDSA.parseSigHex=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C);return{r:new B(T.r,16),s:new B(T.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(C){var T=ke,R=T.getChildIdx,N=T.getV;if(T.checkStrictDER(C,0),C.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var G=R(C,0);if(G.length!=2)throw new Error("signature shall have two elements");var se=G[0],we=G[1];if(C.substr(se,2)!="02")throw new Error("1st item not ASN.1 integer");if(C.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(C,se),s:N(C,we)}},V.crypto.ECDSA.asn1SigToConcatSig=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C),R=T.r,N=T.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},V.crypto.ECDSA.concatSigToASN1Sig=function(C){if(C.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var T=C.substr(0,C.length/2),R=C.substr(C.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(T,R)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(C,T){var R=new B(C,16),N=new B(T,16);return V.crypto.ECDSA.biRSSigToASN1Sig(R,N)},V.crypto.ECDSA.biRSSigToASN1Sig=function(C,T){var R=V.asn1,N=new R.DERInteger({bigint:C}),G=new R.DERInteger({bigint:T});return new R.DERSequence({array:[N,G]}).getEncodedHex()},V.crypto.ECDSA.getName=function(C){return C==="2b8104001f"?"secp192k1":C==="2a8648ce3d030107"?"secp256r1":C==="2b8104000a"?"secp256k1":C==="2b81040021"?"secp224r1":C==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(C)!==-1?"secp256r1":"|secp256k1|".indexOf(C)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(C)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(C)!==-1?"secp384r1":null},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var C={},T={};function R(N){return new B(N,16)}this.getByName=function(N){var G=N;if(T[G]!==void 0&&(G=T[N]),C[G]!==void 0)return C[G];throw"unregistered EC curve name: "+G},this.regist=function(N,G,se,we,Le,xe,Pe,Me,$e,ze,Ye,ot){C[N]={};var dt=R(se),ut=R(we),be=R(Le),De=R(xe),Ue=R(Pe),Ke=new q(dt,ut,be),lt=Ke.decodePointHex("04"+Me+$e);C[N].name=N,C[N].keylen=G,C[N].curve=Ke,C[N].G=lt,C[N].n=De,C[N].h=Ue,C[N].oid=Ye,C[N].info=ot;for(var mt=0;mt<ze.length;mt++)T[ze[mt]]=N}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Nt=function(){var C=function(Pe,Me,$e){return T(I.AES,Pe,Me,$e)},T=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),ot=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut={};ut.key=ot,ut.iv=dt,ut.ciphertext=Ye;var be=Pe.decrypt(ut,ot,{iv:dt});return I.enc.Hex.stringify(be)},R=function(Pe,Me,$e){return N(I.AES,Pe,Me,$e)},N=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),ot=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut=Pe.encrypt(Ye,ot,{iv:dt}),be=I.enc.Hex.parse(ut.toString());return I.enc.Base64.stringify(be)},G={"AES-256-CBC":{proc:C,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:C,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:C,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Pe,Me,$e){return T(I.TripleDES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.TripleDES,Pe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Pe,Me,$e){return T(I.DES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.DES,Pe,Me,$e)},keylen:8,ivlen:8}},se=function(Pe){var Me={},$e=Pe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Pe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Ye=-1,ot=0;Pe.indexOf(`\r
\r
`)!=-1&&(Ye=Pe.indexOf(`\r
\r
`),ot=2),Pe.indexOf(`

`)!=-1&&(Ye=Pe.indexOf(`

`),ot=1);var dt=Pe.indexOf("-----END");if(Ye!=-1&&dt!=-1){var ut=Pe.substring(Ye+2*ot,dt-ot);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},we=function(Pe,Me,$e){for(var ze=$e.substring(0,16),Ye=I.enc.Hex.parse(ze),ot=I.enc.Utf8.parse(Me),dt=G[Pe].keylen+G[Pe].ivlen,ut="",be=null;;){var De=I.algo.MD5.create();if(be!=null&&De.update(be),De.update(ot),De.update(Ye),be=De.finalize(),(ut+=I.enc.Hex.stringify(be)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*G[Pe].keylen),Ue.ivhex=ut.substr(2*G[Pe].keylen,2*G[Pe].ivlen),Ue},Le=function(Pe,Me,$e,ze){var Ye=I.enc.Base64.parse(Pe),ot=I.enc.Hex.stringify(Ye);return(0,G[Me].proc)(ot,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Pe){return se(Pe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Pe,Me,$e){return we(Pe,Me,$e)},decryptKeyB64:function(Pe,Me,$e,ze){return Le(Pe,Me,$e,ze)},getDecryptedKeyHex:function(Pe,Me){var $e=se(Pe),ze=$e.cipher,Ye=$e.ivsalt,ot=$e.data,dt=we(ze,Me,Ye).keyhex;return Le(ot,ze,dt,Ye)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Pe,Me,$e,ze,Ye){var ot="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),G[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Ye!==void 0&&Ye!=null||(Ye=function(be){var De=I.lib.WordArray.random(be);return I.enc.Hex.stringify(De)}(G[ze].ivlen).toUpperCase());var dt=function(be,De,Ue,Ke){return(0,G[De].eproc)(be,Ue,Ke)}(Me,ze,we(ze,$e,Ye).keyhex,Ye);return ot="-----BEGIN "+Pe+` PRIVATE KEY-----\r
`,ot+=`Proc-Type: 4,ENCRYPTED\r
`,ot+="DEK-Info: "+ze+","+Ye+`\r
`,ot+=`\r
`,ot+=dt.replace(/(.{64})/g,`$1\r
`),ot+=`\r
-----END `+Pe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={},ot=$e(Pe,0);if(ot.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ot.length);Ye.ciphertext=ze(Pe,ot[1]);var dt=$e(Pe,ot[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Pe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Pe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var be=$e(Pe,ut[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(ze(Pe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ye.encryptionSchemeAlg="TripleDES",Ye.encryptionSchemeIV=ze(Pe,be[1]);var De=$e(Pe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Pe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Pe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Ye.pbkdf2Salt=ze(Pe,Ue[0]);var Ke=ze(Pe,Ue[1]);try{Ye.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Ye},getPBKDF2KeyHexFromParam:function(Pe,Me){var $e=I.enc.Hex.parse(Pe.pbkdf2Salt),ze=Pe.pbkdf2Iter,Ye=I.PBKDF2(Me,$e,{keySize:6,iterations:ze});return I.enc.Hex.stringify(Ye)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Pe,Me){var $e=xt(Pe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Ye=Nt.getPBKDF2KeyHexFromParam(ze,Me),ot={};ot.ciphertext=I.enc.Hex.parse(ze.ciphertext);var dt=I.enc.Hex.parse(Ye),ut=I.enc.Hex.parse(ze.encryptionSchemeIV),be=I.TripleDES.decrypt(ot,dt,{iv:ut});return I.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Pe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Pe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null};if(Pe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ot=$e(Pe,0);if(ot.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Pe.substr(ot[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Pe,ot[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Pe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ye.algoid=ze(Pe,dt[0]),Pe.substr(dt[1],2)=="06"&&(Ye.algparam=ze(Pe,dt[1])),Pe.substr(ot[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ye.keyidx=Me.getVidx(Pe,ot[2]),Ye},getKeyFromPlainPrivatePKCS8PEM:function(Pe){var Me=xt(Pe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Pe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Pe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new V.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new V.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Pe),Me},_getKeyFromPublicPKCS8Hex:function(Pe){var Me,$e=ke.getVbyList(Pe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new V.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new V.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Pe),Me},parsePublicRawRSAKeyHex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={};if(Pe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ot=$e(Pe,0);if(ot.length!=2)throw new Error("malformed RSA key(code:002)");if(Pe.substr(ot[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ye.n=ze(Pe,ot[0]),Pe.substr(ot[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ye.e=ze(Pe,ot[1]),Ye},parsePublicPKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null},ot=$e(Pe,0);if(ot.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ot.length);var dt=ot[0];if(Pe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Pe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Pe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ye.algoid=ze(Pe,ut[0]),Pe.substr(ut[1],2)=="06"?Ye.algparam=ze(Pe,ut[1]):Pe.substr(ut[1],2)=="30"&&(Ye.algparam={},Ye.algparam.p=Me.getVbyList(Pe,ut[1],[0],"02"),Ye.algparam.q=Me.getVbyList(Pe,ut[1],[1],"02"),Ye.algparam.g=Me.getVbyList(Pe,ut[1],[2],"02")),Pe.substr(ot[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ye.key=ze(Pe,ot[1]).substr(2),Ye}}}();Nt.getKey=function(C,T,R){var N=(ut=ke).getChildIdx,G=(ut.getV,ut.getVbyList),se=V.crypto,we=se.ECDSA,Le=se.DSA,xe=Se,Pe=xt,Me=Nt;if(xe!==void 0&&C instanceof xe||we!==void 0&&C instanceof we||Le!==void 0&&C instanceof Le)return C;if(C.curve!==void 0&&C.xy!==void 0&&C.d===void 0)return new we({pub:C.xy,curve:C.curve});if(C.curve!==void 0&&C.d!==void 0)return new we({prv:C.d,curve:C.curve});if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(Ht=new xe).setPublic(C.n,C.e),Ht;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.co!==void 0&&C.qi===void 0)return(Ht=new xe).setPrivateEx(C.n,C.e,C.d,C.p,C.q,C.dp,C.dq,C.co),Ht;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p===void 0)return(Ht=new xe).setPrivate(C.n,C.e,C.d),Ht;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x===void 0)return(Ht=new Le).setPublic(C.p,C.q,C.g,C.y),Ht;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x!==void 0)return(Ht=new Le).setPrivate(C.p,C.q,C.g,C.y,C.x),Ht;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(Ht=new xe).setPublic(dn(C.n),dn(C.e)),Ht;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.qi!==void 0)return(Ht=new xe).setPrivateEx(dn(C.n),dn(C.e),dn(C.d),dn(C.p),dn(C.q),dn(C.dp),dn(C.dq),dn(C.qi)),Ht;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0)return(Ht=new xe).setPrivate(dn(C.n),dn(C.e),dn(C.d)),Ht;if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d===void 0){var $e=(kt=new we({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);return kt.setPublicKeyHex(ze),kt}if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d!==void 0){$e=(kt=new we({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);var Ye=("0000000000"+dn(C.d)).slice(-$e);return kt.setPublicKeyHex(ze),kt.setPrivateKeyHex(Ye),kt}if(R==="pkcs5prv"){var ot,dt=C,ut=ke;if((ot=N(dt,0)).length===9)(Ht=new xe).readPKCS5PrvKeyHex(dt);else if(ot.length===6)(Ht=new Le).readPKCS5PrvKeyHex(dt);else{if(!(ot.length>2&&dt.substr(ot[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Ht=new we).readPKCS5PrvKeyHex(dt)}return Ht}if(R==="pkcs8prv")return Ht=Me.getKeyFromPlainPrivatePKCS8Hex(C);if(R==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(C);if(R==="x509pub")return Qt.getPublicKeyFromCertHex(C);if(C.indexOf("-END CERTIFICATE-",0)!=-1||C.indexOf("-END X509 CERTIFICATE-",0)!=-1||C.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Qt.getPublicKeyFromCertPEM(C);if(C.indexOf("-END PUBLIC KEY-")!=-1){var be=xt(C,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(be)}if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var De=Pe(C,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var Ue=G($n=Pe(C,"DSA PRIVATE KEY"),0,[1],"02"),Ke=G($n,0,[2],"02"),lt=G($n,0,[3],"02"),mt=G($n,0,[4],"02"),Ft=G($n,0,[5],"02");return(Ht=new Le).setPrivate(new B(Ue,16),new B(Ke,16),new B(lt,16),new B(mt,16),new B(Ft,16)),Ht}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1)return De=Pe(C,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(C.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(C);if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Tt=Me.getDecryptedKeyHex(C,T),pn=new Se;return pn.readPKCS5PrvKeyHex(Tt),pn}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var kt,Ht=G($n=Me.getDecryptedKeyHex(C,T),0,[1],"04"),qn=G($n,0,[2,0],"06"),kn=G($n,0,[3,0],"03").substr(2);if(V.crypto.OID.oidhex2name[qn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+qn);return(kt=new we({curve:V.crypto.OID.oidhex2name[qn]})).setPublicKeyHex(kn),kt.setPrivateKeyHex(Ht),kt.isPublic=!1,kt}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var $n;return Ue=G($n=Me.getDecryptedKeyHex(C,T),0,[1],"02"),Ke=G($n,0,[2],"02"),lt=G($n,0,[3],"02"),mt=G($n,0,[4],"02"),Ft=G($n,0,[5],"02"),(Ht=new Le).setPrivate(new B(Ue,16),new B(Ke,16),new B(lt,16),new B(mt,16),new B(Ft,16)),Ht}if(C.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(C,T);throw new Error("not supported argument")},Nt.generateKeypair=function(C,T){if(C=="RSA"){var R=T;(we=new Se).generate(R,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new Se,G=we.n.toString(16),se=we.e.toString(16);return N.setPublic(G,se),N.isPrivate=!1,N.isPublic=!0,(Le={}).prvKeyObj=we,Le.pubKeyObj=N,Le}if(C=="EC"){var we,Le,xe=T,Pe=new V.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(we=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),we.setPrivateKeyHex(Pe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Le={}).prvKeyObj=we,Le.pubKeyObj=N,Le}throw new Error("unknown algorithm: "+C)},Nt.getPEM=function(C,T,R,N,G,se){var we=V,Le=we.asn1,xe=Le.DERObjectIdentifier,Pe=Le.DERInteger,Me=Le.ASN1Util.newObject,$e=Le.x509.SubjectPublicKeyInfo,ze=we.crypto,Ye=ze.DSA,ot=ze.ECDSA,dt=Se;function ut(kt){return Me({seq:[{int:0},{int:{bigint:kt.n}},{int:kt.e},{int:{bigint:kt.d}},{int:{bigint:kt.p}},{int:{bigint:kt.q}},{int:{bigint:kt.dmp1}},{int:{bigint:kt.dmq1}},{int:{bigint:kt.coeff}}]})}function be(kt){return Me({seq:[{int:1},{octstr:{hex:kt.prvKeyHex}},{tag:["a0",!0,{oid:{name:kt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+kt.pubKeyHex}}]}]})}function De(kt){return Me({seq:[{int:0},{int:{bigint:kt.p}},{int:{bigint:kt.q}},{int:{bigint:kt.g}},{int:{bigint:kt.y}},{int:{bigint:kt.x}}]})}if((dt!==void 0&&C instanceof dt||Ye!==void 0&&C instanceof Ye||ot!==void 0&&C instanceof ot)&&C.isPublic==1&&(T===void 0||T=="PKCS8PUB"))return wt(mt=new $e(C).getEncodedHex(),"PUBLIC KEY");if(T=="PKCS1PRV"&&dt!==void 0&&C instanceof dt&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=ut(C).getEncodedHex(),"RSA PRIVATE KEY");if(T=="PKCS1PRV"&&ot!==void 0&&C instanceof ot&&(R===void 0||R==null)&&C.isPrivate==1){var Ue=new xe({name:C.curveName}).getEncodedHex(),Ke=be(C).getEncodedHex(),lt="";return lt+=wt(Ue,"EC PARAMETERS"),lt+=wt(Ke,"EC PRIVATE KEY")}if(T=="PKCS1PRV"&&Ye!==void 0&&C instanceof Ye&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=De(C).getEncodedHex(),"DSA PRIVATE KEY");if(T=="PKCS5PRV"&&dt!==void 0&&C instanceof dt&&R!==void 0&&R!=null&&C.isPrivate==1){var mt=ut(C).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,se)}if(T=="PKCS5PRV"&&ot!==void 0&&C instanceof ot&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=be(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,se);if(T=="PKCS5PRV"&&Ye!==void 0&&C instanceof Ye&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=De(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,se);var Ft=function(Ht,qn){var kn=Tt(Ht,qn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:kn.pbkdf2Salt}},{int:kn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:kn.encryptionSchemeIV}}]}]}]},{octstr:{hex:kn.ciphertext}}]}).getEncodedHex()},Tt=function(Ht,qn){var kn=I.lib.WordArray.random(8),$n=I.lib.WordArray.random(8),Wt=I.PBKDF2(qn,kn,{keySize:6,iterations:100}),Kn=I.enc.Hex.parse(Ht),hn=I.TripleDES.encrypt(Kn,Wt,{iv:$n})+"",Yn={};return Yn.ciphertext=hn,Yn.pbkdf2Salt=I.enc.Hex.stringify(kn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=I.enc.Hex.stringify($n),Yn};if(T=="PKCS8PRV"&&dt!=null&&C instanceof dt&&C.isPrivate==1){var pn=ut(C).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY")}if(T=="PKCS8PRV"&&ot!==void 0&&C instanceof ot&&C.isPrivate==1)return pn=new Me({seq:[{int:1},{octstr:{hex:C.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+C.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:C.curveName}}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY");if(T=="PKCS8PRV"&&Ye!==void 0&&C instanceof Ye&&C.isPrivate==1)return pn=new Pe({bigint:C.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:C.p}},{int:{bigint:C.q}},{int:{bigint:C.g}}]}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ke=Ft(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Nt.getKeyFromCSRPEM=function(C){var T=xt(C,"CERTIFICATE REQUEST");return Nt.getKeyFromCSRHex(T)},Nt.getKeyFromCSRHex=function(C){var T=Nt.parseCSRHex(C);return Nt.getKey(T.p8pubkeyhex,null,"pkcs8pub")},Nt.parseCSRHex=function(C){var T=ke,R=T.getChildIdx,N=T.getTLV,G={},se=C;if(se.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=R(se,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(se.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Le=R(se,we[0]);if(Le.length<3)throw new Error("malformed CSR(code:004)");return G.p8pubkeyhex=N(se,Le[2]),G},Nt.getKeyID=function(C){var T=Nt,R=ke;typeof C=="string"&&C.indexOf("BEGIN ")!=-1&&(C=T.getKey(C));var N=xt(T.getPEM(C)),G=R.getIdxbyList(N,0,[1]),se=R.getV(N,G).substring(2);return V.crypto.Util.hashHex(se,"sha1")},Nt.getJWKFromKey=function(C){var T={};if(C instanceof Se&&C.isPrivate)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T.d=fn(C.d.toString(16)),T.p=fn(C.p.toString(16)),T.q=fn(C.q.toString(16)),T.dp=fn(C.dmp1.toString(16)),T.dq=fn(C.dmq1.toString(16)),T.qi=fn(C.coeff.toString(16)),T;if(C instanceof Se&&C.isPublic)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T;if(C instanceof V.crypto.ECDSA&&C.isPrivate){if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=C.getPublicKeyXYHex();return T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T.d=fn(C.prvKeyHex),T}if(C instanceof V.crypto.ECDSA&&C.isPublic){var N;if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=C.getPublicKeyXYHex(),T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(C){return ke.getChildIdx(C,0)},Se.getHexValueArrayOfChildrenFromHex=function(C){var T,R=ke.getV,N=R(C,(T=Se.getPosArrayOfChildrenFromHex(C))[0]),G=R(C,T[1]),se=R(C,T[2]),we=R(C,T[3]),Le=R(C,T[4]),xe=R(C,T[5]),Pe=R(C,T[6]),Me=R(C,T[7]),$e=R(C,T[8]);return(T=new Array).push(N,G,se,we,Le,xe,Pe,Me,$e),T},Se.prototype.readPrivateKeyFromPEMString=function(C){var T=xt(C),R=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(C){var T=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8])},Se.prototype.readPKCS8PrvKeyHex=function(C){var T,R,N,G,se,we,Le,xe,Pe=ke,Me=Pe.getVbyListEx;if(Pe.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");try{T=Me(C,0,[2,0,1],"02"),R=Me(C,0,[2,0,2],"02"),N=Me(C,0,[2,0,3],"02"),G=Me(C,0,[2,0,4],"02"),se=Me(C,0,[2,0,5],"02"),we=Me(C,0,[2,0,6],"02"),Le=Me(C,0,[2,0,7],"02"),xe=Me(C,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(T,R,N,G,se,we,Le,xe)},Se.prototype.readPKCS5PubKeyHex=function(C){var T=ke,R=T.getV;if(T.isASN1HEX(C)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=T.getChildIdx(C,0);if(N.length!==2||C.substr(N[0],2)!=="02"||C.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var G=R(C,N[0]),se=R(C,N[1]);this.setPublic(G,se)},Se.prototype.readPKCS8PubKeyHex=function(C){var T=ke;if(T.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");if(T.getTLVbyListEx(C,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=T.getTLVbyListEx(C,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(C,T){var R,N;(R=new Qt).readCertHex(C),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function en(C,T){for(var R="",N=T/4-C.length,G=0;G<N;G++)R+="0";return R+C}function Rn(C,T,R){for(var N="",G=0;N.length<T;)N+=un(R(In(C+String.fromCharCode.apply(String,[(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G])))),G+=1;return N}function Gt(C){for(var T in V.crypto.Util.DIGESTINFOHEAD){var R=V.crypto.Util.DIGESTINFOHEAD[T],N=R.length;if(C.substring(0,N)==R)return[T,C.substring(N)]}return[]}function Qt(C){var T,R=ke,N=R.getChildIdx,G=R.getV,se=R.getTLV,we=R.getVbyList,Le=R.getVbyListEx,xe=R.getTLVbyList,Pe=R.getTLVbyListEx,Me=R.getIdxbyList,$e=R.getIdxbyListEx,ze=R.getVidx,Ye=R.getInt,ot=R.oidname,dt=R.hextooidstr,ut=xt;try{T=V.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=xe(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var De=xe(be,0,[0]),Ue=Ye(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Le(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Pe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var De in T)if(be===T[De])return De;return ot(Le(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return Me(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return Nt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new V.crypto.Signature({alg:De});return lt.init(be),lt.updateHex(Ke),lt.verify(Ue)},this.parseExt=function(be){var De,Ue,Ke;if(be===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Ue=N(Ke,De)}else{Ke=xt(be);var lt=Me(Ke,0,[0,3,0,0],"06");if(G(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Ue=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var Ft={critical:!1},Tt=0;N(Ke,Ue[mt]).length===3&&(Ft.critical=!0,Tt=1),Ft.oid=R.hextooidstr(we(Ke,Ue[mt],[0],"06"));var pn=Me(Ke,Ue[mt],[1+Tt]);Ft.vidx=ze(Ke,pn),this.aExtInfo.push(Ft)}},this.getExtInfo=function(be){var De=this.aExtInfo,Ue=be;if(be.match(/^[0-9.]+$/)||(Ue=V.asn1.x509.OID.name2oid(be)),Ue!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Ue)return De[Ke]}},this.getExtBasicConstraints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),be==="3000")return Ke;if(be==="30030101ff")return Ke.cA=!0,Ke;if(be.substr(0,12)==="30060101ff02"){var lt=G(be,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(be).split(","),Ke},this.getExtKeyUsageBin=function(be){if(be===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";be=se(this.hex,De.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var Ue="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(Ue=Ue.slice(-8)),be.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(be){for(var De=this.getExtKeyUsageBin(be),Ue=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Ue.push(Qt.KEYUSAGE_NAME[Ke]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=G(be,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=be.substr(lt[mt],2);if(Ft==="80"&&(Ke.kid={hex:G(be,lt[mt])}),Ft==="a1"){var Tt=se(be,lt[mt]),pn=this.getGeneralNames(Tt);Ke.issuer=pn[0].dn}Ft==="82"&&(Ke.sn={hex:G(be,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++)Ke.array.push(ot(G(be,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var De=new Array,Ue=se(this.hex,be.vidx);if(Ue==="")return De;for(var Ke=N(Ue,0),lt=0;lt<Ke.length;lt++)De.push(ot(G(Ue,Ke[lt])));return De},this.getExtSubjectAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getExtIssuerAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getGeneralNames=function(be){for(var De=N(be,0),Ue=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(se(be,De[Ke]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(be){var De=be.substr(0,2),Ue=G(be,0),Ke=un(Ue);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var be,De,Ue,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=se(this.hex,Ke.vidx),Ft=N(mt,0),Tt=0;Tt<Ft.length;Tt++)Ue=mt.substr(Ft[Tt],2),be=G(mt,Ft[Tt]),Ue==="81"&&(De=sn(be),lt.push(["MAIL",De])),Ue==="82"&&(De=sn(be),lt.push(["DNS",De])),Ue==="84"&&(De=Qt.hex2dn(be,0),lt.push(["DN",De])),Ue==="86"&&(De=sn(be),lt.push(["URI",De])),Ue==="87"&&(De=ft(be),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=se(be,lt[mt]);Ke.array.push(this.getDistributionPoint(Ft))}return Ke},this.getDistributionPoint=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=se(be,Ue[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=se(be,Ue[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var De=new Array,Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++)try{var lt=sn(we(this.hex,Ue[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++){var lt=we(this.hex,Ue[Ke],[0],"06"),mt=we(this.hex,Ue[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(sn(mt)),lt==="2b06010505073002"&&De.caissuer.push(sn(mt))}return De},this.getExtAuthorityInfoAccess=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=Le(be,lt[mt],[0],"06"),Tt=sn(we(be,lt[mt],[1],"86"));if(Ft=="2b06010505073001")Ke.array.push({ocsp:Tt});else{if(Ft!="2b06010505073002")throw new Error("unknown method: "+Ft);Ke.array.push({caissuer:Tt})}}return Ke},this.getExtCertificatePolicies=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=se(be,lt[mt]),Tt=this.getPolicyInformation(Ft);Ke.array.push(Tt)}return Ke},this.getPolicyInformation=function(be){var De={},Ue=we(be,0,[0],"06");De.policyoid=ot(Ue);var Ke=$e(be,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(be,Ke),mt=0;mt<lt.length;mt++){var Ft=se(be,lt[mt]),Tt=this.getPolicyQualifierInfo(Ft);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(be){var De={},Ue=we(be,0,[0],"06");if(Ue==="2b06010505070201"){var Ke=Le(be,0,[1],"16");De.cps=un(Ke)}else if(Ue==="2b06010505070202"){var lt=xe(be,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=se(be,Ue[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(be){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],De.str=un(G(be,0)),De},this.getExtCRLNumber=function(be,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),be.substr(0,2)=="02")return Ue.num={hex:G(be,0)},Ue;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),be.substr(0,2)=="0a")return Ue.code=parseInt(G(be,0),16),Ue;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ke=G(be,0);return Ue.hex=Ke,Ue},this.getExtOcspNoCheck=function(be,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;be=se(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(be,0);if(lt.length>1){var mt=se(be,lt[1]),Ft=this.getGeneralName(mt);Ft.uri!=null&&(Ke.uri=Ft.uri)}if(lt.length>2){var Tt=se(be,lt[2]);Tt=="0101ff"&&(Ke.reqauth=!0),Tt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(be){for(var De=null,Ue=[],Ke=0;Ke<be.length;Ke++)for(var lt=be[Ke],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ke=0;Ke<Ue.length;Ke++){var Ft=Ue[Ke],Tt=Ft.ds,pn=Ft.value,kt=Ft.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(kt!="CN")return"mixed";if(V.lang.String.isMail(pn))continue;return"mixed"}if(kt=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(be){var De=this.getX500NameArray(be);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getRDN(se(be,Ue[Ke])));return De},this.getRDN=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getAttrTypeAndValue(se(be,Ue[Ke])));return De},this.getAttrTypeAndValue=function(be){var De={type:null,value:null,ds:null},Ue=N(be,0),Ke=we(be,Ue[0],[],"06"),lt=we(be,Ue[1],[]),mt=V.asn1.ASN1Util.oidHexToInt(Ke);return De.type=V.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[be.substr(Ue[1],2)],De.ds!="bmp"?De.value=sn(lt):De.value=it(lt),De},this.readCertPEM=function(be){this.readCertHex(ut(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=wt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(be=Pe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=se(be,Ue[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(be){var De=N(be,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+be);var Ue=dt(we(be,0,[0],"06")),Ke=!1;De==3&&xe(be,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(be,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var Ft={extname:Ue,extn:lt};return Ke&&(Ft.critical=!0),Ft},this.findExt=function(be,De){for(var Ue=0;Ue<be.length;Ue++)if(be[Ue].extname==De)return be[Ue];return null},this.updateExtCDPFullURI=function(be,De){var Ue=this.findExt(be,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,Ft=0;Ft<mt.length;Ft++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(be){return"/"+be.map(function(De){return function(Ke){return Ke.map(function(lt){return function(Ft){return Ft.type+"="+Ft.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,De,Ue,Ke=function(Wt){return JSON.stringify(Wt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var gr=hn[Yn];if(Kn+="    policy oid: "+gr.policyoid+`
`,gr.array!==void 0)for(var mr=0;mr<gr.array.length;mr++){var ur=gr.array[mr];ur.cps!==void 0&&(Kn+="    cps: "+ur.cps+`
`)}}return Kn},mt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var gr=hn[Yn];try{gr.dpname.full[0].uri!==void 0&&(Kn+="    "+gr.dpname.full[0].uri+`
`)}catch{}try{gr.dname.full[0].dn.hex!==void 0&&(Kn+="    "+Qt.hex2dn(gr.dpname.full[0].dn.hex)+`
`)}catch{}}return Kn},Ft=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var gr=hn[Yn];gr.caissuer!==void 0&&(Kn+="    caissuer: "+gr.caissuer+`
`),gr.ocsp!==void 0&&(Kn+="    ocsp: "+gr.ocsp+`
`)}return Kn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(be+="    n="+Kt(De.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Kt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Ue.length;Tt++){var pn=Ue[Tt],kt=V.asn1.x509.OID.oid2name(pn.oid);kt===""&&(kt=pn.oid);var Ht="";if(pn.critical===!0&&(Ht="CRITICAL"),be+="  "+kt+" "+Ht+`:
`,kt==="basicConstraints"){var qn=this.getExtBasicConstraints();qn.cA===void 0?be+=`    {}
`:(be+="    cA=true",qn.pathLen!==void 0&&(be+=", pathLen="+qn.pathLen),be+=`
`)}else if(kt==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(kt==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(kt==="authorityKeyIdentifier"){var kn=this.getExtAuthorityKeyIdentifier();kn.kid!==void 0&&(be+="    kid="+kn.kid.hex+`
`)}else kt==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:kt==="subjectAltName"?be+="    "+Ke(this.getExtSubjectAltName())+`
`:kt==="cRLDistributionPoints"?be+=mt(this.getExtCRLDistributionPoints()):kt==="authorityInfoAccess"?be+=Ft(this.getExtAuthorityInfoAccess()):kt==="certificatePolicies"&&(be+=lt(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof C=="string"&&(C.indexOf("-----BEGIN")!=-1?this.readCertPEM(C):V.lang.String.isHex(C)&&this.readCertHex(C))}Se.prototype.sign=function(C,T){var R=function(G){return V.crypto.Util.hashString(G,T)}(C);return this.signWithMessageHash(R,T)},Se.prototype.signWithMessageHash=function(C,T){var R=gt(V.crypto.Util.getPaddedDigestInfoHex(C,T,this.n.bitLength()),16);return en(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(C,T,R){var N=function(se){return V.crypto.Util.hashHex(se,T)}(In(C));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,T,R)},Se.prototype.signWithMessageHashPSS=function(C,T,R){var N,G=un(C),se=G.length,we=this.n.bitLength()-1,Le=Math.ceil(we/8),xe=function(be){return V.crypto.Util.hashHex(be,T)};if(R===-1||R===void 0)R=se;else if(R===-2)R=Le-se-2;else if(R<-2)throw new Error("invalid salt length");if(Le<se+R+2)throw new Error("data too long");var Pe="";R>0&&(Pe=new Array(R),new nt().nextBytes(Pe),Pe=String.fromCharCode.apply(String,Pe));var Me=un(xe(In("\0\0\0\0\0\0\0\0"+G+Pe))),$e=[];for(N=0;N<Le-R-se-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Pe,Ye=Rn(Me,ze.length,xe),ot=[];for(N=0;N<ze.length;N+=1)ot[N]=ze.charCodeAt(N)^Ye.charCodeAt(N);var dt=65280>>8*Le-we&255;for(ot[0]&=~dt,N=0;N<se;N++)ot.push(Me.charCodeAt(N));return ot.push(188),en(this.doPrivate(new B(ot)).toString(16),this.n.bitLength())},Se.prototype.verify=function(C,T){if((T=T.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(T,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var G=this.doPublic(R).toString(16);if(G.length+3!=N/4)return!1;var se=Gt(G.replace(/^1f+00/,""));if(se.length==0)return!1;var we=se[0];return se[1]==function(xe){return V.crypto.Util.hashString(xe,we)}(C)},Se.prototype.verifyWithMessageHash=function(C,T){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(T,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Gt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==C)},Se.prototype.verifyPSS=function(C,T,R,N){var G=function(we){return V.crypto.Util.hashHex(we,R)}(In(C));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(G,T,R,N)},Se.prototype.verifyWithMessageHashPSS=function(C,T,R,N){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var G,se=new B(T,16),we=function(Ue){return V.crypto.Util.hashHex(Ue,R)},Le=un(C),xe=Le.length,Pe=this.n.bitLength()-1,Me=Math.ceil(Pe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(se).toByteArray();for(G=0;G<$e.length;G+=1)$e[G]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Ye=$e.substr(ze.length,xe),ot=65280>>8*Me-Pe&255;if(ze.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var dt=Rn(Ye,ze.length,we),ut=[];for(G=0;G<ze.length;G+=1)ut[G]=ze.charCodeAt(G)^dt.charCodeAt(G);ut[0]&=~ot;var be=Me-xe-N-2;for(G=0;G<be;G+=1)if(ut[G]!==0)throw new Error("leftmost octets not zero");if(ut[be]!==1)throw new Error("0x01 marker not found");return Ye===un(we(In("\0\0\0\0\0\0\0\0"+Le+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Qt.hex2dn=function(C,T){T===void 0&&(T=0);var R=new Qt;return ke.getTLV(C,T),R.getX500Name(C).str},Qt.hex2rdn=function(C,T){if(T===void 0&&(T=0),C.substr(T,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=ke.getChildIdx(C,T),G=0;G<N.length;G++)R.push(Qt.hex2attrTypeValue(C,N[G]));return(R=R.map(function(se){return se.replace("+","\\+")})).join("+")},Qt.hex2attrTypeValue=function(C,T){var R=ke,N=R.getV;if(T===void 0&&(T=0),C.substr(T,2)!=="30")throw new Error("malformed attribute type and value");var G=R.getChildIdx(C,T);G.length!==2||C.substr(G[0],2);var se=N(C,G[0]),we=V.asn1.ASN1Util.oidHexToInt(se);return V.asn1.x509.OID.oid2atype(we)+"="+un(N(C,G[1]))},Qt.getPublicKeyFromCertHex=function(C){var T=new Qt;return T.readCertHex(C),T.getPublicKey()},Qt.getPublicKeyFromCertPEM=function(C){var T=new Qt;return T.readCertPEM(C),T.getPublicKey()},Qt.getPublicKeyInfoPropOfCertPEM=function(C){var T,R,N=ke.getVbyList,G={};return G.algparam=null,(T=new Qt).readCertPEM(C),R=T.getPublicKeyHex(),G.keyhex=N(R,0,[1],"03").substr(2),G.algoid=N(R,0,[0,0],"06"),G.algoid==="2a8648ce3d0201"&&(G.algparam=N(R,0,[0,1],"06")),G},Qt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],V!==void 0&&V||(r.KJUR=V={}),V.jws!==void 0&&V.jws||(V.jws={}),V.jws.JWS=function(){var C=V.jws.JWS.isSafeJSONString;this.parseJWS=function(T,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=T.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var G=N[1],se=N[2],we=N[3],Le=G+"."+se;if(this.parsedJWS={},this.parsedJWS.headB64U=G,this.parsedJWS.payloadB64U=se,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Le,!R){var xe=dn(we),Pe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Pe}var Me=Ze(G),$e=Ze(se);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!C(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},V.jws.JWS.sign=function(C,T,R,N,G){var se,we,Le,xe=V,Pe=xe.jws.JWS,Me=Pe.readSafeJSONString,$e=Pe.isSafeJSONString,ze=xe.crypto,Ye=(ze.ECDSA,ze.Mac),ot=ze.Signature,dt=JSON;if(typeof T!="string"&&(T===void 0?"undefined":x(T))!="object")throw"spHeader must be JSON string or object: "+T;if((T===void 0?"undefined":x(T))=="object"&&(we=T,se=dt.stringify(we)),typeof T=="string"){if(!$e(se=T))throw"JWS Head is not safe JSON string: "+se;we=Me(se)}if(Le=R,(R===void 0?"undefined":x(R))=="object"&&(Le=dt.stringify(R)),C!=""&&C!=null||we.alg===void 0||(C=we.alg),C!=""&&C!=null&&we.alg===void 0&&(we.alg=C,se=dt.stringify(we)),C!==we.alg)throw"alg and sHeader.alg doesn't match: "+C+"!="+we.alg;var ut=null;if(Pe.jwsalg2sigalg[C]===void 0)throw"unsupported alg name: "+C;ut=Pe.jwsalg2sigalg[C];var be=je(se)+"."+je(Le),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Ye({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(be),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new ot({alg:ut})).init(N,G),lt.updateString(be);var Ke=lt.sign();De=V.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new ot({alg:ut})).init(N,G),lt.updateString(be),De=lt.sign())}return be+"."+fn(De)},V.jws.JWS.verify=function(C,T,R){var N,G=V,se=G.jws.JWS,we=se.readSafeJSONString,Le=G.crypto,xe=Le.ECDSA,Pe=Le.Mac,Me=Le.Signature;x(Se)!==void 0&&(N=Se);var $e=C.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Ye=dn($e[2]),ot=we(Ze($e[0])),dt=null,ut=null;if(ot.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=ot.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&T===null)throw"key shall be specified to verify.";if(typeof T=="string"&&T.indexOf("-----BEGIN ")!=-1&&(T=Nt.getKey(T)),!(ut!="RS"&&ut!="PS"||T instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(T instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(se.jwsalg2sigalg[ot.alg]===void 0)throw"unsupported alg name: "+dt;if((be=se.jwsalg2sigalg[dt])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(T===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Pe({alg:be,pass:T});return De.updateString(ze),Ye==De.doFinal()}if(be.indexOf("withECDSA")!=-1){var Ue,Ke=null;try{Ke=xe.concatSigToASN1Sig(Ye)}catch{return!1}return(Ue=new Me({alg:be})).init(T),Ue.updateString(ze),Ue.verify(Ke)}return(Ue=new Me({alg:be})).init(T),Ue.updateString(ze),Ue.verify(Ye)},V.jws.JWS.parse=function(C){var T,R,N,G=C.split("."),se={};if(G.length!=2&&G.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return T=G[0],R=G[1],G.length==3&&(N=G[2]),se.headerObj=V.jws.JWS.readSafeJSONString(Ze(T)),se.payloadObj=V.jws.JWS.readSafeJSONString(Ze(R)),se.headerPP=JSON.stringify(se.headerObj,null,"  "),se.payloadObj==null?se.payloadPP=Ze(R):se.payloadPP=JSON.stringify(se.payloadObj,null,"  "),N!==void 0&&(se.sigHex=dn(N)),se},V.jws.JWS.verifyJWT=function(C,T,R){var N=V.jws,G=N.JWS,se=G.readSafeJSONString,we=G.inArray,Le=G.includedArray,xe=C.split("."),Pe=xe[0],Me=xe[1],$e=(dn(xe[2]),se(Ze(Pe))),ze=se(Ze(Me));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!we($e.alg,R.alg)||ze.iss!==void 0&&x(R.iss)==="object"&&!we(ze.iss,R.iss)||ze.sub!==void 0&&x(R.sub)==="object"&&!we(ze.sub,R.sub))return!1;if(ze.aud!==void 0&&x(R.aud)==="object"){if(typeof ze.aud=="string"){if(!we(ze.aud,R.aud))return!1}else if(x(ze.aud)=="object"&&!Le(ze.aud,R.aud))return!1}var Ye=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Ye=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+R.gracePeriod<Ye)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Ye<ze.nbf-R.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Ye<ze.iat-R.gracePeriod)&&(ze.jti===void 0||R.jti===void 0||ze.jti===R.jti)&&!!G.verify(C,T,R.alg)},V.jws.JWS.includedArray=function(C,T){var R=V.jws.JWS.inArray;if(C===null||(C===void 0?"undefined":x(C))!=="object"||typeof C.length!="number")return!1;for(var N=0;N<C.length;N++)if(!R(C[N],T))return!1;return!0},V.jws.JWS.inArray=function(C,T){if(T===null||(T===void 0?"undefined":x(T))!=="object"||typeof T.length!="number")return!1;for(var R=0;R<T.length;R++)if(T[R]==C)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(C,T,R){var N=null;try{return((N=K(C))===void 0?"undefined":x(N))!="object"||N.constructor===Array?0:(T&&(T[R]=N),1)}catch{return 0}},V.jws.JWS.readSafeJSONString=function(C){var T=null;try{return((T=K(C))===void 0?"undefined":x(T))!="object"||T.constructor===Array?null:T}catch{return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(C){var T=C.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(T==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return T[1]},V.jws.JWS.getJWKthumbprint=function(C){if(C.kty!=="RSA"&&C.kty!=="EC"&&C.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var T="{";if(C.kty==="RSA"){if(typeof C.n!="string"||typeof C.e!="string")throw"wrong n and e value for RSA key";T+='"e":"'+C.e+'",',T+='"kty":"'+C.kty+'",',T+='"n":"'+C.n+'"}'}else if(C.kty==="EC"){if(typeof C.crv!="string"||typeof C.x!="string"||typeof C.y!="string")throw"wrong crv, x and y value for EC key";T+='"crv":"'+C.crv+'",',T+='"kty":"'+C.kty+'",',T+='"x":"'+C.x+'",',T+='"y":"'+C.y+'"}'}else if(C.kty==="oct"){if(typeof C.k!="string")throw"wrong k value for oct(symmetric) key";T+='"kty":"'+C.kty+'",',T+='"k":"'+C.k+'"}'}var R=In(T);return fn(V.crypto.Util.hashHex(R,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(C){var T=V.jws.IntDate,R=T.getNow,N=T.getZulu;if(C=="now")return R();if(C=="now + 1hour")return R()+3600;if(C=="now + 1day")return R()+86400;if(C=="now + 1month")return R()+2592e3;if(C=="now + 1year")return R()+31536e3;if(C.match(/Z$/))return N(C);if(C.match(/^[0-9]+$/))return parseInt(C);throw"unsupported format: "+C},V.jws.IntDate.getZulu=function(C){return zn(C)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(C){return new Date(1e3*C).toUTCString()},V.jws.IntDate.intDate2Zulu=function(C){var T=new Date(1e3*C);return("0000"+T.getUTCFullYear()).slice(-4)+("00"+(T.getUTCMonth()+1)).slice(-2)+("00"+T.getUTCDate()).slice(-2)+("00"+T.getUTCHours()).slice(-2)+("00"+T.getUTCMinutes()).slice(-2)+("00"+T.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=he,r.BigInteger=B,r.RSAKey=Se;var xn=V.crypto.EDSA;r.EDSA=xn;var En=V.crypto.DSA;r.DSA=En;var Bn=V.crypto.Signature;r.Signature=Bn;var Cr=V.crypto.MessageDigest;r.MessageDigest=Cr;var zr=V.crypto.Mac;r.Mac=zr;var Hr=V.crypto.Cipher;r.Cipher=Hr,r.KEYUTIL=Nt,r.ASN1HEX=ke,r.X509=Qt,r.CryptoJS=I,r.b64tohex=Q,r.b64toBA=Y,r.stoBA=At,r.BAtos=Ot,r.BAtohex=Dt,r.stohex=Rt,r.stob64=function(T){return F(Rt(T))},r.stob64u=function(T){return qt(F(Rt(T)))},r.b64utos=function(T){return Ot(Y(Tr(T)))},r.b64tob64u=qt,r.b64utob64=Tr,r.hex2b64=F,r.hextob64u=fn,r.b64utohex=dn,r.utf8tob64u=je,r.b64utoutf8=Ze,r.utf8tob64=function(T){return F(Jn(Et(T)))},r.b64toutf8=function(T){return decodeURIComponent(We(Q(T)))},r.utf8tohex=pr,r.hextoutf8=sn,r.hextorstr=un,r.rstrtohex=In,r.hextob64=sr,r.hextob64nl=Oe,r.b64nltohex=qe,r.hextopem=wt,r.pemtohex=xt,r.hextoArrayBuffer=function(T){if(T.length%2!=0)throw"input is not even length";if(T.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(T.length/2),N=new DataView(R),G=0;G<T.length/2;G++)N.setUint8(G,parseInt(T.substr(2*G,2),16));return R},r.ArrayBuffertohex=function(T){for(var R="",N=new DataView(T),G=0;G<T.byteLength;G++)R+=("00"+N.getUint8(G).toString(16)).slice(-2);return R},r.zulutomsec=It,r.zulutosec=zn,r.zulutodate=function(T){return new Date(It(T))},r.datetozulu=function(T,R,N){var G,se=T.getUTCFullYear();if(R){if(se<1950||2049<se)throw"not proper year for UTCTime: "+se;G=(""+se).slice(-2)}else G=("000"+se).slice(-4);if(G+=("0"+(T.getUTCMonth()+1)).slice(-2),G+=("0"+T.getUTCDate()).slice(-2),G+=("0"+T.getUTCHours()).slice(-2),G+=("0"+T.getUTCMinutes()).slice(-2),G+=("0"+T.getUTCSeconds()).slice(-2),N){var we=T.getUTCMilliseconds();we!==0&&(G+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return G+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ee,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(T){var R="malformed IP address";if(!(T=T.toLowerCase(T)).match(/^[0-9.]+$/)){if(T.match(/^[0-9a-f:]+$/)&&T.indexOf(":")!==-1)return Ee(T);throw R}var N=T.split(".");if(N.length!==4)throw R;var G="";try{for(var se=0;se<4;se++)G+=("0"+parseInt(N[se]).toString(16)).slice(-2);return G}catch{throw R}},r.encodeURIComponentAll=Et,r.newline_toUnix=function(T){return T=T.replace(/\r\n/gm,`
`)},r.newline_toDos=function(T){return T=(T=T.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Kt,r.intarystrtohex=function(T){T=(T=(T=T.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return T.split(/,/).map(function(R,N,G){var se=parseInt(R);if(se<0||255<se)throw"integer not in range 0-255";return("00"+se.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(T,R){var N=T.length;T.length>R.length&&(N=R.length);for(var G=0;G<N;G++)if(T.charCodeAt(G)!=R.charCodeAt(G))return G;return T.length!=R.length?N:-1},r.KJUR=V;var Or=V.crypto;r.crypto=Or;var jn=V.asn1;r.asn1=jn;var Qr=V.jws;r.jws=Qr;var qi=V.lang;r.lang=qi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=i(30),s=i(31),l=i(32);function c(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(oe,z){if(c()<z)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(oe=new Uint8Array(z)).__proto__=p.prototype:(oe===null&&(oe=new p(z)),oe.length=z),oe}function p(oe,z,$){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(oe,z,$);if(typeof oe=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,oe)}return m(this,oe,z,$)}function m(oe,z,$,ae){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function(he,ye,He,Te){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Te||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Te===void 0?new Uint8Array(ye):Te===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Te),p.TYPED_ARRAY_SUPPORT?(he=ye).__proto__=p.prototype:he=w(he,ye),he}(oe,z,$,ae):typeof z=="string"?function(he,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!p.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Te=0|x(ye,He),Ne=(he=h(he,Te)).write(ye,He);return Ne!==Te&&(he=he.slice(0,Ne)),he}(oe,z,$):function(he,ye){if(p.isBuffer(ye)){var He=0|S(ye.length);return(he=h(he,He)).length===0||ye.copy(he,0,0,He),he}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Ne){return Ne!=Ne}(ye.length)?h(he,0):w(he,ye);if(ye.type==="Buffer"&&l(ye.data))return w(he,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(oe,z)}function y(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be a number');if(oe<0)throw new RangeError('"size" argument must not be negative')}function v(oe,z){if(y(z),oe=h(oe,z<0?0:0|S(z)),!p.TYPED_ARRAY_SUPPORT)for(var $=0;$<z;++$)oe[$]=0;return oe}function w(oe,z){var $=z.length<0?0:0|S(z.length);oe=h(oe,$);for(var ae=0;ae<$;ae+=1)oe[ae]=255&z[ae];return oe}function S(oe){if(oe>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|oe}function x(oe,z){if(p.isBuffer(oe))return oe.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(oe)||oe instanceof ArrayBuffer))return oe.byteLength;typeof oe!="string"&&(oe=""+oe);var $=oe.length;if($===0)return 0;for(var ae=!1;;)switch(z){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Re(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Fe(oe).length;default:if(ae)return Re(oe).length;z=(""+z).toLowerCase(),ae=!0}}function E(oe,z,$){var ae=!1;if((z===void 0||z<0)&&(z=0),z>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(z>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return de(this,z,$);case"utf8":case"utf-8":return re(this,z,$);case"ascii":return ge(this,z,$);case"latin1":case"binary":return _e(this,z,$);case"base64":return ce(this,z,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,z,$);default:if(ae)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),ae=!0}}function A(oe,z,$){var ae=oe[z];oe[z]=oe[$],oe[$]=ae}function I(oe,z,$,ae,W){if(oe.length===0)return-1;if(typeof $=="string"?(ae=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=W?0:oe.length-1),$<0&&($=oe.length+$),$>=oe.length){if(W)return-1;$=oe.length-1}else if($<0){if(!W)return-1;$=0}if(typeof z=="string"&&(z=p.from(z,ae)),p.isBuffer(z))return z.length===0?-1:M(oe,z,$,ae,W);if(typeof z=="number")return z&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(oe,z,$):Uint8Array.prototype.lastIndexOf.call(oe,z,$):M(oe,[z],$,ae,W);throw new TypeError("val must be string, number or Buffer")}function M(oe,z,$,ae,W){var he,ye=1,He=oe.length,Te=z.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(oe.length<2||z.length<2)return-1;ye=2,He/=2,Te/=2,$/=2}function Ne(Bt,Se){return ye===1?Bt[Se]:Bt.readUInt16BE(Se*ye)}if(W){var tt=-1;for(he=$;he<He;he++)if(Ne(oe,he)===Ne(z,tt===-1?0:he-tt)){if(tt===-1&&(tt=he),he-tt+1===Te)return tt*ye}else tt!==-1&&(he-=he-tt),tt=-1}else for($+Te>He&&($=He-Te),he=$;he>=0;he--){for(var nt=!0,gt=0;gt<Te;gt++)if(Ne(oe,he+gt)!==Ne(z,gt)){nt=!1;break}if(nt)return he}return-1}function D(oe,z,$,ae){$=Number($)||0;var W=oe.length-$;ae?(ae=Number(ae))>W&&(ae=W):ae=W;var he=z.length;if(he%2!=0)throw new TypeError("Invalid hex string");ae>he/2&&(ae=he/2);for(var ye=0;ye<ae;++ye){var He=parseInt(z.substr(2*ye,2),16);if(isNaN(He))return ye;oe[$+ye]=He}return ye}function F(oe,z,$,ae){return Xe(Re(z,oe.length-$),oe,$,ae)}function Q(oe,z,$,ae){return Xe(function(he){for(var ye=[],He=0;He<he.length;++He)ye.push(255&he.charCodeAt(He));return ye}(z),oe,$,ae)}function Y(oe,z,$,ae){return Q(oe,z,$,ae)}function B(oe,z,$,ae){return Xe(Fe(z),oe,$,ae)}function Z(oe,z,$,ae){return Xe(function(he,ye){for(var He,Te,Ne,tt=[],nt=0;nt<he.length&&!((ye-=2)<0);++nt)Te=(He=he.charCodeAt(nt))>>8,Ne=He%256,tt.push(Ne),tt.push(Te);return tt}(z,oe.length-$),oe,$,ae)}function ce(oe,z,$){return z===0&&$===oe.length?o.fromByteArray(oe):o.fromByteArray(oe.slice(z,$))}function re(oe,z,$){$=Math.min(oe.length,$);for(var ae=[],W=z;W<$;){var he,ye,He,Te,Ne=oe[W],tt=null,nt=Ne>239?4:Ne>223?3:Ne>191?2:1;if(W+nt<=$)switch(nt){case 1:Ne<128&&(tt=Ne);break;case 2:(192&(he=oe[W+1]))==128&&(Te=(31&Ne)<<6|63&he)>127&&(tt=Te);break;case 3:he=oe[W+1],ye=oe[W+2],(192&he)==128&&(192&ye)==128&&(Te=(15&Ne)<<12|(63&he)<<6|63&ye)>2047&&(Te<55296||Te>57343)&&(tt=Te);break;case 4:he=oe[W+1],ye=oe[W+2],He=oe[W+3],(192&he)==128&&(192&ye)==128&&(192&He)==128&&(Te=(15&Ne)<<18|(63&he)<<12|(63&ye)<<6|63&He)>65535&&Te<1114112&&(tt=Te)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,ae.push(tt>>>10&1023|55296),tt=56320|1023&tt),ae.push(tt),W+=nt}return function(Bt){var Se=Bt.length;if(Se<=ue)return String.fromCharCode.apply(String,Bt);for(var Be="",X=0;X<Se;)Be+=String.fromCharCode.apply(String,Bt.slice(X,X+=ue));return Be}(ae)}r.Buffer=p,r.SlowBuffer=function(z){return+z!=z&&(z=0),p.alloc(+z)},r.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),p.poolSize=8192,p._augment=function(oe){return oe.__proto__=p.prototype,oe},p.from=function(oe,z,$){return m(null,oe,z,$)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(oe,z,$){return function(W,he,ye,He){return y(he),he<=0?h(W,he):ye!==void 0?typeof He=="string"?h(W,he).fill(ye,He):h(W,he).fill(ye):h(W,he)}(null,oe,z,$)},p.allocUnsafe=function(oe){return v(null,oe)},p.allocUnsafeSlow=function(oe){return v(null,oe)},p.isBuffer=function(z){return!(z==null||!z._isBuffer)},p.compare=function(z,$){if(!p.isBuffer(z)||!p.isBuffer($))throw new TypeError("Arguments must be Buffers");if(z===$)return 0;for(var ae=z.length,W=$.length,he=0,ye=Math.min(ae,W);he<ye;++he)if(z[he]!==$[he]){ae=z[he],W=$[he];break}return ae<W?-1:W<ae?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,$){if(!l(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);var ae;if($===void 0)for($=0,ae=0;ae<z.length;++ae)$+=z[ae].length;var W=p.allocUnsafe($),he=0;for(ae=0;ae<z.length;++ae){var ye=z[ae];if(!p.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(W,he),he+=ye.length}return W},p.byteLength=x,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<z;$+=2)A(this,$,$+1);return this},p.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<z;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},p.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<z;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},p.prototype.toString=function(){var z=0|this.length;return z===0?"":arguments.length===0?re(this,0,z):E.apply(this,arguments)},p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||p.compare(this,z)===0},p.prototype.inspect=function(){var z="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(z+=" ... ")),"<Buffer "+z+">"},p.prototype.compare=function(z,$,ae,W,he){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),ae===void 0&&(ae=z?z.length:0),W===void 0&&(W=0),he===void 0&&(he=this.length),$<0||ae>z.length||W<0||he>this.length)throw new RangeError("out of range index");if(W>=he&&$>=ae)return 0;if(W>=he)return-1;if($>=ae)return 1;if(this===z)return 0;for(var ye=(he>>>=0)-(W>>>=0),He=(ae>>>=0)-($>>>=0),Te=Math.min(ye,He),Ne=this.slice(W,he),tt=z.slice($,ae),nt=0;nt<Te;++nt)if(Ne[nt]!==tt[nt]){ye=Ne[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},p.prototype.includes=function(z,$,ae){return this.indexOf(z,$,ae)!==-1},p.prototype.indexOf=function(z,$,ae){return I(this,z,$,ae,!0)},p.prototype.lastIndexOf=function(z,$,ae){return I(this,z,$,ae,!1)},p.prototype.write=function(z,$,ae,W){if($===void 0)W="utf8",ae=this.length,$=0;else if(ae===void 0&&typeof $=="string")W=$,ae=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(ae)?(ae|=0,W===void 0&&(W="utf8")):(W=ae,ae=void 0)}var he=this.length-$;if((ae===void 0||ae>he)&&(ae=he),z.length>0&&(ae<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var ye=!1;;)switch(W){case"hex":return D(this,z,$,ae);case"utf8":case"utf-8":return F(this,z,$,ae);case"ascii":return Q(this,z,$,ae);case"latin1":case"binary":return Y(this,z,$,ae);case"base64":return B(this,z,$,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,z,$,ae);default:if(ye)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ye=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ue=4096;function ge(oe,z,$){var ae="";$=Math.min(oe.length,$);for(var W=z;W<$;++W)ae+=String.fromCharCode(127&oe[W]);return ae}function _e(oe,z,$){var ae="";$=Math.min(oe.length,$);for(var W=z;W<$;++W)ae+=String.fromCharCode(oe[W]);return ae}function de(oe,z,$){var ae=oe.length;(!z||z<0)&&(z=0),(!$||$<0||$>ae)&&($=ae);for(var W="",he=z;he<$;++he)W+=Je(oe[he]);return W}function fe(oe,z,$){for(var ae=oe.slice(z,$),W="",he=0;he<ae.length;he+=2)W+=String.fromCharCode(ae[he]+256*ae[he+1]);return W}function Ie(oe,z,$){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+z>$)throw new RangeError("Trying to access beyond buffer length")}function k(oe,z,$,ae,W,he){if(!p.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>W||z<he)throw new RangeError('"value" argument is out of bounds');if($+ae>oe.length)throw new RangeError("Index out of range")}function ie(oe,z,$,ae){z<0&&(z=65535+z+1);for(var W=0,he=Math.min(oe.length-$,2);W<he;++W)oe[$+W]=(z&255<<8*(ae?W:1-W))>>>8*(ae?W:1-W)}function me(oe,z,$,ae){z<0&&(z=4294967295+z+1);for(var W=0,he=Math.min(oe.length-$,4);W<he;++W)oe[$+W]=z>>>8*(ae?W:3-W)&255}function H(oe,z,$,ae,W,he){if($+ae>oe.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function J(oe,z,$,ae,W){return W||H(oe,0,$,4),s.write(oe,z,$,ae,23,4),$+4}function pe(oe,z,$,ae,W){return W||H(oe,0,$,8),s.write(oe,z,$,ae,52,8),$+8}p.prototype.slice=function(z,$){var ae,W=this.length;if((z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),($=$===void 0?W:~~$)<0?($+=W)<0&&($=0):$>W&&($=W),$<z&&($=z),p.TYPED_ARRAY_SUPPORT)(ae=this.subarray(z,$)).__proto__=p.prototype;else{var he=$-z;ae=new p(he,void 0);for(var ye=0;ye<he;++ye)ae[ye]=this[ye+z]}return ae},p.prototype.readUIntLE=function(z,$,ae){z|=0,$|=0,ae||Ie(z,$,this.length);for(var W=this[z],he=1,ye=0;++ye<$&&(he*=256);)W+=this[z+ye]*he;return W},p.prototype.readUIntBE=function(z,$,ae){z|=0,$|=0,ae||Ie(z,$,this.length);for(var W=this[z+--$],he=1;$>0&&(he*=256);)W+=this[z+--$]*he;return W},p.prototype.readUInt8=function(z,$){return $||Ie(z,1,this.length),this[z]},p.prototype.readUInt16LE=function(z,$){return $||Ie(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUInt16BE=function(z,$){return $||Ie(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUInt32LE=function(z,$){return $||Ie(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},p.prototype.readUInt32BE=function(z,$){return $||Ie(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readIntLE=function(z,$,ae){z|=0,$|=0,ae||Ie(z,$,this.length);for(var W=this[z],he=1,ye=0;++ye<$&&(he*=256);)W+=this[z+ye]*he;return W>=(he*=128)&&(W-=Math.pow(2,8*$)),W},p.prototype.readIntBE=function(z,$,ae){z|=0,$|=0,ae||Ie(z,$,this.length);for(var W=$,he=1,ye=this[z+--W];W>0&&(he*=256);)ye+=this[z+--W]*he;return ye>=(he*=128)&&(ye-=Math.pow(2,8*$)),ye},p.prototype.readInt8=function(z,$){return $||Ie(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},p.prototype.readInt16LE=function(z,$){$||Ie(z,2,this.length);var ae=this[z]|this[z+1]<<8;return 32768&ae?4294901760|ae:ae},p.prototype.readInt16BE=function(z,$){$||Ie(z,2,this.length);var ae=this[z+1]|this[z]<<8;return 32768&ae?4294901760|ae:ae},p.prototype.readInt32LE=function(z,$){return $||Ie(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,$){return $||Ie(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readFloatLE=function(z,$){return $||Ie(z,4,this.length),s.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,$){return $||Ie(z,4,this.length),s.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,$){return $||Ie(z,8,this.length),s.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,$){return $||Ie(z,8,this.length),s.read(this,z,!1,52,8)},p.prototype.writeUIntLE=function(z,$,ae,W){z=+z,$|=0,ae|=0,W||k(this,z,$,ae,Math.pow(2,8*ae)-1,0);var he=1,ye=0;for(this[$]=255&z;++ye<ae&&(he*=256);)this[$+ye]=z/he&255;return $+ae},p.prototype.writeUIntBE=function(z,$,ae,W){z=+z,$|=0,ae|=0,W||k(this,z,$,ae,Math.pow(2,8*ae)-1,0);var he=ae-1,ye=1;for(this[$+he]=255&z;--he>=0&&(ye*=256);)this[$+he]=z/ye&255;return $+ae},p.prototype.writeUInt8=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,1,255,0),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[$]=255&z,$+1},p.prototype.writeUInt16LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ie(this,z,$,!0),$+2},p.prototype.writeUInt16BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ie(this,z,$,!1),$+2},p.prototype.writeUInt32LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$+3]=z>>>24,this[$+2]=z>>>16,this[$+1]=z>>>8,this[$]=255&z):me(this,z,$,!0),$+4},p.prototype.writeUInt32BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},p.prototype.writeIntLE=function(z,$,ae,W){if(z=+z,$|=0,!W){var he=Math.pow(2,8*ae-1);k(this,z,$,ae,he-1,-he)}var ye=0,He=1,Te=0;for(this[$]=255&z;++ye<ae&&(He*=256);)z<0&&Te===0&&this[$+ye-1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+ae},p.prototype.writeIntBE=function(z,$,ae,W){if(z=+z,$|=0,!W){var he=Math.pow(2,8*ae-1);k(this,z,$,ae,he-1,-he)}var ye=ae-1,He=1,Te=0;for(this[$+ye]=255&z;--ye>=0&&(He*=256);)z<0&&Te===0&&this[$+ye+1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+ae},p.prototype.writeInt8=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,1,127,-128),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[$]=255&z,$+1},p.prototype.writeInt16LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ie(this,z,$,!0),$+2},p.prototype.writeInt16BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ie(this,z,$,!1),$+2},p.prototype.writeInt32LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8,this[$+2]=z>>>16,this[$+3]=z>>>24):me(this,z,$,!0),$+4},p.prototype.writeInt32BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):me(this,z,$,!1),$+4},p.prototype.writeFloatLE=function(z,$,ae){return J(this,z,$,!0,ae)},p.prototype.writeFloatBE=function(z,$,ae){return J(this,z,$,!1,ae)},p.prototype.writeDoubleLE=function(z,$,ae){return pe(this,z,$,!0,ae)},p.prototype.writeDoubleBE=function(z,$,ae){return pe(this,z,$,!1,ae)},p.prototype.copy=function(z,$,ae,W){if(ae||(ae=0),W||W===0||(W=this.length),$>=z.length&&($=z.length),$||($=0),W>0&&W<ae&&(W=ae),W===ae||z.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),z.length-$<W-ae&&(W=z.length-$+ae);var he,ye=W-ae;if(this===z&&ae<$&&$<W)for(he=ye-1;he>=0;--he)z[he+$]=this[he+ae];else if(ye<1e3||!p.TYPED_ARRAY_SUPPORT)for(he=0;he<ye;++he)z[he+$]=this[he+ae];else Uint8Array.prototype.set.call(z,this.subarray(ae,ae+ye),$);return ye},p.prototype.fill=function(z,$,ae,W){if(typeof z=="string"){if(typeof $=="string"?(W=$,$=0,ae=this.length):typeof ae=="string"&&(W=ae,ae=this.length),z.length===1){var he=z.charCodeAt(0);he<256&&(z=he)}if(W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!p.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else typeof z=="number"&&(z&=255);if($<0||this.length<$||this.length<ae)throw new RangeError("Out of range index");if(ae<=$)return this;var ye;if($>>>=0,ae=ae===void 0?this.length:ae>>>0,z||(z=0),typeof z=="number")for(ye=$;ye<ae;++ye)this[ye]=z;else{var He=p.isBuffer(z)?z:Re(new p(z,W).toString()),Te=He.length;for(ye=0;ye<ae-$;++ye)this[ye+$]=He[ye%Te]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g;function Je(oe){return oe<16?"0"+oe.toString(16):oe.toString(16)}function Re(oe,z){var $;z=z||1/0;for(var ae=oe.length,W=null,he=[],ye=0;ye<ae;++ye){if(($=oe.charCodeAt(ye))>55295&&$<57344){if(!W){if($>56319){(z-=3)>-1&&he.push(239,191,189);continue}if(ye+1===ae){(z-=3)>-1&&he.push(239,191,189);continue}W=$;continue}if($<56320){(z-=3)>-1&&he.push(239,191,189),W=$;continue}$=65536+(W-55296<<10|$-56320)}else W&&(z-=3)>-1&&he.push(239,191,189);if(W=null,$<128){if((z-=1)<0)break;he.push($)}else if($<2048){if((z-=2)<0)break;he.push($>>6|192,63&$|128)}else if($<65536){if((z-=3)<0)break;he.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;he.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return he}function Fe(oe){return o.toByteArray(function($){if(($=function(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")}($).replace(Ae,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(oe))}function Xe(oe,z,$,ae){for(var W=0;W<ae&&!(W+$>=z.length||W>=oe.length);++W)z[W+$]=oe[W];return W}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(v){var w=p(v),S=w[0],x=w[1];return 3*(S+x)/4-x},r.toByteArray=function(v){var w,S,x=p(v),E=x[0],A=x[1],I=new s(function(Q,Y,B){return 3*(Y+B)/4-B}(0,E,A)),M=0,D=A>0?E-4:E;for(S=0;S<D;S+=4)w=o[v.charCodeAt(S)]<<18|o[v.charCodeAt(S+1)]<<12|o[v.charCodeAt(S+2)]<<6|o[v.charCodeAt(S+3)],I[M++]=w>>16&255,I[M++]=w>>8&255,I[M++]=255&w;return A===2&&(w=o[v.charCodeAt(S)]<<2|o[v.charCodeAt(S+1)]>>4,I[M++]=255&w),A===1&&(w=o[v.charCodeAt(S)]<<10|o[v.charCodeAt(S+1)]<<4|o[v.charCodeAt(S+2)]>>2,I[M++]=w>>8&255,I[M++]=255&w),I},r.fromByteArray=function(v){for(var w,S=v.length,x=S%3,E=[],A=16383,I=0,M=S-x;I<M;I+=A)E.push(m(v,I,I+A>M?M:I+A));return x===1?(w=v[S-1],E.push(a[w>>2]+a[w<<4&63]+"==")):x===2&&(w=(v[S-2]<<8)+v[S-1],E.push(a[w>>10]+a[w>>4&63]+a[w<<2&63]+"=")),E.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=l.length;c<h;++c)a[c]=l[c],o[l.charCodeAt(c)]=c;function p(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");return w===-1&&(w=v),[w,w===v?0:4-w%4]}function m(y,v,w){for(var S,x,E=[],A=v;A<w;A+=3)S=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),E.push(a[(x=S)>>18&63]+a[x>>12&63]+a[x>>6&63]+a[63&x]);return E.join("")}o[45]=62,o[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,o,s,l){var c,h,p=8*l-s-1,m=(1<<p)-1,y=m>>1,v=-7,w=o?l-1:0,S=o?-1:1,x=i[a+w];for(w+=S,c=x&(1<<-v)-1,x>>=-v,v+=p;v>0;c=256*c+i[a+w],w+=S,v-=8);for(h=c&(1<<-v)-1,c>>=-v,v+=s;v>0;h=256*h+i[a+w],w+=S,v-=8);if(c===0)c=1-y;else{if(c===m)return h?NaN:1/0*(x?-1:1);h+=Math.pow(2,s),c-=y}return(x?-1:1)*h*Math.pow(2,c-s)},r.write=function(i,a,o,s,l,c){var h,p,m,y=8*c-l-1,v=(1<<y)-1,w=v>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=s?0:c-1,E=s?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(p=isNaN(a)?1:0,h=v):(h=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-h))<1&&(h--,m*=2),(a+=h+w>=1?S/m:S*Math.pow(2,1-w))*m>=2&&(h++,m/=2),h+w>=v?(p=0,h=v):h+w>=1?(p=(a*m-1)*Math.pow(2,l),h+=w):(p=a*Math.pow(2,w-1)*Math.pow(2,l),h=0));l>=8;i[o+x]=255&p,x+=E,p/=256,l-=8);for(h=h<<l|p,y+=l;y>0;i[o+x]=255&h,x+=E,h/=256,y-=8);i[o+x-E]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,c=s.KeyUtil,h=s.X509,p=s.crypto,m=s.hextob64u,y=s.b64tohex,v=s.AllowedSigningAlgs;return function(){function w(){(function(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")})(this,w)}return w.parseJwt=function(x){a.Log.debug("JoseUtil.parseJwt");try{var E=l.JWS.parse(x);return{header:E.headerObj,payload:E.payloadObj}}catch(A){a.Log.error(A)}},w.validateJwt=function(x,E,A,I,M,D,F){a.Log.debug("JoseUtil.validateJwt");try{if(E.kty==="RSA")if(E.e&&E.n)E=c.getKey(E);else{if(!E.x5c||!E.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",E),Promise.reject(new Error("RSA key missing key material"));var Q=y(E.x5c[0]);E=h.getPublicKeyFromCertHex(Q)}else{if(E.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",E&&E.kty),Promise.reject(new Error(E.kty));if(!(E.crv&&E.x&&E.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",E),Promise.reject(new Error("EC key missing key material"));E=c.getKey(E)}return w._validateJwt(x,E,A,I,M,D,F)}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject("JWT validation failed")}},w.validateJwtAttributes=function(x,E,A,I,M,D){I||(I=0),M||(M=parseInt(Date.now()/1e3));var F=w.parseJwt(x).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==E)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===A||Array.isArray(F.aud)&&F.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!D){var Q=M+I,Y=M-I;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&Q<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<Y)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},w._validateJwt=function(x,E,A,I,M,D,F){return w.validateJwtAttributes(x,A,I,M,D,F).then(function(Q){try{return l.JWS.verify(x,E,v)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject(new Error("signature validation failed"))}})},w.hashString=function(x,E){try{return p.Util.hashString(x,E)}catch(A){a.Log.error(A)}},w.hexToBase64Url=function(x){try{return m(x)}catch(E){a.Log.error(E)}},w}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(c,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,p){return h&&l(c.prototype,h),p&&l(c,p),c}}(),o=i(3);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var p=o.UrlUtility.parseUrlFragment(c,h);this.error=p.error,this.error_description=p.error_description,this.error_uri=p.error_uri,this.code=p.code,this.state=p.state,this.id_token=p.id_token,this.session_state=p.session_state,this.access_token=p.access_token,this.token_type=p.token_type,this.scope=p.scope,this.profile=void 0,this.expires_in=p.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var p=parseInt(h);if(typeof p=="number"&&p>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+p}}},{key:"expired",get:function(){var h=this.expires_in;if(h!==void 0)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),o=i(3),s=i(9);r.SignoutRequest=function l(c){var h=c.url,p=c.id_token_hint,m=c.post_logout_redirect_uri,y=c.data,v=c.extraQueryParams,w=c.request_type;if(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in p&&(h=o.UrlUtility.addQueryParam(h,"id_token_hint",p)),m&&(h=o.UrlUtility.addQueryParam(h,"post_logout_redirect_uri",m),y&&(this.state=new s.State({data:y,request_type:w}),h=o.UrlUtility.addQueryParam(h,"state",this.state.id))),v)h=o.UrlUtility.addQueryParam(h,S,v[S]);this.url=h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function o(s){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,o);var l=a.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&s(l.prototype,c),h&&s(l,h),l}}(),o=i(0);r.InMemoryWebStorage=function(){function s(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(c){return o.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},s.prototype.setItem=function(c,h){o.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=h},s.prototype.removeItem=function(c){o.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},s.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(I,M){for(var D=0;D<M.length;D++){var F=M[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,F.key,F)}}return function(I,M,D){return M&&A(I.prototype,M),D&&A(I,D),I}}(),o=i(0),s=i(10),l=i(39),c=i(15),h=i(45),p=i(47),m=i(18),y=i(8),v=i(20),w=i(11),S=i(4);function x(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function E(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?A:I}r.UserManager=function(A){function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.TokenRevocationClient,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:w.TokenClient,B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;x(this,I),M instanceof l.UserManagerSettings||(M=new l.UserManagerSettings(M));var Z=E(this,A.call(this,M));return Z._events=new h.UserManagerEvents(M),Z._silentRenewService=new D(Z),Z.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Z.startSilentRenew()),Z.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Z._sessionMonitor=new F(Z)),Z._tokenRevocationClient=new Q(Z._settings),Z._tokenClient=new Y(Z._settings),Z._joseUtil=B,Z}return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}(I,A),I.prototype.getUser=function(){var D=this;return this._loadUser().then(function(F){return F?(o.Log.info("UserManager.getUser: user loaded"),D._events.load(F,!1),F):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},I.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},I.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var F={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,F).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},I.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),F})},I.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var F=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),Q})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},I.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){o.Log.error(F.message)})},I.prototype.signinSilent=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(F.refresh_token=Q.refresh_token,D._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),F.current_sub=Q.profile.sub),D._signinSilentIframe(F))})},I.prototype._useRefreshToken=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(Y){if(Y){var B=Promise.resolve();return Q.id_token&&(B=D._validateIdTokenFromTokenRefreshToken(Y.profile,Q.id_token)),B.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),Y.id_token=Q.id_token||Y.id_token,Y.access_token=Q.access_token,Y.refresh_token=Q.refresh_token||Y.refresh_token,Y.expires_in=Q.expires_in,D.storeUser(Y).then(function(){return D._events.load(Y),Y})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},I.prototype._validateIdTokenFromTokenRefreshToken=function(D,F){var Q=this;return this._metadataService.getIssuer().then(function(Y){return Q.settings.getEpochTime().then(function(B){return Q._joseUtil.validateJwtAttributes(F,Y,Q._settings.client_id,Q._settings.clockSkew,B).then(function(Z){return Z?Z.sub!==D.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Z.auth_time&&Z.auth_time!==D.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Z.azp&&Z.azp!==D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Z.azp&&D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},I.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:F,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),Q})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),F})},I.prototype.signinCallback=function(D){var F=this;return this.readSigninResponseState(D).then(function(Q){var Y=Q.state;return Q.response,Y.request_type==="si:r"?F.signinRedirectCallback(D):Y.request_type==="si:p"?F.signinPopupCallback(D):Y.request_type==="si:s"?F.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},I.prototype.signoutCallback=function(D,F){var Q=this;return this.readSignoutResponseState(D).then(function(Y){var B=Y.state,Z=Y.response;return B?B.request_type==="so:r"?Q.signoutRedirectCallback(D):B.request_type==="so:p"?Q.signoutPopupCallback(D,F):Promise.reject(new Error("invalid response_type in state")):Z})},I.prototype.querySessionStatus=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var Q=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(F.redirect_uri=Q,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Y){return D.processSigninResponse(Y.url).then(function(B){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),B.session_state&&B.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",B.profile.sub),{session_state:B.session_state,sub:B.profile.sub,sid:B.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(B){if(B.session_state&&D.settings.monitorAnonymousSession&&(B.message=="login_required"||B.message=="consent_required"||B.message=="interaction_required"||B.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:B.session_state};throw B})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype._signin=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,F,Y).then(function(B){return Q._signinEnd(B.url,D)})},I.prototype._signinStart=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(Y).then(function(B){return o.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(Z){return o.Log.debug("UserManager._signinStart: got signin request"),Y.url=Z.url,Y.id=Z.state.id,B.navigate(Y)}).catch(function(Z){throw B.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),B.close()),Z})})},I.prototype._signinEnd=function(D){var F=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(Y){o.Log.debug("UserManager._signinEnd: got signin response");var B=new c.User(Y);if(Q.current_sub){if(Q.current_sub!==B.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",B.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(B).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),F._events.load(B),B})})},I.prototype._signinCallback=function(D,F){o.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(D,void 0,Q)},I.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var F=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(D.post_logout_redirect_uri=F);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},I.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(F){return o.Log.info("UserManager.signoutRedirectCallback: successful"),F})},I.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var F=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=F,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},I.prototype.signoutPopupCallback=function(D,F){return F===void 0&&typeof D=="boolean"&&(F=D,D=null),this._popupNavigator.callback(D,F,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},I.prototype._signout=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,F,Y).then(function(B){return Q._signoutEnd(B.url)})},I.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,Q=arguments[1],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(Y).then(function(B){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(Z){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(Z):Promise.resolve()).then(function(){var ce=D.id_token_hint||Z&&Z.id_token;return ce&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=ce),F.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(D).then(function(re){return o.Log.debug("UserManager._signoutStart: got signout request"),Y.url=re.url,re.state&&(Y.id=re.state.id),B.navigate(Y)})})})}).catch(function(Z){throw B.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),B.close()),Z})})},I.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(F){return o.Log.debug("UserManager._signoutEnd: got signout response"),F})},I.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(F){return D._revokeInternal(F,!0).then(function(Q){if(Q)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,D.storeUser(F).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(F)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},I.prototype._revokeInternal=function(D,F){var Q=this;if(D){var Y=D.access_token,B=D.refresh_token;return this._revokeAccessTokenInternal(Y,F).then(function(Z){return Q._revokeRefreshTokenInternal(B,F).then(function(ce){return Z||ce||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Z||ce})})}return Promise.resolve(!1)},I.prototype._revokeAccessTokenInternal=function(D,F){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,F).then(function(){return!0})},I.prototype._revokeRefreshTokenInternal=function(D,F){return D?this._tokenRevocationClient.revoke(D,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},I.prototype.startSilentRenew=function(){this._silentRenewService.start()},I.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},I.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(o.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(D)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},I.prototype.storeUser=function(D){if(D){o.Log.debug("UserManager.storeUser: storing user");var F=D.toStorageString();return this._userStore.set(this._userStoreKey,F)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(I,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),I}(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function w(S,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,x,E){return x&&w(S.prototype,x),E&&w(S,E),S}}(),o=(i(0),i(5)),s=i(40),l=i(41),c=i(43),h=i(6),p=i(1),m=i(8);function y(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function v(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?w:S}r.UserManagerSettings=function(w){function S(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=x.popup_redirect_uri,A=x.popup_post_logout_redirect_uri,I=x.popupWindowFeatures,M=x.popupWindowTarget,D=x.silent_redirect_uri,F=x.silentRequestTimeout,Q=x.automaticSilentRenew,Y=Q!==void 0&&Q,B=x.validateSubOnSilentRenew,Z=B!==void 0&&B,ce=x.includeIdTokenInSilentRenew,re=ce===void 0||ce,ue=x.monitorSession,ge=ue===void 0||ue,_e=x.monitorAnonymousSession,de=_e!==void 0&&_e,fe=x.checkSessionInterval,Ie=fe===void 0?2e3:fe,k=x.stopCheckSessionOnError,ie=k===void 0||k,me=x.query_status_response_type,H=x.revokeAccessTokenOnSignout,J=H!==void 0&&H,pe=x.accessTokenExpiringNotificationTime,Ae=pe===void 0?60:pe,Je=x.redirectNavigator,Re=Je===void 0?new s.RedirectNavigator:Je,Fe=x.popupNavigator,Xe=Fe===void 0?new l.PopupNavigator:Fe,oe=x.iframeNavigator,z=oe===void 0?new c.IFrameNavigator:oe,$=x.userStore,ae=$===void 0?new h.WebStorageStateStore({store:p.Global.sessionStorage}):$;y(this,S);var W=v(this,w.call(this,arguments[0]));return W._popup_redirect_uri=E,W._popup_post_logout_redirect_uri=A,W._popupWindowFeatures=I,W._popupWindowTarget=M,W._silent_redirect_uri=D,W._silentRequestTimeout=F,W._automaticSilentRenew=Y,W._validateSubOnSilentRenew=Z,W._includeIdTokenInSilentRenew=re,W._accessTokenExpiringNotificationTime=Ae,W._monitorSession=ge,W._monitorAnonymousSession=de,W._checkSessionInterval=Ie,W._stopCheckSessionOnError=ie,me?W._query_status_response_type=me:arguments[0]&&arguments[0].response_type?W._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=J,W._redirectNavigator=Re,W._popupNavigator=Xe,W._iframeNavigator=z,W._userStore=ae,W}return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}(S,w),a(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(o.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&s(l.prototype,c),h&&s(l,h),l}}(),o=i(0);r.RedirectNavigator=function(){function s(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),o=i(42);r.PopupNavigator=function(){function s(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var h=new o.PopupWindow(c);return Promise.resolve(h)},s.prototype.callback=function(c,h,p){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(c,h,p),Promise.resolve()}catch(m){return Promise.reject(m)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(c,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,p){return h&&l(c.prototype,h),p&&l(c,p),c}}(),o=i(0),s=i(3);r.PopupWindow=function(){function l(c){var h=this;(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,v){h._resolve=y,h._reject=v});var p=c.popupWindowTarget||"_blank",m=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",p,m),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(h){return this._popup?h&&h.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=h.id,this._id&&(window["popupCallback_"+h.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=h.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(h){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(h)},l.prototype._error=function(h){o.Log.error("PopupWindow.error: ",h),this._cleanup(),this._reject(new Error(h))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(h){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!h&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(h,p){this._cleanup(p),h?(o.Log.debug("PopupWindow.callback success"),this._success({url:h})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(h,p,m){if(window.opener){if(h=h||window.location.href){var y=s.UrlUtility.parseUrlFragment(h,m);if(y.state){var v="popupCallback_"+y.state,w=window.opener[v];w?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),w(h,p)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),o=i(44);r.IFrameNavigator=function(){function s(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var h=new o.IFrameWindow(c);return Promise.resolve(h)},s.prototype.callback=function(c){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(c),Promise.resolve()}catch(h){return Promise.reject(h)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&s(l.prototype,c),h&&s(l,h),l}}(),o=i(0);r.IFrameWindow=function(){function s(l){var c=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(h,p){c._resolve=h,c._reject=p}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(c){if(c&&c.url){var h=c.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",h),this._timer=window.setTimeout(this._timeout.bind(this),h),this._frame.src=c.url}else this._error("No url provided");return this.promise},s.prototype._success=function(c){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(c){if(o.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var h=c.data;h?this._success({url:h}):this._error("Invalid response from frame")}},s.notifyParent=function(c){o.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),o=i(16),s=i(17);r.UserManagerEvents=function(l){function c(h){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c);var p=function(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}(this,l.call(this,h));return p._userLoaded=new s.Event("User loaded"),p._userUnloaded=new s.Event("User unloaded"),p._silentRenewError=new s.Event("Silent renew error"),p._userSignedIn=new s.Event("User signed in"),p._userSignedOut=new s.Event("User signed out"),p._userSessionChanged=new s.Event("User session changed"),p}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(c,l),c.prototype.load=function(p){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,p),m&&this._userLoaded.raise(p)},c.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(p){this._userLoaded.addHandler(p)},c.prototype.removeUserLoaded=function(p){this._userLoaded.removeHandler(p)},c.prototype.addUserUnloaded=function(p){this._userUnloaded.addHandler(p)},c.prototype.removeUserUnloaded=function(p){this._userUnloaded.removeHandler(p)},c.prototype.addSilentRenewError=function(p){this._silentRenewError.addHandler(p)},c.prototype.removeSilentRenewError=function(p){this._silentRenewError.removeHandler(p)},c.prototype._raiseSilentRenewError=function(p){a.Log.debug("UserManagerEvents._raiseSilentRenewError",p.message),this._silentRenewError.raise(p)},c.prototype.addUserSignedIn=function(p){this._userSignedIn.addHandler(p)},c.prototype.removeUserSignedIn=function(p){this._userSignedIn.removeHandler(p)},c.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(p){this._userSignedOut.addHandler(p)},c.prototype.removeUserSignedOut=function(p){this._userSignedOut.removeHandler(p)},c.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(p){this._userSessionChanged.addHandler(p)},c.prototype.removeUserSessionChanged=function(p){this._userSessionChanged.removeHandler(p)},c.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(o.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function p(m,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),o=i(0),s=i(1),l=i(17);function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}r.Timer=function(p){function m(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,m);var S=h(this,p.call(this,y));return S._timer=v,S._nowFunc=w||function(){return Date.now()/1e3},S}return function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}(m,p),m.prototype.init=function(v){v<=0&&(v=1),v=parseInt(v);var w=this.now+v;if(this.expiration===w&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",v),this._expiration=w;var S=5;v<S&&(S=v),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},m.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var v=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",v),this._expiration<=this.now&&(this.cancel(),p.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function o(s){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(P_)),P_.exports}var QC=_J();function wJ(t,e){var n,r,i,a;throw t.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=t.error_description)!==null&&r!==void 0?r:""}`):t.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${(i=t.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${t.error} - ${(a=t.error_description)!==null&&a!==void 0?a:""}`)}function bJ(t,e){if(t.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(t.redirect_uris===void 0||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}async function SJ(t,e){var n;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=QZ(e.idTokenSigningAlgValuesSupported,n0),i={client_name:t.clientName,application_type:"web",redirect_uris:[(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},o=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(o.ok){const s=await o.json();return bJ(s,t),{clientId:s.client_id,clientSecret:s.client_secret,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&wJ(await o.json(),t),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function xJ(t){return t.error!==void 0&&typeof t.error=="string"}function MM(t){return t.error_description!==void 0&&typeof t.error_description=="string"}function EJ(t){return t.error_uri!==void 0&&typeof t.error_uri=="string"}function TJ(t){return t.access_token!==void 0&&typeof t.access_token=="string"}function CJ(t){return t.id_token!==void 0&&typeof t.id_token=="string"}function AJ(t){return t.refresh_token!==void 0&&typeof t.refresh_token=="string"}function RJ(t){return t.token_type!==void 0&&typeof t.token_type=="string"}function PJ(t){return t.expires_in===void 0||typeof t.expires_in=="number"}function OJ(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}function O8(t,e){if(xJ(t))throw new R8(`Token endpoint returned error [${t.error}]${MM(t)?`: ${t.error_description}`:""}${EJ(t)?` (see ${t.error_uri})`:""}`,t.error,MM(t)?t.error_description:void 0);if(!TJ(t))throw new Eg(["access_token"]);if(!CJ(t))throw new Eg(["id_token"]);if(!RJ(t))throw new Eg(["token_type"]);if(!PJ(t))throw new Eg(["expires_in"]);if(!e&&t.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${t.token_type}].`);return t}async function IJ(t,e,n,r){OJ(t,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await aJ(),i.DPoP=await cR(t.tokenEndpoint,"POST",a)),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:e.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},c=await(await fetch(t.tokenEndpoint,s)).json(),h=O8(c,r),{webId:p,clientId:m}=await b8(h.id_token,t.jwksUri,t.issuer,e.clientId);return{accessToken:h.access_token,idToken:h.id_token,refreshToken:AJ(h)?h.refresh_token:void 0,webId:p,clientId:m,dpopKey:a,expiresIn:h.expires_in}}const LJ=t=>{try{return new URL(t),!0}catch{return!1}};async function MJ(t,e,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:t,scope:w8};let a={};r!==void 0&&(a={DPoP:await cR(e.tokenEndpoint,"POST",r)});let o={};n.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:LJ(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const c=O8(l,r!==void 0),{webId:h}=await b8(c.id_token,e.jwksUri,e.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:h,dpopKey:r,expiresIn:c.expires_in}}function DJ(t){const e=x8(t);return e.hash="",t.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function kJ(){await new QC.OidcClient({response_mode:"query"}).clearStaleState(new QC.WebStorageStateStore({}));const e=window.localStorage,n=[];for(let r=0;r<=e.length;r+=1){const i=e.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>e.removeItem(r))}class NJ extends nJ{constructor(e,n){super(e,n)}}class FJ extends eJ{constructor(){super(...arguments),this.login=async(e,n)=>{var r,i;await this.sessionInfoManager.clear(e.sessionId);const a=(r=e.redirectUrl)!==null&&r!==void 0?r:DJ(window.location.href);if(!S8(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:a,clientName:(i=e.clientName)!==null&&i!==void 0?i:e.clientId,eventEmitter:n})},this.validateCurrentSession=async e=>{const n=await this.sessionInfoManager.get(e);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(e,n)=>{try{const r=await this.redirectHandler.handle(e,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(e),n.emit(ni.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(e){const n=x8(e).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function DM(t){return typeof t.oidcIssuer=="string"}function kM(t){return typeof t.redirectUrl=="string"}class jJ{constructor(e,n,r,i){this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(e){return DM(e)&&kM(e)}async handle(e){if(!DM(e))throw new WC(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!kM(e))throw new WC(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const n=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await XZ(e,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class $J extends BZ{async handle(e){var n;const r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:w8,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=e.prompt)!==null&&n!==void 0?n:"consent"},i=new QC.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const UJ=".well-known/openid-configuration",NM={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function BJ(t){const e={};return Object.keys(t).forEach(n=>{NM[n]&&(e[NM[n].toKey]=t[n])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class fR{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let n;const r=new URL(UJ,e.endsWith("/")?e:`${e}/`).href,i=await fetch(r);try{n=BJ(await i.json())}catch(a){throw new WC(`[${e.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(fR.getLocalStorageKey(e),JSON.stringify(n)),n}}async function qJ(t,e){await T8(t,e),await kJ()}class zJ extends VZ{async get(e){const[n,r,i,a,o,s,l,c]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof o=="string"&&!S8(o)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(c!==void 0&&!WZ(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:e,webId:r,isLoggedIn:n==="true",redirectUrl:o,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:c??"DPoP"}}async clear(e){return qJ(e,this.storageUtility)}}class HJ{async canHandle(e){try{return new URL(e),!0}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e){return E8()}}class VJ{constructor(e,n,r,i,a){this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(e){try{const n=new URL(e);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const r=new URL(e),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:l,dpop:c}=await A8(a,this.storageUtility,this.issuerConfigFetcher),h=r.searchParams.get("iss");if(typeof h=="string"&&h!==o.issuer)throw new Error(`The value of the iss parameter (${h}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:a},o),m=Date.now(),y=await IJ(o,p,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let v;y.refreshToken!==void 0&&(v={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const w=await cJ(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:v,eventEmitter:n,expiresIn:y.expiresIn});await tJ(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const S=await this.sessionInfoManager.get(a);if(!S)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(S,{fetch:w,getLogoutUrl:GZ({idTokenHint:y.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class KJ extends $Z{constructor(e){super(e)}}class GJ{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,n){this.storage.setItem(e,n)}async delete(e){this.storage.removeItem(e)}}class WJ{redirect(e,n){n&&n.handleRedirect?n.handleRedirect(e):n&&n.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class QJ{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,n){const[r,i,a,o]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]);if(r&&YZ(o))return{clientId:r,clientSecret:i,clientName:a,clientType:o};try{const s=await SJ(e,n),l={clientId:s.clientId,clientType:"dynamic"};return s.clientSecret&&(l.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,l,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class ZJ{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(n!==void 0){const r=new URL(e),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ni.ERROR,i,a)}return E8()}}class JJ{constructor(e,n,r){this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(e,n,r,i){const a=await A8(e,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:e},a.issuerConfig);if(n===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await MJ(n,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(i==null||i.emit(ni.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function FM(t){const e=new rJ,n=t.secureStorage||e,r=t.insecureStorage||new GJ,i=new NJ(n,r),a=new fR(i),o=new QJ(i),s=new zJ(i),l=new JJ(i,a,o),c=new WJ,h=new jJ(i,new $J(i,c),a,o),p=new KJ([new ZJ,new VJ(i,s,a,o,l),new HJ]);return new FJ(h,p,new HZ(s,c),s,a)}const F1=`${_8}currentSession`,ZC=`${_8}currentUrl`;async function YJ(t,e,n){var r;const i=await e.validateCurrentSession(t);return i!==null?(window.localStorage.setItem(ZC,window.location.href),await e.login({sessionId:t,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function XJ(t){return!!(t!=null&&t.isLoggedIn)}class eY{constructor(e={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(F1),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ni.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,o=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const s=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(XJ(s)){this.setSessionInfo(s);const l=window.localStorage.getItem(ZC);l===null?this.events.emit(ni.LOGIN):(window.localStorage.removeItem(ZC),this.events.emit(ni.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(F1);if(l!==null&&await YJ(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,s},this.events=new yJ,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=FM({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=FM({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:n??gJ(),isLoggedIn:!1},this.events.on(ni.LOGIN,()=>window.localStorage.setItem(F1,this.info.sessionId)),this.events.on(ni.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ni.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(ni.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let j1;function Em(){return typeof j1>"u"&&(j1=new eY),j1}const nr=(...t)=>Em().fetch(...t),tY=(...t)=>Em().login(...t),nY=(...t)=>Em().logout(...t),rY=(...t)=>Em().handleIncomingRedirect(...t);var $1,jM;function iY(){if(jM)return $1;jM=1;var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(v){return v.replace(e,"")}function c(v){return n.test(v)}function h(v,w){for(;c(v[w]);)w++;return w}function p(v){return a.test(v)||!o.test(v)}function m(v,w){return Object.keys(v).length===Object.keys(w).length&&Object.keys(v).every(S=>S in w&&v[S]===w[S])}class y{constructor(w){this.refs=[],w&&this.parse(w)}rel(w){for(var S=[],x=w.toLowerCase(),E=0;E<this.refs.length;E++)typeof this.refs[E].rel=="string"&&this.refs[E].rel.toLowerCase()===x&&S.push(this.refs[E]);return S}get(w,S){w=w.toLowerCase(),S=S.toLowerCase();for(var x=[],E=0;E<this.refs.length;E++)typeof this.refs[E][w]=="string"&&this.refs[E][w].toLowerCase()===S&&x.push(this.refs[E]);return x}set(w){return this.refs.push(w),this}setUnique(w){return this.refs.some(S=>m(S,w))||this.refs.push(w),this}has(w,S){w=w.toLowerCase(),S=S.toLowerCase();for(var x=0;x<this.refs.length;x++)if(typeof this.refs[x][w]=="string"&&this.refs[x][w].toLowerCase()===S)return!0;return!1}parse(w,A){A=A||0,w=A?w.slice(A):w,w=l(w).replace(r,"");for(var x=s.IDLE,E=w.length,A=0,I=null;A<E;)if(x===s.IDLE){if(c(w[A])){A++;continue}else if(w[A]==="<"){I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I));var M=w.indexOf(">",A);if(M===-1)throw new Error("Expected end of URI delimiter at offset "+A);I={uri:w.slice(A+1,M)},A=M,x=s.URI}else throw new Error('Unexpected character "'+w[A]+'" at offset '+A);A++}else if(x===s.URI)if(c(w[A])){A++;continue}else if(w[A]===";")x=s.ATTR,A++;else if(w[A]===",")x=s.IDLE,A++;else throw new Error('Unexpected character "'+w[A]+'" at offset '+A);else if(x===s.ATTR){if(w[A]===";"||c(w[A])){A++;continue}var M=w.indexOf("=",A);M===-1&&(M=w.indexOf(";",A)),M===-1&&(M=w.length);var D=l(w.slice(A,M)).toLowerCase(),F="";if(A=M+1,A=h(w,A),w[A]==='"')for(A++;A<E;){if(w[A]==='"'){A++;break}w[A]==="\\"&&A++,F+=w[A],A++}else{for(var M=A+1;!i.test(w[M])&&M<E;)M++;F=w.slice(A,M),A=M}switch(I[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?I[D]=y.parseExtendedValue(F):(F=D==="type"?F.toLowerCase():F,I[D]!=null?Array.isArray(I[D])?I[D].push(F):I[D]=[I[D],F]:I[D]=F)),w[A]){case",":x=s.IDLE;break;case";":x=s.ATTR;break}A++}else throw new Error('Unknown parser state "'+x+'"');return I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I)),I=null,this}toString(){for(var w=[],S="",x=null,E=0;E<this.refs.length;E++)x=this.refs[E],S=Object.keys(this.refs[E]).reduce(function(A,I){return I==="uri"?A:A+"; "+y.formatAttribute(I,x[I])},"<"+x.uri+">"),w.push(S);return w.join(", ")}}return y.isCompatibleEncoding=function(v){return t.test(v)},y.parse=function(v,w){return new y().parse(v,w)},y.isSingleOccurenceAttr=function(v){return v==="rel"||v==="type"||v==="media"||v==="title"||v==="title*"},y.isTokenAttr=function(v){return v==="rel"||v==="type"||v==="anchor"},y.escapeQuotes=function(v){return v.replace(/"/g,'\\"')},y.expandRelations=function(v){var w=v.rel.split(" ");return w.map(function(S){var x=Object.assign({},v);return x.rel=S,x})},y.parseExtendedValue=function(v){var w=/([^']+)?(?:'([^']*)')?(.+)/.exec(v);return{language:w[2].toLowerCase(),encoding:y.isCompatibleEncoding(w[1])?null:w[1].toLowerCase(),value:y.isCompatibleEncoding(w[1])?decodeURIComponent(w[3]):w[3]}},y.formatExtendedAttribute=function(v,w){var S=(w.encoding||"utf-8").toUpperCase(),x=w.language||"en",E="";return Buffer.isBuffer(w.value)&&y.isCompatibleEncoding(S)?E=w.value.toString(S):Buffer.isBuffer(w.value)?E=w.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):E=encodeURIComponent(w.value),v+"="+S+"'"+x+"'"+E},y.formatAttribute=function(v,w){return Array.isArray(w)?w.map(S=>y.formatAttribute(v,S)).join("; "):v[v.length-1]==="*"||typeof w!="string"?y.formatExtendedAttribute(v,w):(y.isTokenAttr(v)?w=p(w)?'"'+y.escapeQuotes(w)+'"':y.escapeQuotes(w):p(w)&&(w=encodeURIComponent(w),w=w.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),w='"'+w+'"'),v+"="+w)},$1=y,$1}var aY=iY();const I8=Dr(aY),cp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",fp="http://www.w3.org/2001/XMLSchema#",U1="http://www.w3.org/2000/10/swap/",Ui={xsd:{decimal:`${fp}decimal`,boolean:`${fp}boolean`,double:`${fp}double`,integer:`${fp}integer`,string:`${fp}string`},rdf:{type:`${cp}type`,nil:`${cp}nil`,first:`${cp}first`,rest:`${cp}rest`,langString:`${cp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${U1}reify#forSome`,forAll:`${U1}reify#forAll`},log:{implies:`${U1}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var B1,$M;function oY(){if($M)return B1;$M=1;let t;return B1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:_g):e=>(t||(t=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),B1}var sY=oY();const L8=Dr(sY),{xsd:rv}=Ui,uY=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,UM={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},lY=/[\x00-\x20<>\\"\{\}\|\^\`]/,cY={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},fY=/$0^/;let dR=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in cY)&&this[n]instanceof RegExp&&(this[n]=fY)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this._comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,h=r[0];let p="",m="",y="",v=null,w=0,S=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(w=1,p="^");break}case"<":if(v=this._unescapedIri.exec(r))p="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||lY.test(m))return o(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",w=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",w=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",w=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return o(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return o(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(p="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(p="langcode",m=v[1]):(v=this._keyword.exec(r))&&(p=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",w=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(p="literal",m=v[0],y=typeof v[1]=="string"?rv.double:typeof v[2]=="string"?rv.decimal:rv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?p=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(p="literal",m=v[0],y=rv.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(w=1,m="="):(w=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(w=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",w=2):(p=h,w=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",w=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(p="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const x=w||v[0].length,E=a(p,m,y,c,x);this.previousToken=E,this._previousMarker=p,r=r.substr(x,r.length)}function a(s,l,c,h,p){const m=r?i-r.length:i,y=m+p,v={type:s,value:l,prefix:c,line:h,start:m,end:y};return e(null,v),v}function o(s){e(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(uY,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in UM?UM[s]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const o=e.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")L8(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}};function dY(t){return!!t&&t.termType==="NamedNode"}function hY(t){return!!t&&t.termType==="BlankNode"}function pY(t){return!!t&&t.termType==="Literal"}function gY(t){return!!t&&t.termType==="Variable"}function Dd(t){return!!t&&t.termType==="DefaultGraph"}function mY(t){return Dd(t.graph)}function yY(t,e){return M8({"":t.value||t},e)("")}function M8(t,e){const n=Object.create(null);for(const i in t)r(i,t[i]);e=e||El;function r(i,a){if(typeof a=="string"){const o=Object.create(null);n[i]=s=>o[s]||(o[s]=e.namedNode(a+s))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const D8=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:mY,isBlankNode:hY,isDefaultGraph:Dd,isLiteral:pY,isNamedNode:dY,isVariable:gY,prefix:yY,prefixes:M8},Symbol.toStringTag,{value:"Module"})),{rdf:vY,xsd:Rc}=Ui;let Tm,_Y=0;const El={namedNode:wY,blankNode:bY,variable:xY,literal:SY,defaultGraph:EY,quad:BM,triple:BM};let vs=class k8{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof k8?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Gr=class extends vs{get termType(){return"NamedNode"}},cd=class N8 extends vs{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new Gr(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Rc.string:vY.langString}equals(e){return e instanceof N8?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},hR=class extends vs{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},pR=class extends vs{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},gR=class extends vs{constructor(){return super(""),Tm||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Tm=new gR;function Ic(t,e,n){if(e=e||El,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===El)return new cd(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Ic(t[0],e,!0),Ic(t[1],e,!0),Ic(t[2],e,!0),t[3]&&Ic(t[3],e,!0))}function ia(t,e){if(typeof t=="string")return t;if(t instanceof vs&&t.termType!=="Quad")return t.id;if(!t)return Tm.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Rc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[ia(t.subject,!0),ia(t.predicate,!0),ia(t.object,!0)];return Dd(t.graph)||n.push(ia(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Po=class extends vs{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||Tm}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function wY(t){return new Gr(t)}function bY(t){return new hR(t||`n3-${_Y++}`)}function SY(t,e){if(typeof e=="string")return new cd(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Rc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Rc.integer:Rc.double:(n=Rc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Rc.string?new cd(`"${t}"`):new cd(`"${t}"^^${n}`)}function xY(t){return new pR(t)}function EY(){return Tm}function BM(t,e,n,r){return new Po(t,e,n,r)}let qM=0,Zd=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&F8(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new dR({lineMode:l,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){qM=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=q1}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(s=e[++i+1],s){case"/":r+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+e.substring(o,i)+e.substr(i+1);case".":if(s=e[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=e.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${e.substr(i+1)}`;o=i+1}}}s=e[++i]}return r+e.substring(o)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${qM++}_`,this._prefixCallback=r||q1,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(o,s)=>{o?a=o:s&&i.push(s)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),a)throw a;return i}this._callback=n,this._lexer.tokenize(e,(i,a)=>{i!==null?(this._callback(i),this._callback=q1):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function q1(){}function F8(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(Ui.rdf.first),t.RDF_REST=n(Ui.rdf.rest),t.RDF_NIL=n(Ui.rdf.nil),t.N3_FORALL=n(Ui.r.forAll),t.N3_FORSOME=n(Ui.r.forSome),t.ABBREVIATIONS={a:n(Ui.rdf.type),"=":n(Ui.owl.sameAs),">":n(Ui.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}F8(Zd.prototype,El);const dp=El.defaultGraph(),{rdf:TY,xsd:zf}=Ui,zM=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,HM=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,CY={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let hp=class extends vs{equals(e){return e===this}},N0=class{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=dp,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${KM(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return dp.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(dp.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),zM.test(n)&&(n=n.replace(HM,VM));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(zM.test(n)&&(n=n.replace(HM,VM)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===zf.string)return`"${n}"`}else switch(e.datatype.value){case zf.string:return`"${n}"`;case zf.boolean:if(n==="true"||n==="false")return n;break;case zf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case zf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case zf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===TY.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Dd(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,dp,i):this._writeQuad(e,n,r,i||dp,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=KM(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new hp("[]");case 1:if(i=r[0],!(i.object instanceof hp))return new hp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new hp(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new hp(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function VM(t){let e=CY[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function KM(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var z1={exports:{}},H1={exports:{}},V1={},pp={},GM;function AY(){if(GM)return pp;GM=1,pp.byteLength=s,pp.toByteArray=c,pp.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=v);var S=w===v?0:4-w%4;return[w,S]}function s(y){var v=o(y),w=v[0],S=v[1];return(w+S)*3/4-S}function l(y,v,w){return(v+w)*3/4-w}function c(y){var v,w=o(y),S=w[0],x=w[1],E=new n(l(y,S,x)),A=0,I=x>0?S-4:S,M;for(M=0;M<I;M+=4)v=e[y.charCodeAt(M)]<<18|e[y.charCodeAt(M+1)]<<12|e[y.charCodeAt(M+2)]<<6|e[y.charCodeAt(M+3)],E[A++]=v>>16&255,E[A++]=v>>8&255,E[A++]=v&255;return x===2&&(v=e[y.charCodeAt(M)]<<2|e[y.charCodeAt(M+1)]>>4,E[A++]=v&255),x===1&&(v=e[y.charCodeAt(M)]<<10|e[y.charCodeAt(M+1)]<<4|e[y.charCodeAt(M+2)]>>2,E[A++]=v>>8&255,E[A++]=v&255),E}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,v,w){for(var S,x=[],E=v;E<w;E+=3)S=(y[E]<<16&16711680)+(y[E+1]<<8&65280)+(y[E+2]&255),x.push(h(S));return x.join("")}function m(y){for(var v,w=y.length,S=w%3,x=[],E=16383,A=0,I=w-S;A<I;A+=E)x.push(p(y,A,A+E>I?I:A+E));return S===1?(v=y[w-1],x.push(t[v>>2]+t[v<<4&63]+"==")):S===2&&(v=(y[w-2]<<8)+y[w-1],x.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),x.join("")}return pp}var iv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var WM;function RY(){return WM||(WM=1,iv.read=function(t,e,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,c=l>>1,h=-7,p=n?i-1:0,m=n?-1:1,y=t[e+p];for(p+=m,a=y&(1<<-h)-1,y>>=-h,h+=s;h>0;a=a*256+t[e+p],p+=m,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=r;h>0;o=o*256+t[e+p],p+=m,h-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(y?-1:1)*o*Math.pow(2,a-r)},iv.write=function(t,e,n,r,i,a){var o,s,l,c=a*8-i-1,h=(1<<c)-1,p=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,v=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+p>=1?e+=m/l:e+=m*Math.pow(2,1-p),e*l>=2&&(o++,l/=2),o+p>=h?(s=0,o=h):o+p>=1?(s=(e*l-1)*Math.pow(2,i),o=o+p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+y]=s&255,y+=v,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;t[n+y]=o&255,y+=v,o/=256,c-=8);t[n+y-v]|=w*128}),iv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var QM;function gu(){return QM||(QM=1,function(t){const e=AY(),n=RY(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const X=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(X,q),X.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(X){if(X>i)throw new RangeError('The value "'+X+'" is invalid for option "size"');const q=new Uint8Array(X);return Object.setPrototypeOf(q,s.prototype),q}function s(X,q,K){if(typeof X=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(X)}return l(X,q,K)}s.poolSize=8192;function l(X,q,K){if(typeof X=="string")return m(X,q);if(ArrayBuffer.isView(X))return v(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(nt(X,ArrayBuffer)||X&&nt(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(X,SharedArrayBuffer)||X&&nt(X.buffer,SharedArrayBuffer)))return w(X,q,K);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=X.valueOf&&X.valueOf();if(V!=null&&V!==X)return s.from(V,q,K);const je=S(X);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return s.from(X[Symbol.toPrimitive]("string"),q,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}s.from=function(X,q,K){return l(X,q,K)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function h(X,q,K){return c(X),X<=0?o(X):q!==void 0?typeof K=="string"?o(X).fill(q,K):o(X).fill(q):o(X)}s.alloc=function(X,q,K){return h(X,q,K)};function p(X){return c(X),o(X<0?0:x(X)|0)}s.allocUnsafe=function(X){return p(X)},s.allocUnsafeSlow=function(X){return p(X)};function m(X,q){if((typeof q!="string"||q==="")&&(q="utf8"),!s.isEncoding(q))throw new TypeError("Unknown encoding: "+q);const K=A(X,q)|0;let V=o(K);const je=V.write(X,q);return je!==K&&(V=V.slice(0,je)),V}function y(X){const q=X.length<0?0:x(X.length)|0,K=o(q);for(let V=0;V<q;V+=1)K[V]=X[V]&255;return K}function v(X){if(nt(X,Uint8Array)){const q=new Uint8Array(X);return w(q.buffer,q.byteOffset,q.byteLength)}return y(X)}function w(X,q,K){if(q<0||X.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<q+(K||0))throw new RangeError('"length" is outside of buffer bounds');let V;return q===void 0&&K===void 0?V=new Uint8Array(X):K===void 0?V=new Uint8Array(X,q):V=new Uint8Array(X,q,K),Object.setPrototypeOf(V,s.prototype),V}function S(X){if(s.isBuffer(X)){const q=x(X.length)|0,K=o(q);return K.length===0||X.copy(K,0,0,q),K}if(X.length!==void 0)return typeof X.length!="number"||gt(X.length)?o(0):y(X);if(X.type==="Buffer"&&Array.isArray(X.data))return y(X.data)}function x(X){if(X>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return X|0}function E(X){return+X!=X&&(X=0),s.alloc(+X)}s.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==s.prototype},s.compare=function(q,K){if(nt(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),nt(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),!s.isBuffer(q)||!s.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===K)return 0;let V=q.length,je=K.length;for(let Ze=0,ke=Math.min(V,je);Ze<ke;++Ze)if(q[Ze]!==K[Ze]){V=q[Ze],je=K[Ze];break}return V<je?-1:je<V?1:0},s.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(q,K){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return s.alloc(0);let V;if(K===void 0)for(K=0,V=0;V<q.length;++V)K+=q[V].length;const je=s.allocUnsafe(K);let Ze=0;for(V=0;V<q.length;++V){let ke=q[V];if(nt(ke,Uint8Array))Ze+ke.length>je.length?(s.isBuffer(ke)||(ke=s.from(ke)),ke.copy(je,Ze)):Uint8Array.prototype.set.call(je,ke,Ze);else if(s.isBuffer(ke))ke.copy(je,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=ke.length}return je};function A(X,q){if(s.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||nt(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const K=X.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&K===0)return 0;let je=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return ye(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return Ne(X).length;default:if(je)return V?-1:ye(X).length;q=(""+q).toLowerCase(),je=!0}}s.byteLength=A;function I(X,q,K){let V=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,q>>>=0,K<=q))return"";for(X||(X="utf8");;)switch(X){case"hex":return Ie(this,q,K);case"utf8":case"utf-8":return ue(this,q,K);case"ascii":return de(this,q,K);case"latin1":case"binary":return fe(this,q,K);case"base64":return re(this,q,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,q,K);default:if(V)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),V=!0}}s.prototype._isBuffer=!0;function M(X,q,K){const V=X[q];X[q]=X[K],X[K]=V}s.prototype.swap16=function(){const q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<q;K+=2)M(this,K,K+1);return this},s.prototype.swap32=function(){const q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<q;K+=4)M(this,K,K+3),M(this,K+1,K+2);return this},s.prototype.swap64=function(){const q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<q;K+=8)M(this,K,K+7),M(this,K+1,K+6),M(this,K+2,K+5),M(this,K+3,K+4);return this},s.prototype.toString=function(){const q=this.length;return q===0?"":arguments.length===0?ue(this,0,q):I.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(q){if(!s.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:s.compare(this,q)===0},s.prototype.inspect=function(){let q="";const K=t.INSPECT_MAX_BYTES;return q=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(q+=" ... "),"<Buffer "+q+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(q,K,V,je,Ze){if(nt(q,Uint8Array)&&(q=s.from(q,q.offset,q.byteLength)),!s.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(K===void 0&&(K=0),V===void 0&&(V=q?q.length:0),je===void 0&&(je=0),Ze===void 0&&(Ze=this.length),K<0||V>q.length||je<0||Ze>this.length)throw new RangeError("out of range index");if(je>=Ze&&K>=V)return 0;if(je>=Ze)return-1;if(K>=V)return 1;if(K>>>=0,V>>>=0,je>>>=0,Ze>>>=0,this===q)return 0;let ke=Ze-je,At=V-K;const Ot=Math.min(ke,At),Dt=this.slice(je,Ze),Rt=q.slice(K,V);for(let qt=0;qt<Ot;++qt)if(Dt[qt]!==Rt[qt]){ke=Dt[qt],At=Rt[qt];break}return ke<At?-1:At<ke?1:0};function D(X,q,K,V,je){if(X.length===0)return-1;if(typeof K=="string"?(V=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,gt(K)&&(K=je?0:X.length-1),K<0&&(K=X.length+K),K>=X.length){if(je)return-1;K=X.length-1}else if(K<0)if(je)K=0;else return-1;if(typeof q=="string"&&(q=s.from(q,V)),s.isBuffer(q))return q.length===0?-1:F(X,q,K,V,je);if(typeof q=="number")return q=q&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(X,q,K):Uint8Array.prototype.lastIndexOf.call(X,q,K):F(X,[q],K,V,je);throw new TypeError("val must be string, number or Buffer")}function F(X,q,K,V,je){let Ze=1,ke=X.length,At=q.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(X.length<2||q.length<2)return-1;Ze=2,ke/=2,At/=2,K/=2}function Ot(Rt,qt){return Ze===1?Rt[qt]:Rt.readUInt16BE(qt*Ze)}let Dt;if(je){let Rt=-1;for(Dt=K;Dt<ke;Dt++)if(Ot(X,Dt)===Ot(q,Rt===-1?0:Dt-Rt)){if(Rt===-1&&(Rt=Dt),Dt-Rt+1===At)return Rt*Ze}else Rt!==-1&&(Dt-=Dt-Rt),Rt=-1}else for(K+At>ke&&(K=ke-At),Dt=K;Dt>=0;Dt--){let Rt=!0;for(let qt=0;qt<At;qt++)if(Ot(X,Dt+qt)!==Ot(q,qt)){Rt=!1;break}if(Rt)return Dt}return-1}s.prototype.includes=function(q,K,V){return this.indexOf(q,K,V)!==-1},s.prototype.indexOf=function(q,K,V){return D(this,q,K,V,!0)},s.prototype.lastIndexOf=function(q,K,V){return D(this,q,K,V,!1)};function Q(X,q,K,V){K=Number(K)||0;const je=X.length-K;V?(V=Number(V),V>je&&(V=je)):V=je;const Ze=q.length;V>Ze/2&&(V=Ze/2);let ke;for(ke=0;ke<V;++ke){const At=parseInt(q.substr(ke*2,2),16);if(gt(At))return ke;X[K+ke]=At}return ke}function Y(X,q,K,V){return tt(ye(q,X.length-K),X,K,V)}function B(X,q,K,V){return tt(He(q),X,K,V)}function Z(X,q,K,V){return tt(Ne(q),X,K,V)}function ce(X,q,K,V){return tt(Te(q,X.length-K),X,K,V)}s.prototype.write=function(q,K,V,je){if(K===void 0)je="utf8",V=this.length,K=0;else if(V===void 0&&typeof K=="string")je=K,V=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(V)?(V=V>>>0,je===void 0&&(je="utf8")):(je=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ze=this.length-K;if((V===void 0||V>Ze)&&(V=Ze),q.length>0&&(V<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Q(this,q,K,V);case"utf8":case"utf-8":return Y(this,q,K,V);case"ascii":case"latin1":case"binary":return B(this,q,K,V);case"base64":return Z(this,q,K,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,q,K,V);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(X,q,K){return q===0&&K===X.length?e.fromByteArray(X):e.fromByteArray(X.slice(q,K))}function ue(X,q,K){K=Math.min(X.length,K);const V=[];let je=q;for(;je<K;){const Ze=X[je];let ke=null,At=Ze>239?4:Ze>223?3:Ze>191?2:1;if(je+At<=K){let Ot,Dt,Rt,qt;switch(At){case 1:Ze<128&&(ke=Ze);break;case 2:Ot=X[je+1],(Ot&192)===128&&(qt=(Ze&31)<<6|Ot&63,qt>127&&(ke=qt));break;case 3:Ot=X[je+1],Dt=X[je+2],(Ot&192)===128&&(Dt&192)===128&&(qt=(Ze&15)<<12|(Ot&63)<<6|Dt&63,qt>2047&&(qt<55296||qt>57343)&&(ke=qt));break;case 4:Ot=X[je+1],Dt=X[je+2],Rt=X[je+3],(Ot&192)===128&&(Dt&192)===128&&(Rt&192)===128&&(qt=(Ze&15)<<18|(Ot&63)<<12|(Dt&63)<<6|Rt&63,qt>65535&&qt<1114112&&(ke=qt))}}ke===null?(ke=65533,At=1):ke>65535&&(ke-=65536,V.push(ke>>>10&1023|55296),ke=56320|ke&1023),V.push(ke),je+=At}return _e(V)}const ge=4096;function _e(X){const q=X.length;if(q<=ge)return String.fromCharCode.apply(String,X);let K="",V=0;for(;V<q;)K+=String.fromCharCode.apply(String,X.slice(V,V+=ge));return K}function de(X,q,K){let V="";K=Math.min(X.length,K);for(let je=q;je<K;++je)V+=String.fromCharCode(X[je]&127);return V}function fe(X,q,K){let V="";K=Math.min(X.length,K);for(let je=q;je<K;++je)V+=String.fromCharCode(X[je]);return V}function Ie(X,q,K){const V=X.length;(!q||q<0)&&(q=0),(!K||K<0||K>V)&&(K=V);let je="";for(let Ze=q;Ze<K;++Ze)je+=Bt[X[Ze]];return je}function k(X,q,K){const V=X.slice(q,K);let je="";for(let Ze=0;Ze<V.length-1;Ze+=2)je+=String.fromCharCode(V[Ze]+V[Ze+1]*256);return je}s.prototype.slice=function(q,K){const V=this.length;q=~~q,K=K===void 0?V:~~K,q<0?(q+=V,q<0&&(q=0)):q>V&&(q=V),K<0?(K+=V,K<0&&(K=0)):K>V&&(K=V),K<q&&(K=q);const je=this.subarray(q,K);return Object.setPrototypeOf(je,s.prototype),je};function ie(X,q,K){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+q>K)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=this[q],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[q+ke]*Ze;return je},s.prototype.readUintBE=s.prototype.readUIntBE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=this[q+--K],Ze=1;for(;K>0&&(Ze*=256);)je+=this[q+--K]*Ze;return je},s.prototype.readUint8=s.prototype.readUInt8=function(q,K){return q=q>>>0,K||ie(q,1,this.length),this[q]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(q,K){return q=q>>>0,K||ie(q,2,this.length),this[q]|this[q+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(q,K){return q=q>>>0,K||ie(q,2,this.length),this[q]<<8|this[q+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},s.prototype.readBigUInt64LE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=K+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24,Ze=this[++q]+this[++q]*2**8+this[++q]*2**16+V*2**24;return BigInt(je)+(BigInt(Ze)<<BigInt(32))}),s.prototype.readBigUInt64BE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=K*2**24+this[++q]*2**16+this[++q]*2**8+this[++q],Ze=this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+V;return(BigInt(je)<<BigInt(32))+BigInt(Ze)}),s.prototype.readIntLE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=this[q],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[q+ke]*Ze;return Ze*=128,je>=Ze&&(je-=Math.pow(2,8*K)),je},s.prototype.readIntBE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=K,Ze=1,ke=this[q+--je];for(;je>0&&(Ze*=256);)ke+=this[q+--je]*Ze;return Ze*=128,ke>=Ze&&(ke-=Math.pow(2,8*K)),ke},s.prototype.readInt8=function(q,K){return q=q>>>0,K||ie(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},s.prototype.readInt16LE=function(q,K){q=q>>>0,K||ie(q,2,this.length);const V=this[q]|this[q+1]<<8;return V&32768?V|4294901760:V},s.prototype.readInt16BE=function(q,K){q=q>>>0,K||ie(q,2,this.length);const V=this[q+1]|this[q]<<8;return V&32768?V|4294901760:V},s.prototype.readInt32LE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},s.prototype.readInt32BE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},s.prototype.readBigInt64LE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=this[q+4]+this[q+5]*2**8+this[q+6]*2**16+(V<<24);return(BigInt(je)<<BigInt(32))+BigInt(K+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24)}),s.prototype.readBigInt64BE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=(K<<24)+this[++q]*2**16+this[++q]*2**8+this[++q];return(BigInt(je)<<BigInt(32))+BigInt(this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+V)}),s.prototype.readFloatLE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),n.read(this,q,!0,23,4)},s.prototype.readFloatBE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),n.read(this,q,!1,23,4)},s.prototype.readDoubleLE=function(q,K){return q=q>>>0,K||ie(q,8,this.length),n.read(this,q,!0,52,8)},s.prototype.readDoubleBE=function(q,K){return q=q>>>0,K||ie(q,8,this.length),n.read(this,q,!1,52,8)};function me(X,q,K,V,je,Ze){if(!s.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>je||q<Ze)throw new RangeError('"value" argument is out of bounds');if(K+V>X.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(q,K,V,je){if(q=+q,K=K>>>0,V=V>>>0,!je){const At=Math.pow(2,8*V)-1;me(this,q,K,V,At,0)}let Ze=1,ke=0;for(this[K]=q&255;++ke<V&&(Ze*=256);)this[K+ke]=q/Ze&255;return K+V},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(q,K,V,je){if(q=+q,K=K>>>0,V=V>>>0,!je){const At=Math.pow(2,8*V)-1;me(this,q,K,V,At,0)}let Ze=V-1,ke=1;for(this[K+Ze]=q&255;--Ze>=0&&(ke*=256);)this[K+Ze]=q/ke&255;return K+V},s.prototype.writeUint8=s.prototype.writeUInt8=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,1,255,0),this[K]=q&255,K+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,2,65535,0),this[K]=q&255,this[K+1]=q>>>8,K+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,2,65535,0),this[K]=q>>>8,this[K+1]=q&255,K+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,4,4294967295,0),this[K+3]=q>>>24,this[K+2]=q>>>16,this[K+1]=q>>>8,this[K]=q&255,K+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,4,4294967295,0),this[K]=q>>>24,this[K+1]=q>>>16,this[K+2]=q>>>8,this[K+3]=q&255,K+4};function H(X,q,K,V,je){z(q,V,je,X,K,7);let Ze=Number(q&BigInt(4294967295));X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze,Ze=Ze>>8,X[K++]=Ze;let ke=Number(q>>BigInt(32)&BigInt(4294967295));return X[K++]=ke,ke=ke>>8,X[K++]=ke,ke=ke>>8,X[K++]=ke,ke=ke>>8,X[K++]=ke,K}function J(X,q,K,V,je){z(q,V,je,X,K,7);let Ze=Number(q&BigInt(4294967295));X[K+7]=Ze,Ze=Ze>>8,X[K+6]=Ze,Ze=Ze>>8,X[K+5]=Ze,Ze=Ze>>8,X[K+4]=Ze;let ke=Number(q>>BigInt(32)&BigInt(4294967295));return X[K+3]=ke,ke=ke>>8,X[K+2]=ke,ke=ke>>8,X[K+1]=ke,ke=ke>>8,X[K]=ke,K+8}s.prototype.writeBigUInt64LE=Se(function(q,K=0){return H(this,q,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Se(function(q,K=0){return J(this,q,K,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(q,K,V,je){if(q=+q,K=K>>>0,!je){const Ot=Math.pow(2,8*V-1);me(this,q,K,V,Ot-1,-Ot)}let Ze=0,ke=1,At=0;for(this[K]=q&255;++Ze<V&&(ke*=256);)q<0&&At===0&&this[K+Ze-1]!==0&&(At=1),this[K+Ze]=(q/ke>>0)-At&255;return K+V},s.prototype.writeIntBE=function(q,K,V,je){if(q=+q,K=K>>>0,!je){const Ot=Math.pow(2,8*V-1);me(this,q,K,V,Ot-1,-Ot)}let Ze=V-1,ke=1,At=0;for(this[K+Ze]=q&255;--Ze>=0&&(ke*=256);)q<0&&At===0&&this[K+Ze+1]!==0&&(At=1),this[K+Ze]=(q/ke>>0)-At&255;return K+V},s.prototype.writeInt8=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,1,127,-128),q<0&&(q=255+q+1),this[K]=q&255,K+1},s.prototype.writeInt16LE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,2,32767,-32768),this[K]=q&255,this[K+1]=q>>>8,K+2},s.prototype.writeInt16BE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,2,32767,-32768),this[K]=q>>>8,this[K+1]=q&255,K+2},s.prototype.writeInt32LE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,4,2147483647,-2147483648),this[K]=q&255,this[K+1]=q>>>8,this[K+2]=q>>>16,this[K+3]=q>>>24,K+4},s.prototype.writeInt32BE=function(q,K,V){return q=+q,K=K>>>0,V||me(this,q,K,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[K]=q>>>24,this[K+1]=q>>>16,this[K+2]=q>>>8,this[K+3]=q&255,K+4},s.prototype.writeBigInt64LE=Se(function(q,K=0){return H(this,q,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Se(function(q,K=0){return J(this,q,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(X,q,K,V,je,Ze){if(K+V>X.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Ae(X,q,K,V,je){return q=+q,K=K>>>0,je||pe(X,q,K,4),n.write(X,q,K,V,23,4),K+4}s.prototype.writeFloatLE=function(q,K,V){return Ae(this,q,K,!0,V)},s.prototype.writeFloatBE=function(q,K,V){return Ae(this,q,K,!1,V)};function Je(X,q,K,V,je){return q=+q,K=K>>>0,je||pe(X,q,K,8),n.write(X,q,K,V,52,8),K+8}s.prototype.writeDoubleLE=function(q,K,V){return Je(this,q,K,!0,V)},s.prototype.writeDoubleBE=function(q,K,V){return Je(this,q,K,!1,V)},s.prototype.copy=function(q,K,V,je){if(!s.isBuffer(q))throw new TypeError("argument should be a Buffer");if(V||(V=0),!je&&je!==0&&(je=this.length),K>=q.length&&(K=q.length),K||(K=0),je>0&&je<V&&(je=V),je===V||q.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),q.length-K<je-V&&(je=q.length-K+V);const Ze=je-V;return this===q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,V,je):Uint8Array.prototype.set.call(q,this.subarray(V,je),K),Ze},s.prototype.fill=function(q,K,V,je){if(typeof q=="string"){if(typeof K=="string"?(je=K,K=0,V=this.length):typeof V=="string"&&(je=V,V=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!s.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(q.length===1){const ke=q.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(q=ke)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(K<0||this.length<K||this.length<V)throw new RangeError("Out of range index");if(V<=K)return this;K=K>>>0,V=V===void 0?this.length:V>>>0,q||(q=0);let Ze;if(typeof q=="number")for(Ze=K;Ze<V;++Ze)this[Ze]=q;else{const ke=s.isBuffer(q)?q:s.from(q,je),At=ke.length;if(At===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Ze=0;Ze<V-K;++Ze)this[Ze+K]=ke[Ze%At]}return this};const Re={};function Fe(X,q,K){Re[X]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(X,q){return`The "${X}" argument must be of type number. Received type ${typeof q}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(X,q,K){let V=`The value of "${X}" is out of range.`,je=K;return Number.isInteger(K)&&Math.abs(K)>2**32?je=Xe(String(K)):typeof K=="bigint"&&(je=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(je=Xe(je)),je+="n"),V+=` It must be ${q}. Received ${je}`,V},RangeError);function Xe(X){let q="",K=X.length;const V=X[0]==="-"?1:0;for(;K>=V+4;K-=3)q=`_${X.slice(K-3,K)}${q}`;return`${X.slice(0,K)}${q}`}function oe(X,q,K){$(q,"offset"),(X[q]===void 0||X[q+K]===void 0)&&ae(q,X.length-(K+1))}function z(X,q,K,V,je,Ze){if(X>K||X<q){const ke=typeof q=="bigint"?"n":"";let At;throw q===0||q===BigInt(0)?At=`>= 0${ke} and < 2${ke} ** ${(Ze+1)*8}${ke}`:At=`>= -(2${ke} ** ${(Ze+1)*8-1}${ke}) and < 2 ** ${(Ze+1)*8-1}${ke}`,new Re.ERR_OUT_OF_RANGE("value",At,X)}oe(V,je,Ze)}function $(X,q){if(typeof X!="number")throw new Re.ERR_INVALID_ARG_TYPE(q,"number",X)}function ae(X,q,K){throw Math.floor(X)!==X?($(X,K),new Re.ERR_OUT_OF_RANGE("offset","an integer",X)):q<0?new Re.ERR_BUFFER_OUT_OF_BOUNDS:new Re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${q}`,X)}const W=/[^+/0-9A-Za-z-_]/g;function he(X){if(X=X.split("=")[0],X=X.trim().replace(W,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function ye(X,q){q=q||1/0;let K;const V=X.length;let je=null;const Ze=[];for(let ke=0;ke<V;++ke){if(K=X.charCodeAt(ke),K>55295&&K<57344){if(!je){if(K>56319){(q-=3)>-1&&Ze.push(239,191,189);continue}else if(ke+1===V){(q-=3)>-1&&Ze.push(239,191,189);continue}je=K;continue}if(K<56320){(q-=3)>-1&&Ze.push(239,191,189),je=K;continue}K=(je-55296<<10|K-56320)+65536}else je&&(q-=3)>-1&&Ze.push(239,191,189);if(je=null,K<128){if((q-=1)<0)break;Ze.push(K)}else if(K<2048){if((q-=2)<0)break;Ze.push(K>>6|192,K&63|128)}else if(K<65536){if((q-=3)<0)break;Ze.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((q-=4)<0)break;Ze.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return Ze}function He(X){const q=[];for(let K=0;K<X.length;++K)q.push(X.charCodeAt(K)&255);return q}function Te(X,q){let K,V,je;const Ze=[];for(let ke=0;ke<X.length&&!((q-=2)<0);++ke)K=X.charCodeAt(ke),V=K>>8,je=K%256,Ze.push(je),Ze.push(V);return Ze}function Ne(X){return e.toByteArray(he(X))}function tt(X,q,K,V){let je;for(je=0;je<V&&!(je+K>=q.length||je>=X.length);++je)q[je+K]=X[je];return je}function nt(X,q){return X instanceof q||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===q.name}function gt(X){return X!==X}const Bt=function(){const X="0123456789abcdef",q=new Array(256);for(let K=0;K<16;++K){const V=K*16;for(let je=0;je<16;++je)q[V+je]=X[K]+X[je]}return q}();function Se(X){return typeof BigInt>"u"?Be:X}function Be(){throw new Error("BigInt not supported")}}(V1)),V1}var K1,ZM;function Br(){return ZM||(ZM=1,K1={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array}),K1}var G1={exports:{}},gp={exports:{}},JM;function Yg(){if(JM)return gp.exports;JM=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return gp.exports=t,gp.exports.AbortSignal=e,gp.exports.default=t,gp.exports}var YM;function ua(){return YM||(YM=1,function(t){const e=gu(),{kResistStopPropagation:n,SymbolDispose:r}=Br(),i=globalThis.AbortSignal||Yg().AbortSignal,a=globalThis.AbortController||Yg().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||e.Blob,l=typeof s<"u"?function(y){return y instanceof s}:function(y){return!1},c=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},h=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class p extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let v="";for(let w=0;w<y.length;w++)v+=`    ${y[w].stack}
`;super(v),this.name="AggregateError",this.errors=y}}t.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(...v){y||(y=!0,m.apply(this,v))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((w,S)=>{m=w,y=S}),resolve:m,reject:y}},promisify(m){return new Promise((y,v)=>{m((w,...S)=>w?v(w):y(...S))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[v,w]){const S=y.shift();return w==="f"?S.toFixed(6):w==="j"?JSON.stringify(S):w==="s"&&typeof S=="object"?`${S.constructor!==Object?S.constructor.name:""} {}`.trim():S.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof o},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:l,deprecate(m,y){return m},addAbortListener:Qd().addAbortListener||function(y,v){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);c(y,"signal"),h(v,"listener");let w;return y.aborted?queueMicrotask(()=>v()):(y.addEventListener("abort",v,{__proto__:null,once:!0,[n]:!0}),w=()=>{y.removeEventListener("abort",v)}),{__proto__:null,[r](){var S;(S=w)===null||S===void 0||S()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const v=new a,w=()=>v.abort();return y.forEach(S=>{c(S,"signals"),S.addEventListener("abort",w,{once:!0})}),v.signal.addEventListener("abort",()=>{y.forEach(S=>S.removeEventListener("abort",w))},{once:!0}),v.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(G1)),G1.exports}var av={},W1,XM;function Ta(){if(XM)return W1;XM=1;const{format:t,inspect:e,AggregateError:n}=ua(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(S,x){if(!S)throw new l.ERR_INTERNAL_ASSERTION(x)}function h(S){let x="",E=S.length;const A=S[0]==="-"?1:0;for(;E>=A+4;E-=3)x=`_${S.slice(E-3,E)}${x}`;return`${S.slice(0,E)}${x}`}function p(S,x,E){if(typeof x=="function")return c(x.length<=E.length,`Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${x.length}).`),x(...E);const A=(x.match(/%[dfijoOs]/g)||[]).length;return c(A===E.length,`Code: ${S}; The provided arguments length (${E.length}) does not match the required ones (${A}).`),E.length===0?x:t(x,...E)}function m(S,x,E){E||(E=Error);class A extends E{constructor(...M){super(p(S,x,M))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=S,A.prototype[i]=!0,l[S]=A}function y(S){const x=s+S.name;return Object.defineProperty(S,"name",{value:x}),S}function v(S,x){if(S&&x&&S!==x){if(Array.isArray(x.errors))return x.errors.push(S),x;const E=new r([x,S],x.message);return E.code=x.code,E}return S||x}class w extends Error{constructor(x="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(x,E),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(S,x,E)=>{c(typeof S=="string","'name' must be a string"),Array.isArray(x)||(x=[x]);let A="The ";S.endsWith(" argument")?A+=`${S} `:A+=`"${S}" ${S.includes(".")?"property":"argument"} `,A+="must be ";const I=[],M=[],D=[];for(const Q of x)c(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?I.push(Q.toLowerCase()):o.test(Q)?M.push(Q):(c(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(M.length>0){const Q=I.indexOf("object");Q!==-1&&(I.splice(I,Q,1),M.push("Object"))}if(I.length>0){switch(I.length){case 1:A+=`of type ${I[0]}`;break;case 2:A+=`one of type ${I[0]} or ${I[1]}`;break;default:{const Q=I.pop();A+=`one of type ${I.join(", ")}, or ${Q}`}}(M.length>0||D.length>0)&&(A+=" or ")}if(M.length>0){switch(M.length){case 1:A+=`an instance of ${M[0]}`;break;case 2:A+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const Q=M.pop();A+=`an instance of ${M.join(", ")}, or ${Q}`}}D.length>0&&(A+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(A+="an "),A+=`${D[0]}`;break;case 2:A+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();A+=`one of ${D.join(", ")}, or ${Q}`}}if(E==null)A+=`. Received ${E}`;else if(typeof E=="function"&&E.name)A+=`. Received function ${E.name}`;else if(typeof E=="object"){var F;if((F=E.constructor)!==null&&F!==void 0&&F.name)A+=`. Received an instance of ${E.constructor.name}`;else{const Q=e(E,{depth:-1});A+=`. Received ${Q}`}}else{let Q=e(E,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),A+=`. Received type ${typeof E} (${Q})`}return A},TypeError),m("ERR_INVALID_ARG_VALUE",(S,x,E="is invalid")=>{let A=e(x);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${E}. Received ${A}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(S,x,E)=>{var A;const I=E!=null&&(A=E.constructor)!==null&&A!==void 0&&A.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${S} to be returned from the "${x}" function but got ${I}.`},TypeError),m("ERR_MISSING_ARGS",(...S)=>{c(S.length>0,"At least one arg needs to be specified");let x;const E=S.length;switch(S=(Array.isArray(S)?S:[S]).map(A=>`"${A}"`).join(" or "),E){case 1:x+=`The ${S[0]} argument`;break;case 2:x+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const A=S.pop();x+=`The ${S.join(", ")}, and ${A} arguments`}break}return`${x} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(S,x,E)=>{c(x,'Missing "range" argument');let A;return Number.isInteger(E)&&Math.abs(E)>2**32?A=h(String(E)):typeof E=="bigint"?(A=String(E),(E>2n**32n||E<-(2n**32n))&&(A=h(A)),A+="n"):A=e(E),`The value of "${S}" is out of range. It must be ${x}. Received ${A}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),W1={AbortError:w,aggregateTwoErrors:y(v),hideStackFrames:y,codes:l},W1}var Q1,eD;function Cm(){if(eD)return Q1;eD=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=Br(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:A}}=Ta(),{normalizeEncoding:I}=ua(),{isAsyncFunction:M,isArrayBufferView:D}=ua().types,F={};function Q(Te){return Te===(Te|0)}function Y(Te){return Te===Te>>>0}const B=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function ce(Te,Ne,tt){if(typeof Te>"u"&&(Te=tt),typeof Te=="string"){if(h(B,Te)===null)throw new x(Ne,Te,Z);Te=l(Te,8)}return ge(Te,Ne),Te}const re=v((Te,Ne,tt=s,nt=o)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new E(Ne,`>= ${tt} && <= ${nt}`,Te)}),ue=v((Te,Ne,tt=-2147483648,nt=2147483647)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new E(Ne,`>= ${tt} && <= ${nt}`,Te)}),ge=v((Te,Ne,tt=!1)=>{if(typeof Te!="number")throw new S(Ne,"number",Te);if(!i(Te))throw new E(Ne,"an integer",Te);const nt=tt?1:0,gt=4294967295;if(Te<nt||Te>gt)throw new E(Ne,`>= ${nt} && <= ${gt}`,Te)});function _e(Te,Ne){if(typeof Te!="string")throw new S(Ne,"string",Te)}function de(Te,Ne,tt=void 0,nt){if(typeof Te!="number")throw new S(Ne,"number",Te);if(tt!=null&&Te<tt||nt!=null&&Te>nt||(tt!=null||nt!=null)&&a(Te))throw new E(Ne,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Te)}const fe=v((Te,Ne,tt)=>{if(!e(tt,Te)){const gt="must be one of: "+n(r(tt,Bt=>typeof Bt=="string"?`'${Bt}'`:p(Bt)),", ");throw new x(Ne,Te,gt)}});function Ie(Te,Ne){if(typeof Te!="boolean")throw new S(Ne,"boolean",Te)}function k(Te,Ne,tt){return Te==null||!c(Te,Ne)?tt:Te[Ne]}const ie=v((Te,Ne,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Te===null||!nt&&t(Te)||typeof Te!="object"&&(!gt||typeof Te!="function"))throw new S(Ne,"Object",Te)}),me=v((Te,Ne)=>{if(Te!=null&&typeof Te!="object"&&typeof Te!="function")throw new S(Ne,"a dictionary",Te)}),H=v((Te,Ne,tt=0)=>{if(!t(Te))throw new S(Ne,"Array",Te);if(Te.length<tt){const nt=`must be longer than ${tt}`;throw new x(Ne,Te,nt)}});function J(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)_e(Te[tt],`${Ne}[${tt}]`)}function pe(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)Ie(Te[tt],`${Ne}[${tt}]`)}function Ae(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++){const nt=Te[tt],gt=`${Ne}[${tt}]`;if(nt==null)throw new S(gt,"AbortSignal",nt);oe(nt,gt)}}function Je(Te,Ne="signal"){if(_e(Te,Ne),F[Te]===void 0)throw F[m(Te)]!==void 0?new A(Te+" (signals must use all capital letters)"):new A(Te)}const Re=v((Te,Ne="buffer")=>{if(!D(Te))throw new S(Ne,["Buffer","TypedArray","DataView"],Te)});function Fe(Te,Ne){const tt=I(Ne),nt=Te.length;if(tt==="hex"&&nt%2!==0)throw new x("encoding",Ne,`is invalid for data of length ${nt}`)}function Xe(Te,Ne="Port",tt=!0){if(typeof Te!="number"&&typeof Te!="string"||typeof Te=="string"&&y(Te).length===0||+Te!==+Te>>>0||Te>65535||Te===0&&!tt)throw new w(Ne,Te,tt);return Te|0}const oe=v((Te,Ne)=>{if(Te!==void 0&&(Te===null||typeof Te!="object"||!("aborted"in Te)))throw new S(Ne,"AbortSignal",Te)}),z=v((Te,Ne)=>{if(typeof Te!="function")throw new S(Ne,"Function",Te)}),$=v((Te,Ne)=>{if(typeof Te!="function"||M(Te))throw new S(Ne,"Function",Te)}),ae=v((Te,Ne)=>{if(Te!==void 0)throw new S(Ne,"undefined",Te)});function W(Te,Ne,tt){if(!e(tt,Te))throw new S(Ne,`('${n(tt,"|")}')`,Te)}const he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Te,Ne){if(typeof Te>"u"||!h(he,Te))throw new x(Ne,Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Te){if(typeof Te=="string")return ye(Te,"hints"),Te;if(t(Te)){const Ne=Te.length;let tt="";if(Ne===0)return tt;for(let nt=0;nt<Ne;nt++){const gt=Te[nt];ye(gt,"hints"),tt+=gt,nt!==Ne-1&&(tt+=", ")}return tt}throw new x("hints",Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Q1={isInt32:Q,isUint32:Y,parseFileMode:ce,validateArray:H,validateStringArray:J,validateBooleanArray:pe,validateAbortSignalArray:Ae,validateBoolean:Ie,validateBuffer:Re,validateDictionary:me,validateEncoding:Fe,validateFunction:z,validateInt32:ue,validateInteger:re,validateNumber:de,validateObject:ie,validateOneOf:fe,validatePlainFunction:$,validatePort:Xe,validateSignalName:Je,validateString:_e,validateUint32:ge,validateUndefined:ae,validateUnion:W,validateAbortSignal:oe,validateLinkHeaderValue:He},Q1}var ov={exports:{}},Z1={exports:{}},tD;function tf(){if(tD)return Z1.exports;tD=1;var t=Z1.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(w){if(e===setTimeout)return setTimeout(w,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(w,0);try{return e(w,0)}catch{try{return e.call(null,w,0)}catch{return e.call(this,w,0)}}}function o(w){if(n===clearTimeout)return clearTimeout(w);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(w);try{return n(w)}catch{try{return n.call(null,w)}catch{return n.call(this,w)}}}var s=[],l=!1,c,h=-1;function p(){!l||!c||(l=!1,c.length?s=c.concat(s):h=-1,s.length&&m())}function m(){if(!l){var w=a(p);l=!0;for(var S=s.length;S;){for(c=s,s=[];++h<S;)c&&c[h].run();h=-1,S=s.length}c=null,l=!1,o(w)}}t.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)S[x-1]=arguments[x];s.push(new y(w,S)),s.length===1&&!l&&a(m)};function y(w,S){this.fun=w,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function v(){}return t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(w){return[]},t.binding=function(w){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(w){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Z1.exports}var J1,nD;function mu(){if(nD)return J1;nD=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=Br(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function h(k,ie=!1){var me;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ie||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((me=k._readableState)===null||me===void 0?void 0:me.readable)!==!1)&&(!k._writableState||k._readableState))}function p(k){var ie;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ie=k._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function m(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function v(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function w(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function S(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function x(k){return v(k)||w(k)||S(k)}function E(k,ie){return k==null?!1:ie===!0?typeof k[t]=="function":ie===!1?typeof k[e]=="function":typeof k[t]=="function"||typeof k[e]=="function"}function A(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,H=ie||me;return!!(k.destroyed||k[r]||H!=null&&H.destroyed)}function I(k){if(!p(k))return null;if(k.writableEnded===!0)return!0;const ie=k._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function M(k,ie){if(!p(k))return null;if(k.writableFinished===!0)return!0;const me=k._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.finished)!="boolean"?null:!!(me.finished||ie===!1&&me.ended===!0&&me.length===0)}function D(k){if(!h(k))return null;if(k.readableEnded===!0)return!0;const ie=k._readableState;return!ie||ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function F(k,ie){if(!h(k))return null;const me=k._readableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.endEmitted)!="boolean"?null:!!(me.endEmitted||ie===!1&&me.ended===!0&&me.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:A(k)?!1:h(k)&&k.readable&&!F(k)}function Y(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.writable)!="boolean"?null:A(k)?!1:p(k)&&k.writable&&!I(k)}function B(k,ie){return y(k)?A(k)?!0:!((ie==null?void 0:ie.readable)!==!1&&Q(k)||(ie==null?void 0:ie.writable)!==!1&&Y(k)):null}function Z(k){var ie,me;return y(k)?k.writableErrored?k.writableErrored:(ie=(me=k._writableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function ce(k){var ie,me;return y(k)?k.readableErrored?k.readableErrored:(ie=(me=k._readableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function re(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ie=k._writableState,me=k._readableState;return typeof(ie==null?void 0:ie.closed)=="boolean"||typeof(me==null?void 0:me.closed)=="boolean"?(ie==null?void 0:ie.closed)||(me==null?void 0:me.closed):typeof k._closed=="boolean"&&ue(k)?k._closed:null}function ue(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function ge(k){return typeof k._sent100=="boolean"&&ue(k)}function _e(k){var ie;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ie=k.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function de(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,H=ie||me;return!H&&ge(k)||!!(H&&H.autoDestroy&&H.emitClose&&H.closed===!1)}function fe(k){var ie;return!!(k&&((ie=k[s])!==null&&ie!==void 0?ie:k.readableDidRead||k.readableAborted))}function Ie(k){var ie,me,H,J,pe,Ae,Je,Re,Fe,Xe;return!!(k&&((ie=(me=(H=(J=(pe=(Ae=k[i])!==null&&Ae!==void 0?Ae:k.readableErrored)!==null&&pe!==void 0?pe:k.writableErrored)!==null&&J!==void 0?J:(Je=k._readableState)===null||Je===void 0?void 0:Je.errorEmitted)!==null&&H!==void 0?H:(Re=k._writableState)===null||Re===void 0?void 0:Re.errorEmitted)!==null&&me!==void 0?me:(Fe=k._readableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&ie!==void 0?ie:!((Xe=k._writableState)===null||Xe===void 0)&&Xe.errored))}return J1={isDestroyed:A,kIsDestroyed:r,isDisturbed:fe,kIsDisturbed:s,isErrored:Ie,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:o,isClosed:re,isDuplexNodeStream:m,isFinished:B,isIterable:E,isReadableNodeStream:h,isReadableStream:v,isReadableEnded:D,isReadableFinished:F,isReadableErrored:ce,isNodeStream:y,isWebStream:x,isWritable:Y,isWritableNodeStream:p,isWritableStream:w,isWritableEnded:I,isWritableFinished:M,isWritableErrored:Z,isServerRequest:_e,isServerResponse:ge,willEmitClose:de,isTransformStream:S},J1}var rD;function Rl(){if(rD)return ov.exports;rD=1;const t=tf(),{AbortError:e,codes:n}=Ta(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=ua(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:h}=Cm(),{Promise:p,PromisePrototypeThen:m,SymbolDispose:y}=Br(),{isClosed:v,isReadable:w,isReadableNodeStream:S,isReadableStream:x,isReadableFinished:E,isReadableErrored:A,isWritable:I,isWritableNodeStream:M,isWritableStream:D,isWritableFinished:F,isWritableErrored:Q,isNodeStream:Y,willEmitClose:B,kIsClosedPromise:Z}=mu();let ce;function re(fe){return fe.setHeader&&typeof fe.abort=="function"}const ue=()=>{};function ge(fe,Ie,k){var ie,me;if(arguments.length===2?(k=Ie,Ie=a):Ie==null?Ie=a:c(Ie,"options"),l(k,"callback"),s(Ie.signal,"options.signal"),k=o(k),x(fe)||D(fe))return _e(fe,Ie,k);if(!Y(fe))throw new r("stream",["ReadableStream","WritableStream","Stream"],fe);const H=(ie=Ie.readable)!==null&&ie!==void 0?ie:S(fe),J=(me=Ie.writable)!==null&&me!==void 0?me:M(fe),pe=fe._writableState,Ae=fe._readableState,Je=()=>{fe.writable||Xe()};let Re=B(fe)&&S(fe)===H&&M(fe)===J,Fe=F(fe,!1);const Xe=()=>{Fe=!0,fe.destroyed&&(Re=!1),!(Re&&(!fe.readable||H))&&(!H||oe)&&k.call(fe)};let oe=E(fe,!1);const z=()=>{oe=!0,fe.destroyed&&(Re=!1),!(Re&&(!fe.writable||J))&&(!J||Fe)&&k.call(fe)},$=Te=>{k.call(fe,Te)};let ae=v(fe);const W=()=>{ae=!0;const Te=Q(fe)||A(fe);if(Te&&typeof Te!="boolean")return k.call(fe,Te);if(H&&!oe&&S(fe,!0)&&!E(fe,!1))return k.call(fe,new i);if(J&&!Fe&&!F(fe,!1))return k.call(fe,new i);k.call(fe)},he=()=>{ae=!0;const Te=Q(fe)||A(fe);if(Te&&typeof Te!="boolean")return k.call(fe,Te);k.call(fe)},ye=()=>{fe.req.on("finish",Xe)};re(fe)?(fe.on("complete",Xe),Re||fe.on("abort",W),fe.req?ye():fe.on("request",ye)):J&&!pe&&(fe.on("end",Je),fe.on("close",Je)),!Re&&typeof fe.aborted=="boolean"&&fe.on("aborted",W),fe.on("end",z),fe.on("finish",Xe),Ie.error!==!1&&fe.on("error",$),fe.on("close",W),ae?t.nextTick(W):pe!=null&&pe.errorEmitted||Ae!=null&&Ae.errorEmitted?Re||t.nextTick(he):(!H&&(!Re||w(fe))&&(Fe||I(fe)===!1)||!J&&(!Re||I(fe))&&(oe||w(fe)===!1)||Ae&&fe.req&&fe.aborted)&&t.nextTick(he);const He=()=>{k=ue,fe.removeListener("aborted",W),fe.removeListener("complete",Xe),fe.removeListener("abort",W),fe.removeListener("request",ye),fe.req&&fe.req.removeListener("finish",Xe),fe.removeListener("end",Je),fe.removeListener("close",Je),fe.removeListener("finish",Xe),fe.removeListener("end",z),fe.removeListener("error",$),fe.removeListener("close",W)};if(Ie.signal&&!ae){const Te=()=>{const Ne=k;He(),Ne.call(fe,new e(void 0,{cause:Ie.signal.reason}))};if(Ie.signal.aborted)t.nextTick(Te);else{ce=ce||ua().addAbortListener;const Ne=ce(Ie.signal,Te),tt=k;k=o((...nt)=>{Ne[y](),tt.apply(fe,nt)})}}return He}function _e(fe,Ie,k){let ie=!1,me=ue;if(Ie.signal)if(me=()=>{ie=!0,k.call(fe,new e(void 0,{cause:Ie.signal.reason}))},Ie.signal.aborted)t.nextTick(me);else{ce=ce||ua().addAbortListener;const J=ce(Ie.signal,me),pe=k;k=o((...Ae)=>{J[y](),pe.apply(fe,Ae)})}const H=(...J)=>{ie||t.nextTick(()=>k.apply(fe,J))};return m(fe[Z].promise,H,H),ue}function de(fe,Ie){var k;let ie=!1;return Ie===null&&(Ie=a),(k=Ie)!==null&&k!==void 0&&k.cleanup&&(h(Ie.cleanup,"cleanup"),ie=Ie.cleanup),new p((me,H)=>{const J=ge(fe,Ie,pe=>{ie&&J(),pe?H(pe):me()})})}return ov.exports=ge,ov.exports.finished=de,ov.exports}var Y1,iD;function Jd(){if(iD)return Y1;iD=1;const t=tf(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Ta(),{Symbol:i}=Br(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=mu(),c=i("kDestroy"),h=i("kConstruct");function p(B,Z,ce){B&&(B.stack,Z&&!Z.errored&&(Z.errored=B),ce&&!ce.errored&&(ce.errored=B))}function m(B,Z){const ce=this._readableState,re=this._writableState,ue=re||ce;return re!=null&&re.destroyed||ce!=null&&ce.destroyed?(typeof Z=="function"&&Z(),this):(p(B,re,ce),re&&(re.destroyed=!0),ce&&(ce.destroyed=!0),ue.constructed?y(this,B,Z):this.once(c,function(ge){y(this,e(ge,B),Z)}),this)}function y(B,Z,ce){let re=!1;function ue(ge){if(re)return;re=!0;const _e=B._readableState,de=B._writableState;p(ge,de,_e),de&&(de.closed=!0),_e&&(_e.closed=!0),typeof ce=="function"&&ce(ge),ge?t.nextTick(v,B,ge):t.nextTick(w,B)}try{B._destroy(Z||null,ue)}catch(ge){ue(ge)}}function v(B,Z){S(B,Z),w(B)}function w(B){const Z=B._readableState,ce=B._writableState;ce&&(ce.closeEmitted=!0),Z&&(Z.closeEmitted=!0),(ce!=null&&ce.emitClose||Z!=null&&Z.emitClose)&&B.emit("close")}function S(B,Z){const ce=B._readableState,re=B._writableState;re!=null&&re.errorEmitted||ce!=null&&ce.errorEmitted||(re&&(re.errorEmitted=!0),ce&&(ce.errorEmitted=!0),B.emit("error",Z))}function x(){const B=this._readableState,Z=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),Z&&(Z.constructed=!0,Z.destroyed=!1,Z.closed=!1,Z.closeEmitted=!1,Z.errored=null,Z.errorEmitted=!1,Z.finalCalled=!1,Z.prefinished=!1,Z.ended=Z.writable===!1,Z.ending=Z.writable===!1,Z.finished=Z.writable===!1)}function E(B,Z,ce){const re=B._readableState,ue=B._writableState;if(ue!=null&&ue.destroyed||re!=null&&re.destroyed)return this;re!=null&&re.autoDestroy||ue!=null&&ue.autoDestroy?B.destroy(Z):Z&&(Z.stack,ue&&!ue.errored&&(ue.errored=Z),re&&!re.errored&&(re.errored=Z),ce?t.nextTick(S,B,Z):S(B,Z))}function A(B,Z){if(typeof B._construct!="function")return;const ce=B._readableState,re=B._writableState;ce&&(ce.constructed=!1),re&&(re.constructed=!1),B.once(h,Z),!(B.listenerCount(h)>1)&&t.nextTick(I,B)}function I(B){let Z=!1;function ce(re){if(Z){E(B,re??new n);return}Z=!0;const ue=B._readableState,ge=B._writableState,_e=ge||ue;ue&&(ue.constructed=!0),ge&&(ge.constructed=!0),_e.destroyed?B.emit(c,re):re?E(B,re,!0):t.nextTick(M,B)}try{B._construct(re=>{t.nextTick(ce,re)})}catch(re){t.nextTick(ce,re)}}function M(B){B.emit(h)}function D(B){return(B==null?void 0:B.setHeader)&&typeof B.abort=="function"}function F(B){B.emit("close")}function Q(B,Z){B.emit("error",Z),t.nextTick(F,B)}function Y(B,Z){!B||o(B)||(!Z&&!s(B)&&(Z=new r),l(B)?(B.socket=null,B.destroy(Z)):D(B)?B.abort():D(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(Z):typeof B.close=="function"?B.close():Z?t.nextTick(Q,B,Z):t.nextTick(F,B),B.destroyed||(B[a]=!0))}return Y1={construct:A,destroyer:Y,destroy:m,undestroy:x,errorOrDestroy:E},Y1}var X1,aD;function mR(){if(aD)return X1;aD=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=Br(),{EventEmitter:n}=Qd();function r(a){n.call(this,a)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(a,o){const s=this;function l(w){a.writable&&a.write(w)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}a.on("drain",c),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",p),s.on("close",m));let h=!1;function p(){h||(h=!0,a.end())}function m(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function y(w){v(),n.listenerCount(this,"error")===0&&this.emit("error",w)}i(s,"error",y),i(a,"error",y);function v(){s.removeListener("data",l),a.removeListener("drain",c),s.removeListener("end",p),s.removeListener("close",m),s.removeListener("error",y),a.removeListener("error",y),s.removeListener("end",v),s.removeListener("close",v),a.removeListener("close",v)}return s.on("end",v),s.on("close",v),a.on("close",v),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):t(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return X1={Stream:r,prependListener:i},X1}var eS={exports:{}},oD;function F0(){return oD||(oD=1,function(t){const{SymbolDispose:e}=Br(),{AbortError:n,codes:r}=Ta(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=mu(),s=Rl(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const h=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new l(m,"AbortSignal",p)};t.exports.addAbortSignal=function(m,y){if(h(m,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[o](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{c=c||ua().addAbortListener;const v=c(p,y);s(m,v[e])}return m}}(eS)),eS.exports}var tS,sD;function PY(){if(sD)return tS;sD=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=Br(),{Buffer:i}=gu(),{inspect:a}=ua();return tS=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,h=0;for(;c;)n(l,c.data,h),h+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const h=c.slice(0,s);return this.head.data=c.slice(s),h}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[e](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,h=0;do{const p=c.data;if(s>p.length)l+=p,s-=p.length;else{s===p.length?(l+=p,++h,c.next?this.head=c.next:this.head=this.tail=null):(l+=t(p,0,s),this.head=c,c.data=t(p,s));break}++h}while((c=c.next)!==null);return this.length-=h,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let h=this.head,p=0;do{const m=h.data;if(s>m.length)n(l,m,c-s),s-=m.length;else{s===m.length?(n(l,m,c-s),++p,h.next?this.head=h.next:this.head=this.tail=null):(n(l,new r(m.buffer,m.byteOffset,s),c-s),this.head=h,h.data=m.slice(s));break}++p}while((h=h.next)!==null);return this.length-=p,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},tS}var nS,uD;function j0(){if(uD)return nS;uD=1;const{MathFloor:t,NumberIsInteger:e}=Br(),{validateInteger:n}=Cm(),{ERR_INVALID_ARG_VALUE:r}=Ta().codes;let i=16*1024,a=16;function o(h,p,m){return h.highWaterMark!=null?h.highWaterMark:p?h[m]:null}function s(h){return h?a:i}function l(h,p){n(p,"value",0),h?a=p:i=p}function c(h,p,m,y){const v=o(p,y,m);if(v!=null){if(!e(v)||v<0){const w=y?`options.${m}`:"options.highWaterMark";throw new r(w,v)}return t(v)}return s(h.objectMode)}return nS={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},nS}var rS={},sv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var lD;function OY(){return lD||(lD=1,function(t,e){var n=gu(),r=n.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(sv,sv.exports)),sv.exports}var cD;function IY(){if(cD)return rS;cD=1;var t=OY().Buffer,e=t.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(x){if(!x)return"utf8";for(var E;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(E)return;x=(""+x).toLowerCase(),E=!0}}function r(x){var E=n(x);if(typeof E!="string"&&(t.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return E||x}rS.StringDecoder=i;function i(x){this.encoding=r(x);var E;switch(this.encoding){case"utf16le":this.text=p,this.end=m,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=y,this.end=v,E=3;break;default:this.write=w,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(E)}i.prototype.write=function(x){if(x.length===0)return"";var E,A;if(this.lastNeed){if(E=this.fillLast(x),E===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<x.length?E?E+this.text(x,A):this.text(x,A):E||""},i.prototype.end=h,i.prototype.text=c,i.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function a(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,E,A){var I=E.length-1;if(I<A)return 0;var M=a(E[I]);return M>=0?(M>0&&(x.lastNeed=M-1),M):--I<A||M===-2?0:(M=a(E[I]),M>=0?(M>0&&(x.lastNeed=M-2),M):--I<A||M===-2?0:(M=a(E[I]),M>=0?(M>0&&(M===2?M=0:x.lastNeed=M-3),M):0))}function s(x,E,A){if((E[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return x.lastNeed=2,"�"}}function l(x){var E=this.lastTotal-this.lastNeed,A=s(this,x);if(A!==void 0)return A;if(this.lastNeed<=x.length)return x.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,E,0,x.length),this.lastNeed-=x.length}function c(x,E){var A=o(this,x,E);if(!this.lastNeed)return x.toString("utf8",E);this.lastTotal=A;var I=x.length-(A-this.lastNeed);return x.copy(this.lastChar,0,I),x.toString("utf8",E,I)}function h(x){var E=x&&x.length?this.write(x):"";return this.lastNeed?E+"�":E}function p(x,E){if((x.length-E)%2===0){var A=x.toString("utf16le",E);if(A){var I=A.charCodeAt(A.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",E,x.length-1)}function m(x){var E=x&&x.length?this.write(x):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,A)}return E}function y(x,E){var A=(x.length-E)%3;return A===0?x.toString("base64",E):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",E,x.length-A))}function v(x){var E=x&&x.length?this.write(x):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function w(x){return x.toString(this.encoding)}function S(x){return x&&x.length?this.write(x):""}return rS}var iS,fD;function j8(){if(fD)return iS;fD=1;const t=tf(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=Br(),{Buffer:i}=gu(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Ta().codes;function s(l,c,h){let p;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...h,read(){this.push(c),this.push(null)}});let m;if(c&&c[n])m=!0,p=c[n]();else if(c&&c[r])m=!1,p=c[r]();else throw new a("iterable",["Iterable"],c);const y=new l({objectMode:!0,highWaterMark:1,...h});let v=!1;y._read=function(){v||(v=!0,S())},y._destroy=function(x,E){e(w(x),()=>t.nextTick(E,x),A=>t.nextTick(E,A||x))};async function w(x){const E=x!=null,A=typeof p.throw=="function";if(E&&A){const{value:I,done:M}=await p.throw(x);if(await I,M)return}if(typeof p.return=="function"){const{value:I}=await p.return();await I}}async function S(){for(;;){try{const{value:x,done:E}=m?await p.next():p.next();if(E)y.push(null);else{const A=x&&typeof x.then=="function"?await x:x;if(A===null)throw v=!1,new o;if(y.push(A))continue;v=!1}}catch(x){y.destroy(x)}break}}return y}return iS=s,iS}var aS,dD;function $0(){if(dD)return aS;dD=1;const t=tf(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:m}=Br();aS=nt,nt.ReadableState=tt;const{EventEmitter:y}=Qd(),{Stream:v,prependListener:w}=mR(),{Buffer:S}=gu(),{addAbortSignal:x}=F0(),E=Rl();let A=ua().debuglog("stream",Oe=>{A=Oe});const I=PY(),M=Jd(),{getHighWaterMark:D,getDefaultHighWaterMark:F}=j0(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_OUT_OF_RANGE:Z,ERR_STREAM_PUSH_AFTER_EOF:ce,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:re},AbortError:ue}=Ta(),{validateObject:ge}=Cm(),_e=m("kPaused"),{StringDecoder:de}=IY(),fe=j8();s(nt.prototype,v.prototype),s(nt,v);const Ie=()=>{},{errorOrDestroy:k}=M,ie=1,me=2,H=4,J=8,pe=16,Ae=32,Je=64,Re=128,Fe=256,Xe=512,oe=1024,z=2048,$=4096,ae=8192,W=16384,he=32768,ye=65536,He=1<<17,Te=1<<18;function Ne(Oe){return{enumerable:!1,get(){return(this.state&Oe)!==0},set(qe){qe?this.state|=Oe:this.state&=~Oe}}}a(tt.prototype,{objectMode:Ne(ie),ended:Ne(me),endEmitted:Ne(H),reading:Ne(J),constructed:Ne(pe),sync:Ne(Ae),needReadable:Ne(Je),emittedReadable:Ne(Re),readableListening:Ne(Fe),resumeScheduled:Ne(Xe),errorEmitted:Ne(oe),emitClose:Ne(z),autoDestroy:Ne($),destroyed:Ne(ae),closed:Ne(W),closeEmitted:Ne(he),multiAwaitDrain:Ne(ye),readingMore:Ne(He),dataEmitted:Ne(Te)});function tt(Oe,qe,wt){typeof wt!="boolean"&&(wt=qe instanceof hu()),this.state=z|$|pe|Ae,Oe&&Oe.objectMode&&(this.state|=ie),wt&&Oe&&Oe.readableObjectMode&&(this.state|=ie),this.highWaterMark=Oe?D(this,Oe,"readableHighWaterMark",wt):F(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[_e]=null,Oe&&Oe.emitClose===!1&&(this.state&=~z),Oe&&Oe.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Oe&&Oe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Oe&&Oe.encoding&&(this.decoder=new de(Oe.encoding),this.encoding=Oe.encoding)}function nt(Oe){if(!(this instanceof nt))return new nt(Oe);const qe=this instanceof hu();this._readableState=new tt(Oe,this,qe),Oe&&(typeof Oe.read=="function"&&(this._read=Oe.read),typeof Oe.destroy=="function"&&(this._destroy=Oe.destroy),typeof Oe.construct=="function"&&(this._construct=Oe.construct),Oe.signal&&!qe&&x(Oe.signal,this)),v.call(this,Oe),M.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=M.destroy,nt.prototype._undestroy=M.undestroy,nt.prototype._destroy=function(Oe,qe){qe(Oe)},nt.prototype[y.captureRejectionSymbol]=function(Oe){this.destroy(Oe)},nt.prototype[h]=function(){let Oe;return this.destroyed||(Oe=this.readableEnded?null:new ue,this.destroy(Oe)),new l((qe,wt)=>E(this,xt=>xt&&xt!==Oe?wt(xt):qe(null)))},nt.prototype.push=function(Oe,qe){return gt(this,Oe,qe,!1)},nt.prototype.unshift=function(Oe,qe){return gt(this,Oe,qe,!0)};function gt(Oe,qe,wt,xt){A("readableAddChunk",qe);const It=Oe._readableState;let zn;if(It.state&ie||(typeof qe=="string"?(wt=wt||It.defaultEncoding,It.encoding!==wt&&(xt&&It.encoding?qe=S.from(qe,wt).toString(It.encoding):(qe=S.from(qe,wt),wt=""))):qe instanceof S?wt="":v._isUint8Array(qe)?(qe=v._uint8ArrayToBuffer(qe),wt=""):qe!=null&&(zn=new Y("chunk",["string","Buffer","Uint8Array"],qe))),zn)k(Oe,zn);else if(qe===null)It.state&=~J,q(Oe,It);else if(It.state&ie||qe&&qe.length>0)if(xt)if(It.state&H)k(Oe,new re);else{if(It.destroyed||It.errored)return!1;Bt(Oe,It,qe,!0)}else if(It.ended)k(Oe,new ce);else{if(It.destroyed||It.errored)return!1;It.state&=~J,It.decoder&&!wt?(qe=It.decoder.write(qe),It.objectMode||qe.length!==0?Bt(Oe,It,qe,!1):je(Oe,It)):Bt(Oe,It,qe,!1)}else xt||(It.state&=~J,je(Oe,It));return!It.ended&&(It.length<It.highWaterMark||It.length===0)}function Bt(Oe,qe,wt,xt){qe.flowing&&qe.length===0&&!qe.sync&&Oe.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Oe.emit("data",wt)):(qe.length+=qe.objectMode?1:wt.length,xt?qe.buffer.unshift(wt):qe.buffer.push(wt),qe.state&Je&&K(Oe)),je(Oe,qe)}nt.prototype.isPaused=function(){const Oe=this._readableState;return Oe[_e]===!0||Oe.flowing===!1},nt.prototype.setEncoding=function(Oe){const qe=new de(Oe);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const wt=this._readableState.buffer;let xt="";for(const It of wt)xt+=qe.write(It);return wt.clear(),xt!==""&&wt.push(xt),this._readableState.length=xt.length,this};const Se=1073741824;function Be(Oe){if(Oe>Se)throw new Z("size","<= 1GiB",Oe);return Oe--,Oe|=Oe>>>1,Oe|=Oe>>>2,Oe|=Oe>>>4,Oe|=Oe>>>8,Oe|=Oe>>>16,Oe++,Oe}function X(Oe,qe){return Oe<=0||qe.length===0&&qe.ended?0:qe.state&ie?1:r(Oe)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Oe<=qe.length?Oe:qe.ended?qe.length:0}nt.prototype.read=function(Oe){A("read",Oe),Oe===void 0?Oe=NaN:n(Oe)||(Oe=i(Oe,10));const qe=this._readableState,wt=Oe;if(Oe>qe.highWaterMark&&(qe.highWaterMark=Be(Oe)),Oe!==0&&(qe.state&=~Re),Oe===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?pr(this):K(this),null;if(Oe=X(Oe,qe),Oe===0&&qe.ended)return qe.length===0&&pr(this),null;let xt=(qe.state&Je)!==0;if(A("need readable",xt),(qe.length===0||qe.length-Oe<qe.highWaterMark)&&(xt=!0,A("length less than watermark",xt)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)xt=!1,A("reading, ended or constructing",xt);else if(xt){A("do read"),qe.state|=J|Ae,qe.length===0&&(qe.state|=Je);try{this._read(qe.highWaterMark)}catch(zn){k(this,zn)}qe.state&=~Ae,qe.reading||(Oe=X(wt,qe))}let It;return Oe>0?It=dn(Oe,qe):It=null,It===null?(qe.needReadable=qe.length<=qe.highWaterMark,Oe=0):(qe.length-=Oe,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),wt!==Oe&&qe.ended&&pr(this)),It!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",It)),It};function q(Oe,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const wt=qe.decoder.end();wt&&wt.length&&(qe.buffer.push(wt),qe.length+=qe.objectMode?1:wt.length)}qe.ended=!0,qe.sync?K(Oe):(qe.needReadable=!1,qe.emittedReadable=!0,V(Oe))}}function K(Oe){const qe=Oe._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,t.nextTick(V,Oe))}function V(Oe){const qe=Oe._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Oe.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,qt(Oe)}function je(Oe,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,t.nextTick(Ze,Oe,qe))}function Ze(Oe,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const wt=qe.length;if(A("maybeReadMore read 0"),Oe.read(0),wt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Oe){throw new B("_read()")},nt.prototype.pipe=function(Oe,qe){const wt=this,xt=this._readableState;xt.pipes.length===1&&(xt.multiAwaitDrain||(xt.multiAwaitDrain=!0,xt.awaitDrainWriters=new c(xt.awaitDrainWriters?[xt.awaitDrainWriters]:[]))),xt.pipes.push(Oe),A("pipe count=%d opts=%j",xt.pipes.length,qe);const zn=(!qe||qe.end!==!1)&&Oe!==t.stdout&&Oe!==t.stderr?We:zt;xt.endEmitted?t.nextTick(zn):wt.once("end",zn),Oe.on("unpipe",Jn);function Jn(Nt,en){A("onunpipe"),Nt===wt&&en&&en.hasUnpiped===!1&&(en.hasUnpiped=!0,ft())}function We(){A("onend"),Oe.end()}let Ee,et=!1;function ft(){A("cleanup"),Oe.removeListener("close",Kt),Oe.removeListener("finish",Yt),Ee&&Oe.removeListener("drain",Ee),Oe.removeListener("error",Lt),Oe.removeListener("unpipe",Jn),wt.removeListener("end",We),wt.removeListener("end",zt),wt.removeListener("data",Et),et=!0,Ee&&xt.awaitDrainWriters&&(!Oe._writableState||Oe._writableState.needDrain)&&Ee()}function it(){et||(xt.pipes.length===1&&xt.pipes[0]===Oe?(A("false write response, pause",0),xt.awaitDrainWriters=Oe,xt.multiAwaitDrain=!1):xt.pipes.length>1&&xt.pipes.includes(Oe)&&(A("false write response, pause",xt.awaitDrainWriters.size),xt.awaitDrainWriters.add(Oe)),wt.pause()),Ee||(Ee=ke(wt,Oe),Oe.on("drain",Ee))}wt.on("data",Et);function Et(Nt){A("ondata");const en=Oe.write(Nt);A("dest.write",en),en===!1&&it()}function Lt(Nt){if(A("onerror",Nt),zt(),Oe.removeListener("error",Lt),Oe.listenerCount("error")===0){const en=Oe._writableState||Oe._readableState;en&&!en.errorEmitted?k(Oe,Nt):Oe.emit("error",Nt)}}w(Oe,"error",Lt);function Kt(){Oe.removeListener("finish",Yt),zt()}Oe.once("close",Kt);function Yt(){A("onfinish"),Oe.removeListener("close",Kt),zt()}Oe.once("finish",Yt);function zt(){A("unpipe"),wt.unpipe(Oe)}return Oe.emit("pipe",wt),Oe.writableNeedDrain===!0?it():xt.flowing||(A("pipe resume"),wt.resume()),Oe};function ke(Oe,qe){return function(){const xt=Oe._readableState;xt.awaitDrainWriters===qe?(A("pipeOnDrain",1),xt.awaitDrainWriters=null):xt.multiAwaitDrain&&(A("pipeOnDrain",xt.awaitDrainWriters.size),xt.awaitDrainWriters.delete(qe)),(!xt.awaitDrainWriters||xt.awaitDrainWriters.size===0)&&Oe.listenerCount("data")&&Oe.resume()}}nt.prototype.unpipe=function(Oe){const qe=this._readableState,wt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Oe){const It=qe.pipes;qe.pipes=[],this.pause();for(let zn=0;zn<It.length;zn++)It[zn].emit("unpipe",this,{hasUnpiped:!1});return this}const xt=e(qe.pipes,Oe);return xt===-1?this:(qe.pipes.splice(xt,1),qe.pipes.length===0&&this.pause(),Oe.emit("unpipe",this,wt),this)},nt.prototype.on=function(Oe,qe){const wt=v.prototype.on.call(this,Oe,qe),xt=this._readableState;return Oe==="data"?(xt.readableListening=this.listenerCount("readable")>0,xt.flowing!==!1&&this.resume()):Oe==="readable"&&!xt.endEmitted&&!xt.readableListening&&(xt.readableListening=xt.needReadable=!0,xt.flowing=!1,xt.emittedReadable=!1,A("on readable",xt.length,xt.reading),xt.length?K(this):xt.reading||t.nextTick(Ot,this)),wt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Oe,qe){const wt=v.prototype.removeListener.call(this,Oe,qe);return Oe==="readable"&&t.nextTick(At,this),wt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Oe){const qe=v.prototype.removeAllListeners.apply(this,arguments);return(Oe==="readable"||Oe===void 0)&&t.nextTick(At,this),qe};function At(Oe){const qe=Oe._readableState;qe.readableListening=Oe.listenerCount("readable")>0,qe.resumeScheduled&&qe[_e]===!1?qe.flowing=!0:Oe.listenerCount("data")>0?Oe.resume():qe.readableListening||(qe.flowing=null)}function Ot(Oe){A("readable nexttick read 0"),Oe.read(0)}nt.prototype.resume=function(){const Oe=this._readableState;return Oe.flowing||(A("resume"),Oe.flowing=!Oe.readableListening,Dt(this,Oe)),Oe[_e]=!1,this};function Dt(Oe,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,t.nextTick(Rt,Oe,qe))}function Rt(Oe,qe){A("resume",qe.reading),qe.reading||Oe.read(0),qe.resumeScheduled=!1,Oe.emit("resume"),qt(Oe),qe.flowing&&!qe.reading&&Oe.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_e]=!0,this};function qt(Oe){const qe=Oe._readableState;for(A("flow",qe.flowing);qe.flowing&&Oe.read()!==null;);}nt.prototype.wrap=function(Oe){let qe=!1;Oe.on("data",xt=>{!this.push(xt)&&Oe.pause&&(qe=!0,Oe.pause())}),Oe.on("end",()=>{this.push(null)}),Oe.on("error",xt=>{k(this,xt)}),Oe.on("close",()=>{this.destroy()}),Oe.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Oe.resume&&(qe=!1,Oe.resume())};const wt=o(Oe);for(let xt=1;xt<wt.length;xt++){const It=wt[xt];this[It]===void 0&&typeof Oe[It]=="function"&&(this[It]=Oe[It].bind(Oe))}return this},nt.prototype[p]=function(){return Tr(this)},nt.prototype.iterator=function(Oe){return Oe!==void 0&&ge(Oe,"options"),Tr(this,Oe)};function Tr(Oe,qe){typeof Oe.read!="function"&&(Oe=nt.wrap(Oe,{objectMode:!0}));const wt=fn(Oe,qe);return wt.stream=Oe,wt}async function*fn(Oe,qe){let wt=Ie;function xt(Jn){this===Oe?(wt(),wt=Ie):wt=Jn}Oe.on("readable",xt);let It;const zn=E(Oe,{writable:!1},Jn=>{It=Jn?Q(It,Jn):null,wt(),wt=Ie});try{for(;;){const Jn=Oe.destroyed?null:Oe.read();if(Jn!==null)yield Jn;else{if(It)throw It;if(It===null)return;await new l(xt)}}}catch(Jn){throw It=Q(It,Jn),It}finally{(It||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(It===void 0||Oe._readableState.autoDestroy)?M.destroyer(Oe,null):(Oe.off("readable",xt),zn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Oe=this._readableState;return!!Oe&&Oe.readable!==!1&&!Oe.destroyed&&!Oe.errorEmitted&&!Oe.endEmitted},set(Oe){this._readableState&&(this._readableState.readable=!!Oe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Oe){this._readableState&&(this._readableState.flowing=Oe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Oe){this._readableState&&(this._readableState.destroyed=Oe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_e]!==!1},set(Oe){this[_e]=!!Oe}}}),nt._fromList=dn;function dn(Oe,qe){if(qe.length===0)return null;let wt;return qe.objectMode?wt=qe.buffer.shift():!Oe||Oe>=qe.length?(qe.decoder?wt=qe.buffer.join(""):qe.buffer.length===1?wt=qe.buffer.first():wt=qe.buffer.concat(qe.length),qe.buffer.clear()):wt=qe.buffer.consume(Oe,qe.decoder),wt}function pr(Oe){const qe=Oe._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,t.nextTick(sn,qe,Oe))}function sn(Oe,qe){if(A("endReadableNT",Oe.endEmitted,Oe.length),!Oe.errored&&!Oe.closeEmitted&&!Oe.endEmitted&&Oe.length===0){if(Oe.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)t.nextTick(un,qe);else if(Oe.autoDestroy){const wt=qe._writableState;(!wt||wt.autoDestroy&&(wt.finished||wt.writable===!1))&&qe.destroy()}}}function un(Oe){Oe.writable&&!Oe.writableEnded&&!Oe.destroyed&&Oe.end()}nt.from=function(Oe,qe){return fe(nt,Oe,qe)};let In;function sr(){return In===void 0&&(In={}),In}return nt.fromWeb=function(Oe,qe){return sr().newStreamReadableFromReadableStream(Oe,qe)},nt.toWeb=function(Oe,qe){return sr().newReadableStreamFromStreamReadable(Oe,qe)},nt.wrap=function(Oe,qe){var wt,xt;return new nt({objectMode:(wt=(xt=Oe.readableObjectMode)!==null&&xt!==void 0?xt:Oe.objectMode)!==null&&wt!==void 0?wt:!0,...qe,destroy(It,zn){M.destroyer(Oe,It),zn(It)}}).wrap(Oe)},aS}var oS,hD;function yR(){if(hD)return oS;hD=1;const t=tf(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=Br();oS=ge,ge.WritableState=re;const{EventEmitter:h}=Qd(),p=mR().Stream,{Buffer:m}=gu(),y=Jd(),{addAbortSignal:v}=F0(),{getHighWaterMark:w,getDefaultHighWaterMark:S}=j0(),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:Y}=Ta().codes,{errorOrDestroy:B}=y;o(ge.prototype,p.prototype),o(ge,p);function Z(){}const ce=l("kOnFinished");function re($,ae,W){typeof W!="boolean"&&(W=ae instanceof hu()),this.objectMode=!!($&&$.objectMode),W&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?w(this,$,"writableHighWaterMark",W):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!($&&$.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ue(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ce]=[]}function ue($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}re.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(re.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ge($){const ae=this instanceof hu();if(!ae&&!r(ge,this))return new ge($);this._writableState=new re($,this,ae),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&v($.signal,this)),p.call(this,$),y.construct(this,()=>{const W=this._writableState;W.writing||J(this,W),Re(this,W)})}i(ge,c,{__proto__:null,value:function($){return r(this,$)?!0:this!==ge?!1:$&&$._writableState instanceof re}}),ge.prototype.pipe=function(){B(this,new I)};function _e($,ae,W,he){const ye=$._writableState;if(typeof W=="function")he=W,W=ye.defaultEncoding;else{if(!W)W=ye.defaultEncoding;else if(W!=="buffer"&&!m.isEncoding(W))throw new Y(W);typeof he!="function"&&(he=Z)}if(ae===null)throw new F;if(!ye.objectMode)if(typeof ae=="string")ye.decodeStrings!==!1&&(ae=m.from(ae,W),W="buffer");else if(ae instanceof m)W="buffer";else if(p._isUint8Array(ae))ae=p._uint8ArrayToBuffer(ae),W="buffer";else throw new x("chunk",["string","Buffer","Uint8Array"],ae);let He;return ye.ending?He=new Q:ye.destroyed&&(He=new M("write")),He?(t.nextTick(he,He),B($,He,!0),He):(ye.pendingcb++,de($,ye,ae,W,he))}ge.prototype.write=function($,ae,W){return _e(this,$,ae,W)===!0},ge.prototype.cork=function(){this._writableState.corked++},ge.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||J(this,$))},ge.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=s(ae)),!m.isEncoding(ae))throw new Y(ae);return this._writableState.defaultEncoding=ae,this};function de($,ae,W,he,ye){const He=ae.objectMode?1:W.length;ae.length+=He;const Te=ae.length<ae.highWaterMark;return Te||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:W,encoding:he,callback:ye}),ae.allBuffers&&he!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&ye!==Z&&(ae.allNoop=!1)):(ae.writelen=He,ae.writecb=ye,ae.writing=!0,ae.sync=!0,$._write(W,he,ae.onwrite),ae.sync=!1),Te&&!ae.errored&&!ae.destroyed}function fe($,ae,W,he,ye,He,Te){ae.writelen=he,ae.writecb=Te,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new M("write")):W?$._writev(ye,ae.onwrite):$._write(ye,He,ae.onwrite),ae.sync=!1}function Ie($,ae,W,he){--ae.pendingcb,he(W),H(ae),B($,W)}function k($,ae){const W=$._writableState,he=W.sync,ye=W.writecb;if(typeof ye!="function"){B($,new A);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,ae?(ae.stack,W.errored||(W.errored=ae),$._readableState&&!$._readableState.errored&&($._readableState.errored=ae),he?t.nextTick(Ie,$,W,ae,ye):Ie($,W,ae,ye)):(W.buffered.length>W.bufferedIndex&&J($,W),he?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===ye?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:ye,stream:$,state:W},t.nextTick(ie,W.afterWriteTickInfo)):me($,W,1,ye))}function ie({stream:$,state:ae,count:W,cb:he}){return ae.afterWriteTickInfo=null,me($,ae,W,he)}function me($,ae,W,he){for(!ae.ending&&!$.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"));W-- >0;)ae.pendingcb--,he();ae.destroyed&&H(ae),Re($,ae)}function H($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var ae;const{chunk:He,callback:Te}=$.buffered[ye],Ne=$.objectMode?1:He.length;$.length-=Ne,Te((ae=$.errored)!==null&&ae!==void 0?ae:new M("write"))}const W=$[ce].splice(0);for(let ye=0;ye<W.length;ye++){var he;W[ye]((he=$.errored)!==null&&he!==void 0?he:new M("end"))}ue($)}function J($,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:W,bufferedIndex:he,objectMode:ye}=ae,He=W.length-he;if(!He)return;let Te=he;if(ae.bufferProcessing=!0,He>1&&$._writev){ae.pendingcb-=He-1;const Ne=ae.allNoop?Z:nt=>{for(let gt=Te;gt<W.length;++gt)W[gt].callback(nt)},tt=ae.allNoop&&Te===0?W:e(W,Te);tt.allBuffers=ae.allBuffers,fe($,ae,!0,ae.length,tt,"",Ne),ue(ae)}else{do{const{chunk:Ne,encoding:tt,callback:nt}=W[Te];W[Te++]=null;const gt=ye?1:Ne.length;fe($,ae,!1,gt,Ne,tt,nt)}while(Te<W.length&&!ae.writing);Te===W.length?ue(ae):Te>256?(W.splice(0,Te),ae.bufferedIndex=0):ae.bufferedIndex=Te}ae.bufferProcessing=!1}ge.prototype._write=function($,ae,W){if(this._writev)this._writev([{chunk:$,encoding:ae}],W);else throw new E("_write()")},ge.prototype._writev=null,ge.prototype.end=function($,ae,W){const he=this._writableState;typeof $=="function"?(W=$,$=null,ae=null):typeof ae=="function"&&(W=ae,ae=null);let ye;if($!=null){const He=_e(this,$,ae);He instanceof n&&(ye=He)}return he.corked&&(he.corked=1,this.uncork()),ye||(!he.errored&&!he.ending?(he.ending=!0,Re(this,he,!0),he.ended=!0):he.finished?ye=new D("end"):he.destroyed&&(ye=new M("end"))),typeof W=="function"&&(ye||he.finished?t.nextTick(W,ye):he[ce].push(W)),this};function pe($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Ae($,ae){let W=!1;function he(ye){if(W){B($,ye??A());return}if(W=!0,ae.pendingcb--,ye){const He=ae[ce].splice(0);for(let Te=0;Te<He.length;Te++)He[Te](ye);B($,ye,ae.sync)}else pe(ae)&&(ae.prefinished=!0,$.emit("prefinish"),ae.pendingcb++,t.nextTick(Fe,$,ae))}ae.sync=!0,ae.pendingcb++;try{$._final(he)}catch(ye){he(ye)}ae.sync=!1}function Je($,ae){!ae.prefinished&&!ae.finalCalled&&(typeof $._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,Ae($,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function Re($,ae,W){pe(ae)&&(Je($,ae),ae.pendingcb===0&&(W?(ae.pendingcb++,t.nextTick((he,ye)=>{pe(ye)?Fe(he,ye):ye.pendingcb--},$,ae)):pe(ae)&&(ae.pendingcb++,Fe($,ae))))}function Fe($,ae){ae.pendingcb--,ae.finished=!0;const W=ae[ce].splice(0);for(let he=0;he<W.length;he++)W[he]();if($.emit("finish"),ae.autoDestroy){const he=$._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&$.destroy()}}a(ge.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Xe=y.destroy;ge.prototype.destroy=function($,ae){const W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[ce].length)&&t.nextTick(H,W),Xe.call(this,$,ae),this},ge.prototype._undestroy=y.undestroy,ge.prototype._destroy=function($,ae){ae($)},ge.prototype[h.captureRejectionSymbol]=function($){this.destroy($)};let oe;function z(){return oe===void 0&&(oe={}),oe}return ge.fromWeb=function($,ae){return z().newStreamWritableFromWritableStream($,ae)},ge.toWeb=function($){return z().newWritableStreamFromStreamWritable($)},oS}var sS,pD;function LY(){if(pD)return sS;pD=1;const t=tf(),e=gu(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:h}=mu(),p=Rl(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=Ta(),{destroyer:w}=Jd(),S=hu(),x=$0(),E=yR(),{createDeferredPromise:A}=ua(),I=j8(),M=globalThis.Blob||e.Blob,D=typeof M<"u"?function(re){return re instanceof M}:function(re){return!1},F=globalThis.AbortController||Yg().AbortController,{FunctionPrototypeCall:Q}=Br();class Y extends S{constructor(re){super(re),(re==null?void 0:re.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(re==null?void 0:re.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}sS=function ce(re,ue){if(l(re))return re;if(o(re))return Z({readable:re});if(s(re))return Z({writable:re});if(a(re))return Z({writable:!1,readable:!1});if(c(re))return Z({readable:x.fromWeb(re)});if(h(re))return Z({writable:E.fromWeb(re)});if(typeof re=="function"){const{value:_e,write:de,final:fe,destroy:Ie}=B(re);if(i(_e))return I(Y,_e,{objectMode:!0,write:de,final:fe,destroy:Ie});const k=_e==null?void 0:_e.then;if(typeof k=="function"){let ie;const me=Q(k,_e,H=>{if(H!=null)throw new v("nully","body",H)},H=>{w(ie,H)});return ie=new Y({objectMode:!0,readable:!1,write:de,final(H){fe(async()=>{try{await me,t.nextTick(H,null)}catch(J){t.nextTick(H,J)}})},destroy:Ie})}throw new v("Iterable, AsyncIterable or AsyncFunction",ue,_e)}if(D(re))return ce(re.arrayBuffer());if(i(re))return I(Y,re,{objectMode:!0,writable:!1});if(c(re==null?void 0:re.readable)&&h(re==null?void 0:re.writable))return Y.fromWeb(re);if(typeof(re==null?void 0:re.writable)=="object"||typeof(re==null?void 0:re.readable)=="object"){const _e=re!=null&&re.readable?o(re==null?void 0:re.readable)?re==null?void 0:re.readable:ce(re.readable):void 0,de=re!=null&&re.writable?s(re==null?void 0:re.writable)?re==null?void 0:re.writable:ce(re.writable):void 0;return Z({readable:_e,writable:de})}const ge=re==null?void 0:re.then;if(typeof ge=="function"){let _e;return Q(ge,re,de=>{de!=null&&_e.push(de),_e.push(null)},de=>{w(_e,de)}),_e=new Y({objectMode:!0,writable:!1,read(){}})}throw new y(ue,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],re)};function B(ce){let{promise:re,resolve:ue}=A();const ge=new F,_e=ge.signal;return{value:ce(async function*(){for(;;){const fe=re;re=null;const{chunk:Ie,done:k,cb:ie}=await fe;if(t.nextTick(ie),k)return;if(_e.aborted)throw new m(void 0,{cause:_e.reason});({promise:re,resolve:ue}=A()),yield Ie}}(),{signal:_e}),write(fe,Ie,k){const ie=ue;ue=null,ie({chunk:fe,done:!1,cb:k})},final(fe){const Ie=ue;ue=null,Ie({done:!0,cb:fe})},destroy(fe,Ie){ge.abort(),Ie(fe)}}}function Z(ce){const re=ce.readable&&typeof ce.readable.read!="function"?x.wrap(ce.readable):ce.readable,ue=ce.writable;let ge=!!n(re),_e=!!r(ue),de,fe,Ie,k,ie;function me(H){const J=k;k=null,J?J(H):H&&ie.destroy(H)}return ie=new Y({readableObjectMode:!!(re!=null&&re.readableObjectMode),writableObjectMode:!!(ue!=null&&ue.writableObjectMode),readable:ge,writable:_e}),_e&&(p(ue,H=>{_e=!1,H&&w(re,H),me(H)}),ie._write=function(H,J,pe){ue.write(H,J)?pe():de=pe},ie._final=function(H){ue.end(),fe=H},ue.on("drain",function(){if(de){const H=de;de=null,H()}}),ue.on("finish",function(){if(fe){const H=fe;fe=null,H()}})),ge&&(p(re,H=>{ge=!1,H&&w(re,H),me(H)}),re.on("readable",function(){if(Ie){const H=Ie;Ie=null,H()}}),re.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){const H=re.read();if(H===null){Ie=ie._read;return}if(!ie.push(H))return}}),ie._destroy=function(H,J){!H&&k!==null&&(H=new m),Ie=null,de=null,fe=null,k===null?J(H):(k=J,w(ue,H),w(re,H))},ie}return sS}var uS,gD;function hu(){if(gD)return uS;gD=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=Br();uS=o;const i=$0(),a=yR();r(o.prototype,i.prototype),r(o,i);{const h=n(a.prototype);for(let p=0;p<h.length;p++){const m=h[p];o.prototype[m]||(o.prototype[m]=a.prototype[m])}}function o(h){if(!(this instanceof o))return new o(h);i.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(h,p){return l().newStreamDuplexFromReadableWritablePair(h,p)},o.toWeb=function(h){return l().newReadableWritablePairFromDuplex(h)};let c;return o.from=function(h){return c||(c=LY()),c(h,"body")},uS}var lS,mD;function $8(){if(mD)return lS;mD=1;const{ObjectSetPrototypeOf:t,Symbol:e}=Br();lS=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Ta().codes,r=hu(),{getHighWaterMark:i}=j0();t(o.prototype,r.prototype),t(o,r);const a=e("kCallback");function o(c){if(!(this instanceof o))return new o(c);const h=c?i(this,c,"readableHighWaterMark",!0):null;h===0&&(c={...c,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((h,p)=>{if(h){c?c(h):this.destroy(h);return}p!=null&&this.push(p),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(c,h,p){throw new n("_transform()")},o.prototype._write=function(c,h,p){const m=this._readableState,y=this._writableState,v=m.length;this._transform(c,h,(w,S)=>{if(w){p(w);return}S!=null&&this.push(S),y.ended||v===m.length||m.length<m.highWaterMark?p():this[a]=p})},o.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},lS}var cS,yD;function U8(){if(yD)return cS;yD=1;const{ObjectSetPrototypeOf:t}=Br();cS=n;const e=$8();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},cS}var fS,vD;function vR(){if(vD)return fS;vD=1;const t=tf(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Br(),a=Rl(),{once:o}=ua(),s=Jd(),l=hu(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:w}=Ta(),{validateFunction:S,validateAbortSignal:x}=Cm(),{isIterable:E,isReadable:A,isReadableNodeStream:I,isNodeStream:M,isTransformStream:D,isWebStream:F,isReadableStream:Q,isReadableFinished:Y}=mu(),B=globalThis.AbortController||Yg().AbortController;let Z,ce,re;function ue(H,J,pe){let Ae=!1;H.on("close",()=>{Ae=!0});const Je=a(H,{readable:J,writable:pe},Re=>{Ae=!Re});return{destroy:Re=>{Ae||(Ae=!0,s.destroyer(H,Re||new y("pipe")))},cleanup:Je}}function ge(H){return S(H[H.length-1],"streams[stream.length - 1]"),H.pop()}function _e(H){if(E(H))return H;if(I(H))return de(H);throw new h("val",["Readable","Iterable","AsyncIterable"],H)}async function*de(H){ce||(ce=$0()),yield*ce.prototype[r].call(H)}async function fe(H,J,pe,{end:Ae}){let Je,Re=null;const Fe=z=>{if(z&&(Je=z),Re){const $=Re;Re=null,$()}},Xe=()=>new n((z,$)=>{Je?$(Je):Re=()=>{Je?$(Je):z()}});J.on("drain",Fe);const oe=a(J,{readable:!1},Fe);try{J.writableNeedDrain&&await Xe();for await(const z of H)J.write(z)||await Xe();Ae&&(J.end(),await Xe()),pe()}catch(z){pe(Je!==z?c(Je,z):z)}finally{oe(),J.off("drain",Fe)}}async function Ie(H,J,pe,{end:Ae}){D(J)&&(J=J.writable);const Je=J.getWriter();try{for await(const Re of H)await Je.ready,Je.write(Re).catch(()=>{});await Je.ready,Ae&&await Je.close(),pe()}catch(Re){try{await Je.abort(Re),pe(Re)}catch(Fe){pe(Fe)}}}function k(...H){return ie(H,o(ge(H)))}function ie(H,J,pe){if(H.length===1&&e(H[0])&&(H=H[0]),H.length<2)throw new m("streams");const Ae=new B,Je=Ae.signal,Re=pe==null?void 0:pe.signal,Fe=[];x(Re,"options.signal");function Xe(){ye(new w)}re=re||ua().addAbortListener;let oe;Re&&(oe=re(Re,Xe));let z,$;const ae=[];let W=0;function he(nt){ye(nt,--W===0)}function ye(nt,gt){var Bt;if(nt&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z=nt),!(!z&&!gt)){for(;ae.length;)ae.shift()(z);(Bt=oe)===null||Bt===void 0||Bt[i](),Ae.abort(),gt&&(z||Fe.forEach(Se=>Se()),t.nextTick(J,z,$))}}let He;for(let nt=0;nt<H.length;nt++){const gt=H[nt],Bt=nt<H.length-1,Se=nt>0,Be=Bt||(pe==null?void 0:pe.end)!==!1,X=nt===H.length-1;if(M(gt)){let q=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(K)};var tt=q;if(Be){const{destroy:K,cleanup:V}=ue(gt,Bt,Se);ae.push(K),A(gt)&&X&&Fe.push(V)}gt.on("error",q),A(gt)&&X&&Fe.push(()=>{gt.removeListener("error",q)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Je}),!E(He))throw new p("Iterable, AsyncIterable or Stream","source",He)}else E(gt)||I(gt)||D(gt)?He=gt:He=l.from(gt);else if(typeof gt=="function"){if(D(He)){var Te;He=_e((Te=He)===null||Te===void 0?void 0:Te.readable)}else He=_e(He);if(He=gt(He,{signal:Je}),Bt){if(!E(He,!0))throw new p("AsyncIterable",`transform[${nt-1}]`,He)}else{var Ne;Z||(Z=U8());const q=new Z({objectMode:!0}),K=(Ne=He)===null||Ne===void 0?void 0:Ne.then;if(typeof K=="function")W++,K.call(He,Ze=>{$=Ze,Ze!=null&&q.write(Ze),Be&&q.end(),t.nextTick(he)},Ze=>{q.destroy(Ze),t.nextTick(he,Ze)});else if(E(He,!0))W++,fe(He,q,he,{end:Be});else if(Q(He)||D(He)){const Ze=He.readable||He;W++,fe(Ze,q,he,{end:Be})}else throw new p("AsyncIterable or Promise","destination",He);He=q;const{destroy:V,cleanup:je}=ue(He,!1,!0);ae.push(V),X&&Fe.push(je)}}else if(M(gt)){if(I(He)){W+=2;const q=me(He,gt,he,{end:Be});A(gt)&&X&&Fe.push(q)}else if(D(He)||Q(He)){const q=He.readable||He;W++,fe(q,gt,he,{end:Be})}else if(E(He))W++,fe(He,gt,he,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(F(gt)){if(I(He))W++,Ie(_e(He),gt,he,{end:Be});else if(Q(He)||E(He))W++,Ie(He,gt,he,{end:Be});else if(D(He))W++,Ie(He.readable,gt,he,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=l.from(gt)}return(Je!=null&&Je.aborted||Re!=null&&Re.aborted)&&t.nextTick(Xe),He}function me(H,J,pe,{end:Ae}){let Je=!1;if(J.on("close",()=>{Je||pe(new v)}),H.pipe(J,{end:!1}),Ae){let Fe=function(){Je=!0,J.end()};var Re=Fe;Y(H)?t.nextTick(Fe):H.once("end",Fe)}else pe();return a(H,{readable:!0,writable:!1},Fe=>{const Xe=H._readableState;Fe&&Fe.code==="ERR_STREAM_PREMATURE_CLOSE"&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?H.once("end",pe).once("error",pe):pe(Fe)}),a(J,{readable:!1,writable:!0},pe)}return fS={pipelineImpl:ie,pipeline:k},fS}var dS,_D;function B8(){if(_D)return dS;_D=1;const{pipeline:t}=vR(),e=hu(),{destroyer:n}=Jd(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:c}=mu(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=Ta(),y=Rl();return dS=function(...w){if(w.length===0)throw new m("streams");if(w.length===1)return e.from(w[0]);const S=[...w];if(typeof w[0]=="function"&&(w[0]=e.from(w[0])),typeof w[w.length-1]=="function"){const Z=w.length-1;w[Z]=e.from(w[Z])}for(let Z=0;Z<w.length;++Z)if(!(!r(w[Z])&&!o(w[Z]))){if(Z<w.length-1&&!(i(w[Z])||c(w[Z])||s(w[Z])))throw new p(`streams[${Z}]`,S[Z],"must be readable");if(Z>0&&!(a(w[Z])||l(w[Z])||s(w[Z])))throw new p(`streams[${Z}]`,S[Z],"must be writable")}let x,E,A,I,M;function D(Z){const ce=I;I=null,ce?ce(Z):Z?M.destroy(Z):!B&&!Y&&M.destroy()}const F=w[0],Q=t(w,D),Y=!!(a(F)||l(F)||s(F)),B=!!(i(Q)||c(Q)||s(Q));if(M=new e({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:Y,readable:B}),Y){if(r(F))M._write=function(ce,re,ue){F.write(ce,re)?ue():x=ue},M._final=function(ce){F.end(),E=ce},F.on("drain",function(){if(x){const ce=x;x=null,ce()}});else if(o(F)){const re=(s(F)?F.writable:F).getWriter();M._write=async function(ue,ge,_e){try{await re.ready,re.write(ue).catch(()=>{}),_e()}catch(de){_e(de)}},M._final=async function(ue){try{await re.ready,re.close().catch(()=>{}),E=ue}catch(ge){ue(ge)}}}const Z=s(Q)?Q.readable:Q;y(Z,()=>{if(E){const ce=E;E=null,ce()}})}if(B){if(r(Q))Q.on("readable",function(){if(A){const Z=A;A=null,Z()}}),Q.on("end",function(){M.push(null)}),M._read=function(){for(;;){const Z=Q.read();if(Z===null){A=M._read;return}if(!M.push(Z))return}};else if(o(Q)){const ce=(s(Q)?Q.readable:Q).getReader();M._read=async function(){for(;;)try{const{value:re,done:ue}=await ce.read();if(!M.push(re))return;if(ue){M.push(null);return}}catch{return}}}}return M._destroy=function(Z,ce){!Z&&I!==null&&(Z=new h),A=null,x=null,E=null,I===null?ce(Z):(I=ce,r(Q)&&n(Q,Z))},M},dS}var wD;function MY(){if(wD)return av;wD=1;const t=globalThis.AbortController||Yg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Ta(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=Cm(),c=Br().Symbol("kWeak"),h=Br().Symbol("kResistStopPropagation"),{finished:p}=Rl(),m=B8(),{addAbortSignalNoValidate:y}=F0(),{isWritable:v,isNodeStream:w}=mu(),{deprecate:S}=ua(),{ArrayPrototypePush:x,Boolean:E,MathFloor:A,Number:I,NumberIsNaN:M,Promise:D,PromiseReject:F,PromiseResolve:Q,PromisePrototypeThen:Y,Symbol:B}=Br(),Z=B("kEmpty"),ce=B("kEof");function re(Re,Fe){if(Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal"),w(Re)&&!v(Re))throw new e("stream",Re,"must be writable");const Xe=m(this,Re);return Fe!=null&&Fe.signal&&y(Fe.signal,Xe),Xe}function ue(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal");let Xe=1;(Fe==null?void 0:Fe.concurrency)!=null&&(Xe=A(Fe.concurrency));let oe=Xe-1;return(Fe==null?void 0:Fe.highWaterMark)!=null&&(oe=A(Fe.highWaterMark)),s(Xe,"options.concurrency",1),s(oe,"options.highWaterMark",0),oe+=Xe,(async function*(){const $=ua().AbortSignalAny([Fe==null?void 0:Fe.signal].filter(E)),ae=this,W=[],he={signal:$};let ye,He,Te=!1,Ne=0;function tt(){Te=!0,nt()}function nt(){Ne-=1,gt()}function gt(){He&&!Te&&Ne<Xe&&W.length<oe&&(He(),He=null)}async function Bt(){try{for await(let Se of ae){if(Te)return;if($.aborted)throw new a;try{if(Se=Re(Se,he),Se===Z)continue;Se=Q(Se)}catch(Be){Se=F(Be)}Ne+=1,Y(Se,nt,tt),W.push(Se),ye&&(ye(),ye=null),!Te&&(W.length>=oe||Ne>=Xe)&&await new D(Be=>{He=Be})}W.push(ce)}catch(Se){const Be=F(Se);Y(Be,nt,tt),W.push(Be)}finally{Te=!0,ye&&(ye(),ye=null)}}Bt();try{for(;;){for(;W.length>0;){const Se=await W[0];if(Se===ce)return;if($.aborted)throw new a;Se!==Z&&(yield Se),W.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Te=!0,He&&(He(),He=null)}}).call(this)}function ge(Re=void 0){return Re!=null&&l(Re,"options"),(Re==null?void 0:Re.signal)!=null&&o(Re.signal,"options.signal"),(async function*(){let Xe=0;for await(const z of this){var oe;if(Re!=null&&(oe=Re.signal)!==null&&oe!==void 0&&oe.aborted)throw new a({cause:Re.signal.reason});yield[Xe++,z]}}).call(this)}async function _e(Re,Fe=void 0){for await(const Xe of k.call(this,Re,Fe))return!0;return!1}async function de(Re,Fe=void 0){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);return!await _e.call(this,async(...Xe)=>!await Re(...Xe),Fe)}async function fe(Re,Fe){for await(const Xe of k.call(this,Re,Fe))return Xe}async function Ie(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(oe,z){return await Re(oe,z),Z}for await(const oe of ue.call(this,Xe,Fe));}function k(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(oe,z){return await Re(oe,z)?oe:Z}return ue.call(this,Xe,Fe)}class ie extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function me(Re,Fe,Xe){var oe;if(typeof Re!="function")throw new n("reducer",["Function","AsyncFunction"],Re);Xe!=null&&l(Xe,"options"),(Xe==null?void 0:Xe.signal)!=null&&o(Xe.signal,"options.signal");let z=arguments.length>1;if(Xe!=null&&(oe=Xe.signal)!==null&&oe!==void 0&&oe.aborted){const ye=new a(void 0,{cause:Xe.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(ye)),ye}const $=new t,ae=$.signal;if(Xe!=null&&Xe.signal){const ye={once:!0,[c]:this,[h]:!0};Xe.signal.addEventListener("abort",()=>$.abort(),ye)}let W=!1;try{for await(const ye of this){var he;if(W=!0,Xe!=null&&(he=Xe.signal)!==null&&he!==void 0&&he.aborted)throw new a;z?Fe=await Re(Fe,ye,{signal:ae}):(Fe=ye,z=!0)}if(!W&&!z)throw new ie}finally{$.abort()}return Fe}async function H(Re){Re!=null&&l(Re,"options"),(Re==null?void 0:Re.signal)!=null&&o(Re.signal,"options.signal");const Fe=[];for await(const oe of this){var Xe;if(Re!=null&&(Xe=Re.signal)!==null&&Xe!==void 0&&Xe.aborted)throw new a(void 0,{cause:Re.signal.reason});x(Fe,oe)}return Fe}function J(Re,Fe){const Xe=ue.call(this,Re,Fe);return(async function*(){for await(const z of Xe)yield*z}).call(this)}function pe(Re){if(Re=I(Re),M(Re))return 0;if(Re<0)throw new i("number",">= 0",Re);return Re}function Ae(Re,Fe=void 0){return Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal"),Re=pe(Re),(async function*(){var oe;if(Fe!=null&&(oe=Fe.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;Re--<=0&&(yield $)}}).call(this)}function Je(Re,Fe=void 0){return Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&o(Fe.signal,"options.signal"),Re=pe(Re),(async function*(){var oe;if(Fe!=null&&(oe=Fe.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;if(Re-- >0&&(yield $),Re<=0)return}}).call(this)}return av.streamReturningOperators={asIndexedPairs:S(ge,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:k,flatMap:J,map:ue,take:Je,compose:re},av.promiseReturningOperators={every:de,forEach:Ie,reduce:me,toArray:H,some:_e,find:fe},av}var hS,bD;function q8(){if(bD)return hS;bD=1;const{ArrayPrototypePop:t,Promise:e}=Br(),{isIterable:n,isNodeStream:r,isWebStream:i}=mu(),{pipelineImpl:a}=vR(),{finished:o}=Rl();z8();function s(...l){return new e((c,h)=>{let p,m;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const v=t(l);p=v.signal,m=v.end}a(l,(v,w)=>{v?h(v):c(w)},{signal:p,end:m})})}return hS={finished:o,pipeline:s},hS}var SD;function z8(){if(SD)return H1.exports;SD=1;const{Buffer:t}=gu(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=Br(),{promisify:{custom:i}}=ua(),{streamReturningOperators:a,promiseReturningOperators:o}=MY(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Ta(),l=B8(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:h}=j0(),{pipeline:p}=vR(),{destroyer:m}=Jd(),y=Rl(),v=q8(),w=mu(),S=H1.exports=mR().Stream;S.isDestroyed=w.isDestroyed,S.isDisturbed=w.isDisturbed,S.isErrored=w.isErrored,S.isReadable=w.isReadable,S.isWritable=w.isWritable,S.Readable=$0();for(const A of n(a)){let M=function(...D){if(new.target)throw s();return S.Readable.from(r(I,this,D))};var E=M;const I=a[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(S.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(o)){let M=function(...F){if(new.target)throw s();return r(I,this,F)};var E=M;const I=o[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(S.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}S.Writable=yR(),S.Duplex=hu(),S.Transform=$8(),S.PassThrough=U8(),S.pipeline=p;const{addAbortSignal:x}=F0();return S.addAbortSignal=x,S.finished=y,S.destroy=m,S.compose=l,S.setDefaultHighWaterMark=c,S.getDefaultHighWaterMark=h,e(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),e(p,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),e(y,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),S.Stream=S,S._isUint8Array=function(I){return I instanceof Uint8Array},S._uint8ArrayToBuffer=function(I){return t.from(I.buffer,I.byteOffset,I.byteLength)},H1.exports}var xD;function H8(){return xD||(xD=1,function(t){const e=z8(),n=q8(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(z1)),z1.exports}var Yd=H8();let gs=class{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||El,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,i=e.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Ic(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(Dd(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ia(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Dd(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:ia(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])e+=Object.keys(i[s]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(e,n,r,i){const a=e[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,o,s,l){let c,h,p;const m=this._entities,y=this._termFromId(l,this._factory),v={subject:null,predicate:null,object:null};n&&((c=e,e={})[n]=c[n]);for(const w in e)if(h=e[w]){v[a]=this._termFromId(m[w],this._factory),r&&((c=h,h={})[r]=c[r]);for(const S in h)if(p=h[S]){v[o]=this._termFromId(m[S],this._factory);const x=i?i in p?[i]:[]:Object.keys(p);for(let E=0;E<x.length;E++)v[s]=this._termFromId(m[x[E]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,o,s;if((a=e[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(e,n,r,i){let a=0,o,s,l;n&&((o=e,e={})[n]=o[n]);for(const c in e)if(s=e[c]){r&&((o=s,s={})[r]=o[r]);for(const h in s)(l=s[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){if(!DY(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ia(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(a.subjects,e,n,r);return this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,o}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ia(i);const a=this._graphs;let o,s,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[e])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,e,n,r),this._removeFromIndex(o.predicates,n,r,e),this._removeFromIndex(o.objects,r,e,n),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new Yd.Readable({objectMode:!0});return a._read=()=>{for(const o of this.readQuads(e,n,r,i))a.push(o);a.push(null)},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,l,c;if(!(e&&!(s=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const h in a)(o=a[h])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",h):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new kY(this,e,n,r,i)}countQuads(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o=0,s,l,c,h;if(e&&!(l=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(s=a[p])&&(e?r?o+=this._countInIndex(s.objects,h,l,c):o+=this._countInIndex(s.subjects,l,c,h):n?o+=this._countInIndex(s.predicates,c,h,l):o+=this._countInIndex(s.objects,h,l,c));return o}forEach(e,n,r,i,a){this.some(o=>(e(o),!1),n,r,i,a)}every(e,n,r,i,a){let o=!1;const s=!this.some(l=>(o=!0,!e(l)),n,r,i,a);return o&&s}some(e,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(e(o))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,l;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,e):this._loopByKey1(o.subjects,s,e):l?this._loopByKey0(o.objects,l,e):this._loop(o.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,l;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,e):this._loopByKey0(o.subjects,s,e):l?this._loopByKey1(o.predicates,l,e):this._loop(o.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){i=i&&ia(i);const a=this._getGraphs(i);let o,s,l;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,e):this._loopByKey1(o.objects,s,e):l?this._loopByKey0(o.predicates,l,e):this._loop(o.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(o=>(e(o.graph),!0),n,r,i,a)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Ui.rdf.rest,Ui.rdf.nil,null),o=e?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,h,p;const m=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),w=this.getQuads(y,null,null,null);let S,x=null,E=null,A=null;for(let I=0;I<w.length&&!c;I++)S=w[I],S.graph.equals(m)?h?c=i(y,"has non-list arcs out"):S.predicate.value===Ui.rdf.first?x?c=i(y,"has multiple rdf:first arcs"):o.push(x=S):S.predicate.value===Ui.rdf.rest?E?c=i(y,"has multiple rdf:rest arcs"):o.push(E=S):v.length?c=i(y,"can't be subject and object"):(h=S,p="subject"):c=i(y,"not confined to single graph");for(let I=0;I<v.length&&!c;++I)S=v[I],h?c=i(y,"can't have coreferences"):S.predicate.value===Ui.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=S:(h=S,p="object");x?l.unshift(x.object):c=i(y,"has no list head"),y=A&&A.subject}c?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function DY(t){return typeof t=="string"||t instanceof String}let kY=class V8 extends Yd.Readable{constructor(e,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new gs({factory:e._factory});for(const s of e.readQuads(a,i,r,n))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new V8(this.filtered,e,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class K8 extends Yd.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Zd(e);let r,i;n.parse({on:(a,o)=>{switch(a){case"data":r=o;break;case"end":i=o;break}}},(a,o)=>{a&&this.emit("error",a)||o&&this.push(o)},(a,o)=>{this.emit("prefix",a,o)}),this._transform=(a,o,s)=>{r(a),s()},this._flush=a=>{i(),a()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class G8 extends Yd.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new N0({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const NY={Lexer:dR,Parser:Zd,Writer:N0,Store:gs,StreamParser:K8,StreamWriter:G8,Util:D8,DataFactory:El,Term:vs,NamedNode:Gr,Literal:cd,BlankNode:hR,Variable:pR,DefaultGraph:gR,Quad:Po,Triple:Po,termFromId:Ic,termToId:ia},FY=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:hR,DataFactory:El,DefaultGraph:gR,Lexer:dR,Literal:cd,NamedNode:Gr,Parser:Zd,Quad:Po,Store:gs,StreamParser:K8,StreamWriter:G8,Term:vs,Triple:Po,Util:D8,Variable:pR,Writer:N0,default:NY,termFromId:Ic,termToId:ia},Symbol.toStringTag,{value:"Module"}));var jY="http://www.w3.org/ns/auth/acl#Access",$Y="http://www.w3.org/ns/auth/acl#Append",UY="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",BY="http://www.w3.org/ns/auth/acl#Authorization",qY="http://www.w3.org/ns/auth/acl#Control",zY="http://www.w3.org/ns/auth/acl#Origin",HY="http://www.w3.org/ns/auth/acl#Read",VY="http://www.w3.org/ns/auth/acl#Write",KY="http://www.w3.org/ns/auth/acl#accessControl",GY="http://www.w3.org/ns/auth/acl#accessTo",WY="http://www.w3.org/ns/auth/acl#accessToClass",QY="http://www.w3.org/ns/auth/acl#agent",ZY="http://www.w3.org/ns/auth/acl#agentClass",JY="http://www.w3.org/ns/auth/acl#agentGroup",YY="http://www.w3.org/ns/auth/acl#default",XY="http://www.w3.org/ns/auth/acl#defaultForNew",eX="http://www.w3.org/ns/auth/acl#delegates",tX="http://www.w3.org/ns/auth/acl#mode",nX="http://www.w3.org/ns/auth/acl#origin",rX="http://www.w3.org/ns/auth/acl#owner",iX=Object.freeze({Access:jY,Append:$Y,AuthenticatedAgent:UY,Authorization:BY,Control:qY,Origin:zY,Read:HY,Write:VY,accessControl:KY,accessTo:GY,accessToClass:WY,agent:QY,agentClass:ZY,agentGroup:JY,default__workaround:YY,defaultForNew:XY,delegates:eX,mode:tX,origin:nX,owner:rX}),aX="http://www.w3.org/ns/activitystreams#actor",oX="http://www.w3.org/ns/activitystreams#attributedTo",sX="http://www.w3.org/ns/activitystreams#attachment",uX="http://www.w3.org/ns/activitystreams#attachments",lX="http://www.w3.org/ns/activitystreams#author",cX="http://www.w3.org/ns/activitystreams#bcc",fX="http://www.w3.org/ns/activitystreams#bto",dX="http://www.w3.org/ns/activitystreams#cc",hX="http://www.w3.org/ns/activitystreams#context",pX="http://www.w3.org/ns/activitystreams#generator",gX="http://www.w3.org/ns/activitystreams#icon",mX="http://www.w3.org/ns/activitystreams#image",yX="http://www.w3.org/ns/activitystreams#inReplyTo",vX="http://www.w3.org/ns/activitystreams#items",_X="http://www.w3.org/ns/activitystreams#location",wX="http://www.w3.org/ns/activitystreams#object",bX="http://www.w3.org/ns/activitystreams#oneOf",SX="http://www.w3.org/ns/activitystreams#anyOf",xX="http://www.w3.org/ns/activitystreams#preview",EX="http://www.w3.org/ns/activitystreams#provider",TX="http://www.w3.org/ns/activitystreams#replies",CX="http://www.w3.org/ns/activitystreams#result",AX="http://www.w3.org/ns/activitystreams#audience",RX="http://www.w3.org/ns/activitystreams#tag",PX="http://www.w3.org/ns/activitystreams#tags",OX="http://www.w3.org/ns/activitystreams#target",IX="http://www.w3.org/ns/activitystreams#origin",LX="http://www.w3.org/ns/activitystreams#instrument",MX="http://www.w3.org/ns/activitystreams#to",DX="http://www.w3.org/ns/activitystreams#url",kX="http://www.w3.org/ns/activitystreams#relationship",NX="http://www.w3.org/ns/activitystreams#describes",FX="http://www.w3.org/ns/activitystreams#formerType",jX="http://www.w3.org/ns/activitystreams#accuracy",$X="http://www.w3.org/ns/activitystreams#altitude",UX="http://www.w3.org/ns/activitystreams#content",BX="http://www.w3.org/ns/activitystreams#name",qX="http://www.w3.org/ns/activitystreams#downstreamDuplicates",zX="http://www.w3.org/ns/activitystreams#duration",HX="http://www.w3.org/ns/activitystreams#endTime",VX="http://www.w3.org/ns/activitystreams#height",KX="http://www.w3.org/ns/activitystreams#href",GX="http://www.w3.org/ns/activitystreams#hreflang",WX="http://www.w3.org/ns/activitystreams#id",QX="http://www.w3.org/ns/activitystreams#latitude",ZX="http://www.w3.org/ns/activitystreams#longitude",JX="http://www.w3.org/ns/activitystreams#mediaType",YX="http://www.w3.org/ns/activitystreams#objectType",XX="http://www.w3.org/ns/activitystreams#published",eee="http://www.w3.org/ns/activitystreams#radius",tee="http://www.w3.org/ns/activitystreams#rating",nee="http://www.w3.org/ns/activitystreams#rel",ree="http://www.w3.org/ns/activitystreams#startIndex",iee="http://www.w3.org/ns/activitystreams#startTime",aee="http://www.w3.org/ns/activitystreams#summary",oee="http://www.w3.org/ns/activitystreams#totalItems",see="http://www.w3.org/ns/activitystreams#units",uee="http://www.w3.org/ns/activitystreams#updated",lee="http://www.w3.org/ns/activitystreams#upstreamDuplicates",cee="http://www.w3.org/ns/activitystreams#verb",fee="http://www.w3.org/ns/activitystreams#width",dee="http://www.w3.org/ns/activitystreams#deleted",hee="http://www.w3.org/ns/activitystreams#Accept",pee="http://www.w3.org/ns/activitystreams#Activity",gee="http://www.w3.org/ns/activitystreams#Block",mee="http://www.w3.org/ns/activitystreams#IntransitiveActivity",yee="http://www.w3.org/ns/activitystreams#Add",vee="http://www.w3.org/ns/activitystreams#Announce",_ee="http://www.w3.org/ns/activitystreams#Application",wee="http://www.w3.org/ns/activitystreams#Arrive",bee="http://www.w3.org/ns/activitystreams#Article",See="http://www.w3.org/ns/activitystreams#Audio",xee="http://www.w3.org/ns/activitystreams#Collection",Eee="http://www.w3.org/ns/activitystreams#CollectionPage",Tee="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",Cee="http://www.w3.org/ns/activitystreams#Relationship",Aee="http://www.w3.org/ns/activitystreams#Create",Ree="http://www.w3.org/ns/activitystreams#Delete",Pee="http://www.w3.org/ns/activitystreams#Dislike",Oee="http://www.w3.org/ns/activitystreams#Document",Iee="http://www.w3.org/ns/activitystreams#Event",Lee="http://www.w3.org/ns/activitystreams#Flag",Mee="http://www.w3.org/ns/activitystreams#Follow",Dee="http://www.w3.org/ns/activitystreams#Group",kee="http://www.w3.org/ns/activitystreams#Ignore",Nee="http://www.w3.org/ns/activitystreams#Image",Fee="http://www.w3.org/ns/activitystreams#Invite",jee="http://www.w3.org/ns/activitystreams#Join",$ee="http://www.w3.org/ns/activitystreams#Leave",Uee="http://www.w3.org/ns/activitystreams#Like",Bee="http://www.w3.org/ns/activitystreams#View",qee="http://www.w3.org/ns/activitystreams#Listen",zee="http://www.w3.org/ns/activitystreams#Read",Hee="http://www.w3.org/ns/activitystreams#Move",Vee="http://www.w3.org/ns/activitystreams#Travel",Kee="http://www.w3.org/ns/activitystreams#Link",Gee="http://www.w3.org/ns/activitystreams#Mention",Wee="http://www.w3.org/ns/activitystreams#Note",Qee="http://www.w3.org/ns/activitystreams#Object",Zee="http://www.w3.org/ns/activitystreams#Offer",Jee="http://www.w3.org/ns/activitystreams#OrderedCollection",Yee="http://www.w3.org/ns/activitystreams#OrderedItems",Xee="http://www.w3.org/ns/activitystreams#Page",ete="http://www.w3.org/ns/activitystreams#Person",tte="http://www.w3.org/ns/activitystreams#Organization",nte="http://www.w3.org/ns/activitystreams#Profile",rte="http://www.w3.org/ns/activitystreams#Place",ite="http://www.w3.org/ns/activitystreams#Question",ate="http://www.w3.org/ns/activitystreams#Reject",ote="http://www.w3.org/ns/activitystreams#Remove",ste="http://www.w3.org/ns/activitystreams#Service",ute="http://www.w3.org/ns/activitystreams#TentativeAccept",lte="http://www.w3.org/ns/activitystreams#TentativeReject",cte="http://www.w3.org/ns/activitystreams#Tombstone",fte="http://www.w3.org/ns/activitystreams#Undo",dte="http://www.w3.org/ns/activitystreams#Update",hte="http://www.w3.org/ns/activitystreams#Video",pte=Object.freeze({actor:aX,attributedTo:oX,attachment:sX,attachments:uX,author:lX,bcc:cX,bto:fX,cc:dX,context:hX,generator:pX,icon:gX,image:mX,inReplyTo:yX,items:vX,location:_X,object:wX,oneOf:bX,anyOf:SX,preview:xX,provider:EX,replies:TX,result:CX,audience:AX,tag:RX,tags:PX,target:OX,origin:IX,instrument:LX,to:MX,url:DX,relationship:kX,describes:NX,formerType:FX,accuracy:jX,altitude:$X,content:UX,name:BX,downstreamDuplicates:qX,duration:zX,endTime:HX,height:VX,href:KX,hreflang:GX,id:WX,latitude:QX,longitude:ZX,mediaType:JX,objectType:YX,published:XX,radius:eee,rating:tee,rel:nee,startIndex:ree,startTime:iee,summary:aee,totalItems:oee,units:see,updated:uee,upstreamDuplicates:lee,verb:cee,width:fee,deleted:dee,Accept:hee,Activity:pee,Block:gee,IntransitiveActivity:mee,Add:yee,Announce:vee,Application:_ee,Arrive:wee,Article:bee,Audio:See,Collection:xee,CollectionPage:Eee,OrderedCollectionPage:Tee,Relationship:Cee,Create:Aee,Delete:Ree,Dislike:Pee,Document:Oee,Event:Iee,Flag:Lee,Follow:Mee,Group:Dee,Ignore:kee,Image:Nee,Invite:Fee,Join:jee,Leave:$ee,Like:Uee,View:Bee,Listen:qee,Read:zee,Move:Hee,Travel:Vee,Link:Kee,Mention:Gee,Note:Wee,Object__workaround:Qee,Offer:Zee,OrderedCollection:Jee,OrderedItems:Yee,Page:Xee,Person:ete,Organization:tte,Profile:nte,Place:rte,Question:ite,Reject:ate,Remove:ote,Service:ste,TentativeAccept:ute,TentativeReject:lte,Tombstone:cte,Undo:fte,Update:dte,Video:hte}),gte="http://purl.org/dc/terms/AgentClass",mte="http://purl.org/dc/terms/BibliographicResource",yte="http://purl.org/dc/terms/Box",vte="http://purl.org/dc/terms/FileFormat",_te="http://purl.org/dc/terms/Frequency",wte="http://purl.org/dc/terms/ISO3166",bte="http://purl.org/dc/terms/Jurisdiction",Ste="http://purl.org/dc/terms/LicenseDocument",xte="http://purl.org/dc/terms/LinguisticSystem",Ete="http://purl.org/dc/terms/Location",Tte="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",Cte="http://purl.org/dc/terms/MediaType",Ate="http://purl.org/dc/terms/MediaTypeOrExtent",Rte="http://purl.org/dc/terms/MethodOfAccrual",Pte="http://purl.org/dc/terms/MethodOfInstruction",Ote="http://purl.org/dc/terms/Period",Ite="http://purl.org/dc/terms/PeriodOfTime",Lte="http://purl.org/dc/terms/PhysicalMedium",Mte="http://purl.org/dc/terms/PhysicalResource",Dte="http://purl.org/dc/terms/Point",kte="http://purl.org/dc/terms/Policy",Nte="http://purl.org/dc/terms/ProvenanceStatement",Fte="http://purl.org/dc/terms/RFC1766",jte="http://purl.org/dc/terms/RFC3066",$te="http://purl.org/dc/terms/RFC4646",Ute="http://purl.org/dc/terms/RFC5646",Bte="http://purl.org/dc/terms/RightsStatement",qte="http://purl.org/dc/terms/SizeOrDuration",zte="http://purl.org/dc/terms/Standard",Hte="http://purl.org/dc/terms/URI",Vte="http://purl.org/dc/terms/W3CDTF",Kte="http://purl.org/dc/terms/abstract",Gte="http://purl.org/dc/terms/accessRights",Wte="http://purl.org/dc/terms/accrualMethod",Qte="http://purl.org/dc/terms/accrualPeriodicity",Zte="http://purl.org/dc/terms/accrualPolicy",Jte="http://purl.org/dc/terms/alternative",Yte="http://purl.org/dc/terms/audience",Xte="http://purl.org/dc/terms/available",ene="http://purl.org/dc/terms/bibliographicCitation",tne="http://purl.org/dc/terms/conformsTo",nne="http://purl.org/dc/terms/contributor",rne="http://purl.org/dc/terms/coverage",ine="http://purl.org/dc/terms/created",ane="http://purl.org/dc/terms/creator",one="http://purl.org/dc/terms/date",sne="http://purl.org/dc/terms/dateAccepted",une="http://purl.org/dc/terms/dateCopyrighted",lne="http://purl.org/dc/terms/dateSubmitted",cne="http://purl.org/dc/terms/description",fne="http://purl.org/dc/terms/educationLevel",dne="http://purl.org/dc/terms/extent",hne="http://purl.org/dc/terms/format",pne="http://purl.org/dc/terms/hasFormat",gne="http://purl.org/dc/terms/hasPart",mne="http://purl.org/dc/terms/hasVersion",yne="http://purl.org/dc/terms/identifier",vne="http://purl.org/dc/terms/instructionalMethod",_ne="http://purl.org/dc/terms/isFormatOf",wne="http://purl.org/dc/terms/isPartOf",bne="http://purl.org/dc/terms/isReferencedBy",Sne="http://purl.org/dc/terms/isReplacedBy",xne="http://purl.org/dc/terms/isRequiredBy",Ene="http://purl.org/dc/terms/isVersionOf",Tne="http://purl.org/dc/terms/issued",Cne="http://purl.org/dc/terms/language",Ane="http://purl.org/dc/terms/license",Rne="http://purl.org/dc/terms/mediator",Pne="http://purl.org/dc/terms/medium",One="http://purl.org/dc/terms/modified",Ine="http://purl.org/dc/terms/provenance",Lne="http://purl.org/dc/terms/publisher",Mne="http://purl.org/dc/terms/references",Dne="http://purl.org/dc/terms/relation",kne="http://purl.org/dc/terms/replaces",Nne="http://purl.org/dc/terms/requires",Fne="http://purl.org/dc/terms/rights",jne="http://purl.org/dc/terms/rightsHolder",$ne="http://purl.org/dc/terms/source",Une="http://purl.org/dc/terms/spatial",Bne="http://purl.org/dc/terms/subject",qne="http://purl.org/dc/terms/tableOfContents",zne="http://purl.org/dc/terms/temporal",Hne="http://purl.org/dc/terms/title",Vne="http://purl.org/dc/terms/type",Kne="http://purl.org/dc/terms/valid",Gne=Object.freeze({AgentClass:gte,BibliographicResource:mte,Box:yte,FileFormat:vte,Frequency:_te,ISO3166:wte,Jurisdiction:bte,LicenseDocument:Ste,LinguisticSystem:xte,Location:Ete,LocationPeriodOrJurisdiction:Tte,MediaType:Cte,MediaTypeOrExtent:Ate,MethodOfAccrual:Rte,MethodOfInstruction:Pte,Period:Ote,PeriodOfTime:Ite,PhysicalMedium:Lte,PhysicalResource:Mte,Point:Dte,Policy:kte,ProvenanceStatement:Nte,RFC1766:Fte,RFC3066:jte,RFC4646:$te,RFC5646:Ute,RightsStatement:Bte,SizeOrDuration:qte,Standard:zte,URI:Hte,W3CDTF:Vte,abstract:Kte,accessRights:Gte,accrualMethod:Wte,accrualPeriodicity:Qte,accrualPolicy:Zte,alternative:Jte,audience:Yte,available:Xte,bibliographicCitation:ene,conformsTo:tne,contributor:nne,coverage:rne,created:ine,creator:ane,date:one,dateAccepted:sne,dateCopyrighted:une,dateSubmitted:lne,description:cne,educationLevel:fne,extent:dne,format:hne,hasFormat:pne,hasPart:gne,hasVersion:mne,identifier:yne,instructionalMethod:vne,isFormatOf:_ne,isPartOf:wne,isReferencedBy:bne,isReplacedBy:Sne,isRequiredBy:xne,isVersionOf:Ene,issued:Tne,language:Cne,license:Ane,mediator:Rne,medium:Pne,modified:One,provenance:Ine,publisher:Lne,references:Mne,relation:Dne,replaces:kne,requires:Nne,rights:Fne,rightsHolder:jne,source:$ne,spatial:Une,subject:Bne,tableOfContents:qne,temporal:zne,title:Hne,type:Vne,valid:Kne}),Wne="http://xmlns.com/foaf/0.1/Person",Qne="http://xmlns.com/foaf/0.1/Document",Zne="http://xmlns.com/foaf/0.1/Organization",Jne="http://xmlns.com/foaf/0.1/Group",Yne="http://xmlns.com/foaf/0.1/Agent",Xne="http://xmlns.com/foaf/0.1/Project",ere="http://xmlns.com/foaf/0.1/Image",tre="http://xmlns.com/foaf/0.1/PersonalProfileDocument",nre="http://xmlns.com/foaf/0.1/OnlineAccount",rre="http://xmlns.com/foaf/0.1/OnlineGamingAccount",ire="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",are="http://xmlns.com/foaf/0.1/OnlineChatAccount",ore="http://xmlns.com/foaf/0.1/mbox",sre="http://xmlns.com/foaf/0.1/mbox_sha1sum",ure="http://xmlns.com/foaf/0.1/gender",lre="http://xmlns.com/foaf/0.1/geekcode",cre="http://xmlns.com/foaf/0.1/dnaChecksum",fre="http://xmlns.com/foaf/0.1/sha1",dre="http://xmlns.com/foaf/0.1/based_near",hre="http://xmlns.com/foaf/0.1/title",pre="http://xmlns.com/foaf/0.1/nick",gre="http://xmlns.com/foaf/0.1/jabberID",mre="http://xmlns.com/foaf/0.1/aimChatID",yre="http://xmlns.com/foaf/0.1/icqChatID",vre="http://xmlns.com/foaf/0.1/yahooChatID",_re="http://xmlns.com/foaf/0.1/msnChatID",wre="http://xmlns.com/foaf/0.1/name",bre="http://xmlns.com/foaf/0.1/firstName",Sre="http://xmlns.com/foaf/0.1/givenname",xre="http://xmlns.com/foaf/0.1/surname",Ere="http://xmlns.com/foaf/0.1/family_name",Tre="http://xmlns.com/foaf/0.1/phone",Cre="http://xmlns.com/foaf/0.1/homepage",Are="http://xmlns.com/foaf/0.1/weblog",Rre="http://xmlns.com/foaf/0.1/tipjar",Pre="http://xmlns.com/foaf/0.1/plan",Ore="http://xmlns.com/foaf/0.1/made",Ire="http://xmlns.com/foaf/0.1/maker",Lre="http://xmlns.com/foaf/0.1/img",Mre="http://xmlns.com/foaf/0.1/depiction",Dre="http://xmlns.com/foaf/0.1/depicts",kre="http://xmlns.com/foaf/0.1/thumbnail",Nre="http://xmlns.com/foaf/0.1/myersBriggs",Fre="http://xmlns.com/foaf/0.1/workplaceHomepage",jre="http://xmlns.com/foaf/0.1/workInfoHomepage",$re="http://xmlns.com/foaf/0.1/schoolHomepage",Ure="http://xmlns.com/foaf/0.1/knows",Bre="http://xmlns.com/foaf/0.1/interest",qre="http://xmlns.com/foaf/0.1/topic_interest",zre="http://xmlns.com/foaf/0.1/publications",Hre="http://xmlns.com/foaf/0.1/currentProject",Vre="http://xmlns.com/foaf/0.1/pastProject",Kre="http://xmlns.com/foaf/0.1/fundedBy",Gre="http://xmlns.com/foaf/0.1/logo",Wre="http://xmlns.com/foaf/0.1/topic",Qre="http://xmlns.com/foaf/0.1/primaryTopic",Zre="http://xmlns.com/foaf/0.1/page",Jre="http://xmlns.com/foaf/0.1/theme",Yre="http://xmlns.com/foaf/0.1/holdsAccount",Xre="http://xmlns.com/foaf/0.1/accountServiceHomepage",eie="http://xmlns.com/foaf/0.1/accountName",tie="http://xmlns.com/foaf/0.1/member",nie="http://xmlns.com/foaf/0.1/membershipClass",rie=Object.freeze({Person:Wne,Document:Qne,Organization:Zne,Group:Jne,Agent:Yne,Project:Xne,Image:ere,PersonalProfileDocument:tre,OnlineAccount:nre,OnlineGamingAccount:rre,OnlineEcommerceAccount:ire,OnlineChatAccount:are,mbox:ore,mbox_sha1sum:sre,gender:ure,geekcode:lre,dnaChecksum:cre,sha1:fre,based_near:dre,title:hre,nick:pre,jabberID:gre,aimChatID:mre,icqChatID:yre,yahooChatID:vre,msnChatID:_re,name:wre,firstName:bre,givenname:Sre,surname:xre,family_name:Ere,phone:Tre,homepage:Cre,weblog:Are,tipjar:Rre,plan:Pre,made:Ore,maker:Ire,img:Lre,depiction:Mre,depicts:Dre,thumbnail:kre,myersBriggs:Nre,workplaceHomepage:Fre,workInfoHomepage:jre,schoolHomepage:$re,knows:Ure,interest:Bre,topic_interest:qre,publications:zre,currentProject:Hre,pastProject:Vre,fundedBy:Kre,logo:Gre,topic:Wre,primaryTopic:Qre,page:Zre,theme:Jre,holdsAccount:Yre,accountServiceHomepage:Xre,accountName:eie,member:tie,membershipClass:nie}),iie="http://www.w3.org/ns/ldp#Resource",aie="http://www.w3.org/ns/ldp#RDFSource",oie="http://www.w3.org/ns/ldp#NonRDFSource",sie="http://www.w3.org/ns/ldp#Container",uie="http://www.w3.org/ns/ldp#BasicContainer",lie="http://www.w3.org/ns/ldp#DirectContainer",cie="http://www.w3.org/ns/ldp#IndirectContainer",fie="http://www.w3.org/ns/ldp#hasMemberRelation",die="http://www.w3.org/ns/ldp#isMemberOfRelation",hie="http://www.w3.org/ns/ldp#membershipResource",pie="http://www.w3.org/ns/ldp#insertedContentRelation",gie="http://www.w3.org/ns/ldp#member",mie="http://www.w3.org/ns/ldp#contains",yie="http://www.w3.org/ns/ldp#constrainedBy",vie="http://www.w3.org/ns/ldp#pageSortCriteria",_ie="http://www.w3.org/ns/ldp#PageSortCriterion",wie="http://www.w3.org/ns/ldp#pageSortPredicate",bie="http://www.w3.org/ns/ldp#pageSortOrder",Sie="http://www.w3.org/ns/ldp#pageSortCollation",xie="http://www.w3.org/ns/ldp#Page",Eie="http://www.w3.org/ns/ldp#pageSequence",Tie="http://www.w3.org/ns/ldp#inbox",Cie=Object.freeze({Resource:iie,RDFSource:aie,NonRDFSource:oie,Container:sie,BasicContainer:uie,DirectContainer:lie,IndirectContainer:cie,hasMemberRelation:fie,isMemberOfRelation:die,membershipResource:hie,insertedContentRelation:pie,member:gie,contains:mie,constrainedBy:yie,pageSortCriteria:vie,PageSortCriterion:_ie,pageSortPredicate:wie,pageSortOrder:bie,pageSortCollation:Sie,Page:xie,pageSequence:Eie,inbox:Tie}),Aie="http://www.w3.org/ns/pim/meeting#Meeting",Rie="http://www.w3.org/ns/pim/meeting#VideoCallPage",Pie="http://www.w3.org/ns/pim/meeting#actionItems",Oie="http://www.w3.org/ns/pim/meeting#agenda",Iie="http://www.w3.org/ns/pim/meeting#attendeeGroup",Lie="http://www.w3.org/ns/pim/meeting#chat",Mie="http://www.w3.org/ns/pim/meeting#nextMeeting",Die="http://www.w3.org/ns/pim/meeting#previousMeeting",kie="http://www.w3.org/ns/pim/meeting#sharedNotes",Nie="http://www.w3.org/ns/pim/meeting#toolList",Fie="http://www.w3.org/ns/pim/meeting#trip",jie="http://www.w3.org/ns/pim/meeting#videoCallPage",$ie=Object.freeze({Meeting:Aie,VideoCallPage:Rie,actionItems:Pie,agenda:Oie,attendeeGroup:Iie,chat:Lie,nextMeeting:Mie,previousMeeting:Die,sharedNotes:kie,toolList:Nie,trip:Fie,videoCallPage:jie}),Uie="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Bie="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",qie="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",zie="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Hie="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Vie="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Kie="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",Gie="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",Wie="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Qie="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Zie="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Jie="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",Yie="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",Xie="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",eae="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",tae="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nae="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",rae="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",iae="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",aae="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",oae="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",sae=Object.freeze({HTML:Uie,langString:Bie,PlainLiteral:qie,type:zie,Property:Hie,Statement:Vie,subject:Kie,predicate:Gie,object:Wie,Bag:Qie,Seq:Zie,Alt:Jie,value:Yie,List:Xie,first:eae,rest:tae,XMLLiteral:nae,JSON__workaround:rae,CompoundLiteral:iae,language:aae,direction:oae}),uae="http://www.w3.org/2000/01/rdf-schema#Resource",lae="http://www.w3.org/2000/01/rdf-schema#Class",cae="http://www.w3.org/2000/01/rdf-schema#subClassOf",fae="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",dae="http://www.w3.org/2000/01/rdf-schema#comment",hae="http://www.w3.org/2000/01/rdf-schema#label",pae="http://www.w3.org/2000/01/rdf-schema#domain",gae="http://www.w3.org/2000/01/rdf-schema#range",mae="http://www.w3.org/2000/01/rdf-schema#seeAlso",yae="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",vae="http://www.w3.org/2000/01/rdf-schema#Literal",_ae="http://www.w3.org/2000/01/rdf-schema#Container",wae="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",bae="http://www.w3.org/2000/01/rdf-schema#member",Sae="http://www.w3.org/2000/01/rdf-schema#Datatype",xae=Object.freeze({Resource:uae,Class:lae,subClassOf:cae,subPropertyOf:fae,comment:dae,label:hae,domain:pae,range:gae,seeAlso:mae,isDefinedBy:yae,Literal:vae,Container:_ae,ContainerMembershipProperty:wae,member:bae,Datatype:Sae}),Eae="http://rdfs.org/sioc/ns#Community",Tae="http://rdfs.org/sioc/ns#Container",Cae="http://rdfs.org/sioc/ns#Forum",Aae="http://rdfs.org/sioc/ns#Item",Rae="http://rdfs.org/sioc/ns#Post",Pae="http://rdfs.org/sioc/ns#Role",Oae="http://rdfs.org/sioc/ns#Space",Iae="http://rdfs.org/sioc/ns#Site",Lae="http://rdfs.org/sioc/ns#Thread",Mae="http://rdfs.org/sioc/ns#UserAccount",Dae="http://rdfs.org/sioc/ns#Usergroup",kae="http://rdfs.org/sioc/ns#about",Nae="http://rdfs.org/sioc/ns#account_of",Fae="http://rdfs.org/sioc/ns#addressed_to",jae="http://rdfs.org/sioc/ns#administrator_of",$ae="http://rdfs.org/sioc/ns#attachment",Uae="http://rdfs.org/sioc/ns#avatar",Bae="http://rdfs.org/sioc/ns#container_of",qae="http://rdfs.org/sioc/ns#content",zae="http://rdfs.org/sioc/ns#creator_of",Hae="http://rdfs.org/sioc/ns#delivered_at",Vae="http://rdfs.org/sioc/ns#discussion_of",Kae="http://rdfs.org/sioc/ns#email",Gae="http://rdfs.org/sioc/ns#email_sha1",Wae="http://rdfs.org/sioc/ns#embeds_knowledge",Qae="http://rdfs.org/sioc/ns#feed",Zae="http://rdfs.org/sioc/ns#follows",Jae="http://rdfs.org/sioc/ns#function_of",Yae="http://rdfs.org/sioc/ns#generator",Xae="http://rdfs.org/sioc/ns#has_administrator",eoe="http://rdfs.org/sioc/ns#has_container",toe="http://rdfs.org/sioc/ns#has_creator",noe="http://rdfs.org/sioc/ns#has_discussion",roe="http://rdfs.org/sioc/ns#has_function",ioe="http://rdfs.org/sioc/ns#has_host",aoe="http://rdfs.org/sioc/ns#has_member",ooe="http://rdfs.org/sioc/ns#has_moderator",soe="http://rdfs.org/sioc/ns#has_modifier",uoe="http://rdfs.org/sioc/ns#has_owner",loe="http://rdfs.org/sioc/ns#has_parent",coe="http://rdfs.org/sioc/ns#has_reply",foe="http://rdfs.org/sioc/ns#has_scope",doe="http://rdfs.org/sioc/ns#has_space",hoe="http://rdfs.org/sioc/ns#has_subscriber",poe="http://rdfs.org/sioc/ns#has_usergroup",goe="http://rdfs.org/sioc/ns#host_of",moe="http://rdfs.org/sioc/ns#id",yoe="http://rdfs.org/sioc/ns#ip_address",voe="http://rdfs.org/sioc/ns#last_activity_date",_oe="http://rdfs.org/sioc/ns#last_item_date",woe="http://rdfs.org/sioc/ns#last_reply_date",boe="http://rdfs.org/sioc/ns#latest_version",Soe="http://rdfs.org/sioc/ns#likes",xoe="http://rdfs.org/sioc/ns#link",Eoe="http://rdfs.org/sioc/ns#links_to",Toe="http://rdfs.org/sioc/ns#member_of",Coe="http://rdfs.org/sioc/ns#mentions",Aoe="http://rdfs.org/sioc/ns#moderator_of",Roe="http://rdfs.org/sioc/ns#modifier_of",Poe="http://rdfs.org/sioc/ns#name",Ooe="http://rdfs.org/sioc/ns#next_by_date",Ioe="http://rdfs.org/sioc/ns#next_version",Loe="http://rdfs.org/sioc/ns#note",Moe="http://rdfs.org/sioc/ns#num_authors",Doe="http://rdfs.org/sioc/ns#num_items",koe="http://rdfs.org/sioc/ns#num_replies",Noe="http://rdfs.org/sioc/ns#num_threads",Foe="http://rdfs.org/sioc/ns#num_views",joe="http://rdfs.org/sioc/ns#owner_of",$oe="http://rdfs.org/sioc/ns#parent_of",Uoe="http://rdfs.org/sioc/ns#previous_by_date",Boe="http://rdfs.org/sioc/ns#previous_version",qoe="http://rdfs.org/sioc/ns#read_at",zoe="http://rdfs.org/sioc/ns#related_to",Hoe="http://rdfs.org/sioc/ns#reply_of",Voe="http://rdfs.org/sioc/ns#respond_to",Koe="http://rdfs.org/sioc/ns#scope_of",Goe="http://rdfs.org/sioc/ns#shared_by",Woe="http://rdfs.org/sioc/ns#space_of",Qoe="http://rdfs.org/sioc/ns#subscriber_of",Zoe="http://rdfs.org/sioc/ns#topic",Joe="http://rdfs.org/sioc/ns#usergroup_of",Yoe=Object.freeze({Community:Eae,Container:Tae,Forum:Cae,Item:Aae,Post:Rae,Role:Pae,Space:Oae,Site:Iae,Thread:Lae,UserAccount:Mae,Usergroup:Dae,about:kae,account_of:Nae,addressed_to:Fae,administrator_of:jae,attachment:$ae,avatar:Uae,container_of:Bae,content:qae,creator_of:zae,delivered_at:Hae,discussion_of:Vae,email:Kae,email_sha1:Gae,embeds_knowledge:Wae,feed:Qae,follows:Zae,function_of:Jae,generator:Yae,has_administrator:Xae,has_container:eoe,has_creator:toe,has_discussion:noe,has_function:roe,has_host:ioe,has_member:aoe,has_moderator:ooe,has_modifier:soe,has_owner:uoe,has_parent:loe,has_reply:coe,has_scope:foe,has_space:doe,has_subscriber:hoe,has_usergroup:poe,host_of:goe,id:moe,ip_address:yoe,last_activity_date:voe,last_item_date:_oe,last_reply_date:woe,latest_version:boe,likes:Soe,link:xoe,links_to:Eoe,member_of:Toe,mentions:Coe,moderator_of:Aoe,modifier_of:Roe,name:Poe,next_by_date:Ooe,next_version:Ioe,note:Loe,num_authors:Moe,num_items:Doe,num_replies:koe,num_threads:Noe,num_views:Foe,owner_of:joe,parent_of:$oe,previous_by_date:Uoe,previous_version:Boe,read_at:qoe,related_to:zoe,reply_of:Hoe,respond_to:Voe,scope_of:Koe,shared_by:Goe,space_of:Woe,subscriber_of:Qoe,topic:Zoe,usergroup_of:Joe}),Xoe="http://www.w3.org/ns/solid/terms#Account",ese="http://www.w3.org/ns/solid/terms#Inbox",tse="http://www.w3.org/ns/solid/terms#InsertDeletePatch",nse="http://www.w3.org/ns/solid/terms#ListedDocument",rse="http://www.w3.org/ns/solid/terms#Notification",ise="http://www.w3.org/ns/solid/terms#Patch",ase="http://www.w3.org/ns/solid/terms#Timeline",ose="http://www.w3.org/ns/solid/terms#TypeIndex",sse="http://www.w3.org/ns/solid/terms#TypeRegistration",use="http://www.w3.org/ns/solid/terms#UnlistedDocument",lse="http://www.w3.org/ns/solid/terms#account",cse="http://www.w3.org/ns/solid/terms#deletes",fse="http://www.w3.org/ns/solid/terms#forClass",dse="http://www.w3.org/ns/solid/terms#inbox",hse="http://www.w3.org/ns/solid/terms#inserts",pse="http://www.w3.org/ns/solid/terms#instance",gse="http://www.w3.org/ns/solid/terms#instanceContainer",mse="http://www.w3.org/ns/solid/terms#loginEndpoint",yse="http://www.w3.org/ns/solid/terms#logoutEndpoint",vse="http://www.w3.org/ns/solid/terms#notification",_se="http://www.w3.org/ns/solid/terms#oidcIssuer",wse="http://www.w3.org/ns/solid/terms#owner",bse="http://www.w3.org/ns/solid/terms#patches",Sse="http://www.w3.org/ns/solid/terms#privateTypeIndex",xse="http://www.w3.org/ns/solid/terms#publicTypeIndex",Ese="http://www.w3.org/ns/solid/terms#read",Tse="http://www.w3.org/ns/solid/terms#storageQuota",Cse="http://www.w3.org/ns/solid/terms#storageUsage",Ase="http://www.w3.org/ns/solid/terms#typeIndex",Rse="http://www.w3.org/ns/solid/terms#timeline",Pse="http://www.w3.org/ns/solid/terms#where",Ose=Object.freeze({Account:Xoe,Inbox:ese,InsertDeletePatch:tse,ListedDocument:nse,Notification:rse,Patch:ise,Timeline:ase,TypeIndex:ose,TypeRegistration:sse,UnlistedDocument:use,account:lse,deletes:cse,forClass:fse,inbox:dse,inserts:hse,instance:pse,instanceContainer:gse,loginEndpoint:mse,logoutEndpoint:yse,notification:vse,oidcIssuer:_se,owner:wse,patches:bse,privateTypeIndex:Sse,publicTypeIndex:xse,read:Ese,storageQuota:Tse,storageUsage:Cse,typeIndex:Ase,timeline:Rse,where:Pse}),Ise="http://www.w3.org/ns/pim/space#ControlledStorage",Lse="http://www.w3.org/ns/pim/space#PersonalStorage",Mse="http://www.w3.org/ns/pim/space#PublicStorage",Dse="http://www.w3.org/ns/pim/space#Storage",kse="http://www.w3.org/ns/pim/space#Workspace",Nse="http://www.w3.org/ns/pim/space#masterWorkspace",Fse="http://www.w3.org/ns/pim/space#preferencesFile",jse="http://www.w3.org/ns/pim/space#storage",$se="http://www.w3.org/ns/pim/space#uriPrefix",Use="http://www.w3.org/ns/pim/space#workspace",Bse=Object.freeze({ControlledStorage:Ise,PersonalStorage:Lse,PublicStorage:Mse,Storage:Dse,Workspace:kse,masterWorkspace:Nse,preferencesFile:Fse,storage:jse,uriPrefix:$se,workspace:Use}),qse="http://www.w3.org/2006/vcard/ns#Acquaintance",zse="http://www.w3.org/2006/vcard/ns#Agent",Hse="http://www.w3.org/2006/vcard/ns#BBS",Vse="http://www.w3.org/2006/vcard/ns#Car",Kse="http://www.w3.org/2006/vcard/ns#Cell",Gse="http://www.w3.org/2006/vcard/ns#Child",Wse="http://www.w3.org/2006/vcard/ns#Colleague",Qse="http://www.w3.org/2006/vcard/ns#Contact",Zse="http://www.w3.org/2006/vcard/ns#Coresident",Jse="http://www.w3.org/2006/vcard/ns#Coworker",Yse="http://www.w3.org/2006/vcard/ns#Crush",Xse="http://www.w3.org/2006/vcard/ns#Date",eue="http://www.w3.org/2006/vcard/ns#Dom",tue="http://www.w3.org/2006/vcard/ns#Emergency",nue="http://www.w3.org/2006/vcard/ns#Fax",rue="http://www.w3.org/2006/vcard/ns#Female",iue="http://www.w3.org/2006/vcard/ns#Friend",aue="http://www.w3.org/2006/vcard/ns#Home",oue="http://www.w3.org/2006/vcard/ns#ISDN",sue="http://www.w3.org/2006/vcard/ns#Internet",uue="http://www.w3.org/2006/vcard/ns#Intl",lue="http://www.w3.org/2006/vcard/ns#Kin",cue="http://www.w3.org/2006/vcard/ns#Label",fue="http://www.w3.org/2006/vcard/ns#Male",due="http://www.w3.org/2006/vcard/ns#Me",hue="http://www.w3.org/2006/vcard/ns#Met",pue="http://www.w3.org/2006/vcard/ns#Modem",gue="http://www.w3.org/2006/vcard/ns#Msg",mue="http://www.w3.org/2006/vcard/ns#Muse",yue="http://www.w3.org/2006/vcard/ns#Neighbor",vue="http://www.w3.org/2006/vcard/ns#None",_ue="http://www.w3.org/2006/vcard/ns#Other",wue="http://www.w3.org/2006/vcard/ns#PCS",bue="http://www.w3.org/2006/vcard/ns#Pager",Sue="http://www.w3.org/2006/vcard/ns#Parcel",xue="http://www.w3.org/2006/vcard/ns#Parent",Eue="http://www.w3.org/2006/vcard/ns#Postal",Tue="http://www.w3.org/2006/vcard/ns#Pref",Cue="http://www.w3.org/2006/vcard/ns#Sibling",Aue="http://www.w3.org/2006/vcard/ns#Spouse",Rue="http://www.w3.org/2006/vcard/ns#Sweetheart",Pue="http://www.w3.org/2006/vcard/ns#Tel",Oue="http://www.w3.org/2006/vcard/ns#Text",Iue="http://www.w3.org/2006/vcard/ns#TextPhone",Lue="http://www.w3.org/2006/vcard/ns#Unknown",Mue="http://www.w3.org/2006/vcard/ns#Video",Due="http://www.w3.org/2006/vcard/ns#Voice",kue="http://www.w3.org/2006/vcard/ns#Work",Nue="http://www.w3.org/2006/vcard/ns#X400",Fue="http://www.w3.org/2006/vcard/ns#adr",jue="http://www.w3.org/2006/vcard/ns#agent",$ue="http://www.w3.org/2006/vcard/ns#anniversary",Uue="http://www.w3.org/2006/vcard/ns#bday",Bue="http://www.w3.org/2006/vcard/ns#category",que="http://www.w3.org/2006/vcard/ns#class",zue="http://www.w3.org/2006/vcard/ns#email",Hue="http://www.w3.org/2006/vcard/ns#geo",Vue="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Kue="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",Gue="http://www.w3.org/2006/vcard/ns#hasCalendarLink",Wue="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Que="http://www.w3.org/2006/vcard/ns#hasCategory",Zue="http://www.w3.org/2006/vcard/ns#hasCountryName",Jue="http://www.w3.org/2006/vcard/ns#hasFN",Yue="http://www.w3.org/2006/vcard/ns#hasFamilyName",Xue="http://www.w3.org/2006/vcard/ns#hasGender",ele="http://www.w3.org/2006/vcard/ns#hasGivenName",tle="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",nle="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",rle="http://www.w3.org/2006/vcard/ns#hasInstantMessage",ile="http://www.w3.org/2006/vcard/ns#hasLanguage",ale="http://www.w3.org/2006/vcard/ns#hasLocality",ole="http://www.w3.org/2006/vcard/ns#hasNickname",sle="http://www.w3.org/2006/vcard/ns#hasNote",ule="http://www.w3.org/2006/vcard/ns#hasOrganizationName",lle="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",cle="http://www.w3.org/2006/vcard/ns#hasPostalCode",fle="http://www.w3.org/2006/vcard/ns#hasRegion",dle="http://www.w3.org/2006/vcard/ns#hasRelated",hle="http://www.w3.org/2006/vcard/ns#hasRole",ple="http://www.w3.org/2006/vcard/ns#hasSource",gle="http://www.w3.org/2006/vcard/ns#hasStreetAddress",mle="http://www.w3.org/2006/vcard/ns#hasTitle",yle="http://www.w3.org/2006/vcard/ns#hasUID",vle="http://www.w3.org/2006/vcard/ns#hasValue",_le="http://www.w3.org/2006/vcard/ns#label",wle="http://www.w3.org/2006/vcard/ns#language",ble="http://www.w3.org/2006/vcard/ns#latitude",Sle="http://www.w3.org/2006/vcard/ns#longitude",xle="http://www.w3.org/2006/vcard/ns#mailer",Ele="http://www.w3.org/2006/vcard/ns#note",Tle="http://www.w3.org/2006/vcard/ns#org",Cle="http://www.w3.org/2006/vcard/ns#prodid",Ale="http://www.w3.org/2006/vcard/ns#rev",Rle="http://www.w3.org/2006/vcard/ns#role",Ple="http://www.w3.org/2006/vcard/ns#title",Ole="http://www.w3.org/2006/vcard/ns#tz",Ile="http://www.w3.org/2006/vcard/ns#value",Lle="http://www.w3.org/2006/vcard/ns#Address",Mle="http://www.w3.org/2006/vcard/ns#Email",Dle="http://www.w3.org/2006/vcard/ns#Group",kle="http://www.w3.org/2006/vcard/ns#Individual",Nle="http://www.w3.org/2006/vcard/ns#Name",Fle="http://www.w3.org/2006/vcard/ns#VCard",jle="http://www.w3.org/2006/vcard/ns#fn",$le="http://www.w3.org/2006/vcard/ns#hasAddress",Ule="http://www.w3.org/2006/vcard/ns#hasEmail",Ble="http://www.w3.org/2006/vcard/ns#hasGeo",qle="http://www.w3.org/2006/vcard/ns#hasKey",zle="http://www.w3.org/2006/vcard/ns#hasLogo",Hle="http://www.w3.org/2006/vcard/ns#hasName",Vle="http://www.w3.org/2006/vcard/ns#hasPhoto",Kle="http://www.w3.org/2006/vcard/ns#hasSound",Gle="http://www.w3.org/2006/vcard/ns#hasTelephone",Wle="http://www.w3.org/2006/vcard/ns#hasURL",Qle="http://www.w3.org/2006/vcard/ns#key",Zle="http://www.w3.org/2006/vcard/ns#logo",Jle="http://www.w3.org/2006/vcard/ns#n",Yle="http://www.w3.org/2006/vcard/ns#nickname",Xle="http://www.w3.org/2006/vcard/ns#photo",ece="http://www.w3.org/2006/vcard/ns#sound",tce="http://www.w3.org/2006/vcard/ns#tel",nce="http://www.w3.org/2006/vcard/ns#url",rce="http://www.w3.org/2006/vcard/ns#Location",ice="http://www.w3.org/2006/vcard/ns#hasMember",ace="http://www.w3.org/2006/vcard/ns#locality",oce="http://www.w3.org/2006/vcard/ns#region",sce="http://www.w3.org/2006/vcard/ns#Organization",uce="http://www.w3.org/2006/vcard/ns#Gender",lce="http://www.w3.org/2006/vcard/ns#Kind",cce="http://www.w3.org/2006/vcard/ns#Type",fce="http://www.w3.org/2006/vcard/ns#TelephoneType",dce="http://www.w3.org/2006/vcard/ns#RelatedType",hce=Object.freeze({Acquaintance:qse,Agent:zse,BBS:Hse,Car:Vse,Cell:Kse,Child:Gse,Colleague:Wse,Contact:Qse,Coresident:Zse,Coworker:Jse,Crush:Yse,Date__workaround:Xse,Dom:eue,Emergency:tue,Fax:nue,Female:rue,Friend:iue,Home:aue,ISDN:oue,Internet:sue,Intl__workaround:uue,Kin:lue,Label:cue,Male:fue,Me:due,Met:hue,Modem:pue,Msg:gue,Muse:mue,Neighbor:yue,None:vue,Other:_ue,PCS:wue,Pager:bue,Parcel:Sue,Parent:xue,Postal:Eue,Pref:Tue,Sibling:Cue,Spouse:Aue,Sweetheart:Rue,Tel:Pue,Text:Oue,TextPhone:Iue,Unknown:Lue,Video:Mue,Voice:Due,Work:kue,X400:Nue,adr:Fue,agent:jue,anniversary:$ue,bday:Uue,category:Bue,class__workaround:que,email:zue,geo:Hue,hasAdditionalName:Vue,hasCalendarBusy:Kue,hasCalendarLink:Gue,hasCalendarRequest:Wue,hasCategory:Que,hasCountryName:Zue,hasFN:Jue,hasFamilyName:Yue,hasGender:Xue,hasGivenName:ele,hasHonorificPrefix:tle,hasHonorificSuffix:nle,hasInstantMessage:rle,hasLanguage:ile,hasLocality:ale,hasNickname:ole,hasNote:sle,hasOrganizationName:ule,hasOrganizationUnit:lle,hasPostalCode:cle,hasRegion:fle,hasRelated:dle,hasRole:hle,hasSource:ple,hasStreetAddress:gle,hasTitle:mle,hasUID:yle,hasValue:vle,label:_le,language:wle,latitude:ble,longitude:Sle,mailer:xle,note:Ele,org:Tle,prodid:Cle,rev:Ale,role:Rle,title:Ple,tz:Ole,value:Ile,Address:Lle,Email:Mle,Group:Dle,Individual:kle,Name:Nle,VCard:Fle,fn:jle,hasAddress:$le,hasEmail:Ule,hasGeo:Ble,hasKey:qle,hasLogo:zle,hasName:Hle,hasPhoto:Vle,hasSound:Kle,hasTelephone:Gle,hasURL:Wle,key:Qle,logo:Zle,n:Jle,nickname:Yle,photo:Xle,sound:ece,tel:tce,url:nce,Location:rce,hasMember:ice,locality:ace,region:oce,Organization:sce,Gender:uce,Kind:lce,Type:cce,TelephoneType:fce,RelatedType:dce}),pce="http://www.w3.org/2005/01/wf/flow#ActionItem",gce="http://www.w3.org/2005/01/wf/flow#Change",mce="http://www.w3.org/2005/01/wf/flow#Closed",yce="http://www.w3.org/2005/01/wf/flow#Creation",vce="http://www.w3.org/2005/01/wf/flow#Message",_ce="http://www.w3.org/2005/01/wf/flow#NonTerminalState",wce="http://www.w3.org/2005/01/wf/flow#Open",bce="http://www.w3.org/2005/01/wf/flow#Product",Sce="http://www.w3.org/2005/01/wf/flow#Task",xce="http://www.w3.org/2005/01/wf/flow#TerminalState",Ece="http://www.w3.org/2005/01/wf/flow#Tracker",Tce="http://www.w3.org/2005/01/wf/flow#Transition",Cce="http://www.w3.org/2005/01/wf/flow#affects",Ace="http://www.w3.org/2005/01/wf/flow#allowedTransitions",Rce="http://www.w3.org/2005/01/wf/flow#asigneeClass",Pce="http://www.w3.org/2005/01/wf/flow#assignee",Oce="http://www.w3.org/2005/01/wf/flow#attachment",Ice="http://www.w3.org/2005/01/wf/flow#creates",Lce="http://www.w3.org/2005/01/wf/flow#dateDue",Mce="http://www.w3.org/2005/01/wf/flow#deliverable",Dce="http://www.w3.org/2005/01/wf/flow#dependent",kce="http://www.w3.org/2005/01/wf/flow#description",Nce="http://www.w3.org/2005/01/wf/flow#final",Fce="http://www.w3.org/2005/01/wf/flow#goalDescription",jce="http://www.w3.org/2005/01/wf/flow#initialState",$ce="http://www.w3.org/2005/01/wf/flow#issue",Uce="http://www.w3.org/2005/01/wf/flow#issueCategory",Bce="http://www.w3.org/2005/01/wf/flow#issueClass",qce="http://www.w3.org/2005/01/wf/flow#message",zce="http://www.w3.org/2005/01/wf/flow#modifiedBy",Hce="http://www.w3.org/2005/01/wf/flow#recipent",Vce="http://www.w3.org/2005/01/wf/flow#requires",Kce="http://www.w3.org/2005/01/wf/flow#screenShot",Gce="http://www.w3.org/2005/01/wf/flow#sender",Wce="http://www.w3.org/2005/01/wf/flow#source",Qce="http://www.w3.org/2005/01/wf/flow#stateStore",Zce="http://www.w3.org/2005/01/wf/flow#subscriber",Jce="http://www.w3.org/2005/01/wf/flow#successCriteria",Yce="http://www.w3.org/2005/01/wf/flow#task",Xce="http://www.w3.org/2005/01/wf/flow#terminalOutput",efe="http://www.w3.org/2005/01/wf/flow#testData",tfe="http://www.w3.org/2005/01/wf/flow#tracker",nfe="http://www.w3.org/2005/01/wf/flow#transactionStore",rfe=Object.freeze({ActionItem:pce,Change:gce,Closed:mce,Creation:yce,Message:vce,NonTerminalState:_ce,Open:wce,Product:bce,Task:Sce,TerminalState:xce,Tracker:Ece,Transition:Tce,affects:Cce,allowedTransitions:Ace,asigneeClass:Rce,assignee:Pce,attachment:Oce,creates:Ice,dateDue:Lce,deliverable:Mce,dependent:Dce,description:kce,final:Nce,goalDescription:Fce,initialState:jce,issue:$ce,issueCategory:Uce,issueClass:Bce,message:qce,modifiedBy:zce,recipent:Hce,requires:Vce,screenShot:Kce,sender:Gce,source:Wce,stateStore:Qce,subscriber:Zce,successCriteria:Jce,task:Yce,terminalOutput:Xce,testData:efe,tracker:tfe,transactionStore:nfe}),Sn=iX,ED=pte,W8=Gne,Tl=rie,iu=Cie,ife=$ie,nf=sae,_R=xae,kd=Yoe,Mn=Ose,Xd=Bse,Q8=hce,afe=rfe;const ofe=async(t,e)=>{const n=await globalThis.fetch(t,{method:"GET"});return await nr(n.url,e)},sfe=async t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e(r.result)},r.onerror=i=>n(i)}),yi=t=>{const e=new URL(t);if(e.hash="",e.search="",e.pathname.length===0||e.pathname==="/")return e.toString();const n=e.pathname.split("/").slice(0,-1);return n.push(""),e.pathname=n.join("/"),e.toString()},Z8=t=>{const e=yi(t);return e===t?J8(e):e},ufe=t=>lfe(t,Z8),J8=t=>{const e=new URL(t);if(e.pathname.length===0||e.pathname==="/")return t;const n=e.pathname.split("/").slice(0,-2);return n.push(""),e.pathname=n.join("/"),e.toString()},ko=async(t,e)=>{try{return await nr(t,e)}catch{return await ofe(t,e)}},Pl=t=>{const e=new URL(t);return e.hash="",e.toString()},TD=t=>{const e=new URL(t);return e.protocol="https",e.toString()},lfe=(t,e)=>{const n=new Set;let r=t;for(;!n.has(r);)n.add(r),r=e(r);return n.delete(t),Array.from(n)},Ol=async t=>{var a;const n=(await nr(t,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${t} does not have any Link headers`);const i=(a=I8.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${t}`);return new URL(i,t).toString()},Y8=(t,e)=>{const r=new Zd({baseIRI:t}).parse(e),i=new gs(r),a=i.getSubjects(nf.type,Sn.Authorization,null),o={[Sn.Read]:"Read",[Sn.Write]:"Write",[Sn.Append]:"Append",[Sn.Control]:"Control"};return a.map(s=>{const l=i.getObjects(s,Sn.mode,null).map(y=>o[y.value]),c=i.getObjects(s,Sn.agent,null).map(y=>y.value),h=i.getObjects(s,Sn.agentClass,null).map(y=>y.value),p=i.getObjects(s,Sn.agentGroup,null).map(y=>y.value),m=i.getObjects(s,Sn.default__workaround,null).map(y=>y.value);return{url:s.value,modes:l,agents:c,agentClasses:h,agentGroups:p,defaults:m}})},cfe=(t,...e)=>{const n={};for(const r of e)for(const i of r)n[i[t]]=i;return Object.values(n)},ffe=t=>{const e={};return t&&t.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const a=i[1],o=i[2].split(/\s+/);e[a]=new Set(o)}}),e};function fd(t,e){e=yi(e);try{const n=new URL(t).href,r=new URL(e).href;return n.startsWith(r)?n.substring(r.length)||"./":t}catch{return t}}const wR=(t="")=>{const e=t&&Pl(t),n=te.useMemo(()=>["file",e],[e]);return bm({queryKey:n,queryFn:()=>dfe(e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},dfe=async t=>{const e=await nr(t);if(e.ok)return URL.createObjectURL(await e.blob());if(e.status===404)return"";throw new Error(`Fetching ${t} not successful`)},hfe=async(t,e)=>{const r=(await nr(t,{method:"POST",body:e})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},pfe=async t=>{await nr(t,{method:"DELETE"})},gfe=()=>{const t=vi();return Ea({mutationFn:async({uri:n,data:r})=>await hfe(n,r),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Pl(r.uri)]})}})},mfe=()=>{const t=vi();return Ea({mutationFn:async({uri:n})=>await pfe(n),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Pl(r.uri)]})}})};function X8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=X8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=X8(t))&&(r&&(r+=" "),r+=e);return r}var eB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CD=Ut.createContext&&Ut.createContext(eB),yfe=["attr","size","title"];function vfe(t,e){if(t==null)return{};var n=_fe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _fe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r0.apply(this,arguments)}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=Sfe(t,"string");return typeof e=="symbol"?e:e+""}function Sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tB(t){return t&&t.map((e,n)=>Ut.createElement(e.tag,i0({key:n},e.attr),tB(e.child)))}function ca(t){return e=>Ut.createElement(xfe,r0({attr:i0({},t.attr)},e),tB(t.child))}function xfe(t){var e=n=>{var{attr:r,size:i,title:a}=t,o=vfe(t,yfe),s=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Ut.createElement("svg",r0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:i0(i0({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Ut.createElement("title",null,a),t.children)};return CD!==void 0?Ut.createElement(CD.Consumer,null,n=>e(n)):e(eB)}function Efe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function Am(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function Tfe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(t)}function Cfe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function nB(t){return ca({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(t)}function RD(t){return ca({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function rB(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function Afe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(t)}function Rfe(t){return ca({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function Pfe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function iB(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function Ofe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function bR(t){return ca({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Ife(t){return ca({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Lfe(t){return ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(t)}const Mfe="_photo_cmh6k_1",Dfe="_square_cmh6k_6",pS={photo:Mfe,square:Dfe},U0=({photo:t,size:e=1,square:n,className:r})=>{const{data:i}=wR(t);return i?ne.jsx("img",{className:Pr(pS.photo,n&&pS.square,r),src:i,alt:"",style:{width:`${e*2}rem`,height:`${e*2}rem`}}):ne.jsx(Ife,{className:Pr(pS.photo,r),size:e*32})},kfe="_button_14nfq_1",Nfe="_primary_14nfq_15",Ffe="_secondary_14nfq_24",jfe="_tertiary_14nfq_32",$fe="_danger_14nfq_37",oa={button:kfe,primary:Nfe,secondary:Ffe,tertiary:jfe,danger:$fe},hr=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>ne.jsx("button",{className:Pr(i,oa.button,t&&oa.primary,r&&oa.danger,e&&oa.secondary,n&&oa.tertiary),...a}),zc=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>ne.jsx(Oo,{className:Pr(i,oa.button,t&&oa.primary,r&&oa.danger,e&&oa.secondary,n&&oa.tertiary),...a}),Ufe=t=>ne.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:ne.jsx(rB,{})}),Bfe=({primary:t,secondary:e,tertiary:n,danger:r,className:i,children:a,...o})=>ne.jsx("a",{className:Pr(i,oa.button,t&&oa.primary,r&&oa.danger,e&&oa.secondary,n&&oa.tertiary),...o,children:a}),eh=SK,No=TK,qfe={...UQ,communityId:HU,communityContainer:VU,emailNotificationsType:KU,oidcIssuers:ZU,geoindexService:GU,tileServer:QU,darkModeLogoStyle:WU},Dn=()=>{const t=No(UU);return te.useMemo(()=>({...qfe,...t}),[t])},zfe=()=>{const t=eh(),e=Dn();te.useEffect(()=>{window.updateAppConfig=n=>{t(BC.setConfig(n))},window.resetAppConfig=()=>{t(BC.resetConfig())}},[t]),te.useEffect(()=>{window.appConfig=e},[e])},Hfe="_logoContainer_16cvy_1",Vfe="_logo_16cvy_1",Kfe="_focusedLogo_16cvy_10",Gfe="_unfocusedLogo_16cvy_13",Wfe="_darkInvert_16cvy_20",ac={logoContainer:Hfe,logo:Vfe,focusedLogo:Kfe,unfocusedLogo:Gfe,darkInvert:Wfe},aB=({logo:t,focusedLogo:e,name:n,className:r})=>{const{darkModeLogoStyle:i}=Dn();return!t&&!n?null:ne.jsxs("div",{className:ac.logoContainer,children:[t&&ne.jsx("img",{src:t,className:Pr(ac.logo,i==="invert"&&ac.darkInvert,e?ac.unfocusedLogo:null,r),alt:n?`logo of ${n}`:""}),e&&ne.jsx("img",{src:e,className:Pr(ac.logo,i&&ac.darkInvert,ac.focusedLogo,r),alt:n?`focused logo of ${n}`:""}),n?ne.jsx("span",{children:n}):null]})},Qfe={switch:"_switch_1g69w_1"},Zfe=()=>{const t=No(YA),e=eh(),n=()=>{e(XW.toggleTheme())};return ne.jsx("button",{className:Qfe.switch,onClick:n,"aria-label":t==="dark"?"Switch to light theme":"Switch to dark theme",children:t==="dark"?ne.jsx(Ofe,{}):ne.jsx(Pfe,{})})},Jfe={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Yfe={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},Xfe={schema:Jfe,shape:"https://example.com/HospexCommunity",context:Yfe};var ede=gu();const mp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",yp="http://www.w3.org/2001/XMLSchema#",gS="http://www.w3.org/2000/10/swap/",Bi={xsd:{decimal:`${yp}decimal`,boolean:`${yp}boolean`,double:`${yp}double`,integer:`${yp}integer`,string:`${yp}string`},rdf:{type:`${mp}type`,nil:`${mp}nil`,first:`${mp}first`,rest:`${mp}rest`,langString:`${mp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${gS}reify#forSome`,forAll:`${gS}reify#forAll`},log:{implies:`${gS}log#implies`}},{xsd:uv}=Bi,tde=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,PD={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},nde=/[\x00-\x20<>\\"\{\}\|\^\`]/,rde={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},ide=/$0^/;class ade{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in rde)&&this[n]instanceof RegExp&&(this[n]=ide)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,h=r[0];let p="",m="",y="",v=null,w=0,S=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(w=1,p="^");break}case"<":if(v=this._unescapedIri.exec(r))p="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||nde.test(m))return o(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",w=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",w=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",w=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return o(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return o(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(p="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(p="langcode",m=v[1]):(v=this._keyword.exec(r))&&(p=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",w=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(p="literal",m=v[0],y=typeof v[1]=="string"?uv.double:typeof v[2]=="string"?uv.decimal:uv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?p=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(p="literal",m=v[0],y=uv.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(w=1,m="="):(w=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(w=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",w=2):(p=h,w=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",w=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(p="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const x=w||v[0].length,E=a(p,m,y,c,x);this.previousToken=E,this._previousMarker=p,r=r.substr(x,r.length)}function a(s,l,c,h,p){const m=r?i-r.length:i,y=m+p,v={type:s,value:l,prefix:c,line:h,start:m,end:y};return e(null,v),v}function o(s){e(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(tde,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in PD?PD[s]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const o=e.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")L8(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=ede.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:ode,xsd:Pc}=Bi;let th,sde=0;const Cl={namedNode:sB,blankNode:uB,variable:cB,literal:lB,defaultGraph:fde,quad:JC,triple:JC,fromTerm:Cg,fromQuad:fB};class Uo{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Uo?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let os=class extends Uo{get termType(){return"NamedNode"}},O_=class oB extends Uo{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new os(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Pc.string:ode.langString}equals(e){return e instanceof oB?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},ude=class extends Uo{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},lde=class extends Uo{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},cde=class extends Uo{constructor(){return super(""),th||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};th=new cde;function Tg(t,e,n){if(e=e||Cl,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Cl)return new O_(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Tg(t[0],e,!0),Tg(t[1],e,!0),Tg(t[2],e,!0),t[3]&&Tg(t[3],e,!0))}function od(t,e){if(typeof t=="string")return t;if(t instanceof Uo&&t.termType!=="Quad")return t.id;if(!t)return th.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Pc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[od(t.subject,!0),od(t.predicate,!0),od(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(od(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let es=class extends Uo{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||th}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function sB(t){return new os(t)}function uB(t){return new ude(t||`n3-${sde++}`)}function lB(t,e){if(typeof e=="string")return new O_(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Pc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Pc.integer:Pc.double:(n=Pc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Pc.string?new O_(`"${t}"`):new O_(`"${t}"^^${n}`)}function cB(t){return new lde(t)}function fde(){return th}function JC(t,e,n,r){return new es(t,e,n,r)}function Cg(t){if(t instanceof Uo)return t;switch(t.termType){case"NamedNode":return sB(t.value);case"BlankNode":return uB(t.value);case"Variable":return cB(t.value);case"DefaultGraph":return th;case"Literal":return lB(t.value,t.language||t.datatype);case"Quad":return fB(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function fB(t){if(t instanceof es)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return JC(Cg(t.subject),Cg(t.predicate),Cg(t.object),Cg(t.graph))}let OD=0;class dB{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&hB(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new ade({lineMode:l,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){OD=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=lv}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(s=e[++i+1],s){case"/":r+=e.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+e.substring(o,i)+e.substr(i+1);case".":if(s=e[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=e.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${e.substr(i+1)}`;o=i+1}}}s=e[++i]}return r+e.substring(o)}parse(e,n,r){let i,a,o;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,o=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${OD++}_`,this._prefixCallback=a||lv,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(h,p)=>{h?c=h:p&&l.push(p)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),c)throw c;return l}let s=(l,c)=>{l!==null?(this._callback(l),this._callback=lv):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,s=(l,c)=>{l!==null?(this._callback(l),this._callback=lv):this._readCallback&&(c.type==="comment"?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(e,s)}}function lv(){}function hB(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(Bi.rdf.first),t.RDF_REST=n(Bi.rdf.rest),t.RDF_NIL=n(Bi.rdf.nil),t.N3_FORALL=n(Bi.r.forAll),t.N3_FORSOME=n(Bi.r.forSome),t.ABBREVIATIONS={a:n(Bi.rdf.type),"=":n(Bi.owl.sameAs),">":n(Bi.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}hB(dB.prototype,Cl);function YC(t){return!!t&&t.termType==="DefaultGraph"}const vp=Cl.defaultGraph(),{rdf:dde,xsd:Hf}=Bi,ID=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,LD=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,hde={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class _p extends Uo{equals(e){return e===this}}class pB{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=vp,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${DD(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return vp.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(vp.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){let n="";for(const r of e)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),ID.test(n)&&(n=n.replace(LD,MD));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(ID.test(n)&&(n=n.replace(LD,MD)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Hf.string)return`"${n}"`}else switch(e.datatype.value){case Hf.string:return`"${n}"`;case Hf.boolean:if(n==="true"||n==="false")return n;break;case Hf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Hf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Hf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===dde.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${YC(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,vp,i):this._writeQuad(e,n,r,i||vp,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=DD(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new _p("[]");case 1:if(i=r[0],!(i.object instanceof _p))return new _p(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(e)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new _p(`${o}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new _p(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function MD(t){let e=hde[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function DD(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const mS=Symbol("iter");function Fg(t,e,n=4){if(n===0)return Object.assign(t,e);for(const r in e)t[r]=Fg(t[r]||Object.create(null),e[r],n-1);return t}function gB(t,e,n=4){let r=!1;for(const i in t)if(i in e){const a=n===0?null:gB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function mB(t,e,n=4){let r=!1;for(const i in t)if(!(i in e))r=r||Object.create(null),r[i]=n===0?null:Fg({},t[i],n-1);else if(n!==0){const a=mB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class pde{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||Cl}_termFromId(e){if(e[0]==="."){const n=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return Tg(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(YC(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[od(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${YC(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:od(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class va{constructor(e,n){this._size=0,this._graphs=Object.create(null),!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||Cl,this._entityIndex=n.entityIndex||new pde({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])e+=Object.keys(i[s]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(e,n,r,i){const a=e[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,o,s,l){let c,h,p;const m=this._entities,y=this._termFromId(m[l]),v={subject:null,predicate:null,object:null};n&&((c=e,e={})[n]=c[n]);for(const w in e)if(h=e[w]){v[a]=this._termFromId(m[w]),r&&((c=h,h={})[r]=c[r]);for(const S in h)if(p=h[S]){v[o]=this._termFromId(m[S]);const x=i?i in p?[i]:[]:Object.keys(p);for(let E=0;E<x.length;E++)v[s]=this._termFromId(m[x[E]]),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,o,s;if((a=e[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(e,n,r,i){let a=0,o,s,l;n&&((o=e,e={})[n]=o[n]);for(const c in e)if(s=e[c]){r&&((o=s,s={})[r]=o[r]);for(const h in s)(l=s[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,e,n,r)?(this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,!0):!1}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||({subject:e,predicate:n,object:r,graph:i}=e),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[e])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,e,n,r),this._removeFromIndex(o.predicates,n,r,e),this._removeFromIndex(o.objects,r,e,n),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new Yd.Readable({objectMode:!0}),o=this.readQuads(e,n,r,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:c}=o.next();if(l){a.push(null);return}a.push(c)}},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){const a=this._getGraphs(i);let o,s,l,c;if(!(e&&!(s=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const h in a)(o=a[h])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",h):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",h):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new sl(this,e,n,r,i,{entityIndex:this._entityIndex})}countQuads(e,n,r,i){const a=this._getGraphs(i);let o=0,s,l,c,h;if(e&&!(l=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(s=a[p])&&(e?r?o+=this._countInIndex(s.objects,h,l,c):o+=this._countInIndex(s.subjects,l,c,h):n?o+=this._countInIndex(s.predicates,c,h,l):o+=this._countInIndex(s.objects,h,l,c));return o}forEach(e,n,r,i,a){this.some(o=>(e(o,this),!1),n,r,i,a)}every(e,n,r,i,a){return!this.some(o=>!e(o,this),n,r,i,a)}some(e,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(e(o))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){const a=this._getGraphs(i);let o,s,l;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,e):this._loopByKey1(o.subjects,s,e):l?this._loopByKey0(o.objects,l,e):this._loop(o.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){const a=this._getGraphs(i);let o,s,l;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,e):this._loopByKey0(o.subjects,s,e):l?this._loopByKey1(o.predicates,l,e):this._loop(o.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){const a=this._getGraphs(i);let o,s,l;if(e=this._uniqueEntities(e),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,e):this._loopByKey1(o.objects,s,e):l?this._loopByKey0(o.predicates,l,e):this._loop(o.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(o=>(e(o.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Bi.rdf.rest,Bi.rdf.nil,null),o=e?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,h,p;const m=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),w=this.getQuads(y,null,null,null);let S,x=null,E=null,A=null;for(let I=0;I<w.length&&!c;I++)S=w[I],S.graph.equals(m)?h?c=i(y,"has non-list arcs out"):S.predicate.value===Bi.rdf.first?x?c=i(y,"has multiple rdf:first arcs"):o.push(x=S):S.predicate.value===Bi.rdf.rest?E?c=i(y,"has multiple rdf:rest arcs"):o.push(E=S):v.length?c=i(y,"can't be subject and object"):(h=S,p="subject"):c=i(y,"not confined to single graph");for(let I=0;I<v.length&&!c;++I)S=v[I],h?c=i(y,"can't have coreferences"):S.predicate.value===Bi.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=S:(h=S,p="object");x?l.unshift(x.object):c=i(y,"has no list head"),y=A&&A.subject}c?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(o),r}addAll(e){if(e instanceof sl&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof va&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=Fg(this._graphs,e._graphs),this._size=null);else for(const n of e)this.add(n);return this}contains(e){if(e instanceof sl&&(e=e.filtered),e===this)return!0;if(!(e instanceof va)||this._entityIndex!==e._entityIndex)return e.every(c=>this.has(c));const n=this._graphs,r=e._graphs;let i,a,o,s,l;for(const c in r){if(!(i=n[c]))return!1;i=i.subjects;for(const h in a=r[c].subjects){if(!(o=i[h]))return!1;for(const p in s=a[h]){if(!(l=o[p]))return!1;for(const m in s[p])if(!(m in l))return!1}}}return!0}deleteMatches(e,n,r,i){for(const a of this.match(e,n,r,i))this.removeQuad(a);return this}difference(e){if(e&&e instanceof sl&&(e=e.filtered),e===this)return new va({entityIndex:this._entityIndex});if(e instanceof va&&e._entityIndex===this._entityIndex){const n=new va({entityIndex:this._entityIndex}),r=mB(this._graphs,e._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!e.has(n))}equals(e){return e instanceof sl&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const n=new va({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&n.add(r);return n}intersection(e){if(e instanceof sl&&(e=e.filtered),e===this){const n=new va({entityIndex:this._entityIndex});return n._graphs=Fg(Object.create(null),this._graphs),n._size=this._size,n}else if(e instanceof va&&this._entityIndex===e._entityIndex){const n=new va({entityIndex:this._entityIndex}),r=gB(e._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>e.has(n))}map(e){const n=new va({entityIndex:this._entityIndex});for(const r of this)n.add(e(r,this));return n}reduce(e,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=e(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new pB().quadsToString(this)}union(e){const n=new va({entityIndex:this._entityIndex});return n._graphs=Fg(Object.create(null),this._graphs),n._size=this._size,n.addAll(e),n}*[Symbol.iterator](){yield*this.readQuads()}}function Xo(t,e,n=0){const r=e[n];if(r&&!(r in t))return!1;let i=!1;for(const a in r?{[r]:t[r]}:t){const o=n===2?null:Xo(t[a],e,n+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class sl extends Yd.Readable{constructor(e,n,r,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new va({factory:e._factory,entityIndex:this.options.entityIndex});let s,l,c;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||r&&!(c=o._termToNumericId(r)))return o;const h=e._getGraphs(n);for(const p in h){let m,y,v;!s&&l?(y=Xo(h[p].predicates,[l,c,s]))&&(m=Xo(h[p].subjects,[s,l,c]),v=Xo(h[p].objects,[c,s,l])):c?(v=Xo(h[p].objects,[c,s,l]))&&(m=Xo(h[p].subjects,[s,l,c]),y=Xo(h[p].predicates,[l,c,s])):(m=Xo(h[p].subjects,[s,l,c]))&&(y=Xo(h[p].predicates,[l,c,s]),v=Xo(h[p].objects,[c,s,l])),m&&(o._graphs[p]={subjects:m,predicates:y,objects:v})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[mS]&&(this[mS]=this[Symbol.iterator]());const n=this[mS];for(;--e>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,n,r,i){return this.filtered.deleteMatches(e,n,r,i)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,n,r,i,a){return this.filtered.every(e,n,r,i,a)}filter(e){return this.filtered.filter(e)}forEach(e,n,r,i,a){return this.filtered.forEach(e,n,r,i,a)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,n,r,i,a){return this.filtered.some(e,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,n){return this.filtered.reduce(e,n)}toString(){return new pB().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new sl(this.filtered,e,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function kD(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var SR=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(h){try{c(r.next(h))}catch(p){o(p)}}function l(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?a(h.value):i(h.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const gde=t=>(e,n)=>SR(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(e,{method:"GET"});return yield t(r.url,n)}),mde=t=>(e,n)=>SR(void 0,void 0,void 0,function*(){try{return yield t(e,n)}catch{return yield gde(t)(e,n)}}),XC=t=>{const e=new URL(t);return e.hash="",e.toString()},yde=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],xR=(t,e)=>SR(void 0,void 0,void 0,function*(){var n;let r=[],i="",a=-1,o=!1,s;try{const l=XC(t);return s=yield mde(e)(l,{headers:{accept:yde.join(",")}}),o=s.ok,a=s.status,i=yield s.text(),r=vde(i,{baseIRI:l,format:(n=s.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:kD(i),ok:o,statusCode:a,response:s}}catch{return o=!1,{data:r,rawData:i,hash:kD(i),ok:o,statusCode:a,response:s}}}),vde=(t,e)=>{const n=new dB(e),r=Cl.namedNode(e.baseIRI);return n.parse(t).map(({subject:a,predicate:o,object:s})=>Cl.quad(a,o,s,r))},I_=t=>JSON.stringify(t.toJSON()),oc=["subject","predicate","object","graph"],yB={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let el=class extends os{constructor(e){super(yB.variable+"/"+e),this.variable=e}static getVar(e){return e.value.split("/").pop()}};const bn=Object.fromEntries(Object.entries(yB).map(([t,e])=>[t,new os(e)]));class _de{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let e="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);e+=r.concat(" ")+" ==> "+i.concat(" ")}),e}}add(e){var n,r,i;this.list.add(e),Object.values(e.from).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.provides)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.provides[o.value].add(e)})}),Object.values(e.to).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.providersOf)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.providersOf[o.value].add(e)})}),e.quad&&((n=(r=this.byQuad)[i=I_(e.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[I_(e.quad)].add(e))}remove(e){this.list.delete(e),Object.values(e.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(e)})}),Object.values(e.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(e)})}),e.quad&&this.byQuad[I_(e.quad)].delete(e)}}class ND{constructor(e,n,r=new va){this.moves=new _de,this.store=r,this.query=e,Object.entries(n).forEach(([i,a])=>{a.forEach(o=>{const s=new os(o);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(e,n){var r;if(this.store.removeQuad(new es(n,bn.variable,new el(e),bn.meta)),n.termType==="NamedNode"){const o=new os(XC(n.value));this.store.removeQuad(new es(n,bn.resource,o,bn.meta)),this.store.removeQuads(this.store.getQuads(o,bn.status,null,bn.meta)),this.removeResource(o.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(o=>{var s;return Array.from((s=o.from[e])!==null&&s!==void 0?s:[]).some(l=>l.equals(n))});for(const o of a){const s=o.to;this.moves.remove(o);for(const l in s)s[l].forEach(c=>{var h;Array.from((h=this.moves.providersOf[c.value])!==null&&h!==void 0?h:new Set).filter(m=>{var y;return Array.from((y=m.to[l])!==null&&y!==void 0?y:[]).some(v=>v.equals(c))}).length===0&&this.removeVariable(l,c)})}}addResource(e,n,r="success"){const i=new os(e),a=this.store.getQuads(null,null,null,i),[o,s]=wde(n,a);o.forEach(p=>this.addQuad(p)),s.forEach(p=>this.removeQuad(p));const l=new es(i,bn.status,bn.missing,bn.meta),c=new es(i,bn.status,bn.added,bn.meta),h=new es(i,bn.status,bn.failed,bn.meta);this.store.removeQuads([l,c,h]),r==="success"&&this.store.addQuad(c),r==="error"&&this.store.addQuad(h)}addQuad(e){this.store.addQuad(e);const n=Object.fromEntries(oc.map(a=>[a,this.store.getObjects(e[a],bn.variable,bn.meta)])),r=(a,o)=>{const s=a[o],l=e[o];return!!(!s||s.startsWith("?")&&n[o].some(c=>c.equals(new el(s.slice(1))))||s===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>oc.every(o=>r(a,o))).map(([a,o])=>[+a,o]);for(const[a,o]of i){const s={};for(const c of oc){const h=o[c];h!=null&&h.startsWith("?")&&(s[h.slice(1)]=new Set([e[c]]))}const l={[o.target.slice(1)]:new Set([e[o.pick]])};this.moves.add({step:a,from:s,to:l,quad:e}),this.addVariable(o.target.slice(1),e[o.pick])}}removeResource(e){this.store.getQuads(null,null,null,new os(e)).forEach(r=>this.removeQuad(r))}removeQuad(e){var n;this.store.removeQuad(e),((n=this.moves.byQuad[I_(e)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const o in a)a[o].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(c=>{var h;return Array.from((h=c.to[o])!==null&&h!==void 0?h:[]).some(p=>p.equals(s))}).length===0&&this.removeVariable(o,s)})})}hopFromVariable(e,n){const r=`?${e}`;this.query.map((a,o)=>[a,o]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&oc.some(o=>a[o]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,o])=>{var s;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:o}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(h,p)=>{let m=new Set;const y=h[p];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new os(y));else if(y.slice(1)===e)m.add(n);else{const v=this.store.getSubjects(bn.variable,new el(y.slice(1)),bn.meta);m=new Set(v)}return m},c=Object.fromEntries(oc.map(h=>[h,l(a,h)]));for(const h of c.subject)for(const p of c.predicate)for(const m of c.object)for(const y of c.graph){const v=this.store.getQuads(h,p,m,y);for(const w of v){const S=a.target.slice(1),x=w[a.pick],E={};for(const I of oc)!((s=a[I])===null||s===void 0)&&s.startsWith("?")&&(E[a[I].slice(1)]=new Set([w[I]]));const A={[S]:new Set([x])};this.moves.add({from:E,to:A,step:o,quad:w}),this.addVariable(S,x)}}}})}addVariable(e,n){if(this.store.has(new es(n,bn.variable,new el(e),bn.meta)))return;this.store.addQuads([new es(n,bn.variable,new el(e),bn.meta)]);let r;n.termType==="NamedNode"&&(r=new os(XC(n.value)),this.store.addQuads([new es(n,bn.resource,r,bn.meta)]));const i=`?${e}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),o=this.query.some(l=>typeof l!="function"&&l.type==="match"&&oc.some(c=>l[c]===i));r&&(a||o)&&this.store.match(r,bn.status,null,bn.meta).size===0&&this.store.addQuad(r,bn.status,bn.missing,bn.meta),this.hopFromVariable(e,n)}getVariable(e){return this.store.getSubjects(bn.variable,new el(e),bn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,bn.variable,null,bn.meta).reduce((e,n)=>{var r,i;return(r=e[i=el.getVar(n.object)])!==null&&r!==void 0||(e[i]=new Set),e[el.getVar(n.object)].add(n.subject.value),e},{})}getResources(e){if(!e)return this.store.getObjects(null,bn.resource,bn.meta).map(r=>r.value);const n=e==="missing"?bn.missing:e==="failed"?bn.failed:bn.added;return this.store.getSubjects(bn.status,n,bn.meta).map(r=>r.value)}}const wde=(t,e)=>{if(e.length===0)return[t,[]];if(t.length===0)return[[],e];const n=t.filter(i=>!e.some(a=>i.equals(a))),r=e.filter(i=>!t.some(a=>i.equals(a)));return[n,r]};var yS,FD;function bde(){if(FD)return yS;FD=1;function t(){this.__data__=[],this.size=0}return yS=t,yS}var vS,jD;function Rm(){if(jD)return vS;jD=1;function t(e,n){return e===n||e!==e&&n!==n}return vS=t,vS}var _S,$D;function B0(){if($D)return _S;$D=1;var t=Rm();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return _S=e,_S}var wS,UD;function Sde(){if(UD)return wS;UD=1;var t=B0(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return wS=r,wS}var bS,BD;function xde(){if(BD)return bS;BD=1;var t=B0();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return bS=e,bS}var SS,qD;function Ede(){if(qD)return SS;qD=1;var t=B0();function e(n){return t(this.__data__,n)>-1}return SS=e,SS}var xS,zD;function Tde(){if(zD)return xS;zD=1;var t=B0();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return xS=e,xS}var ES,HD;function q0(){if(HD)return ES;HD=1;var t=bde(),e=Sde(),n=xde(),r=Ede(),i=Tde();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ES=a,ES}var TS,VD;function Cde(){if(VD)return TS;VD=1;var t=q0();function e(){this.__data__=new t,this.size=0}return TS=e,TS}var CS,KD;function Ade(){if(KD)return CS;KD=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return CS=t,CS}var AS,GD;function Rde(){if(GD)return AS;GD=1;function t(e){return this.__data__.get(e)}return AS=t,AS}var RS,WD;function Pde(){if(WD)return RS;WD=1;function t(e){return this.__data__.has(e)}return RS=t,RS}var PS,QD;function vB(){if(QD)return PS;QD=1;var t=typeof _g=="object"&&_g&&_g.Object===Object&&_g;return PS=t,PS}var OS,ZD;function Bo(){if(ZD)return OS;ZD=1;var t=vB(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return OS=n,OS}var IS,JD;function nh(){if(JD)return IS;JD=1;var t=Bo(),e=t.Symbol;return IS=e,IS}var LS,YD;function Ode(){if(YD)return LS;YD=1;var t=nh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var h=r.call(o);return c&&(s?o[i]=l:delete o[i]),h}return LS=a,LS}var MS,XD;function Ide(){if(XD)return MS;XD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return MS=n,MS}var DS,ek;function rh(){if(ek)return DS;ek=1;var t=nh(),e=Ode(),n=Ide(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):n(s)}return DS=o,DS}var kS,tk;function po(){if(tk)return kS;tk=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return kS=t,kS}var NS,nk;function ER(){if(nk)return NS;nk=1;var t=rh(),e=po(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==r||l==i||l==n||l==a}return NS=o,NS}var FS,rk;function Lde(){if(rk)return FS;rk=1;var t=Bo(),e=t["__core-js_shared__"];return FS=e,FS}var jS,ik;function Mde(){if(ik)return jS;ik=1;var t=Lde(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return jS=n,jS}var $S,ak;function _B(){if(ak)return $S;ak=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return $S=n,$S}var US,ok;function Dde(){if(ok)return US;ok=1;var t=ER(),e=Mde(),n=po(),r=_B(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,h=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||e(m))return!1;var y=t(m)?h:a;return y.test(r(m))}return US=p,US}var BS,sk;function kde(){if(sk)return BS;sk=1;function t(e,n){return e==null?void 0:e[n]}return BS=t,BS}var qS,uk;function rf(){if(uk)return qS;uk=1;var t=Dde(),e=kde();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return qS=n,qS}var zS,lk;function TR(){if(lk)return zS;lk=1;var t=rf(),e=Bo(),n=t(e,"Map");return zS=n,zS}var HS,ck;function z0(){if(ck)return HS;ck=1;var t=rf(),e=t(Object,"create");return HS=e,HS}var VS,fk;function Nde(){if(fk)return VS;fk=1;var t=z0();function e(){this.__data__=t?t(null):{},this.size=0}return VS=e,VS}var KS,dk;function Fde(){if(dk)return KS;dk=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return KS=t,KS}var GS,hk;function jde(){if(hk)return GS;hk=1;var t=z0(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return GS=i,GS}var WS,pk;function $de(){if(pk)return WS;pk=1;var t=z0(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return WS=r,WS}var QS,gk;function Ude(){if(gk)return QS;gk=1;var t=z0(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return QS=n,QS}var ZS,mk;function Bde(){if(mk)return ZS;mk=1;var t=Nde(),e=Fde(),n=jde(),r=$de(),i=Ude();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ZS=a,ZS}var JS,yk;function qde(){if(yk)return JS;yk=1;var t=Bde(),e=q0(),n=TR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return JS=r,JS}var YS,vk;function zde(){if(vk)return YS;vk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return YS=t,YS}var XS,_k;function H0(){if(_k)return XS;_k=1;var t=zde();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return XS=e,XS}var ex,wk;function Hde(){if(wk)return ex;wk=1;var t=H0();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return ex=e,ex}var tx,bk;function Vde(){if(bk)return tx;bk=1;var t=H0();function e(n){return t(this,n).get(n)}return tx=e,tx}var nx,Sk;function Kde(){if(Sk)return nx;Sk=1;var t=H0();function e(n){return t(this,n).has(n)}return nx=e,nx}var rx,xk;function Gde(){if(xk)return rx;xk=1;var t=H0();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return rx=e,rx}var ix,Ek;function CR(){if(Ek)return ix;Ek=1;var t=qde(),e=Hde(),n=Vde(),r=Kde(),i=Gde();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ix=a,ix}var ax,Tk;function Wde(){if(Tk)return ax;Tk=1;var t=q0(),e=TR(),n=CR(),r=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return ax=i,ax}var ox,Ck;function V0(){if(Ck)return ox;Ck=1;var t=q0(),e=Cde(),n=Ade(),r=Rde(),i=Pde(),a=Wde();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,ox=o,ox}var sx,Ak;function Qde(){if(Ak)return sx;Ak=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return sx=e,sx}var ux,Rk;function Zde(){if(Rk)return ux;Rk=1;function t(e){return this.__data__.has(e)}return ux=t,ux}var lx,Pk;function Jde(){if(Pk)return lx;Pk=1;var t=CR(),e=Qde(),n=Zde();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,lx=r,lx}var cx,Ok;function Yde(){if(Ok)return cx;Ok=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return cx=t,cx}var fx,Ik;function Xde(){if(Ik)return fx;Ik=1;function t(e,n){return e.has(n)}return fx=t,fx}var dx,Lk;function wB(){if(Lk)return dx;Lk=1;var t=Jde(),e=Yde(),n=Xde(),r=1,i=2;function a(o,s,l,c,h,p){var m=l&r,y=o.length,v=s.length;if(y!=v&&!(m&&v>y))return!1;var w=p.get(o),S=p.get(s);if(w&&S)return w==s&&S==o;var x=-1,E=!0,A=l&i?new t:void 0;for(p.set(o,s),p.set(s,o);++x<y;){var I=o[x],M=s[x];if(c)var D=m?c(M,I,x,s,o,p):c(I,M,x,o,s,p);if(D!==void 0){if(D)continue;E=!1;break}if(A){if(!e(s,function(F,Q){if(!n(A,Q)&&(I===F||h(I,F,l,c,p)))return A.push(Q)})){E=!1;break}}else if(!(I===M||h(I,M,l,c,p))){E=!1;break}}return p.delete(o),p.delete(s),E}return dx=a,dx}var hx,Mk;function bB(){if(Mk)return hx;Mk=1;var t=Bo(),e=t.Uint8Array;return hx=e,hx}var px,Dk;function ehe(){if(Dk)return px;Dk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return px=t,px}var gx,kk;function the(){if(kk)return gx;kk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return gx=t,gx}var mx,Nk;function nhe(){if(Nk)return mx;Nk=1;var t=nh(),e=bB(),n=Rm(),r=wB(),i=ehe(),a=the(),o=1,s=2,l="[object Boolean]",c="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",w="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function M(D,F,Q,Y,B,Z,ce){switch(Q){case E:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case x:return!(D.byteLength!=F.byteLength||!Z(new e(D),new e(F)));case l:case c:case m:return n(+D,+F);case h:return D.name==F.name&&D.message==F.message;case y:case w:return D==F+"";case p:var re=i;case v:var ue=Y&o;if(re||(re=a),D.size!=F.size&&!ue)return!1;var ge=ce.get(D);if(ge)return ge==F;Y|=s,ce.set(D,F);var _e=r(re(D),re(F),Y,B,Z,ce);return ce.delete(D),_e;case S:if(I)return I.call(D)==I.call(F)}return!1}return mx=M,mx}var yx,Fk;function AR(){if(Fk)return yx;Fk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return yx=t,yx}var vx,jk;function qo(){if(jk)return vx;jk=1;var t=Array.isArray;return vx=t,vx}var _x,$k;function SB(){if($k)return _x;$k=1;var t=AR(),e=qo();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return _x=n,_x}var wx,Uk;function xB(){if(Uk)return wx;Uk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];n(s,r,e)&&(o[a++]=s)}return o}return wx=t,wx}var bx,Bk;function EB(){if(Bk)return bx;Bk=1;function t(){return[]}return bx=t,bx}var Sx,qk;function RR(){if(qk)return Sx;qk=1;var t=xB(),e=EB(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return r.call(o,s)}))}:e;return Sx=a,Sx}var xx,zk;function TB(){if(zk)return xx;zk=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return xx=t,xx}var Ex,Hk;function yu(){if(Hk)return Ex;Hk=1;function t(e){return e!=null&&typeof e=="object"}return Ex=t,Ex}var Tx,Vk;function rhe(){if(Vk)return Tx;Vk=1;var t=rh(),e=yu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Tx=r,Tx}var Cx,Kk;function K0(){if(Kk)return Cx;Kk=1;var t=rhe(),e=yu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Cx=a,Cx}var Ag={exports:{}},Ax,Gk;function ihe(){if(Gk)return Ax;Gk=1;function t(){return!1}return Ax=t,Ax}Ag.exports;var Wk;function G0(){return Wk||(Wk=1,function(t,e){var n=Bo(),r=ihe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c}(Ag,Ag.exports)),Ag.exports}var Rx,Qk;function W0(){if(Qk)return Rx;Qk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Rx=n,Rx}var Px,Zk;function PR(){if(Zk)return Px;Zk=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Px=e,Px}var Ox,Jk;function ahe(){if(Jk)return Ox;Jk=1;var t=rh(),e=PR(),n=yu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",w="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",B="[object Uint32Array]",Z={};Z[E]=Z[A]=Z[I]=Z[M]=Z[D]=Z[F]=Z[Q]=Z[Y]=Z[B]=!0,Z[r]=Z[i]=Z[S]=Z[a]=Z[x]=Z[o]=Z[s]=Z[l]=Z[c]=Z[h]=Z[p]=Z[m]=Z[y]=Z[v]=Z[w]=!1;function ce(re){return n(re)&&e(re.length)&&!!Z[t(re)]}return Ox=ce,Ox}var Ix,Yk;function OR(){if(Yk)return Ix;Yk=1;function t(e){return function(n){return e(n)}}return Ix=t,Ix}var Rg={exports:{}};Rg.exports;var Xk;function IR(){return Xk||(Xk=1,function(t,e){var n=vB(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s}(Rg,Rg.exports)),Rg.exports}var Lx,eN;function LR(){if(eN)return Lx;eN=1;var t=ahe(),e=OR(),n=IR(),r=n&&n.isTypedArray,i=r?e(r):t;return Lx=i,Lx}var Mx,tN;function CB(){if(tN)return Mx;tN=1;var t=TB(),e=K0(),n=qo(),r=G0(),i=W0(),a=LR(),o=Object.prototype,s=o.hasOwnProperty;function l(c,h){var p=n(c),m=!p&&e(c),y=!p&&!m&&r(c),v=!p&&!m&&!y&&a(c),w=p||m||y||v,S=w?t(c.length,String):[],x=S.length;for(var E in c)(h||s.call(c,E))&&!(w&&(E=="length"||y&&(E=="offset"||E=="parent")||v&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,x)))&&S.push(E);return S}return Mx=l,Mx}var Dx,nN;function MR(){if(nN)return Dx;nN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Dx=e,Dx}var kx,rN;function AB(){if(rN)return kx;rN=1;function t(e,n){return function(r){return e(n(r))}}return kx=t,kx}var Nx,iN;function ohe(){if(iN)return Nx;iN=1;var t=AB(),e=t(Object.keys,Object);return Nx=e,Nx}var Fx,aN;function she(){if(aN)return Fx;aN=1;var t=MR(),e=ohe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return Fx=i,Fx}var jx,oN;function Q0(){if(oN)return jx;oN=1;var t=ER(),e=PR();function n(r){return r!=null&&e(r.length)&&!t(r)}return jx=n,jx}var $x,sN;function Pm(){if(sN)return $x;sN=1;var t=CB(),e=she(),n=Q0();function r(i){return n(i)?t(i):e(i)}return $x=r,$x}var Ux,uN;function RB(){if(uN)return Ux;uN=1;var t=SB(),e=RR(),n=Pm();function r(i){return t(i,n,e)}return Ux=r,Ux}var Bx,lN;function uhe(){if(lN)return Bx;lN=1;var t=RB(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,h){var p=s&e,m=t(a),y=m.length,v=t(o),w=v.length;if(y!=w&&!p)return!1;for(var S=y;S--;){var x=m[S];if(!(p?x in o:r.call(o,x)))return!1}var E=h.get(a),A=h.get(o);if(E&&A)return E==o&&A==a;var I=!0;h.set(a,o),h.set(o,a);for(var M=p;++S<y;){x=m[S];var D=a[x],F=o[x];if(l)var Q=p?l(F,D,x,o,a,h):l(D,F,x,a,o,h);if(!(Q===void 0?D===F||c(D,F,s,l,h):Q)){I=!1;break}M||(M=x=="constructor")}if(I&&!M){var Y=a.constructor,B=o.constructor;Y!=B&&"constructor"in a&&"constructor"in o&&!(typeof Y=="function"&&Y instanceof Y&&typeof B=="function"&&B instanceof B)&&(I=!1)}return h.delete(a),h.delete(o),I}return Bx=i,Bx}var qx,cN;function lhe(){if(cN)return qx;cN=1;var t=rf(),e=Bo(),n=t(e,"DataView");return qx=n,qx}var zx,fN;function che(){if(fN)return zx;fN=1;var t=rf(),e=Bo(),n=t(e,"Promise");return zx=n,zx}var Hx,dN;function fhe(){if(dN)return Hx;dN=1;var t=rf(),e=Bo(),n=t(e,"Set");return Hx=n,Hx}var Vx,hN;function dhe(){if(hN)return Vx;hN=1;var t=rf(),e=Bo(),n=t(e,"WeakMap");return Vx=n,Vx}var Kx,pN;function Z0(){if(pN)return Kx;pN=1;var t=lhe(),e=TR(),n=che(),r=fhe(),i=dhe(),a=rh(),o=_B(),s="[object Map]",l="[object Object]",c="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=o(t),v=o(e),w=o(n),S=o(r),x=o(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=m||e&&E(new e)!=s||n&&E(n.resolve())!=c||r&&E(new r)!=h||i&&E(new i)!=p)&&(E=function(A){var I=a(A),M=I==l?A.constructor:void 0,D=M?o(M):"";if(D)switch(D){case y:return m;case v:return s;case w:return c;case S:return h;case x:return p}return I}),Kx=E,Kx}var Gx,gN;function hhe(){if(gN)return Gx;gN=1;var t=V0(),e=wB(),n=nhe(),r=uhe(),i=Z0(),a=qo(),o=G0(),s=LR(),l=1,c="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function v(w,S,x,E,A,I){var M=a(w),D=a(S),F=M?h:i(w),Q=D?h:i(S);F=F==c?p:F,Q=Q==c?p:Q;var Y=F==p,B=Q==p,Z=F==Q;if(Z&&o(w)){if(!o(S))return!1;M=!0,Y=!1}if(Z&&!Y)return I||(I=new t),M||s(w)?e(w,S,x,E,A,I):n(w,S,F,x,E,A,I);if(!(x&l)){var ce=Y&&y.call(w,"__wrapped__"),re=B&&y.call(S,"__wrapped__");if(ce||re){var ue=ce?w.value():w,ge=re?S.value():S;return I||(I=new t),A(ue,ge,x,E,I)}}return Z?(I||(I=new t),r(w,S,x,E,A,I)):!1}return Gx=v,Gx}var Wx,mN;function DR(){if(mN)return Wx;mN=1;var t=hhe(),e=yu();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,s)}return Wx=n,Wx}var Qx,yN;function phe(){if(yN)return Qx;yN=1;var t=DR();function e(n,r){return t(n,r)}return Qx=e,Qx}var ghe=phe();const PB=Dr(ghe);var Zx,vN;function OB(){if(vN)return Zx;vN=1;var t=rf(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Zx=e,Zx}var Jx,_N;function J0(){if(_N)return Jx;_N=1;var t=OB();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Jx=e,Jx}var Yx,wN;function mhe(){if(wN)return Yx;wN=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[e?l:++a];if(r(o[c],c,o)===!1)break}return n}}return Yx=t,Yx}var Xx,bN;function IB(){if(bN)return Xx;bN=1;var t=mhe(),e=t();return Xx=e,Xx}var eE,SN;function yhe(){if(SN)return eE;SN=1;var t=IB(),e=Pm();function n(r,i){return r&&t(r,i,e)}return eE=n,eE}var tE,xN;function vhe(){if(xN)return tE;xN=1;var t=V0(),e=DR(),n=1,r=2;function i(a,o,s,l){var c=s.length,h=c,p=!l;if(a==null)return!h;for(a=Object(a);c--;){var m=s[c];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++c<h;){m=s[c];var y=m[0],v=a[y],w=m[1];if(p&&m[2]){if(v===void 0&&!(y in a))return!1}else{var S=new t;if(l)var x=l(v,w,y,a,o,S);if(!(x===void 0?e(w,v,n|r,l,S):x))return!1}}return!0}return tE=i,tE}var nE,EN;function LB(){if(EN)return nE;EN=1;var t=po();function e(n){return n===n&&!t(n)}return nE=e,nE}var rE,TN;function _he(){if(TN)return rE;TN=1;var t=LB(),e=Pm();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,t(s)]}return i}return rE=n,rE}var iE,CN;function MB(){if(CN)return iE;CN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return iE=t,iE}var aE,AN;function whe(){if(AN)return aE;AN=1;var t=vhe(),e=_he(),n=MB();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return aE=r,aE}var oE,RN;function Om(){if(RN)return oE;RN=1;var t=rh(),e=yu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return oE=r,oE}var sE,PN;function kR(){if(PN)return sE;PN=1;var t=qo(),e=Om(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return sE=i,sE}var uE,ON;function bhe(){if(ON)return uE;ON=1;var t=CR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||t),a}return n.Cache=t,uE=n,uE}var lE,IN;function She(){if(IN)return lE;IN=1;var t=bhe(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return lE=n,lE}var cE,LN;function xhe(){if(LN)return cE;LN=1;var t=She(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return cE=r,cE}var fE,MN;function Y0(){if(MN)return fE;MN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return fE=t,fE}var dE,DN;function Ehe(){if(DN)return dE;DN=1;var t=nh(),e=Y0(),n=qo(),r=Om(),i=1/0,a=t?t.prototype:void 0,o=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return dE=s,dE}var hE,kN;function The(){if(kN)return hE;kN=1;var t=Ehe();function e(n){return n==null?"":t(n)}return hE=e,hE}var pE,NN;function ih(){if(NN)return pE;NN=1;var t=qo(),e=kR(),n=xhe(),r=The();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return pE=i,pE}var gE,FN;function ah(){if(FN)return gE;FN=1;var t=Om(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return gE=n,gE}var mE,jN;function X0(){if(jN)return mE;jN=1;var t=ih(),e=ah();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return mE=n,mE}var yE,$N;function Che(){if($N)return yE;$N=1;var t=X0();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return yE=e,yE}var vE,UN;function Ahe(){if(UN)return vE;UN=1;function t(e,n){return e!=null&&n in Object(e)}return vE=t,vE}var _E,BN;function Rhe(){if(BN)return _E;BN=1;var t=ih(),e=K0(),n=qo(),r=W0(),i=PR(),a=ah();function o(s,l,c){l=t(l,s);for(var h=-1,p=l.length,m=!1;++h<p;){var y=a(l[h]);if(!(m=s!=null&&c(s,y)))break;s=s[y]}return m||++h!=p?m:(p=s==null?0:s.length,!!p&&i(p)&&r(y,p)&&(n(s)||e(s)))}return _E=o,_E}var wE,qN;function DB(){if(qN)return wE;qN=1;var t=Ahe(),e=Rhe();function n(r,i){return r!=null&&e(r,i,t)}return wE=n,wE}var bE,zN;function Phe(){if(zN)return bE;zN=1;var t=DR(),e=Che(),n=DB(),r=kR(),i=LB(),a=MB(),o=ah(),s=1,l=2;function c(h,p){return r(h)&&i(p)?a(o(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?n(m,h):t(p,y,s|l)}}return bE=c,bE}var SE,HN;function NR(){if(HN)return SE;HN=1;function t(e){return e}return SE=t,SE}var xE,VN;function kB(){if(VN)return xE;VN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return xE=t,xE}var EE,KN;function Ohe(){if(KN)return EE;KN=1;var t=X0();function e(n){return function(r){return t(r,n)}}return EE=e,EE}var TE,GN;function Ihe(){if(GN)return TE;GN=1;var t=kB(),e=Ohe(),n=kR(),r=ah();function i(a){return n(a)?t(r(a)):e(a)}return TE=i,TE}var CE,WN;function FR(){if(WN)return CE;WN=1;var t=whe(),e=Phe(),n=NR(),r=qo(),i=Ihe();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return CE=a,CE}var AE,QN;function Lhe(){if(QN)return AE;QN=1;var t=J0(),e=yhe(),n=FR();function r(i,a){var o={};return a=n(a,3),e(i,function(s,l,c){t(o,l,a(s,l,c))}),o}return AE=r,AE}var Mhe=Lhe();const ZN=Dr(Mhe);var Dhe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const khe=()=>({}),Nhe=(t,e)=>{if(t.length!==e.length)return!1;const n=new Set(t);return e.every(r=>n.has(r))},la=({query:t,variables:e,fetch:n,getQueryKey:r=o=>["rdfDocument",o],staleTime:i=1/0,getAdditionalData:a=khe})=>{const o=te.useMemo(()=>ZN(e,F=>new Set(F)),[e]),[s,l]=te.useState([]),[c,h]=te.useState({}),[p,m]=te.useState(new gs),[y,v]=te.useState([]),[w,S]=te.useState(!1),x=te.useCallback(F=>{var Q;return Object.assign(Object.assign({},(Q=a(F))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(F.map((Y,B)=>[s[B],Y==null?void 0:Y.data])),pending:F.some(Y=>Y.isPending)})},[a,s]),E=Vg({queries:s.map(F=>({queryKey:r(F),queryFn:()=>xR(F,n),staleTime:i})),combine:x}),A=te.useRef(new ND(t,o)),I=te.useRef(E.data);te.useEffect(()=>{A.current=new ND(t,o);const F=A.current.getMissingResources();l(F),m(A.current.store),I.current={}},[t,o]),te.useEffect(()=>{if(!E)return;for(const B in E.data){const Z=E.data[B];if(!Z)continue;const ce=I.current[B];(ce==null?void 0:ce.hash)!==Z.hash&&A.current.addResource(B,Z.data,Z.ok?"success":"error")}const F=A.current.getMissingResources();S(F.length>0),l(B=>{const Z=[];for(const ce of F)B.includes(ce)||Z.push(ce);return Z.length===0?B:Z.concat(B)});const Q=ZN(A.current.getAllVariables(),B=>Array.from(B));h(B=>PB(Q,B)?B:Q),m(A.current.store);const Y=[...A.current.store];v(B=>Nhe(B,Y)?B:Y),I.current=E.data},[E]);const M=E,D=Dhe(M,["data","pending"]);return te.useMemo(()=>Object.assign({store:p,quads:y,variables:c,qas:A.current,isLoading:E==null?void 0:E.pending,isMissing:w},D),[w,y,p,c,D,E==null?void 0:E.pending])};var wp={},bp={},cv={},sc={},Sp={},fv={},xp={},RE={},PE={},Ei={},Ep={},Tp={},JN;function NB(){if(JN)return Tp;JN=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.BlankNode=void 0;let t=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return Tp.BlankNode=t,Tp}var Cp={},Ap={},YN;function FB(){if(YN)return Ap;YN=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.DefaultGraph=void 0;let t=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return Ap.DefaultGraph=t,t.INSTANCE=new t,Ap}var Rp={},Pp={},XN;function jR(){if(XN)return Pp;XN=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.NamedNode=void 0;let t=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return Pp.NamedNode=t,Pp}var e3;function jB(){if(e3)return Rp;e3=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.Literal=void 0;const t=jR();let e=class eA{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=eA.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=eA.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return Rp.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Rp}var Op={},t3;function $B(){if(t3)return Op;t3=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.Quad=void 0;let t=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return Op.Quad=t,Op}var Ip={},n3;function UB(){if(n3)return Ip;n3=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.Variable=void 0;let t=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return Ip.Variable=t,Ip}var r3;function Fhe(){if(r3)return Cp;r3=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.DataFactory=void 0;const t=NB(),e=FB(),n=jB(),r=jR(),i=$B(),a=UB();let o=0,s=class{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${o++}_`}namedNode(c){return new r.NamedNode(c)}blankNode(c){return new t.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,h){return new n.Literal(c,h)}variable(c){return new a.Variable(c)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(c,h,p,m){return new i.Quad(c,h,p,m||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(n.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return Cp.DataFactory=s,Cp}var i3;function jhe(){return i3||(i3=1,function(t){var e=Ep.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=Ep.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(NB(),t),n(Fhe(),t),n(FB(),t),n(jB(),t),n(jR(),t),n($B(),t),n(UB(),t)}(Ep)),Ep}var a3;function $he(){if(a3)return Ei;a3=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.stringQuadToQuad=Ei.quadToStringQuad=Ei.stringToTerm=Ei.getLiteralLanguage=Ei.getLiteralType=Ei.getLiteralValue=Ei.termToString=void 0;const t=jhe(),e=new t.DataFactory;function n(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const h=c;return'"'+h.value+'"'+(h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+h.datatype.value:"")+(h.language?"@"+h.language:"");case"Quad":return`<<${n(c.subject)} ${n(c.predicate)} ${n(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+n(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}Ei.termToString=n;function r(c){const h=/^"([^]*)"/.exec(c);if(!h)throw new Error(c+" is not a literal");return h[1]}Ei.getLiteralValue=r;function i(c){const h=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!h)throw new Error(c+" is not a literal");return h[1]||(h[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ei.getLiteralType=i;function a(c){const h=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!h)throw new Error(c+" is not a literal");return h[1]?h[1].toLowerCase():""}Ei.getLiteralLanguage=a;function o(c,h){if(h=h||e,!c||!c.length)return h.defaultGraph();switch(c[0]){case"_":return h.blankNode(c.substr(2));case"?":if(!h.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return h.variable(c.substr(1));case'"':const p=a(c),m=h.namedNode(i(c));return h.literal(r(c),p||m);case"<":default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const y=c.slice(2,-2).trim();let v=[],w=0,S=0,x=!1;for(let E=0;E<y.length;E++){const A=y[E];if(A==="<"&&w++,A===">"){if(w===0)throw new Error("Found closing tag without opening tag in "+c);w--}if(A==='"'){let I=!1,M=E;for(;M-- >0&&y[M]==="\\";)I=!I;I||(x=!x)}if(A===" "&&!x&&w===0){for(v.push(y.slice(S,E));y[E+1]===" ";)E+=1;S=E+1}}if(w!==0)throw new Error("Found opening tag without closing tag in "+c);if(v.push(y.slice(S,y.length)),v.length!==3&&v.length!==4)throw new Error("Nested quad syntax error "+c);return v=v.map(E=>E.startsWith("<")&&!E.includes(" ")?E.slice(1,-1):E),h.quad(o(v[0]),o(v[1]),o(v[2]),v[3]?o(v[3]):void 0)}return h.namedNode(c)}}Ei.stringToTerm=o;function s(c){return{subject:n(c.subject),predicate:n(c.predicate),object:n(c.object),graph:n(c.graph)}}Ei.quadToStringQuad=s;function l(c,h){return h=h||e,h.quad(o(c.subject,h),o(c.predicate,h),o(c.object,h),o(c.graph,h))}return Ei.stringQuadToQuad=l,Ei}var o3;function $R(){return o3||(o3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=$he();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(PE)),PE}var s3;function Uhe(){return s3||(s3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=$R();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}t.subjectNodeToString=n;function r(S){return o(S)}t.predicateNodeToString=r;function i(S){return o(S)}t.objectNodeToString=i;function a(S){return o(S)}t.grpahNodeToString=a;function o(S){return(0,e.termToString)(S)}t.nodeToString=o;function s(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=s;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=l;function c(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=c;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function v(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=v;function w(S){try{const x=JSON.parse(S);return[x.subject!=null?c(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=w}(RE)),RE}var Lp={},OE,u3;function Bhe(){if(u3)return OE;u3=1;class t{constructor(n){this.value=n||"b"+ ++t.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="BlankNode",t.nextId=0,OE=t,OE}var IE,l3;function BB(){if(l3)return IE;l3=1;class t{equals(n){return!!n&&n.termType===this.termType}}return t.prototype.termType="DefaultGraph",t.prototype.value="",IE=t,IE}var LE,c3;function qhe(){if(c3)return LE;c3=1;function t(e){if(!e)return null;if(e.termType==="BlankNode")return this.blankNode(e.value);if(e.termType==="DefaultGraph")return this.defaultGraph();if(e.termType==="Literal")return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if(e.termType==="NamedNode")return this.namedNode(e.value);if(e.termType==="Quad"){const n=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),i=this.fromTerm(e.object),a=this.fromTerm(e.graph);return this.quad(n,r,i,a)}if(e.termType==="Variable")return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}return LE=t,LE}var ME,f3;function qB(){if(f3)return ME;f3=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="NamedNode",ME=t,ME}var DE,d3;function zhe(){if(d3)return DE;d3=1;const t=qB();class e{constructor(r,i,a){this.value=r,this.datatype=e.stringDatatype,this.language="",i?(this.language=i,this.datatype=e.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return e.prototype.termType="Literal",e.langStringDatatype=new t("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.stringDatatype=new t("http://www.w3.org/2001/XMLSchema#string"),DE=e,DE}var kE,h3;function Hhe(){if(h3)return kE;h3=1;const t=BB();class e{constructor(r,i,a,o){this.subject=r,this.predicate=i,this.object=a,o?this.graph=o:this.graph=new t}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return e.prototype.termType="Quad",e.prototype.value="",kE=e,kE}var NE,p3;function Vhe(){if(p3)return NE;p3=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="Variable",NE=t,NE}var FE,g3;function Khe(){if(g3)return FE;g3=1;const t=Bhe(),e=BB(),n=qhe(),r=zhe(),i=qB(),a=Hhe(),o=Vhe();function s(x){return new i(x)}function l(x){return new t(x)}function c(x,E){return typeof E=="string"?E.indexOf(":")===-1?new r(x,E):new r(x,null,S.namedNode(E)):new r(x,null,E)}function h(x){return new o(x)}function p(){return S.defaultGraphInstance}function m(x,E,A){return S.quad(x,E,A)}function y(x,E,A,I){return new a(x,E,A,I||S.defaultGraphInstance)}function v(x){return n.call(S,x)}function w(x){return n.call(S,x)}const S={namedNode:s,blankNode:l,literal:c,variable:h,defaultGraph:p,triple:m,quad:y,fromTerm:v,fromQuad:w,defaultGraphInstance:new e};return FE=S,FE}var jE,m3;function _i(){return m3||(m3=1,jE=Khe()),jE}var uc={};const oh=q5(FY);var y3;function zB(){if(y3)return uc;y3=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.datasetToJsonLd=uc.datasetToString=void 0;const t=oh;function e(r,i){const a=new t.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}uc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return uc.datasetToJsonLd=n,uc}var v3;function Ghe(){if(v3)return Lp;v3=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.changesToSparqlUpdate=void 0;const t=_i(),e=zB();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Lp.changesToSparqlUpdate=n,Lp}var Mp={},_3;function Whe(){if(_3)return Mp;_3=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.serializedToQuads=void 0;const t=oh;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return Mp.serializedToQuads=e,Mp}var w3;function HB(){return w3||(w3=1,function(t){var e=xp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=xp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Uhe(),t),n(Ghe(),t),n(zB(),t),n(Whe(),t)}(xp)),xp}var b3;function VB(){if(b3)return fv;b3=1,Object.defineProperty(fv,"__esModule",{value:!0});const t=HB(),e=H8();let n=class tA{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new tA(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,o,s){const l=this.match(i,a,o,s);for(const c of l)this.dataset.delete(c);return this}difference(i){const a=this.createBlankDataset();for(const o of this)i.has(o)||a.add(o);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const o of this)i(o,this)&&a.add(o);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,o)=>{i.on("data",s=>{this.add(s)}).on("end",()=>{a(this)}).on("error",s=>o(s))})}intersection(i){const a=this.createBlankDataset(),o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const o of this)a.add(i(o,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const o=this[Symbol.iterator]();let s=o.next(),l=a;for(;!s.done;)l=i(l,s.value,this),s=o.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new e.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,t.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const o of this)a.add(o);for(const o of i)a.add(o);return a}match(i,a,o,s){return new tA(this.dataset.match(i,a,o,s),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return fv.default=n,fv}var S3;function KB(){if(S3)return Sp;S3=1;var t=Sp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sp,"__esModule",{value:!0});const e=t(VB());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new e.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return Sp.default=n,Sp}var $E,x3;function Qhe(){if(x3)return $E;x3=1;function t(o){return typeof o=="string"||o instanceof String}const e="http://www.w3.org/2001/XMLSchema#string";function n(o){if(typeof o=="string")return o;if(!o)return"";if(typeof o.id<"u"&&o.termType!=="Quad")return o.id;let s,l,c,h;switch(o.termType){case"NamedNode":return o.value;case"BlankNode":return`_:${o.value}`;case"Variable":return`?${o.value}`;case"DefaultGraph":return"";case"Literal":return o.language?`"${o.value}"@${o.language}`:`"${o.value}"${o.datatype&&o.datatype.value!==e?`^^${o.datatype.value}`:""}`;case"Quad":return s=i(n(o.subject)),l=i(n(o.predicate)),c=i(n(o.object)),h=o.graph.termType==="DefaultGraph"?"":` ${n(o.graph)}`,`<<${s} ${l} ${c}${h}>>`;default:throw new Error(`Unexpected termType: ${o.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(o){return o.replace(r,(s,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const l of s)this.add(l)}get size(){let s=this._size;if(s!==null)return s;s=0;const l=this._graphs;let c,h;for(const p in l)for(const m in c=l[p].subjects)for(const y in h=c[m])s+=Object.keys(h[y]).length;return this._size=s,this._size}add(s){let l=n(s.subject),c=n(s.predicate),h=n(s.object);const p=n(s.graph);let m=this._graphs[p];m||(m=this._graphs[p]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,v=this._entities;return l=y[l]||(y[v[++this._id]=l]=this._id),c=y[c]||(y[v[++this._id]=c]=this._id),h=y[h]||(y[v[++this._id]=h]=this._id),this._addToIndex(m.subjects,l,c,h),this._addToIndex(m.predicates,c,h,l),this._addToIndex(m.objects,h,l,c),this._setQuad(l,c,h,p,s),this._size=null,this}delete(s){let l=n(s.subject),c=n(s.predicate),h=n(s.object);const p=n(s.graph),m=this._ids,y=this._graphs;let v,w,S;if(!(l=m[l])||!(c=m[c])||!(h=m[h])||!(v=y[p])||!(w=v.subjects[l])||!(S=w[c])||!(h in S))return this;this._removeFromIndex(v.subjects,l,c,h),this._removeFromIndex(v.predicates,c,h,l),this._removeFromIndex(v.objects,h,l,c),this._size!==null&&this._size--,this._deleteQuad(l,c,h,p);for(l in v.subjects)return this;return delete y[p],this}has(s){const l=n(s.subject),c=n(s.predicate),h=n(s.object),p=n(s.graph),m=this._graphs[p];if(!m)return!1;const y=this._ids;let v,w,S;return t(l)&&!(v=y[l])||t(c)&&!(w=y[c])||t(h)&&!(S=y[h])?!1:this._countInIndex(m.objects,S,v,w)===1}match(s,l,c,h){return this._createDataset(this._match(s,l,c,h))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,l,c,h){const p=s[l]||(s[l]={}),m=p[c]||(p[c]={}),y=h in m;return y||(m[h]=null),!y}_removeFromIndex(s,l,c,h){const p=s[l],m=p[c];delete m[h];for(const y in m)return;delete p[c];for(const y in p)return;delete s[l]}_findInIndex(s,l,c,h,p,m,y,v,w,S){let x,E,A;l&&((x=s,s={})[l]=x[l]);for(const I in s)if(E=s[I],E){c&&((x=E,E={})[c]=x[c]);for(const M in E)if(A=E[M],A){const D=h?h in A?[h]:[]:Object.keys(A);for(let F=0;F<D.length;F++){const Q={[p]:I,[m]:M,[y]:D[F]},Y=this._getQuad(Q.subject,Q.predicate,Q.object,v);if(S)S.push(Y);else if(w(Y))return!0}}}return S}_countInIndex(s,l,c,h){let p=0,m,y,v;l&&((m=s,s={})[l]=m[l]);for(const w in s)if(y=s[w],y){c&&((m=y,y={})[c]=m[c]);for(const S in y)v=y[S],v&&(h?h in v&&p++:p+=Object.keys(v).length)}return p}_getGraphs(s){return t(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,l,c,h){s=s&&n(s),l=l&&n(l),c=c&&n(c),h=h&&n(h);const p=[],m=this._getGraphs(h),y=this._ids;let v,w,S,x;if(t(s)&&!(w=y[s])||t(l)&&!(S=y[l])||t(c)&&!(x=y[c]))return p;for(const E in m)v=m[E],v&&(w?x?this._findInIndex(v.objects,x,w,S,"object","subject","predicate",E,null,p):this._findInIndex(v.subjects,w,S,null,"subject","predicate","object",E,null,p):S?this._findInIndex(v.predicates,S,x,null,"predicate","object","subject",E,null,p):x?this._findInIndex(v.objects,x,null,null,"object","subject","predicate",E,null,p):this._findInIndex(v.subjects,null,null,null,"subject","predicate","object",E,null,p));return p}_getQuad(s,l,c,h){return this._quads.get(this._toId(s,l,c,h))}_setQuad(s,l,c,h,p){this._quads.set(this._toId(s,l,c,h),p)}_deleteQuad(s,l,c,h){this._quads.delete(this._toId(s,l,c,h))}_createDataset(s){return new this.constructor(s)}_toId(s,l,c,h){return`${s}:${l}:${c}:${h}`}}return $E=a,$E}var UE,E3;function Zhe(){if(E3)return UE;E3=1;const t=_i(),e=Qhe();function n(r){return new e(r)}return UE=Object.assign({dataset:n},t),UE}var T3;function GB(){if(T3)return sc;T3=1;var t=sc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sc,"__esModule",{value:!0}),sc.createExtendedDatasetFactory=void 0;const e=t(KB()),n=Zhe();function r(){const a={dataset:o=>(0,n.dataset)(Array.isArray(o)?o:o==null?void 0:o.toArray())};return new e.default(a)}sc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return sc.default=i,sc}var dv={},C3;function WB(){if(C3)return dv;C3=1,Object.defineProperty(dv,"__esModule",{value:!0});const t=HB();async function e(n,r,i){const a=await(0,t.serializedToQuads)(r,i);return n.dataset(a)}return dv.default=e,dv}var Dp={},A3;function Jhe(){if(A3)return Dp;A3=1;var t=Dp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Dp,"__esModule",{value:!0});const e=t(WB()),n=GB();async function r(i,a){const o=(0,n.createExtendedDatasetFactory)();return(0,e.default)(o,i,a)}return Dp.default=r,Dp}var R3;function af(){return R3||(R3=1,function(t){var e=cv.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createDatasetFactory=t.createDataset=void 0;var n=GB();Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return e(n).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=WB();Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return e(r).default}});var i=Jhe();Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return e(i).default}});var a=VB();Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return e(a).default}});var o=KB();Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return e(o).default}})}(cv)),cv}var lc={},kp={},Np={},Ws={},Fp={},jp={},$p={},BE={},P3;function Yhe(){return P3||(P3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=$R();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}t.subjectNodeToString=n;function r(S){return o(S)}t.predicateNodeToString=r;function i(S){return o(S)}t.objectNodeToString=i;function a(S){return o(S)}t.grpahNodeToString=a;function o(S){return(0,e.termToString)(S)}t.nodeToString=o;function s(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=s;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=l;function c(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=c;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function v(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=v;function w(S){try{const x=JSON.parse(S);return[x.subject!=null?c(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=w}(BE)),BE}var Up={},cc={},O3;function QB(){if(O3)return cc;O3=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.datasetToJsonLd=cc.datasetToString=void 0;const t=oh;function e(r,i){const a=new t.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}cc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return cc.datasetToJsonLd=n,cc}var I3;function Xhe(){if(I3)return Up;I3=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.changesToSparqlUpdate=void 0;const t=_i(),e=QB();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Up.changesToSparqlUpdate=n,Up}var Bp={},L3;function epe(){if(L3)return Bp;L3=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.serializedToQuads=void 0;const t=oh;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return Bp.serializedToQuads=e,Bp}var M3;function tpe(){return M3||(M3=1,function(t){var e=$p.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=$p.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Yhe(),t),n(Xhe(),t),n(QB(),t),n(epe(),t)}($p)),$p}var D3;function UR(){if(D3)return jp;D3=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.SubscribableDataset=void 0;const t=Qd(),e=tpe(),n=af();let r=class extends n.ExtendedDataset{constructor(a,o,s){super(s||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=o,this.eventEmitter=new t.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const o of a)super.add(o);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(o=>{super.delete(o)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,o,s,l){const c=super.match(a,o,s,l);for(const h of c)super.delete(h);return this.triggerSubscriptionForQuads({removed:c}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const o={},s=l=>{const c=a[l];c==null||c.forEach(h=>{const p=h;[[null,null,null,null],[p.subject,null,null,null],[p.subject,p.predicate,null,null],[p.subject,null,p.object,null],[null,p.predicate,null,null],[null,p.predicate,p.object,null],[null,null,p.object,null],[p.subject,p.predicate,p.object,null],[null,null,null,p.graph],[p.subject,null,null,p.graph],[p.subject,p.predicate,null,p.graph],[p.subject,null,p.object,p.graph],[null,p.predicate,null,p.graph],[null,p.predicate,p.object,p.graph],[null,null,p.object,p.graph],[p.subject,p.predicate,p.object,p.graph]].forEach(y=>{var w;const v=(0,e.quadMatchToString)(y);this.eventEmitter.listenerCount(v)>0&&(o[v]||(o[v]={}),o[v][l]||(o[v][l]=this.datasetFactory.dataset()),(w=o[v][l])==null||w.add(h))})})};s("added"),s("removed"),Object.entries(o).forEach(([l,c])=>{this.eventEmitter.emit(l,c)})}addListener(a,o){return this.on(a,o)}emit(a,o){return this.eventEmitter.emit((0,e.quadMatchToString)(a),o)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,e.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,e.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,e.quadMatchToString)(a))}off(a,o){this.removeListener(a,o)}on(a,o){var l;const s=(0,e.quadMatchToString)(a);return this.listenerHashMap.has(o)||this.listenerHashMap.set(o,new Set),(l=this.listenerHashMap.get(o))==null||l.add(s),this.eventEmitter.on(s,o),this}once(a,o){return this.eventEmitter.once((0,e.quadMatchToString)(a),o),this}prependListener(a,o){return this.eventEmitter.prependListener((0,e.quadMatchToString)(a),o),this}prependOnceListener(a,o){return this.eventEmitter.prependOnceListener((0,e.quadMatchToString)(a),o),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,e.quadMatchToString)(a)),this}removeListener(a,o){return this.eventEmitter.removeListener((0,e.quadMatchToString)(a),o),this}removeListenerFromAllEvents(a){const o=this.listenerHashMap.get(a);return o&&o.forEach(s=>{this.eventEmitter.off(s,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,e.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return jp.SubscribableDataset=r,jp}var k3;function ZB(){if(k3)return Fp;k3=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.SubscribableDatasetFactory=void 0;const t=UR();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new t.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Fp.SubscribableDatasetFactory=e,Fp}var qp={},zp={},Hp={},N3;function JB(){if(N3)return Hp;N3=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.mergeDatasetChanges=void 0;function t(e,n){var r,i,a,o;if(n.added){e.added?e.added.addAll(n.added):e.added=n.added;const s=(r=e.removed)==null?void 0:r.intersection(n.added);s&&s.size>0&&(e.removed=(i=e.removed)==null?void 0:i.difference(s))}if(n.removed){e.removed?e.removed.addAll(n.removed):e.removed=n.removed;const s=(a=e.added)==null?void 0:a.intersection(n.removed);s&&s.size>0&&(e.added=(o=e.added)==null?void 0:o.difference(s))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}return Hp.mergeDatasetChanges=t,Hp}var Vp={},F3;function YB(){if(F3)return Vp;F3=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.updateDatasetInBulk=void 0;function t(e,n){e.bulk?e.bulk(n):(n.added&&e.addAll(n.added),n.removed&&n.removed.forEach(r=>{e.delete(r)}))}return Vp.updateDatasetInBulk=t,Vp}var j3;function XB(){if(j3)return zp;j3=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.TransactionDataset=void 0;const t=JB(),e=UR(),n=YB();let r=class extends e.SubscribableDataset{constructor(a,o,s){super(o,s,o.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,o,s,l){this.checkIfTransactionCommitted();const c=this.match(a,o,s,l);for(const h of c)this.delete(h);return this}match(a,o,s,l){let c=this.parentDataset.match(a,o,s,l);return this.datasetChanges.removed&&(c=c.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(c=c.union(this.datasetChanges.added.match(a,o,s,l))),c}get size(){var a,o;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var o,s;return!((o=this.datasetChanges.removed)!=null&&o.has(a))&&(((s=this.datasetChanges.added)==null?void 0:s.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let o=a.next();const s=this.parentDataset[Symbol.iterator]();let l=s.next();return{next:()=>{if(!o||!o.done){const c=o;return o=a.next(),c}for(;!l.done;){const c=l;if(l=s.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(c.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(c.value)))return c}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,t.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,o;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return zp.TransactionDataset=r,zp}var $3;function eq(){if($3)return qp;$3=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.TransactionDatasetFactory=void 0;const t=XB();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new t.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return qp.TransactionDatasetFactory=e,qp}var U3;function tq(){if(U3)return Ws;U3=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.createSubscribableDataset=Ws.createSubscribableDatasetFactory=Ws.createTransactionDatasetFactory=void 0;const t=af(),e=ZB(),n=eq(),r={dataset:s=>(0,t.createDataset)(s)};function i(){return new n.TransactionDatasetFactory(r)}Ws.createTransactionDatasetFactory=i;function a(){return new e.SubscribableDatasetFactory(r,i())}Ws.createSubscribableDatasetFactory=a;function o(s){return a().dataset(s)}return Ws.createSubscribableDataset=o,Ws}var Kp={},B3;function npe(){if(B3)return Kp;B3=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.createWrapperSubscribableDatasetFromSerializedInput=void 0;const t=af(),e=tq();async function n(r,i){const a=(0,e.createSubscribableDatasetFactory)();return(0,t.createDatasetFromSerializedInput)(a,r,i)}return Kp.createWrapperSubscribableDatasetFromSerializedInput=n,Kp}var qE={},q3;function rpe(){return q3||(q3=1,Object.defineProperty(qE,"__esModule",{value:!0})),qE}var z3;function Im(){return z3||(z3=1,function(t){var e=Np.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Np.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializedToSubscribableDataset=void 0,n(tq(),t);var r=npe();Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(XB(),t),n(eq(),t),n(UR(),t),n(ZB(),t),n(rpe(),t),n(JB(),t),n(YB(),t)}(Np)),Np}var Vf={},Gp={},Wp={},Qp={},H3;function nq(){if(H3)return Qp;H3=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.ContextUtil=void 0;const t={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let e=class{constructor(r){this.context=r,this.iriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="string"?this.iriToKeyMap[this.keyIdToIri(a)]=i:typeof a=="object"&&a["@id"]&&(this.iriToKeyMap[this.keyIdToIri(a["@id"])]=i)})}keyToIri(r){if(this.context[r]){if(typeof this.context[r]=="string")return this.keyIdToIri(this.context[r]);if(this.context[r]&&this.context[r]["@id"])return this.keyIdToIri(this.context[r]["@id"])}else return r;return r}keyIdToIri(r){return t[r]?t[r]:r}iriToKey(r){return this.iriToKeyMap[r]?this.iriToKeyMap[r]:r}getType(r){return typeof this.context[r]=="object"&&this.context[r]["@type"]?this.context[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@container"]&&this.context[r]["@container"]==="@set")}isLangString(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@type"]&&this.context[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Qp.ContextUtil=e,Qp}var Zp={},V3;function rq(){if(V3)return Zp;V3=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.JsonldDatasetProxyBuilder=void 0;const t=_i();let e=class nA{constructor(r){this.proxyContext=r}write(...r){return new nA(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new nA(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,t.namedNode)(r["@id"]):(0,t.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([o,s])=>{a[o]=s}),a}};return Zp.JsonldDatasetProxyBuilder=e,Zp}var Jp={},Yp={},fc={},K3;function ew(){if(K3)return fc;K3=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.nodeToJsonldRepresentation=fc.literalToJsonldRepresentation=void 0;function t(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}fc.literalToJsonldRepresentation=t;function e(n,r){if(n.termType==="Literal")return t(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return fc.nodeToJsonldRepresentation=e,fc}var dc={},hc={},Qs={},pc={},oi={},G3;function _s(){return G3||(G3=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi._writeGraphs=oi._proxyContext=oi._getUnderlyingArrayTarget=oi._getUnderlyingDataset=oi._getNodeAtIndex=oi._isSubjectOriented=oi._getUnderlyingMatch=oi._getUnderlyingNode=void 0,oi._getUnderlyingNode=Symbol("_getUnderlyingNode"),oi._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),oi._isSubjectOriented=Symbol("_isSubjectOriented"),oi._getNodeAtIndex=Symbol("_getNodeAtIndex"),oi._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),oi._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),oi._proxyContext=Symbol("_proxyContext"),oi._writeGraphs=Symbol("_writeGraphs")),oi}var W3;function BR(){if(W3)return pc;W3=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.getNodeFromRawValue=pc.getNodeFromRawObject=void 0;const t=_i(),e=_s();function n(i,a){return i[e._getUnderlyingNode]?i[e._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,t.namedNode)(a.keyToIri(i["@id"])):i["@id"]:(0,t.blankNode)()}pc.getNodeFromRawObject=n;function r(i,a,o){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const s=o.contextUtil.getType(i);return s==="@id"?(0,t.namedNode)(a.toString()):(0,t.literal)(a.toString(),s)}else return n(a,o.contextUtil)}return pc.getNodeFromRawValue=r,pc}var gc={},Q3;function sh(){if(Q3)return gc;Q3=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.getSubjectProxyFromObject=gc.isSubjectProxy=void 0;const t=_s();function e(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[t._writeGraphs]!="object"||typeof i[t._getUnderlyingDataset]!="object"||typeof i[t._getUnderlyingNode]!="object"||typeof i[t._proxyContext]!="object")}gc.isSubjectProxy=e;function n(r){const i=r;if(!e(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return gc.getSubjectProxyFromObject=n,gc}var mc={},Z3;function tw(){if(Z3)return mc;Z3=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.NodeSet=mc.nodeToString=void 0;function t(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}mc.nodeToString=t;let e=class{constructor(){this.set=new Set,this.map={}}add(r){const i=t(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(t(r))}delete(r){const i=t(r);return delete this.map[i],this.set.delete(t(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return mc.NodeSet=e,mc}var si={},J3;function uh(){if(J3)return si;J3=1,Object.defineProperty(si,"__esModule",{value:!0}),si.literalLanguageToLanguageKey=si.languageKeyToLiteralLanguage=si.getLanguageKeyForWriteOperation=si.filterQuadsByLanguageOrdering=si.quadsToLanguageQuadMap=si.isLanguageLiteral=si.languageDeleteMatch=si.languageMatch=void 0;const t=af();function e(c,h,p,m){const y=s(m);return c.match(h,p).filter(v=>r(v.object)&&v.object.language===y)}si.languageMatch=e;function n(c,h,p,m){e(c,h,p,m).forEach(v=>{c.delete(v)})}si.languageDeleteMatch=n;function r(c){return c.termType==="Literal"&&(c.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||c.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}si.isLanguageLiteral=r;function i(c){const h={};return c.forEach(p=>{const m=p.object;if(r(m)){const y=l(m.language);h[y]||(h[y]=(0,t.createDataset)()),h[y].add(p)}}),h}si.quadsToLanguageQuadMap=i;function a(c,h){const p=i(c),m=new Set(h),y=new Set(Object.keys(p));for(const v of h){if(y.has(v))return p[v];if(v==="@other"){for(const w of y)if(!m.has(w))return p[w]}}return(0,t.createDataset)()}si.filterQuadsByLanguageOrdering=a;function o(c){return c.find(h=>h!=="@other")}si.getLanguageKeyForWriteOperation=o;function s(c){return c==="@none"?"":c}si.languageKeyToLiteralLanguage=s;function l(c){return c===""?"@none":c}return si.literalLanguageToLanguageKey=l,si}var Y3;function qR(){if(Y3)return Qs;Y3=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.addObjectToDataset=Qs.addRawObjectToDatasetRecursive=Qs.addRawValueToDatasetRecursive=void 0;const t=_i(),e=BR(),n=sh(),r=tw(),i=uh();function a(l,c,h,p,m,y){const{dataset:v,contextUtil:w}=y,S=(0,t.namedNode)(w.keyToIri(c)),x=(0,e.getNodeFromRawValue)(c,h,y);if(x==null)v.deleteMatches(l,S);else if(x.termType==="Literal"){let E=x;if(w.isLangString(c)){const A=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!A)return;E=(0,t.literal)(x.value,(0,i.languageKeyToLiteralLanguage)(A))}y.writeGraphs.forEach(A=>{y.dataset.add((0,t.quad)(l,S,E,A))})}else if(y.writeGraphs.forEach(E=>{v.add((0,t.quad)(l,S,x,E))}),!(0,n.isSubjectProxy)(h)){const E=typeof h=="object"?{...h,"@id":x}:{"@id":x};o(E,p,m,y)}}Qs.addRawValueToDatasetRecursive=a;function o(l,c,h,p){if((0,n.isSubjectProxy)(l))return l;const{dataset:m}=p,y=(0,e.getNodeFromRawObject)(l,p.contextUtil);return c.has(y)||(c.add(y),Object.entries(l).forEach(([v,w])=>{if(v==="@id")return;const S=(0,t.namedNode)(p.contextUtil.keyToIri(v));if(h)if(p.contextUtil.isLangString(v)){const x=(0,i.getLanguageKeyForWriteOperation)(p.languageOrdering);x&&(0,i.languageDeleteMatch)(m,y,S,x)}else m.deleteMatches(y,S);Array.isArray(w)?w.forEach(x=>{a(y,v,x,c,!0,p)}):a(y,v,w,c,!0,p)})),p.createSubjectProxy(y)}Qs.addRawObjectToDatasetRecursive=o;function s(l,c,h){return o(l,new r.NodeSet,c,h)}return Qs.addObjectToDataset=s,Qs}var X3;function zR(){if(X3)return hc;X3=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.modifyArray=hc.checkArrayModification=void 0;const t=_i(),e=Im(),n=af(),r=qR(),i=BR(),a=tw();function o(l,c,h){if(l[2])for(const p of c){if(p===void 0)return;if(typeof p!="object")throw new Error(`Cannot add a literal "${p}"(${typeof p}) to a subject-oriented collection.`);const m=new e.TransactionDataset(h.dataset,(0,n.createDatasetFactory)(),(0,e.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(p,!1,h.duplicate({writeGraphs:[(0,t.defaultGraph)()]})),!(m.match((0,i.getNodeFromRawObject)(p,h.contextUtil),l[0][1],l[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(l[0][0])}, ${(0,a.nodeToString)(l[0][1])}, ${(0,a.nodeToString)(l[0][2])}, ${(0,a.nodeToString)(l[0][3])})`)}else if(!l[0][0]||!l[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}hc.checkArrayModification=o;function s(l,c){const{target:h,toAdd:p,quadsToDelete:m,modifyCoreArray:y,key:v}=l,{dataset:w,contextUtil:S}=c;if(o(h,p||[],c),m){const A=w.match(...h[0]).toArray();m(A).forEach(M=>{h[2]?w.deleteMatches(M.subject,void 0,void 0):w.delete(M)})}const x=p==null?void 0:p.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,c):A).filter(A=>A!=null);!h[2]&&h[0][0]&&h[0][1]&&x&&(0,r.addObjectToDataset)({"@id":h[0][0],[S.iriToKey(h[0][1].value)]:x},!1,c);const E=x?x.map(A=>(0,i.getNodeFromRawValue)(v,A,c)).filter(A=>A!=null):[];return y(h[1],E)}return hc.modifyArray=s,hc}var eF;function iq(){if(eF)return dc;eF=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.arrayMethodsBuilders=dc.methodNames=void 0;const t=ew(),e=zR();return dc.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),dc.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,o,s)=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:l=>{const c=[...l],h=new Set(l.copyWithin(a,o,s));return c.filter(p=>!h.has(p))},modifyCoreArray:l=>(l.copyWithin(a,o,s),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,o,s)=>(0,e.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:l=>l.slice(o,s),modifyCoreArray:(l,c)=>(l.fill(c[0],o,s),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const o=a.pop();return o?(0,t.nodeToJsonldRepresentation)(o,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.push(...s),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const o=a.shift();return o?(0,t.nodeToJsonldRepresentation)(o,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((o,s)=>a((0,t.nodeToJsonldRepresentation)(o,i),(0,t.nodeToJsonldRepresentation)(s,i))):n&&n[1].sort((o,s)=>{const l=(0,t.nodeToJsonldRepresentation)(o,i),c=(0,t.nodeToJsonldRepresentation)(s,i);return l>c?1:c>l?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,o,...s)=>(0,e.modifyArray)({target:n,key:r,toAdd:s,quadsToDelete:l=>l.splice(a,o),modifyCoreArray:(l,c)=>l.splice(a,o||0,...c).map(p=>(0,t.nodeToJsonldRepresentation)(p,i))},i),unshift:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.unshift(...s),i.createArrayProxy(n[0],n[2]).length)},i)},dc}var tF;function aq(){if(tF)return Yp;tF=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.createArrayHandler=void 0;const t=_i(),e=ew(),n=iq(),r=_s(),i=zR(),a=tw(),o=uh();function s(h,p){let m=p.dataset.match(...h[0]);h[3]&&(m=(0,o.filterQuadsByLanguageOrdering)(m,p.languageOrdering));const y=new a.NodeSet;m.toArray().forEach(w=>{h[2]?y.add(w.subject):y.add(w.object)});const v=[];h[1].forEach(w=>{y.has(w)&&(v.push(w),y.delete(w))}),y.toArray().forEach(w=>{v.push(w)}),h[1]=v}function l(h,p){return h[1].map(m=>(0,e.nodeToJsonldRepresentation)(m,p))}function c(h){return{get(p,m,...y){switch(m){case r._getUnderlyingDataset:return h.dataset;case r._getUnderlyingMatch:return p[0];case r._isSubjectOriented:return p[2];case r._getUnderlyingArrayTarget:return p;case r._proxyContext:return h;case r._getNodeAtIndex:return w=>(s(p,h),p[1][w])}s(p,h);const v=l(p,h);return n.methodNames.has(m)?n.arrayMethodsBuilders[m](p,m,h):Reflect.get(v,m,...y)},getOwnPropertyDescriptor(p,m,...y){s(p,h);const v=l(p,h);return Reflect.getOwnPropertyDescriptor(v,m,...y)},ownKeys(p,...m){s(p,h);const y=l(p,h);return Reflect.ownKeys(y,...m)},getPrototypeOf(p,...m){s(p,h);const y=l(p,h);return Reflect.getPrototypeOf(y,...m)},has(p,...m){s(p,h);const y=l(p,h);return Reflect.has(y,...m)},set(p,m,y,...v){if(m===r._proxyContext)return h=y,!0;if(s(p,h),typeof m!="symbol"&&!isNaN(parseInt(m))){const w=parseInt(m);return(0,i.modifyArray)({target:p,key:m,toAdd:[y],quadsToDelete(S){return S[w]?[S[w]]:[]},modifyCoreArray(S,x){return S[w]=x[0],!0}},h)}return Reflect.set(p[1],m,...v)},deleteProperty(p,m){const{dataset:y}=h;if(typeof m!="symbol"&&!isNaN(parseInt(m))){const v=y.match(...p[0]).toArray()[parseInt(m)];if(!v)return!0;const w=p[2]?v.subject:v.object;if(w.termType==="Literal"){const S=p[0][0],x=p[0][1];return S&&x&&y.delete((0,t.quad)(S,x,w)),!0}else if(w.termType==="NamedNode"||w.termType==="BlankNode")return y.deleteMatches(w,void 0,void 0),y.deleteMatches(void 0,void 0,w),!0}return!0}}}return Yp.createArrayHandler=c,Yp}var Xp={},eg={},nF;function oq(){if(nF)return eg;nF=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.deleteValueFromDataset=void 0;const t=_i();function e(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const o=n["@id"],s=(0,t.namedNode)(i.contextUtil.keyToIri(r));if(r==="@id")a.push(n["@id"]);else{const l=i.dataset.match(o,s);if(l.size===0)return!0;a.push(...l.toArray().map(c=>c.object))}return a.forEach(l=>{if(l.termType==="Literal")return i.dataset.delete((0,t.quad)(o,s,l)),!0;if(l.termType==="NamedNode")return i.dataset.deleteMatches(l,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,l),!0}),!0}return eg.deleteValueFromDataset=e,eg}var tg={},rF;function sq(){if(rF)return tg;rF=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.getValueForKey=void 0;const t=_i(),e=ew(),n=uh();function r(i,a,o){const{contextUtil:s,dataset:l}=o;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:s.iriToKey(i["@id"].value);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const c=i["@id"],h=(0,t.namedNode)(s.keyToIri(a));if(s.isArray(a))return o.createArrayProxy([c,h,null,null],!1,void 0,s.isLangString(a));let p=l.match(c,h);if(s.isLangString(a)&&(p=(0,n.filterQuadsByLanguageOrdering)(p,o.languageOrdering)),p.size!==0)return p.size===1?(0,e.nodeToJsonldRepresentation)(p.toArray()[0].object,o):o.createArrayProxy([c,h,null,null])}return tg.getValueForKey=r,tg}var iF;function uq(){if(iF)return Xp;iF=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.createSubjectHandler=void 0;const t=_i(),e=qR(),n=oq(),r=_s(),i=sq();function a(o){let s=o;return{get(l,c){switch(c){case r._getUnderlyingDataset:return s.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return s;case r._writeGraphs:return s.writeGraphs;case"@context":return s.contextUtil.context}return(0,i.getValueForKey)(l,c,s)},getOwnPropertyDescriptor(l,c){return{value:(0,i.getValueForKey)(l,c,s),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const c=l["@id"],h=s.dataset.match(c),p=new Set(["@id"]);return h.toArray().forEach(m=>{p.add(s.contextUtil.iriToKey(m.predicate.value))}),Array.from(p)},set:(l,c,h)=>{if(c===r._proxyContext)return s=h,!0;if(c==="@id"&&typeof h=="string"){const p=s.dataset.match(l["@id"]).toArray(),m=p.map(w=>(0,t.quad)((0,t.namedNode)(h),w.predicate,w.object,w.graph));p.forEach(w=>s.dataset.delete(w)),s.dataset.addAll(m);const y=s.dataset.match(void 0,void 0,l["@id"]).toArray(),v=y.map(w=>(0,t.quad)(w.subject,w.predicate,(0,t.namedNode)(h),w.graph));y.forEach(w=>s.dataset.delete(w)),s.dataset.addAll(v),l["@id"]=(0,t.namedNode)(h)}return(0,e.addObjectToDataset)({"@id":l["@id"],[c]:h},!0,s),!0},deleteProperty(l,c){return(0,n.deleteValueFromDataset)(l,c,s)}}}return Xp.createSubjectHandler=a,Xp}var aF;function cq(){if(aF)return Jp;aF=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.ProxyContext=void 0;const t=aq(),e=uq(),n=_s();let r=class lq{constructor(a){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=a.dataset,this.contextUtil=a.contextUtil,this.writeGraphs=a.writeGraphs,this.languageOrdering=a.languageOrdering,this.state=a.state||{},a.prefilledArrayTargets&&a.prefilledArrayTargets.forEach(o=>{this.createArrayProxy(o[0],o[2],o)})}createSubjectProxy(a){if(!this.subjectMap.has(a.value)){const o=new Proxy({"@id":a},this.createSubjectHandler());this.subjectMap.set(a.value,o)}return this.subjectMap.get(a.value)}createSubjectHandler(){return(0,e.createSubjectHandler)(this)}getArrayKey(...a){var o,s,l,c;return`${((o=a[0])==null?void 0:o.value)||"undefined"}|${((s=a[1])==null?void 0:s.value)||"undefined"}|${((l=a[2])==null?void 0:l.value)||"undefined"}|${((c=a[3])==null?void 0:c.value)||"undefined"}`}createArrayProxy(a,o=!1,s,l){const c=this.getArrayKey(...a);if(!this.arrayMap.has(c)){const h=new Proxy(s||[a,[],o,l],this.createArrayHandler());this.arrayMap.set(c,h)}return this.arrayMap.get(c)}createArrayHandler(){return(0,t.createArrayHandler)(this)}duplicate(a){const o=[];this.arrayMap.forEach(l=>{o.push(l[n._getUnderlyingArrayTarget])});const s={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:o,...a};return new lq(s)}};return Jp.ProxyContext=r,Jp}var oF;function sF(){if(oF)return Wp;oF=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.jsonldDatasetProxy=void 0;const t=_i(),e=nq(),n=rq(),r=cq();function i(a,o){const s=new e.ContextUtil(o),l=new r.ProxyContext({dataset:a,contextUtil:s,writeGraphs:[(0,t.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return Wp.jsonldDatasetProxy=i,Wp}var ng={},rg={},yc={},ig={},uF;function fq(){if(uF)return ig;uF=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.isArrayProxy=void 0;const t=_s();function e(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[t._getUnderlyingDataset]!="object"||typeof r[t._getUnderlyingMatch]!="object"||typeof r[t._getNodeAtIndex]!="function"||typeof r[t._getUnderlyingArrayTarget]!="object")}return ig.isArrayProxy=e,ig}var lF;function dq(){if(lF)return yc;lF=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.getProxyFromObject=yc.isProxy=void 0;const t=fq(),e=sh();function n(i){return(0,e.isSubjectProxy)(i)||(0,t.isArrayProxy)(i)}yc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return yc.getProxyFromObject=r,yc}var cF;function HR(){if(cF)return rg;cF=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.createInteractOptions=void 0;const t=sh(),e=_s(),n=dq();function r(i,a){return{using(...o){const s=[];return o.forEach(l=>{const c=(0,n.getProxyFromObject)(l),h=c[e._proxyContext];c[e._proxyContext]=c[e._proxyContext].duplicate({[i]:a}),s.push(()=>{c[e._proxyContext]=h})}),function(){s.forEach(c=>c())}},usingCopy(...o){return o.map(s=>{const l=(0,t.getSubjectProxyFromObject)(s);return l[e._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[e._getUnderlyingNode])})}}}return rg.createInteractOptions=r,rg}var fF;function ipe(){if(fF)return ng;fF=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.write=void 0;const t=HR();function e(...n){return(0,t.createInteractOptions)("writeGraphs",n)}return ng.write=e,ng}var ag={},dF;function ape(){if(dF)return ag;dF=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.graphOf=void 0;const t=_i(),e=sh(),n=_s();function r(i,a,o){const s=(0,e.getSubjectProxyFromObject)(i),l=s[n._proxyContext],c=s[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(a));let p;if(o==null)p=null;else if(typeof o=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[o])throw new Error(`Index ${o} does not exist.`);(0,e.isSubjectProxy)(y[o])&&(p=y[o][1]),p=y[n._getNodeAtIndex](o)}else p=(0,e.getSubjectProxyFromObject)(o)[n._getUnderlyingNode];return s[n._getUnderlyingDataset].match(c,h,p).toArray().map(y=>y.graph)}return ag.graphOf=r,ag}var og={},hF;function ope(){if(hF)return og;hF=1,Object.defineProperty(og,"__esModule",{value:!0}),og.setLanguagePreferences=void 0;const t=HR();function e(...n){return(0,t.createInteractOptions)("languageOrdering",n)}return og.setLanguagePreferences=e,og}var sg={},Kf={},hv={},pF;function hq(){if(pF)return hv;pF=1;var t;Object.defineProperty(hv,"__esModule",{value:!0});const e=_i(),n=uh();class r{constructor(a,o,s,l){this[t]="LanguageSet",this.subject=a,this.predicate=o,this.languageKey=s,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,e.literal)(a):(0,e.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(o=>{this.proxyContext.dataset.add((0,e.quad)(this.subject,this.predicate,(0,e.literal)(a,this.languageKey),o))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const o=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),o}forEach(a,o){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,o||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const o of a)yield[o.object.value,o.object.value]}*keys(){const a=this.matchThis();for(const o of a)yield o.object.value}*values(){const a=this.matchThis();for(const o of a)yield o.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const o of a)yield o.object.value}}return hv.default=r,t=Symbol.toStringTag,hv}var gF;function pq(){if(gF)return Kf;gF=1;var t=Kf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.createLanguageMapProxy=void 0;const e=_i(),n=uh(),r=t(hq());function i(a,o,s,l){const c={},h=p=>{Object.keys(p).forEach(v=>delete p[v]);const m=s.dataset.match(a,o),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([v,w])=>{const S=w.toArray().map(x=>x.object.value);l?p[v]=new Set(S):p[v]=S[0]})};return h(c),new Proxy(c,{get:(p,m)=>(h(p),typeof m!="string"?Reflect.get(p,m):l?new r.default(a,o,m,s):Reflect.get(p,m)),set:(p,m,y)=>{const v=(0,n.languageKeyToLiteralLanguage)(m);return l||(0,n.languageDeleteMatch)(s.dataset,a,o,v),s.writeGraphs.forEach(w=>{s.dataset.add((0,e.quad)(a,o,(0,e.literal)(y,v),w))}),Reflect.set(p,m,y)},deleteProperty:(p,m)=>((0,n.languageDeleteMatch)(s.dataset,a,o,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(p,m))})}return Kf.createLanguageMapProxy=i,Kf}var mF;function spe(){if(mF)return sg;mF=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.languagesOf=void 0;const t=_i(),e=sh(),n=_s(),r=pq();function i(a,o){const s=(0,e.getSubjectProxyFromObject)(a),l=s[n._proxyContext],c=s[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(o));return(0,r.createLanguageMapProxy)(c,h,l,l.contextUtil.isArray(o))}return sg.languagesOf=i,sg}var zE={},yF;function upe(){return yF||(yF=1,Object.defineProperty(zE,"__esModule",{value:!0})),zE}var HE={},vF;function lpe(){return vF||(vF=1,Object.defineProperty(HE,"__esModule",{value:!0})),HE}var VE={},_F;function cpe(){return _F||(_F=1,Object.defineProperty(VE,"__esModule",{value:!0})),VE}var KE={},wF;function fpe(){return wF||(wF=1,Object.defineProperty(KE,"__esModule",{value:!0})),KE}var bF;function Xg(){return bF||(bF=1,function(t){var e=Gp.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Gp.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,i,o)};Object.defineProperty(t,"__esModule",{value:!0});const r=sF();t.default=r.jsonldDatasetProxy,n(_s(),t),n(nq(),t),n(cq(),t),n(rq(),t),n(sF(),t),n(ipe(),t),n(ape(),t),n(ope(),t),n(spe(),t),n(pq(),t),n(hq(),t),n(upe(),t),n(uh(),t),n(aq(),t),n(iq(),t),n(lpe(),t),n(zR(),t),n(fq(),t),n(uq(),t),n(cpe(),t),n(sq(),t),n(oq(),t),n(sh(),t),n(qR(),t),n(ew(),t),n(fpe(),t),n(BR(),t),n(tw(),t),n(dq(),t),n(HR(),t)}(Gp)),Gp}var ug={},Da={},SF;function gq(){if(SF)return Da;SF=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.getTransactionalDatasetFromLdo=Da.isTransactionalDataset=Da.canDatasetStartTransaction=Da.normalizeNodeNames=Da.normalizeNodeName=void 0;const t=_i(),e=Xg();function n(s){return typeof s=="string"?(0,t.namedNode)(s):s}Da.normalizeNodeName=n;function r(s){return s.map(l=>n(l))}Da.normalizeNodeNames=r;function i(s){return typeof s.startTransaction=="function"}Da.canDatasetStartTransaction=i;function a(s){return typeof s.commit=="function"}Da.isTransactionalDataset=a;function o(s){const l=(0,e.getProxyFromObject)(s),c=l[e._getUnderlyingDataset];if(!a(c)||!l[e._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[c,l]}return Da.getTransactionalDatasetFromLdo=o,Da}var xF;function VR(){if(xF)return ug;xF=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.LdoBuilder=void 0;const t=gq();let e=class rA{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,t.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new rA(this.jsonldDatasetProxyBuilder.write(...(0,t.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new rA(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return ug.LdoBuilder=e,ug}var Gf={},EF;function mq(){if(EF)return Gf;EF=1;var t=Gf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.LdoTransactionDataset=void 0;const e=Im(),n=VR(),r=t(Xg());let i=class extends e.TransactionDataset{usingType(o){const s=(0,r.default)(this,o.context);return new n.LdoBuilder(s,o)}};return Gf.LdoTransactionDataset=i,Gf}var TF;function yq(){if(TF)return Vf;TF=1;var t=Vf.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.LdoDataset=void 0;const e=t(Xg()),n=Im(),r=VR(),i=mq();let a=class extends n.SubscribableDataset{usingType(s){const l=(0,e.default)(this,s.context);return new r.LdoBuilder(l,s)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return Vf.LdoDataset=a,Vf}var CF;function dpe(){if(CF)return kp;CF=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.LdoDatasetFactory=void 0;const t=Im(),e=yq();let n=class extends t.SubscribableDatasetFactory{dataset(i){return new e.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return kp.LdoDatasetFactory=n,kp}var AF;function vq(){if(AF)return lc;AF=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.createLdoDataset=lc.createLdoDatasetFactory=void 0;const t=af(),e=dpe(),n=Im();function r(){const a={dataset:o=>(0,t.createDataset)(o)};return new e.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}lc.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return lc.createLdoDataset=i,lc}var RF;function hpe(){if(RF)return bp;RF=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.parseRdf=void 0;const t=af(),e=vq();async function n(r,i){const a=(0,e.createLdoDatasetFactory)();return typeof r=="string"?await(0,t.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,e.createLdoDataset)(r):await(0,t.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/json-ld"})}return bp.parseRdf=n,bp}var GE={},PF;function ppe(){return PF||(PF=1,Object.defineProperty(GE,"__esModule",{value:!0})),GE}var ar={},lg={},WE={},OF;function gpe(){return OF||(OF=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=$R();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}t.subjectNodeToString=n;function r(S){return o(S)}t.predicateNodeToString=r;function i(S){return o(S)}t.objectNodeToString=i;function a(S){return o(S)}t.grpahNodeToString=a;function o(S){return(0,e.termToString)(S)}t.nodeToString=o;function s(S){return JSON.stringify((0,e.quadToStringQuad)(S))}t.quadToString=s;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}t.quadMatchToString=l;function c(S){return y(S,t.SubjectTermTypes)}t.stringToSubjectNode=c;function h(S){return y(S,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(S){return y(S,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(S){return y(S,t.GraphTermTypes)}t.stringToGraphNode=m;function y(S,x){const E=(0,e.stringToTerm)(S);if(x&&!x.has(E.termType))throw new Error(`Expected term to be one of term type: [${Array.from(x).reduce((A,I)=>`${A}${I}, `,"")}], but got ${E.termType}.`);return E}t.stringToNode=y;function v(S){try{return(0,e.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=v;function w(S){try{const x=JSON.parse(S);return[x.subject!=null?c(x.subject):void 0,x.predicate!=null?h(x.predicate):void 0,x.object!=null?p(x.object):void 0,x.graph!=null?m(x.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=w}(WE)),WE}var cg={},vc={},IF;function _q(){if(IF)return vc;IF=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.datasetToJsonLd=vc.datasetToString=void 0;const t=oh;function e(r,i){const a=new t.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}vc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return vc.datasetToJsonLd=n,vc}var LF;function mpe(){if(LF)return cg;LF=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.changesToSparqlUpdate=void 0;const t=_i(),e=_q();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,t.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return cg.changesToSparqlUpdate=n,cg}var fg={},MF;function ype(){if(MF)return fg;MF=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.serializedToQuads=void 0;const t=oh;async function e(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return fg.serializedToQuads=e,fg}var DF;function wq(){return DF||(DF=1,function(t){var e=lg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=lg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(gpe(),t),n(mpe(),t),n(_q(),t),n(ype(),t)}(lg)),lg}var kF;function vpe(){if(kF)return ar;kF=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.toNTriples=ar.toJsonLd=ar.toTurtle=ar.serialize=ar.toSparqlUpdate=ar.getDataset=ar.transactionChanges=ar.commitTransaction=ar.startTransaction=ar.write=ar.setLanguagePreferences=ar.languagesOf=ar.graphOf=void 0;const t=Xg(),e=wq(),n=gq(),r=Xg();ar.graphOf=r.graphOf,ar.languagesOf=r.languagesOf,ar.setLanguagePreferences=r.setLanguagePreferences;function i(...v){return(0,t.write)(...(0,n.normalizeNodeNames)(v))}ar.write=i;function a(v){const w=(0,t.getProxyFromObject)(v),S=w[t._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(S))throw new Error("Object is not transactable.");w[t._proxyContext]=w[t._proxyContext].duplicate({dataset:S.startTransaction(),state:{parentDataset:S}})}ar.startTransaction=a;function o(v){const[w,S]=(0,n.getTransactionalDatasetFromLdo)(v);w.commit(),S[t._proxyContext]=S[t._proxyContext].duplicate({dataset:S[t._proxyContext].state.parentDataset})}ar.commitTransaction=o;function s(v){const[w]=(0,n.getTransactionalDatasetFromLdo)(v);return w.getChanges()}ar.transactionChanges=s;function l(v){return(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset]}ar.getDataset=l;async function c(v){const[w]=(0,n.getTransactionalDatasetFromLdo)(v),S=w.getChanges();return(0,e.changesToSparqlUpdate)(S)}ar.toSparqlUpdate=c;async function h(v,w){const S=(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset];return(0,e.datasetToString)(S,w)}ar.serialize=h;async function p(v){const w=(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset];return(0,e.datasetToString)(w,{})}ar.toTurtle=p;async function m(v){throw new Error("Not Implemented")}ar.toJsonLd=m;async function y(v){const w=(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset];return(0,e.datasetToString)(w,{format:"N-Triples"})}return ar.toNTriples=y,ar}var NF;function _pe(){return NF||(NF=1,function(t){var e=wp.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=wp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(hpe(),t),n(ppe(),t),n(vpe(),t),n(yq(),t),n(mq(),t),n(VR(),t),n(vq(),t)}(wp)),wp}var Zn=_pe();const ll={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},Il={Accommodation:ll.hospex+"Accommodation",PersonalHospexDocument:ll.hospex+"PersonalHospexDocument",offers:ll.hospex+"offers",offeredBy:ll.hospex+"offeredBy",storage:ll.hospex+"storage"},Pg={...Object.fromEntries(Object.entries(ED).map(([t,e])=>[t,TD(e)])),subject:TD(ED.object.replace("object","subject"))},cl={participation:ll.wf+"participation",participant:ll.wf+"participant",...afe},bq={LongChat:ll.meeting+"LongChat",...ife},Sq=[{type:"match",subject:"?community",predicate:kd.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:iu.inbox,pick:"object",target:"?inbox"}],xq=[...Sq,{type:"match",subject:"?group",predicate:Q8.hasMember,pick:"object",target:"?person"}],nw={type:"match",subject:"?person",predicate:iu.inbox,pick:"object",target:"?inbox"},lh=[{type:"match",subject:"?person",predicate:_R.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],Eq=[...lh,{type:"match",subject:"?person",predicate:Mn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],Tq=[...Eq,{type:"match",subject:"?person",predicate:Xd.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Mn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},nw],Cq=[{type:"match",predicate:nf.type,object:Mn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Mn.forClass,object:Il.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:Mn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:kd.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],KR=[...Eq,...Cq],wpe=[...Tq,...Cq,{type:"match",subject:"?person",predicate:Xd.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},nw,{type:"match",subject:"?person",predicate:kd.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:kd.name,pick:"object",target:"?communityName"}],bpe=[...KR,{type:"match",subject:"?person",predicate:Xd.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],Aq=[...KR,{type:"match",subject:"?person",predicate:Il.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],Spe=[...xq,...Aq],xpe=[{type:"match",subject:"?offer",predicate:Il.offeredBy,pick:"object",target:"?person"}],Epe=[...lh,{type:"match",subject:"?person",predicate:Tl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:_R.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],Tpe=[...lh,nw,{type:"match",subject:"?inbox",predicate:iu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:nf.type,object:Pg.Invite,pick:"subject",target:"?inviteNotification"}],Cpe=[...lh,nw,{type:"match",subject:"?inbox",predicate:iu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:nf.type,object:Pg.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:Pg.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:Pg.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:Pg.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],Rq=[...lh,{type:"match",subject:"?person",predicate:Xd.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Mn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:nf.type,object:Mn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Mn.forClass,object:bq.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:Mn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:cl.participation,pick:"object",target:"?participation"}],Ape=[...Rq,{type:"match",subject:"?participation",predicate:W8.references,pick:"object",target:"?otherChat"}],Rpe=[...Rq,{type:"match",subject:"?participation",predicate:cl.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:cl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:cl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:cl.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:cl.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:W8.references,pick:"object",target:"?otherChat"}],Pq=[{type:"match",subject:"?chatContainer",predicate:iu.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:iu.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:iu.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:iu.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:cl.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:cl.message,pick:"object",target:"?message"}],a0=t=>t.termType==="NamedNode"?new Gr(yi(t.value)):void 0,Ppe=[...Rpe,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:a0},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:a0},...Pq],Ope=[...Ape,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:a0},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:a0},...Pq],Ipe=(t,e)=>{const{variables:n,isLoading:r}=la(te.useMemo(()=>({query:xq,variables:{community:[e]},fetch:nr}),[e]));if(!r)return(n.person??[]).includes(t)},vu=t=>{const{store:e,variables:n,isLoading:r}=la({query:Sq,variables:te.useMemo(()=>({community:[t]}),[t]),fetch:nr}),i=te.useMemo(()=>Zn.createLdoDataset(e.getQuads(null,null,null,null)).usingType(Xfe).fromSubject(t),[t,e,n]),a=te.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"name"),c=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return c||h},[i]),o=te.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"note"),c=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return c||h},[i]),s=te.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"about"),c=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return c||h},[i]);return te.useMemo(()=>{var l,c;return{community:t,logo:((l=i.logo)==null?void 0:l.map(({"@id":h})=>h))??[],name:a,about:s,pun:o,groups:n.group??[],isLoading:r,inbox:(c=n.inbox)==null?void 0:c[0]}},[s,i.logo,t,r,a,o,n.group,n.inbox])},Lpe="_header_17l15_1",Mpe="_logoContainer_17l15_7",Dpe="_logo_17l15_7",kpe="_spacer_17l15_16",pv={header:Lpe,logoContainer:Mpe,logo:Dpe,spacer:kpe},Npe=()=>{const t=eh(),e=async()=>{await nY(),t(JA.signout())};return ne.jsx("button",{onClick:e,children:"sign out"})},_u={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},wu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},Resource:"http://www.w3.org/ns/ldp#Resource"},Oq={schema:_u,shape:"https://example.com/SolidProfile",context:wu},Fpe={schema:_u,shape:"https://example.com/FoafProfile",context:wu},rw={schema:_u,shape:"https://example.com/HospexProfile",context:wu},iw={schema:_u,shape:"https://example.com/Accommodation",context:wu},jpe={schema:_u,shape:"https://example.com/PublicTypeIndex",context:wu},$pe={schema:_u,shape:"https://example.com/PrivateTypeIndex",context:wu},Nd={schema:_u,shape:"https://example.com/ChatShape",context:wu},Iq={schema:_u,shape:"https://example.com/MessageActivity",context:wu},Lq={schema:_u,shape:"https://example.com/ContactInvitationActivity",context:wu};var FF=wq();const Upe=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}},jF=t=>JSON.parse(JSON.stringify(t,Upe()));async function iA(t){const e=Zn.transactionChanges(t),n=[`_:mutate a <${Mn.InsertDeletePatch}>`];if(e.added){const i=await FF.datasetToString(e.added,{format:"N3"});n.push(`<${Mn.inserts}> { ${i} }`)}if(e.removed){const i=await FF.datasetToString(e.removed,{format:"N3"});n.push(`<${Mn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}var QE,$F;function Mq(){if($F)return QE;$F=1;var t=J0(),e=Rm();function n(r,i,a){(a!==void 0&&!e(r[i],a)||a===void 0&&!(i in r))&&t(r,i,a)}return QE=n,QE}var Og={exports:{}};Og.exports;var UF;function Dq(){return UF||(UF=1,function(t,e){var n=Bo(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var p=c.length,m=s?s(p):new c.constructor(p);return c.copy(m),m}t.exports=l}(Og,Og.exports)),Og.exports}var ZE,BF;function GR(){if(BF)return ZE;BF=1;var t=bB();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return ZE=e,ZE}var JE,qF;function kq(){if(qF)return JE;qF=1;var t=GR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return JE=e,JE}var YE,zF;function Nq(){if(zF)return YE;zF=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return YE=t,YE}var XE,HF;function Bpe(){if(HF)return XE;HF=1;var t=po(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return XE=n,XE}var eT,VF;function WR(){if(VF)return eT;VF=1;var t=AB(),e=t(Object.getPrototypeOf,Object);return eT=e,eT}var tT,KF;function Fq(){if(KF)return tT;KF=1;var t=Bpe(),e=WR(),n=MR();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return tT=r,tT}var nT,GF;function jq(){if(GF)return nT;GF=1;var t=Q0(),e=yu();function n(r){return e(r)&&t(r)}return nT=n,nT}var rT,WF;function $q(){if(WF)return rT;WF=1;var t=rh(),e=WR(),n=yu(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=s.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return rT=c,rT}var iT,QF;function Uq(){if(QF)return iT;QF=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return iT=t,iT}var aT,ZF;function QR(){if(ZF)return aT;ZF=1;var t=J0(),e=Rm(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var l=a[o];(!(r.call(a,o)&&e(l,s))||s===void 0&&!(o in a))&&t(a,o,s)}return aT=i,aT}var oT,JF;function ch(){if(JF)return oT;JF=1;var t=QR(),e=J0();function n(r,i,a,o){var s=!a;a||(a={});for(var l=-1,c=i.length;++l<c;){var h=i[l],p=o?o(a[h],r[h],h,a,r):void 0;p===void 0&&(p=r[h]),s?e(a,h,p):t(a,h,p)}return a}return oT=n,oT}var sT,YF;function qpe(){if(YF)return sT;YF=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return sT=t,sT}var uT,XF;function zpe(){if(XF)return uT;XF=1;var t=po(),e=MR(),n=qpe(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!t(o))return n(o);var s=e(o),l=[];for(var c in o)c=="constructor"&&(s||!i.call(o,c))||l.push(c);return l}return uT=a,uT}var lT,ej;function Lm(){if(ej)return lT;ej=1;var t=CB(),e=zpe(),n=Q0();function r(i){return n(i)?t(i,!0):e(i)}return lT=r,lT}var cT,tj;function Hpe(){if(tj)return cT;tj=1;var t=ch(),e=Lm();function n(r){return t(r,e(r))}return cT=n,cT}var fT,nj;function Vpe(){if(nj)return fT;nj=1;var t=Mq(),e=Dq(),n=kq(),r=Nq(),i=Fq(),a=K0(),o=qo(),s=jq(),l=G0(),c=ER(),h=po(),p=$q(),m=LR(),y=Uq(),v=Hpe();function w(S,x,E,A,I,M,D){var F=y(S,E),Q=y(x,E),Y=D.get(Q);if(Y){t(S,E,Y);return}var B=M?M(F,Q,E+"",S,x,D):void 0,Z=B===void 0;if(Z){var ce=o(Q),re=!ce&&l(Q),ue=!ce&&!re&&m(Q);B=Q,ce||re||ue?o(F)?B=F:s(F)?B=r(F):re?(Z=!1,B=e(Q,!0)):ue?(Z=!1,B=n(Q,!0)):B=[]:p(Q)||a(Q)?(B=F,a(F)?B=v(F):(!h(F)||c(F))&&(B=i(Q))):Z=!1}Z&&(D.set(Q,B),I(B,Q,A,M,D),D.delete(Q)),t(S,E,B)}return fT=w,fT}var dT,rj;function Kpe(){if(rj)return dT;rj=1;var t=V0(),e=Mq(),n=IB(),r=Vpe(),i=po(),a=Lm(),o=Uq();function s(l,c,h,p,m){l!==c&&n(c,function(y,v){if(m||(m=new t),i(y))r(l,c,v,h,s,p,m);else{var w=p?p(o(l,v),y,v+"",l,c,m):void 0;w===void 0&&(w=y),e(l,v,w)}},a)}return dT=s,dT}var hT,ij;function Bq(){if(ij)return hT;ij=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return hT=t,hT}var pT,aj;function qq(){if(aj)return pT;aj=1;var t=Bq(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var h=Array(i+1);++s<i;)h[s]=o[s];return h[i]=a(c),t(r,this,h)}}return pT=n,pT}var gT,oj;function Gpe(){if(oj)return gT;oj=1;function t(e){return function(){return e}}return gT=t,gT}var mT,sj;function Wpe(){if(sj)return mT;sj=1;var t=Gpe(),e=OB(),n=NR(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return mT=r,mT}var yT,uj;function Qpe(){if(uj)return yT;uj=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return yT=r,yT}var vT,lj;function zq(){if(lj)return vT;lj=1;var t=Wpe(),e=Qpe(),n=e(t);return vT=n,vT}var _T,cj;function Hq(){if(cj)return _T;cj=1;var t=NR(),e=qq(),n=zq();function r(i,a){return n(e(i,a,t),i+"")}return _T=r,_T}var wT,fj;function Zpe(){if(fj)return wT;fj=1;var t=Rm(),e=Q0(),n=W0(),r=po();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?e(s)&&n(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return wT=i,wT}var bT,dj;function Jpe(){if(dj)return bT;dj=1;var t=Hq(),e=Zpe();function n(r){return t(function(i,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,c=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&e(a[0],a[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++o<s;){var h=a[o];h&&r(i,h,o,l)}return i})}return bT=n,bT}var ST,hj;function Ype(){if(hj)return ST;hj=1;var t=Kpe(),e=Jpe(),n=e(function(r,i,a){t(r,i,a)});return ST=n,ST}var Xpe=Ype();const Qc=Dr(Xpe);class ms extends Error{constructor(n,r){super(n);d1(this,"status");d1(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,ms.prototype)}}var xT,pj;function Vq(){if(pj)return xT;pj=1;var t=Om();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,h=s}return h}return xT=e,xT}var ET,gj;function ege(){if(gj)return ET;gj=1;function t(e,n){return e>n}return ET=t,ET}var TT,mj;function tge(){if(mj)return TT;mj=1;var t=Vq(),e=ege(),n=FR();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return TT=r,TT}var nge=tge();const rge=Dr(nge),ige=(t,e)=>nr(t,{cache:"no-store",...e}),Kq=t=>xR(t,ige),age=t=>{const e=te.useMemo(()=>({queries:t.map(r=>Pl(r)).map(r=>({queryKey:["rdfDocument",r],queryFn:()=>Kq(r)}))}),[t]);return Vg(e)},oge=()=>{const t=vi();return Ea({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await ko(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:fh(t)})},Fo=t=>{const e=vi();return Ea({mutationFn:async({uri:r,data:i,language:a="en",method:o="PUT",throwOnHttpError:s=!1})=>{const l=Zn.createLdoDataset();if(Array.isArray(i))i.forEach(y=>{const v=l.usingType(t).fromSubject(y["@id"]);Zn.setLanguagePreferences(a).using(v),Qc(v,y)});else{const y=l.usingType(t).fromSubject(i["@id"]);Zn.setLanguagePreferences(a).using(y),Qc(y,i)}const c=await Zn.toTurtle(l.usingType(t).fromSubject("")),h={"content-type":"text/turtle"};o==="PUT"&&(h["If-None-Match"]="*");const p=await ko(r,{method:o,body:c,headers:h});if(s&&!p.ok)throw new ms(p.statusText,p);return p.headers.get("location")},onSuccess:fh(e)})},zo=()=>{const t=vi();return Ea({mutationFn:async({uri:n,patch:r})=>{const i=await ko(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:fh(t,n=>n.status===201)})},of=t=>{const e=vi();return Ea({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:o="en"})=>{const s=await ko(n);let l="";s.ok&&(l=await s.text());const h=(await Zn.parseRdf(l,{baseIRI:n})).usingType(t);let p="";if(r){const m=h.fromSubject(r);Zn.setLanguagePreferences(o).using(m),Zn.startTransaction(m),a(m),p=await iA(m)}else if(i){const m=h.matchSubject(i.predicate,i.object,i.graph);Zn.setLanguagePreferences(o).using(m),Zn.startTransaction(m),a(m),p=await iA(m)}return await ko(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:fh(e,n=>n.status===201)})},sge=t=>{const e=vi();return Ea({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const o=await ko(n);let s="";o.ok&&(s=await o.text());const c=(await Zn.parseRdf(s,{baseIRI:n})).usingType(t),h=r(c);Zn.setLanguagePreferences(a).using(h),Zn.startTransaction(h),i(h);const p=await iA(h);return await ko(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:fh(e,n=>n.status===201)})},aw=()=>{const t=vi();return Ea({mutationFn:async({uri:n})=>{await ko(n,{method:"DELETE"})},onSuccess:fh(t)})},uge=(t,e)=>{const n=ufe(t),r=e.getQueryCache().getAll().filter(a=>a.queryKey[0]==="rdfDocument"&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return rge(r,a=>a.length)},fh=(t,e=()=>!0)=>(n,r)=>{const i=Pl(r.uri);if(t.invalidateQueries({queryKey:["rdfDocument",i]}),t.invalidateQueries({queryKey:["rdfDocument",Z8(i)]}),e(n)){const a=uge(i,t);a&&t.invalidateQueries({queryKey:["rdfDocument",a]})}},jo=(t,e)=>{const n=la(te.useMemo(()=>({query:KR,variables:{person:t?[t]:[],community:[e]},fetch:nr}),[e,t])),{variables:r,isLoading:i}=n,a=la(te.useMemo(()=>({query:Tq,variables:{person:t?[t]:[]},fetch:nr}),[t])),o=te.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(x=>new gs(n.quads).getQuads(null,null,null,new Gr(x))).map(x=>Zn.createLdoDataset(x).usingType(rw).fromSubject(t)),[n.quads,r.hospexDocumentForCommunity,t]),s=te.useMemo(()=>{const{quads:v}=a;return Zn.createLdoDataset(v).usingType(Fpe).fromSubject(t)},[a,t]),l=te.useMemo(()=>Qc({},jF(s),...o.map(v=>jF(v))),[s,o]),c=te.useMemo(()=>o.map(v=>Zn.languagesOf(v,"note")),[o]),[h]=te.useMemo(()=>c.map(v=>{var w;return((w=v==null?void 0:v.en)==null?void 0:w.values().next().value)??""}),[c]),p=te.useMemo(()=>{var v,w;return{id:t,name:l.name??"",photo:(v=l.hasPhoto)==null?void 0:v["@id"],about:h,interests:((w=l.topicInterest)==null?void 0:w.map(S=>S["@id"]))??[]}},[h,l.hasPhoto,l.name,l.topicInterest,t]),m=te.useMemo(()=>{var v,w;return o.length>0?{id:t,name:o[0].name??"",photo:(v=o[0].hasPhoto)==null?void 0:v["@id"],about:(w=o[0].note)==null?void 0:w[0]}:void 0},[o,t]),y=te.useMemo(()=>new gs(n.quads).getQuads(new Gr(t),new Gr(Tl.topic_interest),null,null).map(v=>({id:v.object.id,document:v.graph.id})),[n,t]);return te.useMemo(()=>{var v;return[p,i,(v=r.hospexDocumentForCommunity)==null?void 0:v[0],y,m]},[m,y,i,p,r.hospexDocumentForCommunity])},Gq=t=>{const{quads:e,isFetched:n}=la(te.useMemo(()=>({query:lh,variables:{person:[t]},fetch:nr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[t]));return te.useMemo(()=>[Zn.createLdoDataset(e).usingType(Oq).fromSubject(t),{isFetched:n}],[n,t,e])},lge=()=>{const t=of(rw);return te.useCallback(async({personId:e,hospexDocument:n,data:r,language:i="en"})=>{await t.mutateAsync({uri:n,subject:e,language:i,transform:a=>{r.name&&(a.name=r.name),r.about&&(a.note=[r.about]),r.photo&&(a.hasPhoto={"@id":r.photo})}})},[t])},cge=()=>{const t=zo();return te.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${e}> <${Tl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])},fge=()=>{const t=zo();return te.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.deletes}> { <${e}> <${Tl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])};var CT,yj;function dge(){if(yj)return CT;yj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return CT=t,CT}var AT,vj;function hge(){if(vj)return AT;vj=1;var t=ch(),e=Pm();function n(r,i){return r&&t(i,e(i),r)}return AT=n,AT}var RT,_j;function pge(){if(_j)return RT;_j=1;var t=ch(),e=Lm();function n(r,i){return r&&t(i,e(i),r)}return RT=n,RT}var PT,wj;function gge(){if(wj)return PT;wj=1;var t=ch(),e=RR();function n(r,i){return t(r,e(r),i)}return PT=n,PT}var OT,bj;function Wq(){if(bj)return OT;bj=1;var t=AR(),e=WR(),n=RR(),r=EB(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)t(s,n(o)),o=e(o);return s}:r;return OT=a,OT}var IT,Sj;function mge(){if(Sj)return IT;Sj=1;var t=ch(),e=Wq();function n(r,i){return t(r,e(r),i)}return IT=n,IT}var LT,xj;function Qq(){if(xj)return LT;xj=1;var t=SB(),e=Wq(),n=Lm();function r(i){return t(i,n,e)}return LT=r,LT}var MT,Ej;function yge(){if(Ej)return MT;Ej=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return MT=n,MT}var DT,Tj;function vge(){if(Tj)return DT;Tj=1;var t=GR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return DT=e,DT}var kT,Cj;function _ge(){if(Cj)return kT;Cj=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return kT=e,kT}var NT,Aj;function wge(){if(Aj)return NT;Aj=1;var t=nh(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return NT=r,NT}var FT,Rj;function bge(){if(Rj)return FT;Rj=1;var t=GR(),e=vge(),n=_ge(),r=wge(),i=kq(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";function Q(Y,B,Z){var ce=Y.constructor;switch(B){case y:return t(Y);case a:case o:return new ce(+Y);case v:return e(Y,Z);case w:case S:case x:case E:case A:case I:case M:case D:case F:return i(Y,Z);case s:return new ce;case l:case p:return new ce(Y);case c:return n(Y);case h:return new ce;case m:return r(Y)}}return FT=Q,FT}var jT,Pj;function Sge(){if(Pj)return jT;Pj=1;var t=Z0(),e=yu(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return jT=r,jT}var $T,Oj;function xge(){if(Oj)return $T;Oj=1;var t=Sge(),e=OR(),n=IR(),r=n&&n.isMap,i=r?e(r):t;return $T=i,$T}var UT,Ij;function Ege(){if(Ij)return UT;Ij=1;var t=Z0(),e=yu(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return UT=r,UT}var BT,Lj;function Tge(){if(Lj)return BT;Lj=1;var t=Ege(),e=OR(),n=IR(),r=n&&n.isSet,i=r?e(r):t;return BT=i,BT}var qT,Mj;function Zq(){if(Mj)return qT;Mj=1;var t=V0(),e=dge(),n=QR(),r=hge(),i=pge(),a=Dq(),o=Nq(),s=gge(),l=mge(),c=RB(),h=Qq(),p=Z0(),m=yge(),y=bge(),v=Fq(),w=qo(),S=G0(),x=xge(),E=po(),A=Tge(),I=Pm(),M=Lm(),D=1,F=2,Q=4,Y="[object Arguments]",B="[object Array]",Z="[object Boolean]",ce="[object Date]",re="[object Error]",ue="[object Function]",ge="[object GeneratorFunction]",_e="[object Map]",de="[object Number]",fe="[object Object]",Ie="[object RegExp]",k="[object Set]",ie="[object String]",me="[object Symbol]",H="[object WeakMap]",J="[object ArrayBuffer]",pe="[object DataView]",Ae="[object Float32Array]",Je="[object Float64Array]",Re="[object Int8Array]",Fe="[object Int16Array]",Xe="[object Int32Array]",oe="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",W={};W[Y]=W[B]=W[J]=W[pe]=W[Z]=W[ce]=W[Ae]=W[Je]=W[Re]=W[Fe]=W[Xe]=W[_e]=W[de]=W[fe]=W[Ie]=W[k]=W[ie]=W[me]=W[oe]=W[z]=W[$]=W[ae]=!0,W[re]=W[ue]=W[H]=!1;function he(ye,He,Te,Ne,tt,nt){var gt,Bt=He&D,Se=He&F,Be=He&Q;if(Te&&(gt=tt?Te(ye,Ne,tt,nt):Te(ye)),gt!==void 0)return gt;if(!E(ye))return ye;var X=w(ye);if(X){if(gt=m(ye),!Bt)return o(ye,gt)}else{var q=p(ye),K=q==ue||q==ge;if(S(ye))return a(ye,Bt);if(q==fe||q==Y||K&&!tt){if(gt=Se||K?{}:v(ye),!Bt)return Se?l(ye,i(gt,ye)):s(ye,r(gt,ye))}else{if(!W[q])return tt?ye:{};gt=y(ye,q,Bt)}}nt||(nt=new t);var V=nt.get(ye);if(V)return V;nt.set(ye,gt),A(ye)?ye.forEach(function(ke){gt.add(he(ke,He,Te,ke,ye,nt))}):x(ye)&&ye.forEach(function(ke,At){gt.set(At,he(ke,He,Te,At,ye,nt))});var je=Be?Se?h:c:Se?M:I,Ze=X?void 0:je(ye);return e(Ze||ye,function(ke,At){Ze&&(At=ke,ke=ye[At]),n(gt,At,he(ke,He,Te,At,ye,nt))}),gt}return qT=he,qT}var zT,Dj;function Cge(){if(Dj)return zT;Dj=1;var t=Zq(),e=1,n=4;function r(i){return t(i,e|n)}return zT=r,zT}var Age=Cge();const Rge=Dr(Age),Pge=t=>{const{quads:e,variables:n}=la(te.useMemo(()=>({query:Ope,variables:{person:[t]},staleTime:3e4,fetch:nr}),[t])),r=te.useMemo(()=>{const i=Zn.createLdoDataset(e).usingType(Nd);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var h,p,m;const o=a["@id"],s=((h=a.participation)==null?void 0:h.flatMap(y=>{var v;return((v=y.references)==null?void 0:v.flatMap(w=>w["@id"]??[]).filter(w=>!!w))??[]}))??[],l=((p=a.participation)==null?void 0:p.map(y=>y.participant["@id"]))??[],c=[a,...(((m=a.participation)==null?void 0:m.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(v=>({id:v["@id"],message:v.content,createdAt:new Date(v.created).getTime(),from:v.maker["@id"],chat:y["@id"]})).sort((v,w)=>v.createdAt-w.createdAt));return{id:o,related:s,participants:l,messages:c}}).sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[e,n.chat]);return te.useMemo(()=>({data:r}),[r])},ow=t=>{const{quads:e,variables:n,isLoading:r}=la(te.useMemo(()=>({query:Cpe,variables:{person:t?[t]:[]},fetch:nr,staleTime:3e4}),[t])),i=te.useMemo(()=>(n.longChatNotification??[]).map(a=>{var s,l,c,h;const o=Zn.createLdoDataset(e).usingType(Iq).fromSubject(a);return{id:o.object["@id"]??"",message:o.object.content,createdAt:new Date(((s=o.object)==null?void 0:s.created)??o.updated).getTime(),from:((l=o.object.maker)==null?void 0:l["@id"])??((c=o.actor)==null?void 0:c["@id"]),chat:o.target["@id"]??"",otherChats:(h=o.target.participation)==null?void 0:h.flatMap(p=>{var m;return((m=p.references)==null?void 0:m.flatMap(y=>y["@id"]??[]))??[]}),notification:o["@id"],status:"unread"}}),[e,n.longChatNotification]);return te.useMemo(()=>({isLoading:r,data:i}),[r,i])},Oge=t=>{const{data:e}=Pge(t),{data:n}=ow(t);return{data:te.useMemo(()=>{const i=Rge(e);n.forEach(a=>{const o=i.find(s=>{var l;return s.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(s.id))});if(o){o.status="unread";const s=o.messages.findIndex(l=>l.id===a.id);s>-1?o.messages[s]=a:o.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((o,s)=>((o==null?void 0:o.createdAt)??0)-((s==null?void 0:s.createdAt)??0));return i.sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,e])}};function Wr(){return Wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wr.apply(this,arguments)}function Zc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var HT={exports:{}},VT,kj;function Ige(){if(kj)return VT;kj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return VT=t,VT}var KT,Nj;function Lge(){if(Nj)return KT;Nj=1;var t=Ige();function e(){}function n(){}return n.resetWarningCache=e,KT=function(){function r(o,s,l,c,h,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},KT}var Fj;function Jq(){return Fj||(Fj=1,HT.exports=Lge()()),HT.exports}var em=$A(),Yq=function(e){return!!e&&e[0]==="o"},jj=em.unstable_batchedUpdates||function(t){return t()},Wf=function(e,n,r){return r===void 0&&(r=1e-4),Math.abs(e-n)<r},tm=function(e,n){return e===!0||!!(e&&e[n])},ho=function(e,n){return typeof e=="function"?e(n):e},Xq="_szhsinMenu",Mge=function(e){return e[Xq]},Dge=function(e,n){return Object.defineProperty(n,Xq,{value:e})},sw=function(e,n){return n&&Object.keys(n).forEach(function(r){var i=e[r],a=n[r];typeof a=="function"&&i?e[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:e[r]=a}),e},kge=function(e){if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};var n=e.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},GT=function(e){for(;e;){if(e=e.parentNode,!e||e===document.body)return;var n=getComputedStyle(e),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return e}};function e9(t,e){return{"aria-disabled":t||void 0,tabIndex:e?0:-1}}function $j(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var Fd=function(e){var n=e.block,r=e.element,i=e.modifiers,a=e.className;return te.useMemo(function(){var o=r?n+"__"+r:n,s=o;i&&Object.keys(i).forEach(function(c){var h=i[c];h&&(s+=" "+o+"--"+(h===!0?c:c+"-"+h))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(s+=" "+l)),s},[n,r,i,a])},Nge="szh-menu-container",jg="szh-menu",Fge="szh-menu-button",jge="arrow",$ge="item",Uge="divider",t9=te.createContext(),n9=te.createContext({}),Uj=te.createContext({}),r9=te.createContext({}),Bge=te.createContext({}),i9=te.createContext({}),a9=te.createContext({}),Lo=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),mi=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),nm=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),$g=Object.freeze({FIRST:"first",LAST:"last"}),qge=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),zge=["className","isOpen","disabled","children"],Hge=Dge("MenuButton",te.forwardRef(function(e,n){var r=e.className,i=e.isOpen,a=e.disabled,o=e.children,s=Zc(e,zge),l=te.useMemo(function(){return{open:i}},[i]);return ne.jsx("button",Wr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},s,{ref:n,className:Fd({block:Fge,modifiers:l,className:r}),children:o}))})),Vge=function(e){var n=e.className,r=e.containerRef,i=e.containerProps,a=e.children,o=e.isOpen,s=e.skipOpen,l=e.theming,c=e.transition,h=e.onClose,p=tm(c,"item"),m=function(w){var S=w.key;switch(S){case Lo.ESC:ho(h,{key:S,reason:nm.CANCEL});break}},y=function(w){o&&!w.currentTarget.contains(w.relatedTarget||document.activeElement)&&(ho(h,{reason:nm.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return ne.jsx("div",Wr({},sw({onKeyDown:m,onBlur:y},i),{className:Fd({block:Nge,modifiers:te.useMemo(function(){return{theme:l,itemTransition:p}},[l,p]),className:n}),style:Wr({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},Kge=function(e,n){var r=te.useState(),i=r[0],a=r[1],o=te.useRef({items:[],hoverIndex:-1,sorted:!1}),s=o.current,l=te.useCallback(function(h,p){var m=s.items;if(!h)s.items=[];else if(p)m.push(h);else{var y=m.indexOf(h);y>-1&&(m.splice(y,1),h.contains(document.activeElement)&&(n.current.focus(),a()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),c=te.useCallback(function(h,p,m){var y=s.items,v=s.hoverIndex,w=function(){if(!s.sorted){var A=e.current.querySelectorAll(".szh-menu__item");y.sort(function(I,M){return $j(A,I)-$j(A,M)}),s.sorted=!0}},S=-1,x=void 0;switch(h){case mi.RESET:break;case mi.SET:x=p;break;case mi.UNSET:x=function(A){return A===p?void 0:A};break;case mi.FIRST:w(),S=0,x=y[S];break;case mi.LAST:w(),S=y.length-1,x=y[S];break;case mi.SET_INDEX:w(),S=m,x=y[S];break;case mi.INCREASE:w(),S=v,S<0&&(S=y.indexOf(p)),S++,S>=y.length&&(S=0),x=y[S];break;case mi.DECREASE:w(),S=v,S<0&&(S=y.indexOf(p)),S--,S<0&&(S=y.length-1),x=y[S];break}x||(S=-1),a(x),s.hoverIndex=S},[e,s]);return{hoverItem:i,dispatch:c,updateItems:l}},Gge=function(e,n,r,i){var a=n.current.getBoundingClientRect(),o=e.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=kge(i),c=function(S){return S+o.left-s.left-l.left},h=function(S){return S+o.left+a.width-s.right+l.right},p=function(S){return S+o.top-s.top-l.top},m=function(S){return S+o.top+a.height-s.bottom+l.bottom},y=function(S){var x=c(S);if(x<0)S-=x;else{var E=h(S);E>0&&(S-=E,x=c(S),x<0&&(S-=x))}return S},v=function(S){var x=p(S);if(x<0)S-=x;else{var E=m(S);E>0&&(S-=E,x=p(S),x<0&&(S-=x))}return S};return{menuRect:a,containerRect:o,getLeftOverflow:c,getRightOverflow:h,getTopOverflow:p,getBottomOverflow:m,confineHorizontally:y,confineVertically:v}},Wge=function(e){var n=e.arrowRef,r=e.menuY,i=e.anchorRect,a=e.containerRect,o=e.menuRect,s=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return s=Math.max(l,s),s=Math.min(s,o.height-l),s},Qge=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeLeftorRightY,o=e.placeLeftX,s=e.placeRightX,l=e.getLeftOverflow,c=e.getRightOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,v=e.direction,w=e.position,S=v,x=a;w!=="initial"&&(x=p(x),w==="anchor"&&(x=Math.min(x,n.bottom-r.top),x=Math.max(x,n.top-r.top-i.height)));var E,A,I;S==="left"?(E=o,w!=="initial"&&(A=l(E),A<0&&(I=c(s),(I<=0||-A>I)&&(E=s,S="right")))):(E=s,w!=="initial"&&(I=c(E),I>0&&(A=l(o),(A>=0||-A<I)&&(E=o,S="left")))),w==="auto"&&(E=h(E));var M=y?Wge({menuY:x,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:M,x:E,y:x,computedDirection:S}},Zge=function(e){var n=e.arrowRef,r=e.menuX,i=e.anchorRect,a=e.containerRect,o=e.menuRect,s=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return s=Math.max(l,s),s=Math.min(s,o.width-l),s},Jge=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeToporBottomX,o=e.placeTopY,s=e.placeBottomY,l=e.getTopOverflow,c=e.getBottomOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,v=e.direction,w=e.position,S=v==="top"?"top":"bottom",x=a;w!=="initial"&&(x=h(x),w==="anchor"&&(x=Math.min(x,n.right-r.left),x=Math.max(x,n.left-r.left-i.width)));var E,A,I;S==="top"?(E=o,w!=="initial"&&(A=l(E),A<0&&(I=c(s),(I<=0||-A>I)&&(E=s,S="bottom")))):(E=s,w!=="initial"&&(I=c(E),I>0&&(A=l(o),(A>=0||-A<I)&&(E=o,S="top")))),w==="auto"&&(E=p(E));var M=y?Zge({menuX:x,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:M,x,y:E,computedDirection:S}},Yge=function(e){var n=e.arrow,r=e.align,i=e.direction,a=e.offsetX,o=e.offsetY,s=e.position,l=e.anchorRect,c=e.arrowRef,h=e.positionHelpers,p=h.menuRect,m=h.containerRect,y=a,v=o;n&&(i==="left"||i==="right"?y+=c.current.offsetWidth:v+=c.current.offsetHeight);var w=l.left-m.left-p.width-y,S=l.right-m.left+y,x=l.top-m.top-p.height-v,E=l.bottom-m.top+v,A,I;r==="end"?(A=l.right-m.left-p.width,I=l.bottom-m.top-p.height):r==="center"?(A=l.left-m.left-(p.width-l.width)/2,I=l.top-m.top-(p.height-l.height)/2):(A=l.left-m.left,I=l.top-m.top),A+=y,I+=v;var M=Wr({},h,{anchorRect:l,placeLeftX:w,placeRightX:S,placeLeftorRightY:I,placeTopY:x,placeBottomY:E,placeToporBottomX:A,arrowRef:c,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return Qge(M);case"top":case"bottom":default:return Jge(M)}},L_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?te.useLayoutEffect:te.useEffect;function Bj(t,e){typeof t=="function"?t(e):t.current=e}var ZR=function(e,n){return te.useMemo(function(){return e?n?function(r){Bj(e,r),Bj(n,r)}:e:n},[e,n])},Xge=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],eme=function(e){var n=e.ariaLabel,r=e.menuClassName,i=e.menuStyle,a=e.arrowClassName,o=e.arrowStyle,s=e.anchorPoint,l=e.anchorRef,c=e.containerRef,h=e.containerProps,p=e.focusProps,m=e.externalRef,y=e.parentScrollingRef,v=e.arrow,w=e.align,S=w===void 0?"start":w,x=e.direction,E=x===void 0?"bottom":x,A=e.position,I=A===void 0?"auto":A,M=e.overflow,D=M===void 0?"visible":M,F=e.setDownOverflow,Q=e.repositionFlag,Y=e.captureFocus,B=Y===void 0?!0:Y,Z=e.state,ce=e.endTransition,re=e.isDisabled,ue=e.menuItemFocus,ge=e.offsetX,_e=ge===void 0?0:ge,de=e.offsetY,fe=de===void 0?0:de,Ie=e.children,k=e.onClose,ie=Zc(e,Xge),me=te.useState({x:0,y:0}),H=me[0],J=me[1],pe=te.useState({}),Ae=pe[0],Je=pe[1],Re=te.useState(),Fe=Re[0],Xe=Re[1],oe=te.useState(E),z=oe[0],$=oe[1],ae=te.useState(0),W=ae[0],he=ae[1],ye=te.useReducer(function(it){return it+1},1),He=ye[0],Te=ye[1],Ne=te.useContext(i9),tt=Ne.transition,nt=Ne.boundingBoxRef,gt=Ne.boundingBoxPadding,Bt=Ne.rootMenuRef,Se=Ne.rootAnchorRef,Be=Ne.scrollNodesRef,X=Ne.reposition,q=Ne.viewScroll,K=te.useContext(Uj).reposSubmenu||Q,V=te.useRef(null),je=te.useRef(),Ze=te.useRef(),ke=te.useRef(!1),At=te.useRef({width:0,height:0}),Ot=te.useRef(function(){}),Dt=Kge(V,je),Rt=Dt.hoverItem,qt=Dt.dispatch,Tr=Dt.updateItems,fn=Yq(Z),dn=tm(tt,"open"),pr=tm(tt,"close"),sn=Be.current,un=function(Et){switch(Et.key){case Lo.HOME:qt(mi.FIRST);break;case Lo.END:qt(mi.LAST);break;case Lo.UP:qt(mi.DECREASE,Rt);break;case Lo.DOWN:qt(mi.INCREASE,Rt);break;case Lo.SPACE:Et.target&&Et.target.className.indexOf(jg)!==-1&&Et.preventDefault();return;default:return}Et.preventDefault(),Et.stopPropagation()},In=function(){Z==="closing"&&Xe(),ho(ce)},sr=te.useCallback(function(it){var Et,Lt=l?(Et=l.current)==null?void 0:Et.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(Lt){sn.menu||(sn.menu=(nt?nt.current:GT(Bt.current))||window);var Kt=Gge(c,V,sn.menu,gt),Yt=Yge({arrow:v,align:S,direction:E,offsetX:_e,offsetY:fe,position:I,anchorRect:Lt,arrowRef:Ze,positionHelpers:Kt}),zt=Yt.arrowX,Nt=Yt.arrowY,en=Yt.x,Rn=Yt.y,Gt=Yt.computedDirection,Qt=Kt.menuRect,xn=Qt.height;if(!it&&D!=="visible"){var En=Kt.getTopOverflow,Bn=Kt.getBottomOverflow,Cr,zr,Hr=At.current.height,Or=Bn(Rn);if(Or>0||Wf(Or,0)&&Wf(xn,Hr))Cr=xn-Or,zr=Or;else{var jn=En(Rn);(jn<0||Wf(jn,0)&&Wf(xn,Hr))&&(Cr=xn+jn,zr=0-jn,Cr>=0&&(Rn-=jn))}Cr>=0?(xn=Cr,Xe({height:Cr,overflowAmt:zr})):Xe()}v&&Je({x:zt,y:Nt}),J({x:en,y:Rn}),$(Gt),At.current={width:Qt.width,height:xn}}},[v,S,gt,E,_e,fe,I,D,s,l,c,nt,Bt,sn]);L_(function(){fn&&(sr(),ke.current&&Te()),ke.current=fn,Ot.current=sr},[fn,sr,K]),L_(function(){Fe&&!F&&(V.current.scrollTop=0)},[Fe,F]),L_(function(){return Tr},[Tr]),te.useEffect(function(){var it=sn.menu;if(!(!fn||!it)){if(it=it.addEventListener?it:window,!sn.anchors){sn.anchors=[];for(var Et=GT(Se&&Se.current);Et&&Et!==it;)sn.anchors.push(Et),Et=GT(Et)}var Lt=q;if(sn.anchors.length&&Lt==="initial"&&(Lt="auto"),Lt!=="initial"){var Kt=function(){Lt==="auto"?jj(function(){return sr(!0)}):ho(k,{reason:nm.SCROLL})},Yt=sn.anchors.concat(q!=="initial"?it:[]);return Yt.forEach(function(zt){return zt.addEventListener("scroll",Kt)}),function(){return Yt.forEach(function(zt){return zt.removeEventListener("scroll",Kt)})}}}},[Se,sn,fn,k,q,sr]);var Oe=!!Fe&&Fe.overflowAmt>0;te.useEffect(function(){if(!(Oe||!fn||!y)){var it=function(){return jj(sr)},Et=y.current;return Et.addEventListener("scroll",it),function(){return Et.removeEventListener("scroll",it)}}},[fn,Oe,y,sr]),te.useEffect(function(){if(!(typeof ResizeObserver!="function"||X==="initial")){var it=new ResizeObserver(function(Lt){var Kt=Lt[0],Yt=Kt.borderBoxSize,zt=Kt.target,Nt,en;if(Yt){var Rn=Yt[0]||Yt,Gt=Rn.inlineSize,Qt=Rn.blockSize;Nt=Gt,en=Qt}else{var xn=zt.getBoundingClientRect();Nt=xn.width,en=xn.height}Nt===0||en===0||Wf(Nt,At.current.width,1)&&Wf(en,At.current.height,1)||em.flushSync(function(){Ot.current(),Te()})}),Et=V.current;return it.observe(Et,{box:"border-box"}),function(){return it.unobserve(Et)}}},[X]),te.useEffect(function(){if(!fn){qt(mi.RESET),pr||Xe();return}var it=ue||{},Et=it.position,Lt=it.alwaysUpdate,Kt=function(){Et===$g.FIRST?qt(mi.FIRST):Et===$g.LAST?qt(mi.LAST):Et>=-1&&qt(mi.SET_INDEX,void 0,Et)};if(Lt)Kt();else if(B){var Yt=setTimeout(function(){V.current.contains(document.activeElement)||(je.current.focus(),Kt())},dn?170:100);return function(){return clearTimeout(Yt)}}},[fn,dn,pr,B,ue,qt]);var qe=W>0,wt=te.useMemo(function(){return{isParentOpen:fn,isSubmenuOpen:qe,setOpenSubmenuCount:he,dispatch:qt,updateItems:Tr}},[fn,qe,qt,Tr]),xt,It;Fe&&(F?It=Fe.overflowAmt:xt=Fe.height);var zn=te.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:It,parentMenuRef:V,parentDir:z}},[He,D,It,z]),Jn=xt>=0?{maxHeight:xt,overflow:D}:void 0,We=te.useMemo(function(){return{state:Z,dir:z}},[Z,z]),Ee=te.useMemo(function(){return{dir:z}},[z]),et=Fd({block:jg,element:jge,modifiers:Ee,className:a}),ft=ne.jsxs("ul",Wr({role:"menu","aria-label":n},e9(re),sw({onKeyDown:un,onAnimationEnd:In},ie),{ref:ZR(m,V),className:Fd({block:jg,modifiers:We,className:r}),style:Wr({},i,Jn,{margin:0,display:Z==="closed"?"none":void 0,position:"absolute",left:H.x,top:H.y}),children:[ne.jsx("div",Wr({tabIndex:-1,style:{position:"absolute",left:0,top:0}},p,{ref:je})),v&&ne.jsx("div",{className:et,style:Wr({},o,{position:"absolute",left:Ae.x,top:Ae.y}),ref:Ze}),ne.jsx(Uj.Provider,{value:zn,children:ne.jsx(n9.Provider,{value:wt,children:ne.jsx(t9.Provider,{value:Rt,children:Ie})})})]}));return h?ne.jsx(Vge,Wr({},h,{isOpen:fn,children:ft})):ft},tme=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],nme=te.forwardRef(function(e,n){var r=e["aria-label"],i=e.className,a=e.containerProps,o=e.initialMounted,s=e.unmountOnClose,l=e.transition,c=e.transitionTimeout,h=e.boundingBoxRef,p=e.boundingBoxPadding,m=e.reposition,y=m===void 0?"auto":m,v=e.submenuOpenDelay,w=v===void 0?300:v,S=e.submenuCloseDelay,x=S===void 0?150:S,E=e.skipOpen,A=e.viewScroll,I=A===void 0?"initial":A,M=e.portal,D=e.theming,F=e.onItemClick,Q=Zc(e,tme),Y=te.useRef(null),B=te.useRef({}),Z=Q.anchorRef,ce=Q.state,re=Q.onClose,ue=te.useMemo(function(){return{initialMounted:o,unmountOnClose:s,transition:l,transitionTimeout:c,boundingBoxRef:h,boundingBoxPadding:p,rootMenuRef:Y,rootAnchorRef:Z,scrollNodesRef:B,reposition:y,viewScroll:I}},[o,s,l,c,Z,h,p,y,I]),ge=te.useMemo(function(){return{submenuOpenDelay:w,submenuCloseDelay:x}},[w,x]),_e=te.useMemo(function(){return{handleClick:function(Ie,k){Ie.stopPropagation||ho(F,Ie);var ie=Ie.keepOpen;ie===void 0&&(ie=k&&Ie.key===Lo.SPACE),ie||ho(re,{value:Ie.value,key:Ie.key,reason:nm.CLICK})},handleClose:function(Ie){ho(re,{key:Ie,reason:nm.CLICK})}}},[F,re]);if(!ce)return null;var de=ne.jsx(i9.Provider,{value:ue,children:ne.jsx(a9.Provider,{value:ge,children:ne.jsx(r9.Provider,{value:_e,children:ne.jsx(eme,Wr({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:Y,containerProps:{className:i,containerRef:Y,containerProps:a,skipOpen:E,theming:D,transition:l,onClose:re}}))})})});return M===!0&&typeof document<"u"?em.createPortal(de,document.body):M?M.target?em.createPortal(de,M.target):M.stablePosition?null:de:de}),WT=0,QT=1,gv=2,ZT=3,JT=4,rme=5,ime=6,o9=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],YT=function(e){return e?ime:rme},qj=function(e,n,r,i,a){clearTimeout(i.current),n(e),r.current=e,a&&a({state:o9[e]})},ame=function(e){var n=e===void 0?{}:e,r=n.enter,i=r===void 0?!0:r,a=n.exit,o=a===void 0?!0:a,s=n.preEnter,l=n.preExit,c=n.timeout,h=n.initialEntered,p=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,v=te.useState(h?gv:YT(p)),w=v[0],S=v[1],x=te.useRef(w),E=te.useRef(),A,I;typeof c=="object"?(A=c.enter,I=c.exit):A=I=c;var M=te.useCallback(function(){var F;switch(x.current){case QT:case WT:F=gv;break;case JT:case ZT:F=YT(m);break}F!==void 0&&qj(F,S,x,E,y)},[y,m]),D=te.useCallback(function(F){var Q=function B(Z){switch(qj(Z,S,x,E,y),Z){case QT:A>=0&&(E.current=setTimeout(M,A));break;case JT:I>=0&&(E.current=setTimeout(M,I));break;case WT:case ZT:E.current=setTimeout(function(){return B(Z+1)},0);break}},Y=x.current<=gv;typeof F!="boolean"&&(F=!Y),F?Y||Q(i?s?WT:QT:gv):Y&&Q(o?l?ZT:JT:YT(m))},[M,y,i,o,s,l,A,I,m]);return te.useEffect(function(){return function(){return clearTimeout(E.current)}},[]),[o9[w],D,M]},ome=function(e){var n=e===void 0?{}:e,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,o=n.transition,s=n.transitionTimeout,l=s===void 0?500:s,c=ame({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:tm(o,"open"),exit:tm(o,"close")}),h=c[0],p=c[1],m=c[2];return[{state:qge[h],endTransition:m},p]},sme=function(e){var n=ome(e),r=n[0],i=n[1],a=te.useState(),o=a[0],s=a[1],l=function(h,p){s({position:h,alwaysUpdate:p}),i(!0)};return[Wr({menuItemFocus:o},r),i,l]},ume=function(e,n){var r=te.useRef(n);te.useEffect(function(){r.current!==n&&ho(e,{open:n}),r.current=n},[e,n])},lme=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],cme=te.forwardRef(function(e,n){var r=e["aria-label"],i=e.menuButton,a=e.instanceRef,o=e.onMenuChange,s=Zc(e,lme),l=sme(s),c=l[0],h=l[1],p=l[2],m=Yq(c.state),y=te.useRef(!1),v=te.useRef(null),w=te.useCallback(function(M){h(!1),M.key&&v.current.focus()},[h]),S=function(D){y.current||p(D.detail===0?$g.FIRST:void 0)},x=function(D){switch(D.key){case Lo.UP:p($g.LAST);break;case Lo.DOWN:p($g.FIRST);break;default:return}D.preventDefault()},E=ho(i,{open:m});if(!E||!E.type)throw new Error("Menu requires a menuButton prop.");var A=Wr({ref:ZR(E.ref,v)},sw({onClick:S,onKeyDown:x},E.props));Mge(E.type)==="MenuButton"&&(A.isOpen=m);var I=te.cloneElement(E,A);return ume(o,m),te.useImperativeHandle(a,function(){return{openMenu:p,closeMenu:function(){return h(!1)}}}),ne.jsxs(te.Fragment,{children:[I,ne.jsx(nme,Wr({},s,c,{"aria-label":r||(typeof E.props.children=="string"?E.props.children:"Menu"),anchorRef:v,ref:n,onClose:w,skipOpen:y}))]})}),fme=function(e,n){var r=te.memo(n),i=te.forwardRef(function(a,o){var s=te.useRef(null);return ne.jsx(r,Wr({},a,{itemRef:s,externalRef:o,isHovering:te.useContext(t9)===s.current}))});return i.displayName="WithHovering("+e+")",i},dme=function(e,n,r){L_(function(){if(!e){var i=n.current;return r(i,!0),function(){r(i)}}},[e,n,r])},hme=function(e,n,r,i){var a=te.useContext(a9),o=a.submenuCloseDelay,s=te.useContext(n9),l=s.isParentOpen,c=s.isSubmenuOpen,h=s.dispatch,p=s.updateItems,m=te.useRef(0),y=function(){!r&&!i&&h(mi.SET,e.current)},v=function(){!i&&h(mi.UNSET,e.current)},w=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&v()},S=function(){c?m.current||(m.current=setTimeout(function(){m.current=0,y()},o)):y()},x=function(A,I){m.current&&(clearTimeout(m.current),m.current=0),!I&&v()};return dme(i,e,p),te.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),te.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:w,onPointerMove:S,onPointerLeave:x}},pme=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],gme=["setHover"],Qf=fme("MenuItem",function(e){var n=e.className,r=e.value,i=e.href,a=e.type,o=e.checked,s=e.disabled,l=e.children,c=e.onClick,h=e.isHovering,p=e.itemRef,m=e.externalRef,y=Zc(e,pme),v=!!s,w=hme(p,p,h,v),S=w.setHover,x=Zc(w,gme),E=te.useContext(r9),A=te.useContext(Bge),I=a==="radio",M=a==="checkbox",D=!!i&&!v&&!I&&!M,F=I?A.value===r:M?!!o:!1,Q=function(ue){if(v){ue.stopPropagation(),ue.preventDefault();return}var ge={value:r,syntheticEvent:ue};ue.key!==void 0&&(ge.key=ue.key),M&&(ge.checked=!F),I&&(ge.name=A.name),ho(c,ge),I&&ho(A.onRadioChange,ge),E.handleClick(ge,M||I)},Y=function(ue){if(h)switch(ue.key){case Lo.ENTER:case Lo.SPACE:D?p.current.click():Q(ue);break}},B=te.useMemo(function(){return{type:a,disabled:v,hover:h,checked:F,anchor:D}},[a,v,h,F,D]),Z=sw(Wr({},x,{onPointerDown:S,onKeyDown:Y,onClick:Q}),y),ce=Wr({role:I?"menuitemradio":M?"menuitemcheckbox":"menuitem","aria-checked":I||M?F:void 0},e9(v,h),Z,{ref:ZR(m,p),className:Fd({block:jg,element:$ge,modifiers:B,className:n}),children:te.useMemo(function(){return ho(l,B)},[l,B])});return D?ne.jsx("li",{role:"presentation",children:ne.jsx("a",Wr({href:i},ce))}):ne.jsx("li",Wr({},ce))}),mme=["className"],yme=te.memo(te.forwardRef(function(e,n){var r=e.className,i=Zc(e,mme);return ne.jsx("li",Wr({role:"separator"},i,{ref:n,className:Fd({block:jg,element:Uge,className:r})}))}));const vme=()=>{const{communityId:t}=Dn(),e=No(Kd),[n]=jo(e.webId??"",t),{data:r}=ow(e.webId??""),i=No(YA);return ne.jsxs(cme,{menuButton:ne.jsx(Hge,{"data-cy":"menu-button",children:ne.jsx(U0,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[ne.jsx(Qf,{children:ne.jsx(Oo,{to:"profile",children:(n==null?void 0:n.name)||"profile"})}),ne.jsx(Qf,{children:ne.jsx(Oo,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:"edit profile"})}),ne.jsx(Qf,{children:ne.jsxs(Oo,{to:"messages",children:["messages",r!=null&&r.length?` (${r.length} new)`:null]})}),ne.jsx(Qf,{children:ne.jsx(Oo,{to:`profile/${encodeURIComponent(e.webId)}/contacts`,children:"contacts"})}),ne.jsx(Qf,{children:ne.jsx(Oo,{to:"host/offers",children:"my hosting"})}),ne.jsx(yme,{}),ne.jsx(Qf,{children:ne.jsx(Npe,{})})]})},_me=()=>{const{communityId:t}=Dn(),e=No(Kd),n=vu(t);return ne.jsxs("nav",{className:pv.header,children:[ne.jsx(Oo,{className:pv.logoContainer,to:"/","data-cy":"header-logo-link",children:ne.jsx(aB,{logo:n.logo[0],focusedLogo:n.logo[1],name:n.name||(n.isLoading?"...":"Home"),className:pv.logo})}),ne.jsx("div",{className:pv.spacer}),ne.jsx(Zfe,{}),e.isLoggedIn===!0&&ne.jsx(vme,{}),e.isLoggedIn===void 0&&ne.jsx(ne.Fragment,{children:"..."})]})},wme=(t,e="en")=>bm({queryKey:["wikidataSearch",t,e],queryFn:()=>bme(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),bme=async(t,e)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(t)}&language=${e}&limit=20&continue=0&format=json&uselang=${e}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Qc({aliases:[],photos:[]},{...a,id:i})),s9=(t,e="en")=>bm({queryKey:["wikidataEntity",t,e],queryFn:()=>Sme(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),Sme=async(t,e)=>{var v,w,S;const n=((v=t.match(xme))==null?void 0:v[2])??"";if(!n)return{};const i=await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${e}&format=json&origin=*`)).json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const o=((w=a.labels[e])==null?void 0:w.value)??"",s=((S=a.descriptions[e])==null?void 0:S.value)??"",l=(a.claims.P18??[]).map(x=>x.mainsnak.datavalue.value)[0],c=(a.claims.P154??[]).map(x=>x.mainsnak.datavalue.value)[0],h=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,p=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,m=(a.claims.P856??[]).map(x=>x.mainsnak.datavalue.value)[0],y=(a.aliases[e]??[]).map(({value:x})=>x);return{id:n,label:o,aliases:y,description:s,officialWebsite:m,image:p||h}},xme=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,Eme="_list_1r0ph_1",Tme="_item_1r0ph_6",Cme="_highlighted_1r0ph_12",Ame="_select_1r0ph_16",Rme="_control_1r0ph_16",Pme="_input_1r0ph_21",Ome="_menu_1r0ph_24",Ime="_separator_1r0ph_29",Lme="_option_1r0ph_33",Mme="_focused_1r0ph_33",uo={list:Eme,item:Tme,highlighted:Cme,select:Ame,control:Rme,input:Pme,menu:Ome,separator:Ime,option:Lme,focused:Mme},Dme=({ids:t,highlighted:e})=>t.length===0?null:ne.jsx("ul",{className:uo.list,"data-cy":"interests-list",children:t.map(n=>ne.jsx("li",{children:ne.jsx(kme,{id:n,highlighted:e&&e.includes(n)})},n))}),kme=({id:t,highlighted:e})=>{const{data:n}=s9(t),r={id:t,label:t.split("/").pop(),description:t},i=Qc({},r,n);return ne.jsx("span",{className:Pr(uo.item,e&&uo.highlighted),title:i.description,children:i.label})},$o=({children:t})=>ne.jsx(ne.Fragment,{children:t}),Nme=()=>{const{communityId:t}=Dn(),e=vu(t),r=Fme()&&e.logo.length>=2?e.logo[0]:e.logo[1];return ne.jsxs(ne.Fragment,{children:[ne.jsx("title",{children:e.name}),r&&ne.jsx("link",{rel:"icon",href:r}),ne.jsx("meta",{name:"description",content:e.about})]})},Fme=()=>{const[t,e]=te.useState(document.hasFocus());return te.useEffect(()=>{const n=()=>{e(!0)},r=()=>{e(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),t},li=()=>No(Kd),jme=()=>{const t=Vd();te.useEffect(()=>{Em().events.on(ni.SESSION_RESTORED,n=>{t(new URL(n).pathname,{replace:!0})})},[])},$me=()=>{const t=No(YA);te.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",t)},[t])},Ume="_box_1g1fk_7",Bme="_row_1g1fk_18",qme="_header_1g1fk_18",zme="_content_1g1fk_26",Hme="_footer_1g1fk_30",jd={box:Ume,row:Bme,header:qme,content:zme,footer:Hme},Vme=({children:t,page:e})=>ne.jsx("div",{className:Pr(jd.box,e&&jd.page),children:t}),Kme=({children:t})=>ne.jsx("div",{className:Pr(jd.row,jd.header),children:t}),Gme=({children:t})=>ne.jsx("div",{className:Pr(jd.row,jd.content),children:t});function u9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bl(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u9(t))&&(r&&(r+=" "),r+=e);return r}const rm=t=>typeof t=="number"&&!isNaN(t),Hc=t=>typeof t=="string",$a=t=>typeof t=="function",M_=t=>Hc(t)||$a(t)?t:null,aA=t=>te.isValidElement(t)||Hc(t)||$a(t)||rm(t);function Wme(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function uw(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=t;return function(o){let{children:s,position:l,preventExitTransition:c,done:h,nodeRef:p,isIn:m,playToast:y}=o;const v=r?`${e}--${l}`:e,w=r?`${n}--${l}`:n,S=te.useRef(0);return te.useLayoutEffect(()=>{const x=p.current,E=v.split(" "),A=I=>{I.target===p.current&&(y(),x.removeEventListener("animationend",A),x.removeEventListener("animationcancel",A),S.current===0&&I.type!=="animationcancel"&&x.classList.remove(...E))};x.classList.add(...E),x.addEventListener("animationend",A),x.addEventListener("animationcancel",A)},[]),te.useEffect(()=>{const x=p.current,E=()=>{x.removeEventListener("animationend",E),i?Wme(x,h,a):h()};m||(c?E():(S.current=1,x.className+=` ${w}`,x.addEventListener("animationend",E)))},[m]),Ut.createElement(Ut.Fragment,null,s)}}function zj(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const sa=new Map;let im=[];const oA=new Set,Qme=t=>oA.forEach(e=>e(t)),l9=()=>sa.size>0;function c9(t,e){var n;if(e)return!((n=sa.get(e))==null||!n.isToastActive(t));let r=!1;return sa.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function f9(t,e){aA(t)&&(l9()||im.push({content:t,options:e}),sa.forEach(n=>{n.buildToast(t,e)}))}function Hj(t,e){sa.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function Zme(t){const{subscribe:e,getSnapshot:n,setProps:r}=te.useRef(function(a){const o=a.containerId||1;return{subscribe(s){const l=function(h,p,m){let y=1,v=0,w=[],S=[],x=[],E=p;const A=new Map,I=new Set,M=()=>{x=Array.from(A.values()),I.forEach(Q=>Q())},D=Q=>{S=Q==null?[]:S.filter(Y=>Y!==Q),M()},F=Q=>{const{toastId:Y,onOpen:B,updateId:Z,children:ce}=Q.props,re=Z==null;Q.staleId&&A.delete(Q.staleId),A.set(Y,Q),S=[...S,Q.props.toastId].filter(ue=>ue!==Q.staleId),M(),m(zj(Q,re?"added":"updated")),re&&$a(B)&&B(te.isValidElement(ce)&&ce.props)};return{id:h,props:E,observe:Q=>(I.add(Q),()=>I.delete(Q)),toggle:(Q,Y)=>{A.forEach(B=>{Y!=null&&Y!==B.props.toastId||$a(B.toggle)&&B.toggle(Q)})},removeToast:D,toasts:A,clearQueue:()=>{v-=w.length,w=[]},buildToast:(Q,Y)=>{if((me=>{let{containerId:H,toastId:J,updateId:pe}=me;const Ae=H?H!==h:h!==1,Je=A.has(J)&&pe==null;return Ae||Je})(Y))return;const{toastId:B,updateId:Z,data:ce,staleId:re,delay:ue}=Y,ge=()=>{D(B)},_e=Z==null;_e&&v++;const de={...E,style:E.toastStyle,key:y++,...Object.fromEntries(Object.entries(Y).filter(me=>{let[H,J]=me;return J!=null})),toastId:B,updateId:Z,data:ce,closeToast:ge,isIn:!1,className:M_(Y.className||E.toastClassName),bodyClassName:M_(Y.bodyClassName||E.bodyClassName),progressClassName:M_(Y.progressClassName||E.progressClassName),autoClose:!Y.isLoading&&(fe=Y.autoClose,Ie=E.autoClose,fe===!1||rm(fe)&&fe>0?fe:Ie),deleteToast(){const me=A.get(B),{onClose:H,children:J}=me.props;$a(H)&&H(te.isValidElement(J)&&J.props),m(zj(me,"removed")),A.delete(B),v--,v<0&&(v=0),w.length>0?F(w.shift()):M()}};var fe,Ie;de.closeButton=E.closeButton,Y.closeButton===!1||aA(Y.closeButton)?de.closeButton=Y.closeButton:Y.closeButton===!0&&(de.closeButton=!aA(E.closeButton)||E.closeButton);let k=Q;te.isValidElement(Q)&&!Hc(Q.type)?k=te.cloneElement(Q,{closeToast:ge,toastProps:de,data:ce}):$a(Q)&&(k=Q({closeToast:ge,toastProps:de,data:ce}));const ie={content:k,props:de,staleId:re};E.limit&&E.limit>0&&v>E.limit&&_e?w.push(ie):rm(ue)?setTimeout(()=>{F(ie)},ue):F(ie)},setProps(Q){E=Q},setToggle:(Q,Y)=>{A.get(Q).toggle=Y},isToastActive:Q=>S.some(Y=>Y===Q),getSnapshot:()=>E.newestOnTop?x.reverse():x}}(o,a,Qme);sa.set(o,l);const c=l.observe(s);return im.forEach(h=>f9(h.content,h.options)),im=[],()=>{c(),sa.delete(o)}},setProps(s){var l;(l=sa.get(o))==null||l.setProps(s)},getSnapshot(){var s;return(s=sa.get(o))==null?void 0:s.getSnapshot()}}}(t)).current;r(t);const i=te.useSyncExternalStore(e,n,n);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return i.forEach(s=>{const{position:l}=s.props;o.has(l)||o.set(l,[]),o.get(l).push(s)}),Array.from(o,s=>a(s[0],s[1]))},isToastActive:c9,count:i==null?void 0:i.length}}function Jme(t){const[e,n]=te.useState(!1),[r,i]=te.useState(!1),a=te.useRef(null),o=te.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:p}=t;var m,y;function v(){n(!0)}function w(){n(!1)}function S(A){const I=a.current;o.canDrag&&I&&(o.didMove=!0,e&&w(),o.delta=t.draggableDirection==="x"?A.clientX-o.start:A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",x);const A=a.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=sa.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),te.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",w)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(A){if(t.draggable===!0||t.draggable===A.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",x);const I=a.current;o.canCloseOnClick=!0,o.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(A){const{top:I,bottom:M,left:D,right:F}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=D&&A.clientX<=F&&A.clientY>=I&&A.clientY<=M?w():v()}};return s&&l&&(E.onMouseEnter=w,t.stacked||(E.onMouseLeave=v)),p&&(E.onClick=A=>{h&&h(A),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:E}}function Yme(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:s,controlledProgress:l,progress:c,rtl:h,isIn:p,theme:m}=t;const y=a||l&&c===0,v={...s,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const w=bl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),S=$a(o)?o({rtl:h,type:i,defaultClassName:w}):bl(w,o),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{p&&r()}};return Ut.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Ut.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Ut.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:v,...x}))}let Xme=1;const d9=()=>""+Xme++;function eye(t){return t&&(Hc(t.toastId)||rm(t.toastId))?t.toastId:d9()}function Ug(t,e){return f9(t,e),e.toastId}function o0(t,e){return{...e,type:e&&e.type||t,toastId:eye(e)}}function mv(t){return(e,n)=>Ug(e,o0(t,n))}function Sr(t,e){return Ug(t,o0("default",e))}Sr.loading=(t,e)=>Ug(t,o0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Sr.promise=function(t,e,n){let r,{pending:i,error:a,success:o}=e;i&&(r=Hc(i)?Sr.loading(i,n):Sr.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,m)=>{if(p==null)return void Sr.dismiss(r);const y={type:h,...s,...n,data:m},v=Hc(p)?{render:p}:p;return r?Sr.update(r,{...y,...v}):Sr(v.render,{...y,...v}),m},c=$a(t)?t():t;return c.then(h=>l("success",o,h)).catch(h=>l("error",a,h)),c},Sr.success=mv("success"),Sr.info=mv("info"),Sr.error=mv("error"),Sr.warning=mv("warning"),Sr.warn=Sr.warning,Sr.dark=(t,e)=>Ug(t,o0("default",{theme:"dark",...e})),Sr.dismiss=function(t){(function(e){var n;if(l9()){if(e==null||Hc(n=e)||rm(n))sa.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=sa.get(e.containerId);r?r.removeToast(e.id):sa.forEach(i=>{i.removeToast(e.id)})}}else im=im.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Sr.clearWaitingQueue=function(t){t===void 0&&(t={}),sa.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Sr.isActive=c9,Sr.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var a;let{containerId:o}=i;return(a=sa.get(o||1))==null?void 0:a.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:d9()};a.toastId!==t&&(a.staleId=t);const o=a.render||i;delete a.render,Ug(o,a)}},Sr.done=t=>{Sr.update(t,{progress:1})},Sr.onChange=function(t){return oA.add(t),()=>{oA.delete(t)}},Sr.play=t=>Hj(!0,t),Sr.pause=t=>Hj(!1,t);const tye=typeof window<"u"?te.useLayoutEffect:te.useEffect,yv=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Ut.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},XT={info:function(t){return Ut.createElement(yv,{...t},Ut.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ut.createElement(yv,{...t},Ut.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ut.createElement(yv,{...t},Ut.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ut.createElement(yv,{...t},Ut.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ut.createElement("div",{className:"Toastify__spinner"})}},nye=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=Jme(t),{closeButton:o,children:s,autoClose:l,onClick:c,type:h,hideProgressBar:p,closeToast:m,transition:y,position:v,className:w,style:S,bodyClassName:x,bodyStyle:E,progressClassName:A,progressStyle:I,updateId:M,role:D,progress:F,rtl:Q,toastId:Y,deleteToast:B,isIn:Z,isLoading:ce,closeOnClick:re,theme:ue}=t,ge=bl("Toastify__toast",`Toastify__toast-theme--${ue}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":re}),_e=$a(w)?w({rtl:Q,position:v,type:h,defaultClassName:ge}):bl(ge,w),de=function(ie){let{theme:me,type:H,isLoading:J,icon:pe}=ie,Ae=null;const Je={theme:me,type:H};return pe===!1||($a(pe)?Ae=pe({...Je,isLoading:J}):te.isValidElement(pe)?Ae=te.cloneElement(pe,Je):J?Ae=XT.spinner():(Re=>Re in XT)(H)&&(Ae=XT[H](Je))),Ae}(t),fe=!!F||!l,Ie={closeToast:m,type:h,theme:ue};let k=null;return o===!1||(k=$a(o)?o(Ie):te.isValidElement(o)?te.cloneElement(o,Ie):function(ie){let{closeToast:me,theme:H,ariaLabel:J="close"}=ie;return Ut.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:pe=>{pe.stopPropagation(),me(pe)},"aria-label":J},Ut.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ut.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ie)),Ut.createElement(y,{isIn:Z,done:B,position:v,preventExitTransition:n,nodeRef:r,playToast:a},Ut.createElement("div",{id:Y,onClick:c,"data-in":Z,className:_e,...i,style:S,ref:r},Ut.createElement("div",{...Z&&{role:D},className:$a(x)?x({type:h}):bl("Toastify__toast-body",x),style:E},de!=null&&Ut.createElement("div",{className:bl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ce})},de),Ut.createElement("div",null,s)),k,Ut.createElement(Yme,{...M&&!fe?{key:`pb-${M}`}:{},rtl:Q,theme:ue,delay:l,isRunning:e,isIn:Z,closeToast:m,hide:p,type:h,style:I,className:A,controlledProgress:fe,progress:F||0})))},lw=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},rye=uw(lw("bounce",!0)),iye=uw(lw("slide",!0));uw(lw("zoom"));uw(lw("flip"));const aye={position:"top-right",transition:rye,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function oye(t){let e={...aye,...t};const n=t.stacked,[r,i]=te.useState(!0),a=te.useRef(null),{getToastToRender:o,isToastActive:s,count:l}=Zme(e),{className:c,style:h,rtl:p,containerId:m}=e;function y(w){const S=bl("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":p});return $a(c)?c({position:w,rtl:p,defaultClassName:S}):bl(S,M_(c))}function v(){n&&(i(!0),Sr.play())}return tye(()=>{if(n){var w;const S=a.current.querySelectorAll('[data-in="true"]'),x=12,E=(w=e.position)==null?void 0:w.includes("top");let A=0,I=0;Array.from(S).reverse().forEach((M,D)=>{const F=M;F.classList.add("Toastify__toast--stacked"),D>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=E?"top":"bot");const Q=A*(r?.2:1)+(r?0:x*D);F.style.setProperty("--y",`${E?Q:-1*Q}px`),F.style.setProperty("--g",`${x}`),F.style.setProperty("--s",""+(1-(r?I:0))),A+=F.offsetHeight,I+=.025})}},[r,l,n]),Ut.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Sr.pause())},onMouseLeave:v},o((w,S)=>{const x=S.length?{...h}:{...h,pointerEvents:"none"};return Ut.createElement("div",{className:y(w),style:x,key:`container-${w}`},S.map(E=>{let{content:A,props:I}=E;return Ut.createElement(nye,{...I,stacked:n,collapseAll:v,isIn:s(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},A)}))}))}const sye=()=>{zfe(),jme();const t=eh(),e=li();return $me(),te.useEffect(()=>{(async()=>{const n=await rY({restorePreviousSession:!0});n&&t(JA.signin(n))})()},[t]),ne.jsxs(Vme,{children:[ne.jsx(Nme,{}),ne.jsx(oye,{transition:iye}),ne.jsx(Kme,{children:ne.jsx(_me,{})}),ne.jsx(Gme,{children:e.isLoggedIn===void 0?ne.jsx(ne.Fragment,{children:"Loading..."}):ne.jsx(R0,{})})]})};function uye(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lye=/[ \t\n\f\r]/g;function cye(t){return typeof t=="object"?t.type==="text"?Vj(t.value):!1:Vj(t)}function Vj(t){return t.replace(lye,"")===""}class Mm{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Mm.prototype.property={};Mm.prototype.normal={};Mm.prototype.space=null;function h9(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Mm(n,r,e)}function sA(t){return t.toLowerCase()}class go{constructor(e,n){this.property=e,this.attribute=n}}go.prototype.space=null;go.prototype.boolean=!1;go.prototype.booleanish=!1;go.prototype.overloadedBoolean=!1;go.prototype.number=!1;go.prototype.commaSeparated=!1;go.prototype.spaceSeparated=!1;go.prototype.commaOrSpaceSeparated=!1;go.prototype.mustUseProperty=!1;go.prototype.defined=!1;let fye=0;const vn=sf(),Xr=sf(),p9=sf(),Pt=sf(),xr=sf(),dd=sf(),Na=sf();function sf(){return 2**++fye}const uA=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Xr,commaOrSpaceSeparated:Na,commaSeparated:dd,number:Pt,overloadedBoolean:p9,spaceSeparated:xr},Symbol.toStringTag,{value:"Module"})),e2=Object.keys(uA);class JR extends go{constructor(e,n,r,i){let a=-1;if(super(e,n),Kj(this,"space",i),typeof r=="number")for(;++a<e2.length;){const o=e2[a];Kj(this,e2[a],(r&uA[o])===uA[o])}}}JR.prototype.defined=!0;function Kj(t,e,n){n&&(t[e]=n)}const dye={}.hasOwnProperty;function dh(t){const e={},n={};let r;for(r in t.properties)if(dye.call(t.properties,r)){const i=t.properties[r],a=new JR(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[sA(r)]=r,n[sA(a.attribute)]=r}return new Mm(e,n,t.space)}const g9=dh({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),m9=dh({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function y9(t,e){return e in t?t[e]:e}function v9(t,e){return y9(t,e.toLowerCase())}const _9=dh({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:v9,properties:{xmlns:null,xmlnsXLink:null}}),w9=dh({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Xr,ariaAutoComplete:null,ariaBusy:Xr,ariaChecked:Xr,ariaColCount:Pt,ariaColIndex:Pt,ariaColSpan:Pt,ariaControls:xr,ariaCurrent:null,ariaDescribedBy:xr,ariaDetails:null,ariaDisabled:Xr,ariaDropEffect:xr,ariaErrorMessage:null,ariaExpanded:Xr,ariaFlowTo:xr,ariaGrabbed:Xr,ariaHasPopup:null,ariaHidden:Xr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xr,ariaLevel:Pt,ariaLive:null,ariaModal:Xr,ariaMultiLine:Xr,ariaMultiSelectable:Xr,ariaOrientation:null,ariaOwns:xr,ariaPlaceholder:null,ariaPosInSet:Pt,ariaPressed:Xr,ariaReadOnly:Xr,ariaRelevant:null,ariaRequired:Xr,ariaRoleDescription:xr,ariaRowCount:Pt,ariaRowIndex:Pt,ariaRowSpan:Pt,ariaSelected:Xr,ariaSetSize:Pt,ariaSort:null,ariaValueMax:Pt,ariaValueMin:Pt,ariaValueNow:Pt,ariaValueText:null,role:null}}),hye=dh({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:v9,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dd,acceptCharset:xr,accessKey:xr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:xr,autoFocus:vn,autoPlay:vn,blocking:xr,capture:vn,charSet:null,checked:vn,cite:null,className:xr,cols:Pt,colSpan:null,content:null,contentEditable:Xr,controls:vn,controlsList:xr,coords:Pt|dd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:p9,draggable:Xr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:xr,height:Pt,hidden:vn,high:Pt,href:null,hrefLang:null,htmlFor:xr,httpEquiv:xr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:xr,itemRef:xr,itemScope:vn,itemType:xr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:Pt,manifest:null,max:null,maxLength:Pt,media:null,method:null,min:null,minLength:Pt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:Pt,pattern:null,ping:xr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:xr,required:vn,reversed:vn,rows:Pt,rowSpan:Pt,sandbox:xr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:Pt,sizes:null,slot:null,span:Pt,spellCheck:Xr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pt,step:null,style:null,tabIndex:Pt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Xr,width:Pt,wrap:null,align:null,aLink:null,archive:xr,axis:null,background:null,bgColor:null,border:Pt,borderColor:null,bottomMargin:Pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:Pt,leftMargin:Pt,link:null,longDesc:null,lowSrc:null,marginHeight:Pt,marginWidth:Pt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:Pt,rules:null,scheme:null,scrolling:Xr,standby:null,summary:null,text:null,topMargin:Pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:Pt,security:null,unselectable:null}}),pye=dh({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:y9,properties:{about:Na,accentHeight:Pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pt,amplitude:Pt,arabicForm:null,ascent:Pt,attributeName:null,attributeType:null,azimuth:Pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pt,by:null,calcMode:null,capHeight:Pt,className:xr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pt,diffuseConstant:Pt,direction:null,display:null,dur:null,divisor:Pt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pt,enableBackground:null,end:null,event:null,exponent:Pt,externalResourcesRequired:null,fill:null,fillOpacity:Pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dd,g2:dd,glyphName:dd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pt,horizOriginX:Pt,horizOriginY:Pt,id:null,ideographic:Pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pt,k:Pt,k1:Pt,k2:Pt,k3:Pt,k4:Pt,kernelMatrix:Na,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pt,overlineThickness:Pt,paintOrder:null,panose1:null,path:null,pathLength:Pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pt,pointsAtY:Pt,pointsAtZ:Pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Na,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Na,rev:Na,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Na,requiredFeatures:Na,requiredFonts:Na,requiredFormats:Na,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pt,specularExponent:Pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pt,strikethroughThickness:Pt,string:null,stroke:null,strokeDashArray:Na,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pt,strokeOpacity:Pt,strokeWidth:null,style:null,surfaceScale:Pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Na,tabIndex:Pt,tableValues:null,target:null,targetX:Pt,targetY:Pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Na,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pt,underlineThickness:Pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pt,values:null,vAlphabetic:Pt,vMathematical:Pt,vectorEffect:null,vHanging:Pt,vIdeographic:Pt,version:null,vertAdvY:Pt,vertOriginX:Pt,vertOriginY:Pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),gye=/^data[-\w.:]+$/i,Gj=/-[a-z]/g,mye=/[A-Z]/g;function yye(t,e){const n=sA(e);let r=e,i=go;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gye.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Gj,_ye);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Gj.test(a)){let o=a.replace(mye,vye);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=JR}return new i(r,e)}function vye(t){return"-"+t.toLowerCase()}function _ye(t){return t.charAt(1).toUpperCase()}const wye={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bye=h9([m9,g9,_9,w9,hye],"html"),b9=h9([m9,g9,_9,w9,pye],"svg");function Sye(t){return t.join(" ").trim()}var vv={exports:{}},t2,Wj;function xye(){if(Wj)return t2;Wj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",h="*",p="",m="comment",y="declaration";t2=function(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var x=1,E=1;function A(re){var ue=re.match(e);ue&&(x+=ue.length);var ge=re.lastIndexOf(l);E=~ge?re.length-ge:E+re.length}function I(){var re={line:x,column:E};return function(ue){return ue.position=new M(re),Q(),ue}}function M(re){this.start=re,this.end={line:x,column:E},this.source=S.source}M.prototype.content=w;function D(re){var ue=new Error(S.source+":"+x+":"+E+": "+re);if(ue.reason=re,ue.filename=S.source,ue.line=x,ue.column=E,ue.source=w,!S.silent)throw ue}function F(re){var ue=re.exec(w);if(ue){var ge=ue[0];return A(ge),w=w.slice(ge.length),ue}}function Q(){F(n)}function Y(re){var ue;for(re=re||[];ue=B();)ue!==!1&&re.push(ue);return re}function B(){var re=I();if(!(c!=w.charAt(0)||h!=w.charAt(1))){for(var ue=2;p!=w.charAt(ue)&&(h!=w.charAt(ue)||c!=w.charAt(ue+1));)++ue;if(ue+=2,p===w.charAt(ue-1))return D("End of comment missing");var ge=w.slice(2,ue-2);return E+=2,A(ge),w=w.slice(ue),E+=2,re({type:m,comment:ge})}}function Z(){var re=I(),ue=F(r);if(ue){if(B(),!F(i))return D("property missing ':'");var ge=F(a),_e=re({type:y,property:v(ue[0].replace(t,p)),value:ge?v(ge[0].replace(t,p)):p});return F(o),_e}}function ce(){var re=[];Y(re);for(var ue;ue=Z();)ue!==!1&&(re.push(ue),Y(re));return re}return Q(),ce()};function v(w){return w?w.replace(s,p):p}return t2}var Qj;function Eye(){if(Qj)return vv.exports;Qj=1;var t=xye();function e(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,o=t(n),s=typeof r=="function",l,c,h=0,p=o.length;h<p;h++)a=o[h],l=a.property,c=a.value,s?r(l,c,a):c&&(i||(i={}),i[l]=c);return i}return vv.exports=e,vv.exports.default=e,vv.exports}var Tye=Eye();const Cye=Dr(Tye),S9=x9("end"),YR=x9("start");function x9(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Aye(t){const e=YR(t),n=S9(t);if(e&&n)return{start:e,end:n}}function Bg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Zj(t.position):"start"in t||"end"in t?Zj(t):"line"in t||"column"in t?lA(t):""}function lA(t){return Jj(t&&t.line)+":"+Jj(t&&t.column)}function Zj(t){return lA(t&&t.start)+"-"+lA(t&&t.end)}function Jj(t){return t&&typeof t=="number"?t:1}class fa extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(o=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Bg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}fa.prototype.file="";fa.prototype.name="";fa.prototype.reason="";fa.prototype.message="";fa.prototype.stack="";fa.prototype.column=void 0;fa.prototype.line=void 0;fa.prototype.ancestors=void 0;fa.prototype.cause=void 0;fa.prototype.fatal=void 0;fa.prototype.place=void 0;fa.prototype.ruleId=void 0;fa.prototype.source=void 0;const XR={}.hasOwnProperty,Rye=new Map,Pye=/[A-Z]/g,Oye=/-([a-z])/g,Iye=new Set(["table","tbody","thead","tfoot","tr"]),Lye=new Set(["td","th"]);function Mye(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=kye(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Dye(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?b9:bye,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=E9(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function E9(t,e,n){if(e.type==="element"||e.type==="root"){const r=t.schema;let i=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=b9,t.schema=i),t.ancestors.push(e);let a=Nye(t,e);const o=Fye(t,t.ancestors);let s=t.Fragment;if(t.ancestors.pop(),e.type==="element")if(a&&Iye.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!cye(l):!0})),XR.call(t.components,e.tagName)){const l=e.tagName;s=t.components[l],typeof s!="string"&&s!==t.Fragment&&t.passNode&&(o.node=e)}else s=e.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(o.children=l)}return t.schema=r,t.create(e,s,o,n)}if(e.type==="text")return e.value}function Dye(t,e,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:e;return s?c(a,o,s):c(a,o)}}function kye(t,e){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=YR(r);return e(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Nye(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Rye;for(;++r<e.children.length;){const a=e.children[r];let o;if(t.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;o=a.tagName+"-"+l,i.set(a.tagName,l+1)}const s=E9(t,a,o);s!==void 0&&n.push(s)}return n}function Fye(t,e){const n=e[e.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&XR.call(n.properties,i)){const o=jye(t,e,i,n.properties[i]);if(o){const[s,l]=o;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Lye.has(n.tagName)?a=l:r[s]=l}}if(a){const o=r.style||(r.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function jye(t,e,n,r){const i=yye(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?uye(r):Sye(r)),i.property==="style"){let a=typeof r=="object"?r:$ye(t,e,String(r));return t.stylePropertyNameCase==="css"&&(a=Uye(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?wye[i.property]||i.property:i.attribute,r]}}function $ye(t,e,n){const r={};try{Cye(n,i)}catch(a){if(!t.ignoreInvalidStyle){const o=a,s=new fa("Cannot parse `style` attribute",{ancestors:e,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=t.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Oye,qye)),r[s]=o}}function Uye(t){const e={};let n;for(n in t)XR.call(t,n)&&(e[Bye(n)]=t[n]);return e}function Bye(t){let e=t.replace(Pye,zye);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function qye(t,e){return e.toUpperCase()}function zye(t){return"-"+t.toLowerCase()}const n2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Hye={};function Vye(t,e){const n=Hye,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return T9(t,r,i)}function T9(t,e,n){if(Kye(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Yj(t.children,e,n)}return Array.isArray(t)?Yj(t,e,n):""}function Yj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=T9(t[i],e,n);return r.join("")}function Kye(t){return!!(t&&typeof t=="object")}const Xj=document.createElement("i");function eP(t){const e="&"+t+";";Xj.innerHTML=e;const n=Xj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ys(t,e,n,r){const i=t.length;let a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),t.splice(...o),a+=1e4,e+=1e4}function fo(t,e){return t.length>0?(ys(t,t.length,0,e),t):e}const e4={}.hasOwnProperty;function Gye(t){const e={};let n=-1;for(;++n<t.length;)Wye(e,t[n]);return e}function Wye(t,e){let n;for(n in e){const i=(e4.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let o;if(a)for(o in a){e4.call(i,o)||(i[o]=[]);const s=a[o];Qye(i[o],Array.isArray(s)?s:s?[s]:[])}}}function Qye(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ys(t,0,0,r)}function C9(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function hd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zye=Ll(new RegExp("\\p{P}","u")),ls=Ll(/[A-Za-z]/),Ua=Ll(/[\dA-Za-z]/),Jye=Ll(/[#-'*+\--9=?A-Z^-~]/);function cA(t){return t!==null&&(t<32||t===127)}const fA=Ll(/\d/),Yye=Ll(/[\dA-Fa-f]/),A9=Ll(/[!-/:-@[-`{-~]/);function cn(t){return t!==null&&t<-2}function Sa(t){return t!==null&&(t<0||t===32)}function Qn(t){return t===-2||t===-1||t===32}function Xye(t){return A9(t)||Zye(t)}const eve=Ll(/\s/);function Ll(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function hh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let o="";if(a===37&&Ua(t.charCodeAt(n+1))&&Ua(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=t.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Er(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Qn(l)?(t.enter(n),s(l)):e(l)}function s(l){return Qn(l)&&a++<i?(t.consume(l),s):(t.exit(n),e(l))}}const tve={tokenize:nve};function nve(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Er(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),a(s)}function a(s){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return cn(s)?(t.consume(s),t.exit("chunkText"),a):(t.consume(s),o)}}const rve={tokenize:ive},t4={tokenize:ave};function ive(t){const e=this,n=[];let r=0,i,a,o;return s;function s(A){if(r<n.length){const I=n[r];return e.containerState=I[1],t.attempt(I[0].continuation,l,c)(A)}return c(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const I=e.events.length;let M=I,D;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){D=e.events[M][1].end;break}x(r);let F=I;for(;F<e.events.length;)e.events[F][1].end=Object.assign({},D),F++;return ys(e.events,M+1,0,e.events.slice(I)),e.events.length=F,c(A)}return s(A)}function c(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(t4,h,p)(A)}function h(A){return i&&E(),x(r),m(A)}function p(A){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(A)}function m(A){return e.containerState={},t.attempt(t4,y,v)(A)}function y(A){return r++,n.push([e.currentConstruct,e.containerState]),m(A)}function v(A){if(A===null){i&&E(),x(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),w(A)}function w(A){if(A===null){S(t.exit("chunkFlow"),!0),x(0),t.consume(A);return}return cn(A)?(t.consume(A),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,s):(t.consume(A),w)}function S(A,I){const M=e.sliceStream(A);if(I&&M.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(M),e.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const F=e.events.length;let Q=F,Y,B;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){if(Y){B=e.events[Q][1].end;break}Y=!0}for(x(r),D=F;D<e.events.length;)e.events[D][1].end=Object.assign({},B),D++;ys(e.events,Q+1,0,e.events.slice(F)),e.events.length=D}}function x(A){let I=n.length;for(;I-- >A;){const M=n[I];e.containerState=M[1],M[0].exit.call(e,t)}n.length=A}function E(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function ave(t,e,n){return Er(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function n4(t){if(t===null||Sa(t)||eve(t))return 1;if(Xye(t))return 2}function tP(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const dA={name:"attention",tokenize:sve,resolveAll:ove};function ove(t,e){let n=-1,r,i,a,o,s,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);r4(p,-l),r4(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},t[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},t[r][1].end=Object.assign({},o.start),t[n][1].start=Object.assign({},s.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=fo(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=fo(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),c=fo(c,tP(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=fo(c,[["exit",a,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=fo(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,ys(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function sve(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=n4(r);let a;return o;function o(l){return a=l,t.enter("attentionSequence"),s(l)}function s(l){if(l===a)return t.consume(l),s;const c=t.exit("attentionSequence"),h=n4(l),p=!h||h===2&&i||n.includes(l),m=!i||i===2&&h||n.includes(r);return c._open=!!(a===42?p:p&&(i||!m)),c._close=!!(a===42?m:m&&(h||!p)),e(l)}}function r4(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const uve={name:"autolink",tokenize:lve};function lve(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return ls(y)?(t.consume(y),o):c(y)}function o(y){return y===43||y===45||y===46||Ua(y)?(r=1,s(y)):c(y)}function s(y){return y===58?(t.consume(y),r=0,l):(y===43||y===45||y===46||Ua(y))&&r++<32?(t.consume(y),s):(r=0,c(y))}function l(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||cA(y)?n(y):(t.consume(y),l)}function c(y){return y===64?(t.consume(y),h):Jye(y)?(t.consume(y),c):n(y)}function h(y){return Ua(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||Ua(y))&&r++<63){const v=y===45?m:p;return t.consume(y),v}return n(y)}}const cw={tokenize:cve,partial:!0};function cve(t,e,n){return r;function r(a){return Qn(a)?Er(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||cn(a)?e(a):n(a)}}const R9={name:"blockQuote",tokenize:fve,continuation:{tokenize:dve},exit:hve};function fve(t,e,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Qn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function dve(t,e,n){const r=this;return i;function i(o){return Qn(o)?Er(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return t.attempt(R9,e,n)(o)}}function hve(t){t.exit("blockQuote")}const P9={name:"characterEscape",tokenize:pve};function pve(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return A9(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const O9={name:"characterReference",tokenize:gve};function gve(t,e,n){const r=this;let i=0,a,o;return s;function s(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),l}function l(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,o=Ua,h(p))}function c(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=Yye,h):(t.enter("characterReferenceValue"),a=7,o=fA,h(p))}function h(p){if(p===59&&i){const m=t.exit("characterReferenceValue");return o===Ua&&!eP(r.sliceSerialize(m))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(p)&&i++<a?(t.consume(p),h):n(p)}}const i4={tokenize:yve,partial:!0},a4={name:"codeFenced",tokenize:mve,concrete:!0};function mve(t,e,n){const r=this,i={tokenize:M,partial:!0};let a=0,o=0,s;return l;function l(D){return c(D)}function c(D){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,s=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===s?(o++,t.consume(D),h):o<3?n(D):(t.exit("codeFencedFenceSequence"),Qn(D)?Er(t,p,"whitespace")(D):p(D))}function p(D){return D===null||cn(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(i4,w,I)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||cn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(D)):Qn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Er(t,y,"whitespace")(D)):D===96&&D===s?n(D):(t.consume(D),m)}function y(D){return D===null||cn(D)?p(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||cn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(D)):D===96&&D===s?n(D):(t.consume(D),v)}function w(D){return t.attempt(i,I,S)(D)}function S(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),x}function x(D){return a>0&&Qn(D)?Er(t,E,"linePrefix",a+1)(D):E(D)}function E(D){return D===null||cn(D)?t.check(i4,w,I)(D):(t.enter("codeFlowValue"),A(D))}function A(D){return D===null||cn(D)?(t.exit("codeFlowValue"),E(D)):(t.consume(D),A)}function I(D){return t.exit("codeFenced"),e(D)}function M(D,F,Q){let Y=0;return B;function B(ge){return D.enter("lineEnding"),D.consume(ge),D.exit("lineEnding"),Z}function Z(ge){return D.enter("codeFencedFence"),Qn(ge)?Er(D,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):ce(ge)}function ce(ge){return ge===s?(D.enter("codeFencedFenceSequence"),re(ge)):Q(ge)}function re(ge){return ge===s?(Y++,D.consume(ge),re):Y>=o?(D.exit("codeFencedFenceSequence"),Qn(ge)?Er(D,ue,"whitespace")(ge):ue(ge)):Q(ge)}function ue(ge){return ge===null||cn(ge)?(D.exit("codeFencedFence"),F(ge)):Q(ge)}}}function yve(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const r2={name:"codeIndented",tokenize:_ve},vve={tokenize:wve,partial:!0};function _ve(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Er(t,a,"linePrefix",5)(c)}function a(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):cn(c)?t.attempt(vve,o,l)(c):(t.enter("codeFlowValue"),s(c))}function s(c){return c===null||cn(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),s)}function l(c){return t.exit("codeIndented"),e(c)}}function wve(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):cn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Er(t,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(o):cn(o)?i(o):n(o)}}const bve={name:"codeText",tokenize:Eve,resolve:Sve,previous:xve};function Sve(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function xve(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Eve(t,e,n){let r=0,i,a;return o;function o(p){return t.enter("codeText"),t.enter("codeTextSequence"),s(p)}function s(p){return p===96?(t.consume(p),r++,s):(t.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),l):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):cn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||cn(p)?(t.exit("codeTextData"),l(p)):(t.consume(p),c)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",c(p))}}function I9(t){const e={};let n=-1,r,i,a,o,s,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Tve(t,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=t[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},t[i][1].start),s=t.slice(i,n),s.unshift(r),ys(t,i,n-i+1,s))}}return!c}function Tve(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],c={};let h,p,m=-1,y=n,v=0,w=0;const S=[w];for(;y;){for(;t[++i][1]!==y;);a.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(w=m+1,S.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),m=S.length;m--;){const x=s.slice(S[m],S[m+1]),E=a.pop();l.unshift([E,E+x.length-1]),ys(t,E,2,x)}for(m=-1;++m<l.length;)c[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return c}const Cve={tokenize:Pve,resolve:Rve},Ave={tokenize:Ove,partial:!0};function Rve(t){return I9(t),t}function Pve(t,e){let n;return r;function r(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):cn(s)?t.check(Ave,o,a)(s):(t.consume(s),i)}function a(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function o(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ove(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Er(t,a,"linePrefix")}function a(o){if(o===null||cn(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function L9(t,e,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return p;function p(x){return x===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(x),t.exit(a),m):x===null||x===32||x===41||cA(x)?n(x):(t.enter(r),t.enter(o),t.enter(s),t.enter("chunkString",{contentType:"string"}),w(x))}function m(x){return x===62?(t.enter(a),t.consume(x),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===62?(t.exit("chunkString"),t.exit(s),m(x)):x===null||x===60||cn(x)?n(x):(t.consume(x),x===92?v:y)}function v(x){return x===60||x===62||x===92?(t.consume(x),y):y(x)}function w(x){return!h&&(x===null||x===41||Sa(x))?(t.exit("chunkString"),t.exit(s),t.exit(o),t.exit(r),e(x)):h<c&&x===40?(t.consume(x),h++,w):x===41?(t.consume(x),h--,w):x===null||x===32||x===40||cA(x)?n(x):(t.consume(x),x===92?S:w)}function S(x){return x===40||x===41||x===92?(t.consume(x),w):w(x)}}function M9(t,e,n,r,i,a){const o=this;let s=0,l;return c;function c(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),h}function h(y){return s>999||y===null||y===91||y===93&&!l||y===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):cn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||cn(y)||s++>999?(t.exit("chunkString"),h(y)):(t.consume(y),l||(l=!Qn(y)),y===92?m:p)}function m(y){return y===91||y===92||y===93?(t.consume(y),s++,p):p(y)}}function D9(t,e,n,r,i,a){let o;return s;function s(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,l):n(m)}function l(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),c(m))}function c(m){return m===o?(t.exit(a),l(o)):m===null?n(m):cn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),Er(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===o||m===null||cn(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?p:h)}function p(m){return m===o||m===92?(t.consume(m),h):h(m)}}function qg(t,e){let n;return r;function r(i){return cn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Qn(i)?Er(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Ive={name:"definition",tokenize:Mve},Lve={tokenize:Dve,partial:!0};function Mve(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),o(y)}function o(y){return M9.call(r,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=hd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),l):n(y)}function l(y){return Sa(y)?qg(t,c)(y):c(y)}function c(y){return L9(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(Lve,p,p)(y)}function p(y){return Qn(y)?Er(t,m,"whitespace")(y):m(y)}function m(y){return y===null||cn(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function Dve(t,e,n){return r;function r(s){return Sa(s)?qg(t,i)(s):n(s)}function i(s){return D9(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Qn(s)?Er(t,o,"whitespace")(s):o(s)}function o(s){return s===null||cn(s)?e(s):n(s)}}const kve={name:"hardBreakEscape",tokenize:Nve};function Nve(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return cn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Fve={name:"headingAtx",tokenize:$ve,resolve:jve};function jve(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ys(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function $ve(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||Sa(h)?(t.exit("atxHeadingSequence"),s(h)):n(h)}function s(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||cn(h)?(t.exit("atxHeading"),e(h)):Qn(h)?Er(t,s,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),s(h))}function c(h){return h===null||h===35||Sa(h)?(t.exit("atxHeadingText"),s(h)):(t.consume(h),c)}}const Uve=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],o4=["pre","script","style","textarea"],Bve={name:"htmlFlow",tokenize:Vve,resolveTo:Hve,concrete:!0},qve={tokenize:Gve,partial:!0},zve={tokenize:Kve,partial:!0};function Hve(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Vve(t,e,n){const r=this;let i,a,o,s,l;return c;function c(H){return h(H)}function h(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),p}function p(H){return H===33?(t.consume(H),m):H===47?(t.consume(H),a=!0,w):H===63?(t.consume(H),i=3,r.interrupt?e:k):ls(H)?(t.consume(H),o=String.fromCharCode(H),S):n(H)}function m(H){return H===45?(t.consume(H),i=2,y):H===91?(t.consume(H),i=5,s=0,v):ls(H)?(t.consume(H),i=4,r.interrupt?e:k):n(H)}function y(H){return H===45?(t.consume(H),r.interrupt?e:k):n(H)}function v(H){const J="CDATA[";return H===J.charCodeAt(s++)?(t.consume(H),s===J.length?r.interrupt?e:ce:v):n(H)}function w(H){return ls(H)?(t.consume(H),o=String.fromCharCode(H),S):n(H)}function S(H){if(H===null||H===47||H===62||Sa(H)){const J=H===47,pe=o.toLowerCase();return!J&&!a&&o4.includes(pe)?(i=1,r.interrupt?e(H):ce(H)):Uve.includes(o.toLowerCase())?(i=6,J?(t.consume(H),x):r.interrupt?e(H):ce(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?E(H):A(H))}return H===45||Ua(H)?(t.consume(H),o+=String.fromCharCode(H),S):n(H)}function x(H){return H===62?(t.consume(H),r.interrupt?e:ce):n(H)}function E(H){return Qn(H)?(t.consume(H),E):B(H)}function A(H){return H===47?(t.consume(H),B):H===58||H===95||ls(H)?(t.consume(H),I):Qn(H)?(t.consume(H),A):B(H)}function I(H){return H===45||H===46||H===58||H===95||Ua(H)?(t.consume(H),I):M(H)}function M(H){return H===61?(t.consume(H),D):Qn(H)?(t.consume(H),M):A(H)}function D(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),l=H,F):Qn(H)?(t.consume(H),D):Q(H)}function F(H){return H===l?(t.consume(H),l=null,Y):H===null||cn(H)?n(H):(t.consume(H),F)}function Q(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Sa(H)?M(H):(t.consume(H),Q)}function Y(H){return H===47||H===62||Qn(H)?A(H):n(H)}function B(H){return H===62?(t.consume(H),Z):n(H)}function Z(H){return H===null||cn(H)?ce(H):Qn(H)?(t.consume(H),Z):n(H)}function ce(H){return H===45&&i===2?(t.consume(H),_e):H===60&&i===1?(t.consume(H),de):H===62&&i===4?(t.consume(H),ie):H===63&&i===3?(t.consume(H),k):H===93&&i===5?(t.consume(H),Ie):cn(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(qve,me,re)(H)):H===null||cn(H)?(t.exit("htmlFlowData"),re(H)):(t.consume(H),ce)}function re(H){return t.check(zve,ue,me)(H)}function ue(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),ge}function ge(H){return H===null||cn(H)?re(H):(t.enter("htmlFlowData"),ce(H))}function _e(H){return H===45?(t.consume(H),k):ce(H)}function de(H){return H===47?(t.consume(H),o="",fe):ce(H)}function fe(H){if(H===62){const J=o.toLowerCase();return o4.includes(J)?(t.consume(H),ie):ce(H)}return ls(H)&&o.length<8?(t.consume(H),o+=String.fromCharCode(H),fe):ce(H)}function Ie(H){return H===93?(t.consume(H),k):ce(H)}function k(H){return H===62?(t.consume(H),ie):H===45&&i===2?(t.consume(H),k):ce(H)}function ie(H){return H===null||cn(H)?(t.exit("htmlFlowData"),me(H)):(t.consume(H),ie)}function me(H){return t.exit("htmlFlow"),e(H)}}function Kve(t,e,n){const r=this;return i;function i(o){return cn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function Gve(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(cw,e,n)}}const Wve={name:"htmlText",tokenize:Qve};function Qve(t,e,n){const r=this;let i,a,o;return s;function s(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),l}function l(k){return k===33?(t.consume(k),c):k===47?(t.consume(k),M):k===63?(t.consume(k),A):ls(k)?(t.consume(k),Q):n(k)}function c(k){return k===45?(t.consume(k),h):k===91?(t.consume(k),a=0,v):ls(k)?(t.consume(k),E):n(k)}function h(k){return k===45?(t.consume(k),y):n(k)}function p(k){return k===null?n(k):k===45?(t.consume(k),m):cn(k)?(o=p,de(k)):(t.consume(k),p)}function m(k){return k===45?(t.consume(k),y):p(k)}function y(k){return k===62?_e(k):k===45?m(k):p(k)}function v(k){const ie="CDATA[";return k===ie.charCodeAt(a++)?(t.consume(k),a===ie.length?w:v):n(k)}function w(k){return k===null?n(k):k===93?(t.consume(k),S):cn(k)?(o=w,de(k)):(t.consume(k),w)}function S(k){return k===93?(t.consume(k),x):w(k)}function x(k){return k===62?_e(k):k===93?(t.consume(k),x):w(k)}function E(k){return k===null||k===62?_e(k):cn(k)?(o=E,de(k)):(t.consume(k),E)}function A(k){return k===null?n(k):k===63?(t.consume(k),I):cn(k)?(o=A,de(k)):(t.consume(k),A)}function I(k){return k===62?_e(k):A(k)}function M(k){return ls(k)?(t.consume(k),D):n(k)}function D(k){return k===45||Ua(k)?(t.consume(k),D):F(k)}function F(k){return cn(k)?(o=F,de(k)):Qn(k)?(t.consume(k),F):_e(k)}function Q(k){return k===45||Ua(k)?(t.consume(k),Q):k===47||k===62||Sa(k)?Y(k):n(k)}function Y(k){return k===47?(t.consume(k),_e):k===58||k===95||ls(k)?(t.consume(k),B):cn(k)?(o=Y,de(k)):Qn(k)?(t.consume(k),Y):_e(k)}function B(k){return k===45||k===46||k===58||k===95||Ua(k)?(t.consume(k),B):Z(k)}function Z(k){return k===61?(t.consume(k),ce):cn(k)?(o=Z,de(k)):Qn(k)?(t.consume(k),Z):Y(k)}function ce(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,re):cn(k)?(o=ce,de(k)):Qn(k)?(t.consume(k),ce):(t.consume(k),ue)}function re(k){return k===i?(t.consume(k),i=void 0,ge):k===null?n(k):cn(k)?(o=re,de(k)):(t.consume(k),re)}function ue(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Sa(k)?Y(k):(t.consume(k),ue)}function ge(k){return k===47||k===62||Sa(k)?Y(k):n(k)}function _e(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function de(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),fe}function fe(k){return Qn(k)?Er(t,Ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Ie(k)}function Ie(k){return t.enter("htmlTextData"),o(k)}}const nP={name:"labelEnd",tokenize:t_e,resolveTo:e_e,resolveAll:Xve},Zve={tokenize:n_e},Jve={tokenize:r_e},Yve={tokenize:i_e};function Xve(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function e_e(t,e){let n=t.length,r=0,i,a,o,s;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[o][1].end)},h={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[o-2][1].start)};return s=[["enter",l,e],["enter",c,e]],s=fo(s,t.slice(a+1,a+r+3)),s=fo(s,[["enter",h,e]]),s=fo(s,tP(e.parser.constructs.insideSpan.null,t.slice(a+r+4,o-3),e)),s=fo(s,[["exit",h,e],t[o-2],t[o-1],["exit",c,e]]),s=fo(s,t.slice(o+1)),s=fo(s,[["exit",l,e]]),ys(t,a,t.length,s),t}function t_e(t,e,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(m){return a?a._inactive?p(m):(o=r.parser.defined.includes(hd(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(Zve,h,o?h:p)(m):m===91?t.attempt(Jve,h,o?c:p)(m):o?h(m):p(m)}function c(m){return t.attempt(Yve,h,p)(m)}function h(m){return e(m)}function p(m){return a._balanced=!0,n(m)}}function n_e(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Sa(p)?qg(t,a)(p):a(p)}function a(p){return p===41?h(p):L9(t,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Sa(p)?qg(t,l)(p):h(p)}function s(p){return n(p)}function l(p){return p===34||p===39||p===40?D9(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function c(p){return Sa(p)?qg(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function r_e(t,e,n){const r=this;return i;function i(s){return M9.call(r,t,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(hd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(s):n(s)}function o(s){return n(s)}}function i_e(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const a_e={name:"labelStartImage",tokenize:o_e,resolveAll:nP.resolveAll};function o_e(t,e,n){const r=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),a}function a(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const s_e={name:"labelStartLink",tokenize:u_e,resolveAll:nP.resolveAll};function u_e(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const i2={name:"lineEnding",tokenize:l_e};function l_e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Er(t,e,"linePrefix")}}const D_={name:"thematicBreak",tokenize:c_e};function c_e(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||cn(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Qn(c)?Er(t,s,"whitespace")(c):s(c))}}const ya={name:"list",tokenize:h_e,continuation:{tokenize:p_e},exit:m_e},f_e={tokenize:y_e,partial:!0},d_e={tokenize:g_e,partial:!0};function h_e(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:fA(y)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(D_,n,c)(y):c(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(y)}return n(y)}function l(y){return fA(y)&&++o<10?(t.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),c(y)):n(y)}function c(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(cw,r.interrupt?n:h,t.attempt(f_e,m,p))}function h(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function p(y){return Qn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function p_e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(cw,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Er(t,e,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Qn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(d_e,e,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Er(t,t.attempt(ya,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function g_e(t,e,n){const r=this;return Er(t,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(a):n(a)}}function m_e(t){t.exit(this.containerState.type)}function y_e(t,e,n){const r=this;return Er(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Qn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const s4={name:"setextUnderline",tokenize:__e,resolveTo:v_e};function v_e(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=o,t.push(["exit",o,e]),t}function __e(t,e,n){const r=this;let i;return a;function a(c){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(t.consume(c),s):(t.exit("setextHeadingLineSequence"),Qn(c)?Er(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||cn(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const w_e={tokenize:b_e};function b_e(t){const e=this,n=t.attempt(cw,r,t.attempt(this.parser.constructs.flowInitial,i,Er(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Cve,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const S_e={resolveAll:N9()},x_e=k9("string"),E_e=k9("text");function k9(t){return{tokenize:e,resolveAll:N9(t==="text"?T_e:void 0)};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,o,s);return o;function o(h){return c(h)?a(h):s(h)}function s(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),a(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const p=i[h];let m=-1;if(p)for(;++m<p.length;){const y=p[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function N9(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function T_e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(s){const c={type:n===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function C_e(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const l={consume:E,enter:A,exit:I,attempt:F(M),check:F(D),interrupt:F(D,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:y,sliceSerialize:m,now:v,defineSkip:w,write:p};let h=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function p(Z){return o=fo(o,Z),S(),o[o.length-1]!==null?[]:(Q(e,0),c.events=tP(a,c.events,c),c.events)}function m(Z,ce){return R_e(y(Z),ce)}function y(Z){return A_e(o,Z)}function v(){const{line:Z,column:ce,offset:re,_index:ue,_bufferIndex:ge}=r;return{line:Z,column:ce,offset:re,_index:ue,_bufferIndex:ge}}function w(Z){i[Z.line]=Z.column,B()}function S(){let Z;for(;r._index<o.length;){const ce=o[r._index];if(typeof ce=="string")for(Z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Z&&r._bufferIndex<ce.length;)x(ce.charCodeAt(r._bufferIndex));else x(ce)}}function x(Z){h=h(Z)}function E(Z){cn(Z)?(r.line++,r.column=1,r.offset+=Z===-3?2:1,B()):Z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Z}function A(Z,ce){const re=ce||{};return re.type=Z,re.start=v(),c.events.push(["enter",re,c]),s.push(re),re}function I(Z){const ce=s.pop();return ce.end=v(),c.events.push(["exit",ce,c]),ce}function M(Z,ce){Q(Z,ce.from)}function D(Z,ce){ce.restore()}function F(Z,ce){return re;function re(ue,ge,_e){let de,fe,Ie,k;return Array.isArray(ue)?me(ue):"tokenize"in ue?me([ue]):ie(ue);function ie(Ae){return Je;function Je(Re){const Fe=Re!==null&&Ae[Re],Xe=Re!==null&&Ae.null,oe=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return me(oe)(Re)}}function me(Ae){return de=Ae,fe=0,Ae.length===0?_e:H(Ae[fe])}function H(Ae){return Je;function Je(Re){return k=Y(),Ie=Ae,Ae.partial||(c.currentConstruct=Ae),Ae.name&&c.parser.constructs.disable.null.includes(Ae.name)?pe():Ae.tokenize.call(ce?Object.assign(Object.create(c),ce):c,l,J,pe)(Re)}}function J(Ae){return Z(Ie,k),ge}function pe(Ae){return k.restore(),++fe<de.length?H(de[fe]):_e}}}function Q(Z,ce){Z.resolveAll&&!a.includes(Z)&&a.push(Z),Z.resolve&&ys(c.events,ce,c.events.length-ce,Z.resolve(c.events.slice(ce),c)),Z.resolveTo&&(c.events=Z.resolveTo(c.events,c))}function Y(){const Z=v(),ce=c.previous,re=c.currentConstruct,ue=c.events.length,ge=Array.from(s);return{restore:_e,from:ue};function _e(){r=Z,c.previous=ce,c.currentConstruct=re,c.events.length=ue,s=ge,B()}}function B(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function A_e(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,a)];else{if(o=t.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(t[i].slice(0,a))}return o}function R_e(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const P_e={42:ya,43:ya,45:ya,48:ya,49:ya,50:ya,51:ya,52:ya,53:ya,54:ya,55:ya,56:ya,57:ya,62:R9},O_e={91:Ive},I_e={[-2]:r2,[-1]:r2,32:r2},L_e={35:Fve,42:D_,45:[s4,D_],60:Bve,61:s4,95:D_,96:a4,126:a4},M_e={38:O9,92:P9},D_e={[-5]:i2,[-4]:i2,[-3]:i2,33:a_e,38:O9,42:dA,60:[uve,Wve],91:s_e,92:[kve,P9],93:nP,95:dA,96:bve},k_e={null:[dA,S_e]},N_e={null:[42,95]},F_e={null:[]},j_e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:N_e,contentInitial:O_e,disable:F_e,document:P_e,flow:L_e,flowInitial:I_e,insideSpan:k_e,string:M_e,text:D_e},Symbol.toStringTag,{value:"Module"}));function $_e(t){const n=Gye([j_e,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(tve),document:i(rve),flow:i(w_e),string:i(x_e),text:i(E_e)};return r;function i(a){return o;function o(s){return C_e(r,a,s)}}}function U_e(t){for(;!I9(t););return t}const u4=/[\0\t\n\r]/g;function B_e(){let t=1,e="",n=!0,r;return i;function i(a,o,s){const l=[];let c,h,p,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(u4.lastIndex=p,c=u4.exec(a),m=c&&c.index!==void 0?c.index:a.length,y=a.charCodeAt(m),!c){e=a.slice(p);break}if(y===10&&p===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<m&&(l.push(a.slice(p,m)),t+=m-p),y){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}p=m+1}return s&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const q_e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function z_e(t){return t.replace(q_e,H_e)}function H_e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return C9(n.slice(a?2:1),a?16:10)}return eP(n)||t}const F9={}.hasOwnProperty;function V_e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),K_e(n)(U_e($_e(n).document().write(B_e()(t,e,!0))))}function K_e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:a(ae),blockQuote:a(Fe),characterEscape:Y,characterReference:Y,codeFenced:a(Xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Xe,o),codeText:a(oe,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:a(z),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a($),hardBreakEscape:a(W),hardBreakTrailing:a(W),htmlFlow:a(he,o),htmlFlowData:Y,htmlText:a(he,o),htmlTextData:Y,image:a(ye),label:o,link:a(He),listItem:a(Ne),listItemValue:m,listOrdered:a(Te,p),listUnordered:a(Te),paragraph:a(tt),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(nt),thematicBreak:a(Bt)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:Re,autolinkProtocol:Je,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:Ae,codeFenced:l(S),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:B,codeIndented:l(x),codeText:l(ge),codeTextData:B,data:B,definition:l(),definitionDestinationString:I,definitionLabelString:E,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(ce),hardBreakTrailing:l(ce),htmlFlow:l(re),htmlFlowData:B,htmlText:l(ue),htmlTextData:B,image:l(de),label:Ie,labelText:fe,lineEnding:Z,link:l(_e),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:k,resourceTitleString:ie,resource:me,setextHeading:l(Q),setextHeadingLineSequence:F,setextHeadingText:D,strong:l(),thematicBreak:l()}};j9(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const X={stack:[Be],tokenStack:[],config:e,enter:s,exit:c,buffer:o,resume:h,data:n},q=[];let K=-1;for(;++K<Se.length;)if(Se[K][1].type==="listOrdered"||Se[K][1].type==="listUnordered")if(Se[K][0]==="enter")q.push(K);else{const V=q.pop();K=i(Se,V,K)}for(K=-1;++K<Se.length;){const V=e[Se[K][0]];F9.call(V,Se[K][1].type)&&V[Se[K][1].type].call(Object.assign({sliceSerialize:Se[K][2].sliceSerialize},X),Se[K][1])}if(X.tokenStack.length>0){const V=X.tokenStack[X.tokenStack.length-1];(V[1]||l4).call(X,void 0,V[0])}for(Be.position={start:tl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:tl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<e.transforms.length;)Be=e.transforms[K](Be)||Be;return Be}function i(Se,Be,X){let q=Be-1,K=-1,V=!1,je,Ze,ke,At;for(;++q<=X;){const Ot=Se[q];switch(Ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ot[0]==="enter"?K++:K--,At=void 0;break}case"lineEndingBlank":{Ot[0]==="enter"&&(je&&!At&&!K&&!ke&&(ke=q),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!K&&Ot[0]==="enter"&&Ot[1].type==="listItemPrefix"||K===-1&&Ot[0]==="exit"&&(Ot[1].type==="listUnordered"||Ot[1].type==="listOrdered")){if(je){let Dt=q;for(Ze=void 0;Dt--;){const Rt=Se[Dt];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Ze&&(Se[Ze][1].type="lineEndingBlank",V=!0),Rt[1].type="lineEnding",Ze=Dt}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}ke&&(!Ze||ke<Ze)&&(je._spread=!0),je.end=Object.assign({},Ze?Se[Ze][1].start:Ot[1].end),Se.splice(Ze||q,0,["exit",je,Ot[2]]),q++,X++}if(Ot[1].type==="listItemPrefix"){const Dt={type:"listItem",_spread:!1,start:Object.assign({},Ot[1].start),end:void 0};je=Dt,Se.splice(q,0,["enter",Dt,Ot[2]]),q++,X++,ke=void 0,At=!0}}}return Se[Be][1]._spread=V,X}function a(Se,Be){return X;function X(q){s.call(this,Se(q),q),Be&&Be.call(this,q)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Se,Be,X){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,X]),Se.position={start:tl(Be.start),end:void 0}}function l(Se){return Be;function Be(X){Se&&Se.call(this,X),c.call(this,X)}}function c(Se,Be){const X=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==Se.type&&(Be?Be.call(this,Se,q[0]):(q[1]||l4).call(this,Se,q[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Bg({start:Se.start,end:Se.end})+"): it’s not open");X.position.end=tl(Se.end)}function h(){return Vye(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function v(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function E(Se){const Be=this.resume(),X=this.stack[this.stack.length-1];X.label=Be,X.identifier=hd(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function I(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function M(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const X=this.sliceSerialize(Se).length;Be.depth=X}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(Se){const X=this.stack[this.stack.length-1].children;let q=X[X.length-1];(!q||q.type!=="text")&&(q=gt(),q.position={start:tl(Se.start),end:void 0},X.push(q)),this.stack.push(q)}function B(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=tl(Se.end)}function Z(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const X=Be.children[Be.children.length-1];X.position.end=tl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Be.type)&&(Y.call(this,Se),B.call(this,Se))}function ce(){this.data.atHardBreak=!0}function re(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function ue(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function ge(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function _e(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function de(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function fe(Se){const Be=this.sliceSerialize(Se),X=this.stack[this.stack.length-2];X.label=z_e(Be),X.identifier=hd(Be).toLowerCase()}function Ie(){const Se=this.stack[this.stack.length-1],Be=this.resume(),X=this.stack[this.stack.length-1];if(this.data.inReference=!0,X.type==="link"){const q=Se.children;X.children=q}else X.alt=Be}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function ie(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function me(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function J(Se){const Be=this.resume(),X=this.stack[this.stack.length-1];X.label=Be,X.identifier=hd(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function pe(Se){this.data.characterReferenceType=Se.type}function Ae(Se){const Be=this.sliceSerialize(Se),X=this.data.characterReferenceType;let q;X?(q=C9(Be,X==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=eP(Be);const K=this.stack.pop();K.value+=q,K.position.end=tl(Se.end)}function Je(Se){B.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Re(Se){B.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Fe(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function he(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Te(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Ne(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function Bt(){return{type:"thematicBreak"}}}function tl(t){return{line:t.line,column:t.column,offset:t.offset}}function j9(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?j9(t,r):G_e(t,r)}}function G_e(t,e){let n;for(n in e)if(F9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function l4(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bg({start:e.start,end:e.end})+") is still open")}function W_e(t){const e=this;e.parser=n;function n(r){return V_e(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Q_e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Z_e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function J_e(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Y_e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function X_e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e0e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=hh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let o,s=t.footnoteCounts.get(r);s===void 0?(s=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=a+1,s+=1,t.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function t0e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n0e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function $9(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function r0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return $9(t,e);const i={src:hh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function i0e(t,e){const n={src:hh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function a0e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function o0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return $9(t,e);const i={href:hh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function s0e(t,e){const n={href:hh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function u0e(t,e,n){const r=t.all(e),i=n?l0e(n):U9(e),a={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const h=r[s];(i||s!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return t.patch(e,c),t.applyData(e,c)}function l0e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=U9(n[r])}return e}function U9(t){const e=t.spread;return e??t.children.length>1}function c0e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function f0e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function d0e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function h0e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function p0e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=YR(e.children[1]),l=S9(e.children[e.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function g0e(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<s;){const p=e.children[l],m={},y=o?o[l]:void 0;y&&(m.align=y);let v={type:"element",tagName:a,properties:m,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function m0e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const c4=9,f4=32;function y0e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(d4(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(d4(e.slice(i),i>0,!1)),a.join("")}function d4(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===c4||a===f4;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===c4||a===f4;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function v0e(t,e){const n={type:"text",value:y0e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function _0e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const w0e={blockquote:Q_e,break:Z_e,code:J_e,delete:Y_e,emphasis:X_e,footnoteReference:e0e,heading:t0e,html:n0e,imageReference:r0e,image:i0e,inlineCode:a0e,linkReference:o0e,link:s0e,listItem:u0e,list:c0e,paragraph:f0e,root:d0e,strong:h0e,table:p0e,tableCell:m0e,tableRow:g0e,text:v0e,thematicBreak:_0e,toml:_v,yaml:_v,definition:_v,footnoteDefinition:_v};function _v(){}const B9=-1,fw=0,s0=1,u0=2,rP=3,iP=4,aP=5,oP=6,q9=7,z9=8,h4=typeof self=="object"?self:globalThis,b0e=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,o]=e[i];switch(a){case fw:case B9:return n(o,i);case s0:{const s=n([],i);for(const l of o)s.push(r(l));return s}case u0:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case rP:return n(new Date(o),i);case iP:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case aP:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case oP:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case q9:{const{name:s,message:l}=o;return n(new h4[s](l),i)}case z9:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new h4[a](o),i)};return r},p4=t=>b0e(new Map,t)(0),Zf="",{toString:S0e}={},{keys:x0e}=Object,dg=t=>{const e=typeof t;if(e!=="object"||!t)return[fw,e];const n=S0e.call(t).slice(8,-1);switch(n){case"Array":return[s0,Zf];case"Object":return[u0,Zf];case"Date":return[rP,Zf];case"RegExp":return[iP,Zf];case"Map":return[aP,Zf];case"Set":return[oP,Zf]}return n.includes("Array")?[s0,n]:n.includes("Error")?[q9,n]:[u0,n]},wv=([t,e])=>t===fw&&(e==="function"||e==="symbol"),E0e=(t,e,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=dg(o);switch(s){case fw:{let h=o;switch(l){case"bigint":s=z9,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([B9],o)}return i([s,h],o)}case s0:{if(l)return i([l,[...o]],o);const h=[],p=i([s,h],o);for(const m of o)h.push(a(m));return p}case u0:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());const h=[],p=i([s,h],o);for(const m of x0e(o))(t||!wv(dg(o[m])))&&h.push([a(m),a(o[m])]);return p}case rP:return i([s,o.toISOString()],o);case iP:{const{source:h,flags:p}=o;return i([s,{source:h,flags:p}],o)}case aP:{const h=[],p=i([s,h],o);for(const[m,y]of o)(t||!(wv(dg(m))||wv(dg(y))))&&h.push([a(m),a(y)]);return p}case oP:{const h=[],p=i([s,h],o);for(const m of o)(t||!wv(dg(m)))&&h.push(a(m));return p}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},g4=(t,{json:e,lossy:n}={})=>{const r=[];return E0e(!(e||n),!!e,new Map,r)(t),r},l0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?p4(g4(t,e)):structuredClone(t):(t,e)=>p4(g4(t,e));function T0e(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function C0e(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function A0e(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||T0e,r=t.options.footnoteBackLabel||C0e,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const h=t.all(c),p=String(c.identifier).toUpperCase(),m=hh(p.toLowerCase());let y=0;const v=[],w=t.footnoteCounts.get(p);for(;w!==void 0&&++y<=w;){v.length>0&&v.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,y);typeof E=="string"&&(E={type:"text",value:E}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const S=h[h.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const E=S.children[S.children.length-1];E&&E.type==="text"?E.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...v)}else h.push(...v);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(c,x),s.push(x)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...l0(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(s,!0)},{type:"text",value:`
`}]}}const H9=function(t){if(t==null)return I0e;if(typeof t=="function")return dw(t);if(typeof t=="object")return Array.isArray(t)?R0e(t):P0e(t);if(typeof t=="string")return O0e(t);throw new Error("Expected function, string, or object as test")};function R0e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=H9(t[n]);return dw(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function P0e(t){const e=t;return dw(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function O0e(t){return dw(e);function e(n){return n&&n.type===t}}function dw(t){return e;function e(n,r,i){return!!(L0e(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function I0e(){return!0}function L0e(t){return t!==null&&typeof t=="object"&&"type"in t}const V9=[],M0e=!0,m4=!1,D0e="skip";function k0e(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=H9(i),o=r?-1:1;s(t,void 0,[])();function s(l,c,h){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=V9,v,w,S;if((!e||a(l,c,h[h.length-1]||void 0))&&(y=N0e(n(l,h)),y[0]===m4))return y;if("children"in l&&l.children){const x=l;if(x.children&&y[0]!==D0e)for(w=(r?x.children.length:-1)+o,S=h.concat(x);w>-1&&w<x.children.length;){const E=x.children[w];if(v=s(E,w,S)(),v[0]===m4)return v;w=typeof v[1]=="number"?v[1]:w+o}}return y}}}function N0e(t){return Array.isArray(t)?t:typeof t=="number"?[M0e,t]:t==null?V9:[t]}function K9(t,e,n,r){let i,a,o;typeof e=="function"&&typeof n!="function"?(a=void 0,o=e,i=n):(a=e,o=n,i=r),k0e(t,a,s,i);function s(l,c){const h=c[c.length-1],p=h?h.children.indexOf(l):void 0;return o(l,p,h)}}const hA={}.hasOwnProperty,F0e={};function j0e(t,e){const n=e||F0e,r=new Map,i=new Map,a=new Map,o={...w0e,...n.handlers},s={all:c,applyData:U0e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:$0e,wrap:q0e};return K9(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();p.has(m)||p.set(m,h)}}),s;function l(h,p){const m=h.type,y=s.handlers[m];if(hA.call(s.handlers,m)&&y)return y(s,h,p);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in h){const{children:w,...S}=h,x=l0(S);return x.children=s.all(h),x}return l0(h)}return(s.options.unknownHandler||B0e)(s,h,p)}function c(h){const p=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const v=s.one(m[y],h);if(v){if(y&&m[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=y4(v.value)),!Array.isArray(v)&&v.type==="element")){const w=v.children[0];w&&w.type==="text"&&(w.value=y4(w.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function $0e(t,e){t.position&&(e.position=Aye(t))}function U0e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,l0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function B0e(t,e){const n=e.data||{},r="value"in e&&!(hA.call(n,"hProperties")||hA.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function q0e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function y4(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function v4(t,e){const n=j0e(t,e),r=n.one(t,void 0),i=A0e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function z0e(t,e){return t&&"run"in t?async function(n,r){const i=v4(n,e);await t.run(i,r)}:function(n){return v4(n,e||t)}}function _4(t){if(t)throw t}var a2,w4;function H0e(){if(w4)return a2;w4=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},a=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var h=t.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!p)return!1;var m;for(m in c);return typeof m>"u"||t.call(c,m)},o=function(c,h){n&&h.name==="__proto__"?n(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},s=function(c,h){if(h==="__proto__")if(t.call(c,h)){if(r)return r(c,h).value}else return;return c[h]};return a2=function l(){var c,h,p,m,y,v,w=arguments[0],S=1,x=arguments.length,E=!1;for(typeof w=="boolean"&&(E=w,w=arguments[1]||{},S=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});S<x;++S)if(c=arguments[S],c!=null)for(h in c)p=s(w,h),m=s(c,h),w!==m&&(E&&m&&(a(m)||(y=i(m)))?(y?(y=!1,v=p&&i(p)?p:[]):v=p&&a(p)?p:{},o(w,{name:h,newValue:l(E,v,m)})):typeof m<"u"&&o(w,{name:h,newValue:m}));return w},a2}var V0e=H0e();const o2=Dr(V0e);function pA(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function K0e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const h=t[++a];let p=-1;if(l){o(l);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,h?G0e(h,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function G0e(t,e){let n;return r;function r(...o){const s=t.length>o.length;let l;s&&o.push(i);try{l=t.apply(this,o)}catch(c){const h=c;if(s&&n)throw h;return i(h)}s||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,e(o,...s))}function a(o){i(null,o)}}const ts={basename:W0e,dirname:Q0e,extname:Z0e,join:J0e,sep:"/"};function W0e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Dm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,s=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(t.codePointAt(i)===e.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Q0e(t){if(Dm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Z0e(t){Dm(t);let e=t.length,n=-1,r=0,i=-1,a=0,o;for(;e--;){const s=t.codePointAt(e);if(s===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),s===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function J0e(...t){let e=-1,n;for(;++e<t.length;)Dm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Y0e(n)}function Y0e(t){Dm(t);const e=t.codePointAt(0)===47;let n=X0e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function X0e(t,e){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=t.length;){if(o<t.length)s=t.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Dm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ewe={cwd:twe};function twe(){return"/"}function gA(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function nwe(t){if(typeof t=="string")t=new URL(t);else if(!gA(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return rwe(t)}function rwe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const s2=["history","path","basename","stem","extname","dirname"];class G9{constructor(e){let n;e?gA(e)?n={path:e}:typeof e=="string"||iwe(e)?n={value:e}:n=e:n={},this.cwd=ewe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<s2.length;){const a=s2[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)s2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ts.basename(this.path):void 0}set basename(e){l2(e,"basename"),u2(e,"basename"),this.path=ts.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ts.dirname(this.path):void 0}set dirname(e){b4(this.basename,"dirname"),this.path=ts.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ts.extname(this.path):void 0}set extname(e){if(u2(e,"extname"),b4(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ts.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){gA(e)&&(e=nwe(e)),l2(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ts.basename(this.path,this.extname):void 0}set stem(e){l2(e,"stem"),u2(e,"stem"),this.path=ts.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new fa(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function u2(t,e){if(t&&t.includes(ts.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ts.sep+"`")}function l2(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function b4(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function iwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const awe=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(a,s,l)}return a},owe={}.hasOwnProperty;class sP extends awe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=K0e()}copy(){const e=new sP;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(o2(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(d2("data",this.frozen),this.namespace[e]=n,this):owe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(d2("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=bv(e),r=this.parser||this.Parser;return c2("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),c2("process",this.parser||this.Parser),f2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=bv(e),l=r.parse(s);r.run(l,s,function(h,p,m){if(h||!p||!m)return c(h);const y=p,v=r.stringify(y,m);lwe(v)?m.value=v:m.result=v,c(h,m)});function c(h,p){h||!p?o(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),c2("processSync",this.parser||this.Parser),f2("processSync",this.compiler||this.Compiler),this.process(e,i),x4("processSync","process",n),r;function i(a,o){n=!0,_4(a),r=o}}run(e,n,r){S4(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=bv(n);i.run(e,l,c);function c(h,p,m){const y=p||e;h?s(h):o?o(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),x4("runSync","run",r),i;function a(o,s){_4(o),i=s,r=!0}}stringify(e,n){this.freeze();const r=bv(n),i=this.compiler||this.Compiler;return f2("stringify",i),S4(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(d2("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?s(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...p]=c;l(h,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=o2(!0,i.settings,c.settings))}function s(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const p=c[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let p=-1,m=-1;for(;++p<r.length;)if(r[p][0]===c){m=p;break}if(m===-1)r.push([c,...h]);else if(h.length>0){let[y,...v]=h;const w=r[m][1];pA(w)&&pA(y)&&(y=o2(!0,w,y)),r[m]=[c,y,...v]}}}}const swe=new sP().freeze();function c2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function f2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function d2(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function S4(t){if(!pA(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function x4(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function bv(t){return uwe(t)?t:new G9(t)}function uwe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function lwe(t){return typeof t=="string"||cwe(t)}function cwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const fwe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E4=[],T4={allowDangerousHtml:!0},dwe=/^(https?|ircs?|mailto|xmpp)$/i,hwe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function pwe(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,a=t.components,o=t.disallowedElements,s=t.rehypePlugins||E4,l=t.remarkPlugins||E4,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...T4}:T4,h=t.skipHtml,p=t.unwrapDisallowed,m=t.urlTransform||gwe,y=swe().use(W_e).use(l).use(z0e,c).use(s),v=new G9;typeof r=="string"&&(v.value=r);for(const E of hwe)Object.hasOwn(t,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+fwe+E.id,void 0);const w=y.parse(v);let S=y.runSync(w,v);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),K9(S,x),Mye(S,{Fragment:ne.Fragment,components:a,ignoreInvalidStyle:!0,jsx:ne.jsx,jsxs:ne.jsxs,passKeys:!0,passNode:!0});function x(E,A,I){if(E.type==="raw"&&I&&typeof A=="number")return h?I.children.splice(A,1):I.children[A]={type:"text",value:E.value},A;if(E.type==="element"){let M;for(M in n2)if(Object.hasOwn(n2,M)&&Object.hasOwn(E.properties,M)){const D=E.properties[M],F=n2[M];(F===null||F.includes(E.tagName))&&(E.properties[M]=m(String(D||""),M,E))}}if(E.type==="element"){let M=e?!e.includes(E.tagName):o?o.includes(E.tagName):!1;if(!M&&n&&typeof A=="number"&&(M=!n(E,A,I)),M&&I&&typeof A=="number")return p&&E.children?I.children.splice(A,1,...E.children):I.children.splice(A,1),A}}}function gwe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||dwe.test(t.slice(0,e))?t:""}const mwe="_text_e0nft_1",ywe={text:mwe},vwe=`# About

WIP`,_we=()=>ne.jsx(pwe,{className:ywe.text,children:vwe}),wwe=()=>{const t=No(Kd),e=Vd();te.useEffect(()=>{if(t.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(t.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&e(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[t.isLoggedIn,e])},bwe="_spin_pafwh_9",Swe={spin:bwe},W9=({className:t,...e})=>ne.jsx(Tfe,{className:Pr(Swe.spin,t),...e}),am=(t,e)=>{const n=Ipe(t,e),r=Q9(t,e);return te.useMemo(()=>({isMember:n,...r}),[r,n])},Q9=(t,e)=>{const{isLoading:n,variables:r,store:i}=la({query:wpe,variables:te.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:nr}),a=r.publicTypeIndex??[],o=r.privateTypeIndex??[],s=r.inbox??[],l=r.hospexDocumentForCommunity??[],c=te.useMemo(()=>(r.hospexDocument??[]).map(v=>{var x;const w=i.getObjects(t,kd.member_of,v).map(({value:E})=>{var A;return{uri:E,name:(A=i.getObjects(E,kd.name,null)[0])==null?void 0:A.value}}),S=i.getObjects(t,Il.storage,v);return{hospexDocument:v,communities:w,storage:(x=S[0])==null?void 0:x.value}}),[i,t,r]),h=l.length>0?!0:n?void 0:!1,p=a.length>0?!0:n?void 0:!1,m=o.length>0?!0:n?void 0:!1,y=s.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:p,isPrivateTypeIndex:m,isInbox:y,personalHospexDocuments:l,publicTypeIndexes:a,privateTypeIndexes:o,inboxes:s,allHospex:c}},xwe=(t,e)=>{const n=te.useCallback(async()=>{if(!e)return"mailer not set up";const o=await nr(`${e}/status`);if(!o.ok)throw new Error("Network response was not ok");return o.json()},[e]),{isLoading:r,data:i}=bm({queryKey:["mailerIntegration"],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const a=i.integrations.filter(o=>o.object===t);return a.length===0?!1:a.some(o=>o.verified)?!0:"unverified"},Ewe=async(t,e)=>{if(!e)return"mailer not set up";const n=await nr(`${e}/status/${encodeURIComponent(t)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},Z9=(t,e)=>bm({queryKey:["simpleMailerIntegration"],queryFn:()=>Ewe(t,e)}),Twe=(t,e)=>{const{isLoading:n,data:r}=Z9(t,e);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var h2,C4;function Cwe(){if(C4)return h2;C4=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return h2=t,h2}var p2,A4;function Awe(){if(A4)return p2;A4=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return p2=t,p2}var g2,R4;function Rwe(){if(R4)return g2;R4=1;var t=X0(),e=Awe();function n(r,i){return i.length<2?r:t(r,e(i,0,-1))}return g2=n,g2}var m2,P4;function Pwe(){if(P4)return m2;P4=1;var t=ih(),e=Cwe(),n=Rwe(),r=ah();function i(a,o){return o=t(o,a),a=n(a,o),a==null||delete a[r(e(o))]}return m2=i,m2}var y2,O4;function Owe(){if(O4)return y2;O4=1;var t=$q();function e(n){return t(n)?void 0:n}return y2=e,y2}var v2,I4;function Iwe(){if(I4)return v2;I4=1;var t=nh(),e=K0(),n=qo(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return v2=i,v2}var _2,L4;function Lwe(){if(L4)return _2;L4=1;var t=AR(),e=Iwe();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=e),s||(s=[]);++l<c;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,o,s):t(s,h):o||(s[s.length]=h)}return s}return _2=n,_2}var w2,M4;function Mwe(){if(M4)return w2;M4=1;var t=Lwe();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return w2=e,w2}var b2,D4;function J9(){if(D4)return b2;D4=1;var t=Mwe(),e=qq(),n=zq();function r(i){return n(e(i,void 0,t),i+"")}return b2=r,b2}var S2,k4;function Dwe(){if(k4)return S2;k4=1;var t=Y0(),e=Zq(),n=Pwe(),r=ih(),i=ch(),a=Owe(),o=J9(),s=Qq(),l=1,c=2,h=4,p=o(function(m,y){var v={};if(m==null)return v;var w=!1;y=t(y,function(x){return x=r(x,m),w||(w=x.length>1),x}),i(m,s(m),v),w&&(v=e(v,l|c|h,a));for(var S=y.length;S--;)n(v,y[S]);return v});return S2=p,S2}var kwe=Dwe();const Y9=Dr(kwe);var x2,N4;function Nwe(){if(N4)return x2;N4=1;function t(e,n){return e<n}return x2=t,x2}var E2,F4;function Fwe(){if(F4)return E2;F4=1;var t=Vq(),e=FR(),n=Nwe();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return E2=r,E2}var jwe=Fwe();const $we=Dr(jwe),X9=t=>{var a;const[e,n]=Gq(t),[r]=Uwe(t),i=((a=e==null?void 0:e.storage)==null?void 0:a.map(o=>o["@id"]))??[];if(n.isFetched)return i[0]??r},Uwe=t=>{const[e,n]=te.useState([yi(t)]),[r,i]=te.useState(),a=age(e),o=te.useMemo(()=>a.map(l=>{var c,h;return(h=(c=l.data)==null?void 0:c.response)==null?void 0:h.headers.get("Link")}),[a]);te.useEffect(()=>{const l=o.findIndex(c=>c==null?void 0:c.includes(Xd.Storage));l>-1?i(e[l]):a.every(c=>c.isSuccess||c.isError)&&n(c=>{const h=$we(c,p=>p.length);if(h){const p=J8(h);if(!c.includes(p))return[...c,p]}return c})},[o,e,a]);const s=!a.every(l=>l.isSuccess||l.isError)||a.length<e.length;return[r,s]};function su(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function uP(t,e=[]){let n=[];function r(a,o){const s=te.createContext(o),l=n.length;n=[...n,o];const c=p=>{var x;const{scope:m,children:y,...v}=p,w=((x=m==null?void 0:m[t])==null?void 0:x[l])||s,S=te.useMemo(()=>v,Object.values(v));return ne.jsx(w.Provider,{value:S,children:y})};c.displayName=a+"Provider";function h(p,m){var w;const y=((w=m==null?void 0:m[t])==null?void 0:w[l])||s,v=te.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[c,h]}const i=()=>{const a=n.map(o=>te.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return te.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Bwe(i,...e)]}function Bwe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:c})=>{const p=l(a)[`__scope${c}`];return{...s,...p}},{});return te.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function j4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ez(...t){return e=>{let n=!1;const r=t.map(i=>{const a=j4(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():j4(t[i],null)}}}}function c0(...t){return te.useCallback(ez(...t),t)}var f0=te.forwardRef((t,e)=>{const{children:n,...r}=t,i=te.Children.toArray(n),a=i.find(zwe);if(a){const o=a.props.children,s=i.map(l=>l===a?te.Children.count(o)>1?te.Children.only(null):te.isValidElement(o)?o.props.children:null:l);return ne.jsx(mA,{...r,ref:e,children:te.isValidElement(o)?te.cloneElement(o,void 0,s):null})}return ne.jsx(mA,{...r,ref:e,children:n})});f0.displayName="Slot";var mA=te.forwardRef((t,e)=>{const{children:n,...r}=t;if(te.isValidElement(n)){const i=Vwe(n);return te.cloneElement(n,{...Hwe(r,n.props),ref:e?ez(e,i):i})}return te.Children.count(n)>1?te.Children.only(null):null});mA.displayName="SlotClone";var qwe=({children:t})=>ne.jsx(ne.Fragment,{children:t});function zwe(t){return te.isValidElement(t)&&t.type===qwe}function Hwe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Vwe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kwe(t){const e=t+"CollectionProvider",[n,r]=uP(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:w}=y,S=Ut.useRef(null),x=Ut.useRef(new Map).current;return ne.jsx(i,{scope:v,itemMap:x,collectionRef:S,children:w})};o.displayName=e;const s=t+"CollectionSlot",l=Ut.forwardRef((y,v)=>{const{scope:w,children:S}=y,x=a(s,w),E=c0(v,x.collectionRef);return ne.jsx(f0,{ref:E,children:S})});l.displayName=s;const c=t+"CollectionItemSlot",h="data-radix-collection-item",p=Ut.forwardRef((y,v)=>{const{scope:w,children:S,...x}=y,E=Ut.useRef(null),A=c0(v,E),I=a(c,w);return Ut.useEffect(()=>(I.itemMap.set(E,{ref:E,...x}),()=>void I.itemMap.delete(E))),ne.jsx(f0,{[h]:"",ref:A,children:S})});p.displayName=c;function m(y){const v=a(t+"CollectionConsumer",y);return Ut.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((I,M)=>x.indexOf(I.ref.current)-x.indexOf(M.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},m,r]}var yA=globalThis!=null&&globalThis.document?te.useLayoutEffect:()=>{},Gwe=Id.useId||(()=>{}),Wwe=0;function tz(t){const[e,n]=te.useState(Gwe());return yA(()=>{t||n(r=>r??String(Wwe++))},[t]),t||(e?`radix-${e}`:"")}var Qwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ph=Qwe.reduce((t,e)=>{const n=te.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?f0:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ne.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function lP(t){const e=te.useRef(t);return te.useEffect(()=>{e.current=t}),te.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nz({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Zwe({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:r,s=lP(n),l=te.useCallback(c=>{if(a){const p=typeof c=="function"?c(t):c;p!==t&&s(p)}else i(c)},[a,t,i,s]);return[o,l]}function Zwe({defaultProp:t,onChange:e}){const n=te.useState(t),[r]=n,i=te.useRef(r),a=lP(e);return te.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var Jwe=te.createContext(void 0);function rz(t){const e=te.useContext(Jwe);return t||e||"ltr"}var T2="rovingFocusGroup.onEntryFocus",Ywe={bubbles:!1,cancelable:!0},hw="RovingFocusGroup",[vA,iz,Xwe]=Kwe(hw),[ebe,az]=uP(hw,[Xwe]),[tbe,nbe]=ebe(hw),oz=te.forwardRef((t,e)=>ne.jsx(vA.Provider,{scope:t.__scopeRovingFocusGroup,children:ne.jsx(vA.Slot,{scope:t.__scopeRovingFocusGroup,children:ne.jsx(rbe,{...t,ref:e})})}));oz.displayName=hw;var rbe=te.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,m=te.useRef(null),y=c0(e,m),v=rz(a),[w=null,S]=nz({prop:o,defaultProp:s,onChange:l}),[x,E]=te.useState(!1),A=lP(c),I=iz(n),M=te.useRef(!1),[D,F]=te.useState(0);return te.useEffect(()=>{const Q=m.current;if(Q)return Q.addEventListener(T2,A),()=>Q.removeEventListener(T2,A)},[A]),ne.jsx(tbe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:te.useCallback(Q=>S(Q),[S]),onItemShiftTab:te.useCallback(()=>E(!0),[]),onFocusableItemAdd:te.useCallback(()=>F(Q=>Q+1),[]),onFocusableItemRemove:te.useCallback(()=>F(Q=>Q-1),[]),children:ne.jsx(ph.div,{tabIndex:x||D===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:su(t.onMouseDown,()=>{M.current=!0}),onFocus:su(t.onFocus,Q=>{const Y=!M.current;if(Q.target===Q.currentTarget&&Y&&!x){const B=new CustomEvent(T2,Ywe);if(Q.currentTarget.dispatchEvent(B),!B.defaultPrevented){const Z=I().filter(_e=>_e.focusable),ce=Z.find(_e=>_e.active),re=Z.find(_e=>_e.id===w),ge=[ce,re,...Z].filter(Boolean).map(_e=>_e.ref.current);lz(ge,h)}}M.current=!1}),onBlur:su(t.onBlur,()=>E(!1))})})}),sz="RovingFocusGroupItem",uz=te.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,s=tz(),l=a||s,c=nbe(sz,n),h=c.currentTabStopId===l,p=iz(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=c;return te.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),ne.jsx(vA.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:ne.jsx(ph.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:su(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:su(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:su(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=obe(v,c.orientation,c.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=p().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const E=x.indexOf(v.currentTarget);x=c.loop?sbe(x,E+1):x.slice(E+1)}setTimeout(()=>lz(x))}})})})});uz.displayName=sz;var ibe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function abe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function obe(t,e,n){const r=abe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ibe[r]}function lz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sbe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ube=oz,lbe=uz;function cbe(t,e){return te.useReducer((n,r)=>e[n][r]??n,t)}var cz=t=>{const{present:e,children:n}=t,r=fbe(e),i=typeof n=="function"?n({present:r.isPresent}):te.Children.only(n),a=c0(r.ref,dbe(i));return typeof n=="function"||r.isPresent?te.cloneElement(i,{ref:a}):null};cz.displayName="Presence";function fbe(t){const[e,n]=te.useState(),r=te.useRef({}),i=te.useRef(t),a=te.useRef("none"),o=t?"mounted":"unmounted",[s,l]=cbe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return te.useEffect(()=>{const c=Sv(r.current);a.current=s==="mounted"?c:"none"},[s]),yA(()=>{const c=r.current,h=i.current;if(h!==t){const m=a.current,y=Sv(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),yA(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=y=>{const w=Sv(r.current).includes(y.animationName);if(y.target===e&&w&&(l("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=y=>{y.target===e&&(a.current=Sv(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:te.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Sv(t){return(t==null?void 0:t.animationName)||"none"}function dbe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cP="Tabs",[hbe,rOe]=uP(cP,[az]),fz=az(),[pbe,fP]=hbe(cP),dz=te.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,h=rz(s),[p,m]=nz({prop:r,onChange:i,defaultProp:a});return ne.jsx(pbe,{scope:n,baseId:tz(),value:p,onValueChange:m,orientation:o,dir:h,activationMode:l,children:ne.jsx(ph.div,{dir:h,"data-orientation":o,...c,ref:e})})});dz.displayName=cP;var hz="TabsList",pz=te.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=fP(hz,n),o=fz(n);return ne.jsx(ube,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:ne.jsx(ph.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});pz.displayName=hz;var gz="TabsTrigger",mz=te.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=fP(gz,n),s=fz(n),l=_z(o.baseId,r),c=wz(o.baseId,r),h=r===o.value;return ne.jsx(lbe,{asChild:!0,...s,focusable:!i,active:h,children:ne.jsx(ph.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:su(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:su(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:su(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!i&&p&&o.onValueChange(r)})})})});mz.displayName=gz;var yz="TabsContent",vz=te.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,s=fP(yz,n),l=_z(s.baseId,r),c=wz(s.baseId,r),h=r===s.value,p=te.useRef(h);return te.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),ne.jsx(cz,{present:i||h,children:({present:m})=>ne.jsx(ph.div,{"data-state":h?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&a})})});vz.displayName=yz;function _z(t,e){return`${t}-trigger-${e}`}function wz(t,e){return`${t}-content-${e}`}var gbe=dz,mbe=pz,ybe=mz,vbe=vz,C2,$4;function _be(){if($4)return C2;$4=1;var t=QR(),e=ih(),n=W0(),r=po(),i=ah();function a(o,s,l,c){if(!r(o))return o;s=e(s,o);for(var h=-1,p=s.length,m=p-1,y=o;y!=null&&++h<p;){var v=i(s[h]),w=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(h!=m){var S=y[v];w=c?c(S,v,y):void 0,w===void 0&&(w=r(S)?S:n(s[h+1])?[]:{})}t(y,v,w),y=y[v]}return o}return C2=a,C2}var A2,U4;function wbe(){if(U4)return A2;U4=1;var t=X0(),e=_be(),n=ih();function r(i,a,o){for(var s=-1,l=a.length,c={};++s<l;){var h=a[s],p=t(i,h);o(p,h)&&e(c,n(h,i),p)}return c}return A2=r,A2}var R2,B4;function bbe(){if(B4)return R2;B4=1;var t=wbe(),e=DB();function n(r,i){return t(r,i,function(a,o){return e(r,o)})}return R2=n,R2}var P2,q4;function Sbe(){if(q4)return P2;q4=1;var t=bbe(),e=J9(),n=e(function(r,i){return r==null?{}:t(r,i)});return P2=n,P2}var xbe=Sbe();const Ebe=Dr(xbe),Tbe="_container_9yuh8_1",Cbe="_list_9yuh8_8",Abe="_trigger_9yuh8_13",Rbe="_connect_9yuh8_32",Pbe="_content_9yuh8_44",Obe="_taskList_9yuh8_54",Ibe="_storageOptions_9yuh8_60",Lbe="_option_9yuh8_63",fl={container:Tbe,list:Cbe,trigger:Abe,connect:Rbe,content:Pbe,taskList:Obe,storageOptions:Ibe,option:Lbe},Mbe={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Dbe={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},uf={schema:Mbe,shape:"https://example.com/Authorization",context:Dbe};let xv;const kbe=new Uint8Array(16);function Nbe(){if(!xv&&(xv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xv(kbe)}const Ri=[];for(let t=0;t<256;++t)Ri.push((t+256).toString(16).slice(1));function Fbe(t,e=0){return(Ri[t[e+0]]+Ri[t[e+1]]+Ri[t[e+2]]+Ri[t[e+3]]+"-"+Ri[t[e+4]]+Ri[t[e+5]]+"-"+Ri[t[e+6]]+Ri[t[e+7]]+"-"+Ri[t[e+8]]+Ri[t[e+9]]+"-"+Ri[t[e+10]]+Ri[t[e+11]]+Ri[t[e+12]]+Ri[t[e+13]]+Ri[t[e+14]]+Ri[t[e+15]]).toLowerCase()}const jbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z4={randomUUID:jbe};function Sl(t,e,n){if(z4.randomUUID&&!e&&!t)return z4.randomUUID();t=t||{};const r=t.random||(t.rng||Nbe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Fbe(r)}const $be=async({index:t,type:e,location:n})=>{const i=n.endsWith("/")?Mn.instanceContainer:Mn.instance,a=await ko(t,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${e}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new ms("Updating type registration failed.",a);const o=Sl(),s=await ko(t,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${o}>
          a solid:TypeRegistration;
          solid:forClass <${e}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new ms("Saving type registration failed.",s)},bz=()=>{const t=vi();return Ea({mutationFn:$be,onSuccess:(e,{index:n})=>{t.invalidateQueries({queryKey:["rdfDocument",n]})}}).mutateAsync},Ube=()=>{const t=Fo($pe),e=zo();return te.useCallback(async({webId:n,privateTypeIndex:r})=>{await t.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${Mn.InsertDeletePatch}>; <${Mn.inserts}> { <${n}> <${Mn.privateTypeIndex}> <${r}>. }.`;await e.mutateAsync({uri:n,patch:i})},[t,e])},Bbe=()=>{const{communityId:t}=Dn(),e=of(rw),n=xz(),r=Sz(),i=vu(t);return te.useCallback(async({uri:a,webId:o})=>{await e.mutateAsync({uri:a,subject:o,transform:s=>{s.memberOf??(s.memberOf=[]),s.memberOf.push({"@id":t}),s.storage2??(s.storage2={"@id":yi(a)}),s["@id"]??(s["@id"]=o)}});try{await n({webId:o,uri:yi(a)},{throwOnHttpError:!0})}catch{await r(yi(a),[{operation:"add",access:["Read"],agentGroups:i.groups,default:!0}])}},[i.groups,t,n,r,e])},Sz=()=>{const t=zo();return te.useCallback(async(e,n)=>{const r=await Ol(e),a=await(await ko(r)).text(),o=Y8(r,a),s=new N0({format:"N-Triples"});for(const c of n){c.agents??(c.agents=[]),c.agentGroups??(c.agentGroups=[]);const h=o.find(v=>{const w=new Set(c.access),S=new Set(v.modes);return w.size===S.size&&Array.from(w).every(x=>S.has(x))&&c.default?v.defaults.includes(e):v.defaults.length===0}),p=v=>{const w=new URL(v);return w.hash=Sl(),w.toString()},m=(h==null?void 0:h.url)??p(r),y=new Gr(m);s.addQuads(c.agentGroups.map(v=>new Po(y,new Gr(Sn.agentGroup),new Gr(v)))),s.addQuads(c.agents.map(v=>new Po(y,new Gr(Sn.agent),new Gr(v)))),h||(s.addQuads([new Po(y,new Gr(nf.type),new Gr(Sn.Authorization)),new Po(y,new Gr(Sn.accessTo),new Gr(e)),...c.access.map(v=>new Po(y,new Gr(Sn.mode),new Gr(Sn[v])))]),c.default&&s.addQuads([new Po(y,new Gr(Sn.default__workaround),new Gr(e))]))}const l=await new Promise((c,h)=>{s.end((p,m)=>{p?h(p):c(m)})});await t.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${l}
          } .`})},[t])},xz=()=>{const{communityId:t}=Dn(),e=Fo(uf),n=vu(t);return te.useCallback(async({uri:r,webId:i},a={})=>{const o=yi(r),s=await Ol(o);await e.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agent:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agentGroup:n.groups.map(l=>({"@id":l})),mode:[{"@id":Sn.Read}]}],...a})},[n.groups,e])},qbe=()=>{const t=Fo(rw),e=xz();return te.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=yi(n);await t.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await e({uri:n,webId:r})},[e,t])},zbe=()=>{const t=Fo(jpe),e=Fo(uf),n=zo();return te.useCallback(async({webId:r,publicTypeIndex:i})=>{await t.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await Ol(i);await e.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":Tl.Agent}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read}]}]});const o=`_:mutate a <${Mn.InsertDeletePatch}>; <${Mn.inserts}> { <${r}> <${Mn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:o})},[e,t,n])},Hbe=()=>{const t=oge(),e=Fo(uf),n=zo();return te.useCallback(async({webId:r,inbox:i})=>{await t.mutateAsync({uri:i});const a=await Ol(i);await e.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":Sn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${Mn.InsertDeletePatch}>; <${Mn.inserts}> { <${r}> <${iu.inbox}> <${i}>. }.`})},[e,t,n])},Vbe=()=>{const{emailNotificationsService:t,emailNotificationsIdentity:e}=Dn(),n=async s=>{if(!(await nr(`${t}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=vi(),{mutate:i}=Ea({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:["mailerIntegration"]})}}),a=te.useCallback(({webId:s,inbox:l,email:c})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:l,target:c})},[i]),o=of(uf);return te.useCallback(async({email:s,inbox:l,webId:c})=>{const h=await Ol(l);await o.mutateAsync({uri:h,subject:h+"#read",transform:p=>{p["@id"]=h+"#read",p.type={"@id":"Authorization"},p.agent=[{"@id":e}],p.accessTo=[{"@id":l}],p.default={"@id":l},p.mode=[{"@id":Sn.Read}]}}),a({email:s,inbox:l,webId:c})},[e,a,o])},Kbe=()=>{const{emailNotificationsService:t}=Dn(),e=async i=>{const a=await nr(`${t}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new ms("Sending verification email failed",a)},n=vi();return Ea({mutationFn:e,onSuccess:()=>{n.invalidateQueries({queryKey:["simpleMailerIntegration"]})}})},Gbe=()=>{const{emailNotificationsIdentity:t}=Dn(),e=of(uf),n=zo(),r=Sz();return te.useCallback(async({hospexDocument:a,webId:o,email:s})=>{const l=yi(a);await r(l,[{operation:"add",access:["Read"],agents:[t],default:!0}]);const c=l+"emailSettings-"+Sl(),h=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${o}> <${Tl.mbox}> "${s}". } .`;await n.mutateAsync({uri:c,patch:h});const p=await Ol(c);await e.mutateAsync({uri:p,subject:p+"#owner",transform:y=>{y["@id"]=p+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":o}],y.accessTo=[{"@id":c}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]}}),await e.mutateAsync({uri:p,subject:p+"#readWriteMailer",transform:y=>{y["@id"]=p+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":t}],y.accessTo=[{"@id":c}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write}]}});const m=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${o}> <${Xd.preferencesFile}> <${c}>. } .`;await n.mutateAsync({uri:a,patch:m})},[t,r,e,n])};var km=t=>t.type==="checkbox",sd=t=>t instanceof Date,aa=t=>t==null;const Ez=t=>typeof t=="object";var ui=t=>!aa(t)&&!Array.isArray(t)&&Ez(t)&&!sd(t),Tz=t=>ui(t)&&t.target?km(t.target)?t.target.checked:t.target.value:t,Wbe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Cz=(t,e)=>t.has(Wbe(e)),Nm=t=>Array.isArray(t)?t.filter(Boolean):[],ti=t=>t===void 0,$t=(t,e,n)=>{if(!e||!ui(t))return n;const r=Nm(e.split(/[,[\].]+?/)).reduce((i,a)=>aa(i)?i:i[a],t);return ti(r)||r===t?ti(t[e])?n:t[e]:r};const d0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Qbe=Ut.createContext(null),dP=()=>Ut.useContext(Qbe);var Az=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Mo.all&&(e._proxyFormState[o]=!r||Mo.all),n&&(n[o]=!0),t[o]}});return i},lo=t=>ui(t)&&!Object.keys(t).length,Rz=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return lo(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Mo.all))},k_=t=>Array.isArray(t)?t:[t],Pz=(t,e,n)=>n&&e?t===e:!t||!e||t===e||k_(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function hP(t){const e=Ut.useRef(t);e.current=t,Ut.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Zbe(t){const e=dP(),{control:n=e.control,disabled:r,name:i,exact:a}=t,[o,s]=Ut.useState(n._formState),l=Ut.useRef(!0),c=Ut.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Ut.useRef(i);return h.current=i,hP({disabled:r,next:p=>l.current&&Pz(h.current,p.name,a)&&Rz(p,c.current,n._updateFormState)&&s({...n._formState,...p}),subject:n._subjects.state}),Ut.useEffect(()=>{l.current=!0;const p=n._proxyFormState.isDirty&&n._getDirty();return p!==n._formState.isDirty&&n._subjects.state.next({isDirty:p}),c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),Az(o,n,c.current,!1)}var fs=t=>typeof t=="string",Oz=(t,e,n,r,i)=>fs(t)?(r&&e.watch.add(t),$t(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),$t(n,a))):(r&&(e.watchAll=!0),n),Jbe=t=>{const e=t.constructor&&t.constructor.prototype;return ui(e)&&e.hasOwnProperty("isPrototypeOf")},pP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ul(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(pP&&(t instanceof Blob||t instanceof FileList))&&(n||ui(t)))if(e=n?[]:{},!Array.isArray(t)&&!Jbe(t))e=t;else for(const r in t)e[r]=ul(t[r]);else return t;return e}function Ybe(t){const e=dP(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t,s=Ut.useRef(r);s.current=r,hP({disabled:a,subject:n._subjects.watch,next:h=>{Pz(s.current,h.name,o)&&c(ul(Oz(s.current,n._names,h.values||n._formValues,!1,i)))}});const[l,c]=Ut.useState(n._getWatch(r,i));return Ut.useEffect(()=>n._removeUnmounted()),l}function Xbe(t){const e=dP(),{name:n,control:r=e.control,shouldUnregister:i}=t,a=Cz(r._names.array,n),o=Ybe({control:r,name:n,defaultValue:$t(r._formValues,n,$t(r._defaultValues,n,t.defaultValue)),exact:!0}),s=Zbe({control:r,name:n}),l=Ut.useRef(r.register(n,{...t.rules,value:o}));return Ut.useEffect(()=>{const c=(h,p)=>{const m=$t(r._fields,h);m&&(m._f.mount=p)};return c(n,!0),()=>{const h=r._options.shouldUnregister||i;(a?h&&!r._stateFlags.action:h)?r.unregister(n):c(n,!1)}},[n,r,a,i]),{field:{name:n,value:o,onChange:Ut.useCallback(c=>l.current.onChange({target:{value:Tz(c),name:n},type:d0.CHANGE}),[n]),onBlur:Ut.useCallback(()=>l.current.onBlur({target:{value:$t(r._formValues,n),name:n},type:d0.BLUR}),[n,r]),ref:c=>{const h=$t(r._fields,n);h&&c&&(h._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:p=>c.setCustomValidity(p),reportValidity:()=>c.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$t(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!$t(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$t(s.touchedFields,n)},error:{enumerable:!0,get:()=>$t(s.errors,n)}})}}const e1e=t=>t.render(Xbe(t));var Iz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},gP=t=>/^\w*$/.test(t),Lz=t=>Nm(t.replace(/["|']|\]/g,"").split(/\.|\[/));function vr(t,e,n){let r=-1;const i=gP(e)?[e]:Lz(e),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let l=n;if(r!==o){const c=t[s];l=ui(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[s]=l,t=t[s]}return t}const _A=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=$t(t,r);if(i){const{_f:a,...o}=i;if(a&&e(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else ui(o)&&_A(o,e)}}};var H4=t=>({isOnSubmit:!t||t===Mo.onSubmit,isOnBlur:t===Mo.onBlur,isOnChange:t===Mo.onChange,isOnAll:t===Mo.all,isOnTouch:t===Mo.onTouched}),V4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),t1e=(t,e,n)=>{const r=Nm($t(t,n));return vr(r,"root",e[n]),vr(t,n,r),t},pd=t=>typeof t=="boolean",mP=t=>t.type==="file",gd=t=>typeof t=="function",h0=t=>{if(!pP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},N_=t=>fs(t)||Ut.isValidElement(t),yP=t=>t.type==="radio",p0=t=>t instanceof RegExp;const K4={value:!1,isValid:!1},G4={value:!0,isValid:!0};var Mz=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ti(t[0].attributes.value)?ti(t[0].value)||t[0].value===""?G4:{value:t[0].value,isValid:!0}:G4:K4}return K4};const W4={isValid:!1,value:null};var Dz=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,W4):W4;function Q4(t,e,n="validate"){if(N_(t)||Array.isArray(t)&&t.every(N_)||pd(t)&&!t)return{type:n,message:N_(t)?t:"",ref:e}}var Jf=t=>ui(t)&&!p0(t)?t:{value:t,message:""},Z4=async(t,e,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:h,max:p,pattern:m,validate:y,name:v,valueAsNumber:w,mount:S,disabled:x}=t._f,E=$t(e,v);if(!S||x)return{};const A=o?o[0]:a,I=ce=>{r&&A.reportValidity&&(A.setCustomValidity(pd(ce)?"":ce||""),A.reportValidity())},M={},D=yP(a),F=km(a),Q=D||F,Y=(w||mP(a))&&ti(a.value)&&ti(E)||h0(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,B=Iz.bind(null,v,n,M),Z=(ce,re,ue,ge=Zs.maxLength,_e=Zs.minLength)=>{const de=ce?re:ue;M[v]={type:ce?ge:_e,message:de,ref:a,...B(ce?ge:_e,de)}};if(i?!Array.isArray(E)||!E.length:s&&(!Q&&(Y||aa(E))||pd(E)&&!E||F&&!Mz(o).isValid||D&&!Dz(o).isValid)){const{value:ce,message:re}=N_(s)?{value:!!s,message:s}:Jf(s);if(ce&&(M[v]={type:Zs.required,message:re,ref:A,...B(Zs.required,re)},!n))return I(re),M}if(!Y&&(!aa(h)||!aa(p))){let ce,re;const ue=Jf(p),ge=Jf(h);if(!aa(E)&&!isNaN(E)){const _e=a.valueAsNumber||E&&+E;aa(ue.value)||(ce=_e>ue.value),aa(ge.value)||(re=_e<ge.value)}else{const _e=a.valueAsDate||new Date(E),de=k=>new Date(new Date().toDateString()+" "+k),fe=a.type=="time",Ie=a.type=="week";fs(ue.value)&&E&&(ce=fe?de(E)>de(ue.value):Ie?E>ue.value:_e>new Date(ue.value)),fs(ge.value)&&E&&(re=fe?de(E)<de(ge.value):Ie?E<ge.value:_e<new Date(ge.value))}if((ce||re)&&(Z(!!ce,ue.message,ge.message,Zs.max,Zs.min),!n))return I(M[v].message),M}if((l||c)&&!Y&&(fs(E)||i&&Array.isArray(E))){const ce=Jf(l),re=Jf(c),ue=!aa(ce.value)&&E.length>ce.value,ge=!aa(re.value)&&E.length<re.value;if((ue||ge)&&(Z(ue,ce.message,re.message),!n))return I(M[v].message),M}if(m&&!Y&&fs(E)){const{value:ce,message:re}=Jf(m);if(p0(ce)&&!E.match(ce)&&(M[v]={type:Zs.pattern,message:re,ref:a,...B(Zs.pattern,re)},!n))return I(re),M}if(y){if(gd(y)){const ce=await y(E,e),re=Q4(ce,A);if(re&&(M[v]={...re,...B(Zs.validate,re.message)},!n))return I(re.message),M}else if(ui(y)){let ce={};for(const re in y){if(!lo(ce)&&!n)break;const ue=Q4(await y[re](E,e),A,re);ue&&(ce={...ue,...B(re,ue.message)},I(ue.message),n&&(M[v]=ce))}if(!lo(ce)&&(M[v]={ref:A,...ce},!n))return M}}return I(!0),M};function n1e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ti(t)?r++:t[e[r++]];return t}function r1e(t){for(const e in t)if(!ti(t[e]))return!1;return!0}function Pi(t,e){const n=Array.isArray(e)?e:gP(e)?[e]:Lz(e),r=n.length===1?t:n1e(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(ui(r)&&lo(r)||Array.isArray(r)&&r1e(r))&&Pi(t,n.slice(0,-1)),t}function O2(){let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}}var g0=t=>aa(t)||!Ez(t);function Lc(t,e){if(g0(t)||g0(e))return t===e;if(sd(t)&&sd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(sd(a)&&sd(o)||ui(a)&&ui(o)||Array.isArray(a)&&Array.isArray(o)?!Lc(a,o):a!==o)return!1}}return!0}var kz=t=>t.type==="select-multiple",i1e=t=>yP(t)||km(t),I2=t=>h0(t)&&t.isConnected,Nz=t=>{for(const e in t)if(gd(t[e]))return!0;return!1};function m0(t,e={}){const n=Array.isArray(t);if(ui(t)||n)for(const r in t)Array.isArray(t[r])||ui(t[r])&&!Nz(t[r])?(e[r]=Array.isArray(t[r])?[]:{},m0(t[r],e[r])):aa(t[r])||(e[r]=!0);return e}function Fz(t,e,n){const r=Array.isArray(t);if(ui(t)||r)for(const i in t)Array.isArray(t[i])||ui(t[i])&&!Nz(t[i])?ti(e)||g0(n[i])?n[i]=Array.isArray(t[i])?m0(t[i],[]):{...m0(t[i])}:Fz(t[i],aa(e)?{}:e[i],n[i]):Lc(t[i],e[i])?delete n[i]:n[i]=!0;return n}var L2=(t,e)=>Fz(t,e,m0(e)),jz=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ti(t)?t:e?t===""?NaN:t&&+t:n&&fs(t)?new Date(t):r?r(t):t;function M2(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return mP(e)?e.files:yP(e)?Dz(t.refs).value:kz(e)?[...e.selectedOptions].map(({value:n})=>n):km(e)?Mz(t.refs).value:jz(ti(e.value)?t.ref.value:e.value,t)}var a1e=(t,e,n,r)=>{const i={};for(const a of t){const o=$t(e,a);o&&vr(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},hg=t=>ti(t)?t:p0(t)?t.source:ui(t)?p0(t.value)?t.value.source:t.value:t,o1e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function J4(t,e,n){const r=$t(t,n);if(r||gP(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=$t(e,a),s=$t(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var s1e=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,u1e=(t,e)=>!Nm($t(t,e)).length&&Pi(t,e);const l1e={mode:Mo.onSubmit,reValidateMode:Mo.onChange,shouldFocusError:!0};function c1e(t={},e){let n={...l1e,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=ui(n.defaultValues)||ui(n.values)?ul(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:ul(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:O2(),array:O2(),state:O2()},v=H4(n.mode),w=H4(n.reValidateMode),S=n.criteriaMode===Mo.all,x=W=>he=>{clearTimeout(p),p=window.setTimeout(W,he)},E=async W=>{if(m.isValid||W){const he=n.resolver?lo((await Y()).errors):await Z(a,!0);he!==i.isValid&&y.state.next({isValid:he})}},A=W=>m.isValidating&&y.state.next({isValidating:W}),I=(W,he=[],ye,He,Te=!0,Ne=!0)=>{if(He&&ye){if(l.action=!0,Ne&&Array.isArray($t(a,W))){const tt=ye($t(a,W),He.argA,He.argB);Te&&vr(a,W,tt)}if(Ne&&Array.isArray($t(i.errors,W))){const tt=ye($t(i.errors,W),He.argA,He.argB);Te&&vr(i.errors,W,tt),u1e(i.errors,W)}if(m.touchedFields&&Ne&&Array.isArray($t(i.touchedFields,W))){const tt=ye($t(i.touchedFields,W),He.argA,He.argB);Te&&vr(i.touchedFields,W,tt)}m.dirtyFields&&(i.dirtyFields=L2(o,s)),y.state.next({name:W,isDirty:re(W,he),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else vr(s,W,he)},M=(W,he)=>{vr(i.errors,W,he),y.state.next({errors:i.errors})},D=(W,he,ye,He)=>{const Te=$t(a,W);if(Te){const Ne=$t(s,W,ti(ye)?$t(o,W):ye);ti(Ne)||He&&He.defaultChecked||he?vr(s,W,he?Ne:M2(Te._f)):_e(W,Ne),l.mount&&E()}},F=(W,he,ye,He,Te)=>{let Ne=!1,tt=!1;const nt={name:W};if(!ye||He){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=re(),Ne=tt!==nt.isDirty);const gt=Lc($t(o,W),he);tt=$t(i.dirtyFields,W),gt?Pi(i.dirtyFields,W):vr(i.dirtyFields,W,!0),nt.dirtyFields=i.dirtyFields,Ne=Ne||m.dirtyFields&&tt!==!gt}if(ye){const gt=$t(i.touchedFields,W);gt||(vr(i.touchedFields,W,ye),nt.touchedFields=i.touchedFields,Ne=Ne||m.touchedFields&&gt!==ye)}return Ne&&Te&&y.state.next(nt),Ne?nt:{}},Q=(W,he,ye,He)=>{const Te=$t(i.errors,W),Ne=m.isValid&&pd(he)&&i.isValid!==he;if(t.delayError&&ye?(h=x(()=>M(W,ye)),h(t.delayError)):(clearTimeout(p),h=null,ye?vr(i.errors,W,ye):Pi(i.errors,W)),(ye?!Lc(Te,ye):Te)||!lo(He)||Ne){const tt={...He,...Ne&&pd(he)?{isValid:he}:{},errors:i.errors,name:W};i={...i,...tt},y.state.next(tt)}A(!1)},Y=async W=>await n.resolver(s,n.context,a1e(W||c.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),B=async W=>{const{errors:he}=await Y();if(W)for(const ye of W){const He=$t(he,ye);He?vr(i.errors,ye,He):Pi(i.errors,ye)}else i.errors=he;return he},Z=async(W,he,ye={valid:!0})=>{for(const He in W){const Te=W[He];if(Te){const{_f:Ne,...tt}=Te;if(Ne){const nt=c.array.has(Ne.name),gt=await Z4(Te,s,S,n.shouldUseNativeValidation,nt);if(gt[Ne.name]&&(ye.valid=!1,he))break;!he&&($t(gt,Ne.name)?nt?t1e(i.errors,gt,Ne.name):vr(i.errors,Ne.name,gt[Ne.name]):Pi(i.errors,Ne.name))}tt&&await Z(tt,he,ye)}}return ye.valid},ce=()=>{for(const W of c.unMount){const he=$t(a,W);he&&(he._f.refs?he._f.refs.every(ye=>!I2(ye)):!I2(he._f.ref))&&Ae(W)}c.unMount=new Set},re=(W,he)=>(W&&he&&vr(s,W,he),!Lc(ie(),o)),ue=(W,he,ye)=>Oz(W,c,{...l.mount?s:ti(he)?o:fs(W)?{[W]:he}:he},ye,he),ge=W=>Nm($t(l.mount?s:o,W,t.shouldUnregister?$t(o,W,[]):[])),_e=(W,he,ye={})=>{const He=$t(a,W);let Te=he;if(He){const Ne=He._f;Ne&&(!Ne.disabled&&vr(s,W,jz(he,Ne)),Te=h0(Ne.ref)&&aa(he)?"":he,kz(Ne.ref)?[...Ne.ref.options].forEach(tt=>tt.selected=Te.includes(tt.value)):Ne.refs?km(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Te)?!!Te.find(nt=>nt===tt.value):Te===tt.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!Te):Ne.refs.forEach(tt=>tt.checked=tt.value===Te):mP(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Te,Ne.ref.type||y.watch.next({name:W})))}(ye.shouldDirty||ye.shouldTouch)&&F(W,Te,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(W)},de=(W,he,ye)=>{for(const He in he){const Te=he[He],Ne=`${W}.${He}`,tt=$t(a,Ne);(c.array.has(W)||!g0(Te)||tt&&!tt._f)&&!sd(Te)?de(Ne,Te,ye):_e(Ne,Te,ye)}},fe=(W,he,ye={})=>{const He=$t(a,W),Te=c.array.has(W),Ne=ul(he);vr(s,W,Ne),Te?(y.array.next({name:W,values:s}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:W,dirtyFields:L2(o,s),isDirty:re(W,Ne)})):He&&!He._f&&!aa(Ne)?de(W,Ne,ye):_e(W,Ne,ye),V4(W,c)&&y.state.next({}),y.watch.next({name:W}),!l.mount&&e()},Ie=async W=>{const he=W.target;let ye=he.name;const He=$t(a,ye),Te=()=>he.type?M2(He._f):Tz(W);if(He){let Ne,tt;const nt=Te(),gt=W.type===d0.BLUR||W.type===d0.FOCUS_OUT,Bt=!o1e(He._f)&&!n.resolver&&!$t(i.errors,ye)&&!He._f.deps||s1e(gt,$t(i.touchedFields,ye),i.isSubmitted,w,v),Se=V4(ye,c,gt);vr(s,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(W),h&&h(0)):He._f.onChange&&He._f.onChange(W);const Be=F(ye,nt,gt,!1),X=!lo(Be)||Se;if(!gt&&y.watch.next({name:ye,type:W.type}),Bt)return m.isValid&&E(),X&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:q}=await Y([ye]),K=J4(i.errors,a,ye),V=J4(q,a,K.name||ye);Ne=V.error,ye=V.name,tt=lo(q)}else Ne=(await Z4(He,s,S,n.shouldUseNativeValidation))[ye],Ne?tt=!1:m.isValid&&(tt=await Z(a,!0));He._f.deps&&k(He._f.deps),Q(ye,tt,Ne,Be)}},k=async(W,he={})=>{let ye,He;const Te=k_(W);if(A(!0),n.resolver){const Ne=await B(ti(W)?W:Te);ye=lo(Ne),He=W?!Te.some(tt=>$t(Ne,tt)):ye}else W?(He=(await Promise.all(Te.map(async Ne=>{const tt=$t(a,Ne);return await Z(tt&&tt._f?{[Ne]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&E()):He=ye=await Z(a);return y.state.next({...!fs(W)||m.isValid&&ye!==i.isValid?{}:{name:W},...n.resolver||!W?{isValid:ye}:{},errors:i.errors,isValidating:!1}),he.shouldFocus&&!He&&_A(a,Ne=>Ne&&$t(i.errors,Ne),W?Te:c.mount),He},ie=W=>{const he={...o,...l.mount?s:{}};return ti(W)?he:fs(W)?$t(he,W):W.map(ye=>$t(he,ye))},me=(W,he)=>({invalid:!!$t((he||i).errors,W),isDirty:!!$t((he||i).dirtyFields,W),isTouched:!!$t((he||i).touchedFields,W),error:$t((he||i).errors,W)}),H=W=>{W&&k_(W).forEach(he=>Pi(i.errors,he)),y.state.next({errors:W?i.errors:{}})},J=(W,he,ye)=>{const He=($t(a,W,{_f:{}})._f||{}).ref;vr(i.errors,W,{...he,ref:He}),y.state.next({name:W,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},pe=(W,he)=>gd(W)?y.watch.subscribe({next:ye=>W(ue(void 0,he),ye)}):ue(W,he,!0),Ae=(W,he={})=>{for(const ye of W?k_(W):c.mount)c.mount.delete(ye),c.array.delete(ye),$t(a,ye)&&(he.keepValue||(Pi(a,ye),Pi(s,ye)),!he.keepError&&Pi(i.errors,ye),!he.keepDirty&&Pi(i.dirtyFields,ye),!he.keepTouched&&Pi(i.touchedFields,ye),!n.shouldUnregister&&!he.keepDefaultValue&&Pi(o,ye));y.watch.next({}),y.state.next({...i,...he.keepDirty?{isDirty:re()}:{}}),!he.keepIsValid&&E()},Je=(W,he={})=>{let ye=$t(a,W);const He=pd(he.disabled);return vr(a,W,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:W}},name:W,mount:!0,...he}}),c.mount.add(W),ye?He&&vr(s,W,he.disabled?void 0:$t(s,W,M2(ye._f))):D(W,!0,he.value),{...He?{disabled:he.disabled}:{},...n.shouldUseNativeValidation?{required:!!he.required,min:hg(he.min),max:hg(he.max),minLength:hg(he.minLength),maxLength:hg(he.maxLength),pattern:hg(he.pattern)}:{},name:W,onChange:Ie,onBlur:Ie,ref:Te=>{if(Te){Je(W,he),ye=$t(a,W);const Ne=ti(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,tt=i1e(Ne),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Ne):Ne===ye._f.ref)return;vr(a,W,{_f:{...ye._f,...tt?{refs:[...nt.filter(I2),Ne,...Array.isArray($t(o,W))?[{}]:[]],ref:{type:Ne.type,name:W}}:{ref:Ne}}}),D(W,!1,void 0,Ne)}else ye=$t(a,W,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||he.shouldUnregister)&&!(Cz(c.array,W)&&l.action)&&c.unMount.add(W)}}},Re=()=>n.shouldFocusError&&_A(a,W=>W&&$t(i.errors,W),c.mount),Fe=(W,he)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=ul(s);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Te,values:Ne}=await Y();i.errors=Te,He=Ne}else await Z(a);Pi(i.errors,"root"),lo(i.errors)?(y.state.next({errors:{}}),await W(He,ye)):(he&&await he({...i.errors},ye),Re()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lo(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Xe=(W,he={})=>{$t(a,W)&&(ti(he.defaultValue)?fe(W,$t(o,W)):(fe(W,he.defaultValue),vr(o,W,he.defaultValue)),he.keepTouched||Pi(i.touchedFields,W),he.keepDirty||(Pi(i.dirtyFields,W),i.isDirty=he.defaultValue?re(W,$t(o,W)):re()),he.keepError||(Pi(i.errors,W),m.isValid&&E()),y.state.next({...i}))},oe=(W,he={})=>{const ye=W||o,He=ul(ye),Te=W&&!lo(W)?He:o;if(he.keepDefaultValues||(o=ye),!he.keepValues){if(he.keepDirtyValues||r)for(const Ne of c.mount)$t(i.dirtyFields,Ne)?vr(Te,Ne,$t(s,Ne)):fe(Ne,$t(Te,Ne));else{if(pP&&ti(W))for(const Ne of c.mount){const tt=$t(a,Ne);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(h0(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}s=t.shouldUnregister?he.keepDefaultValues?ul(o):{}:He,y.array.next({values:Te}),y.watch.next({values:Te})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!m.isValid||!!he.keepIsValid,l.watch=!!t.shouldUnregister,y.state.next({submitCount:he.keepSubmitCount?i.submitCount:0,isDirty:he.keepDirty||he.keepDirtyValues?i.isDirty:!!(he.keepDefaultValues&&!Lc(W,o)),isSubmitted:he.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:he.keepDirty||he.keepDirtyValues?i.dirtyFields:he.keepDefaultValues&&W?L2(o,W):{},touchedFields:he.keepTouched?i.touchedFields:{},errors:he.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=(W,he)=>oe(gd(W)?W(s):W,he),$=(W,he={})=>{const ye=$t(a,W),He=ye&&ye._f;if(He){const Te=He.refs?He.refs[0]:He.ref;Te.focus&&(Te.focus(),he.shouldSelect&&Te.select())}},ae=W=>{i={...i,...W}};return gd(n.defaultValues)&&n.defaultValues().then(W=>{z(W,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Je,unregister:Ae,getFieldState:me,_executeSchema:Y,_focusError:Re,_getWatch:ue,_getDirty:re,_updateValid:E,_removeUnmounted:ce,_updateFieldArray:I,_getFieldArray:ge,_reset:oe,_updateFormState:ae,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return s},get _stateFlags(){return l},set _stateFlags(W){l=W},get _defaultValues(){return o},get _names(){return c},set _names(W){c=W},get _formState(){return i},set _formState(W){i=W},get _options(){return n},set _options(W){n={...n,...W}}},trigger:k,register:Je,handleSubmit:Fe,watch:pe,setValue:fe,getValues:ie,reset:z,resetField:Xe,clearErrors:H,unregister:Ae,setError:J,setFocus:$,getFieldState:me}}function bu(t={}){const e=Ut.useRef(),[n,r]=Ut.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:gd(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...c1e(t,()=>r(a=>({...a}))),formState:n});const i=e.current.control;return i._options=t,hP({subject:i._subjects.state,next:a=>{Rz(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Ut.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Ut.useEffect(()=>{t.values&&!Lc(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Ut.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=Az(n,i),e.current}const zg=({value:t,...e})=>{const[n,r]=te.useState(!1);return n?ne.jsxs(ne.Fragment,{children:[ne.jsx("input",{...e})," ",ne.jsx("button",{type:"button",onClick:()=>{r(!1)},children:ne.jsx(Am,{})})]}):ne.jsxs(ne.Fragment,{children:[t," ",ne.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:ne.jsx(iB,{})})]})},f1e=({onSuccess:t,isPublicTypeIndex:e,isPrivateTypeIndex:n,isInbox:r,webId:i,storage:a})=>{const o=zbe(),s=Ube(),l=Hbe(),{watch:c,register:h,handleSubmit:p}=bu({defaultValues:{publicTypeIndex:new URL("./settings/publicTypeIndex.ttl",a).toString(),privateTypeIndex:new URL("./settings/privateTypeIndex.ttl",a).toString(),inbox:new URL("./inbox/",a).toString()}}),m=p(async({publicTypeIndex:y,privateTypeIndex:v,inbox:w})=>{if(e===void 0||n===void 0||r===void 0)throw new Error("Something is not resolved (unexpected error)");e===!1&&await o({publicTypeIndex:y,webId:i}),n===!1&&await s({privateTypeIndex:v,webId:i}),r===!1&&await l({inbox:w,webId:i}),t()});return ne.jsxs("form",{onSubmit:m,children:[ne.jsx("div",{children:e?ne.jsx(ne.Fragment,{children:"Public type index is set up."}):ne.jsxs(ne.Fragment,{children:["Create public type index:"," ",ne.jsx(zg,{value:fd(c("publicTypeIndex"),a),...h("publicTypeIndex",{required:!0}),type:"url"})]})}),ne.jsx("div",{children:n?ne.jsx(ne.Fragment,{children:"Private type index is set up."}):ne.jsxs(ne.Fragment,{children:["Create private type index:"," ",ne.jsx(zg,{value:fd(c("privateTypeIndex"),a),...h("privateTypeIndex",{required:!0}),type:"url"})]})}),ne.jsx("div",{children:r?ne.jsx(ne.Fragment,{children:"Inbox is set up."}):ne.jsxs(ne.Fragment,{children:["Create inbox:"," ",ne.jsx(zg,{value:fd(c("inbox"),a),...h("inbox",{required:!0}),type:"url"})]})}),ne.jsx(hr,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:"Continue"})]})},d1e=()=>{const t=zo();return te.useCallback(async({person:e,group:n})=>{const r=`_:mutate a <${Mn.InsertDeletePatch}>;
        <${Mn.inserts}> { <${n}> <${Q8.hasMember}> <${e}>. } .`;await t.mutateAsync({uri:n,patch:r})},[t])},h1e=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Group",id:e}}),p1e=async({inbox:t,...e})=>{const n=await nr(t,{method:"POST",body:JSON.stringify(h1e(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new ms("Community inbox responded with error",n);const r=n.headers.get("location");return{...e,status:n.status,group:r}},g1e=()=>{const t=vi(),{mutateAsync:e}=Ea({mutationFn:p1e,onSuccess:async n=>{n.group&&await t.invalidateQueries({queryKey:["rdfDocument",Pl(n.group)]})}});return e},m1e=({onSuccess:t,isMember:e,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:a,communityId:o}=Dn(),s=li(),l=X9(s.webId??""),c=vu(o),h=d1e(),p=g1e(),m=qbe(),y=Bbe(),v=bz(),w=l&&`${l}hospex/${a}/card`,{handleSubmit:S,register:x,watch:E,setValue:A}=bu({defaultValues:{newHospexDocument:w}});te.useEffect(()=>{l&&A("newHospexDocument",`${l}hospex/${a}/card`)},[a,A,l]);const I=E("newHospexDocument");if(!l||!I)return ne.jsx(ne.Fragment,{children:"..."});const M=S(async({hospexDocument:D,newHospexDocument:F})=>{n||(r.length===0||D==="new"?(await m({uri:F,webId:s.webId,communityId:o}),await v({index:i,type:Il.PersonalHospexDocument,location:F})):await y({uri:D,webId:s.webId})),e||(c.inbox?await p({actor:s.webId,object:c.community,type:"Join",inbox:c.inbox}):await h({person:s.webId,group:c.groups[0]})),t()});return ne.jsxs("form",{onSubmit:M,children:[e?ne.jsxs("li",{children:["You are already a member of ",c.name||o]}):ne.jsxs("li",{children:["Join community ",c.name||o]}),!n&&r.length===0&&ne.jsxs("li",{children:["Setup hospex document and storage:"," ",ne.jsx(zg,{value:fd(I,l),...x("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&ne.jsxs("li",{children:[ne.jsx("legend",{children:"Setup hospex document and storage"}),ne.jsxs("fieldset",{className:fl.storageOptions,children:[ne.jsx("legend",{children:"You already seem to be a member of some hospitality exchange communities. Would you like to:"}),ne.jsxs("div",{className:fl.option,children:[ne.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...x("hospexDocument",{required:!0})})," ",ne.jsxs("label",{htmlFor:"new-hospex-document",children:["Set up new data for this community:",ne.jsx(zg,{...x("newHospexDocument",{required:!0}),value:fd(E("newHospexDocument"),l)})]})]}),ne.jsxs("div",{children:[ne.jsxs("legend",{children:["Or use data (profile, hosting offers, etc.) from one of your existing communities?"," ",ne.jsx("i",{children:"(Recommended for similar communities)"})]}),r.map(({hospexDocument:D,communities:F},Q)=>ne.jsxs("div",{className:fl.option,children:[ne.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${Q}`,value:D,...x("hospexDocument")})," ",ne.jsxs("label",{htmlFor:`hospexDocument-${Q}`,children:[F.map(Y=>Y.name??Y.uri).join(", ")," (",fd(D,l),")"]})]},D))]})]})]}),ne.jsx(hr,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:"Continue"})]})};var D2,Y4;function y1e(){if(Y4)return D2;Y4=1;var t=xB(),e=Y0(),n=kB(),r=TB(),i=jq(),a=Math.max;function o(s){if(!(s&&s.length))return[];var l=0;return s=t(s,function(c){if(i(c))return l=a(c.length,l),!0}),r(l,function(c){return e(s,n(c))})}return D2=o,D2}var k2,X4;function v1e(){if(X4)return k2;X4=1;var t=Bq(),e=Y0(),n=y1e();function r(i,a){if(!(i&&i.length))return[];var o=n(i);return a==null?o:e(o,function(s){return t(a,void 0,s)})}return k2=r,k2}var N2,e6;function _1e(){if(e6)return N2;e6=1;var t=Hq(),e=v1e(),n=t(function(r){var i=r.length,a=i>1?r[i-1]:void 0;return a=typeof a=="function"?(r.pop(),a):void 0,e(r,a)});return N2=n,N2}var w1e=_1e();const b1e=Dr(w1e),t6=async t=>{t=Pl(t);const e=await xR(t,nr);if(!e.ok)throw e.response?new ms(e.response.statusText,e.response):new Error("unexpected");return e},S1e=t=>{const e=Vg({queries:t.map(a=>({queryKey:["rdfDocument",a],queryFn:async()=>t6(a),enabled:!!a}))}),n=e.map(({data:a},o)=>{var w,S;const s=t[o],l=(w=a==null?void 0:a.response)==null?void 0:w.headers,c=l==null?void 0:l.get("link"),h=c?I8.parse(c):void 0,p=(S=h==null?void 0:h.rel("acl")[0])==null?void 0:S.uri,m=p&&s?new URL(p,s).toString():void 0,y=l==null?void 0:l.get("wac-allow"),v=y?ffe(y):void 0;return{resource:s,aclUri:m,effectivePermissions:v}}),r=Vg({queries:n.map(({aclUri:a,effectivePermissions:o})=>{var s;return{queryKey:["rdfDocument",a],queryFn:async()=>t6(a??""),enabled:!!a&&((s=o==null?void 0:o.user)==null?void 0:s.has("control"))}})}),i=r.map(({data:a,isError:o},s)=>{var c;const l=(c=n[s])==null?void 0:c.aclUri;return l&&typeof(a==null?void 0:a.rawData)=="string"&&!o?Y8(l,a.rawData):void 0});return{isLoading:e.some(a=>a.isLoading)||r.some(a=>a.isLoading),results:n.map((a,o)=>({effectivePermissions:a.effectivePermissions,acls:[{uri:a.aclUri,accesses:i[o]}]}))}},x1e=()=>{const t=li(),{communityId:e}=Dn(),{variables:n,isLoading:r}=la({query:bpe,variables:te.useMemo(()=>({person:t.webId?[t.webId]:void 0,community:[e]}),[t.webId,e]),fetch:nr}),i=n.hospexPreferencesFile,{results:a}=S1e(i??[]);return{results:b1e(i??[],a,(s,l)=>({url:s,permissions:l})),isLoading:r}},E1e=({onSuccess:t,isEmailNotifications:e,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?ne.jsx(T1e,{onSuccess:t,isEmailNotifications:n,hospexDocument:r}):e!=="unset"?ne.jsx(C1e,{onSuccess:t,isEmailNotifications:e,inbox:i}):ne.jsx(A1e,{onSuccess:t}),T1e=({onSuccess:t,isEmailNotifications:e,hospexDocument:n})=>{const{handleSubmit:r,register:i}=bu(),[a,o]=te.useState(!1),[s,l]=te.useState(!1),[c,h]=te.useState(),[p,m]=te.useState(0),y=Gbe(),v=Kbe(),{webId:w}=li(),{emailNotificationsIdentity:S,emailNotificationsService:x}=Dn(),{results:E}=x1e(),A=E.some(Q=>{var Y;return Q.url&&((Y=Q.permissions.acls[0].accesses)==null?void 0:Y.some(B=>B.agents.includes(S)&&(B.modes.includes("Write")||B.modes.includes("Append"))&&B.modes.includes("Read")))}),I=Z9(w,x);te.useEffect(()=>{if(p>0){const Q=setTimeout(()=>m(p-1),1e3);return()=>clearTimeout(Q)}},[p]);const M=r(async({email:Q})=>{l(!0);try{if(!n)throw new Error("no hospex document for community");e||(A||await y({hospexDocument:n,webId:w,email:Q}),await v.mutateAsync({email:Q}),o(!0),m(60),h(Q))}finally{l(!1)}}),D=vi(),F=()=>{D.invalidateQueries({queryKey:["simpleMailerIntegration"]})};return e?ne.jsxs("div",{children:[ne.jsx(Am,{}),"Your email notifications are set up.",ne.jsx(hr,{primary:!0,onClick:t,children:"Finish Setup"})]}):ne.jsxs("form",{onSubmit:M,children:[!e&&ne.jsxs("div",{children:[ne.jsxs("div",{children:["Enter your email address:"," ",ne.jsx("input",{required:!0,placeholder:"email address",...i("email"),type:"email",disabled:a}),ne.jsx(hr,{type:"submit",secondary:!0,disabled:s||p>0,children:p>0?ne.jsxs(ne.Fragment,{children:["Resend Confirmation Email in ",p,"s"]}):ne.jsx(ne.Fragment,{children:"Send Confirmation Email"})})]}),a&&!s&&ne.jsxs("div",{children:["A confirmation email has been sent to ",c,".",ne.jsx("br",{}),"Please check your inbox (and spam folder) and follow the instructions."]})]}),ne.jsxs(hr,{type:"button",primary:!0,disabled:!a||I.isRefetching,onClick:F,children:["Finish Setup ",I.isRefetching&&ne.jsx(W9,{})]})]})},C1e=({onSuccess:t,isEmailNotifications:e,inbox:n})=>{const r=Vbe(),{handleSubmit:i,register:a}=bu(),{webId:o}=li(),s=vi(),l=()=>{s.invalidateQueries({queryKey:["mailerIntegration"]})},c=i(({email:h})=>{r({email:h,webId:o,inbox:n})});return e===!0?ne.jsxs("div",{children:[ne.jsx(Am,{}),"Your email notifications are set up.",ne.jsx(hr,{primary:!0,onClick:t,children:"Finish Setup"})]}):ne.jsxs("form",{onSubmit:c,children:[!e&&ne.jsxs("div",{children:["Setup email notifications"," ",ne.jsx("input",{type:"email",placeholder:"Your email",...a("email"),required:!0}),ne.jsx(hr,{type:"submit",primary:!0,children:"Send Confirmation Email"})]}),e==="unverified"&&ne.jsxs("div",{children:["Please verify your email",ne.jsx(hr,{type:"button",primary:!0,onClick:l,children:"Finish Setup"})]})]})},A1e=({onSuccess:t})=>ne.jsxs("div",{children:[ne.jsx(Am,{})," Email notifications are not available for this community.",ne.jsx("div",{children:ne.jsx(hr,{primary:!0,onClick:t,children:"Finish Setup"})})]}),R1e=[["isPublicTypeIndex","isPrivateTypeIndex","isInbox"],["isMember","isHospexProfile"],["isEmailNotifications","isSimpleEmailNotifications"]],P1e=t=>{const e=R1e.map(o=>Ebe(t,o)).map(o=>Object.values(o).every(s=>s)),n=li(),r=X9(n.webId),i=Dn(),a=te.useMemo(()=>{var o;return[{title:"Prepare Pod",content:r&&n.webId?ne.jsx(f1e,{onSuccess:()=>t.onStepChange(1),isPublicTypeIndex:t.isPublicTypeIndex,isPrivateTypeIndex:t.isPrivateTypeIndex,isInbox:t.isInbox,storage:r,webId:n.webId}):null},{title:"Join Community",content:ne.jsx(m1e,{onSuccess:()=>t.onStepChange(2),isMember:t.isMember,isHospexProfile:t.isHospexProfile,allHospex:t.allHospex,publicTypeIndex:t.publicTypeIndexes[0]})},{title:"Set Up Notifications",content:ne.jsx(E1e,{isEmailNotifications:t.isEmailNotifications,isSimpleEmailNotifications:t.isSimpleEmailNotifications,hospexDocument:(o=t.allHospex.find(s=>s.communities.some(l=>l.uri===i.communityId)))==null?void 0:o.hospexDocument,inbox:t.inboxes[0],onSuccess:()=>{}})}]},[n.webId,i.communityId,t,r]);return r?ne.jsxs("div",{className:fl.container,children:[ne.jsx("h1",{children:"Setup"}),ne.jsxs(gbe,{value:String(t.step),onValueChange:o=>t.onStepChange(+o),children:[ne.jsx(mbe,{className:fl.list,loop:!1,children:a.map((o,s)=>ne.jsx(ybe,{className:Pr(fl.trigger,s<a.length-1&&fl.connect),value:String(s),disabled:!e.slice(0,s).every(l=>!!l),children:s+1},s))}),a.map((o,s)=>ne.jsxs(vbe,{value:String(s),className:fl.content,children:[ne.jsx("h2",{children:o.title}),o.content]},s))]})]}):ne.jsx(ne.Fragment,{children:"..."})},O1e="_checkingContainer_ormma_1",n6={checkingContainer:O1e},I1e=()=>{const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=Dn(),r=No(Kd),[i,a]=te.useState(0),o=am(r.webId??"",t??""),s=Y9(o,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","inboxes","allHospex"]),l=Twe(r.webId,n==="simple"?e:""),c=xwe(o.inboxes[0],n==="solid"?e:"");if(Object.values(o).every(m=>m)&&(c===!0||c==="unset")&&(l===!0||l==="unset"))return ne.jsx(R0,{});const p=Object.entries(s).filter(([,m])=>m===void 0).map(([m])=>m);return l===void 0&&p.push("isSimpleEmailNotifications"),c===void 0&&p.push("isEmailNotifications"),Object.values(o).some(m=>m===void 0)||l===void 0||c===void 0?ne.jsx(L1e,{...s,isEmailNotifications:c,isSimpleEmailNotifications:l}):ne.jsx(P1e,{...o,isSimpleEmailNotifications:l,isEmailNotifications:c,step:i,onStepChange:a})},L1e=t=>{const e=Object.entries(t).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:M1e(n),value:r}));return ne.jsxs("div",{className:n6.checkingContainer,children:[ne.jsx("h2",{children:"Checking your setup..."}),ne.jsx("p",{children:"We're verifying that everything is configured correctly."}),ne.jsx("ul",{className:n6.checklist,children:e.map(n=>ne.jsxs("li",{children:[n.value===!0?ne.jsx(Am,{}):n.value===!1?ne.jsx(bR,{}):n.value==="unverified"?ne.jsx(Cfe,{}):ne.jsx(W9,{})," ",n.label]},n.key))})]})},M1e=t=>t.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());var Ev={exports:{}},nl={},Tv={exports:{}},ao={},Cv={exports:{}},r6;function $z(){return r6||(r6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(p,m){return m.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function o(p){var m=p.offsetWidth<=0&&p.offsetHeight<=0;if(m&&!p.innerHTML)return!0;try{var y=window.getComputedStyle(p),v=y.getPropertyValue("display");return m?v!==r&&a(p,y):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(p){for(var m=p,y=p.getRootNode&&p.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function l(p,m){var y=p.nodeName.toLowerCase(),v=i.test(y)&&!p.disabled||y==="a"&&p.href||m;return v&&s(p)}function c(p){var m=p.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&l(p,!y)}function h(p){var m=[].slice.call(p.querySelectorAll("*"),0).reduce(function(y,v){return y.concat(v.shadowRoot?h(v.shadowRoot):[v])},[]);return m.filter(c)}t.exports=e.default}(Cv,Cv.exports)),Cv.exports}var i6;function D1e(){if(i6)return ao;i6=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.resetState=o,ao.log=s,ao.handleBlur=l,ao.handleFocus=c,ao.markForFocusLater=h,ao.returnFocus=p,ao.popWithoutFocus=m,ao.setupScopedFocus=y,ao.teardownScopedFocus=v;var t=$z(),e=n(t);function n(w){return w&&w.__esModule?w:{default:w}}var r=[],i=null,a=!1;function o(){r=[]}function s(){}function l(){a=!0}function c(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var w=(0,e.default)(i)[0]||i;w.focus()}},0)}}function h(){r.push(document.activeElement)}function p(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=null;try{r.length!==0&&(S=r.pop(),S.focus({preventScroll:w}));return}catch{console.warn(["You tried to return focus to",S,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(w){i=w,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function v(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return ao}var Av={exports:{}},a6;function k1e(){return a6||(a6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=$z(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?a(s.activeElement.shadowRoot):s.activeElement}function o(s,l){var c=(0,r.default)(s);if(!c.length){l.preventDefault();return}var h=void 0,p=l.shiftKey,m=c[0],y=c[c.length-1],v=a();if(s===v){if(!p)return;h=y}if(y===v&&!p&&(h=m),m===v&&p&&(h=y),h){l.preventDefault(),h.focus();return}var w=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=w!=null&&w[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var x=c.indexOf(v);if(x>-1&&(x+=p?-1:1),h=c[x],typeof h>"u"){l.preventDefault(),h=p?y:m,h.focus();return}l.preventDefault(),h.focus()}}t.exports=e.default}(Av,Av.exports)),Av.exports}var xo={},F2,o6;function N1e(){if(o6)return F2;o6=1;var t=function(){};return F2=t,F2}var Yo={},j2={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var s6;function F1e(){return s6||(s6=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(j2)),j2.exports}var u6;function vP(){if(u6)return Yo;u6=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.canUseDOM=Yo.SafeNodeList=Yo.SafeHTMLCollection=void 0;var t=F1e(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return Yo.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Yo.SafeNodeList=r.canUseDOM?window.NodeList:{},Yo.canUseDOM=r.canUseDOM,Yo.default=i,Yo}var l6;function Uz(){if(l6)return xo;l6=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.resetState=a,xo.log=o,xo.assertNodeList=s,xo.setElement=l,xo.validateElement=c,xo.hide=h,xo.show=p,xo.documentNotReadyOrSSRTesting=m;var t=N1e(),e=r(t),n=vP();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function o(){}function s(y,v){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function l(y){var v=y;if(typeof v=="string"&&n.canUseDOM){var w=document.querySelectorAll(v);s(w,v),v=w}return i=v||i,i}function c(y){var v=y||i;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(y){var v=!0,w=!1,S=void 0;try{for(var x=c(y)[Symbol.iterator](),E;!(v=(E=x.next()).done);v=!0){var A=E.value;A.setAttribute("aria-hidden","true")}}catch(I){w=!0,S=I}finally{try{!v&&x.return&&x.return()}finally{if(w)throw S}}}function p(y){var v=!0,w=!1,S=void 0;try{for(var x=c(y)[Symbol.iterator](),E;!(v=(E=x.next()).done);v=!0){var A=E.value;A.removeAttribute("aria-hidden")}}catch(I){w=!0,S=I}finally{try{!v&&x.return&&x.return()}finally{if(w)throw S}}}function m(){i=null}return xo}var _c={},c6;function j1e(){if(c6)return _c;c6=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.resetState=r,_c.log=i;var t={},e={};function n(c,h){c.classList.remove(h)}function r(){var c=document.getElementsByTagName("html")[0];for(var h in t)n(c,t[h]);var p=document.body;for(var m in e)n(p,e[m]);t={},e={}}function i(){}var a=function(h,p){return h[p]||(h[p]=0),h[p]+=1,p},o=function(h,p){return h[p]&&(h[p]-=1),p},s=function(h,p,m){m.forEach(function(y){a(p,y),h.add(y)})},l=function(h,p,m){m.forEach(function(y){o(p,y),p[y]===0&&h.remove(y)})};return _c.add=function(h,p){return s(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},_c.remove=function(h,p){return l(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},_c}var Yf={},f6;function Bz(){if(f6)return Yf;f6=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.log=r,Yf.resetState=i;function t(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var e=function a(){var o=this;t(this,a),this.register=function(s){o.openInstances.indexOf(s)===-1&&(o.openInstances.push(s),o.emit("register"))},this.deregister=function(s){var l=o.openInstances.indexOf(s);l!==-1&&(o.openInstances.splice(l,1),o.emit("deregister"))},this.subscribe=function(s){o.subscribers.push(s)},this.emit=function(s){o.subscribers.forEach(function(l){return l(s,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new e}return Yf.default=n,Yf}var pg={},d6;function $1e(){if(d6)return pg;d6=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.resetState=o,pg.log=s;var t=Bz(),e=n(t);function n(h){return h&&h.__esModule?h:{default:h}}var r=void 0,i=void 0,a=[];function o(){for(var h=[r,i],p=0;p<h.length;p++){var m=h[p];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function s(){console.log("bodyTrap ----------"),console.log(a.length);for(var h=[r,i],p=0;p<h.length;p++){var m=h[p],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function c(h,p){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=p,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(c),pg}var h6;function U1e(){return h6||(h6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(ue){for(var ge=1;ge<arguments.length;ge++){var _e=arguments[ge];for(var de in _e)Object.prototype.hasOwnProperty.call(_e,de)&&(ue[de]=_e[de])}return ue},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},i=function(){function ue(ge,_e){for(var de=0;de<_e.length;de++){var fe=_e[de];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ge,fe.key,fe)}}return function(ge,_e,de){return _e&&ue(ge.prototype,_e),de&&ue(ge,de),ge}}(),a=qd(),o=Jq(),s=M(o),l=D1e(),c=I(l),h=k1e(),p=M(h),m=Uz(),y=I(m),v=j1e(),w=I(v),S=vP(),x=M(S),E=Bz(),A=M(E);$1e();function I(ue){if(ue&&ue.__esModule)return ue;var ge={};if(ue!=null)for(var _e in ue)Object.prototype.hasOwnProperty.call(ue,_e)&&(ge[_e]=ue[_e]);return ge.default=ue,ge}function M(ue){return ue&&ue.__esModule?ue:{default:ue}}function D(ue,ge){if(!(ue instanceof ge))throw new TypeError("Cannot call a class as a function")}function F(ue,ge){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge&&(typeof ge=="object"||typeof ge=="function")?ge:ue}function Q(ue,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);ue.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,ge):ue.__proto__=ge)}var Y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},B=function(ge){return ge.code==="Tab"||ge.keyCode===9},Z=function(ge){return ge.code==="Escape"||ge.keyCode===27},ce=0,re=function(ue){Q(ge,ue);function ge(_e){D(this,ge);var de=F(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,_e));return de.setOverlayRef=function(fe){de.overlay=fe,de.props.overlayRef&&de.props.overlayRef(fe)},de.setContentRef=function(fe){de.content=fe,de.props.contentRef&&de.props.contentRef(fe)},de.afterClose=function(){var fe=de.props,Ie=fe.appElement,k=fe.ariaHideApp,ie=fe.htmlOpenClassName,me=fe.bodyOpenClassName,H=fe.parentSelector,J=H&&H().ownerDocument||document;me&&w.remove(J.body,me),ie&&w.remove(J.getElementsByTagName("html")[0],ie),k&&ce>0&&(ce-=1,ce===0&&y.show(Ie)),de.props.shouldFocusAfterRender&&(de.props.shouldReturnFocusAfterClose?(c.returnFocus(de.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),de.props.onAfterClose&&de.props.onAfterClose(),A.default.deregister(de)},de.open=function(){de.beforeOpen(),de.state.afterOpen&&de.state.beforeClose?(clearTimeout(de.closeTimer),de.setState({beforeClose:!1})):(de.props.shouldFocusAfterRender&&(c.setupScopedFocus(de.node),c.markForFocusLater()),de.setState({isOpen:!0},function(){de.openAnimationFrame=requestAnimationFrame(function(){de.setState({afterOpen:!0}),de.props.isOpen&&de.props.onAfterOpen&&de.props.onAfterOpen({overlayEl:de.overlay,contentEl:de.content})})}))},de.close=function(){de.props.closeTimeoutMS>0?de.closeWithTimeout():de.closeWithoutTimeout()},de.focusContent=function(){return de.content&&!de.contentHasFocus()&&de.content.focus({preventScroll:!0})},de.closeWithTimeout=function(){var fe=Date.now()+de.props.closeTimeoutMS;de.setState({beforeClose:!0,closesAt:fe},function(){de.closeTimer=setTimeout(de.closeWithoutTimeout,de.state.closesAt-Date.now())})},de.closeWithoutTimeout=function(){de.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},de.afterClose)},de.handleKeyDown=function(fe){B(fe)&&(0,p.default)(de.content,fe),de.props.shouldCloseOnEsc&&Z(fe)&&(fe.stopPropagation(),de.requestClose(fe))},de.handleOverlayOnClick=function(fe){de.shouldClose===null&&(de.shouldClose=!0),de.shouldClose&&de.props.shouldCloseOnOverlayClick&&(de.ownerHandlesClose()?de.requestClose(fe):de.focusContent()),de.shouldClose=null},de.handleContentOnMouseUp=function(){de.shouldClose=!1},de.handleOverlayOnMouseDown=function(fe){!de.props.shouldCloseOnOverlayClick&&fe.target==de.overlay&&fe.preventDefault()},de.handleContentOnClick=function(){de.shouldClose=!1},de.handleContentOnMouseDown=function(){de.shouldClose=!1},de.requestClose=function(fe){return de.ownerHandlesClose()&&de.props.onRequestClose(fe)},de.ownerHandlesClose=function(){return de.props.onRequestClose},de.shouldBeClosed=function(){return!de.state.isOpen&&!de.state.beforeClose},de.contentHasFocus=function(){return document.activeElement===de.content||de.content.contains(document.activeElement)},de.buildClassName=function(fe,Ie){var k=(typeof Ie>"u"?"undefined":r(Ie))==="object"?Ie:{base:Y[fe],afterOpen:Y[fe]+"--after-open",beforeClose:Y[fe]+"--before-close"},ie=k.base;return de.state.afterOpen&&(ie=ie+" "+k.afterOpen),de.state.beforeClose&&(ie=ie+" "+k.beforeClose),typeof Ie=="string"&&Ie?ie+" "+Ie:ie},de.attributesFromObject=function(fe,Ie){return Object.keys(Ie).reduce(function(k,ie){return k[fe+"-"+ie]=Ie[ie],k},{})},de.state={afterOpen:!1,beforeClose:!1},de.shouldClose=null,de.moveFromContentToOverlay=null,de}return i(ge,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(de,fe){this.props.isOpen&&!de.isOpen?this.open():!this.props.isOpen&&de.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!fe.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var de=this.props,fe=de.appElement,Ie=de.ariaHideApp,k=de.htmlOpenClassName,ie=de.bodyOpenClassName,me=de.parentSelector,H=me&&me().ownerDocument||document;ie&&w.add(H.body,ie),k&&w.add(H.getElementsByTagName("html")[0],k),Ie&&(ce+=1,y.hide(fe)),A.default.register(this)}},{key:"render",value:function(){var de=this.props,fe=de.id,Ie=de.className,k=de.overlayClassName,ie=de.defaultStyles,me=de.children,H=Ie?{}:ie.content,J=k?{}:ie.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},J,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ae=n({id:fe,ref:this.setContentRef,style:n({},H,this.props.style.content),className:this.buildClassName("content",Ie),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Je=this.props.contentElement(Ae,me);return this.props.overlayElement(pe,Je)}}]),ge}(a.Component);re.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},re.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(x.default),s.default.instanceOf(S.SafeHTMLCollection),s.default.instanceOf(S.SafeNodeList),s.default.arrayOf(s.default.instanceOf(x.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=re,t.exports=e.default}(Tv,Tv.exports)),Tv.exports}function qz(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function zz(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function Hz(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}qz.__suppressDeprecationWarning=!0;zz.__suppressDeprecationWarning=!0;Hz.__suppressDeprecationWarning=!0;function B1e(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=qz,e.componentWillReceiveProps=zz),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Hz;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;s.call(this,c,h,m)}}return t}const q1e=Object.freeze(Object.defineProperty({__proto__:null,polyfill:B1e},Symbol.toStringTag,{value:"Module"})),z1e=q5(q1e);var p6;function H1e(){if(p6)return nl;p6=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.bodyOpenClassName=nl.portalClassName=void 0;var t=Object.assign||function(Z){for(var ce=1;ce<arguments.length;ce++){var re=arguments[ce];for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&(Z[ue]=re[ue])}return Z},e=function(){function Z(ce,re){for(var ue=0;ue<re.length;ue++){var ge=re[ue];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(ce,ge.key,ge)}}return function(ce,re,ue){return re&&Z(ce.prototype,re),ue&&Z(ce,ue),ce}}(),n=qd(),r=S(n),i=$A(),a=S(i),o=Jq(),s=S(o),l=U1e(),c=S(l),h=Uz(),p=w(h),m=vP(),y=S(m),v=z1e;function w(Z){if(Z&&Z.__esModule)return Z;var ce={};if(Z!=null)for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&(ce[re]=Z[re]);return ce.default=Z,ce}function S(Z){return Z&&Z.__esModule?Z:{default:Z}}function x(Z,ce){if(!(Z instanceof ce))throw new TypeError("Cannot call a class as a function")}function E(Z,ce){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce&&(typeof ce=="object"||typeof ce=="function")?ce:Z}function A(Z,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);Z.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,ce):Z.__proto__=ce)}var I=nl.portalClassName="ReactModalPortal",M=nl.bodyOpenClassName="ReactModal__Body--open",D=m.canUseDOM&&a.default.createPortal!==void 0,F=function(ce){return document.createElement(ce)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function Y(Z){return Z()}var B=function(Z){A(ce,Z);function ce(){var re,ue,ge,_e;x(this,ce);for(var de=arguments.length,fe=Array(de),Ie=0;Ie<de;Ie++)fe[Ie]=arguments[Ie];return _e=(ue=(ge=E(this,(re=ce.__proto__||Object.getPrototypeOf(ce)).call.apply(re,[this].concat(fe))),ge),ge.removePortal=function(){!D&&a.default.unmountComponentAtNode(ge.node);var k=Y(ge.props.parentSelector);k&&k.contains(ge.node)?k.removeChild(ge.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},ge.portalRef=function(k){ge.portal=k},ge.renderPortal=function(k){var ie=Q(),me=ie(ge,r.default.createElement(c.default,t({defaultStyles:ce.defaultStyles},k)),ge.node);ge.portalRef(me)},ue),E(ge,_e)}return e(ce,[{key:"componentDidMount",value:function(){if(m.canUseDOM){D||(this.node=F("div")),this.node.className=this.props.portalClassName;var ue=Y(this.props.parentSelector);ue.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(ue){var ge=Y(ue.parentSelector),_e=Y(this.props.parentSelector);return{prevParent:ge,nextParent:_e}}},{key:"componentDidUpdate",value:function(ue,ge,_e){if(m.canUseDOM){var de=this.props,fe=de.isOpen,Ie=de.portalClassName;ue.portalClassName!==Ie&&(this.node.className=Ie);var k=_e.prevParent,ie=_e.nextParent;ie!==k&&(k.removeChild(this.node),ie.appendChild(this.node)),!(!ue.isOpen&&!fe)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var ue=this.portal.state,ge=Date.now(),_e=ue.isOpen&&this.props.closeTimeoutMS&&(ue.closesAt||ge+this.props.closeTimeoutMS);_e?(ue.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,_e-ge)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!D)return null;!this.node&&D&&(this.node=F("div"));var ue=Q();return ue(r.default.createElement(c.default,t({ref:this.portalRef,defaultStyles:ce.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(ue){p.setElement(ue)}}]),ce}(n.Component);return B.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(m.SafeHTMLCollection),s.default.instanceOf(m.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},B.defaultProps={isOpen:!1,portalClassName:I,bodyOpenClassName:M,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(ce,re){return r.default.createElement("div",ce,re)},contentElement:function(ce,re){return r.default.createElement("div",ce,re)}},B.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(B),nl.default=B,nl}var g6;function V1e(){return g6||(g6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=H1e(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,t.exports=e.default}(Ev,Ev.exports)),Ev.exports}var K1e=V1e();const Vz=Dr(K1e),G1e="_modal_zohdb_1",W1e="_overlay_zohdb_12",m6={modal:G1e,overlay:W1e};Vz.setAppElement("#root");const pw=({className:t,overlayClassName:e,...n})=>ne.jsx(Vz,{className:Pr(m6.modal,t),overlayClassName:Pr(m6.overlay,e),...n}),Q1e="_container_1buxd_1",Z1e="_content_1buxd_18",J1e="_podOptions_1buxd_18",Y1e="_tabs_1buxd_18",X1e="_tabContent_1buxd_38",eSe="_footer_1buxd_41",tSe="_email_1buxd_41",wc={container:Q1e,content:Z1e,podOptions:J1e,tabs:Y1e,tabContent:X1e,footer:eSe,email:tSe},$2=({issuer:t,registration:e,children:n})=>{const r=eh();return ne.jsx(Bfe,{secondary:!0,href:e,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(e0.setLastSelectedIssuer(t))},"data-cy":"pod-provider-signup-link",children:n??new URL(t).hostname})},nSe=()=>{const{oidcIssuers:t,communityId:e}=Dn(),r=vu(e).name||"SolidCouch";return te.useMemo(()=>[{id:"show-options",label:"Show me some providers!",content:ne.jsxs(ne.Fragment,{children:["Here are some Pod providers that work with ",r,":",ne.jsx("ul",{children:t.filter(a=>a.registration).map(a=>ne.jsx("li",{children:ne.jsx($2,{...a})},a.issuer))})]})},{id:"choose-for-me",label:"Choose for me!",content:ne.jsxs(ne.Fragment,{children:[ne.jsx($2,{...t.find(a=>a.recommended),children:"Get a Pod at solidcommunity.net 😉"}),ne.jsx("br",{}),"It is managed by the Solid community folks, and will be migrated to a"," ",ne.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer",children:"modern and open-source Solid server"}),"."]})},{id:"more-control",label:"I want more control",content:ne.jsxs(ne.Fragment,{children:[ne.jsxs("p",{children:["You can ",ne.jsx("b",{children:"host your Pod"}),". This will give you full control over your data. However, it's more complicated to set up, and requires maintenance. We recommend"," ",ne.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer",children:"Community Solid Server"}),"."]}),ne.jsx("p",{children:ne.jsxs("i",{children:["Read more about"," ",ne.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer",children:"running your own Solid server"}),"."]})}),ne.jsx("hr",{}),ne.jsxs("p",{children:["If you own a ",ne.jsx("b",{children:"domain name"}),", you can have your"," ",ne.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer",children:"WebID"})," ","on your domain. This gives you more control over your Solid identity."]}),ne.jsxs("p",{children:["Choose option ",ne.jsx("i",{children:'"Use my existing WebID to access my Pod"'})," with one of these providers:"]}),ne.jsx("ul",{children:t.filter(({server:a,registration:o})=>o&&a==="CSS").map(a=>ne.jsx("li",{children:ne.jsx($2,{...a})},a.issuer))}),ne.jsx("p",{children:"To complete the process, you must prove that the WebID on your domain belongs to you. Afterwards, the WebID must point to your Profile Document. (This may need more explanation.)"}),ne.jsx("p",{children:"Or use your domain to host your own Solid Pod."})]})}],[r,t])},rSe=()=>{var c;const[t,e]=te.useState(!1),[n,r]=te.useState(),{communityId:i}=Dn(),o=vu(i).name||"SolidCouch",s=h=>{r(h.target.value)},l=nSe();return ne.jsxs(ne.Fragment,{children:[ne.jsx(hr,{primary:!0,onClick:()=>e(!0),children:"Join"}),ne.jsx(pw,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>e(!1),children:ne.jsxs("div",{className:wc.container,children:[ne.jsxs("div",{className:wc.content,children:["To join ",o,", you need a"," ",ne.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer",children:"Solid Pod"}),".",ne.jsxs("div",{className:wc.podOptions,children:[ne.jsx("div",{className:wc.tabs,children:l.map(h=>ne.jsxs(te.Fragment,{children:[ne.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:s}),ne.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),ne.jsx("div",{className:wc.tabContent,children:ne.jsx("p",{children:(c=l.find(h=>h.id===n))==null?void 0:c.content})})]})]}),ne.jsxs("div",{className:wc.footer,children:["Do you have troubles joining?"," ",ne.jsx("a",{href:"https://matrix.to/#/#ohn:matrix.org",target:"_blank",rel:"noopener noreferrer",children:"Ask for help in our project spaces"})," ","or write us email to"," ",ne.jsx("i",{className:wc.email,children:'"support at solidcouch dot org"'})]})]})})]})},iSe=async t=>{const{data:e}=await Kq(t);return Zn.createLdoDataset(e).usingType(Oq).fromSubject(t).oidcIssuer.flatMap(r=>r["@id"]??[])},aSe=async t=>{try{const e=await iSe(t);if(e.length===0)throw new Error("OIDC issuer not found");return e[0]}catch{return t}},oSe=(t,e)=>{var r;const n=new URL(t);return(r=e.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},Kz=t=>{const e=t.trim();return e.startsWith("http")?e:`https://${e}`},sSe=(t,e)=>{const n=Kz(t);return oSe(n,e)??n},uSe=async(t,e)=>{const n=Kz(t),r=await aSe(n);return sSe(r,e)??r},lSe="_providers_kq9gh_1",cSe="_webIdForm_kq9gh_6",y6={providers:lSe,webIdForm:cSe},fSe=()=>{const{oidcIssuers:t,communityId:e}=Dn(),[n,r]=te.useState(!1),[i,a]=te.useState(!1),o=No(BU),s=t.some(v=>v.issuer===o),{register:l,handleSubmit:c}=bu({defaultValues:{webIdOrIssuer:s?"":o}}),h=eh(),p=vu(e),m=async v=>{const w=o??"";h(e0.setLastSelectedIssuer(v));try{await tY({oidcIssuer:v,redirectUrl:new URL("/",window.location.href).toString(),clientName:p.name||"SolidCouch",clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(S){h(e0.setLastSelectedIssuer(w)),S instanceof TypeError?alert(`We didn't succeed with redirecting to the issuer at ${v}.
Have you provided correct webId or OIDCIssuer? Or is it down?

Reason: ${S.message}

Error: ${S.toString()}`):alert(`Something went wrong.
Error: ${S}`)}},y=c(async({webIdOrIssuer:v})=>{try{const w=await uSe(v,t);await m(w)}catch(w){alert(`Something went wrong.
Error: ${w}`)}});return ne.jsxs(ne.Fragment,{children:[ne.jsx(hr,{secondary:!0,onClick:()=>r(!0),children:"Sign in"}),ne.jsx(pw,{isOpen:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>r(!1),children:ne.jsxs("div",{className:y6.providers,children:["Select your Solid identity provider",o&&ne.jsx(hr,{primary:!0,onClick:()=>m(o),"data-cy":"pod-provider-button",children:o.split("/").slice(2).filter(v=>v).join("/")}),t.filter(v=>v.issuer!==o).filter(v=>v.featured||i).map(({issuer:v})=>ne.jsx(hr,{secondary:!0,onClick:()=>m(v),children:new URL(v).hostname},v)),!i&&ne.jsx(hr,{tertiary:!0,onClick:()=>a(!0),children:"more"}),"or write your own Solid identity provider, or your webId",ne.jsxs("form",{className:y6.webIdForm,onSubmit:y,children:[ne.jsx("input",{type:"text",placeholder:"Your webId or provider",...l("webIdOrIssuer",{required:"required"})}),ne.jsx(hr,{primary:!0,type:"submit",children:"Continue"})]})]})})]})},dSe="_wrapper_1kkei_1",hSe="_mainDescription_1kkei_10",pSe="_pun_1kkei_16",gSe="_actions_1kkei_20",mSe="_logo_1kkei_30",ySe="_spacer_1kkei_35",vSe="_footer_1kkei_38",_Se="_footerInfo_1kkei_41",wSe="_attribution_1kkei_47",Js={wrapper:dSe,mainDescription:hSe,pun:pSe,actions:gSe,logo:mSe,spacer:ySe,footer:vSe,footerInfo:_Se,attribution:wSe},bSe=()=>{const{communityId:t}=Dn(),e=vu(t),n=te.useMemo(()=>ne.jsx(aB,{className:Js.logo,logo:e.logo[0],focusedLogo:e.logo[1]}),[e.logo]),r=te.useMemo(()=>e.pun?ne.jsx("section",{className:Js.pun,children:e.pun}):void 0,[e.pun]),i=te.useMemo(()=>e.about?ne.jsx("section",{className:Js.mainDescription,children:e.about}):null,[e.about]),a=r?ne.jsxs(ne.Fragment,{children:[r,n,i]}):ne.jsxs(ne.Fragment,{children:[i,n]});return ne.jsxs("div",{className:Js.wrapper,children:[a,ne.jsxs("section",{className:Js.actions,children:[ne.jsx(rSe,{}),ne.jsx(fSe,{})]}),ne.jsx("div",{className:Js.spacer}),ne.jsxs("footer",{className:Js.footer,children:[ne.jsx("div",{className:Js.footerInfo,children:"WIP"}),ne.jsxs("div",{className:Js.attribution,children:["Powered by ",ne.jsx("a",{href:"https://github.com/solidcouch",children:"SolidCouch"})]})]})]})},SSe=()=>{wwe();const t=No(Kd);return t.isLoggedIn===void 0?ne.jsx($o,{children:"Authenticating..."}):t.isLoggedIn===!1?ne.jsx(bSe,{}):ne.jsx(I1e,{})},xSe="_container_1ml33_1",ESe={container:xSe},_P=({webId:t,link:e})=>{const{communityId:n}=Dn(),[r]=jo(t,n),i=ne.jsxs("div",{className:ESe.container,children:[ne.jsx(U0,{photo:r.photo,size:1}),r==null?void 0:r.name]});return e?ne.jsx(Oo,{to:`/profile/${encodeURIComponent(t)}`,children:i}):i},Gz=t=>{const{quads:e,variables:n,isLoading:r}=la(te.useMemo(()=>({query:Epe,variables:{person:[t]},fetch}),[t])),i=te.useMemo(()=>{const s=new gs(e);return(n.otherPerson??[]).map(l=>{const c=Pl(l),h=s.getObjects(l,_R.seeAlso,c),p=s.getQuads(l,Tl.knows,t,c),m=h.flatMap(y=>s.getQuads(l,Tl.knows,t,y));return{webId:l,status:p.length+m.length>0?"confirmed":"request_sent"}})},[t,e,n.otherPerson]),[a,o]=TSe(t);return te.useMemo(()=>[i.concat(a),{isLoading:r},o],[r,i,o,a])},TSe=t=>{const{quads:e,variables:n,isLoading:r}=la(te.useMemo(()=>({query:Tpe,variables:{person:[t]},fetch}),[t])),i=te.useMemo(()=>{const a=n.inviteNotification??[],o=Zn.createLdoDataset(e).usingType(Lq);return a.map(s=>o.fromSubject(s)).filter(s=>{var l,c,h,p,m,y,v,w;return((c=(l=s.object)==null?void 0:l.subject)==null?void 0:c["@id"])===((h=s.actor)==null?void 0:h["@id"])&&((m=(p=s.object)==null?void 0:p.object)==null?void 0:m["@id"])===((y=s.target)==null?void 0:y["@id"])&&((w=(v=s.object)==null?void 0:v.relationship)==null?void 0:w["@id"])==="knows"}).map(s=>{var l;return{webId:(l=s.actor)==null?void 0:l["@id"],status:"request_received",notification:s["@id"],invitation:s.content2}})},[e,n.inviteNotification]);return te.useMemo(()=>[i,{isLoading:r}],[i,r])},CSe=()=>{const t=Wz(),e=Qz(),n=ASe();return te.useCallback(async({me:r,other:i,hospexContainer:a,inbox:o,message:s})=>{await t({me:r,other:i}),await n({inbox:o,me:r,other:i,message:s}),await e({person:i,hospexContainer:a})},[t,n,e])},ASe=()=>{const t=Fo(Lq);return te.useCallback(async({inbox:e,me:n,other:r,message:i})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[t])},RSe=()=>{const t=aw();return te.useCallback(async({notification:e})=>{await t.mutateAsync({uri:e})},[t])},PSe=()=>{const t=aw(),e=Wz(),n=Qz();return te.useCallback(async({me:r,other:i,notification:a,hospexContainer:o})=>{await e({me:r,other:i}),await t.mutateAsync({uri:a}),await n({person:i,hospexContainer:o})},[e,t,n])},Wz=()=>{const t=zo();return te.useCallback(async({me:e,other:n})=>{await t.mutateAsync({uri:e,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${e}> foaf:knows <${n}>.
          } .`})},[t])},Qz=()=>{const t=sge(uf);return te.useCallback(async({person:e,hospexContainer:n})=>{const r=await Ol(n);await t.mutateAsync({uri:r,match:i=>{const o=i.matchSubject(nf.type,Sn.Authorization).find(s=>{var l;return s.accessTo.length===1&&s.accessTo[0]["@id"]===n&&((l=s.mode)==null?void 0:l.length)===1&&s.mode[0]["@id"]==="Read"});if(!o)throw new Error("subject not found");return o},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":e})}})},[t])},OSe="_contact_axrjx_1",ISe="_status_axrjx_10",LSe="_contactList_axrjx_14",Ig={contact:OSe,status:ISe,contactList:LSe},MSe=({webId:t})=>{const e=li(),[n]=Gz(e.webId);if(!n)return ne.jsx($o,{children:"loading..."});const r=n.find(i=>i.webId===t);return r?r.status==="confirmed"?ne.jsx(ne.Fragment,{children:"Contact exists"}):r.status==="request_sent"?ne.jsx(ne.Fragment,{children:"Contact request sent"}):r.status==="request_received"?ne.jsx(Zz,{contact:r}):null:ne.jsx(DSe,{webId:t})},Zz=({contact:t,children:e})=>{const{communityId:n}=Dn(),[r,i]=te.useState(!1),a=li(),o=PSe(),s=RSe(),l=am(a.webId,n),c=async()=>{if(!a.webId)throw new Error("unauthenticated");const p=yi(l.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not set up (too soon?)");await o({me:a.webId,other:t.webId,notification:t.notification,hospexContainer:p}),i(!1)},h=async()=>{if(!a.webId)throw new Error("unauthenticated");await s({notification:t.notification}),i(!1)};return ne.jsxs(ne.Fragment,{children:[ne.jsx(hr,{primary:!0,onClick:()=>i(!0),children:e??"See contact invitation"}),ne.jsxs(pw,{isOpen:r,onRequestClose:()=>i(!1),children:[ne.jsx("div",{children:t.invitation}),ne.jsx(hr,{primary:!0,onClick:c,disabled:l.personalHospexDocuments.length===0,children:"Accept"}),ne.jsx(hr,{secondary:!0,onClick:h,children:"Ignore"})]})]})},DSe=({webId:t})=>{const{communityId:e}=Dn(),[n,r]=te.useState(!1),i=li(),a=CSe(),o=am(i.webId,e),s=am(t,e),l=async({invitation:h})=>{if(!i.webId)throw new Error("unauthenticated");const p=yi(o.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not found (too soon?)");const m=yi(s.inboxes[0]);if(!m)throw new Error("inbox not found (too soon?)");await a({me:i.webId,other:t,message:h,hospexContainer:p,inbox:m}),r(!1)},c=async()=>{r(!1)};return ne.jsxs(ne.Fragment,{children:[ne.jsx(hr,{secondary:!0,onClick:()=>{r(!0)},disabled:o.personalHospexDocuments.length===0||s.inboxes.length===0,children:"Add to my contacts"}),ne.jsx(pw,{isOpen:n,onRequestClose:()=>r(!1),children:ne.jsx(kSe,{onSubmit:l,onCancel:c})})]})},kSe=({onSubmit:t,onCancel:e})=>{const{register:n,handleSubmit:r}=bu({defaultValues:{invitation:"Hi! I'd like to add you as a contact!"}}),i=r(async a=>{await t(a)});return ne.jsxs("div",{children:[ne.jsx("h1",{children:"Add person as a contact"}),ne.jsx("div",{children:"Please invite only people you know personally."}),ne.jsxs("form",{onSubmit:i,onReset:e,children:[ne.jsx("textarea",{...n("invitation")}),ne.jsx(hr,{primary:!0,type:"submit",children:"Send contact invitation"}),ne.jsx(hr,{secondary:!0,type:"reset",children:"Cancel"})]})]})},NSe=()=>{const t=HA().id,e=li(),[n]=Gz(t);return e.webId?n?ne.jsxs("div",{children:[ne.jsxs("h1",{children:["Contacts of ",ne.jsx(_P,{webId:t,link:!0})]}),ne.jsx("ul",{className:Ig.contactList,"data-cy":"contact-list",children:n.filter(r=>t===e.webId||r.status==="confirmed").map(r=>ne.jsx("li",{children:ne.jsx(FSe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):ne.jsx($o,{children:"fetching contacts"}):ne.jsx($o,{children:"authenticating"})},FSe=({contact:t})=>ne.jsxs("div",{className:Ig.contact,"data-cy":"contact",children:[ne.jsx(_P,{webId:t.webId,link:!0}),ne.jsx("span",{className:Ig.spacer}),t.status==="request_sent"&&ne.jsx("span",{className:Ig.status,children:"pending"}),t.status==="request_received"&&ne.jsxs(ne.Fragment,{children:[ne.jsx(Zz,{contact:t,children:"process"}),ne.jsx("span",{className:Ig.status,children:"pending"})]})]}),ds=async(t,{success:e,error:n,pending:r},i)=>(Sr.promise(t,{success:e,error:n??{render:({data:a})=>ne.jsxs(ne.Fragment,{children:["Something went wrong",ne.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await t);var U2,v6;function jSe(){if(v6)return U2;v6=1;var t=Bo(),e=function(){return t.Date.now()};return U2=e,U2}var B2,_6;function $Se(){if(_6)return B2;_6=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return B2=e,B2}var q2,w6;function USe(){if(w6)return q2;w6=1;var t=$Se(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return q2=n,q2}var z2,b6;function BSe(){if(b6)return z2;b6=1;var t=USe(),e=po(),n=Om(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var p=a.test(c);return p||o.test(c)?s(c.slice(2),p?2:8):i.test(c)?r:+c}return z2=l,z2}var H2,S6;function qSe(){if(S6)return H2;S6=1;var t=po(),e=jSe(),n=BSe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var h,p,m,y,v,w,S=0,x=!1,E=!1,A=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(x=!!c.leading,E="maxWait"in c,m=E?i(n(c.maxWait)||0,l):m,A="trailing"in c?!!c.trailing:A);function I(re){var ue=h,ge=p;return h=p=void 0,S=re,y=s.apply(ge,ue),y}function M(re){return S=re,v=setTimeout(Q,l),x?I(re):y}function D(re){var ue=re-w,ge=re-S,_e=l-ue;return E?a(_e,m-ge):_e}function F(re){var ue=re-w,ge=re-S;return w===void 0||ue>=l||ue<0||E&&ge>=m}function Q(){var re=e();if(F(re))return Y(re);v=setTimeout(Q,D(re))}function Y(re){return v=void 0,A&&h?I(re):(h=p=void 0,y)}function B(){v!==void 0&&clearTimeout(v),S=0,h=w=p=v=void 0}function Z(){return v===void 0?y:Y(e())}function ce(){var re=e(),ue=F(re);if(h=arguments,p=this,w=re,ue){if(v===void 0)return M(w);if(E)return clearTimeout(v),v=setTimeout(Q,l),I(w)}return v===void 0&&(v=setTimeout(Q,l)),y}return ce.cancel=B,ce.flush=Z,ce}return H2=o,H2}var zSe=qSe();const HSe=Dr(zSe);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function VSe(t,e){if(Jc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jz(t){var e=VSe(t,"string");return Jc(e)==="symbol"?e:String(e)}function Lg(t,e,n){return e=Jz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){Lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KSe(t){if(Array.isArray(t))return t}function GSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yz(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function WSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uu(t,e){return KSe(t)||GSe(t,e)||Yz(t,e)||WSe()}function QSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Su(t,e){if(t==null)return{};var n=QSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var ZSe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function JSe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,o=a===void 0?null:a,s=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,y=t.value,v=Su(t,ZSe),w=te.useState(s!==void 0?s:n),S=uu(w,2),x=S[0],E=S[1],A=te.useState(l!==void 0?l:i),I=uu(A,2),M=I[0],D=I[1],F=te.useState(y!==void 0?y:o),Q=uu(F,2),Y=Q[0],B=Q[1],Z=te.useCallback(function(fe,Ie){typeof c=="function"&&c(fe,Ie),B(fe)},[c]),ce=te.useCallback(function(fe,Ie){var k;typeof h=="function"&&(k=h(fe,Ie)),E(k!==void 0?k:fe)},[h]),re=te.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),ue=te.useCallback(function(){typeof p=="function"&&p(),D(!1)},[p]),ge=s!==void 0?s:x,_e=l!==void 0?l:M,de=y!==void 0?y:Y;return rn(rn({},v),{},{inputValue:ge,menuIsOpen:_e,onChange:Z,onInputChange:ce,onMenuClose:ue,onMenuOpen:re,value:de})}function on(){return on=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},on.apply(this,arguments)}function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jz(r.key),r)}}function XSe(t,e,n){return E6(t.prototype,e),E6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bA(t,e){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bA(t,e)}function exe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bA(t,e)}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(t)}function txe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rxe(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nxe(t)}function ixe(t){var e=txe();return function(){var r=y0(t),i;if(e){var a=y0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return rxe(this,i)}}function axe(t){if(Array.isArray(t))return wA(t)}function oxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wP(t){return axe(t)||oxe(t)||Yz(t)||sxe()}function uxe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lxe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cxe=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lxe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=uxe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ji="-ms-",v0="-moz-",Gn="-webkit-",Xz="comm",bP="rule",SP="decl",fxe="@import",eH="@keyframes",dxe=Math.abs,gw=String.fromCharCode,hxe=Object.assign;function pxe(t,e){return Li(t,0)^45?(((e<<2^Li(t,0))<<2^Li(t,1))<<2^Li(t,2))<<2^Li(t,3):0}function tH(t){return t.trim()}function gxe(t,e){return(t=e.exec(t))?t[0]:t}function er(t,e,n){return t.replace(e,n)}function SA(t,e){return t.indexOf(e)}function Li(t,e){return t.charCodeAt(e)|0}function om(t,e,n){return t.slice(e,n)}function ss(t){return t.length}function xP(t){return t.length}function Rv(t,e){return e.push(t),t}function mxe(t,e){return t.map(e).join("")}var mw=1,$d=1,nH=0,xa=0,ri=0,gh="";function yw(t,e,n,r,i,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:mw,column:$d,length:o,return:""}}function gg(t,e){return hxe(yw("",null,null,"",null,null,0),t,{length:-t.length},e)}function yxe(){return ri}function vxe(){return ri=xa>0?Li(gh,--xa):0,$d--,ri===10&&($d=1,mw--),ri}function Ba(){return ri=xa<nH?Li(gh,xa++):0,$d++,ri===10&&($d=1,mw++),ri}function hs(){return Li(gh,xa)}function F_(){return xa}function Fm(t,e){return om(gh,t,e)}function sm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rH(t){return mw=$d=1,nH=ss(gh=t),xa=0,[]}function iH(t){return gh="",t}function j_(t){return tH(Fm(xa-1,xA(t===91?t+2:t===40?t+1:t)))}function _xe(t){for(;(ri=hs())&&ri<33;)Ba();return sm(t)>2||sm(ri)>3?"":" "}function wxe(t,e){for(;--e&&Ba()&&!(ri<48||ri>102||ri>57&&ri<65||ri>70&&ri<97););return Fm(t,F_()+(e<6&&hs()==32&&Ba()==32))}function xA(t){for(;Ba();)switch(ri){case t:return xa;case 34:case 39:t!==34&&t!==39&&xA(ri);break;case 40:t===41&&xA(t);break;case 92:Ba();break}return xa}function bxe(t,e){for(;Ba()&&t+ri!==57;)if(t+ri===84&&hs()===47)break;return"/*"+Fm(e,xa-1)+"*"+gw(t===47?t:Ba())}function Sxe(t){for(;!sm(hs());)Ba();return Fm(t,xa)}function xxe(t){return iH($_("",null,null,null,[""],t=rH(t),0,[0],t))}function $_(t,e,n,r,i,a,o,s,l){for(var c=0,h=0,p=o,m=0,y=0,v=0,w=1,S=1,x=1,E=0,A="",I=i,M=a,D=r,F=A;S;)switch(v=E,E=Ba()){case 40:if(v!=108&&Li(F,p-1)==58){SA(F+=er(j_(E),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:F+=j_(E);break;case 9:case 10:case 13:case 32:F+=_xe(v);break;case 92:F+=wxe(F_()-1,7);continue;case 47:switch(hs()){case 42:case 47:Rv(Exe(bxe(Ba(),F_()),e,n),l);break;default:F+="/"}break;case 123*w:s[c++]=ss(F)*x;case 125*w:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+h:y>0&&ss(F)-p&&Rv(y>32?C6(F+";",r,n,p-1):C6(er(F," ","")+";",r,n,p-2),l);break;case 59:F+=";";default:if(Rv(D=T6(F,e,n,c,h,i,s,A,I=[],M=[],p),a),E===123)if(h===0)$_(F,e,D,D,I,a,p,s,M);else switch(m===99&&Li(F,3)===110?100:m){case 100:case 109:case 115:$_(t,D,D,r&&Rv(T6(t,D,D,0,0,i,s,A,i,I=[],p),M),i,M,p,s,r?I:M);break;default:$_(F,D,D,D,[""],M,0,s,M)}}c=h=y=0,w=x=1,A=F="",p=o;break;case 58:p=1+ss(F),y=v;default:if(w<1){if(E==123)--w;else if(E==125&&w++==0&&vxe()==125)continue}switch(F+=gw(E),E*w){case 38:x=h>0?1:(F+="\f",-1);break;case 44:s[c++]=(ss(F)-1)*x,x=1;break;case 64:hs()===45&&(F+=j_(Ba())),m=hs(),h=p=ss(A=F+=Sxe(F_())),E++;break;case 45:v===45&&ss(F)==2&&(w=0)}}return a}function T6(t,e,n,r,i,a,o,s,l,c,h){for(var p=i-1,m=i===0?a:[""],y=xP(m),v=0,w=0,S=0;v<r;++v)for(var x=0,E=om(t,p+1,p=dxe(w=o[v])),A=t;x<y;++x)(A=tH(w>0?m[x]+" "+E:er(E,/&\f/g,m[x])))&&(l[S++]=A);return yw(t,e,n,i===0?bP:s,l,c,h)}function Exe(t,e,n){return yw(t,e,n,Xz,gw(yxe()),om(t,2,-2),0)}function C6(t,e,n,r){return yw(t,e,n,SP,om(t,0,r),om(t,r+1,-1),r)}function md(t,e){for(var n="",r=xP(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Txe(t,e,n,r){switch(t.type){case fxe:case SP:return t.return=t.return||t.value;case Xz:return"";case eH:return t.return=t.value+"{"+md(t.children,r)+"}";case bP:t.value=t.props.join(",")}return ss(n=md(t.children,r))?t.return=t.value+"{"+n+"}":""}function Cxe(t){var e=xP(t);return function(n,r,i,a){for(var o="",s=0;s<e;s++)o+=t[s](n,r,i,a)||"";return o}}function Axe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Rxe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Pxe=function(e,n,r){for(var i=0,a=0;i=a,a=hs(),i===38&&a===12&&(n[r]=1),!sm(a);)Ba();return Fm(e,xa)},Oxe=function(e,n){var r=-1,i=44;do switch(sm(i)){case 0:i===38&&hs()===12&&(n[r]=1),e[r]+=Pxe(xa-1,n,r);break;case 2:e[r]+=j_(i);break;case 4:if(i===44){e[++r]=hs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=gw(i)}while(i=Ba());return e},Ixe=function(e,n){return iH(Oxe(rH(e),n))},A6=new WeakMap,Lxe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!A6.get(r))&&!i){A6.set(e,!0);for(var a=[],o=Ixe(n,a),s=r.props,l=0,c=0;l<o.length;l++)for(var h=0;h<s.length;h++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,s[h]):s[h]+" "+o[l]}}},Mxe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function aH(t,e){switch(pxe(t,e)){case 5103:return Gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+t+v0+t+ji+t+t;case 6828:case 4268:return Gn+t+ji+t+t;case 6165:return Gn+t+ji+"flex-"+t+t;case 5187:return Gn+t+er(t,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+ji+"flex-$1$2")+t;case 5443:return Gn+t+ji+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Gn+t+ji+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Gn+t+ji+er(t,"shrink","negative")+t;case 5292:return Gn+t+ji+er(t,"basis","preferred-size")+t;case 6060:return Gn+"box-"+er(t,"-grow","")+Gn+t+ji+er(t,"grow","positive")+t;case 4554:return Gn+er(t,/([^-])(transform)/g,"$1"+Gn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+ji+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ss(t)-1-e>6)switch(Li(t,e+1)){case 109:if(Li(t,e+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+v0+(Li(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~SA(t,"stretch")?aH(er(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Li(t,e+1)!==115)break;case 6444:switch(Li(t,ss(t)-3-(~SA(t,"!important")&&10))){case 107:return er(t,":",":"+Gn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(Li(t,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+ji+"$2box$3")+t}break;case 5936:switch(Li(t,e+11)){case 114:return Gn+t+ji+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gn+t+ji+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gn+t+ji+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gn+t+ji+t+t}return t}var Dxe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case SP:e.return=aH(e.value,e.length);break;case eH:return md([gg(e,{value:er(e.value,"@","@"+Gn)})],i);case bP:if(e.length)return mxe(e.props,function(a){switch(gxe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return md([gg(e,{props:[er(a,/:(read-\w+)/,":"+v0+"$1")]})],i);case"::placeholder":return md([gg(e,{props:[er(a,/:(plac\w+)/,":"+Gn+"input-$1")]}),gg(e,{props:[er(a,/:(plac\w+)/,":"+v0+"$1")]}),gg(e,{props:[er(a,/:(plac\w+)/,ji+"input-$1")]})],i)}return""})}},kxe=[Dxe],Nxe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var S=w.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||kxe,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var S=w.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)a[S[x]]=!0;s.push(w)});var l,c=[Lxe,Mxe];{var h,p=[Txe,Axe(function(w){h.insert(w)})],m=Cxe(c.concat(i,p)),y=function(S){return md(xxe(S),m)};l=function(S,x,E,A){h=E,y(S?S+"{"+x.styles+"}":x.styles),A&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new cxe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return v.sheet.hydrate(s),v},V2={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R6;function Fxe(){if(R6)return Xn;R6=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function A(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case e:switch(M=M.type,M){case l:case c:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case s:case h:case v:case y:case o:return M;default:return D}}case n:return D}}}function I(M){return A(M)===c}return Xn.AsyncMode=l,Xn.ConcurrentMode=c,Xn.ContextConsumer=s,Xn.ContextProvider=o,Xn.Element=e,Xn.ForwardRef=h,Xn.Fragment=r,Xn.Lazy=v,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=p,Xn.isAsyncMode=function(M){return I(M)||A(M)===l},Xn.isConcurrentMode=I,Xn.isContextConsumer=function(M){return A(M)===s},Xn.isContextProvider=function(M){return A(M)===o},Xn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Xn.isForwardRef=function(M){return A(M)===h},Xn.isFragment=function(M){return A(M)===r},Xn.isLazy=function(M){return A(M)===v},Xn.isMemo=function(M){return A(M)===y},Xn.isPortal=function(M){return A(M)===n},Xn.isProfiler=function(M){return A(M)===a},Xn.isStrictMode=function(M){return A(M)===i},Xn.isSuspense=function(M){return A(M)===p},Xn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===c||M===a||M===i||M===p||M===m||typeof M=="object"&&M!==null&&(M.$$typeof===v||M.$$typeof===y||M.$$typeof===o||M.$$typeof===s||M.$$typeof===h||M.$$typeof===S||M.$$typeof===x||M.$$typeof===E||M.$$typeof===w)},Xn.typeOf=A,Xn}var P6;function jxe(){return P6||(P6=1,V2.exports=Fxe()),V2.exports}var K2,O6;function $xe(){if(O6)return K2;O6=1;var t=jxe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function o(v){return t.isMemo(v)?i:a[v.$$typeof]||e}var s=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(v,w,S){if(typeof w!="string"){if(m){var x=p(w);x&&x!==m&&y(v,x,S)}var E=l(w);c&&(E=E.concat(c(w)));for(var A=o(v),I=o(w),M=0;M<E.length;++M){var D=E[M];if(!n[D]&&!(S&&S[D])&&!(I&&I[D])&&!(A&&A[D])){var F=h(w,D);try{s(v,D,F)}catch{}}}}return v}return K2=y,K2}$xe();var Uxe=!0;function Bxe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var oH=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Uxe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},qxe=function(e,n,r){oH(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function zxe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Hxe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vxe=/[A-Z]|^ms/g,Kxe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sH=function(e){return e.charCodeAt(1)===45},I6=function(e){return e!=null&&typeof e!="boolean"},G2=Rxe(function(t){return sH(t)?t:t.replace(Vxe,"-$&").toLowerCase()}),L6=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kxe,function(r,i,a){return us={name:i,styles:a,next:us},i})}return Hxe[e]!==1&&!sH(e)&&typeof n=="number"&&n!==0?n+"px":n};function um(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return us={name:n.name,styles:n.styles,next:us},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)us={name:r.name,styles:r.styles,next:us},r=r.next;var i=n.styles+";";return i}return Gxe(t,e,n)}case"function":{if(t!==void 0){var a=us,o=n(t);return us=a,um(t,e,o)}break}}return n}function Gxe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=um(t,e,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object")I6(o)&&(r+=G2(a)+":"+L6(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var s=0;s<o.length;s++)I6(o[s])&&(r+=G2(a)+":"+L6(a,o[s])+";");else{var l=um(t,e,o);switch(a){case"animation":case"animationName":{r+=G2(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var M6=/label:\s*([^\s;\n{]+)\s*(;|$)/g,us,uH=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";us=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=um(r,n,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=um(r,n,e[s]),i&&(a+=o[s]);M6.lastIndex=0;for(var l="",c;(c=M6.exec(a))!==null;)l+="-"+c[1];var h=zxe(a)+l;return{name:h,styles:a,next:us}},Wxe=function(e){return e()},Qxe=Id.useInsertionEffect?Id.useInsertionEffect:!1,Zxe=Qxe||Wxe,EP={}.hasOwnProperty,lH=te.createContext(typeof HTMLElement<"u"?Nxe({key:"css"}):null);lH.Provider;var Jxe=function(e){return te.forwardRef(function(n,r){var i=te.useContext(lH);return e(n,i,r)})},Yxe=te.createContext({}),EA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xxe=function(e,n){var r={};for(var i in n)EP.call(n,i)&&(r[i]=n[i]);return r[EA]=e,r},eEe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return oH(n,r,i),Zxe(function(){return qxe(n,r,i)}),null},tEe=Jxe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[EA],a=[r],o="";typeof t.className=="string"?o=Bxe(e.registered,a,t.className):t.className!=null&&(o=t.className+" ");var s=uH(a,void 0,te.useContext(Yxe));o+=e.key+"-"+s.name;var l={};for(var c in t)EP.call(t,c)&&c!=="css"&&c!==EA&&(l[c]=t[c]);return l.ref=n,l.className=o,te.createElement(te.Fragment,null,te.createElement(eEe,{cache:e,serialized:s,isStringTag:typeof i=="string"}),te.createElement(i,l))}),tn=function(e,n){var r=arguments;if(n==null||!EP.call(n,"css"))return te.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=tEe,a[1]=Xxe(e,n);for(var o=2;o<i;o++)a[o]=r[o];return te.createElement.apply(null,a)};function TP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return uH(e)}var nEe=function(){var e=TP.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function rEe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function iEe(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const aEe=["top","right","bottom","left"];aEe.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function lu(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cH(t){return lu(t).getComputedStyle(t)}function fH(t){return t instanceof lu(t).Node}function dH(t){return fH(t)?(t.nodeName||"").toLowerCase():""}let Pv;function oEe(){if(Pv)return Pv;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Pv=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Pv):navigator.userAgent}function CP(t){return t instanceof lu(t).HTMLElement}function U_(t){return t instanceof lu(t).Element}function D6(t){return typeof ShadowRoot>"u"?!1:t instanceof lu(t).ShadowRoot||t instanceof ShadowRoot}function hH(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cH(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function sEe(){return/^((?!chrome|android).)*safari/i.test(oEe())}function uEe(t){return["html","body","#document"].includes(dH(t))}const _0=Math.round;function lEe(t){const e=cH(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=CP(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,s=_0(n)!==a||_0(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function pH(t){return U_(t)?t:t.contextElement}const gH={x:1,y:1};function k6(t){const e=pH(t);if(!CP(e))return gH;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:a}=lEe(e);let o=(a?_0(n.width):n.width)/r,s=(a?_0(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}function N6(t,e,n,r){var i,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=pH(t);let l=gH;e&&(l=k6(t));const c=s?lu(s):window,h=sEe()&&n;let p=(o.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,m=(o.top+(h&&((a=c.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=o.width/l.x,v=o.height/l.y;if(s){const w=lu(s),S=r;let x=w.frameElement;for(;x&&r&&S!==w;){const E=k6(x),A=x.getBoundingClientRect(),I=getComputedStyle(x);A.x+=(x.clientLeft+parseFloat(I.paddingLeft))*E.x,A.y+=(x.clientTop+parseFloat(I.paddingTop))*E.y,p*=E.x,m*=E.y,y*=E.x,v*=E.y,p+=A.x,m+=A.y,x=lu(x).frameElement}}return iEe({width:y,height:v,x:p,y:m})}function cEe(t){return((fH(t)?t.ownerDocument:t.document)||window.document).documentElement}function fEe(t){if(dH(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D6(t)&&t.host||cEe(t);return D6(e)?e.host:e}function mH(t){const e=fEe(t);return uEe(e)?e.ownerDocument.body:CP(e)&&hH(e)?e:mH(e)}function B_(t,e){var n;e===void 0&&(e=[]);const r=mH(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=lu(r);return i?e.concat(a,a.visualViewport||[],hH(r)?r:[]):e.concat(r,B_(r))}function dEe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:s=!1}=r,l=i&&!s,c=l||a?[...U_(t)?B_(t):t.contextElement?B_(t.contextElement):[],...B_(e)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let h,p=null;o&&(p=new ResizeObserver(()=>{n()}),U_(t)&&!s&&p.observe(t),U_(t)||!t.contextElement||s||p.observe(t.contextElement),p.observe(e));let m=s?N6(t):null;return s&&function y(){const v=N6(t);!m||v.x===m.x&&v.y===m.y&&v.width===m.width&&v.height===m.height||n(),m=v,h=requestAnimationFrame(y)}(),n(),()=>{var y;c.forEach(v=>{l&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(y=p)==null||y.disconnect(),p=null,s&&cancelAnimationFrame(h)}}var TA=te.useLayoutEffect,hEe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],w0=function(){};function pEe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function gEe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&a.push("".concat(pEe(t,o)));return a.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var F6=function(e){return EEe(e)?e.filter(Boolean):Jc(e)==="object"&&e!==null?[e]:[]},yH=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Su(e,hEe);return rn({},n)},qr=function(e,n,r){var i=e.cx,a=e.getStyles,o=e.getClassNames,s=e.className;return{css:a(n,e),className:i(r??{},o(n,e),s)}};function vw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function mEe(t){return vw(t)?window.innerHeight:t.clientHeight}function vH(t){return vw(t)?window.pageYOffset:t.scrollTop}function b0(t,e){if(vw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function yEe(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function vEe(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Ov(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w0,i=vH(t),a=e-i,o=10,s=0;function l(){s+=o;var c=vEe(s,i,a,n);b0(t,c),s<n?window.requestAnimationFrame(l):r(t)}l()}function j6(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?b0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&b0(t,Math.max(e.offsetTop-i,0))}function _Ee(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function $6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function wEe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var _H=!1,bEe={get passive(){return _H=!0}},Iv=typeof window<"u"?window:{};Iv.addEventListener&&Iv.removeEventListener&&(Iv.addEventListener("p",w0,bEe),Iv.removeEventListener("p",w0,!1));var SEe=_H;function xEe(t){return t!=null}function EEe(t){return Array.isArray(t)}function Lv(t,e,n){return t?e:n}var TEe=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(o){var s=uu(o,1),l=s[0];return!r.includes(l)});return a.reduce(function(o,s){var l=uu(s,2),c=l[0],h=l[1];return o[c]=h,o},{})},CEe=["children","innerProps"],AEe=["children","innerProps"];function REe(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,o=t.isFixedPosition,s=t.controlHeight,l=yEe(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),p=h.height,m=n.getBoundingClientRect(),y=m.bottom,v=m.height,w=m.top,S=n.offsetParent.getBoundingClientRect(),x=S.top,E=o?window.innerHeight:mEe(l),A=vH(l),I=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),D=x-M,F=E-w,Q=D+A,Y=p-A-w,B=y-E+A+I,Z=A+w-M,ce=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:e};if(Y>=v&&!o)return a&&Ov(l,B,ce),{placement:"bottom",maxHeight:e};if(!o&&Y>=r||o&&F>=r){a&&Ov(l,B,ce);var re=o?F-I:Y-I;return{placement:"bottom",maxHeight:re}}if(i==="auto"||o){var ue=e,ge=o?D:Q;return ge>=r&&(ue=Math.min(ge-I-s,e)),{placement:"top",maxHeight:ue}}if(i==="bottom")return a&&b0(l,B),{placement:"bottom",maxHeight:e};break;case"top":if(D>=v)return{placement:"top",maxHeight:e};if(Q>=v&&!o)return a&&Ov(l,Z,ce),{placement:"top",maxHeight:e};if(!o&&Q>=r||o&&D>=r){var _e=e;return(!o&&Q>=r||o&&D>=r)&&(_e=o?D-M:Q-M),a&&Ov(l,Z,ce),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function PEe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var wH=function(e){return e==="auto"?"bottom":e},OEe=function(e,n){var r,i=e.placement,a=e.theme,o=a.borderRadius,s=a.spacing,l=a.colors;return rn((r={label:"menu"},Lg(r,PEe(i),"100%"),Lg(r,"position","absolute"),Lg(r,"width","100%"),Lg(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},bH=te.createContext(null),IEe=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,s=e.menuShouldScrollIntoView,l=e.theme,c=te.useContext(bH)||{},h=c.setPortalPlacement,p=te.useRef(null),m=te.useState(i),y=uu(m,2),v=y[0],w=y[1],S=te.useState(null),x=uu(S,2),E=x[0],A=x[1],I=l.spacing.controlHeight;return TA(function(){var M=p.current;if(M){var D=o==="fixed",F=s&&!D,Q=REe({maxHeight:i,menuEl:M,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:D,controlHeight:I});w(Q.maxHeight),A(Q.placement),h==null||h(Q.placement)}},[i,a,o,s,r,h,I]),n({ref:p,placerProps:rn(rn({},e),{},{placement:E||wH(a),maxHeight:v})})},LEe=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return tn("div",on({},qr(e,"menu",{menu:!0}),{ref:r},i),n)},MEe=LEe,DEe=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return rn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},kEe=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return tn("div",on({},qr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},SH=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return rn({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},NEe=SH,FEe=SH,jEe=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=Su(e,CEe);return tn("div",on({},qr(rn(rn({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},$Ee=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=Su(e,AEe);return tn("div",on({},qr(rn(rn({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},UEe=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},BEe=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,o=e.menuPlacement,s=e.menuPosition,l=te.useRef(null),c=te.useRef(null),h=te.useState(wH(o)),p=uu(h,2),m=p[0],y=p[1],v=te.useMemo(function(){return{setPortalPlacement:y}},[]),w=te.useState(null),S=uu(w,2),x=S[0],E=S[1],A=te.useCallback(function(){if(i){var F=_Ee(i),Q=s==="fixed"?0:window.pageYOffset,Y=F[m]+Q;(Y!==(x==null?void 0:x.offset)||F.left!==(x==null?void 0:x.rect.left)||F.width!==(x==null?void 0:x.rect.width))&&E({offset:Y,rect:F})}},[i,s,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);TA(function(){A()},[A]);var I=te.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=dEe(i,l.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);TA(function(){I()},[I]);var M=te.useCallback(function(F){l.current=F,I()},[I]);if(!n&&s!=="fixed"||!x)return null;var D=tn("div",on({ref:M},qr(rn(rn({},e),{},{offset:x.offset,position:s,rect:x.rect}),"menuPortal",{"menu-portal":!0}),a),r);return tn(bH.Provider,{value:v},n?em.createPortal(D,n):D)},qEe=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},zEe=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return tn("div",on({},qr(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},HEe=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,o=e.selectProps.controlShouldRenderValue;return rn({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},VEe=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return tn("div",on({},qr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},KEe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},GEe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},qr(e,"indicatorsContainer",{indicators:!0}),r),n)},U6,WEe=["size"],QEe=["innerProps","isRtl","size"],ZEe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},xH=function(e){var n=e.size,r=Su(e,WEe);return tn("svg",on({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ZEe},r))},AP=function(e){return tn(xH,on({size:20},e),tn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},EH=function(e){return tn(xH,on({size:20},e),tn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TH=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return rn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},JEe=TH,YEe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},qr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||tn(EH,null))},XEe=TH,eTe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},qr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||tn(AP,null))},tTe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,o=i.colors;return rn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},nTe=function(e){var n=e.innerProps;return tn("span",on({},n,qr(e,"indicatorSeparator",{"indicator-separator":!0})))},rTe=nEe(U6||(U6=rEe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),iTe=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,o=a.colors,s=a.spacing.baseUnit;return rn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2})},W2=function(e){var n=e.delay,r=e.offset;return tn("span",{css:TP({animation:"".concat(rTe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},aTe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,o=Su(e,QEe);return tn("div",on({},qr(rn(rn({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),tn(W2,{delay:0,offset:r}),tn(W2,{delay:160,offset:!0}),tn(W2,{delay:320,offset:!r}))},oTe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,o=a.colors,s=a.borderRadius,l=a.spacing;return rn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},sTe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,o=e.innerProps,s=e.menuIsOpen;return tn("div",on({ref:a},qr(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":r||void 0}),n)},uTe=sTe,lTe=["data"],cTe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},fTe=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,o=e.Heading,s=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,p=e.selectProps;return tn("div",on({},qr(e,"group",{group:!0}),l),tn(o,on({},s,{selectProps:p,theme:h,getStyles:i,getClassNames:a,cx:r}),c),tn("div",null,n))},dTe=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return rn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},hTe=function(e){var n=yH(e);n.data;var r=Su(n,lTe);return tn("div",on({},qr(e,"groupHeading",{"group-heading":!0}),r))},pTe=fTe,gTe=["innerRef","isDisabled","isHidden","inputClassName"],mTe=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,o=a.spacing,s=a.colors;return rn(rn({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},yTe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},CH={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},yTe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},CH)},vTe=function(e){return rn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},CH)},_Te=function(e){var n=e.cx,r=e.value,i=yH(e),a=i.innerRef,o=i.isDisabled,s=i.isHidden,l=i.inputClassName,c=Su(i,gTe);return tn("div",on({},qr(e,"input",{"input-container":!0}),{"data-value":r||""}),tn("input",on({className:n({input:!0},l),ref:a,style:vTe(s),disabled:o},c)))},wTe=_Te,bTe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return rn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},STe=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,o=e.cropWithEllipsis;return rn({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},xTe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,o=r.colors,s=e.isFocused;return rn({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},AH=function(e){var n=e.children,r=e.innerProps;return tn("div",r,n)},ETe=AH,TTe=AH;function CTe(t){var e=t.children,n=t.innerProps;return tn("div",on({role:"button"},n),e||tn(AP,{size:14}))}var ATe=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,o=e.isDisabled,s=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,p=r.Remove;return tn(c,{data:i,innerProps:rn(rn({},qr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},tn(h,{data:i,innerProps:rn({},qr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),tn(p,{data:i,innerProps:rn(rn({},qr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},RTe=ATe,PTe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.theme,s=o.spacing,l=o.colors;return rn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},OTe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,o=e.innerRef,s=e.innerProps;return tn("div",on({},qr(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},s),n)},ITe=OTe,LTe=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return rn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},MTe=function(e){var n=e.children,r=e.innerProps;return tn("div",on({},qr(e,"placeholder",{placeholder:!0}),r),n)},DTe=MTe,kTe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,o=i.colors;return rn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},NTe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return tn("div",on({},qr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},FTe=NTe,jTe={ClearIndicator:eTe,Control:uTe,DropdownIndicator:YEe,DownChevron:EH,CrossIcon:AP,Group:pTe,GroupHeading:hTe,IndicatorsContainer:GEe,IndicatorSeparator:nTe,Input:wTe,LoadingIndicator:aTe,Menu:MEe,MenuList:kEe,MenuPortal:BEe,LoadingMessage:$Ee,NoOptionsMessage:jEe,MultiValue:RTe,MultiValueContainer:ETe,MultiValueLabel:TTe,MultiValueRemove:CTe,Option:ITe,Placeholder:DTe,SelectContainer:zEe,SingleValue:FTe,ValueContainer:VEe},$Te=function(e){return rn(rn({},jTe),e.components)},B6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function UTe(t,e){return!!(t===e||B6(t)&&B6(e))}function BTe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!UTe(t[n],e[n]))return!1;return!0}function qTe(t,e){e===void 0&&(e=BTe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var zTe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},HTe=function(e){return tn("span",on({css:zTe},e))},q6=HTe,VTe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,o=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,o=a===void 0?"":a,s=e.selectValue,l=e.isDisabled,c=e.isSelected,h=e.isAppleDevice,p=function(w,S){return w&&w.length?"".concat(w.indexOf(S)+1," of ").concat(w.length):""};if(n==="value"&&s)return"value ".concat(o," focused, ").concat(p(s,r),".");if(n==="menu"&&h){var m=l?" disabled":"",y="".concat(c?" selected":"").concat(m);return"".concat(o).concat(y,", ").concat(p(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},KTe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,h=e.isAppleDevice,p=l.ariaLiveMessages,m=l.getOptionLabel,y=l.inputValue,v=l.isMulti,w=l.isOptionDisabled,S=l.isSearchable,x=l.menuIsOpen,E=l.options,A=l.screenReaderStatus,I=l.tabSelectsValue,M=l.isLoading,D=l["aria-label"],F=l["aria-live"],Q=te.useMemo(function(){return rn(rn({},VTe),p||{})},[p]),Y=te.useMemo(function(){var ge="";if(n&&Q.onChange){var _e=n.option,de=n.options,fe=n.removedValue,Ie=n.removedValues,k=n.value,ie=function(Re){return Array.isArray(Re)?null:Re},me=fe||_e||ie(k),H=me?m(me):"",J=de||Ie||void 0,pe=J?J.map(m):[],Ae=rn({isDisabled:me&&w(me,s),label:H,labels:pe},n);ge=Q.onChange(Ae)}return ge},[n,Q,w,s,m]),B=te.useMemo(function(){var ge="",_e=r||i,de=!!(r&&s&&s.includes(r));if(_e&&Q.onFocus){var fe={focused:_e,label:m(_e),isDisabled:w(_e,s),isSelected:de,options:a,context:_e===r?"menu":"value",selectValue:s,isAppleDevice:h};ge=Q.onFocus(fe)}return ge},[r,i,m,w,Q,a,s,h]),Z=te.useMemo(function(){var ge="";if(x&&E.length&&!M&&Q.onFilter){var _e=A({count:a.length});ge=Q.onFilter({inputValue:y,resultsMessage:_e})}return ge},[a,y,x,Q,E,A,M]),ce=(n==null?void 0:n.action)==="initial-input-focus",re=te.useMemo(function(){var ge="";if(Q.guidance){var _e=i?"value":x?"menu":"input";ge=Q.guidance({"aria-label":D,context:_e,isDisabled:r&&w(r,s),isMulti:v,isSearchable:S,tabSelectsValue:I,isInitialFocus:ce})}return ge},[D,r,i,v,w,S,x,Q,s,I,ce]),ue=tn(te.Fragment,null,tn("span",{id:"aria-selection"},Y),tn("span",{id:"aria-focused"},B),tn("span",{id:"aria-results"},Z),tn("span",{id:"aria-guidance"},re));return tn(te.Fragment,null,tn(q6,{id:c},ce&&ue),tn(q6,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!ce&&ue))},GTe=KTe,CA=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],WTe=new RegExp("["+CA.map(function(t){return t.letters}).join("")+"]","g"),RH={};for(var Q2=0;Q2<CA.length;Q2++)for(var Z2=CA[Q2],J2=0;J2<Z2.letters.length;J2++)RH[Z2.letters[J2]]=Z2.base;var PH=function(e){return e.replace(WTe,function(n){return RH[n]})},QTe=qTe(PH),z6=function(e){return e.replace(/^\s+|\s+$/g,"")},ZTe=function(e){return"".concat(e.label," ").concat(e.value)},JTe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=rn({ignoreCase:!0,ignoreAccents:!0,stringify:ZTe,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,l=i.trim,c=i.matchFrom,h=l?z6(r):r,p=l?z6(s(n)):s(n);return a&&(h=h.toLowerCase(),p=p.toLowerCase()),o&&(h=QTe(h),p=PH(p)),c==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},YTe=["innerRef"];function XTe(t){var e=t.innerRef,n=Su(t,YTe),r=TEe(n,"onExited","in","enter","exit","appear");return tn("input",on({ref:e},r,{css:TP({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var e2e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function t2e(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,o=te.useRef(!1),s=te.useRef(!1),l=te.useRef(0),c=te.useRef(null),h=te.useCallback(function(S,x){if(c.current!==null){var E=c.current,A=E.scrollTop,I=E.scrollHeight,M=E.clientHeight,D=c.current,F=x>0,Q=I-M-A,Y=!1;Q>x&&o.current&&(r&&r(S),o.current=!1),F&&s.current&&(a&&a(S),s.current=!1),F&&x>Q?(n&&!o.current&&n(S),D.scrollTop=I,Y=!0,o.current=!0):!F&&-x>A&&(i&&!s.current&&i(S),D.scrollTop=0,Y=!0,s.current=!0),Y&&e2e(S)}},[n,r,i,a]),p=te.useCallback(function(S){h(S,S.deltaY)},[h]),m=te.useCallback(function(S){l.current=S.changedTouches[0].clientY},[]),y=te.useCallback(function(S){var x=l.current-S.changedTouches[0].clientY;h(S,x)},[h]),v=te.useCallback(function(S){if(S){var x=SEe?{passive:!1}:!1;S.addEventListener("wheel",p,x),S.addEventListener("touchstart",m,x),S.addEventListener("touchmove",y,x)}},[y,m,p]),w=te.useCallback(function(S){S&&(S.removeEventListener("wheel",p,!1),S.removeEventListener("touchstart",m,!1),S.removeEventListener("touchmove",y,!1))},[y,m,p]);return te.useEffect(function(){if(e){var S=c.current;return v(S),function(){w(S)}}},[e,v,w]),function(S){c.current=S}}var H6=["boxSizing","height","overflow","paddingRight","position"],V6={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function K6(t){t.cancelable&&t.preventDefault()}function G6(t){t.stopPropagation()}function W6(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Q6(){return"ontouchstart"in window||navigator.maxTouchPoints}var Z6=!!(typeof window<"u"&&window.document&&window.document.createElement),mg=0,Xf={capture:!1,passive:!1};function n2e(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=te.useRef({}),a=te.useRef(null),o=te.useCallback(function(l){if(Z6){var c=document.body,h=c&&c.style;if(r&&H6.forEach(function(v){var w=h&&h[v];i.current[v]=w}),r&&mg<1){var p=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+p||0;Object.keys(V6).forEach(function(v){var w=V6[v];h&&(h[v]=w)}),h&&(h.paddingRight="".concat(y,"px"))}c&&Q6()&&(c.addEventListener("touchmove",K6,Xf),l&&(l.addEventListener("touchstart",W6,Xf),l.addEventListener("touchmove",G6,Xf))),mg+=1}},[r]),s=te.useCallback(function(l){if(Z6){var c=document.body,h=c&&c.style;mg=Math.max(mg-1,0),r&&mg<1&&H6.forEach(function(p){var m=i.current[p];h&&(h[p]=m)}),c&&Q6()&&(c.removeEventListener("touchmove",K6,Xf),l&&(l.removeEventListener("touchstart",W6,Xf),l.removeEventListener("touchmove",G6,Xf)))}},[r]);return te.useEffect(function(){if(e){var l=a.current;return o(l),function(){s(l)}}},[e,o,s]),function(l){a.current=l}}var r2e=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},i2e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function a2e(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,o=t.onBottomLeave,s=t.onTopArrive,l=t.onTopLeave,c=t2e({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:s,onTopLeave:l}),h=n2e({isEnabled:n}),p=function(y){c(y),h(y)};return tn(te.Fragment,null,n&&tn("div",{onClick:r2e,css:i2e}),e(p))}var o2e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},s2e=function(e){var n=e.name,r=e.onFocus;return tn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:o2e,value:"",onChange:function(){}})},u2e=s2e;function RP(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function l2e(){return RP(/^iPhone/i)}function OH(){return RP(/^Mac/i)}function c2e(){return RP(/^iPad/i)||OH()&&navigator.maxTouchPoints>1}function f2e(){return l2e()||c2e()}function d2e(){return OH()||f2e()}var h2e=function(e){return e.label},p2e=function(e){return e.label},g2e=function(e){return e.value},m2e=function(e){return!!e.isDisabled},y2e={clearIndicator:XEe,container:qEe,control:oTe,dropdownIndicator:JEe,group:cTe,groupHeading:dTe,indicatorsContainer:KEe,indicatorSeparator:tTe,input:mTe,loadingIndicator:iTe,loadingMessage:FEe,menu:OEe,menuList:DEe,menuPortal:UEe,multiValue:bTe,multiValueLabel:STe,multiValueRemove:xTe,noOptionsMessage:NEe,option:PTe,placeholder:LTe,singleValue:kTe,valueContainer:HEe},v2e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_2e=4,IH=4,w2e=38,b2e=IH*2,S2e={baseUnit:IH,controlHeight:w2e,menuGutter:b2e},Y2={borderRadius:_2e,colors:v2e,spacing:S2e},x2e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:$6(),captureMenuScroll:!$6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:JTe(),formatGroupLabel:h2e,getOptionLabel:p2e,getOptionValue:g2e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:m2e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!wEe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function J6(t,e,n,r){var i=DH(t,e,n),a=kH(t,e,n),o=MH(t,e),s=S0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:o,value:s,index:r}}function q_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,s){return J6(t,o,e,s)}).filter(function(o){return X6(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=J6(t,n,e,r);return X6(t,a)?a:void 0}).filter(xEe)}function LH(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,wP(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Y6(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,wP(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function E2e(t,e){return LH(q_(t,e))}function X6(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,o=e.label,s=e.value;return(!FH(t)||!a)&&NH(t,{label:o,value:s,data:i},r)}function T2e(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function C2e(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var X2=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},MH=function(e,n){return e.getOptionLabel(n)},S0=function(e,n){return e.getOptionValue(n)};function DH(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function kH(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=S0(t,e);return n.some(function(i){return S0(t,i)===r})}function NH(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var FH=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},A2e=1,jH=function(t){exe(n,t);var e=ixe(n);function n(r){var i;if(YSe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=d2e(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var h=i.props,p=h.onChange,m=h.name;c.name=m,i.ariaOnChange(l,c),p(l,c)},i.setValue=function(l,c,h){var p=i.props,m=p.closeMenuOnSelect,y=p.isMulti,v=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:h})},i.selectOption=function(l){var c=i.props,h=c.blurInputOnSelect,p=c.isMulti,m=c.name,y=i.state.selectValue,v=p&&i.isOptionSelected(l,y),w=i.isOptionDisabled(l,y);if(v){var S=i.getOptionValue(l);i.setValue(y.filter(function(x){return i.getOptionValue(x)!==S}),"deselect-option",l)}else if(!w)p?i.setValue([].concat(wP(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}h&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,h=i.state.selectValue,p=i.getOptionValue(l),m=h.filter(function(v){return i.getOptionValue(v)!==p}),y=Lv(c,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Lv(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,h=c[c.length-1],p=c.slice(0,c.length-1),m=Lv(l,p,p[0]||null);h&&i.onChange(m,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(l){return X2(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return Y6(q_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return gEe.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return MH(i.props,l)},i.getOptionValue=function(l){return S0(i.props,l)},i.getStyles=function(l,c){var h=i.props.unstyled,p=y2e[l](c,h);p.boxSizing="border-box";var m=i.props.styles[l];return m?m(p,c):p},i.getClassNames=function(l,c){var h,p;return(h=(p=i.props.classNames)[l])===null||h===void 0?void 0:h.call(p,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return $Te(i.props)},i.buildCategorizedOptions=function(){return q_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return LH(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:rn({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,h=c.isMulti,p=c.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&vw(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,h=c&&c.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,h=c&&c.item(0);if(h){var p=Math.abs(h.clientX-i.initialTouchX),m=Math.abs(h.clientY-i.initialTouchY),y=5;i.userIsDragging=p>y||m>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,h=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),h=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:h>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return FH(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,h=c.isMulti,p=c.backspaceRemovesValue,m=c.escapeClearsValue,y=c.inputValue,v=c.isClearable,w=c.isDisabled,S=c.menuIsOpen,x=c.onKeyDown,E=c.tabSelectsValue,A=c.openMenuOnFocus,I=i.state,M=I.focusedOption,D=I.focusedValue,F=I.selectValue;if(!w&&!(typeof x=="function"&&(x(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!h||y)return;i.focusValue("previous");break;case"ArrowRight":if(!h||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!p)return;h?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!S||!E||!M||A&&i.isOptionSelected(M,F))return;i.selectOption(M);break;case"Enter":if(l.keyCode===229)break;if(S){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):v&&m&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++A2e),i.state.selectValue=F6(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[s],i.state.focusedOptionId=X2(a,o[s])}return i}return XSe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&j6(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,s=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(j6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,s=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var p=c.indexOf(s[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h],focusedOptionId:this.getFocusedOptionId(c[h])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,s=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(s);s||(l=-1);var c=o.length-1,h=-1;if(o.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,c=s.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:s.length-1:i==="down"?l=(c+1)%s.length:i==="pageup"?(l=c-a,l<0&&(l=0)):i==="pagedown"?(l=c+a,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Y2):rn(rn({},Y2),this.props.theme):Y2}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,s=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,p=this.props,m=p.isMulti,y=p.isRtl,v=p.options,w=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:s,getValue:l,hasValue:w,isMulti:m,isRtl:y,options:v,selectOption:c,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return DH(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return kH(this.props,i,a)}},{key:"filterOption",value:function(i,a){return NH(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,s=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,p=i.menuIsOpen,m=i.required,y=this.getComponents(),v=y.Input,w=this.state,S=w.inputIsHidden,x=w.ariaSelection,E=this.commonProps,A=s||this.getElementId("input"),I=rn(rn(rn({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?te.createElement(v,on({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},I)):te.createElement(XTe,on({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:w0,onFocus:this.onInputFocus,disabled:a,tabIndex:c,inputMode:"none",form:h,value:""},I))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,s=a.MultiValueContainer,l=a.MultiValueLabel,c=a.MultiValueRemove,h=a.SingleValue,p=a.Placeholder,m=this.commonProps,y=this.props,v=y.controlShouldRenderValue,w=y.isDisabled,S=y.isMulti,x=y.inputValue,E=y.placeholder,A=this.state,I=A.selectValue,M=A.focusedValue,D=A.isFocused;if(!this.hasValue()||!v)return x?null:te.createElement(p,on({},m,{key:"placeholder",isDisabled:w,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),E);if(S)return I.map(function(Q,Y){var B=Q===M,Z="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return te.createElement(o,on({},m,{components:{Container:s,Label:l,Remove:c},isFocused:B,isDisabled:w,key:Z,index:Y,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(re){re.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(x)return null;var F=I[0];return te.createElement(h,on({},m,{data:F,isDisabled:w}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,h=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||c)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return te.createElement(a,on({},o,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,h=this.state.isFocused;if(!a||!c)return null;var p={"aria-hidden":"true"};return te.createElement(a,on({},o,{innerProps:p,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var s=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return te.createElement(o,on({},s,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return te.createElement(a,on({},o,{innerProps:c,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,s=a.GroupHeading,l=a.Menu,c=a.MenuList,h=a.MenuPortal,p=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,v=this.commonProps,w=this.state.focusedOption,S=this.props,x=S.captureMenuScroll,E=S.inputValue,A=S.isLoading,I=S.loadingMessage,M=S.minMenuHeight,D=S.maxMenuHeight,F=S.menuIsOpen,Q=S.menuPlacement,Y=S.menuPosition,B=S.menuPortalTarget,Z=S.menuShouldBlockScroll,ce=S.menuShouldScrollIntoView,re=S.noOptionsMessage,ue=S.onMenuScrollToTop,ge=S.onMenuScrollToBottom;if(!F)return null;var _e=function(H,J){var pe=H.type,Ae=H.data,Je=H.isDisabled,Re=H.isSelected,Fe=H.label,Xe=H.value,oe=w===Ae,z=Je?void 0:function(){return i.onOptionHover(Ae)},$=Je?void 0:function(){return i.selectOption(Ae)},ae="".concat(i.getElementId("option"),"-").concat(J),W={id:ae,onClick:$,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Re};return te.createElement(y,on({},v,{innerProps:W,data:Ae,isDisabled:Je,isSelected:Re,key:ae,label:Fe,type:pe,value:Xe,isFocused:oe,innerRef:oe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},de;if(this.hasOptions())de=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var H=me.data,J=me.options,pe=me.index,Ae="".concat(i.getElementId("group"),"-").concat(pe),Je="".concat(Ae,"-heading");return te.createElement(o,on({},v,{key:Ae,data:H,options:J,Heading:s,headingProps:{id:Je,data:me.data},label:i.formatGroupLabel(me.data)}),me.options.map(function(Re){return _e(Re,"".concat(pe,"-").concat(Re.index))}))}else if(me.type==="option")return _e(me,"".concat(me.index))});else if(A){var fe=I({inputValue:E});if(fe===null)return null;de=te.createElement(p,v,fe)}else{var Ie=re({inputValue:E});if(Ie===null)return null;de=te.createElement(m,v,Ie)}var k={minMenuHeight:M,maxMenuHeight:D,menuPlacement:Q,menuPosition:Y,menuShouldScrollIntoView:ce},ie=te.createElement(IEe,on({},v,k),function(me){var H=me.ref,J=me.placerProps,pe=J.placement,Ae=J.maxHeight;return te.createElement(l,on({},v,k,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:pe}),te.createElement(a2e,{captureEnabled:x,onTopArrive:ue,onBottomArrive:ge,lockEnabled:Z},function(Je){return te.createElement(c,on({},v,{innerRef:function(Fe){i.getMenuListRef(Fe),Je(Fe)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:Ae,focusedOption:w}),de)}))});return B||Y==="fixed"?te.createElement(h,on({},v,{appendTo:B,controlElement:this.controlRef,menuPlacement:Q,menuPosition:Y}),ie):ie}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,s=a.isDisabled,l=a.isMulti,c=a.name,h=a.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!s)return te.createElement(u2e,{name:c,onFocus:this.onValueInputFocus});if(!(!c||s))if(l)if(o){var m=p.map(function(w){return i.getOptionValue(w)}).join(o);return te.createElement("input",{name:c,type:"hidden",value:m})}else{var y=p.length>0?p.map(function(w,S){return te.createElement("input",{key:"i-".concat(S),name:c,type:"hidden",value:i.getOptionValue(w)})}):te.createElement("input",{name:c,type:"hidden",value:""});return te.createElement("div",null,y)}else{var v=p[0]?this.getOptionValue(p[0]):"";return te.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,s=a.focusedOption,l=a.focusedValue,c=a.isFocused,h=a.selectValue,p=this.getFocusableOptions();return te.createElement(GTe,on({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:s,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,p=c.id,m=c.isDisabled,y=c.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return te.createElement(s,on({},w,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:v}),this.renderLiveRegion(),te.createElement(a,on({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:v,menuIsOpen:y}),te.createElement(l,on({},w,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),te.createElement(o,on({},w,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,s=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,c=a.ariaSelection,h=a.isFocused,p=a.prevWasFocused,m=a.instancePrefix,y=i.options,v=i.value,w=i.menuIsOpen,S=i.inputValue,x=i.isMulti,E=F6(v),A={};if(o&&(v!==o.value||y!==o.options||w!==o.menuIsOpen||S!==o.inputValue)){var I=w?E2e(i,E):[],M=w?Y6(q_(i,E),"".concat(m,"-option")):[],D=s?T2e(a,E):null,F=C2e(a,I),Q=X2(M,F);A={selectValue:E,focusedOption:F,focusedOptionId:Q,focusableOptionsWithIds:M,focusedValue:D,clearFocusValueOnUpdate:!1}}var Y=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},B=c,Z=h&&p;return h&&!Z&&(B={value:Lv(x,E,E[0]||null),options:E,action:"initial-input-focus"},Z=!p),(c==null?void 0:c.action)==="initial-input-focus"&&(B=null),rn(rn(rn({},A),Y),{},{prevProps:i,ariaSelection:B,prevWasFocused:Z})}}]),n}(te.Component);jH.defaultProps=x2e;var R2e=te.forwardRef(function(t,e){var n=JSe(t);return te.createElement(jH,on({ref:e},n))}),P2e=R2e;const O2e=({webId:t})=>{const{communityId:e}=Dn(),[,n,,r]=jo(t,e),[i,a]=te.useState(""),{data:o,...s}=wme(i),l=fge(),c=cge(),h=async({id:v,document:w})=>{await ds(l({interest:v,document:w,person:t}),{pending:"Removing interest",success:"Interest removed"})},p=te.useMemo(()=>HSe(a,500),[]),m=te.useCallback(v=>p(v),[p]),y=async v=>{v&&await ds(c({interest:v.id,person:t,document:t}),{pending:`Adding ${v.label} to interests`,success:`${v.label} added to interests`})};return n||n===void 0?ne.jsx($o,{children:"loading interests"}):ne.jsxs("div",{children:[ne.jsx("ul",{className:uo.list,"data-cy":"interests-list-edit",children:r.map(({id:v,document:w})=>ne.jsx("li",{children:ne.jsx(I2e,{id:v,onRemove:()=>h({id:v,document:w})})},v+w))}),ne.jsx(P2e,{options:o,filterOption:()=>!0,formatOptionLabel:v=>ne.jsxs("div",{title:v.description,children:[v.label,v.aliases.length>0&&` (${v.aliases.join(", ")})`,ne.jsx("br",{}),v.description]}),isLoading:s.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:m,onChange:y,className:Pr(uo.select,"cy-select-interests"),classNames:{control:()=>uo.control,input:()=>uo.input,menu:()=>uo.menu,indicatorSeparator:()=>uo.separator,option:({isFocused:v})=>Pr(uo.option,v&&uo.focused)}})]})},I2e=({id:t,onRemove:e})=>{const{data:n}=s9(t),r={id:t,label:t.split("/").pop(),description:t},i=Qc({},r,n);return ne.jsxs("span",{title:i.description,className:uo.item,"data-cy":"edit-interest",children:[i.label," ",ne.jsx("button",{onClick:e,children:ne.jsx(bR,{})})]})},L2e="_container_6bk5k_1",M2e="_uploadButton_6bk5k_17",$H={container:L2e,uploadButton:M2e},D2e=()=>{const{communityId:t}=Dn(),e=li(),n=Vd(),[,,r,,i]=jo(e.webId,t),a=lge(),o=mfe(),s=gfe(),l=async c=>{var y;if(!e.webId)throw new Error("Not signed in (should not happen)");if(!r)throw new Error("Hospex document not found");const h=(y=c.photo)==null?void 0:y[0];let p;const m=i==null?void 0:i.photo;h&&(p=await s.mutateAsync({uri:yi(r),data:h})),await a({hospexDocument:r,personId:e.webId,data:{...c,photo:p},language:"en"}),h&&m&&await o.mutateAsync({uri:m}),n("..")};if(!e.webId)throw new Error("Not signed in (should not happen)");return i?ne.jsxs("div",{className:$H.container,children:[ne.jsx(k2e,{initialData:i,onSubmit:c=>ds(l(c),{pending:"Updating profile",success:"Profile updated"})}),ne.jsx("label",{children:"Interests"}),ne.jsx(O2e,{webId:e.webId})]}):ne.jsx($o,{children:"Fetching profile"})},k2e=({initialData:t,onSubmit:e})=>{const{register:n,handleSubmit:r,watch:i,setValue:a}=bu({defaultValues:Y9(t,"photo")});te.useEffect(()=>{typeof t.name=="string"&&a("name",t.name)},[t.name,a]),te.useEffect(()=>{typeof t.about=="string"&&a("about",t.about)},[t.about,a]);const{data:o}=wR(t.photo),s=r(async p=>{await e(p)}),[l,c]=te.useState();te.useEffect(()=>{const p=i(async(m,{name:y})=>{var v;if(y==="photo"){const w=(v=m.photo)==null?void 0:v[0];w&&c(await sfe(w))}});return()=>p.unsubscribe()},[i]);const h=l||o;return ne.jsxs("form",{onSubmit:s,children:[ne.jsx("label",{htmlFor:"name",children:"Name"}),ne.jsx("input",{id:"name",type:"text",...n("name"),placeholder:"Name"}),ne.jsx("label",{htmlFor:"photo",children:"Photo"}),ne.jsxs("label",{tabIndex:0,htmlFor:"photo",className:$H.uploadButton,style:h?{backgroundImage:`url(${h})`}:void 0,children:[ne.jsx(Efe,{}),ne.jsx("input",{id:"photo",type:"file",...n("photo"),accept:"image/*"})]}),ne.jsx("label",{htmlFor:"about",children:"About me"}),ne.jsx("textarea",{id:"about",...n("about")}),ne.jsx(hr,{primary:!0,children:"Save changes"})]})},N2e="_container_14k79_1",F2e={container:N2e},j2e=()=>{const t=li(),{data:e}=ow(t.webId);return ne.jsxs("div",{className:F2e.container,children:[ne.jsxs(zc,{to:"travel",secondary:!0,children:[ne.jsx(Rfe,{size:24})," travel"]}),ne.jsxs(zc,{to:"host",secondary:!0,children:[ne.jsx(nB,{size:24})," host"]}),ne.jsxs(zc,{to:"messages",secondary:!0,children:[ne.jsx(Lfe,{size:24})," messages",e!=null&&e.length?` (${e.length} new)`:null]})]})},$2e="_container_u0fgb_1",eC={container:$2e},UH=({tabs:t,children:e})=>ne.jsxs("div",{className:eC.container,children:[e,ne.jsx("nav",{className:eC.navigation,children:t.map(({link:n,label:r})=>ne.jsx(ZG,{className:({isActive:i})=>i?eC.active:void 0,to:n,children:r},n))})]}),U2e=()=>ne.jsx(UH,{tabs:[],children:ne.jsx(R0,{})}),B2e=()=>ne.jsx(KA,{to:"offers",replace:!0}),q2e=()=>ne.jsx(ne.Fragment,{children:"InvitePeople"});var z_={exports:{}},z2e=z_.exports,e$;function H2e(){return e$||(e$=1,function(t,e){(function(n,r){t.exports=r()})(z2e,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",h="week",p="month",m="quarter",y="year",v="date",w="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(re){var ue=["th","st","nd","rd"],ge=re%100;return"["+re+(ue[(ge-20)%10]||ue[ge]||ue[0])+"]"}},A=function(re,ue,ge){var _e=String(re);return!_e||_e.length>=ue?re:""+Array(ue+1-_e.length).join(ge)+re},I={s:A,z:function(re){var ue=-re.utcOffset(),ge=Math.abs(ue),_e=Math.floor(ge/60),de=ge%60;return(ue<=0?"+":"-")+A(_e,2,"0")+":"+A(de,2,"0")},m:function re(ue,ge){if(ue.date()<ge.date())return-re(ge,ue);var _e=12*(ge.year()-ue.year())+(ge.month()-ue.month()),de=ue.clone().add(_e,p),fe=ge-de<0,Ie=ue.clone().add(_e+(fe?-1:1),p);return+(-(_e+(ge-de)/(fe?de-Ie:Ie-de))||0)},a:function(re){return re<0?Math.ceil(re)||0:Math.floor(re)},p:function(re){return{M:p,y,w:h,d:c,D:v,h:l,m:s,s:o,ms:a,Q:m}[re]||String(re||"").toLowerCase().replace(/s$/,"")},u:function(re){return re===void 0}},M="en",D={};D[M]=E;var F=function(re){return re instanceof Z},Q=function re(ue,ge,_e){var de;if(!ue)return M;if(typeof ue=="string"){var fe=ue.toLowerCase();D[fe]&&(de=fe),ge&&(D[fe]=ge,de=fe);var Ie=ue.split("-");if(!de&&Ie.length>1)return re(Ie[0])}else{var k=ue.name;D[k]=ue,de=k}return!_e&&de&&(M=de),de||!_e&&M},Y=function(re,ue){if(F(re))return re.clone();var ge=typeof ue=="object"?ue:{};return ge.date=re,ge.args=arguments,new Z(ge)},B=I;B.l=Q,B.i=F,B.w=function(re,ue){return Y(re,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var Z=function(){function re(ge){this.$L=Q(ge.locale,null,!0),this.parse(ge)}var ue=re.prototype;return ue.parse=function(ge){this.$d=function(_e){var de=_e.date,fe=_e.utc;if(de===null)return new Date(NaN);if(B.u(de))return new Date;if(de instanceof Date)return new Date(de);if(typeof de=="string"&&!/Z$/i.test(de)){var Ie=de.match(S);if(Ie){var k=Ie[2]-1||0,ie=(Ie[7]||"0").substring(0,3);return fe?new Date(Date.UTC(Ie[1],k,Ie[3]||1,Ie[4]||0,Ie[5]||0,Ie[6]||0,ie)):new Date(Ie[1],k,Ie[3]||1,Ie[4]||0,Ie[5]||0,Ie[6]||0,ie)}}return new Date(de)}(ge),this.$x=ge.x||{},this.init()},ue.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},ue.$utils=function(){return B},ue.isValid=function(){return this.$d.toString()!==w},ue.isSame=function(ge,_e){var de=Y(ge);return this.startOf(_e)<=de&&de<=this.endOf(_e)},ue.isAfter=function(ge,_e){return Y(ge)<this.startOf(_e)},ue.isBefore=function(ge,_e){return this.endOf(_e)<Y(ge)},ue.$g=function(ge,_e,de){return B.u(ge)?this[_e]:this.set(de,ge)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(ge,_e){var de=this,fe=!!B.u(_e)||_e,Ie=B.p(ge),k=function(Re,Fe){var Xe=B.w(de.$u?Date.UTC(de.$y,Fe,Re):new Date(de.$y,Fe,Re),de);return fe?Xe:Xe.endOf(c)},ie=function(Re,Fe){return B.w(de.toDate()[Re].apply(de.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(Fe)),de)},me=this.$W,H=this.$M,J=this.$D,pe="set"+(this.$u?"UTC":"");switch(Ie){case y:return fe?k(1,0):k(31,11);case p:return fe?k(1,H):k(0,H+1);case h:var Ae=this.$locale().weekStart||0,Je=(me<Ae?me+7:me)-Ae;return k(fe?J-Je:J+(6-Je),H);case c:case v:return ie(pe+"Hours",0);case l:return ie(pe+"Minutes",1);case s:return ie(pe+"Seconds",2);case o:return ie(pe+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(ge){return this.startOf(ge,!1)},ue.$set=function(ge,_e){var de,fe=B.p(ge),Ie="set"+(this.$u?"UTC":""),k=(de={},de[c]=Ie+"Date",de[v]=Ie+"Date",de[p]=Ie+"Month",de[y]=Ie+"FullYear",de[l]=Ie+"Hours",de[s]=Ie+"Minutes",de[o]=Ie+"Seconds",de[a]=Ie+"Milliseconds",de)[fe],ie=fe===c?this.$D+(_e-this.$W):_e;if(fe===p||fe===y){var me=this.clone().set(v,1);me.$d[k](ie),me.init(),this.$d=me.set(v,Math.min(this.$D,me.daysInMonth())).$d}else k&&this.$d[k](ie);return this.init(),this},ue.set=function(ge,_e){return this.clone().$set(ge,_e)},ue.get=function(ge){return this[B.p(ge)]()},ue.add=function(ge,_e){var de,fe=this;ge=Number(ge);var Ie=B.p(_e),k=function(H){var J=Y(fe);return B.w(J.date(J.date()+Math.round(H*ge)),fe)};if(Ie===p)return this.set(p,this.$M+ge);if(Ie===y)return this.set(y,this.$y+ge);if(Ie===c)return k(1);if(Ie===h)return k(7);var ie=(de={},de[s]=r,de[l]=i,de[o]=n,de)[Ie]||1,me=this.$d.getTime()+ge*ie;return B.w(me,this)},ue.subtract=function(ge,_e){return this.add(-1*ge,_e)},ue.format=function(ge){var _e=this,de=this.$locale();if(!this.isValid())return de.invalidDate||w;var fe=ge||"YYYY-MM-DDTHH:mm:ssZ",Ie=B.z(this),k=this.$H,ie=this.$m,me=this.$M,H=de.weekdays,J=de.months,pe=function(Fe,Xe,oe,z){return Fe&&(Fe[Xe]||Fe(_e,fe))||oe[Xe].slice(0,z)},Ae=function(Fe){return B.s(k%12||12,Fe,"0")},Je=de.meridiem||function(Fe,Xe,oe){var z=Fe<12?"AM":"PM";return oe?z.toLowerCase():z},Re={YY:String(this.$y).slice(-2),YYYY:B.s(this.$y,4,"0"),M:me+1,MM:B.s(me+1,2,"0"),MMM:pe(de.monthsShort,me,J,3),MMMM:pe(J,me),D:this.$D,DD:B.s(this.$D,2,"0"),d:String(this.$W),dd:pe(de.weekdaysMin,this.$W,H,2),ddd:pe(de.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(k),HH:B.s(k,2,"0"),h:Ae(1),hh:Ae(2),a:Je(k,ie,!0),A:Je(k,ie,!1),m:String(ie),mm:B.s(ie,2,"0"),s:String(this.$s),ss:B.s(this.$s,2,"0"),SSS:B.s(this.$ms,3,"0"),Z:Ie};return fe.replace(x,function(Fe,Xe){return Xe||Re[Fe]||Ie.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(ge,_e,de){var fe,Ie=B.p(_e),k=Y(ge),ie=(k.utcOffset()-this.utcOffset())*r,me=this-k,H=B.m(this,k);return H=(fe={},fe[y]=H/12,fe[p]=H,fe[m]=H/3,fe[h]=(me-ie)/6048e5,fe[c]=(me-ie)/864e5,fe[l]=me/i,fe[s]=me/r,fe[o]=me/n,fe)[Ie]||me,de?H:B.a(H)},ue.daysInMonth=function(){return this.endOf(p).$D},ue.$locale=function(){return D[this.$L]},ue.locale=function(ge,_e){if(!ge)return this.$L;var de=this.clone(),fe=Q(ge,_e,!0);return fe&&(de.$L=fe),de},ue.clone=function(){return B.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},re}(),ce=Z.prototype;return Y.prototype=ce,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",p],["$y",y],["$D",v]].forEach(function(re){ce[re[1]]=function(ue){return this.$g(ue,re[0],re[1])}}),Y.extend=function(re,ue){return re.$i||(re(ue,Z,Y),re.$i=!0),Y},Y.locale=Q,Y.isDayjs=F,Y.unix=function(re){return Y(1e3*re)},Y.en=D[M],Y.Ls=D,Y.p={},Y})}(z_)),z_.exports}var V2e=H2e();const t$=Dr(V2e),K2e=()=>{const t=of(Nd);return te.useCallback(async({senderId:e,message:n,chat:r})=>{const a=`${yi(r)}${t$().format("YYYY/MM/DD")}/chat.ttl`,o=`${a}#msg-${Sl()}`,s=new Date().toISOString();return await t.mutateAsync({uri:yi(r)+t$().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message??(l.message=[]),l.message.push({"@id":o,created:s,content:n,maker:{"@id":e}})}}),{messageId:o,todayChat:a,createdAt:s}},[t])},G2e=()=>{const t=Fo(Iq);return te.useCallback(async({inbox:e,senderId:n,messageId:r,chatId:i,updated:a,content:o})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:o,maker:{"@id":n}},target:{"@id":i},updated:a}})},[t])},W2e=()=>{const t=Fo(Nd),e=Fo(uf),n=bz();return te.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:o,privateTypeIndex:s})=>{const l=`${o}messages/${Sl()}/`,c=`${l}index.ttl`,h=`${c}#this`,p=new Date().toISOString();await t.mutateAsync({uri:c,data:{"@id":h,type:{"@id":"LongChat"},author:{"@id":r},created2:p,title:"Hospex chat channel",participation:[{"@id":`${c}#${Sl()}`,dtstart:p,participant:{"@id":r}},{"@id":`${c}#${Sl()}`,dtstart:p,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const m=await Ol(l);return await e.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Sn.Read}]}]}),await n({index:s,type:bq.LongChat,location:h}),{chatContainer:l,chatFile:c,chatId:h}},[e,t,n])},Q2e=()=>{const t=of(Nd),e=aw();return te.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await t.mutateAsync({uri:r,subject:r,transform:o=>{var l,c,h;if(!o.participation)throw new Error("no participation");if(o.participation&&o.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const s=(l=o.participation)==null?void 0:l.find(p=>{var m;return((m=p.participant)==null?void 0:m["@id"])===a});if(!s)throw new Error("other person's participation not found");if(((c=s.references)==null?void 0:c.length)===1&&s.references[0]["@id"]===i)throw new Error("already updated");if(s.references&&((h=s.references)==null?void 0:h.length)>0)throw new Error("participation already references some other chat");s.references=[{"@id":i}]}})}catch(o){if(!(o instanceof Error&&o.message==="already updated"))throw o}await e.mutateAsync({uri:n})},[e,t])},Z2e=({me:t,userId:e})=>{const{quads:n,variables:r,isLoading:i}=la(te.useMemo(()=>({query:Ppe,variables:{person:[t],otherPerson:[e]},fetch:nr,staleTime:3e4}),[t,e])),a=te.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Nd);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>p.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v;return(v=y==null?void 0:y.message)==null?void 0:v.flatMap(w=>{var S;return{id:w["@id"],message:w.content,createdAt:new Date(w.created).getTime(),from:w.maker["@id"],chat:y["@id"],test:(S=y.participation)==null?void 0:S.map(x=>x.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),o=te.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Nd);return(r.chatWithOtherPerson??[]).map(y=>p.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v,w;return y["@id"]?{myChat:y["@id"],otherChats:(w=(v=y.participation)==null?void 0:v[0].references)==null?void 0:w.flatMap(S=>S["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:s,...l}=ow(t),c=te.useMemo(()=>s.filter(p=>p.from===e),[s,e]);return[te.useMemo(()=>{const p=[...a];return c.forEach(m=>{const y=a.findIndex(v=>v.id===m.id);y>-1?p[y]=m:p.push(m)}),p.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,c]),{isLoading:i},l,o]},J2e=({from:t,to:e,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:t.id,name:t.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:e.id,name:e.name}}),Y2e=t=>async({data:e})=>{if(!(await nr(new URL("notification",t),{method:"POST",body:JSON.stringify(J2e(e)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},X2e=({from:t,to:e,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=Dn();n??(n=i);const[o]=jo(t,n),[s]=jo(e,n),{mutateAsync:l}=Ea({mutationFn:Y2e(a)});return te.useCallback(async c=>{await l({type:r,data:{...c,from:o,to:s}})},[o,l,s,r])};var BH=Symbol.for("immer-nothing"),n$=Symbol.for("immer-draftable"),Ha=Symbol.for("immer-state");function Do(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ud=Object.getPrototypeOf;function Bd(t){return!!t&&!!t[Ha]}function Yc(t){var e;return t?qH(t)||Array.isArray(t)||!!t[n$]||!!((e=t.constructor)!=null&&e[n$])||ww(t)||bw(t):!1}var eCe=Object.prototype.constructor.toString();function qH(t){if(!t||typeof t!="object")return!1;const e=Ud(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===eCe}function lm(t,e){_w(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function _w(t){const e=t[Ha];return e?e.type_:Array.isArray(t)?1:ww(t)?2:bw(t)?3:0}function AA(t,e){return _w(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zH(t,e,n){const r=_w(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function tCe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ww(t){return t instanceof Map}function bw(t){return t instanceof Set}function Ac(t){return t.copy_||t.base_}function RA(t,e){if(ww(t))return new Map(t);if(bw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&qH(t))return Ud(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Ha];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Ud(t),n)}function PP(t,e=!1){return Sw(t)||Bd(t)||!Yc(t)||(_w(t)>1&&(t.set=t.add=t.clear=t.delete=nCe),Object.freeze(t),e&&lm(t,(n,r)=>PP(r,!0))),t}function nCe(){Do(2)}function Sw(t){return Object.isFrozen(t)}var rCe={};function Xc(t){const e=rCe[t];return e||Do(0,t),e}var cm;function HH(){return cm}function iCe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r$(t,e){e&&(Xc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PA(t){OA(t),t.drafts_.forEach(aCe),t.drafts_=null}function OA(t){t===cm&&(cm=t.parent_)}function i$(t){return cm=iCe(cm,t)}function aCe(t){const e=t[Ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function a$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ha].modified_&&(PA(e),Do(4)),Yc(t)&&(t=x0(e,t),e.parent_||E0(e,t)),e.patches_&&Xc("Patches").generateReplacementPatches_(n[Ha].base_,t,e.patches_,e.inversePatches_)):t=x0(e,n,[]),PA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==BH?t:void 0}function x0(t,e,n){if(Sw(e))return e;const r=e[Ha];if(!r)return lm(e,(i,a)=>o$(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return E0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),lm(a,(s,l)=>o$(t,r,i,s,l,n,o)),E0(t,i,!1),n&&t.patches_&&Xc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function o$(t,e,n,r,i,a,o){if(Bd(i)){const s=a&&e&&e.type_!==3&&!AA(e.assigned_,r)?a.concat(r):void 0,l=x0(t,i,s);if(zH(n,r,l),Bd(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Yc(i)&&!Sw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;x0(t,i),(!e||!e.scope_.parent_)&&E0(t,i)}}function E0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&PP(e,n)}function oCe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:HH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=OP;n&&(i=[r],a=fm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var OP={get(t,e){if(e===Ha)return t;const n=Ac(t);if(!AA(n,e))return sCe(t,n,e);const r=n[e];return t.finalized_||!Yc(r)?r:r===tC(t.base_,e)?(nC(t),t.copy_[e]=LA(r,t)):r},has(t,e){return e in Ac(t)},ownKeys(t){return Reflect.ownKeys(Ac(t))},set(t,e,n){const r=VH(Ac(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=tC(Ac(t),e),a=i==null?void 0:i[Ha];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(tCe(n,i)&&(n!==void 0||AA(t.base_,e)))return!0;nC(t),IA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return tC(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,nC(t),IA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ac(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Do(11)},getPrototypeOf(t){return Ud(t.base_)},setPrototypeOf(){Do(12)}},fm={};lm(OP,(t,e)=>{fm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fm.deleteProperty=function(t,e){return fm.set.call(this,t,e,void 0)};fm.set=function(t,e,n){return OP.set.call(this,t[0],e,n,t[0])};function tC(t,e){const n=t[Ha];return(n?Ac(n):t)[e]}function sCe(t,e,n){var i;const r=VH(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function VH(t,e){if(!(e in t))return;let n=Ud(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ud(n)}}function IA(t){t.modified_||(t.modified_=!0,t.parent_&&IA(t.parent_))}function nC(t){t.copy_||(t.copy_=RA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var uCe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(l=a,...c){return o.produce(l,h=>n.call(this,h,...c))}}typeof n!="function"&&Do(6),r!==void 0&&typeof r!="function"&&Do(7);let i;if(Yc(e)){const a=i$(this),o=LA(e,void 0);let s=!0;try{i=n(o),s=!1}finally{s?PA(a):OA(a)}return r$(a,r),a$(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===BH&&(i=void 0),this.autoFreeze_&&PP(i,!0),r){const a=[],o=[];Xc("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else Do(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let r,i;return[this.produce(e,n,(o,s)=>{r=o,i=s}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Yc(t)||Do(8),Bd(t)&&(t=lCe(t));const e=i$(this),n=LA(t,void 0);return n[Ha].isManual_=!0,OA(e),n}finishDraft(t,e){const n=t&&t[Ha];(!n||!n.isManual_)&&Do(9);const{scope_:r}=n;return r$(r,e),a$(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xc("Patches").applyPatches_;return Bd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function LA(t,e){const n=ww(t)?Xc("MapSet").proxyMap_(t,e):bw(t)?Xc("MapSet").proxySet_(t,e):oCe(t,e);return(e?e.scope_:HH()).drafts_.push(n),n}function lCe(t){return Bd(t)||Do(10,t),KH(t)}function KH(t){if(!Yc(t)||Sw(t))return t;const e=t[Ha];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=RA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=RA(t,!0);return lm(n,(r,i)=>{zH(n,r,KH(i))}),e&&(e.finalized_=!1),n}var Va=new uCe,rC=Va.produce;Va.produceWithPatches.bind(Va);Va.setAutoFreeze.bind(Va);Va.setUseStrictShallowCopy.bind(Va);Va.applyPatches.bind(Va);Va.createDraft.bind(Va);Va.finishDraft.bind(Va);const cCe="_messages_1tp4g_1",fCe="_message_1tp4g_1",dCe="_fromMe_1tp4g_13",hCe="_unread_1tp4g_18",pCe="_time_1tp4g_21",gCe="_messageForm_1tp4g_25",ed={messages:cCe,message:fCe,fromMe:dCe,unread:hCe,time:pCe,messageForm:gCe},mCe=()=>{var ue,ge;const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=Dn(),r=HA().id,i=li(),[a,o]=te.useState(!1),[s,l,c,h]=Z2e({me:i.webId??"",userId:r}),{privateTypeIndexes:p,personalHospexDocuments:m}=am(i.webId??"",t),[y]=Gq(r),v=(ue=y==null?void 0:y.inbox)==null?void 0:ue["@id"],w=K2e(),S=G2e(),x=W2e(),E=X2e({from:i.webId,to:r,type:"message"}),A=Q2e(),[I,M]=te.useState({}),D=te.useRef(new Set);te.useEffect(()=>{(async()=>{var _e;if(s&&i.webId&&((_e=h[0])!=null&&_e.myChat)){for(const de of s)if(de.notification&&!(de.id in I)&&!D.current.has(de.id)){D.current.add(de.id),M(rC(fe=>{fe[de.id]="processing"}));try{await A({notificationId:de.notification,chat:h[0].myChat,otherChat:de.chat,otherPerson:r}),M(rC(fe=>{fe[de.id]="processed"}))}catch{M(rC(fe=>{fe[de.id]="errored"}))}}}})()},[i.webId,h,s,I,r,A]);const F=(ge=s.filter(_e=>_e.notification).find(_e=>!!_e.chat))==null?void 0:ge.chat,{register:Q,handleSubmit:Y,reset:B}=bu(),Z=Y(async _e=>{var k,ie,me;if(!i.webId)throw new Error("No authenticated user available");if(o(!0),!v)throw new Error("Inbox of the other person not found (probably too soon)");let de=(k=h[0])==null?void 0:k.myChat;if(!de){if(!m[0])throw new Error("Hospex not set up (should not happen)");if(!p[0])throw new Error("Private type index not set up (should not happen)");({chatId:de}=await x({me:i.webId,otherPerson:r,hospexContainer:yi(m[0]),otherChat:((me=(ie=h[0])==null?void 0:ie.otherChats)==null?void 0:me[0])??F??void 0,privateTypeIndex:p[0]}))}const{messageId:fe,createdAt:Ie}=await ds(w({senderId:i.webId,message:_e.message,chat:de}),{pending:"Creating message",success:"Message was created"});await ds(S({inbox:v,senderId:i.webId,messageId:fe,chatId:de,updated:Ie,content:_e.message}),{pending:"Sending Solid notification",success:"Solid notification was sent"}),B({message:""}),o(!1),e&&n==="simple"&&await ds(E({messageId:fe,message:_e.message}),{pending:"Sending email notification",success:"Email notification was sent"})}),ce=a||!v,re=!l.isLoading&&!c.isLoading&&!h.some(_e=>!!_e.myChat);return ne.jsxs("div",{children:[ne.jsx("pre",{children:(l.isLoading||c.isLoading)&&"Loading"}),"Messages with ",ne.jsx(_P,{webId:r,link:!0}),ne.jsx("div",{className:ed.messages,children:(s==null?void 0:s.map(({id:_e,message:de,from:fe,createdAt:Ie,status:k})=>ne.jsxs("div",{className:Pr(ed.message,fe===i.webId&&ed.fromMe,k==="unread"&&ed.unread),"data-cy":"message","data-cy-message-from":fe===i.webId?"me":"other",children:[de," ",ne.jsx("span",{className:ed.time,title:new Date(Ie).toLocaleString(),children:new Date(Ie).toLocaleTimeString()})]},_e)))??ne.jsx("div",{children:ne.jsx($o,{children:"Loading previous messages"})})}),re&&ne.jsx(ne.Fragment,{children:"This is a start of your conversation"}),ne.jsx("form",{onSubmit:Z,className:ed.messageForm,children:ne.jsxs("fieldset",{disabled:ce,children:[ne.jsx("textarea",{...Q("message",{required:!0})}),ne.jsx(hr,{primary:!0,type:"submit",disabled:ce,children:"Send"})]})})]})},yCe=()=>ne.jsx(ne.Fragment,{children:"MyGuests"}),vCe=()=>ne.jsx(ne.Fragment,{children:"MyHosts"});/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const bc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.add(n)})},Sc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.remove(n)})},GH=An.Marker.extend({initialize(t,e){An.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const n=this._getIconSVG(t,e);this._locationIcon=An.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const n=t.radius,r=t.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+e+'" /></svg>',w:a,h:a}},setStyle(t){An.setOptions(this,t),this.createIcon()}}),_Ce=GH.extend({initialize(t,e,n){An.setOptions(this,n),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const n=t.radius,r=t.width+t.weight,i=(n+t.depth+t.weight)*2,a=`M0,0 l${t.width/2},${t.depth} l-${r},0 z`,o=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${o}"><path d="`+a+'" style="'+e+'" /></svg>',w:r,h:i}}}),wCe=An.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:GH,compassClass:_Ce,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const n=An.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);n.title=e.strings.title,n.href="#",n.setAttribute("role","button");const r=An.DomUtil.create(e.iconElementTag,e.icon,n);if(e.strings.text!==void 0){const i=An.DomUtil.create(e.textElementTag,"leaflet-locate-text",n);i.textContent=e.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",e.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?An.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=An.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=An.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=An.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=An.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new An.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,An.DomEvent.on(this._link,"click",function(r){An.DomEvent.stopPropagation(r),An.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",An.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,n=function(){An.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?An.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&An.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),An.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(o):this._circle=An.circle(e,t,o).addTo(this._layer)}let n,r;if(this.options.metric?(n=t.toFixed(0),r=this.options.strings.metersUnit):(n=(t*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(e,o).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?An.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(e),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,An.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(Sc(this._container,"active following"),bc(this._container,"requesting"),Sc(this._icon,this.options.icon),bc(this._icon,this.options.iconLoading)):t=="active"?(Sc(this._container,"requesting following"),bc(this._container,"active"),Sc(this._icon,this.options.iconLoading),bc(this._icon,this.options.icon)):t=="following"&&(Sc(this._container,"requesting"),bc(this._container,"active following"),Sc(this._icon,this.options.iconLoading),bc(this._icon,this.options.icon))},_cleanClasses(){An.DomUtil.removeClass(this._container,"requesting"),An.DomUtil.removeClass(this._container,"active"),An.DomUtil.removeClass(this._container,"following"),Sc(this._icon,this.options.iconLoading),bc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function bCe(t,e){const n=te.useRef(e);te.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const SCe=1;function xCe(t){return Object.freeze({__version:SCe,map:t})}function ECe(t,e){return Object.freeze({...t,...e})}const IP=te.createContext(null);function xw(){const t=te.use(IP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function WH(t){function e(n,r){const{instance:i,context:a}=t(n).current;te.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:Ut.createElement(IP,{value:a},o)}return te.forwardRef(e)}function QH(t){function e(n,r){const{instance:i}=t(n).current;return te.useImperativeHandle(r,()=>i),null}return te.forwardRef(e)}function TCe(t){return function(n){const r=xw(),i=t(n,r),{instance:a}=i.current,o=te.useRef(n.position),{position:s}=n;return te.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),te.useEffect(function(){s!=null&&s!==o.current&&(a.setPosition(s),o.current=s)},[a,s]),i}}function ZH(t,e){const n=te.useRef(void 0);te.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function LP(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function MP(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Ew(t,e){return e==null?function(r,i){const a=te.useRef(void 0);return a.current||(a.current=t(r,i)),a}:function(r,i){const a=te.useRef(void 0);a.current||(a.current=t(r,i));const o=te.useRef(r),{instance:s}=a.current;return te.useEffect(function(){o.current!==r&&(e(s,r,o.current),o.current=r)},[s,r,e]),a}}function JH(t,e){te.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function YH(t){return function(n){const r=xw(),i=t(LP(n,r),r);return bCe(r.map,n.attribution),ZH(i.current,n.eventHandlers),JH(i.current,r),i}}function CCe(t,e){const n=te.useRef(void 0);te.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function ACe(t){return function(n){const r=xw(),i=t(LP(n,r),r);return ZH(i.current,n.eventHandlers),JH(i.current,r),CCe(i.current,n),i}}function RCe(t){function e(i,a){return MP(t(i),a)}const n=Ew(e),r=TCe(n);return QH(r)}function PCe(t,e){const n=Ew(t,e),r=YH(n);return WH(r)}function OCe(t,e){const n=Ew(t,e),r=ACe(n);return WH(r)}function ICe(t,e){const n=Ew(t,e),r=YH(n);return QH(r)}function LCe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const XH=RCe(t=>new wCe(t));function DP(){return xw().map}function iC(t,e){const n=DP();return te.useEffect(function(){return n.on(t,e),function(){n.off(t,e)}},[n,t,e]),n}function MCe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:c,...h},p){const[m]=te.useState({className:i,id:a,style:s}),[y,v]=te.useState(null),w=te.useRef(void 0);te.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const S=te.useCallback(E=>{if(E!==null&&!w.current){const A=new An.Map(E,h);w.current=A,n!=null&&c!=null?A.setView(n,c):t!=null&&A.fitBounds(t,e),l!=null&&A.whenReady(l),v(xCe(A))}},[]);te.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const x=y?Ut.createElement(IP,{value:y},r):o??null;return Ut.createElement("div",{...m,ref:S},x)}const kP=te.forwardRef(MCe),NP=PCe(function({position:e,...n},r){const i=new An.Marker(e,n);return MP(i,ECe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),FP=ICe(function({url:e,...n},r){const i=new An.TileLayer(e,LP(n,r));return MP(i,r)},function(e,n,r){LCe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),DCe="_mapContainer_zpxie_1",kCe="_description_zpxie_11",MA={mapContainer:DCe,description:kCe},s$=t=>(t%360-180*3)%360+180,Mv=t=>{const e=t.getBounds();return{n:e.getNorth(),s:e.getSouth(),e:e.getEast(),w:e.getWest()}},e7=({onChange:t,onUpdate:e})=>{const n=DP(),r=te.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=Mv(n);t==null||t({lat:o,long:s},l)},[n,t]),i=te.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=s$(s),c={lat:o,long:l};if(Math.abs(l-s)>1){n.setView([o,l],n.getZoom(),{animate:!1});const p=Mv(n);t==null||t(c,p)}const h=Mv(n);e==null||e(c,h)},[n,t,e]),a=te.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=s$(s),c={lat:o,long:l};Math.abs(l-s)>1&&n.setView([o,l],n.getZoom(),{animate:!1});const h=Mv(n);e==null||e(c,h)},[n,e]);return iC("load",a),iC("move",r),iC("moveend",i),te.useEffect(()=>{n&&a()},[a,n]),null},NCe=({value:t,onChange:e,isInitial:n})=>{const r=te.useMemo(()=>[t.lat,t.long],[t.lat,t.long]),{tileServer:i}=Dn();return ne.jsxs(kP,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Pr(MA.mapContainer,"accommodation-map-container-edit"),children:[ne.jsx(FP,{url:i}),ne.jsx(XH,{strings:{title:"Select my location"},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),ne.jsx(NP,{position:r}),ne.jsx(e7,{onChange:e})]})},FCe="_container_1saps_1",jCe="_header_1saps_10",$Ce="_accommodation_1saps_17",UCe="_accommodationForm_1saps_27",BCe="_errorMessage_1saps_34",qCe="_inputError_1saps_39",zCe="_actions_1saps_45",HCe="_addAccommodationButton_1saps_54",co={container:FCe,header:jCe,accommodation:$Ce,accommodationForm:UCe,errorMessage:BCe,inputError:qCe,actions:zCe,addAccommodationButton:HCe};var u$=function(t,e,n){if(t&&"reportValidity"in t){var r=$t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},t7=function(t,e){var n=function(i){var a=e.fields[i];a&&a.ref&&"reportValidity"in a.ref?u$(a.ref,i,t):a.refs&&a.refs.forEach(function(o){return u$(o,i,t)})};for(var r in e.fields)n(r)},VCe=function(t,e){e.shouldUseNativeValidation&&t7(t,e);var n={};for(var r in t){var i=$t(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(KCe(e.names||Object.keys(t),r)){var o=Object.assign({},$t(n,r));vr(o,"root",a),vr(n,r,o)}else vr(n,r,a)}return n},KCe=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},Dv={exports:{}},aC={},Ys={},xc={},oC={},sC={},uC={},l$;function dm(){return l$||(l$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(E){if(super(),!t.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((A,I)=>`${A}${I}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((A,I)=>(I instanceof n&&(A[I.str]=(A[I.str]||0)+1),A),{})}}t._Code=r,t.nil=new r("");function i(x,...E){const A=[x[0]];let I=0;for(;I<E.length;)s(A,E[I]),A.push(x[++I]);return new r(A)}t._=i;const a=new r("+");function o(x,...E){const A=[y(x[0])];let I=0;for(;I<E.length;)A.push(a),s(A,E[I]),A.push(a,y(x[++I]));return l(A),new r(A)}t.str=o;function s(x,E){E instanceof r?x.push(...E._items):E instanceof n?x.push(E):x.push(p(E))}t.addCodeArg=s;function l(x){let E=1;for(;E<x.length-1;){if(x[E]===a){const A=c(x[E-1],x[E+1]);if(A!==void 0){x.splice(E-1,3,A);continue}x[E++]="+"}E++}}function c(x,E){if(E==='""')return x;if(x==='""')return E;if(typeof x=="string")return E instanceof n||x[x.length-1]!=='"'?void 0:typeof E!="string"?`${x.slice(0,-1)}${E}"`:E[0]==='"'?x.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(x instanceof n))return`"${x}${E.slice(1)}`}function h(x,E){return E.emptyStr()?x:x.emptyStr()?E:o`${x}${E}`}t.strConcat=h;function p(x){return typeof x=="number"||typeof x=="boolean"||x===null?x:y(Array.isArray(x)?x.join(","):x)}function m(x){return new r(y(x))}t.stringify=m;function y(x){return JSON.stringify(x).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function v(x){return typeof x=="string"&&t.IDENTIFIER.test(x)?new r(`.${x}`):i`[${x}]`}t.getProperty=v;function w(x){if(typeof x=="string"&&t.IDENTIFIER.test(x))return new r(`${x}`);throw new Error(`CodeGen: invalid export name: ${x}, use explicit $id name mapping`)}t.getEsmExportName=w;function S(x){return new r(x.toString())}t.regexpCode=S}(uC)),uC}var lC={},c$;function f$(){return c$||(c$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=dm();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:c,parent:h}={}){this._names={},this._prefixes=c,this._parent=h}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const h=this._names[c]||this._nameGroup(c);return`${c}${h.index++}`}_nameGroup(c){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=i;class a extends e.Name{constructor(c,h){super(h),this.prefix=c}setValue(c,{property:h,itemIndex:p}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class s extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:e.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:y}=m,v=(p=h.key)!==null&&p!==void 0?p:h.ref;let w=this._values[y];if(w){const E=w.get(v);if(E)return E}else w=this._values[y]=new Map;w.set(v,m);const S=this._scope[y]||(this._scope[y]=[]),x=S.length;return S[x]=h.ref,m.setValue(h,{property:y,itemIndex:x}),m}getValue(c,h){const p=this._values[c];if(p)return p.get(h)}scopeRefs(c,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${c}${p.scopePath}`})}scopeCode(c=this._values,h,p){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},h,p)}_reduceValues(c,h,p={},m){let y=e.nil;for(const v in c){const w=c[v];if(!w)continue;const S=p[v]=p[v]||new Map;w.forEach(x=>{if(S.has(x))return;S.set(x,r.Started);let E=h(x);if(E){const A=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${A} ${x} = ${E};${this.opts._n}`}else if(E=m==null?void 0:m(x))y=(0,e._)`${y}${E}${this.opts._n}`;else throw new n(x);S.set(x,r.Completed)})}return y}}t.ValueScope=s}(lC)),lC}var d$;function On(){return d$||(d$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=dm(),n=f$();var r=dm();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=f$();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(J,pe){return this}}class o extends a{constructor(J,pe,Ae){super(),this.varKind=J,this.name=pe,this.rhs=Ae}render({es5:J,_n:pe}){const Ae=J?n.varKinds.var:this.varKind,Je=this.rhs===void 0?"":` = ${this.rhs}`;return`${Ae} ${this.name}${Je};`+pe}optimizeNames(J,pe){if(J[this.name.str])return this.rhs&&(this.rhs=ue(this.rhs,J,pe)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(J,pe,Ae){super(),this.lhs=J,this.rhs=pe,this.sideEffects=Ae}render({_n:J}){return`${this.lhs} = ${this.rhs};`+J}optimizeNames(J,pe){if(!(this.lhs instanceof e.Name&&!J[this.lhs.str]&&!this.sideEffects))return this.rhs=ue(this.rhs,J,pe),this}get names(){const J=this.lhs instanceof e.Name?{}:{...this.lhs.names};return re(J,this.rhs)}}class l extends s{constructor(J,pe,Ae,Je){super(J,Ae,Je),this.op=pe}render({_n:J}){return`${this.lhs} ${this.op}= ${this.rhs};`+J}}class c extends a{constructor(J){super(),this.label=J,this.names={}}render({_n:J}){return`${this.label}:`+J}}class h extends a{constructor(J){super(),this.label=J,this.names={}}render({_n:J}){return`break${this.label?` ${this.label}`:""};`+J}}class p extends a{constructor(J){super(),this.error=J}render({_n:J}){return`throw ${this.error};`+J}get names(){return this.error.names}}class m extends a{constructor(J){super(),this.code=J}render({_n:J}){return`${this.code};`+J}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(J,pe){return this.code=ue(this.code,J,pe),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends a{constructor(J=[]){super(),this.nodes=J}render(J){return this.nodes.reduce((pe,Ae)=>pe+Ae.render(J),"")}optimizeNodes(){const{nodes:J}=this;let pe=J.length;for(;pe--;){const Ae=J[pe].optimizeNodes();Array.isArray(Ae)?J.splice(pe,1,...Ae):Ae?J[pe]=Ae:J.splice(pe,1)}return J.length>0?this:void 0}optimizeNames(J,pe){const{nodes:Ae}=this;let Je=Ae.length;for(;Je--;){const Re=Ae[Je];Re.optimizeNames(J,pe)||(ge(J,Re.names),Ae.splice(Je,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((J,pe)=>ce(J,pe.names),{})}}class v extends y{render(J){return"{"+J._n+super.render(J)+"}"+J._n}}class w extends y{}class S extends v{}S.kind="else";class x extends v{constructor(J,pe){super(pe),this.condition=J}render(J){let pe=`if(${this.condition})`+super.render(J);return this.else&&(pe+="else "+this.else.render(J)),pe}optimizeNodes(){super.optimizeNodes();const J=this.condition;if(J===!0)return this.nodes;let pe=this.else;if(pe){const Ae=pe.optimizeNodes();pe=this.else=Array.isArray(Ae)?new S(Ae):Ae}if(pe)return J===!1?pe instanceof x?pe:pe.nodes:this.nodes.length?this:new x(_e(J),pe instanceof x?[pe]:pe.nodes);if(!(J===!1||!this.nodes.length))return this}optimizeNames(J,pe){var Ae;if(this.else=(Ae=this.else)===null||Ae===void 0?void 0:Ae.optimizeNames(J,pe),!!(super.optimizeNames(J,pe)||this.else))return this.condition=ue(this.condition,J,pe),this}get names(){const J=super.names;return re(J,this.condition),this.else&&ce(J,this.else.names),J}}x.kind="if";class E extends v{}E.kind="for";class A extends E{constructor(J){super(),this.iteration=J}render(J){return`for(${this.iteration})`+super.render(J)}optimizeNames(J,pe){if(super.optimizeNames(J,pe))return this.iteration=ue(this.iteration,J,pe),this}get names(){return ce(super.names,this.iteration.names)}}class I extends E{constructor(J,pe,Ae,Je){super(),this.varKind=J,this.name=pe,this.from=Ae,this.to=Je}render(J){const pe=J.es5?n.varKinds.var:this.varKind,{name:Ae,from:Je,to:Re}=this;return`for(${pe} ${Ae}=${Je}; ${Ae}<${Re}; ${Ae}++)`+super.render(J)}get names(){const J=re(super.names,this.from);return re(J,this.to)}}class M extends E{constructor(J,pe,Ae,Je){super(),this.loop=J,this.varKind=pe,this.name=Ae,this.iterable=Je}render(J){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(J)}optimizeNames(J,pe){if(super.optimizeNames(J,pe))return this.iterable=ue(this.iterable,J,pe),this}get names(){return ce(super.names,this.iterable.names)}}class D extends v{constructor(J,pe,Ae){super(),this.name=J,this.args=pe,this.async=Ae}render(J){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(J)}}D.kind="func";class F extends y{render(J){return"return "+super.render(J)}}F.kind="return";class Q extends v{render(J){let pe="try"+super.render(J);return this.catch&&(pe+=this.catch.render(J)),this.finally&&(pe+=this.finally.render(J)),pe}optimizeNodes(){var J,pe;return super.optimizeNodes(),(J=this.catch)===null||J===void 0||J.optimizeNodes(),(pe=this.finally)===null||pe===void 0||pe.optimizeNodes(),this}optimizeNames(J,pe){var Ae,Je;return super.optimizeNames(J,pe),(Ae=this.catch)===null||Ae===void 0||Ae.optimizeNames(J,pe),(Je=this.finally)===null||Je===void 0||Je.optimizeNames(J,pe),this}get names(){const J=super.names;return this.catch&&ce(J,this.catch.names),this.finally&&ce(J,this.finally.names),J}}class Y extends v{constructor(J){super(),this.error=J}render(J){return`catch(${this.error})`+super.render(J)}}Y.kind="catch";class B extends v{render(J){return"finally"+super.render(J)}}B.kind="finally";class Z{constructor(J,pe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...pe,_n:pe.lines?`
`:""},this._extScope=J,this._scope=new n.Scope({parent:J}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(J){return this._scope.name(J)}scopeName(J){return this._extScope.name(J)}scopeValue(J,pe){const Ae=this._extScope.value(J,pe);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(J,pe){return this._extScope.getValue(J,pe)}scopeRefs(J){return this._extScope.scopeRefs(J,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(J,pe,Ae,Je){const Re=this._scope.toName(pe);return Ae!==void 0&&Je&&(this._constants[Re.str]=Ae),this._leafNode(new o(J,Re,Ae)),Re}const(J,pe,Ae){return this._def(n.varKinds.const,J,pe,Ae)}let(J,pe,Ae){return this._def(n.varKinds.let,J,pe,Ae)}var(J,pe,Ae){return this._def(n.varKinds.var,J,pe,Ae)}assign(J,pe,Ae){return this._leafNode(new s(J,pe,Ae))}add(J,pe){return this._leafNode(new l(J,t.operators.ADD,pe))}code(J){return typeof J=="function"?J():J!==e.nil&&this._leafNode(new m(J)),this}object(...J){const pe=["{"];for(const[Ae,Je]of J)pe.length>1&&pe.push(","),pe.push(Ae),(Ae!==Je||this.opts.es5)&&(pe.push(":"),(0,e.addCodeArg)(pe,Je));return pe.push("}"),new e._Code(pe)}if(J,pe,Ae){if(this._blockNode(new x(J)),pe&&Ae)this.code(pe).else().code(Ae).endIf();else if(pe)this.code(pe).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(J){return this._elseNode(new x(J))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(x,S)}_for(J,pe){return this._blockNode(J),pe&&this.code(pe).endFor(),this}for(J,pe){return this._for(new A(J),pe)}forRange(J,pe,Ae,Je,Re=this.opts.es5?n.varKinds.var:n.varKinds.let){const Fe=this._scope.toName(J);return this._for(new I(Re,Fe,pe,Ae),()=>Je(Fe))}forOf(J,pe,Ae,Je=n.varKinds.const){const Re=this._scope.toName(J);if(this.opts.es5){const Fe=pe instanceof e.Name?pe:this.var("_arr",pe);return this.forRange("_i",0,(0,e._)`${Fe}.length`,Xe=>{this.var(Re,(0,e._)`${Fe}[${Xe}]`),Ae(Re)})}return this._for(new M("of",Je,Re,pe),()=>Ae(Re))}forIn(J,pe,Ae,Je=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(J,(0,e._)`Object.keys(${pe})`,Ae);const Re=this._scope.toName(J);return this._for(new M("in",Je,Re,pe),()=>Ae(Re))}endFor(){return this._endBlockNode(E)}label(J){return this._leafNode(new c(J))}break(J){return this._leafNode(new h(J))}return(J){const pe=new F;if(this._blockNode(pe),this.code(J),pe.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(J,pe,Ae){if(!pe&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Je=new Q;if(this._blockNode(Je),this.code(J),pe){const Re=this.name("e");this._currNode=Je.catch=new Y(Re),pe(Re)}return Ae&&(this._currNode=Je.finally=new B,this.code(Ae)),this._endBlockNode(Y,B)}throw(J){return this._leafNode(new p(J))}block(J,pe){return this._blockStarts.push(this._nodes.length),J&&this.code(J).endBlock(pe),this}endBlock(J){const pe=this._blockStarts.pop();if(pe===void 0)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-pe;if(Ae<0||J!==void 0&&Ae!==J)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${J} expected`);return this._nodes.length=pe,this}func(J,pe=e.nil,Ae,Je){return this._blockNode(new D(J,pe,Ae)),Je&&this.code(Je).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(J=1){for(;J-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(J){return this._currNode.nodes.push(J),this}_blockNode(J){this._currNode.nodes.push(J),this._nodes.push(J)}_endBlockNode(J,pe){const Ae=this._currNode;if(Ae instanceof J||pe&&Ae instanceof pe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${pe?`${J.kind}/${pe.kind}`:J.kind}"`)}_elseNode(J){const pe=this._currNode;if(!(pe instanceof x))throw new Error('CodeGen: "else" without "if"');return this._currNode=pe.else=J,this}get _root(){return this._nodes[0]}get _currNode(){const J=this._nodes;return J[J.length-1]}set _currNode(J){const pe=this._nodes;pe[pe.length-1]=J}}t.CodeGen=Z;function ce(H,J){for(const pe in J)H[pe]=(H[pe]||0)+(J[pe]||0);return H}function re(H,J){return J instanceof e._CodeOrName?ce(H,J.names):H}function ue(H,J,pe){if(H instanceof e.Name)return Ae(H);if(!Je(H))return H;return new e._Code(H._items.reduce((Re,Fe)=>(Fe instanceof e.Name&&(Fe=Ae(Fe)),Fe instanceof e._Code?Re.push(...Fe._items):Re.push(Fe),Re),[]));function Ae(Re){const Fe=pe[Re.str];return Fe===void 0||J[Re.str]!==1?Re:(delete J[Re.str],Fe)}function Je(Re){return Re instanceof e._Code&&Re._items.some(Fe=>Fe instanceof e.Name&&J[Fe.str]===1&&pe[Fe.str]!==void 0)}}function ge(H,J){for(const pe in J)H[pe]=(H[pe]||0)-(J[pe]||0)}function _e(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:(0,e._)`!${me(H)}`}t.not=_e;const de=ie(t.operators.AND);function fe(...H){return H.reduce(de)}t.and=fe;const Ie=ie(t.operators.OR);function k(...H){return H.reduce(Ie)}t.or=k;function ie(H){return(J,pe)=>J===e.nil?pe:pe===e.nil?J:(0,e._)`${me(J)} ${H} ${me(pe)}`}function me(H){return H instanceof e.Name?H:(0,e._)`(${H})`}}(sC)),sC}var Cn={},h$;function Vn(){if(h$)return Cn;h$=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.checkStrictMode=Cn.getErrorPath=Cn.Type=Cn.useFunc=Cn.setEvaluated=Cn.evaluatedPropsToName=Cn.mergeEvaluated=Cn.eachItem=Cn.unescapeJsonPointer=Cn.escapeJsonPointer=Cn.escapeFragment=Cn.unescapeFragment=Cn.schemaRefOrVal=Cn.schemaHasRulesButRef=Cn.schemaHasRules=Cn.checkUnknownRules=Cn.alwaysValidSchema=Cn.toHash=void 0;const t=On(),e=dm();function n(M){const D={};for(const F of M)D[F]=!0;return D}Cn.toHash=n;function r(M,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(M,D),!a(D,M.self.RULES.all))}Cn.alwaysValidSchema=r;function i(M,D=M.schema){const{opts:F,self:Q}=M;if(!F.strictSchema||typeof D=="boolean")return;const Y=Q.RULES.keywords;for(const B in D)Y[B]||I(M,`unknown keyword: "${B}"`)}Cn.checkUnknownRules=i;function a(M,D){if(typeof M=="boolean")return!M;for(const F in M)if(D[F])return!0;return!1}Cn.schemaHasRules=a;function o(M,D){if(typeof M=="boolean")return!M;for(const F in M)if(F!=="$ref"&&D.all[F])return!0;return!1}Cn.schemaHasRulesButRef=o;function s({topSchemaRef:M,schemaPath:D},F,Q,Y){if(!Y){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,t._)`${F}`}return(0,t._)`${M}${D}${(0,t.getProperty)(Q)}`}Cn.schemaRefOrVal=s;function l(M){return p(decodeURIComponent(M))}Cn.unescapeFragment=l;function c(M){return encodeURIComponent(h(M))}Cn.escapeFragment=c;function h(M){return typeof M=="number"?`${M}`:M.replace(/~/g,"~0").replace(/\//g,"~1")}Cn.escapeJsonPointer=h;function p(M){return M.replace(/~1/g,"/").replace(/~0/g,"~")}Cn.unescapeJsonPointer=p;function m(M,D){if(Array.isArray(M))for(const F of M)D(F);else D(M)}Cn.eachItem=m;function y({mergeNames:M,mergeToName:D,mergeValues:F,resultToName:Q}){return(Y,B,Z,ce)=>{const re=Z===void 0?B:Z instanceof t.Name?(B instanceof t.Name?M(Y,B,Z):D(Y,B,Z),Z):B instanceof t.Name?(D(Y,Z,B),B):F(B,Z);return ce===t.Name&&!(re instanceof t.Name)?Q(Y,re):re}}Cn.mergeEvaluated={props:y({mergeNames:(M,D,F)=>M.if((0,t._)`${F} !== true && ${D} !== undefined`,()=>{M.if((0,t._)`${D} === true`,()=>M.assign(F,!0),()=>M.assign(F,(0,t._)`${F} || {}`).code((0,t._)`Object.assign(${F}, ${D})`))}),mergeToName:(M,D,F)=>M.if((0,t._)`${F} !== true`,()=>{D===!0?M.assign(F,!0):(M.assign(F,(0,t._)`${F} || {}`),w(M,F,D))}),mergeValues:(M,D)=>M===!0?!0:{...M,...D},resultToName:v}),items:y({mergeNames:(M,D,F)=>M.if((0,t._)`${F} !== true && ${D} !== undefined`,()=>M.assign(F,(0,t._)`${D} === true ? true : ${F} > ${D} ? ${F} : ${D}`)),mergeToName:(M,D,F)=>M.if((0,t._)`${F} !== true`,()=>M.assign(F,D===!0?!0:(0,t._)`${F} > ${D} ? ${F} : ${D}`)),mergeValues:(M,D)=>M===!0?!0:Math.max(M,D),resultToName:(M,D)=>M.var("items",D)})};function v(M,D){if(D===!0)return M.var("props",!0);const F=M.var("props",(0,t._)`{}`);return D!==void 0&&w(M,F,D),F}Cn.evaluatedPropsToName=v;function w(M,D,F){Object.keys(F).forEach(Q=>M.assign((0,t._)`${D}${(0,t.getProperty)(Q)}`,!0))}Cn.setEvaluated=w;const S={};function x(M,D){return M.scopeValue("func",{ref:D,code:S[D.code]||(S[D.code]=new e._Code(D.code))})}Cn.useFunc=x;var E;(function(M){M[M.Num=0]="Num",M[M.Str=1]="Str"})(E||(Cn.Type=E={}));function A(M,D,F){if(M instanceof t.Name){const Q=D===E.Num;return F?Q?(0,t._)`"[" + ${M} + "]"`:(0,t._)`"['" + ${M} + "']"`:Q?(0,t._)`"/" + ${M}`:(0,t._)`"/" + ${M}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,t.getProperty)(M).toString():"/"+h(M)}Cn.getErrorPath=A;function I(M,D,F=M.opts.strictSchema){if(F){if(D=`strict mode: ${D}`,F===!0)throw new Error(D);M.self.logger.warn(D)}}return Cn.checkStrictMode=I,Cn}var kv={},p$;function xu(){if(p$)return kv;p$=1,Object.defineProperty(kv,"__esModule",{value:!0});const t=On(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return kv.default=e,kv}var g$;function jm(){return g$||(g$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=On(),n=Vn(),r=xu();t.keywordError={message:({keyword:S})=>(0,e.str)`must pass "${S}" keyword validation`},t.keyword$DataError={message:({keyword:S,schemaType:x})=>x?(0,e.str)`"${S}" keyword must be ${x} ($data)`:(0,e.str)`"${S}" keyword is invalid ($data)`};function i(S,x=t.keywordError,E,A){const{it:I}=S,{gen:M,compositeRule:D,allErrors:F}=I,Q=p(S,x,E);A??(D||F)?l(M,Q):c(I,(0,e._)`[${Q}]`)}t.reportError=i;function a(S,x=t.keywordError,E){const{it:A}=S,{gen:I,compositeRule:M,allErrors:D}=A,F=p(S,x,E);l(I,F),M||D||c(A,r.default.vErrors)}t.reportExtraError=a;function o(S,x){S.assign(r.default.errors,x),S.if((0,e._)`${r.default.vErrors} !== null`,()=>S.if(x,()=>S.assign((0,e._)`${r.default.vErrors}.length`,x),()=>S.assign(r.default.vErrors,null)))}t.resetErrorsCount=o;function s({gen:S,keyword:x,schemaValue:E,data:A,errsCount:I,it:M}){if(I===void 0)throw new Error("ajv implementation error");const D=S.name("err");S.forRange("i",I,r.default.errors,F=>{S.const(D,(0,e._)`${r.default.vErrors}[${F}]`),S.if((0,e._)`${D}.instancePath === undefined`,()=>S.assign((0,e._)`${D}.instancePath`,(0,e.strConcat)(r.default.instancePath,M.errorPath))),S.assign((0,e._)`${D}.schemaPath`,(0,e.str)`${M.errSchemaPath}/${x}`),M.opts.verbose&&(S.assign((0,e._)`${D}.schema`,E),S.assign((0,e._)`${D}.data`,A))})}t.extendErrors=s;function l(S,x){const E=S.const("err",x);S.if((0,e._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,e._)`[${E}]`),(0,e._)`${r.default.vErrors}.push(${E})`),S.code((0,e._)`${r.default.errors}++`)}function c(S,x){const{gen:E,validateName:A,schemaEnv:I}=S;I.$async?E.throw((0,e._)`new ${S.ValidationError}(${x})`):(E.assign((0,e._)`${A}.errors`,x),E.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(S,x,E){const{createErrors:A}=S.it;return A===!1?(0,e._)`{}`:m(S,x,E)}function m(S,x,E={}){const{gen:A,it:I}=S,M=[y(I,E),v(S,E)];return w(S,x,M),A.object(...M)}function y({errorPath:S},{instancePath:x}){const E=x?(0,e.str)`${S}${(0,n.getErrorPath)(x,n.Type.Str)}`:S;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,E)]}function v({keyword:S,it:{errSchemaPath:x}},{schemaPath:E,parentSchema:A}){let I=A?x:(0,e.str)`${x}/${S}`;return E&&(I=(0,e.str)`${I}${(0,n.getErrorPath)(E,n.Type.Str)}`),[h.schemaPath,I]}function w(S,{params:x,message:E},A){const{keyword:I,data:M,schemaValue:D,it:F}=S,{opts:Q,propertyName:Y,topSchemaRef:B,schemaPath:Z}=F;A.push([h.keyword,I],[h.params,typeof x=="function"?x(S):x||(0,e._)`{}`]),Q.messages&&A.push([h.message,typeof E=="function"?E(S):E]),Q.verbose&&A.push([h.schema,D],[h.parentSchema,(0,e._)`${B}${Z}`],[r.default.data,M]),Y&&A.push([h.propertyName,Y])}}(oC)),oC}var m$;function GCe(){if(m$)return xc;m$=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.boolOrEmptySchema=xc.topBoolOrEmptySchema=void 0;const t=jm(),e=On(),n=xu(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:c,validateName:h}=s;c===!1?o(s,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${h}.errors`,null),l.return(!0))}xc.topBoolOrEmptySchema=i;function a(s,l){const{gen:c,schema:h}=s;h===!1?(c.var(l,!1),o(s)):c.var(l,!0)}xc.boolOrEmptySchema=a;function o(s,l){const{gen:c,data:h}=s,p={gen:c,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,t.reportError)(p,r,void 0,l)}return xc}var Ti={},Ec={},y$;function n7(){if(y$)return Ec;y$=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.getRules=Ec.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}Ec.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Ec.getRules=r,Ec}var Xs={},v$;function r7(){if(v$)return Xs;v$=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.shouldUseRule=Xs.shouldUseGroup=Xs.schemaHasRulesForType=void 0;function t({schema:r,self:i},a){const o=i.RULES.types[a];return o&&o!==!0&&e(r,o)}Xs.schemaHasRulesForType=t;function e(r,i){return i.rules.some(a=>n(r,a))}Xs.shouldUseGroup=e;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(o=>r[o]!==void 0))}return Xs.shouldUseRule=n,Xs}var _$;function T0(){if(_$)return Ti;_$=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.reportTypeError=Ti.checkDataTypes=Ti.checkDataType=Ti.coerceAndCheckDataType=Ti.getJSONTypes=Ti.getSchemaTypes=Ti.DataType=void 0;const t=n7(),e=r7(),n=jm(),r=On(),i=Vn();var a;(function(E){E[E.Correct=0]="Correct",E[E.Wrong=1]="Wrong"})(a||(Ti.DataType=a={}));function o(E){const A=s(E.type);if(A.includes("null")){if(E.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&E.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');E.nullable===!0&&A.push("null")}return A}Ti.getSchemaTypes=o;function s(E){const A=Array.isArray(E)?E:E?[E]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}Ti.getJSONTypes=s;function l(E,A){const{gen:I,data:M,opts:D}=E,F=h(A,D.coerceTypes),Q=A.length>0&&!(F.length===0&&A.length===1&&(0,e.schemaHasRulesForType)(E,A[0]));if(Q){const Y=v(A,M,D.strictNumbers,a.Wrong);I.if(Y,()=>{F.length?p(E,A,F):S(E)})}return Q}Ti.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function h(E,A){return A?E.filter(I=>c.has(I)||A==="array"&&I==="array"):[]}function p(E,A,I){const{gen:M,data:D,opts:F}=E,Q=M.let("dataType",(0,r._)`typeof ${D}`),Y=M.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&M.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>M.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(v(A,D,F.strictNumbers),()=>M.assign(Y,D))),M.if((0,r._)`${Y} !== undefined`);for(const Z of I)(c.has(Z)||Z==="array"&&F.coerceTypes==="array")&&B(Z);M.else(),S(E),M.endIf(),M.if((0,r._)`${Y} !== undefined`,()=>{M.assign(D,Y),m(E,Y)});function B(Z){switch(Z){case"string":M.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(Y,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(Y,(0,r._)`""`);return;case"number":M.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(Y,(0,r._)`+${D}`);return;case"integer":M.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(Y,(0,r._)`+${D}`);return;case"boolean":M.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(Y,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(Y,!0);return;case"null":M.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),M.assign(Y,null);return;case"array":M.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(Y,(0,r._)`[${D}]`)}}}function m({gen:E,parentData:A,parentDataProperty:I},M){E.if((0,r._)`${A} !== undefined`,()=>E.assign((0,r._)`${A}[${I}]`,M))}function y(E,A,I,M=a.Correct){const D=M===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(E){case"null":return(0,r._)`${A} ${D} null`;case"array":F=(0,r._)`Array.isArray(${A})`;break;case"object":F=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":F=Q((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":F=Q();break;default:return(0,r._)`typeof ${A} ${D} ${E}`}return M===a.Correct?F:(0,r.not)(F);function Q(Y=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,Y,I?(0,r._)`isFinite(${A})`:r.nil)}}Ti.checkDataType=y;function v(E,A,I,M){if(E.length===1)return y(E[0],A,I,M);let D;const F=(0,i.toHash)(E);if(F.array&&F.object){const Q=(0,r._)`typeof ${A} != "object"`;D=F.null?Q:(0,r._)`!${A} || ${Q}`,delete F.null,delete F.array,delete F.object}else D=r.nil;F.number&&delete F.integer;for(const Q in F)D=(0,r.and)(D,y(Q,A,I,M));return D}Ti.checkDataTypes=v;const w={message:({schema:E})=>`must be ${E}`,params:({schema:E,schemaValue:A})=>typeof E=="string"?(0,r._)`{type: ${E}}`:(0,r._)`{type: ${A}}`};function S(E){const A=x(E);(0,n.reportError)(A,w)}Ti.reportTypeError=S;function x(E){const{gen:A,data:I,schema:M}=E,D=(0,i.schemaRefOrVal)(E,M,"type");return{gen:A,keyword:"type",data:I,schema:M.type,schemaCode:D,schemaValue:D,parentSchema:M,params:{},it:E}}return Ti}var yg={},w$;function WCe(){if(w$)return yg;w$=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.assignDefaults=void 0;const t=On(),e=Vn();function n(i,a){const{properties:o,items:s}=i.schema;if(a==="object"&&o)for(const l in o)r(i,l,o[l].default);else a==="array"&&Array.isArray(s)&&s.forEach((l,c)=>r(i,c,l.default))}yg.assignDefaults=n;function r(i,a,o){const{gen:s,compositeRule:l,data:c,opts:h}=i;if(o===void 0)return;const p=(0,t._)`${c}${(0,t.getProperty)(a)}`;if(l){(0,e.checkStrictMode)(i,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;h.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),s.if(m,(0,t._)`${p} = ${(0,t.stringify)(o)}`)}return yg}var Eo={},or={},b$;function Ho(){if(b$)return or;b$=1,Object.defineProperty(or,"__esModule",{value:!0}),or.validateUnion=or.validateArray=or.usePattern=or.callValidateCode=or.schemaProperties=or.allSchemaProperties=or.noPropertyInData=or.propertyInData=or.isOwnProperty=or.hasPropFunc=or.reportMissingProp=or.checkMissingProp=or.checkReportMissingProp=void 0;const t=On(),e=Vn(),n=xu(),r=Vn();function i(E,A){const{gen:I,data:M,it:D}=E;I.if(h(I,M,A,D.opts.ownProperties),()=>{E.setParams({missingProperty:(0,t._)`${A}`},!0),E.error()})}or.checkReportMissingProp=i;function a({gen:E,data:A,it:{opts:I}},M,D){return(0,t.or)(...M.map(F=>(0,t.and)(h(E,A,F,I.ownProperties),(0,t._)`${D} = ${F}`)))}or.checkMissingProp=a;function o(E,A){E.setParams({missingProperty:A},!0),E.error()}or.reportMissingProp=o;function s(E){return E.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}or.hasPropFunc=s;function l(E,A,I){return(0,t._)`${s(E)}.call(${A}, ${I})`}or.isOwnProperty=l;function c(E,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} !== undefined`;return M?(0,t._)`${D} && ${l(E,A,I)}`:D}or.propertyInData=c;function h(E,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} === undefined`;return M?(0,t.or)(D,(0,t.not)(l(E,A,I))):D}or.noPropertyInData=h;function p(E){return E?Object.keys(E).filter(A=>A!=="__proto__"):[]}or.allSchemaProperties=p;function m(E,A){return p(A).filter(I=>!(0,e.alwaysValidSchema)(E,A[I]))}or.schemaProperties=m;function y({schemaCode:E,data:A,it:{gen:I,topSchemaRef:M,schemaPath:D,errorPath:F},it:Q},Y,B,Z){const ce=Z?(0,t._)`${E}, ${A}, ${M}${D}`:A,re=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,F)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&re.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const ue=(0,t._)`${ce}, ${I.object(...re)}`;return B!==t.nil?(0,t._)`${Y}.call(${B}, ${ue})`:(0,t._)`${Y}(${ue})`}or.callValidateCode=y;const v=(0,t._)`new RegExp`;function w({gen:E,it:{opts:A}},I){const M=A.unicodeRegExp?"u":"",{regExp:D}=A.code,F=D(I,M);return E.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,t._)`${D.code==="new RegExp"?v:(0,r.useFunc)(E,D)}(${I}, ${M})`})}or.usePattern=w;function S(E){const{gen:A,data:I,keyword:M,it:D}=E,F=A.name("valid");if(D.allErrors){const Y=A.let("valid",!0);return Q(()=>A.assign(Y,!1)),Y}return A.var(F,!0),Q(()=>A.break()),F;function Q(Y){const B=A.const("len",(0,t._)`${I}.length`);A.forRange("i",0,B,Z=>{E.subschema({keyword:M,dataProp:Z,dataPropType:e.Type.Num},F),A.if((0,t.not)(F),Y)})}}or.validateArray=S;function x(E){const{gen:A,schema:I,keyword:M,it:D}=E;if(!Array.isArray(I))throw new Error("ajv implementation error");if(I.some(B=>(0,e.alwaysValidSchema)(D,B))&&!D.opts.unevaluated)return;const Q=A.let("valid",!1),Y=A.name("_valid");A.block(()=>I.forEach((B,Z)=>{const ce=E.subschema({keyword:M,schemaProp:Z,compositeRule:!0},Y);A.assign(Q,(0,t._)`${Q} || ${Y}`),E.mergeValidEvaluated(ce,Y)||A.if((0,t.not)(Q))})),E.result(Q,()=>E.reset(),()=>E.error(!0))}return or.validateUnion=x,or}var S$;function QCe(){if(S$)return Eo;S$=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.validateKeywordUsage=Eo.validSchemaType=Eo.funcKeywordCode=Eo.macroKeywordCode=void 0;const t=On(),e=xu(),n=Ho(),r=jm();function i(m,y){const{gen:v,keyword:w,schema:S,parentSchema:x,it:E}=m,A=y.macro.call(E.self,S,x,E),I=c(v,w,A);E.opts.validateSchema!==!1&&E.self.validateSchema(A,!0);const M=v.name("valid");m.subschema({schema:A,schemaPath:t.nil,errSchemaPath:`${E.errSchemaPath}/${w}`,topSchemaRef:I,compositeRule:!0},M),m.pass(M,()=>m.error(!0))}Eo.macroKeywordCode=i;function a(m,y){var v;const{gen:w,keyword:S,schema:x,parentSchema:E,$data:A,it:I}=m;l(I,y);const M=!A&&y.compile?y.compile.call(I.self,x,E,I):y.validate,D=c(w,S,M),F=w.let("valid");m.block$data(F,Q),m.ok((v=y.valid)!==null&&v!==void 0?v:F);function Q(){if(y.errors===!1)Z(),y.modifying&&o(m),ce(()=>m.error());else{const re=y.async?Y():B();y.modifying&&o(m),ce(()=>s(m,re))}}function Y(){const re=w.let("ruleErrs",null);return w.try(()=>Z((0,t._)`await `),ue=>w.assign(F,!1).if((0,t._)`${ue} instanceof ${I.ValidationError}`,()=>w.assign(re,(0,t._)`${ue}.errors`),()=>w.throw(ue))),re}function B(){const re=(0,t._)`${D}.errors`;return w.assign(re,null),Z(t.nil),re}function Z(re=y.async?(0,t._)`await `:t.nil){const ue=I.opts.passContext?e.default.this:e.default.self,ge=!("compile"in y&&!A||y.schema===!1);w.assign(F,(0,t._)`${re}${(0,n.callValidateCode)(m,D,ue,ge)}`,y.modifying)}function ce(re){var ue;w.if((0,t.not)((ue=y.valid)!==null&&ue!==void 0?ue:F),re)}}Eo.funcKeywordCode=a;function o(m){const{gen:y,data:v,it:w}=m;y.if(w.parentData,()=>y.assign(v,(0,t._)`${w.parentData}[${w.parentDataProperty}]`))}function s(m,y){const{gen:v}=m;v.if((0,t._)`Array.isArray(${y})`,()=>{v.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${y} : ${e.default.vErrors}.concat(${y})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function c(m,y,v){if(v===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,t.stringify)(v)})}function h(m,y,v=!1){return!y.length||y.some(w=>w==="array"?Array.isArray(m):w==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==w||v&&typeof m>"u")}Eo.validSchemaType=h;function p({schema:m,opts:y,self:v,errSchemaPath:w},S,x){if(Array.isArray(S.keyword)?!S.keyword.includes(x):S.keyword!==x)throw new Error("ajv implementation error");const E=S.dependencies;if(E!=null&&E.some(A=>!Object.prototype.hasOwnProperty.call(m,A)))throw new Error(`parent schema must have dependencies of ${x}: ${E.join(",")}`);if(S.validateSchema&&!S.validateSchema(m[x])){const I=`keyword "${x}" value is invalid at path "${w}": `+v.errorsText(S.validateSchema.errors);if(y.validateSchema==="log")v.logger.error(I);else throw new Error(I)}}return Eo.validateKeywordUsage=p,Eo}var eu={},x$;function ZCe(){if(x$)return eu;x$=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.extendSubschemaMode=eu.extendSubschemaData=eu.getSubschema=void 0;const t=On(),e=Vn();function n(a,{keyword:o,schemaProp:s,schema:l,schemaPath:c,errSchemaPath:h,topSchemaRef:p}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const m=a.schema[o];return s===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:m[s],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,e.escapeFragment)(s)}`}}if(l!==void 0){if(c===void 0||h===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:p,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}eu.getSubschema=n;function r(a,o,{dataProp:s,dataPropType:l,data:c,dataTypes:h,propertyName:p}){if(c!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=o;if(s!==void 0){const{errorPath:v,dataPathArr:w,opts:S}=o,x=m.let("data",(0,t._)`${o.data}${(0,t.getProperty)(s)}`,!0);y(x),a.errorPath=(0,t.str)`${v}${(0,e.getErrorPath)(s,l,S.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${s}`,a.dataPathArr=[...w,a.parentDataProperty]}if(c!==void 0){const v=c instanceof t.Name?c:m.let("data",c,!0);y(v),p!==void 0&&(a.propertyName=p)}h&&(a.dataTypes=h);function y(v){a.data=v,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,v]}}eu.extendSubschemaData=r;function i(a,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:l,createErrors:c,allErrors:h}){l!==void 0&&(a.compositeRule=l),c!==void 0&&(a.createErrors=c),h!==void 0&&(a.allErrors=h),a.jtdDiscriminator=o,a.jtdMetadata=s}return eu.extendSubschemaMode=i,eu}var ta={},cC,E$;function i7(){return E$||(E$=1,cC=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),cC}var fC={exports:{}},T$;function JCe(){if(T$)return fC.exports;T$=1;var t=fC.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var o=typeof a=="function"?a:a.pre||function(){},s=a.post||function(){};e(i,o,s,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,a,o,s,l,c,h,p,m){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,s,l,c,h,p,m);for(var y in o){var v=o[y];if(Array.isArray(v)){if(y in t.arrayKeywords)for(var w=0;w<v.length;w++)e(r,i,a,v[w],s+"/"+y+"/"+w,l,s,y,o,w)}else if(y in t.propsKeywords){if(v&&typeof v=="object")for(var S in v)e(r,i,a,v[S],s+"/"+y+"/"+n(S),l,s,y,o,S)}else(y in t.keywords||r.allKeys&&!(y in t.skipKeywords))&&e(r,i,a,v,s+"/"+y,l,s,y,o)}a(o,s,l,c,h,p,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return fC.exports}var C$;function Tw(){if(C$)return ta;C$=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.getSchemaRefs=ta.resolveUrl=ta.normalizeId=ta._getFullPath=ta.getFullPath=ta.inlineRef=void 0;const t=Vn(),e=i7(),n=JCe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(w,S=!0){return typeof w=="boolean"?!0:S===!0?!o(w):S?s(w)<=S:!1}ta.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(w){for(const S in w){if(a.has(S))return!0;const x=w[S];if(Array.isArray(x)&&x.some(o)||typeof x=="object"&&o(x))return!0}return!1}function s(w){let S=0;for(const x in w){if(x==="$ref")return 1/0;if(S++,!r.has(x)&&(typeof w[x]=="object"&&(0,t.eachItem)(w[x],E=>S+=s(E)),S===1/0))return 1/0}return S}function l(w,S="",x){x!==!1&&(S=p(S));const E=w.parse(S);return c(w,E)}ta.getFullPath=l;function c(w,S){return w.serialize(S).split("#")[0]+"#"}ta._getFullPath=c;const h=/#\/?$/;function p(w){return w?w.replace(h,""):""}ta.normalizeId=p;function m(w,S,x){return x=p(x),w.resolve(S,x)}ta.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function v(w,S){if(typeof w=="boolean")return{};const{schemaId:x,uriResolver:E}=this.opts,A=p(w[x]||S),I={"":A},M=l(E,A,!1),D={},F=new Set;return n(w,{allKeys:!0},(B,Z,ce,re)=>{if(re===void 0)return;const ue=M+Z;let ge=I[re];typeof B[x]=="string"&&(ge=_e.call(this,B[x])),de.call(this,B.$anchor),de.call(this,B.$dynamicAnchor),I[Z]=ge;function _e(fe){const Ie=this.opts.uriResolver.resolve;if(fe=p(ge?Ie(ge,fe):fe),F.has(fe))throw Y(fe);F.add(fe);let k=this.refs[fe];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(B,k.schema,fe):fe!==p(ue)&&(fe[0]==="#"?(Q(B,D[fe],fe),D[fe]=B):this.refs[fe]=ue),fe}function de(fe){if(typeof fe=="string"){if(!y.test(fe))throw new Error(`invalid anchor "${fe}"`);_e.call(this,`#${fe}`)}}}),D;function Q(B,Z,ce){if(Z!==void 0&&!e(B,Z))throw Y(ce)}function Y(B){return new Error(`reference "${B}" resolves to more than one schema`)}}return ta.getSchemaRefs=v,ta}var A$;function $m(){if(A$)return Ys;A$=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.getData=Ys.KeywordCxt=Ys.validateFunctionCode=void 0;const t=GCe(),e=T0(),n=r7(),r=T0(),i=WCe(),a=QCe(),o=ZCe(),s=On(),l=xu(),c=Tw(),h=Vn(),p=jm();function m(oe){if(M(oe)&&(F(oe),I(oe))){S(oe);return}y(oe,()=>(0,t.topBoolOrEmptySchema)(oe))}Ys.validateFunctionCode=m;function y({gen:oe,validateName:z,schema:$,schemaEnv:ae,opts:W},he){W.code.es5?oe.func(z,(0,s._)`${l.default.data}, ${l.default.valCxt}`,ae.$async,()=>{oe.code((0,s._)`"use strict"; ${E($,W)}`),w(oe,W),oe.code(he)}):oe.func(z,(0,s._)`${l.default.data}, ${v(W)}`,ae.$async,()=>oe.code(E($,W)).code(he))}function v(oe){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${oe.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function w(oe,z){oe.if(l.default.valCxt,()=>{oe.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),oe.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),oe.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),oe.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),z.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{oe.var(l.default.instancePath,(0,s._)`""`),oe.var(l.default.parentData,(0,s._)`undefined`),oe.var(l.default.parentDataProperty,(0,s._)`undefined`),oe.var(l.default.rootData,l.default.data),z.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function S(oe){const{schema:z,opts:$,gen:ae}=oe;y(oe,()=>{$.$comment&&z.$comment&&re(oe),B(oe),ae.let(l.default.vErrors,null),ae.let(l.default.errors,0),$.unevaluated&&x(oe),Q(oe),ue(oe)})}function x(oe){const{gen:z,validateName:$}=oe;oe.evaluated=z.const("evaluated",(0,s._)`${$}.evaluated`),z.if((0,s._)`${oe.evaluated}.dynamicProps`,()=>z.assign((0,s._)`${oe.evaluated}.props`,(0,s._)`undefined`)),z.if((0,s._)`${oe.evaluated}.dynamicItems`,()=>z.assign((0,s._)`${oe.evaluated}.items`,(0,s._)`undefined`))}function E(oe,z){const $=typeof oe=="object"&&oe[z.schemaId];return $&&(z.code.source||z.code.process)?(0,s._)`/*# sourceURL=${$} */`:s.nil}function A(oe,z){if(M(oe)&&(F(oe),I(oe))){D(oe,z);return}(0,t.boolOrEmptySchema)(oe,z)}function I({schema:oe,self:z}){if(typeof oe=="boolean")return!oe;for(const $ in oe)if(z.RULES.all[$])return!0;return!1}function M(oe){return typeof oe.schema!="boolean"}function D(oe,z){const{schema:$,gen:ae,opts:W}=oe;W.$comment&&$.$comment&&re(oe),Z(oe),ce(oe);const he=ae.const("_errs",l.default.errors);Q(oe,he),ae.var(z,(0,s._)`${he} === ${l.default.errors}`)}function F(oe){(0,h.checkUnknownRules)(oe),Y(oe)}function Q(oe,z){if(oe.opts.jtd)return _e(oe,[],!1,z);const $=(0,e.getSchemaTypes)(oe.schema),ae=(0,e.coerceAndCheckDataType)(oe,$);_e(oe,$,!ae,z)}function Y(oe){const{schema:z,errSchemaPath:$,opts:ae,self:W}=oe;z.$ref&&ae.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(z,W.RULES)&&W.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function B(oe){const{schema:z,opts:$}=oe;z.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,h.checkStrictMode)(oe,"default is ignored in the schema root")}function Z(oe){const z=oe.schema[oe.opts.schemaId];z&&(oe.baseId=(0,c.resolveUrl)(oe.opts.uriResolver,oe.baseId,z))}function ce(oe){if(oe.schema.$async&&!oe.schemaEnv.$async)throw new Error("async schema in sync schema")}function re({gen:oe,schemaEnv:z,schema:$,errSchemaPath:ae,opts:W}){const he=$.$comment;if(W.$comment===!0)oe.code((0,s._)`${l.default.self}.logger.log(${he})`);else if(typeof W.$comment=="function"){const ye=(0,s.str)`${ae}/$comment`,He=oe.scopeValue("root",{ref:z.root});oe.code((0,s._)`${l.default.self}.opts.$comment(${he}, ${ye}, ${He}.schema)`)}}function ue(oe){const{gen:z,schemaEnv:$,validateName:ae,ValidationError:W,opts:he}=oe;$.$async?z.if((0,s._)`${l.default.errors} === 0`,()=>z.return(l.default.data),()=>z.throw((0,s._)`new ${W}(${l.default.vErrors})`)):(z.assign((0,s._)`${ae}.errors`,l.default.vErrors),he.unevaluated&&ge(oe),z.return((0,s._)`${l.default.errors} === 0`))}function ge({gen:oe,evaluated:z,props:$,items:ae}){$ instanceof s.Name&&oe.assign((0,s._)`${z}.props`,$),ae instanceof s.Name&&oe.assign((0,s._)`${z}.items`,ae)}function _e(oe,z,$,ae){const{gen:W,schema:he,data:ye,allErrors:He,opts:Te,self:Ne}=oe,{RULES:tt}=Ne;if(he.$ref&&(Te.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(he,tt))){W.block(()=>Je(oe,"$ref",tt.all.$ref.definition));return}Te.jtd||fe(oe,z),W.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(he,gt)&&(gt.type?(W.if((0,r.checkDataType)(gt.type,ye,Te.strictNumbers)),de(oe,gt),z.length===1&&z[0]===gt.type&&$&&(W.else(),(0,r.reportTypeError)(oe)),W.endIf()):de(oe,gt),He||W.if((0,s._)`${l.default.errors} === ${ae||0}`))}}function de(oe,z){const{gen:$,schema:ae,opts:{useDefaults:W}}=oe;W&&(0,i.assignDefaults)(oe,z.type),$.block(()=>{for(const he of z.rules)(0,n.shouldUseRule)(ae,he)&&Je(oe,he.keyword,he.definition,z.type)})}function fe(oe,z){oe.schemaEnv.meta||!oe.opts.strictTypes||(Ie(oe,z),oe.opts.allowUnionTypes||k(oe,z),ie(oe,oe.dataTypes))}function Ie(oe,z){if(z.length){if(!oe.dataTypes.length){oe.dataTypes=z;return}z.forEach($=>{H(oe.dataTypes,$)||pe(oe,`type "${$}" not allowed by context "${oe.dataTypes.join(",")}"`)}),J(oe,z)}}function k(oe,z){z.length>1&&!(z.length===2&&z.includes("null"))&&pe(oe,"use allowUnionTypes to allow union type keyword")}function ie(oe,z){const $=oe.self.RULES.all;for(const ae in $){const W=$[ae];if(typeof W=="object"&&(0,n.shouldUseRule)(oe.schema,W)){const{type:he}=W.definition;he.length&&!he.some(ye=>me(z,ye))&&pe(oe,`missing type "${he.join(",")}" for keyword "${ae}"`)}}}function me(oe,z){return oe.includes(z)||z==="number"&&oe.includes("integer")}function H(oe,z){return oe.includes(z)||z==="integer"&&oe.includes("number")}function J(oe,z){const $=[];for(const ae of oe.dataTypes)H(z,ae)?$.push(ae):z.includes("integer")&&ae==="number"&&$.push("integer");oe.dataTypes=$}function pe(oe,z){const $=oe.schemaEnv.baseId+oe.errSchemaPath;z+=` at "${$}" (strictTypes)`,(0,h.checkStrictMode)(oe,z,oe.opts.strictTypes)}class Ae{constructor(z,$,ae){if((0,a.validateKeywordUsage)(z,$,ae),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=ae,this.data=z.data,this.schema=z.schema[ae],this.$data=$.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(z,this.schema,ae,this.$data),this.schemaType=$.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=$,this.$data)this.schemaCode=z.gen.const("vSchema",Xe(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${ae} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=z.gen.const("_errs",l.default.errors))}result(z,$,ae){this.failResult((0,s.not)(z),$,ae)}failResult(z,$,ae){this.gen.if(z),ae?ae():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,$){this.failResult((0,s.not)(z),void 0,$)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:$}=this;this.fail((0,s._)`${$} !== undefined && (${(0,s.or)(this.invalid$data(),z)})`)}error(z,$,ae){if($){this.setParams($),this._error(z,ae),this.setParams({});return}this._error(z,ae)}_error(z,$){(z?p.reportExtraError:p.reportError)(this,this.def.error,$)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,$){$?Object.assign(this.params,z):this.params=z}block$data(z,$,ae=s.nil){this.gen.block(()=>{this.check$data(z,ae),$()})}check$data(z=s.nil,$=s.nil){if(!this.$data)return;const{gen:ae,schemaCode:W,schemaType:he,def:ye}=this;ae.if((0,s.or)((0,s._)`${W} === undefined`,$)),z!==s.nil&&ae.assign(z,!0),(he.length||ye.validateSchema)&&(ae.elseIf(this.invalid$data()),this.$dataError(),z!==s.nil&&ae.assign(z,!1)),ae.else()}invalid$data(){const{gen:z,schemaCode:$,schemaType:ae,def:W,it:he}=this;return(0,s.or)(ye(),He());function ye(){if(ae.length){if(!($ instanceof s.Name))throw new Error("ajv implementation error");const Te=Array.isArray(ae)?ae:[ae];return(0,s._)`${(0,r.checkDataTypes)(Te,$,he.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function He(){if(W.validateSchema){const Te=z.scopeValue("validate$data",{ref:W.validateSchema});return(0,s._)`!${Te}(${$})`}return s.nil}}subschema(z,$){const ae=(0,o.getSubschema)(this.it,z);(0,o.extendSubschemaData)(ae,this.it,z),(0,o.extendSubschemaMode)(ae,z);const W={...this.it,...ae,items:void 0,props:void 0};return A(W,$),W}mergeEvaluated(z,$){const{it:ae,gen:W}=this;ae.opts.unevaluated&&(ae.props!==!0&&z.props!==void 0&&(ae.props=h.mergeEvaluated.props(W,z.props,ae.props,$)),ae.items!==!0&&z.items!==void 0&&(ae.items=h.mergeEvaluated.items(W,z.items,ae.items,$)))}mergeValidEvaluated(z,$){const{it:ae,gen:W}=this;if(ae.opts.unevaluated&&(ae.props!==!0||ae.items!==!0))return W.if($,()=>this.mergeEvaluated(z,s.Name)),!0}}Ys.KeywordCxt=Ae;function Je(oe,z,$,ae){const W=new Ae(oe,$,z);"code"in $?$.code(W,ae):W.$data&&$.validate?(0,a.funcKeywordCode)(W,$):"macro"in $?(0,a.macroKeywordCode)(W,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(W,$)}const Re=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(oe,{dataLevel:z,dataNames:$,dataPathArr:ae}){let W,he;if(oe==="")return l.default.rootData;if(oe[0]==="/"){if(!Re.test(oe))throw new Error(`Invalid JSON-pointer: ${oe}`);W=oe,he=l.default.rootData}else{const Ne=Fe.exec(oe);if(!Ne)throw new Error(`Invalid JSON-pointer: ${oe}`);const tt=+Ne[1];if(W=Ne[2],W==="#"){if(tt>=z)throw new Error(Te("property/index",tt));return ae[z-tt]}if(tt>z)throw new Error(Te("data",tt));if(he=$[z-tt],!W)return he}let ye=he;const He=W.split("/");for(const Ne of He)Ne&&(he=(0,s._)`${he}${(0,s.getProperty)((0,h.unescapeJsonPointer)(Ne))}`,ye=(0,s._)`${ye} && ${he}`);return ye;function Te(Ne,tt){return`Cannot access ${Ne} ${tt} levels up, current level is ${z}`}}return Ys.getData=Xe,Ys}var Nv={},R$;function jP(){if(R$)return Nv;R$=1,Object.defineProperty(Nv,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Nv.default=t,Nv}var Fv={},P$;function $P(){if(P$)return Fv;P$=1,Object.defineProperty(Fv,"__esModule",{value:!0});const t=Tw();class e extends Error{constructor(r,i,a,o){super(o||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,a),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Fv.default=e,Fv}var ka={},O$;function UP(){if(O$)return ka;O$=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.resolveSchema=ka.getCompilingSchema=ka.resolveRef=ka.compileSchema=ka.SchemaEnv=void 0;const t=On(),e=jP(),n=xu(),r=Tw(),i=Vn(),a=$m();class o{constructor(x){var E;this.refs={},this.dynamicAnchors={};let A;typeof x.schema=="object"&&(A=x.schema),this.schema=x.schema,this.schemaId=x.schemaId,this.root=x.root||this,this.baseId=(E=x.baseId)!==null&&E!==void 0?E:(0,r.normalizeId)(A==null?void 0:A[x.schemaId||"$id"]),this.schemaPath=x.schemaPath,this.localRefs=x.localRefs,this.meta=x.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}ka.SchemaEnv=o;function s(S){const x=h.call(this,S);if(x)return x;const E=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:A,lines:I}=this.opts.code,{ownProperties:M}=this.opts,D=new t.CodeGen(this.scope,{es5:A,lines:I,ownProperties:M});let F;S.$async&&(F=D.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");S.validateName=Q;const Y={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,t.stringify)(S.schema)}:{ref:S.schema}),validateName:Q,ValidationError:F,schema:S.schema,schemaEnv:S,rootId:E,baseId:S.baseId||E,schemaPath:t.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let B;try{this._compilations.add(S),(0,a.validateFunctionCode)(Y),D.optimize(this.opts.code.optimize);const Z=D.toString();B=`${D.scopeRefs(n.default.scope)}return ${Z}`,this.opts.code.process&&(B=this.opts.code.process(B,S));const re=new Function(`${n.default.self}`,`${n.default.scope}`,B)(this,this.scope.get());if(this.scope.value(Q,{ref:re}),re.errors=null,re.schema=S.schema,re.schemaEnv=S,S.$async&&(re.$async=!0),this.opts.code.source===!0&&(re.source={validateName:Q,validateCode:Z,scopeValues:D._values}),this.opts.unevaluated){const{props:ue,items:ge}=Y;re.evaluated={props:ue instanceof t.Name?void 0:ue,items:ge instanceof t.Name?void 0:ge,dynamicProps:ue instanceof t.Name,dynamicItems:ge instanceof t.Name},re.source&&(re.source.evaluated=(0,t.stringify)(re.evaluated))}return S.validate=re,S}catch(Z){throw delete S.validate,delete S.validateName,B&&this.logger.error("Error compiling schema, function code:",B),Z}finally{this._compilations.delete(S)}}ka.compileSchema=s;function l(S,x,E){var A;E=(0,r.resolveUrl)(this.opts.uriResolver,x,E);const I=S.refs[E];if(I)return I;let M=m.call(this,S,E);if(M===void 0){const D=(A=S.localRefs)===null||A===void 0?void 0:A[E],{schemaId:F}=this.opts;D&&(M=new o({schema:D,schemaId:F,root:S,baseId:x}))}if(M!==void 0)return S.refs[E]=c.call(this,M)}ka.resolveRef=l;function c(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:s.call(this,S)}function h(S){for(const x of this._compilations)if(p(x,S))return x}ka.getCompilingSchema=h;function p(S,x){return S.schema===x.schema&&S.root===x.root&&S.baseId===x.baseId}function m(S,x){let E;for(;typeof(E=this.refs[x])=="string";)x=E;return E||this.schemas[x]||y.call(this,S,x)}function y(S,x){const E=this.opts.uriResolver.parse(x),A=(0,r._getFullPath)(this.opts.uriResolver,E);let I=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&A===I)return w.call(this,E,S);const M=(0,r.normalizeId)(A),D=this.refs[M]||this.schemas[M];if(typeof D=="string"){const F=y.call(this,S,D);return typeof(F==null?void 0:F.schema)!="object"?void 0:w.call(this,E,F)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||s.call(this,D),M===(0,r.normalizeId)(x)){const{schema:F}=D,{schemaId:Q}=this.opts,Y=F[Q];return Y&&(I=(0,r.resolveUrl)(this.opts.uriResolver,I,Y)),new o({schema:F,schemaId:Q,root:S,baseId:I})}return w.call(this,E,D)}}ka.resolveSchema=y;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(S,{baseId:x,schema:E,root:A}){var I;if(((I=S.fragment)===null||I===void 0?void 0:I[0])!=="/")return;for(const F of S.fragment.slice(1).split("/")){if(typeof E=="boolean")return;const Q=E[(0,i.unescapeFragment)(F)];if(Q===void 0)return;E=Q;const Y=typeof E=="object"&&E[this.opts.schemaId];!v.has(F)&&Y&&(x=(0,r.resolveUrl)(this.opts.uriResolver,x,Y))}let M;if(typeof E!="boolean"&&E.$ref&&!(0,i.schemaHasRulesButRef)(E,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,x,E.$ref);M=y.call(this,A,F)}const{schemaId:D}=this.opts;if(M=M||new o({schema:E,schemaId:D,root:A,baseId:x}),M.schema!==M.root.schema)return M}return ka}const YCe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",XCe="Meta-schema for $data reference (JSON AnySchema extension proposal)",eAe="object",tAe=["$data"],nAe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},rAe=!1,iAe={$id:YCe,description:XCe,type:eAe,required:tAe,properties:nAe,additionalProperties:rAe};var jv={},Mg={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var aAe=Mg.exports,I$;function oAe(){return I$||(I$=1,function(t,e){(function(n,r){r(e)})(aAe,function(n){function r(){for(var We=arguments.length,Ee=Array(We),et=0;et<We;et++)Ee[et]=arguments[et];if(Ee.length>1){Ee[0]=Ee[0].slice(0,-1);for(var ft=Ee.length-1,it=1;it<ft;++it)Ee[it]=Ee[it].slice(1,-1);return Ee[ft]=Ee[ft].slice(1),Ee.join("")}else return Ee[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function o(We){return We.toUpperCase()}function s(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,Ee){var et=We;if(Ee)for(var ft in Ee)et[ft]=Ee[ft];return et}function c(We){var Ee="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Et="[\\:\\/\\?\\#\\[\\]\\@]",Lt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Kt=r(Et,Lt),Yt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",zt=We?"[\\uE000-\\uF8FF]":"[]",Nt=r(Ee,et,"[\\-\\.\\_\\~]",Yt);i(Ee+r(Ee,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(Nt,Lt,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Rn=i(en+"\\."+en+"\\."+en+"\\."+en),Gt=i(ft+"{1,4}"),Qt=i(i(Gt+"\\:"+Gt)+"|"+Rn),xn=i(i(Gt+"\\:")+"{6}"+Qt),En=i("\\:\\:"+i(Gt+"\\:")+"{5}"+Qt),Bn=i(i(Gt)+"?\\:\\:"+i(Gt+"\\:")+"{4}"+Qt),Cr=i(i(i(Gt+"\\:")+"{0,1}"+Gt)+"?\\:\\:"+i(Gt+"\\:")+"{3}"+Qt),zr=i(i(i(Gt+"\\:")+"{0,2}"+Gt)+"?\\:\\:"+i(Gt+"\\:")+"{2}"+Qt),Hr=i(i(i(Gt+"\\:")+"{0,3}"+Gt)+"?\\:\\:"+Gt+"\\:"+Qt),Or=i(i(i(Gt+"\\:")+"{0,4}"+Gt)+"?\\:\\:"+Qt),jn=i(i(i(Gt+"\\:")+"{0,5}"+Gt)+"?\\:\\:"+Gt),Qr=i(i(i(Gt+"\\:")+"{0,6}"+Gt)+"?\\:\\:"),qi=i([xn,En,Bn,Cr,zr,Hr,Or,jn,Qr].join("|")),C=i(i(Nt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(Nt,Lt,"[\\:]")+"+"),i(i(it+"|"+r(Nt,Lt))+"*");var T=i(it+"|"+r(Nt,Lt,"[\\:\\@]"));return i(i(it+"|"+r(Nt,Lt,"[\\@]"))+"+"),i(i(T+"|"+r("[\\/\\?]",zt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ee,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Nt,Lt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Nt,Lt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Nt,Lt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Nt,Lt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Nt,Lt,"[\\:\\@\\/\\?]",zt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Nt,Lt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Nt,Lt),"g"),UNRESERVED:new RegExp(Nt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Nt,Kt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Rn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+qi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+C+")")+"?\\]?$")}}var h=c(!1),p=c(!0),m=function(){function We(Ee,et){var ft=[],it=!0,Et=!1,Lt=void 0;try{for(var Kt=Ee[Symbol.iterator](),Yt;!(it=(Yt=Kt.next()).done)&&(ft.push(Yt.value),!(et&&ft.length===et));it=!0);}catch(zt){Et=!0,Lt=zt}finally{try{!it&&Kt.return&&Kt.return()}finally{if(Et)throw Lt}}return ft}return function(Ee,et){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return We(Ee,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ee=0,et=Array(We.length);Ee<We.length;Ee++)et[Ee]=We[Ee];return et}else return Array.from(We)},v=2147483647,w=36,S=1,x=26,E=38,A=700,I=72,M=128,D="-",F=/^xn--/,Q=/[^\0-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=w-S,ce=Math.floor,re=String.fromCharCode;function ue(We){throw new RangeError(B[We])}function ge(We,Ee){for(var et=[],ft=We.length;ft--;)et[ft]=Ee(We[ft]);return et}function _e(We,Ee){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(Y,".");var it=We.split("."),Et=ge(it,Ee).join(".");return ft+Et}function de(We){for(var Ee=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Et=We.charCodeAt(et++);(Et&64512)==56320?Ee.push(((it&1023)<<10)+(Et&1023)+65536):(Ee.push(it),et--)}else Ee.push(it)}return Ee}var fe=function(Ee){return String.fromCodePoint.apply(String,y(Ee))},Ie=function(Ee){return Ee-48<10?Ee-22:Ee-65<26?Ee-65:Ee-97<26?Ee-97:w},k=function(Ee,et){return Ee+22+75*(Ee<26)-((et!=0)<<5)},ie=function(Ee,et,ft){var it=0;for(Ee=ft?ce(Ee/A):Ee>>1,Ee+=ce(Ee/et);Ee>Z*x>>1;it+=w)Ee=ce(Ee/Z);return ce(it+(Z+1)*Ee/(Ee+E))},me=function(Ee){var et=[],ft=Ee.length,it=0,Et=M,Lt=I,Kt=Ee.lastIndexOf(D);Kt<0&&(Kt=0);for(var Yt=0;Yt<Kt;++Yt)Ee.charCodeAt(Yt)>=128&&ue("not-basic"),et.push(Ee.charCodeAt(Yt));for(var zt=Kt>0?Kt+1:0;zt<ft;){for(var Nt=it,en=1,Rn=w;;Rn+=w){zt>=ft&&ue("invalid-input");var Gt=Ie(Ee.charCodeAt(zt++));(Gt>=w||Gt>ce((v-it)/en))&&ue("overflow"),it+=Gt*en;var Qt=Rn<=Lt?S:Rn>=Lt+x?x:Rn-Lt;if(Gt<Qt)break;var xn=w-Qt;en>ce(v/xn)&&ue("overflow"),en*=xn}var En=et.length+1;Lt=ie(it-Nt,En,Nt==0),ce(it/En)>v-Et&&ue("overflow"),Et+=ce(it/En),it%=En,et.splice(it++,0,Et)}return String.fromCodePoint.apply(String,et)},H=function(Ee){var et=[];Ee=de(Ee);var ft=Ee.length,it=M,Et=0,Lt=I,Kt=!0,Yt=!1,zt=void 0;try{for(var Nt=Ee[Symbol.iterator](),en;!(Kt=(en=Nt.next()).done);Kt=!0){var Rn=en.value;Rn<128&&et.push(re(Rn))}}catch(Pe){Yt=!0,zt=Pe}finally{try{!Kt&&Nt.return&&Nt.return()}finally{if(Yt)throw zt}}var Gt=et.length,Qt=Gt;for(Gt&&et.push(D);Qt<ft;){var xn=v,En=!0,Bn=!1,Cr=void 0;try{for(var zr=Ee[Symbol.iterator](),Hr;!(En=(Hr=zr.next()).done);En=!0){var Or=Hr.value;Or>=it&&Or<xn&&(xn=Or)}}catch(Pe){Bn=!0,Cr=Pe}finally{try{!En&&zr.return&&zr.return()}finally{if(Bn)throw Cr}}var jn=Qt+1;xn-it>ce((v-Et)/jn)&&ue("overflow"),Et+=(xn-it)*jn,it=xn;var Qr=!0,qi=!1,C=void 0;try{for(var T=Ee[Symbol.iterator](),R;!(Qr=(R=T.next()).done);Qr=!0){var N=R.value;if(N<it&&++Et>v&&ue("overflow"),N==it){for(var G=Et,se=w;;se+=w){var we=se<=Lt?S:se>=Lt+x?x:se-Lt;if(G<we)break;var Le=G-we,xe=w-we;et.push(re(k(we+Le%xe,0))),G=ce(Le/xe)}et.push(re(k(G,0))),Lt=ie(Et,jn,Qt==Gt),Et=0,++Qt}}}catch(Pe){qi=!0,C=Pe}finally{try{!Qr&&T.return&&T.return()}finally{if(qi)throw C}}++Et,++it}return et.join("")},J=function(Ee){return _e(Ee,function(et){return F.test(et)?me(et.slice(4).toLowerCase()):et})},pe=function(Ee){return _e(Ee,function(et){return Q.test(et)?"xn--"+H(et):et})},Ae={version:"2.1.0",ucs2:{decode:de,encode:fe},decode:me,encode:H,toASCII:pe,toUnicode:J},Je={};function Re(We){var Ee=We.charCodeAt(0),et=void 0;return Ee<16?et="%0"+Ee.toString(16).toUpperCase():Ee<128?et="%"+Ee.toString(16).toUpperCase():Ee<2048?et="%"+(Ee>>6|192).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase():et="%"+(Ee>>12|224).toString(16).toUpperCase()+"%"+(Ee>>6&63|128).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase(),et}function Fe(We){for(var Ee="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ee+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Et=parseInt(We.substr(et+4,2),16);Ee+=String.fromCharCode((it&31)<<6|Et&63)}else Ee+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var Lt=parseInt(We.substr(et+4,2),16),Kt=parseInt(We.substr(et+7,2),16);Ee+=String.fromCharCode((it&15)<<12|(Lt&63)<<6|Kt&63)}else Ee+=We.substr(et,9);et+=9}else Ee+=We.substr(et,3),et+=3}return Ee}function Xe(We,Ee){function et(ft){var it=Fe(ft);return it.match(Ee.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_USERINFO,Re).replace(Ee.PCT_ENCODED,o)),We.host!==void 0&&(We.host=String(We.host).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_HOST,Re).replace(Ee.PCT_ENCODED,o)),We.path!==void 0&&(We.path=String(We.path).replace(Ee.PCT_ENCODED,et).replace(We.scheme?Ee.NOT_PATH:Ee.NOT_PATH_NOSCHEME,Re).replace(Ee.PCT_ENCODED,o)),We.query!==void 0&&(We.query=String(We.query).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_QUERY,Re).replace(Ee.PCT_ENCODED,o)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_FRAGMENT,Re).replace(Ee.PCT_ENCODED,o)),We}function oe(We){return We.replace(/^0*(.*)/,"$1")||"0"}function z(We,Ee){var et=We.match(Ee.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(oe).join("."):We}function $(We,Ee){var et=We.match(Ee.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Et=ft[2];if(it){for(var Lt=it.toLowerCase().split("::").reverse(),Kt=m(Lt,2),Yt=Kt[0],zt=Kt[1],Nt=zt?zt.split(":").map(oe):[],en=Yt.split(":").map(oe),Rn=Ee.IPV4ADDRESS.test(en[en.length-1]),Gt=Rn?7:8,Qt=en.length-Gt,xn=Array(Gt),En=0;En<Gt;++En)xn[En]=Nt[En]||en[Qt+En]||"";Rn&&(xn[Gt-1]=z(xn[Gt-1],Ee));var Bn=xn.reduce(function(jn,Qr,qi){if(!Qr||Qr==="0"){var C=jn[jn.length-1];C&&C.index+C.length===qi?C.length++:jn.push({index:qi,length:1})}return jn},[]),Cr=Bn.sort(function(jn,Qr){return Qr.length-jn.length})[0],zr=void 0;if(Cr&&Cr.length>1){var Hr=xn.slice(0,Cr.index),Or=xn.slice(Cr.index+Cr.length);zr=Hr.join(":")+"::"+Or.join(":")}else zr=xn.join(":");return Et&&(zr+="%"+Et),zr}else return We}var ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W="".match(/(){0}/)[1]===void 0;function he(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ee.iri!==!1?p:h;Ee.reference==="suffix"&&(We=(Ee.scheme?Ee.scheme+":":"")+"//"+We);var it=We.match(ae);if(it){W?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(z(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ee.reference&&Ee.reference!=="suffix"&&Ee.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ee.reference+" reference.");var Et=Je[(Ee.scheme||et.scheme||"").toLowerCase()];if(!Ee.unicodeSupport&&(!Et||!Et.unicodeSupport)){if(et.host&&(Ee.domainHost||Et&&Et.domainHost))try{et.host=Ae.toASCII(et.host.replace(ft.PCT_ENCODED,Fe).toLowerCase())}catch(Lt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Lt}Xe(et,h)}else Xe(et,ft);Et&&Et.parse&&Et.parse(et,Ee)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ee){var et=Ee.iri!==!1?p:h,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(z(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Et,Lt){return"["+Et+(Lt?"%25"+Lt:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Te=/^\/\.(\/|$)/,Ne=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ee=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Te))We=We.replace(Te,"/");else if(We.match(Ne))We=We.replace(Ne,"/"),Ee.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ee.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ee.join("")}function gt(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ee.iri?p:h,ft=[],it=Je[(Ee.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ee),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ee.domainHost||it&&it.domainHost)try{We.host=Ee.iri?Ae.toUnicode(We.host):Ae.toASCII(We.host.replace(et.PCT_ENCODED,Fe).toLowerCase())}catch(Kt){We.error=We.error||"Host's domain name can not be converted to "+(Ee.iri?"Unicode":"ASCII")+" via punycode: "+Kt}}Xe(We,et),Ee.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Et=ye(We,Ee);if(Et!==void 0&&(Ee.reference!=="suffix"&&ft.push("//"),ft.push(Et),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var Lt=We.path;!Ee.absolutePath&&(!it||!it.absolutePath)&&(Lt=nt(Lt)),Et===void 0&&(Lt=Lt.replace(/^\/\//,"/%2F")),ft.push(Lt)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function Bt(We,Ee){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=he(gt(We,et),et),Ee=he(gt(Ee,et),et)),et=et||{},!et.tolerant&&Ee.scheme?(it.scheme=Ee.scheme,it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.userinfo!==void 0||Ee.host!==void 0||Ee.port!==void 0?(it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.path?(Ee.path.charAt(0)==="/"?it.path=nt(Ee.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ee.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ee.path:it.path=Ee.path,it.path=nt(it.path)),it.query=Ee.query):(it.path=We.path,Ee.query!==void 0?it.query=Ee.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ee.fragment,it}function Se(We,Ee,et){var ft=l({scheme:"null"},et);return gt(Bt(he(We,ft),he(Ee,ft),ft,!0),ft)}function Be(We,Ee){return typeof We=="string"?We=gt(he(We,Ee),Ee):a(We)==="object"&&(We=he(gt(We,Ee),Ee)),We}function X(We,Ee,et){return typeof We=="string"?We=gt(he(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ee=="string"?Ee=gt(he(Ee,et),et):a(Ee)==="object"&&(Ee=gt(Ee,et)),We===Ee}function q(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.ESCAPE:p.ESCAPE,Re)}function K(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.PCT_ENCODED:p.PCT_ENCODED,Fe)}var V={scheme:"http",domainHost:!0,parse:function(Ee,et){return Ee.host||(Ee.error=Ee.error||"HTTP URIs must have a host."),Ee},serialize:function(Ee,et){var ft=String(Ee.scheme).toLowerCase()==="https";return(Ee.port===(ft?443:80)||Ee.port==="")&&(Ee.port=void 0),Ee.path||(Ee.path="/"),Ee}},je={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function Ze(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ee,et){var ft=Ee;return ft.secure=Ze(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ee,et){if((Ee.port===(Ze(Ee)?443:80)||Ee.port==="")&&(Ee.port=void 0),typeof Ee.secure=="boolean"&&(Ee.scheme=Ee.secure?"wss":"ws",Ee.secure=void 0),Ee.resourceName){var ft=Ee.resourceName.split("?"),it=m(ft,2),Et=it[0],Lt=it[1];Ee.path=Et&&Et!=="/"?Et:void 0,Ee.query=Lt,Ee.resourceName=void 0}return Ee.fragment=void 0,Ee}},At={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},Ot={},Dt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Rt="[0-9A-Fa-f]",qt=i(i("%[EFef]"+Rt+"%"+Rt+Rt+"%"+Rt+Rt)+"|"+i("%[89A-Fa-f]"+Rt+"%"+Rt+Rt)+"|"+i("%"+Rt+Rt)),Tr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",dn=r(fn,'[\\"\\\\]'),pr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",sn=new RegExp(Dt,"g"),un=new RegExp(qt,"g"),In=new RegExp(r("[^]",Tr,"[\\.]",'[\\"]',dn),"g"),sr=new RegExp(r("[^]",Dt,pr),"g"),Oe=sr;function qe(We){var Ee=Fe(We);return Ee.match(sn)?Ee:We}var wt={scheme:"mailto",parse:function(Ee,et){var ft=Ee,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Et=!1,Lt={},Kt=ft.query.split("&"),Yt=0,zt=Kt.length;Yt<zt;++Yt){var Nt=Kt[Yt].split("=");switch(Nt[0]){case"to":for(var en=Nt[1].split(","),Rn=0,Gt=en.length;Rn<Gt;++Rn)it.push(en[Rn]);break;case"subject":ft.subject=K(Nt[1],et);break;case"body":ft.body=K(Nt[1],et);break;default:Et=!0,Lt[K(Nt[0],et)]=K(Nt[1],et);break}}Et&&(ft.headers=Lt)}ft.query=void 0;for(var Qt=0,xn=it.length;Qt<xn;++Qt){var En=it[Qt].split("@");if(En[0]=K(En[0]),et.unicodeSupport)En[1]=K(En[1],et).toLowerCase();else try{En[1]=Ae.toASCII(K(En[1],et).toLowerCase())}catch(Bn){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+Bn}it[Qt]=En.join("@")}return ft},serialize:function(Ee,et){var ft=Ee,it=s(Ee.to);if(it){for(var Et=0,Lt=it.length;Et<Lt;++Et){var Kt=String(it[Et]),Yt=Kt.lastIndexOf("@"),zt=Kt.slice(0,Yt).replace(un,qe).replace(un,o).replace(In,Re),Nt=Kt.slice(Yt+1);try{Nt=et.iri?Ae.toUnicode(Nt):Ae.toASCII(K(Nt,et).toLowerCase())}catch(Qt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Qt}it[Et]=zt+"@"+Nt}ft.path=it.join(",")}var en=Ee.headers=Ee.headers||{};Ee.subject&&(en.subject=Ee.subject),Ee.body&&(en.body=Ee.body);var Rn=[];for(var Gt in en)en[Gt]!==Ot[Gt]&&Rn.push(Gt.replace(un,qe).replace(un,o).replace(sr,Re)+"="+en[Gt].replace(un,qe).replace(un,o).replace(Oe,Re));return Rn.length&&(ft.query=Rn.join("&")),ft}},xt=/^([^\:]+)\:(.*)/,It={scheme:"urn",parse:function(Ee,et){var ft=Ee.path&&Ee.path.match(xt),it=Ee;if(ft){var Et=et.scheme||it.scheme||"urn",Lt=ft[1].toLowerCase(),Kt=ft[2],Yt=Et+":"+(et.nid||Lt),zt=Je[Yt];it.nid=Lt,it.nss=Kt,it.path=void 0,zt&&(it=zt.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ee,et){var ft=et.scheme||Ee.scheme||"urn",it=Ee.nid,Et=ft+":"+(et.nid||it),Lt=Je[Et];Lt&&(Ee=Lt.serialize(Ee,et));var Kt=Ee,Yt=Ee.nss;return Kt.path=(it||et.nid)+":"+Yt,Kt}},zn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ee,et){var ft=Ee;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(zn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ee,et){var ft=Ee;return ft.nss=(Ee.uuid||"").toLowerCase(),ft}};Je[V.scheme]=V,Je[je.scheme]=je,Je[ke.scheme]=ke,Je[At.scheme]=At,Je[wt.scheme]=wt,Je[It.scheme]=It,Je[Jn.scheme]=Jn,n.SCHEMES=Je,n.pctEncChar=Re,n.pctDecChars=Fe,n.parse=he,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=Bt,n.resolve=Se,n.normalize=Be,n.equal=X,n.escapeComponent=q,n.unescapeComponent=K,Object.defineProperty(n,"__esModule",{value:!0})})}(Mg,Mg.exports)),Mg.exports}var L$;function sAe(){if(L$)return jv;L$=1,Object.defineProperty(jv,"__esModule",{value:!0});const t=oAe();return t.code='require("ajv/dist/runtime/uri").default',jv.default=t,jv}var M$;function uAe(){return M$||(M$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=$m();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=On();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=jP(),i=$P(),a=n7(),o=UP(),s=On(),l=Tw(),c=T0(),h=Vn(),p=iAe,m=sAe(),y=(k,ie)=>new RegExp(k,ie);y.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},x={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function A(k){var ie,me,H,J,pe,Ae,Je,Re,Fe,Xe,oe,z,$,ae,W,he,ye,He,Te,Ne,tt,nt,gt,Bt,Se;const Be=k.strict,X=(ie=k.code)===null||ie===void 0?void 0:ie.optimize,q=X===!0||X===void 0?1:X||0,K=(H=(me=k.code)===null||me===void 0?void 0:me.regExp)!==null&&H!==void 0?H:y,V=(J=k.uriResolver)!==null&&J!==void 0?J:m.default;return{strictSchema:(Ae=(pe=k.strictSchema)!==null&&pe!==void 0?pe:Be)!==null&&Ae!==void 0?Ae:!0,strictNumbers:(Re=(Je=k.strictNumbers)!==null&&Je!==void 0?Je:Be)!==null&&Re!==void 0?Re:!0,strictTypes:(Xe=(Fe=k.strictTypes)!==null&&Fe!==void 0?Fe:Be)!==null&&Xe!==void 0?Xe:"log",strictTuples:(z=(oe=k.strictTuples)!==null&&oe!==void 0?oe:Be)!==null&&z!==void 0?z:"log",strictRequired:(ae=($=k.strictRequired)!==null&&$!==void 0?$:Be)!==null&&ae!==void 0?ae:!1,code:k.code?{...k.code,optimize:q,regExp:K}:{optimize:q,regExp:K},loopRequired:(W=k.loopRequired)!==null&&W!==void 0?W:E,loopEnum:(he=k.loopEnum)!==null&&he!==void 0?he:E,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Te=k.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(Ne=k.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(Bt=k.unicodeRegExp)!==null&&Bt!==void 0?Bt:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:V}}class I{constructor(ie={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ie=this.opts={...ie,...A(ie)};const{es5:me,lines:H}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:w,es5:me,lines:H}),this.logger=ce(ie.logger);const J=ie.validateFormats;ie.validateFormats=!1,this.RULES=(0,a.getRules)(),M.call(this,S,ie,"NOT SUPPORTED"),M.call(this,x,ie,"DEPRECATED","warn"),this._metaOpts=B.call(this),ie.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ie.keywords&&Y.call(this,ie.keywords),typeof ie.meta=="object"&&this.addMetaSchema(ie.meta),F.call(this),ie.validateFormats=J}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ie,meta:me,schemaId:H}=this.opts;let J=p;H==="id"&&(J={...p},J.id=J.$id,delete J.$id),me&&ie&&this.addMetaSchema(J,J[H],!1)}defaultMeta(){const{meta:ie,schemaId:me}=this.opts;return this.opts.defaultMeta=typeof ie=="object"?ie[me]||ie:void 0}validate(ie,me){let H;if(typeof ie=="string"){if(H=this.getSchema(ie),!H)throw new Error(`no schema with key or ref "${ie}"`)}else H=this.compile(ie);const J=H(me);return"$async"in H||(this.errors=H.errors),J}compile(ie,me){const H=this._addSchema(ie,me);return H.validate||this._compileSchemaEnv(H)}compileAsync(ie,me){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:H}=this.opts;return J.call(this,ie,me);async function J(Xe,oe){await pe.call(this,Xe.$schema);const z=this._addSchema(Xe,oe);return z.validate||Ae.call(this,z)}async function pe(Xe){Xe&&!this.getSchema(Xe)&&await J.call(this,{$ref:Xe},!0)}async function Ae(Xe){try{return this._compileSchemaEnv(Xe)}catch(oe){if(!(oe instanceof i.default))throw oe;return Je.call(this,oe),await Re.call(this,oe.missingSchema),Ae.call(this,Xe)}}function Je({missingSchema:Xe,missingRef:oe}){if(this.refs[Xe])throw new Error(`AnySchema ${Xe} is loaded but ${oe} cannot be resolved`)}async function Re(Xe){const oe=await Fe.call(this,Xe);this.refs[Xe]||await pe.call(this,oe.$schema),this.refs[Xe]||this.addSchema(oe,Xe,me)}async function Fe(Xe){const oe=this._loading[Xe];if(oe)return oe;try{return await(this._loading[Xe]=H(Xe))}finally{delete this._loading[Xe]}}}addSchema(ie,me,H,J=this.opts.validateSchema){if(Array.isArray(ie)){for(const Ae of ie)this.addSchema(Ae,void 0,H,J);return this}let pe;if(typeof ie=="object"){const{schemaId:Ae}=this.opts;if(pe=ie[Ae],pe!==void 0&&typeof pe!="string")throw new Error(`schema ${Ae} must be string`)}return me=(0,l.normalizeId)(me||pe),this._checkUnique(me),this.schemas[me]=this._addSchema(ie,H,me,J,!0),this}addMetaSchema(ie,me,H=this.opts.validateSchema){return this.addSchema(ie,me,!0,H),this}validateSchema(ie,me){if(typeof ie=="boolean")return!0;let H;if(H=ie.$schema,H!==void 0&&typeof H!="string")throw new Error("$schema must be a string");if(H=H||this.opts.defaultMeta||this.defaultMeta(),!H)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const J=this.validate(H,ie);if(!J&&me){const pe="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(pe);else throw new Error(pe)}return J}getSchema(ie){let me;for(;typeof(me=D.call(this,ie))=="string";)ie=me;if(me===void 0){const{schemaId:H}=this.opts,J=new o.SchemaEnv({schema:{},schemaId:H});if(me=o.resolveSchema.call(this,J,ie),!me)return;this.refs[ie]=me}return me.validate||this._compileSchemaEnv(me)}removeSchema(ie){if(ie instanceof RegExp)return this._removeAllSchemas(this.schemas,ie),this._removeAllSchemas(this.refs,ie),this;switch(typeof ie){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const me=D.call(this,ie);return typeof me=="object"&&this._cache.delete(me.schema),delete this.schemas[ie],delete this.refs[ie],this}case"object":{const me=ie;this._cache.delete(me);let H=ie[this.opts.schemaId];return H&&(H=(0,l.normalizeId)(H),delete this.schemas[H],delete this.refs[H]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ie){for(const me of ie)this.addKeyword(me);return this}addKeyword(ie,me){let H;if(typeof ie=="string")H=ie,typeof me=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),me.keyword=H);else if(typeof ie=="object"&&me===void 0){if(me=ie,H=me.keyword,Array.isArray(H)&&!H.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ue.call(this,H,me),!me)return(0,h.eachItem)(H,pe=>ge.call(this,pe)),this;de.call(this,me);const J={...me,type:(0,c.getJSONTypes)(me.type),schemaType:(0,c.getJSONTypes)(me.schemaType)};return(0,h.eachItem)(H,J.type.length===0?pe=>ge.call(this,pe,J):pe=>J.type.forEach(Ae=>ge.call(this,pe,J,Ae))),this}getKeyword(ie){const me=this.RULES.all[ie];return typeof me=="object"?me.definition:!!me}removeKeyword(ie){const{RULES:me}=this;delete me.keywords[ie],delete me.all[ie];for(const H of me.rules){const J=H.rules.findIndex(pe=>pe.keyword===ie);J>=0&&H.rules.splice(J,1)}return this}addFormat(ie,me){return typeof me=="string"&&(me=new RegExp(me)),this.formats[ie]=me,this}errorsText(ie=this.errors,{separator:me=", ",dataVar:H="data"}={}){return!ie||ie.length===0?"No errors":ie.map(J=>`${H}${J.instancePath} ${J.message}`).reduce((J,pe)=>J+me+pe)}$dataMetaSchema(ie,me){const H=this.RULES.all;ie=JSON.parse(JSON.stringify(ie));for(const J of me){const pe=J.split("/").slice(1);let Ae=ie;for(const Je of pe)Ae=Ae[Je];for(const Je in H){const Re=H[Je];if(typeof Re!="object")continue;const{$data:Fe}=Re.definition,Xe=Ae[Je];Fe&&Xe&&(Ae[Je]=Ie(Xe))}}return ie}_removeAllSchemas(ie,me){for(const H in ie){const J=ie[H];(!me||me.test(H))&&(typeof J=="string"?delete ie[H]:J&&!J.meta&&(this._cache.delete(J.schema),delete ie[H]))}}_addSchema(ie,me,H,J=this.opts.validateSchema,pe=this.opts.addUsedSchema){let Ae;const{schemaId:Je}=this.opts;if(typeof ie=="object")Ae=ie[Je];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ie!="boolean")throw new Error("schema must be object or boolean")}let Re=this._cache.get(ie);if(Re!==void 0)return Re;H=(0,l.normalizeId)(Ae||H);const Fe=l.getSchemaRefs.call(this,ie,H);return Re=new o.SchemaEnv({schema:ie,schemaId:Je,meta:me,baseId:H,localRefs:Fe}),this._cache.set(Re.schema,Re),pe&&!H.startsWith("#")&&(H&&this._checkUnique(H),this.refs[H]=Re),J&&this.validateSchema(ie,!0),Re}_checkUnique(ie){if(this.schemas[ie]||this.refs[ie])throw new Error(`schema with key or id "${ie}" already exists`)}_compileSchemaEnv(ie){if(ie.meta?this._compileMetaSchema(ie):o.compileSchema.call(this,ie),!ie.validate)throw new Error("ajv implementation error");return ie.validate}_compileMetaSchema(ie){const me=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,ie)}finally{this.opts=me}}}I.ValidationError=r.default,I.MissingRefError=i.default,t.default=I;function M(k,ie,me,H="error"){for(const J in k){const pe=J;pe in ie&&this.logger[H](`${me}: option ${J}. ${k[pe]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function F(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ie in k)this.addSchema(k[ie],ie)}function Q(){for(const k in this.opts.formats){const ie=this.opts.formats[k];ie&&this.addFormat(k,ie)}}function Y(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ie in k){const me=k[ie];me.keyword||(me.keyword=ie),this.addKeyword(me)}}function B(){const k={...this.opts};for(const ie of v)delete k[ie];return k}const Z={log(){},warn(){},error(){}};function ce(k){if(k===!1)return Z;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const re=/^[a-z_$][a-z0-9_$:-]*$/i;function ue(k,ie){const{RULES:me}=this;if((0,h.eachItem)(k,H=>{if(me.keywords[H])throw new Error(`Keyword ${H} is already defined`);if(!re.test(H))throw new Error(`Keyword ${H} has invalid name`)}),!!ie&&ie.$data&&!("code"in ie||"validate"in ie))throw new Error('$data keyword must have "code" or "validate" function')}function ge(k,ie,me){var H;const J=ie==null?void 0:ie.post;if(me&&J)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:pe}=this;let Ae=J?pe.post:pe.rules.find(({type:Re})=>Re===me);if(Ae||(Ae={type:me,rules:[]},pe.rules.push(Ae)),pe.keywords[k]=!0,!ie)return;const Je={keyword:k,definition:{...ie,type:(0,c.getJSONTypes)(ie.type),schemaType:(0,c.getJSONTypes)(ie.schemaType)}};ie.before?_e.call(this,Ae,Je,ie.before):Ae.rules.push(Je),pe.all[k]=Je,(H=ie.implements)===null||H===void 0||H.forEach(Re=>this.addKeyword(Re))}function _e(k,ie,me){const H=k.rules.findIndex(J=>J.keyword===me);H>=0?k.rules.splice(H,0,ie):(k.rules.push(ie),this.logger.warn(`rule ${me} is not defined`))}function de(k){let{metaSchema:ie}=k;ie!==void 0&&(k.$data&&this.opts.$data&&(ie=Ie(ie)),k.validateSchema=this.compile(ie,!0))}const fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ie(k){return{anyOf:[k,fe]}}}(aC)),aC}var $v={},Uv={},Bv={},D$;function lAe(){if(D$)return Bv;D$=1,Object.defineProperty(Bv,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Bv.default=t,Bv}var rl={},k$;function cAe(){if(k$)return rl;k$=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.callRef=rl.getValidate=void 0;const t=$P(),e=Ho(),n=On(),r=xu(),i=UP(),a=Vn(),o={keyword:"$ref",schemaType:"string",code(c){const{gen:h,schema:p,it:m}=c,{baseId:y,schemaEnv:v,validateName:w,opts:S,self:x}=m,{root:E}=v;if((p==="#"||p==="#/")&&y===E.baseId)return I();const A=i.resolveRef.call(x,E,y,p);if(A===void 0)throw new t.default(m.opts.uriResolver,y,p);if(A instanceof i.SchemaEnv)return M(A);return D(A);function I(){if(v===E)return l(c,w,v,v.$async);const F=h.scopeValue("root",{ref:E});return l(c,(0,n._)`${F}.validate`,E,E.$async)}function M(F){const Q=s(c,F);l(c,Q,F,F.$async)}function D(F){const Q=h.scopeValue("schema",S.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),Y=h.name("valid"),B=c.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:p},Y);c.mergeEvaluated(B),c.ok(Y)}}};function s(c,h){const{gen:p}=c;return h.validate?p.scopeValue("validate",{ref:h.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:h})}.validate`}rl.getValidate=s;function l(c,h,p,m){const{gen:y,it:v}=c,{allErrors:w,schemaEnv:S,opts:x}=v,E=x.passContext?r.default.this:n.nil;m?A():I();function A(){if(!S.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,e.callValidateCode)(c,h,E)}`),D(h),w||y.assign(F,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${v.ValidationError})`,()=>y.throw(Q)),M(Q),w||y.assign(F,!1)}),c.ok(F)}function I(){c.result((0,e.callValidateCode)(c,h,E),()=>D(h),()=>M(h))}function M(F){const Q=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(F){var Q;if(!v.opts.unevaluated)return;const Y=(Q=p==null?void 0:p.validate)===null||Q===void 0?void 0:Q.evaluated;if(v.props!==!0)if(Y&&!Y.dynamicProps)Y.props!==void 0&&(v.props=a.mergeEvaluated.props(y,Y.props,v.props));else{const B=y.var("props",(0,n._)`${F}.evaluated.props`);v.props=a.mergeEvaluated.props(y,B,v.props,n.Name)}if(v.items!==!0)if(Y&&!Y.dynamicItems)Y.items!==void 0&&(v.items=a.mergeEvaluated.items(y,Y.items,v.items));else{const B=y.var("items",(0,n._)`${F}.evaluated.items`);v.items=a.mergeEvaluated.items(y,B,v.items,n.Name)}}}return rl.callRef=l,rl.default=o,rl}var N$;function fAe(){if(N$)return Uv;N$=1,Object.defineProperty(Uv,"__esModule",{value:!0});const t=lAe(),e=cAe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Uv.default=n,Uv}var qv={},zv={},F$;function dAe(){if(F$)return zv;F$=1,Object.defineProperty(zv,"__esModule",{value:!0});const t=On(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:a,schemaCode:o})=>(0,t.str)`must be ${n[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:o,data:s,schemaCode:l}=a;a.fail$data((0,t._)`${s} ${n[o].fail} ${l} || isNaN(${s})`)}};return zv.default=i,zv}var Hv={},j$;function hAe(){if(j$)return Hv;j$=1,Object.defineProperty(Hv,"__esModule",{value:!0});const t=On(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:o,it:s}=r,l=s.opts.multipleOfPrecision,c=i.let("res"),h=l?(0,t._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,t._)`${c} !== parseInt(${c})`;r.fail$data((0,t._)`(${o} === 0 || (${c} = ${a}/${o}, ${h}))`)}};return Hv.default=n,Hv}var Vv={},Kv={},$$;function pAe(){if($$)return Kv;$$=1,Object.defineProperty(Kv,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,a;for(;i<n;)r++,a=e.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=e.charCodeAt(i),(a&64512)===56320&&i++);return r}return Kv.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Kv}var U$;function gAe(){if(U$)return Vv;U$=1,Object.defineProperty(Vv,"__esModule",{value:!0});const t=On(),e=Vn(),n=pAe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const s=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},code(a){const{keyword:o,data:s,schemaCode:l,it:c}=a,h=o==="maxLength"?t.operators.GT:t.operators.LT,p=c.opts.unicode===!1?(0,t._)`${s}.length`:(0,t._)`${(0,e.useFunc)(a.gen,n.default)}(${s})`;a.fail$data((0,t._)`${p} ${h} ${l}`)}};return Vv.default=i,Vv}var Gv={},B$;function mAe(){if(B$)return Gv;B$=1,Object.defineProperty(Gv,"__esModule",{value:!0});const t=Ho(),e=On(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:a,$data:o,schema:s,schemaCode:l,it:c}=i,h=c.opts.unicodeRegExp?"u":"",p=o?(0,e._)`(new RegExp(${l}, ${h}))`:(0,t.usePattern)(i,s);i.fail$data((0,e._)`!${p}.test(${a})`)}};return Gv.default=r,Gv}var Wv={},q$;function yAe(){if(q$)return Wv;q$=1,Object.defineProperty(Wv,"__esModule",{value:!0});const t=On(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${a}).length ${s} ${o}`)}};return Wv.default=n,Wv}var Qv={},z$;function vAe(){if(z$)return Qv;z$=1,Object.defineProperty(Qv,"__esModule",{value:!0});const t=Ho(),e=On(),n=Vn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:s,schemaCode:l,data:c,$data:h,it:p}=a,{opts:m}=p;if(!h&&s.length===0)return;const y=s.length>=m.loopRequired;if(p.allErrors?v():w(),m.strictRequired){const E=a.parentSchema.properties,{definedProperties:A}=a.it;for(const I of s)if((E==null?void 0:E[I])===void 0&&!A.has(I)){const M=p.schemaEnv.baseId+p.errSchemaPath,D=`required property "${I}" is not defined at "${M}" (strictRequired)`;(0,n.checkStrictMode)(p,D,p.opts.strictRequired)}}function v(){if(y||h)a.block$data(e.nil,S);else for(const E of s)(0,t.checkReportMissingProp)(a,E)}function w(){const E=o.let("missing");if(y||h){const A=o.let("valid",!0);a.block$data(A,()=>x(E,A)),a.ok(A)}else o.if((0,t.checkMissingProp)(a,s,E)),(0,t.reportMissingProp)(a,E),o.else()}function S(){o.forOf("prop",l,E=>{a.setParams({missingProperty:E}),o.if((0,t.noPropertyInData)(o,c,E,m.ownProperties),()=>a.error())})}function x(E,A){a.setParams({missingProperty:E}),o.forOf(E,l,()=>{o.assign(A,(0,t.propertyInData)(o,c,E,m.ownProperties)),o.if((0,e.not)(A),()=>{a.error(),o.break()})},e.nil)}}};return Qv.default=i,Qv}var Zv={},H$;function _Ae(){if(H$)return Zv;H$=1,Object.defineProperty(Zv,"__esModule",{value:!0});const t=On(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${a}.length ${s} ${o}`)}};return Zv.default=n,Zv}var Jv={},Yv={},V$;function BP(){if(V$)return Yv;V$=1,Object.defineProperty(Yv,"__esModule",{value:!0});const t=i7();return t.code='require("ajv/dist/runtime/equal").default',Yv.default=t,Yv}var K$;function wAe(){if(K$)return Jv;K$=1,Object.defineProperty(Jv,"__esModule",{value:!0});const t=T0(),e=On(),n=Vn(),r=BP(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,e.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,e._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:l,$data:c,schema:h,parentSchema:p,schemaCode:m,it:y}=o;if(!c&&!h)return;const v=s.let("valid"),w=p.items?(0,t.getSchemaTypes)(p.items):[];o.block$data(v,S,(0,e._)`${m} === false`),o.ok(v);function S(){const I=s.let("i",(0,e._)`${l}.length`),M=s.let("j");o.setParams({i:I,j:M}),s.assign(v,!0),s.if((0,e._)`${I} > 1`,()=>(x()?E:A)(I,M))}function x(){return w.length>0&&!w.some(I=>I==="object"||I==="array")}function E(I,M){const D=s.name("item"),F=(0,t.checkDataTypes)(w,D,y.opts.strictNumbers,t.DataType.Wrong),Q=s.const("indices",(0,e._)`{}`);s.for((0,e._)`;${I}--;`,()=>{s.let(D,(0,e._)`${l}[${I}]`),s.if(F,(0,e._)`continue`),w.length>1&&s.if((0,e._)`typeof ${D} == "string"`,(0,e._)`${D} += "_"`),s.if((0,e._)`typeof ${Q}[${D}] == "number"`,()=>{s.assign(M,(0,e._)`${Q}[${D}]`),o.error(),s.assign(v,!1).break()}).code((0,e._)`${Q}[${D}] = ${I}`)})}function A(I,M){const D=(0,n.useFunc)(s,r.default),F=s.name("outer");s.label(F).for((0,e._)`;${I}--;`,()=>s.for((0,e._)`${M} = ${I}; ${M}--;`,()=>s.if((0,e._)`${D}(${l}[${I}], ${l}[${M}])`,()=>{o.error(),s.assign(v,!1).break(F)})))}}};return Jv.default=a,Jv}var Xv={},G$;function bAe(){if(G$)return Xv;G$=1,Object.defineProperty(Xv,"__esModule",{value:!0});const t=On(),e=Vn(),n=BP(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:s,$data:l,schemaCode:c,schema:h}=a;l||h&&typeof h=="object"?a.fail$data((0,t._)`!${(0,e.useFunc)(o,n.default)}(${s}, ${c})`):a.fail((0,t._)`${h} !== ${s}`)}};return Xv.default=i,Xv}var e_={},W$;function SAe(){if(W$)return e_;W$=1,Object.defineProperty(e_,"__esModule",{value:!0});const t=On(),e=Vn(),n=BP(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:s,$data:l,schema:c,schemaCode:h,it:p}=a;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const m=c.length>=p.opts.loopEnum;let y;const v=()=>y??(y=(0,e.useFunc)(o,n.default));let w;if(m||l)w=o.let("valid"),a.block$data(w,S);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const E=o.const("vSchema",h);w=(0,t.or)(...c.map((A,I)=>x(E,I)))}a.pass(w);function S(){o.assign(w,!1),o.forOf("v",h,E=>o.if((0,t._)`${v()}(${s}, ${E})`,()=>o.assign(w,!0).break()))}function x(E,A){const I=c[A];return typeof I=="object"&&I!==null?(0,t._)`${v()}(${s}, ${E}[${A}])`:(0,t._)`${s} === ${I}`}}};return e_.default=i,e_}var Q$;function xAe(){if(Q$)return qv;Q$=1,Object.defineProperty(qv,"__esModule",{value:!0});const t=dAe(),e=hAe(),n=gAe(),r=mAe(),i=yAe(),a=vAe(),o=_Ae(),s=wAe(),l=bAe(),c=SAe(),h=[t.default,e.default,n.default,r.default,i.default,a.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return qv.default=h,qv}var t_={},td={},Z$;function a7(){if(Z$)return td;Z$=1,Object.defineProperty(td,"__esModule",{value:!0}),td.validateAdditionalItems=void 0;const t=On(),e=Vn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:s}=a,{items:l}=o;if(!Array.isArray(l)){(0,e.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,o){const{gen:s,schema:l,data:c,keyword:h,it:p}=a;p.items=!0;const m=s.const("len",(0,t._)`${c}.length`);if(l===!1)a.setParams({len:o.length}),a.pass((0,t._)`${m} <= ${o.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(p,l)){const v=s.var("valid",(0,t._)`${m} <= ${o.length}`);s.if((0,t.not)(v),()=>y(v)),a.ok(v)}function y(v){s.forRange("i",o.length,m,w=>{a.subschema({keyword:h,dataProp:w,dataPropType:e.Type.Num},v),p.allErrors||s.if((0,t.not)(v),()=>s.break())})}}return td.validateAdditionalItems=i,td.default=r,td}var n_={},nd={},J$;function o7(){if(J$)return nd;J$=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.validateTuple=void 0;const t=On(),e=Vn(),n=Ho(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:s}=a;if(Array.isArray(o))return i(a,"additionalItems",o);s.items=!0,!(0,e.alwaysValidSchema)(s,o)&&a.ok((0,n.validateArray)(a))}};function i(a,o,s=a.schema){const{gen:l,parentSchema:c,data:h,keyword:p,it:m}=a;w(c),m.opts.unevaluated&&s.length&&m.items!==!0&&(m.items=e.mergeEvaluated.items(l,s.length,m.items));const y=l.name("valid"),v=l.const("len",(0,t._)`${h}.length`);s.forEach((S,x)=>{(0,e.alwaysValidSchema)(m,S)||(l.if((0,t._)`${v} > ${x}`,()=>a.subschema({keyword:p,schemaProp:x,dataProp:x},y)),a.ok(y))});function w(S){const{opts:x,errSchemaPath:E}=m,A=s.length,I=A===S.minItems&&(A===S.maxItems||S[o]===!1);if(x.strictTuples&&!I){const M=`"${p}" is ${A}-tuple, but minItems or maxItems/${o} are not specified or different at path "${E}"`;(0,e.checkStrictMode)(m,M,x.strictTuples)}}}return nd.validateTuple=i,nd.default=r,nd}var Y$;function EAe(){if(Y$)return n_;Y$=1,Object.defineProperty(n_,"__esModule",{value:!0});const t=o7(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return n_.default=e,n_}var r_={},X$;function TAe(){if(X$)return r_;X$=1,Object.defineProperty(r_,"__esModule",{value:!0});const t=On(),e=Vn(),n=Ho(),r=a7(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:l,it:c}=o,{prefixItems:h}=l;c.items=!0,!(0,e.alwaysValidSchema)(c,s)&&(h?(0,r.validateAdditionalItems)(o,h):o.ok((0,n.validateArray)(o)))}};return r_.default=a,r_}var i_={},e5;function CAe(){if(e5)return i_;e5=1,Object.defineProperty(i_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:o,parentSchema:s,data:l,it:c}=i;let h,p;const{minContains:m,maxContains:y}=s;c.opts.next?(h=m===void 0?1:m,p=y):h=1;const v=a.const("len",(0,t._)`${l}.length`);if(i.setParams({min:h,max:p}),p===void 0&&h===0){(0,e.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&h>p){(0,e.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(c,o)){let A=(0,t._)`${v} >= ${h}`;p!==void 0&&(A=(0,t._)`${A} && ${v} <= ${p}`),i.pass(A);return}c.items=!0;const w=a.name("valid");p===void 0&&h===1?x(w,()=>a.if(w,()=>a.break())):h===0?(a.let(w,!0),p!==void 0&&a.if((0,t._)`${l}.length > 0`,S)):(a.let(w,!1),S()),i.result(w,()=>i.reset());function S(){const A=a.name("_valid"),I=a.let("count",0);x(A,()=>a.if(A,()=>E(I)))}function x(A,I){a.forRange("i",0,v,M=>{i.subschema({keyword:"contains",dataProp:M,dataPropType:e.Type.Num,compositeRule:!0},A),I()})}function E(A){a.code((0,t._)`${A}++`),p===void 0?a.if((0,t._)`${A} >= ${h}`,()=>a.assign(w,!0).break()):(a.if((0,t._)`${A} > ${p}`,()=>a.assign(w,!1).break()),h===1?a.assign(w,!0):a.if((0,t._)`${A} >= ${h}`,()=>a.assign(w,!0)))}}};return i_.default=r,i_}var dC={},t5;function AAe(){return t5||(t5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=On(),n=Vn(),r=Ho();t.error={message:({params:{property:l,depsCount:c,deps:h}})=>{const p=c===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:h,missingProperty:p}})=>(0,e._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${c},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,h]=a(l);o(l,c),s(l,h)}};function a({schema:l}){const c={},h={};for(const p in l){if(p==="__proto__")continue;const m=Array.isArray(l[p])?c:h;m[p]=l[p]}return[c,h]}function o(l,c=l.schema){const{gen:h,data:p,it:m}=l;if(Object.keys(c).length===0)return;const y=h.let("missing");for(const v in c){const w=c[v];if(w.length===0)continue;const S=(0,r.propertyInData)(h,p,v,m.opts.ownProperties);l.setParams({property:v,depsCount:w.length,deps:w.join(", ")}),m.allErrors?h.if(S,()=>{for(const x of w)(0,r.checkReportMissingProp)(l,x)}):(h.if((0,e._)`${S} && (${(0,r.checkMissingProp)(l,w,y)})`),(0,r.reportMissingProp)(l,y),h.else())}}t.validatePropertyDeps=o;function s(l,c=l.schema){const{gen:h,data:p,keyword:m,it:y}=l,v=h.name("valid");for(const w in c)(0,n.alwaysValidSchema)(y,c[w])||(h.if((0,r.propertyInData)(h,p,w,y.opts.ownProperties),()=>{const S=l.subschema({keyword:m,schemaProp:w},v);l.mergeValidEvaluated(S,v)},()=>h.var(v,!0)),l.ok(v))}t.validateSchemaDeps=s,t.default=i}(dC)),dC}var a_={},n5;function RAe(){if(n5)return a_;n5=1,Object.defineProperty(a_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:o,data:s,it:l}=i;if((0,e.alwaysValidSchema)(l,o))return;const c=a.name("valid");a.forIn("key",s,h=>{i.setParams({propertyName:h}),i.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},c),a.if((0,t.not)(c),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(c)}};return a_.default=r,a_}var o_={},r5;function s7(){if(r5)return o_;r5=1,Object.defineProperty(o_,"__esModule",{value:!0});const t=Ho(),e=On(),n=xu(),r=Vn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:l,parentSchema:c,data:h,errsCount:p,it:m}=o;if(!p)throw new Error("ajv implementation error");const{allErrors:y,opts:v}=m;if(m.props=!0,v.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const w=(0,t.allSchemaProperties)(c.properties),S=(0,t.allSchemaProperties)(c.patternProperties);x(),o.ok((0,e._)`${p} === ${n.default.errors}`);function x(){s.forIn("key",h,D=>{!w.length&&!S.length?I(D):s.if(E(D),()=>I(D))})}function E(D){let F;if(w.length>8){const Q=(0,r.schemaRefOrVal)(m,c.properties,"properties");F=(0,t.isOwnProperty)(s,Q,D)}else w.length?F=(0,e.or)(...w.map(Q=>(0,e._)`${D} === ${Q}`)):F=e.nil;return S.length&&(F=(0,e.or)(F,...S.map(Q=>(0,e._)`${(0,t.usePattern)(o,Q)}.test(${D})`))),(0,e.not)(F)}function A(D){s.code((0,e._)`delete ${h}[${D}]`)}function I(D){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){A(D);return}if(l===!1){o.setParams({additionalProperty:D}),o.error(),y||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const F=s.name("valid");v.removeAdditional==="failing"?(M(D,F,!1),s.if((0,e.not)(F),()=>{o.reset(),A(D)})):(M(D,F),y||s.if((0,e.not)(F),()=>s.break()))}}function M(D,F,Q){const Y={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(Y,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(Y,F)}}};return o_.default=a,o_}var s_={},i5;function PAe(){if(i5)return s_;i5=1,Object.defineProperty(s_,"__esModule",{value:!0});const t=$m(),e=Ho(),n=Vn(),r=s7(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,parentSchema:l,data:c,it:h}=a;h.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(h,r.default,"additionalProperties"));const p=(0,e.allSchemaProperties)(s);for(const S of p)h.definedProperties.add(S);h.opts.unevaluated&&p.length&&h.props!==!0&&(h.props=n.mergeEvaluated.props(o,(0,n.toHash)(p),h.props));const m=p.filter(S=>!(0,n.alwaysValidSchema)(h,s[S]));if(m.length===0)return;const y=o.name("valid");for(const S of m)v(S)?w(S):(o.if((0,e.propertyInData)(o,c,S,h.opts.ownProperties)),w(S),h.allErrors||o.else().var(y,!0),o.endIf()),a.it.definedProperties.add(S),a.ok(y);function v(S){return h.opts.useDefaults&&!h.compositeRule&&s[S].default!==void 0}function w(S){a.subschema({keyword:"properties",schemaProp:S,dataProp:S},y)}}};return s_.default=i,s_}var u_={},a5;function OAe(){if(a5)return u_;a5=1,Object.defineProperty(u_,"__esModule",{value:!0});const t=Ho(),e=On(),n=Vn(),r=Vn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,data:l,parentSchema:c,it:h}=a,{opts:p}=h,m=(0,t.allSchemaProperties)(s),y=m.filter(I=>(0,n.alwaysValidSchema)(h,s[I]));if(m.length===0||y.length===m.length&&(!h.opts.unevaluated||h.props===!0))return;const v=p.strictSchema&&!p.allowMatchingProperties&&c.properties,w=o.name("valid");h.props!==!0&&!(h.props instanceof e.Name)&&(h.props=(0,r.evaluatedPropsToName)(o,h.props));const{props:S}=h;x();function x(){for(const I of m)v&&E(I),h.allErrors?A(I):(o.var(w,!0),A(I),o.if(w))}function E(I){for(const M in v)new RegExp(I).test(M)&&(0,n.checkStrictMode)(h,`property ${M} matches pattern ${I} (use allowMatchingProperties)`)}function A(I){o.forIn("key",l,M=>{o.if((0,e._)`${(0,t.usePattern)(a,I)}.test(${M})`,()=>{const D=y.includes(I);D||a.subschema({keyword:"patternProperties",schemaProp:I,dataProp:M,dataPropType:r.Type.Str},w),h.opts.unevaluated&&S!==!0?o.assign((0,e._)`${S}[${M}]`,!0):!D&&!h.allErrors&&o.if((0,e.not)(w),()=>o.break())})})}}};return u_.default=i,u_}var l_={},o5;function IAe(){if(o5)return l_;o5=1,Object.defineProperty(l_,"__esModule",{value:!0});const t=Vn(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,t.alwaysValidSchema)(a,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return l_.default=e,l_}var c_={},s5;function LAe(){if(s5)return c_;s5=1,Object.defineProperty(c_,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ho().validateUnion,error:{message:"must match a schema in anyOf"}};return c_.default=e,c_}var f_={},u5;function MAe(){if(u5)return f_;u5=1,Object.defineProperty(f_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:o,parentSchema:s,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const c=o,h=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");i.setParams({passing:p}),a.block(y),i.result(h,()=>i.reset(),()=>i.error(!0));function y(){c.forEach((v,w)=>{let S;(0,e.alwaysValidSchema)(l,v)?a.var(m,!0):S=i.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},m),w>0&&a.if((0,t._)`${m} && ${h}`).assign(h,!1).assign(p,(0,t._)`[${p}, ${w}]`).else(),a.if(m,()=>{a.assign(h,!0),a.assign(p,w),S&&i.mergeEvaluated(S,t.Name)})})}}};return f_.default=r,f_}var d_={},l5;function DAe(){if(l5)return d_;l5=1,Object.defineProperty(d_,"__esModule",{value:!0});const t=Vn(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((s,l)=>{if((0,t.alwaysValidSchema)(a,s))return;const c=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(c)})}};return d_.default=e,d_}var h_={},c5;function kAe(){if(c5)return h_;c5=1,Object.defineProperty(h_,"__esModule",{value:!0});const t=On(),e=Vn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:s,it:l}=a;s.then===void 0&&s.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=i(l,"then"),h=i(l,"else");if(!c&&!h)return;const p=o.let("valid",!0),m=o.name("_valid");if(y(),a.reset(),c&&h){const w=o.let("ifClause");a.setParams({ifClause:w}),o.if(m,v("then",w),v("else",w))}else c?o.if(m,v("then")):o.if((0,t.not)(m),v("else"));a.pass(p,()=>a.error(!0));function y(){const w=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(w)}function v(w,S){return()=>{const x=a.subschema({keyword:w},m);o.assign(p,m),a.mergeValidEvaluated(x,p),S?o.assign(S,(0,t._)`${w}`):a.setParams({ifClause:w})}}}};function i(a,o){const s=a.schema[o];return s!==void 0&&!(0,e.alwaysValidSchema)(a,s)}return h_.default=r,h_}var p_={},f5;function NAe(){if(f5)return p_;f5=1,Object.defineProperty(p_,"__esModule",{value:!0});const t=Vn(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return p_.default=e,p_}var d5;function FAe(){if(d5)return t_;d5=1,Object.defineProperty(t_,"__esModule",{value:!0});const t=a7(),e=EAe(),n=o7(),r=TAe(),i=CAe(),a=AAe(),o=RAe(),s=s7(),l=PAe(),c=OAe(),h=IAe(),p=LAe(),m=MAe(),y=DAe(),v=kAe(),w=NAe();function S(x=!1){const E=[h.default,p.default,m.default,y.default,v.default,w.default,o.default,s.default,a.default,l.default,c.default];return x?E.push(e.default,r.default):E.push(t.default,n.default),E.push(i.default),E}return t_.default=S,t_}var g_={},m_={},h5;function jAe(){if(h5)return m_;h5=1,Object.defineProperty(m_,"__esModule",{value:!0});const t=On(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:a,data:o,$data:s,schema:l,schemaCode:c,it:h}=r,{opts:p,errSchemaPath:m,schemaEnv:y,self:v}=h;if(!p.validateFormats)return;s?w():S();function w(){const x=a.scopeValue("formats",{ref:v.formats,code:p.code.formats}),E=a.const("fDef",(0,t._)`${x}[${c}]`),A=a.let("fType"),I=a.let("format");a.if((0,t._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>a.assign(A,(0,t._)`${E}.type || "string"`).assign(I,(0,t._)`${E}.validate`),()=>a.assign(A,(0,t._)`"string"`).assign(I,E)),r.fail$data((0,t.or)(M(),D()));function M(){return p.strictSchema===!1?t.nil:(0,t._)`${c} && !${I}`}function D(){const F=y.$async?(0,t._)`(${E}.async ? await ${I}(${o}) : ${I}(${o}))`:(0,t._)`${I}(${o})`,Q=(0,t._)`(typeof ${I} == "function" ? ${F} : ${I}.test(${o}))`;return(0,t._)`${I} && ${I} !== true && ${A} === ${i} && !${Q}`}}function S(){const x=v.formats[l];if(!x){M();return}if(x===!0)return;const[E,A,I]=D(x);E===i&&r.pass(F());function M(){if(p.strictSchema===!1){v.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function D(Q){const Y=Q instanceof RegExp?(0,t.regexpCode)(Q):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(l)}`:void 0,B=a.scopeValue("formats",{key:l,ref:Q,code:Y});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,t._)`${B}.validate`]:["string",Q,B]}function F(){if(typeof x=="object"&&!(x instanceof RegExp)&&x.async){if(!y.$async)throw new Error("async format in sync schema");return(0,t._)`await ${I}(${o})`}return typeof A=="function"?(0,t._)`${I}(${o})`:(0,t._)`${I}.test(${o})`}}}};return m_.default=n,m_}var p5;function $Ae(){if(p5)return g_;p5=1,Object.defineProperty(g_,"__esModule",{value:!0});const e=[jAe().default];return g_.default=e,g_}var Tc={},g5;function UAe(){return g5||(g5=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.contentVocabulary=Tc.metadataVocabulary=void 0,Tc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Tc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Tc}var m5;function BAe(){if(m5)return $v;m5=1,Object.defineProperty($v,"__esModule",{value:!0});const t=fAe(),e=xAe(),n=FAe(),r=$Ae(),i=UAe(),a=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return $v.default=a,$v}var y_={},vg={},y5;function qAe(){if(y5)return vg;y5=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(vg.DiscrError=t={})),vg}var v5;function zAe(){if(v5)return y_;v5=1,Object.defineProperty(y_,"__esModule",{value:!0});const t=On(),e=qAe(),n=UP(),r=Vn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:s}})=>o===e.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:o,tag:s,tagName:l}})=>(0,t._)`{error: ${o}, tag: ${l}, tagValue: ${s}}`},code(o){const{gen:s,data:l,schema:c,parentSchema:h,it:p}=o,{oneOf:m}=h;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=c.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const v=s.let("valid",!1),w=s.const("tag",(0,t._)`${l}${(0,t.getProperty)(y)}`);s.if((0,t._)`typeof ${w} == "string"`,()=>S(),()=>o.error(!1,{discrError:e.DiscrError.Tag,tag:w,tagName:y})),o.ok(v);function S(){const A=E();s.if(!1);for(const I in A)s.elseIf((0,t._)`${w} === ${I}`),s.assign(v,x(A[I]));s.else(),o.error(!1,{discrError:e.DiscrError.Mapping,tag:w,tagName:y}),s.endIf()}function x(A){const I=s.name("valid"),M=o.subschema({keyword:"oneOf",schemaProp:A},I);return o.mergeEvaluated(M,t.Name),I}function E(){var A;const I={},M=F(h);let D=!0;for(let B=0;B<m.length;B++){let Z=m[B];Z!=null&&Z.$ref&&!(0,r.schemaHasRulesButRef)(Z,p.self.RULES)&&(Z=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,Z==null?void 0:Z.$ref),Z instanceof n.SchemaEnv&&(Z=Z.schema));const ce=(A=Z==null?void 0:Z.properties)===null||A===void 0?void 0:A[y];if(typeof ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(M||F(Z)),Q(ce,B)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return I;function F({required:B}){return Array.isArray(B)&&B.includes(y)}function Q(B,Z){if(B.const)Y(B.const,Z);else if(B.enum)for(const ce of B.enum)Y(ce,Z);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function Y(B,Z){if(typeof B!="string"||B in I)throw new Error(`discriminator: "${y}" values must be unique strings`);I[B]=Z}}}};return y_.default=a,y_}const HAe="http://json-schema.org/draft-07/schema#",VAe="http://json-schema.org/draft-07/schema#",KAe="Core schema meta-schema",GAe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},WAe=["object","boolean"],QAe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ZAe={$schema:HAe,$id:VAe,title:KAe,definitions:GAe,type:WAe,properties:QAe,default:!0};var _5;function u7(){return _5||(_5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=uAe(),r=BAe(),i=zAe(),a=ZAe,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=$m();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=On();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=jP();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=$P();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(Dv,Dv.exports)),Dv.exports}var JAe=u7();const YAe=Dr(JAe);var v_={exports:{}},w5;function XAe(){return w5||(w5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=u7(),r=On(),i=dm(),a=$m(),o=jm(),s=xu(),l="errorMessage",c=new n.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function v(S){return{keyword:l,schemaType:["string","object"],post:!0,code(x){const{gen:E,data:A,schema:I,schemaValue:M,it:D}=x;if(D.createErrors===!1)return;const F=I,Q=r.strConcat(s.default.instancePath,D.errorPath);E.if(n._`${s.default.errors} > 0`,()=>{if(typeof F=="object"){const[H,J]=B(F);J&&Z(J),H&&ce(H),re(Y(F))}const me=typeof F=="string"?F:F._;me&&ue(me),S.keepErrors||ge()});function Y({properties:me,items:H}){const J={};if(me){J.props={};for(const pe in me)J.props[pe]=[]}if(H){J.items={};for(let pe=0;pe<H.length;pe++)J.items[pe]=[]}return J}function B(me){let H,J;for(const pe in me){if(pe==="properties"||pe==="items")continue;const Ae=me[pe];if(typeof Ae=="object"){H||(H={});const Je=H[pe]={};for(const Re in Ae)Je[Re]=[]}else J||(J={}),J[pe]=[]}return[H,J]}function Z(me){const H=E.const("emErrors",n.stringify(me)),J=E.const("templates",Ie(me,I));E.forOf("err",s.default.vErrors,Re=>E.if(_e(Re,H),()=>E.code(n._`${H}[${Re}.keyword].push(${Re})`).assign(n._`${Re}.${c}`,!0)));const{singleError:pe}=S;if(pe){const Re=E.let("message",n._`""`),Fe=E.let("paramsErrors",n._`[]`);Ae(Xe=>{E.if(Re,()=>E.code(n._`${Re} += ${typeof pe=="string"?pe:";"}`)),E.code(n._`${Re} += ${Je(Xe)}`),E.assign(Fe,n._`${Fe}.concat(${H}[${Xe}])`)}),o.reportError(x,{message:Re,params:n._`{errors: ${Fe}}`})}else Ae(Re=>o.reportError(x,{message:Je(Re),params:n._`{errors: ${H}[${Re}]}`}));function Ae(Re){E.forIn("key",H,Fe=>E.if(n._`${H}[${Fe}].length`,()=>Re(Fe)))}function Je(Re){return n._`${Re} in ${J} ? ${J}[${Re}]() : ${M}[${Re}]`}}function ce(me){const H=E.const("emErrors",n.stringify(me)),J=[];for(const Fe in me)J.push([Fe,Ie(me[Fe],I[Fe])]);const pe=E.const("templates",E.object(...J)),Ae=E.scopeValue("obj",{ref:h,code:n.stringify(h)}),Je=E.let("emPropParams"),Re=E.let("emParamsErrors");E.forOf("err",s.default.vErrors,Fe=>E.if(_e(Fe,H),()=>{E.assign(Je,n._`${Ae}[${Fe}.keyword]`),E.assign(Re,n._`${H}[${Fe}.keyword][${Fe}.params[${Je}]]`),E.if(Re,()=>E.code(n._`${Re}.push(${Fe})`).assign(n._`${Fe}.${c}`,!0))})),E.forIn("key",H,Fe=>E.forIn("keyProp",n._`${H}[${Fe}]`,Xe=>{E.assign(Re,n._`${H}[${Fe}][${Xe}]`),E.if(n._`${Re}.length`,()=>{const oe=E.const("tmpl",n._`${pe}[${Fe}] && ${pe}[${Fe}][${Xe}]`);o.reportError(x,{message:n._`${oe} ? ${oe}() : ${M}[${Fe}][${Xe}]`,params:n._`{errors: ${Re}}`})})}))}function re(me){const{props:H,items:J}=me;if(!H&&!J)return;const pe=n._`typeof ${A} == "object"`,Ae=n._`Array.isArray(${A})`,Je=E.let("emErrors");let Re,Fe;const Xe=E.let("templates");H&&J?(Re=E.let("emChildKwd"),E.if(pe),E.if(Ae,()=>{oe(J,I.items),E.assign(Re,n.str`items`)},()=>{oe(H,I.properties),E.assign(Re,n.str`properties`)}),Fe=n._`[${Re}]`):J?(E.if(Ae),oe(J,I.items),Fe=n._`.items`):H&&(E.if(r.and(pe,r.not(Ae))),oe(H,I.properties),Fe=n._`.properties`),E.forOf("err",s.default.vErrors,z=>de(z,Je,$=>E.code(n._`${Je}[${$}].push(${z})`).assign(n._`${z}.${c}`,!0))),E.forIn("key",Je,z=>E.if(n._`${Je}[${z}].length`,()=>{o.reportError(x,{message:n._`${z} in ${Xe} ? ${Xe}[${z}]() : ${M}${Fe}[${z}]`,params:n._`{errors: ${Je}[${z}]}`}),E.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${Q} + "/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),E.endIf();function oe(z,$){E.assign(Je,n.stringify(z)),E.assign(Xe,Ie(z,$))}}function ue(me){const H=E.const("emErrs",n._`[]`);E.forOf("err",s.default.vErrors,J=>E.if(fe(J),()=>E.code(n._`${H}.push(${J})`).assign(n._`${J}.${c}`,!0))),E.if(n._`${H}.length`,()=>o.reportError(x,{message:k(me),params:n._`{errors: ${H}}`}))}function ge(){const me=E.const("emErrs",n._`[]`);E.forOf("err",s.default.vErrors,H=>E.if(n._`!${H}.${c}`,()=>E.code(n._`${me}.push(${H})`))),E.assign(s.default.vErrors,me).assign(s.default.errors,n._`${me}.length`)}function _e(me,H){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath === ${Q}`,n._`${me}.keyword in ${H}`,n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${D.errSchemaPath.length}))`)}function de(me,H,J){E.if(r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath.indexOf(${Q}) === 0`),()=>{const pe=E.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Ae=E.const("emMatches",n._`${pe}.exec(${me}.instancePath.slice(${Q}.length))`),Je=E.const("emChild",n._`${Ae} && ${Ae}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);E.if(n._`${Je} !== undefined && ${Je} in ${H}`,()=>J(Je))})}function fe(me){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,r.or(n._`${me}.instancePath === ${Q}`,r.and(n._`${me}.instancePath.indexOf(${Q}) === 0`,n._`${me}.instancePath[${Q}.length] === "/"`)),n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${me}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Ie(me,H){const J=[];for(const pe in me){const Ae=H[pe];p.test(Ae)&&J.push([pe,ie(Ae)])}return E.object(...J)}function k(me){return p.test(me)?new i._Code(i.safeStringify(me).replace(m,(H,J)=>`" + JSON.stringify(${a.getData(J,D)}) + "`).replace(y,"")):n.stringify(me)}function ie(me){return n._`function(){return ${k(me)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const w=(S,x={})=>{if(!S.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(S.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return S.addKeyword(v(x))};e.default=w,t.exports=w,t.exports.default=w}(v_,v_.exports)),v_.exports}var eRe=XAe();const tRe=Dr(eRe);var nRe=function(t,e){return t.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),t.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),e){var a=n[i].types,o=a&&a[r.keyword];n[i]=Iz(i,e,n,r.keyword,o?[].concat(o,r.message||""):r.message)}return n},{})},rRe=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{var o=new YAe(Object.assign({},{allErrors:!0,validateSchema:!0},e));tRe(o);var s=o.compile(Object.assign({$async:n&&n.mode==="async"},t)),l=s(r);return a.shouldUseNativeValidation&&t7({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:VCe(nRe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(c){return Promise.reject(c)}}};const iRe={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"string",minLength:1}}},b5=({initialData:t,onSubmit:e,onCancel:n})=>{const{handleSubmit:r,register:i,control:a,formState:{errors:o}}=bu({defaultValues:Qc({location:{lat:0,long:0}},t),resolver:rRe(iRe)}),s=r(l=>{e(l)});return ne.jsxs("form",{onSubmit:s,onReset:n,className:Pr(co.accommodationForm,co.accommodation),"data-cy":"accommodation-form",children:[ne.jsxs("label",{children:["Hosting location (click ",ne.jsx(Afe,{})," or drag & zoom map)",ne.jsx("br",{}),ne.jsx(RD,{})," For safety, share only approximate location"," ",ne.jsx(RD,{})]}),ne.jsx(e1e,{control:a,name:"location",render:({field:l})=>ne.jsx("div",{className:Pr(o.location&&co.inputError),children:ne.jsx(NCe,{value:l.value,onChange:l.onChange,isInitial:!t})})}),o.location&&ne.jsx("div",{className:co.errorMessage,children:"Please move map to your hosting location"}),ne.jsx("label",{htmlFor:"description",children:"About your hosting"}),ne.jsx("textarea",{className:Pr(o.description&&co.inputError),id:"description",placeholder:"Tell others about your place and hosting",...i("description")}),o.description&&ne.jsx("div",{className:co.errorMessage,children:"This field is required"}),ne.jsxs("div",{className:co.actions,children:[ne.jsx(hr,{type:"reset",secondary:!0,children:"Cancel"}),ne.jsx(hr,{type:"submit",primary:!0,children:"Submit"})]})]})},aRe=({location:t})=>{const e=DP();return te.useEffect(()=>{e.flyTo(t)},[t,e]),null},oRe=t=>{const{tileServer:e}=Dn(),n=te.useMemo(()=>[t.location.lat,t.location.long],[t.location.lat,t.location.long]);return ne.jsxs(ne.Fragment,{children:[ne.jsxs(kP,{className:MA.mapContainer,attributionControl:!1,zoom:12,center:n,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[ne.jsx(FP,{url:e}),ne.jsx(NP,{position:n}),ne.jsx(aRe,{location:n})]}),ne.jsxs("div",{className:MA.description,children:[t.description," ",ne.jsx("a",{href:t.id,target:"_blank",rel:"noopener noreferrer",children:ne.jsx(rB,{})})]})]})},sRe=()=>{const t=Fo(iw),e=zo();return te.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const o=Sl(),s=a+o,l=`${s}#accommodation`;return await t.mutateAsync({uri:s,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[r.description],location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}}}),await e.mutateAsync({uri:i,patch:`
          _:mutate a <${Mn.InsertDeletePatch}>;
            <${Mn.inserts}> { <${n}> <${Il.offers}> <${l}>. }.
        `}),{uri:l}},[t,e])},uRe=()=>{const t=zo(),e=aw();return te.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await t.mutateAsync({uri:i,patch:`
          _:mutate a <${Mn.InsertDeletePatch}>;
            <${Mn.deletes}> { <${r}> <${Il.offers}> <${n}>. }.
        `}),await e.mutateAsync({uri:n})},[e,t])};var hC,S5;function lRe(){if(S5)return hC;S5=1;for(var t="0123456789bcdefghjkmnpqrstuvwxyz",e={},n=0;n<t.length;n++)e[t.charAt(n)]=n;var r="auto",i=-90,a=90,o=-180,s=180,l=[0,5,7,8,11,12,13,15,16,17,18],c=function(Y,B,Z){if(Z===r){if(typeof Y=="number"||typeof B=="number")throw new Error("string notation required for auto precision.");var ce=Y.split(".")[1].length,re=B.split(".")[1].length,ue=Math.max(ce,re);Z=l[ue]}else Z===void 0&&(Z=9);for(var ge=[],_e=0,de=0,fe=0,Ie=a,k=i,ie=s,me=o,H;ge.length<Z;)if(de%2===0?(H=(ie+me)/2,B>H?(fe=(fe<<1)+1,me=H):(fe=(fe<<1)+0,ie=H)):(H=(Ie+k)/2,Y>H?(fe=(fe<<1)+1,k=H):(fe=(fe<<1)+0,Ie=H)),_e++,de++,_e===5){var J=t[fe];ge.push(J),_e=0,fe=0}return ge.join("")},h=function(Y,B,Z){Z=Z||52;for(var ce=0,re=a,ue=i,ge=s,_e=o,de,fe=0;ce<Z;)fe*=2,ce%2===0?(de=(ge+_e)/2,B>de?(fe+=1,_e=de):ge=de):(de=(re+ue)/2,Y>de?(fe+=1,ue=de):re=de),ce++;return fe},p=function(Y){for(var B=!0,Z=a,ce=i,re=s,ue=o,ge,_e=0,de=0,fe=Y.length;de<fe;de++){var Ie=Y[de].toLowerCase();_e=e[Ie];for(var k=4;k>=0;k--){var ie=_e>>k&1;B?(ge=(re+ue)/2,ie===1?ue=ge:re=ge):(ge=(Z+ce)/2,ie===1?ce=ge:Z=ge),B=!B}}return[ce,ue,Z,re]},m=function(Y,B){B=B||52;for(var Z=a,ce=i,re=s,ue=o,ge=0,_e=0,de=B/2,fe=0;fe<de;fe++)_e=y(Y,(de-fe)*2-1),ge=y(Y,(de-fe)*2-2),ge===0?Z=(Z+ce)/2:ce=(Z+ce)/2,_e===0?re=(re+ue)/2:ue=(re+ue)/2;return[ce,ue,Z,re]};function y(Y,B){return Y/Math.pow(2,B)&1}var v=function(Y){var B=p(Y),Z=(B[0]+B[2])/2,ce=(B[1]+B[3])/2,re=B[2]-Z,ue=B[3]-ce;return{latitude:Z,longitude:ce,error:{latitude:re,longitude:ue}}},w=function(Y,B){var Z=m(Y,B),ce=(Z[0]+Z[2])/2,re=(Z[1]+Z[3])/2,ue=Z[2]-ce,ge=Z[3]-re;return{latitude:ce,longitude:re,error:{latitude:ue,longitude:ge}}},S=function(Y,B){var Z=v(Y),ce=Z.latitude+B[0]*Z.error.latitude*2,re=Z.longitude+B[1]*Z.error.longitude*2;return re=D(re),ce=F(ce),c(ce,re,Y.length)},x=function(Y,B,Z){Z=Z||52;var ce=w(Y,Z),re=ce.latitude+B[0]*ce.error.latitude*2,ue=ce.longitude+B[1]*ce.error.longitude*2;return ue=D(ue),re=F(re),h(re,ue,Z)},E=function(Y){var B=Y.length,Z=v(Y),ce=Z.latitude,re=Z.longitude,ue=Z.error.latitude*2,ge=Z.error.longitude*2,_e,de,fe=[Ie(1,0),Ie(1,1),Ie(0,1),Ie(-1,1),Ie(-1,0),Ie(-1,-1),Ie(0,-1),Ie(1,-1)];function Ie(k,ie){return _e=ce+k*ue,de=re+ie*ge,de=D(de),_e=F(_e),c(_e,de,B)}return fe},A=function(Y,B){B=B||52;var Z=w(Y,B),ce=Z.latitude,re=Z.longitude,ue=Z.error.latitude*2,ge=Z.error.longitude*2,_e,de,fe=[Ie(1,0),Ie(1,1),Ie(0,1),Ie(-1,1),Ie(-1,0),Ie(-1,-1),Ie(0,-1),Ie(1,-1)];function Ie(k,ie){return _e=ce+k*ue,de=re+ie*ge,de=D(de),_e=F(_e),h(_e,de,B)}return fe},I=function(Y,B,Z,ce,re){re=re||9;for(var ue=c(Y,B,re),ge=c(Z,ce,re),_e=v(ue),de=_e.error.latitude*2,fe=_e.error.longitude*2,Ie=p(ue),k=p(ge),ie=Math.round((k[0]-Ie[0])/de),me=Math.round((k[1]-Ie[1])/fe),H=[],J=0;J<=ie;J++)for(var pe=0;pe<=me;pe++)H.push(S(ue,[J,pe]));return H},M=function(Y,B,Z,ce,re){re=re||52;for(var ue=h(Y,B,re),ge=h(Z,ce,re),_e=w(ue,re),de=_e.error.latitude*2,fe=_e.error.longitude*2,Ie=m(ue,re),k=m(ge,re),ie=Math.round((k[0]-Ie[0])/de),me=Math.round((k[1]-Ie[1])/fe),H=[],J=0;J<=ie;J++)for(var pe=0;pe<=me;pe++)H.push(x(ue,[J,pe],re));return H};function D(Y){return Y>s?o+Y%s:Y<o?s+Y%s:Y}function F(Y){return Y>a?a:Y<i?i:Y}var Q={ENCODE_AUTO:r,encode:c,encode_uint64:h,encode_int:h,decode:v,decode_int:w,decode_uint64:w,decode_bbox:p,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:S,neighbor_int:x,neighbors:E,neighbors_int:A,bboxes:I,bboxes_int:M};return hC=Q,hC}var cRe=lRe();const hm=Dr(cRe),fRe=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Document",id:e}}),dRe=t=>async e=>{const n=await nr(new URL("/inbox",t),{method:"POST",body:JSON.stringify(fRe(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new ms("Geoindex responded with error",n);return{...e,status:n.status}},x5=(t="")=>{const e=[];for(let n=1;n<=t.length;n++)e.push(t.substring(0,n));return e},hRe=()=>{const{geoindexService:t}=Dn(),e=vi(),{mutateAsync:n}=Ea({mutationFn:dRe(t),onSuccess:async({previousLocation:a,currentLocation:o})=>{const s=[];if(a){const l=hm.encode(a.lat,a.long,10);s.push(...x5(l))}if(o){const l=hm.encode(o.lat,o.long,10);s.push(...x5(l))}await Promise.allSettled(s.map(l=>e.invalidateQueries({queryKey:["geoindex",l]})))}}),r=!!t,i=te.useCallback(async a=>await n(a),[n]);return te.useMemo(()=>[r,i],[r,i])},pRe=(t,e,n="en")=>{const{variables:r,quads:i,isLoading:a}=la({query:Aq,variables:te.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:nr});return te.useMemo(()=>{const o=Zn.createLdoDataset(i);return[(r.offer??[]).map(c=>o.usingType(iw).fromSubject(c)).filter(c=>{var h,p;return((h=c==null?void 0:c.location)==null?void 0:h.lat)!==void 0&&((p=c==null?void 0:c.location)==null?void 0:p.long)!==void 0}).map(c=>{var v,w;const h=c&&Zn.languagesOf(c,"description"),p=((v=h==null?void 0:h[n])==null?void 0:v.values().next().value)??"",m=[c.location.lat].flat()[0]??0,y=[c.location.long].flat()[0]??0;return{id:c["@id"]??"",description:p,location:{lat:m,long:y},offeredBy:((w=c.offeredBy)==null?void 0:w["@id"])??""}}),a]},[a,n,i,r.offer])},gRe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},mRe={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},yRe={schema:gRe,shape:"https://example.com/Accommodation",context:mRe},vRe=()=>{const t=of(yRe);return te.useCallback(async({data:{id:e,...n},language:r="en"})=>{await t.mutateAsync({uri:e,subject:e,language:r,transform:i=>{n.description&&(i.description=[n.description]),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[t])},_Re=()=>{const{communityId:t}=Dn(),e=li(),[n,r]=te.useState(),{personalHospexDocuments:i}=Q9(e.webId??"",t),[a]=pRe(e.webId??"",t),o=sRe(),s=vRe(),l=uRe(),[c,h]=hRe(),p=te.useCallback(async({uri:w,type:S,previousLocation:x,currentLocation:E})=>{c&&e.webId&&await ds(h({type:S,actor:e.webId,object:w,previousLocation:x,currentLocation:E}),{pending:"Notifying indexing service",success:{render:({data:A})=>{switch(A.status){case 201:return ne.jsx(ne.Fragment,{children:"Accommodation added to indexing service"});case 200:return ne.jsx(ne.Fragment,{children:"Accommodation updated in indexing service"});case 204:return ne.jsx(ne.Fragment,{children:"Accommodation removed from indexing service"});default:return ne.jsx(ne.Fragment,{children:"Unexpected status code from indexing service"})}}}})},[e.webId,c,h]);if(typeof e.webId!="string")return null;if(!a)return ne.jsx($o,{children:"Loading..."});const m=async w=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");const{uri:S}=await ds(o({personId:e.webId,data:w,hospexDocument:i[0],hospexContainer:yi(i[0])}),{pending:"Creating accommodation",success:"Accommodation created"});r(void 0),await p({type:"Create",uri:S,currentLocation:w.location})},y=async(w,S)=>{await ds(s({data:w}),{pending:"Updating accommodation",success:"Accommodation updated"}),r(void 0),await p({type:"Update",uri:w.id,currentLocation:w.location,previousLocation:S.location})},v=async({id:w,location:S})=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");globalThis.confirm("Do you really want to delete the accommodation?")&&(await ds(l({id:w,personId:e.webId,hospexDocument:i[0]}),{pending:"Deleting accommodation",success:"Accommodation deleted"}),await p({type:"Delete",uri:w,previousLocation:S}))};return ne.jsxs("div",{className:co.container,children:[ne.jsxs("h1",{className:co.header,children:[ne.jsx(nB,{size:32})," My Accommodation Offers"]}),ne.jsx("ul",{style:{display:"contents"},children:a.map(w=>n===w.id?ne.jsx(b5,{onSubmit:S=>y(S,w),onCancel:()=>{r(void 0)},initialData:w},w.id):ne.jsxs("li",{className:co.accommodation,"data-cy":"offer-accommodation-item",children:[ne.jsx(oRe,{...w}),ne.jsxs("div",{className:co.actions,children:[ne.jsx(hr,{secondary:!0,onClick:()=>{r(w.id)},children:"Edit"}),ne.jsx(hr,{danger:!0,onClick:()=>v(w),children:"Delete"})]})]},w.id))}),n==="new"?ne.jsx(b5,{onSubmit:m,onCancel:()=>r(void 0)}):ne.jsx(hr,{primary:!0,onClick:()=>r("new"),className:co.addAccommodationButton,children:"Add Accommodation"})]})},wRe=()=>ne.jsx(ne.Fragment,{children:"MyTravelPlans"}),bRe=()=>ne.jsx("div",{children:"404"}),SRe=t=>{const{data:e}=wR(t.src);return e?ne.jsx("img",{...t,src:e,alt:t.alt??"","data-src":t.src}):null},xRe="_container_16bhv_1",ERe="_name_16bhv_7",TRe="_about_16bhv_14",CRe="_photo_16bhv_17",__={container:xRe,name:ERe,about:TRe,photo:CRe},ARe=()=>{const{communityId:t}=Dn(),e=HA().id,n=li(),r=e&&n.webId?e===n.webId:void 0,[i]=jo(e,t),[a]=jo(n.webId,t);return ne.jsxs("div",{className:__.container,children:[ne.jsx(SRe,{className:__.photo,src:i.photo,alt:`Profile photo of ${i.name}`,"data-cy":"profile-photo"}),ne.jsxs("header",{className:__.name,"data-cy":"profile-name",children:[i.name," ",ne.jsx(Ufe,{href:e})]}),ne.jsx("section",{className:__.about,"data-cy":"profile-about",children:i.about}),r&&ne.jsxs(zc,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[ne.jsx(iB,{})," edit profile"]}),r===!1&&ne.jsx(zc,{secondary:!0,to:`/messages/${encodeURIComponent(e)}`,children:"Write a message"}),ne.jsx(zc,{tertiary:!0,to:"contacts",children:"contacts"}),r===!1&&ne.jsx(MSe,{webId:e}),ne.jsx("section",{children:i.interests?ne.jsx(Dme,{ids:i.interests,highlighted:r?[]:a.interests??[]}):ne.jsx($o,{children:"loading interests..."})})]})},RRe=()=>{const t=li();return t.webId?ne.jsx(KA,{to:encodeURIComponent(t.webId),replace:!0}):ne.jsx($o,{children:"authenticating"})},PRe="_bar_1x3gh_1",ORe="_animate_1x3gh_17",IRe="_progress_1x3gh_1",E5={bar:PRe,animate:ORe,progress:IRe},LRe=({animate:t=!1})=>ne.jsx("div",{className:Pr(E5.bar,t&&E5.animate)}),MRe=async({geohash:t,geoindex:e})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${t}"`)}`,e).toString(),r=await nr(n);if(!r.ok)throw new ms("geoindex returned invalid response",r);const i=await r.text(),o=new Zd({format:r.headers.get("content-type")??void 0}).parse(i),s=new gs(o);return s.getSubjects("https://example.com/ns#geohash",`"${t}"`,null).map(c=>{const h=s.getObjects(c,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),p=hm.decode(h);return{uri:c.value,geohash:h,location:p}})},DRe=(t,e)=>{const{geoindexService:n}=Dn(),[r,i]=te.useState(0),[a,o]=te.useState(0),s=!n||r>a,l=te.useMemo(()=>e?hm.bboxes(e.s,e.w,e.n,e.e,1):[],[e]),c=te.useMemo(()=>l.map(x=>({queryKey:["geoindex",x],queryFn:()=>MRe({geohash:x,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),h=Vg({queries:c,combine:x=>({isError:x.some(E=>E.isError),isPending:x.some(E=>E.isPending),isSuccess:x.every(E=>E.isSuccess),errors:x.filter(E=>E.error).map(E=>E.error),data:x.filter(E=>E.data).flatMap(E=>E.data)})});te.useEffect(()=>{h.isError&&i(Date.now())},[h.isError]),te.useEffect(()=>{h.isSuccess&&o(Date.now())},[h.isSuccess]);const p=te.useMemo(()=>s?{query:Spe,variables:{community:[t]},fetch:nr,store:new gs}:{query:[],variables:{},fetch:nr},[t,s]),{quads:m,isMissing:y}=la(p),v=te.useMemo(()=>[Zn.createLdoDataset(m).usingType(iw).matchObject(null,Il.offers).filter(A=>A.location).map(A=>{var I,M,D;return{id:A["@id"]??"",description:((I=A.description)==null?void 0:I[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((M=A.offeredBy)==null?void 0:M["@id"])??"",name:((D=A.offeredBy)==null?void 0:D.name)??""}}}),y],[y,m]),w=te.useMemo(()=>[h.data.map(({uri:x,location:E})=>({id:x,location:{lat:E.latitude,long:E.longitude},offeredBy:{id:"",name:""}})),h.isPending],[h.data,h.isPending]);return te.useMemo(()=>[cfe("id",w[0],v[0]),w[1]||v[1]],[w,v])};var Dg={exports:{}},kRe=Dg.exports,T5;function NRe(){return T5||(T5=1,function(t,e){(function(n,r){r(e)})(kRe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=a,s=this._zoom;if(a.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,o):this._animationAddLayerNonAnimated(a,o)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,o){if(!L.Util.isArray(a))return this.addLayer(a);var s=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,h=this.options.chunkInterval,p=this.options.chunkProgress,m=a.length,y=0,v=!0,w;if(this._map){var S=new Date().getTime(),x=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(c&&y%200===0){var I=new Date().getTime()-A;if(I>h)break}if(w=a[y],w instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(w,a),m=a.length;continue}if(!w.getLatLng){l.addLayer(w),o||this.fire("layeradd",{layer:w});continue}if(!this.hasLayer(w)&&(this._addLayer(w,this._maxZoom),o||this.fire("layeradd",{layer:w}),w.__parent&&w.__parent.getChildCount()===2)){var M=w.__parent.getAllChildMarkers(),D=M[0]===w?M[1]:M[0];s.removeLayer(D)}}p&&p(y,m,new Date().getTime()-S),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(x,this.options.chunkDelay)},this);x()}else for(var E=this._needsClustering;y<m;y++){if(w=a[y],w instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(w,a),m=a.length;continue}if(!w.getLatLng){l.addLayer(w);continue}this.hasLayer(w)||E.push(w)}return this},removeLayers:function(a){var o,s,l=a.length,c=this._featureGroup,h=this._nonPointGroup,p=!0;if(!this._map){for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}this._arraySplice(this._needsClustering,s),h.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=l;for(o=0;o<y;o++){if(s=m[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,m),y=m.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}if(!s.__parent){h.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),c.hasLayer(s)&&(c.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)a.extend(this._needsClustering[o].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,o){var s=this._needsClustering.slice(),l=this._needsRemoving,c,h,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),h=s.length-1;h>=0;h--){for(c=!0,p=l.length-1;p>=0;p--)if(l[p].layer===s[h]){c=!1;break}c&&a.call(o,s[h])}this._nonPointGroup.eachLayer(a,o)},getLayers:function(){var a=[];return this.eachLayer(function(o){a.push(o)}),a},getLayer:function(a){var o=null;return a=parseInt(a,10),this.eachLayer(function(s){L.stamp(s)===a&&(o=s)}),o},hasLayer:function(a){if(!a)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===a)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,o){var s=this._map;typeof o!="function"&&(o=function(){});var l=function(){(s.hasLayer(a)||s.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),s.hasLayer(a)?o():a.__parent._icon&&(this.once("spiderfied",o,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?o():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var o,s,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var o=a;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(a,o){for(var s=a.length-1;s>=0;s--)if(a[s]===o)return a.splice(s,1),!0},_removeFromGridUnclustered:function(a,o){for(var s=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());o>=c&&l[o].removeObject(a,s.project(a.getLatLng(),o));o--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var o=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),o&&a.target.openPopup()}},_moveChild:function(a,o,s){a._latlng=o,this.removeLayer(a),a._latlng=s,this.addLayer(a)},_childMarkerDragEnd:function(a){var o=a.target.__dragStart;delete a.target.__dragStart,o&&this._moveChild(a.target,o,a.target._latlng)},_removeLayer:function(a,o,s){var l=this._gridClusters,c=this._gridUnclustered,h=this._featureGroup,p=this._map,m=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,v=y._markers,w;for(this._arraySplice(v,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)o&&y._childCount<=1?(w=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,p.project(y._cLatLng,y._zoom)),c[y._zoom].addObject(w,p.project(w.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(w),w.__parent=y.__parent,y._icon&&(h.removeLayer(y),s||h.addLayer(w))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,o){for(;o;){if(a===o)return!0;o=o.parentNode}return!1},fire:function(a,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,o,s)},listens:function(a,o){return L.FeatureGroup.prototype.listens.call(this,a,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,o)},_defaultIconCreateFunction:function(a){var o=a.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(o||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var o=a.layer,s=o;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(a||s||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,l=s;typeof s!="function"&&(l=function(){return s}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var c=a;c>=o;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(a,o){var s=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),h,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);o>=c;o--){h=this._map.project(a.getLatLng(),o);var m=s[o].getNearObject(h);if(m){m._addChild(a),a.__parent=m;return}if(m=l[o].getNearObject(h),m){var y=m.__parent;y&&this._removeLayer(m,!1);var v=new this._markerCluster(this,o,m,a);s[o].addObject(v,this._map.project(v._cLatLng,o)),m.__parent=v,a.__parent=v;var w=v;for(p=o-1;p>y._zoom;p--)w=new this._markerCluster(this,p,w),s[p].addObject(w,this._map.project(m.getLatLng(),p));y._addChild(w),this._removeFromGridUnclustered(m,o);return}l[o].addObject(a,h)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var o=this._maxLat;return o!==void 0&&(a.getNorth()>=o&&(a._northEast.lat=1/0),a.getSouth()<=-o&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,o){if(o===a)this._featureGroup.addLayer(a);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(a,o){var s=a.getLayers(),l=0,c;for(o=o||[];l<s.length;l++){if(c=s[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,o);continue}o.push(c)}return o},_overrideMarkerIcon:function(a){var o=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,o){this._animationAddLayerNonAnimated(a,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,o){var s=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(s,a,c,function(p){var m=p._latlng,y=p._markers,v;for(s.contains(m)||(m=null),p._isSingleParent()&&a+1===o?(l.removeLayer(p),p._recursivelyAddChildrenToMap(null,o,s)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,o,s)),h=y.length-1;h>=0;h--)v=y[h],s.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),l.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(s,a,o,function(p){p._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,a,c,function(p){l.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,o){this._animationZoomOutSingle(this._topClusterLevel,a-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,o){var s=this,l=this._featureGroup;l.addLayer(a),o!==a&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(o.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,o,s){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,o+1,s);var h=this;this._forceLayout(),a._recursivelyBecomeVisible(l,s),this._enqueue(function(){if(a._childCount===1){var p=a._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else a._recursively(l,s,c,function(m){m._recursivelyRemoveChildrenFromMap(l,c,o+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,o,s,l){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),l&&this._addChild(l)},getAllChildMarkers:function(a,o){a=a||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(a,o);for(var l=this._markers.length-1;l>=0;l--)o&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var o=this._childClusters.slice(),s=this._group._map,l=s.getBoundsZoom(this._bounds),c=this._zoom+1,h=s.getZoom(),p;o.length>0&&l>c;){c++;var m=[];for(p=0;p<o.length;p++)m=m.concat(o[p]._childClusters);o=m}l>c?this._group._map.setView(this._latlng,c):l<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(o||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(o||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,o=this._childClusters,s=0,l=0,c=this._childCount,h,p,m,y;if(c!==0){for(this._resetBounds(),h=0;h<a.length;h++)m=a[h]._latlng,this._bounds.extend(m),s+=m.lat,l+=m.lng;for(h=0;h<o.length;h++)p=o[h],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),m=p._wLatLng,y=p._childCount,s+=m.lat*y,l+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,o,s){this._recursively(a,this._group._map.getMinZoom(),s-1,function(l){var c=l._markers,h,p;for(h=c.length-1;h>=0;h--)p=c[h],p._icon&&(p._setPos(o),p.clusterHide())},function(l){var c=l._childClusters,h,p;for(h=c.length-1;h>=0;h--)p=c[h],p._icon&&(p._setPos(o),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,o,s,l){this._recursively(a,l,o,function(c){c._recursivelyAnimateChildrenIn(a,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),s),c._isSingleParent()&&s-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(a,o,s)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(a,o){this._recursively(a,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(a,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(l){if(o!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var h=l._markers[c];s.contains(h._latlng)&&(a&&(h._backupLatlng=h.getLatLng(),h.setLatLng(a),h.clusterHide&&h.clusterHide()),l._group._featureGroup.addLayer(h))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,o,s,l){var c,h;this._recursively(a,o-1,s-1,function(p){for(h=p._markers.length-1;h>=0;h--)c=p._markers[h],(!l||!l.contains(c._latlng))&&(p._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(p){for(h=p._childClusters.length-1;h>=0;h--)c=p._childClusters[h],(!l||!l.contains(c._latlng))&&(p._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(a,o,s,l,c){var h=this._childClusters,p=this._zoom,m,y;if(o<=p&&(l&&l(this),c&&p===s&&c(this)),p<o||p<s)for(m=h.length-1;m>=0;m--)y=h[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,o,s,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,h=c[l]=c[l]||{},p=h[s]=h[s]||[],m=L.Util.stamp(a);this._objectPoint[m]=o,p.push(a)},updateObject:function(a,o){this.removeObject(a),this.addObject(a,o)},removeObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,h=c[l]=c[l]||{},p=h[s]=h[s]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=p.length;m<y;m++)if(p[m]===a)return p.splice(m,1),y===1&&delete h[s],!0},eachObject:function(a,o){var s,l,c,h,p,m,y,v=this._grid;for(s in v){p=v[s];for(l in p)for(m=p[l],c=0,h=m.length;c<h;c++)y=a.call(o,m[c]),y&&(c--,h--)}},getNearObject:function(a){var o=this._getCoord(a.x),s=this._getCoord(a.y),l,c,h,p,m,y,v,w,S=this._objectPoint,x=this._sqCellSize,E=null;for(l=s-1;l<=s+1;l++)if(p=this._grid[l],p){for(c=o-1;c<=o+1;c++)if(m=p[c],m)for(h=0,y=m.length;h<y;h++)v=m[h],w=this._sqDist(S[L.Util.stamp(v)],a),(w<x||w<=x&&E===null)&&(x=w,E=v)}return E},_getCoord:function(a){var o=Math.floor(a/this._cellSize);return isFinite(o)?o:a},_sqDist:function(a,o){var s=o.x-a.x,l=o.y-a.y;return s*s+l*l}},function(){L.QuickHull={getDistant:function(a,o){var s=o[1].lat-o[0].lat,l=o[0].lng-o[1].lng;return l*(a.lat-o[0].lat)+s*(a.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(a,o){var s=0,l=null,c=[],h,p,m;for(h=o.length-1;h>=0;h--){if(p=o[h],m=this.getDistant(p,a),m>0)c.push(p);else continue;m>s&&(s=m,l=p)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(a,o){var s=[],l=this.findMostDistantPointFromBaseLine(a,o);return l.maxPoint?(s=s.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),s=s.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),s):[a[0]]},getConvexHull:function(a){var o=!1,s=!1,l=!1,c=!1,h=null,p=null,m=null,y=null,v=null,w=null,S;for(S=a.length-1;S>=0;S--){var x=a[S];(o===!1||x.lat>o)&&(h=x,o=x.lat),(s===!1||x.lat<s)&&(p=x,s=x.lat),(l===!1||x.lng>l)&&(m=x,l=x.lng),(c===!1||x.lng<c)&&(y=x,c=x.lng)}s!==o?(w=p,v=h):(w=y,v=m);var E=[].concat(this.buildConvexHull([w,v],a),this.buildConvexHull([v,w],a));return E}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),o=[],s,l;for(l=a.length-1;l>=0;l--)s=a[l].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,l=s.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(a.length,l):(l.y+=10,c=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,c)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=s/this._2PI,c=this._2PI/a,h=[],p,m;for(l=Math.max(l,35),h.length=a,p=0;p<a;p++)m=this._circleStartAngle+p*c,h[p]=new L.Point(o.x+l*Math.cos(m),o.y+l*Math.sin(m))._round();return h},_generatePointsSpiral:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier,l=s*this._spiralLengthStart,c=s*this._spiralFootSeparation,h=s*this._spiralLengthFactor*this._2PI,p=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(o.x+l*Math.cos(p),o.y+l*Math.sin(p))._round()),p+=c/l+y*5e-4,l+=h/p;return m},_noanimationUnspiderfy:function(){var a=this._group,o=a._map,s=a._featureGroup,l=this.getAllChildMarkers(null,!0),c,h;for(a._ignoreMove=!0,this.setOpacity(1),h=l.length-1;h>=0;h--)c=l[h],s.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(o.removeLayer(c._spiderLeg),delete c._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,o){var s=this._group,l=s._map,c=s._featureGroup,h=this._group.options.spiderLegPolylineOptions,p,m,y,v;for(s._ignoreMove=!0,p=0;p<a.length;p++)v=l.layerPointToLatLng(o[p]),m=a[p],y=new L.Polyline([this._latlng,v],h),l.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(v),m.setZIndexOffset&&m.setZIndexOffset(1e6),c.addLayer(m);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,o){var s=this,l=this._group,c=l._map,h=l._featureGroup,p=this._latlng,m=c.latLngToLayerPoint(p),y=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),w=v.opacity,S,x,E,A,I,M;for(w===void 0&&(w=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=w,l._ignoreMove=!0,S=0;S<a.length;S++)x=a[S],M=c.layerPointToLatLng(o[S]),E=new L.Polyline([p,M],v),c.addLayer(E),x._spiderLeg=E,y&&(A=E._path,I=A.getTotalLength()+.1,A.style.strokeDasharray=I,A.style.strokeDashoffset=I),x.setZIndexOffset&&x.setZIndexOffset(1e6),x.clusterHide&&x.clusterHide(),h.addLayer(x),x._setPos&&x._setPos(m);for(l._forceLayout(),l._animationStart(),S=a.length-1;S>=0;S--)M=c.layerPointToLatLng(o[S]),x=a[S],x._preSpiderfyLatlng=x._latlng,x.setLatLng(M),x.clusterShow&&x.clusterShow(),y&&(E=x._spiderLeg,A=E._path,A.style.strokeDashoffset=0,E.setStyle({opacity:w}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:s,markers:a})},200)},_animationUnspiderfy:function(a){var o=this,s=this._group,l=s._map,c=s._featureGroup,h=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,v,w,S,x,E;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),v=p.length-1;v>=0;v--)y=p[v],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,E=!0,y._setPos&&(y._setPos(h),E=!1),y.clusterHide&&(y.clusterHide(),E=!1),E&&c.removeLayer(y),m&&(w=y._spiderLeg,S=w._path,x=S.getTotalLength()+.1,S.style.strokeDashoffset=x,w.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var A=0;for(v=p.length-1;v>=0;v--)y=p[v],y._spiderLeg&&A++;for(v=p.length-1;v>=0;v--)y=p[v],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&c.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var o,s;for(o in a)for(s=a[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(a){var o,s;for(o in a)s=a[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(a,o){var s=this.options.icon;return L.setOptions(s,a),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(Dg,Dg.exports)),Dg.exports}NRe();function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}var FRe=["children"];function C5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(n),!0).forEach(function(r){jRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jRe(t,e,n){return(e=$Re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Re(t){var e=URe(t,"string");return pm(e)=="symbol"?e:e+""}function URe(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R5(t,e){return HRe(t)||zRe(t,e)||qRe(t,e)||BRe()}function BRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(t,e){if(t){if(typeof t=="string")return P5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P5(t,e):void 0}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function HRe(t){if(Array.isArray(t))return t}function VRe(t,e){if(t==null)return{};var n,r,i=KRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}aR.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(e){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(e)}});aR.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function GRe(t,e){t.children;var n=VRe(t,FRe),r={},i={};Object.entries(n).forEach(function(o){var s=R5(o,2),l=s[0],c=s[1];return l.startsWith("on")?i[l]=c:r[l]=c});var a=new aR.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var s=R5(o,2),l=s[0],c=s[1],h="cluster".concat(l.substring(2).toLowerCase());a.on(h,c)}),{instance:a,context:A5(A5({},e),{},{layerContainer:a})}}var WRe=OCe(GRe);const QRe=({accommodationId:t})=>{var c;const{communityId:e}=Dn(),{quads:n,variables:r,isLoading:i}=la(te.useMemo(()=>({query:xpe,variables:{offer:[t]},fetch:nr}),[t])),[a,,,,o]=jo(((c=r.person)==null?void 0:c[0])??"",e),s=te.useMemo(()=>Zn.createLdoDataset(n).usingType(iw).fromSubject(t),[t,n]),l=te.useMemo(()=>{var y,v,w;if(!s)return;const h=(y=s==null?void 0:s.location)==null?void 0:y.lat,p=(v=s==null?void 0:s.location)==null?void 0:v.long;return{id:s["@id"]??"",description:((w=s.description)==null?void 0:w[0])??"",location:{lat:h,long:p},offeredBy:a??o??{}}},[o,s,a]);return te.useMemo(()=>[l,{isLoading:i}],[l,i])},ZRe="_container_5yist_1",JRe="_person_5yist_6",YRe="_name_5yist_11",XRe="_accommodation_5yist_14",w_={container:ZRe,person:JRe,name:YRe,accommodation:XRe},ePe=({accommodationId:t})=>{const{webId:e}=li(),[n]=QRe({accommodationId:t}),r=e&&(n==null?void 0:n.offeredBy)&&e!==n.offeredBy.id;return ne.jsxs("div",{className:w_.container,children:[n?ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{className:w_.person,children:ne.jsxs(Oo,{to:`/profile/${encodeURIComponent(n.offeredBy.id)}`,style:{display:"contents"},children:[ne.jsx(U0,{...n.offeredBy,size:1.5,square:!0}),ne.jsx("span",{className:w_.name,"data-cy":"accommodation-info-name",children:n.offeredBy.name})]})}),ne.jsx("div",{className:w_.accommodation,"data-cy":"accommodation-info-description",children:n.description})]}):"loading...",r?ne.jsx(zc,{primary:!0,to:`/messages/${encodeURIComponent(n.offeredBy.id)}`,children:"Write a message"}):null]})},tPe="_container_19njf_1",nPe="_offerOverlay_19njf_18",rPe="_closeButton_19njf_28",iPe="_mapContainer_19njf_34",b_={container:tPe,offerOverlay:nPe,closeButton:rPe,mapContainer:iPe},aPe=()=>{const{communityId:t,tileServer:e}=Dn(),[n,r]=YG(),i=n.get("hosting"),[a,o]=te.useState(),[s,l]=DRe(t,a),c=p=>{r({hosting:p})},h=te.useCallback((p,m)=>o(y=>PB(y,m)?y:m),[]);return ne.jsxs(ne.Fragment,{children:[l&&ne.jsx(LRe,{}),ne.jsxs("div",{className:b_.container,children:[i&&ne.jsxs("div",{className:b_.offerOverlay,children:[ne.jsx("button",{onClick:()=>{r({})},className:b_.closeButton,"aria-label":"Close hosting preview",children:ne.jsx(bR,{})}),ne.jsx(ePe,{accommodationId:i})]}),ne.jsxs(kP,{className:b_.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[ne.jsx(FP,{url:e}),ne.jsx(XH,{strings:{title:"My location"},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),ne.jsx(WRe,{maxClusterRadius:20,children:s?s.map(p=>{var m,y;return ne.jsx(NP,{position:[p.location.lat,p.location.long],eventHandlers:{click:()=>{c(p.id)}},icon:p.id===i?jQ:$Q("geohash-"+hm.encode(p.location.lat,p.location.long,10)),alt:`Accommodation offer from ${((m=p.offeredBy)==null?void 0:m.name)||((y=p.offeredBy)==null?void 0:y.id)}`},p.id)}):null}),ne.jsx(e7,{onUpdate:h})]})]})]})},oPe=({webId:t,className:e})=>{const{communityId:n}=Dn(),[r]=jo(t,n);return ne.jsx(U0,{photo:r.photo,square:!0,size:1.25,className:e})},sPe="_threadList_1lsy0_1",uPe="_thread_1lsy0_1",lPe="_unread_1lsy0_14",cPe="_content_1lsy0_14",fPe="_avatar_1lsy0_17",id={threadList:sPe,thread:uPe,unread:lPe,content:cPe,avatar:fPe},dPe=()=>{const t=li(),{data:e}=Oge(t.webId??"");return e?ne.jsxs("div",{children:[ne.jsx("h1",{children:"Conversations"}),ne.jsx("ul",{className:id.threadList,children:e.map(n=>{const r=n.participants.find(i=>i!==t.webId);return ne.jsx("li",{"data-cy":"thread-list-item",children:ne.jsx(Oo,{to:`/messages/${encodeURIComponent(r??"")}`,children:ne.jsx(hPe,{thread:n})})},n.id)})})]}):ne.jsx($o,{children:"Loading..."})},hPe=({thread:t})=>{const{communityId:e}=Dn(),n=li(),r=t.participants.find(o=>o!==n.webId),[i]=jo(r??"",e),a=t.messages[t.messages.length-1];return ne.jsxs("div",{className:Pr(id.thread,t.status&&id.unread),"data-cy":t.status&&"thread-unread",children:[ne.jsx(oPe,{webId:r??"",className:id.avatar}),ne.jsxs("div",{children:[ne.jsx("div",{className:id.name,title:i.id,children:i.name}),ne.jsx("div",{className:id.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},pPe=()=>ne.jsx(UH,{tabs:[],children:ne.jsx(R0,{})}),gPe=()=>ne.jsx(KA,{to:"search",replace:!0}),mPe=KG([{path:"/",element:ne.jsx(sye,{}),children:[{path:"/",element:ne.jsx(SSe,{}),children:[{index:!0,element:ne.jsx(j2e,{})},{path:"profile",children:[{index:!0,element:ne.jsx(RRe,{})},{path:"edit",element:ne.jsx(D2e,{})},{path:":id",element:ne.jsx(ARe,{})},{path:":id/contacts",element:ne.jsx(NSe,{})}]},{path:"messages",children:[{index:!0,element:ne.jsx(dPe,{})},{path:":id",element:ne.jsx(mCe,{})}]},{path:"host",element:ne.jsx(U2e,{}),children:[{index:!0,element:ne.jsx(B2e,{})},{path:"offers",element:ne.jsx(_Re,{})},{path:"invite",element:ne.jsx(q2e,{})},{path:"guests",element:ne.jsx(yCe,{})}]},{path:"travel",element:ne.jsx(pPe,{}),children:[{index:!0,element:ne.jsx(gPe,{})},{path:"search",element:ne.jsx(aPe,{})},{path:"plans",element:ne.jsx(wRe,{})},{path:"hosts",element:ne.jsx(vCe,{})}]}]},{path:"about",element:ne.jsx(_we,{})},{path:"*",element:ne.jsx(bRe,{})}]}]),yPe=new qV({defaultOptions:{queries:{retry:1}}}),vPe=iK.createRoot(document.getElementById("root"));vPe.render(ne.jsx(Ut.StrictMode,{children:ne.jsx(_K,{store:zU,children:ne.jsx(RU,{loading:null,persistor:OQ,children:ne.jsx(QV,{client:yPe,children:ne.jsx(FG,{router:mPe})})})})}));
